{
    "author": "AleksanderBodurri",
    "message": "refactor(devtools): bring the angular devtools directory into the root bazel workspace\n\nPreviously devtools used a nested workspace for its bazel configurations. This meant framework dependencies were consumed via npm.\n\nNow devtools is part of the root bazel directory that all other files in this codebase fall under. This allows us to build devtools using local angular packages, removing the need to consume these dependencies with npn. This is useful because we no longer have to update these dependencies with an automated tool like renovate, and our CI tests will always run against the most up to date framework packages.",
    "sha": "445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
    "files": [
        {
            "sha": "99de13a1b743c4908b9aac8e5ebbd30526b05424",
            "filename": ".bazelignore",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.bazelignore?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -8,7 +8,6 @@ dist\n aio/content\n aio/node_modules\n aio/tools/examples/shared/node_modules\n-devtools/node_modules\n packages/bazel/node_modules\n \n # All integration test node_modules folders"
        },
        {
            "sha": "80998dff643fed4152ceb3dfbdcc623e5116e556",
            "filename": ".circleci/config.yml",
            "status": "modified",
            "additions": 5,
            "deletions": 7,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/.circleci%2Fconfig.yml",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/.circleci%2Fconfig.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.circleci%2Fconfig.yml?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -277,6 +277,7 @@ jobs:\n           paths:\n             - ./ng\n             - ./bazel_repository_cache\n+            - .cache/Cypress\n \n   lint:\n     executor: default-executor\n@@ -312,7 +313,7 @@ jobs:\n           # We need to explicitly specify the --symlink_prefix option because otherwise we would\n           # not be able to easily find the output bin directory when uploading artifacts for size\n           # measurements.\n-          command: yarn test --symlink_prefix=dist/ -- //...\n+          command: yarn test:ci\n           no_output_timeout: 20m\n         # Publish bundle artifacts which will be used to calculate the size change. **Note**: Make\n         # sure that the size plugin from the Angular robot fetches the artifacts from this CircleCI\n@@ -738,18 +739,15 @@ jobs:\n     steps:\n       - custom_attach_workspace\n       - init_environment\n-      - run:\n-          name: Install DevTools dependencies\n-          command: yarn --cwd devtools install --frozen-lockfile --non-interactive --cache-folder ~/.cache/yarn\n       - run:\n           name: Run unit tests\n-          command: yarn --cwd devtools test:ci\n+          command: yarn devtools:test\n       - run:\n           name: Test production build\n-          command: yarn --cwd devtools build:chrome:ci\n+          command: yarn devtools:build:chrome\n       - run:\n           name: Run e2e tests\n-          command: yarn --cwd devtools cy:ci\n+          command: yarn devtools:e2e\n \n workflows:\n   version: 2"
        },
        {
            "sha": "139c7d0559d9f609057412c9c16d9ab87dd436b0",
            "filename": "WORKSPACE",
            "status": "modified",
            "additions": 13,
            "deletions": 3,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/WORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/WORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/WORKSPACE?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -79,7 +79,17 @@ cldr_data_repository(\n     },\n )\n \n-local_repository(\n-    name = \"devtools\",\n-    path = \"devtools\",\n+# sass rules\n+http_archive(\n+    name = \"io_bazel_rules_sass\",\n+    sha256 = \"435efe759f1c8baffadc320ecc1830454da181fa790aa83bb4326f07e903a0f4\",\n+    strip_prefix = \"rules_sass-1.41.0\",\n+    urls = [\n+        \"https://github.com/bazelbuild/rules_sass/archive/1.41.0.zip\",\n+    ],\n )\n+\n+# Setup the rules_sass toolchain\n+load(\"@io_bazel_rules_sass//sass:sass_repositories.bzl\", \"sass_repositories\")\n+\n+sass_repositories()"
        },
        {
            "sha": "25ad38ec1cc808004eb0871bc76b1c120029091a",
            "filename": "devtools/.bazelignore",
            "status": "removed",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelignore?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,16 +0,0 @@\n-# NB: sematics here are not the same as .gitignore\n-# see https://github.com/bazelbuild/bazel/issues/8106\n-.git\n-bazel-out\n-\n-# **/symlinked_node_modules_yarn\n-node_modules\n-e2e/symlinked_node_modules_yarn/node_modules\n-e2e/symlinked_node_modules_npm/node_modules\n-packages/angular/node_modules\n-examples/angular/node_modules\n-examples/user_managed_deps/node_modules\n-\n-# **/dist\n-dist\n-examples/user_managed_deps/dist"
        },
        {
            "sha": "224b57d82af7bee04d8f77c286fa8188367ed440",
            "filename": "devtools/.bazelrc",
            "status": "removed",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelrc",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelrc?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,6 +0,0 @@\n-import ../.bazelrc\n-\n-build --flag_alias=partial_compilation=@npm//@angular/bazel/src:partial_compilation\n-\n-build --workspace_status_command=\"yarn -s ng-dev release build-env-stamp --mode=snapshot\"\n-build --stamp\n\\ No newline at end of file"
        },
        {
            "sha": "0c89fc927e327c0a9913d8300a205efbd30cedbf",
            "filename": "devtools/.bazelversion",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelversion",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.bazelversion",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.bazelversion?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1 +0,0 @@\n-4.0.0\n\\ No newline at end of file"
        },
        {
            "sha": "80848532e47d58cc7a4b618f600b438960f9f045",
            "filename": "devtools/.browserslistrc",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.browserslistrc",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.browserslistrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.browserslistrc?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,12 +0,0 @@\n-# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n-# For additional information regarding the format and rule options, please see:\n-# https://github.com/browserslist/browserslist#queries\n-\n-# You can see what browsers were selected by your queries by running:\n-#   npx browserslist\n-\n-> 0.5%\n-last 2 versions\n-Firefox ESR\n-not dead\n-not IE 9-11 # For IE 9-11 support, remove 'not'.\n\\ No newline at end of file"
        },
        {
            "sha": "5fca0d518be7e27c35b6584d2f88b3f11ac4b6ca",
            "filename": "devtools/.npmrc",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.npmrc",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2F.npmrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2F.npmrc?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1 +0,0 @@\n-scripts-prepend-node-path=true"
        },
        {
            "sha": "dbe750bad6faf935b43da50b5296d08c3289294d",
            "filename": "devtools/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -11,6 +11,6 @@ ts_config(\n     name = \"tsconfig_spec\",\n     src = \"tsconfig.spec.json\",\n     deps = [\n-        \"//:tsconfig.json\",\n+        \"//devtools:tsconfig.json\",\n     ],\n )"
        },
        {
            "sha": "f0f3774847c731e41d42f98aa405884bf081a102",
            "filename": "devtools/CODE_OF_CONDUCT.md",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2FCODE_OF_CONDUCT.md",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2FCODE_OF_CONDUCT.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FCODE_OF_CONDUCT.md?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,12 +0,0 @@\n-# Contributor Code of Conduct\n-## Version 0.3b-angular\n-\n-As contributors and maintainers of the Angular DevTools project, we pledge to respect everyone who contributes by posting issues, updating documentation, submitting pull requests, providing feedback in comments, and any other activities.\n-\n-Communication through any of Angular's channels (GitHub, Gitter, IRC, mailing lists, Google+, Twitter, etc.) must be constructive and never resort to personal attacks, trolling, public or private harassment, insults, or other unprofessional conduct.\n-\n-We promise to extend courtesy and respect to everyone involved in this project regardless of gender, gender identity, sexual orientation, disability, age, race, ethnicity, religion, or level of experience. We expect anyone contributing to the Angular DevTools project to do the same.\n-\n-If any member of the community violates this code of conduct, the maintainers of the Angular DevTools project may take action, removing issues, comments, and PRs or blocking accounts as deemed appropriate.\n-\n-If you are subject to or witness unacceptable behavior, or have any other concerns, please email us at [conduct@angular.io](mailto:conduct@angular.io)."
        },
        {
            "sha": "3e8880536ccc6dca0894692ca46d3b942e77bbad",
            "filename": "devtools/LICENSE",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2FLICENSE",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2FLICENSE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FLICENSE?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,6 +1,6 @@\n-The MIT License (MIT)\n+The MIT License\n \n-Copyright (c) 2020 Rangle.io\n+Copyright (c) 2010-2022 Google LLC. https://angular.io/license\n \n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n@@ -9,14 +9,13 @@ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n \n-The above copyright notice and this permission notice shall be included in all\n-copies or substantial portions of the Software.\n+The above copyright notice and this permission notice shall be included in\n+all copies or substantial portions of the Software.\n \n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n-SOFTWARE.\n-\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+THE SOFTWARE."
        },
        {
            "sha": "3d54d64b42f2eb420c45d164aefd5188d39f3cd0",
            "filename": "devtools/WORKSPACE",
            "status": "removed",
            "additions": 0,
            "deletions": 104,
            "changes": 104,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2FWORKSPACE",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2FWORKSPACE",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2FWORKSPACE?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,104 +0,0 @@\n-# The WORKSPACE file tells Bazel that this directory is a \"workspace\", which is like a project root.\n-# The content of this file specifies all the external dependencies Bazel needs to perform a build.\n-\n-####################################\n-# ESModule imports (and TypeScript imports) can be absolute starting with the workspace name.\n-# The name of the workspace should match the npm package where we publish, so that these\n-# imports also make sense when referencing the published package.\n-workspace(\n-    name = \"angular_devtools\",\n-    managed_directories = {\"@npm\": [\"node_modules\"]},\n-)\n-\n-# These rules are built-into Bazel but we need to load them first to download more rules\n-load(\"@bazel_tools//tools/build_defs/repo:http.bzl\", \"http_archive\")\n-\n-http_archive(\n-    name = \"bazel_skylib\",\n-    sha256 = \"1c531376ac7e5a180e0237938a2536de0c54d93f5c278634818e0efc952dd56c\",\n-    urls = [\n-        \"https://github.com/bazelbuild/bazel-skylib/releases/download/1.0.3/bazel-skylib-1.0.3.tar.gz\",\n-        \"https://mirror.bazel.build/github.com/bazelbuild/bazel-skylib/releases/download/1.0.3/bazel-skylib-1.0.3.tar.gz\",\n-    ],\n-)\n-\n-load(\"@bazel_skylib//:workspace.bzl\", \"bazel_skylib_workspace\")\n-\n-bazel_skylib_workspace()\n-\n-# Fetch rules_nodejs so we can install our npm dependencies\n-http_archive(\n-    name = \"build_bazel_rules_nodejs\",\n-    sha256 = \"3635797a96c7bfcd0d265dacd722a07335e64d6ded9834af8d3f1b7ba5a25bba\",\n-    urls = [\"https://github.com/bazelbuild/rules_nodejs/releases/download/4.3.0/rules_nodejs-4.3.0.tar.gz\"],\n-)\n-\n-load(\"@build_bazel_rules_nodejs//:index.bzl\", \"node_repositories\", \"yarn_install\")\n-\n-# Setup the Node.js toolchain\n-node_repositories(\n-    node_version = \"14.16.1\",\n-    package_json = [\"//:package.json\"],\n-)\n-\n-# sass rules\n-http_archive(\n-    name = \"io_bazel_rules_sass\",\n-    sha256 = \"435efe759f1c8baffadc320ecc1830454da181fa790aa83bb4326f07e903a0f4\",\n-    strip_prefix = \"rules_sass-1.41.0\",\n-    urls = [\n-        \"https://github.com/bazelbuild/rules_sass/archive/1.41.0.zip\",\n-    ],\n-)\n-\n-# Setup the Node.js toolchain & install our npm dependencies into @npm\n-yarn_install(\n-    name = \"npm\",\n-    package_json = \"//:package.json\",\n-    yarn_lock = \"//:yarn.lock\",\n-)\n-\n-# Load karma_web_test dependencies\n-http_archive(\n-    name = \"io_bazel_rules_webtesting\",\n-    sha256 = \"9bb461d5ef08e850025480bab185fd269242d4e533bca75bfb748001ceb343c3\",\n-    urls = [\"https://github.com/bazelbuild/rules_webtesting/releases/download/0.3.3/rules_webtesting.tar.gz\"],\n-)\n-\n-# Setup the rules_webtesting toolchain\n-load(\"@io_bazel_rules_webtesting//web:repositories.bzl\", \"web_test_repositories\")\n-\n-web_test_repositories()\n-\n-load(\"@io_bazel_rules_webtesting//web/versioned:browsers-0.3.2.bzl\", \"browser_repositories\")\n-\n-browser_repositories(\n-    chromium = True,\n-    firefox = True,\n-)\n-\n-# Setup the rules_sass toolchain\n-load(\"@io_bazel_rules_sass//sass:sass_repositories.bzl\", \"sass_repositories\")\n-\n-sass_repositories()\n-\n-# Setup esbuild repositories\n-load(\"@build_bazel_rules_nodejs//toolchains/esbuild:esbuild_repositories.bzl\", \"esbuild_repositories\")\n-\n-esbuild_repositories()\n-\n-# Setup repositories for browsers provided by the shared dev-infra package.\n-load(\n-    \"@npm//@angular/dev-infra-private/bazel/browsers:browser_repositories.bzl\",\n-    _dev_infra_browser_repositories = \"browser_repositories\",\n-)\n-\n-_dev_infra_browser_repositories()\n-\n-load(\"@build_bazel_rules_nodejs//toolchains/cypress:cypress_repositories.bzl\", \"cypress_repositories\")\n-\n-# The name you pass here names the external repository you can load cypress_web_test from\n-cypress_repositories(\n-    name = \"cypress\",\n-    version = \"8.7.0\",\n-)"
        },
        {
            "sha": "e3c12300b25de70b92db96caa77c4b23ea96a9f9",
            "filename": "devtools/angular.json",
            "status": "removed",
            "additions": 0,
            "deletions": 509,
            "changes": 509,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fangular.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fangular.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fangular.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,509 +0,0 @@\n-{\n-  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n-  \"version\": 1,\n-  \"newProjectRoot\": \"projects\",\n-  \"projects\": {\n-    \"shell-dev\": {\n-      \"projectType\": \"application\",\n-      \"schematics\": {\n-        \"@schematics/angular:component\": {\n-          \"style\": \"scss\"\n-        }\n-      },\n-      \"root\": \"\",\n-      \"sourceRoot\": \"src\",\n-      \"prefix\": \"app\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"ngx-build-plus:browser\",\n-          \"options\": {\n-            \"outputPath\": \"dist/shell-dev\",\n-            \"index\": \"src/_index.html\",\n-            \"main\": \"src/main.ts\",\n-            \"polyfills\": \"src/polyfills.ts\",\n-            \"tsConfig\": \"tsconfig.app.json\",\n-            \"vendorChunk\": false,\n-            \"aot\": true,\n-            \"assets\": [\"src/assets\"],\n-            \"styles\": [\"src/styles.scss\"],\n-            \"stylePreprocessorOptions\": {\n-              \"includePaths\": [\"node_modules\"]\n-            },\n-            \"scripts\": []\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"fileReplacements\": [\n-                {\n-                  \"replace\": \"src/environments/environment.ts\",\n-                  \"with\": \"src/environments/environment.prod.ts\"\n-                }\n-              ],\n-              \"optimization\": {\n-                \"scripts\": true,\n-                \"styles\": {\n-                  \"minify\": true,\n-                  \"inlineCritical\": false\n-                },\n-                \"fonts\": {\n-                  \"inline\": false\n-                }\n-              },\n-              \"outputHashing\": \"all\",\n-              \"sourceMap\": false,\n-              \"extractCss\": true,\n-              \"namedChunks\": false,\n-              \"extractLicenses\": true,\n-              \"buildOptimizer\": true,\n-              \"budgets\": [\n-                {\n-                  \"type\": \"initial\",\n-                  \"maximumWarning\": \"2mb\",\n-                  \"maximumError\": \"5mb\"\n-                },\n-                {\n-                  \"type\": \"anyComponentStyle\",\n-                  \"maximumWarning\": \"6kb\",\n-                  \"maximumError\": \"10kb\"\n-                }\n-              ]\n-            },\n-            \"e2e\": {\n-              \"fileReplacements\": [\n-                {\n-                  \"replace\": \"src/environments/environment.ts\",\n-                  \"with\": \"src/environments/environment.e2e.ts\"\n-                }\n-              ]\n-            }\n-          }\n-        },\n-        \"serve\": {\n-          \"builder\": \"ngx-build-plus:dev-server\",\n-          \"options\": {\n-            \"browserTarget\": \"shell-dev:build\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"browserTarget\": \"shell-dev:build:production\"\n-            },\n-            \"e2e\": {\n-              \"browserTarget\": \"shell-dev:build:e2e\"\n-            }\n-          }\n-        },\n-        \"extract-i18n\": {\n-          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n-          \"options\": {\n-            \"browserTarget\": \"shell-dev:build\"\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"src/test.ts\",\n-            \"polyfills\": \"src/polyfills.ts\",\n-            \"tsConfig\": \"tsconfig.spec.json\",\n-            \"karmaConfig\": \"karma.conf.js\",\n-            \"assets\": [\"src/assets\"],\n-            \"styles\": [\"src/styles.scss\"],\n-            \"stylePreprocessorOptions\": {\n-              \"includePaths\": [\"node_modules\"]\n-            },\n-            \"scripts\": []\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\"tsconfig.app.json\", \"tsconfig.spec.json\", \"e2e/tsconfig.json\"],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        },\n-        \"e2e\": {\n-          \"builder\": \"@angular-devkit/build-angular:protractor\",\n-          \"options\": {\n-            \"protractorConfig\": \"e2e/protractor.conf.js\",\n-            \"devServerTarget\": \"shell-dev:serve\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"devServerTarget\": \"shell-dev:serve:production\"\n-            }\n-          }\n-        }\n-      }\n-    },\n-    \"shell-chrome\": {\n-      \"projectType\": \"application\",\n-      \"schematics\": {\n-        \"@schematics/angular:component\": {\n-          \"style\": \"scss\"\n-        }\n-      },\n-      \"root\": \"projects/shell-chrome\",\n-      \"sourceRoot\": \"projects/shell-chrome/src\",\n-      \"prefix\": \"app\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"ngx-build-plus:browser\",\n-          \"options\": {\n-            \"outputPath\": \"dist/shell-chrome\",\n-            \"index\": \"projects/shell-chrome/src/index.html\",\n-            \"main\": \"projects/shell-chrome/src/main.ts\",\n-            \"polyfills\": \"projects/shell-chrome/src/polyfills.ts\",\n-            \"tsConfig\": \"projects/shell-chrome/tsconfig.app.json\",\n-            \"vendorChunk\": false,\n-            \"aot\": true,\n-            \"assets\": [\n-              \"projects/shell-chrome/src/assets\",\n-              \"projects/shell-chrome/src/manifest.json\",\n-              \"projects/shell-chrome/src/devtools.html\",\n-              \"projects/shell-chrome/src/popups\"\n-            ],\n-            \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n-            \"stylePreprocessorOptions\": {\n-              \"includePaths\": [\"node_modules\"]\n-            },\n-            \"scripts\": []\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"fileReplacements\": [\n-                {\n-                  \"replace\": \"projects/shell-chrome/src/environments/environment.ts\",\n-                  \"with\": \"projects/shell-chrome/src/environments/environment.prod.ts\"\n-                }\n-              ],\n-              \"optimization\": {\n-                \"scripts\": true,\n-                \"styles\": {\n-                  \"minify\": true,\n-                  \"inlineCritical\": false\n-                },\n-                \"fonts\": {\n-                  \"inline\": false\n-                }\n-              },\n-              \"outputHashing\": \"none\",\n-              \"sourceMap\": false,\n-              \"extractCss\": true,\n-              \"namedChunks\": false,\n-              \"extractLicenses\": true,\n-              \"buildOptimizer\": true,\n-              \"budgets\": [\n-                {\n-                  \"type\": \"initial\",\n-                  \"maximumWarning\": \"2mb\",\n-                  \"maximumError\": \"5mb\"\n-                }\n-              ]\n-            }\n-          }\n-        },\n-        \"serve\": {\n-          \"builder\": \"ngx-build-plus:dev-server\",\n-          \"options\": {\n-            \"browserTarget\": \"shell-chrome:build\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"browserTarget\": \"shell-chrome:build:production\"\n-            }\n-          }\n-        },\n-        \"extract-i18n\": {\n-          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n-          \"options\": {\n-            \"browserTarget\": \"shell-chrome:build\"\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"ngx-build-plus:karma\",\n-          \"options\": {\n-            \"main\": \"projects/shell-chrome/src/test.ts\",\n-            \"polyfills\": \"projects/shell-chrome/src/polyfills.ts\",\n-            \"tsConfig\": \"projects/shell-chrome/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/shell-chrome/karma.conf.js\",\n-            \"assets\": [\"projects/shell-chrome/src/assets\"],\n-            \"styles\": [\"projects/shell-chrome/src/styles.scss\"],\n-            \"stylePreprocessorOptions\": {\n-              \"includePaths\": [\"node_modules\"]\n-            },\n-            \"scripts\": []\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\n-              \"projects/shell-chrome/tsconfig.app.json\",\n-              \"projects/shell-chrome/tsconfig.spec.json\",\n-              \"projects/shell-chrome/e2e/tsconfig.json\"\n-            ],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        },\n-        \"e2e\": {\n-          \"builder\": \"@angular-devkit/build-angular:protractor\",\n-          \"options\": {\n-            \"protractorConfig\": \"projects/shell-chrome/e2e/protractor.conf.js\",\n-            \"devServerTarget\": \"shell-chrome:serve\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"devServerTarget\": \"shell-chrome:serve:production\"\n-            }\n-          }\n-        }\n-      }\n-    },\n-    \"ng-devtools\": {\n-      \"projectType\": \"library\",\n-      \"schematics\": {\n-        \"@schematics/angular:component\": {\n-          \"style\": \"scss\"\n-        }\n-      },\n-      \"root\": \"projects/ng-devtools\",\n-      \"sourceRoot\": \"projects/ng-devtools/src\",\n-      \"prefix\": \"lib\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n-          \"options\": {\n-            \"tsConfig\": \"projects/ng-devtools/tsconfig.lib.json\",\n-            \"project\": \"projects/ng-devtools/ng-package.json\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"tsConfig\": \"projects/ng-devtools/tsconfig.lib.prod.json\"\n-            }\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"projects/ng-devtools/src/test.ts\",\n-            \"tsConfig\": \"projects/ng-devtools/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/ng-devtools/karma.conf.js\",\n-            \"codeCoverage\": true,\n-            \"stylePreprocessorOptions\": {\n-              \"includePaths\": [\"node_modules\"]\n-            }\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\"projects/ng-devtools/tsconfig.lib.json\", \"projects/ng-devtools/tsconfig.spec.json\"],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        }\n-      }\n-    },\n-    \"ng-devtools-backend\": {\n-      \"projectType\": \"library\",\n-      \"root\": \"projects/ng-devtools-backend\",\n-      \"sourceRoot\": \"projects/ng-devtools-backend/src\",\n-      \"prefix\": \"lib\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n-          \"options\": {\n-            \"tsConfig\": \"projects/ng-devtools-backend/tsconfig.lib.json\",\n-            \"project\": \"projects/ng-devtools-backend/ng-package.json\"\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"projects/ng-devtools-backend/src/test.ts\",\n-            \"tsConfig\": \"projects/ng-devtools-backend/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/ng-devtools-backend/karma.conf.js\",\n-            \"codeCoverage\": true\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\n-              \"projects/ng-devtools-backend/tsconfig.lib.json\",\n-              \"projects/ng-devtools-backend/tsconfig.spec.json\"\n-            ],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        }\n-      }\n-    },\n-    \"protocol\": {\n-      \"projectType\": \"library\",\n-      \"root\": \"projects/protocol\",\n-      \"sourceRoot\": \"projects/protocol/src\",\n-      \"prefix\": \"lib\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n-          \"options\": {\n-            \"tsConfig\": \"projects/protocol/tsconfig.lib.json\",\n-            \"project\": \"projects/protocol/ng-package.json\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"tsConfig\": \"projects/protocol/tsconfig.lib.prod.json\"\n-            }\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"projects/protocol/src/test.ts\",\n-            \"tsConfig\": \"projects/protocol/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/protocol/karma.conf.js\"\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\"projects/protocol/tsconfig.lib.json\", \"projects/protocol/tsconfig.spec.json\"],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        }\n-      }\n-    },\n-    \"shared-utils\": {\n-      \"projectType\": \"library\",\n-      \"root\": \"projects/shared-utils\",\n-      \"sourceRoot\": \"projects/shared-utils/src\",\n-      \"prefix\": \"lib\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"@angular-devkit/build-ng-packagr:build\",\n-          \"options\": {\n-            \"tsConfig\": \"projects/shared-utils/tsconfig.lib.json\",\n-            \"project\": \"projects/shared-utils/ng-package.json\"\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"projects/shared-utils/src/test.ts\",\n-            \"tsConfig\": \"projects/shared-utils/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/shared-utils/karma.conf.js\"\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\"projects/shared-utils/tsconfig.lib.json\", \"projects/shared-utils/tsconfig.spec.json\"],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        }\n-      }\n-    },\n-    \"demo-no-zone\": {\n-      \"projectType\": \"application\",\n-      \"schematics\": {},\n-      \"root\": \"projects/demo-no-zone\",\n-      \"sourceRoot\": \"projects/demo-no-zone/src\",\n-      \"prefix\": \"app\",\n-      \"architect\": {\n-        \"build\": {\n-          \"builder\": \"@angular-devkit/build-angular:browser\",\n-          \"options\": {\n-            \"outputPath\": \"dist/demo-no-zone\",\n-            \"index\": \"projects/demo-no-zone/src/_index.html\",\n-            \"main\": \"projects/demo-no-zone/src/main.ts\",\n-            \"polyfills\": \"projects/demo-no-zone/src/polyfills.ts\",\n-            \"tsConfig\": \"projects/demo-no-zone/tsconfig.app.json\",\n-            \"assets\": [\"projects/demo-no-zone/src/assets\"],\n-            \"styles\": [\"projects/demo-no-zone/src/styles.css\"],\n-            \"scripts\": []\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"fileReplacements\": [\n-                {\n-                  \"replace\": \"projects/demo-no-zone/src/environments/environment.ts\",\n-                  \"with\": \"projects/demo-no-zone/src/environments/environment.prod.ts\"\n-                }\n-              ],\n-              \"optimization\": true,\n-              \"outputHashing\": \"all\",\n-              \"sourceMap\": false,\n-              \"extractCss\": true,\n-              \"namedChunks\": false,\n-              \"aot\": true,\n-              \"extractLicenses\": true,\n-              \"vendorChunk\": false,\n-              \"buildOptimizer\": true,\n-              \"budgets\": [\n-                {\n-                  \"type\": \"initial\",\n-                  \"maximumWarning\": \"2mb\",\n-                  \"maximumError\": \"5mb\"\n-                }\n-              ]\n-            }\n-          }\n-        },\n-        \"serve\": {\n-          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n-          \"options\": {\n-            \"browserTarget\": \"demo-no-zone:build\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"browserTarget\": \"demo-no-zone:build:production\"\n-            }\n-          }\n-        },\n-        \"extract-i18n\": {\n-          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n-          \"options\": {\n-            \"browserTarget\": \"demo-no-zone:build\"\n-          }\n-        },\n-        \"test\": {\n-          \"builder\": \"@angular-devkit/build-angular:karma\",\n-          \"options\": {\n-            \"main\": \"projects/demo-no-zone/src/test.ts\",\n-            \"polyfills\": \"projects/demo-no-zone/src/polyfills.ts\",\n-            \"tsConfig\": \"projects/demo-no-zone/tsconfig.spec.json\",\n-            \"karmaConfig\": \"projects/demo-no-zone/karma.conf.js\",\n-            \"assets\": [\"projects/demo-no-zone/src/assets\"],\n-            \"styles\": [\"projects/demo-no-zone/src/styles.css\"],\n-            \"scripts\": []\n-          }\n-        },\n-        \"lint\": {\n-          \"builder\": \"@angular-devkit/build-angular:tslint\",\n-          \"options\": {\n-            \"tsConfig\": [\n-              \"projects/demo-no-zone/tsconfig.app.json\",\n-              \"projects/demo-no-zone/tsconfig.spec.json\",\n-              \"projects/demo-no-zone/e2e/tsconfig.json\"\n-            ],\n-            \"exclude\": [\"**/node_modules/**\"]\n-          }\n-        },\n-        \"e2e\": {\n-          \"builder\": \"@angular-devkit/build-angular:protractor\",\n-          \"options\": {\n-            \"protractorConfig\": \"projects/demo-no-zone/e2e/protractor.conf.js\",\n-            \"devServerTarget\": \"demo-no-zone:serve\"\n-          },\n-          \"configurations\": {\n-            \"production\": {\n-              \"devServerTarget\": \"demo-no-zone:serve:production\"\n-            }\n-          }\n-        }\n-      }\n-    }\n-  },\n-  \"defaultProject\": \"shell-dev\",\n-  \"cli\": {\n-    \"analytics\": \"75d6cb59-b4f8-48d8-8eaa-ccb9d55ea19a\"\n-  }\n-}"
        },
        {
            "sha": "b8e4a5657491cc584c3f383e074c74854bcb5cf6",
            "filename": "devtools/cypress.json",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fcypress.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fcypress.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fcypress.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,15 @@\n {\n   \"baseUrl\": \"http://localhost:4200\",\n-  \"video\": false\n+  \"video\": false,\n+  \"chromeWebSecurity\": false,\n+  \"downloadsFolder\": \"devtools/cypress/downloads\",\n+  \"fileServerFolder\": \"devtools\",\n+  \"fixturesFolder\": \"devtools/cypress/fixtures\",\n+  \"ignoreTestFiles\": \"devtools/*.hot-update.js\",\n+  \"integrationFolder\": \"devtools/cypress/integration\",\n+  \"pluginsFile\": \"devtools/cypress/plugins/index.js\",\n+  \"screenshotsFolder\": \"devtools/cypress/screenshots\",\n+  \"supportFile\": \"devtools/cypress/support/index.js\",\n+  \"testFiles\": \"**/*.*\",\n+  \"videosFolder\": \"devtools/cypress/videos\"\n }"
        },
        {
            "sha": "d86f600edbf1781972ac1921dada852bb7036f8d",
            "filename": "devtools/e2e/protractor.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 38,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fprotractor.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,38 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// @ts-check\n-// Protractor configuration file, see link for more information\n-// https://github.com/angular/protractor/blob/master/lib/config.ts\n-\n-const {SpecReporter} = require('jasmine-spec-reporter');\n-\n-/**\n- * @type { import(\"protractor\").Config }\n- */\n-exports.config = {\n-  allScriptsTimeout: 11000,\n-  specs: ['./src/**/*.e2e-spec.ts'],\n-  capabilities: {\n-    browserName: 'chrome',\n-  },\n-  directConnect: true,\n-  baseUrl: 'http://localhost:4200/',\n-  framework: 'jasmine',\n-  jasmineNodeOpts: {\n-    showColors: true,\n-    defaultTimeoutInterval: 30000,\n-    print: function() {},\n-  },\n-  onPrepare() {\n-    require('ts-node').register({\n-      project: require('path').join(__dirname, './tsconfig.json'),\n-    });\n-    jasmine.getEnv().addReporter(new SpecReporter({spec: {displayStacktrace: true}}));\n-  },\n-};"
        },
        {
            "sha": "b03c57f88316e47e4b7ac193bf37eb4c4688e736",
            "filename": "devtools/e2e/src/app.e2e-spec.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 32,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,32 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, logging} from 'protractor';\n-\n-import {AppPage} from './app.po';\n-\n-describe('workspace-project App', () => {\n-  let page: AppPage;\n-\n-  beforeEach(() => {\n-    page = new AppPage();\n-  });\n-\n-  it('should display welcome message', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('angular-devtools app is running!');\n-  });\n-\n-  afterEach(async () => {\n-    // Assert that there are no errors emitted from the browser\n-    const logs = await browser.manage().logs().get(logging.Type.BROWSER);\n-    expect(logs).not.toContain(jasmine.objectContaining({\n-      level: logging.Level.SEVERE,\n-    } as logging.Entry));\n-  });\n-});"
        },
        {
            "sha": "3a56a45bacc70d73c44b78a4691e7b5f465c1e6c",
            "filename": "devtools/e2e/src/app.po.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Fsrc%2Fapp.po.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, by, element} from 'protractor';\n-\n-export class AppPage {\n-  navigateTo(): Promise<any> {\n-    return browser.get(browser.baseUrl) as Promise<any>;\n-  }\n-\n-  getTitleText(): Promise<string> {\n-    return element(by.css('app-root .content span')).getText() as Promise<string>;\n-  }\n-}"
        },
        {
            "sha": "677f30ff8ab574091dfede1105dcf64247f42d66",
            "filename": "devtools/e2e/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fe2e%2Ftsconfig.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../out-tsc/e2e\",\n-    \"module\": \"commonjs\",\n-    \"target\": \"es5\",\n-    \"types\": [\"jasmine\", \"jasminewd2\", \"node\"]\n-  }\n-}"
        },
        {
            "sha": "aed54ef5bf4f1225a1ed7c09b0e50f6c0f6945e4",
            "filename": "devtools/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: false,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, './coverage/angular-devtools'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "2c37f030b52239b5f3e23b92677efc981e008d09",
            "filename": "devtools/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 114,
            "changes": 114,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackage.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,114 +0,0 @@\n-{\n-  \"name\": \"angular-devtools\",\n-  \"version\": \"0.0.0\",\n-  \"scripts\": {\n-    \"postinstall\": \"node_modules/.bin/ngcc --async --properties fesm2015\",\n-    \"ng\": \"ng\",\n-    \"cypress:verify\": \"cypress verify\",\n-    \"start\": \"ibazel run src:devserver\",\n-    \"start-no-animations\": \"bazelisk run src:devserver-e2e\",\n-    \"build:chrome\": \"bazelisk build projects/shell-chrome/src:prodapp\",\n-    \"build:chrome:watch\": \"ibazel build projects/shell-chrome/src:prodapp\",\n-    \"release\": \"node projects/shell-chrome/set-version.js && build:chrome\",\n-    \"test\": \"bazelisk test //...\",\n-    \"lint\": \"tslint -p tsconfig.json -c tslint.json\",\n-    \"lint:fix\": \"tslint -p tsconfig.json -c tslint.json --fix\",\n-    \"e2e\": \"yarn cy:run\",\n-    \"cy:verify\": \"$(yarn bin)/cypress verify\",\n-    \"cy:version\": \"$(yarn bin)/cypress version\",\n-    \"cy:run\": \"yarn cypress run\",\n-    \"cy:open\": \"yarn cypress open\",\n-    \"cy:watch\": \"start-server-and-test start http-get://localhost:4200 cy:open\",\n-    \"start:ci\": \"bazelisk run src:devserver\",\n-    \"cy:ci\": \"start-server-and-test start:ci http-get://localhost:4200 cy:run\",\n-    \"test:ci\": \"bazelisk test //...\",\n-    \"build:chrome:ci\": \"bazelisk build projects/shell-chrome/src:prodapp\"\n-  },\n-  \"private\": true,\n-  \"dependencies\": {\n-    \"@angular/animations\": \"github:angular/animations-builds#e814a6149fd654e265a465837f17bdebdc976a9d\",\n-    \"@angular/cdk\": \"~13.0.1\",\n-    \"@angular/common\": \"github:angular/common-builds#f1e665ee23545ee54adf517450083125aea33357\",\n-    \"@angular/compiler\": \"github:angular/compiler-builds#11a9d99b5540a189c393686b078b0ef4692573cf\",\n-    \"@angular/core\": \"github:angular/core-builds#7cda5ccc3ab33ca2230b67b38a0cea0d43035531\",\n-    \"@angular/forms\": \"github:angular/forms-builds#380d3f7831ae2b40390dbc2ed0f457740e3b310f\",\n-    \"@angular/material\": \"~13.0.1\",\n-    \"@angular/platform-browser\": \"github:angular/platform-browser-builds#7f38db5e7693cd7a1e76c0f21978eb44b89b799f\",\n-    \"@angular/platform-browser-dynamic\": \"github:angular/platform-browser-dynamic-builds#9e478221d7065200684a1eece31b99d287674da8\",\n-    \"@angular/platform-server\": \"13.0.1\",\n-    \"@babel/cli\": \"^7.16.0\",\n-    \"@babel/core\": \"^7.16.0\",\n-    \"@types/node\": \"^16.7.1\",\n-    \"d3\": \"^5.7.0\",\n-    \"memo-decorator\": \"^2.0.1\",\n-    \"ngx-flamegraph\": \"0.0.10\",\n-    \"puppeteer\": \"^10.2.0\",\n-    \"rxjs\": \"~6.6.0\",\n-    \"semver-dsl\": \"^1.0.1\",\n-    \"tslib\": \"^2.3.0\",\n-    \"webtreemap\": \"^2.0.1\",\n-    \"zone.js\": \"~0.11.0\"\n-  },\n-  \"devDependencies\": {\n-    \"@angular-devkit/build-angular\": \"github:angular/angular-devkit-build-angular-builds#7c4c781be8e3666f14360d3fe5dac0d35a851227\",\n-    \"@angular-devkit/build-ng-packagr\": \"~0.1002.0\",\n-    \"@angular/bazel\": \"13.0.1\",\n-    \"@angular/cli\": \"github:angular/cli-builds#858ee211470523d39a9ff16b57b676be740f77cc\",\n-    \"@angular/compiler-cli\": \"github:angular/compiler-cli-builds#89c6b3464f3f46a9f46334825bbff3d784af4136\",\n-    \"@angular/dev-infra-private\": \"https://github.com/angular/dev-infra-private-builds.git#c55a3937d45945489714273bfbbe9b803ceff89e\",\n-    \"@angular/elements\": \"github:angular/elements-builds#55c36f9d5381ffc06649a03bff3c2934b18ddd02\",\n-    \"@angular/language-service\": \"github:angular/language-service-builds#e16ca91c029934dde01557efcf860e2465629655\",\n-    \"@angular/localize\": \"13.0.1\",\n-    \"@angular/router\": \"github:angular/router-builds#5485647d9f68a01041285dfa0b92d841d7fa8c0f\",\n-    \"@bazel/angular\": \"^4.4.2\",\n-    \"@bazel/bazelisk\": \"^1.7.5\",\n-    \"@bazel/buildifier\": \"4.2.3\",\n-    \"@bazel/concatjs\": \"4.3.0\",\n-    \"@bazel/cypress\": \"^4.4.5\",\n-    \"@bazel/esbuild\": \"^4.4.2\",\n-    \"@bazel/ibazel\": \"^0.15.10\",\n-    \"@bazel/rollup\": \"^4.4.2\",\n-    \"@bazel/terser\": \"^4.4.2\",\n-    \"@bazel/typescript\": \"~4.4.2\",\n-    \"@rollup/plugin-commonjs\": \"^14.0.0\",\n-    \"@rollup/plugin-node-resolve\": \"^8.4.0\",\n-    \"@types/chrome\": \"^0.0.159\",\n-    \"@types/clone-deep\": \"^4.0.1\",\n-    \"@types/filesystem\": \"^0.0.32\",\n-    \"@types/jasmine\": \"~3.9.0\",\n-    \"@types/jasminewd2\": \"~2.0.3\",\n-    \"@types/resize-observer-browser\": \"^0.1.5\",\n-    \"@types/semver\": \"^7.1.0\",\n-    \"codelyzer\": \"^6.0.0\",\n-    \"cross-env\": \"^7.0.2\",\n-    \"cypress\": \"8.7.0\",\n-    \"cypress-iframe\": \"^1.0.1\",\n-    \"document-register-element\": \"^1.7.2\",\n-    \"history-server\": \"^1.3.1\",\n-    \"html-insert-assets\": \"^0.14.2\",\n-    \"jasmine-core\": \"~3.10.0\",\n-    \"jasmine-spec-reporter\": \"~7.0.0\",\n-    \"karma\": \"~4.1.0\",\n-    \"karma-chrome-launcher\": \"2.2.0\",\n-    \"karma-firefox-launcher\": \"1.1.0\",\n-    \"karma-jasmine\": \"2.0.1\",\n-    \"karma-junit-reporter\": \"2.0.1\",\n-    \"karma-requirejs\": \"1.1.0\",\n-    \"karma-sourcemap-loader\": \"0.3.7\",\n-    \"ng-packagr\": \"^12.0.0\",\n-    \"ngx-build-plus\": \"^11.0.0\",\n-    \"protractor\": \"~7.0.0\",\n-    \"requirejs\": \"2.3.6\",\n-    \"rollup\": \"2.44.0\",\n-    \"rollup-plugin-amd\": \"4.0.0\",\n-    \"start-server-and-test\": \"^1.10.11\",\n-    \"todomvc-app-css\": \"^2.3.0\",\n-    \"todomvc-common\": \"^1.0.5\",\n-    \"ts-node\": \"~10.3.0\",\n-    \"tsickle\": \"0.40.0\",\n-    \"tslint\": \"~5.20.0\",\n-    \"typescript\": \"~4.4.3\",\n-    \"wait-on\": \"^6.0.0\",\n-    \"webpack\": \"5.59.1\"\n-  }\n-}"
        },
        {
            "sha": "f29d6e79bf39034dd1aa664bda4a6e70617bd9ad",
            "filename": "devtools/packages.bzl",
            "status": "modified",
            "additions": 39,
            "deletions": 1,
            "changes": 40,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fpackages.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fpackages.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fpackages.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,5 +1,43 @@\n+_CDK_ENTRY_POINTS = [\n+    \"scrolling\",\n+    \"tree\",\n+    \"keycodes\",\n+    \"collections\",\n+    \"overlay\",\n+    \"table\",\n+    \"text-field\",\n+    \"accordion\",\n+    \"drag-drop\",\n+    \"a11y\",\n+    \"platform\",\n+]\n+\n+_MATERIAL_ENTRY_POINTS = [\n+    \"dialog\",\n+    \"menu\",\n+    \"slide-toggle\",\n+    \"grid-list\",\n+    \"tree\",\n+    \"expansion\",\n+    \"checkbox\",\n+    \"select\",\n+    \"input\",\n+    \"button\",\n+    \"core\",\n+    \"progress-bar\",\n+    \"snack-bar\",\n+    \"icon\",\n+    \"progress-spinner\",\n+    \"tabs\",\n+    \"card\",\n+    \"form-field\",\n+    \"tooltip\",\n+    \"toolbar\",\n+]\n+\n ANGULAR_PACKAGES_CONFIG = [\n-    (\"@angular/platform-browser-dynamic\", struct(entry_points = [\"testing\"])),\n+    (\"@angular/cdk\", struct(entry_points = _CDK_ENTRY_POINTS)),\n+    (\"@angular/material\", struct(entry_points = _MATERIAL_ENTRY_POINTS)),\n ]\n \n ANGULAR_PACKAGES = ["
        },
        {
            "sha": "69243751958e20d1a686fee713761f187e359d20",
            "filename": "devtools/projects/demo-no-zone/.bazelignore",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2F.bazelignore?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,3 +0,0 @@\n-node_modules\n-dist\n-bazel-out"
        },
        {
            "sha": "ffd0fb0cdc5bc3ecb62d3cbb5b502b353073615f",
            "filename": "devtools/projects/demo-no-zone/BUILD.bazel",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1 @@\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n-\n package(default_visibility = [\"//visibility:public\"])\n-\n-ts_config(\n-    name = \"tsconfig_app\",\n-    src = \"tsconfig.app.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)"
        },
        {
            "sha": "80848532e47d58cc7a4b618f600b438960f9f045",
            "filename": "devtools/projects/demo-no-zone/browserslist",
            "status": "removed",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fbrowserslist?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,12 +0,0 @@\n-# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n-# For additional information regarding the format and rule options, please see:\n-# https://github.com/browserslist/browserslist#queries\n-\n-# You can see what browsers were selected by your queries by running:\n-#   npx browserslist\n-\n-> 0.5%\n-last 2 versions\n-Firefox ESR\n-not dead\n-not IE 9-11 # For IE 9-11 support, remove 'not'.\n\\ No newline at end of file"
        },
        {
            "sha": "d86f600edbf1781972ac1921dada852bb7036f8d",
            "filename": "devtools/projects/demo-no-zone/e2e/protractor.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 38,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fprotractor.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,38 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// @ts-check\n-// Protractor configuration file, see link for more information\n-// https://github.com/angular/protractor/blob/master/lib/config.ts\n-\n-const {SpecReporter} = require('jasmine-spec-reporter');\n-\n-/**\n- * @type { import(\"protractor\").Config }\n- */\n-exports.config = {\n-  allScriptsTimeout: 11000,\n-  specs: ['./src/**/*.e2e-spec.ts'],\n-  capabilities: {\n-    browserName: 'chrome',\n-  },\n-  directConnect: true,\n-  baseUrl: 'http://localhost:4200/',\n-  framework: 'jasmine',\n-  jasmineNodeOpts: {\n-    showColors: true,\n-    defaultTimeoutInterval: 30000,\n-    print: function() {},\n-  },\n-  onPrepare() {\n-    require('ts-node').register({\n-      project: require('path').join(__dirname, './tsconfig.json'),\n-    });\n-    jasmine.getEnv().addReporter(new SpecReporter({spec: {displayStacktrace: true}}));\n-  },\n-};"
        },
        {
            "sha": "73adff85b58e6495ff36e6b462809b48045e5034",
            "filename": "devtools/projects/demo-no-zone/e2e/src/app.e2e-spec.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 32,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,32 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, logging} from 'protractor';\n-\n-import {AppPage} from './app.po';\n-\n-describe('workspace-project App', () => {\n-  let page: AppPage;\n-\n-  beforeEach(() => {\n-    page = new AppPage();\n-  });\n-\n-  it('should display welcome message', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('Welcome to demo-no-zone!');\n-  });\n-\n-  afterEach(async () => {\n-    // Assert that there are no errors emitted from the browser\n-    const logs = await browser.manage().logs().get(logging.Type.BROWSER);\n-    expect(logs).not.toContain(jasmine.objectContaining({\n-      level: logging.Level.SEVERE,\n-    } as logging.Entry));\n-  });\n-});"
        },
        {
            "sha": "8f6154d0fe07624016e6bdf52c4cbec565d7444e",
            "filename": "devtools/projects/demo-no-zone/e2e/src/app.po.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Fsrc%2Fapp.po.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, by, element} from 'protractor';\n-\n-export class AppPage {\n-  navigateTo(): Promise<any> {\n-    return browser.get(browser.baseUrl) as Promise<any>;\n-  }\n-\n-  getTitleText(): Promise<any> {\n-    return element(by.css('app-root h1')).getText() as Promise<string>;\n-  }\n-}"
        },
        {
            "sha": "201351434ec446b2121e3081b99468139b786363",
            "filename": "devtools/projects/demo-no-zone/e2e/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fe2e%2Ftsconfig.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../../out-tsc/e2e\",\n-    \"module\": \"commonjs\",\n-    \"target\": \"es5\",\n-    \"types\": [\"jasmine\", \"jasminewd2\", \"node\"]\n-  }\n-}"
        },
        {
            "sha": "450b9ae3edcea06c2328cb516aa9089c2ac900b0",
            "filename": "devtools/projects/demo-no-zone/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/demo-no-zone'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "14c52495c6f01dfece492f7f12e27165a052c02c",
            "filename": "devtools/projects/demo-no-zone/src/BUILD.bazel",
            "status": "modified",
            "additions": 39,
            "deletions": 53,
            "changes": 92,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,76 +1,62 @@\n-load(\"@npm//html-insert-assets:index.bzl\", \"html_insert_assets\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n-load(\"@npm//history-server:index.bzl\", \"history_server\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"pkg_web\")\n+load(\"//tools:defaults.bzl\", \"esbuild\")\n+load(\"//devtools/tools/dev-server:index.bzl\", \"dev_server\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n \n-_ASSETS = [\n-    \":styles.css\",\n-    \"@npm//:node_modules/zone.js/dist/zone.min.js\",\n-]\n-\n-html_insert_assets(\n-    name = \"inject_scripts_for_dev\",\n-    outs = [\"index.html\"],\n-    args = [\n-        \"--html=$(execpath //projects/demo-no-zone/src:_index.html)\",\n-        \"--out=$@\",\n-        \"--roots=. $(RULEDIR)\",\n-        \"--assets\",\n-    ] + [\"$(execpath %s)\" % s for s in _ASSETS] + [\n-        \"--scripts --module $(execpath :bundle_es2015)/index.js\",\n-    ],\n-    data = [\n-        \"//projects/demo-no-zone/src:_index.html\",\n-        \":bundle_es2015\",\n-    ] + _ASSETS,\n-)\n-\n-ng_ts_project(\n+ng_module(\n     name = \"src\",\n     srcs = [\"main.ts\"],\n-    tsconfig = \"//projects/demo-no-zone:tsconfig_app\",\n     deps = [\n-        \"//projects/demo-no-zone/src/app\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//devtools/projects/demo-no-zone/src/app\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-rollup_bundle(\n-    name = \"bundle_es2015\",\n-    config_file = \"rollup.config.js\",\n-    entry_points = {\n-        \":main.ts\": \"index\",\n-    },\n-    output_dir = True,\n-    deps = [\n-        \":src\",\n-        \"@npm//@rollup/plugin-commonjs\",\n-        \"@npm//@rollup/plugin-node-resolve\",\n+esbuild(\n+    name = \"bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_esm\",\n+    entry_points = [\":main.ts\"],\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"es2016\",\n+    deps = [\":src\"],\n+)\n+\n+exports_files([\n+    \"index.html\",\n+    \"styles.css\",\n+])\n+\n+filegroup(\n+    name = \"dev_app_static_files\",\n+    srcs = [\n+        \":index.html\",\n+        \":styles.css\",\n+        \"//packages/zone.js/bundles:zone.umd.js\",\n     ],\n )\n \n pkg_web(\n     name = \"devapp\",\n-    srcs = _ASSETS + [\n-        \":bundle_es2015\",\n-        \":inject_scripts_for_dev\",\n+    srcs = [\n+        \":bundle\",\n+        \":dev_app_static_files\",\n     ],\n-    additional_root_paths = [],\n )\n \n-history_server(\n+dev_server(\n     name = \"devserver\",\n-    data = [\":devapp\"],\n-    templated_args = [\n-        \"-a $$(rlocation $(rootpath :devapp))\",\n-        \"--port 4200\",\n+    srcs = [\":dev_app_static_files\"],\n+    additional_root_paths = [\"angular/devtools/projects/demo-no-zone/src/devapp\"],\n+    tags = [\"manual\"],\n+    deps = [\n+        \":devapp\",\n     ],\n )"
        },
        {
            "sha": "2ac367bd6200a55b90ecd68b1c2a7b5c969b3561",
            "filename": "devtools/projects/demo-no-zone/src/app/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fapp%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,18 +1,17 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"app\",\n     srcs = glob(\n         include = [\"*.ts\"],\n     ),\n     angular_assets = [\"app.component.html\"],\n-    tsconfig = \"//projects/demo-no-zone:tsconfig_app\",\n     deps = [\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser\",\n         \"@npm//rxjs\",\n     ],\n )"
        },
        {
            "sha": "0c948a676e8a4ec9ddc940a4c5b96ca5259d0a3e",
            "filename": "devtools/projects/demo-no-zone/src/index.html",
            "status": "renamed",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Findex.html?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -9,5 +9,9 @@\n   </head>\n   <body>\n     <app-root></app-root>\n+\n+\n+    <script src=\"./angular/packages/zone.js/bundles/zone.umd.js\"></script>\n+    <script type=\"module\" src=\"./bundle/main.js\"></script>\n   </body>\n </html>",
            "previous_filename": "devtools/projects/demo-no-zone/src/_index.html"
        },
        {
            "sha": "688dbca237c743474d26d5ea5ca3dd811fa99a0b",
            "filename": "devtools/projects/demo-no-zone/src/polyfills.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 71,
            "changes": 71,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Fpolyfills.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,71 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-/**\n- * This file includes polyfills needed by Angular and is loaded before the app.\n- * You can add your own extra polyfills to this file.\n- *\n- * This file is divided into 2 sections:\n- *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n- *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n- *      file.\n- *\n- * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n- * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n- * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n- *\n- * Learn more in https://angular.io/guide/browser-support\n- */\n-\n-/***************************************************************************************************\n- * BROWSER POLYFILLS\n- */\n-\n-/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n-// import 'classlist.js';  // Run `npm install --save classlist.js`.\n-\n-/**\n- * Web Animations `@angular/platform-browser/animations`\n- * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n- * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n- */\n-// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n-\n-/**\n- * By default, zone.js will patch all possible macroTask and DomEvents\n- * user can disable parts of macroTask/DomEvents patch by setting following flags\n- * because those flags need to be set before `zone.js` being loaded, and webpack\n- * will put import in the top of bundle, so user need to create a separate file\n- * in this directory (for example: zone-flags.ts), and put the following flags\n- * into that file, and then add the following code before importing zone.js.\n- * import './zone-flags.ts';\n- *\n- * The flags allowed in zone-flags.ts are listed here.\n- *\n- * The following flags will work for all browsers.\n- *\n- * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch\n- * requestAnimationFrame (window as any).__Zone_disable_on_property = true; // disable patch\n- * onProperty such as onclick (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll',\n- * 'mousemove']; // disable patch specified eventNames\n- *\n- *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n- *  with the following flag, it will bypass `zone.js` patch for IE/Edge\n- *\n- *  (window as any).__Zone_enable_cross_context_check = true;\n- *\n- */\n-\n-/***************************************************************************************************\n- * Zone JS is required by default for Angular itself.\n- */\n-// import 'zone.js/dist/zone';  // Included with Angular CLI.\n-\n-/***************************************************************************************************\n- * APPLICATION IMPORTS\n- */"
        },
        {
            "sha": "b8a247ba087e3af7705588878040a2ab08d0d54e",
            "filename": "devtools/projects/demo-no-zone/src/rollup.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Frollup.config.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-const {nodeResolve} = require('@rollup/plugin-node-resolve');\n-const commonjs = require('@rollup/plugin-commonjs');\n-\n-module.exports = {\n-  plugins: [\n-    nodeResolve({\n-      mainFields: ['browser', 'es2015', 'module', 'jsnext:main', 'main'],\n-    }),\n-    commonjs(),\n-  ],\n-};"
        },
        {
            "sha": "dc77c3c5c1a4169b14d098a25e7061bae40ce4cf",
            "filename": "devtools/projects/demo-no-zone/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 23,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,23 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.spec\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "a7dc3157fddb1e883534a9fc4bd9cf4e95d530af",
            "filename": "devtools/projects/demo-no-zone/tsconfig.app.json",
            "status": "removed",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.app.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,10 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/app\",\n-    \"declaration\": true,\n-    \"types\": []\n-  },\n-  \"include\": [\"src/**/*.ts\"],\n-  \"exclude\": [\"src/test.ts\", \"src/**/*.spec.ts\"]\n-}"
        },
        {
            "sha": "8eec07d40ad9b2a031b6dd62b59d4fac8d1cb0c7",
            "filename": "devtools/projects/demo-no-zone/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fdemo-no-zone%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\", \"src/polyfills.ts\"],\n-  \"include\": [\"src/**/*.spec.ts\", \"src/**/*.d.ts\"]\n-}"
        },
        {
            "sha": "43f89e0b8c93ad16514b20bfec47e3e665fff7cc",
            "filename": "devtools/projects/ng-devtools-backend/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 11,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,21 +1,13 @@\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_config(\n-    name = \"tsconfig_lib\",\n-    src = \"tsconfig.lib.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ts_project(\n+ts_library(\n     name = \"ng_devtools_backend_ts\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \":tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src\",\n+        \"//devtools/projects/ng-devtools-backend/src\",\n     ],\n )\n "
        },
        {
            "sha": "fcf018fa82f693401983786945a0e4c04b026492",
            "filename": "devtools/projects/ng-devtools-backend/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/ng-devtools-backend'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "9504b75e9a292ee5ba83d5d9adc82cfe220ba546",
            "filename": "devtools/projects/ng-devtools-backend/ng-package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fng-package.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,7 +0,0 @@\n-{\n-  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n-  \"dest\": \"../../dist/ng-devtools-backend\",\n-  \"lib\": {\n-    \"entryFile\": \"src/public-api.ts\"\n-  }\n-}"
        },
        {
            "sha": "e22e09778307a8de78b92c08ca11dec5ca3bb436",
            "filename": "devtools/projects/ng-devtools-backend/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fpackage.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,8 +0,0 @@\n-{\n-  \"name\": \"ng-devtools-backend\",\n-  \"version\": \"0.0.1\",\n-  \"peerDependencies\": {\n-    \"@angular/common\": \"^13.0.0\",\n-    \"@angular/core\": \"^13.0.0\"\n-  }\n-}"
        },
        {
            "sha": "a72fd0c9ad375357081d6bd72ec3d5eb92166b94",
            "filename": "devtools/projects/ng-devtools-backend/src/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,13 +1,12 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"src\",\n     srcs = [\"public-api.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib\",\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n     ],\n )"
        },
        {
            "sha": "e063efc2fb4cd9af05188a567b87c4ef78bb282d",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/BUILD.bazel",
            "status": "modified",
            "additions": 37,
            "deletions": 47,
            "changes": 84,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,19 +1,18 @@\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"lib\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n         \":client_event_subscribers\",\n-        \"//projects/ng-devtools-backend/src/lib/component-inspector\",\n-        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks\",\n-        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/component-inspector\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n@@ -24,31 +23,29 @@ karma_web_test_suite(\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"highlighter_test_lib\",\n     srcs = [\n         \"highlighter.spec.ts\",\n     ],\n     deps = [\n         \":highlighter\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"highlighter\",\n     srcs = [\"highlighter.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n )\n \n-ts_project(\n+ts_library(\n     name = \"interfaces\",\n     srcs = [\"interfaces.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n@@ -59,81 +56,75 @@ karma_web_test_suite(\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"router_tree_test_lib\",\n     srcs = [\n         \"router-tree.spec.ts\",\n     ],\n     deps = [\n         \":router_tree\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n-        \"@npm//@angular/router\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n+        \"//packages/router\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"router_tree\",\n     srcs = [\"router-tree.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"set_console_reference\",\n     srcs = [\"set-console-reference.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n         \":interfaces\",\n-        \"//projects/protocol\",\n-        \"//projects/shared-utils\",\n+        \"//devtools/projects/protocol\",\n+        \"//devtools/projects/shared-utils\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"utils\",\n     srcs = [\"utils.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n )\n \n-ts_project(\n+ts_library(\n     name = \"version\",\n     srcs = [\"version.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n )\n \n-ts_project(\n+ts_library(\n     name = \"client_event_subscribers\",\n     srcs = [\"client-event-subscribers.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n         \":angular_check\",\n         \":component_tree\",\n         \":highlighter\",\n         \":interfaces\",\n         \":set_console_reference\",\n         \":utils\",\n-        \"//projects/ng-devtools-backend/src/lib/component-inspector\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks\",\n-        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/component-inspector\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"component_tree\",\n     srcs = [\"component-tree.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n         \":interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n-        \"//projects/ng-devtools-backend/src/lib/state-serializer\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/state-serializer\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n@@ -144,7 +135,7 @@ karma_web_test_suite(\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"angular_check_test_lib\",\n     srcs = [\n         \"angular-check.spec.ts\",\n@@ -155,8 +146,7 @@ ts_test_project(\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"angular_check\",\n     srcs = [\"angular-check.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n )"
        },
        {
            "sha": "4512723cd21f5f3fd55b8bff9cd2f5f684916982",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-inspector/BUILD.bazel",
            "status": "modified",
            "additions": 16,
            "deletions": 17,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-inspector%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,18 +1,17 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"component-inspector\",\n     srcs = [\"component-inspector.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n@@ -21,20 +20,20 @@ karma_web_test_suite(\n     deps = [\":test_lib\"],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"component-inspector.spec.ts\",\n     ],\n     deps = [\n         \":component-inspector\",\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib:utils\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:utils\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "9d5a7068287300c385bd29a7bb8a7e312fe6c4f2",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/component-tree.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fcomponent-tree.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -120,17 +120,22 @@ const getRootLViewsHelper = (element: Element, rootLViews = new Set<any>()): Set\n };\n \n const getRoots = () => {\n-  const roots = Array.from(document.documentElement.querySelectorAll('[ng-version]'));\n+  const roots =\n+      Array.from(document.documentElement.querySelectorAll('[ng-version]')) as HTMLElement[];\n+\n   const isTopLevel = (element: HTMLElement) => {\n     let parent: HTMLElement|null = element;\n+\n     while (parent?.parentElement) {\n       parent = parent.parentElement;\n       if (parent.hasAttribute('ng-version')) {\n         return false;\n       }\n     }\n+\n     return true;\n   };\n+\n   return roots.filter(isTopLevel);\n };\n "
        },
        {
            "sha": "db24e0cafdd133d8d1a6d79eac674d03f9f9be9f",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/directive-forest/BUILD.bazel",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fdirective-forest%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,20 +1,19 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"directive-forest\",\n     srcs = glob(\n         include = [\"*.ts\"],\n         exclude = [\"*.spec.ts\"],\n     ),\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib:utils\",\n-        \"//projects/ng-devtools-backend/src/lib:version\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:utils\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:version\",\n         \"@npm//semver-dsl\",\n     ],\n )\n@@ -26,15 +25,15 @@ karma_web_test_suite(\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"render-tree.spec.ts\",\n     ],\n     deps = [\n         \":directive-forest\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib:utils\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:utils\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "9aba484951e18b3ad66aff08ca08fbd8cdde727a",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/BUILD.bazel",
            "status": "modified",
            "additions": 11,
            "deletions": 13,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,8 +1,8 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"hooks\",\n     srcs = glob(\n         include = [\"*.ts\"],\n@@ -11,24 +11,22 @@ ts_project(\n             \"identity-tracker.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n         \":identity_tracker\",\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/ng-devtools-backend/src/lib:utils\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks/profiler\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:utils\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks/profiler\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"identity_tracker\",\n     srcs = [\"identity-tracker.ts\"],\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n-        \"//projects/ng-devtools-backend/src/lib:interfaces\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:interfaces\",\n+        \"//devtools/projects/protocol\",\n     ],\n )"
        },
        {
            "sha": "4e7d9243ed7ad5c39aab5b614fd2f38f92093591",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/BUILD.bazel",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fhooks%2Fprofiler%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,20 +1,19 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"profiler\",\n     srcs = glob(\n         include = [\"*.ts\"],\n         exclude = [\"*.spec.ts\"],\n     ),\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib:utils\",\n-        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n-        \"//projects/ng-devtools-backend/src/lib/hooks:identity_tracker\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:utils\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/hooks:identity_tracker\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//rxjs\",\n     ],\n )"
        },
        {
            "sha": "1af00be8a2105ecdcc0a715ce09aecb547f75fb8",
            "filename": "devtools/projects/ng-devtools-backend/src/lib/state-serializer/BUILD.bazel",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Flib%2Fstate-serializer%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,19 +1,18 @@\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"state-serializer\",\n     srcs = glob(\n         include = [\"*.ts\"],\n         exclude = [\"*.spec.ts\"],\n     ),\n-    tsconfig = \"//projects/ng-devtools-backend:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools-backend/src/lib/directive-forest\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib/directive-forest\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n@@ -24,14 +23,14 @@ karma_web_test_suite(\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"state-serializer.spec.ts\",\n     ],\n     deps = [\n         \":state-serializer\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "61db79ba55515c62fd7e763fa96da1d05e018334",
            "filename": "devtools/projects/ng-devtools-backend/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,24 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone';\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "f883c50038454889307417527bbf63494cbb5acc",
            "filename": "devtools/projects/ng-devtools-backend/tsconfig.lib.json",
            "status": "removed",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.lib.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,20 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/lib\",\n-    \"target\": \"es2015\",\n-    \"declaration\": true,\n-    \"inlineSources\": true,\n-    \"types\": [],\n-    \"lib\": [\"dom\", \"es2018\"]\n-  },\n-  \"angularCompilerOptions\": {\n-    \"annotateForClosureCompiler\": false,\n-    \"skipTemplateCodegen\": true,\n-    \"strictMetadataEmit\": true,\n-    \"fullTemplateTypeCheck\": true,\n-    \"strictInjectionParameters\": true,\n-    \"enableResourceInlining\": true\n-  },\n-  \"exclude\": [\"src/test.ts\", \"**/*.spec.ts\"]\n-}"
        },
        {
            "sha": "d4f02006a43b64cc76abef77b46f75d8f812b7a9",
            "filename": "devtools/projects/ng-devtools-backend/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools-backend%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\"],\n-  \"include\": [\"**/*.ts\", \"**/*.d.ts\"]\n-}"
        },
        {
            "sha": "c433eba1d35c7f4a643b855729965950ff1ae902",
            "filename": "devtools/projects/ng-devtools/BUILD.bazel",
            "status": "modified",
            "additions": 9,
            "deletions": 17,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,31 +1,23 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n exports_files([\"tsconfig.lib.json\"])\n \n-ts_config(\n-    name = \"tsconfig_lib\",\n-    src = \"tsconfig.lib.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ng_ts_project(\n+ng_module(\n     name = \"ng_devtools_ts\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \":tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/animations\",\n+        \"//devtools/projects/ng-devtools/src\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/animations\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n         \"@npm//@angular/material\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n         \"@npm//@types\",\n         \"@npm//d3\",\n         \"@npm//memo-decorator\","
        },
        {
            "sha": "c5df4128ce44254aedb988f6e9cafa20470d9041",
            "filename": "devtools/projects/ng-devtools/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/ng-devtools'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "5d9a5bf824719a0574f4795c67da1f9ba64bb263",
            "filename": "devtools/projects/ng-devtools/ng-package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fng-package.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,7 +0,0 @@\n-{\n-  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n-  \"dest\": \"../../dist/ng-devtools\",\n-  \"lib\": {\n-    \"entryFile\": \"src/public-api.ts\"\n-  }\n-}"
        },
        {
            "sha": "ae7f43c85bea8f183dfae833fe8d16fdbf250b2d",
            "filename": "devtools/projects/ng-devtools/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fpackage.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"name\": \"ng-devtools\",\n-  \"version\": \"0.0.1\",\n-  \"peerDependencies\": {\n-    \"@angular/common\": \"^13.0.0\",\n-    \"@angular/core\": \"^13.0.0\",\n-    \"tslib\": \"^2.0.0\"\n-  }\n-}"
        },
        {
            "sha": "0a19d60f713f47cae55a8a79482df0ecca8f10ef",
            "filename": "devtools/projects/ng-devtools/src/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,14 +1,13 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"src\",\n     srcs = [\"public-api.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib\",\n-        \"//projects/ng-devtools/src/lib/application-environment\",\n-        \"//projects/ng-devtools/src/lib/application-operations\",\n+        \"//devtools/projects/ng-devtools/src/lib\",\n+        \"//devtools/projects/ng-devtools/src/lib/application-environment\",\n+        \"//devtools/projects/ng-devtools/src/lib/application-operations\",\n     ],\n )"
        },
        {
            "sha": "47fa98dd91a2a6a723740c7034dc98f3571e8340",
            "filename": "devtools/projects/ng-devtools/src/lib/BUILD.bazel",
            "status": "modified",
            "additions": 11,
            "deletions": 13,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"devtools.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"lib\",\n     srcs = glob(\n         include = [\"*.ts\"],\n@@ -18,31 +18,29 @@ ng_ts_project(\n         \"devtools.component.html\",\n         \":devtools_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n         \":theme\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/animations\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/animations\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n         \"@npm//@angular/material\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"theme\",\n     srcs = glob(\n         include = [\"theme-service.ts\"],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"@npm//@angular/core\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],"
        },
        {
            "sha": "0f90fadea267ace2bcd8d4e2073445dd46a404d8",
            "filename": "devtools/projects/ng-devtools/src/lib/application-environment/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-environment%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,13 +1,12 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"application-environment\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "12c199aa5a32908f279e23b8da0044bead02a4e1",
            "filename": "devtools/projects/ng-devtools/src/lib/application-operations/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fapplication-operations%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,13 +1,12 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"application-operations\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "05f185034fca2e89a56ec7ec6116d200af5d1d90",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/BUILD.bazel",
            "status": "modified",
            "additions": 37,
            "deletions": 18,
            "changes": 55,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,7 +1,7 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -10,7 +10,7 @@ sass_binary(\n     src = \"devtools-tabs.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"devtools-tabs\",\n     srcs = [\n         \"devtools-tabs.component.ts\",\n@@ -20,37 +20,56 @@ ng_ts_project(\n         \"devtools-tabs.component.html\",\n         \":devtools_tabs_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib:theme\",\n-        \"//projects/ng-devtools/src/lib/application-environment\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/router-tree\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib:theme\",\n+        \"//devtools/projects/ng-devtools/src/lib/application-environment\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/core/src/util\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"devtools_tabs_test\",\n     srcs = [\"devtools-tabs.spec.ts\"],\n     deps = [\n         \":devtools-tabs\",\n-        \"//projects/ng-devtools/src/lib/application-environment\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/application-environment\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/core/src/util\",\n     ],\n )\n \n+# todo(aleksanderbodurri): fix this test suite\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n         \":devtools_tabs_test\",\n+        \"//packages/common/http\",\n+        \"//packages/platform-browser/animations\",\n     ],\n )\n+\n+# spec_bundle(\n+#     name = \"test_bundle\",\n+#     deps = [\n+#         \":devtools_tabs_test\",\n+#         \"//packages/platform-browser/animations\",\n+#         \"//packages/animations\",\n+#         \"//packages/common/http\",\n+#         \"//packages/core\",\n+#         \"//packages/core/src/util\",\n+#     ],\n+#     platform = \"browser\",\n+# )"
        },
        {
            "sha": "b07a40c8716b37704bdabe472eaf9c5977af9ae9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,17 +1,16 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"diffing\",\n     srcs = glob(\n         include = [\n             \"index.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"@npm//@angular/core\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],"
        },
        {
            "sha": "4fd3597af35a22b94960d9029014bbfb62e3c675",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdiffing%2Findex.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -50,7 +50,7 @@ export const diff = <T>(differ: DefaultIterableDiffer<T>, a: T[], b: T[]):\n           if (record.currentIndex === null) {\n             return;\n           }\n-          a[record.currentIndex][prop] = b[record.currentIndex][prop];\n+          (a[record.currentIndex] as any)[prop] = (b[record.currentIndex] as any)[prop];\n         });\n         if (!alreadySet[record.previousIndex]) {\n           // tslint:disable-next-line: no-non-null-assertion"
        },
        {
            "sha": "1aa0cb2830d2231989149c0076678ac70e7bcaae",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/BUILD.bazel",
            "status": "modified",
            "additions": 24,
            "deletions": 21,
            "changes": 45,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,7 +1,7 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -10,7 +10,7 @@ sass_binary(\n     src = \"directive-explorer.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"directive-explorer\",\n     srcs = [\n         \"directive-explorer.component.ts\",\n@@ -20,41 +20,44 @@ ng_ts_project(\n         \"directive-explorer.component.html\",\n         \":directive_explorer_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/application-operations\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab\",\n-        \"//projects/ng-devtools/src/lib/vendor/angular-split\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/application-operations\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/angular-split\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"directive_explorer_test\",\n     srcs = [\"directive-explorer.spec.ts\"],\n     deps = [\n         \":directive-explorer\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n+# todo(aleksanderbodurri): fix this test suite\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n         \":directive_explorer_test\",\n+        \"//packages/common/http\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n     ],\n )"
        },
        {
            "sha": "d4661b9e96e31236d66e2b15a2e054371ca3b116",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/BUILD.bazel",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,5 +1,5 @@\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"directive-forest.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"directive-forest\",\n     srcs = [\n         \"directive-forest.component.ts\",\n@@ -19,18 +19,17 @@ ng_ts_project(\n         \"directive-forest.component.html\",\n         \":directive_forest_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "f2b3cab90caf07f36cd6e17f6623b2c9f51237de",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/breadcrumbs/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fbreadcrumbs%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,5 +1,5 @@\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"breadcrumbs.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"breadcrumbs\",\n     srcs = [\n         \"breadcrumbs.component.ts\",\n@@ -18,11 +18,10 @@ ng_ts_project(\n         \"breadcrumbs.component.html\",\n         \":breadcrumbs_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "04032388abbec663f59f39a8a23da86299799acb",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source/BUILD.bazel",
            "status": "modified",
            "additions": 13,
            "deletions": 10,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,37 +1,40 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"component-data-source\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"component_data_source_test\",\n     srcs = glob([\"**/*.spec.ts\"]),\n     deps = [\n         \":component-data-source\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@angular/cdk\",\n     ],\n )\n \n+# todo(aleksanderbodurri): fix this test suite\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n         \":component_data_source_test\",\n+        \"//packages/common/http\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n     ],\n )"
        },
        {
            "sha": "1be8b478d6a65f3189433d576e7f43f9ee8122f1",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/component-data-source/index.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Fcomponent-data-source%2Findex.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -163,7 +163,7 @@ export class ComponentDataSource extends DataSource<FlatNode> {\n     return {newItems, movedItems, removedItems};\n   }\n \n-  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n+  override connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n     const changes = [\n       collectionViewer.viewChange, this._treeControl.expansionModel.changed, this._flattenedData\n     ];\n@@ -174,5 +174,5 @@ export class ComponentDataSource extends DataSource<FlatNode> {\n     }));\n   }\n \n-  disconnect(): void {}\n+  override disconnect(): void {}\n }"
        },
        {
            "sha": "203c69377e5251b2062f54b8f53f9dad401dc104",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/filter/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Ffilter%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,5 +1,5 @@\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"filter.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"filter\",\n     srcs = [\n         \"filter.component.ts\",\n@@ -18,10 +18,9 @@ ng_ts_project(\n         \"filter.component.html\",\n         \":filter_component_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "271645f621ae28680c28d83cea6db72ad249a185",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fdirective-forest%2Findex-forest%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,19 +1,18 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"index-forest\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@angular/material\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"index_forest_test\",\n     srcs = glob([\"**/*.spec.ts\"]),\n     deps = ["
        },
        {
            "sha": "1ac56ef95dedf83ed1270453694f71c639fc6091",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/BUILD.bazel",
            "status": "modified",
            "additions": 14,
            "deletions": 11,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,10 +1,10 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"property-resolver\",\n     srcs = [\n         \"arrayify-props.ts\",\n@@ -14,20 +14,19 @@ ng_ts_project(\n         \"property-data-source.ts\",\n         \"property-expanded-directive-properties.ts\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/diffing\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"property_resolver_test\",\n     srcs = [\n         \"arrayify-props.spec.ts\",\n@@ -37,16 +36,20 @@ ts_test_project(\n     ],\n     deps = [\n         \":property-resolver\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@angular/cdk\",\n         \"@npm//@angular/material\",\n     ],\n )\n \n+# todo(aleksanderbodurri): fix this test suite\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n         \":property_resolver_test\",\n+        \"//packages/common/http\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n         \"@npm//@angular/material\",\n     ],\n )"
        },
        {
            "sha": "cc8e5aac4781be191f94dd6808e0822b28b8fcff",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver/property-data-source.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-resolver%2Fproperty-data-source.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -51,7 +51,7 @@ export class PropertyDataSource extends DataSource<FlatNode> {\n     this._data.next(this.data);\n   }\n \n-  connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n+  override connect(collectionViewer: CollectionViewer): Observable<FlatNode[]> {\n     const changed = this._treeControl.expansionModel.changed;\n     if (!changed) {\n       throw new Error('Unable to subscribe to the expansion model change');\n@@ -76,7 +76,7 @@ export class PropertyDataSource extends DataSource<FlatNode> {\n     }));\n   }\n \n-  disconnect(): void {\n+  override disconnect(): void {\n     this._subscriptions.forEach((s) => s.unsubscribe());\n     this._subscriptions = [];\n   }"
        },
        {
            "sha": "f4d7c29bb3e2510c4c32ded53154bb01f3c203b6",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/BUILD.bazel",
            "status": "modified",
            "additions": 28,
            "deletions": 20,
            "changes": 48,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,18 +1,28 @@\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n-    name = \"property_tab_styles\",\n-    srcs = [\n-        \"component-metadata.component.scss\",\n-        \"property-tab.component.scss\",\n-        \"property-tab-header.component.scss\",\n-    ],\n-)\n+_STYLE_SRCS = [\n+    \"component-metadata.component.scss\",\n+    \"property-tab.component.scss\",\n+    \"property-tab-header.component.scss\",\n+]\n \n-ng_ts_project(\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n+\n+ng_module(\n     name = \"property-tab\",\n     srcs = [\n         \"component-metadata.component.ts\",\n@@ -24,16 +34,14 @@ ng_ts_project(\n         \"property-tab.component.html\",\n         \"property-tab-header.component.html\",\n         \"component-metadata.component.html\",\n-        \":property_tab_styles\",\n-    ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "4af53c8dc4b6430b6e677d85e20ed3738633dee8",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-tab/property-view/BUILD.bazel",
            "status": "modified",
            "additions": 32,
            "deletions": 24,
            "changes": 56,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fdirective-explorer%2Fproperty-tab%2Fproperty-view%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,22 +1,32 @@\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n-    name = \"property_view_styles\",\n-    srcs = [\n-        \"property-editor.component.scss\",\n-        \"property-preview.component.scss\",\n-        \"property-tab-body.component.scss\",\n-        \"property-view.component.scss\",\n-        \"property-view-body.component.scss\",\n-        \"property-view-header.component.scss\",\n-        \"property-view-tree.component.scss\",\n-    ],\n-)\n+_STYLE_SRCS = [\n+    \"property-editor.component.scss\",\n+    \"property-preview.component.scss\",\n+    \"property-tab-body.component.scss\",\n+    \"property-view.component.scss\",\n+    \"property-view-body.component.scss\",\n+    \"property-view-header.component.scss\",\n+    \"property-view-tree.component.scss\",\n+]\n \n-ng_ts_project(\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n+\n+ng_module(\n     name = \"property-view\",\n     srcs = [\n         \"property-editor.component.ts\",\n@@ -36,17 +46,15 @@ ng_ts_project(\n         \"property-preview.component.html\",\n         \"property-editor.component.html\",\n         \"property-tab-body.component.html\",\n-        \":property_view_styles\",\n-    ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/directive-forest/index-forest\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/directive-explorer/property-resolver\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "43fcf11dd79a69fad706b24ca09345a577873124",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/BUILD.bazel",
            "status": "modified",
            "additions": 27,
            "deletions": 19,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,17 +1,27 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n-    name = \"profiler-styles\",\n-    srcs = [\n-        \"profiler.component.scss\",\n-        \"profiler-import-dialog.component.scss\",\n-    ],\n-)\n+_STYLE_SRCS = [\n+    \"profiler.component.scss\",\n+    \"profiler-import-dialog.component.scss\",\n+]\n \n-ng_ts_project(\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n+\n+ng_module(\n     name = \"profiler\",\n     srcs = [\n         \"file-api-service.ts\",\n@@ -22,16 +32,14 @@ ng_ts_project(\n     angular_assets = [\n         \"profiler.component.html\",\n         \"profiler-import-dialog.component.html\",\n-        \":profiler-styles\",\n-    ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline\",\n-        \"//projects/ng-devtools/src/lib/vendor/chromium\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/chromium\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n         \"@npm//@angular/material\",\n         \"@npm//rxjs\",\n     ],"
        },
        {
            "sha": "24db70b74dd541a6137171d35b459dc7c560fd2a",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/BUILD.bazel",
            "status": "modified",
            "additions": 38,
            "deletions": 26,
            "changes": 64,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,27 +1,37 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\", \"sass_binary\")\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n-    name = \"timeline_styles\",\n-    srcs = [\n-        \"frame-selector.component.scss\",\n-        \"recording-dialog.component.scss\",\n-        \"timeline.component.scss\",\n-        \"timeline-controls.component.scss\",\n-    ],\n-)\n+_STYLE_SRCS = [\n+    \"frame-selector.component.scss\",\n+    \"recording-dialog.component.scss\",\n+    \"timeline.component.scss\",\n+    \"timeline-controls.component.scss\",\n+]\n+\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n \n sass_binary(\n     name = \"recording_modal_styles\",\n     src = \"recording-modal.component.scss\",\n     include_paths = [\"node_modules\"],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"timeline\",\n     srcs = [\n         \"filter.ts\",\n@@ -38,27 +48,25 @@ ng_ts_project(\n         \"recording-modal.component.html\",\n         \"recording-dialog.component.html\",\n         \"frame-selector.component.html\",\n-        \":timeline_styles\",\n         \":recording_modal_styles\",\n-    ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/tab-update\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n         \"@npm//@angular/cdk\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n         \"@npm//@angular/material\",\n         \"@npm//ngx-flamegraph\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"filter.spec.ts\",\n@@ -69,9 +77,13 @@ ts_test_project(\n     ],\n )\n \n+# todo(aleksanderbodurri): fix this test suite\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n         \":test_lib\",\n+        \"//packages/common/http\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n     ],\n )"
        },
        {
            "sha": "9a1b89cc5dd93187174a9bdc47bb2f9bebe18ba9",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/BUILD.bazel",
            "status": "modified",
            "additions": 12,
            "deletions": 14,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1,9 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"record-formatter\",\n     srcs = glob(\n         include = [\n@@ -15,29 +15,27 @@ ts_project(\n             \"frame-merger.spec.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"record_formatter_spec_constants\",\n     srcs = [\"record-formatter-spec-constants.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"frame-merger.spec.ts\",\n@@ -46,8 +44,8 @@ ts_test_project(\n     deps = [\n         \":record-formatter\",\n         \":record_formatter_spec_constants\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n "
        },
        {
            "sha": "992e093bc57bd7afc58c39e6aa4b1c054703eaee",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter/BUILD.bazel",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fbargraph-formatter%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,21 +1,20 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"bargraph-formatter\",\n     srcs = glob(\n         include = [\n             \"*.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib:theme\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/ng-devtools/src/lib/vendor/memo-decorator\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib:theme\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/memo-decorator\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//ngx-flamegraph\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "a91d469286668df406826995328428a2b676ba94",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter/BUILD.bazel",
            "status": "modified",
            "additions": 12,
            "deletions": 13,
            "changes": 25,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Fflamegraph-formatter%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,39 +1,38 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"//tools:typescript.bzl\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"flamegraph-formatter\",\n     srcs = glob(\n         include = [\n             \"*.ts\",\n         ],\n         exclude = [\"flamegraph-formatter.spec.ts\"],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib:theme\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib:theme\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//memo-decorator\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"flamegraph-formatter.spec.ts\",\n     ],\n     deps = [\n         \":flamegraph-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record_formatter_spec_constants\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record_formatter_spec_constants\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n "
        },
        {
            "sha": "c903f71e7902b377e69873b66d63c8ba3407a9f6",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter/BUILD.bazel",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecord-formatter%2Ftree-map-formatter%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1,9 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"tree-map-formatter\",\n     srcs = glob(\n         include = [\n@@ -13,24 +13,23 @@ ts_project(\n             \"tree-map-formatter.spec.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/ng-devtools/src/lib/vendor/memo-decorator\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/memo-decorator\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"test_lib\",\n     srcs = [\n         \"tree-map-formatter.spec.ts\",\n     ],\n     deps = [\n         \":tree-map-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record_formatter_spec_constants\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter:record_formatter_spec_constants\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n "
        },
        {
            "sha": "7afd58d75fcfa32d81c21b744dddd4bb515006ac",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/recording-visualizer/BUILD.bazel",
            "status": "modified",
            "additions": 36,
            "deletions": 28,
            "changes": 64,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Frecording-visualizer%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,21 +1,31 @@\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n-    name = \"recording_visualizer_styles\",\n-    srcs = [\n-        \"bar-chart.component.scss\",\n-        \"bargraph-visualizer.component.scss\",\n-        \"execution-details.component.scss\",\n-        \"flamegraph-visualizer.component.scss\",\n-        \"timeline-visualizer.component.scss\",\n-        \"tree-map-visualizer.component.scss\",\n-    ],\n-)\n+_STYLE_SRCS = [\n+    \"bar-chart.component.scss\",\n+    \"bargraph-visualizer.component.scss\",\n+    \"execution-details.component.scss\",\n+    \"flamegraph-visualizer.component.scss\",\n+    \"timeline-visualizer.component.scss\",\n+    \"tree-map-visualizer.component.scss\",\n+]\n \n-ng_ts_project(\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n+\n+ng_module(\n     name = \"recording-visualizer\",\n     srcs = [\n         \"bar-chart.component.ts\",\n@@ -34,21 +44,19 @@ ng_ts_project(\n         \"bargraph-visualizer.component.html\",\n         \"bar-chart.component.html\",\n         \"execution-details.component.html\",\n-        \":recording_visualizer_styles\",\n-    ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools/src/lib:theme\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter\",\n-        \"//projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n-        \"//projects/ng-devtools/src/lib/vendor/angular-split\",\n-        \"//projects/ng-devtools/src/lib/vendor/webtreemap\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/animations\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib:theme\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/bargraph-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/flamegraph-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/record-formatter/tree-map-formatter\",\n+        \"//devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/angular-split\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/webtreemap\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/animations\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//ngx-flamegraph\","
        },
        {
            "sha": "99edb827ebbfcc52457ac55b4cc2281af67f0fa2",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/profiler/timeline/visualization-mode/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Fprofiler%2Ftimeline%2Fvisualization-mode%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1,8 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"visualization-mode\",\n     srcs = [\"index.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n )"
        },
        {
            "sha": "d57aaf0f2e8eeaee11099e9c0f066f4b478862fe",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/router-tree/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Frouter-tree%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"router-tree.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"router-tree\",\n     srcs = [\n         \"router-tree.component.ts\",\n@@ -18,11 +18,10 @@ ng_ts_project(\n         \":router-tree.component.html\",\n         \":router_tree_styles\",\n     ],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/protocol\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@angular/material\",\n         \"@npm//@types\",\n         \"@npm//d3\","
        },
        {
            "sha": "e021228d7ba8b1b2075c5ddb5f6e7b691538b1da",
            "filename": "devtools/projects/ng-devtools/src/lib/devtools-tabs/tab-update/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Ftab-update%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Ftab-update%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fdevtools-tabs%2Ftab-update%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,15 +1,14 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"tab-update\",\n     srcs = glob(\n         include = [\n             \"index.ts\",\n         ],\n     ),\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n         \"@npm//@types\",\n         \"@npm//rxjs\","
        },
        {
            "sha": "04f5f0d6e19f99cffd25784acb8dcf08576c95d7",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/angular-split/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,15 +1,14 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"angular-split\",\n     srcs = [\"public_api.ts\"],\n-    tsconfig = \"//projects/ng-devtools:tsconfig_lib\",\n     deps = [\n-        \"//projects/ng-devtools/src/lib/vendor/angular-split/lib\",\n-        \"//projects/ng-devtools/src/lib/vendor/angular-split/lib/component:split\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/component:split\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],"
        },
        {
            "sha": "3be9251af79c671daf41847fdf801a434d0427b0",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/BUILD.bazel",
            "status": "modified",
            "additions": 5,
            "deletions": 14,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,27 +1,18 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-sass_binary(\n-    name = \"split_component_styles\",\n-    src = \"//projects/ng-devtools/src/lib/vendor/angular-split/lib/component:split.component.scss\",\n-)\n-\n-ng_ts_project(\n+ng_module(\n     name = \"lib\",\n     srcs = glob(\n         include = [\n             \"*.ts\",\n         ],\n     ),\n-    angular_assets = [\n-        \":split_component_styles\",\n-    ],\n     deps = [\n-        \"//projects/ng-devtools/src/lib/vendor/angular-split/lib/component:split\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/component:split\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],"
        },
        {
            "sha": "e5ba5b5936d2e6dd6caf395c00edfb7ad83952ce",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/component/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"split.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"split\",\n     srcs = [\n         \"interface.ts\",\n@@ -21,8 +21,8 @@ ng_ts_project(\n         \":split_styles\",\n     ],\n     deps = [\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n         \"@npm//rxjs\",\n     ],\n )"
        },
        {
            "sha": "2be753212379c3313aa991298f6e9346f99c2191",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/component/split.component.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Fsplit.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Fsplit.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Fsplit.component.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -217,7 +217,7 @@ export class SplitComponent implements AfterViewInit, OnDestroy {\n   @Output()\n   get transitionEnd(): Observable<IOutputAreaSizes> {\n     return new Observable((subscriber) => (this.transitionEndSubscriber = subscriber))\n-        .pipe(debounceTime<IOutputAreaSizes>(20));\n+        .pipe(debounceTime<any>(20));\n   }\n \n   private dragProgressSubject: Subject<IOutputData> = new Subject();"
        },
        {
            "sha": "0aceef068de26fef6217e29ee33856831e8ec12c",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/angular-split/lib/component/utils.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Futils.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Futils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fangular-split%2Flib%2Fcomponent%2Futils.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -40,7 +40,7 @@ export function getInputPositiveNumber<T>(v: any, defaultValue: T): number|T {\n }\n \n export function isUserSizesValid(unit: 'percent'|'pixel', sizes: Array<number|null>): boolean|\n-    undefined {\n+    undefined|void {\n   // All sizes have to be not null and total should be 100\n   if (unit === 'percent') {\n     const total = sizes.reduce((total, s) => (s !== null ? total! + s : total), 0);\n@@ -106,7 +106,7 @@ export function getGutterSideAbsorptionCapacity(\n \n function getAreaAbsorptionCapacity(\n     unit: 'percent'|'pixel', areaSnapshot: IAreaSnapshot, pixels: number,\n-    allAreasSizePixel: number): IAreaAbsorptionCapacity|undefined {\n+    allAreasSizePixel: number): IAreaAbsorptionCapacity|undefined|void {\n   // No pain no gain\n   if (pixels === 0) {\n     return {\n@@ -138,7 +138,7 @@ function getAreaAbsorptionCapacity(\n \n function getAreaAbsorptionCapacityPercent(\n     areaSnapshot: IAreaSnapshot, pixels: number,\n-    allAreasSizePixel: number): IAreaAbsorptionCapacity|undefined {\n+    allAreasSizePixel: number): IAreaAbsorptionCapacity|undefined|void {\n   const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n   const tempPercentSize = (tempPixelSize / allAreasSizePixel) * 100;\n \n@@ -198,7 +198,7 @@ function getAreaAbsorptionCapacityPercent(\n \n function getAreaAbsorptionCapacityPixel(\n     areaSnapshot: IAreaSnapshot, pixels: number,\n-    containerSizePixel: number): IAreaAbsorptionCapacity|undefined {\n+    containerSizePixel: number): IAreaAbsorptionCapacity|undefined|void {\n   const tempPixelSize = areaSnapshot.sizePixelAtStart + pixels;\n \n   // ENLARGE AREA"
        },
        {
            "sha": "51eeef9c73e57fcb29de3ee0360c4ece22d33f92",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/chromium/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fchromium%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fchromium%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fchromium%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,8 +1,8 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n \n-ts_project(\n+ts_library(\n     name = \"chromium\",\n     srcs = [\"date-utilities.ts\"],\n )"
        },
        {
            "sha": "e40c82a17c3091ed45be1e8ba75e629de65c5a0d",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/memo-decorator/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,8 +1,8 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n \n-ts_project(\n+ts_library(\n     name = \"memo-decorator\",\n     srcs = [\"index.ts\"],\n )"
        },
        {
            "sha": "ea924ecd08304c1f58a7d6598ebf6f701008898e",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/memo-decorator/index.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fmemo-decorator%2Findex.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -14,13 +14,15 @@ export interface Config {\n function memoize(func: Function, resolver: Resolver, cache: MapLike) {\n   const memoized = function() {\n     const args = arguments;\n+    // @ts-ignore: ignore implicit any type\n     const key = resolver.apply(this, args);\n     const cache = memoized.cache;\n \n     if (cache.has(key)) {\n       return cache.get(key);\n     }\n \n+    // @ts-ignore: ignore implicit any type\n     const result = func.apply(this, args);\n     memoized.cache = cache.set(key, result) ?? cache;\n     return result;"
        },
        {
            "sha": "70ecd18bb30e6cfbe61e7ee60d95078b98aafc0b",
            "filename": "devtools/projects/ng-devtools/src/lib/vendor/webtreemap/BUILD.bazel",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fwebtreemap%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fwebtreemap%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Flib%2Fvendor%2Fwebtreemap%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,8 +1,8 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//:__subpackages__\"])\n \n-ts_project(\n+ts_library(\n     name = \"webtreemap\",\n     srcs = [\n         \"tree.ts\","
        },
        {
            "sha": "61db79ba55515c62fd7e763fa96da1d05e018334",
            "filename": "devtools/projects/ng-devtools/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,24 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone';\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "4dee55f54cbfbd404f763fa7f0680421db0b1b7f",
            "filename": "devtools/projects/ng-devtools/tsconfig.lib.json",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,17 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/lib\",\n-    \"target\": \"es2015\",\n-    \"declaration\": true,\n-    \"inlineSources\": true,\n-    \"types\": [],\n-    \"lib\": [\"dom\", \"es2018\"]\n-  },\n-  \"angularCompilerOptions\": {\n-    \"skipTemplateCodegen\": true,\n-    \"strictMetadataEmit\": true,\n-    \"enableResourceInlining\": true\n-  },\n-  \"exclude\": [\"src/test.ts\", \"**/*.spec.ts\"]\n-}"
        },
        {
            "sha": "cbae794224800aec4b08c87a37135e334265908e",
            "filename": "devtools/projects/ng-devtools/tsconfig.lib.prod.json",
            "status": "removed",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.prod.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.prod.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.lib.prod.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,6 +0,0 @@\n-{\n-  \"extends\": \"./tsconfig.lib.json\",\n-  \"angularCompilerOptions\": {\n-    \"enableIvy\": false\n-  }\n-}"
        },
        {
            "sha": "d4f02006a43b64cc76abef77b46f75d8f812b7a9",
            "filename": "devtools/projects/ng-devtools/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fng-devtools%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\"],\n-  \"include\": [\"**/*.ts\", \"**/*.d.ts\"]\n-}"
        },
        {
            "sha": "86b4e59513c51a79b9a177ec43ed1821d3217116",
            "filename": "devtools/projects/protocol/BUILD.bazel",
            "status": "modified",
            "additions": 19,
            "deletions": 32,
            "changes": 51,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fprotocol%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fprotocol%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,29 +1,15 @@\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n exports_files([\n     \"tsconfig.lib.json\",\n     \"tsconfig.spec.json\",\n-    \"karma.conf.js\",\n ])\n \n-ts_config(\n-    name = \"tsconfig_lib\",\n-    src = \"tsconfig.lib.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ts_config(\n-    name = \"tsconfig_spec\",\n-    src = \"tsconfig.spec.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ts_project(\n+ts_library(\n     name = \"protocol_ts\",\n     srcs = glob(\n         [\"**/*.ts\"],\n@@ -32,34 +18,35 @@ ts_project(\n             \"src/test.ts\",\n         ],\n     ),\n-    tsconfig = \":tsconfig_lib\",\n     deps = [\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@types\",\n     ],\n )\n \n-js_library(\n-    name = \"protocol\",\n-    package_name = \"protocol\",\n-    deps = [\":protocol_ts\"],\n-)\n-\n-ts_test_project(\n+ts_test_library(\n     name = \"protocol_test\",\n-    srcs = glob([\"**/*.spec.ts\"]),\n+    srcs = glob(\n+        [\"**/*.spec.ts\"],\n+    ),\n     deps = [\n-        \":protocol\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \":protocol_ts\",\n+        \"//packages/core/testing\",\n+        \"//packages/platform-browser-dynamic/testing\",\n         \"@npm//@types\",\n     ],\n )\n \n+js_library(\n+    name = \"protocol\",\n+    package_name = \"protocol\",\n+    deps = [\":protocol_ts\"],\n+)\n+\n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n-        \"//projects/protocol:protocol_test\",\n+        \"//devtools/projects/protocol:protocol_test\",\n     ],\n )"
        },
        {
            "sha": "4ef16289119d969b0c539ded3a12a81d6df7eadb",
            "filename": "devtools/projects/protocol/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/protocol'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "9a98f29e62976f4ebc348fd0faf3a27262a24602",
            "filename": "devtools/projects/protocol/ng-package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Fng-package.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,7 +0,0 @@\n-{\n-  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n-  \"dest\": \"../../dist/protocol\",\n-  \"lib\": {\n-    \"entryFile\": \"src/public-api.ts\"\n-  }\n-}"
        },
        {
            "sha": "3f772475b419a4adac81b7f925b6183f4997ad86",
            "filename": "devtools/projects/protocol/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Fpackage.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"name\": \"protocol\",\n-  \"version\": \"0.0.1\",\n-  \"peerDependencies\": {\n-    \"@angular/common\": \"^13.0.0\",\n-    \"@angular/core\": \"^13.0.0\",\n-    \"tslib\": \"^2.0.0\"\n-  }\n-}"
        },
        {
            "sha": "7c411f7f6a06fdd8d5917789ed142436ef567a1d",
            "filename": "devtools/projects/protocol/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,24 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone';\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.spec\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "4dee55f54cbfbd404f763fa7f0680421db0b1b7f",
            "filename": "devtools/projects/protocol/tsconfig.lib.json",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,17 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/lib\",\n-    \"target\": \"es2015\",\n-    \"declaration\": true,\n-    \"inlineSources\": true,\n-    \"types\": [],\n-    \"lib\": [\"dom\", \"es2018\"]\n-  },\n-  \"angularCompilerOptions\": {\n-    \"skipTemplateCodegen\": true,\n-    \"strictMetadataEmit\": true,\n-    \"enableResourceInlining\": true\n-  },\n-  \"exclude\": [\"src/test.ts\", \"**/*.spec.ts\"]\n-}"
        },
        {
            "sha": "cbae794224800aec4b08c87a37135e334265908e",
            "filename": "devtools/projects/protocol/tsconfig.lib.prod.json",
            "status": "removed",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.prod.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.prod.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Ftsconfig.lib.prod.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,6 +0,0 @@\n-{\n-  \"extends\": \"./tsconfig.lib.json\",\n-  \"angularCompilerOptions\": {\n-    \"enableIvy\": false\n-  }\n-}"
        },
        {
            "sha": "ec3528a8fd06a111c936374d066d66b4a9cac5bd",
            "filename": "devtools/projects/protocol/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fprotocol%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fprotocol%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\"],\n-  \"include\": [\"**/*.spec.ts\", \"**/*.d.ts\"]\n-}"
        },
        {
            "sha": "e7ae050c0a7ada7288ecaf9c0af48309953aaaae",
            "filename": "devtools/projects/shared-utils/BUILD.bazel",
            "status": "modified",
            "additions": 9,
            "deletions": 23,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshared-utils%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshared-utils%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,23 +1,10 @@\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n-load(\"//tools:typescript.bzl\", \"ts_project\", \"ts_test_project\")\n-load(\"//tools:defaults.bzl\", \"karma_web_test_suite\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\", \"ts_test_library\")\n+load(\"//devtools/tools:defaults.bzl\", \"karma_web_test_suite\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_config(\n-    name = \"tsconfig_lib\",\n-    src = \"tsconfig.lib.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ts_config(\n-    name = \"tsconfig_spec\",\n-    src = \"tsconfig.spec.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)\n-\n-ts_project(\n+ts_library(\n     name = \"shared_utils_ts\",\n     srcs = glob(\n         [\"**/*.ts\"],\n@@ -26,10 +13,9 @@ ts_project(\n             \"src/test.ts\",\n         ],\n     ),\n-    tsconfig = \":tsconfig_lib\",\n     deps = [\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@types\",\n     ],\n )\n@@ -40,20 +26,20 @@ js_library(\n     deps = [\":shared_utils_ts\"],\n )\n \n-ts_test_project(\n+ts_test_library(\n     name = \"shared_utils_test\",\n     srcs = glob([\"**/*.spec.ts\"]),\n     deps = [\n         \":shared-utils\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n         \"@npm//@types\",\n     ],\n )\n \n karma_web_test_suite(\n     name = \"test\",\n     deps = [\n-        \"//projects/shared-utils:shared_utils_test\",\n+        \"//devtools/projects/shared-utils:shared_utils_test\",\n     ],\n )"
        },
        {
            "sha": "13b0738e72d1460132a3d26e36ad6e63056dc6f4",
            "filename": "devtools/projects/shared-utils/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/shared-utils'),\n-      reports: ['html', 'lcovonly'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "f9f7c4cecfd94b8a52e8c8cbbf1d66c81e50c3ca",
            "filename": "devtools/projects/shared-utils/ng-package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fng-package.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fng-package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Fng-package.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,7 +0,0 @@\n-{\n-  \"$schema\": \"../../node_modules/ng-packagr/ng-package.schema.json\",\n-  \"dest\": \"../../dist/shared-utils\",\n-  \"lib\": {\n-    \"entryFile\": \"src/public-api.ts\"\n-  }\n-}"
        },
        {
            "sha": "694c52c045c9d6e07c3d924abc1454314765ff21",
            "filename": "devtools/projects/shared-utils/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Fpackage.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,8 +0,0 @@\n-{\n-  \"name\": \"shared-utils\",\n-  \"version\": \"0.0.1\",\n-  \"peerDependencies\": {\n-    \"@angular/common\": \"^13.0.0\",\n-    \"@angular/core\": \"^13.0.0\"\n-  }\n-}"
        },
        {
            "sha": "bc203936b6a8b010afd5ce2a4e77dda1c66e9fd2",
            "filename": "devtools/projects/shared-utils/src/lib/shared-utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Flib%2Fshared-utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Flib%2Fshared-utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Flib%2Fshared-utils.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -23,5 +23,5 @@ export const arrayEquals =\n           break;\n         }\n       }\n-      return equal;\n+      return equal ?? false;\n     };"
        },
        {
            "sha": "7c411f7f6a06fdd8d5917789ed142436ef567a1d",
            "filename": "devtools/projects/shared-utils/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,24 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone';\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.spec\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "4dee55f54cbfbd404f763fa7f0680421db0b1b7f",
            "filename": "devtools/projects/shared-utils/tsconfig.lib.json",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.lib.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.lib.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.lib.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,17 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/lib\",\n-    \"target\": \"es2015\",\n-    \"declaration\": true,\n-    \"inlineSources\": true,\n-    \"types\": [],\n-    \"lib\": [\"dom\", \"es2018\"]\n-  },\n-  \"angularCompilerOptions\": {\n-    \"skipTemplateCodegen\": true,\n-    \"strictMetadataEmit\": true,\n-    \"enableResourceInlining\": true\n-  },\n-  \"exclude\": [\"src/test.ts\", \"**/*.spec.ts\"]\n-}"
        },
        {
            "sha": "ec3528a8fd06a111c936374d066d66b4a9cac5bd",
            "filename": "devtools/projects/shared-utils/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshared-utils%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\"],\n-  \"include\": [\"**/*.spec.ts\", \"**/*.d.ts\"]\n-}"
        },
        {
            "sha": "3951015536d40d3c1510b23df6e9fb3a53bf622a",
            "filename": "devtools/projects/shell-chrome/.browserslistrc",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2F.browserslistrc",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2F.browserslistrc",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2F.browserslistrc?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n-# For additional information regarding the format and rule options, please see:\n-# https://github.com/browserslist/browserslist#queries\n-\n-# You can see what browsers were selected by your queries by running:\n-#   npx browserslist\n-\n-last 2 chrome version\n-last 2 firefox version"
        },
        {
            "sha": "ffd0fb0cdc5bc3ecb62d3cbb5b502b353073615f",
            "filename": "devtools/projects/shell-chrome/BUILD.bazel",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1 @@\n-load(\"@npm//@bazel/typescript:index.bzl\", \"ts_config\")\n-\n package(default_visibility = [\"//visibility:public\"])\n-\n-ts_config(\n-    name = \"tsconfig_app\",\n-    src = \"tsconfig.app.json\",\n-    deps = [\"//:tsconfig.json\"],\n-)"
        },
        {
            "sha": "d86f600edbf1781972ac1921dada852bb7036f8d",
            "filename": "devtools/projects/shell-chrome/e2e/protractor.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 38,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fprotractor.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fprotractor.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fprotractor.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,38 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// @ts-check\n-// Protractor configuration file, see link for more information\n-// https://github.com/angular/protractor/blob/master/lib/config.ts\n-\n-const {SpecReporter} = require('jasmine-spec-reporter');\n-\n-/**\n- * @type { import(\"protractor\").Config }\n- */\n-exports.config = {\n-  allScriptsTimeout: 11000,\n-  specs: ['./src/**/*.e2e-spec.ts'],\n-  capabilities: {\n-    browserName: 'chrome',\n-  },\n-  directConnect: true,\n-  baseUrl: 'http://localhost:4200/',\n-  framework: 'jasmine',\n-  jasmineNodeOpts: {\n-    showColors: true,\n-    defaultTimeoutInterval: 30000,\n-    print: function() {},\n-  },\n-  onPrepare() {\n-    require('ts-node').register({\n-      project: require('path').join(__dirname, './tsconfig.json'),\n-    });\n-    jasmine.getEnv().addReporter(new SpecReporter({spec: {displayStacktrace: true}}));\n-  },\n-};"
        },
        {
            "sha": "fa9f5668601f990a9c531f1434ad244740e0013d",
            "filename": "devtools/projects/shell-chrome/e2e/src/app.e2e-spec.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 32,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.e2e-spec.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,32 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, logging} from 'protractor';\n-\n-import {AppPage} from './app.po';\n-\n-describe('workspace-project App', () => {\n-  let page: AppPage;\n-\n-  beforeEach(() => {\n-    page = new AppPage();\n-  });\n-\n-  it('should display welcome message', () => {\n-    page.navigateTo();\n-    expect(page.getTitleText()).toEqual('shell-chrome app is running!');\n-  });\n-\n-  afterEach(async () => {\n-    // Assert that there are no errors emitted from the browser\n-    const logs = await browser.manage().logs().get(logging.Type.BROWSER);\n-    expect(logs).not.toContain(jasmine.objectContaining({\n-      level: logging.Level.SEVERE,\n-    } as logging.Entry));\n-  });\n-});"
        },
        {
            "sha": "3a56a45bacc70d73c44b78a4691e7b5f465c1e6c",
            "filename": "devtools/projects/shell-chrome/e2e/src/app.po.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.po.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.po.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Fsrc%2Fapp.po.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {browser, by, element} from 'protractor';\n-\n-export class AppPage {\n-  navigateTo(): Promise<any> {\n-    return browser.get(browser.baseUrl) as Promise<any>;\n-  }\n-\n-  getTitleText(): Promise<string> {\n-    return element(by.css('app-root .content span')).getText() as Promise<string>;\n-  }\n-}"
        },
        {
            "sha": "201351434ec446b2121e3081b99468139b786363",
            "filename": "devtools/projects/shell-chrome/e2e/tsconfig.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fe2e%2Ftsconfig.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../../out-tsc/e2e\",\n-    \"module\": \"commonjs\",\n-    \"target\": \"es5\",\n-    \"types\": [\"jasmine\", \"jasminewd2\", \"node\"]\n-  }\n-}"
        },
        {
            "sha": "e4b1dc2174821feeea6ea8829fe46453bfe2ca8c",
            "filename": "devtools/projects/shell-chrome/karma.conf.js",
            "status": "removed",
            "additions": 0,
            "deletions": 46,
            "changes": 46,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fkarma.conf.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fkarma.conf.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fkarma.conf.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,46 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// Karma configuration file, see link for more information\n-// https://karma-runner.github.io/1.0/config/configuration-file.html\n-\n-module.exports = function(config) {\n-  config.set({\n-    basePath: '',\n-    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n-    plugins: [\n-      require('karma-jasmine'),\n-      require('karma-chrome-launcher'),\n-      require('karma-jasmine-html-reporter'),\n-      require('karma-coverage'),\n-      require('@angular-devkit/build-angular/plugins/karma'),\n-    ],\n-    client: {\n-      clearContext: true,  // leave Jasmine Spec Runner output visible in browser\n-    },\n-    coverageIstanbulReporter: {\n-      dir: require('path').join(__dirname, '../../coverage/shell-chrome'),\n-      reports: ['html', 'lcovonly', 'text-summary'],\n-      fixWebpackSourcePaths: true,\n-    },\n-    reporters: ['progress', 'kjhtml'],\n-    port: 9876,\n-    colors: true,\n-    logLevel: config.LOG_INFO,\n-    autoWatch: true,\n-    browsers: ['ChromeHeadlessNoSandbox'],\n-    customLaunchers: {\n-      ChromeHeadlessNoSandbox: {\n-        base: 'ChromeHeadless',\n-        flags: ['--no-sandbox'],\n-      },\n-    },\n-    singleRun: false,\n-    restartOnFileChange: true,\n-  });\n-};"
        },
        {
            "sha": "8ee3200ddf26f837e632c13bfa33f6561b86faae",
            "filename": "devtools/projects/shell-chrome/src/BUILD.bazel",
            "status": "modified",
            "additions": 50,
            "deletions": 69,
            "changes": 119,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,10 +1,9 @@\n-load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n-load(\"@npm//@bazel/terser:index.bzl\", \"terser_minified\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\", \"sass_library\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\", \"pkg_web\")\n-load(\"@npm//html-insert-assets:index.bzl\", \"html_insert_assets\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"esbuild\")\n+load(\"//devtools/tools/esbuild:index.bzl\", \"LINKER_PROCESSED_FW_PACKAGES\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -230,7 +229,7 @@ sass_binary(\n     deps = [\":material_theming\"],\n )\n \n-ts_project(\n+ts_library(\n     name = \"devtools_ts\",\n     srcs = [\n         \"devtools.ts\",\n@@ -245,87 +244,69 @@ js_library(\n     deps = [\":devtools_ts\"],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"src\",\n     srcs = [\n         \"main.ts\",\n-        \"polyfills.ts\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//projects/shell-chrome/src/app\",\n-        \"//projects/shell-chrome/src/environments:environment\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/shell-chrome/src/app\",\n+        \"//devtools/projects/shell-chrome/src/environments:environment\",\n+        \"//packages/common\",\n+        \"//packages/common/http\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser-dynamic\",\n     ],\n )\n \n-rollup_bundle(\n-    name = \"devtools_app_bundle_es2015\",\n-    config_file = \"rollup.config.js\",\n-    entry_point = \"main.ts\",\n-    output_dir = True,\n-    deps = [\n-        \":src\",\n-        \"@npm//@rollup/plugin-commonjs\",\n-        \"@npm//@rollup/plugin-node-resolve\",\n-    ],\n+esbuild(\n+    name = \"bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_esm\",\n+    entry_points = [\":main.ts\"],\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n+    deps = LINKER_PROCESSED_FW_PACKAGES + [\":src\"],\n )\n \n-terser_minified(\n-    name = \"devtools_app_bundle_es2015.min\",\n-    src = \":devtools_app_bundle_es2015\",\n+esbuild(\n+    name = \"devtools_bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_esm\",\n+    entry_point = \"devtools.ts\",\n+    format = \"iife\",\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n+    deps = [\":devtools\"],\n )\n \n-# Files that we serve in both development and production\n-_ASSETS = [\n-    # This label references an output of the \"styles\" sass_binary above.\n-    \":shell_chrome_styles\",\n-    \":manifest.json\",\n-\n-    # We load zone.js outside the bundle. That's because it's a \"pollyfill\"\n-    # which speculates that such features might be available in a browser.\n-    # Also it's tricky to configure dead code elimination to understand that\n-    # zone.js is used, given that we don't have any import statement that\n-    # imports from it.\n-    \"@npm//:node_modules/zone.js/dist/zone.min.js\",\n-]\n-\n-html_insert_assets(\n-    name = \"inject_scripts_for_prod\",\n-    outs = [\"index.html\"],\n-    args = [\n-        \"--html=$(execpath //projects/shell-chrome/src:_index.html)\",\n-        \"--out=$@\",\n-        \"--roots=. $(RULEDIR)\",\n-        \"--assets\",\n-    ] + [\"$(execpath %s)\" % s for s in _ASSETS],\n-    data = [\"//projects/shell-chrome/src:_index.html\"] + _ASSETS,\n-)\n+exports_files([\"index.html\"])\n \n-rollup_bundle(\n-    name = \"devtools_es2015\",\n-    entry_point = \"devtools.ts\",\n-    format = \"iife\",\n-    deps = [\n-        \":devtools\",\n+filegroup(\n+    name = \"prod_app_static_files\",\n+    srcs = [\n+        \":index.html\",\n+        \":manifest.json\",\n+        \":shell_chrome_styles\",\n+        \"//packages/zone.js/bundles:zone.umd.js\",\n     ],\n )\n \n pkg_web(\n     name = \"prodapp\",\n-    srcs = _ASSETS + [\n-        \":devtools_es2015\",\n-        \"//projects/shell-chrome/src/app:ng_validate_es2015\",\n-        \"//projects/shell-chrome/src/app:background_es2015\",\n-        \"//projects/shell-chrome/src/app:backend_es2015\",\n-        \"//projects/shell-chrome/src/app:content_script_es2015\",\n-        \":devtools_app_bundle_es2015\",\n-        \":inject_scripts_for_prod\",\n-        \"//projects/shell-chrome/src/assets\",\n-        \"//projects/shell-chrome/src/popups\",\n-        \"//projects/shell-chrome/src:devtools.html\",\n-        \"//projects/ng-devtools/src/lib/images\",\n+    srcs = [\n+        \":bundle\",\n+        \":devtools_bundle\",\n+        \":prod_app_static_files\",\n+        \"//devtools/projects/ng-devtools/src/lib/images\",\n+        \"//devtools/projects/shell-chrome/src:devtools.html\",\n+        \"//devtools/projects/shell-chrome/src/app:backend_bundle\",\n+        \"//devtools/projects/shell-chrome/src/app:background_bundle\",\n+        \"//devtools/projects/shell-chrome/src/app:content_script_bundle\",\n+        \"//devtools/projects/shell-chrome/src/app:ng_validate_bundle\",\n+        \"//devtools/projects/shell-chrome/src/assets\",\n+        \"//devtools/projects/shell-chrome/src/popups\",\n     ],\n     additional_root_paths = [\n         \"projects/ng-devtools/src/lib\","
        },
        {
            "sha": "be607f463a6bf6e2a717e8c8cd67787175c63efc",
            "filename": "devtools/projects/shell-chrome/src/app/BUILD.bazel",
            "status": "modified",
            "additions": 90,
            "deletions": 72,
            "changes": 162,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,7 +1,7 @@\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n-load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n+load(\"//tools:defaults.bzl\", \"esbuild\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -10,7 +10,7 @@ sass_binary(\n     src = \"app.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"app\",\n     srcs = [\n         \"app.component.ts\",\n@@ -25,19 +25,20 @@ ng_ts_project(\n         \":chrome_application_environment\",\n         \":chrome_application_operations\",\n         \":zone_aware_chrome_message_bus\",\n-        \"//projects/ng-devtools\",\n-        \"//projects/ng-devtools-backend\",\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/protocol\",\n-        \"//projects/shell-chrome/src/app:backend\",\n-        \"//projects/shell-chrome/src/app:background\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/ng-devtools-backend\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/protocol\",\n+        \"//devtools/projects/shell-chrome/src/app:backend\",\n+        \"//devtools/projects/shell-chrome/src/app:background\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"ng_validate\",\n     srcs = [\n         \"ng-validate.ts\",\n@@ -47,145 +48,162 @@ ts_project(\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"chrome_window_extensions\",\n     srcs = [\n         \"chrome-window-extensions.ts\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools-backend\",\n-        \"//projects/ng-devtools-backend/src/lib:component_tree\",\n+        \"//devtools/projects/ng-devtools-backend\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:component_tree\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"chrome_application_environment\",\n     srcs = [\n         \"chrome-application-environment.ts\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//projects/shell-chrome/src/environments:environment\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/shell-chrome/src/environments:environment\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"chrome_application_operations\",\n     srcs = [\n         \"chrome-application-operations.ts\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"same_page_message_bus\",\n     srcs = [\n         \"same-page-message-bus.ts\",\n     ],\n     deps = [\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"zone_aware_chrome_message_bus\",\n     srcs = [\n         \"zone-aware-chrome-message-bus.ts\",\n     ],\n     deps = [\n         \":chrome_message_bus\",\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"chrome_message_bus\",\n     srcs = [\n         \"chrome-message-bus.ts\",\n     ],\n     deps = [\n-        \"//projects/protocol\",\n-        \"@npm//@angular/core\",\n+        \"//devtools/projects/protocol\",\n+        \"//packages/core\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"background\",\n     srcs = [\n         \"background.ts\",\n     ],\n-    deps = [\"//projects/shell-chrome/src/app:ng_validate\"],\n+    deps = [\"//devtools/projects/shell-chrome/src/app:ng_validate\"],\n )\n \n-ts_project(\n+ts_library(\n     name = \"backend\",\n     srcs = [\n         \"backend.ts\",\n     ],\n     deps = [\n         \":same_page_message_bus\",\n-        \"//projects/ng-devtools-backend\",\n-        \"//projects/ng-devtools-backend/src/lib:highlighter\",\n-        \"//projects/shell-chrome/src/app:chrome_window_extensions\",\n+        \"//devtools/projects/ng-devtools-backend\",\n+        \"//devtools/projects/ng-devtools-backend/src/lib:highlighter\",\n+        \"//devtools/projects/shell-chrome/src/app:chrome_window_extensions\",\n         \"@npm//@types\",\n     ],\n )\n \n-ts_project(\n+ts_library(\n     name = \"content_script\",\n     srcs = [\n         \"content-script.ts\",\n     ],\n     deps = [\n         \":chrome_message_bus\",\n         \":same_page_message_bus\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n         \"@npm//@types\",\n     ],\n )\n \n-rollup_bundle(\n-    name = \"backend\" + \"_es2015\",\n-    config_file = \"//projects/shell-chrome/src:rollup.config.js\",\n-    entry_point = \"backend\" + \".ts\",\n+esbuild(\n+    name = \"backend_bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_iife\",\n+    entry_point = \"backend.ts\",\n     format = \"iife\",\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n     deps = [\n-        \":\" + \"backend\",\n-        \"@npm//@rollup/plugin-commonjs\",\n-        \"@npm//@rollup/plugin-node-resolve\",\n-    ],\n-)\n-\n-[\n-    rollup_bundle(\n-        name = target_name + \"_es2015\",\n-        args = [\n-            \"--name\",\n-            target_name + \"-out\",\n-        ],\n-        config_file = \"//projects/shell-chrome/src:rollup.config.js\",\n-        entry_point = file_name,\n-        format = format,\n-        deps = [\n-            \":\" + target_name,\n-            \"@npm//@rollup/plugin-commonjs\",\n-            \"@npm//@rollup/plugin-node-resolve\",\n-        ],\n-    )\n-    for target_name, file_name, format in [\n-        (\"ng_validate\", \"ng-validate.ts\", \"umd\"),\n-        (\"background\", \"background.ts\", \"umd\"),\n-        (\"content_script\", \"content-script.ts\", \"umd\"),\n-    ]\n-]\n+        \":backend\",\n+    ],\n+)\n+\n+esbuild(\n+    name = \"ng_validate_bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_iife\",\n+    entry_point = \"ng-validate.ts\",\n+    format = \"iife\",\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n+    deps = [\n+        \":ng_validate\",\n+    ],\n+)\n+\n+esbuild(\n+    name = \"background_bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_iife\",\n+    entry_point = \"background.ts\",\n+    format = \"iife\",\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n+    deps = [\n+        \":background\",\n+    ],\n+)\n+\n+esbuild(\n+    name = \"content_script_bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_iife\",\n+    entry_point = \"content-script.ts\",\n+    format = \"iife\",\n+    platform = \"browser\",\n+    splitting = False,\n+    target = \"esnext\",\n+    deps = [\n+        \":content_script\",\n+    ],\n+)"
        },
        {
            "sha": "bcffac3ba33c56ec149b1adb2e422966cb003de9",
            "filename": "devtools/projects/shell-chrome/src/app/app.component.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fapp.component.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -37,7 +37,7 @@ export class AppComponent implements OnInit {\n       window.location.reload();\n     });\n \n-    injectScripts(['app/backend-es2015.js']);\n+    injectScripts(['app/backend_bundle.js']);\n     this._cd.detectChanges();\n   }\n }"
        },
        {
            "sha": "289a8d33a2c4f5c0000b7c1a458a566e849473dc",
            "filename": "devtools/projects/shell-chrome/src/app/background.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fbackground.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,6 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+/// <reference types=\"chrome\"/>\n+\n import {AngularDetection} from './ng-validate';\n \n // Electron does not expose browserAction object,\n@@ -92,9 +94,9 @@ const installContentScript = (tabId: number) => {\n \n   // We first inject the content-script and after that\n   // invoke the global that it exposes.\n-  chrome.tabs.executeScript(tabId, {file: 'app/content-script-es2015.js'}, (result) => {\n+  chrome.tabs.executeScript(tabId, {file: 'app/content_script_bundle.js'}, (result) => {\n     chrome.tabs.executeScript(tabId, {\n-      code: 'globalThis[\"content-script-out\"].main()',\n+      code: 'globalThis.main()',\n     });\n   });\n };"
        },
        {
            "sha": "b5e9c72f7fc77c85156c4b80146453010b3265b4",
            "filename": "devtools/projects/shell-chrome/src/app/chrome-application-operations.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-application-operations.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-application-operations.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-application-operations.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,6 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+/// <reference types=\"chrome\"/>\n+\n import {ApplicationOperations} from 'ng-devtools';\n import {DirectivePosition, ElementPosition} from 'protocol';\n "
        },
        {
            "sha": "e6f28585c77e931585716ec26721d084a7bf9a66",
            "filename": "devtools/projects/shell-chrome/src/app/chrome-message-bus.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-message-bus.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-message-bus.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fchrome-message-bus.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,6 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+/// <reference types=\"chrome\"/>\n+\n import {Events, MessageBus, Parameters} from 'protocol';\n \n interface ChromeMessage<T, K extends keyof T> {"
        },
        {
            "sha": "ce6b263a30d91b1b8ef875e8ca5159071b4fc62d",
            "filename": "devtools/projects/shell-chrome/src/app/content-script.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fcontent-script.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fcontent-script.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fcontent-script.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -60,3 +60,6 @@ export const main = () => {\n     retry();\n   }\n };\n+\n+// expose to use as callback for chrome.tabs.executeScript in background.ts\n+globalThis.main = main;"
        },
        {
            "sha": "fb7f177c6ed5934cc796df63eb13aa7afe6b6e94",
            "filename": "devtools/projects/shell-chrome/src/app/ng-validate.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fng-validate.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fng-validate.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fapp%2Fng-validate.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,6 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+/// <reference types=\"chrome\"/>\n+\n export interface AngularDetection {\n   // This is necessary because the runtime\n   // message listener handles messages globally"
        },
        {
            "sha": "0fccb24899c412b4ff8ca41b8961d6145730d9f1",
            "filename": "devtools/projects/shell-chrome/src/devtools.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.html",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.html?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,6 +6,6 @@\n     <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n   </head>\n   <body>\n-    <script src=\"devtools_es2015.js\"></script>\n+    <script src=\"devtools_bundle.js\"></script>\n   </body>\n </html>"
        },
        {
            "sha": "3f074336c5dae87530f7eb76690c2067af4acbba",
            "filename": "devtools/projects/shell-chrome/src/devtools.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fdevtools.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,4 +6,5 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n+/// <reference types=\"chrome\"/>\n chrome.devtools.panels.create('Angular', 'assets/icon-bw16.png', 'index.html');"
        },
        {
            "sha": "64ac97236e06d1dae749178aea6822684921b25a",
            "filename": "devtools/projects/shell-chrome/src/environments/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,14 +1,14 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"environment\",\n     srcs = [\n         \"environment.ts\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n+        \"//devtools/projects/ng-devtools\",\n         \"@npm//@types\",\n     ],\n )"
        },
        {
            "sha": "ae2c93cfafce36dd8d6740449fe365247467a869",
            "filename": "devtools/projects/shell-chrome/src/environments/environment.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -7,6 +7,6 @@\n  */\n \n export const environment = {\n-  production: false,\n+  production: true,\n   LATEST_SHA: 'BUILD_SCM_COMMIT_SHA',  // Stamped at build time by bazel\n };"
        },
        {
            "sha": "c4bbb11daecb517135a1035fc604397f2e821b0b",
            "filename": "devtools/projects/shell-chrome/src/index.html",
            "status": "renamed",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Findex.html?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -7,10 +7,12 @@\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n     <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\" />\n     <link rel=\"icon\" type=\"image/x-icon\" href=\"assets/icon16.png\" />\n+    <link rel=\"stylesheet\" href=\"./styles.css\"></head>\n   </head>\n   <body>\n     <app-root></app-root>\n \n-    <script type=\"module\" src=\"./devtools_app_bundle_es2015/devtools_app_bundle_es2015.js\"></script>\n+    <script src=\"./packages/zone.js/bundles/zone.umd.js\"></script>\n+    <script type=\"module\" src=\"./bundle/main.js\"></script>\n   </body>\n </html>",
            "previous_filename": "devtools/projects/shell-chrome/src/_index.html"
        },
        {
            "sha": "e912c7c1570efd03c9bbe83d9a4caacf53315a78",
            "filename": "devtools/projects/shell-chrome/src/main.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmain.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmain.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmain.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -10,10 +10,6 @@ import {enableProdMode} from '@angular/core';\n import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n \n import {AppModule} from './app/app.module';\n-import {environment} from './environments/environment';\n-\n-if (environment.production) {\n-  enableProdMode();\n-}\n \n+enableProdMode();\n platformBrowserDynamic().bootstrapModule(AppModule).catch(err => console.error(err));"
        },
        {
            "sha": "aefac47bc6c4041f8e326c999ec70346f5b064a6",
            "filename": "devtools/projects/shell-chrome/src/manifest.json",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmanifest.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmanifest.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fmanifest.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -16,16 +16,16 @@\n     \"default_popup\": \"popups/not-angular.html\"\n   },\n   \"devtools_page\": \"devtools.html\",\n-  \"web_accessible_resources\": [\"app/backend-es2015.js\", \"devtools.html\"],\n+  \"web_accessible_resources\": [\"app/backend_bundle.js\", \"devtools.html\"],\n   \"background\": {\n-    \"scripts\": [\"app/background-es2015.js\"],\n+    \"scripts\": [\"app/background_bundle.js\"],\n     \"persistent\": false\n   },\n   \"permissions\": [\"activeTab\", \"http://*/*\", \"https://*/*\", \"file:///*\"],\n   \"content_scripts\": [\n     {\n       \"matches\": [\"<all_urls>\"],\n-      \"js\": [\"app/ng-validate-es2015.js\"],\n+      \"js\": [\"app/ng_validate_bundle.js\"],\n       \"run_at\": \"document_idle\"\n     }\n   ]"
        },
        {
            "sha": "ce706b283a1e2d85732199517c0e52f1e7404e04",
            "filename": "devtools/projects/shell-chrome/src/polyfills.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 71,
            "changes": 71,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fpolyfills.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fpolyfills.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Fpolyfills.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,71 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-/**\n- * This file includes polyfills needed by Angular and is loaded before the app.\n- * You can add your own extra polyfills to this file.\n- *\n- * This file is divided into 2 sections:\n- *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n- *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n- *      file.\n- *\n- * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n- * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n- * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n- *\n- * Learn more in https://angular.io/guide/browser-support\n- */\n-\n-/***************************************************************************************************\n- * BROWSER POLYFILLS\n- */\n-\n-/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n-// import 'classlist.js';  // Run `npm install --save classlist.js`.\n-\n-/**\n- * Web Animations `@angular/platform-browser/animations`\n- * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n- * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n- */\n-// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n-\n-/**\n- * By default, zone.js will patch all possible macroTask and DomEvents\n- * user can disable parts of macroTask/DomEvents patch by setting following flags\n- * because those flags need to be set before `zone.js` being loaded, and webpack\n- * will put import in the top of bundle, so user need to create a separate file\n- * in this directory (for example: zone-flags.ts), and put the following flags\n- * into that file, and then add the following code before importing zone.js.\n- * import './zone-flags.ts';\n- *\n- * The flags allowed in zone-flags.ts are listed here.\n- *\n- * The following flags will work for all browsers.\n- *\n- * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch\n- * requestAnimationFrame (window as any).__Zone_disable_on_property = true; // disable patch\n- * onProperty such as onclick (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll',\n- * 'mousemove']; // disable patch specified eventNames\n- *\n- *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n- *  with the following flag, it will bypass `zone.js` patch for IE/Edge\n- *\n- *  (window as any).__Zone_enable_cross_context_check = true;\n- *\n- */\n-\n-/***************************************************************************************************\n- * Zone JS is required by default for Angular itself.\n- */\n-import 'zone.js/dist/zone'; // Included with Angular CLI.\n-\n-/***************************************************************************************************\n- * APPLICATION IMPORTS\n- */"
        },
        {
            "sha": "b8a247ba087e3af7705588878040a2ab08d0d54e",
            "filename": "devtools/projects/shell-chrome/src/rollup.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Frollup.config.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-const {nodeResolve} = require('@rollup/plugin-node-resolve');\n-const commonjs = require('@rollup/plugin-commonjs');\n-\n-module.exports = {\n-  plugins: [\n-    nodeResolve({\n-      mainFields: ['browser', 'es2015', 'module', 'jsnext:main', 'main'],\n-    }),\n-    commonjs(),\n-  ],\n-};"
        },
        {
            "sha": "dc77c3c5c1a4169b14d098a25e7061bae40ce4cf",
            "filename": "devtools/projects/shell-chrome/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 23,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,23 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.spec\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "3b2fbc5b7e588a50b40830ad9b54a20048fc6913",
            "filename": "devtools/projects/shell-chrome/tsconfig.app.json",
            "status": "removed",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.app.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.app.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.app.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,17 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/app\",\n-    \"types\": [\"chrome\"]\n-  },\n-  \"files\": [\n-    \"src/main.ts\",\n-    \"src/devtools.ts\",\n-    \"src/polyfills.ts\",\n-    \"src/app/backend.ts\",\n-    \"src/app/background.ts\",\n-    \"src/app/content-script.ts\",\n-    \"src/app/ng-validate.ts\",\n-  ],\n-  \"include\": [\"src/**/*.d.ts\"]\n-}"
        },
        {
            "sha": "8eec07d40ad9b2a031b6dd62b59d4fac8d1cb0c7",
            "filename": "devtools/projects/shell-chrome/tsconfig.spec.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.spec.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.spec.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fprojects%2Fshell-chrome%2Ftsconfig.spec.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"../../tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"../../out-tsc/spec\",\n-    \"types\": [\"jasmine\", \"node\"]\n-  },\n-  \"files\": [\"src/test.ts\", \"src/polyfills.ts\"],\n-  \"include\": [\"src/**/*.spec.ts\", \"src/**/*.d.ts\"]\n-}"
        },
        {
            "sha": "25ad38ec1cc808004eb0871bc76b1c120029091a",
            "filename": "devtools/src/.bazelignore",
            "status": "removed",
            "additions": 0,
            "deletions": 16,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2F.bazelignore",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2F.bazelignore",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2F.bazelignore?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,16 +0,0 @@\n-# NB: sematics here are not the same as .gitignore\n-# see https://github.com/bazelbuild/bazel/issues/8106\n-.git\n-bazel-out\n-\n-# **/symlinked_node_modules_yarn\n-node_modules\n-e2e/symlinked_node_modules_yarn/node_modules\n-e2e/symlinked_node_modules_npm/node_modules\n-packages/angular/node_modules\n-examples/angular/node_modules\n-examples/user_managed_deps/node_modules\n-\n-# **/dist\n-dist\n-examples/user_managed_deps/dist"
        },
        {
            "sha": "7198e939843cdbc7233025260062ce9fd4ebe564",
            "filename": "devtools/src/BUILD.bazel",
            "status": "modified",
            "additions": 67,
            "deletions": 76,
            "changes": 143,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,9 +1,9 @@\n-load(\"@npm//html-insert-assets:index.bzl\", \"html_insert_assets\")\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\", \"sass_library\")\n-load(\"@npm//@bazel/rollup:index.bzl\", \"rollup_bundle\")\n-load(\"@npm//history-server:index.bzl\", \"history_server\")\n load(\"@build_bazel_rules_nodejs//:index.bzl\", \"pkg_web\")\n+load(\"//tools:defaults.bzl\", \"esbuild\")\n+load(\"//devtools/tools/dev-server:index.bzl\", \"dev_server\")\n+load(\"//devtools/tools/esbuild:index.bzl\", \"LINKER_PROCESSED_FW_PACKAGES\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n@@ -229,107 +229,98 @@ sass_binary(\n     deps = [\":material_theming\"],\n )\n \n-_ASSETS = [\n-    \"//src:demo_styles\",\n-    \"@npm//:node_modules/zone.js/dist/zone.min.js\",\n-]\n-\n-html_insert_assets(\n-    name = \"inject_scripts_for_dev\",\n-    outs = [\"index.html\"],\n-    args = [\n-        \"--html=$(execpath //src:_index.html)\",\n-        \"--out=$@\",\n-        \"--roots=. $(RULEDIR)\",\n-        \"--assets\",\n-    ] + [\"$(execpath %s)\" % s for s in _ASSETS] + [\n-        \"--scripts --module $(execpath :bundle_es2015)/index.dev.js\",\n-    ],\n-    data = [\n-        \"//src:_index.html\",\n-        \":bundle_es2015\",\n-    ] + _ASSETS,\n-)\n-\n-ng_ts_project(\n+ng_module(\n     name = \"demo\",\n     srcs = [\"main.ts\"],\n     deps = [\n-        \"//src/app\",\n-        \"//src/environments\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser\",\n-        \"@npm//@angular/platform-browser-dynamic\",\n+        \"//devtools/src/app\",\n+        \"//packages/common\",\n+        \"//packages/common/http\",\n+        \"//packages/core\",\n+        \"//packages/core/src/util\",\n+        \"//packages/platform-browser\",\n         \"@npm//@types\",\n         \"@npm//rxjs\",\n     ],\n )\n \n-ng_ts_project(\n+esbuild(\n+    name = \"bundle\",\n+    config = \"//devtools/tools/esbuild:esbuild_config_esm\",\n+    entry_points = [\":main.ts\"],\n+    platform = \"browser\",\n+    splitting = True,\n+    target = \"es2016\",\n+    deps = LINKER_PROCESSED_FW_PACKAGES + [\":demo\"],\n+)\n+\n+exports_files([\"index.html\"])\n+\n+filegroup(\n+    name = \"dev_app_static_files\",\n+    srcs = [\n+        \":demo_styles\",\n+        \":index.html\",\n+        \"//packages/zone.js/bundles:zone.umd.js\",\n+    ],\n+)\n+\n+pkg_web(\n+    name = \"devapp\",\n+    srcs = [\":dev_app_static_files\"] + [\n+        \":bundle\",\n+        \"@npm//:node_modules/tslib/tslib.js\",\n+    ],\n+    # Currently, ibazel doesn't allow passing in flags to bazel run.\n+    # This means we are not able to use --config snapshot\n+    # to access the current commit SHA.\n+    # Since we still want to be able to use ibazel to speed up\n+    # local development, we supply an empty string for the SHA substitution.\n+    # This does not effect production builds.\n+    substitutions = {\"BUILD_SCM_COMMIT_SHA\": \"\"},\n+)\n+\n+dev_server(\n+    name = \"devserver\",\n+    srcs = [\":dev_app_static_files\"],\n+    additional_root_paths = [\"angular/devtools/src/devapp\"],\n+    tags = [\"manual\"],\n+    deps = [\n+        \":devapp\",\n+    ],\n+)\n+\n+ng_module(\n     name = \"demo_application_environment\",\n     srcs = [\"demo-application-environment.ts\"],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//src/environments\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/src/environments\",\n     ],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"demo_application_operations\",\n     srcs = [\"demo-application-operations.ts\"],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//projects/protocol\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"iframe_message_bus\",\n     srcs = [\"iframe-message-bus.ts\"],\n     deps = [\n-        \"//projects/protocol\",\n+        \"//devtools/projects/protocol\",\n     ],\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"zone-unaware-iframe_message_bus\",\n     srcs = [\"zone-unaware-iframe-message-bus.ts\"],\n     deps = [\n         \":iframe_message_bus\",\n-        \"//projects/protocol\",\n-    ],\n-)\n-\n-rollup_bundle(\n-    name = \"bundle_es2015\",\n-    config_file = \"rollup.config.js\",\n-    entry_points = {\n-        \":main.ts\": \"index.dev\",\n-    },\n-    format = \"esm\",\n-    output_dir = True,\n-    deps = [\n-        \":demo\",\n-        \"@npm//@rollup/plugin-commonjs\",\n-        \"@npm//@rollup/plugin-node-resolve\",\n-    ],\n-)\n-\n-pkg_web(\n-    name = \"devapp\",\n-    srcs = _ASSETS + [\n-        \":bundle_es2015\",\n-        \":inject_scripts_for_dev\",\n-    ],\n-    substitutions = {\"BUILD_SCM_COMMIT_SHA\": \"{BUILD_SCM_COMMIT_SHA}\"},\n-)\n-\n-history_server(\n-    name = \"devserver\",\n-    data = [\":devapp\"],\n-    templated_args = [\n-        \"-a $$(rlocation $(rootpath :devapp))\",\n-        \"--port 4200\",\n+        \"//devtools/projects/protocol\",\n     ],\n )"
        },
        {
            "sha": "80c6467e2f95fa2b07e5c6e2c2c3063245aec52c",
            "filename": "devtools/src/app/BUILD.bazel",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"app.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"app\",\n     srcs = [\n         \"app.component.ts\",\n@@ -19,13 +19,14 @@ ng_ts_project(\n         \":app_component_styles\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//src:demo_application_environment\",\n-        \"//src:demo_application_operations\",\n-        \"//src/app/demo-app\",\n-        \"//src/app/devtools-app\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/platform-browser\",\n-        \"@npm//@angular/router\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/src:demo_application_environment\",\n+        \"//devtools/src:demo_application_operations\",\n+        \"//devtools/src/app/demo-app\",\n+        \"//devtools/src/app/devtools-app\",\n+        \"//packages/core\",\n+        \"//packages/platform-browser\",\n+        \"//packages/platform-browser/animations\",\n+        \"//packages/router\",\n     ],\n )"
        },
        {
            "sha": "4f80e631c0432300842698a755f0fd4688d56383",
            "filename": "devtools/src/app/app.e2e.module.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 49,
            "changes": 49,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fapp%2Fapp.e2e.module.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fapp%2Fapp.e2e.module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fapp.e2e.module.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,49 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {NgModule} from '@angular/core';\n-import {NoopAnimationsModule} from '@angular/platform-browser/animations';\n-import {RouterModule} from '@angular/router';\n-import {ApplicationEnvironment, ApplicationOperations} from 'ng-devtools';\n-\n-import {DemoApplicationEnvironment} from '../demo-application-environment';\n-import {DemoApplicationOperations} from '../demo-application-operations';\n-\n-import {AppComponent} from './app.component';\n-\n-@NgModule({\n-  declarations: [AppComponent],\n-  imports: [\n-    NoopAnimationsModule,\n-    RouterModule.forRoot([\n-      {\n-        path: '',\n-        loadChildren: () =>\n-            import('./devtools-app/devtools-app.module').then((m) => m.DevToolsModule),\n-        pathMatch: 'full',\n-      },\n-      {\n-        path: 'demo-app',\n-        loadChildren: () => import('./demo-app/demo-app.module').then((m) => m.DemoAppModule),\n-      },\n-    ]),\n-  ],\n-  providers: [\n-    {\n-      provide: ApplicationOperations,\n-      useClass: DemoApplicationOperations,\n-    },\n-    {\n-      provide: ApplicationEnvironment,\n-      useClass: DemoApplicationEnvironment,\n-    },\n-  ],\n-  bootstrap: [AppComponent],\n-})\n-export class AppModule {\n-}"
        },
        {
            "sha": "56e6424181ff7a46d7f76563d4cd2b7a5b66154d",
            "filename": "devtools/src/app/demo-app/BUILD.bazel",
            "status": "modified",
            "additions": 28,
            "deletions": 19,
            "changes": 47,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdemo-app%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,8 +1,26 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\", \"sass_binary\", \"sass_library\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\", \"sass_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n+_STYLE_SRCS = [\n+    \"heavy.component.scss\",\n+    \"zippy.component.scss\",\n+]\n+\n+_STYLE_LABELS = [\n+    src[:-len(\".component.scss\")].replace(\"-\", \"_\") + \"_styles\"\n+    for src in _STYLE_SRCS\n+]\n+\n+[\n+    sass_binary(\n+        name = label,\n+        src = src,\n+    )\n+    for label, src in zip(_STYLE_LABELS, _STYLE_SRCS)\n+]\n+\n sass_library(\n     name = \"todo_mvc\",\n     srcs = [\n@@ -19,15 +37,7 @@ sass_binary(\n     ],\n )\n \n-multi_sass_binary(\n-    name = \"demo_app_styles\",\n-    srcs = [\n-        \"heavy.component.scss\",\n-        \"zippy.component.scss\",\n-    ],\n-)\n-\n-ng_ts_project(\n+ng_module(\n     name = \"demo-app\",\n     srcs = [\n         \"demo-app.component.ts\",\n@@ -40,14 +50,13 @@ ng_ts_project(\n         \"heavy.component.html\",\n         \"zippy.component.html\",\n         \":demo_app_component_styles\",\n-        \":demo_app_styles\",\n-    ],\n+    ] + _STYLE_LABELS,\n     deps = [\n-        \"//projects/ng-devtools-backend\",\n-        \"//src:zone-unaware-iframe_message_bus\",\n-        \"//src/app/demo-app/todo\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/elements\",\n-        \"@npm//@angular/router\",\n+        \"//devtools/projects/ng-devtools-backend\",\n+        \"//devtools/src:zone-unaware-iframe_message_bus\",\n+        \"//devtools/src/app/demo-app/todo\",\n+        \"//packages/core\",\n+        \"//packages/elements\",\n+        \"//packages/router\",\n     ],\n )"
        },
        {
            "sha": "0febb5c53de28ce1ac646bedf885f39de3e3da84",
            "filename": "devtools/src/app/demo-app/todo/BUILD.bazel",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"app-todo.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"todo\",\n     srcs = [\n         \"app.module.ts\",\n@@ -21,12 +21,12 @@ ng_ts_project(\n         \":app_todo_component_styles\",\n     ],\n     deps = [\n-        \"//src/app/demo-app/todo/about\",\n-        \"//src/app/demo-app/todo/home\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/forms\",\n+        \"//devtools/src/app/demo-app/todo/about\",\n+        \"//devtools/src/app/demo-app/todo/home\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/forms\",\n+        \"//packages/router\",\n         \"@npm//@angular/material\",\n-        \"@npm//@angular/router\",\n     ],\n )"
        },
        {
            "sha": "9808fe10af93a6e3e75e926036808f096b360d34",
            "filename": "devtools/src/app/demo-app/todo/about/BUILD.bazel",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fabout%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fabout%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fabout%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,15 +1,15 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ng_ts_project(\n+ng_module(\n     name = \"about\",\n     srcs = [\n         \"about.component.ts\",\n         \"about.module.ts\",\n     ],\n     deps = [\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/router\",\n+        \"//packages/core\",\n+        \"//packages/router\",\n     ],\n )"
        },
        {
            "sha": "5d750618d614f6e1bdb273765b4bf62bca995b27",
            "filename": "devtools/src/app/demo-app/todo/home/BUILD.bazel",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,14 +1,14 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n-load(\"@io_bazel_rules_sass//:defs.bzl\", \"multi_sass_binary\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n+load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-multi_sass_binary(\n+sass_binary(\n     name = \"home_styles\",\n-    srcs = [\"todo.component.scss\"],\n+    src = \"todo.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"home\",\n     srcs = [\n         \"home.module.ts\",\n@@ -26,8 +26,8 @@ ng_ts_project(\n         \":home_styles\",\n     ],\n     deps = [\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/router\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/router\",\n     ],\n )"
        },
        {
            "sha": "849e4e4a03bd0691d6bbf8a0c8d5c80b926ba8c2",
            "filename": "devtools/src/app/demo-app/todo/home/todo.component.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2Ftodo.component.html",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2Ftodo.component.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdemo-app%2Ftodo%2Fhome%2Ftodo.component.html?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -8,6 +8,6 @@\n     class=\"edit\"\n     [value]=\"todo.label\"\n     [style.display]=\"editMode ? 'block' : 'none'\"\n-    (keydown.enter)=\"completeEdit($event.target.value)\"\n+    (keydown.enter)=\"completeEdit($any($event.target).value)\"\n   />\n </li>"
        },
        {
            "sha": "714883c52d4bc1e1de9f79ec4c4717e9140af5dd",
            "filename": "devtools/src/app/devtools-app/BUILD.bazel",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdevtools-app%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fapp%2Fdevtools-app%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fapp%2Fdevtools-app%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//tools:angular_ts_project.bzl\", \"ng_ts_project\")\n+load(\"//devtools/tools:ng_module.bzl\", \"ng_module\")\n load(\"@io_bazel_rules_sass//:defs.bzl\", \"sass_binary\")\n \n package(default_visibility = [\"//visibility:public\"])\n@@ -8,7 +8,7 @@ sass_binary(\n     src = \"devtools-app.component.scss\",\n )\n \n-ng_ts_project(\n+ng_module(\n     name = \"devtools-app\",\n     srcs = [\n         \"devtools-app.component.ts\",\n@@ -19,11 +19,11 @@ ng_ts_project(\n         \":devtools_app_component_styles\",\n     ],\n     deps = [\n-        \"//projects/ng-devtools\",\n-        \"//projects/protocol\",\n-        \"//src:iframe_message_bus\",\n-        \"@npm//@angular/common\",\n-        \"@npm//@angular/core\",\n-        \"@npm//@angular/router\",\n+        \"//devtools/projects/ng-devtools\",\n+        \"//devtools/projects/protocol\",\n+        \"//devtools/src:iframe_message_bus\",\n+        \"//packages/common\",\n+        \"//packages/core\",\n+        \"//packages/router\",\n     ],\n )"
        },
        {
            "sha": "47a65ebf6037f4da5849932cd1fefe5608d0a5c4",
            "filename": "devtools/src/environments/BUILD.bazel",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,13 +1,13 @@\n-load(\"//tools:typescript.bzl\", \"ts_project\")\n+load(\"//devtools/tools:typescript.bzl\", \"ts_library\")\n \n package(default_visibility = [\"//visibility:public\"])\n \n-ts_project(\n+ts_library(\n     name = \"environments\",\n     srcs = [\n         \"environment.ts\",\n     ],\n     deps = [\n-        \"@npm//@angular/platform-browser\",\n+        \"//packages/platform-browser\",\n     ],\n )"
        },
        {
            "sha": "6830d2daa76ba0e25fe0ea19c2864ef896549af3",
            "filename": "devtools/src/environments/environment.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fenvironments%2Fenvironment.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,8 +6,6 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n-\n export const environment = {\n   production: false,\n   LATEST_SHA: 'BUILD_SCM_COMMIT_SHA',  // Stamped at build time by bazel"
        },
        {
            "sha": "fbeebc931e5aabc0df74b8c568228976f677c147",
            "filename": "devtools/src/index.html",
            "status": "renamed",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Findex.html",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Findex.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Findex.html?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -9,10 +9,14 @@\n     <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\" />\n \n     <!-- <script src=\"https://unpkg.com/@webcomponents/webcomponentsjs@2.0.3/custom-elements-es5-adapter.js\"></script> -->\n+    <link rel=\"stylesheet\" href=\"./styles.css\"></head>\n   </head>\n   <body>\n     <div>\n       <app-root></app-root>\n     </div>\n+\n+    <script src=\"./angular/packages/zone.js/bundles/zone.umd.js\"></script>\n+    <script type=\"module\" src=\"./bundle/main.js\"></script>\n   </body>\n </html>",
            "previous_filename": "devtools/src/_index.html"
        },
        {
            "sha": "c178875a1063d454be1aada9599bf0cb0c560cfb",
            "filename": "devtools/src/main.e2e.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fmain.e2e.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fmain.e2e.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fmain.e2e.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import {enableProdMode} from '@angular/core';\n-import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n-\n-import {AppModule} from './app/app.e2e.module';\n-import {environment} from './environments/environment';\n-\n-if (environment.production) {\n-  enableProdMode();\n-}\n-\n-platformBrowserDynamic().bootstrapModule(AppModule).catch((err) => console.error(err));"
        },
        {
            "sha": "68ca2561d1575b72f3d977ae854928b3a090cb3c",
            "filename": "devtools/src/main.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 8,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fmain.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Fsrc%2Fmain.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fmain.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -6,14 +6,8 @@\n  * found in the LICENSE file at https://angular.io/license\n  */\n \n-import {enableProdMode} from '@angular/core';\n-import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n+import {platformBrowser} from '@angular/platform-browser';\n \n import {AppModule} from './app/app.module';\n-import {environment} from './environments/environment';\n \n-if (environment.production) {\n-  enableProdMode();\n-}\n-\n-platformBrowserDynamic().bootstrapModule(AppModule).catch((err) => console.error(err));\n+platformBrowser().bootstrapModule(AppModule).catch((err) => console.error(err));"
        },
        {
            "sha": "7ca4ce670f2f3d50deb25569b545cf3250eec496",
            "filename": "devtools/src/polyfills.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 71,
            "changes": 71,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fpolyfills.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Fpolyfills.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Fpolyfills.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,71 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-/**\n- * This file includes polyfills needed by Angular and is loaded before the app.\n- * You can add your own extra polyfills to this file.\n- *\n- * This file is divided into 2 sections:\n- *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n- *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n- *      file.\n- *\n- * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n- * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n- * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n- *\n- * Learn more in https://angular.io/guide/browser-support\n- */\n-\n-/***************************************************************************************************\n- * BROWSER POLYFILLS\n- */\n-\n-/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n-// import 'classlist.js';  // Run `npm install --save classlist.js`.\n-\n-/**\n- * Web Animations `@angular/platform-browser/animations`\n- * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\n- * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\n- */\n-// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n-\n-/**\n- * By default, zone.js will patch all possible macroTask and DomEvents\n- * user can disable parts of macroTask/DomEvents patch by setting following flags\n- * because those flags need to be set before `zone.js` being loaded, and webpack\n- * will put import in the top of bundle, so user need to create a separate file\n- * in this directory (for example: zone-flags.ts), and put the following flags\n- * into that file, and then add the following code before importing zone.js.\n- * import './zone-flags.ts';\n- *\n- * The flags allowed in zone-flags.ts are listed here.\n- *\n- * The following flags will work for all browsers.\n- *\n- * (window as any).__Zone_disable_requestAnimationFrame = true; // disable patch\n- * requestAnimationFrame (window as any).__Zone_disable_on_property = true; // disable patch\n- * onProperty such as onclick (window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll',\n- * 'mousemove']; // disable patch specified eventNames\n- *\n- *  in IE/Edge developer tools, the addEventListener will also be wrapped by zone.js\n- *  with the following flag, it will bypass `zone.js` patch for IE/Edge\n- *\n- *  (window as any).__Zone_enable_cross_context_check = true;\n- *\n- */\n-\n-/***************************************************************************************************\n- * Zone JS is required by default for Angular itself.\n- */\n-import 'zone.js/dist/zone'; // Included with Angular CLI.\n-/***************************************************************************************************\n- * APPLICATION IMPORTS\n- */\n-import 'document-register-element';"
        },
        {
            "sha": "b8a247ba087e3af7705588878040a2ab08d0d54e",
            "filename": "devtools/src/rollup.config.js",
            "status": "removed",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Frollup.config.js",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Frollup.config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Frollup.config.js?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,19 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-const {nodeResolve} = require('@rollup/plugin-node-resolve');\n-const commonjs = require('@rollup/plugin-commonjs');\n-\n-module.exports = {\n-  plugins: [\n-    nodeResolve({\n-      mainFields: ['browser', 'es2015', 'module', 'jsnext:main', 'main'],\n-    }),\n-    commonjs(),\n-  ],\n-};"
        },
        {
            "sha": "dc77c3c5c1a4169b14d098a25e7061bae40ce4cf",
            "filename": "devtools/src/test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 23,
            "changes": 23,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Ftest.ts",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fsrc%2Ftest.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fsrc%2Ftest.ts?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,23 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n-\n-import 'zone.js/dist/zone-testing';\n-\n-import {getTestBed} from '@angular/core/testing';\n-import {BrowserDynamicTestingModule, platformBrowserDynamicTesting} from '@angular/platform-browser-dynamic/testing';\n-\n-declare const require: any;\n-\n-// First, initialize the Angular testing environment.\n-getTestBed().initTestEnvironment(BrowserDynamicTestingModule, platformBrowserDynamicTesting());\n-// Then we find all the tests.\n-const context = require.context('./', true, /\\.spec\\.ts$/);\n-// And load the modules.\n-context.keys().map(context);"
        },
        {
            "sha": "644319d90c433f7f85181f9f7ef9f4c10035ccf7",
            "filename": "devtools/tools/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,3 +1,3 @@\n exports_files([\n-    \"karma.conf.js\",\n+    \"bazel-karma-local-config.js\",\n ])"
        },
        {
            "sha": "51511e256eb2869e7ef395fd8444aafeb4bc4869",
            "filename": "devtools/tools/angular/BUILD.bazel",
            "status": "removed",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fangular%2FBUILD.bazel?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,14 +0,0 @@\n-load(\"@npm//@angular/dev-infra-private/bazel/esbuild:index.bzl\", \"esbuild_config\")\n-load(\":index.bzl\", \"create_angular_bundle_targets\")\n-\n-package(default_visibility = [\"//visibility:public\"])\n-\n-esbuild_config(\n-    name = \"esbuild_config\",\n-    config_file = \"esbuild.config.mjs\",\n-    deps = [\n-        \"@npm//@angular/dev-infra-private/shared-scripts/angular-linker:js_lib\",\n-    ],\n-)\n-\n-create_angular_bundle_targets()"
        },
        {
            "sha": "1385f81abc3102dfc36e2da03f5f3943be58e707",
            "filename": "devtools/tools/angular/esbuild.config.mjs",
            "status": "removed",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular%2Fesbuild.config.mjs",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular%2Fesbuild.config.mjs",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fangular%2Fesbuild.config.mjs?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,20 +0,0 @@\n-/**\n- * @license\n- * Copyright Google LLC All Rights Reserved.\n- *\n- * Use of this source code is governed by an MIT-style license that can be\n- * found in the LICENSE file at https://angular.io/license\n- */\n-\n-import { createLinkerEsbuildPlugin } from '@angular/dev-infra-private/shared-scripts/angular-linker/esbuild-plugin.mjs';\n-\n-export default {\n-  // Note: We support `.mjs` here as this is the extension used by Angular APF packages.\n-  resolveExtensions: ['.mjs', '.js'],\n-  format: 'esm',\n-  plugins: [\n-    // Only run the linker on `fesm2020/` bundles. This should not have an effect on\n-    // the bundle output, but helps speeding up ESBuild when it visits other modules.\n-    await createLinkerEsbuildPlugin(/fesm2020/),\n-  ],\n-};"
        },
        {
            "sha": "f30c679ede1897a85297908a43b687bd1720b683",
            "filename": "devtools/tools/angular_ts_project.bzl",
            "status": "removed",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular_ts_project.bzl",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftools%2Fangular_ts_project.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fangular_ts_project.bzl?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,10 +0,0 @@\n-load(\"//tools:typescript.bzl\", _ts_project = \"ts_project\")\n-\n-def ng_ts_project(name, tsconfig = \"//:tsconfig.json\", srcs = [], angular_assets = [], **kwargs):\n-    _ts_project(\n-        name = name,\n-        tsconfig = tsconfig,\n-        tsc = \"@npm//@angular/compiler-cli/bin:ngc\",\n-        srcs = srcs + angular_assets,\n-        **kwargs\n-    )"
        },
        {
            "sha": "e1a8718983e0d799688786897295d6bc9501083e",
            "filename": "devtools/tools/bazel-karma-local-config.js",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fbazel-karma-local-config.js",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fbazel-karma-local-config.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fbazel-karma-local-config.js?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,54 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+/**\n+ * Karma configuration that is used by Bazel karma_web_test targets which do not\n+ * want to launch any browser and just enable manual browser debugging.\n+ */\n+\n+module.exports = config => {\n+  const overwrites = {};\n+\n+  // By default \"@bazel/concatjs\" configures Chrome as browser. Since we don't want\n+  // to launch any browser at all, we overwrite the \"browsers\" option. Since the\n+  // default config tries to extend the browsers array with \"Chrome\", we need to\n+  // always return a new empty array.\n+  Object.defineProperty(overwrites, 'browsers', {\n+    get: () => [],\n+    set: () => {},\n+    enumerable: true,\n+  });\n+\n+  // Ensures that tests start executing once browsers have been manually connected. We need\n+  // to use \"defineProperty\" because the default \"@bazel/concatjs\" config overwrites the option.\n+  Object.defineProperty(overwrites, 'autoWatch', {\n+    get: () => true,\n+    set: () => {},\n+    enumerable: true,\n+  });\n+\n+  // When not running with ibazel, do not set up the `@bazel/concatjs` watcher. This one\n+  // relies on ibazel to write to the `stdin` interface. When running without ibazel, the\n+  // watcher will kill concatjs since there is no data written to the `stdin` interface.\n+  if (process.env['IBAZEL_NOTIFY_CHANGES'] !== 'y') {\n+    // We pre-define a plugins array that captures registration of Karma plugins\n+    // and unsets the watcher definitions so that no watcher can be configured.\n+    overwrites.plugins = new KarmaPluginArrayWithoutWatchers();\n+  }\n+\n+  config.set(overwrites);\n+};\n+\n+class KarmaPluginArrayWithoutWatchers extends Array {\n+  // The Bazel Karma rules only register new plugins using `.push`.\n+  push(...plugins) {\n+    plugins.filter(p => typeof p === 'object').forEach(p => delete p.watcher);\n+\n+    super.push(...plugins);\n+  }\n+}"
        },
        {
            "sha": "19baf1dda3bee76f5b0a19ec674e63c06c6c931e",
            "filename": "devtools/tools/defaults.bzl",
            "status": "modified",
            "additions": 68,
            "deletions": 11,
            "changes": 79,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdefaults.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdefaults.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdefaults.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,14 +1,70 @@\n # Re-export of Bazel rules with repository-wide defaults\n \n load(\"@npm//@bazel/concatjs:index.bzl\", _karma_web_test = \"karma_web_test\", _karma_web_test_suite = \"karma_web_test_suite\")\n-load(\"@npm//@angular/dev-infra-private/bazel/esbuild:index.bzl\", _esbuild = \"esbuild\", _esbuild_config = \"esbuild_config\")\n-load(\"@npm//@angular/dev-infra-private/bazel/spec-bundling:index.bzl\", _spec_bundle = \"spec_bundle\")\n load(\"@npm//@angular/dev-infra-private/bazel:extract_js_module_output.bzl\", \"extract_js_module_output\")\n-load(\"//tools/angular:index.bzl\", \"LINKER_PROCESSED_FW_PACKAGES\")\n+load(\"//devtools/tools/esbuild:index.bzl\", \"LINKER_PROCESSED_FW_PACKAGES\")\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"js_library\")\n+load(\"@npm//@angular/dev-infra-private/bazel/spec-bundling:spec-entrypoint.bzl\", \"spec_entrypoint\")\n+load(\"@npm//@angular/dev-infra-private/bazel/esbuild:index.bzl\", \"esbuild_amd\", _esbuild = \"esbuild\", _esbuild_config = \"esbuild_config\")\n \n esbuild = _esbuild\n esbuild_config = _esbuild_config\n \n+def _spec_bundle(\n+        name,\n+        deps,\n+        platform,\n+        run_angular_linker = False,\n+        # We cannot use `ES2017` or higher as that would result in `async/await` not being downleveled.\n+        # ZoneJS needs to be able to intercept these as otherwise change detection would not work properly.\n+        target = \"es2016\",\n+        workspace_name = None,\n+        **kwargs):\n+    \"\"\"\n+      Macro that will bundle all test files, with their respective transitive dependencies,\n+      into a single bundle file that can be loaded within Karma or NodeJS directly. Test files\n+      are bundled as Angular framework packages do not ship UMD files and to avoid overall\n+      complexity with maintaining a runtime loader such as RequireJS or SystemJS.\n+    \"\"\"\n+\n+    is_browser_test = platform == \"browser\"\n+    package_name = native.package_name()\n+\n+    spec_entrypoint(\n+        name = \"%s_spec_entrypoint\" % name,\n+        deps = deps,\n+        testonly = True,\n+    )\n+\n+    if is_browser_test and not workspace_name:\n+        fail(\"The spec-bundling target %s is declared as browser test. In order to be able \" +\n+             \"to construct an AMD module name, the `workspace_name` attribute needs to be set.\")\n+\n+    # Browser tests (Karma) need named AMD modules to load.\n+    # TODO(devversion): consider updating `@bazel/concatjs` to support loading JS files directly.\n+    esbuild_rule = esbuild_amd if is_browser_test else esbuild\n+    amd_name = \"%s/%s/%s\" % (workspace_name, package_name, name + \"_spec\") if is_browser_test else None\n+\n+    esbuild_rule(\n+        name = \"%s_bundle\" % name,\n+        testonly = True,\n+        config = \"//devtools/tools/esbuild:esbuild_config_spec\",\n+        entry_point = \":%s_spec_entrypoint\" % name,\n+        module_name = amd_name,\n+        output = \"%s_spec.js\" % name,\n+        target = target,\n+        platform = platform,\n+        deps = deps + [\":%s_spec_entrypoint\" % name],\n+        link_workspace_root = True,\n+        **kwargs\n+    )\n+\n+    js_library(\n+        name = name,\n+        testonly = True,\n+        named_module_srcs = [\":%s_bundle\" % name],\n+    )\n+\n def karma_web_test_suite(name, **kwargs):\n     web_test_args = {}\n     test_deps = kwargs.get(\"deps\", [])\n@@ -41,7 +97,7 @@ def karma_web_test_suite(name, **kwargs):\n     # that is manually connected to.\n     _karma_web_test(\n         name = \"%s_local_bin\" % name,\n-        config_file = \"//test:bazel-karma-local-config.js\",\n+        config_file = \"//devtools/tools:bazel-karma-local-config.js\",\n         tags = [\"manual\"],\n         **web_test_args\n     )\n@@ -57,27 +113,28 @@ def karma_web_test_suite(name, **kwargs):\n     # Default test suite with all configured browsers.\n     _karma_web_test_suite(\n         name = name,\n+        bootstrap = [\n+            \"@npm//:node_modules/tslib/tslib.js\",\n+        ],\n         **kwargs\n     )\n \n def spec_bundle(name, deps, **kwargs):\n     extract_js_module_output(\n-        name = \"%s_devmode_deps\" % name,\n+        name = \"%s_prodmode_deps\" % name,\n         deps = deps,\n-        provider = \"JSModuleInfo\",\n+        provider = \"JSEcmaScriptModuleInfo\",\n         forward_linker_mappings = True,\n         include_external_npm_packages = True,\n         include_default_files = False,\n-        include_declarations = False,\n+        include_declarations = True,\n         testonly = True,\n     )\n \n     _spec_bundle(\n         name = name,\n-        # For specs, we always add the pre-processed linker FW packages so that these\n-        # are resolved instead of the unprocessed FW entry-points through the `node_modules`.\n-        deps = [\"%s_devmode_deps\" % name] + LINKER_PROCESSED_FW_PACKAGES,\n-        workspace_name = \"angular_devtools\",\n+        deps = [\"%s_prodmode_deps\" % name] + LINKER_PROCESSED_FW_PACKAGES,\n+        workspace_name = \"angular\",\n         run_angular_linker = True,\n         **kwargs\n     )"
        },
        {
            "sha": "7554504f028b0af2c0263be0953b8e6ed0c807b3",
            "filename": "devtools/tools/dev-server/BUILD.bazel",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,37 @@\n+load(\"@build_bazel_rules_nodejs//:index.bzl\", \"nodejs_binary\")\n+load(\"//tools:defaults.bzl\", \"ts_library\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+exports_files([\"launcher_template.sh\"])\n+\n+ts_library(\n+    name = \"dev-server_lib\",\n+    srcs = [\n+        \"dev-server.ts\",\n+        \"ibazel.ts\",\n+        \"main.ts\",\n+    ],\n+    # TODO(ESM): remove this once the Bazel NodeJS rules can handle ESM with `nodejs_binary`.\n+    devmode_module = \"commonjs\",\n+    deps = [\n+        \"@npm//@types/browser-sync\",\n+        \"@npm//@types/minimist\",\n+        \"@npm//@types/node\",\n+        \"@npm//@types/send\",\n+        \"@npm//browser-sync\",\n+        \"@npm//minimist\",\n+        \"@npm//send\",\n+    ],\n+)\n+\n+nodejs_binary(\n+    name = \"dev-server_bin\",\n+    data = [\n+        \":dev-server_lib\",\n+    ],\n+    entry_point = \":main.ts\",\n+    # TODO(josephperrott): update dependency usages to no longer need bazel patch module resolver\n+    # See: https://github.com/bazelbuild/rules_nodejs/wiki#--bazel_patch_module_resolver-now-defaults-to-false-2324\n+    templated_args = [\"--bazel_patch_module_resolver\"],\n+)"
        },
        {
            "sha": "1327e42270c9ea96d6f520b7590b53af1884117f",
            "filename": "devtools/tools/dev-server/README.md",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2FREADME.md",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2FREADME.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2FREADME.md?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,3 @@\n+Note: this custom devserver implementation was duped from angular/components.\n+\n+See: https://github.com/angular/components/tree/master/tools/dev-server\n\\ No newline at end of file"
        },
        {
            "sha": "7b18799062822c97a042cefa4a2c62243e882354",
            "filename": "devtools/tools/dev-server/dev-server.ts",
            "status": "added",
            "additions": 149,
            "deletions": 0,
            "changes": 149,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fdev-server.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fdev-server.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2Fdev-server.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,149 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import browserSync from 'browser-sync';\n+import {existsSync, readFileSync} from 'fs';\n+import http from 'http';\n+import path from 'path';\n+import send from 'send';\n+\n+/**\n+ * Dev Server implementation that uses browser-sync internally. This dev server\n+ * supports Bazel runfile resolution in order to make it work in a Bazel sandbox\n+ * environment and on Windows (with a runfile manifest file).\n+ */\n+export class DevServer {\n+  /** Cached content of the index.html. */\n+  private _index: string|null = null;\n+\n+  /** Instance of the browser-sync server. */\n+  server = browserSync.create();\n+\n+  /** Options of the browser-sync server. */\n+  options: browserSync.Options = {\n+    open: false,\n+    online: false,\n+    port: this.port,\n+    notify: false,\n+    ghostMode: false,\n+    server: {\n+      directory: false,\n+      middleware: [(req, res) => this._bazelMiddleware(req, res)],\n+    },\n+  };\n+\n+  constructor(\n+      readonly port: number,\n+      private _rootPaths: string[],\n+      bindUi: boolean,\n+      private _historyApiFallback: boolean = false,\n+  ) {\n+    if (bindUi === false) {\n+      this.options.ui = false;\n+    }\n+  }\n+\n+  /** Starts the server on the given port. */\n+  start() {\n+    return new Promise<void>((resolve, reject) => {\n+      this.server.init(this.options, err => {\n+        if (err) {\n+          reject(err);\n+        } else {\n+          resolve();\n+        }\n+      });\n+    });\n+  }\n+\n+  /** Reloads all browsers that currently visit a page from the server. */\n+  reload() {\n+    this.server.reload();\n+  }\n+\n+  /**\n+   * Middleware function used by BrowserSync. This function is responsible for\n+   * Bazel runfile resolution and HTML History API support.\n+   */\n+  private _bazelMiddleware(req: http.IncomingMessage, res: http.ServerResponse) {\n+    if (!req.url) {\n+      res.statusCode = 500;\n+      res.end('Error: No url specified');\n+      return;\n+    }\n+\n+    // Detect if the url escapes the server's root path\n+    for (const rootPath of this._rootPaths) {\n+      const absoluteRootPath = path.resolve(rootPath);\n+      const absoluteJoinedPath = path.resolve(path.posix.join(rootPath, getManifestPath(req.url)));\n+      if (!absoluteJoinedPath.startsWith(absoluteRootPath)) {\n+        res.statusCode = 500;\n+        res.end('Error: Detected directory traversal');\n+        return;\n+      }\n+    }\n+\n+    // Implements the HTML history API fallback logic based on the requirements of the\n+    // \"connect-history-api-fallback\" package. See the conditions for a request being redirected\n+    // to the index: https://github.com/bripkens/connect-history-api-fallback#introduction\n+    if (this._historyApiFallback && req.method === 'GET' && !req.url.includes('.') &&\n+        req.headers.accept && req.headers.accept.includes('text/html')) {\n+      res.end(this._getIndex());\n+    } else {\n+      const resolvedPath = this._resolveUrlFromRunfiles(req.url);\n+\n+      if (resolvedPath === null) {\n+        res.statusCode = 404;\n+        res.end('Page not found');\n+        return;\n+      }\n+\n+      send(req, resolvedPath).pipe(res);\n+    }\n+  }\n+\n+  /** Resolves a given URL from the runfiles using the corresponding manifest path. */\n+  private _resolveUrlFromRunfiles(url: string): string|null {\n+    for (let rootPath of this._rootPaths) {\n+      try {\n+        return require.resolve(path.posix.join(rootPath, getManifestPath(url)));\n+      } catch {\n+      }\n+    }\n+    return null;\n+  }\n+\n+  /** Gets the content of the index.html. */\n+  private _getIndex(): string {\n+    if (!this._index) {\n+      const indexPath = this._resolveUrlFromRunfiles('/index.html');\n+\n+      if (!indexPath) {\n+        throw Error('Could not resolve dev server index.html');\n+      }\n+\n+      // We support specifying a variables.json file next to the index.html which will be inlined\n+      // into the dev app as a `script` tag. It is used to pass in environment-specific variables.\n+      const varsPath = path.join(path.dirname(indexPath), 'variables.json');\n+      const scriptTag = '<script>window.DEV_APP_VARIABLES = ' +\n+          (existsSync(varsPath) ? readFileSync(varsPath, 'utf8') : '{}') + ';</script>';\n+      const content = readFileSync(indexPath, 'utf8');\n+      const headIndex = content.indexOf('</head>');\n+      this._index = content.slice(0, headIndex) + scriptTag + content.slice(headIndex);\n+    }\n+\n+    return this._index;\n+  }\n+}\n+\n+/** Gets the manifest path for a given url */\n+function getManifestPath(url: string) {\n+  // Remove the leading slash from the URL. Manifest paths never\n+  // start with a leading slash.\n+  return url.substring(1);\n+}"
        },
        {
            "sha": "1f3b83370856e8c431ee4389ae419f6227f94e19",
            "filename": "devtools/tools/dev-server/ibazel.ts",
            "status": "added",
            "additions": 43,
            "deletions": 0,
            "changes": 43,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fibazel.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fibazel.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2Fibazel.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,43 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {createInterface} from 'readline';\n+\n+import {DevServer} from './dev-server';\n+\n+// ibazel will write this string after a successful build.\n+const ibazelNotifySuccessMessage = 'IBAZEL_BUILD_COMPLETED SUCCESS';\n+\n+/**\n+ * Sets up ibazel support for the specified devserver. ibazel communicates with\n+ * an executable over the \"stdin\" interface. Whenever a specific message is sent\n+ * over \"stdin\", the devserver can be reloaded.\n+ */\n+export function setupBazelWatcherSupport(server: DevServer) {\n+  // If iBazel is not configured for this process, we do not setup the watcher.\n+  if (process.env['IBAZEL_NOTIFY_CHANGES'] !== 'y') {\n+    return;\n+  }\n+\n+  // ibazel communicates via the stdin interface.\n+  const rl = createInterface({input: process.stdin, terminal: false});\n+\n+  rl.on('line', (chunk: string) => {\n+    if (chunk === ibazelNotifySuccessMessage) {\n+      server.reload();\n+    }\n+  });\n+\n+  rl.on('close', () => {\n+    // Give ibazel 5s to kill this process, otherwise we exit the process manually.\n+    setTimeout(() => {\n+      console.error('ibazel failed to stop the devserver after 5s.');\n+      process.exit(1);\n+    }, 5000);\n+  });\n+}"
        },
        {
            "sha": "fec0380ece1e8790666dfb6c44cf5977200c3c8a",
            "filename": "devtools/tools/dev-server/index.bzl",
            "status": "added",
            "additions": 126,
            "deletions": 0,
            "changes": 126,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Findex.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Findex.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2Findex.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,126 @@\n+load(\"@build_bazel_rules_nodejs//:providers.bzl\", \"JSNamedModuleInfo\")\n+\n+\"\"\"Gets the workspace name of the given rule context.\"\"\"\n+\n+def _get_workspace_name(ctx):\n+    if ctx.label.workspace_root:\n+        # We need the workspace_name for the target being visited.\n+        # Starlark doesn't have this - instead they have a workspace_root\n+        # which looks like \"external/repo_name\" - so grab the second path segment.\n+        return ctx.label.workspace_root.split(\"/\")[1]\n+    else:\n+        return ctx.workspace_name\n+\n+\"\"\"Implementation of the dev server rule.\"\"\"\n+\n+def _dev_server_rule_impl(ctx):\n+    files = depset(ctx.files.srcs)\n+\n+    # List of files which are required for the devserver to run. This includes the\n+    # bazel runfile helpers (to resolve runfiles in bash) and the devserver binary\n+    # with its transitive runfiles (in order to be able to run the devserver).\n+    required_tools = ctx.files._bash_runfile_helpers + \\\n+                     ctx.files._dev_server_bin + \\\n+                     ctx.attr._dev_server_bin[DefaultInfo].files.to_list() + \\\n+                     ctx.attr._dev_server_bin[DefaultInfo].data_runfiles.files.to_list()\n+\n+    # Walk through all dependencies specified in the \"deps\" attribute. These labels need to be\n+    # unwrapped in case there are built using TypeScript-specific rules. This is because targets\n+    # built using \"ts_library\" or \"ng_module\" do not declare the generated JS files as default\n+    # rule output.\n+    for d in ctx.attr.deps:\n+        if JSNamedModuleInfo in d:\n+            files = depset(transitive = [files, d[JSNamedModuleInfo].sources])\n+        elif hasattr(d, \"files\"):\n+            files = depset(transitive = [files, d.files])\n+\n+    workspace_name = _get_workspace_name(ctx)\n+    root_paths = [\"\", \"/\".join([workspace_name, ctx.label.package])] + ctx.attr.additional_root_paths\n+\n+    # We can't use \"ctx.actions.args()\" because there is no way to convert the args object\n+    # into a string representing the command line arguments. It looks like bazel has some\n+    # internal logic to compute the string representation of \"ctx.actions.args()\".\n+    args = '--root_paths=\"%s\" ' % \",\".join(root_paths)\n+\n+    if ctx.attr.historyApiFallback:\n+        args += \"--historyApiFallback \"\n+\n+    ctx.actions.expand_template(\n+        template = ctx.file._launcher_template,\n+        output = ctx.outputs.launcher,\n+        substitutions = {\n+            \"TEMPLATED_args\": args,\n+        },\n+        is_executable = True,\n+    )\n+\n+    return [\n+        DefaultInfo(runfiles = ctx.runfiles(\n+            files = files.to_list() + required_tools,\n+            collect_data = True,\n+            collect_default = True,\n+        )),\n+    ]\n+\n+dev_server_rule = rule(\n+    implementation = _dev_server_rule_impl,\n+    outputs = {\n+        \"launcher\": \"%{name}.sh\",\n+    },\n+    attrs = {\n+        \"additional_root_paths\": attr.string_list(doc = \"\"\"\n+          Additionally paths to serve files from. The paths should be formatted\n+          as manifest paths (e.g. \"my_workspace/src\")\n+        \"\"\"),\n+        \"deps\": attr.label_list(\n+            allow_files = True,\n+            doc = \"\"\"\n+              Dependencies that need to be available to the dev-server. This attribute can be\n+              used for TypeScript targets which provide multiple flavors of output.\n+            \"\"\",\n+        ),\n+        \"historyApiFallback\": attr.bool(\n+            default = True,\n+            doc = \"\"\"\n+            Whether the devserver should fallback to \"/index.html\" for non-file requests.\n+            This is helpful for single page applications using the HTML history API.\n+          \"\"\",\n+        ),\n+        \"srcs\": attr.label_list(allow_files = True, doc = \"\"\"\n+          Sources that should be available to the dev-server. This attribute can be\n+          used for explicit files. This attribute only uses the files exposed by the\n+          DefaultInfo provider (i.e. TypeScript targets should be added to \"deps\").\n+        \"\"\"),\n+        \"_bash_runfile_helpers\": attr.label(default = Label(\"@bazel_tools//tools/bash/runfiles\")),\n+        \"_dev_server_bin\": attr.label(\n+            default = Label(\"//devtools/tools/dev-server:dev-server_bin\"),\n+        ),\n+        \"_launcher_template\": attr.label(allow_single_file = True, default = Label(\"//devtools/tools/dev-server:launcher_template.sh\")),\n+    },\n+)\n+\n+\"\"\"\n+  Creates a dev server that can depend on individual bazel targets. The server uses\n+  bazel runfile resolution in order to work with Bazel package paths. e.g. developers can\n+  request files through their manifest path: \"my_workspace/src/dev-app/my-genfile\".\n+\"\"\"\n+\n+def dev_server(name, testonly = False, port = 4200, tags = [], **kwargs):\n+    dev_server_rule(\n+        name = \"%s_launcher\" % name,\n+        visibility = [\"//visibility:private\"],\n+        tags = tags,\n+        testonly = testonly,\n+        **kwargs\n+    )\n+\n+    native.sh_binary(\n+        name = name,\n+        # The \"ibazel_notify_changes\" tag tells ibazel to not relaunch the executable on file\n+        # changes. Rather it will communicate with the server implementation through \"stdin\".\n+        tags = tags + [\"ibazel_notify_changes\"],\n+        srcs = [\"%s_launcher.sh\" % name],\n+        data = [\":%s_launcher\" % name],\n+        args = [\"--port=%s\" % port],\n+        testonly = testonly,\n+    )"
        },
        {
            "sha": "b14175c3de47f15339f6caac383d33e5f3c448ea",
            "filename": "devtools/tools/dev-server/launcher_template.sh",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Flauncher_template.sh",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Flauncher_template.sh",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2Flauncher_template.sh?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,33 @@\n+#!/bin/bash\n+\n+# --- begin runfiles.bash initialization v2 ---\n+# Copy-pasted from the Bazel Bash runfiles library v2. We need to copy the runfile\n+# helper code as we want to resolve Bazel targets through the runfiles (in order to\n+# make the dev-server work on windows where runfiles are not symlinked). The runfile\n+# helpers expose a bash function called \"rlocation\" that can be used to resolve targets.\n+set -uo pipefail; f=bazel_tools/tools/bash/runfiles/runfiles.bash\n+source \"${RUNFILES_DIR:-/dev/null}/$f\" 2>/dev/null || \\\n+source \"$(grep -sm1 \"^$f \" \"${RUNFILES_MANIFEST_FILE:-/dev/null}\" | cut -f2- -d' ')\" 2>/dev/null || \\\n+source \"$0.runfiles/$f\" 2>/dev/null || \\\n+source \"$(grep -sm1 \"^$f \" \"$0.runfiles_manifest\" | cut -f2- -d' ')\" 2>/dev/null || \\\n+source \"$(grep -sm1 \"^$f \" \"$0.exe.runfiles_manifest\" | cut -f2- -d' ')\" 2>/dev/null || \\\n+{ echo>&2 \"ERROR: cannot find $f\"; exit 1; }; f=; set -e\n+# --- end runfiles.bash initialization v2 ---\n+\n+# If we do not run the devserver as part of a test, we always enforce runfile\n+# resolution when invoking the devserver NodeJS binary. This is necessary as\n+# runfile trees are disabled as part of this repository. The devserver NodeJS\n+# binary would not find a relative runfile tree directory and error out.\n+if [[ -z \"${TEST_SRCDIR:-\"\"}\" ]]; then\n+  export RUNFILES_MANIFEST_ONLY=\"1\"\n+fi\n+\n+# Resolve the path of the dev-server binary. Note: usually we either need to\n+# resolve the \"nodejs_binary\" executable with different file extensions on\n+# windows, but since we already run this launcher as part of a \"sh_binary\", we\n+# can safely execute another shell script from the current shell.\n+devserverBin=$(rlocation \"angular/devtools/tools/dev-server/dev-server_bin.sh\")\n+\n+# Start the devserver with the given arguments. The arguments will be\n+# substituted based on the rule attributes.\n+${devserverBin} TEMPLATED_args \"$@\""
        },
        {
            "sha": "d0a18b335eae471f3f92d1028907902ca1cc1d8e",
            "filename": "devtools/tools/dev-server/main.ts",
            "status": "added",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fmain.ts",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fdev-server%2Fmain.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fdev-server%2Fmain.ts?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,31 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import minimist from 'minimist';\n+\n+import {DevServer} from './dev-server';\n+import {setupBazelWatcherSupport} from './ibazel';\n+\n+const args = process.argv.slice(2);\n+const {\n+  root_paths: _rootPathsRaw,\n+  port,\n+  historyApiFallback,\n+} = minimist(args, {boolean: 'historyApiFallback'});\n+\n+const rootPaths = _rootPathsRaw ? _rootPathsRaw.split(',') : ['/'];\n+\n+const bindUi = process.env.TEST_TARGET === undefined;\n+const server = new DevServer(port, rootPaths, bindUi, historyApiFallback);\n+\n+// Setup ibazel support.\n+setupBazelWatcherSupport(server);\n+\n+// Start the devserver. The server will always bind to the loopback and\n+// the public interface of the current host.\n+server.start();"
        },
        {
            "sha": "3dd86a8116fecdc7c5a996a003f571a4ef47dcb7",
            "filename": "devtools/tools/esbuild/BUILD.bazel",
            "status": "added",
            "additions": 38,
            "deletions": 0,
            "changes": 38,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,38 @@\n+load(\"//tools:defaults.bzl\", \"esbuild_config\")\n+load(\":index.bzl\", \"create_angular_bundle_targets\")\n+\n+package(default_visibility = [\"//visibility:public\"])\n+\n+esbuild_config(\n+    name = \"esbuild_base\",\n+    config_file = \"esbuild-base.config.mjs\",\n+)\n+\n+esbuild_config(\n+    name = \"esbuild_config_esm\",\n+    config_file = \"esbuild-esm.config.mjs\",\n+    deps = [\n+        \":esbuild_base\",\n+        \"@npm//@angular/dev-infra-private/shared-scripts/angular-linker:js_lib\",\n+    ],\n+)\n+\n+esbuild_config(\n+    name = \"esbuild_config_iife\",\n+    config_file = \"esbuild-iife.config.mjs\",\n+    deps = [\n+        \":esbuild_base\",\n+    ],\n+)\n+\n+esbuild_config(\n+    name = \"esbuild_config_spec\",\n+    testonly = True,\n+    config_file = \"esbuild-spec.config.mjs\",\n+    deps = [\n+        \":esbuild_base\",\n+        \"@npm//@angular/dev-infra-private/shared-scripts/angular-linker:js_lib\",\n+    ],\n+)\n+\n+create_angular_bundle_targets()"
        },
        {
            "sha": "a0baa8d57bdd40a57c227ebbdc29485bab4ac962",
            "filename": "devtools/tools/esbuild/esbuild-base.config.mjs",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-base.config.mjs",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-base.config.mjs",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2Fesbuild-base.config.mjs?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,15 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+export default {\n+  resolveExtensions: ['.mjs', '.js'],\n+  // This ensures that we prioritize ES2020. RxJS would otherwise use the ESM5 output.\n+  mainFields: ['es2020', 'es2015', 'module', 'main'],\n+  // `tslib` sets the `module` condition to resolve to ESM.\n+  conditions: ['es2020', 'es2015', 'module']\n+};"
        },
        {
            "sha": "ed999d1d4f4f0ea50e71f117fce2fb7a11bd237f",
            "filename": "devtools/tools/esbuild/esbuild-esm.config.mjs",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-esm.config.mjs",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-esm.config.mjs",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2Fesbuild-esm.config.mjs?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,35 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import {createLinkerEsbuildPlugin} from '@angular/dev-infra-private/shared-scripts/angular-linker/esbuild-plugin.mjs';\n+import baseEsbuildConfig from './esbuild-base.config.mjs';\n+  \n+export default {\n+  ...baseEsbuildConfig,\n+  format: 'esm',\n+  plugins: [\n+    // Only run the linker on `fesm2020/` bundles. This should not have an effect on\n+    // the bundle output, but helps speeding up ESBuild when it visits other modules.\n+    await createLinkerEsbuildPlugin(\n+      /fesm2020/,\n+      /* ensureNoPartialDeclaration */ false,\n+\n+      // DevTools relies on angular framework packages that are consumed,\n+      // locally via bazel. These packages have a version of 0.0.0-PLACEHOLDER.\n+      // DevTools also relies on Angular CDK and Material packages that are consumed via npm.\n+      // Because of this, we set unknownDeclarationVersionHandling to ignore so that we bypass\n+      // selecting a linker for our CDK and Material dependencies based on our local framework\n+      // version (0.0.0-PLACEHOLDER). \n+      // Instead this option defaults to the latest linker version, which should\n+      // be correct, except for the small time interval where we rollout a new\n+      // declaration version and target a material release that hasn't been compiled\n+      // with that version yet.\n+      { unknownDeclarationVersionHandling: 'ignore' }\n+    ),\n+  ],\n+};"
        },
        {
            "sha": "b603afcbbe2f80929c50205074c250bab6f7952c",
            "filename": "devtools/tools/esbuild/esbuild-iife.config.mjs",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-iife.config.mjs",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-iife.config.mjs",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2Fesbuild-iife.config.mjs?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,14 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import baseEsbuildConfig from './esbuild-base.config.mjs';\n+\n+export default {\n+  ...baseEsbuildConfig,\n+  format: 'iife'\n+};"
        },
        {
            "sha": "78971e7aeb578979507b7b6d50b846ec4035ecc4",
            "filename": "devtools/tools/esbuild/esbuild-spec.config.mjs",
            "status": "added",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-spec.config.mjs",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Fesbuild-spec.config.mjs",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2Fesbuild-spec.config.mjs?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,51 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+import baseEsbuildConfig from './esbuild-base.config.mjs';\n+\n+/**\n+ * Loads and creates the ESBuild linker plugin.\n+ *\n+ * The plugin is not loaded at top-level as not all spec bundle targets rely\n+ * on the linker and this would slow-down bundling.\n+ */\n+ async function fetchAndCreateLinkerEsbuildPlugin() {\n+  // Note: This needs to be a NPM module path as this ESBuild config is generated and can\n+  // end up in arbitrary Bazel packages or differently-named consumer workspaces.\n+  const {createLinkerEsbuildPlugin} = await import(\n+    '@angular/dev-infra-private/shared-scripts/angular-linker/esbuild-plugin.mjs'\n+  );\n+\n+  return await createLinkerEsbuildPlugin(\n+    /.*/,\n+    /* ensureNoPartialDeclaration */ true,\n+    \n+    // DevTools relies on angular framework packages that are consumed,\n+    // locally via bazel. These packages have a version of 0.0.0-PLACEHOLDER.\n+    // DevTools also relies on Angular CDK and Material packages that are consumed via npm.\n+    // Because of this, we set unknownDeclarationVersionHandling to ignore so that we bypass\n+    // selecting a linker for our CDK and Material dependencies based on our local framework\n+    // version (0.0.0-PLACEHOLDER). \n+    // Instead this option defaults to the latest linker version, which should\n+    // be correct, except for the small time interval where we rollout a new\n+    // declaration version and target a Material release that hasn't been compiled\n+    // with that version yet\n+    { unknownDeclarationVersionHandling: 'ignore' }\n+  );\n+}\n+\n+// Based on the Bazel action and its substitutions, we run the linker for all inputs.\n+const plugins = [await fetchAndCreateLinkerEsbuildPlugin()];\n+\n+export default {\n+  ...baseEsbuildConfig,\n+  // Use the `iife` format for the test entry-point as tests should run immediately.\n+  // For browser tests which are wrapped in an AMD header and footer, this works as well.\n+  format: 'iife',\n+  plugins,\n+};"
        },
        {
            "sha": "58690665d3b1ad87d1d9dfd104e610e9d0157e5e",
            "filename": "devtools/tools/esbuild/index.bzl",
            "status": "renamed",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Findex.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fesbuild%2Findex.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fesbuild%2Findex.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,4 +1,4 @@\n-load(\"//:packages.bzl\", \"ANGULAR_PACKAGES\")\n+load(\"//devtools:packages.bzl\", \"ANGULAR_PACKAGES\")\n load(\"@npm//@angular/dev-infra-private/bazel/esbuild:index.bzl\", \"esbuild\")\n load(\"@build_bazel_rules_nodejs//internal/linker:link_node_modules.bzl\", \"LinkerPackageMappingInfo\")\n load(\"@build_bazel_rules_nodejs//:providers.bzl\", \"ExternalNpmPackageInfo\", \"JSModuleInfo\")\n@@ -51,7 +51,7 @@ def _create_bundle_targets(pkg, entry_point, module_name):\n         output = \"%s/index.mjs\" % target_name_base,\n         platform = pkg.platform,\n         entry_point = \"@npm//:node_modules/@angular/%s/%s\" % (pkg.name, fesm_bundle_path),\n-        config = \"//tools/angular:esbuild_config\",\n+        config = \"//devtools/tools/esbuild:esbuild_config_esm\",\n         # List of dependencies which should never be bundled into these linker-processed bundles.\n         external = [\"rxjs\", \"@angular\", \"domino\", \"xhr2\"],\n     )\n@@ -72,7 +72,7 @@ def create_angular_bundle_targets():\n             _create_bundle_targets(pkg, entry_point, \"%s/%s\" % (pkg.module_name, entry_point))\n \n LINKER_PROCESSED_FW_PACKAGES = [\n-    \"//tools/angular:%s_linked\" % _get_target_name_base(pkg, entry_point)\n+    \"//devtools/tools/esbuild:%s_linked\" % _get_target_name_base(pkg, entry_point)\n     for pkg in ANGULAR_PACKAGES\n     for entry_point in [None] + pkg.entry_points\n ]",
            "previous_filename": "devtools/tools/angular/index.bzl"
        },
        {
            "sha": "eaf9cbcd082925318dd91c50f491a9884410e771",
            "filename": "devtools/tools/ng_module.bzl",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fng_module.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Fng_module.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Fng_module.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -0,0 +1,11 @@\n+load(\"//tools:defaults.bzl\", _ng_module = \"ng_module\")\n+\n+def ng_module(name, tsconfig = \"//devtools:tsconfig.json\", srcs = [], angular_assets = [], **kwargs):\n+    _ng_module(\n+        name = name,\n+        tsconfig = tsconfig,\n+        generate_ve_shims = False,\n+        srcs = srcs,\n+        assets = angular_assets,\n+        **kwargs\n+    )"
        },
        {
            "sha": "e6ff991d019d6e6626fbacc94e32c4cb87c3ac4c",
            "filename": "devtools/tools/typescript.bzl",
            "status": "modified",
            "additions": 7,
            "deletions": 12,
            "changes": 19,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Ftypescript.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftools%2Ftypescript.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftools%2Ftypescript.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -1,24 +1,19 @@\n \"\"\"Helper macros for compiling typescript with consistent config\"\"\"\n \n-load(\"@npm//@bazel/typescript:index.bzl\", _ts_project = \"ts_project\")\n+load(\"//tools:defaults.bzl\", _ts_library = \"ts_library\")\n \n-def ts_project(name, tsconfig = \"//:tsconfig.json\", **kwargs):\n-    _ts_project(\n+def ts_library(name, tsconfig = \"//devtools:tsconfig.json\", **kwargs):\n+    _ts_library(\n         name = name,\n         tsconfig = tsconfig,\n-        declaration = True,\n-        declaration_map = True,\n-        source_map = True,\n         **kwargs\n     )\n \n-def ts_test_project(name, tsconfig = \"//:tsconfig_spec\", deps = [], **kwargs):\n-    _ts_project(\n+def ts_test_library(name, tsconfig = \"//devtools:tsconfig.json\", deps = [], **kwargs):\n+    _ts_library(\n         name = name,\n-        testonly = 1,\n         tsconfig = tsconfig,\n-        deps = deps + [\"@npm//@types/node\", \"@npm//@types/jasmine\"],\n-        declaration = True,\n-        declaration_map = True,\n+        testonly = 1,\n+        deps = deps,\n         **kwargs\n     )"
        },
        {
            "sha": "29f5f5864eb6897dcf3b3f3ad2d43ec6f2349596",
            "filename": "devtools/tsconfig.app.json",
            "status": "removed",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftsconfig.app.json",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Ftsconfig.app.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftsconfig.app.json?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3",
            "patch": "@@ -1,9 +0,0 @@\n-{\n-  \"extends\": \"./tsconfig.json\",\n-  \"compilerOptions\": {\n-    \"outDir\": \"./out-tsc/app\",\n-    \"types\": []\n-  },\n-  \"files\": [\"src/main.ts\", \"src/polyfills.ts\"],\n-  \"include\": [\"src/**/*.d.ts\"]\n-}"
        },
        {
            "sha": "8d3b337ee52a07a0e3afd0ddf5ba3bdbd8a30f26",
            "filename": "devtools/tsconfig.json",
            "status": "modified",
            "additions": 16,
            "deletions": 24,
            "changes": 40,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/devtools%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Ftsconfig.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -9,54 +9,46 @@\n         ]\n       }\n     ],\n-    \"baseUrl\": \"./\",\n+    \"baseUrl\": \"../\",\n     \"outDir\": \"bazel-out/darwin-fastbuild/bin\",\n     \"sourceMap\": true,\n     \"declaration\": true,\n-    \"declarationMap\": true,\n     \"strictNullChecks\": true,\n     \"downlevelIteration\": true,\n     \"experimentalDecorators\": true,\n     \"allowSyntheticDefaultImports\": true,\n     \"module\": \"esnext\",\n     \"moduleResolution\": \"node\",\n+    \"esModuleInterop\": true,\n     \"importHelpers\": true,\n     \"target\": \"es2020\",\n+    \"lib\": [\"es2020\", \"dom\"],\n     \"typeRoots\": [\n-      \"node_modules/@types\"\n+      \"./devtools/node_modules/@types\",\n     ],\n-    \"lib\": [\n-      \"es2018\",\n-      \"dom\"\n+    \"types\": [\n+      \"angular\",\n+      \"jasmine\",\n+      \"node\"\n     ],\n     \"paths\": {\n+      \"@angular/*\": [\n+        \"./packages/*\",\n+        \"./dist/bin/packages/*\"\n+      ],\n       \"ng-devtools\": [\n-        \"projects/ng-devtools/src/public-api.ts\",\n-        \"dist/ng-devtools\"\n+        \"./devtools/projects/ng-devtools/src/public-api.ts\",\n       ],\n       \"ng-devtools-backend\": [\n-        \"projects/ng-devtools-backend/src/public-api.ts\",\n-        \"dist/ng-devtools-backend\"\n+        \"./devtools/projects/ng-devtools-backend/src/public-api.ts\",\n       ],\n       \"protocol\": [\n-        \"projects/protocol/src/public-api.ts\",\n-        \"dist/protocol\"\n+        \"./devtools/projects/protocol/src/public-api.ts\",\n       ],\n       \"shared-utils\": [\n-        \"projects/shared-utils/src/public-api.ts\",\n-        \"dist/shared-utils\"\n+        \"./devtools/projects/shared-utils/src/public-api.ts\",\n       ]\n     },\n-    \"rootDirs\": [\n-      \".\",\n-      \"./bazel-out/host\",\n-      \"./bazel-out/darwin-fastbuild/bin\",\n-      \"./bazel-out/k8-fastbuild/bin\",\n-      \"./bazel-out/x64_windows-fastbuild/bin\",\n-      \"./bazel-out/darwin-dbg/bin\",\n-      \"./bazel-out/k8-dbg/bin\",\n-      \"./bazel-out/x64_windows-dbg/bin\",\n-    ]\n   },\n   \"angularCompilerOptions\": {\n     \"fullTemplateTypeCheck\": true,"
        },
        {
            "sha": "69fa50cac241094ce42dc069f3f7563b49724761",
            "filename": "devtools/yarn.lock",
            "status": "removed",
            "additions": 0,
            "deletions": 12727,
            "changes": 12727,
            "blob_url": "https://github.com/angular/angular/blob/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/7ed57f29eadedbe5b034648b974fb6c25cccf6e3/devtools%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/devtools%2Fyarn.lock?ref=7ed57f29eadedbe5b034648b974fb6c25cccf6e3"
        },
        {
            "sha": "0558325542c98cd255e28a22ff5fb601721c6f88",
            "filename": "package.json",
            "status": "modified",
            "additions": 30,
            "deletions": 3,
            "changes": 33,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/package.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -25,6 +25,7 @@\n     \"postinstall\": \"node scripts/webdriver-manager-update.js && node --preserve-symlinks --preserve-symlinks-main ./tools/postinstall-patches.js\",\n     \"prepare\": \"husky install\",\n     \"test\": \"bazelisk test\",\n+    \"test:ci\": \"bazelisk test -- //... -//devtools/...\",\n     \"test-tsec\": \"bazelisk test //... --build_tag_filters=tsec --test_tag_filters=tsec\",\n     \"lint\": \"yarn -s tslint && yarn -s ng-dev format changed --check\",\n     \"tslint\": \"tslint -c tslint.json --project tsconfig-tslint.json\",\n@@ -34,7 +35,11 @@\n     \"symbol-extractor:update\": \"node tools/symbol-extractor/run_all_symbols_extractor_tests.js accept\",\n     \"ts-circular-deps:check\": \"yarn -s ng-dev ts-circular-deps check --config ./packages/circular-deps-test.conf.js\",\n     \"ts-circular-deps:approve\": \"yarn -s ng-dev ts-circular-deps approve --config ./packages/circular-deps-test.conf.js\",\n-    \"check-tooling-setup\": \"yarn tsc --project .ng-dev/tsconfig.json\"\n+    \"check-tooling-setup\": \"yarn tsc --project .ng-dev/tsconfig.json\",\n+    \"devtools:devserver\": \"ibazel run //devtools/src:devserver\",\n+    \"devtools:build:chrome\": \"bazelisk build --config snapshot //devtools/projects/shell-chrome/src:prodapp\",\n+    \"devtools:test\": \"bazelisk test --config snapshot //devtools/...\",\n+    \"devtools:e2e\": \"start-server-and-test devtools:devserver http-get://localhost:4200 'cypress run --config-file=devtools/cypress.json'\"\n   },\n   \"// 1\": \"dependencies are used locally and by bazel\",\n   \"dependencies\": {\n@@ -43,18 +48,20 @@\n     \"@angular-devkit/core\": \"13.1.4\",\n     \"@angular-devkit/schematics\": \"13.1.4\",\n     \"@angular/animations-12\": \"npm:@angular/animations@12.2.13\",\n+    \"@angular/cdk\": \"13.1.0\",\n     \"@angular/cli\": \"13.1.4\",\n     \"@angular/common-12\": \"npm:@angular/common@12.2.13\",\n     \"@angular/core-12\": \"npm:@angular/core@12.2.13\",\n     \"@angular/forms-12\": \"npm:@angular/forms@12.2.13\",\n+    \"@angular/material\": \"13.1.0\",\n     \"@angular/platform-browser-12\": \"npm:@angular/platform-browser@12.2.13\",\n     \"@angular/platform-browser-dynamic-12\": \"npm:@angular/platform-browser-dynamic@12.2.13\",\n     \"@angular/platform-server-12\": \"npm:@angular/platform-server@12.2.13\",\n     \"@angular/router-12\": \"npm:@angular/router@12.2.13\",\n     \"@babel/cli\": \"7.16.8\",\n     \"@babel/core\": \"7.8.6\",\n     \"@babel/generator\": \"7.8.6\",\n-    \"@babel/parser\": \"7.9.4\",\n+    \"@babel/parser\": \"^7.14.3\",\n     \"@babel/preset-env\": \"7.10.2\",\n     \"@babel/template\": \"7.8.6\",\n     \"@babel/traverse\": \"7.8.6\",\n@@ -78,16 +85,19 @@\n     \"@types/babel__traverse\": \"7.0.9\",\n     \"@types/base64-js\": \"1.3.0\",\n     \"@types/bluebird\": \"^3.5.27\",\n+    \"@types/chrome\": \"^0.0.159\",\n     \"@types/convert-source-map\": \"^1.5.1\",\n     \"@types/diff\": \"^5.0.0\",\n     \"@types/events\": \"3.0.0\",\n     \"@types/hammerjs\": \"2.0.41\",\n+    \"@types/filesystem\": \"^0.0.32\",\n     \"@types/inquirer\": \"^8.0.0\",\n     \"@types/jasmine\": \"3.10.3\",\n     \"@types/jasmine-ajax\": \"^3.3.1\",\n     \"@types/jasminewd2\": \"^2.0.8\",\n     \"@types/multimatch\": \"^4.0.0\",\n     \"@types/node\": \"^12.11.1\",\n+    \"@types/resize-observer-browser\": \"^0.1.5\",\n     \"@types/selenium-webdriver\": \"3.0.7\",\n     \"@types/semver\": \"^7.3.4\",\n     \"@types/shelljs\": \"^0.8.6\",\n@@ -111,8 +121,12 @@\n     \"chokidar\": \"^3.5.1\",\n     \"convert-source-map\": \"^1.5.1\",\n     \"core-js-bundle\": \"^3.10.2\",\n+    \"cypress\": \"8.7.0\",\n+    \"cypress-iframe\": \"^1.0.1\",\n+    \"d3\": \"^5.7.0\",\n     \"dependency-graph\": \"^0.11.0\",\n     \"diff\": \"^5.0.0\",\n+    \"document-register-element\": \"^1.7.2\",\n     \"domino\": \"~2.1.6\",\n     \"google-closure-compiler\": \"20220104.0.0\",\n     \"graceful-fs\": \"4.2.9\",\n@@ -132,6 +146,8 @@\n     \"karma-sourcemap-loader\": \"^0.3.7\",\n     \"magic-string\": \"0.25.7\",\n     \"materialize-css\": \"1.0.0\",\n+    \"memo-decorator\": \"^2.0.1\",\n+    \"ngx-flamegraph\": \"0.0.11\",\n     \"nodejs-websocket\": \"^1.7.2\",\n     \"protractor\": \"^7.0.0\",\n     \"puppeteer\": \"10.2.0\",\n@@ -143,16 +159,21 @@\n     \"rxjs\": \"^6.6.7\",\n     \"selenium-webdriver\": \"3.5.0\",\n     \"shelljs\": \"^0.8.5\",\n+    \"semver-dsl\": \"^1.0.1\",\n     \"source-map\": \"^0.6.1\",\n     \"source-map-support\": \"0.5.21\",\n     \"sourcemap-codec\": \"^1.4.8\",\n+    \"start-server-and-test\": \"^1.10.11\",\n     \"systemjs\": \"0.18.10\",\n     \"terser\": \"^5.8.0\",\n     \"tmp\": \"0.2.1\",\n+    \"todomvc-app-css\": \"^2.3.0\",\n+    \"todomvc-common\": \"^1.0.5\",\n     \"tsickle\": \"0.38.1\",\n     \"tslib\": \"^2.3.0\",\n     \"tslint\": \"6.1.3\",\n     \"typescript\": \"~4.5.2\",\n+    \"webtreemap\": \"^2.0.1\",\n     \"xhr2\": \"0.2.1\",\n     \"yargs\": \"^17.2.1\"\n   },\n@@ -163,9 +184,13 @@\n     \"@bazel/buildifier\": \"^4.0.1\",\n     \"@bazel/ibazel\": \"^0.15.8\",\n     \"@octokit/graphql\": \"^4.6.1\",\n+    \"@types/browser-sync\": \"^2.26.1\",\n     \"@types/cldrjs\": \"^0.4.22\",\n     \"@types/cli-progress\": \"^3.4.2\",\n+    \"@types/minimist\": \"^1.2.0\",\n+    \"@types/send\": \"^0.14.5\",\n     \"@yarnpkg/lockfile\": \"^1.1.0\",\n+    \"browser-sync\": \"2.26.13\",\n     \"check-side-effects\": \"0.0.23\",\n     \"cldr\": \"7.1.1\",\n     \"cldrjs\": \"0.5.5\",\n@@ -178,10 +203,12 @@\n     \"inquirer\": \"^8.0.0\",\n     \"karma-sauce-launcher\": \"^4.3.6\",\n     \"madge\": \"^5.0.0\",\n+    \"minimist\": \"^1.2.0\",\n     \"multimatch\": \"^6.0.0\",\n     \"prettier\": \"^2.5.1\",\n     \"sauce-connect\": \"https://saucelabs.com/downloads/sc-4.7.1-linux.tar.gz\",\n     \"semver\": \"^7.3.5\",\n+    \"send\": \"^0.17.1\",\n     \"ts-node\": \"^10.0.0\",\n     \"tsec\": \"0.2.1\",\n     \"tslint-eslint-rules\": \"5.4.0\",\n@@ -200,7 +227,7 @@\n     \"**/webdriver-manager\": \"12.1.8\",\n     \"@babel/core\": \"7.8.6\",\n     \"@babel/generator\": \"7.8.6\",\n-    \"@babel/parser\": \"7.9.4\",\n+    \"@babel/parser\": \"^7.14.3\",\n     \"@babel/preset-env\": \"7.10.2\",\n     \"@babel/template\": \"7.8.6\",\n     \"@babel/traverse\": \"7.8.6\","
        },
        {
            "sha": "cd31c43055fca8e09e07067ace474f934e0139c4",
            "filename": "packages/core/src/di/interface/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/packages%2Fcore%2Fsrc%2Fdi%2Finterface%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/packages%2Fcore%2Fsrc%2Fdi%2Finterface%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fdi%2Finterface%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -2,6 +2,7 @@ load(\"//tools:defaults.bzl\", \"ts_library\")\n load(\"@npm//tsec:index.bzl\", \"tsec_test\")\n \n package(default_visibility = [\n+    \"//devtools:__subpackages__\",\n     \"//packages/core:__subpackages__\",\n     \"//tools/public_api_guard:__pkg__\",\n ])"
        },
        {
            "sha": "be084bfc67d0b5f8d5402cc609ce8c631efe087f",
            "filename": "packages/core/src/util/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/packages%2Fcore%2Fsrc%2Futil%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/packages%2Fcore%2Fsrc%2Futil%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Futil%2FBUILD.bazel?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -2,6 +2,7 @@ load(\"//tools:defaults.bzl\", \"ts_library\")\n load(\"@npm//tsec:index.bzl\", \"tsec_test\")\n \n package(default_visibility = [\n+    \"//devtools:__subpackages__\",\n     \"//packages/core:__subpackages__\",\n     \"//tools/public_api_guard:__pkg__\",\n ])"
        },
        {
            "sha": "41c40c4ed406dc9be5b6bd8aeae4b1e501caf650",
            "filename": "renovate.json",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/renovate.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/renovate.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/renovate.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -53,7 +53,6 @@\n     \"package.json\",\n     \"packages/**/package.json\",\n     \"aio/package.json\",\n-    \"devtools/package.json\",\n     \".github/workflows/**/*.yml\"\n   ],\n   \"packageRules\": ["
        },
        {
            "sha": "8cc140127b81e7cedb9f919f8129e0924218b810",
            "filename": "tools/defaults.bzl",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tools%2Fdefaults.bzl",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tools%2Fdefaults.bzl",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fdefaults.bzl?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -14,6 +14,7 @@ load(\"@npm//@angular/dev-infra-private/bazel/benchmark/app_bundling:index.bzl\",\n load(\"//tools:ng_benchmark.bzl\", _ng_benchmark = \"ng_benchmark\")\n load(\"@npm//@angular/dev-infra-private/bazel/api-golden:index.bzl\", _api_golden_test = \"api_golden_test\", _api_golden_test_npm_package = \"api_golden_test_npm_package\")\n load(\"@npm//@angular/dev-infra-private/bazel:extract_js_module_output.bzl\", \"extract_js_module_output\")\n+load(\"@npm//@angular/dev-infra-private/bazel/esbuild:index.bzl\", _esbuild = \"esbuild\", _esbuild_config = \"esbuild_config\")\n \n _DEFAULT_TSCONFIG_TEST = \"//packages:tsconfig-test\"\n _INTERNAL_NG_MODULE_API_EXTRACTOR = \"//packages/bazel/src/api-extractor:api_extractor\"\n@@ -23,6 +24,9 @@ _INTERNAL_NG_PACKAGE_PACKAGER = \"//packages/bazel/src/ng_package:packager\"\n _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP_CONFIG_TMPL = \"//packages/bazel/src/ng_package:rollup.config.js\"\n _INTERNAL_NG_PACKAGE_DEFAULT_ROLLUP = \"//packages/bazel/src/ng_package:rollup_for_ng_package\"\n \n+esbuild = _esbuild\n+esbuild_config = _esbuild_config\n+\n # Packages which are versioned together on npm\n ANGULAR_SCOPED_PACKAGES = [\"@angular/%s\" % p for p in [\n     # core should be the first package because it's the main package in the group"
        },
        {
            "sha": "0c4d23df33eeb580b59e7786b4582cccde0f7d03",
            "filename": "tools/postinstall-patches.js",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tools%2Fpostinstall-patches.js",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tools%2Fpostinstall-patches.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fpostinstall-patches.js?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -114,6 +114,23 @@ captureNgDevPatches(\n       ],\n     ]);\n \n+// Patches for angular linker\n+captureNgDevPatches(\n+    [\n+      'node_modules/@angular/dev-infra-private/shared-scripts/angular-linker/BUILD.bazel',\n+      'node_modules/@angular/dev-infra-private/shared-scripts/angular-linker/esbuild-plugin.mjs',\n+    ],\n+    [\n+      [\n+        '\"@npm//@angular/compiler-cli\"',\n+        '\"@angular//packages/compiler-cli\", \"@angular//packages/compiler-cli/linker/babel\"'\n+      ],\n+      [\n+        `from '@angular/compiler-cli/linker/babel'`,\n+        `from '@angular/compiler-cli/linker/babel/index.js'`\n+      ],\n+    ]);\n+\n // Apply the captured patches for the `@angular/dev-infra-private` package.\n for (const [fileName, patches] of ngDevPatches.entries()) {\n   for (const patch of patches) {"
        },
        {
            "sha": "7819ad9869360c79f95e2403ba1ffd2f741e93e2",
            "filename": "tslint.json",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tslint.json",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/tslint.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tslint.json?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54",
            "patch": "@@ -143,8 +143,6 @@\n       // TODO(JiaLiPassion): add zone.js back later\n       \"./packages/zone.js/**/*\",\n \n-      \"./devtools/dist/**/*\",\n-      \"./devtools/bazel-bin/**/*\",\n       \"./devtools/bazel-out/**/*\",\n       \"./devtools/projects/ng-devtools/src/lib/vendor/**/*\"\n     ]"
        },
        {
            "sha": "94c2f7124704934ab36c7b29296dcd97ef0762d5",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 1538,
            "deletions": 51,
            "changes": 1589,
            "blob_url": "https://github.com/angular/angular/blob/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=445fbf81fd824f59e3e82c6a0e21cd2e5b6fea54"
        }
    ],
    "stats": {
        "total": 19261,
        "additions": 3282,
        "deletions": 15979
    }
}