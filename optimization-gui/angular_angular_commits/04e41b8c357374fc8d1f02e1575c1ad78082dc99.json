{
    "author": "petebacondarwin",
    "message": "docs: move nginx and apache config blocks to external files (#43216)\n\nPR Close #43216",
    "sha": "04e41b8c357374fc8d1f02e1575c1ad78082dc99",
    "files": [
        {
            "sha": "eed547e1f878c0f8a235739e9e235462d84003e0",
            "filename": "aio/content/examples/i18n/doc-files/apache2.conf",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fapache2.conf",
            "raw_url": "https://github.com/angular/angular/raw/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fapache2.conf",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fapache2.conf?ref=04e41b8c357374fc8d1f02e1575c1ad78082dc99",
            "patch": "@@ -0,0 +1,24 @@\n+# #docregion\n+<VirtualHost *:80>\n+    ServerName localhost\n+    DocumentRoot /www/data\n+    <Directory \"/www/data\">\n+        RewriteEngine on\n+        RewriteBase /\n+        RewriteRule ^../index\\.html$ - [L]\n+\n+        RewriteCond %{REQUEST_FILENAME} !-f\n+        RewriteCond %{REQUEST_FILENAME} !-d\n+        RewriteRule (..) $1/index.html [L]\n+\n+        RewriteCond %{HTTP:Accept-Language} ^de [NC]\n+        RewriteRule ^$ /de/ [R]\n+\n+        RewriteCond %{HTTP:Accept-Language} ^en [NC]\n+        RewriteRule ^$ /en/ [R]\n+\n+        RewriteCond %{HTTP:Accept-Language} !^en [NC]\n+        RewriteCond %{HTTP:Accept-Language} !^de [NC]\n+        RewriteRule ^$ /fr/ [R]\n+    </Directory>\n+</VirtualHost>"
        },
        {
            "sha": "31430f5ace5b2cebea6384d13f524ec1db17051f",
            "filename": "aio/content/examples/i18n/doc-files/nginx.conf",
            "status": "added",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fnginx.conf",
            "raw_url": "https://github.com/angular/angular/raw/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fnginx.conf",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fexamples%2Fi18n%2Fdoc-files%2Fnginx.conf?ref=04e41b8c357374fc8d1f02e1575c1ad78082dc99",
            "patch": "@@ -0,0 +1,32 @@\n+# #docregion\n+http {\n+    # Browser preferred language detection (does NOT require\n+    # AcceptLanguageModule)\n+    map $http_accept_language $accept_language {\n+        ~*^de de;\n+        ~*^fr fr;\n+        ~*^en en;\n+    }\n+    # ...\n+}\n+\n+server {\n+    listen 80;\n+    server_name localhost;\n+    root /www/data;\n+\n+    # Fallback to default language if no preference defined by browser\n+    if ($accept_language ~ \"^$\") {\n+        set $accept_language \"fr\";\n+    }\n+\n+    # Redirect \"/\" to Angular application in the preferred language of the browser\n+    rewrite ^/$ /$accept_language permanent;\n+\n+    # Everything under the Angular application is always redirected to Angular in the\n+    # correct language\n+    location ~ ^/(fr|de|en) {\n+        try_files $uri /$1/index.html?$args;\n+    }\n+    # ...\n+}"
        },
        {
            "sha": "c53d63a023d1e9a8d29744df12633cd28614cfdb",
            "filename": "aio/content/guide/i18n.md",
            "status": "modified",
            "additions": 2,
            "deletions": 59,
            "changes": 61,
            "blob_url": "https://github.com/angular/angular/blob/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fguide%2Fi18n.md",
            "raw_url": "https://github.com/angular/angular/raw/04e41b8c357374fc8d1f02e1575c1ad78082dc99/aio%2Fcontent%2Fguide%2Fi18n.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fi18n.md?ref=04e41b8c357374fc8d1f02e1575c1ad78082dc99",
            "patch": "@@ -869,70 +869,13 @@ For more information on how to deploy apps to a remote server, see [Deployment][\n \n The following example displays an Nginx configuration.\n \n-```nginx\n-http {\n-\n-    # Browser preferred language detection (does NOT require\n-    # AcceptLanguageModule)\n-    map $http_accept_language $accept_language {\n-        ~*^de de;\n-        ~*^fr fr;\n-        ~*^en en;\n-    }\n-    # ...\n-}\n-\n-server {\n-    listen 80;\n-    server_name localhost;\n-    root /www/data;\n-\n-    # Fallback to default language if no preference defined by browser\n-    if ($accept_language ~ \"^$\") {\n-        set $accept_language \"fr\";\n-    }\n-\n-    # Redirect \"/\" to Angular application in the preferred language of the browser\n-    rewrite ^/$ /$accept_language permanent;\n-\n-    # Everything under the Angular application is always redirected to Angular in the\n-    # correct language\n-    location ~ ^/(fr|de|en) {\n-        try_files $uri /$1/index.html?$args;\n-    }\n-    # ...\n-}\n-```\n+<code-example path=\"i18n/doc-files/nginx.conf\" language=\"nginx\"></code-example>\n \n #### Apache\n \n The following example displays an Apache configuration.\n \n-```apache\n-<VirtualHost *:80>\n-    ServerName localhost\n-    DocumentRoot /www/data\n-    <Directory \"/www/data\">\n-        RewriteEngine on\n-        RewriteBase /\n-        RewriteRule ^../index\\.html$ - [L]\n-\n-        RewriteCond %{REQUEST_FILENAME} !-f\n-        RewriteCond %{REQUEST_FILENAME} !-d\n-        RewriteRule (..) $1/index.html [L]\n-\n-        RewriteCond %{HTTP:Accept-Language} ^de [NC]\n-        RewriteRule ^$ /de/ [R]\n-\n-        RewriteCond %{HTTP:Accept-Language} ^en [NC]\n-        RewriteRule ^$ /en/ [R]\n-\n-        RewriteCond %{HTTP:Accept-Language} !^en [NC]\n-        RewriteCond %{HTTP:Accept-Language} !^de [NC]\n-        RewriteRule ^$ /fr/ [R]\n-    </Directory>\n-</VirtualHost>\n-```\n+<code-example path=\"i18n/doc-files/apache2.conf\" language=\"apache\"></code-example>\n \n <!-- section break -->\n "
        }
    ],
    "stats": {
        "total": 117,
        "additions": 58,
        "deletions": 59
    }
}