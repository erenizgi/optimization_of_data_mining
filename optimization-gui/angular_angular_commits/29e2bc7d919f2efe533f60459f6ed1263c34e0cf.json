{
    "author": "danieltre23",
    "message": "refactor(compiler-cli): move typecheck test utils into its own package (#42984)\n\nThis commit moves the test utils used in the typechecking tests into its\nown package. This makes them available to be used in the tests of a\ndifferent package.\n\nRefs #42966\n\nPR Close #42984",
    "sha": "29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
    "files": [
        {
            "sha": "7e3036f547d604fc988ec6dea7af45f13678f39d",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2FBUILD.bazel?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -26,6 +26,7 @@ ts_library(\n         \"//packages/compiler-cli/src/ngtsc/typecheck\",\n         \"//packages/compiler-cli/src/ngtsc/typecheck/api\",\n         \"//packages/compiler-cli/src/ngtsc/typecheck/diagnostics\",\n+        \"//packages/compiler-cli/src/ngtsc/typecheck/testing\",\n         \"//packages/compiler-cli/src/ngtsc/util\",\n         \"@npm//typescript\",\n     ],"
        },
        {
            "sha": "69906794b28812d347c96afee73f2861c1ab4329",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/diagnostics_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fdiagnostics_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fdiagnostics_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fdiagnostics_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -12,7 +12,7 @@ import {absoluteFrom, getSourceFileOrError} from '../../file_system';\n import {runInEachFileSystem, TestFile} from '../../file_system/testing';\n import {OptimizeFor, TypeCheckingConfig} from '../api';\n \n-import {ngForDeclaration, ngForDts, setup, TestDeclaration} from './test_utils';\n+import {ngForDeclaration, ngForDts, setup, TestDeclaration} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('template diagnostics', () => {"
        },
        {
            "sha": "263a9a3b313768ff033b3dc096d51b3fc8ca82f6",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/program_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fprogram_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fprogram_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fprogram_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -15,7 +15,7 @@ import {sfExtensionData, ShimReferenceTagger} from '../../shims';\n import {expectCompleteReuse, makeProgram} from '../../testing';\n import {OptimizeFor} from '../api';\n \n-import {setup} from './test_utils';\n+import {setup} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('template type-checking program', () => {"
        },
        {
            "sha": "13d31be748e4eb5c4efa452452b9830ecef6b2b2",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/span_comments_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fspan_comments_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fspan_comments_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Fspan_comments_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -7,7 +7,7 @@\n  */\n \n import {initMockFileSystem} from '../../file_system/testing';\n-import {tcb, TestDeclaration} from './test_utils';\n+import {tcb, TestDeclaration} from '../testing';\n \n describe('type check blocks diagnostics', () => {\n   beforeEach(() => initMockFileSystem('Native'));"
        },
        {
            "sha": "e7e9be1df9ccf50ba6952348ed123afd9c44f7c3",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -9,7 +9,7 @@\n import {initMockFileSystem} from '../../file_system/testing';\n import {TypeCheckingConfig} from '../api';\n \n-import {ALL_ENABLED_CONFIG, tcb, TestDeclaration, TestDirective} from './test_utils';\n+import {ALL_ENABLED_CONFIG, tcb, TestDeclaration, TestDirective} from '../testing';\n \n \n describe('type check blocks', () => {"
        },
        {
            "sha": "cf0e5235338f7b260c396dc122a5c73c8a82555f",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_checker__completion_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__completion_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__completion_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__completion_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -14,7 +14,7 @@ import {runInEachFileSystem} from '../../file_system/testing';\n import {getTokenAtPosition} from '../../util/src/typescript';\n import {CompletionKind, GlobalCompletion, TemplateTypeChecker, TypeCheckingConfig} from '../api';\n \n-import {getClass, setup, TypeCheckingTarget} from './test_utils';\n+import {getClass, setup, TypeCheckingTarget} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('TemplateTypeChecker.getGlobalCompletions()', () => {"
        },
        {
            "sha": "86760f818ed081e130c9a85768dd82b4ad8a19b0",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_checker__get_symbol_of_template_node_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -15,7 +15,7 @@ import {runInEachFileSystem} from '../../file_system/testing';\n import {ClassDeclaration} from '../../reflection';\n import {DirectiveSymbol, DomBindingSymbol, ElementSymbol, ExpressionSymbol, InputBindingSymbol, OutputBindingSymbol, PipeSymbol, ReferenceSymbol, Symbol, SymbolKind, TemplateSymbol, TemplateTypeChecker, TypeCheckingConfig, VariableSymbol} from '../api';\n \n-import {getClass, ngForDeclaration, ngForTypeCheckTarget, setup as baseTestSetup, TypeCheckingTarget} from './test_utils';\n+import {getClass, ngForDeclaration, ngForTypeCheckTarget, setup as baseTestSetup, TypeCheckingTarget} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('TemplateTypeChecker.getSymbolOfNode', () => {"
        },
        {
            "sha": "d181d7e954e37e4206f5fee0e411121634655500",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_checker_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -11,7 +11,7 @@ import {absoluteFrom, absoluteFromSourceFile, getSourceFileOrError} from '../../\n import {runInEachFileSystem} from '../../file_system/testing';\n import {OptimizeFor} from '../api';\n \n-import {getClass, setup, TestDeclaration} from './test_utils';\n+import {getClass, setup, TestDeclaration} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('TemplateTypeChecker', () => {"
        },
        {
            "sha": "1239d23eef58135e36e6548c367fabb6ac9b7290",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_constructor_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_constructor_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_constructor_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_constructor_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -19,7 +19,7 @@ import {InliningMode, PendingFileTypeCheckingData, TypeCheckContextImpl, TypeChe\n import {TemplateSourceManager} from '../src/source';\n import {TypeCheckFile} from '../src/type_check_file';\n \n-import {ALL_ENABLED_CONFIG} from './test_utils';\n+import {ALL_ENABLED_CONFIG} from '../testing';\n \n runInEachFileSystem(() => {\n   describe('ngtsc typechecking', () => {"
        },
        {
            "sha": "cec382c25e8969d00026637c33226f1db72f9ce1",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_parameter_emitter_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_parameter_emitter_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_parameter_emitter_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_parameter_emitter_spec.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -13,7 +13,7 @@ import {isNamedClassDeclaration, TypeScriptReflectionHost} from '../../reflectio\n import {getDeclaration, makeProgram} from '../../testing';\n import {TypeParameterEmitter} from '../src/type_parameter_emitter';\n \n-import {angularCoreDts} from './test_utils';\n+import {angularCoreDts} from '../testing';\n \n \n runInEachFileSystem(() => {"
        },
        {
            "sha": "4e0633bfbdf01cac899cda242590d49bee5667da",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/testing/BUILD.bazel",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2FBUILD.bazel?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -0,0 +1,28 @@\n+load(\"//tools:defaults.bzl\", \"ts_library\")\n+\n+ts_library(\n+    name = \"testing\",\n+    testonly = True,\n+    srcs = glob([\n+        \"**/*.ts\",\n+    ]),\n+    visibility = [\"//packages/compiler-cli/src/ngtsc:__subpackages__\"],\n+    deps = [\n+        \"//packages/compiler\",\n+        \"//packages/compiler-cli/src/ngtsc/file_system\",\n+        \"//packages/compiler-cli/src/ngtsc/file_system/testing\",\n+        \"//packages/compiler-cli/src/ngtsc/imports\",\n+        \"//packages/compiler-cli/src/ngtsc/incremental\",\n+        \"//packages/compiler-cli/src/ngtsc/metadata\",\n+        \"//packages/compiler-cli/src/ngtsc/perf\",\n+        \"//packages/compiler-cli/src/ngtsc/program_driver\",\n+        \"//packages/compiler-cli/src/ngtsc/reflection\",\n+        \"//packages/compiler-cli/src/ngtsc/scope\",\n+        \"//packages/compiler-cli/src/ngtsc/testing\",\n+        \"//packages/compiler-cli/src/ngtsc/typecheck\",\n+        \"//packages/compiler-cli/src/ngtsc/typecheck/api\",\n+        \"//packages/compiler-cli/src/ngtsc/typecheck/diagnostics\",\n+        \"//packages/compiler-cli/src/ngtsc/util\",\n+        \"@npm//typescript\",\n+    ],\n+)"
        },
        {
            "sha": "5a556c914b087f0625e76b7c3a6c74f3124a7888",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/testing/index.ts",
            "status": "renamed",
            "additions": 87,
            "deletions": 87,
            "changes": 174,
            "blob_url": "https://github.com/angular/angular/blob/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/29e2bc7d919f2efe533f60459f6ed1263c34e0cf/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftesting%2Findex.ts?ref=29e2bc7d919f2efe533f60459f6ed1263c34e0cf",
            "patch": "@@ -35,88 +35,88 @@ export function typescriptLibDts(): TestFile {\n   return {\n     name: absoluteFrom('/lib.d.ts'),\n     contents: `\n-      type Partial<T> = { [P in keyof T]?: T[P]; };\n-      type Pick<T, K extends keyof T> = { [P in K]: T[P]; };\n-      type NonNullable<T> = T extends null | undefined ? never : T;\n-\n-      // The following native type declarations are required for proper type inference\n-      declare interface Function {\n-        call(...args: any[]): any;\n-      }\n-      declare interface Array<T> {\n-        [index: number]: T;\n-        length: number;\n-      }\n-      declare interface String {\n-        length: number;\n-      }\n-\n-      declare interface Event {\n-        preventDefault(): void;\n-      }\n-      declare interface MouseEvent extends Event {\n-        readonly x: number;\n-        readonly y: number;\n-      }\n-\n-      declare interface HTMLElementEventMap {\n-        \"click\": MouseEvent;\n-      }\n-      declare interface HTMLElement {\n-        addEventListener<K extends keyof HTMLElementEventMap>(type: K, listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any): void;\n-        addEventListener(type: string, listener: (evt: Event): void;): void;\n-      }\n-      declare interface HTMLDivElement extends HTMLElement {}\n-      declare interface HTMLImageElement extends HTMLElement {\n-        src: string;\n-        alt: string;\n-        width: number;\n-        height: number;\n-      }\n-      declare interface HTMLQuoteElement extends HTMLElement {\n-        cite: string;\n-      }\n-      declare interface HTMLElementTagNameMap {\n-        \"blockquote\": HTMLQuoteElement;\n-        \"div\": HTMLDivElement;\n-        \"img\": HTMLImageElement;\n-      }\n-      declare interface Document {\n-        createElement<K extends keyof HTMLElementTagNameMap>(tagName: K): HTMLElementTagNameMap[K];\n-        createElement(tagName: string): HTMLElement;\n-      }\n-      declare const document: Document;\n-  `\n+       type Partial<T> = { [P in keyof T]?: T[P]; };\n+       type Pick<T, K extends keyof T> = { [P in K]: T[P]; };\n+       type NonNullable<T> = T extends null | undefined ? never : T;\n+ \n+       // The following native type declarations are required for proper type inference\n+       declare interface Function {\n+         call(...args: any[]): any;\n+       }\n+       declare interface Array<T> {\n+         [index: number]: T;\n+         length: number;\n+       }\n+       declare interface String {\n+         length: number;\n+       }\n+ \n+       declare interface Event {\n+         preventDefault(): void;\n+       }\n+       declare interface MouseEvent extends Event {\n+         readonly x: number;\n+         readonly y: number;\n+       }\n+ \n+       declare interface HTMLElementEventMap {\n+         \"click\": MouseEvent;\n+       }\n+       declare interface HTMLElement {\n+         addEventListener<K extends keyof HTMLElementEventMap>(type: K, listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any): void;\n+         addEventListener(type: string, listener: (evt: Event): void;): void;\n+       }\n+       declare interface HTMLDivElement extends HTMLElement {}\n+       declare interface HTMLImageElement extends HTMLElement {\n+         src: string;\n+         alt: string;\n+         width: number;\n+         height: number;\n+       }\n+       declare interface HTMLQuoteElement extends HTMLElement {\n+         cite: string;\n+       }\n+       declare interface HTMLElementTagNameMap {\n+         \"blockquote\": HTMLQuoteElement;\n+         \"div\": HTMLDivElement;\n+         \"img\": HTMLImageElement;\n+       }\n+       declare interface Document {\n+         createElement<K extends keyof HTMLElementTagNameMap>(tagName: K): HTMLElementTagNameMap[K];\n+         createElement(tagName: string): HTMLElement;\n+       }\n+       declare const document: Document;\n+   `\n   };\n }\n \n export function angularCoreDts(): TestFile {\n   return {\n     name: absoluteFrom('/node_modules/@angular/core/index.d.ts'),\n     contents: `\n-    export declare class TemplateRef<C> {\n-      abstract readonly elementRef: unknown;\n-      abstract createEmbeddedView(context: C): unknown;\n-    }\n-\n-    export declare class EventEmitter<T> {\n-      subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): unknown;\n-      subscribe(observerOrNext?: any, error?: any, complete?: any): unknown;\n-    }\n-\n-    export declare type NgIterable<T> = Array<T> | Iterable<T>;\n-  `\n+     export declare class TemplateRef<C> {\n+       abstract readonly elementRef: unknown;\n+       abstract createEmbeddedView(context: C): unknown;\n+     }\n+ \n+     export declare class EventEmitter<T> {\n+       subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): unknown;\n+       subscribe(observerOrNext?: any, error?: any, complete?: any): unknown;\n+     }\n+ \n+     export declare type NgIterable<T> = Array<T> | Iterable<T>;\n+   `\n   };\n }\n \n export function angularAnimationsDts(): TestFile {\n   return {\n     name: absoluteFrom('/node_modules/@angular/animations/index.d.ts'),\n     contents: `\n-    export declare class AnimationEvent {\n-      element: any;\n-    }\n-  `\n+     export declare class AnimationEvent {\n+       element: any;\n+     }\n+   `\n   };\n }\n \n@@ -136,25 +136,25 @@ export function ngForDts(): TestFile {\n   return {\n     name: absoluteFrom('/ngfor.d.ts'),\n     contents: `\n-    export declare class NgForOf<T> {\n-      ngForOf: T[];\n-      ngForTrackBy: TrackByFunction<T>;\n-      static ngTemplateContextGuard<T>(dir: NgForOf<T>, ctx: any): ctx is NgForOfContext<T>;\n-    }\n-\n-    export interface TrackByFunction<T> {\n-      (index: number, item: T): any;\n-    }\n-\n-    export declare class NgForOfContext<T> {\n-      $implicit: T;\n-      index: number;\n-      count: number;\n-      readonly odd: boolean;\n-      readonly even: boolean;\n-      readonly first: boolean;\n-      readonly last: boolean;\n-    }`,\n+     export declare class NgForOf<T> {\n+       ngForOf: T[];\n+       ngForTrackBy: TrackByFunction<T>;\n+       static ngTemplateContextGuard<T>(dir: NgForOf<T>, ctx: any): ctx is NgForOfContext<T>;\n+     }\n+ \n+     export interface TrackByFunction<T> {\n+       (index: number, item: T): any;\n+     }\n+ \n+     export declare class NgForOfContext<T> {\n+       $implicit: T;\n+       index: number;\n+       count: number;\n+       readonly odd: boolean;\n+       readonly even: boolean;\n+       readonly first: boolean;\n+       readonly last: boolean;\n+     }`,\n   };\n }\n ",
            "previous_filename": "packages/compiler-cli/src/ngtsc/typecheck/test/test_utils.ts"
        }
    ],
    "stats": {
        "total": 221,
        "additions": 125,
        "deletions": 96
    }
}