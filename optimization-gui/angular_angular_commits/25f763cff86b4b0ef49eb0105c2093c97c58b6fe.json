{
    "author": "devversion",
    "message": "feat(core): support TypeScript 4.3 (#42022)\n\nSwitches the repository to TypeScript 4.3 and the latest\nversion of tslib. This involves updating the peer dependency\nranges on `typescript` for the compiler CLI and for the Bazel\npackage. Tests for new TypeScript features have been added to\nensure compatibility with Angular's ngtsc compiler.\n\nPR Close #42022",
    "sha": "25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
    "files": [
        {
            "sha": "5bbd0b0b4db02505d0ce456bef263427f5ec7879",
            "filename": "aio/aio-builds-setup/dockerbuild/scripts-js/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -33,7 +33,7 @@\n     \"shelljs\": \"^0.8.4\",\n     \"source-map-support\": \"^0.5.19\",\n     \"tar-stream\": \"^2.1.3\",\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"devDependencies\": {\n     \"@types/body-parser\": \"^1.19.0\",\n@@ -49,6 +49,6 @@\n     \"supertest\": \"^4.0.2\",\n     \"tslint\": \"^6.1.3\",\n     \"tslint-jasmine-noSkipOrFocus\": \"^1.0.9\",\n-    \"typescript\": \"^4.2.4\"\n+    \"typescript\": \"^4.3.2\"\n   }\n }"
        },
        {
            "sha": "c5538158aa07ea4aa585ef5603259b1069097b06",
            "filename": "aio/aio-builds-setup/dockerbuild/scripts-js/yarn.lock",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Faio-builds-setup%2Fdockerbuild%2Fscripts-js%2Fyarn.lock?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -2505,10 +2505,10 @@ tslib@^1.8.1:\n   version \"1.9.3\"\n   resolved \"https://registry.yarnpkg.com/tslib/-/tslib-1.9.3.tgz#d7e4dd79245d85428c4d7e4822a79917954ca286\"\n \n-tslib@^2.1.0:\n-  version \"2.1.0\"\n-  resolved \"https://registry.yarnpkg.com/tslib/-/tslib-2.1.0.tgz#da60860f1c2ecaa5703ab7d39bc05b6bf988b97a\"\n-  integrity sha512-hcVC3wYEziELGGmEEXue7D75zbwIIVUMWAVbHItGPx0ziyXxrOMQx4rQEVEV45Ut/1IotuEvwqPopzIOkDMf0A==\n+tslib@^2.2.0:\n+  version \"2.2.0\"\n+  resolved \"https://registry.yarnpkg.com/tslib/-/tslib-2.2.0.tgz#fb2c475977e35e241311ede2693cee1ec6698f5c\"\n+  integrity sha512-gS9GVHRU+RGn5KQM2rllAlR3dU6m7AcpJKdtH8gFvQiC4Otgk98XnmMU+nZenHt/+VhnBPWwgrJsyrdcw6i23w==\n \n tslint-jasmine-noSkipOrFocus@^1.0.9:\n   version \"1.0.9\"\n@@ -2563,10 +2563,10 @@ typedarray-to-buffer@^3.1.5:\n   dependencies:\n     is-typedarray \"^1.0.0\"\n \n-typescript@^4.2.4:\n-  version \"4.2.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.2.4.tgz#8610b59747de028fda898a8aef0e103f156d0961\"\n-  integrity sha512-V+evlYHZnQkaz8TRBuxTA92yZBPotr5H+WhQ7bD3hZUndx5tGOa1fuCgeSjxAzM1RiN5IzvadIXTVefuuwZCRg==\n+typescript@^4.3.2:\n+  version \"4.3.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.3.2.tgz#399ab18aac45802d6f2498de5054fcbbe716a805\"\n+  integrity sha512-zZ4hShnmnoVnAHpVHWpTcxdv7dWP60S2FsydQLV8V5PbS3FifjWFFRiHSWpDJahly88PRyV5teTSLoq4eG7mKw==\n \n undefsafe@^2.0.2:\n   version \"2.0.2\""
        },
        {
            "sha": "5f00110e44e409596cc7d4e933be4069f01af174",
            "filename": "aio/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -99,7 +99,7 @@\n     \"@angular/service-worker\": \"12.0.2\",\n     \"@webcomponents/custom-elements\": \"1.4.3\",\n     \"rxjs\": \"^6.6.7\",\n-    \"tslib\": \"^2.1.0\",\n+    \"tslib\": \"^2.2.0\",\n     \"zone.js\": \"~0.11.4\"\n   },\n   \"devDependencies\": {\n@@ -168,7 +168,7 @@\n     \"tree-kill\": \"^1.1.0\",\n     \"ts-node\": \"^10.0.0\",\n     \"tslint\": \"~6.1.3\",\n-    \"typescript\": \"~4.2.4\",\n+    \"typescript\": \"~4.3.2\",\n     \"uglify-js\": \"^3.13.3\",\n     \"unist-util-filter\": \"^2.0.3\",\n     \"unist-util-source\": \"^3.0.0\","
        },
        {
            "sha": "e16975f75bfa3b002a7c2c03ba676153eb999481",
            "filename": "aio/yarn.lock",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/aio%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fyarn.lock?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -12244,7 +12244,7 @@ typedarray@^0.0.6:\n   resolved \"https://registry.yarnpkg.com/typedarray/-/typedarray-0.0.6.tgz#867ac74e3864187b1d3d47d996a78ec5c8830777\"\n   integrity sha1-hnrHTjhkGHsdPUfZlqeOxciDB3c=\n \n-typescript@4.2.4, typescript@~4.2.4:\n+typescript@4.2.4:\n   version \"4.2.4\"\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.2.4.tgz#8610b59747de028fda898a8aef0e103f156d0961\"\n   integrity sha512-V+evlYHZnQkaz8TRBuxTA92yZBPotr5H+WhQ7bD3hZUndx5tGOa1fuCgeSjxAzM1RiN5IzvadIXTVefuuwZCRg==\n@@ -12254,6 +12254,11 @@ typescript@~3.2.2:\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.2.4.tgz#c585cb952912263d915b462726ce244ba510ef3d\"\n   integrity sha512-0RNDbSdEokBeEAkgNbxJ+BLwSManFy9TeXz8uW+48j/xhEXv1ePME60olyzw2XzUqUBNAYFeJadIqAgNqIACwg==\n \n+typescript@~4.3.2:\n+  version \"4.3.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.3.2.tgz#399ab18aac45802d6f2498de5054fcbbe716a805\"\n+  integrity sha512-zZ4hShnmnoVnAHpVHWpTcxdv7dWP60S2FsydQLV8V5PbS3FifjWFFRiHSWpDJahly88PRyV5teTSLoq4eG7mKw==\n+\n ua-parser-js@^0.7.23:\n   version \"0.7.28\"\n   resolved \"https://registry.yarnpkg.com/ua-parser-js/-/ua-parser-js-0.7.28.tgz#8ba04e653f35ce210239c64661685bf9121dec31\""
        },
        {
            "sha": "6c9dfc1da1ca0393878c83728ecfd8c6dfe2a166",
            "filename": "integration/BUILD.bazel",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2FBUILD.bazel?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -100,6 +100,12 @@ INTEGRATION_TESTS = {\n         # root @npm//typescript package.\n         \"pinned_npm_packages\": [\"typescript\"],\n     },\n+    \"typings_test_ts43\": {\n+        # Special case for `typings_test_ts43` test as we want to pin\n+        # `typescript` at version 4.3.x for that test and not link to the\n+        # root @npm//typescript package.\n+        \"pinned_npm_packages\": [\"typescript\"],\n+    },\n }\n \n ["
        },
        {
            "sha": "86b57f2789d8ddb54e8f6dd666bc1b823a799bad",
            "filename": "integration/typings_test_ts43/include-all.ts",
            "status": "added",
            "additions": 69,
            "deletions": 0,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Finclude-all.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Finclude-all.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts43%2Finclude-all.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -0,0 +1,69 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+\n+\n+\n+import * as animations from '@angular/animations';\n+import * as animationsBrowser from '@angular/animations/browser';\n+import * as animationsBrowserTesting from '@angular/animations/browser/testing';\n+import * as common from '@angular/common';\n+import * as commonHttp from '@angular/common/http';\n+import * as commonTesting from '@angular/common/testing';\n+import * as commonHttpTesting from '@angular/common/testing';\n+import * as compiler from '@angular/compiler';\n+import * as compilerTesting from '@angular/compiler/testing';\n+import * as core from '@angular/core';\n+import * as coreTesting from '@angular/core/testing';\n+import * as elements from '@angular/elements';\n+import * as forms from '@angular/forms';\n+import * as platformBrowser from '@angular/platform-browser';\n+import * as platformBrowserDynamic from '@angular/platform-browser-dynamic';\n+import * as platformBrowserDynamicTesting from '@angular/platform-browser-dynamic/testing';\n+import * as platformBrowserAnimations from '@angular/platform-browser/animations';\n+import * as platformBrowserTesting from '@angular/platform-browser/testing';\n+import * as platformServer from '@angular/platform-server';\n+import * as platformServerInit from '@angular/platform-server/init';\n+import * as platformServerTesting from '@angular/platform-server/testing';\n+import * as router from '@angular/router';\n+import * as routerTesting from '@angular/router/testing';\n+import * as routerUpgrade from '@angular/router/upgrade';\n+import * as serviceWorker from '@angular/service-worker';\n+import * as upgrade from '@angular/upgrade';\n+import * as upgradeStatic from '@angular/upgrade/static';\n+import * as upgradeTesting from '@angular/upgrade/static/testing';\n+\n+export default {\n+  animations,\n+  animationsBrowser,\n+  animationsBrowserTesting,\n+  common,\n+  commonTesting,\n+  commonHttp,\n+  commonHttpTesting,\n+  compiler,\n+  compilerTesting,\n+  core,\n+  coreTesting,\n+  elements,\n+  forms,\n+  platformBrowser,\n+  platformBrowserTesting,\n+  platformBrowserDynamic,\n+  platformBrowserDynamicTesting,\n+  platformBrowserAnimations,\n+  platformServer,\n+  platformServerInit,\n+  platformServerTesting,\n+  router,\n+  routerTesting,\n+  routerUpgrade,\n+  serviceWorker,\n+  upgrade,\n+  upgradeStatic,\n+  upgradeTesting,\n+};"
        },
        {
            "sha": "20a1907836f2e34a7cb57907669ae25a53bfa98b",
            "filename": "integration/typings_test_ts43/package.json",
            "status": "added",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts43%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -0,0 +1,28 @@\n+{\n+  \"name\": \"angular-integration\",\n+  \"description\": \"Assert that users with TypeScript 4.3 can type-check an Angular application\",\n+  \"version\": \"0.0.0\",\n+  \"license\": \"MIT\",\n+  \"dependencies\": {\n+    \"@angular/animations\": \"file:../../dist/packages-dist/animations\",\n+    \"@angular/common\": \"file:../../dist/packages-dist/common\",\n+    \"@angular/compiler\": \"file:../../dist/packages-dist/compiler\",\n+    \"@angular/compiler-cli\": \"file:../../dist/packages-dist/compiler-cli\",\n+    \"@angular/core\": \"file:../../dist/packages-dist/core\",\n+    \"@angular/elements\": \"file:../../dist/packages-dist/elements\",\n+    \"@angular/forms\": \"file:../../dist/packages-dist/forms\",\n+    \"@angular/platform-browser\": \"file:../../dist/packages-dist/platform-browser\",\n+    \"@angular/platform-browser-dynamic\": \"file:../../dist/packages-dist/platform-browser-dynamic\",\n+    \"@angular/platform-server\": \"file:../../dist/packages-dist/platform-server\",\n+    \"@angular/router\": \"file:../../dist/packages-dist/router\",\n+    \"@angular/service-worker\": \"file:../../dist/packages-dist/service-worker\",\n+    \"@angular/upgrade\": \"file:../../dist/packages-dist/upgrade\",\n+    \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\",\n+    \"rxjs\": \"file:../../node_modules/rxjs\",\n+    \"typescript\": \"4.3.2\",\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n+  },\n+  \"scripts\": {\n+    \"test\": \"tsc\"\n+  }\n+}"
        },
        {
            "sha": "30e25c2209734194d3848550110bbc0848381535",
            "filename": "integration/typings_test_ts43/tsconfig.json",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Ftsconfig.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/integration%2Ftypings_test_ts43%2Ftsconfig.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts43%2Ftsconfig.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -0,0 +1,26 @@\n+{\n+  \"compilerOptions\": {\n+    \"forceConsistentCasingInFileNames\": true,\n+    \"strict\": true,\n+    \"noImplicitReturns\": true,\n+    \"noFallthroughCasesInSwitch\": true,\n+    \"experimentalDecorators\": true,\n+    \"module\": \"commonjs\",\n+    \"moduleResolution\": \"node\",\n+    \"outDir\": \"./dist/out-tsc\",\n+    \"rootDir\": \".\",\n+    \"target\": \"es5\",\n+    \"lib\": [\n+      \"es5\",\n+      \"dom\",\n+      \"es2015.collection\",\n+      \"es2015.iterable\",\n+      \"es2015.promise\"\n+    ],\n+    \"types\": [],\n+  },\n+  \"files\": [\n+    \"include-all.ts\",\n+    \"node_modules/@types/jasmine/index.d.ts\"\n+  ]\n+}"
        },
        {
            "sha": "e0a7d32912352ff0bc5b73081500b41a4614a97b",
            "filename": "package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/package.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/package.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/package.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -151,9 +151,9 @@\n     \"terser\": \"^4.4.0\",\n     \"tmp\": \"0.2.1\",\n     \"tsickle\": \"0.38.1\",\n-    \"tslib\": \"^2.1.0\",\n+    \"tslib\": \"^2.2.0\",\n     \"tslint\": \"6.1.3\",\n-    \"typescript\": \"~4.2.4\",\n+    \"typescript\": \"~4.3.2\",\n     \"xhr2\": \"0.2.1\",\n     \"yaml\": \"^1.10.0\",\n     \"yargs\": \"^17.0.0\""
        },
        {
            "sha": "e2883a8e199e7578a8b74dcc4c4dcfbb02bbfccf",
            "filename": "packages/animations/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fanimations%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fanimations%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fanimations%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\""
        },
        {
            "sha": "dee2331cdf058aa3053980ad9ee629c7ac6d253d",
            "filename": "packages/bazel/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fbazel%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fbazel%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fbazel%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -26,13 +26,13 @@\n     \"@microsoft/api-extractor\": \"7.7.11\",\n     \"shelljs\": \"0.8.4\",\n     \"tsickle\": \"^0.38.0\",\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/compiler-cli\": \"0.0.0-PLACEHOLDER\",\n     \"@bazel/typescript\": \">=1.0.0\",\n     \"terser\": \"^4.3.1\",\n-    \"typescript\": \">=4.2.3 <4.3\",\n+    \"typescript\": \">=4.2.3 <4.4\",\n     \"rollup\": \">=1.20.0\",\n     \"rollup-plugin-commonjs\": \">=9.0.0\",\n     \"rollup-plugin-node-resolve\": \">=4.2.0\","
        },
        {
            "sha": "f724fee08f6e40bdfcb40109e2e0ccdf06c9edc7",
            "filename": "packages/common/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcommon%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcommon%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -9,7 +9,7 @@\n   },\n   \"locales\": \"locales\",\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "dde6c3e66d987629aa10f1d28367c8055e238e5c",
            "filename": "packages/compiler-cli/ngcc/src/host/esm2015_host.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 10,
            "changes": 22,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm2015_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm2015_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm2015_host.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -11,6 +11,7 @@ import * as ts from 'typescript';\n import {absoluteFromSourceFile} from '../../../src/ngtsc/file_system';\n import {Logger} from '../../../src/ngtsc/logging';\n import {ClassDeclaration, ClassMember, ClassMemberKind, CtorParameter, Declaration, DeclarationNode, Decorator, EnumMember, Import, isConcreteDeclaration, isDecoratorIdentifier, isNamedClassDeclaration, isNamedFunctionDeclaration, isNamedVariableDeclaration, KnownDeclaration, reflectObjectLiteral, SpecialDeclarationKind, TypeScriptReflectionHost, TypeValueReference, TypeValueReferenceKind, ValueUnavailableKind} from '../../../src/ngtsc/reflection';\n+import {isSymbolWithValueDeclaration, SymbolWithValueDeclaration} from '../../../src/ngtsc/util/src/typescript';\n import {isWithinPackage} from '../analysis/util';\n import {BundleProgram} from '../packages/bundle_program';\n import {findAll, getNameText, hasNameIdentifier, isDefined, stripDollarSuffix} from '../utils';\n@@ -213,7 +214,7 @@ export class Esm2015ReflectionHost extends TypeScriptReflectionHost implements N\n \n     // That didn't work so now try getting it from the \"inner\" declaration.\n     const classSymbol = this.getClassSymbol(clazz);\n-    if (classSymbol === undefined ||\n+    if (classSymbol?.implementation.valueDeclaration === undefined ||\n         !isNamedDeclaration(classSymbol.implementation.valueDeclaration)) {\n       return null;\n     }\n@@ -241,7 +242,7 @@ export class Esm2015ReflectionHost extends TypeScriptReflectionHost implements N\n   }\n \n   private getNameFromClassSymbolDeclaration(\n-      classSymbol: NgccClassSymbol, declaration: ts.Declaration): ts.Identifier {\n+      classSymbol: NgccClassSymbol, declaration: ts.Declaration|undefined): ts.Identifier {\n     if (declaration === undefined) {\n       throw new Error(\n           `getInternalNameOfClass() called on a class with an undefined internal declaration. External class name: ${\n@@ -721,12 +722,12 @@ export class Esm2015ReflectionHost extends TypeScriptReflectionHost implements N\n       return undefined;\n     }\n \n-    let implementationSymbol = declarationSymbol;\n+    let implementationSymbol: ts.Symbol|undefined = declarationSymbol;\n     if (innerDeclaration !== null && isNamedDeclaration(innerDeclaration)) {\n-      implementationSymbol = this.checker.getSymbolAtLocation(innerDeclaration.name) as ClassSymbol;\n+      implementationSymbol = this.checker.getSymbolAtLocation(innerDeclaration.name);\n     }\n \n-    if (implementationSymbol === undefined) {\n+    if (!isSymbolWithValueDeclaration(implementationSymbol)) {\n       return undefined;\n     }\n \n@@ -740,8 +741,9 @@ export class Esm2015ReflectionHost extends TypeScriptReflectionHost implements N\n     return classSymbol;\n   }\n \n-  private getAdjacentSymbol(declarationSymbol: ClassSymbol, implementationSymbol: ClassSymbol):\n-      ClassSymbol|undefined {\n+  private getAdjacentSymbol(\n+      declarationSymbol: ClassSymbol,\n+      implementationSymbol: SymbolWithValueDeclaration): SymbolWithValueDeclaration|undefined {\n     if (declarationSymbol === implementationSymbol) {\n       return undefined;\n     }\n@@ -755,9 +757,9 @@ export class Esm2015ReflectionHost extends TypeScriptReflectionHost implements N\n     if (adjacentDeclaration === undefined || !isNamedVariableDeclaration(adjacentDeclaration)) {\n       return undefined;\n     }\n-    const adjacentSymbol =\n-        this.checker.getSymbolAtLocation(adjacentDeclaration.name) as ClassSymbol;\n-    if (adjacentSymbol === declarationSymbol || adjacentSymbol === implementationSymbol) {\n+    const adjacentSymbol = this.checker.getSymbolAtLocation(adjacentDeclaration.name);\n+    if (adjacentSymbol === declarationSymbol || adjacentSymbol === implementationSymbol ||\n+        !isSymbolWithValueDeclaration(adjacentSymbol)) {\n       return undefined;\n     }\n     return adjacentSymbol;"
        },
        {
            "sha": "1fe47c4203344a97c73639200618f712fb0c5d55",
            "filename": "packages/compiler-cli/ngcc/src/host/esm5_host.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm5_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm5_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fesm5_host.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -292,7 +292,7 @@ export class Esm5ReflectionHost extends Esm2015ReflectionHost {\n       const members: ClassMember[] = [];\n       if (propertyDefinition.setter) {\n         members.push({\n-          node,\n+          node: node!,\n           implementation: propertyDefinition.setter,\n           kind: ClassMemberKind.Setter,\n           type: null,\n@@ -310,7 +310,7 @@ export class Esm5ReflectionHost extends Esm2015ReflectionHost {\n       }\n       if (propertyDefinition.getter) {\n         members.push({\n-          node,\n+          node: node!,\n           implementation: propertyDefinition.getter,\n           kind: ClassMemberKind.Getter,\n           type: null,"
        },
        {
            "sha": "f4839c5d0cdf51af4e54d2e4f8b4f2beb351f372",
            "filename": "packages/compiler-cli/ngcc/src/host/ngcc_host.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fngcc_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fngcc_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fngcc_host.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,6 +8,7 @@\n import * as ts from 'typescript';\n \n import {ClassDeclaration, Declaration, Decorator, ReflectionHost} from '../../../src/ngtsc/reflection';\n+import {SymbolWithValueDeclaration} from '../../../src/ngtsc/util/src/typescript';\n \n export const PRE_R3_MARKER = '__PRE_R3__';\n export const POST_R3_MARKER = '__POST_R3__';\n@@ -47,13 +48,13 @@ export interface NgccClassSymbol {\n    * inner declaration does not need to satisfy the requirements imposed on a publicly visible class\n    * declaration.\n    */\n-  implementation: ts.Symbol;\n+  implementation: SymbolWithValueDeclaration;\n \n   /**\n    * Represents the symbol corresponding to a variable within a class IIFE that may be used to\n    * attach static properties or decorated.\n    */\n-  adjacent?: ts.Symbol;\n+  adjacent?: SymbolWithValueDeclaration;\n }\n \n /**"
        },
        {
            "sha": "974ccc8e0d7078c158403ebf88d1cca6d3884bff",
            "filename": "packages/compiler-cli/ngcc/src/host/umd_host.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fumd_host.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fumd_host.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Fsrc%2Fhost%2Fumd_host.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -421,7 +421,7 @@ export class UmdReflectionHost extends Esm5ReflectionHost {\n     const exportsSymbol = this.checker.getSymbolsInScope(id, ts.SymbolFlags.Variable)\n                               .find(symbol => symbol.name === 'exports');\n \n-    const node = exportsSymbol !== undefined &&\n+    const node = exportsSymbol?.valueDeclaration !== undefined &&\n             !ts.isFunctionExpression(exportsSymbol.valueDeclaration.parent) ?\n         // There is a locally defined `exports` variable that is not a function parameter.\n         // So this `exports` identifier must be a local variable and does not represent the module."
        },
        {
            "sha": "9b89efb933f6425d072d2ca7513feee4acb52de6",
            "filename": "packages/compiler-cli/ngcc/test/execution/helpers.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Fhelpers.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -7,7 +7,7 @@\n  */\n import {DepGraph} from 'dependency-graph';\n import {DtsProcessing, PartiallyOrderedTasks, Task} from '../../src/execution/tasks/api';\n-import {EntryPoint} from '../../src/packages/entry_point';\n+import {EntryPoint, EntryPointJsonProperty} from '../../src/packages/entry_point';\n \n /**\n  * Create a set of tasks and a graph of their interdependencies.\n@@ -53,7 +53,13 @@ export function createTasksAndGraph(\n \n     for (let tIdx = 0; tIdx < tasksPerEntryPointCount; tIdx++) {\n       const processDts = tIdx === 0 ? DtsProcessing.Yes : DtsProcessing.No;\n-      tasks.push({entryPoint, formatProperty: `prop-${tIdx}`, processDts} as Task);\n+      const formatProperty = `prop-${tIdx}` as EntryPointJsonProperty;\n+      tasks.push({\n+        entryPoint,\n+        formatProperty: formatProperty,\n+        formatPropertiesToMarkAsProcessed: [],\n+        processDts\n+      });\n     }\n   }\n "
        },
        {
            "sha": "69598f55bfcc3e1401e98661235a2095e79f0d03",
            "filename": "packages/compiler-cli/ngcc/test/execution/tasks/queues/serial_task_queue_spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fngcc%2Ftest%2Fexecution%2Ftasks%2Fqueues%2Fserial_task_queue_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -33,7 +33,12 @@ describe('SerialTaskQueue', () => {\n       const entryPoint = {name: `entry-point-${i}`, path: `/path/to/entry/point/${i}`} as\n           EntryPoint;\n       const processDts = i % 2 === 0 ? DtsProcessing.Yes : DtsProcessing.No;\n-      tasks.push({entryPoint: entryPoint, formatProperty: `prop-${i}`, processDts} as Task);\n+      tasks.push({\n+        entryPoint: entryPoint,\n+        formatProperty: `prop-${i}`,\n+        formatPropertiesToMarkAsProcessed: [],\n+        processDts\n+      } as Task);\n       graph.addNode(entryPoint.path);\n     }\n     const dependencies = computeTaskDependencies(tasks, graph);"
        },
        {
            "sha": "a16d15ba41debe3f56bc90d7f3491525002f2795",
            "filename": "packages/compiler-cli/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -23,12 +23,12 @@\n     \"semver\": \"^7.0.0\",\n     \"source-map\": \"^0.6.1\",\n     \"sourcemap-codec\": \"^1.4.8\",\n-    \"tslib\": \"^2.1.0\",\n+    \"tslib\": \"^2.2.0\",\n     \"yargs\": \"^17.0.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/compiler\": \"0.0.0-PLACEHOLDER\",\n-    \"typescript\": \">=4.2.3 <4.3\"\n+    \"typescript\": \">=4.2.3 <4.4\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "a3467d00cc30171a199220efc2521b68ad8dcce7",
            "filename": "packages/compiler-cli/src/ngtsc/imports/src/find_export.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fimports%2Fsrc%2Ffind_export.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fimports%2Fsrc%2Ffind_export.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fimports%2Fsrc%2Ffind_export.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -51,6 +51,10 @@ export function findExportedNameOfNode(\n  * `ts.ExportSpecifier`s and need to be unwrapped.\n  */\n function symbolDeclaresNode(sym: ts.Symbol, node: ts.Node, checker: ts.TypeChecker): boolean {\n+  if (sym.declarations === undefined) {\n+    return false;\n+  }\n+\n   return sym.declarations.some(decl => {\n     if (ts.isExportSpecifier(decl)) {\n       const exportedSymbol = checker.getExportSpecifierLocalTargetSymbol(decl);"
        },
        {
            "sha": "a08a088a68ccb26fff7a43739c3e7a207ca8aa1b",
            "filename": "packages/compiler-cli/src/ngtsc/reflection/src/typescript.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftypescript.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftypescript.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Freflection%2Fsrc%2Ftypescript.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -277,7 +277,7 @@ export class TypeScriptReflectionHost implements ReflectionHost {\n       return null;\n     }\n     const namespaceSymbol = this.checker.getSymbolAtLocation(namespaceIdentifier);\n-    if (!namespaceSymbol) {\n+    if (!namespaceSymbol || namespaceSymbol.declarations === undefined) {\n       return null;\n     }\n     const declaration ="
        },
        {
            "sha": "f682352dd026d7aa0268d8c39d99cc0e7cfc5754",
            "filename": "packages/compiler-cli/src/ngtsc/scope/src/dependency.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fscope%2Fsrc%2Fdependency.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fscope%2Fsrc%2Fdependency.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Fscope%2Fsrc%2Fdependency.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -150,9 +150,12 @@ export class MetadataDtsModuleScopeResolver implements DtsModuleScopeResolver {\n       return dirOrPipe;\n     }\n \n+    // TypeScript incorrectly narrows the type here:\n+    // https://github.com/microsoft/TypeScript/issues/43966.\n+    // TODO: Remove/Update once https://github.com/microsoft/TypeScript/issues/43966 is resolved.\n     return {\n       ...dirOrPipe,\n       ref: ref.cloneWithAlias(alias),\n-    };\n+    } as T;\n   }\n }"
        },
        {
            "sha": "0ee8e61fcc80d20ff8015ba5cbbd424f3d39f256",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/api/BUILD.bazel",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2FBUILD.bazel",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2FBUILD.bazel",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2FBUILD.bazel?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -13,6 +13,7 @@ ts_library(\n         \"//packages/compiler-cli/src/ngtsc/imports\",\n         \"//packages/compiler-cli/src/ngtsc/metadata\",\n         \"//packages/compiler-cli/src/ngtsc/reflection\",\n+        \"//packages/compiler-cli/src/ngtsc/util\",\n         \"@npm//typescript\",\n     ],\n )"
        },
        {
            "sha": "41dbe32c8bd92f1d94affaf0675260107b66cf61",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/api/scope.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fscope.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fscope.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fscope.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,6 +8,7 @@\n \n import * as ts from 'typescript';\n import {ClassDeclaration} from '../../reflection';\n+import {SymbolWithValueDeclaration} from '../../util/src/typescript';\n \n /**\n  * Metadata on a directive which is available in the scope of a template.\n@@ -16,7 +17,7 @@ export interface DirectiveInScope {\n   /**\n    * The `ts.Symbol` for the directive class.\n    */\n-  tsSymbol: ts.Symbol;\n+  tsSymbol: SymbolWithValueDeclaration;\n \n   /**\n    * The module which declares the directive."
        },
        {
            "sha": "89b0f77aebfa805f5310dc568c1c19741e126d20",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/api/symbols.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fsymbols.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fsymbols.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fapi%2Fsymbols.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -10,7 +10,8 @@ import {TmplAstElement, TmplAstReference, TmplAstTemplate, TmplAstVariable} from\n import * as ts from 'typescript';\n \n import {AbsoluteFsPath} from '../../file_system';\n-import {ClassDeclaration} from '../../reflection';\n+import {SymbolWithValueDeclaration} from '../../util/src/typescript';\n+\n import {DirectiveInScope} from './scope';\n \n export enum SymbolKind {\n@@ -303,8 +304,8 @@ export interface ClassSymbol {\n   tsType: ts.Type;\n \n   /** The `ts.Symbol` for class. */\n-  tsSymbol: ts.Symbol;\n+  tsSymbol: SymbolWithValueDeclaration;\n \n   /** The position for the variable declaration for the class instance. */\n   shimLocation: ShimLocation;\n-}\n\\ No newline at end of file\n+}"
        },
        {
            "sha": "6a4608dc1b2a7c4bc2d907a70d9a6cf3100fc308",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/src/checker.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fchecker.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -17,7 +17,7 @@ import {ProgramDriver, UpdateMode} from '../../program_driver';\n import {ClassDeclaration, isNamedClassDeclaration, ReflectionHost} from '../../reflection';\n import {ComponentScopeReader, TypeCheckScopeRegistry} from '../../scope';\n import {isShim} from '../../shims';\n-import {getSourceFileOrNull} from '../../util/src/typescript';\n+import {getSourceFileOrNull, isSymbolWithValueDeclaration} from '../../util/src/typescript';\n import {DirectiveInScope, ElementSymbol, FullTemplateMapping, GlobalCompletion, OptimizeFor, PipeInScope, ProgramTypeCheckAdapter, ShimLocation, Symbol, TemplateId, TemplateSymbol, TemplateTypeChecker, TypeCheckableDirectiveMeta, TypeCheckingConfig} from '../api';\n import {TemplateDiagnostic} from '../diagnostics';\n \n@@ -577,7 +577,7 @@ export class TemplateTypeCheckerImpl implements TemplateTypeChecker {\n         continue;\n       }\n       const tsSymbol = typeChecker.getSymbolAtLocation(dir.ref.node.name);\n-      if (tsSymbol === undefined) {\n+      if (!isSymbolWithValueDeclaration(tsSymbol)) {\n         continue;\n       }\n "
        },
        {
            "sha": "7e8c6932406b1c0c67b032045835108ff60c324e",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/src/template_symbol_builder.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Ftemplate_symbol_builder.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Ftemplate_symbol_builder.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Ftemplate_symbol_builder.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -12,7 +12,7 @@ import * as ts from 'typescript';\n import {AbsoluteFsPath} from '../../file_system';\n import {ClassDeclaration} from '../../reflection';\n import {ComponentScopeReader} from '../../scope';\n-import {isAssignment} from '../../util/src/typescript';\n+import {isAssignment, isSymbolWithValueDeclaration} from '../../util/src/typescript';\n import {BindingSymbol, DirectiveSymbol, DomBindingSymbol, ElementSymbol, ExpressionSymbol, InputBindingSymbol, OutputBindingSymbol, PipeSymbol, ReferenceSymbol, ShimLocation, Symbol, SymbolKind, TemplateSymbol, TsNodeSymbolInfo, TypeCheckableDirectiveMeta, VariableSymbol} from '../api';\n \n import {ExpressionIdentifier, findAllMatchingNodes, findFirstMatchingNode, hasExpressionIdentifier} from './comments';\n@@ -119,8 +119,7 @@ export class SymbolBuilder {\n     return nodes\n         .map(node => {\n           const symbol = this.getSymbolOfTsNode(node.parent);\n-          if (symbol === null || symbol.tsSymbol === null ||\n-              symbol.tsSymbol.valueDeclaration === undefined ||\n+          if (symbol === null || !isSymbolWithValueDeclaration(symbol.tsSymbol) ||\n               !ts.isClassDeclaration(symbol.tsSymbol.valueDeclaration)) {\n             return null;\n           }\n@@ -314,7 +313,8 @@ export class SymbolBuilder {\n     // In either case, `_t1[\"index\"]` or `_t1.index`, `node.expression` is _t1.\n     // The retrieved symbol for _t1 will be the variable declaration.\n     const tsSymbol = this.getTypeChecker().getSymbolAtLocation(node.expression);\n-    if (tsSymbol === undefined || tsSymbol.declarations.length === 0 || selector === null) {\n+    if (tsSymbol?.declarations === undefined || tsSymbol.declarations.length === 0 ||\n+        selector === null) {\n       return null;\n     }\n \n@@ -329,8 +329,7 @@ export class SymbolBuilder {\n     }\n \n     const symbol = this.getSymbolOfTsNode(declaration);\n-    if (symbol === null || symbol.tsSymbol === null ||\n-        symbol.tsSymbol.valueDeclaration === undefined ||\n+    if (symbol === null || !isSymbolWithValueDeclaration(symbol.tsSymbol) ||\n         !ts.isClassDeclaration(symbol.tsSymbol.valueDeclaration)) {\n       return null;\n     }\n@@ -444,7 +443,10 @@ export class SymbolBuilder {\n     }\n \n     const pipeInstance = this.getSymbolOfTsNode(pipeDeclaration.valueDeclaration);\n-    if (pipeInstance === null || pipeInstance.tsSymbol === null) {\n+    // The instance should never be null, nor should the symbol lack a value declaration. This\n+    // is because the node used to look for the `pipeInstance` symbol info is a value\n+    // declaration of another symbol (i.e. the `pipeDeclaration` symbol).\n+    if (pipeInstance === null || !isSymbolWithValueDeclaration(pipeInstance.tsSymbol)) {\n       return null;\n     }\n "
        },
        {
            "sha": "429a403f3e95e3db843ebdcc72eafa738d312b0b",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_checker__get_symbol_of_template_node_spec.ts",
            "status": "modified",
            "additions": 35,
            "deletions": 34,
            "changes": 69,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_checker__get_symbol_of_template_node_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -74,8 +74,8 @@ runInEachFileSystem(() => {\n         const {attributes} = getAstElements(templateTypeChecker, cmp)[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(attributes[0], cmp)!;\n         assertInputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('name');\n \n         // Ensure we can go back to the original location using the shim location\n@@ -91,8 +91,8 @@ runInEachFileSystem(() => {\n         const {attributes} = getAstElements(templateTypeChecker, cmp)[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(attributes[0], cmp)!;\n         assertInputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('name');\n       });\n     });\n@@ -303,7 +303,7 @@ runInEachFileSystem(() => {\n         function expectUserSymbol(userSymbol: Symbol) {\n           assertVariableSymbol(userSymbol);\n           expect(userSymbol.tsSymbol!.escapedName).toContain('$implicit');\n-          expect(userSymbol.tsSymbol!.declarations[0].parent!.getText())\n+          expect(userSymbol.tsSymbol!.declarations![0].parent!.getText())\n               .toContain('NgForOfContext');\n           expect(program.getTypeChecker().typeToString(userSymbol.tsType!)).toEqual('User');\n           expect((userSymbol).declaration).toEqual(templateNode.variables[0]);\n@@ -312,7 +312,7 @@ runInEachFileSystem(() => {\n         function expectIndexSymbol(indexSymbol: Symbol) {\n           assertVariableSymbol(indexSymbol);\n           expect(indexSymbol.tsSymbol!.escapedName).toContain('index');\n-          expect(indexSymbol.tsSymbol!.declarations[0].parent!.getText())\n+          expect(indexSymbol.tsSymbol!.declarations![0].parent!.getText())\n               .toContain('NgForOfContext');\n           expect(program.getTypeChecker().typeToString(indexSymbol.tsType!)).toEqual('number');\n           expect((indexSymbol).declaration).toEqual(templateNode.variables[1]);\n@@ -370,7 +370,7 @@ runInEachFileSystem(() => {\n         const symbol = templateTypeChecker.getSymbolOfNode(inputNode, cmp)!;\n         assertExpressionSymbol(symbol);\n         expect(program.getTypeChecker().symbolToString(symbol.tsSymbol!)).toEqual('street');\n-        expect((symbol.tsSymbol!.declarations[0] as ts.PropertyDeclaration).parent.name!.getText())\n+        expect((symbol.tsSymbol!.declarations![0] as ts.PropertyDeclaration).parent.name!.getText())\n             .toEqual('Address');\n         expect(program.getTypeChecker().typeToString(symbol.tsType)).toEqual('string');\n \n@@ -427,7 +427,7 @@ runInEachFileSystem(() => {\n           assertExpressionSymbol(propReadSymbol);\n           expect(program.getTypeChecker().symbolToString(propReadSymbol.tsSymbol!))\n               .toEqual('street');\n-          expect((propReadSymbol.tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+          expect((propReadSymbol.tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                      .parent.name!.getText())\n               .toEqual('Address');\n           expect(program.getTypeChecker().typeToString(propReadSymbol.tsType))\n@@ -441,7 +441,7 @@ runInEachFileSystem(() => {\n           assertExpressionSymbol(methodCallSymbol);\n           expect(program.getTypeChecker().symbolToString(methodCallSymbol.tsSymbol!))\n               .toEqual('speak');\n-          expect((methodCallSymbol.tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+          expect((methodCallSymbol.tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                      .parent.name!.getText())\n               .toEqual('Person');\n           expect(program.getTypeChecker().typeToString(methodCallSymbol.tsType))\n@@ -856,7 +856,7 @@ runInEachFileSystem(() => {\n         const inputAbinding = (nodes[0] as TmplAstElement).inputs[0];\n         const aSymbol = templateTypeChecker.getSymbolOfNode(inputAbinding, cmp)!;\n         assertInputBindingSymbol(aSymbol);\n-        expect((aSymbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((aSymbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .name.getText())\n             .toEqual('inputA');\n       });\n@@ -892,14 +892,14 @@ runInEachFileSystem(() => {\n         const inputAbinding = (nodes[0] as TmplAstElement).inputs[0];\n         const aSymbol = templateTypeChecker.getSymbolOfNode(inputAbinding, cmp)!;\n         assertInputBindingSymbol(aSymbol);\n-        expect((aSymbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((aSymbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .name.getText())\n             .toEqual('inputA');\n \n         const inputBbinding = (nodes[0] as TmplAstElement).inputs[1];\n         const bSymbol = templateTypeChecker.getSymbolOfNode(inputBbinding, cmp)!;\n         assertInputBindingSymbol(bSymbol);\n-        expect((bSymbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((bSymbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .name.getText())\n             .toEqual('inputB');\n       });\n@@ -953,8 +953,8 @@ runInEachFileSystem(() => {\n             TmplAstBoundAttribute;\n         const symbol = templateTypeChecker.getSymbolOfNode(ngForOfBinding, cmp)!;\n         assertInputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('ngForOf');\n       });\n \n@@ -1050,10 +1050,10 @@ runInEachFileSystem(() => {\n         const inputAbinding = (nodes[0] as TmplAstElement).inputs[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(inputAbinding, cmp)!;\n         assertInputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('inputA');\n-        expect((symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .parent.name?.text)\n             .toEqual('TestDir');\n       });\n@@ -1091,10 +1091,10 @@ runInEachFileSystem(() => {\n         const inputAbinding = (nodes[0] as TmplAstElement).inputs[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(inputAbinding, cmp)!;\n         assertInputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('otherInputA');\n-        expect((symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .parent.name?.text)\n             .toEqual('TestDir');\n       });\n@@ -1142,10 +1142,11 @@ runInEachFileSystem(() => {\n         const symbol = templateTypeChecker.getSymbolOfNode(inputAbinding, cmp)!;\n         assertInputBindingSymbol(symbol);\n         expect(new Set(symbol.bindings.map(\n-                   b => (b.tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())))\n+                   b => (b.tsSymbol!.declarations![0] as ts.PropertyDeclaration).name.getText())))\n             .toEqual(new Set(['inputA', 'otherDirInputA']));\n-        expect(new Set(symbol.bindings.map(\n-                   b => (b.tsSymbol!.declarations[0] as ts.PropertyDeclaration).parent.name?.text)))\n+        expect(\n+            new Set(symbol.bindings.map(\n+                b => (b.tsSymbol!.declarations![0] as ts.PropertyDeclaration).parent.name?.text)))\n             .toEqual(new Set(['TestDir', 'OtherDir']));\n       });\n     });\n@@ -1186,14 +1187,14 @@ runInEachFileSystem(() => {\n         const outputABinding = (nodes[0] as TmplAstElement).outputs[0];\n         const aSymbol = templateTypeChecker.getSymbolOfNode(outputABinding, cmp)!;\n         assertOutputBindingSymbol(aSymbol);\n-        expect((aSymbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((aSymbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .name.getText())\n             .toEqual('outputA');\n \n         const outputBBinding = (nodes[0] as TmplAstElement).outputs[1];\n         const bSymbol = templateTypeChecker.getSymbolOfNode(outputBBinding, cmp)!;\n         assertOutputBindingSymbol(bSymbol);\n-        expect((bSymbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((bSymbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .name.getText())\n             .toEqual('outputB');\n       });\n@@ -1239,10 +1240,10 @@ runInEachFileSystem(() => {\n         const outputABinding = (nodes[0] as TmplAstElement).outputs[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(outputABinding, cmp)!;\n         assertOutputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('outputA');\n-        expect((symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .parent.name?.text)\n             .toEqual('TestDir');\n       });\n@@ -1304,10 +1305,10 @@ runInEachFileSystem(() => {\n         const outputABinding = (nodes[0] as TmplAstElement).outputs[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(outputABinding, cmp)!;\n         assertOutputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('outputA');\n-        expect((symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .parent.name?.text)\n             .toEqual('TestDir');\n       });\n@@ -1353,10 +1354,10 @@ runInEachFileSystem(() => {\n         const outputABinding = (nodes[0] as TmplAstElement).outputs[0];\n         const symbol = templateTypeChecker.getSymbolOfNode(outputABinding, cmp)!;\n         assertOutputBindingSymbol(symbol);\n-        expect(\n-            (symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration).name.getText())\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n+                   .name.getText())\n             .toEqual('ngModelChange');\n-        expect((symbol.bindings[0].tsSymbol!.declarations[0] as ts.PropertyDeclaration)\n+        expect((symbol.bindings[0].tsSymbol!.declarations![0] as ts.PropertyDeclaration)\n                    .parent.name?.text)\n             .toEqual('TestDir');\n       });"
        },
        {
            "sha": "10d7bd36f3dbc36660fe9c4bb08b86d050c3a4d8",
            "filename": "packages/compiler-cli/src/ngtsc/util/src/typescript.ts",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Futil%2Fsrc%2Ftypescript.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -13,6 +13,23 @@ import * as ts from 'typescript';\n import {AbsoluteFsPath, getFileSystem} from '../../file_system';\n import {DeclarationNode} from '../../reflection';\n \n+/**\n+ * Type describing a symbol that is guaranteed to have a value declaration.\n+ */\n+export type SymbolWithValueDeclaration = ts.Symbol&{\n+  valueDeclaration: ts.Declaration;\n+  declarations: ts.Declaration[];\n+};\n+\n+export function isSymbolWithValueDeclaration(symbol: ts.Symbol|null|\n+                                             undefined): symbol is SymbolWithValueDeclaration {\n+  // If there is a value declaration set, then the `declarations` property is never undefined. We\n+  // still check for the property to exist as this matches with the type that `symbol` is narrowed\n+  // to.\n+  return symbol != null && symbol.valueDeclaration !== undefined &&\n+      symbol.declarations !== undefined;\n+}\n+\n export function isDtsPath(filePath: string): boolean {\n   return D_TS.test(filePath);\n }"
        },
        {
            "sha": "334c4bd85eba747fd2d2843e9d5f7c76d870907a",
            "filename": "packages/compiler-cli/src/typescript_support.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Ftypescript_support.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -25,7 +25,7 @@ const MIN_TS_VERSION = '4.2.3';\n  * Note: this check is disabled in g3, search for\n  * `angularCompilerOptions.disableTypeScriptVersionCheck` config param value in g3.\n  */\n-const MAX_TS_VERSION = '4.3.0';\n+const MAX_TS_VERSION = '4.4.0';\n \n /**\n  * The currently used version of TypeScript, which can be adjusted for testing purposes using"
        },
        {
            "sha": "3d28fb5841621cda46abb38b8cf0401e46517d54",
            "filename": "packages/compiler-cli/test/ngtsc/template_typecheck_spec.ts",
            "status": "modified",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_typecheck_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_typecheck_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Ftest%2Fngtsc%2Ftemplate_typecheck_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -308,6 +308,36 @@ export declare class AnimationEvent {\n       expect(diags.length).toBe(0);\n     });\n \n+    // https://devblogs.microsoft.com/typescript/announcing-typescript-4-3-beta/#separate-write-types-on-properties\n+    it('should support separate write types on inputs', () => {\n+      env.tsconfig({strictTemplates: true});\n+      env.write('test.ts', `\n+        import {Component, NgModule, Input} from '@angular/core';\n+\n+        @Component({\n+          selector: 'test',\n+          template: '<target-cmp disabled></target-cmp>',\n+        })\n+        export class TestCmp {}\n+\n+        @Component({template: '', selector: 'target-cmp'})\n+        export class TargetCmp {\n+          @Input()\n+          get disabled(): boolean { return this._disabled; }\n+          set disabled(value: string|boolean) { this._disabled = value === '' || !!value; }\n+          private _disabled = false;\n+        }\n+\n+        @NgModule({\n+          declarations: [TestCmp, TargetCmp],\n+        })\n+        export class Module {}\n+      `);\n+      const diags = env.driveDiagnostics();\n+      console.error(diags);\n+      expect(diags.length).toBe(0);\n+    });\n+\n     describe('strictInputTypes', () => {\n       beforeEach(() => {\n         env.write('test.ts', `"
        },
        {
            "sha": "1d10bf278623f1743df1bf77ab5ea406302f2588",
            "filename": "packages/compiler/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcompiler%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "e95a79abecbcc8e9a2cdefef6703ad3a512a92f9",
            "filename": "packages/core/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"rxjs\": \"^6.5.3\","
        },
        {
            "sha": "dff8c13166f579dd2b113d0b0c6c919423933c1a",
            "filename": "packages/core/schematics/migrations/initial-navigation/collector.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Finitial-navigation%2Fcollector.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Finitial-navigation%2Fcollector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Fmigrations%2Finitial-navigation%2Fcollector.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -70,7 +70,8 @@ export class InitialNavigationCollector {\n       return null;\n     }\n \n-    if (symbolForIdentifier.declarations.length === 0) {\n+    if (symbolForIdentifier.declarations === undefined ||\n+        symbolForIdentifier.declarations.length === 0) {\n       return null;\n     }\n "
        },
        {
            "sha": "50c2d65b6c661ca7332dae21af8a16de4407a50c",
            "filename": "packages/core/schematics/migrations/relative-link-resolution/collector.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Fcollector.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Fcollector.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Fmigrations%2Frelative-link-resolution%2Fcollector.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -52,7 +52,8 @@ export class RelativeLinkResolutionCollector {\n       return null;\n     }\n \n-    if (symbolForIdentifier.declarations.length === 0) {\n+    if (symbolForIdentifier.declarations === undefined ||\n+        symbolForIdentifier.declarations.length === 0) {\n       return null;\n     }\n "
        },
        {
            "sha": "0a06a6d326151ec01220f6b35c6d39de862c27e8",
            "filename": "packages/core/schematics/migrations/static-queries/strategies/usage_strategy/declaration_usage_visitor.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Fstrategies%2Fusage_strategy%2Fdeclaration_usage_visitor.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Fstrategies%2Fusage_strategy%2Fdeclaration_usage_visitor.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Fstrategies%2Fusage_strategy%2Fdeclaration_usage_visitor.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -152,7 +152,7 @@ export class DeclarationUsageVisitor {\n       node: ts.PropertyAccessExpression, checkSetter: boolean, checkGetter: boolean) {\n     const propertySymbol = this._getPropertyAccessSymbol(node);\n \n-    if (!propertySymbol || !propertySymbol.declarations.length ||\n+    if (propertySymbol?.declarations === undefined || propertySymbol.declarations.length === 0 ||\n         (propertySymbol.getFlags() & ts.SymbolFlags.Accessor) === 0) {\n       return;\n     }"
        },
        {
            "sha": "1418021d5a7c5522a15091e3d6751e024720a853",
            "filename": "packages/core/schematics/utils/typescript/imports.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Futils%2Ftypescript%2Fimports.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -19,7 +19,7 @@ export function getImportOfIdentifier(typeChecker: ts.TypeChecker, node: ts.Iden\n     null {\n   const symbol = typeChecker.getSymbolAtLocation(node);\n \n-  if (!symbol || !symbol.declarations.length) {\n+  if (!symbol || symbol.declarations === undefined || !symbol.declarations.length) {\n     return null;\n   }\n "
        },
        {
            "sha": "896460b8b664d1b4da28d4434b21176f0799a364",
            "filename": "packages/core/src/util/decorators.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fsrc%2Futil%2Fdecorators.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fsrc%2Futil%2Fdecorators.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Futil%2Fdecorators.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -65,7 +65,7 @@ export function makeDecorator<T>(\n         // prevents the property is copied during subclassing.\n         const annotations = cls.hasOwnProperty(ANNOTATIONS) ?\n             (cls as any)[ANNOTATIONS] :\n-            Object.defineProperty(cls, ANNOTATIONS, {value: []})[ANNOTATIONS];\n+            (Object.defineProperty(cls, ANNOTATIONS, {value: []}) as any)[ANNOTATIONS];\n         annotations.push(annotationInstance);\n \n "
        },
        {
            "sha": "a7278bfdabc4d8c542c1675b143909060df434b7",
            "filename": "packages/core/src/view/util.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fsrc%2Fview%2Futil.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Fsrc%2Fview%2Futil.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fview%2Futil.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -233,6 +233,8 @@ export function getParentRenderElement(view: ViewData, renderHost: any, def: Nod\n          (renderParent.element!.componentRendererType!.encapsulation ===\n               ViewEncapsulation.ShadowDom ||\n           // TODO(FW-2290): remove the `encapsulation === 1` fallback logic in v12.\n+          // @ts-ignore TODO: Remove as part of FW-2290. TS complains about us dealing with an enum\n+          // value that is not known (but previously was the value for ViewEncapsulation.Native)\n           renderParent.element!.componentRendererType!.encapsulation === 1))) {\n       // only children of non components, or children of components with native encapsulation should\n       // be attached."
        },
        {
            "sha": "2a5fa6342bdb15960284d3bf936c807397a716a3",
            "filename": "packages/core/test/di/r3_injector_spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Ftest%2Fdi%2Fr3_injector_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -64,7 +64,7 @@ describe('InjectorDef-based createInjector()', () => {\n       providedIn: null,\n       // ChildService is derived from ServiceWithDep, so the factory function here must do the right\n       // thing and create an instance of the requested type if one is given.\n-      factory: (t?: typeof ServiceWithDep) => new(t || ServiceWithDep)(inject(Service)),\n+      factory: (t?: any) => new(t || ServiceWithDep)(inject(Service)),\n     });\n   }\n "
        },
        {
            "sha": "95b74663b1bd08ddd2d90dacda9cc214430032e1",
            "filename": "packages/elements/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Felements%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Felements%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Felements%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "1d9931e480e8f8c933cc46c36d3cc233cb8d7086",
            "filename": "packages/forms/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fforms%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fforms%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "2ff90077f446625fe4f7ef634dcb59173a203878",
            "filename": "packages/forms/test/validators_spec.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fforms%2Ftest%2Fvalidators_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fforms%2Ftest%2Fvalidators_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Ftest%2Fvalidators_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -430,7 +430,7 @@ describe('Validators', () => {\n            const v = Validators.composeAsync(\n                [promiseValidator({'one': true}), promiseValidator({'two': true})])!;\n \n-           let errorMap: {[key: string]: any}|null = undefined!;\n+           let errorMap: {[key: string]: any}|null = null;\n            (v(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n                .pipe(first())\n                .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);\n@@ -444,7 +444,7 @@ describe('Validators', () => {\n                [new AsyncValidatorDirective('expected', {'one': true})]);\n            const validatorFn = Validators.composeAsync(normalizedValidators)!;\n \n-           let errorMap: {[key: string]: any}|null = undefined!;\n+           let errorMap: {[key: string]: any}|null = null;\n            (validatorFn(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n                .pipe(first())\n                .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);\n@@ -468,7 +468,7 @@ describe('Validators', () => {\n       it('should ignore nulls', fakeAsync(() => {\n            const v = Validators.composeAsync([promiseValidator({'one': true}), null!])!;\n \n-           let errorMap: {[key: string]: any}|null = undefined!;\n+           let errorMap: {[key: string]: any}|null = null;\n            (v(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n                .pipe(first())\n                .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);\n@@ -494,7 +494,7 @@ describe('Validators', () => {\n         const v = Validators.composeAsync(\n             [observableValidator({'one': true}), observableValidator({'two': true})])!;\n \n-        let errorMap: {[key: string]: any}|null = undefined!;\n+        let errorMap: {[key: string]: any}|null = null;\n         (v(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n             .pipe(first())\n             .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);\n@@ -507,7 +507,7 @@ describe('Validators', () => {\n             [new AsyncValidatorDirective('expected', {'one': true})]);\n         const validatorFn = Validators.composeAsync(normalizedValidators)!;\n \n-        let errorMap: {[key: string]: any}|null = undefined!;\n+        let errorMap: {[key: string]: any}|null = null;\n         (validatorFn(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n             .pipe(first())\n             .subscribe((errors: {[key: string]: any}|null) => errorMap = errors)!;\n@@ -529,7 +529,7 @@ describe('Validators', () => {\n       it('should ignore nulls', () => {\n         const v = Validators.composeAsync([observableValidator({'one': true}), null!])!;\n \n-        let errorMap: {[key: string]: any}|null = undefined!;\n+        let errorMap: {[key: string]: any}|null = null;\n         (v(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n             .pipe(first())\n             .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);\n@@ -547,7 +547,7 @@ describe('Validators', () => {\n            const v = Validators.composeAsync(\n                [getTimerObs(100, {one: true}), getTimerObs(200, {two: true})])!;\n \n-           let errorMap: {[key: string]: any}|null = undefined!;\n+           let errorMap: {[key: string]: any}|null|undefined = undefined;\n            (v(new FormControl('invalid')) as Observable<ValidationErrors|null>)\n                .pipe(first())\n                .subscribe((errors: {[key: string]: any}|null) => errorMap = errors);"
        },
        {
            "sha": "2b72fefc833902ba207f7ff342079d7ca6cbd207",
            "filename": "packages/language-service/ivy/completions.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 8,
            "changes": 20,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fcompletions.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fcompletions.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Fcompletions.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -82,9 +82,11 @@ export class CompletionBuilder<N extends TmplAstNode|AST> {\n    */\n   getCompletionEntryDetails(\n       entryName: string, formatOptions: ts.FormatCodeOptions|ts.FormatCodeSettings|undefined,\n-      preferences: ts.UserPreferences|undefined): ts.CompletionEntryDetails|undefined {\n+      preferences: ts.UserPreferences|undefined,\n+      data: ts.CompletionEntryData|undefined): ts.CompletionEntryDetails|undefined {\n     if (this.isPropertyExpressionCompletion()) {\n-      return this.getPropertyExpressionCompletionDetails(entryName, formatOptions, preferences);\n+      return this.getPropertyExpressionCompletionDetails(\n+          entryName, formatOptions, preferences, data);\n     } else if (this.isElementTagCompletion()) {\n       return this.getElementTagCompletionDetails(entryName);\n     } else if (this.isElementAttributeCompletion()) {\n@@ -167,12 +169,13 @@ export class CompletionBuilder<N extends TmplAstNode|AST> {\n   private getPropertyExpressionCompletionDetails(\n       this: PropertyExpressionCompletionBuilder, entryName: string,\n       formatOptions: ts.FormatCodeOptions|ts.FormatCodeSettings|undefined,\n-      preferences: ts.UserPreferences|undefined): ts.CompletionEntryDetails|undefined {\n+      preferences: ts.UserPreferences|undefined,\n+      data: ts.CompletionEntryData|undefined): ts.CompletionEntryDetails|undefined {\n     let details: ts.CompletionEntryDetails|undefined = undefined;\n     if (this.node instanceof EmptyExpr || this.node instanceof BoundEvent ||\n         this.node.receiver instanceof ImplicitReceiver) {\n-      details =\n-          this.getGlobalPropertyExpressionCompletionDetails(entryName, formatOptions, preferences);\n+      details = this.getGlobalPropertyExpressionCompletionDetails(\n+          entryName, formatOptions, preferences, data);\n     } else {\n       const location = this.compiler.getTemplateTypeChecker().getExpressionCompletionLocation(\n           this.node, this.component);\n@@ -181,7 +184,7 @@ export class CompletionBuilder<N extends TmplAstNode|AST> {\n       }\n       details = this.tsLS.getCompletionEntryDetails(\n           location.shimPath, location.positionInShimFile, entryName, formatOptions,\n-          /* source */ undefined, preferences);\n+          /* source */ undefined, preferences, data);\n     }\n     if (details !== undefined) {\n       details.displayParts = filterAliasImports(details.displayParts);\n@@ -292,7 +295,8 @@ export class CompletionBuilder<N extends TmplAstNode|AST> {\n   private getGlobalPropertyExpressionCompletionDetails(\n       this: PropertyExpressionCompletionBuilder, entryName: string,\n       formatOptions: ts.FormatCodeOptions|ts.FormatCodeSettings|undefined,\n-      preferences: ts.UserPreferences|undefined): ts.CompletionEntryDetails|undefined {\n+      preferences: ts.UserPreferences|undefined,\n+      data: ts.CompletionEntryData|undefined): ts.CompletionEntryDetails|undefined {\n     const completions =\n         this.templateTypeChecker.getGlobalCompletions(this.template, this.component, this.node);\n     if (completions === null) {\n@@ -323,7 +327,7 @@ export class CompletionBuilder<N extends TmplAstNode|AST> {\n     } else {\n       return this.tsLS.getCompletionEntryDetails(\n           componentContext.shimPath, componentContext.positionInShimFile, entryName, formatOptions,\n-          /* source */ undefined, preferences);\n+          /* source */ undefined, preferences, data);\n     }\n   }\n "
        },
        {
            "sha": "4bf096f5c796a61f995840b8e2ece6d3fc4581ec",
            "filename": "packages/language-service/ivy/language_service.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Flanguage_service.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Flanguage_service.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Flanguage_service.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -244,7 +244,8 @@ export class LanguageService {\n   getCompletionEntryDetails(\n       fileName: string, position: number, entryName: string,\n       formatOptions: ts.FormatCodeOptions|ts.FormatCodeSettings|undefined,\n-      preferences: ts.UserPreferences|undefined): ts.CompletionEntryDetails|undefined {\n+      preferences: ts.UserPreferences|undefined,\n+      data: ts.CompletionEntryData|undefined): ts.CompletionEntryDetails|undefined {\n     return this.withCompilerAndPerfTracing(PerfPhase.LsCompletions, (compiler) => {\n       if (!isTemplateContext(compiler.getCurrentProgram(), fileName, position)) {\n         return undefined;\n@@ -254,7 +255,7 @@ export class LanguageService {\n       if (builder === null) {\n         return undefined;\n       }\n-      return builder.getCompletionEntryDetails(entryName, formatOptions, preferences);\n+      return builder.getCompletionEntryDetails(entryName, formatOptions, preferences, data);\n     });\n   }\n "
        },
        {
            "sha": "4069e2169cfb17c84c755e0b986eeab9609677a2",
            "filename": "packages/language-service/ivy/testing/src/buffer.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Ftesting%2Fsrc%2Fbuffer.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Ftesting%2Fsrc%2Fbuffer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Ftesting%2Fsrc%2Fbuffer.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -70,9 +70,10 @@ export class OpenBuffer {\n \n   getCompletionEntryDetails(\n       entryName: string, formatOptions?: ts.FormatCodeOptions|ts.FormatCodeSettings,\n-      preferences?: ts.UserPreferences): ts.CompletionEntryDetails|undefined {\n+      preferences?: ts.UserPreferences, data?: ts.CompletionEntryData): ts.CompletionEntryDetails\n+      |undefined {\n     return this.ngLS.getCompletionEntryDetails(\n-        this.scriptInfo.fileName, this._cursor, entryName, formatOptions, preferences);\n+        this.scriptInfo.fileName, this._cursor, entryName, formatOptions, preferences, data);\n   }\n \n   getTcb() {\n@@ -118,4 +119,4 @@ function extractCursorInfo(textWithCursor: string): {cursor: number, text: strin\n     cursor,\n     text: textWithCursor.substr(0, cursor) + textWithCursor.substr(cursor + 1),\n   };\n-}\n\\ No newline at end of file\n+}"
        },
        {
            "sha": "e564633a8e9c1ef67eff094f8e74606217648c79",
            "filename": "packages/language-service/ivy/ts_plugin.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fts_plugin.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fts_plugin.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Fts_plugin.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -95,15 +95,17 @@ export function create(info: ts.server.PluginCreateInfo): NgLanguageService {\n   function getCompletionEntryDetails(\n       fileName: string, position: number, entryName: string,\n       formatOptions: ts.FormatCodeOptions|ts.FormatCodeSettings|undefined, source: string|undefined,\n-      preferences: ts.UserPreferences|undefined): ts.CompletionEntryDetails|undefined {\n+      preferences: ts.UserPreferences|undefined,\n+      data: ts.CompletionEntryData|undefined): ts.CompletionEntryDetails|undefined {\n     if (angularOnly) {\n       return ngLS.getCompletionEntryDetails(\n-          fileName, position, entryName, formatOptions, preferences);\n+          fileName, position, entryName, formatOptions, preferences, data);\n     } else {\n       // If TS could answer the query, then return that result. Otherwise, return from Angular LS.\n       return tsLS.getCompletionEntryDetails(\n-                 fileName, position, entryName, formatOptions, source, preferences) ??\n-          ngLS.getCompletionEntryDetails(fileName, position, entryName, formatOptions, preferences);\n+                 fileName, position, entryName, formatOptions, source, preferences, data) ??\n+          ngLS.getCompletionEntryDetails(\n+              fileName, position, entryName, formatOptions, preferences, data);\n     }\n   }\n "
        },
        {
            "sha": "33c9b80acac59d3c0066ab78d06e907a6dd12871",
            "filename": "packages/language-service/ivy/ts_utils.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fts_utils.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fivy%2Fts_utils.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fivy%2Fts_utils.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -88,7 +88,7 @@ export function collectMemberMethods(\n   const members: ts.MethodDeclaration[] = [];\n   const apparentProps = typeChecker.getTypeAtLocation(clazz).getApparentProperties();\n   for (const prop of apparentProps) {\n-    if (ts.isMethodDeclaration(prop.valueDeclaration) && prop.valueDeclaration) {\n+    if (prop.valueDeclaration && ts.isMethodDeclaration(prop.valueDeclaration)) {\n       members.push(prop.valueDeclaration);\n     }\n   }"
        },
        {
            "sha": "7d108b1a170983216e5e9dd45e2f1bf85df79509",
            "filename": "packages/language-service/src/typescript_symbols.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Fsrc%2Ftypescript_symbols.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -242,6 +242,9 @@ function selectSignature(type: ts.Type, context: TypeContext, types: Symbol[]):\n   function allParameterTypesMatch(signature: ts.Signature) {\n     const tc = context.checker;\n     return signature.getParameters().every((parameter: ts.Symbol, i: number) => {\n+      if (parameter.valueDeclaration === undefined) {\n+        return false;\n+      }\n       const type = tc.getTypeOfSymbolAtLocation(parameter, parameter.valueDeclaration);\n       return type === passedInTypes[i];\n     });"
        },
        {
            "sha": "75f8ab964ba6013b5b57e5dc376d960f653d050f",
            "filename": "packages/language-service/test/reflector_host_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Ftest%2Freflector_host_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Flanguage-service%2Ftest%2Freflector_host_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Flanguage-service%2Ftest%2Freflector_host_spec.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -59,8 +59,8 @@ describe('reflector_host_spec', () => {\n     // This resolves all Angular directives in the project.\n     ngLSHost.getAnalyzedModules();\n     const secondCount = spy.calls.count();\n-    expect(secondCount).toBeGreaterThan(500);\n-    expect(secondCount).toBeLessThan(600);\n+    expect(secondCount).toBeGreaterThan(400);\n+    expect(secondCount).toBeLessThan(500);\n     spy.calls.reset();\n \n     // Third count is due to recompution after the program changes."
        },
        {
            "sha": "796d9da10ebd8210d29554231b008b6254b98ca3",
            "filename": "packages/misc/angular-in-memory-web-api/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fmisc%2Fangular-in-memory-web-api%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -10,7 +10,7 @@\n     \"rxjs\": \"^6.5.3\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"repository\": {\n     \"type\": \"git\","
        },
        {
            "sha": "28262e2e04b2542f1f99da287b44a1112c5d1840",
            "filename": "packages/platform-browser-dynamic/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser-dynamic%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser-dynamic%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser-dynamic%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "53a8b4ab90d968b897d4ef98df92a3523df0ce92",
            "filename": "packages/platform-browser/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/animations\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "31f85be2cd586265af315ba0a84673064dff60a3",
            "filename": "packages/platform-browser/src/dom/dom_renderer.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser%2Fsrc%2Fdom%2Fdom_renderer.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-browser%2Fsrc%2Fdom%2Fdom_renderer.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-browser%2Fsrc%2Fdom%2Fdom_renderer.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -102,10 +102,15 @@ export class DomRendererFactory2 implements RendererFactory2 {\n         (<EmulatedEncapsulationDomRenderer2>renderer).applyToHost(element);\n         return renderer;\n       }\n+      // @ts-ignore TODO: Remove as part of FW-2290. TS complains about us dealing with an enum\n+      // value that is not known (but previously was the value for ViewEncapsulation.Native)\n       case 1:\n       case ViewEncapsulation.ShadowDom:\n         // TODO(FW-2290): remove the `case 1:` fallback logic and the warning in v12.\n         if ((typeof ngDevMode === 'undefined' || ngDevMode) &&\n+            // @ts-ignore TODO: Remove as part of FW-2290. TS complains about us dealing with an\n+            // enum value that is not known (but previously was the value for\n+            // ViewEncapsulation.Native)\n             !hasLoggedNativeEncapsulationWarning && type.encapsulation === 1) {\n           hasLoggedNativeEncapsulationWarning = true;\n           console.warn("
        },
        {
            "sha": "bea2f098624629440401eddd081d5347c95cd446",
            "filename": "packages/platform-server/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-server%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fplatform-server%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fplatform-server%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -17,7 +17,7 @@\n   },\n   \"dependencies\": {\n     \"domino\": \"^2.1.2\",\n-    \"tslib\": \"^2.1.0\",\n+    \"tslib\": \"^2.2.0\",\n     \"xhr2\": \"^0.2.0\"\n   },\n   \"repository\": {"
        },
        {
            "sha": "89860e526b7b1b714e640a2593ca0aa5547a8e9e",
            "filename": "packages/router/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Frouter%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Frouter%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Frouter%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -21,7 +21,7 @@\n   },\n   \"homepage\": \"https://github.com/angular/angular/tree/master/packages/router\",\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "002df0f1665eff986c888b2bc368b33613099d59",
            "filename": "packages/service-worker/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fservice-worker%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fservice-worker%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fservice-worker%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "3e2c07c4fcb326a967b23c98770afb1cc5c2e839",
            "filename": "packages/upgrade/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fupgrade%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fupgrade%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fupgrade%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n     \"node\": \"^12.14.1 || >=14.0.0\"\n   },\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"peerDependencies\": {\n     \"@angular/core\": \"0.0.0-PLACEHOLDER\","
        },
        {
            "sha": "0cd86f9b92f111e014929528bb3bbc4a2d363d1a",
            "filename": "packages/zone.js/lib/common/events.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Flib%2Fcommon%2Fevents.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Flib%2Fcommon%2Fevents.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Flib%2Fcommon%2Fevents.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -28,8 +28,11 @@ if (typeof window !== 'undefined') {\n         passiveSupported = true;\n       }\n     });\n-    window.addEventListener('test', options, options);\n-    window.removeEventListener('test', options, options);\n+    // Note: We pass the `options` object as the event handler too. This is not compatible with the\n+    // signature of `addEventListener` or `removeEventListener` but enables us to remove the handler\n+    // without an actual handler.\n+    window.addEventListener('test', options as any, options);\n+    window.removeEventListener('test', options as any, options);\n   } catch (err) {\n     passiveSupported = false;\n   }"
        },
        {
            "sha": "cbdd2f8d372255b4fd6b7bc19c887b52ede4786c",
            "filename": "packages/zone.js/lib/jasmine/jasmine.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Flib%2Fjasmine%2Fjasmine.ts",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Flib%2Fjasmine%2Fjasmine.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Flib%2Fjasmine%2Fjasmine.ts?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -163,9 +163,9 @@ Zone.__load_patch('jasmine', (global: any, Zone: ZoneType, api: _ZonePrivate) =>\n       let spyObj: any;\n       if (propertyNames) {\n         const defineProperty = Object.defineProperty;\n-        Object.defineProperty = function(obj: any, p: string, attributes: any) {\n+        Object.defineProperty = function<T>(obj: T, p: PropertyKey, attributes: any) {\n           return defineProperty.call(\n-              this, obj, p, {...attributes, configurable: true, enumerable: true});\n+                     this, obj, p, {...attributes, configurable: true, enumerable: true}) as T;\n         };\n         try {\n           spyObj = originalCreateSpyObj.apply(this, args);"
        },
        {
            "sha": "ebf3deb37c26974f9aa623642937127e5ea366ac",
            "filename": "packages/zone.js/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -8,7 +8,7 @@\n   \"fesm2015\": \"./fesm2015/zone.js\",\n   \"typings\": \"./zone.d.ts\",\n   \"dependencies\": {\n-    \"tslib\": \"^2.1.0\"\n+    \"tslib\": \"^2.2.0\"\n   },\n   \"devDependencies\": {\n     \"@externs/nodejs\": \"^1.5.0\",\n@@ -19,7 +19,7 @@\n     \"mocha\": \"^8.0.0\",\n     \"mock-require\": \"3.0.3\",\n     \"promises-aplus-tests\": \"^2.1.2\",\n-    \"typescript\": \"4.2.4\"\n+    \"typescript\": \"4.3.2\"\n   },\n   \"scripts\": {\n     \"closuretest\": \"./scripts/closure/closure_compiler.sh\","
        },
        {
            "sha": "2bbdc98686134a8b11ed210b9c7e5316e8b1c4aa",
            "filename": "packages/zone.js/test/typings/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Ftest%2Ftypings%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -14,6 +14,6 @@\n     \"zone.js\": \"file:../../../../dist/bin/packages/zone.js/npm_package\"\n   },\n   \"devDependencies\": {\n-    \"typescript\": \"~4.2.4\"\n+    \"typescript\": \"~4.3.2\"\n   }\n }"
        },
        {
            "sha": "df2f8753d442a24bccf24be7e22719685c2ab674",
            "filename": "packages/zone.js/yarn.lock",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Fyarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/packages%2Fzone.js%2Fyarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Fyarn.lock?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -3884,7 +3884,7 @@ tr46@^2.0.2:\n   dependencies:\n     punycode \"^2.1.1\"\n \n-tslib@^2.1.0:\n+tslib@^2.2.0:\n   version \"2.2.0\"\n   resolved \"https://registry.yarnpkg.com/tslib/-/tslib-2.2.0.tgz#fb2c475977e35e241311ede2693cee1ec6698f5c\"\n   integrity sha512-gS9GVHRU+RGn5KQM2rllAlR3dU6m7AcpJKdtH8gFvQiC4Otgk98XnmMU+nZenHt/+VhnBPWwgrJsyrdcw6i23w==\n@@ -3923,10 +3923,10 @@ typedarray-to-buffer@^3.1.5:\n   dependencies:\n     is-typedarray \"^1.0.0\"\n \n-typescript@4.2.4:\n-  version \"4.2.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.2.4.tgz#8610b59747de028fda898a8aef0e103f156d0961\"\n-  integrity sha512-V+evlYHZnQkaz8TRBuxTA92yZBPotr5H+WhQ7bD3hZUndx5tGOa1fuCgeSjxAzM1RiN5IzvadIXTVefuuwZCRg==\n+typescript@4.3.2:\n+  version \"4.3.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.3.2.tgz#399ab18aac45802d6f2498de5054fcbbe716a805\"\n+  integrity sha512-zZ4hShnmnoVnAHpVHWpTcxdv7dWP60S2FsydQLV8V5PbS3FifjWFFRiHSWpDJahly88PRyV5teTSLoq4eG7mKw==\n \n unbox-primitive@^1.0.1:\n   version \"1.0.1\""
        },
        {
            "sha": "d09cb26cc433f82543304309a43a64e7da9c91f1",
            "filename": "tools/ts-api-guardian/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/tools%2Fts-api-guardian%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/tools%2Fts-api-guardian%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/tools%2Fts-api-guardian%2Fpackage.json?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -25,7 +25,7 @@\n     \"@types/node\": \"^10.9.4\",\n     \"jasmine\": \"^3.1.0\",\n     \"source-map-support\": \"^0.5.9\",\n-    \"typescript\": \"4.2.4\"\n+    \"typescript\": \"4.3.2\"\n   },\n   \"keywords\": [\n     \"typescript\""
        },
        {
            "sha": "f149d2717412c5722925fad7d3e15c4812463cf4",
            "filename": "yarn.lock",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/yarn.lock",
            "raw_url": "https://github.com/angular/angular/raw/25f763cff86b4b0ef49eb0105c2093c97c58b6fe/yarn.lock",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/yarn.lock?ref=25f763cff86b4b0ef49eb0105c2093c97c58b6fe",
            "patch": "@@ -13330,7 +13330,7 @@ tslib@1.9.0:\n   resolved \"https://registry.yarnpkg.com/tslib/-/tslib-1.9.0.tgz#e37a86fda8cbbaf23a057f473c9f4dc64e5fc2e8\"\n   integrity sha512-f/qGG2tUkrISBlQZEjEqoZ3B2+npJjIf04H1wuAv9iA8i04Icp+61KRXxFdha22670NJopsZCIjhC3SnjPRKrQ==\n \n-tslib@2.2.0, tslib@^2.0.1, tslib@^2.1.0, tslib@^2.2.0:\n+tslib@2.2.0, tslib@^2.0.1, tslib@^2.2.0:\n   version \"2.2.0\"\n   resolved \"https://registry.yarnpkg.com/tslib/-/tslib-2.2.0.tgz#fb2c475977e35e241311ede2693cee1ec6698f5c\"\n   integrity sha512-gS9GVHRU+RGn5KQM2rllAlR3dU6m7AcpJKdtH8gFvQiC4Otgk98XnmMU+nZenHt/+VhnBPWwgrJsyrdcw6i23w==\n@@ -13491,7 +13491,7 @@ typescript@3.2.4:\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.2.4.tgz#c585cb952912263d915b462726ce244ba510ef3d\"\n   integrity sha512-0RNDbSdEokBeEAkgNbxJ+BLwSManFy9TeXz8uW+48j/xhEXv1ePME60olyzw2XzUqUBNAYFeJadIqAgNqIACwg==\n \n-typescript@4.2.4, typescript@~4.2.4:\n+typescript@4.2.4:\n   version \"4.2.4\"\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.2.4.tgz#8610b59747de028fda898a8aef0e103f156d0961\"\n   integrity sha512-V+evlYHZnQkaz8TRBuxTA92yZBPotr5H+WhQ7bD3hZUndx5tGOa1fuCgeSjxAzM1RiN5IzvadIXTVefuuwZCRg==\n@@ -13506,6 +13506,11 @@ typescript@~3.7.2:\n   resolved \"https://registry.yarnpkg.com/typescript/-/typescript-3.7.7.tgz#c931733e2ec10dda56b855b379cc488a72a81199\"\n   integrity sha512-MmQdgo/XenfZPvVLtKZOq9jQQvzaUAUpcKW8Z43x9B2fOm4S5g//tPtMweZUIP+SoBqrVPEIm+dJeQ9dfO0QdA==\n \n+typescript@~4.3.2:\n+  version \"4.3.2\"\n+  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.3.2.tgz#399ab18aac45802d6f2498de5054fcbbe716a805\"\n+  integrity sha512-zZ4hShnmnoVnAHpVHWpTcxdv7dWP60S2FsydQLV8V5PbS3FifjWFFRiHSWpDJahly88PRyV5teTSLoq4eG7mKw==\n+\n uglify-js@^3.1.4:\n   version \"3.13.8\"\n   resolved \"https://registry.yarnpkg.com/uglify-js/-/uglify-js-3.13.8.tgz#7c2f9f2553f611f3ff592bdc19c6fb208dc60afb\""
        }
    ],
    "stats": {
        "total": 532,
        "additions": 384,
        "deletions": 148
    }
}