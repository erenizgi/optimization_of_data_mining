{
    "author": "nreid260",
    "message": "refactor(zone.js): Rename class ZoneDelegate to _ZoneDelegate to differentiate it from the ZoneDelgate interface (#43019)\n\nThe current naming causes tsickle to emit `/** @implements {ZoneDelegate} */ class ZoneDelegate ...`, which is a cyclic definition error in Closure Compiler. Additionally, the name shadowing is also confusing to humans.\n\nPR Close angular#43019\n\nPR Close #43019",
    "sha": "ac59b990fcb3b5e24302254eeecb9448442861b9",
    "files": [
        {
            "sha": "01e13c8dce790df0e640e9d30017f6c585b9ba3f",
            "filename": "packages/zone.js/lib/zone.ts",
            "status": "modified",
            "additions": 24,
            "deletions": 28,
            "changes": 52,
            "blob_url": "https://github.com/angular/angular/blob/ac59b990fcb3b5e24302254eeecb9448442861b9/packages%2Fzone.js%2Flib%2Fzone.ts",
            "raw_url": "https://github.com/angular/angular/raw/ac59b990fcb3b5e24302254eeecb9448442861b9/packages%2Fzone.js%2Flib%2Fzone.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fzone.js%2Flib%2Fzone.ts?ref=ac59b990fcb3b5e24302254eeecb9448442861b9",
            "patch": "@@ -673,8 +673,6 @@ interface EventTask extends Task {\n \n /** @internal */\n type AmbientZone = Zone;\n-/** @internal */\n-type AmbientZoneDelegate = ZoneDelegate;\n \n const Zone: ZoneType = (function(global: any) {\n   const performance: {mark(name: string): void; measure(name: string, label: string): void;} =\n@@ -774,14 +772,14 @@ const Zone: ZoneType = (function(global: any) {\n     private _parent: Zone|null;\n     private _name: string;\n     private _properties: {[key: string]: any};\n-    private _zoneDelegate: ZoneDelegate;\n+    private _zoneDelegate: _ZoneDelegate;\n \n     constructor(parent: Zone|null, zoneSpec: ZoneSpec|null) {\n       this._parent = parent;\n       this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n       this._properties = zoneSpec && zoneSpec.properties || {};\n       this._zoneDelegate =\n-          new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n+          new _ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n     }\n \n     public get(key: string): any {\n@@ -909,7 +907,7 @@ const Zone: ZoneType = (function(global: any) {\n         }\n       }\n       (task as any as ZoneTask<any>)._transitionTo(scheduling, notScheduled);\n-      const zoneDelegates: ZoneDelegate[] = [];\n+      const zoneDelegates: _ZoneDelegate[] = [];\n       (task as any as ZoneTask<any>)._zoneDelegates = zoneDelegates;\n       (task as any as ZoneTask<any>)._zone = this;\n       try {\n@@ -987,63 +985,61 @@ const Zone: ZoneType = (function(global: any) {\n   const DELEGATE_ZS: ZoneSpec = {\n     name: '',\n     onHasTask:\n-        (delegate: AmbientZoneDelegate, _: AmbientZone, target: AmbientZone,\n-         hasTaskState: HasTaskState): void => delegate.hasTask(target, hasTaskState),\n-    onScheduleTask:\n-        (delegate: AmbientZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task): Task =>\n-            delegate.scheduleTask(target, task),\n+        (delegate: ZoneDelegate, _: AmbientZone, target: AmbientZone, hasTaskState: HasTaskState):\n+            void => delegate.hasTask(target, hasTaskState),\n+    onScheduleTask: (delegate: ZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task):\n+        Task => delegate.scheduleTask(target, task),\n     onInvokeTask:\n-        (delegate: AmbientZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task,\n-         applyThis: any, applyArgs: any): any =>\n-            delegate.invokeTask(target, task, applyThis, applyArgs),\n-    onCancelTask: (delegate: AmbientZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task):\n-        any => delegate.cancelTask(target, task)\n+        (delegate: ZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task, applyThis: any,\n+         applyArgs: any): any => delegate.invokeTask(target, task, applyThis, applyArgs),\n+    onCancelTask: (delegate: ZoneDelegate, _: AmbientZone, target: AmbientZone, task: Task): any =>\n+        delegate.cancelTask(target, task)\n   };\n \n-  class ZoneDelegate implements AmbientZoneDelegate {\n+  class _ZoneDelegate implements ZoneDelegate {\n     public zone: Zone;\n \n     private _taskCounts:\n         {microTask: number,\n          macroTask: number,\n          eventTask: number} = {'microTask': 0, 'macroTask': 0, 'eventTask': 0};\n \n-    private _parentDelegate: ZoneDelegate|null;\n+    private _parentDelegate: _ZoneDelegate|null;\n \n-    private _forkDlgt: ZoneDelegate|null;\n+    private _forkDlgt: _ZoneDelegate|null;\n     private _forkZS: ZoneSpec|null;\n     private _forkCurrZone: Zone|null;\n \n-    private _interceptDlgt: ZoneDelegate|null;\n+    private _interceptDlgt: _ZoneDelegate|null;\n     private _interceptZS: ZoneSpec|null;\n     private _interceptCurrZone: Zone|null;\n \n-    private _invokeDlgt: ZoneDelegate|null;\n+    private _invokeDlgt: _ZoneDelegate|null;\n     private _invokeZS: ZoneSpec|null;\n     private _invokeCurrZone: Zone|null;\n \n-    private _handleErrorDlgt: ZoneDelegate|null;\n+    private _handleErrorDlgt: _ZoneDelegate|null;\n     private _handleErrorZS: ZoneSpec|null;\n     private _handleErrorCurrZone: Zone|null;\n \n-    private _scheduleTaskDlgt: ZoneDelegate|null;\n+    private _scheduleTaskDlgt: _ZoneDelegate|null;\n     private _scheduleTaskZS: ZoneSpec|null;\n     private _scheduleTaskCurrZone: Zone|null;\n \n-    private _invokeTaskDlgt: ZoneDelegate|null;\n+    private _invokeTaskDlgt: _ZoneDelegate|null;\n     private _invokeTaskZS: ZoneSpec|null;\n     private _invokeTaskCurrZone: Zone|null;\n \n-    private _cancelTaskDlgt: ZoneDelegate|null;\n+    private _cancelTaskDlgt: _ZoneDelegate|null;\n     private _cancelTaskZS: ZoneSpec|null;\n     private _cancelTaskCurrZone: Zone|null;\n \n-    private _hasTaskDlgt: ZoneDelegate|null;\n-    private _hasTaskDlgtOwner: ZoneDelegate|null;\n+    private _hasTaskDlgt: _ZoneDelegate|null;\n+    private _hasTaskDlgtOwner: _ZoneDelegate|null;\n     private _hasTaskZS: ZoneSpec|null;\n     private _hasTaskCurrZone: Zone|null;\n \n-    constructor(zone: Zone, parentDelegate: ZoneDelegate|null, zoneSpec: ZoneSpec|null) {\n+    constructor(zone: Zone, parentDelegate: _ZoneDelegate|null, zoneSpec: ZoneSpec|null) {\n       this.zone = zone;\n       this._parentDelegate = parentDelegate;\n \n@@ -1241,7 +1237,7 @@ const Zone: ZoneType = (function(global: any) {\n     _zone: Zone|null = null;\n     public runCount: number = 0;\n     // tslint:disable-next-line:require-internal-with-underscore\n-    _zoneDelegates: ZoneDelegate[]|null = null;\n+    _zoneDelegates: _ZoneDelegate[]|null = null;\n     // tslint:disable-next-line:require-internal-with-underscore\n     _state: TaskState = 'notScheduled';\n "
        }
    ],
    "stats": {
        "total": 52,
        "additions": 24,
        "deletions": 28
    }
}