{
    "author": "clydin",
    "message": "docs: remove references to differential loading (#43060)\n\nSupport for IE11 has been dropped in v13. IE11 was the last browser officially support by Angular that required ES5 code. As a result of its removal, differential loading is no longer required and the Angular CLI has removed all differential loading functional for v13. This commit removes all references to differential loading from the documentation.\n\nPR Close #43060",
    "sha": "5fea50c0709c672cd7bf6c93a41b3501733060fc",
    "files": [
        {
            "sha": "1a1c8157bd8f582e53c71190970edebe49305724",
            "filename": "aio/content/guide/browser-support.md",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fbrowser-support.md",
            "raw_url": "https://github.com/angular/angular/raw/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fbrowser-support.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fbrowser-support.md?ref=5fea50c0709c672cd7bf6c93a41b3501733060fc",
            "patch": "@@ -57,15 +57,6 @@ Note that polyfills cannot magically transform an old, slow browser into a moder\n \n </div>\n \n-In Angular CLI version 8 and higher, applications are built using *differential loading*, a strategy where the CLI builds two separate bundles as part of your deployed application.\n-\n-* The first bundle contains modern ES2015 syntax, takes advantage of built-in support in modern browsers, ships less polyfills, and results in a smaller bundle size.\n-\n-* The second bundle contains code in the old ES5 syntax, along with all necessary polyfills. This results in a larger bundle size, but supports older browsers.\n-\n-This strategy allows you to continue to build your web application to support multiple browsers, but only load the necessary code that the browser needs.\n-For more information about how this works, see [Differential Loading](guide/deployment#differential-loading) in the [Deployment guide](guide/deployment).\n-\n ## Enabling polyfills with CLI projects\n \n The [Angular CLI](cli) provides support for polyfills."
        },
        {
            "sha": "bdb7de0d0c9745d23dd14f818cdc3582306f34a1",
            "filename": "aio/content/guide/deployment.md",
            "status": "modified",
            "additions": 0,
            "deletions": 253,
            "changes": 253,
            "blob_url": "https://github.com/angular/angular/blob/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fdeployment.md",
            "raw_url": "https://github.com/angular/angular/raw/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fdeployment.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fdeployment.md?ref=5fea50c0709c672cd7bf6c93a41b3501733060fc",
            "patch": "@@ -483,256 +483,3 @@ However, defining a `base href` has a few unique effects.\n The `base href` can also be used to define the Angular router's default base (see [APP_BASE_HREF](https://angular.io/api/common/APP_BASE_HREF)). Users with more complicated setups may need to manually configure the `APP_BASE_HREF` token within the application. (e.g., application routing base is / but assets/scripts/etc. are at /assets/).\n \n Unlike the `base href` which can be defined in a single place, the `deploy url` needs to be hard-coded into an application at build time. This means specifying a `deploy url` will decrease build speed, but this is the unfortunate cost of using an option that embeds itself throughout an application. That is why a `base href` is generally the better option.\n-\n-{@a differential-loading}\n-\n-## Differential Loading\n-\n-When building web applications, you want to make sure your application is compatible with the majority of browsers.\n-Even as JavaScript continues to evolve, with new features being introduced, not all browsers are updated with support for these new features at the same pace.\n-\n-The code you write in development using TypeScript is compiled and bundled into ES2015, the JavaScript syntax that is compatible with most browsers.\n-All modern browsers support ES2015 and beyond, but in most cases, you still have to account for users accessing your application from a browser that doesn't.\n-When targeting older browsers, [polyfills](guide/browser-support#polyfills) can bridge the gap by providing functionality that doesn't exist in the older versions of JavaScript supported by those browsers.\n-\n-To maximize compatibility, you could ship a single bundle that includes all your compiled code, plus any polyfills that may be needed.\n-Users with modern browsers, however, shouldn't have to pay the price of increased bundle size that comes with polyfills they don't need.\n-Differential loading, which is supported in Angular CLI version 8 and higher, can help solve this problem.\n-\n-Differential loading is a strategy that allows your web application to support multiple browsers, but only load the necessary code that the browser needs. When differential loading is enabled the CLI builds two separate bundles as part of your deployed application.\n-\n-* The first bundle contains modern ES2015 syntax. This bundle takes advantage of built-in support in modern browsers, ships fewer polyfills, and results in a smaller bundle size.\n-\n-* The second bundle contains code in the old ES5 syntax, along with all necessary polyfills. This second bundle is larger, but supports older browsers.\n-\n-### Differential builds\n-\n-When you deploy using the Angular CLI build process, you can choose how and when to support differential loading.\n-The [`ng build` CLI command](cli/build) queries the browser configuration and the configured build target to determine if support for legacy browsers is required, and whether the build should produce the necessary bundles used for differential loading.\n-\n-The following configurations determine your requirements.\n-\n-* Browserslist\n-\n-   The Browserslist configuration file is included in your application [project structure](guide/file-structure#application-configuration-files) and provides the minimum browsers your application supports. See the [Browserslist spec](https://github.com/browserslist/browserslist) for complete configuration options.\n-\n-* TypeScript configuration\n-\n-   In the TypeScript configuration file, the \"target\" option in the `compilerOptions` section determines the ECMAScript target version that the code is compiled to.\n-   Modern browsers support ES2015 natively, while ES5 is more commonly used to support legacy browsers.\n-\n-<div class=\"alert is-helpful\">\n-\n-   Differential loading is currently only supported when using `es2015` as a compilation target. When used with targets higher than `es2015`, the build process emits a warning.\n-\n-</div>\n-\n-For a development build, the output produced by `ng build` is simpler and easier to debug, allowing you to rely less on sourcemaps of compiled code.\n-\n-For a production build, your configuration determines which bundles are created for deployment of your application.\n-When needed, the `index.html` file is also modified during the build process to include script tags that enable differential loading, as shown in the following example.\n-\n-<code-example language=\"html\" header=\"index.html\">\n-&lt;body>\n-  &lt;app-root>&lt;/app-root>\n-  &lt;script src=\"runtime-es2015.js\" type=\"module\">&lt;/script>\n-  &lt;script src=\"runtime-es5.js\" nomodule>&lt;/script>\n-  &lt;script src=\"polyfills-es2015.js\" type=\"module\">&lt;/script>\n-  &lt;script src=\"polyfills-es5.js\" nomodule>&lt;/script>\n-  &lt;script src=\"styles-es2015.js\" type=\"module\">&lt;/script>\n-  &lt;script src=\"styles-es5.js\" nomodule>&lt;/script>\n-  &lt;script src=\"vendor-es2015.js\" type=\"module\">&lt;/script>\n-  &lt;script src=\"vendor-es5.js\" nomodule>&lt;/script>\n-  &lt;script src=\"main-es2015.js\" type=\"module\">&lt;/script>\n-  &lt;script src=\"main-es5.js\" nomodule>&lt;/script>\n-&lt;/body>\n-</code-example>\n-\n-Each script tag has a `type=\"module\"` or `nomodule` attribute. Browsers with native support for ES modules only load the scripts with the `module` type attribute and ignore scripts with the `nomodule` attribute. Legacy browsers only load the scripts with the `nomodule` attribute, and ignore the script tags with the `module` type that load ES modules.\n-\n-<div class=\"alert is-helpful\">\n-\n-   Some legacy browsers still download both bundles, but only execute the appropriate scripts based on the attributes mentioned above. You can read more on the issue [here](https://github.com/philipwalton/webpack-esnext-boilerplate/issues/1).\n-\n-</div>\n-\n-### Configuring differential loading\n-\n-To include differential loading in your application builds, you must configure the Browserslist and TypeScript configuration files in your application project.\n-\n-The following examples show a `.browserslistrc` and `tsconfig.json` file for a newly created Angular application. In this configuration, legacy browsers such as IE 9-11 are ignored, and the compilation target is ES2015.\n-\n-<code-example language=\"none\" header=\".browserslistrc\">\n-# This file is used by the build system to adjust CSS and JS output to support the specified browsers below.\n-# For additional information regarding the format and rule options, please see:\n-# https://github.com/browserslist/browserslist#queries\n-\n-# For the full list of supported browsers by the Angular framework, please see:\n-# https://angular.io/guide/browser-support\n-\n-# You can see what browsers were selected by your queries by running:\n-#   npx browserslist\n-\n-last 1 Chrome version\n-last 1 Firefox version\n-last 2 Edge major versions\n-last 2 Safari major versions\n-last 2 iOS major versions\n-Firefox ESR\n-not IE 11 # Angular supports IE 11 only as an opt-in. To opt-in, remove the 'not' prefix on this line.\n-</code-example>\n-\n-<code-example language=\"json\" header=\"tsconfig.json\">\n-\n-{\n-  \"compileOnSave\": false,\n-  \"compilerOptions\": {\n-    \"baseUrl\": \"./\",\n-    \"outDir\": \"./dist/out-tsc\",\n-    \"sourceMap\": true,\n-    \"declaration\": false,\n-    \"module\": \"esnext\",\n-    \"moduleResolution\": \"node\",\n-    \"emitDecoratorMetadata\": true,\n-    \"experimentalDecorators\": true,\n-    \"importHelpers\": true,\n-    \"target\": \"es2015\",\n-    \"typeRoots\": [\n-      \"node_modules/@types\"\n-    ],\n-    \"lib\": [\n-      \"es2018\",\n-      \"dom\"\n-    ]\n-  }\n-}\n-\n-</code-example>\n-\n-<div class=\"alert is-important\">\n-\n-   To see which browsers are supported and determine which settings meet to your browser support requirements, see the [Browserslist compatibility page](https://browserl.ist/?q=%3E+0.5%25%2C+last+2+versions%2C+Firefox+ESR%2C+not+dead%2C+not+IE+9-11).\n-\n-</div>\n-\n-The Browserslist configuration allows you to ignore browsers without ES2015 support. In this case, a single build is produced.\n-\n-If your Browserslist configuration includes support for any legacy browsers, the build target in the TypeScript configuration determines whether the build will support differential loading.\n-\n-{@a configuration-table }\n-\n-| Browserslist | ES target | Build result |\n-| -------- | -------- | -------- |\n-| ES5 support disabled | es2015  | Single build, ES5 not required |\n-| ES5 support enabled  | es5     | Single build w/conditional polyfills for ES5 only |\n-| ES5 support enabled  | es2015  | Differential loading (two builds w/conditional polyfills) |\n-\n-{@a test-and-serve}\n-\n-## Local development in older browsers\n-\n-Differential loading is not enabled by default for application projects that were generated with Angular CLI 10 and above.\n-The `ng serve`, `ng test`, and `ng e2e` commands, however, generate a single ES2015 build which cannot run in older browsers that don't support the modules, such as IE 11.\n-\n-To maintain the benefits of differential loading, however, a better option is to define multiple configurations for `ng serve`, `ng e2e`, and `ng test`.\n-\n-{@a differential-serve}\n-\n-### Configuring serve for ES5\n-\n-To do this for `ng serve`, create a new file, `tsconfig-es5.app.json` next to `tsconfig.app.json` with the following content.\n-\n-<code-example language=\"json\">\n-\n-{\n- \"extends\": \"./tsconfig.app.json\",\n- \"compilerOptions\": {\n-     \"target\": \"es5\"\n-  }\n-}\n-\n-</code-example>\n-\n-In `angular.json` add two new configuration sections under the `build` and `serve` targets to point to the new TypeScript configuration.\n-\n-<code-example language=\"json\">\n-\n-\"build\": {\n-  \"builder\": \"@angular-devkit/build-angular:browser\",\n-  \"options\": {\n-      ...\n-  },\n-  \"configurations\": {\n-    \"production\": {\n-        ...\n-    },\n-    \"es5\": {\n-      \"tsConfig\": \"./tsconfig-es5.app.json\"\n-    }\n-  }\n-},\n-\"serve\": {\n-  \"builder\": \"@angular-devkit/build-angular:dev-server\",\n-  \"options\": {\n-      ...\n-  },\n-  \"configurations\": {\n-    \"production\": {\n-     ...\n-    },\n-    \"es5\": {\n-      \"browserTarget\": \"&lt;app-name&gt;:build:es5\"\n-    }\n-  }\n-},\n-\n-</code-example>\n-\n-You can then run the `ng serve` command with this configuration. Make sure to replace `<app-name>` (in `\"<app-name>:build:es5\"`) with the actual name of the app, as it appears under `projects` in `angular.json`. For example, if your application name is `myAngularApp` the configuration will become `\"browserTarget\": \"myAngularApp:build:es5\"`.\n-\n-<code-example language=\"sh\">\n-\n-ng serve --configuration es5\n-\n-</code-example>\n-\n-{@a differential-test}\n-\n-### Configuring the test command\n-\n-Create a new file, `tsconfig-es5.spec.json` next to `tsconfig.spec.json` with the following content.\n-\n-<code-example language=\"json\">\n-\n-{\n- \"extends\": \"./tsconfig.spec.json\",\n- \"compilerOptions\": {\n-     \"target\": \"es5\"\n-  }\n-}\n-\n-</code-example>\n-\n-<code-example language=\"json\">\n-\n-\"test\": {\n-  \"builder\": \"@angular-devkit/build-angular:karma\",\n-  \"options\": {\n-      ...\n-  },\n-  \"configurations\": {\n-    \"es5\": {\n-      \"tsConfig\": \"./tsconfig-es5.spec.json\"\n-    }\n-  }\n-},\n-\n-</code-example>\n-\n-You can then run the tests with this configuration\n-\n-<code-example language=\"sh\">\n-\n-ng test --configuration es5\n-\n-</code-example>"
        },
        {
            "sha": "4d89267ab4ee909297f587524e1e10110df951fc",
            "filename": "aio/content/guide/glossary.md",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fglossary.md",
            "raw_url": "https://github.com/angular/angular/raw/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Fglossary.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fglossary.md?ref=5fea50c0709c672cd7bf6c93a41b3501733060fc",
            "patch": "@@ -311,15 +311,6 @@ Learn more in [Dependency Injection in Angular](guide/dependency-injection).\n \n A lookup token associated with a dependency [provider](#provider), for use with the [dependency injection](#di) system.\n \n-{@a differential-loading}\n-\n-## differential loading\n-\n-A build technique that creates two bundles for an application. One smaller bundle is for modern browsers. A second, larger bundle allows the application to run correctly in older browsers (such as IE11) that do not support all modern browser APIs.\n-\n-For more information, see the [Deployment](guide/deployment#differential-loading) guide.\n-\n-\n {@a directive}\n {@a directives}\n "
        },
        {
            "sha": "1d30c172866035000589bd4a56ae1bcb9b90c479",
            "filename": "aio/content/guide/typescript-configuration.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Ftypescript-configuration.md",
            "raw_url": "https://github.com/angular/angular/raw/5fea50c0709c672cd7bf6c93a41b3501733060fc/aio%2Fcontent%2Fguide%2Ftypescript-configuration.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Ftypescript-configuration.md?ref=5fea50c0709c672cd7bf6c93a41b3501733060fc",
            "patch": "@@ -160,4 +160,4 @@ update `tsconfig.spec.json` to add `\"chai\"` to the list of `types`.\n \n ### *target*\n \n-By default, the target is `es2015`, which is supported only in modern browsers. You can configure the target to `es5` to specifically support legacy browsers. [Differential loading](guide/deployment#differential-loading) is also provided by the Angular CLI to support modern, and legacy browsers with separate bundles.\n+By default, the target is `es2017`, which is supported in modern browsers."
        }
    ],
    "stats": {
        "total": 273,
        "additions": 1,
        "deletions": 272
    }
}