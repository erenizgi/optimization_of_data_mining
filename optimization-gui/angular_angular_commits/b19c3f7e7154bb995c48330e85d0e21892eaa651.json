{
    "author": "gkalpak",
    "message": "fix(docs-infra): track error docs during `serve-and-sync` (#44704)\n\nRefs #42966.\n\nLook for changes in error docs (i.e. docs under `aio/content/error/`) in\n`authors-package`, so that such docs are tracked when running the\n`serve-and-sync` script.\n\nPR Close #44704",
    "sha": "b19c3f7e7154bb995c48330e85d0e21892eaa651",
    "files": [
        {
            "sha": "fced8a5963a5b1fe5990862428165762c3a1c089",
            "filename": "aio/tools/transforms/authors-package/errors-package.js",
            "status": "added",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/angular/angular/blob/b19c3f7e7154bb995c48330e85d0e21892eaa651/aio%2Ftools%2Ftransforms%2Fauthors-package%2Ferrors-package.js",
            "raw_url": "https://github.com/angular/angular/raw/b19c3f7e7154bb995c48330e85d0e21892eaa651/aio%2Ftools%2Ftransforms%2Fauthors-package%2Ferrors-package.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fauthors-package%2Ferrors-package.js?ref=b19c3f7e7154bb995c48330e85d0e21892eaa651",
            "patch": "@@ -0,0 +1,32 @@\n+/**\n+ * @license\n+ * Copyright Google LLC All Rights Reserved.\n+ *\n+ * Use of this source code is governed by an MIT-style license that can be\n+ * found in the LICENSE file at https://angular.io/license\n+ */\n+const Package = require('dgeni').Package;\n+const errorsPackage = require('../angular-errors-package');\n+const {CONTENTS_PATH} = require('../config');\n+const baseAuthoringPackage = require('./base-authoring-package');\n+\n+function createPackage() {\n+  return new Package('author-errors', [baseAuthoringPackage, errorsPackage])\n+    .config(function(readFilesProcessor) {\n+      readFilesProcessor.sourceFiles = [\n+        {\n+          basePath: CONTENTS_PATH,\n+          include: `${CONTENTS_PATH}/errors/index.md`,\n+          fileReader: 'contentFileReader',\n+        },\n+        {\n+          basePath: CONTENTS_PATH,\n+          include: `${CONTENTS_PATH}/errors/**/*.md`,\n+          exclude: `${CONTENTS_PATH}/errors/index.md`,\n+          fileReader: 'errorFileReader',\n+        },\n+      ];\n+    });\n+}\n+\n+module.exports = {createPackage};"
        },
        {
            "sha": "fe16d4202f20b30140e1b4edca00c804bcf665ad",
            "filename": "aio/tools/transforms/authors-package/index.js",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/b19c3f7e7154bb995c48330e85d0e21892eaa651/aio%2Ftools%2Ftransforms%2Fauthors-package%2Findex.js",
            "raw_url": "https://github.com/angular/angular/raw/b19c3f7e7154bb995c48330e85d0e21892eaa651/aio%2Ftools%2Ftransforms%2Fauthors-package%2Findex.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fauthors-package%2Findex.js?ref=b19c3f7e7154bb995c48330e85d0e21892eaa651",
            "patch": "@@ -45,6 +45,12 @@ function createPackage(changedFile) {\n     console.log('Building API docs for', packageName);\n     return require('./api-package').createPackage(packageName);\n   }\n+\n+  const errorsMatch = /^aio\\/content\\/error\\/([^.]+)\\.md/.exec(changedFile);\n+  if (errorsMatch) {\n+    console.log('Building errors docs');\n+    return require('./errors-package').createPackage();\n+  }\n }\n \n module.exports = {"
        }
    ],
    "stats": {
        "total": 38,
        "additions": 38,
        "deletions": 0
    }
}