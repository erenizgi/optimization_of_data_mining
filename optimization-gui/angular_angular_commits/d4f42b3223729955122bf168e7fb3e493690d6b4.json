{
    "author": "petebacondarwin",
    "message": "build(docs-infra): implement `@reviewed` tag definition (#40582)\n\nThe `@reviewed` tag can be used to specify the date when the\ndocument was last reviewed.\n\nPR Close #40582",
    "sha": "d4f42b3223729955122bf168e7fb3e493690d6b4",
    "files": [
        {
            "sha": "db656ac92388bdcbc019377f9de63952b83d6fc7",
            "filename": "aio/src/styles/2-modules/_guides.scss",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Fsrc%2Fstyles%2F2-modules%2F_guides.scss",
            "raw_url": "https://github.com/angular/angular/raw/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Fsrc%2Fstyles%2F2-modules%2F_guides.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2F_guides.scss?ref=d4f42b3223729955122bf168e7fb3e493690d6b4",
            "patch": "@@ -0,0 +1,6 @@\n+.reviewed {\n+  color: lighten($darkgray, 10);\n+  @include font-size(13);\n+  font-style: italic;\n+  text-align: right;\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "1c48725103c656b41d3bcdd54a1166c5ae67f31f",
            "filename": "aio/src/styles/2-modules/_modules-dir.scss",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/angular/angular/blob/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Fsrc%2Fstyles%2F2-modules%2F_modules-dir.scss",
            "raw_url": "https://github.com/angular/angular/raw/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Fsrc%2Fstyles%2F2-modules%2F_modules-dir.scss",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fsrc%2Fstyles%2F2-modules%2F_modules-dir.scss?ref=d4f42b3223729955122bf168e7fb3e493690d6b4",
            "patch": "@@ -18,6 +18,7 @@\n    @import 'errors';\n    @import 'features';\n    @import 'filetree';\n+   @import 'guides';\n    @import 'heading-anchors';\n    @import 'hr';\n    @import 'images';"
        },
        {
            "sha": "bcbe6bd18c4d0b1e320cde188b3aeb0992701288",
            "filename": "aio/tools/transforms/content-package/tag-defs/reviewed.js",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/angular/angular/blob/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Ftools%2Ftransforms%2Fcontent-package%2Ftag-defs%2Freviewed.js",
            "raw_url": "https://github.com/angular/angular/raw/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Ftools%2Ftransforms%2Fcontent-package%2Ftag-defs%2Freviewed.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Fcontent-package%2Ftag-defs%2Freviewed.js?ref=d4f42b3223729955122bf168e7fb3e493690d6b4",
            "patch": "@@ -0,0 +1,21 @@\n+/**\n+ * @reviewed <date-string>\n+ *\n+ * Use this tag-def to indicate the date when this document was last reviewed.\n+ * The date-string will be passed to the `Date()` constructor.\n+ */\n+module.exports = function(createDocMessage) {\n+  return {\n+    name: 'reviewed',\n+    transforms(doc, tag, value) {\n+      if (!/^\\d{4}-\\d{1,2}-\\d{1,2}/.test(value.trim())) {\n+        throw new Error(createDocMessage(\n+          `Tag Error: @${tag.tagName} tag is missing the required date in the form \"yyyy-mm-dd\" but got \"${value}\"\\n`,\n+          doc));\n+      }\n+      return {\n+        date: new Date(value),\n+      };\n+    }\n+  };\n+};"
        },
        {
            "sha": "81c975493cf8a7d2d46cd3b229025ec9d80f9df4",
            "filename": "aio/tools/transforms/templates/content.template.html",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/angular/angular/blob/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Ftools%2Ftransforms%2Ftemplates%2Fcontent.template.html",
            "raw_url": "https://github.com/angular/angular/raw/d4f42b3223729955122bf168e7fb3e493690d6b4/aio%2Ftools%2Ftransforms%2Ftemplates%2Fcontent.template.html",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Ftransforms%2Ftemplates%2Fcontent.template.html?ref=d4f42b3223729955122bf168e7fb3e493690d6b4",
            "patch": "@@ -3,12 +3,13 @@\n {% set relativePath = doc.fileInfo.relativePath %}\n {% if doc.title %}{$ ('# ' + doc.title.trim()) | marked $}{% endif %}\n {% if '/' in relativePath or 'docs.md' in relativePath %}\n-  <div class=\"github-links\">\n-    {$ github.githubEditLink(doc, versionInfo) $}\n-  </div>\n+<div class=\"github-links\">\n+  {$ github.githubEditLink(doc, versionInfo) $}\n+</div>\n {% endif %}\n {% block content %}\n <div class=\"content\">\n-{$ doc.description | marked $}\n+  {$ doc.description | marked $}\n+  {% if doc.reviewed %}<div class=\"reviewed\">Last reviewed on {$ doc.reviewed.date.toDateString() $}</div>{% endif %}\n </div>\n {% endblock %}\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 37,
        "additions": 33,
        "deletions": 4
    }
}