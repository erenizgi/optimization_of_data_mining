{
    "author": "alan-agius4",
    "message": "test(docs-infra): run all example tests in IVY runtime (#41638)\n\nWe have several tests which use system.js, this means that we cannot use NGCC with `--create-ivy-entry-points`, also we need to process UMD bundles since our system.js configurations use UMDs.\n\nPR Close #41638",
    "sha": "d3edc5c0f54653d82d08955113e4ffea38afc3ce",
    "files": [
        {
            "sha": "2d2b48a7f7a7c5235057949cf5dc0b9728bbd3e3",
            "filename": "aio/tools/examples/example-boilerplate.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Fexample-boilerplate.js",
            "raw_url": "https://github.com/angular/angular/raw/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Fexample-boilerplate.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fexample-boilerplate.js?ref=d3edc5c0f54653d82d08955113e4ffea38afc3ce",
            "patch": "@@ -29,7 +29,7 @@ class ExampleBoilerPlate {\n           'Perhaps you need to run \"yarn example-use-npm\" or \"yarn example-use-local\" to install the dependencies?');\n     }\n \n-    shelljs.exec(`yarn --cwd ${SHARED_PATH} ngcc --properties es2015 browser module main --first-only --create-ivy-entry-points`);\n+    shelljs.exec(`yarn --cwd ${SHARED_PATH} ngcc --properties es2015 main`);\n \n     exampleFolders.forEach(exampleFolder => {\n       const exampleConfig = this.loadJsonFile(path.resolve(exampleFolder, EXAMPLE_CONFIG_FILENAME));"
        },
        {
            "sha": "66f04b59b8e1ba8339698ccbd34159153e98307a",
            "filename": "aio/tools/examples/example-boilerplate.spec.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Fexample-boilerplate.spec.js",
            "raw_url": "https://github.com/angular/angular/raw/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Fexample-boilerplate.spec.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Fexample-boilerplate.spec.js?ref=d3edc5c0f54653d82d08955113e4ffea38afc3ce",
            "patch": "@@ -23,7 +23,7 @@ describe('example-boilerplate tool', () => {\n     it('should run `ngcc`', () => {\n       exampleBoilerPlate.add();\n       expect(shelljs.exec).toHaveBeenCalledWith(\n-          `yarn --cwd ${sharedDir} ngcc --properties es2015 browser module main --first-only --create-ivy-entry-points`);\n+          `yarn --cwd ${sharedDir} ngcc --properties es2015 main`);\n     });\n \n     it('should process all the example folders', () => {"
        },
        {
            "sha": "1bba1afb46661644301642ca497132a140f41a96",
            "filename": "aio/tools/examples/run-example-e2e.js",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Frun-example-e2e.js",
            "raw_url": "https://github.com/angular/angular/raw/d3edc5c0f54653d82d08955113e4ffea38afc3ce/aio%2Ftools%2Fexamples%2Frun-example-e2e.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftools%2Fexamples%2Frun-example-e2e.js?ref=d3edc5c0f54653d82d08955113e4ffea38afc3ce",
            "patch": "@@ -171,7 +171,13 @@ function runE2eTestsSystemJS(appDir, outputFile) {\n   const appBuildSpawnInfo = spawnExt('yarn', [config.build], {cwd: appDir});\n   const appRunSpawnInfo = spawnExt('yarn', [config.run, '-s'], {cwd: appDir}, true);\n \n-  return runProtractorSystemJS(appBuildSpawnInfo.promise, appDir, appRunSpawnInfo, outputFile);\n+  let run = runProtractorSystemJS(appBuildSpawnInfo.promise, appDir, appRunSpawnInfo, outputFile);\n+\n+  if (fs.existsSync(appDir + '/aot/index.html')) {\n+    run = run.then((ok) => ok && runProtractorAoT(appDir, outputFile));\n+  }\n+\n+  return run;\n }\n \n function runProtractorSystemJS(prepPromise, appDir, appRunSpawnInfo, outputFile) {"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 9,
        "deletions": 3
    }
}