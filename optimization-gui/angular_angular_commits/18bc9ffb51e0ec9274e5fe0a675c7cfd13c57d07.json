{
    "author": "petebacondarwin",
    "message": "ci: do not try to publish directories that are not packages (#41393)\n\nWe now include `misc/angular-in-memory-web-api` in the packages that\nare build in the `dist/packages-dist` directory. But this package should\nnot be published as an artifact.\n\nThis commit prevents attempting to publishing the `misc` directory by\nfirst checking whether the directory contains a `package.json` file.\n\nPR Close #41393",
    "sha": "18bc9ffb51e0ec9274e5fe0a675c7cfd13c57d07",
    "files": [
        {
            "sha": "70a51bf8020504e7f8f5f0f01334309aa89ceb2b",
            "filename": "scripts/ci/publish-build-artifacts.sh",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/angular/angular/blob/18bc9ffb51e0ec9274e5fe0a675c7cfd13c57d07/scripts%2Fci%2Fpublish-build-artifacts.sh",
            "raw_url": "https://github.com/angular/angular/raw/18bc9ffb51e0ec9274e5fe0a675c7cfd13c57d07/scripts%2Fci%2Fpublish-build-artifacts.sh",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fci%2Fpublish-build-artifacts.sh?ref=18bc9ffb51e0ec9274e5fe0a675c7cfd13c57d07",
            "patch": "@@ -92,6 +92,12 @@ function publishPackages {\n \n   for dir in $PKGS_DIST/*/\n   do\n+    if [[ ! -f \"$dir/package.json\" ]]; then\n+      # Only publish directories that contain a `package.json` file.\n+      echo \"Skipping $dir, it does not contain a package to be published.\"\n+      continue\n+    fi\n+\n     COMPONENT=\"$(basename ${dir})\"\n \n     # Replace _ with - in component name."
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}