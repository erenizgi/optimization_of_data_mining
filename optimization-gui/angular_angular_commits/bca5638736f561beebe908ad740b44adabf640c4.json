{
    "author": "dario-piotrowicz",
    "message": "docs(animations): add `:enter` and `:leave` info to query api docs (#44379)\n\nadd information to the query api docs clarifying what elements can be\nqueried as entering and leaving (as that is not currently clearly\ndocumented and has caused confusions to developers)\n\none of the tasks of issue #44253\n\nPR Close #44379",
    "sha": "bca5638736f561beebe908ad740b44adabf640c4",
    "files": [
        {
            "sha": "45141068fc102832d5d79021a8b9a7dfcf5605bd",
            "filename": "packages/animations/src/animation_metadata.ts",
            "status": "modified",
            "additions": 26,
            "deletions": 1,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/bca5638736f561beebe908ad740b44adabf640c4/packages%2Fanimations%2Fsrc%2Fanimation_metadata.ts",
            "raw_url": "https://github.com/angular/angular/raw/bca5638736f561beebe908ad740b44adabf640c4/packages%2Fanimations%2Fsrc%2Fanimation_metadata.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fanimations%2Fsrc%2Fanimation_metadata.ts?ref=bca5638736f561beebe908ad740b44adabf640c4",
            "patch": "@@ -1143,7 +1143,9 @@ export function useAnimation(\n  *\n  * @param selector The element to query, or a set of elements that contain Angular-specific\n  * characteristics, specified with one or more of the following tokens.\n- *  - `query(\":enter\")` or `query(\":leave\")` : Query for newly inserted/removed elements.\n+ *  - `query(\":enter\")` or `query(\":leave\")` : Query for newly inserted/removed elements (not\n+ *     all elements can be queried via these tokens, see\n+ *     [Entering and Leaving Elements](#entering-and-leaving-elements))\n  *  - `query(\":animating\")` : Query all currently animating elements.\n  *  - `query(\"@triggerName\")` : Query elements that contain an animation trigger.\n  *  - `query(\"@*\")` : Query all elements that contain an animation triggers.\n@@ -1156,6 +1158,9 @@ export function useAnimation(\n  * @return An object that encapsulates the query data.\n  *\n  * @usageNotes\n+ *\n+ * ### Multiple Tokens\n+ *\n  * Tokens can be merged into a combined query selector string. For example:\n  *\n  * ```typescript\n@@ -1183,6 +1188,26 @@ export function useAnimation(\n  * ], { optional: true })\n  * ```\n  *\n+ * ### Entering and Leaving Elements\n+ *\n+ * Not all elements can be queried via the `:enter` and `:leave` tokens, the only ones\n+ * that can are those that Angular assumes can enter/leave based on their own logic\n+ * (if their insertion/removal is simply a consequence of that of their parent they\n+ * should be queried via a different token in their parent's `:enter`/`:leave` transitions).\n+ *\n+ * The only elements Angular assumes can enter/leave on their own logic (thus the only\n+ * ones that can be queried via the `:enter` and `:leave` tokens) are:\n+ *  - Those inserted dynamically (via `ViewContainerRef`)\n+ *  - Those that have a structural directive (which, under the hood, are a subset of the above ones)\n+ *\n+ * <div class=\"alert is-helpful\">\n+ *\n+ *  Note that elements will be successfully queried via `:enter`/`:leave` even if their\n+ *  insertion/removal is not done manually via `ViewContainerRef`or caused by their structural\n+ *  directive (e.g. they enter/exit alongside their parent).\n+ *\n+ * </div>\n+ *\n  * ### Usage Example\n  *\n  * The following example queries for inner elements and animates them"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 26,
        "deletions": 1
    }
}