{
    "author": "alan-agius4",
    "message": "docs: add docs about build cache (#43843)\n\nWith this change we add docs about persistant disk cache with was enabled by default in the CLI via https://github.com/angular/angular-cli/pull/21827\n\nPR Close #43843",
    "sha": "222c5a845cabf6c5b453c225e8b9c723cb7c622e",
    "files": [
        {
            "sha": "4be8f3097fd01109df067a291c5f78a4a442bd22",
            "filename": "aio/content/cli/cache.md",
            "status": "added",
            "additions": 75,
            "deletions": 0,
            "changes": 75,
            "blob_url": "https://github.com/angular/angular/blob/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fcli%2Fcache.md",
            "raw_url": "https://github.com/angular/angular/raw/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fcli%2Fcache.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fcli%2Fcache.md?ref=222c5a845cabf6c5b453c225e8b9c723cb7c622e",
            "patch": "@@ -0,0 +1,75 @@\n+\n+# Persistent disk cache\n+Angular CLI saves a number of cachable operations on disk by default.\n+\n+When you re-run the same build, the build system restores the state of the previous build and re-uses previously performed operations, which decreases the time taken to build and test your applications and libraries.\n+\n+To amend the default cache settings, add the `cli.cache` object to your [Workspace Configuration](guide/workspace-config).\n+The object goes under `cli.cache` at the top level of the file, outside the `projects` sections.\n+\n+```json\n+{\n+  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n+  \"version\": 1,\n+  \"cli\": {\n+    \"cache\": {\n+      ...\n+    }\n+  },\n+  \"projects\": {}\n+}\n+```\n+\n+For more information, see [cache options](guide/workspace-config#cache-options).\n+\n+### Enabling and disabling the cache\n+Caching is enabled by default. To disable caching run the following command:\n+\n+```bash\n+ng config cli.cache.enabled false\n+```\n+\n+To re-enable caching, set `cli.cache.enabled` to `true`.\n+\n+### Cache environments\n+By default, disk cache is only enabled for local environments.\n+\n+To enable caching for all environments, run the following command:\n+\n+```bash\n+ng config cli.cache.environment all\n+```\n+\n+For more information, see `environment` in [cache options](guide/workspace-config#cache-options).\n+\n+<div class=\"alert is-helpful\">\n+\n+The Angular CLI checks for the presence and value of the `CI` environment variable to determine in which environment it is running.\n+\n+</div>\n+\n+### Cache path\n+\n+By default, `.angular/cache` is used as a base directory to store cache results. To change this path, run the following command:\n+\n+```bash\n+ng config cli.cache.path \".cache/ng\"\n+```\n+\n+### Clearing the cache\n+\n+To clear the cache, run one of the following commands.\n+\n+To clear the cache on Unix-based operating systems:\n+\n+```bash\n+rm -rf .angular/cache\n+```\n+\n+To clear the cache on Windows:\n+\n+```bash\n+rmdir /s /q .angular/cache\n+```\n+\n+For more information, see [rm command](https://man7.org/linux/man-pages/man1/rm.1.html) and [rmdir command](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/rmdir).\n\\ No newline at end of file"
        },
        {
            "sha": "d4db9129292d5082013331420c9a8d2b69ab4059",
            "filename": "aio/content/guide/workspace-config.md",
            "status": "modified",
            "additions": 48,
            "deletions": 11,
            "changes": 59,
            "blob_url": "https://github.com/angular/angular/blob/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "raw_url": "https://github.com/angular/angular/raw/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fguide%2Fworkspace-config.md",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fguide%2Fworkspace-config.md?ref=222c5a845cabf6c5b453c225e8b9c723cb7c622e",
            "patch": "@@ -5,13 +5,14 @@ Path values given in the configuration are relative to the root workspace folder\n \n ## Overall JSON structure\n \n-At the top level of `angular.json`, a few properties configure the workspace, and a `projects` section contains the remaining per-project configuration options. CLI defaults set at the workspace level can be overridden by defaults set at the project level, and defaults set at the project level can be overridden on the command line.\n+At the top-level of `angular.json`, a few properties configure the workspace and a `projects` section contains the remaining per-project configuration options. You can override CLI defaults set at the workspace level through defaults set at the project level. You can also override defaults set at the project level using the command line.\n \n-The following properties, at the top level of the file, configure the workspace.\n+The following properties, at the top-level of the file, configure the workspace.\n \n *   `version`: The configuration-file version.\n *   `newProjectRoot`: Path where new projects are created. Absolute or relative to the workspace folder.\n *   `defaultProject`: Default project name to use in commands, where not provided as an argument. When you use `ng new` to create a new application in a new workspace, that application is the default project for the workspace until you change it here.\n+*   `cli` : A set of options that customize the [Angular CLI](cli). See the [CLI configuration options](#cli-configuration-options) section.\n *   `schematics` : A set of [schematics](guide/glossary#schematic) that customize the `ng generate` sub-command option defaults for this workspace. See the [Generation schematics](#schematics) section.\n *   `projects` : Contains a subsection for each project (library or application) in the workspace, with the per-project configuration options.\n \n@@ -41,6 +42,42 @@ For more information, see [Workspace and project file structure](guide/file-stru\n \n </div>\n \n+{@a cli-configuration-options}\n+\n+## CLI configuration options\n+\n+The following configuration properties are a set of options that customize the Angular CLI.\n+\n+| Property            | Description                                                                                      | Value Type                                               |\n+| :------------------ | :----------------------------------------------------------------------------------------------- | :------------------------------------------------------- |\n+| `analytics`         | Share anonymous [usage data](cli/usage-analytics-gathering) with the Angular Team.               | `boolean` \\| `ci`                                        |\n+| `analyticsSharing`  | A set of analytics sharing options.                                                              | [Analytics sharing options](#analytics-sharing-options)  |\n+| `cache`             | Control [persistent disk cache](cli/cache) used by [Angular CLI Builders](guide/cli-builder).    | [Cache options](#cache-options)                          |\n+| `defaultCollection` | The default schematics collection to use.                                                        | `string`                                                 |\n+| `packageManager`    | The prefered package manager tool to use.                                                        | `npm` \\| `cnpm` \\| `pnpm` \\| `yarn`                      |\n+| `warnings`          | Control CLI specific console warnings.                                                           | [Warnings options](#warnings-options)                    |\n+\n+### Analytics sharing options\n+\n+| Property   | Description                                                  | Value Type |\n+| :--------- | :----------------------------------------------------------- | :--------- |\n+| `tracking` | Analytics sharing info tracking ID.                          | `string`   |\n+| `uuid`     | Analytics sharing info UUID (Universally Unique Identifier). | `string`   |\n+\n+### Cache options\n+\n+| Property      | Description                                           | Value Type               | Dafault Value    |\n+| :------------ | :---------------------------------------------------- | :----------------------- | :--------------- |\n+| `enabled`     | Configure whether disk caching is enabled.            | `boolean`                | `true`           |\n+| `environment` | Configure in which environment disk cache is enabled. | `local` \\| `ci` \\| `all` | `local`          |\n+| `path`        | The directory used to stored cache results.           | `string`                 | `.angular/cache` |\n+\n+### Warnings options\n+\n+| Property          | Description                                                                     | Value Type | Dafault Value |\n+| :---------------- | :------------------------------------------------------------------------------ | :--------- | :------------ |\n+| `versionMismatch` | Show a warning when the global Angular CLI version is newer than the local one. | `boolean`  | `true`        |\n+\n ## Project configuration options\n \n The following top-level configuration properties are available for each project, under `projects:<project_name>`.\n@@ -64,7 +101,7 @@ The following top-level configuration properties are available for each project,\n | `sourceRoot`    | The root folder for this project's source files.                                                                                                        |\n | `projectType`   | One of \"application\" or \"library\". An application can run independently in a browser, while a library cannot.                                           |\n | `prefix`        | A string that Angular prepends to generated selectors. Can be customized to identify an application or feature area.                                    |\n-| `schematics`    | A set of schematics that customize the `ng generate` sub-command option defaults for this project. See the [Generation schematics](#schematics) section.      |\n+| `schematics`    | A set of schematics that customize the `ng generate` sub-command option defaults for this project. See the [Generation schematics](#schematics) section.|\n | `architect`     | Configuration defaults for Architect builder targets for this project.                                                                                  |\n \n {@a schematics}\n@@ -119,14 +156,14 @@ See the example in [Build target](#build-target) below.\n <code-example language=\"json\">\n \n \"architect\": {\n-  \"build\": { },\n-  \"serve\": { },\n-  \"e2e\" : { },\n-  \"test\": { },\n-  \"lint\": { },\n-  \"extract-i18n\": { },\n-  \"server\": { },\n-  \"app-shell\": { }\n+  \"build\": {},\n+  \"serve\": {},\n+  \"e2e\" : {},\n+  \"test\": {},\n+  \"lint\": {},\n+  \"extract-i18n\": {},\n+  \"server\": {},\n+  \"app-shell\": {}\n }\n \n </code-example>"
        },
        {
            "sha": "feb72069f5dc58b4190dde8b69da1065df98d088",
            "filename": "aio/content/navigation.json",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fnavigation.json",
            "raw_url": "https://github.com/angular/angular/raw/222c5a845cabf6c5b453c225e8b9c723cb7c622e/aio%2Fcontent%2Fnavigation.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Fcontent%2Fnavigation.json?ref=222c5a845cabf6c5b453c225e8b9c723cb7c622e",
            "patch": "@@ -1033,6 +1033,11 @@\n               \"tooltip\": \"An introduction to the CLI tool, commands, and syntax.\",\n               \"url\": \"cli\"\n             },\n+            {\n+              \"title\": \"Persistent Disk Cache\",\n+              \"tooltip\": \"Details on the Angular CLI persistent disk cache.\",\n+              \"url\": \"cli/cache\"\n+            },\n             {\n               \"title\": \"Usage Analytics\",\n               \"tooltip\": \"For administrators, guide to gathering usage analytics from your users.\","
        }
    ],
    "stats": {
        "total": 139,
        "additions": 128,
        "deletions": 11
    }
}