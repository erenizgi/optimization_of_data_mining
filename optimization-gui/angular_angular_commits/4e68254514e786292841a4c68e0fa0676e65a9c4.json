{
    "author": "AndrewKushnir",
    "message": "fix(common): change the week-numbering year format from `r` -> `Y` (#39495)\n\nThis commit updates the week-numbering year format from `r` -> `Y` based on the description in\nhttp://www.unicode.org/reports/tr35/tr35-dates.html#dfst-year.\n\nNote: this is not a breaking change, since the week-numbering year format was introduced in\nv11.0.0-next.3 (https://github.com/angular/angular/commit/984ed39195d8291f0da0c2747a45761144e6daa2)\nand the major version that contains that change was not released yet.\n\nPR Close #39495",
    "sha": "4e68254514e786292841a4c68e0fa0676e65a9c4",
    "files": [
        {
            "sha": "917f2f01715c1f260fa952f17d43ae98400c1cb0",
            "filename": "packages/common/src/i18n/format_date.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Fsrc%2Fi18n%2Fformat_date.ts",
            "raw_url": "https://github.com/angular/angular/raw/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Fsrc%2Fi18n%2Fformat_date.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fi18n%2Fformat_date.ts?ref=4e68254514e786292841a4c68e0fa0676e65a9c4",
            "patch": "@@ -13,7 +13,7 @@ export const ISO8601_DATE_REGEX =\n //    1        2       3         4          5          6          7          8  9     10      11\n const NAMED_FORMATS: {[localeId: string]: {[format: string]: string}} = {};\n const DATE_FORMATS_SPLIT =\n-    /((?:[^GyrMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|r{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\\s\\S]*)/;\n+    /((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\\s\\S]*)/;\n \n enum ZoneWidth {\n   Short,\n@@ -451,21 +451,21 @@ function getDateFormatter(format: string): DateFormatter|null {\n       break;\n \n     // 1 digit representation of the week-numbering year, e.g. (AD 1 => 1, AD 199 => 199)\n-    case 'r':\n+    case 'Y':\n       formatter = weekNumberingYearGetter(1);\n       break;\n     // 2 digit representation of the week-numbering year, padded (00-99). (e.g. AD 2001 => 01, AD\n     // 2010 => 10)\n-    case 'rr':\n+    case 'YY':\n       formatter = weekNumberingYearGetter(2, true);\n       break;\n     // 3 digit representation of the week-numbering year, padded (000-999). (e.g. AD 1 => 001, AD\n     // 2010 => 2010)\n-    case 'rrr':\n+    case 'YYY':\n       formatter = weekNumberingYearGetter(3);\n       break;\n     // 4 digit representation of the week-numbering year (e.g. AD 1 => 0001, AD 2010 => 2010)\n-    case 'rrrr':\n+    case 'YYYY':\n       formatter = weekNumberingYearGetter(4);\n       break;\n "
        },
        {
            "sha": "691bb2900e4c8e688f6a880be72255b7f26866c8",
            "filename": "packages/common/src/pipes/date_pipe.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/angular/angular/blob/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Fsrc%2Fpipes%2Fdate_pipe.ts",
            "raw_url": "https://github.com/angular/angular/raw/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Fsrc%2Fpipes%2Fdate_pipe.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fpipes%2Fdate_pipe.ts?ref=4e68254514e786292841a4c68e0fa0676e65a9c4",
            "patch": "@@ -65,10 +65,10 @@ import {invalidPipeArgumentError} from './invalid_pipe_argument_error';\n  *  |                    | yy          | Numeric: 2 digits + zero padded                               | 02, 20, 01, 17, 73                                         |\n  *  |                    | yyy         | Numeric: 3 digits + zero padded                               | 002, 020, 201, 2017, 20173                                 |\n  *  |                    | yyyy        | Numeric: 4 digits or more + zero padded                       | 0002, 0020, 0201, 2017, 20173                              |\n- *  | Week-numbering year| r           | Numeric: minimum digits                                       | 2, 20, 201, 2017, 20173                                    |\n- *  |                    | rr          | Numeric: 2 digits + zero padded                               | 02, 20, 01, 17, 73                                         |\n- *  |                    | rrr         | Numeric: 3 digits + zero padded                               | 002, 020, 201, 2017, 20173                                 |\n- *  |                    | rrrr        | Numeric: 4 digits or more + zero padded                       | 0002, 0020, 0201, 2017, 20173                              |\n+ *  | Week-numbering year| Y           | Numeric: minimum digits                                       | 2, 20, 201, 2017, 20173                                    |\n+ *  |                    | YY          | Numeric: 2 digits + zero padded                               | 02, 20, 01, 17, 73                                         |\n+ *  |                    | YYY         | Numeric: 3 digits + zero padded                               | 002, 020, 201, 2017, 20173                                 |\n+ *  |                    | YYYY        | Numeric: 4 digits or more + zero padded                       | 0002, 0020, 0201, 2017, 20173                              |\n  *  | Month              | M           | Numeric: 1 digit                                              | 9, 12                                                      |\n  *  |                    | MM          | Numeric: 2 digits + zero padded                               | 09, 12                                                     |\n  *  |                    | MMM         | Abbreviated                                                   | Sep                                                        |"
        },
        {
            "sha": "5931f7222fb109756cf3eca8619347805ce177df",
            "filename": "packages/common/test/i18n/format_date_spec.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/angular/angular/blob/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Ftest%2Fi18n%2Fformat_date_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/4e68254514e786292841a4c68e0fa0676e65a9c4/packages%2Fcommon%2Ftest%2Fi18n%2Fformat_date_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Ftest%2Fi18n%2Fformat_date_spec.ts?ref=4e68254514e786292841a4c68e0fa0676e65a9c4",
            "patch": "@@ -95,10 +95,10 @@ describe('Format date', () => {\n         yy: '15',\n         yyy: '2015',\n         yyyy: '2015',\n-        r: '2015',\n-        rr: '15',\n-        rrr: '2015',\n-        rrrr: '2015',\n+        Y: '2015',\n+        YY: '15',\n+        YYY: '2015',\n+        YYYY: '2015',\n         M: '6',\n         MM: '06',\n         MMM: 'Jun',\n@@ -157,10 +157,10 @@ describe('Format date', () => {\n         yy: '15',\n         yyy: '2015',\n         yyyy: '2015',\n-        r: '2015',\n-        rr: '15',\n-        rrr: '2015',\n-        rrrr: '2015',\n+        Y: '2015',\n+        YY: '15',\n+        YYY: '2015',\n+        YYYY: '2015',\n         M: '1',\n         MM: '01',\n         MMM: 'Jan',\n@@ -373,10 +373,10 @@ describe('Format date', () => {\n     // https://github.com/angular/angular/issues/38739\n     it('should return correct ISO 8601 week-numbering year for dates close to year end/beginning',\n        () => {\n-         expect(formatDate('2013-12-27', 'rrrr', 'en')).toEqual('2013');\n-         expect(formatDate('2013-12-29', 'rrrr', 'en')).toEqual('2014');\n-         expect(formatDate('2010-01-02', 'rrrr', 'en')).toEqual('2009');\n-         expect(formatDate('2010-01-04', 'rrrr', 'en')).toEqual('2010');\n+         expect(formatDate('2013-12-27', 'YYYY', 'en')).toEqual('2013');\n+         expect(formatDate('2013-12-29', 'YYYY', 'en')).toEqual('2014');\n+         expect(formatDate('2010-01-02', 'YYYY', 'en')).toEqual('2009');\n+         expect(formatDate('2010-01-04', 'YYYY', 'en')).toEqual('2010');\n        });\n   });\n });"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 21,
        "deletions": 21
    }
}