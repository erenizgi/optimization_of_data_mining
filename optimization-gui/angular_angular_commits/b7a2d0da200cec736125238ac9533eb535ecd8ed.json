{
    "author": "arturovt",
    "message": "perf(core): use `ngDevMode` to tree-shake warning (#40876)\n\nThis commit adds `ngDevMode` guard to show the warning only\nin dev mode (similar to how things work in other parts of Ivy runtime code).\nThe `ngDevMode` flag helps to tree-shake the warning from production builds\n(in dev mode everything will work as it works right now) to decrease production bundle size.\n\nPR Close #40876",
    "sha": "b7a2d0da200cec736125238ac9533eb535ecd8ed",
    "files": [
        {
            "sha": "57658768860dfadacc85d2692f93f1591f752af0",
            "filename": "goldens/size-tracking/aio-payloads.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/b7a2d0da200cec736125238ac9533eb535ecd8ed/goldens%2Fsize-tracking%2Faio-payloads.json",
            "raw_url": "https://github.com/angular/angular/raw/b7a2d0da200cec736125238ac9533eb535ecd8ed/goldens%2Fsize-tracking%2Faio-payloads.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fsize-tracking%2Faio-payloads.json?ref=b7a2d0da200cec736125238ac9533eb535ecd8ed",
            "patch": "@@ -12,7 +12,7 @@\n     \"master\": {\n       \"uncompressed\": {\n         \"runtime-es2015\": 3033,\n-        \"main-es2015\": 448036,\n+        \"main-es2015\": 447894,\n         \"polyfills-es2015\": 52493\n       }\n     }"
        },
        {
            "sha": "1079d19812c91b45309d04aacc1ac0f451127c7a",
            "filename": "packages/core/src/application_module.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/b7a2d0da200cec736125238ac9533eb535ecd8ed/packages%2Fcore%2Fsrc%2Fapplication_module.ts",
            "raw_url": "https://github.com/angular/angular/raw/b7a2d0da200cec736125238ac9533eb535ecd8ed/packages%2Fcore%2Fsrc%2Fapplication_module.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fapplication_module.ts?ref=b7a2d0da200cec736125238ac9533eb535ecd8ed",
            "patch": "@@ -10,7 +10,6 @@ import {APP_INITIALIZER, ApplicationInitStatus} from './application_init';\n import {ApplicationRef} from './application_ref';\n import {APP_ID_RANDOM_PROVIDER} from './application_tokens';\n import {defaultIterableDiffers, defaultKeyValueDiffers, IterableDiffers, KeyValueDiffers} from './change_detection/change_detection';\n-import {Console} from './console';\n import {Injector, StaticProvider} from './di';\n import {Inject, Optional, SkipSelf} from './di/metadata';\n import {ErrorHandler} from './error_handler';\n@@ -78,7 +77,7 @@ export const APPLICATION_MODULE_PROVIDERS: StaticProvider[] = [\n   {\n     provide: ApplicationRef,\n     useClass: ApplicationRef,\n-    deps: [NgZone, Console, Injector, ErrorHandler, ComponentFactoryResolver, ApplicationInitStatus]\n+    deps: [NgZone, Injector, ErrorHandler, ComponentFactoryResolver, ApplicationInitStatus]\n   },\n   {provide: SCHEDULER, deps: [NgZone], useFactory: zoneSchedulerFactory},\n   {"
        },
        {
            "sha": "40d6bf65910a9de491d2398790090453e24860f3",
            "filename": "packages/core/src/application_ref.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/b7a2d0da200cec736125238ac9533eb535ecd8ed/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "raw_url": "https://github.com/angular/angular/raw/b7a2d0da200cec736125238ac9533eb535ecd8ed/packages%2Fcore%2Fsrc%2Fapplication_ref.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fsrc%2Fapplication_ref.ts?ref=b7a2d0da200cec736125238ac9533eb535ecd8ed",
            "patch": "@@ -621,8 +621,7 @@ export class ApplicationRef {\n \n   /** @internal */\n   constructor(\n-      private _zone: NgZone, private _console: Console, private _injector: Injector,\n-      private _exceptionHandler: ErrorHandler,\n+      private _zone: NgZone, private _injector: Injector, private _exceptionHandler: ErrorHandler,\n       private _componentFactoryResolver: ComponentFactoryResolver,\n       private _initStatus: ApplicationInitStatus) {\n     this._onMicrotaskEmptySubscription = this._zone.onMicrotaskEmpty.subscribe({\n@@ -734,8 +733,11 @@ export class ApplicationRef {\n     });\n \n     this._loadComponent(compRef);\n-    if (isDevMode()) {\n-      this._console.log(\n+    // Note that we have still left the `isDevMode()` condition in order to avoid\n+    // creating a breaking change for projects that still use the View Engine.\n+    if ((typeof ngDevMode === 'undefined' || ngDevMode) && isDevMode()) {\n+      const _console = this._injector.get(Console);\n+      _console.log(\n           `Angular is running in development mode. Call enableProdMode() to enable production mode.`);\n     }\n     return compRef;"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 8,
        "deletions": 7
    }
}