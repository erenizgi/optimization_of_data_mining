{
    "author": "dylhunn",
    "message": "refactor(forms): Fix weak helper types in the Forms package, mostly `Function` types that can be strengthened to specific callbacks. This was originally proposed as part of Typed Forms, but it may be possible to submit at least some of these changes separately and unconditionally (i.e. without relying on `TypedOrUntyped`.) (#44370)\n\nIt is desirable to land this separately to reduce the scope of the Typed Forms PR, by focusing it only on the new type parameters (rather than incidental strictness fixes).\n\nPR Close #44370",
    "sha": "7df9127088bda3c9d29937a04287b87dc2045ea7",
    "files": [
        {
            "sha": "7e93202ac4a7d9d1d7ebae9b8df44c4058e9dadf",
            "filename": "packages/forms/src/directives/shared.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/7df9127088bda3c9d29937a04287b87dc2045ea7/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "raw_url": "https://github.com/angular/angular/raw/7df9127088bda3c9d29937a04287b87dc2045ea7/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fdirectives%2Fshared.ts?ref=7df9127088bda3c9d29937a04287b87dc2045ea7",
            "patch": "@@ -226,7 +226,7 @@ function updateControl(control: FormControl, dir: NgControl): void {\n }\n \n function setUpModelChangePipeline(control: FormControl, dir: NgControl): void {\n-  const onChange = (newValue: any, emitModelEvent: boolean) => {\n+  const onChange = (newValue?: any, emitModelEvent?: boolean) => {\n     // control -> view\n     dir.valueAccessor!.writeValue(newValue);\n "
        },
        {
            "sha": "f7c1b9ce85a92b255e164692b25bd000b3571731",
            "filename": "packages/forms/src/model.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 14,
            "changes": 27,
            "blob_url": "https://github.com/angular/angular/blob/7df9127088bda3c9d29937a04287b87dc2045ea7/packages%2Fforms%2Fsrc%2Fmodel.ts",
            "raw_url": "https://github.com/angular/angular/raw/7df9127088bda3c9d29937a04287b87dc2045ea7/packages%2Fforms%2Fsrc%2Fmodel.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fforms%2Fsrc%2Fmodel.ts?ref=7df9127088bda3c9d29937a04287b87dc2045ea7",
            "patch": "@@ -1054,10 +1054,10 @@ export abstract class AbstractControl {\n   abstract _updateValue(): void;\n \n   /** @internal */\n-  abstract _forEachChild(cb: Function): void;\n+  abstract _forEachChild(cb: (c: AbstractControl) => void): void;\n \n   /** @internal */\n-  abstract _anyControls(condition: Function): boolean;\n+  abstract _anyControls(condition: (c: AbstractControl) => boolean): boolean;\n \n   /** @internal */\n   abstract _allControlsDisabled(): boolean;\n@@ -1099,7 +1099,7 @@ export abstract class AbstractControl {\n   }\n \n   /** @internal */\n-  _onDisabledChange: Function[] = [];\n+  _onDisabledChange: Array<(isDisabled: boolean) => void> = [];\n \n   /** @internal */\n   _isBoxedValue(formState: any): boolean {\n@@ -1229,13 +1229,12 @@ export abstract class AbstractControl {\n  */\n export class FormControl extends AbstractControl {\n   /** @internal */\n-  _onChange: Function[] = [];\n-\n+  _onChange: Array<Function> = [];\n   /** @internal */\n-  _pendingValue: any;\n+  _pendingValue: boolean = false;\n \n   /** @internal */\n-  _pendingChange: any;\n+  _pendingChange: boolean = false;\n \n   /**\n    * Creates a new `FormControl` instance.\n@@ -1358,7 +1357,7 @@ export class FormControl extends AbstractControl {\n   /**\n    * @internal\n    */\n-  override _anyControls(condition: Function): boolean {\n+  override _anyControls(condition: (c: AbstractControl) => boolean): boolean {\n     return false;\n   }\n \n@@ -1382,7 +1381,7 @@ export class FormControl extends AbstractControl {\n    * Internal function to unregister a change events listener.\n    * @internal\n    */\n-  _unregisterOnChange(fn: Function): void {\n+  _unregisterOnChange(fn: (value?: any, emitModelEvent?: boolean) => void): void {\n     removeListItem(this._onChange, fn);\n   }\n \n@@ -1406,7 +1405,7 @@ export class FormControl extends AbstractControl {\n   /**\n    * @internal\n    */\n-  override _forEachChild(cb: Function): void {}\n+  override _forEachChild(cb: (c: AbstractControl) => void): void {}\n \n   /** @internal */\n   override _syncPendingControls(): boolean {\n@@ -1847,7 +1846,7 @@ export class FormGroup extends AbstractControl {\n   }\n \n   /** @internal */\n-  override _anyControls(condition: Function): boolean {\n+  override _anyControls(condition: (c: AbstractControl) => boolean): boolean {\n     for (const controlName of Object.keys(this.controls)) {\n       const control = this.controls[controlName];\n       if (this.contains(controlName) && condition(control)) {\n@@ -1869,7 +1868,7 @@ export class FormGroup extends AbstractControl {\n   }\n \n   /** @internal */\n-  _reduceChildren(initValue: any, fn: Function) {\n+  _reduceChildren<T>(initValue: T, fn: (acc: T, control: AbstractControl, name: string) => T): T {\n     let res = initValue;\n     this._forEachChild((control: AbstractControl, name: string) => {\n       res = fn(res, control, name);\n@@ -2308,7 +2307,7 @@ export class FormArray extends AbstractControl {\n   }\n \n   /** @internal */\n-  override _forEachChild(cb: Function): void {\n+  override _forEachChild(cb: (c: AbstractControl, index: number) => void): void {\n     this.controls.forEach((control: AbstractControl, index: number) => {\n       cb(control, index);\n     });\n@@ -2322,7 +2321,7 @@ export class FormArray extends AbstractControl {\n   }\n \n   /** @internal */\n-  override _anyControls(condition: Function): boolean {\n+  override _anyControls(condition: (c: AbstractControl) => boolean): boolean {\n     return this.controls.some((control: AbstractControl) => control.enabled && condition(control));\n   }\n "
        }
    ],
    "stats": {
        "total": 29,
        "additions": 14,
        "deletions": 15
    }
}