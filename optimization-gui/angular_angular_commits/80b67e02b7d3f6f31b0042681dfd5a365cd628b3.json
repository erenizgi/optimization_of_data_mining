{
    "author": "JoostK",
    "message": "fix(compiler-cli): infer quote expressions as any type in type checker (#37917)\n\n\"Quote expressions\" are expressions that start with an identifier followed by a\ncomma, allowing arbitrary syntax to follow. These kinds of expressions would\nthrow a an error in the template type checker, which would make them hard to\ntrack down. As quote expressions are not generally used at all, the error would\ntypically occur for URLs that would inadvertently occur in a binding:\n\n```html\n<a [href]=\"https://example.com\"></a>\n```\n\nThis commit lets such bindings be inferred as the `any` type.\n\nFixes #36568\nResolves FW-2051\n\nPR Close #37917",
    "sha": "80b67e02b7d3f6f31b0042681dfd5a365cd628b3",
    "files": [
        {
            "sha": "81fb098be2e8ec19f03b5c65f66757d24d6dd4ef",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/src/expression.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/80b67e02b7d3f6f31b0042681dfd5a365cd628b3/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fexpression.ts",
            "raw_url": "https://github.com/angular/angular/raw/80b67e02b7d3f6f31b0042681dfd5a365cd628b3/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fexpression.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Fsrc%2Fexpression.ts?ref=80b67e02b7d3f6f31b0042681dfd5a365cd628b3",
            "patch": "@@ -234,8 +234,8 @@ class AstTranslator implements AstVisitor {\n     return node;\n   }\n \n-  visitQuote(ast: Quote): never {\n-    throw new Error('Method not implemented.');\n+  visitQuote(ast: Quote): ts.Expression {\n+    return NULL_AS_ANY;\n   }\n \n   visitSafeMethodCall(ast: SafeMethodCall): ts.Expression {"
        },
        {
            "sha": "febe9c9e9825ffb16fd01e789494e83efc3d5009",
            "filename": "packages/compiler-cli/src/ngtsc/typecheck/test/type_check_block_spec.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/80b67e02b7d3f6f31b0042681dfd5a365cd628b3/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/80b67e02b7d3f6f31b0042681dfd5a365cd628b3/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcompiler-cli%2Fsrc%2Fngtsc%2Ftypecheck%2Ftest%2Ftype_check_block_spec.ts?ref=80b67e02b7d3f6f31b0042681dfd5a365cd628b3",
            "patch": "@@ -42,6 +42,11 @@ describe('type check blocks', () => {\n         .toContain('(((ctx).a) ? ((ctx).b) : (((ctx).c) ? ((ctx).d) : ((ctx).e)))');\n   });\n \n+  it('should handle quote expressions as any type', () => {\n+    const TEMPLATE = `<span [quote]=\"sql:expression\"></span>`;\n+    expect(tcb(TEMPLATE)).toContain('null as any');\n+  });\n+\n   it('should handle attribute values for directive inputs', () => {\n     const TEMPLATE = `<div dir inputA=\"value\"></div>`;\n     const DIRECTIVES: TestDeclaration[] = [{"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 7,
        "deletions": 2
    }
}