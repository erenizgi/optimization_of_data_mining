{
    "author": "gkalpak",
    "message": "test(docs-infra): ignore empty lines in `URLS_TO_REDIRECT.txt` (#41680)\n\nPreviously, the `URLS_TO_REDIRECT.txt` file was expected to not contain\nany empty lines. This could easily result in test errors when updating\nthe file, since it is common for IDEs/editors to automatically ensure\nthere is an empty line at the end of a saved file\n([example failure][1]).\n\nThis commit updates the test helpers to be able to cope with empty or\nwhitespace-only lines in `URLS_TO_REDIRECT.txt` by ignoring such lines.\n\n[1]: https://circleci.com/gh/angular/angular/965534\n\nPR Close #41680",
    "sha": "1d6af94cfb0f2495d3ae064fc3a76a6db48446de",
    "files": [
        {
            "sha": "72cd4a326a620051503075d68c5ceb7248179980",
            "filename": "aio/tests/deployment/shared/URLS_TO_REDIRECT.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/1d6af94cfb0f2495d3ae064fc3a76a6db48446de/aio%2Ftests%2Fdeployment%2Fshared%2FURLS_TO_REDIRECT.txt",
            "raw_url": "https://github.com/angular/angular/raw/1d6af94cfb0f2495d3ae064fc3a76a6db48446de/aio%2Ftests%2Fdeployment%2Fshared%2FURLS_TO_REDIRECT.txt",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Fshared%2FURLS_TO_REDIRECT.txt?ref=1d6af94cfb0f2495d3ae064fc3a76a6db48446de",
            "patch": "@@ -194,4 +194,4 @@\n /start/forms\t/start/start-forms\n /start/routing\t/start/start-routing\n /testing\t/guide/testing\n-/testing/first-app-tests.html\t/guide/testing\n\\ No newline at end of file\n+/testing/first-app-tests.html\t/guide/testing"
        },
        {
            "sha": "f127aff012655c9118c5ab30afd4ff0e9c231fb5",
            "filename": "aio/tests/deployment/shared/helpers.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/1d6af94cfb0f2495d3ae064fc3a76a6db48446de/aio%2Ftests%2Fdeployment%2Fshared%2Fhelpers.ts",
            "raw_url": "https://github.com/angular/angular/raw/1d6af94cfb0f2495d3ae064fc3a76a6db48446de/aio%2Ftests%2Fdeployment%2Fshared%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/aio%2Ftests%2Fdeployment%2Fshared%2Fhelpers.ts?ref=1d6af94cfb0f2495d3ae064fc3a76a6db48446de",
            "patch": "@@ -41,7 +41,10 @@ export function loadRedirects(): FirebaseRedirectConfig[] {\n \n export function loadLegacyUrls() {\n   const pathToLegacyUrls = `${__dirname}/URLS_TO_REDIRECT.txt`;\n-  const urls = readFileSync(pathToLegacyUrls, 'utf8').split('\\n').map(line => line.split('\\t'));\n+  const urls = readFileSync(pathToLegacyUrls, 'utf8')\n+      .split('\\n')\n+      .filter(line => line.trim() !== '')\n+      .map(line => line.split('\\t'));\n   return urls;\n }\n "
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}