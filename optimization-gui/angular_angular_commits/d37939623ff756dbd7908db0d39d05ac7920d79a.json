{
    "author": "JiaLiPassion",
    "message": "test(zone.js): test zone.js package with tgz (#38649)\n\nZone.js 0.11.0 release an empty bundle, and now the npm_package tests all target\nbazel rule `npm_package`, but not `npm_package.pack`, and these two rules may\ngenerate different results, for example, Zone.js 0.11.0's issue is `package.json`\ndefine files array which make the bundle only include the files in the files array.\nSo this PR install the zone.js package from the archive generated from `npm_package.pack` rule.\n\nPR Close #38649",
    "sha": "d37939623ff756dbd7908db0d39d05ac7920d79a",
    "files": [
        {
            "sha": "41f927a7ad19e710805aa1734a0cf380e0d761c4",
            "filename": ".circleci/config.yml",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/.circleci%2Fconfig.yml",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/.circleci%2Fconfig.yml",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/.circleci%2Fconfig.yml?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -553,7 +553,8 @@ jobs:\n       # Publish `zone.js` package.\n       - run:\n           name: Create artifacts for zone.js package\n-          command: ./scripts/ci/create-package-archives.sh $CI_BRANCH $CI_COMMIT $ZONEJS_PACKAGES_DIR $ZONEJS_PACKAGES_ARCHIVES_DIR\n+          # Need to remove the zone.js.tgz before archive\n+          command: rm -rf $ZONEJS_PACKAGES_DIR/archive && ./scripts/ci/create-package-archives.sh $CI_BRANCH $CI_COMMIT $ZONEJS_PACKAGES_DIR $ZONEJS_PACKAGES_ARCHIVES_DIR\n       - store_artifacts:\n           path: *zonejs_packages_archives_dir\n           destination: zone.js"
        },
        {
            "sha": "c7347b3814fba29e85e8287e9e401b65bb27f2d5",
            "filename": "integration/bazel/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fbazel%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fbazel%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fbazel%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -16,7 +16,7 @@\n     \"reflect-metadata\": \"0.1.12\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular/bazel\": \"file:../../dist/packages-dist/bazel\","
        },
        {
            "sha": "4508fc6c61a6ceba6114fa4af55c34f12d88c195",
            "filename": "integration/cli-hello-world-ivy-compat/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-compat%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-compat%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world-ivy-compat%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -24,7 +24,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "ee8209a540b2f7fd5db64f77949a9dbf138f488a",
            "filename": "integration/cli-hello-world-ivy-i18n/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-i18n%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-i18n%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world-ivy-i18n%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -28,7 +28,7 @@\n     \"core-js\": \"file:../../node_modules/core-js\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "59e1df3004a4f140f43392bf16b1ed935f0d3bea",
            "filename": "integration/cli-hello-world-ivy-minimal/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-minimal%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-ivy-minimal%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world-ivy-minimal%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -24,7 +24,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "143b98cc0285f2766e17e7208907e405132fd2c3",
            "filename": "integration/cli-hello-world-lazy-rollup/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-lazy-rollup%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-lazy-rollup%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world-lazy-rollup%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -19,7 +19,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "135a0d685ff2455a73c9eb7f98aa752ec225c5d1",
            "filename": "integration/cli-hello-world-lazy/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-lazy%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world-lazy%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world-lazy%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -19,7 +19,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "0f9688b90f5ebe10cf08e6b7265af4da0d0ecb90",
            "filename": "integration/cli-hello-world/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fcli-hello-world%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fcli-hello-world%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -23,7 +23,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "59cb8d36260bdbbab6c44e91a16487b3bbd791a0",
            "filename": "integration/dynamic-compiler/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fdynamic-compiler%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fdynamic-compiler%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fdynamic-compiler%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -41,7 +41,7 @@\n     \"core-js\": \"file:../../node_modules/core-js\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"systemjs\": \"file:../../node_modules/systemjs\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"//resolutions-comment\": \"Ensure a single version of webdriver-manager which comes from root node_modules that has already run webdriver-manager update\",\n   \"resolutions\": {"
        },
        {
            "sha": "398b4eb08d95e4e9e57dd6e08fd97cf7dff5095f",
            "filename": "integration/hello_world__closure/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fhello_world__closure%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fhello_world__closure%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fhello_world__closure%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -12,7 +12,7 @@\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "54d380fcc926ed4dc0f01911ec9b208a62d62821",
            "filename": "integration/hello_world__systemjs_umd/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fhello_world__systemjs_umd%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fhello_world__systemjs_umd%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fhello_world__systemjs_umd%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -20,7 +20,7 @@\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"systemjs\": \"0.20.2\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "ad0c9955d029244565740ec98d413236aecf028b",
            "filename": "integration/i18n/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fi18n%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fi18n%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fi18n%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -11,7 +11,7 @@\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "054b482fab5650808babf2b86ac966d2e8d9e438",
            "filename": "integration/injectable-def/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Finjectable-def%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Finjectable-def%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Finjectable-def%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -14,7 +14,7 @@\n     \"@types/node\": \"file:../../node_modules/@types/node\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "2d99a595e3e651bef9ff4d270c36f26c05af5f54",
            "filename": "integration/ng_elements/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_elements%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_elements%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_elements%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -12,7 +12,7 @@\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "2deba2e6059eb3eed7c99f04057990efdd94ae5d",
            "filename": "integration/ng_update/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_update%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_update%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -22,6 +22,6 @@\n     \"@angular/upgrade\": \"file:../../dist/packages-dist/upgrade\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   }\n }"
        },
        {
            "sha": "3f832d53ea313ef833b57d86e75afab196b7e055",
            "filename": "integration/ng_update_migrations/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_update_migrations%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fng_update_migrations%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fng_update_migrations%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -21,7 +21,7 @@\n     \"@angular/router\": \"file:../../dist/packages-dist/router\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"tslib\": \"file:../../node_modules/tslib\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@angular-devkit/build-angular\": \"file:../../node_modules/@angular-devkit/build-angular\","
        },
        {
            "sha": "75a47d83ccbf44e031250cde6ef0c06ff39c67c8",
            "filename": "integration/ngcc/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fngcc%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fngcc%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fngcc%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -18,7 +18,7 @@\n     \"@types/node\": \"file:../../node_modules/@types/node\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "a62d727983c4ab92a7c7dd14febed61f4128ff56",
            "filename": "integration/platform-server/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fplatform-server%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fplatform-server%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fplatform-server%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -19,7 +19,7 @@\n     \"express\": \"4.16.4\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"devDependencies\": {\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\","
        },
        {
            "sha": "af3986155e2a66311e98829afb060a5f1a955215",
            "filename": "integration/service-worker-schema/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fservice-worker-schema%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fservice-worker-schema%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fservice-worker-schema%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -11,6 +11,6 @@\n     \"@angular/core\": \"file:../../dist/packages-dist/core\",\n     \"@angular/service-worker\": \"file:../../dist/packages-dist/service-worker\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   }\n }"
        },
        {
            "sha": "7a8769bc7efd1db7d7e038347daa62140d79fa8f",
            "filename": "integration/terser/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fterser%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Fterser%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Fterser%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -12,6 +12,6 @@\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"terser\": \"3.17.0\",\n     \"typescript\": \"file:../../node_modules/typescript\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   }\n }"
        },
        {
            "sha": "6f375da3788667fcce252531c40c1f4cd4369851",
            "filename": "integration/typings_test_ts39/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Ftypings_test_ts39%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Ftypings_test_ts39%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts39%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -20,7 +20,7 @@\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"~3.9.5\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"scripts\": {\n     \"test\": \"tsc\""
        },
        {
            "sha": "c4a666ee33a54de8084cc30a629f0bbc9aa14f8b",
            "filename": "integration/typings_test_ts40/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Ftypings_test_ts40%2Fpackage.json",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/integration%2Ftypings_test_ts40%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/integration%2Ftypings_test_ts40%2Fpackage.json?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -20,7 +20,7 @@\n     \"@types/jasmine\": \"file:../../node_modules/@types/jasmine\",\n     \"rxjs\": \"file:../../node_modules/rxjs\",\n     \"typescript\": \"4.0.2\",\n-    \"zone.js\": \"file:../../dist/zone.js-dist/zone.js\"\n+    \"zone.js\": \"file:../../dist/zone.js-dist/archive/zone.js.tgz\"\n   },\n   \"scripts\": {\n     \"test\": \"tsc\""
        },
        {
            "sha": "2b88ba0b599d2d055e43ba469470aec834aa3779",
            "filename": "scripts/build/zone-js-builder.js",
            "status": "modified",
            "additions": 15,
            "deletions": 2,
            "changes": 17,
            "blob_url": "https://github.com/angular/angular/blob/d37939623ff756dbd7908db0d39d05ac7920d79a/scripts%2Fbuild%2Fzone-js-builder.js",
            "raw_url": "https://github.com/angular/angular/raw/d37939623ff756dbd7908db0d39d05ac7920d79a/scripts%2Fbuild%2Fzone-js-builder.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/scripts%2Fbuild%2Fzone-js-builder.js?ref=d37939623ff756dbd7908db0d39d05ac7920d79a",
            "patch": "@@ -9,7 +9,8 @@\n 'use strict';\n \n const {resolve} = require('path');\n-const {chmod, cp, mkdir, rm, test} = require('shelljs');\n+const {chmod, cp, mkdir, mv, rm, test} = require('shelljs');\n+const zonePackageJson = require('../../packages/zone.js/package.json');\n const {baseDir, bazelBin, bazelCmd, exec, scriptPath} = require('./package-builder');\n \n \n@@ -45,10 +46,22 @@ function buildZoneJsPackage(destPath) {\n   const buildOutputDir = `${bazelBin}/packages/zone.js/npm_package`;\n   const distTargetDir = `${absDestPath}/zone.js`;\n \n-  console.info(`# Copy artifacts to ${distTargetDir}`);\n+  // Also create an archive so we can test the package itself.\n+  // Currently, the `npm_package.pack` rule does not work on Windows, so run `npm pack` directly.\n+  exec(`npm pack ${buildOutputDir}`);\n+\n+  console.info(`# Copy npm_package artifacts to ${distTargetDir}`);\n   rm('-rf', distTargetDir);\n   cp('-R', buildOutputDir, distTargetDir);\n   chmod('-R', 'u+w', distTargetDir);\n \n+  // Copy `zone.js.tgz` to `destPath`, so we can test\n+  // the archive generated by the `npm_package.pack` rule.\n+  const distArchiveTargetDir = `${absDestPath}/archive`;\n+  console.info(`# Copy npm_package archive file to ${distArchiveTargetDir}`);\n+  rm('-rf', distArchiveTargetDir);\n+  mkdir('-p', distArchiveTargetDir);\n+  mv(`${baseDir}/zone.js-${zonePackageJson.version}.tgz`, `${distArchiveTargetDir}/zone.js.tgz`);\n+\n   console.info('');\n }"
        }
    ],
    "stats": {
        "total": 62,
        "additions": 38,
        "deletions": 24
    }
}