{
    "author": "clydin",
    "message": "refactor(migrations): remove rxjs usage within static queries migration (#38657)\n\nrxjs was only used within one location within the static queries migration to workaround\na previous limitation that schematics could not directly use a promise.  However, promise\nsupport has been available since 8.0.  This change removes the observable promise wrapping.\nIt also removes an any cast that was previously needed to workaround rxjs version mismatches\nduring compilation.\n\nPR Close #38657",
    "sha": "2b2a847ad78f3a497fade51d57af01283500132d",
    "files": [
        {
            "sha": "06f61ec97489139d1039a01ea0bd8e536fa2133c",
            "filename": "packages/core/schematics/migrations/static-queries/index.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/angular/angular/blob/2b2a847ad78f3a497fade51d57af01283500132d/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/2b2a847ad78f3a497fade51d57af01283500132d/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcore%2Fschematics%2Fmigrations%2Fstatic-queries%2Findex.ts?ref=2b2a847ad78f3a497fade51d57af01283500132d",
            "patch": "@@ -9,7 +9,6 @@\n import {logging} from '@angular-devkit/core';\n import {Rule, SchematicContext, SchematicsException, Tree} from '@angular-devkit/schematics';\n import {relative} from 'path';\n-import {from} from 'rxjs';\n import * as ts from 'typescript';\n \n import {NgComponentTemplateVisitor} from '../../utils/ng_component_template';\n@@ -41,11 +40,7 @@ interface AnalyzedProject {\n \n /** Entry point for the V8 static-query migration. */\n export default function(): Rule {\n-  return (tree: Tree, context: SchematicContext) => {\n-    // We need to cast the returned \"Observable\" to \"any\" as there is a\n-    // RxJS version mismatch that breaks the TS compilation.\n-    return from(runMigration(tree, context).then(() => tree)) as any;\n-  };\n+  return runMigration;\n }\n \n /** Runs the V8 migration static-query migration for all determined TypeScript projects. */"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 1,
        "deletions": 6
    }
}