{
    "author": "ranma42",
    "message": "fix(common): correct typing and implementation of `SlicePipe` (#37447)\n\nEven in the overloads, state that it can accept `null` and\n`undefined`, in order to ensure easy composition with `async`.\n\nAdditionally, change the implementation to return `null` on an\n`undefined` input, for consistency with other pipes.\n\nBREAKING CHANGE:\nThe `slice` pipe now returns `null` for the `undefined` input value,\nwhich is consistent with the behavior of most pipes. If you rely on\n`undefined` being the result in that case, you now need to check for it\nexplicitly.\n\nPR Close #37447",
    "sha": "4744c229dbd372746a38ebbcdae2245f945ebcc4",
    "files": [
        {
            "sha": "647fd3f2f9b39b8163269f5957b60ab5566f31e4",
            "filename": "goldens/public-api/common/common.d.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/angular/angular/blob/4744c229dbd372746a38ebbcdae2245f945ebcc4/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts",
            "raw_url": "https://github.com/angular/angular/raw/4744c229dbd372746a38ebbcdae2245f945ebcc4/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/goldens%2Fpublic-api%2Fcommon%2Fcommon.d.ts?ref=4744c229dbd372746a38ebbcdae2245f945ebcc4",
            "patch": "@@ -381,9 +381,10 @@ export declare function registerLocaleData(data: any, localeId?: string | any, e\n \n export declare class SlicePipe implements PipeTransform {\n     transform<T>(value: ReadonlyArray<T>, start: number, end?: number): Array<T>;\n+    transform(value: null | undefined, start: number, end?: number): null;\n+    transform<T>(value: ReadonlyArray<T> | null | undefined, start: number, end?: number): Array<T> | null;\n     transform(value: string, start: number, end?: number): string;\n-    transform(value: null, start: number, end?: number): null;\n-    transform(value: undefined, start: number, end?: number): undefined;\n+    transform(value: string | null | undefined, start: number, end?: number): string | null;\n }\n \n export declare type Time = {"
        },
        {
            "sha": "90bf602f923eb1f0a60df199b7143a5729573c87",
            "filename": "packages/common/src/pipes/slice_pipe.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/angular/angular/blob/4744c229dbd372746a38ebbcdae2245f945ebcc4/packages%2Fcommon%2Fsrc%2Fpipes%2Fslice_pipe.ts",
            "raw_url": "https://github.com/angular/angular/raw/4744c229dbd372746a38ebbcdae2245f945ebcc4/packages%2Fcommon%2Fsrc%2Fpipes%2Fslice_pipe.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Fsrc%2Fpipes%2Fslice_pipe.ts?ref=4744c229dbd372746a38ebbcdae2245f945ebcc4",
            "patch": "@@ -62,11 +62,13 @@ export class SlicePipe implements PipeTransform {\n    *   - **if negative**: return all items before `end` index from the end of the list or string.\n    */\n   transform<T>(value: ReadonlyArray<T>, start: number, end?: number): Array<T>;\n+  transform(value: null|undefined, start: number, end?: number): null;\n+  transform<T>(value: ReadonlyArray<T>|null|undefined, start: number, end?: number): Array<T>|null;\n   transform(value: string, start: number, end?: number): string;\n-  transform(value: null, start: number, end?: number): null;\n-  transform(value: undefined, start: number, end?: number): undefined;\n-  transform(value: any, start: number, end?: number): any {\n-    if (value == null) return value;\n+  transform(value: string|null|undefined, start: number, end?: number): string|null;\n+  transform<T>(value: ReadonlyArray<T>|string|null|undefined, start: number, end?: number):\n+      Array<T>|string|null {\n+    if (value == null) return null;\n \n     if (!this.supports(value)) {\n       throw invalidPipeArgumentError(SlicePipe, value);"
        },
        {
            "sha": "c0172e6278033b6421e8417d624b67889f918121",
            "filename": "packages/common/test/pipes/slice_pipe_spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/4744c229dbd372746a38ebbcdae2245f945ebcc4/packages%2Fcommon%2Ftest%2Fpipes%2Fslice_pipe_spec.ts",
            "raw_url": "https://github.com/angular/angular/raw/4744c229dbd372746a38ebbcdae2245f945ebcc4/packages%2Fcommon%2Ftest%2Fpipes%2Fslice_pipe_spec.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/packages%2Fcommon%2Ftest%2Fpipes%2Fslice_pipe_spec.ts?ref=4744c229dbd372746a38ebbcdae2245f945ebcc4",
            "patch": "@@ -47,8 +47,8 @@ import {expect} from '@angular/platform-browser/testing/src/matchers';\n         expect(pipe.transform(null, 1)).toBe(null);\n       });\n \n-      it('should return undefined if the value is undefined', () => {\n-        expect(pipe.transform(undefined, 1)).toBe(undefined);\n+      it('should return null if the value is undefined', () => {\n+        expect(pipe.transform(undefined, 1)).toBe(null);\n       });\n \n       it('should return all items after START index when START is positive and END is omitted',"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 11,
        "deletions": 8
    }
}