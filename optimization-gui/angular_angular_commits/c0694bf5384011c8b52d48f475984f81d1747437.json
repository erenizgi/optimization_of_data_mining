{
    "author": "josephperrott",
    "message": "fix(dev-infra): remove getBaseDir method from GitClient (#41898)\n\nRemove the getBaseDir method from GitClient as the baseDir is determined\nonce during construction and does not need to be rediscovered.  The property\naccess should always be used.\n\nPR Close #41898",
    "sha": "c0694bf5384011c8b52d48f475984f81d1747437",
    "files": [
        {
            "sha": "b0e97c27c3748ff7999d864b9bed428815d79df9",
            "filename": "dev-infra/build-worker.js",
            "status": "modified",
            "additions": 1,
            "deletions": 14,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Fbuild-worker.js",
            "raw_url": "https://github.com/angular/angular/raw/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Fbuild-worker.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fbuild-worker.js?ref=c0694bf5384011c8b52d48f475984f81d1747437",
            "patch": "@@ -365,19 +365,6 @@ var GitClient = /** @class */ (function () {\n         }\n         return new semver.SemVer(latestTag, semVerOptions);\n     };\n-    /** Gets the path of the directory for the repository base. */\n-    GitClient.prototype.getBaseDir = function () {\n-        var previousVerboseLoggingState = this.verboseLogging;\n-        this.setVerboseLoggingState(false);\n-        var _a = this.runGraceful(['rev-parse', '--show-toplevel']), stdout = _a.stdout, stderr = _a.stderr, status = _a.status;\n-        this.setVerboseLoggingState(previousVerboseLoggingState);\n-        if (status !== 0) {\n-            throw Error(\"Unable to find the path to the base directory of the repository.\\n\" +\n-                \"Was the command run from inside of the repo?\\n\\n\" +\n-                (\"ERROR:\\n \" + stderr));\n-        }\n-        return stdout.trim();\n-    };\n     /** Retrieve a list of all files in the repostitory changed since the provided shaOrRef. */\n     GitClient.prototype.allChangesFilesSince = function (shaOrRef) {\n         if (shaOrRef === void 0) { shaOrRef = 'HEAD'; }\n@@ -599,7 +586,7 @@ var cachedConfig = null;\n function getConfig(baseDir) {\n     // If the global config is not defined, load it from the file system.\n     if (cachedConfig === null) {\n-        baseDir = baseDir || GitClient.getInstance().getBaseDir();\n+        baseDir = baseDir || GitClient.getInstance().baseDir;\n         // The full path to the configuration file.\n         var configPath = path.join(baseDir, CONFIG_FILE_PATH);\n         // Read the configuration and validate it before caching it for the future."
        },
        {
            "sha": "3975357740ec8486cf83b5c98fd4b12c08e7cd35",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 1,
            "deletions": 14,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=c0694bf5384011c8b52d48f475984f81d1747437",
            "patch": "@@ -71,7 +71,7 @@ var userConfig = null;\n function getConfig(baseDir) {\n     // If the global config is not defined, load it from the file system.\n     if (cachedConfig === null) {\n-        baseDir = baseDir || GitClient.getInstance().getBaseDir();\n+        baseDir = baseDir || GitClient.getInstance().baseDir;\n         // The full path to the configuration file.\n         var configPath = path.join(baseDir, CONFIG_FILE_PATH);\n         // Read the configuration and validate it before caching it for the future.\n@@ -533,19 +533,6 @@ var GitClient = /** @class */ (function () {\n         }\n         return new semver.SemVer(latestTag, semVerOptions);\n     };\n-    /** Gets the path of the directory for the repository base. */\n-    GitClient.prototype.getBaseDir = function () {\n-        var previousVerboseLoggingState = this.verboseLogging;\n-        this.setVerboseLoggingState(false);\n-        var _a = this.runGraceful(['rev-parse', '--show-toplevel']), stdout = _a.stdout, stderr = _a.stderr, status = _a.status;\n-        this.setVerboseLoggingState(previousVerboseLoggingState);\n-        if (status !== 0) {\n-            throw Error(\"Unable to find the path to the base directory of the repository.\\n\" +\n-                \"Was the command run from inside of the repo?\\n\\n\" +\n-                (\"ERROR:\\n \" + stderr));\n-        }\n-        return stdout.trim();\n-    };\n     /** Retrieve a list of all files in the repostitory changed since the provided shaOrRef. */\n     GitClient.prototype.allChangesFilesSince = function (shaOrRef) {\n         if (shaOrRef === void 0) { shaOrRef = 'HEAD'; }"
        },
        {
            "sha": "c0287de5b4b0374be21cc1f47c99de5109a6a792",
            "filename": "dev-infra/utils/config.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/angular/angular/blob/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Futils%2Fconfig.ts",
            "raw_url": "https://github.com/angular/angular/raw/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Futils%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Futils%2Fconfig.ts?ref=c0694bf5384011c8b52d48f475984f81d1747437",
            "patch": "@@ -69,7 +69,7 @@ export function getConfig(baseDir?: string): NgDevConfig;\n export function getConfig(baseDir?: string): NgDevConfig {\n   // If the global config is not defined, load it from the file system.\n   if (cachedConfig === null) {\n-    baseDir = baseDir || GitClient.getInstance().getBaseDir();\n+    baseDir = baseDir || GitClient.getInstance().baseDir;\n     // The full path to the configuration file.\n     const configPath = join(baseDir, CONFIG_FILE_PATH);\n     // Read the configuration and validate it before caching it for the future."
        },
        {
            "sha": "353f5a891e0c19003c16ba76bd62323351cf355b",
            "filename": "dev-infra/utils/git/index.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 15,
            "changes": 15,
            "blob_url": "https://github.com/angular/angular/blob/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Futils%2Fgit%2Findex.ts",
            "raw_url": "https://github.com/angular/angular/raw/c0694bf5384011c8b52d48f475984f81d1747437/dev-infra%2Futils%2Fgit%2Findex.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Futils%2Fgit%2Findex.ts?ref=c0694bf5384011c8b52d48f475984f81d1747437",
            "patch": "@@ -256,21 +256,6 @@ export class GitClient<Authenticated extends boolean> {\n     return new SemVer(latestTag, semVerOptions);\n   }\n \n-  /** Gets the path of the directory for the repository base. */\n-  getBaseDir(): string {\n-    const previousVerboseLoggingState = this.verboseLogging;\n-    this.setVerboseLoggingState(false);\n-    const {stdout, stderr, status} = this.runGraceful(['rev-parse', '--show-toplevel']);\n-    this.setVerboseLoggingState(previousVerboseLoggingState);\n-    if (status !== 0) {\n-      throw Error(\n-          `Unable to find the path to the base directory of the repository.\\n` +\n-          `Was the command run from inside of the repo?\\n\\n` +\n-          `ERROR:\\n ${stderr}`);\n-    }\n-    return stdout.trim();\n-  }\n-\n   /** Retrieve a list of all files in the repostitory changed since the provided shaOrRef. */\n   allChangesFilesSince(shaOrRef = 'HEAD'): string[] {\n     return Array.from(new Set(["
        }
    ],
    "stats": {
        "total": 47,
        "additions": 3,
        "deletions": 44
    }
}