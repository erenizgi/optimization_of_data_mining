{
    "author": "josephperrott",
    "message": "fix(dev-infra): use base ref name rather than sha for the githubTargetBranch (#41523)\n\nAfter updating to use the v4 graphql api in the merge tooling, the githubTargetBranch\nwas set to be the sha of the latest commit rather than the branch name of the target\nbranch.  This caused our tooling to mismatch which branches were actually being targeted\nwith the effect that if a PR targeted only the patch branch (i.e. labeled `target: patch`\nand targeting `11.2.x` in github)it would still expect to merge into both `11.2.x` and\n`master`.  This is now corrected to once again use the branch name, restoring to the\nprevious functionality.\n\nPR Close #41523",
    "sha": "7a40d8cefd148845f4c0525e1adefe661b2682e5",
    "files": [
        {
            "sha": "1ce1b0340ec97e7b2a7b00643c7fdd25c488f404",
            "filename": "dev-infra/ng-dev.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7a40d8cefd148845f4c0525e1adefe661b2682e5/dev-infra%2Fng-dev.js",
            "raw_url": "https://github.com/angular/angular/raw/7a40d8cefd148845f4c0525e1adefe661b2682e5/dev-infra%2Fng-dev.js",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fng-dev.js?ref=7a40d8cefd148845f4c0525e1adefe661b2682e5",
            "patch": "@@ -3437,7 +3437,7 @@ function loadAndValidatePullRequest(_a, prNumber, ignoreNonFatalFailures) {\n                     if (state === 'PENDING' && !ignoreNonFatalFailures) {\n                         return [2 /*return*/, PullRequestFailure.pendingCiJobs()];\n                     }\n-                    githubTargetBranch = prData.baseRefOid;\n+                    githubTargetBranch = prData.baseRefName;\n                     requiredBaseSha = config.requiredBaseCommits && config.requiredBaseCommits[githubTargetBranch];\n                     needsCommitMessageFixup = !!config.commitMessageFixupLabel &&\n                         labels.some(function (name) { return matchesPattern(name, config.commitMessageFixupLabel); });\n@@ -3489,7 +3489,7 @@ var PR_SCHEMA$2 = {\n                 },\n             }],\n     }),\n-    baseRefOid: typedGraphqlify.types.string,\n+    baseRefName: typedGraphqlify.types.string,\n     title: typedGraphqlify.types.string,\n     labels: typedGraphqlify.params({ first: 100 }, {\n         nodes: [{"
        },
        {
            "sha": "c79435103d71ff3c052c4b61cc3cebfcb632dd41",
            "filename": "dev-infra/pr/merge/pull-request.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/angular/angular/blob/7a40d8cefd148845f4c0525e1adefe661b2682e5/dev-infra%2Fpr%2Fmerge%2Fpull-request.ts",
            "raw_url": "https://github.com/angular/angular/raw/7a40d8cefd148845f4c0525e1adefe661b2682e5/dev-infra%2Fpr%2Fmerge%2Fpull-request.ts",
            "contents_url": "https://api.github.com/repos/angular/angular/contents/dev-infra%2Fpr%2Fmerge%2Fpull-request.ts?ref=7a40d8cefd148845f4c0525e1adefe661b2682e5",
            "patch": "@@ -92,7 +92,7 @@ export async function loadAndValidatePullRequest(\n     return PullRequestFailure.pendingCiJobs();\n   }\n \n-  const githubTargetBranch = prData.baseRefOid;\n+  const githubTargetBranch = prData.baseRefName;\n   const requiredBaseSha =\n       config.requiredBaseCommits && config.requiredBaseCommits[githubTargetBranch];\n   const needsCommitMessageFixup = !!config.commitMessageFixupLabel &&\n@@ -145,7 +145,7 @@ const PR_SCHEMA = {\n       },\n     }],\n   }),\n-  baseRefOid: graphQLTypes.string,\n+  baseRefName: graphQLTypes.string,\n   title: graphQLTypes.string,\n   labels: params({first: 100}, {\n     nodes: [{"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}