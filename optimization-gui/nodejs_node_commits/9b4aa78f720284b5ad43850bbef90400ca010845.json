{
    "author": "BridgeAR",
    "message": "test: refactor assert test\n\nThis adds puctiations to the comments, uses a capital letters for\nthe first character, removes a few obsolete comments and switches\nto assert.ok when suitable.\n\nIt also moves all `assert.deepEqual()` and `assert.deepStrictEqual()`\ntests to the appropriate file.\n\nPR-URL: https://github.com/nodejs/node/pull/18610\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "9b4aa78f720284b5ad43850bbef90400ca010845",
    "files": [
        {
            "sha": "1fad9f40517bd55075e3d5a6f1ab9ef62b08c026",
            "filename": "test/parallel/test-assert-deep.js",
            "status": "modified",
            "additions": 298,
            "deletions": 1,
            "changes": 299,
            "blob_url": "https://github.com/nodejs/node/blob/9b4aa78f720284b5ad43850bbef90400ca010845/test%2Fparallel%2Ftest-assert-deep.js",
            "raw_url": "https://github.com/nodejs/node/raw/9b4aa78f720284b5ad43850bbef90400ca010845/test%2Fparallel%2Ftest-assert-deep.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert-deep.js?ref=9b4aa78f720284b5ad43850bbef90400ca010845",
            "patch": "@@ -1,7 +1,9 @@\n 'use strict';\n+\n const common = require('../common');\n const assert = require('assert');\n const util = require('util');\n+const { AssertionError } = assert;\n \n // Template tag function turning an error message into a RegExp\n // for assert.throws()\n@@ -25,7 +27,7 @@ function re(literals, ...values) {\n // That is why we discourage using deepEqual in our own tests.\n \n // Turn off no-restricted-properties because we are testing deepEqual!\n-/* eslint-disable no-restricted-properties */\n+/* eslint-disable no-restricted-properties, prefer-common-expectserror */\n \n const arr = new Uint8Array([120, 121, 122, 10]);\n const buf = Buffer.from(arr);\n@@ -545,4 +547,299 @@ assertDeepAndStrictEqual(-0, -0);\n   assertDeepAndStrictEqual(a, b);\n }\n \n+assert.doesNotThrow(\n+  () => assert.deepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14)),\n+  'deepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))');\n+\n+assert.throws(() => assert.deepEqual(new Date(), new Date(2000, 3, 14)),\n+              AssertionError,\n+              'deepEqual(new Date(), new Date(2000, 3, 14))');\n+\n+assert.throws(\n+  () => assert.notDeepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14)),\n+  AssertionError,\n+  'notDeepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n+);\n+\n+assert.doesNotThrow(\n+  () => assert.notDeepEqual(new Date(), new Date(2000, 3, 14)),\n+  'notDeepEqual(new Date(), new Date(2000, 3, 14))'\n+);\n+\n+assert.doesNotThrow(() => assert.deepEqual(/a/, /a/));\n+assert.doesNotThrow(() => assert.deepEqual(/a/g, /a/g));\n+assert.doesNotThrow(() => assert.deepEqual(/a/i, /a/i));\n+assert.doesNotThrow(() => assert.deepEqual(/a/m, /a/m));\n+assert.doesNotThrow(() => assert.deepEqual(/a/igm, /a/igm));\n+assert.throws(() => assert.deepEqual(/ab/, /a/),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '/ab/ deepEqual /a/'\n+              });\n+assert.throws(() => assert.deepEqual(/a/g, /a/),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '/a/g deepEqual /a/'\n+              });\n+assert.throws(() => assert.deepEqual(/a/i, /a/),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '/a/i deepEqual /a/'\n+              });\n+assert.throws(() => assert.deepEqual(/a/m, /a/),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '/a/m deepEqual /a/'\n+              });\n+assert.throws(() => assert.deepEqual(/a/igm, /a/im),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '/a/gim deepEqual /a/im'\n+              });\n+\n+{\n+  const re1 = /a/g;\n+  re1.lastIndex = 3;\n+  assert.doesNotThrow(() => assert.deepEqual(re1, /a/g));\n+}\n+\n+assert.doesNotThrow(() => assert.deepEqual(4, '4'), 'deepEqual(4, \\'4\\')');\n+assert.doesNotThrow(() => assert.deepEqual(true, 1), 'deepEqual(true, 1)');\n+assert.throws(() => assert.deepEqual(4, '5'),\n+              AssertionError,\n+              'deepEqual( 4, \\'5\\')');\n+\n+// Having the same number of owned properties && the same set of keys.\n+assert.doesNotThrow(() => assert.deepEqual({ a: 4 }, { a: 4 }));\n+assert.doesNotThrow(() => assert.deepEqual({ a: 4, b: '2' }, { a: 4, b: '2' }));\n+assert.doesNotThrow(() => assert.deepEqual([4], ['4']));\n+assert.throws(\n+  () => assert.deepEqual({ a: 4 }, { a: 4, b: true }), AssertionError);\n+assert.doesNotThrow(() => assert.deepEqual(['a'], { 0: 'a' }));\n+assert.doesNotThrow(() => assert.deepEqual({ a: 4, b: '1' }, { b: '1', a: 4 }));\n+const a1 = [1, 2, 3];\n+const a2 = [1, 2, 3];\n+a1.a = 'test';\n+a1.b = true;\n+a2.b = true;\n+a2.a = 'test';\n+assert.throws(() => assert.deepEqual(Object.keys(a1), Object.keys(a2)),\n+              AssertionError);\n+assert.doesNotThrow(() => assert.deepEqual(a1, a2));\n+\n+// Having an identical prototype property.\n+const nbRoot = {\n+  toString() { return `${this.first} ${this.last}`; }\n+};\n+\n+function nameBuilder(first, last) {\n+  this.first = first;\n+  this.last = last;\n+  return this;\n+}\n+nameBuilder.prototype = nbRoot;\n+\n+function nameBuilder2(first, last) {\n+  this.first = first;\n+  this.last = last;\n+  return this;\n+}\n+nameBuilder2.prototype = nbRoot;\n+\n+const nb1 = new nameBuilder('Ryan', 'Dahl');\n+let nb2 = new nameBuilder2('Ryan', 'Dahl');\n+\n+assert.doesNotThrow(() => assert.deepEqual(nb1, nb2));\n+\n+nameBuilder2.prototype = Object;\n+nb2 = new nameBuilder2('Ryan', 'Dahl');\n+assert.doesNotThrow(() => assert.deepEqual(nb1, nb2));\n+\n+// Primitives and object.\n+assert.throws(() => assert.deepEqual(null, {}), AssertionError);\n+assert.throws(() => assert.deepEqual(undefined, {}), AssertionError);\n+assert.throws(() => assert.deepEqual('a', ['a']), AssertionError);\n+assert.throws(() => assert.deepEqual('a', { 0: 'a' }), AssertionError);\n+assert.throws(() => assert.deepEqual(1, {}), AssertionError);\n+assert.throws(() => assert.deepEqual(true, {}), AssertionError);\n+assert.throws(() => assert.deepEqual(Symbol(), {}), AssertionError);\n+\n+// Primitive wrappers and object.\n+assert.doesNotThrow(() => assert.deepEqual(new String('a'), ['a']),\n+                    AssertionError);\n+assert.doesNotThrow(() => assert.deepEqual(new String('a'), { 0: 'a' }),\n+                    AssertionError);\n+assert.doesNotThrow(() => assert.deepEqual(new Number(1), {}), AssertionError);\n+assert.doesNotThrow(() => assert.deepEqual(new Boolean(true), {}),\n+                    AssertionError);\n+\n+// Same number of keys but different key names.\n+assert.throws(() => assert.deepEqual({ a: 1 }, { b: 1 }), AssertionError);\n+\n+assert.doesNotThrow(\n+  () => assert.deepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14)),\n+  'deepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n+);\n+\n+assert.throws(\n+  () => assert.deepStrictEqual(new Date(), new Date(2000, 3, 14)),\n+  AssertionError,\n+  'deepStrictEqual(new Date(), new Date(2000, 3, 14))'\n+);\n+\n+assert.throws(\n+  () => assert.notDeepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14)),\n+  AssertionError,\n+  'notDeepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n+);\n+\n+assert.doesNotThrow(\n+  () => assert.notDeepStrictEqual(new Date(), new Date(2000, 3, 14)),\n+  'notDeepStrictEqual(new Date(), new Date(2000, 3, 14))'\n+);\n+\n+assert.doesNotThrow(() => assert.deepStrictEqual(/a/, /a/));\n+assert.doesNotThrow(() => assert.deepStrictEqual(/a/g, /a/g));\n+assert.doesNotThrow(() => assert.deepStrictEqual(/a/i, /a/i));\n+assert.doesNotThrow(() => assert.deepStrictEqual(/a/m, /a/m));\n+assert.doesNotThrow(() => assert.deepStrictEqual(/a/igm, /a/igm));\n+assert.throws(\n+  () => assert.deepStrictEqual(/ab/, /a/),\n+  {\n+    code: 'ERR_ASSERTION',\n+    name: 'AssertionError [ERR_ASSERTION]',\n+    message: '/ab/ deepStrictEqual /a/'\n+  });\n+assert.throws(\n+  () => assert.deepStrictEqual(/a/g, /a/),\n+  {\n+    code: 'ERR_ASSERTION',\n+    name: 'AssertionError [ERR_ASSERTION]',\n+    message: '/a/g deepStrictEqual /a/'\n+  });\n+assert.throws(\n+  () => assert.deepStrictEqual(/a/i, /a/),\n+  {\n+    code: 'ERR_ASSERTION',\n+    name: 'AssertionError [ERR_ASSERTION]',\n+    message: '/a/i deepStrictEqual /a/'\n+  });\n+assert.throws(\n+  () => assert.deepStrictEqual(/a/m, /a/),\n+  {\n+    code: 'ERR_ASSERTION',\n+    name: 'AssertionError [ERR_ASSERTION]',\n+    message: '/a/m deepStrictEqual /a/'\n+  });\n+assert.throws(\n+  () => assert.deepStrictEqual(/a/igm, /a/im),\n+  {\n+    code: 'ERR_ASSERTION',\n+    name: 'AssertionError [ERR_ASSERTION]',\n+    message: '/a/gim deepStrictEqual /a/im'\n+  });\n+\n+{\n+  const re1 = /a/;\n+  re1.lastIndex = 3;\n+  assert.doesNotThrow(() => assert.deepStrictEqual(re1, /a/));\n+}\n+\n+assert.throws(() => assert.deepStrictEqual(4, '4'),\n+              AssertionError,\n+              'deepStrictEqual(4, \\'4\\')');\n+\n+assert.throws(() => assert.deepStrictEqual(true, 1),\n+              AssertionError,\n+              'deepStrictEqual(true, 1)');\n+\n+assert.throws(() => assert.deepStrictEqual(4, '5'),\n+              AssertionError,\n+              'deepStrictEqual(4, \\'5\\')');\n+\n+// Having the same number of owned properties && the same set of keys.\n+assert.doesNotThrow(() => assert.deepStrictEqual({ a: 4 }, { a: 4 }));\n+assert.doesNotThrow(\n+  () => assert.deepStrictEqual({ a: 4, b: '2' }, { a: 4, b: '2' }));\n+assert.throws(() => assert.deepStrictEqual([4], ['4']),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: \"[ 4 ] deepStrictEqual [ '4' ]\"\n+              });\n+assert.throws(() => assert.deepStrictEqual({ a: 4 }, { a: 4, b: true }),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: '{ a: 4 } deepStrictEqual { a: 4, b: true }'\n+              });\n+assert.throws(() => assert.deepStrictEqual(['a'], { 0: 'a' }),\n+              {\n+                code: 'ERR_ASSERTION',\n+                name: 'AssertionError [ERR_ASSERTION]',\n+                message: \"[ 'a' ] deepStrictEqual { '0': 'a' }\"\n+              });\n+\n /* eslint-enable */\n+\n+assert.doesNotThrow(\n+  () => assert.deepStrictEqual({ a: 4, b: '1' }, { b: '1', a: 4 }));\n+\n+assert.throws(\n+  () => assert.deepStrictEqual([0, 1, 2, 'a', 'b'], [0, 1, 2, 'b', 'a']),\n+  AssertionError);\n+\n+assert.doesNotThrow(() => assert.deepStrictEqual(a1, a2));\n+\n+// Prototype check.\n+function Constructor1(first, last) {\n+  this.first = first;\n+  this.last = last;\n+}\n+\n+function Constructor2(first, last) {\n+  this.first = first;\n+  this.last = last;\n+}\n+\n+const obj1 = new Constructor1('Ryan', 'Dahl');\n+let obj2 = new Constructor2('Ryan', 'Dahl');\n+\n+assert.throws(() => assert.deepStrictEqual(obj1, obj2), AssertionError);\n+\n+Constructor2.prototype = Constructor1.prototype;\n+obj2 = new Constructor2('Ryan', 'Dahl');\n+\n+assert.doesNotThrow(() => assert.deepStrictEqual(obj1, obj2));\n+\n+// primitives\n+assert.throws(() => assert.deepStrictEqual(4, '4'), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(true, 1), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(Symbol(), Symbol()),\n+              AssertionError);\n+\n+const s = Symbol();\n+assert.doesNotThrow(() => assert.deepStrictEqual(s, s));\n+\n+// Primitives and object.\n+assert.throws(() => assert.deepStrictEqual(null, {}), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(undefined, {}), AssertionError);\n+assert.throws(() => assert.deepStrictEqual('a', ['a']), AssertionError);\n+assert.throws(() => assert.deepStrictEqual('a', { 0: 'a' }), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(1, {}), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(true, {}), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(Symbol(), {}), AssertionError);\n+\n+// Primitive wrappers and object.\n+assert.throws(() => assert.deepStrictEqual(new String('a'), ['a']),\n+              AssertionError);\n+assert.throws(() => assert.deepStrictEqual(new String('a'), { 0: 'a' }),\n+              AssertionError);\n+assert.throws(() => assert.deepStrictEqual(new Number(1), {}), AssertionError);\n+assert.throws(() => assert.deepStrictEqual(new Boolean(true), {}),\n+              AssertionError);"
        },
        {
            "sha": "869011908c30a60167e73190aa4725fda86c472e",
            "filename": "test/parallel/test-assert.js",
            "status": "modified",
            "additions": 51,
            "deletions": 385,
            "changes": 436,
            "blob_url": "https://github.com/nodejs/node/blob/9b4aa78f720284b5ad43850bbef90400ca010845/test%2Fparallel%2Ftest-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/9b4aa78f720284b5ad43850bbef90400ca010845/test%2Fparallel%2Ftest-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert.js?ref=9b4aa78f720284b5ad43850bbef90400ca010845",
            "patch": "@@ -33,432 +33,104 @@ const { errorCache } = require('internal/errors');\n const { writeFileSync, unlinkSync } = require('fs');\n const a = assert;\n \n-function makeBlock(f) {\n-  const args = Array.prototype.slice.call(arguments, 1);\n-  return () => {\n-    return f.apply(null, args);\n-  };\n-}\n-\n assert.ok(a.AssertionError.prototype instanceof Error,\n           'a.AssertionError instanceof Error');\n \n-assert.throws(makeBlock(a, false), a.AssertionError, 'ok(false)');\n+assert.throws(() => a(false), a.AssertionError, 'ok(false)');\n \n-assert.doesNotThrow(makeBlock(a, true), a.AssertionError, 'ok(true)');\n+assert.doesNotThrow(() => a(true), a.AssertionError, 'ok(true)');\n \n-assert.doesNotThrow(makeBlock(a, 'test', 'ok(\\'test\\')'));\n+assert.doesNotThrow(() => a('test', 'ok(\\'test\\')'));\n \n-assert.throws(makeBlock(a.ok, false),\n-              a.AssertionError, 'ok(false)');\n+assert.throws(() => a.ok(false), a.AssertionError, 'ok(false)');\n \n-assert.doesNotThrow(makeBlock(a.ok, true),\n-                    a.AssertionError, 'ok(true)');\n+assert.doesNotThrow(() => a.ok(true), a.AssertionError, 'ok(true)');\n \n-assert.doesNotThrow(makeBlock(a.ok, 'test'), 'ok(\\'test\\')');\n+assert.doesNotThrow(() => a.ok('test'), 'ok(\\'test\\')');\n \n-assert.throws(makeBlock(a.equal, true, false),\n+assert.throws(() => a.equal(true, false),\n               a.AssertionError, 'equal(true, false)');\n \n-assert.doesNotThrow(makeBlock(a.equal, null, null),\n-                    'equal(null, null)');\n+assert.doesNotThrow(() => a.equal(null, null), 'equal(null, null)');\n \n-assert.doesNotThrow(makeBlock(a.equal, undefined, undefined),\n+assert.doesNotThrow(() => a.equal(undefined, undefined),\n                     'equal(undefined, undefined)');\n \n-assert.doesNotThrow(makeBlock(a.equal, null, undefined),\n-                    'equal(null, undefined)');\n+assert.doesNotThrow(() => a.equal(null, undefined), 'equal(null, undefined)');\n \n-assert.doesNotThrow(makeBlock(a.equal, true, true), 'equal(true, true)');\n+assert.doesNotThrow(() => a.equal(true, true), 'equal(true, true)');\n \n-assert.doesNotThrow(makeBlock(a.equal, 2, '2'), 'equal(2, \\'2\\')');\n+assert.doesNotThrow(() => a.equal(2, '2'), 'equal(2, \\'2\\')');\n \n-assert.doesNotThrow(makeBlock(a.notEqual, true, false),\n-                    'notEqual(true, false)');\n+assert.doesNotThrow(() => a.notEqual(true, false), 'notEqual(true, false)');\n \n-assert.throws(makeBlock(a.notEqual, true, true),\n+assert.throws(() => a.notEqual(true, true),\n               a.AssertionError, 'notEqual(true, true)');\n \n-assert.throws(makeBlock(a.strictEqual, 2, '2'),\n+assert.throws(() => a.strictEqual(2, '2'),\n               a.AssertionError, 'strictEqual(2, \\'2\\')');\n \n-assert.throws(makeBlock(a.strictEqual, null, undefined),\n+assert.throws(() => a.strictEqual(null, undefined),\n               a.AssertionError, 'strictEqual(null, undefined)');\n \n-assert.throws(makeBlock(a.notStrictEqual, 2, 2),\n+assert.throws(() => a.notStrictEqual(2, 2),\n               a.AssertionError, 'notStrictEqual(2, 2)');\n \n-assert.doesNotThrow(makeBlock(a.notStrictEqual, 2, '2'),\n-                    'notStrictEqual(2, \\'2\\')');\n-\n-// deepEqual joy!\n-assert.doesNotThrow(makeBlock(a.deepEqual, new Date(2000, 3, 14),\n-                              new Date(2000, 3, 14)),\n-                    'deepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))');\n-\n-assert.throws(makeBlock(a.deepEqual, new Date(), new Date(2000, 3, 14)),\n-              a.AssertionError,\n-              'deepEqual(new Date(), new Date(2000, 3, 14))');\n-\n-assert.throws(\n-  makeBlock(a.notDeepEqual, new Date(2000, 3, 14), new Date(2000, 3, 14)),\n-  a.AssertionError,\n-  'notDeepEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n-);\n-\n-assert.doesNotThrow(makeBlock(\n-  a.notDeepEqual,\n-  new Date(),\n-  new Date(2000, 3, 14)),\n-                    'notDeepEqual(new Date(), new Date(2000, 3, 14))'\n-);\n-\n-assert.doesNotThrow(makeBlock(a.deepEqual, /a/, /a/));\n-assert.doesNotThrow(makeBlock(a.deepEqual, /a/g, /a/g));\n-assert.doesNotThrow(makeBlock(a.deepEqual, /a/i, /a/i));\n-assert.doesNotThrow(makeBlock(a.deepEqual, /a/m, /a/m));\n-assert.doesNotThrow(makeBlock(a.deepEqual, /a/igm, /a/igm));\n-assert.throws(makeBlock(a.deepEqual, /ab/, /a/),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\/ab\\/ deepEqual \\/a\\/$/\n-              }));\n-assert.throws(makeBlock(a.deepEqual, /a/g, /a/),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\/a\\/g deepEqual \\/a\\/$/\n-              }));\n-assert.throws(makeBlock(a.deepEqual, /a/i, /a/),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\/a\\/i deepEqual \\/a\\/$/\n-              }));\n-assert.throws(makeBlock(a.deepEqual, /a/m, /a/),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\/a\\/m deepEqual \\/a\\/$/\n-              }));\n-assert.throws(makeBlock(a.deepEqual, /a/igm, /a/im),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\/a\\/gim deepEqual \\/a\\/im$/\n-              }));\n-\n-{\n-  const re1 = /a/g;\n-  re1.lastIndex = 3;\n-  assert.doesNotThrow(makeBlock(a.deepEqual, re1, /a/g));\n-}\n-\n-assert.doesNotThrow(makeBlock(a.deepEqual, 4, '4'), 'deepEqual(4, \\'4\\')');\n-assert.doesNotThrow(makeBlock(a.deepEqual, true, 1), 'deepEqual(true, 1)');\n-assert.throws(makeBlock(a.deepEqual, 4, '5'),\n-              a.AssertionError,\n-              'deepEqual( 4, \\'5\\')');\n-\n-// having the same number of owned properties && the same set of keys\n-assert.doesNotThrow(makeBlock(a.deepEqual, { a: 4 }, { a: 4 }));\n-assert.doesNotThrow(makeBlock(a.deepEqual, { a: 4, b: '2' }, { a: 4, b: '2' }));\n-assert.doesNotThrow(makeBlock(a.deepEqual, [4], ['4']));\n-assert.throws(makeBlock(a.deepEqual, { a: 4 }, { a: 4, b: true }),\n-              a.AssertionError);\n-assert.doesNotThrow(makeBlock(a.deepEqual, ['a'], { 0: 'a' }));\n-//(although not necessarily the same order),\n-assert.doesNotThrow(makeBlock(a.deepEqual, { a: 4, b: '1' }, { b: '1', a: 4 }));\n-const a1 = [1, 2, 3];\n-const a2 = [1, 2, 3];\n-a1.a = 'test';\n-a1.b = true;\n-a2.b = true;\n-a2.a = 'test';\n-assert.throws(makeBlock(a.deepEqual, Object.keys(a1), Object.keys(a2)),\n-              a.AssertionError);\n-assert.doesNotThrow(makeBlock(a.deepEqual, a1, a2));\n-\n-// having an identical prototype property\n-const nbRoot = {\n-  toString() { return `${this.first} ${this.last}`; }\n-};\n-\n-function nameBuilder(first, last) {\n-  this.first = first;\n-  this.last = last;\n-  return this;\n-}\n-nameBuilder.prototype = nbRoot;\n-\n-function nameBuilder2(first, last) {\n-  this.first = first;\n-  this.last = last;\n-  return this;\n-}\n-nameBuilder2.prototype = nbRoot;\n-\n-const nb1 = new nameBuilder('Ryan', 'Dahl');\n-let nb2 = new nameBuilder2('Ryan', 'Dahl');\n-\n-assert.doesNotThrow(makeBlock(a.deepEqual, nb1, nb2));\n-\n-nameBuilder2.prototype = Object;\n-nb2 = new nameBuilder2('Ryan', 'Dahl');\n-assert.doesNotThrow(makeBlock(a.deepEqual, nb1, nb2));\n-\n-// primitives and object\n-assert.throws(makeBlock(a.deepEqual, null, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, undefined, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, 'a', ['a']), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, 'a', { 0: 'a' }), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, 1, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, true, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepEqual, Symbol(), {}), a.AssertionError);\n-\n-// primitive wrappers and object\n-assert.doesNotThrow(makeBlock(a.deepEqual, new String('a'), ['a']),\n-                    a.AssertionError);\n-assert.doesNotThrow(makeBlock(a.deepEqual, new String('a'), { 0: 'a' }),\n-                    a.AssertionError);\n-assert.doesNotThrow(makeBlock(a.deepEqual, new Number(1), {}),\n-                    a.AssertionError);\n-assert.doesNotThrow(makeBlock(a.deepEqual, new Boolean(true), {}),\n-                    a.AssertionError);\n-\n-// same number of keys but different key names\n-assert.throws(makeBlock(a.deepEqual, { a: 1 }, { b: 1 }), a.AssertionError);\n-\n-//deepStrictEqual\n-assert.doesNotThrow(\n-  makeBlock(a.deepStrictEqual, new Date(2000, 3, 14), new Date(2000, 3, 14)),\n-  'deepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n-);\n-\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, new Date(), new Date(2000, 3, 14)),\n-  a.AssertionError,\n-  'deepStrictEqual(new Date(), new Date(2000, 3, 14))'\n-);\n-\n-assert.throws(\n-  makeBlock(a.notDeepStrictEqual, new Date(2000, 3, 14), new Date(2000, 3, 14)),\n-  a.AssertionError,\n-  'notDeepStrictEqual(new Date(2000, 3, 14), new Date(2000, 3, 14))'\n-);\n-\n-assert.doesNotThrow(\n-  makeBlock(a.notDeepStrictEqual, new Date(), new Date(2000, 3, 14)),\n-  'notDeepStrictEqual(new Date(), new Date(2000, 3, 14))'\n-);\n-\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, /a/, /a/));\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, /a/g, /a/g));\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, /a/i, /a/i));\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, /a/m, /a/m));\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, /a/igm, /a/igm));\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, /ab/, /a/),\n-  common.expectsError({\n-    code: 'ERR_ASSERTION',\n-    type: a.AssertionError,\n-    message: /^\\/ab\\/ deepStrictEqual \\/a\\/$/\n-  }));\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, /a/g, /a/),\n-  common.expectsError({\n-    code: 'ERR_ASSERTION',\n-    type: a.AssertionError,\n-    message: /^\\/a\\/g deepStrictEqual \\/a\\/$/\n-  }));\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, /a/i, /a/),\n-  common.expectsError({\n-    code: 'ERR_ASSERTION',\n-    type: a.AssertionError,\n-    message: /^\\/a\\/i deepStrictEqual \\/a\\/$/\n-  }));\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, /a/m, /a/),\n-  common.expectsError({\n-    code: 'ERR_ASSERTION',\n-    type: a.AssertionError,\n-    message: /^\\/a\\/m deepStrictEqual \\/a\\/$/\n-  }));\n-assert.throws(\n-  makeBlock(a.deepStrictEqual, /a/igm, /a/im),\n-  common.expectsError({\n-    code: 'ERR_ASSERTION',\n-    type: a.AssertionError,\n-    message: /^\\/a\\/gim deepStrictEqual \\/a\\/im$/\n-  }));\n-\n-{\n-  const re1 = /a/;\n-  re1.lastIndex = 3;\n-  assert.doesNotThrow(makeBlock(a.deepStrictEqual, re1, /a/));\n-}\n-\n-assert.throws(makeBlock(a.deepStrictEqual, 4, '4'),\n-              a.AssertionError,\n-              'deepStrictEqual(4, \\'4\\')');\n-\n-assert.throws(makeBlock(a.deepStrictEqual, true, 1),\n-              a.AssertionError,\n-              'deepStrictEqual(true, 1)');\n-\n-assert.throws(makeBlock(a.deepStrictEqual, 4, '5'),\n-              a.AssertionError,\n-              'deepStrictEqual(4, \\'5\\')');\n-\n-// having the same number of owned properties && the same set of keys\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, { a: 4 }, { a: 4 }));\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual,\n-                              { a: 4, b: '2' },\n-                              { a: 4, b: '2' }));\n-assert.throws(makeBlock(a.deepStrictEqual, [4], ['4']),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\[ 4 ] deepStrictEqual \\[ '4' ]$/\n-              }));\n-assert.throws(makeBlock(a.deepStrictEqual, { a: 4 }, { a: 4, b: true }),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^{ a: 4 } deepStrictEqual { a: 4, b: true }$/\n-              }));\n-assert.throws(makeBlock(a.deepStrictEqual, ['a'], { 0: 'a' }),\n-              common.expectsError({\n-                code: 'ERR_ASSERTION',\n-                type: a.AssertionError,\n-                message: /^\\[ 'a' ] deepStrictEqual { '0': 'a' }$/\n-              }));\n-//(although not necessarily the same order),\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual,\n-                              { a: 4, b: '1' },\n-                              { b: '1', a: 4 }));\n-\n-assert.throws(makeBlock(a.deepStrictEqual,\n-                        [0, 1, 2, 'a', 'b'],\n-                        [0, 1, 2, 'b', 'a']),\n-              a.AssertionError);\n-\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, a1, a2));\n-\n-// Prototype check\n-function Constructor1(first, last) {\n-  this.first = first;\n-  this.last = last;\n-}\n-\n-function Constructor2(first, last) {\n-  this.first = first;\n-  this.last = last;\n-}\n-\n-const obj1 = new Constructor1('Ryan', 'Dahl');\n-let obj2 = new Constructor2('Ryan', 'Dahl');\n-\n-assert.throws(makeBlock(a.deepStrictEqual, obj1, obj2), a.AssertionError);\n-\n-Constructor2.prototype = Constructor1.prototype;\n-obj2 = new Constructor2('Ryan', 'Dahl');\n-\n-assert.doesNotThrow(makeBlock(a.deepStrictEqual, obj1, obj2));\n-\n-// primitives\n-assert.throws(makeBlock(assert.deepStrictEqual, 4, '4'),\n-              a.AssertionError);\n-assert.throws(makeBlock(assert.deepStrictEqual, true, 1),\n-              a.AssertionError);\n-assert.throws(makeBlock(assert.deepStrictEqual, Symbol(), Symbol()),\n-              a.AssertionError);\n-\n-const s = Symbol();\n-assert.doesNotThrow(makeBlock(assert.deepStrictEqual, s, s));\n-\n+assert.doesNotThrow(() => a.notStrictEqual(2, '2'), 'notStrictEqual(2, \\'2\\')');\n \n-// primitives and object\n-assert.throws(makeBlock(a.deepStrictEqual, null, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, undefined, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, 'a', ['a']), a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, 'a', { 0: 'a' }), a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, 1, {}), a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, true, {}), a.AssertionError);\n-assert.throws(makeBlock(assert.deepStrictEqual, Symbol(), {}),\n-              a.AssertionError);\n-\n-\n-// primitive wrappers and object\n-assert.throws(makeBlock(a.deepStrictEqual, new String('a'), ['a']),\n-              a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, new String('a'), { 0: 'a' }),\n-              a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, new Number(1), {}),\n-              a.AssertionError);\n-assert.throws(makeBlock(a.deepStrictEqual, new Boolean(true), {}),\n-              a.AssertionError);\n-\n-\n-// Testing the throwing\n+// Testing the throwing.\n function thrower(errorConstructor) {\n   throw new errorConstructor({});\n }\n \n-// the basic calls work\n-assert.throws(makeBlock(thrower, a.AssertionError),\n-              a.AssertionError, 'message');\n-assert.throws(makeBlock(thrower, a.AssertionError), a.AssertionError);\n+// The basic calls work.\n+assert.throws(() => thrower(a.AssertionError), a.AssertionError, 'message');\n+assert.throws(() => thrower(a.AssertionError), a.AssertionError);\n // eslint-disable-next-line no-restricted-syntax\n-assert.throws(makeBlock(thrower, a.AssertionError));\n+assert.throws(() => thrower(a.AssertionError));\n \n-// if not passing an error, catch all.\n+// If not passing an error, catch all.\n // eslint-disable-next-line no-restricted-syntax\n-assert.throws(makeBlock(thrower, TypeError));\n+assert.throws(() => thrower(TypeError));\n \n-// when passing a type, only catch errors of the appropriate type\n+// When passing a type, only catch errors of the appropriate type.\n {\n   let threw = false;\n   try {\n-    a.throws(makeBlock(thrower, TypeError), a.AssertionError);\n+    a.throws(() => thrower(TypeError), a.AssertionError);\n   } catch (e) {\n     threw = true;\n     assert.ok(e instanceof TypeError, 'type');\n   }\n-  assert.strictEqual(true, threw,\n-                     'a.throws with an explicit error is eating extra errors');\n+  assert.ok(threw, 'a.throws with an explicit error is eating extra errors');\n }\n \n-// doesNotThrow should pass through all errors\n+// doesNotThrow should pass through all errors.\n {\n   let threw = false;\n   try {\n-    a.doesNotThrow(makeBlock(thrower, TypeError), a.AssertionError);\n+    a.doesNotThrow(() => thrower(TypeError), a.AssertionError);\n   } catch (e) {\n     threw = true;\n     assert.ok(e instanceof TypeError);\n   }\n-  assert.strictEqual(true, threw, 'a.doesNotThrow with an explicit error is ' +\n-                     'eating extra errors');\n+  assert(threw, 'a.doesNotThrow with an explicit error is eating extra errors');\n }\n \n-// key difference is that throwing our correct error makes an assertion error\n+// Key difference is that throwing our correct error makes an assertion error.\n {\n   let threw = false;\n   try {\n-    a.doesNotThrow(makeBlock(thrower, TypeError), TypeError);\n+    a.doesNotThrow(() => thrower(TypeError), TypeError);\n   } catch (e) {\n     threw = true;\n     assert.ok(e instanceof a.AssertionError);\n   }\n-  assert.strictEqual(true, threw,\n-                     'a.doesNotThrow is not catching type matching errors');\n+  assert.ok(threw, 'a.doesNotThrow is not catching type matching errors');\n }\n \n common.expectsError(\n-  () => assert.doesNotThrow(makeBlock(thrower, Error), 'user message'),\n+  () => assert.doesNotThrow(() => thrower(Error), 'user message'),\n   {\n     type: a.AssertionError,\n     code: 'ERR_ASSERTION',\n@@ -468,22 +140,22 @@ common.expectsError(\n );\n \n common.expectsError(\n-  () => assert.doesNotThrow(makeBlock(thrower, Error), 'user message'),\n+  () => assert.doesNotThrow(() => thrower(Error), 'user message'),\n   {\n     code: 'ERR_ASSERTION',\n     message: /Got unwanted exception: user message\\n\\[object Object\\]/\n   }\n );\n \n common.expectsError(\n-  () => assert.doesNotThrow(makeBlock(thrower, Error)),\n+  () => assert.doesNotThrow(() => thrower(Error)),\n   {\n     code: 'ERR_ASSERTION',\n     message: /Got unwanted exception\\.\\n\\[object Object\\]/\n   }\n );\n \n-// make sure that validating using constructor really works\n+// Make sure that validating using constructor really works.\n {\n   let threw = false;\n   try {\n@@ -499,11 +171,11 @@ common.expectsError(\n   assert.ok(threw, 'wrong constructor validation');\n }\n \n-// use a RegExp to validate error message\n-a.throws(makeBlock(thrower, TypeError), /\\[object Object\\]/);\n+// Use a RegExp to validate the error message.\n+a.throws(() => thrower(TypeError), /\\[object Object\\]/);\n \n-// use a fn to validate error object\n-a.throws(makeBlock(thrower, TypeError), (err) => {\n+// Use a fn to validate the error object.\n+a.throws(() => thrower(TypeError), (err) => {\n   if ((err instanceof TypeError) && /\\[object Object\\]/.test(err)) {\n     return true;\n   }\n@@ -512,18 +184,12 @@ a.throws(makeBlock(thrower, TypeError), (err) => {\n // https://github.com/nodejs/node/issues/3188\n {\n   let threw = false;\n-\n   let AnotherErrorType;\n   try {\n     const ES6Error = class extends Error {};\n-\n     AnotherErrorType = class extends Error {};\n \n-    const functionThatThrows = () => {\n-      throw new AnotherErrorType('foo');\n-    };\n-\n-    assert.throws(functionThatThrows, ES6Error);\n+    assert.throws(() => { throw new AnotherErrorType('foo'); }, ES6Error);\n   } catch (e) {\n     threw = true;\n     assert(e instanceof AnotherErrorType,\n@@ -533,7 +199,7 @@ a.throws(makeBlock(thrower, TypeError), (err) => {\n   assert.ok(threw);\n }\n \n-// check messages from assert.throws()\n+// Check messages from assert.throws().\n {\n   const noop = () => {};\n   assert.throws(\n@@ -622,7 +288,7 @@ try {\n   let threw = false;\n   const rangeError = new RangeError('my range');\n \n-  // verify custom errors\n+  // Verify custom errors.\n   try {\n     assert.strictEqual(1, 2, rangeError);\n   } catch (e) {\n@@ -633,7 +299,7 @@ try {\n   assert.ok(threw);\n   threw = false;\n \n-  // verify AssertionError is the result from doesNotThrow with custom Error\n+  // Verify AssertionError is the result from doesNotThrow with custom Error.\n   try {\n     assert.doesNotThrow(() => {\n       throw new TypeError('wrong type');\n@@ -648,7 +314,7 @@ try {\n }\n \n {\n-  // Verify that throws() and doesNotThrow() throw on non-function block\n+  // Verify that throws() and doesNotThrow() throw on non-function block.\n   function typeName(value) {\n     return value === null ? 'null' : typeof value;\n   }\n@@ -699,7 +365,7 @@ assert.throws(() => {\n }));\n \n {\n-  // bad args to AssertionError constructor should throw TypeError\n+  // Bad args to AssertionError constructor should throw TypeError.\n   const args = [1, true, false, '', null, Infinity, Symbol('test'), undefined];\n   const re = /^The \"options\" argument must be of type Object$/;\n   args.forEach((input) => {\n@@ -722,7 +388,7 @@ common.expectsError(\n   }\n );\n \n-// Test strict assert\n+// Test strict assert.\n {\n   const a = require('assert');\n   const assert = require('assert').strict;\n@@ -771,7 +437,7 @@ common.expectsError(\n   );\n   Error.stackTraceLimit = tmpLimit;\n \n-  // Test error diffs\n+  // Test error diffs.\n   const colors = process.stdout.isTTY && process.stdout.getColorDepth() > 1;\n   const start = 'Input A expected to deepStrictEqual input B:';\n   const actExp = colors ?\n@@ -936,7 +602,7 @@ common.expectsError(\n );\n \n {\n-  // Test caching\n+  // Test caching.\n   const fs = process.binding('fs');\n   const tmp = fs.close;\n   fs.close = common.mustCall(tmp, 1);"
        }
    ],
    "stats": {
        "total": 735,
        "additions": 349,
        "deletions": 386
    }
}