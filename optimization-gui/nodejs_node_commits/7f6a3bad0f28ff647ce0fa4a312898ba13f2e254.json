{
    "author": "gillesdemey",
    "message": "test: adds tests for vm invalid arguments\n\nPR-URL: https://github.com/nodejs/node/pull/18282\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "7f6a3bad0f28ff647ce0fa4a312898ba13f2e254",
    "files": [
        {
            "sha": "3a74cb38d2640200643ee4895e450f36f6500069",
            "filename": "test/parallel/test-vm-basic.js",
            "status": "modified",
            "additions": 54,
            "deletions": 1,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/7f6a3bad0f28ff647ce0fa4a312898ba13f2e254/test%2Fparallel%2Ftest-vm-basic.js",
            "raw_url": "https://github.com/nodejs/node/raw/7f6a3bad0f28ff647ce0fa4a312898ba13f2e254/test%2Fparallel%2Ftest-vm-basic.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-vm-basic.js?ref=7f6a3bad0f28ff647ce0fa4a312898ba13f2e254",
            "patch": "@@ -20,7 +20,7 @@\n // USE OR OTHER DEALINGS IN THE SOFTWARE.\n \n 'use strict';\n-require('../common');\n+const common = require('../common');\n const assert = require('assert');\n const vm = require('vm');\n \n@@ -69,3 +69,56 @@ assert.strictEqual(result, 'undefined');\n const sandbox3 = {};\n const context2 = vm.createContext(sandbox3);\n assert.strictEqual(sandbox3, context2);\n+\n+// Test 6: invalid arguments\n+common.expectsError(() => {\n+  vm.createContext({}, null);\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options\" argument must be of type object. Received type null'\n+});\n+\n+common.expectsError(() => {\n+  vm.createContext({}, 'string');\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options\" argument must be of type object. Received type string'\n+});\n+\n+common.expectsError(() => {\n+  vm.createContext({}, { name: null });\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options.name\" property must be of type string. ' +\n+           'Received type null'\n+});\n+\n+common.expectsError(() => {\n+  vm.createContext({}, { origin: null });\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options.origin\" property must be of type string. ' +\n+           'Received type null'\n+});\n+\n+common.expectsError(() => {\n+  vm.runInNewContext('', {}, { contextName: null });\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options.contextName\" property must be of type string. ' +\n+           'Received type null'\n+});\n+\n+common.expectsError(() => {\n+  vm.runInNewContext('', {}, { contextOrigin: null });\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError,\n+  message: 'The \"options.contextOrigin\" property must be of type string. ' +\n+           'Received type null'\n+});"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 54,
        "deletions": 1
    }
}