{
    "author": "joyeecheung",
    "message": "src: throw ERR_BUFFER_OUT_OF_BOUNDS in node_buffer.cc\n\nPR-URL: https://github.com/nodejs/node/pull/20121\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "8b1b36bfc5914c9f481c3d450209c7d9231f94c9",
    "files": [
        {
            "sha": "b00886f5e680ba416b561e2d6884ab6f5f814d17",
            "filename": "src/node_buffer.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/8b1b36bfc5914c9f481c3d450209c7d9231f94c9/src%2Fnode_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8b1b36bfc5914c9f481c3d450209c7d9231f94c9/src%2Fnode_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_buffer.cc?ref=8b1b36bfc5914c9f481c3d450209c7d9231f94c9",
            "patch": "@@ -668,8 +668,10 @@ void StringWrite(const FunctionCallbackInfo<Value>& args) {\n   size_t max_length;\n \n   THROW_AND_RETURN_IF_OOB(ParseArrayIndex(args[1], 0, &offset));\n-  if (offset > ts_obj_length)\n-    return env->ThrowRangeError(\"Offset is out of bounds\");\n+  if (offset > ts_obj_length) {\n+    return node::THROW_ERR_BUFFER_OUT_OF_BOUNDS(\n+        env, \"\\\"offset\\\" is outside of buffer bounds\");\n+  }\n \n   THROW_AND_RETURN_IF_OOB(ParseArrayIndex(args[2], ts_obj_length - offset,\n                                           &max_length));"
        },
        {
            "sha": "fadbdbe37408b15a86899aba5298cd3f2e6c52c7",
            "filename": "src/node_errors.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/8b1b36bfc5914c9f481c3d450209c7d9231f94c9/src%2Fnode_errors.h",
            "raw_url": "https://github.com/nodejs/node/raw/8b1b36bfc5914c9f481c3d450209c7d9231f94c9/src%2Fnode_errors.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_errors.h?ref=8b1b36bfc5914c9f481c3d450209c7d9231f94c9",
            "patch": "@@ -17,6 +17,7 @@ namespace node {\n // a `Local<Value>` containing the TypeError with proper code and message\n \n #define ERRORS_WITH_CODE(V)                                                  \\\n+  V(ERR_BUFFER_OUT_OF_BOUNDS, RangeError)                                    \\\n   V(ERR_INDEX_OUT_OF_RANGE, RangeError)                                      \\\n   V(ERR_INVALID_ARG_TYPE, TypeError)                                         \\\n   V(ERR_MEMORY_ALLOCATION_FAILED, Error)                                     \\"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}