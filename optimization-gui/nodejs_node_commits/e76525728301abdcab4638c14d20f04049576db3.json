{
    "author": "addaleax",
    "message": "zlib,stream: use “official” util.types typechecks\n\nThe old variants have been deprecated since b20af8088a4d5cccb19.\n\nRefs: https://github.com/nodejs/node/pull/18415\n\nPR-URL: https://github.com/nodejs/node/pull/19602\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "e76525728301abdcab4638c14d20f04049576db3",
    "files": [
        {
            "sha": "ba056026d8b20b1a8a34ce5876b324dd23313108",
            "filename": "lib/stream.js",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/e76525728301abdcab4638c14d20f04049576db3/lib%2Fstream.js",
            "raw_url": "https://github.com/nodejs/node/raw/e76525728301abdcab4638c14d20f04049576db3/lib%2Fstream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fstream.js?ref=e76525728301abdcab4638c14d20f04049576db3",
            "patch": "@@ -38,16 +38,15 @@ Stream.Stream = Stream;\n \n // Internal utilities\n try {\n-  Stream._isUint8Array = require('internal/util/types').isUint8Array;\n-} catch (e) {\n-  // Throws for code outside of Node.js core.\n-\n-  try {\n-    Stream._isUint8Array = process.binding('util').isUint8Array;\n-  } catch (e) {\n+  const types = require('util').types;\n+  if (types && typeof types.isUint8Array === 'function') {\n+    Stream._isUint8Array = types.isUint8Array;\n+  } else {\n     // This throws for Node < 4.2.0 because there's no util binding and\n     // returns undefined for Node < 7.4.0.\n+    Stream._isUint8Array = process.binding('util').isUint8Array;\n   }\n+} catch (e) {\n }\n \n if (!Stream._isUint8Array) {"
        },
        {
            "sha": "01a2ebe9335badff9721e0dfb857732a14f1daf1",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/e76525728301abdcab4638c14d20f04049576db3/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/e76525728301abdcab4638c14d20f04049576db3/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=e76525728301abdcab4638c14d20f04049576db3",
            "patch": "@@ -28,9 +28,13 @@ const {\n   ERR_ZLIB_INITIALIZATION_FAILED\n } = require('internal/errors').codes;\n const Transform = require('_stream_transform');\n-const { _extend } = require('util');\n-const { isAnyArrayBuffer } = process.binding('util');\n-const { isArrayBufferView } = require('internal/util/types');\n+const {\n+  _extend,\n+  types: {\n+    isAnyArrayBuffer,\n+    isArrayBufferView\n+  }\n+} = require('util');\n const binding = process.binding('zlib');\n const assert = require('assert').ok;\n const {"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 13,
        "deletions": 10
    }
}