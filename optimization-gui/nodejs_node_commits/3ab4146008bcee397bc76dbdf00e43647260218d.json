{
    "author": "addaleax",
    "message": "deps: cherry-pick b0af309 from upstream V8\n\nOriginal commit message:\n\n    [api] Remove deprecated wasm methods\n\n    These methods were deprecated in 7.0, now we can remove them.\n\n    R=adamk@chromium.org\n\n    Bug: v8:7868\n    Cq-Include-Trybots: luci.chromium.try:linux_chromium_rel_ng\n    Change-Id: I60badb378a055152bdd27aed67d11ddf74fce174\n    Reviewed-on: https://chromium-review.googlesource.com/1209283\n    Reviewed-by: Adam Klein <adamk@chromium.org>\n    Commit-Queue: Clemens Hammacher <clemensh@chromium.org>\n    Cr-Commit-Position: refs/heads/master@{#55695}\n\nRefs: https://github.com/v8/v8/commit/b0af30948505b68c843b538e109ab378d3750e37\n\nPR-URL: https://github.com/nodejs/node/pull/23415\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "3ab4146008bcee397bc76dbdf00e43647260218d",
    "files": [
        {
            "sha": "50f69563be6d93a61c9c7360434a374ccb024d6c",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/3ab4146008bcee397bc76dbdf00e43647260218d/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/3ab4146008bcee397bc76dbdf00e43647260218d/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=3ab4146008bcee397bc76dbdf00e43647260218d",
            "patch": "@@ -33,7 +33,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.4',\n+    'v8_embedder_string': '-node.5',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "6c3cc84fba718e5c5d30c9644efcd7dc2f5a3864",
            "filename": "deps/v8/include/v8.h",
            "status": "modified",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/3ab4146008bcee397bc76dbdf00e43647260218d/deps%2Fv8%2Finclude%2Fv8.h",
            "raw_url": "https://github.com/nodejs/node/raw/3ab4146008bcee397bc76dbdf00e43647260218d/deps%2Fv8%2Finclude%2Fv8.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Fv8.h?ref=3ab4146008bcee397bc76dbdf00e43647260218d",
            "patch": "@@ -4362,13 +4362,6 @@ class V8_EXPORT WasmCompiledModule : public Object {\n  public:\n   typedef std::pair<std::unique_ptr<const uint8_t[]>, size_t> SerializedModule;\n \n-// The COMMA macro allows us to use ',' inside of the V8_DEPRECATED macro.\n-#define COMMA ,\n-  V8_DEPRECATED(\n-      \"Use BufferReference.\",\n-      typedef std::pair<const uint8_t * COMMA size_t> CallerOwnedBuffer);\n-#undef COMMA\n-\n   /**\n    * A unowned reference to a byte buffer.\n    */\n@@ -4377,12 +4370,6 @@ class V8_EXPORT WasmCompiledModule : public Object {\n     size_t size;\n     BufferReference(const uint8_t* start, size_t size)\n         : start(start), size(size) {}\n-    // Temporarily allow conversion to and from CallerOwnedBuffer.\n-    V8_DEPRECATED(\n-        \"Use BufferReference directly.\",\n-        inline BufferReference(CallerOwnedBuffer));  // NOLINT(runtime/explicit)\n-    V8_DEPRECATED(\"Use BufferReference directly.\",\n-                      inline operator CallerOwnedBuffer());\n   };\n \n   /**\n@@ -4429,8 +4416,6 @@ class V8_EXPORT WasmCompiledModule : public Object {\n    * Get the wasm-encoded bytes that were used to compile this module.\n    */\n   BufferReference GetWasmWireBytesRef();\n-  V8_DEPRECATED(\"Use GetWasmWireBytesRef version.\",\n-                    Local<String> GetWasmWireBytes());\n \n   /**\n    * Serialize the compiled module. The serialized data does not include the\n@@ -4463,15 +4448,6 @@ class V8_EXPORT WasmCompiledModule : public Object {\n   static void CheckCast(Value* obj);\n };\n \n-// TODO(clemensh): Remove after M70 branch.\n-WasmCompiledModule::BufferReference::BufferReference(\n-    WasmCompiledModule::CallerOwnedBuffer buf)\n-    : BufferReference(buf.first, buf.second) {}\n-WasmCompiledModule::BufferReference::\n-operator WasmCompiledModule::CallerOwnedBuffer() {\n-  return {start, size};\n-}\n-\n /**\n  * The V8 interface for WebAssembly streaming compilation. When streaming\n  * compilation is initiated, V8 passes a {WasmStreaming} object to the embedder"
        },
        {
            "sha": "fbd947b92301e3360e612084b41dc7c1da632d32",
            "filename": "deps/v8/src/api.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/3ab4146008bcee397bc76dbdf00e43647260218d/deps%2Fv8%2Fsrc%2Fapi.cc",
            "raw_url": "https://github.com/nodejs/node/raw/3ab4146008bcee397bc76dbdf00e43647260218d/deps%2Fv8%2Fsrc%2Fapi.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fapi.cc?ref=3ab4146008bcee397bc76dbdf00e43647260218d",
            "patch": "@@ -7382,14 +7382,6 @@ WasmCompiledModule::BufferReference WasmCompiledModule::GetWasmWireBytesRef() {\n   return {bytes_vec.start(), bytes_vec.size()};\n }\n \n-Local<String> WasmCompiledModule::GetWasmWireBytes() {\n-  BufferReference ref = GetWasmWireBytesRef();\n-  CHECK_LE(ref.size, String::kMaxLength);\n-  return String::NewFromOneByte(GetIsolate(), ref.start, NewStringType::kNormal,\n-                                static_cast<int>(ref.size))\n-      .ToLocalChecked();\n-}\n-\n WasmCompiledModule::TransferrableModule\n WasmCompiledModule::GetTransferrableModule() {\n   if (i::FLAG_wasm_shared_code) {"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 1,
        "deletions": 33
    }
}