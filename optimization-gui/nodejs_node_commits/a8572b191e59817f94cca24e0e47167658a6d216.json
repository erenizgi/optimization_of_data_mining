{
    "author": "addaleax",
    "message": "src: use default parameters for CreateIsolateData\n\nPR-URL: https://github.com/nodejs/node/pull/22465\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>",
    "sha": "a8572b191e59817f94cca24e0e47167658a6d216",
    "files": [
        {
            "sha": "565c965cf9fae66f2be04b03c63da80d575e897a",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 14,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/a8572b191e59817f94cca24e0e47167658a6d216/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a8572b191e59817f94cca24e0e47167658a6d216/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=a8572b191e59817f94cca24e0e47167658a6d216",
            "patch": "@@ -3069,25 +3069,16 @@ void FreeArrayBufferAllocator(ArrayBufferAllocator* allocator) {\n }\n \n \n-IsolateData* CreateIsolateData(Isolate* isolate, uv_loop_t* loop) {\n-  return new IsolateData(isolate, loop, nullptr);\n-}\n-\n-\n-IsolateData* CreateIsolateData(\n-    Isolate* isolate,\n-    uv_loop_t* loop,\n-    MultiIsolatePlatform* platform) {\n-  return new IsolateData(isolate, loop, platform);\n-}\n-\n-\n IsolateData* CreateIsolateData(\n     Isolate* isolate,\n     uv_loop_t* loop,\n     MultiIsolatePlatform* platform,\n     ArrayBufferAllocator* allocator) {\n-  return new IsolateData(isolate, loop, platform, allocator->zero_fill_field());\n+  return new IsolateData(\n+        isolate,\n+        loop,\n+        platform,\n+        allocator != nullptr ? allocator->zero_fill_field() : nullptr);\n }\n \n "
        },
        {
            "sha": "74403a6e48d3b801b878194152b1caf9c1b521e0",
            "filename": "src/node.h",
            "status": "modified",
            "additions": 2,
            "deletions": 10,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/a8572b191e59817f94cca24e0e47167658a6d216/src%2Fnode.h",
            "raw_url": "https://github.com/nodejs/node/raw/a8572b191e59817f94cca24e0e47167658a6d216/src%2Fnode.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.h?ref=a8572b191e59817f94cca24e0e47167658a6d216",
            "patch": "@@ -257,19 +257,11 @@ NODE_EXTERN v8::Local<v8::Context> NewContext(\n // If `platform` is passed, it will be used to register new Worker instances.\n // It can be `nullptr`, in which case creating new Workers inside of\n // Environments that use this `IsolateData` will not work.\n-// TODO(helloshuangzi): switch to default parameters.\n-NODE_EXTERN IsolateData* CreateIsolateData(\n-    v8::Isolate* isolate,\n-    struct uv_loop_s* loop);\n-NODE_EXTERN IsolateData* CreateIsolateData(\n-    v8::Isolate* isolate,\n-    struct uv_loop_s* loop,\n-    MultiIsolatePlatform* platform);\n NODE_EXTERN IsolateData* CreateIsolateData(\n     v8::Isolate* isolate,\n     struct uv_loop_s* loop,\n-    MultiIsolatePlatform* platform,\n-    ArrayBufferAllocator* allocator);\n+    MultiIsolatePlatform* platform = nullptr,\n+    ArrayBufferAllocator* allocator = nullptr);\n NODE_EXTERN void FreeIsolateData(IsolateData* isolate_data);\n \n // TODO(addaleax): Add an official variant using STL containers, and move"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 7,
        "deletions": 24
    }
}