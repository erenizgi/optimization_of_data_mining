{
    "author": "BridgeAR",
    "message": "Revert \"lib: repl multiline history support\"\n\nThis reverts commit dd7a3d246ded89cd0c910231c9adec279e72f9a9.\n\nPR-URL: https://github.com/nodejs/node/pull/24804\nRefs: https://github.com/nodejs/node/issues/24231\nReviewed-By: Anto Aravinth <anto.aravinth.cse@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "b1ada6c9def47a8ca90b0ea79419d3a704d1aa80",
    "files": [
        {
            "sha": "5d47c51b993bbed9a40d4df2ccf465b2b08fa006",
            "filename": "lib/readline.js",
            "status": "modified",
            "additions": 0,
            "deletions": 25,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/lib%2Freadline.js",
            "raw_url": "https://github.com/nodejs/node/raw/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/lib%2Freadline.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Freadline.js?ref=b1ada6c9def47a8ca90b0ea79419d3a704d1aa80",
            "patch": "@@ -225,7 +225,6 @@ function Interface(input, output, completer, terminal) {\n \n     // Current line\n     this.line = '';\n-    this.multiline = '';\n \n     this._setRawMode(true);\n     this.terminal = true;\n@@ -337,7 +336,6 @@ Interface.prototype._addHistory = function() {\n       if (dupIndex !== -1) this.history.splice(dupIndex, 1);\n     }\n \n-    this.multiline += this.line;\n     this.history.unshift(this.line);\n \n     // Only store so many\n@@ -348,29 +346,6 @@ Interface.prototype._addHistory = function() {\n   return this.history[0];\n };\n \n-// Called when a multiline is seen by the repl\n-Interface.prototype.undoHistory = function() {\n-  if (this.terminal) {\n-    this.history.shift();\n-  }\n-};\n-\n-// If it's a multiline code, then add history\n-// accordingly.\n-Interface.prototype.multilineHistory = function() {\n-  // check if we got a multiline code\n-  if (this.multiline !== '' && this.terminal) {\n-    const dupIndex = this.history.indexOf(this.multiline);\n-    if (dupIndex !== -1) this.history.splice(dupIndex, 1);\n-    // Remove the last entered line as multiline\n-    // already contains them.\n-    this.history.shift();\n-    this.history.unshift(this.multiline);\n-  }\n-\n-  // clear the multiline buffer\n-  this.multiline = '';\n-};\n \n Interface.prototype._refreshLine = function() {\n   // line length"
        },
        {
            "sha": "dd675fc435dcd8e2d8bd181a3913af53d07ea42b",
            "filename": "lib/repl.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/lib%2Frepl.js",
            "raw_url": "https://github.com/nodejs/node/raw/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/lib%2Frepl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Frepl.js?ref=b1ada6c9def47a8ca90b0ea79419d3a704d1aa80",
            "patch": "@@ -774,7 +774,6 @@ exports.start = function(prompt,\n \n REPLServer.prototype.clearBufferedCommand = function clearBufferedCommand() {\n   this[kBufferedCommandSymbol] = '';\n-  REPLServer.super_.prototype.multilineHistory.call(this);\n };\n \n REPLServer.prototype.close = function close() {\n@@ -889,7 +888,6 @@ REPLServer.prototype.displayPrompt = function(preserveCursor) {\n     const len = this.lines.level.length ? this.lines.level.length - 1 : 0;\n     const levelInd = '..'.repeat(len);\n     prompt += levelInd + ' ';\n-    Interface.prototype.undoHistory.call(this);\n   }\n \n   // Do not overwrite `_initialPrompt` here"
        },
        {
            "sha": "bb10085eccfcf6fd812b8de5eb8fa3a1db481ed1",
            "filename": "test/parallel/test-repl-persistent-history.js",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/test%2Fparallel%2Ftest-repl-persistent-history.js",
            "raw_url": "https://github.com/nodejs/node/raw/b1ada6c9def47a8ca90b0ea79419d3a704d1aa80/test%2Fparallel%2Ftest-repl-persistent-history.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-repl-persistent-history.js?ref=b1ada6c9def47a8ca90b0ea79419d3a704d1aa80",
            "patch": "@@ -111,13 +111,6 @@ const tests = [\n     test: [UP],\n     expected: [prompt, replFailedRead, prompt, replDisabled, prompt]\n   },\n-  { // Tests multiline history\n-    env: {},\n-    test: ['{', '}', UP, CLEAR],\n-    expected: [prompt, '{', '... ', '}', '{}\\n',\n-               prompt, `${prompt}{}`, prompt],\n-    clean: false\n-  },\n   {\n     before: function before() {\n       if (common.isWindows) {"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 0,
        "deletions": 34
    }
}