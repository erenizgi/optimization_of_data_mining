{
    "author": "danbev",
    "message": "Revert \"build: extract common code from NODE_EXE/_G_EXE\"\n\nThis reverts commit 4e2fa8b0dc1acd95f558cd5f123711b9cc936c72.\n\nRefs: https://github.com/nodejs/node/issues/22457\n\nPR-URL: https://github.com/nodejs/node/pull/22458\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "9d9f691d26eda845ebf09f18985502e4f8b5b571",
    "files": [
        {
            "sha": "3ca83bfed85ead088bd66568556d543c6a8d4602",
            "filename": "Makefile",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/9d9f691d26eda845ebf09f18985502e4f8b5b571/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/9d9f691d26eda845ebf09f18985502e4f8b5b571/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=9d9f691d26eda845ebf09f18985502e4f8b5b571",
            "patch": "@@ -90,20 +90,18 @@ help: ## Print help for targets with comments.\n # to check for changes.\n .PHONY: $(NODE_EXE) $(NODE_G_EXE)\n \n-define build_node_exe\n-$(MAKE) -C out BUILDTYPE=$1 V=$(V)\n # The -r/-L check stops it recreating the link if it is already in place,\n # otherwise $(NODE_EXE) being a .PHONY target means it is always re-run.\n # Without the check there is a race condition between the link being deleted\n # and recreated which can break the addons build when running test-ci\n # See comments on the build-addons target for some more info\n-if [ ! -r $@ -o ! -L $@ ]; then ln -fs out/$1/$(NODE_EXE) $@; fi\n-endef\n $(NODE_EXE): config.gypi out/Makefile\n-\t@$(call build_node_exe,\"Release\")\n+\t$(MAKE) -C out BUILDTYPE=Release V=$(V)\n+\tif [ ! -r $@ -o ! -L $@ ]; then ln -fs out/Release/$(NODE_EXE) $@; fi\n \n $(NODE_G_EXE): config.gypi out/Makefile\n-\t@$(call build_node_exe,\"Debug\")\n+\t$(MAKE) -C out BUILDTYPE=Debug V=$(V)\n+\tif [ ! -r $@ -o ! -L $@ ]; then ln -fs out/Debug/$(NODE_EXE) $@; fi\n \n CODE_CACHE_DIR ?= out/$(BUILDTYPE)/obj/gen\n CODE_CACHE_FILE ?= $(CODE_CACHE_DIR)/node_code_cache.cc"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 4,
        "deletions": 6
    }
}