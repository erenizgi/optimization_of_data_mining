{
    "author": "cjihrig",
    "message": "dgram: hide _healthCheck() and _stopReceiving()\n\nThese methods are private APIs of dgram sockets, but do not\nneed to be exposed via the Socket prototype.\n\nPR-URL: https://github.com/nodejs/node/pull/21923\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Wyatt Preul <wpreul@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "d497ebbf9c7b5b66d355e9645b0ab0b2c61527b2",
    "files": [
        {
            "sha": "dc664ca2c42820452896370e5b2313d9bb23f783",
            "filename": "lib/dgram.js",
            "status": "modified",
            "additions": 17,
            "deletions": 17,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/d497ebbf9c7b5b66d355e9645b0ab0b2c61527b2/lib%2Fdgram.js",
            "raw_url": "https://github.com/nodejs/node/raw/d497ebbf9c7b5b66d355e9645b0ab0b2c61527b2/lib%2Fdgram.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdgram.js?ref=d497ebbf9c7b5b66d355e9645b0ab0b2c61527b2",
            "patch": "@@ -199,7 +199,7 @@ function bufferSize(self, size, buffer) {\n Socket.prototype.bind = function(port_, address_ /* , callback */) {\n   let port = port_;\n \n-  this._healthCheck();\n+  healthCheck(this);\n \n   if (this._bindState !== BIND_STATE_UNBOUND)\n     throw new ERR_SOCKET_ALREADY_BOUND();\n@@ -444,7 +444,7 @@ Socket.prototype.send = function(buffer,\n     throw new ERR_INVALID_ARG_TYPE('address', ['string', 'falsy'], address);\n   }\n \n-  this._healthCheck();\n+  healthCheck(this);\n \n   if (this._bindState === BIND_STATE_UNBOUND)\n     this.bind({ port: 0, exclusive: true }, null);\n@@ -525,8 +525,8 @@ Socket.prototype.close = function(callback) {\n     return this;\n   }\n \n-  this._healthCheck();\n-  this._stopReceiving();\n+  healthCheck(this);\n+  stopReceiving(this);\n   this._handle.close();\n   this._handle = null;\n   defaultTriggerAsyncIdScope(this[async_id_symbol],\n@@ -544,7 +544,7 @@ function socketCloseNT(self) {\n \n \n Socket.prototype.address = function() {\n-  this._healthCheck();\n+  healthCheck(this);\n \n   var out = {};\n   var err = this._handle.getsockname(out);\n@@ -603,7 +603,7 @@ Socket.prototype.setMulticastLoopback = function(arg) {\n \n \n Socket.prototype.setMulticastInterface = function(interfaceAddress) {\n-  this._healthCheck();\n+  healthCheck(this);\n \n   if (typeof interfaceAddress !== 'string') {\n     throw new ERR_INVALID_ARG_TYPE(\n@@ -618,7 +618,7 @@ Socket.prototype.setMulticastInterface = function(interfaceAddress) {\n \n Socket.prototype.addMembership = function(multicastAddress,\n                                           interfaceAddress) {\n-  this._healthCheck();\n+  healthCheck(this);\n \n   if (!multicastAddress) {\n     throw new ERR_MISSING_ARGS('multicastAddress');\n@@ -633,7 +633,7 @@ Socket.prototype.addMembership = function(multicastAddress,\n \n Socket.prototype.dropMembership = function(multicastAddress,\n                                            interfaceAddress) {\n-  this._healthCheck();\n+  healthCheck(this);\n \n   if (!multicastAddress) {\n     throw new ERR_MISSING_ARGS('multicastAddress');\n@@ -646,22 +646,22 @@ Socket.prototype.dropMembership = function(multicastAddress,\n };\n \n \n-Socket.prototype._healthCheck = function() {\n-  if (!this._handle) {\n+function healthCheck(socket) {\n+  if (!socket._handle) {\n     // Error message from dgram_legacy.js.\n     throw new ERR_SOCKET_DGRAM_NOT_RUNNING();\n   }\n-};\n+}\n \n \n-Socket.prototype._stopReceiving = function() {\n-  if (!this._receiving)\n+function stopReceiving(socket) {\n+  if (!socket._receiving)\n     return;\n \n-  this._handle.recvStop();\n-  this._receiving = false;\n-  this.fd = null; // compatibility hack\n-};\n+  socket._handle.recvStop();\n+  socket._receiving = false;\n+  socket.fd = null; // compatibility hack\n+}\n \n \n function onMessage(nread, handle, buf, rinfo) {"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 17,
        "deletions": 17
    }
}