{
    "author": "danbev",
    "message": "test: remove NodeTestFixture from Env constructor\n\nPR-URL: https://github.com/nodejs/node/pull/18558\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>",
    "sha": "ca473be461b87a9a6a020d9b78225139251c54c4",
    "files": [
        {
            "sha": "660111c5a90c6fbf51e10b69fa1c2fbe234e0670",
            "filename": "test/cctest/node_test_fixture.h",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Fnode_test_fixture.h",
            "raw_url": "https://github.com/nodejs/node/raw/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Fnode_test_fixture.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Fnode_test_fixture.h?ref=ca473be461b87a9a6a020d9b78225139251c54c4",
            "patch": "@@ -100,9 +100,7 @@ class EnvironmentTestFixture : public NodeTestFixture {\n  public:\n   class Env {\n    public:\n-    Env(const v8::HandleScope& handle_scope,\n-        const Argv& argv,\n-        NodeTestFixture* test_fixture) {\n+    Env(const v8::HandleScope& handle_scope, const Argv& argv) {\n       auto isolate = handle_scope.GetIsolate();\n       context_ = node::NewContext(isolate);\n       CHECK(!context_.IsEmpty());"
        },
        {
            "sha": "4575d3b65ae3189ae55c9b8ccfd8d70bb88bca11",
            "filename": "test/cctest/test_environment.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Ftest_environment.cc",
            "raw_url": "https://github.com/nodejs/node/raw/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Ftest_environment.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Ftest_environment.cc?ref=ca473be461b87a9a6a020d9b78225139251c54c4",
            "patch": "@@ -32,7 +32,7 @@ class EnvironmentTest : public EnvironmentTestFixture {\n TEST_F(EnvironmentTest, AtExitWithEnvironment) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env {handle_scope, argv, this};\n+  Env env {handle_scope, argv};\n \n   AtExit(*env, at_exit_callback1);\n   RunAtExit(*env);\n@@ -42,7 +42,7 @@ TEST_F(EnvironmentTest, AtExitWithEnvironment) {\n TEST_F(EnvironmentTest, AtExitWithArgument) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env {handle_scope, argv, this};\n+  Env env {handle_scope, argv};\n \n   std::string arg{\"some args\"};\n   AtExit(*env, at_exit_callback1, static_cast<void*>(&arg));\n@@ -53,8 +53,8 @@ TEST_F(EnvironmentTest, AtExitWithArgument) {\n TEST_F(EnvironmentTest, MultipleEnvironmentsPerIsolate) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env1 {handle_scope, argv, this};\n-  Env env2 {handle_scope, argv, this};\n+  Env env1 {handle_scope, argv};\n+  Env env2 {handle_scope, argv};\n \n   AtExit(*env1, at_exit_callback1);\n   AtExit(*env2, at_exit_callback2);"
        },
        {
            "sha": "be5cc7ce8ad2c5f2b78e9eb9151f9a751f1b7d73",
            "filename": "test/cctest/test_node_postmortem_metadata.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Ftest_node_postmortem_metadata.cc",
            "raw_url": "https://github.com/nodejs/node/raw/ca473be461b87a9a6a020d9b78225139251c54c4/test%2Fcctest%2Ftest_node_postmortem_metadata.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Ftest_node_postmortem_metadata.cc?ref=ca473be461b87a9a6a020d9b78225139251c54c4",
            "patch": "@@ -50,7 +50,7 @@ TEST_F(DebugSymbolsTest, ExternalStringDataOffset) {\n TEST_F(DebugSymbolsTest, BaseObjectPersistentHandle) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env{handle_scope, argv, this};\n+  Env env{handle_scope, argv};\n \n   v8::Local<v8::Object> object = v8::Object::New(isolate_);\n   node::BaseObject obj(*env, object);\n@@ -67,7 +67,7 @@ TEST_F(DebugSymbolsTest, BaseObjectPersistentHandle) {\n TEST_F(DebugSymbolsTest, EnvironmentHandleWrapQueue) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env{handle_scope, argv, this};\n+  Env env{handle_scope, argv};\n \n   auto expected = reinterpret_cast<uintptr_t>((*env)->handle_wrap_queue());\n   auto calculated = reinterpret_cast<uintptr_t>(*env) +\n@@ -78,7 +78,7 @@ TEST_F(DebugSymbolsTest, EnvironmentHandleWrapQueue) {\n TEST_F(DebugSymbolsTest, EnvironmentReqWrapQueue) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env{handle_scope, argv, this};\n+  Env env{handle_scope, argv};\n \n   auto expected = reinterpret_cast<uintptr_t>((*env)->req_wrap_queue());\n   auto calculated = reinterpret_cast<uintptr_t>(*env) +\n@@ -89,7 +89,7 @@ TEST_F(DebugSymbolsTest, EnvironmentReqWrapQueue) {\n TEST_F(DebugSymbolsTest, HandleWrapList) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env{handle_scope, argv, this};\n+  Env env{handle_scope, argv};\n \n   uv_tcp_t handle;\n \n@@ -118,7 +118,7 @@ TEST_F(DebugSymbolsTest, HandleWrapList) {\n TEST_F(DebugSymbolsTest, ReqWrapList) {\n   const v8::HandleScope handle_scope(isolate_);\n   const Argv argv;\n-  Env env{handle_scope, argv, this};\n+  Env env{handle_scope, argv};\n \n   auto obj_template = v8::FunctionTemplate::New(isolate_);\n   obj_template->InstanceTemplate()->SetInternalFieldCount(1);"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 10,
        "deletions": 12
    }
}