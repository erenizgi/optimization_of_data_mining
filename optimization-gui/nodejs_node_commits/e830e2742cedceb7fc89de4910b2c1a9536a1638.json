{
    "author": "joyeecheung",
    "message": "src: move symbols binding into node_symbols.cc\n\nPR-URL: https://github.com/nodejs/node/pull/25163\nRefs: https://github.com/nodejs/node/issues/24961\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>",
    "sha": "e830e2742cedceb7fc89de4910b2c1a9536a1638",
    "files": [
        {
            "sha": "3621cc5e9d194a5dcf24d947884fb9bd84c6a8b7",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/e830e2742cedceb7fc89de4910b2c1a9536a1638/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/e830e2742cedceb7fc89de4910b2c1a9536a1638/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=e830e2742cedceb7fc89de4910b2c1a9536a1638",
            "patch": "@@ -371,6 +371,7 @@\n         'src/node_process.cc',\n         'src/node_serdes.cc',\n         'src/node_stat_watcher.cc',\n+        'src/node_symbols.cc',\n         'src/node_trace_events.cc',\n         'src/node_types.cc',\n         'src/node_url.cc',"
        },
        {
            "sha": "1d324a5c7659b620923da9febe3e97e645b9ded5",
            "filename": "src/bootstrapper.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/e830e2742cedceb7fc89de4910b2c1a9536a1638/src%2Fbootstrapper.cc",
            "raw_url": "https://github.com/nodejs/node/raw/e830e2742cedceb7fc89de4910b2c1a9536a1638/src%2Fbootstrapper.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fbootstrapper.cc?ref=e830e2742cedceb7fc89de4910b2c1a9536a1638",
            "patch": "@@ -135,22 +135,4 @@ void SetupBootstrapObject(Environment* env,\n }\n #undef BOOTSTRAP_METHOD\n \n-namespace symbols {\n-\n-void Initialize(Local<Object> target,\n-                Local<Value> unused,\n-                Local<Context> context,\n-                void* priv) {\n-  Environment* env = Environment::GetCurrent(context);\n-#define V(PropertyName, StringValue)                                        \\\n-    target->Set(env->context(),                                             \\\n-               env->PropertyName()->Name(),                                 \\\n-               env->PropertyName()).FromJust();\n-  PER_ISOLATE_SYMBOL_PROPERTIES(V)\n-#undef V\n-}\n-\n-}  // namespace symbols\n }  // namespace node\n-\n-NODE_MODULE_CONTEXT_AWARE_INTERNAL(symbols, node::symbols::Initialize)"
        },
        {
            "sha": "36289b9f4148aebf3b28ae9de39ba0b75ca9d757",
            "filename": "src/node_symbols.cc",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/e830e2742cedceb7fc89de4910b2c1a9536a1638/src%2Fnode_symbols.cc",
            "raw_url": "https://github.com/nodejs/node/raw/e830e2742cedceb7fc89de4910b2c1a9536a1638/src%2Fnode_symbols.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_symbols.cc?ref=e830e2742cedceb7fc89de4910b2c1a9536a1638",
            "patch": "@@ -0,0 +1,29 @@\n+#include \"env-inl.h\"\n+#include \"node_binding.h\"\n+\n+namespace node {\n+\n+using v8::Context;\n+using v8::Local;\n+using v8::Object;\n+using v8::Value;\n+\n+namespace symbols {\n+\n+static void Initialize(Local<Object> target,\n+                       Local<Value> unused,\n+                       Local<Context> context,\n+                       void* priv) {\n+  Environment* env = Environment::GetCurrent(context);\n+#define V(PropertyName, StringValue)                                           \\\n+  target                                                                       \\\n+      ->Set(env->context(), env->PropertyName()->Name(), env->PropertyName())  \\\n+      .FromJust();\n+  PER_ISOLATE_SYMBOL_PROPERTIES(V)\n+#undef V\n+}\n+\n+}  // namespace symbols\n+}  // namespace node\n+\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(symbols, node::symbols::Initialize)"
        }
    ],
    "stats": {
        "total": 48,
        "additions": 30,
        "deletions": 18
    }
}