{
    "author": "danbev",
    "message": "test: remove crypto.DEFAULT_ENCODING usage\n\nThis commit removes the usage of the deprectated\ncrypto.DEFAULT_ENCODING.\n\nPR-URL: https://github.com/nodejs/node/pull/20221\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "c521a20f43a12368625ce9bb42b67af1572a04b8",
    "files": [
        {
            "sha": "228e2cc8abdc8149dc1fbcea33723a35dfb40fed",
            "filename": "test/parallel/test-crypto-binary-default.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-binary-default.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-binary-default.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-binary-default.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -20,6 +20,8 @@\n // USE OR OTHER DEALINGS IN THE SOFTWARE.\n \n 'use strict';\n+// Flags: --expose-internals\n+\n // This is the same as test/simple/test-crypto, but from before the shift\n // to use buffers by default.\n \n@@ -36,7 +38,7 @@ const tls = require('tls');\n const fixtures = require('../common/fixtures');\n const DH_NOT_SUITABLE_GENERATOR = crypto.constants.DH_NOT_SUITABLE_GENERATOR;\n \n-crypto.DEFAULT_ENCODING = 'latin1';\n+require('internal/crypto/util').setDefaultEncoding('latin1');\n \n // Test Certificates\n const certPem = fixtures.readSync('test_cert.pem', 'ascii');"
        },
        {
            "sha": "acbfdf66cc78c442a7947ab08dd747b77b1b808c",
            "filename": "test/parallel/test-crypto-certificate.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-certificate.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-certificate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-certificate.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -29,8 +29,6 @@ const crypto = require('crypto');\n const { Certificate } = crypto;\n const fixtures = require('../common/fixtures');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n // Test Certificates\n const spkacValid = fixtures.readSync('spkac.valid');\n const spkacFail = fixtures.readSync('spkac.fail');"
        },
        {
            "sha": "c88ebaabb05e7f17ade9c42c129bcb2e938dbbd0",
            "filename": "test/parallel/test-crypto-ecb.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-ecb.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-ecb.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-ecb.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -30,8 +30,6 @@ if (common.hasFipsCrypto)\n const assert = require('assert');\n const crypto = require('crypto');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n // Testing whether EVP_CipherInit_ex is functioning correctly.\n // Reference: bug#1997\n "
        },
        {
            "sha": "d6c395f0a42d35f03ac0eedcda84c716d1353179",
            "filename": "test/parallel/test-crypto-padding-aes256.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-padding-aes256.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-padding-aes256.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-padding-aes256.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -27,8 +27,6 @@ if (!common.hasCrypto)\n const assert = require('assert');\n const crypto = require('crypto');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n const iv = Buffer.from('00000000000000000000000000000000', 'hex');\n const key = Buffer.from('0123456789abcdef0123456789abcdef' +\n                         '0123456789abcdef0123456789abcdef', 'hex');"
        },
        {
            "sha": "d4a5b95cec92421d38df69fa6f690d64e5aaa026",
            "filename": "test/parallel/test-crypto-padding.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-padding.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-padding.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-padding.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -27,8 +27,6 @@ if (!common.hasCrypto)\n const assert = require('assert');\n const crypto = require('crypto');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n // Input data.\n const ODD_LENGTH_PLAIN = 'Hello node world!';\n const EVEN_LENGTH_PLAIN = 'Hello node world!AbC09876dDeFgHi';"
        },
        {
            "sha": "f00e474b6f2798ff80eb8835776479cd4c74b9af",
            "filename": "test/parallel/test-crypto-random.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-random.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-random.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-random.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -32,8 +32,6 @@ const { kMaxLength } = require('buffer');\n const kMaxUint32 = Math.pow(2, 32) - 1;\n const kMaxPossibleLength = Math.min(kMaxLength, kMaxUint32);\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n // bump, we register a lot of exit listeners\n process.setMaxListeners(256);\n "
        },
        {
            "sha": "7e9fda9f6791f6e9912ea86e25d5bee67e1b60b1",
            "filename": "test/parallel/test-crypto-verify-failure.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-verify-failure.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto-verify-failure.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-verify-failure.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -29,8 +29,6 @@ const crypto = require('crypto');\n const tls = require('tls');\n const fixtures = require('../common/fixtures');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n const certPem = fixtures.readSync('test_cert.pem', 'ascii');\n \n const options = {"
        },
        {
            "sha": "9a93e8422fd0b45c05a406e03e79fec9fc5387c5",
            "filename": "test/parallel/test-crypto.js",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/c521a20f43a12368625ce9bb42b67af1572a04b8/test%2Fparallel%2Ftest-crypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto.js?ref=c521a20f43a12368625ce9bb42b67af1572a04b8",
            "patch": "@@ -30,8 +30,6 @@ const crypto = require('crypto');\n const tls = require('tls');\n const fixtures = require('../common/fixtures');\n \n-crypto.DEFAULT_ENCODING = 'buffer';\n-\n // Test Certificates\n const caPem = fixtures.readSync('test_ca.pem', 'ascii');\n const certPem = fixtures.readSync('test_cert.pem', 'ascii');"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 3,
        "deletions": 15
    }
}