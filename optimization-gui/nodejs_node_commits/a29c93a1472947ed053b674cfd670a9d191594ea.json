{
    "author": "joyeecheung",
    "message": "src: move the declaration of http parser versions into node_metadata.h\n\nInstead of putting them in node_internals.h.\n\nPR-URL: https://github.com/nodejs/node/pull/25115\nReviewed-By: Steven R Loomis <srloomis@us.ibm.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "a29c93a1472947ed053b674cfd670a9d191594ea",
    "files": [
        {
            "sha": "423fb5e104bc502795c99568f7701cc1a168ddde",
            "filename": "src/node_http_parser_llhttp.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_http_parser_llhttp.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_http_parser_llhttp.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_http_parser_llhttp.cc?ref=a29c93a1472947ed053b674cfd670a9d191594ea",
            "patch": "@@ -1,16 +1,18 @@\n #define NODE_EXPERIMENTAL_HTTP 1\n \n #include \"node_http_parser_impl.h\"\n+#include \"node_metadata.h\"\n \n namespace node {\n \n+namespace per_process {\n const char* const llhttp_version =\n     NODE_STRINGIFY(LLHTTP_VERSION_MAJOR)\n     \".\"\n     NODE_STRINGIFY(LLHTTP_VERSION_MINOR)\n     \".\"\n     NODE_STRINGIFY(LLHTTP_VERSION_PATCH);\n-\n+}  // namespace per_process\n }  // namespace node\n \n NODE_MODULE_CONTEXT_AWARE_INTERNAL(http_parser_llhttp,"
        },
        {
            "sha": "89ef65979ca78b3a33295345f1e58227abe82dde",
            "filename": "src/node_http_parser_traditional.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_http_parser_traditional.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_http_parser_traditional.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_http_parser_traditional.cc?ref=a29c93a1472947ed053b674cfd670a9d191594ea",
            "patch": "@@ -3,16 +3,17 @@\n #endif\n \n #include \"node_http_parser_impl.h\"\n+#include \"node_metadata.h\"\n \n namespace node {\n-\n+namespace per_process {\n const char* const http_parser_version =\n   NODE_STRINGIFY(HTTP_PARSER_VERSION_MAJOR)\n   \".\"\n   NODE_STRINGIFY(HTTP_PARSER_VERSION_MINOR)\n   \".\"\n   NODE_STRINGIFY(HTTP_PARSER_VERSION_PATCH);\n-\n+}  // namespace per_process\n }  // namespace node\n \n NODE_MODULE_CONTEXT_AWARE_INTERNAL(http_parser, node::InitializeHttpParser)"
        },
        {
            "sha": "03017fb4f5185ea0872e230a0d8484c2a1c2251f",
            "filename": "src/node_internals.h",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_internals.h",
            "raw_url": "https://github.com/nodejs/node/raw/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_internals.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_internals.h?ref=a29c93a1472947ed053b674cfd670a9d191594ea",
            "patch": "@@ -698,9 +698,6 @@ static inline const char* errno_string(int errorno) {\n \n extern double prog_start_time;\n \n-extern const char* const llhttp_version;\n-extern const char* const http_parser_version;\n-\n void Abort(const v8::FunctionCallbackInfo<v8::Value>& args);\n void Chdir(const v8::FunctionCallbackInfo<v8::Value>& args);\n void CPUUsage(const v8::FunctionCallbackInfo<v8::Value>& args);"
        },
        {
            "sha": "a67e747563a4f8ddacd23501fbf8ec5a88158d84",
            "filename": "src/node_metadata.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_metadata.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_metadata.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_metadata.cc?ref=a29c93a1472947ed053b674cfd670a9d191594ea",
            "patch": "@@ -2,7 +2,6 @@\n #include \"ares.h\"\n #include \"nghttp2/nghttp2ver.h\"\n #include \"node.h\"\n-#include \"node_internals.h\"\n #include \"util.h\"\n #include \"uv.h\"\n #include \"v8.h\"\n@@ -44,8 +43,8 @@ Metadata::Versions::Versions() {\n   modules = NODE_STRINGIFY(NODE_MODULE_VERSION);\n   nghttp2 = NGHTTP2_VERSION;\n   napi = NODE_STRINGIFY(NAPI_VERSION);\n-  llhttp = llhttp_version;\n-  http_parser = http_parser_version;\n+  llhttp = per_process::llhttp_version;\n+  http_parser = per_process::http_parser_version;\n \n #if HAVE_OPENSSL\n   openssl = GetOpenSSLVersion();"
        },
        {
            "sha": "99ccc23cb277be66ae0c04365c96dcd0227d52ef",
            "filename": "src/node_metadata.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_metadata.h",
            "raw_url": "https://github.com/nodejs/node/raw/a29c93a1472947ed053b674cfd670a9d191594ea/src%2Fnode_metadata.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_metadata.h?ref=a29c93a1472947ed053b674cfd670a9d191594ea",
            "patch": "@@ -44,6 +44,8 @@ class Metadata {\n // Per-process global\n namespace per_process {\n extern Metadata metadata;\n+extern const char* const llhttp_version;\n+extern const char* const http_parser_version;\n }\n \n }  // namespace node"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 10,
        "deletions": 9
    }
}