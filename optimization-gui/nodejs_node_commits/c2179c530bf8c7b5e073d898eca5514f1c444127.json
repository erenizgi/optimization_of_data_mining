{
    "author": "BridgeAR",
    "message": "dns: lazy loaded\n\nPR-URL: https://github.com/nodejs/node/pull/20567\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "c2179c530bf8c7b5e073d898eca5514f1c444127",
    "files": [
        {
            "sha": "f3454ffc0702c46d95d0f719d247a9c2d5e398b4",
            "filename": "lib/dgram.js",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/c2179c530bf8c7b5e073d898eca5514f1c444127/lib%2Fdgram.js",
            "raw_url": "https://github.com/nodejs/node/raw/c2179c530bf8c7b5e073d898eca5514f1c444127/lib%2Fdgram.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdgram.js?ref=c2179c530bf8c7b5e073d898eca5514f1c444127",
            "patch": "@@ -35,7 +35,6 @@ const {\n   ERR_SOCKET_DGRAM_NOT_RUNNING\n } = errors.codes;\n const { Buffer } = require('buffer');\n-const dns = require('dns');\n const util = require('util');\n const { isUint8Array } = require('internal/util/types');\n const EventEmitter = require('events');\n@@ -47,6 +46,9 @@ const { UV_UDP_REUSEADDR } = process.binding('constants').os;\n \n const { UDP, SendWrap } = process.binding('udp_wrap');\n \n+// Lazy load for startup performance.\n+let dns;\n+\n const BIND_STATE_UNBOUND = 0;\n const BIND_STATE_BINDING = 1;\n const BIND_STATE_BOUND = 2;\n@@ -72,9 +74,10 @@ function lookup6(lookup, address, callback) {\n \n \n function newHandle(type, lookup) {\n-  if (lookup === undefined)\n+  if (lookup === undefined) {\n+    if (dns === undefined) dns = require('dns');\n     lookup = dns.lookup;\n-  else if (typeof lookup !== 'function')\n+  } else if (typeof lookup !== 'function')\n     throw new ERR_INVALID_ARG_TYPE('lookup', 'Function', lookup);\n \n   if (type === 'udp4') {"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 6,
        "deletions": 3
    }
}