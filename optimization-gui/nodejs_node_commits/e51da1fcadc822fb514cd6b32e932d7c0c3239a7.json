{
    "author": "gireeshpunathil",
    "message": "src: simplify loop arithmetic in `GetCPUInfo`\n\nCache the repeated operations and reuse; potentially generating\nefficient code in some platforms, and improving readability.\n\nPR-URL: https://github.com/nodejs/node/pull/26183\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "e51da1fcadc822fb514cd6b32e932d7c0c3239a7",
    "files": [
        {
            "sha": "d6ecd29f57a7e1408b4690ed3fe444f4026d138b",
            "filename": "lib/os.js",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/e51da1fcadc822fb514cd6b32e932d7c0c3239a7/lib%2Fos.js",
            "raw_url": "https://github.com/nodejs/node/raw/e51da1fcadc822fb514cd6b32e932d7c0c3239a7/lib%2Fos.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fos.js?ref=e51da1fcadc822fb514cd6b32e932d7c0c3239a7",
            "patch": "@@ -89,16 +89,17 @@ function cpus() {\n   // [] is a bugfix for a regression introduced in 51cea61\n   const data = getCPUs() || [];\n   const result = [];\n-  for (var i = 0; i < data.length; i += 7) {\n+  let i = 0;\n+  while (i < data.length) {\n     result.push({\n-      model: data[i],\n-      speed: data[i + 1],\n+      model: data[i++],\n+      speed: data[i++],\n       times: {\n-        user: data[i + 2],\n-        nice: data[i + 3],\n-        sys: data[i + 4],\n-        idle: data[i + 5],\n-        irq: data[i + 6]\n+        user: data[i++],\n+        nice: data[i++],\n+        sys: data[i++],\n+        idle: data[i++],\n+        irq: data[i++]\n       }\n     });\n   }"
        },
        {
            "sha": "1d3680a6322fdb83e65fbf5f153dbd86ade02afb",
            "filename": "src/node_os.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/e51da1fcadc822fb514cd6b32e932d7c0c3239a7/src%2Fnode_os.cc",
            "raw_url": "https://github.com/nodejs/node/raw/e51da1fcadc822fb514cd6b32e932d7c0c3239a7/src%2Fnode_os.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_os.cc?ref=e51da1fcadc822fb514cd6b32e932d7c0c3239a7",
            "patch": "@@ -120,15 +120,15 @@ static void GetCPUInfo(const FunctionCallbackInfo<Value>& args) {\n   // The array is in the format\n   // [model, speed, (5 entries of cpu_times), model2, speed2, ...]\n   std::vector<Local<Value>> result(count * 7);\n-  for (int i = 0; i < count; i++) {\n+  for (int i = 0, j = 0; i < count; i++) {\n     uv_cpu_info_t* ci = cpu_infos + i;\n-    result[i * 7] = OneByteString(isolate, ci->model);\n-    result[i * 7 + 1] = Number::New(isolate, ci->speed);\n-    result[i * 7 + 2] = Number::New(isolate, ci->cpu_times.user);\n-    result[i * 7 + 3] = Number::New(isolate, ci->cpu_times.nice);\n-    result[i * 7 + 4] = Number::New(isolate, ci->cpu_times.sys);\n-    result[i * 7 + 5] = Number::New(isolate, ci->cpu_times.idle);\n-    result[i * 7 + 6] = Number::New(isolate, ci->cpu_times.irq);\n+    result[j++] = OneByteString(isolate, ci->model);\n+    result[j++] = Number::New(isolate, ci->speed);\n+    result[j++] = Number::New(isolate, ci->cpu_times.user);\n+    result[j++] = Number::New(isolate, ci->cpu_times.nice);\n+    result[j++] = Number::New(isolate, ci->cpu_times.sys);\n+    result[j++] = Number::New(isolate, ci->cpu_times.idle);\n+    result[j++] = Number::New(isolate, ci->cpu_times.irq);\n   }\n \n   uv_free_cpu_info(cpu_infos, count);"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 17,
        "deletions": 16
    }
}