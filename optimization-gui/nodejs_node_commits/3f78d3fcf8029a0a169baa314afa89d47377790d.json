{
    "author": "killagu",
    "message": "build: fix coverage after gcovr update\n\nPR-URL: https://github.com/nodejs/node/pull/18958\nFixes: https://github.com/nodejs/node/issues/18938\nRef: https://github.com/nodejs/build/pull/1145\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Daijiro Wachi <daijiro.wachi@gmail.com>",
    "sha": "3f78d3fcf8029a0a169baa314afa89d47377790d",
    "files": [
        {
            "sha": "f2d06bb3c7fc8cc94adf4cb2aa29cae18c552dca",
            "filename": "Makefile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/3f78d3fcf8029a0a169baa314afa89d47377790d/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/3f78d3fcf8029a0a169baa314afa89d47377790d/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=3f78d3fcf8029a0a169baa314afa89d47377790d",
            "patch": "@@ -176,8 +176,8 @@ coverage-build: all\n \t\t--single-branch git://github.com/gcovr/gcovr.git; fi\n \tif [ ! -d build ]; then git clone --depth=1 \\\n \t\t--single-branch https://github.com/nodejs/build.git; fi\n-\tif [ ! -f gcovr/scripts/gcovr.orig ]; then \\\n-\t\t(cd gcovr && patch -N -p1 < \\\n+\tif [ ! -f gcovr/gcovr/gcov.py.orig ]; then \\\n+\t\t(cd gcovr && patch -b -N -p1 < \\\n \t\t\"$(CURDIR)/build/jenkins/scripts/coverage/gcovr-patches.diff\"); fi\n \tif [ -d lib_ ]; then $(RM) -r lib; mv lib_ lib; fi\n \tmv lib lib_\n@@ -203,7 +203,7 @@ coverage-test: coverage-build\n \t(cd lib && .$(NODE) ../node_modules/.bin/nyc report \\\n \t\t--temp-directory \"$(CURDIR)/.cov_tmp\" \\\n \t\t--report-dir \"../coverage\")\n-\t-(cd out && \"../gcovr/scripts/gcovr\" --gcov-exclude='.*deps' \\\n+\t-(cd out && PYTHONPATH=$(CURDIR)/gcovr $(PYTHON) -m gcovr --gcov-exclude='.*deps' \\\n \t\t--gcov-exclude='.*usr' -v -r Release/obj.target \\\n \t\t--html --html-detail -o ../coverage/cxxcoverage.html \\\n \t\t--gcov-executable=\"$(GCOV)\")"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}