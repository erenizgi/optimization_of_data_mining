{
    "author": "unknown",
    "message": "lib: simplify 'processChunkSync'\n\nAccording to the real logic codes, it seems no matter whether 'nread >=\nkMaxLength' or not. We always close the 'self' stream first. So we can\nshorten it by merging them into one sample.\n\nPR-URL: https://github.com/nodejs/node/pull/22802\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>",
    "sha": "e636addc3f88766b705349c90c91fa655ebfe7f9",
    "files": [
        {
            "sha": "87e8641767669f7362f73703ff0046e3451817db",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/e636addc3f88766b705349c90c91fa655ebfe7f9/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/e636addc3f88766b705349c90c91fa655ebfe7f9/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=e636addc3f88766b705349c90c91fa655ebfe7f9",
            "patch": "@@ -527,14 +527,12 @@ function processChunkSync(self, chunk, flushFlag) {\n   }\n \n   self.bytesWritten = inputRead;\n+  _close(self);\n \n   if (nread >= kMaxLength) {\n-    _close(self);\n     throw new ERR_BUFFER_TOO_LARGE();\n   }\n \n-  _close(self);\n-\n   if (nread === 0)\n     return Buffer.alloc(0);\n "
        }
    ],
    "stats": {
        "total": 4,
        "additions": 1,
        "deletions": 3
    }
}