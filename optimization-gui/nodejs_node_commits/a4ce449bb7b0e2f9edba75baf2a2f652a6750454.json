{
    "author": "unknown",
    "message": "test: add tests for fs/promises chown functions\n\nTo increase test coverage for fs/promises, add tests for\nmethods chown(), filehandle.chown() and lchown().\n\nPR-URL: https://github.com/nodejs/node/pull/20574\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Сковорода Никита Андреевич <chalkerx@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>",
    "sha": "a4ce449bb7b0e2f9edba75baf2a2f652a6750454",
    "files": [
        {
            "sha": "6bb3a871406ed2622c13eca0e756a4e70851aaa8",
            "filename": "test/parallel/test-fs-promises.js",
            "status": "modified",
            "additions": 32,
            "deletions": 0,
            "changes": 32,
            "blob_url": "https://github.com/nodejs/node/blob/a4ce449bb7b0e2f9edba75baf2a2f652a6750454/test%2Fparallel%2Ftest-fs-promises.js",
            "raw_url": "https://github.com/nodejs/node/raw/a4ce449bb7b0e2f9edba75baf2a2f652a6750454/test%2Fparallel%2Ftest-fs-promises.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-promises.js?ref=a4ce449bb7b0e2f9edba75baf2a2f652a6750454",
            "patch": "@@ -10,7 +10,9 @@ const fsPromises = fs.promises;\n const {\n   access,\n   chmod,\n+  chown,\n   copyFile,\n+  lchown,\n   link,\n   lchmod,\n   lstat,\n@@ -107,6 +109,33 @@ function verifyStatObject(stat) {\n     await chmod(dest, (0o10777));\n     await handle.chmod(0o10777);\n \n+    if (!common.isWindows) {\n+      await chown(dest, process.getuid(), process.getgid());\n+      await handle.chown(process.getuid(), process.getgid());\n+    }\n+\n+    assert.rejects(\n+      async () => {\n+        await chown(dest, 1, -1);\n+      },\n+      {\n+        code: 'ERR_OUT_OF_RANGE',\n+        name: 'RangeError [ERR_OUT_OF_RANGE]',\n+        message: 'The value of \"gid\" is out of range. ' +\n+                 'It must be >= 0 && < 4294967296. Received -1'\n+      });\n+\n+    assert.rejects(\n+      async () => {\n+        await handle.chown(1, -1);\n+      },\n+      {\n+        code: 'ERR_OUT_OF_RANGE',\n+        name: 'RangeError [ERR_OUT_OF_RANGE]',\n+        message: 'The value of \"gid\" is out of range. ' +\n+                  'It must be >= 0 && < 4294967296. Received -1'\n+      });\n+\n     await utimes(dest, new Date(), new Date());\n \n     try {\n@@ -130,6 +159,9 @@ function verifyStatObject(stat) {\n     if (common.canCreateSymLink()) {\n       const newLink = path.resolve(tmpDir, 'baz3.js');\n       await symlink(newPath, newLink);\n+      if (!common.isWindows) {\n+        await lchown(newLink, process.getuid(), process.getgid());\n+      }\n       stats = await lstat(newLink);\n       verifyStatObject(stats);\n "
        }
    ],
    "stats": {
        "total": 32,
        "additions": 32,
        "deletions": 0
    }
}