{
    "author": "rubys",
    "message": "build: add loader path to rpath for cctest\n\nBuilding on Mac OS/X as follows:\n\n```\n./configure --shared\nmake -j4 test\n```\n\nResults in:\n\n```\ndyld: Library not loaded: @rpath/libnode.67.dylib\n  Referenced from: /Users/rubys/git/node-shared/out/Release/cctest\n  Reason: image not found\nmake: *** [cctest] Abort trap: 6\n```\n\nThis change adds the loader path to the runtime path for the `cctest` executable.\n\nPR-URL: https://github.com/nodejs/node/pull/23168\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "6696354dbad41157a97ee4b5e258c0dd13cdf23a",
    "files": [
        {
            "sha": "67a0c5b95421ad485cc278c4990c7242a4a643b4",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6696354dbad41157a97ee4b5e258c0dd13cdf23a/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/6696354dbad41157a97ee4b5e258c0dd13cdf23a/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=6696354dbad41157a97ee4b5e258c0dd13cdf23a",
            "patch": "@@ -903,6 +903,11 @@\n         [ 'OS==\"win\" and node_shared==\"true\"', {\n           'type': 'none',\n         }],\n+        [ 'node_shared==\"true\"', {\n+          'xcode_settings': {\n+            'OTHER_LDFLAGS': [ '-Wl,-rpath,@loader_path', ],\n+          },\n+        }],\n       ],\n     }, # cctest\n   ], # end targets"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 5,
        "deletions": 0
    }
}