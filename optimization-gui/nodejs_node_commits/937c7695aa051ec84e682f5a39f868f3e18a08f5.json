{
    "author": "briete",
    "message": "os: move process.binding('os') to internalBinding\n\nPR-URL: https://github.com/nodejs/node/pull/25087\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "937c7695aa051ec84e682f5a39f868f3e18a08f5",
    "files": [
        {
            "sha": "af4928cc6163d1f4411264e2a4364e7a53de6471",
            "filename": "lib/internal/bootstrap/loaders.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/937c7695aa051ec84e682f5a39f868f3e18a08f5/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "raw_url": "https://github.com/nodejs/node/raw/937c7695aa051ec84e682f5a39f868f3e18a08f5/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Floaders.js?ref=937c7695aa051ec84e682f5a39f868f3e18a08f5",
            "patch": "@@ -93,6 +93,7 @@ const internalBindingWhitelist = [\n   'inspector',\n   'js_stream',\n   'natives',\n+  'os',\n   'pipe_wrap',\n   'process_wrap',\n   'signal_wrap',"
        },
        {
            "sha": "602db10e9273c9fe3fa6d41ff6b787b389f678a1",
            "filename": "lib/os.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/937c7695aa051ec84e682f5a39f868f3e18a08f5/lib%2Fos.js",
            "raw_url": "https://github.com/nodejs/node/raw/937c7695aa051ec84e682f5a39f868f3e18a08f5/lib%2Fos.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fos.js?ref=937c7695aa051ec84e682f5a39f868f3e18a08f5",
            "patch": "@@ -44,7 +44,7 @@ const {\n   getUptime,\n   isBigEndian,\n   setPriority: _setPriority\n-} = process.binding('os');\n+} = internalBinding('os');\n \n function getCheckedFunction(fn) {\n   return function checkError(...args) {"
        },
        {
            "sha": "5a40e171edbf969e90c016659832a601ad80be8c",
            "filename": "src/node_os.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/937c7695aa051ec84e682f5a39f868f3e18a08f5/src%2Fnode_os.cc",
            "raw_url": "https://github.com/nodejs/node/raw/937c7695aa051ec84e682f5a39f868f3e18a08f5/src%2Fnode_os.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_os.cc?ref=937c7695aa051ec84e682f5a39f868f3e18a08f5",
            "patch": "@@ -470,4 +470,4 @@ void Initialize(Local<Object> target,\n }  // namespace os\n }  // namespace node\n \n-NODE_BUILTIN_MODULE_CONTEXT_AWARE(os, node::os::Initialize)\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(os, node::os::Initialize)"
        },
        {
            "sha": "2a393f830d4b76d4de19084cc92554009a06ac8f",
            "filename": "test/parallel/test-os-checked-function.js",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/937c7695aa051ec84e682f5a39f868f3e18a08f5/test%2Fparallel%2Ftest-os-checked-function.js",
            "raw_url": "https://github.com/nodejs/node/raw/937c7695aa051ec84e682f5a39f868f3e18a08f5/test%2Fparallel%2Ftest-os-checked-function.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-os-checked-function.js?ref=937c7695aa051ec84e682f5a39f868f3e18a08f5",
            "patch": "@@ -1,7 +1,11 @@\n 'use strict';\n+// Flags: --expose_internals\n+\n+const { internalBinding } = require('internal/test/binding');\n+\n // Monkey patch the os binding before requiring any other modules, including\n // common, which requires the os module.\n-process.binding('os').getHomeDirectory = function(ctx) {\n+internalBinding('os').getHomeDirectory = function(ctx) {\n   ctx.syscall = 'foo';\n   ctx.code = 'bar';\n   ctx.message = 'baz';"
        },
        {
            "sha": "044757e98dc4021de892c5f3928507dd7b9e9899",
            "filename": "test/parallel/test-process-binding-internalbinding-whitelist.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/937c7695aa051ec84e682f5a39f868f3e18a08f5/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "raw_url": "https://github.com/nodejs/node/raw/937c7695aa051ec84e682f5a39f868f3e18a08f5/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js?ref=937c7695aa051ec84e682f5a39f868f3e18a08f5",
            "patch": "@@ -18,3 +18,4 @@ assert(process.binding('js_stream'));\n assert(process.binding('buffer'));\n assert(process.binding('fs'));\n assert(process.binding('inspector'));\n+assert(process.binding('os'));"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 9,
        "deletions": 3
    }
}