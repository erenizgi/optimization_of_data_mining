{
    "author": "mhdawson",
    "message": "doc: clarify async execute callback usage\n\nClarify that calls to N-API should be avoided in\nthe 'execute' callback.\n\nPR-URL: https://github.com/nodejs/node/pull/21217\nRefs: https://github.com/nodejs/help/issues/1318\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>",
    "sha": "fb3cfd075fd50f57bfc4265b00cdd6b1fbbc5831",
    "files": [
        {
            "sha": "ef2396409b45a30d59e70e1963105def833d5f66",
            "filename": "doc/api/n-api.md",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/fb3cfd075fd50f57bfc4265b00cdd6b1fbbc5831/doc%2Fapi%2Fn-api.md",
            "raw_url": "https://github.com/nodejs/node/raw/fb3cfd075fd50f57bfc4265b00cdd6b1fbbc5831/doc%2Fapi%2Fn-api.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fn-api.md?ref=fb3cfd075fd50f57bfc4265b00cdd6b1fbbc5831",
            "patch": "@@ -179,6 +179,11 @@ operations. Callback functions must statisfy the following signature:\n typedef void (*napi_async_execute_callback)(napi_env env, void* data);\n ```\n \n+Implementations of this type of function should avoid making any N-API calls\n+that could result in the execution of JavaScript or interaction with\n+JavaScript objects. Most often, any code that needs to make N-API\n+calls should be made in `napi_async_complete_callback` instead.\n+\n #### napi_async_complete_callback\n Function pointer used with functions that support asynchronous\n operations. Callback functions must statisfy the following signature:\n@@ -3322,7 +3327,14 @@ asynchronous workers. Instances are created/deleted with\n \n The `execute` and `complete` callbacks are functions that will be\n invoked when the executor is ready to execute and when it completes its\n-task respectively. These functions implement the following interfaces:\n+task respectively.\n+\n+The `execute` function should avoid making any N-API calls\n+that could result in the execution of JavaScript or interaction with\n+JavaScript objects. Most often, any code that needs to make N-API\n+calls should be made in `complete` callback instead.\n+\n+These functions implement the following interfaces:\n \n ```C\n typedef void (*napi_async_execute_callback)(napi_env env,"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 13,
        "deletions": 1
    }
}