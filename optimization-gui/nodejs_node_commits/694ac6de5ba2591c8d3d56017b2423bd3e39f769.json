{
    "author": "addaleax",
    "message": "src: break out of timers loop if `!can_call_into_js()`\n\nOtherwise, this turns into an infinite loop when the flag\nis set, because it makes `MakeCallback()` return immediately.\n\nPR-URL: https://github.com/nodejs/node/pull/20884\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>",
    "sha": "694ac6de5ba2591c8d3d56017b2423bd3e39f769",
    "files": [
        {
            "sha": "b87430dad8adc70c4ec22c3c55b9d9b1e5582fb3",
            "filename": "src/timer_wrap.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/694ac6de5ba2591c8d3d56017b2423bd3e39f769/src%2Ftimer_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/694ac6de5ba2591c8d3d56017b2423bd3e39f769/src%2Ftimer_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Ftimer_wrap.cc?ref=694ac6de5ba2591c8d3d56017b2423bd3e39f769",
            "patch": "@@ -134,7 +134,9 @@ class TimerWrap : public HandleWrap {\n     do {\n       ret = wrap->MakeCallback(env->timers_callback_function(), 1, args)\n                 .ToLocalChecked();\n-    } while (ret->IsUndefined() && !env->tick_info()->has_thrown());\n+    } while (ret->IsUndefined() &&\n+             !env->tick_info()->has_thrown() &&\n+             env->can_call_into_js());\n   }\n \n   static void Now(const FunctionCallbackInfo<Value>& args) {"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}