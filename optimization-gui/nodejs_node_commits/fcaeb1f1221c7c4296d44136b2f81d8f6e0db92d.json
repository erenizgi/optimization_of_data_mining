{
    "author": "richardlau",
    "message": "build: export deprecated OpenSSL symbols on Windows\n\nMethods such as `TLSv1_server_method` are categorized as\n`DEPRECATEDIN_1_1_0`. Add the deprecated categories to\nthe list of categories to include passed to `mkssldef.py`.\n\nAdds a regression test to `test/addons/openssl-binding`.\n\nPR-URL: https://github.com/nodejs/node/pull/25991\nRefs: https://github.com/nodejs/node/issues/20369\nRefs: https://github.com/nodejs/node/issues/25981\nReviewed-By: Sam Roberts <vieuxtech@gmail.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>",
    "sha": "fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d",
    "files": [
        {
            "sha": "a0c81ded72d679d526a7bec1df5b1daea7141547",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d",
            "patch": "@@ -708,7 +708,7 @@\n               '-CAES,BF,BIO,DES,DH,DSA,EC,ECDH,ECDSA,ENGINE,EVP,HMAC,MD4,MD5,'\n               'PSK,RC2,RC4,RSA,SHA,SHA0,SHA1,SHA256,SHA512,SOCK,STDIO,TLSEXT,'\n               'FP_API,TLS1_METHOD,TLS1_1_METHOD,TLS1_2_METHOD,SCRYPT,OCSP,'\n-              'NEXTPROTONEG,RMD160,CAST',\n+              'NEXTPROTONEG,RMD160,CAST,DEPRECATEDIN_1_1_0,DEPRECATEDIN_1_2_0',\n               # Defines.\n               '-DWIN32',\n               # Symbols to filter from the export list."
        },
        {
            "sha": "ecda40f4cb50a3872f8edb4a56d050494eb385fa",
            "filename": "test/addons/openssl-binding/binding.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d/test%2Faddons%2Fopenssl-binding%2Fbinding.cc",
            "raw_url": "https://github.com/nodejs/node/raw/fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d/test%2Faddons%2Fopenssl-binding%2Fbinding.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fopenssl-binding%2Fbinding.cc?ref=fcaeb1f1221c7c4296d44136b2f81d8f6e0db92d",
            "patch": "@@ -1,6 +1,7 @@\n #include <node.h>\n #include <assert.h>\n #include <openssl/rand.h>\n+#include <openssl/ssl.h>\n \n namespace {\n \n@@ -28,6 +29,9 @@ inline void Initialize(v8::Local<v8::Object> exports,\n                    ->GetFunction(context)\n                    .ToLocalChecked();\n   assert(exports->Set(context, key, value).IsJust());\n+\n+  const SSL_METHOD* method = TLSv1_2_server_method();\n+  assert(method != nullptr);\n }\n \n }  // anonymous namespace"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}