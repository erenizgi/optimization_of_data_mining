{
    "author": "targos",
    "message": "deps: update v8.gyp\n\nSynchronize source files list with upstream's BUILD.gn.\n\nPR-URL: https://github.com/nodejs/node/pull/21983\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "f04ab3c756485762a42ed5db76bc417418c9caf4",
    "files": [
        {
            "sha": "8813c7508143cb2bc22e254d564c747bb4593f0c",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f04ab3c756485762a42ed5db76bc417418c9caf4/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/f04ab3c756485762a42ed5db76bc417418c9caf4/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=f04ab3c756485762a42ed5db76bc417418c9caf4",
            "patch": "@@ -29,7 +29,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.0',\n+    'v8_embedder_string': '-node.1',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "48b799b07427741d077939b58e6e6bd369ab84e1",
            "filename": "deps/v8/gypfiles/d8.gyp",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/f04ab3c756485762a42ed5db76bc417418c9caf4/deps%2Fv8%2Fgypfiles%2Fd8.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/f04ab3c756485762a42ed5db76bc417418c9caf4/deps%2Fv8%2Fgypfiles%2Fd8.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fd8.gyp?ref=f04ab3c756485762a42ed5db76bc417418c9caf4",
            "patch": "@@ -25,11 +25,13 @@\n         '<(DEPTH)',\n       ],\n       'sources': [\n-        '../src/d8.h',\n-        '../src/d8.cc',\n-        '../src/d8-console.h',\n-        '../src/d8-console.cc',\n         '<(SHARED_INTERMEDIATE_DIR)/d8-js.cc',\n+        '../src/async-hooks-wrapper.cc',\n+        '../src/async-hooks-wrapper.h',\n+        '../src/d8-console.cc',\n+        '../src/d8-console.h',\n+        '../src/d8.cc',\n+        '../src/d8.h',\n       ],\n       'conditions': [\n         [ 'want_separate_host_toolset==1', {"
        },
        {
            "sha": "8486d4e3c62bb72834bffbe6f5a1505addb943bf",
            "filename": "deps/v8/gypfiles/v8.gyp",
            "status": "modified",
            "additions": 70,
            "deletions": 20,
            "changes": 90,
            "blob_url": "https://github.com/nodejs/node/blob/f04ab3c756485762a42ed5db76bc417418c9caf4/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/f04ab3c756485762a42ed5db76bc417418c9caf4/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fv8.gyp?ref=f04ab3c756485762a42ed5db76bc417418c9caf4",
            "patch": "@@ -133,6 +133,12 @@\n         }, {\n           'toolsets': ['target'],\n         }],\n+        ['v8_enable_i18n_support==1', {\n+          'dependencies': [\n+            '<(icu_gyp_path):icui18n',\n+            '<(icu_gyp_path):icuuc',\n+          ],\n+        }],\n       ],\n     },\n     {\n@@ -168,6 +174,7 @@\n         '../src/builtins/builtins-constructor-gen.h',\n         '../src/builtins/builtins-constructor.h',\n         '../src/builtins/builtins-conversion-gen.cc',\n+        '../src/builtins/builtins-data-view-gen.h',\n         '../src/builtins/builtins-date-gen.cc',\n         '../src/builtins/builtins-debug-gen.cc',\n         '../src/builtins/builtins-function-gen.cc',\n@@ -178,8 +185,10 @@\n         '../src/builtins/builtins-internal-gen.cc',\n         '../src/builtins/builtins-interpreter-gen.cc',\n         '../src/builtins/builtins-intl-gen.cc',\n-        '../src/builtins/builtins-iterator-gen.h',\n         '../src/builtins/builtins-iterator-gen.cc',\n+        '../src/builtins/builtins-iterator-gen.h',\n+        '../src/builtins/builtins-lazy-gen.cc',\n+        '../src/builtins/builtins-lazy-gen.h',\n         '../src/builtins/builtins-math-gen.cc',\n         '../src/builtins/builtins-math-gen.h',\n         '../src/builtins/builtins-number-gen.cc',\n@@ -223,6 +232,8 @@\n         '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-base-from-dsl-gen.h',\n         '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-typed-array-from-dsl-gen.cc',\n         '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-typed-array-from-dsl-gen.h',\n+        '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-data-view-from-dsl-gen.cc',\n+        '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-data-view-from-dsl-gen.h',\n       ],\n       'conditions': [\n         ['want_separate_host_toolset==1', {\n@@ -270,7 +281,12 @@\n             '../src/builtins/s390/builtins-s390.cc',\n           ],\n         }],\n-        ['v8_enable_i18n_support==0', {\n+        ['v8_enable_i18n_support==1', {\n+          'dependencies': [\n+            '<(icu_gyp_path):icui18n',\n+            '<(icu_gyp_path):icuuc',\n+          ],\n+        }, {\n           'sources!': [\n             '../src/builtins/builtins-intl-gen.cc',\n           ],\n@@ -304,6 +320,13 @@\n             ],\n           },\n         }],\n+        ['v8_enable_i18n_support==1', {\n+          'dependencies': [\n+            '<(icu_gyp_path):icui18n',\n+            '<(icu_gyp_path):icuuc',\n+          ],\n+        }],\n+\n       ],\n       'dependencies': [\n         'v8_base',\n@@ -313,11 +336,12 @@\n         '<(DEPTH)',\n       ],\n       'sources': [\n-        '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',\n-        '<(SHARED_INTERMEDIATE_DIR)/extras-libraries.cc',\n         '<(SHARED_INTERMEDIATE_DIR)/experimental-extras-libraries.cc',\n+        '<(SHARED_INTERMEDIATE_DIR)/extras-libraries.cc',\n+        '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',\n         '<(INTERMEDIATE_DIR)/snapshot.cc',\n         '../src/setup-isolate-deserialize.cc',\n+        '../src/snapshot/embedded-empty.cc',\n       ],\n       'actions': [\n         {\n@@ -373,9 +397,10 @@\n         '<(DEPTH)',\n       ],\n       'sources': [\n-        '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',\n-        '<(SHARED_INTERMEDIATE_DIR)/extras-libraries.cc',\n         '<(SHARED_INTERMEDIATE_DIR)/experimental-extras-libraries.cc',\n+        '<(SHARED_INTERMEDIATE_DIR)/extras-libraries.cc',\n+        '<(SHARED_INTERMEDIATE_DIR)/libraries.cc',\n+        '../src/snapshot/embedded-empty.cc',\n         '../src/snapshot/snapshot-empty.cc',\n       ],\n       'conditions': [\n@@ -391,6 +416,12 @@\n             'BUILDING_V8_SHARED',\n           ],\n         }],\n+        ['v8_enable_i18n_support==1', {\n+          'dependencies': [\n+            '<(icu_gyp_path):icui18n',\n+            '<(icu_gyp_path):icuuc',\n+          ],\n+        }],\n       ]\n     },\n     {\n@@ -433,6 +464,7 @@\n           ],\n           'sources': [\n             '../src/setup-isolate-deserialize.cc',\n+            '../src/snapshot/embedded-empty.cc',\n             '../src/snapshot/natives-external.cc',\n             '../src/snapshot/snapshot-external.cc',\n           ],\n@@ -587,8 +619,6 @@\n         '../src/ast/ast-value-factory.h',\n         '../src/ast/ast.cc',\n         '../src/ast/ast.h',\n-        '../src/ast/compile-time-value.cc',\n-        '../src/ast/compile-time-value.h',\n         '../src/ast/context-slot-cache.cc',\n         '../src/ast/context-slot-cache.h',\n         '../src/ast/modules.cc',\n@@ -669,13 +699,12 @@\n         '../src/code-stubs-utils.h',\n         '../src/code-stubs.cc',\n         '../src/code-stubs.h',\n+        '../src/code-tracer.h',\n         '../src/codegen.cc',\n         '../src/codegen.h',\n         '../src/collector.h',\n         '../src/compilation-cache.cc',\n         '../src/compilation-cache.h',\n-        '../src/compilation-dependencies.cc',\n-        '../src/compilation-dependencies.h',\n         '../src/compilation-statistics.cc',\n         '../src/compilation-statistics.h',\n         '../src/compiler-dispatcher/compiler-dispatcher-job.cc',\n@@ -721,6 +750,8 @@\n         '../src/compiler/common-operator-reducer.h',\n         '../src/compiler/common-operator.cc',\n         '../src/compiler/common-operator.h',\n+        '../src/compiler/compilation-dependencies.cc',\n+        '../src/compiler/compilation-dependencies.h',\n         '../src/compiler/compiler-source-position-table.cc',\n         '../src/compiler/compiler-source-position-table.h',\n         '../src/compiler/constant-folding-reducer.cc',\n@@ -777,6 +808,8 @@\n         '../src/compiler/js-generic-lowering.h',\n         '../src/compiler/js-graph.cc',\n         '../src/compiler/js-graph.h',\n+        '../src/compiler/js-heap-broker.cc',\n+        '../src/compiler/js-heap-broker.h',\n         '../src/compiler/js-inlining-heuristic.cc',\n         '../src/compiler/js-inlining-heuristic.h',\n         '../src/compiler/js-inlining.cc',\n@@ -1015,6 +1048,8 @@\n         '../src/heap/gc-idle-time-handler.h',\n         '../src/heap/gc-tracer.cc',\n         '../src/heap/gc-tracer.h',\n+        '../src/heap/heap-controller.cc',\n+        '../src/heap/heap-controller.h',\n         '../src/heap/heap-inl.h',\n         '../src/heap/heap.cc',\n         '../src/heap/heap.h',\n@@ -1190,6 +1225,7 @@\n         '../src/objects/frame-array.h',\n         '../src/objects/hash-table-inl.h',\n         '../src/objects/hash-table.h',\n+        '../src/objects/intl-objects-inl.h',\n         '../src/objects/intl-objects.cc',\n         '../src/objects/intl-objects.h',\n         '../src/objects/js-array-inl.h',\n@@ -1205,6 +1241,9 @@\n         '../src/objects/js-regexp-string-iterator-inl.h',\n         '../src/objects/js-regexp-string-iterator.h',\n         '../src/objects/js-regexp.h',\n+        '../src/objects/js-relative-time-format-inl.h',\n+        '../src/objects/js-relative-time-format.cc',\n+        '../src/objects/js-relative-time-format.h',\n         '../src/objects/literal-objects-inl.h',\n         '../src/objects/literal-objects.cc',\n         '../src/objects/literal-objects.h',\n@@ -1230,6 +1269,8 @@\n         '../src/objects/promise.h',\n         '../src/objects/property-descriptor-object-inl.h',\n         '../src/objects/property-descriptor-object.h',\n+        '../src/objects/prototype-info-inl.h',\n+        '../src/objects/prototype-info.h',\n         '../src/objects/regexp-match-info.h',\n         '../src/objects/scope-info.cc',\n         '../src/objects/scope-info.h',\n@@ -1262,7 +1303,6 @@\n         '../src/parsing/parsing.cc',\n         '../src/parsing/parsing.h',\n         '../src/parsing/pattern-rewriter.cc',\n-        '../src/parsing/preparse-data-format.h',\n         '../src/parsing/preparse-data.cc',\n         '../src/parsing/preparse-data.h',\n         '../src/parsing/preparsed-scope-data.cc',\n@@ -1338,6 +1378,8 @@\n         '../src/register-configuration.cc',\n         '../src/register-configuration.h',\n         '../src/reglist.h',\n+        '../src/roots-inl.h',\n+        '../src/roots.h',\n         '../src/runtime-profiler.cc',\n         '../src/runtime-profiler.h',\n         '../src/runtime/runtime-array.cc',\n@@ -1348,7 +1390,6 @@\n         '../src/runtime/runtime-compiler.cc',\n         '../src/runtime/runtime-date.cc',\n         '../src/runtime/runtime-debug.cc',\n-        '../src/runtime/runtime-error.cc',\n         '../src/runtime/runtime-forin.cc',\n         '../src/runtime/runtime-function.cc',\n         '../src/runtime/runtime-futex.cc',\n@@ -1357,7 +1398,6 @@\n         '../src/runtime/runtime-interpreter.cc',\n         '../src/runtime/runtime-intl.cc',\n         '../src/runtime/runtime-literals.cc',\n-        '../src/runtime/runtime-liveedit.cc',\n         '../src/runtime/runtime-maths.cc',\n         '../src/runtime/runtime-module.cc',\n         '../src/runtime/runtime-numbers.cc',\n@@ -1409,6 +1449,7 @@\n         '../src/snapshot/partial-deserializer.h',\n         '../src/snapshot/partial-serializer.cc',\n         '../src/snapshot/partial-serializer.h',\n+        '../src/snapshot/references.h',\n         '../src/snapshot/serializer-common.cc',\n         '../src/snapshot/serializer-common.h',\n         '../src/snapshot/serializer.cc',\n@@ -1455,6 +1496,8 @@\n         '../src/trap-handler/handler-shared.cc',\n         '../src/trap-handler/trap-handler-internal.h',\n         '../src/trap-handler/trap-handler.h',\n+        '../src/turbo-assembler.cc',\n+        '../src/turbo-assembler.h',\n         '../src/type-hints.cc',\n         '../src/type-hints.h',\n         '../src/unicode-cache-inl.h',\n@@ -1499,6 +1542,8 @@\n         '../src/wasm/function-body-decoder.h',\n         '../src/wasm/function-compiler.cc',\n         '../src/wasm/function-compiler.h',\n+        '../src/wasm/jump-table-assembler.cc',\n+        '../src/wasm/jump-table-assembler.h',\n         '../src/wasm/leb-helper.h',\n         '../src/wasm/local-decl-encoder.cc',\n         '../src/wasm/local-decl-encoder.h',\n@@ -1515,8 +1560,6 @@\n         '../src/wasm/value-type.h',\n         '../src/wasm/wasm-code-manager.cc',\n         '../src/wasm/wasm-code-manager.h',\n-        '../src/wasm/wasm-code-specialization.cc',\n-        '../src/wasm/wasm-code-specialization.h',\n         '../src/wasm/wasm-constants.h',\n         '../src/wasm/wasm-debug.cc',\n         '../src/wasm/wasm-engine.cc',\n@@ -1578,6 +1621,7 @@\n             '../src/ia32/assembler-ia32.h',\n             '../src/ia32/code-stubs-ia32.cc',\n             '../src/ia32/codegen-ia32.cc',\n+            '../src/ia32/constants-ia32.h',\n             '../src/ia32/cpu-ia32.cc',\n             '../src/ia32/deoptimizer-ia32.cc',\n             '../src/ia32/disasm-ia32.cc',\n@@ -1612,6 +1656,7 @@\n             '../src/x64/assembler-x64.h',\n             '../src/x64/code-stubs-x64.cc',\n             '../src/x64/codegen-x64.cc',\n+            '../src/x64/constants-x64.h',\n             '../src/x64/cpu-x64.cc',\n             '../src/x64/deoptimizer-x64.cc',\n             '../src/x64/disasm-x64.cc',\n@@ -1654,7 +1699,6 @@\n             '../src/arm/frame-constants-arm.cc',\n             '../src/arm/frame-constants-arm.h',\n             '../src/arm/interface-descriptors-arm.cc',\n-            '../src/arm/interface-descriptors-arm.h',\n             '../src/arm/macro-assembler-arm.cc',\n             '../src/arm/macro-assembler-arm.h',\n             '../src/arm/simulator-arm.cc',\n@@ -1696,7 +1740,6 @@\n             '../src/arm64/instrument-arm64.cc',\n             '../src/arm64/instrument-arm64.h',\n             '../src/arm64/interface-descriptors-arm64.cc',\n-            '../src/arm64/interface-descriptors-arm64.h',\n             '../src/arm64/macro-assembler-arm64-inl.h',\n             '../src/arm64/macro-assembler-arm64.cc',\n             '../src/arm64/macro-assembler-arm64.h',\n@@ -1899,11 +1942,15 @@\n             '../src/char-predicates.cc',\n             '../src/intl.cc',\n             '../src/intl.h',\n+            '../src/objects/intl-objects-inl.h',\n             '../src/objects/intl-objects.cc',\n             '../src/objects/intl-objects.h',\n             '../src/objects/js-locale-inl.h',\n             '../src/objects/js-locale.cc',\n             '../src/objects/js-locale.h',\n+            '../src/objects/js-relative-time-format-inl.h',\n+            '../src/objects/js-relative-time-format.cc',\n+            '../src/objects/js-relative-time-format.h',\n             '../src/runtime/runtime-intl.cc',\n           ],\n         }],\n@@ -1959,6 +2006,7 @@\n         '../src/base/ieee754.h',\n         '../src/base/iterator.h',\n         '../src/base/lazy-instance.h',\n+        '../src/base/list.h',\n         '../src/base/logging.cc',\n         '../src/base/logging.h',\n         '../src/base/macros.h',\n@@ -2406,9 +2454,6 @@\n           '../src/js/prologue.js',\n           '../src/js/array.js',\n           '../src/js/typedarray.js',\n-          '../src/debug/mirrors.js',\n-          '../src/debug/debug.js',\n-          '../src/debug/liveedit.js',\n         ],\n         'libraries_bin_file': '<(SHARED_INTERMEDIATE_DIR)/libraries.bin',\n         'libraries_extras_bin_file': '<(SHARED_INTERMEDIATE_DIR)/libraries-extras.bin',\n@@ -2912,7 +2957,10 @@\n             '<(PRODUCT_DIR)/<(EXECUTABLE_PREFIX)torque<(EXECUTABLE_SUFFIX)',\n             '../src/builtins/base.tq',\n             '../src/builtins/array.tq',\n+            '../src/builtins/array-foreach.tq',\n+            '../src/builtins/array-sort.tq',\n             '../src/builtins/typed-array.tq',\n+            '../src/builtins/data-view.tq',\n           ],\n           'outputs': [\n             '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtin-definitions-from-dsl.h',\n@@ -2922,6 +2970,8 @@\n             '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-base-from-dsl-gen.h',\n             '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-typed-array-from-dsl-gen.cc',\n             '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-typed-array-from-dsl-gen.h',\n+            '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-data-view-from-dsl-gen.cc',\n+            '<(SHARED_INTERMEDIATE_DIR)/torque-generated/builtins-data-view-from-dsl-gen.h',\n           ],\n           'action': ['<@(_inputs)', '-o', '<(SHARED_INTERMEDIATE_DIR)/torque-generated'],\n         },"
        }
    ],
    "stats": {
        "total": 102,
        "additions": 77,
        "deletions": 25
    }
}