{
    "author": "unknown",
    "message": "test: remove obsolete domain test\n\ntest-microtask-queue-integration-domain.js tests that the behavior of\nanother test, test-microtask-queue-integration.js, is still\nconsistent when the core domain module is loaded.\n\nThis was needed because before the changes in #16222 were merged, the\ncore domain module would replace the function that would call nextTick\ncallbacks with a different implementation.\n\nThis is no longer the case, and therefore that test is no longer needed.\n\nPR-URL: https://github.com/nodejs/node/pull/23342\nReviewed-By: Vladimir de Turckheim <vlad2t@hotmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "a3e604e9a3f4e3da137ca4874107d89fa596611a",
    "files": [
        {
            "sha": "98da703ee514294681b3c9f9ec784389595d874f",
            "filename": "test/parallel/test-microtask-queue-integration-domain.js",
            "status": "removed",
            "additions": 0,
            "deletions": 70,
            "changes": 70,
            "blob_url": "https://github.com/nodejs/node/blob/c65a523597ccdf2b3544244679dae581040cf52f/test%2Fparallel%2Ftest-microtask-queue-integration-domain.js",
            "raw_url": "https://github.com/nodejs/node/raw/c65a523597ccdf2b3544244679dae581040cf52f/test%2Fparallel%2Ftest-microtask-queue-integration-domain.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-microtask-queue-integration-domain.js?ref=c65a523597ccdf2b3544244679dae581040cf52f",
            "patch": "@@ -1,70 +0,0 @@\n-// Copyright Joyent, Inc. and other Node contributors.\n-//\n-// Permission is hereby granted, free of charge, to any person obtaining a\n-// copy of this software and associated documentation files (the\n-// \"Software\"), to deal in the Software without restriction, including\n-// without limitation the rights to use, copy, modify, merge, publish,\n-// distribute, sublicense, and/or sell copies of the Software, and to permit\n-// persons to whom the Software is furnished to do so, subject to the\n-// following conditions:\n-//\n-// The above copyright notice and this permission notice shall be included\n-// in all copies or substantial portions of the Software.\n-//\n-// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n-// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n-// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n-// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n-// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n-// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n-// USE OR OTHER DEALINGS IN THE SOFTWARE.\n-\n-'use strict';\n-require('../common');\n-const assert = require('assert');\n-\n-// Requiring the domain module here changes the function that is used by node to\n-// call process.nextTick's callbacks to a variant that specifically handles\n-// domains. We want to test this specific variant in this test, and so even if\n-// the domain module is not used, this require call is needed and must not be\n-// removed.\n-require('domain');\n-\n-const implementations = [\n-  function(fn) {\n-    Promise.resolve().then(fn);\n-  }\n-];\n-\n-let expected = 0;\n-let done = 0;\n-\n-process.on('exit', function() {\n-  assert.strictEqual(done, expected);\n-});\n-\n-function test(scheduleMicrotask) {\n-  let nextTickCalled = false;\n-  expected++;\n-\n-  scheduleMicrotask(function() {\n-    process.nextTick(function() {\n-      nextTickCalled = true;\n-    });\n-\n-    setTimeout(function() {\n-      assert(nextTickCalled);\n-      done++;\n-    }, 0);\n-  });\n-}\n-\n-// first tick case\n-implementations.forEach(test);\n-\n-// tick callback case\n-setTimeout(function() {\n-  implementations.forEach(function(impl) {\n-    process.nextTick(test.bind(null, impl));\n-  });\n-}, 0);"
        }
    ],
    "stats": {
        "total": 70,
        "additions": 0,
        "deletions": 70
    }
}