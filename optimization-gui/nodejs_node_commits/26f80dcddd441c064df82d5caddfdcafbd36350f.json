{
    "author": "thefourtheye",
    "message": "build: make configure.py compatible with python 3\n\nThis patch replaces the following\n\n1. Usage of `filter` with `None` to remove falsy items.\n2. Usage of `map` to create lists. (Replaced with List comprehensions).\n3. Dictionary's `iteritems` which is removed in Python 3.\n\nPR-URL: https://github.com/nodejs/node/pull/25580\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "26f80dcddd441c064df82d5caddfdcafbd36350f",
    "files": [
        {
            "sha": "5a7cade60cb65744a655a57c7d97caccb0aced71",
            "filename": "configure.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/26f80dcddd441c064df82d5caddfdcafbd36350f/configure.py",
            "raw_url": "https://github.com/nodejs/node/raw/26f80dcddd441c064df82d5caddfdcafbd36350f/configure.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/configure.py?ref=26f80dcddd441c064df82d5caddfdcafbd36350f",
            "patch": "@@ -1139,8 +1139,8 @@ def configure_library(lib, output):\n     if options.__dict__[shared_lib + '_includes']:\n       output['include_dirs'] += [options.__dict__[shared_lib + '_includes']]\n     elif pkg_cflags:\n-      output['include_dirs'] += (\n-          filter(None, map(str.strip, pkg_cflags.split('-I'))))\n+      stripped_flags = [flag.strip() for flag in pkg_cflags.split('-I')]\n+      output['include_dirs'] += [flag for flag in stripped_flags if flag]\n \n     # libpath needs to be provided ahead libraries\n     if options.__dict__[shared_lib + '_libpath']:\n@@ -1156,7 +1156,7 @@ def configure_library(lib, output):\n       output['libraries'] += [pkg_libpath]\n \n     default_libs = getattr(options, shared_lib + '_libname')\n-    default_libs = map('-l{0}'.format, default_libs.split(','))\n+    default_libs = ['-l{0}'.format(lib) for lib in default_libs.split(',')]\n \n     if default_libs:\n       output['libraries'] += default_libs\n@@ -1382,7 +1382,8 @@ def write_config(data, name):\n     # safe to split, cannot contain spaces\n     o['libraries'] += libs.split()\n     if cflags:\n-      o['include_dirs'] += filter(None, map(str.strip, cflags.split('-I')))\n+      stripped_flags = [flag.strip() for flag in cflags.split('-I')]\n+      o['include_dirs'] += [flag for flag in stripped_flags if flag]\n     # use the \"system\" .gyp\n     o['variables']['icu_gyp_path'] = 'tools/icu/icu-system.gyp'\n     return\n@@ -1663,7 +1664,7 @@ def make_bin_override():\n if options.prefix:\n   config['PREFIX'] = options.prefix\n \n-config = '\\n'.join(map('='.join, config.iteritems())) + '\\n'\n+config = '\\n'.join(['='.join(item) for item in config.items()]) + '\\n'\n \n # On Windows there's no reason to search for a different python binary.\n bin_override = None if sys.platform == 'win32' else make_bin_override()"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 6,
        "deletions": 5
    }
}