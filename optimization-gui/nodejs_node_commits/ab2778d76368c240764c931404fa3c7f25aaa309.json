{
    "author": "joaocgreis",
    "message": "win: add prompt to tools installation script\n\nFixes: https://github.com/nodejs/Release/issues/369\n\nPR-URL: https://github.com/nodejs/node/pull/23987\nReviewed-By: John-David Dalton <john.david.dalton@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>",
    "sha": "ab2778d76368c240764c931404fa3c7f25aaa309",
    "files": [
        {
            "sha": "36456fa6f656a9e1b4314c8ece6df1cd5c94b771",
            "filename": "tools/msvs/install_tools/install_tools.bat",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/ab2778d76368c240764c931404fa3c7f25aaa309/tools%2Fmsvs%2Finstall_tools%2Finstall_tools.bat",
            "raw_url": "https://github.com/nodejs/node/raw/ab2778d76368c240764c931404fa3c7f25aaa309/tools%2Fmsvs%2Finstall_tools%2Finstall_tools.bat",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Fmsvs%2Finstall_tools%2Finstall_tools.bat?ref=ab2778d76368c240764c931404fa3c7f25aaa309",
            "patch": "@@ -1,5 +1,7 @@\n @echo off\n \n+setlocal\n+\n cls\n echo ====================================================\n echo Tools for Node.js Native Modules Installation Script\n@@ -61,9 +63,14 @@ echo.\n echo Sometimes the scripts may install all necessary Windows Updates which\n echo could cause a high number of reboots that appear to be a reboot loop when\n echo in fact it is just a normal Windows Updates reboot cycle.\n+:acceptretry\n echo.\n-echo If this is not what you would like to occur, you can close this window\n-echo to stop now.\n-pause\n+echo Your computer may REBOOT SEVERAL TIMES WITHOUT FURTHER WARNING.\n+echo Please type YES followed by enter to confirm that you have saved all your\n+set /p \"ACCEPT_PROMPT=work and closed all open programs: \"\n+if /i not \"%ACCEPT_PROMPT%\"==\"yes\" (\n+  echo Please type YES to confirm, or close the window to exit.\n+  goto acceptretry\n+)\n \n \"%SystemRoot%\\System32\\WindowsPowerShell\\v1.0\\powershell.exe\" -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command Start-Process '%SystemRoot%\\System32\\WindowsPowerShell\\v1.0\\powershell.exe' -ArgumentList '-NoProfile -InputFormat None -ExecutionPolicy Bypass -Command iex ((New-Object System.Net.WebClient).DownloadString(''https://boxstarter.org/bootstrapper.ps1'')); get-boxstarter -Force; Install-BoxstarterPackage -PackageName ''%~dp0\\install_tools.txt''; Read-Host ''Type ENTER to exit'' ' -Verb RunAs"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 10,
        "deletions": 3
    }
}