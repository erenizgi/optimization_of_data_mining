{
    "author": "gengjiawen",
    "message": "src: apply clang-tidy rule performance-unnecessary-value-param\n\nPR-URL: https://github.com/nodejs/node/pull/26042\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "8375c706ad51a399451e4f43b075f3795c440dad",
    "files": [
        {
            "sha": "b115f9686b7e4d08573438e5d848b2984f6389ea",
            "filename": "src/env-inl.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fenv-inl.h",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fenv-inl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv-inl.h?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -37,6 +37,8 @@\n #include <stddef.h>\n #include <stdint.h>\n \n+#include <utility>\n+\n namespace node {\n \n inline v8::Isolate* IsolateData::isolate() const {\n@@ -395,7 +397,7 @@ inline uv_loop_t* Environment::event_loop() const {\n inline void Environment::TryLoadAddon(\n     const char* filename,\n     int flags,\n-    std::function<bool(binding::DLib*)> was_loaded) {\n+    const std::function<bool(binding::DLib*)>& was_loaded) {\n   loaded_addons_.emplace_back(filename, flags);\n   if (!was_loaded(&loaded_addons_.back())) {\n     loaded_addons_.pop_back();\n@@ -597,7 +599,7 @@ inline std::shared_ptr<PerIsolateOptions> IsolateData::options() {\n \n inline void IsolateData::set_options(\n     std::shared_ptr<PerIsolateOptions> options) {\n-  options_ = options;\n+  options_ = std::move(options);\n }\n \n void Environment::CreateImmediate(native_immediate_callback cb,"
        },
        {
            "sha": "20b2ca3841a2994ce121b9e5791c36af772a809d",
            "filename": "src/env.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fenv.h",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fenv.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.h?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -663,9 +663,10 @@ class Environment {\n \n   inline v8::Isolate* isolate() const;\n   inline uv_loop_t* event_loop() const;\n-  inline void TryLoadAddon(const char* filename,\n-                           int flags,\n-                           std::function<bool(binding::DLib*)> was_loaded);\n+  inline void TryLoadAddon(\n+      const char* filename,\n+      int flags,\n+      const std::function<bool(binding::DLib*)>& was_loaded);\n \n   static inline Environment* from_timer_handle(uv_timer_t* handle);\n   inline uv_timer_t* timer_handle();"
        },
        {
            "sha": "aaba05b984f54f5f5d921f0bc116170f061825d2",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -2712,7 +2712,7 @@ static ParsePublicKeyResult TryParsePublicKey(\n     const BIOPointer& bp,\n     const char* name,\n     // NOLINTNEXTLINE(runtime/int)\n-    std::function<EVP_PKEY*(const unsigned char** p, long l)> parse) {\n+    const std::function<EVP_PKEY*(const unsigned char** p, long l)>& parse) {\n   unsigned char* der_data;\n   long der_len;  // NOLINT(runtime/int)\n "
        },
        {
            "sha": "16e46f9dd0240951ec27558f5086d55fd27a3e1b",
            "filename": "src/node_messaging.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_messaging.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_messaging.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_messaging.cc?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -148,7 +148,7 @@ MaybeLocal<Value> Message::Deserialize(Environment* env,\n }\n \n void Message::AddSharedArrayBuffer(\n-    SharedArrayBufferMetadataReference reference) {\n+    const SharedArrayBufferMetadataReference& reference) {\n   shared_array_buffers_.push_back(reference);\n }\n "
        },
        {
            "sha": "cfda69ae7ff16bc842505edbe439c3d324328ef8",
            "filename": "src/node_messaging.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_messaging.h",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_messaging.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_messaging.h?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -43,7 +43,7 @@ class Message : public MemoryRetainer {\n \n   // Internal method of Message that is called when a new SharedArrayBuffer\n   // object is encountered in the incoming value's structure.\n-  void AddSharedArrayBuffer(SharedArrayBufferMetadataReference ref);\n+  void AddSharedArrayBuffer(const SharedArrayBufferMetadataReference& ref);\n   // Internal method of Message that is called once serialization finishes\n   // and that transfers ownership of `data` to this message.\n   void AddMessagePort(std::unique_ptr<MessagePortData>&& data);"
        },
        {
            "sha": "908c76c2110d26c0d651539f742fdd73631b9ea8",
            "filename": "src/node_perf.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_perf.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_perf.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_perf.cc?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -181,7 +181,7 @@ void ClearMark(const FunctionCallbackInfo<Value>& args) {\n   }\n }\n \n-inline uint64_t GetPerformanceMark(Environment* env, std::string name) {\n+inline uint64_t GetPerformanceMark(Environment* env, const std::string& name) {\n   auto marks = env->performance_marks();\n   auto res = marks->find(name);\n   return res != marks->end() ? res->second : 0;"
        },
        {
            "sha": "e85b14e2bdf35ce98e882904b6cb62727c4d14e5",
            "filename": "src/node_url.h",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_url.h",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fnode_url.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_url.h?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -109,16 +109,16 @@ class URL {\n     }\n   }\n \n-  explicit URL(std::string input) :\n+  explicit URL(const std::string& input) :\n       URL(input.c_str(), input.length()) {}\n \n-  URL(std::string input, const URL* base) :\n+  URL(const std::string& input, const URL* base) :\n       URL(input.c_str(), input.length(), base) {}\n \n-  URL(std::string input, const URL& base) :\n+  URL(const std::string& input, const URL& base) :\n       URL(input.c_str(), input.length(), &base) {}\n \n-  URL(std::string input, std::string base) :\n+  URL(const std::string& input, const std::string& base) :\n       URL(input.c_str(), input.length(), base.c_str(), base.length()) {}\n \n   int32_t flags() {"
        },
        {
            "sha": "5c58fac3ccf257bcbdb2efa2f6575b26bae4801f",
            "filename": "src/sharedarraybuffer_metadata.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fsharedarraybuffer_metadata.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Fsharedarraybuffer_metadata.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fsharedarraybuffer_metadata.cc?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -1,4 +1,6 @@\n #include \"sharedarraybuffer_metadata.h\"\n+\n+#include <utility>\n #include \"base_object.h\"\n #include \"base_object-inl.h\"\n #include \"node_errors.h\"\n@@ -43,7 +45,7 @@ class SABLifetimePartner : public BaseObject {\n                      Local<Object> obj,\n                      SharedArrayBufferMetadataReference r)\n     : BaseObject(env, obj),\n-      reference(r) {\n+      reference(std::move(r)) {\n     MakeWeak();\n   }\n "
        },
        {
            "sha": "312f91e68e8b97b5ac5d69656c6d7b951bcbcdbd",
            "filename": "src/util.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/src%2Futil.h",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/src%2Futil.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Futil.h?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -40,6 +40,7 @@\n #include <string>\n #include <array>\n #include <unordered_map>\n+#include <utility>\n \n namespace node {\n \n@@ -450,7 +451,7 @@ template <typename T> inline void USE(T&&) {}\n struct OnScopeLeave {\n   std::function<void()> fn_;\n \n-  explicit OnScopeLeave(std::function<void()> fn) : fn_(fn) {}\n+  explicit OnScopeLeave(std::function<void()> fn) : fn_(std::move(fn)) {}\n   ~OnScopeLeave() { fn_(); }\n };\n "
        },
        {
            "sha": "5797708483b6f88b065c5d7f2ab439d40c935e15",
            "filename": "test/cctest/test_inspector_socket_server.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/8375c706ad51a399451e4f43b075f3795c440dad/test%2Fcctest%2Ftest_inspector_socket_server.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8375c706ad51a399451e4f43b075f3795c440dad/test%2Fcctest%2Ftest_inspector_socket_server.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Ftest_inspector_socket_server.cc?ref=8375c706ad51a399451e4f43b075f3795c440dad",
            "patch": "@@ -92,7 +92,7 @@ class SocketWrapper {\n                                             connected_(false),\n                                             sending_(false) { }\n \n-  void Connect(std::string host, int port, bool v6 = false) {\n+  void Connect(const std::string& host, int port, bool v6 = false) {\n     closed_ = false;\n     connection_failed_ = false;\n     connected_ = false;\n@@ -114,7 +114,7 @@ class SocketWrapper {\n                   ReadCallback);\n   }\n \n-  void ExpectFailureToConnect(std::string host, int port) {\n+  void ExpectFailureToConnect(const std::string& host, int port) {\n     connected_ = false;\n     connection_failed_ = false;\n     closed_ = false;\n@@ -243,7 +243,7 @@ class ServerHolder {\n                : ServerHolder(has_targets, loop, HOST, port, nullptr) { }\n \n   ServerHolder(bool has_targets, uv_loop_t* loop,\n-               const std::string host, int port, FILE* out);\n+               const std::string& host, int port, FILE* out);\n \n   InspectorSocketServer* operator->() {\n     return server_.get();\n@@ -350,7 +350,7 @@ class TestSocketServerDelegate : public SocketServerDelegate {\n };\n \n ServerHolder::ServerHolder(bool has_targets, uv_loop_t* loop,\n-                           const std::string host, int port, FILE* out) {\n+                           const std::string& host, int port, FILE* out) {\n   std::vector<std::string> targets;\n   if (has_targets)\n     targets = { MAIN_TARGET_ID };"
        }
    ],
    "stats": {
        "total": 44,
        "additions": 25,
        "deletions": 19
    }
}