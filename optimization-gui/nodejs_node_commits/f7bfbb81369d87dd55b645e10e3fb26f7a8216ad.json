{
    "author": "cjihrig",
    "message": "src: reduce variable scope in stream_base.cc\n\nPR-URL: https://github.com/nodejs/node/pull/23297\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Gabriel Schulhof <gabriel.schulhof@intel.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "f7bfbb81369d87dd55b645e10e3fb26f7a8216ad",
    "files": [
        {
            "sha": "f44e188b5b818cb15f3d0be4cacd214b279b803d",
            "filename": "src/stream_base.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/f7bfbb81369d87dd55b645e10e3fb26f7a8216ad/src%2Fstream_base.cc",
            "raw_url": "https://github.com/nodejs/node/raw/f7bfbb81369d87dd55b645e10e3fb26f7a8216ad/src%2Fstream_base.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fstream_base.cc?ref=f7bfbb81369d87dd55b645e10e3fb26f7a8216ad",
            "patch": "@@ -209,8 +209,6 @@ int StreamBase::WriteString(const FunctionCallbackInfo<Value>& args) {\n   if (args[2]->IsObject())\n     send_handle_obj = args[2].As<Object>();\n \n-  int err;\n-\n   // Compute the size of the storage that the string will be flattened into.\n   // For UTF8 strings that are very long, go ahead and take the hit for\n   // computing their actual size, rather than tripling the storage.\n@@ -243,7 +241,7 @@ int StreamBase::WriteString(const FunctionCallbackInfo<Value>& args) {\n \n     uv_buf_t* bufs = &buf;\n     size_t count = 1;\n-    err = DoTryWrite(&bufs, &count);\n+    const int err = DoTryWrite(&bufs, &count);\n     // Keep track of the bytes written here, because we're taking a shortcut\n     // by using `DoTryWrite()` directly instead of using the utilities\n     // provided by `Write()`."
        }
    ],
    "stats": {
        "total": 4,
        "additions": 1,
        "deletions": 3
    }
}