{
    "author": "BridgeAR",
    "message": "errors: make dns errors consistent\n\nRight now the hostname could in some cases be missed, depending on\nthe libuv error number. This makes sure there the hostname is always\nadded, if available.\n\nPR-URL: https://github.com/nodejs/node/pull/19754\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "b29c36b80746733994257b7380245102bc3c4cd6",
    "files": [
        {
            "sha": "fdfcec2e7ee67a8fe5daa5b4c2686d85c7c4409d",
            "filename": "lib/dns.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b29c36b80746733994257b7380245102bc3c4cd6/lib%2Fdns.js",
            "raw_url": "https://github.com/nodejs/node/raw/b29c36b80746733994257b7380245102bc3c4cd6/lib%2Fdns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdns.js?ref=b29c36b80746733994257b7380245102bc3c4cd6",
            "patch": "@@ -229,7 +229,7 @@ function resolver(bindingName) {\n     req.oncomplete = onresolve;\n     req.ttl = !!(options && options.ttl);\n     var err = this._handle[bindingName](req, name);\n-    if (err) throw dnsException(err, bindingName);\n+    if (err) throw dnsException(err, bindingName, name);\n     return req;\n   }\n   Object.defineProperty(query, 'name', { value: bindingName });"
        },
        {
            "sha": "2fe081bda74282a06d2f63c21cddf82667541e75",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/nodejs/node/blob/b29c36b80746733994257b7380245102bc3c4cd6/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/b29c36b80746733994257b7380245102bc3c4cd6/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=b29c36b80746733994257b7380245102bc3c4cd6",
            "patch": "@@ -556,20 +556,20 @@ function exceptionWithHostPort(err, syscall, address, port, additional) {\n  * @returns {Error}\n  */\n function dnsException(code, syscall, hostname) {\n-  let message;\n-  // FIXME(bnoordhuis) Remove this backwards compatibility nonsense and pass\n-  // the true error to the user. ENOTFOUND is not even a proper POSIX error!\n-  if (code === UV_EAI_MEMORY ||\n-      code === UV_EAI_NODATA ||\n-      code === UV_EAI_NONAME) {\n-    code = 'ENOTFOUND'; // Fabricated error name.\n-  }\n-  if (typeof code === 'string') { // c-ares error code.\n-    message = `${syscall} ${code}${hostname ? ` ${hostname}` : ''}`;\n-  } else {  // libuv error number\n-    code = lazyInternalUtil().getSystemErrorName(code);\n-    message = `${syscall} ${code}`;\n+  // If `code` is of type number, it is a libuv error number, else it is a\n+  // c-ares error code.\n+  if (typeof code === 'number') {\n+    // FIXME(bnoordhuis) Remove this backwards compatibility nonsense and pass\n+    // the true error to the user. ENOTFOUND is not even a proper POSIX error!\n+    if (code === UV_EAI_MEMORY ||\n+        code === UV_EAI_NODATA ||\n+        code === UV_EAI_NONAME) {\n+      code = 'ENOTFOUND'; // Fabricated error name.\n+    } else {\n+      code = lazyInternalUtil().getSystemErrorName(code);\n+    }\n   }\n+  const message = `${syscall} ${code}${hostname ? ` ${hostname}` : ''}`;\n   // eslint-disable-next-line no-restricted-syntax\n   const ex = new Error(message);\n   // TODO(joyeecheung): errno is supposed to be a number / err, like in"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 14,
        "deletions": 14
    }
}