{
    "author": "devsnek",
    "message": "console: console.time() should not reset a timer when it exists\n\nPR-URL: https://github.com/nodejs/node/pull/20442\nFixes: https://github.com/nodejs/node/issues/20440\nRefs: https://console.spec.whatwg.org/#time\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>",
    "sha": "a59826403a76fcc7a6685a52ee82d19be323a699",
    "files": [
        {
            "sha": "07f177d595deb2de3e3ac8a2fc2cbafb69df16c1",
            "filename": "lib/console.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/a59826403a76fcc7a6685a52ee82d19be323a699/lib%2Fconsole.js",
            "raw_url": "https://github.com/nodejs/node/raw/a59826403a76fcc7a6685a52ee82d19be323a699/lib%2Fconsole.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fconsole.js?ref=a59826403a76fcc7a6685a52ee82d19be323a699",
            "patch": "@@ -225,6 +225,10 @@ Console.prototype.dir = function dir(object, options) {\n Console.prototype.time = function time(label = 'default') {\n   // Coerces everything other than Symbol to a string\n   label = `${label}`;\n+  if (this._times.has(label)) {\n+    process.emitWarning(`Label '${label}' already exists for console.time()`);\n+    return;\n+  }\n   this._times.set(label, process.hrtime());\n };\n "
        },
        {
            "sha": "64df389be691c69f43ca99339aa502bd194fa1de",
            "filename": "test/parallel/test-console.js",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/a59826403a76fcc7a6685a52ee82d19be323a699/test%2Fparallel%2Ftest-console.js",
            "raw_url": "https://github.com/nodejs/node/raw/a59826403a76fcc7a6685a52ee82d19be323a699/test%2Fparallel%2Ftest-console.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-console.js?ref=a59826403a76fcc7a6685a52ee82d19be323a699",
            "patch": "@@ -138,6 +138,20 @@ console.timeEnd();\n console.time(NaN);\n console.timeEnd(NaN);\n \n+// make sure calling time twice without timeEnd doesn't reset the timer.\n+console.time('test');\n+const time = console._times.get('test');\n+setTimeout(() => {\n+  assert.deepStrictEqual(console._times.get('test'), time);\n+  common.expectWarning(\n+    'Warning',\n+    'Label \\'test\\' already exists for console.time()',\n+    common.noWarnCode);\n+  console.time('test');\n+  console.timeEnd('test');\n+}, 1);\n+\n+\n console.assert(false, '%s should', 'console.assert', 'not throw');\n assert.strictEqual(errStrings[errStrings.length - 1],\n                    'Assertion failed: console.assert should not throw\\n');"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}