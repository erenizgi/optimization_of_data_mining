{
    "author": "hashseed",
    "message": "deps: split v8_monolith target into separate file\n\nEven if we only use v8_monolith build target, other targets\nin v8.gyp with possibly outdated file lists are parsed and\ncould cause build to fail even with --build-v8-with-gn.\n\nPR-URL: https://github.com/nodejs/node/pull/19201\nReviewed-By: Ali Ijaz Sheikh <ofrobots@google.com>\nReviewed-By: Myles Borins <myles.borins@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "17d4368cb170041505866a97de88b13c37873428",
    "files": [
        {
            "sha": "7d6ec8da262ffa5f7ff7d4e6f0baec7e922b44be",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/17d4368cb170041505866a97de88b13c37873428/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/17d4368cb170041505866a97de88b13c37873428/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=17d4368cb170041505866a97de88b13c37873428",
            "patch": "@@ -27,7 +27,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.1',\n+    'v8_embedder_string': '-node.2',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "b5ca0ad150b7a61836369c0cb048497c05c7b183",
            "filename": "deps/v8/gypfiles/v8-monolithic.gyp",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/nodejs/node/blob/17d4368cb170041505866a97de88b13c37873428/deps%2Fv8%2Fgypfiles%2Fv8-monolithic.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/17d4368cb170041505866a97de88b13c37873428/deps%2Fv8%2Fgypfiles%2Fv8-monolithic.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fv8-monolithic.gyp?ref=17d4368cb170041505866a97de88b13c37873428",
            "patch": "@@ -0,0 +1,57 @@\n+# Copyright 2018 the V8 project authors. All rights reserved.\n+# Use of this source code is governed by a BSD-style license that can be\n+# found in the LICENSE file.\n+\n+{\n+  'variables': {\n+    'v8_code': 1,\n+    'v8_random_seed%': 314159265,\n+    'v8_vector_stores%': 0,\n+    'embed_script%': \"\",\n+    'warmup_script%': \"\",\n+    'v8_extra_library_files%': [],\n+    'v8_experimental_extra_library_files%': [],\n+    'mksnapshot_exec': '<(PRODUCT_DIR)/<(EXECUTABLE_PREFIX)mksnapshot<(EXECUTABLE_SUFFIX)',\n+    'v8_os_page_size%': 0,\n+  },\n+  'includes': ['toolchain.gypi', 'features.gypi', 'inspector.gypi'],\n+  'targets': [\n+    {\n+      'target_name': 'v8_monolith',\n+      'type': 'none',\n+      'direct_dependent_settings': {\n+        'include_dirs': [\n+          '../include/',\n+        ],\n+      },\n+      'actions': [\n+        {\n+          'action_name': 'build_with_gn',\n+          'inputs': [\n+            '../tools//node/build_gn.py',\n+          ],\n+          'outputs': [\n+            '<(INTERMEDIATE_DIR)/gn/obj/libv8_monolith.a',\n+            '<(INTERMEDIATE_DIR)/gn/args.gn',\n+          ],\n+          'action': [\n+            '../tools//node/build_gn.py',\n+            '--mode', '<(CONFIGURATION_NAME)',\n+            '--v8_path', '../',\n+            '--build_path', '<(INTERMEDIATE_DIR)/gn',\n+            '--host_os', '<(host_os)',\n+            '--flag', 'v8_promise_internal_field_count=<(v8_promise_internal_field_count)',\n+            '--flag', 'target_cpu=\"<(target_arch)\"',\n+            '--flag', 'target_os=\"<(OS)\"',\n+            '--flag', 'v8_target_cpu=\"<(v8_target_arch)\"',\n+            '--flag', 'v8_embedder_string=\"<(v8_embedder_string)\"',\n+            '--flag', 'v8_use_snapshot=<(v8_use_snapshot)',\n+            '--flag', 'v8_optimized_debug=<(v8_optimized_debug)',\n+            '--flag', 'v8_enable_disassembler=<(v8_enable_disassembler)',\n+            '--flag', 'v8_postmortem_support=<(v8_postmortem_support)',\n+          ],\n+        },\n+      ],\n+    },\n+  ],\n+}"
        },
        {
            "sha": "601b8403cc4378c581ab12115e964a45c2f07679",
            "filename": "deps/v8/gypfiles/v8.gyp",
            "status": "modified",
            "additions": 0,
            "deletions": 37,
            "changes": 37,
            "blob_url": "https://github.com/nodejs/node/blob/17d4368cb170041505866a97de88b13c37873428/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/17d4368cb170041505866a97de88b13c37873428/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fv8.gyp?ref=17d4368cb170041505866a97de88b13c37873428",
            "patch": "@@ -2580,42 +2580,5 @@\n         },\n       ],\n     },\n-    {\n-      'target_name': 'v8_monolith',\n-      'type': 'none',\n-      'direct_dependent_settings': {\n-        'include_dirs': [\n-          '../include/',\n-        ],\n-      },\n-      'actions': [\n-        {\n-          'action_name': 'build_with_gn',\n-          'inputs': [\n-            '../tools//node/build_gn.py',\n-          ],\n-          'outputs': [\n-            '<(INTERMEDIATE_DIR)/gn/obj/libv8_monolith.a',\n-            '<(INTERMEDIATE_DIR)/gn/args.gn',\n-          ],\n-          'action': [\n-            '../tools//node/build_gn.py',\n-            '--mode', '<(CONFIGURATION_NAME)',\n-            '--v8_path', '../',\n-            '--build_path', '<(INTERMEDIATE_DIR)/gn',\n-            '--host_os', '<(host_os)',\n-            '--flag', 'v8_promise_internal_field_count=<(v8_promise_internal_field_count)',\n-            '--flag', 'target_cpu=\"<(target_arch)\"',\n-            '--flag', 'target_os=\"<(OS)\"',\n-            '--flag', 'v8_target_cpu=\"<(v8_target_arch)\"',\n-            '--flag', 'v8_embedder_string=\"<(v8_embedder_string)\"',\n-            '--flag', 'v8_use_snapshot=<(v8_use_snapshot)',\n-            '--flag', 'v8_optimized_debug=<(v8_optimized_debug)',\n-            '--flag', 'v8_enable_disassembler=<(v8_enable_disassembler)',\n-            '--flag', 'v8_postmortem_support=<(v8_postmortem_support)',\n-          ],\n-        },\n-      ],\n-    },\n   ],\n }"
        },
        {
            "sha": "0d66a842ad4de1ec71c9580a12a20dfd69ec542a",
            "filename": "node.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/17d4368cb170041505866a97de88b13c37873428/node.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/17d4368cb170041505866a97de88b13c37873428/node.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gypi?ref=17d4368cb170041505866a97de88b13c37873428",
            "patch": "@@ -61,7 +61,7 @@\n     [ 'node_use_bundled_v8==\"true\"', {\n       'conditions': [\n         [ 'build_v8_with_gn==\"true\"', {\n-          'dependencies': ['deps/v8/gypfiles/v8.gyp:v8_monolith'],\n+          'dependencies': ['deps/v8/gypfiles/v8-monolithic.gyp:v8_monolith'],\n         }, {\n           'dependencies': [\n             'deps/v8/gypfiles/v8.gyp:v8',"
        }
    ],
    "stats": {
        "total": 98,
        "additions": 59,
        "deletions": 39
    }
}