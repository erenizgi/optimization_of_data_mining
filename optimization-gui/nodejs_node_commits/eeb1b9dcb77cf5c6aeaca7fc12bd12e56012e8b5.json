{
    "author": "tniessen",
    "message": "Revert \"process: add more version properties to release\"\n\nThis reverts commit 982e3bdb1f06bf9d9926c808d30864b32a8223f9. It is\nbelieved that the original PR should not have landed as it is as the\nimplemented and exposed API has a variety of flaws.\n\nPR-URL: https://github.com/nodejs/node/pull/19577\nRefs: https://github.com/nodejs/node/pull/19438\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>",
    "sha": "eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
    "files": [
        {
            "sha": "c737f7d456b85d7a03158beabb51d431072598b7",
            "filename": "doc/api/process.md",
            "status": "modified",
            "additions": 1,
            "deletions": 21,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/doc%2Fapi%2Fprocess.md",
            "raw_url": "https://github.com/nodejs/node/raw/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/doc%2Fapi%2Fprocess.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fprocess.md?ref=eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
            "patch": "@@ -1509,21 +1509,6 @@ tarball.\n   - `'Argon'` for the 4.x LTS line beginning with 4.2.0.\n   - `'Boron'` for the 6.x LTS line beginning with 6.9.0.\n   - `'Carbon'` for the 8.x LTS line beginning with 8.9.1.\n-* `majorVersion` {number} The major version of Node.js.\n-* `minorVersion` {number} The minor version of Node.js.\n-* `patchVersion` {number} The patch version of Node.js.\n-* `prereleaseTag` {string} The SemVer pre-release tag for Node.js.\n-* `computedVersion` {number} A number representing the current version, created\n-  using the following method:\n-  `(majorVersion << 16) + (minorVersion << 8) + patchVersion`\n-* `compareVersion` {function} Perform a SemVer comparison to the release\n-  version.\n-    * `major`\n-    * `minor`\n-    * `patch`\n-    * Returns: {number} `-1` if the given version is lower than the release\n-      version, `0` if the given version matches the process version, and `1`\n-      if the given version is greater than the release version.\n \n <!-- eslint-skip -->\n ```js\n@@ -1532,12 +1517,7 @@ tarball.\n   lts: 'Argon',\n   sourceUrl: 'https://nodejs.org/download/release/v4.4.5/node-v4.4.5.tar.gz',\n   headersUrl: 'https://nodejs.org/download/release/v4.4.5/node-v4.4.5-headers.tar.gz',\n-  libUrl: 'https://nodejs.org/download/release/v4.4.5/win-x64/node.lib',\n-  majorVersion: 4,\n-  minorVersion: 4,\n-  patchVersion: 5,\n-  prereleaseTag: '',\n-  computedVersion: 263173,\n+  libUrl: 'https://nodejs.org/download/release/v4.4.5/win-x64/node.lib'\n }\n ```\n "
        },
        {
            "sha": "7d7ca03d36f7ac4da4b63665346e6461e2827ddf",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
            "patch": "@@ -38,7 +38,6 @@\n     _process.setupConfig(NativeModule._source);\n     _process.setupSignalHandlers();\n     _process.setupUncaughtExceptionCapture(exceptionHandlerState);\n-    _process.setupCompareVersion();\n     NativeModule.require('internal/process/warning').setup();\n     NativeModule.require('internal/process/next_tick').setup();\n     NativeModule.require('internal/process/stdio').setup();"
        },
        {
            "sha": "f72043264ff80cd445306b9ad330f0150f97d82c",
            "filename": "lib/internal/process.js",
            "status": "modified",
            "additions": 1,
            "deletions": 12,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/lib%2Finternal%2Fprocess.js",
            "raw_url": "https://github.com/nodejs/node/raw/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/lib%2Finternal%2Fprocess.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess.js?ref=eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
            "patch": "@@ -283,16 +283,6 @@ function setupUncaughtExceptionCapture(exceptionHandlerState) {\n   };\n }\n \n-function setupCompareVersion() {\n-  const { computedVersion } = process.release;\n-  process.release.compareVersion = (major, minor, patch) => {\n-    const comp = (major << 16) + (minor << 8) + patch;\n-    if (comp === computedVersion)\n-      return 0;\n-    return comp > computedVersion ? 1 : -1;\n-  };\n-}\n-\n module.exports = {\n   setup_performance,\n   setup_cpuUsage,\n@@ -303,6 +293,5 @@ module.exports = {\n   setupSignalHandlers,\n   setupChannel,\n   setupRawDebug,\n-  setupUncaughtExceptionCapture,\n-  setupCompareVersion,\n+  setupUncaughtExceptionCapture\n };"
        },
        {
            "sha": "8dfefcae6ecdfb58f16bb3e8fd80c9f83a68915e",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
            "patch": "@@ -3022,23 +3022,6 @@ void SetupProcessObject(Environment* env,\n   READONLY_PROPERTY(release, \"name\",\n                     OneByteString(env->isolate(), NODE_RELEASE));\n \n-  READONLY_PROPERTY(release, \"majorVersion\",\n-      Integer::New(env->isolate(), NODE_MAJOR_VERSION));\n-  READONLY_PROPERTY(release, \"minorVersion\",\n-      Integer::New(env->isolate(), NODE_MINOR_VERSION));\n-  READONLY_PROPERTY(release, \"patchVersion\",\n-      Integer::New(env->isolate(), NODE_PATCH_VERSION));\n-\n-  READONLY_PROPERTY(release, \"prereleaseTag\",\n-      OneByteString(env->isolate(), NODE_TAG));\n-\n-  READONLY_PROPERTY(release,\n-                    \"computedVersion\",\n-                    Integer::New(env->isolate(),\n-                        (NODE_MAJOR_VERSION << 16) +\n-                        (NODE_MINOR_VERSION << 8) +\n-                        NODE_PATCH_VERSION));\n-\n #if NODE_VERSION_IS_LTS\n   READONLY_PROPERTY(release, \"lts\",\n                     OneByteString(env->isolate(), NODE_VERSION_LTS_CODENAME));"
        },
        {
            "sha": "8b6bca9141beed5d559d3d85ac921b8ec34da947",
            "filename": "test/parallel/test-process-release.js",
            "status": "modified",
            "additions": 0,
            "deletions": 15,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/test%2Fparallel%2Ftest-process-release.js",
            "raw_url": "https://github.com/nodejs/node/raw/eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5/test%2Fparallel%2Ftest-process-release.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-release.js?ref=eeb1b9dcb77cf5c6aeaca7fc12bd12e56012e8b5",
            "patch": "@@ -18,18 +18,3 @@ if (versionParts[0] === '4' && versionParts[1] >= 2) {\n } else {\n   assert.strictEqual(process.release.lts, undefined);\n }\n-\n-const {\n-  majorVersion: major,\n-  minorVersion: minor,\n-  patchVersion: patch,\n-  computedVersion,\n-  compareVersion,\n-} = process.release;\n-\n-assert.strictEqual(\n-  (major << 16) + (minor << 8) + patch, computedVersion);\n-\n-assert.strictEqual(0, compareVersion(major, minor, patch));\n-assert.strictEqual(1, compareVersion(major, minor, patch + 1));\n-assert.strictEqual(-1, compareVersion(major - 1, minor, patch));"
        }
    ],
    "stats": {
        "total": 68,
        "additions": 2,
        "deletions": 66
    }
}