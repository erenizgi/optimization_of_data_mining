{
    "author": "ZYSzys",
    "message": "module: use validateString in modules/cjs\n\nPR-URL: https://github.com/nodejs/node/pull/24863\nRefs: https://github.com/nodejs/node/pull/22101\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "4dc10ac7d7ddd2cc52e84d1394f7e863d576109f",
    "files": [
        {
            "sha": "2c856a99c6b8fd6242424d18ab9f24316ee53b08",
            "filename": "lib/internal/modules/cjs/helpers.js",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/4dc10ac7d7ddd2cc52e84d1394f7e863d576109f/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js",
            "raw_url": "https://github.com/nodejs/node/raw/4dc10ac7d7ddd2cc52e84d1394f7e863d576109f/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js?ref=4dc10ac7d7ddd2cc52e84d1394f7e863d576109f",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n \n const {\n   CHAR_LINE_FEED,\n@@ -26,18 +26,14 @@ function makeRequireFunction(mod) {\n   }\n \n   function resolve(request, options) {\n-    if (typeof request !== 'string') {\n-      throw new ERR_INVALID_ARG_TYPE('request', 'string', request);\n-    }\n+    validateString(request, 'request');\n     return Module._resolveFilename(request, mod, false, options);\n   }\n \n   require.resolve = resolve;\n \n   function paths(request) {\n-    if (typeof request !== 'string') {\n-      throw new ERR_INVALID_ARG_TYPE('request', 'string', request);\n-    }\n+    validateString(request, 'request');\n     return Module._resolveLookupPaths(request, mod, true);\n   }\n "
        },
        {
            "sha": "0bc721eab16d24729bdc36f679842ec0295d85f8",
            "filename": "lib/internal/modules/cjs/loader.js",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/4dc10ac7d7ddd2cc52e84d1394f7e863d576109f/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js",
            "raw_url": "https://github.com/nodejs/node/raw/4dc10ac7d7ddd2cc52e84d1394f7e863d576109f/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js?ref=4dc10ac7d7ddd2cc52e84d1394f7e863d576109f",
            "patch": "@@ -47,10 +47,10 @@ const preserveSymlinksMain = getOptionValue('--preserve-symlinks-main');\n const experimentalModules = getOptionValue('--experimental-modules');\n \n const {\n-  ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_ARG_VALUE,\n   ERR_REQUIRE_ESM\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n \n module.exports = Module;\n \n@@ -649,9 +649,7 @@ Module.prototype.load = function(filename) {\n // Loads a module at the given file path. Returns that module's\n // `exports` property.\n Module.prototype.require = function(id) {\n-  if (typeof id !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('id', 'string', id);\n-  }\n+  validateString(id, 'id');\n   if (id === '') {\n     throw new ERR_INVALID_ARG_VALUE('id', id,\n                                     'must be a non-empty string');"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 5,
        "deletions": 11
    }
}