{
    "author": "daynin",
    "message": "url: replace \"magic\" numbers by constants\n\nPR-URL: https://github.com/nodejs/node/pull/19300\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Daijiro Wachi <daijiro.wachi@gmail.com>\nReviewed-By: Gibson Fahnestock <gibfahn@gmail.com>",
    "sha": "354849eeb595ac364337e564669de4c77aa4c1af",
    "files": [
        {
            "sha": "5c884ae6bc4a7fb7354b7bd4f5faf91653a4c75a",
            "filename": "lib/internal/constants.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/354849eeb595ac364337e564669de4c77aa4c1af/lib%2Finternal%2Fconstants.js",
            "raw_url": "https://github.com/nodejs/node/raw/354849eeb595ac364337e564669de4c77aa4c1af/lib%2Finternal%2Fconstants.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fconstants.js?ref=354849eeb595ac364337e564669de4c77aa4c1af",
            "patch": "@@ -39,6 +39,8 @@ module.exports = {\n   CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n   CHAR_GRAVE_ACCENT: 96, /* ` */\n   CHAR_AT: 64, /* @ */\n+  CHAR_AMPERSAND: 38, /* & */\n+  CHAR_EQUAL: 61, /* = */\n \n   // Digits\n   CHAR_0: 48, /* 0 */"
        },
        {
            "sha": "21c7c734b58475cee040c5b94a7bd767e04f6fba",
            "filename": "lib/internal/url.js",
            "status": "modified",
            "additions": 13,
            "deletions": 5,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/354849eeb595ac364337e564669de4c77aa4c1af/lib%2Finternal%2Furl.js",
            "raw_url": "https://github.com/nodejs/node/raw/354849eeb595ac364337e564669de4c77aa4c1af/lib%2Finternal%2Furl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Furl.js?ref=354849eeb595ac364337e564669de4c77aa4c1af",
            "patch": "@@ -19,6 +19,14 @@ const {\n   ERR_INVALID_URL_SCHEME,\n   ERR_MISSING_ARGS\n } = require('internal/errors').codes;\n+const {\n+  CHAR_PERCENT,\n+  CHAR_PLUS,\n+  CHAR_AMPERSAND,\n+  CHAR_EQUAL,\n+  CHAR_LOWERCASE_A,\n+  CHAR_LOWERCASE_Z,\n+} = require('internal/constants');\n const querystring = require('querystring');\n \n const { platform } = process;\n@@ -712,7 +720,7 @@ function parseParams(qs) {\n     const code = qs.charCodeAt(i);\n \n     // Try matching key/value pair separator\n-    if (code === 38/* & */) {\n+    if (code === CHAR_AMPERSAND) {\n       if (pairStart === i) {\n         // We saw an empty substring between pair separators\n         lastPos = pairStart = i + 1;\n@@ -738,7 +746,7 @@ function parseParams(qs) {\n     }\n \n     // Try matching key/value separator (e.g. '=') if we haven't already\n-    if (!seenSep && code === 61/* = */) {\n+    if (!seenSep && code === CHAR_EQUAL) {\n       // Key/value separator match!\n       if (lastPos < i)\n         buf += qs.slice(lastPos, i);\n@@ -755,15 +763,15 @@ function parseParams(qs) {\n     }\n \n     // Handle + and percent decoding.\n-    if (code === 43/* + */) {\n+    if (code === CHAR_PLUS) {\n       if (lastPos < i)\n         buf += qs.slice(lastPos, i);\n       buf += ' ';\n       lastPos = i + 1;\n     } else if (!encoded) {\n       // Try to match an (valid) encoded byte (once) to minimize unnecessary\n       // calls to string decoding functions\n-      if (code === 37/* % */) {\n+      if (code === CHAR_PERCENT) {\n         encodeCheck = 1;\n       } else if (encodeCheck > 0) {\n         // eslint-disable-next-line no-extra-boolean-cast\n@@ -1357,7 +1365,7 @@ function getPathFromURLWin32(url) {\n     // Otherwise, it's a local path that requires a drive letter\n     var letter = pathname.codePointAt(1) | 0x20;\n     var sep = pathname[2];\n-    if (letter < 97 || letter > 122 ||   // a..z A..Z\n+    if (letter < CHAR_LOWERCASE_A || letter > CHAR_LOWERCASE_Z ||   // a..z A..Z\n         (sep !== ':')) {\n       throw new ERR_INVALID_FILE_URL_PATH('must be absolute');\n     }"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 15,
        "deletions": 5
    }
}