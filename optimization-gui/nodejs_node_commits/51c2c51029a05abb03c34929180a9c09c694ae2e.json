{
    "author": "nodeav",
    "message": "doc: explain edge case when assigning port to url\n\nnumbers which are coerced to scientific notation via .toString(),\nwill behave unexpectedly when assigned to a url's port.\n\nFixes: https://github.com/nodejs/node/issues/19595\n\nPR-URL: https://github.com/nodejs/node/pull/19645\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "51c2c51029a05abb03c34929180a9c09c694ae2e",
    "files": [
        {
            "sha": "a5a42ca7117201be1b183fc68058063e601b16a5",
            "filename": "doc/api/url.md",
            "status": "modified",
            "additions": 22,
            "deletions": 5,
            "changes": 27,
            "blob_url": "https://github.com/nodejs/node/blob/51c2c51029a05abb03c34929180a9c09c694ae2e/doc%2Fapi%2Furl.md",
            "raw_url": "https://github.com/nodejs/node/raw/51c2c51029a05abb03c34929180a9c09c694ae2e/doc%2Fapi%2Furl.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Furl.md?ref=51c2c51029a05abb03c34929180a9c09c694ae2e",
            "patch": "@@ -313,8 +313,9 @@ myURL.port = 1234.5678;\n console.log(myURL.port);\n // Prints 1234\n \n-// Out-of-range numbers are ignored\n-myURL.port = 1e10;\n+// Out-of-range numbers which are not represented in scientific notation\n+// will be ignored.\n+myURL.port = 1e10; // 10000000000, will be range-checked as described below\n console.log(myURL.port);\n // Prints 1234\n ```\n@@ -324,9 +325,25 @@ in the range `0` to `65535` (inclusive). Setting the value to the default port\n of the `URL` objects given `protocol` will result in the `port` value becoming\n the empty string (`''`).\n \n-If an invalid string is assigned to the `port` property, but it begins with a\n-number, the leading number is assigned to `port`. Otherwise, or if the number\n-lies outside the range denoted above, it is ignored.\n+Upon assigning a value to the port, the value will first be converted to a\n+string using `.toString()`.\n+\n+If that string is invalid but it begins with a number, the leading number is\n+assigned to `port`.\n+Otherwise, or if the number lies outside the range denoted above,\n+it is ignored.\n+\n+Note that numbers which contain a decimal point,\n+such as floating-point numbers or numbers in scientific notation,\n+are not an exception to this rule.\n+Leading numbers up to the decimal point will be set as the URL's port,\n+assuming they are valid:\n+\n+```js\n+myURL.port = 4.567e21;\n+console.log(myURL.port);\n+// Prints 4 (because it is the leading number in the string '4.567e21')\n+```\n \n #### url.protocol\n "
        }
    ],
    "stats": {
        "total": 27,
        "additions": 22,
        "deletions": 5
    }
}