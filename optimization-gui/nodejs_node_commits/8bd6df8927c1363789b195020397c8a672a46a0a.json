{
    "author": "thefourtheye",
    "message": "doc: clarify fd behaviour with {read,write}File\n\nPR-URL: https://github.com/nodejs/node/pull/23706\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Сковорода Никита Андреевич <chalkerx@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "8bd6df8927c1363789b195020397c8a672a46a0a",
    "files": [
        {
            "sha": "9de798c6ff7ca24765e7954b4c43f6a4d5e2ec43",
            "filename": "doc/api/fs.md",
            "status": "modified",
            "additions": 27,
            "deletions": 8,
            "changes": 35,
            "blob_url": "https://github.com/nodejs/node/blob/8bd6df8927c1363789b195020397c8a672a46a0a/doc%2Fapi%2Ffs.md",
            "raw_url": "https://github.com/nodejs/node/raw/8bd6df8927c1363789b195020397c8a672a46a0a/doc%2Fapi%2Ffs.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ffs.md?ref=8bd6df8927c1363789b195020397c8a672a46a0a",
            "patch": "@@ -2554,14 +2554,18 @@ fs.readFile('<directory>', (err, data) => {\n });\n ```\n \n-Any specified file descriptor has to support reading.\n-\n-If a file descriptor is specified as the `path`, it will not be closed\n-automatically.\n-\n The `fs.readFile()` function buffers the entire file. To minimize memory costs,\n when possible prefer streaming via `fs.createReadStream()`.\n \n+### File Descriptors\n+1. Any specified file descriptor has to support reading.\n+2. If a file descriptor is specified as the `path`, it will not be closed\n+automatically.\n+3. The reading will begin at the current position. For example, if the file\n+already had `'Hello World`' and six bytes are read with the file descriptor,\n+the call to `fs.readFile()` with the same file descriptor, would give\n+`'World'`, rather than `'Hello World'`.\n+\n ## fs.readFileSync(path[, options])\n <!-- YAML\n added: v0.1.8\n@@ -3547,14 +3551,19 @@ If `options` is a string, then it specifies the encoding:\n fs.writeFile('message.txt', 'Hello Node.js', 'utf8', callback);\n ```\n \n-Any specified file descriptor has to support writing.\n-\n It is unsafe to use `fs.writeFile()` multiple times on the same file without\n waiting for the callback. For this scenario, [`fs.createWriteStream()`][] is\n recommended.\n \n-If a file descriptor is specified as the `file`, it will not be closed\n+### File Descriptors\n+1. Any specified file descriptor has to support writing.\n+2. If a file descriptor is specified as the `file`, it will not be closed\n automatically.\n+3. The writing will begin at the beginning of the file. For example, if the\n+file already had `'Hello World'` and the newly written content is `'Aloha'`,\n+then the contents of the file would be `'Aloha World'`, rather than just\n+`'Aloha'`.\n+\n \n ## fs.writeFileSync(file, data[, options])\n <!-- YAML\n@@ -3787,6 +3796,11 @@ returned.\n \n The `FileHandle` has to support reading.\n \n+If one or more `filehandle.read()` calls are made on a file handle and then a\n+`filehandle.readFile()` call is made, the data will be read from the current\n+position till the end of the file. It doesn't always read from the beginning\n+of the file.\n+\n #### filehandle.stat([options])\n <!-- YAML\n added: v10.0.0\n@@ -3949,6 +3963,11 @@ The `FileHandle` has to support writing.\n It is unsafe to use `filehandle.writeFile()` multiple times on the same file\n without waiting for the `Promise` to be resolved (or rejected).\n \n+If one or more `filehandle.write()` calls are made on a file handle and then a\n+`filehandle.writeFile()` call is made, the data will be written from the\n+current position till the end of the file. It doesn't always write from the\n+beginning of the file.\n+\n ### fsPromises.access(path[, mode])\n <!-- YAML\n added: v10.0.0"
        }
    ],
    "stats": {
        "total": 35,
        "additions": 27,
        "deletions": 8
    }
}