{
    "author": "BridgeAR",
    "message": "lib: switch to object spread where possible\n\nUse the object spread notation instead of using Object.assign.\nIt is not only easier to read it is also faster as of V8 6.8.\n\nPR-URL: https://github.com/nodejs/node/pull/25104\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Yuta Hiroto <hello@hiroppy.me>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
    "files": [
        {
            "sha": "a7a1c15e90b3fb12a60654a58ba6286b68b12678",
            "filename": "lib/.eslintrc.yaml",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2F.eslintrc.yaml",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2F.eslintrc.yaml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F.eslintrc.yaml?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -1,4 +1,5 @@\n rules:\n+  prefer-object-spread: error\n   no-restricted-syntax:\n     # Config copied from .eslintrc.js\n     - error"
        },
        {
            "sha": "7a685042f31c0b5bb1fc9aee31a5956df1886ced",
            "filename": "lib/_tls_wrap.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2F_tls_wrap.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2F_tls_wrap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_tls_wrap.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -291,7 +291,7 @@ function initRead(tls, wrapped) {\n  */\n \n function TLSSocket(socket, opts) {\n-  const tlsOptions = Object.assign({}, opts);\n+  const tlsOptions = { ...opts };\n \n   if (tlsOptions.ALPNProtocols)\n     tls.convertALPNProtocols(tlsOptions.ALPNProtocols, tlsOptions);"
        },
        {
            "sha": "2691de70198a421631016663a54cbdb89a32f75d",
            "filename": "lib/child_process.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fchild_process.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -136,7 +136,7 @@ function normalizeExecArgs(command, options, callback) {\n   }\n \n   // Make a shallow copy so we don't clobber the user's options object.\n-  options = Object.assign({}, options);\n+  options = { ...options };\n   options.shell = typeof options.shell === 'string' ? options.shell : true;\n \n   return {\n@@ -470,7 +470,7 @@ function normalizeSpawnArguments(file, args, options) {\n   }\n \n   // Make a shallow copy so we don't clobber the user's options object.\n-  options = Object.assign({}, options);\n+  options = { ...options };\n \n   if (options.shell) {\n     const command = [file].concat(args).join(' ');"
        },
        {
            "sha": "498dbf6a1cad755decb0cec94390fb9e505d8f7c",
            "filename": "lib/internal/child_process.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fchild_process.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -636,7 +636,7 @@ function setupChannel(target, channel) {\n       throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n     }\n \n-    options = Object.assign({ swallowErrors: false }, options);\n+    options = { swallowErrors: false, ...options };\n \n     if (this.connected) {\n       return this._send(message, handle, options, callback);"
        },
        {
            "sha": "e10eef74c243b7b4dd87816fb2f115ca6960c00d",
            "filename": "lib/internal/console/constructor.js",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fconsole%2Fconstructor.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fconsole%2Fconstructor.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fconsole%2Fconstructor.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -294,10 +294,11 @@ Console.prototype.warn = function warn(...args) {\n Console.prototype.error = Console.prototype.warn;\n \n Console.prototype.dir = function dir(object, options) {\n-  options = Object.assign({\n-    customInspect: false\n-  }, this[kGetInspectOptions](this._stdout), options);\n-  this[kWriteToConsole](kUseStdout, util.inspect(object, options));\n+  this[kWriteToConsole](kUseStdout, util.inspect(object, {\n+    customInspect: false,\n+    ...this[kGetInspectOptions](this._stdout),\n+    ...options\n+  }));\n };\n \n Console.prototype.time = function time(label = 'default') {"
        },
        {
            "sha": "23c4e2e0f08893f561ca0dec1459eaf99c9942ec",
            "filename": "lib/internal/http2/compat.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcompat.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -512,7 +512,7 @@ class Http2ServerResponse extends Stream {\n   }\n \n   getHeaders() {\n-    return Object.assign({}, this[kHeaders]);\n+    return { ...this[kHeaders] };\n   }\n \n   hasHeader(name) {"
        },
        {
            "sha": "f33ec48ff23087decf75e0b68b12070def4c86ce",
            "filename": "lib/internal/http2/core.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fhttp2%2Fcore.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Finternal%2Fhttp2%2Fcore.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcore.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -790,7 +790,7 @@ function pingCallback(cb) {\n // 6. enablePush must be a boolean\n // All settings are optional and may be left undefined\n function validateSettings(settings) {\n-  settings = Object.assign({}, settings);\n+  settings = { ...settings };\n   assertWithinRange('headerTableSize',\n                     settings.headerTableSize,\n                     0, kMaxInt);\n@@ -1443,7 +1443,7 @@ class ClientHttp2Session extends Http2Session {\n     assertIsObject(options, 'options');\n \n     headers = Object.assign(Object.create(null), headers);\n-    options = Object.assign({}, options);\n+    options = { ...options };\n \n     if (headers[HTTP2_HEADER_METHOD] === undefined)\n       headers[HTTP2_HEADER_METHOD] = HTTP2_METHOD_GET;\n@@ -1848,7 +1848,7 @@ class Http2Stream extends Duplex {\n       throw new ERR_HTTP2_INVALID_STREAM();\n \n     assertIsObject(options, 'options');\n-    options = Object.assign({}, options);\n+    options = { ...options };\n     validatePriorityOptions(options);\n \n     const priorityFn = submitPriority.bind(this, options);\n@@ -2257,7 +2257,7 @@ class ServerHttp2Stream extends Http2Stream {\n       throw new ERR_INVALID_CALLBACK();\n \n     assertIsObject(options, 'options');\n-    options = Object.assign({}, options);\n+    options = { ...options };\n     options.endStream = !!options.endStream;\n \n     assertIsObject(headers, 'headers');\n@@ -2322,7 +2322,7 @@ class ServerHttp2Stream extends Http2Stream {\n     const state = this[kState];\n \n     assertIsObject(options, 'options');\n-    options = Object.assign({}, options);\n+    options = { ...options };\n \n     const session = this[kSession];\n     debug(`Http2Stream ${this[kID]} [Http2Session ` +\n@@ -2378,7 +2378,7 @@ class ServerHttp2Stream extends Http2Stream {\n     const session = this[kSession];\n \n     assertIsObject(options, 'options');\n-    options = Object.assign({}, options);\n+    options = { ...options };\n \n     if (options.offset !== undefined && typeof options.offset !== 'number')\n       throw new ERR_INVALID_OPT_VALUE('offset', options.offset);\n@@ -2441,7 +2441,7 @@ class ServerHttp2Stream extends Http2Stream {\n       throw new ERR_HTTP2_HEADERS_SENT();\n \n     assertIsObject(options, 'options');\n-    options = Object.assign({}, options);\n+    options = { ...options };\n \n     if (options.offset !== undefined && typeof options.offset !== 'number')\n       throw new ERR_INVALID_OPT_VALUE('offset', options.offset);\n@@ -2667,10 +2667,10 @@ function connectionListener(socket) {\n \n function initializeOptions(options) {\n   assertIsObject(options, 'options');\n-  options = Object.assign({}, options);\n+  options = { ...options };\n   options.allowHalfOpen = true;\n   assertIsObject(options.settings, 'options.settings');\n-  options.settings = Object.assign({}, options.settings);\n+  options.settings = { ...options.settings };\n \n   // Used only with allowHTTP1\n   options.Http1IncomingMessage = options.Http1IncomingMessage ||\n@@ -2775,7 +2775,7 @@ function connect(authority, options, listener) {\n   }\n \n   assertIsObject(options, 'options');\n-  options = Object.assign({}, options);\n+  options = { ...options };\n \n   if (typeof authority === 'string')\n     authority = new URL(authority);"
        },
        {
            "sha": "5d4c6890fb79dd47aaf72f71aee53e1bcc353fa8",
            "filename": "lib/repl.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Frepl.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Frepl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Frepl.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -129,8 +129,7 @@ function hasOwnProperty(obj, prop) {\n // and it can be overridden by custom print functions, such as `probe` or\n // `eyes.js`.\n const writer = exports.writer = (obj) => util.inspect(obj, writer.options);\n-writer.options =\n-    Object.assign({}, util.inspect.defaultOptions, { showProxy: true });\n+writer.options = { ...util.inspect.defaultOptions, showProxy: true };\n \n exports._builtinLibs = builtinLibs;\n \n@@ -509,7 +508,7 @@ function REPLServer(prompt,\n   if (self.useColors && self.writer === writer) {\n     // Turn on ANSI coloring.\n     self.writer = (obj) => util.inspect(obj, self.writer.options);\n-    self.writer.options = Object.assign({}, writer.options, { colors: true });\n+    self.writer.options = { ...writer.options, colors: true };\n   }\n \n   function filterInternalStackFrames(structuredStack) {"
        },
        {
            "sha": "645c3e9269a624feab1ccfff00754983378a19e7",
            "filename": "lib/tls.js",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Ftls.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Ftls.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ftls.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -270,9 +270,13 @@ class SecurePair extends EventEmitter {\n     this.credentials = secureContext;\n \n     this.encrypted = socket1;\n-    this.cleartext = new exports.TLSSocket(socket2, Object.assign({\n-      secureContext, isServer, requestCert, rejectUnauthorized\n-    }, options));\n+    this.cleartext = new exports.TLSSocket(socket2, {\n+      secureContext,\n+      isServer,\n+      requestCert,\n+      rejectUnauthorized,\n+      ...options\n+    });\n     this.cleartext.once('secure', () => this.emit('secure'));\n   }\n "
        },
        {
            "sha": "12c4efa1a29d4f4a2ef4ec24d065d9eefcadcb97",
            "filename": "lib/vm.js",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Fvm.js",
            "raw_url": "https://github.com/nodejs/node/raw/4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5/lib%2Fvm.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fvm.js?ref=4b7a530f2b1a789b3feb64e3698d61b4ccc6bab5",
            "patch": "@@ -290,9 +290,7 @@ function runInContext(code, contextifiedSandbox, options) {\n       [kParsingContext]: contextifiedSandbox\n     };\n   } else {\n-    options = Object.assign({}, options, {\n-      [kParsingContext]: contextifiedSandbox\n-    });\n+    options = { ...options, [kParsingContext]: contextifiedSandbox };\n   }\n   return createScript(code, options)\n     .runInContext(contextifiedSandbox, options);\n@@ -303,9 +301,7 @@ function runInNewContext(code, sandbox, options) {\n     options = { filename: options };\n   }\n   sandbox = createContext(sandbox, getContextOptions(options));\n-  options = Object.assign({}, options, {\n-    [kParsingContext]: sandbox\n-  });\n+  options = { ...options, [kParsingContext]: sandbox };\n   return createScript(code, options).runInNewContext(sandbox, options);\n }\n "
        }
    ],
    "stats": {
        "total": 63,
        "additions": 32,
        "deletions": 31
    }
}