{
    "author": "targos",
    "message": "src: use StackFrame::GetFrame with isolate\n\nPR-URL: https://github.com/nodejs/node/pull/22531\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "30c79467771c9f63d0519480b393a7084d48a7fb",
    "files": [
        {
            "sha": "8fe6711632389addb30eda3d63a70035cc77f9d1",
            "filename": "src/env.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/30c79467771c9f63d0519480b393a7084d48a7fb/src%2Fenv.cc",
            "raw_url": "https://github.com/nodejs/node/raw/30c79467771c9f63d0519480b393a7084d48a7fb/src%2Fenv.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.cc?ref=30c79467771c9f63d0519480b393a7084d48a7fb",
            "patch": "@@ -362,7 +362,7 @@ void Environment::PrintSyncTrace() const {\n           uv_os_getpid());\n \n   for (int i = 0; i < stack->GetFrameCount() - 1; i++) {\n-    Local<StackFrame> stack_frame = stack->GetFrame(i);\n+    Local<StackFrame> stack_frame = stack->GetFrame(isolate(), i);\n     node::Utf8Value fn_name_s(isolate(), stack_frame->GetFunctionName());\n     node::Utf8Value script_name(isolate(), stack_frame->GetScriptName());\n     const int line_number = stack_frame->GetLineNumber();"
        },
        {
            "sha": "da19eefe368efdb358e7002cbff6fd2b7a8f1438",
            "filename": "src/inspector_agent.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/30c79467771c9f63d0519480b393a7084d48a7fb/src%2Finspector_agent.cc",
            "raw_url": "https://github.com/nodejs/node/raw/30c79467771c9f63d0519480b393a7084d48a7fb/src%2Finspector_agent.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Finspector_agent.cc?ref=30c79467771c9f63d0519480b393a7084d48a7fb",
            "patch": "@@ -476,22 +476,20 @@ class NodeInspectorClient : public V8InspectorClient {\n   }\n \n   void FatalException(Local<Value> error, Local<v8::Message> message) {\n+    Isolate* isolate = env_->isolate();\n     Local<Context> context = env_->context();\n \n     int script_id = message->GetScriptOrigin().ScriptID()->Value();\n \n     Local<v8::StackTrace> stack_trace = message->GetStackTrace();\n \n-    if (!stack_trace.IsEmpty() &&\n-        stack_trace->GetFrameCount() > 0 &&\n-        script_id == stack_trace->GetFrame(0)->GetScriptId()) {\n+    if (!stack_trace.IsEmpty() && stack_trace->GetFrameCount() > 0 &&\n+        script_id == stack_trace->GetFrame(isolate, 0)->GetScriptId()) {\n       script_id = 0;\n     }\n \n     const uint8_t DETAILS[] = \"Uncaught\";\n \n-    Isolate* isolate = context->GetIsolate();\n-\n     client_->exceptionThrown(\n         context,\n         StringView(DETAILS, sizeof(DETAILS) - 1),"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 4,
        "deletions": 6
    }
}