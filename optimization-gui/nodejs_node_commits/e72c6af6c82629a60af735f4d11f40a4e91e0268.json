{
    "author": "apapirovski",
    "message": "http2: do not falsely emit 'aborted' on push\n\nA push stream should have its writable side closed upon receipt,\nto avoid emitting the 'aborted' event when the readable side\nis closed.\n\nPR-URL: https://github.com/nodejs/node/pull/22878\nFixes: https://github.com/nodejs/node/issues/22851\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "e72c6af6c82629a60af735f4d11f40a4e91e0268",
    "files": [
        {
            "sha": "9cfa2fe4ccf48af69b445b1d58823dc8d0650815",
            "filename": "lib/internal/http2/core.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/e72c6af6c82629a60af735f4d11f40a4e91e0268/lib%2Finternal%2Fhttp2%2Fcore.js",
            "raw_url": "https://github.com/nodejs/node/raw/e72c6af6c82629a60af735f4d11f40a4e91e0268/lib%2Finternal%2Fhttp2%2Fcore.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcore.js?ref=e72c6af6c82629a60af735f4d11f40a4e91e0268",
            "patch": "@@ -279,6 +279,7 @@ function onSessionHeaders(handle, id, cat, flags, headers) {\n       }\n     } else {\n       stream = new ClientHttp2Stream(session, handle, id, opts);\n+      stream.end();\n     }\n     if (endOfStream)\n       stream[kState].endAfterHeaders = true;"
        },
        {
            "sha": "74d41ba4b9c6722035df4ff94637bdb371945dd0",
            "filename": "test/parallel/test-http2-server-push-stream.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/e72c6af6c82629a60af735f4d11f40a4e91e0268/test%2Fparallel%2Ftest-http2-server-push-stream.js",
            "raw_url": "https://github.com/nodejs/node/raw/e72c6af6c82629a60af735f4d11f40a4e91e0268/test%2Fparallel%2Ftest-http2-server-push-stream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-server-push-stream.js?ref=e72c6af6c82629a60af735f4d11f40a4e91e0268",
            "patch": "@@ -54,6 +54,7 @@ server.listen(0, common.mustCall(() => {\n       assert.strictEqual(headers['content-type'], 'text/html');\n       assert.strictEqual(headers['x-push-data'], 'pushed by server');\n     }));\n+    stream.on('aborted', common.mustNotCall());\n   }));\n \n   let data = '';"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}