{
    "author": "bzoz",
    "message": "win,build: build N-API addons in parallel\n\nRef: https://github.com/nodejs/node/pull/21403\n\nPR-URL: https://github.com/nodejs/node/pull/22582\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "c57ed415f5378c050f0784137864565804401f54",
    "files": [
        {
            "sha": "fe0bd63fd56fc3b6c206df68ee41b6076dbd8401",
            "filename": "vcbuild.bat",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/c57ed415f5378c050f0784137864565804401f54/vcbuild.bat",
            "raw_url": "https://github.com/nodejs/node/raw/c57ed415f5378c050f0784137864565804401f54/vcbuild.bat",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/vcbuild.bat?ref=c57ed415f5378c050f0784137864565804401f54",
            "patch": "@@ -497,11 +497,11 @@ for /d %%F in (test\\addons-napi\\??_*) do (\n   rd /s /q %%F\n )\n :: building addons-napi\n-for /d %%F in (test\\addons-napi\\*) do (\n-  %node_gyp_exe% rebuild ^\n-    --directory=\"%%F\" ^\n-    --nodedir=\"%cd%\"\n-)\n+setlocal\n+set npm_config_nodedir=%~dp0\n+\"%node_exe%\" \"%~dp0tools\\build-addons.js\" \"%~dp0deps\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"%~dp0test\\addons-napi\"\n+if errorlevel 1 exit /b 1\n+endlocal\n endlocal\n goto run-tests\n "
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}