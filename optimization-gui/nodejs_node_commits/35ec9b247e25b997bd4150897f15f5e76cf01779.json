{
    "author": "ryzokuken",
    "message": "src: remove calls to deprecated v8 functions (NewFromUtf8)\n\nRemove all calls to deprecated v8 functions (here: String::NewFromUtf8) inside\nthe code (src directory only).\n\nPR-URL: https://github.com/nodejs/node/pull/21926\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "35ec9b247e25b997bd4150897f15f5e76cf01779",
    "files": [
        {
            "sha": "9d3d098734470f52fbb71a2e5e95701bf152e924",
            "filename": "src/cares_wrap.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fcares_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fcares_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fcares_wrap.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -1942,7 +1942,9 @@ void CanonicalizeIP(const FunctionCallbackInfo<Value>& args) {\n   char canonical_ip[INET6_ADDRSTRLEN];\n   const int af = (rc == 4 ? AF_INET : AF_INET6);\n   CHECK_EQ(0, uv_inet_ntop(af, &result, canonical_ip, sizeof(canonical_ip)));\n-  args.GetReturnValue().Set(String::NewFromUtf8(isolate, canonical_ip));\n+  v8::Local<String> val = String::NewFromUtf8(isolate, canonical_ip,\n+      v8::NewStringType::kNormal).ToLocalChecked();\n+  args.GetReturnValue().Set(val);\n }\n \n void GetAddrInfo(const FunctionCallbackInfo<Value>& args) {"
        },
        {
            "sha": "9cdb5a54b880c3ff36565169ae8af4aacff18c81",
            "filename": "src/exceptions.cc",
            "status": "modified",
            "additions": 15,
            "deletions": 6,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fexceptions.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fexceptions.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fexceptions.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -39,7 +39,8 @@ Local<Value> ErrnoException(Isolate* isolate,\n   Local<String> path_string;\n   if (path != nullptr) {\n     // FIXME(bnoordhuis) It's questionable to interpret the file path as UTF-8.\n-    path_string = String::NewFromUtf8(env->isolate(), path);\n+    path_string = String::NewFromUtf8(env->isolate(), path,\n+        v8::NewStringType::kNormal).ToLocalChecked();\n   }\n \n   if (path_string.IsEmpty() == false) {\n@@ -68,13 +69,17 @@ static Local<String> StringFromPath(Isolate* isolate, const char* path) {\n #ifdef _WIN32\n   if (strncmp(path, \"\\\\\\\\?\\\\UNC\\\\\", 8) == 0) {\n     return String::Concat(FIXED_ONE_BYTE_STRING(isolate, \"\\\\\\\\\"),\n-                          String::NewFromUtf8(isolate, path + 8));\n+                          String::NewFromUtf8(isolate, path + 8,\n+                                              v8::NewStringType::kNormal)\n+                              .ToLocalChecked());\n   } else if (strncmp(path, \"\\\\\\\\?\\\\\", 4) == 0) {\n-    return String::NewFromUtf8(isolate, path + 4);\n+    return String::NewFromUtf8(isolate, path + 4, v8::NewStringType::kNormal)\n+        .ToLocalChecked();\n   }\n #endif\n \n-  return String::NewFromUtf8(isolate, path);\n+  return String::NewFromUtf8(isolate, path, v8::NewStringType::kNormal)\n+      .ToLocalChecked();\n }\n \n \n@@ -183,7 +188,9 @@ Local<Value> WinapiErrnoException(Isolate* isolate,\n     Local<String> cons1 =\n         String::Concat(message, FIXED_ONE_BYTE_STRING(isolate, \" '\"));\n     Local<String> cons2 =\n-        String::Concat(cons1, String::NewFromUtf8(isolate, path));\n+        String::Concat(cons1,\n+            String::NewFromUtf8(isolate, path, v8::NewStringType::kNormal)\n+                .ToLocalChecked());\n     Local<String> cons3 =\n         String::Concat(cons2, FIXED_ONE_BYTE_STRING(isolate, \"'\"));\n     e = Exception::Error(cons3);\n@@ -195,7 +202,9 @@ Local<Value> WinapiErrnoException(Isolate* isolate,\n   obj->Set(env->errno_string(), Integer::New(isolate, errorno));\n \n   if (path != nullptr) {\n-    obj->Set(env->path_string(), String::NewFromUtf8(isolate, path));\n+    obj->Set(env->path_string(),\n+             String::NewFromUtf8(isolate, path, v8::NewStringType::kNormal)\n+                 .ToLocalChecked());\n   }\n \n   if (syscall != nullptr) {"
        },
        {
            "sha": "bf0ea8f620d45811135e62749e6de38db565ae15",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 23,
            "deletions": 13,
            "changes": 36,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -965,7 +965,8 @@ void AppendExceptionLine(Environment* env,\n   arrow[off] = '\\n';\n   arrow[off + 1] = '\\0';\n \n-  Local<String> arrow_str = String::NewFromUtf8(env->isolate(), arrow);\n+  Local<String> arrow_str = String::NewFromUtf8(env->isolate(), arrow,\n+      v8::NewStringType::kNormal).ToLocalChecked();\n \n   const bool can_set_arrow = !arrow_str.IsEmpty() && !err_obj.IsEmpty();\n   // If allocating arrow_str failed, print it out. There's not much else to do.\n@@ -1742,7 +1743,8 @@ static void GetLinkedBinding(const FunctionCallbackInfo<Value>& args) {\n \n   Local<Object> module = Object::New(env->isolate());\n   Local<Object> exports = Object::New(env->isolate());\n-  Local<String> exports_prop = String::NewFromUtf8(env->isolate(), \"exports\");\n+  Local<String> exports_prop = String::NewFromUtf8(env->isolate(), \"exports\",\n+      v8::NewStringType::kNormal).ToLocalChecked();\n   module->Set(exports_prop, exports);\n \n   if (mod->nm_context_register_func != nullptr) {\n@@ -1765,7 +1767,8 @@ static void ProcessTitleGetter(Local<Name> property,\n                                const PropertyCallbackInfo<Value>& info) {\n   char buffer[512];\n   uv_get_process_title(buffer, sizeof(buffer));\n-  info.GetReturnValue().Set(String::NewFromUtf8(info.GetIsolate(), buffer));\n+  info.GetReturnValue().Set(String::NewFromUtf8(info.GetIsolate(), buffer,\n+      v8::NewStringType::kNormal).ToLocalChecked());\n }\n \n \n@@ -1790,7 +1793,8 @@ static void EnvGetter(Local<Name> property,\n   node::Utf8Value key(isolate, property);\n   const char* val = getenv(*key);\n   if (val) {\n-    return info.GetReturnValue().Set(String::NewFromUtf8(isolate, val));\n+    return info.GetReturnValue().Set(String::NewFromUtf8(isolate, val,\n+        v8::NewStringType::kNormal).ToLocalChecked());\n   }\n #else  // _WIN32\n   node::TwoByteValue key(isolate, property);\n@@ -1918,8 +1922,8 @@ static void EnvEnumerator(const PropertyCallbackInfo<Array>& info) {\n     const int length = s ? s - var : strlen(var);\n     argv[idx] = String::NewFromUtf8(isolate,\n                                     var,\n-                                    String::kNormalString,\n-                                    length);\n+                                    v8::NewStringType::kNormal,\n+                                    length).ToLocalChecked();\n     if (++idx >= arraysize(argv)) {\n       fn->Call(ctx, envarr, idx, argv).ToLocalChecked();\n       idx = 0;\n@@ -2196,14 +2200,16 @@ void SetupProcessObject(Environment* env,\n   // process.argv\n   Local<Array> arguments = Array::New(env->isolate(), argc);\n   for (int i = 0; i < argc; ++i) {\n-    arguments->Set(i, String::NewFromUtf8(env->isolate(), argv[i]));\n+    arguments->Set(i, String::NewFromUtf8(env->isolate(), argv[i],\n+        v8::NewStringType::kNormal).ToLocalChecked());\n   }\n   process->Set(FIXED_ONE_BYTE_STRING(env->isolate(), \"argv\"), arguments);\n \n   // process.execArgv\n   Local<Array> exec_arguments = Array::New(env->isolate(), exec_argc);\n   for (int i = 0; i < exec_argc; ++i) {\n-    exec_arguments->Set(i, String::NewFromUtf8(env->isolate(), exec_argv[i]));\n+    exec_arguments->Set(i, String::NewFromUtf8(env->isolate(), exec_argv[i],\n+        v8::NewStringType::kNormal).ToLocalChecked());\n   }\n   process->Set(FIXED_ONE_BYTE_STRING(env->isolate(), \"execArgv\"),\n                exec_arguments);\n@@ -2235,7 +2241,8 @@ void SetupProcessObject(Environment* env,\n   if (eval_string) {\n     READONLY_PROPERTY(process,\n                       \"_eval\",\n-                      String::NewFromUtf8(env->isolate(), eval_string));\n+                      String::NewFromUtf8(env->isolate(), eval_string,\n+                          v8::NewStringType::kNormal).ToLocalChecked());\n   }\n \n   // -p, --print\n@@ -2258,7 +2265,9 @@ void SetupProcessObject(Environment* env,\n     Local<Array> array = Array::New(env->isolate());\n     for (unsigned int i = 0; i < preload_modules.size(); ++i) {\n       Local<String> module = String::NewFromUtf8(env->isolate(),\n-                                                 preload_modules[i].c_str());\n+                                                 preload_modules[i].c_str(),\n+                                                 v8::NewStringType::kNormal)\n+                                 .ToLocalChecked();\n       array->Set(i, module);\n     }\n     READONLY_PROPERTY(process,\n@@ -2343,10 +2352,11 @@ void SetupProcessObject(Environment* env,\n   if (uv_exepath(exec_path, &exec_path_len) == 0) {\n     exec_path_value = String::NewFromUtf8(env->isolate(),\n                                           exec_path,\n-                                          String::kNormalString,\n-                                          exec_path_len);\n+                                          v8::NewStringType::kNormal,\n+                                          exec_path_len).ToLocalChecked();\n   } else {\n-    exec_path_value = String::NewFromUtf8(env->isolate(), argv[0]);\n+    exec_path_value = String::NewFromUtf8(env->isolate(), argv[0],\n+        v8::NewStringType::kNormal).ToLocalChecked();\n   }\n   process->Set(FIXED_ONE_BYTE_STRING(env->isolate(), \"execPath\"),\n                exec_path_value);"
        },
        {
            "sha": "b69ef401368ba1fa16919d2b2096da6f7453521c",
            "filename": "src/node.h",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode.h",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.h?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -303,7 +303,8 @@ NODE_EXTERN struct uv_loop_s* GetCurrentEventLoop(v8::Isolate* isolate);\n     v8::Isolate* isolate = target->GetIsolate();                              \\\n     v8::Local<v8::Context> context = isolate->GetCurrentContext();            \\\n     v8::Local<v8::String> constant_name =                                     \\\n-        v8::String::NewFromUtf8(isolate, #constant);                          \\\n+        v8::String::NewFromUtf8(isolate, #constant,                           \\\n+            v8::NewStringType::kNormal).ToLocalChecked();                     \\\n     v8::Local<v8::Number> constant_value =                                    \\\n         v8::Number::New(isolate, static_cast<double>(constant));              \\\n     v8::PropertyAttribute constant_attributes =                               \\\n@@ -344,7 +345,8 @@ inline void NODE_SET_METHOD(v8::Local<v8::Template> recv,\n   v8::HandleScope handle_scope(isolate);\n   v8::Local<v8::FunctionTemplate> t = v8::FunctionTemplate::New(isolate,\n                                                                 callback);\n-  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name);\n+  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name,\n+      v8::NewStringType::kNormal).ToLocalChecked();\n   t->SetClassName(fn_name);\n   recv->Set(fn_name, t);\n }\n@@ -358,7 +360,8 @@ inline void NODE_SET_METHOD(v8::Local<v8::Object> recv,\n   v8::Local<v8::FunctionTemplate> t = v8::FunctionTemplate::New(isolate,\n                                                                 callback);\n   v8::Local<v8::Function> fn = t->GetFunction();\n-  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name);\n+  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name,\n+      v8::NewStringType::kNormal).ToLocalChecked();\n   fn->SetName(fn_name);\n   recv->Set(fn_name, fn);\n }\n@@ -374,7 +377,8 @@ inline void NODE_SET_PROTOTYPE_METHOD(v8::Local<v8::FunctionTemplate> recv,\n   v8::Local<v8::Signature> s = v8::Signature::New(isolate, recv);\n   v8::Local<v8::FunctionTemplate> t =\n       v8::FunctionTemplate::New(isolate, callback, v8::Local<v8::Value>(), s);\n-  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name);\n+  v8::Local<v8::String> fn_name = v8::String::NewFromUtf8(isolate, name,\n+      v8::NewStringType::kNormal).ToLocalChecked();\n   t->SetClassName(fn_name);\n   recv->PrototypeTemplate()->Set(fn_name, t);\n }"
        },
        {
            "sha": "1237157da3f77512243b6ae4d14456c306d639c8",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -1569,8 +1569,8 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n     BIO_get_mem_ptr(bio.get(), &mem);\n     info->Set(context, env->subject_string(),\n               String::NewFromUtf8(env->isolate(), mem->data,\n-                                  String::kNormalString,\n-                                  mem->length)).FromJust();\n+                                  NewStringType::kNormal,\n+                                  mem->length).ToLocalChecked()).FromJust();\n   }\n   USE(BIO_reset(bio.get()));\n \n@@ -1579,8 +1579,8 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n     BIO_get_mem_ptr(bio.get(), &mem);\n     info->Set(context, env->issuer_string(),\n               String::NewFromUtf8(env->isolate(), mem->data,\n-                                  String::kNormalString,\n-                                  mem->length)).FromJust();\n+                                  NewStringType::kNormal,\n+                                  mem->length).ToLocalChecked()).FromJust();\n   }\n   USE(BIO_reset(bio.get()));\n \n@@ -1607,8 +1607,8 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n     BIO_get_mem_ptr(bio.get(), &mem);\n     info->Set(context, keys[i],\n               String::NewFromUtf8(env->isolate(), mem->data,\n-                                  String::kNormalString,\n-                                  mem->length)).FromJust();\n+                                  NewStringType::kNormal,\n+                                  mem->length).ToLocalChecked()).FromJust();\n \n     USE(BIO_reset(bio.get()));\n   }\n@@ -1626,8 +1626,8 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n     BIO_get_mem_ptr(bio.get(), &mem);\n     info->Set(context, env->modulus_string(),\n               String::NewFromUtf8(env->isolate(), mem->data,\n-                                  String::kNormalString,\n-                                  mem->length)).FromJust();\n+                                  NewStringType::kNormal,\n+                                  mem->length).ToLocalChecked()).FromJust();\n     USE(BIO_reset(bio.get()));\n \n     uint64_t exponent_word = static_cast<uint64_t>(BN_get_word(e));\n@@ -1641,8 +1641,8 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n     BIO_get_mem_ptr(bio.get(), &mem);\n     info->Set(context, env->exponent_string(),\n               String::NewFromUtf8(env->isolate(), mem->data,\n-                                  String::kNormalString,\n-                                  mem->length)).FromJust();\n+                                  NewStringType::kNormal,\n+                                  mem->length).ToLocalChecked()).FromJust();\n     USE(BIO_reset(bio.get()));\n \n     int size = i2d_RSA_PUBKEY(rsa.get(), nullptr);\n@@ -1661,16 +1661,16 @@ static Local<Object> X509ToObject(Environment* env, X509* cert) {\n   BIO_get_mem_ptr(bio.get(), &mem);\n   info->Set(context, env->valid_from_string(),\n             String::NewFromUtf8(env->isolate(), mem->data,\n-                                String::kNormalString,\n-                                mem->length)).FromJust();\n+                                NewStringType::kNormal,\n+                                mem->length).ToLocalChecked()).FromJust();\n   USE(BIO_reset(bio.get()));\n \n   ASN1_TIME_print(bio.get(), X509_get_notAfter(cert));\n   BIO_get_mem_ptr(bio.get(), &mem);\n   info->Set(context, env->valid_to_string(),\n             String::NewFromUtf8(env->isolate(), mem->data,\n-                                String::kNormalString,\n-                                mem->length)).FromJust();\n+                                NewStringType::kNormal,\n+                                mem->length).ToLocalChecked()).FromJust();\n   bio.reset();\n \n   unsigned char md[EVP_MAX_MD_SIZE];"
        },
        {
            "sha": "16f2506d1f2e2b78c2b91e040b27dd9d4e2603e3",
            "filename": "src/node_file.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_file.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_file.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_file.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -794,8 +794,8 @@ static void InternalModuleReadJSON(const FunctionCallbackInfo<Value>& args) {\n     Local<String> chars_string =\n         String::NewFromUtf8(env->isolate(),\n                             &chars[start],\n-                            String::kNormalString,\n-                            size);\n+                            v8::NewStringType::kNormal,\n+                            size).ToLocalChecked();\n     args.GetReturnValue().Set(chars_string);\n   }\n }"
        },
        {
            "sha": "e6c198fb634b488aac93541ca673e32e3bda8dfc",
            "filename": "src/node_i18n.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_i18n.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_i18n.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_i18n.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -552,7 +552,7 @@ void GetVersion(const FunctionCallbackInfo<Value>& args) {\n             TYPE_ICU \",\"\n             TYPE_UNICODE \",\"\n             TYPE_CLDR \",\"\n-            TYPE_TZ));\n+            TYPE_TZ, v8::NewStringType::kNormal).ToLocalChecked());\n   } else {\n     CHECK_GE(args.Length(), 1);\n     CHECK(args[0]->IsString());\n@@ -565,7 +565,7 @@ void GetVersion(const FunctionCallbackInfo<Value>& args) {\n       // Success.\n       args.GetReturnValue().Set(\n           String::NewFromUtf8(env->isolate(),\n-          versionString));\n+          versionString, v8::NewStringType::kNormal).ToLocalChecked());\n     }\n   }\n }"
        },
        {
            "sha": "a27e5f3567b6738703204e9ff0b4aaaf99c9399a",
            "filename": "src/node_internals.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_internals.h",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_internals.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_internals.h?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -72,9 +72,11 @@ struct sockaddr;\n   do {                                                                        \\\n     v8::Isolate* isolate = target->GetIsolate();                              \\\n     v8::Local<v8::String> constant_name =                                     \\\n-        v8::String::NewFromUtf8(isolate, name);                               \\\n+        v8::String::NewFromUtf8(isolate, name, v8::NewStringType::kNormal)    \\\n+            .ToLocalChecked();                                                \\\n     v8::Local<v8::String> constant_value =                                    \\\n-        v8::String::NewFromUtf8(isolate, constant);                           \\\n+        v8::String::NewFromUtf8(isolate, constant, v8::NewStringType::kNormal)\\\n+            .ToLocalChecked();                                                \\\n     v8::PropertyAttribute constant_attributes =                               \\\n         static_cast<v8::PropertyAttribute>(v8::ReadOnly | v8::DontDelete);    \\\n     target->DefineOwnProperty(isolate->GetCurrentContext(),                   \\"
        },
        {
            "sha": "e0ea7e7b828518c77d4a35b3f5dad16e9ca79d79",
            "filename": "src/node_os.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_os.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_os.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_os.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -261,7 +261,8 @@ static void GetInterfaceAddresses(const FunctionCallbackInfo<Value>& args) {\n     // contain non-ASCII characters.  On UNIX, it's just a binary string with\n     // no particular encoding but we treat it as a one-byte Latin-1 string.\n #ifdef _WIN32\n-    name = String::NewFromUtf8(env->isolate(), raw_name);\n+    name = String::NewFromUtf8(env->isolate(), raw_name,\n+        v8::NewStringType::kNormal).ToLocalChecked();\n #else\n     name = OneByteString(env->isolate(), raw_name);\n #endif\n@@ -335,8 +336,8 @@ static void GetHomeDirectory(const FunctionCallbackInfo<Value>& args) {\n \n   Local<String> home = String::NewFromUtf8(env->isolate(),\n                                            buf,\n-                                           String::kNormalString,\n-                                           len);\n+                                           v8::NewStringType::kNormal,\n+                                           len).ToLocalChecked();\n   args.GetReturnValue().Set(home);\n }\n "
        },
        {
            "sha": "a1ca57e2d5c100bd72916c34e4bca7a45c64ffb1",
            "filename": "src/node_perf.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_perf.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_perf.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_perf.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -75,14 +75,18 @@ inline void InitObject(const PerformanceEntry& entry, Local<Object> obj) {\n                          env->name_string(),\n                          String::NewFromUtf8(isolate,\n                                              entry.name().c_str(),\n-                                             String::kNormalString),\n-                         attr).FromJust();\n+                                             v8::NewStringType::kNormal)\n+                             .ToLocalChecked(),\n+                         attr)\n+      .FromJust();\n   obj->DefineOwnProperty(context,\n                          FIXED_ONE_BYTE_STRING(isolate, \"entryType\"),\n                          String::NewFromUtf8(isolate,\n                                              entry.type().c_str(),\n-                                             String::kNormalString),\n-                         attr).FromJust();\n+                                             v8::NewStringType::kNormal)\n+                             .ToLocalChecked(),\n+                         attr)\n+      .FromJust();\n   obj->DefineOwnProperty(context,\n                          FIXED_ONE_BYTE_STRING(isolate, \"startTime\"),\n                          Number::New(isolate, entry.startTime()),"
        },
        {
            "sha": "d816c32f8dd298b9321a6f5ef8c64c94525edb44",
            "filename": "src/node_process.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_process.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fnode_process.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_process.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -114,8 +114,8 @@ void Cwd(const FunctionCallbackInfo<Value>& args) {\n \n   Local<String> cwd = String::NewFromUtf8(env->isolate(),\n                                           buf,\n-                                          String::kNormalString,\n-                                          cwd_len);\n+                                          v8::NewStringType::kNormal,\n+                                          cwd_len).ToLocalChecked();\n   args.GetReturnValue().Set(cwd);\n }\n "
        },
        {
            "sha": "1e966e42c68ce69ba34724559d268b960a49d50d",
            "filename": "src/spawn_sync.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fspawn_sync.cc",
            "raw_url": "https://github.com/nodejs/node/raw/35ec9b247e25b997bd4150897f15f5e76cf01779/src%2Fspawn_sync.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fspawn_sync.cc?ref=35ec9b247e25b997bd4150897f15f5e76cf01779",
            "patch": "@@ -683,7 +683,10 @@ Local<Object> SyncProcessRunner::BuildResultObject() {\n   if (term_signal_ > 0)\n     js_result->Set(context, env()->signal_string(),\n                    String::NewFromUtf8(env()->isolate(),\n-                                       signo_string(term_signal_))).FromJust();\n+                                       signo_string(term_signal_),\n+                                       v8::NewStringType::kNormal)\n+                       .ToLocalChecked())\n+        .FromJust();\n   else\n     js_result->Set(context, env()->signal_string(),\n                    Null(env()->isolate())).FromJust();"
        }
    ],
    "stats": {
        "total": 143,
        "additions": 89,
        "deletions": 54
    }
}