{
    "author": "apapirovski",
    "message": "src: remove tick_info->has_thrown\n\nThis is no longer necessary in the only place it was used (timers).\n\nPR-URL: https://github.com/nodejs/node/pull/20894\nFixes: https://github.com/nodejs/node/issues/10154\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "bfcf5b01bb4112b833a936a8266879b58ed391db",
    "files": [
        {
            "sha": "7929fd67d7667e2b3c0ac647e838b637f98ebd36",
            "filename": "src/callback_scope.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fcallback_scope.cc",
            "raw_url": "https://github.com/nodejs/node/raw/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fcallback_scope.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fcallback_scope.cc?ref=bfcf5b01bb4112b833a936a8266879b58ed391db",
            "patch": "@@ -59,10 +59,6 @@ InternalCallbackScope::InternalCallbackScope(Environment* env,\n     AsyncWrap::EmitBefore(env, asyncContext.async_id);\n   }\n \n-  if (!IsInnerMakeCallback()) {\n-    env->tick_info()->set_has_thrown(false);\n-  }\n-\n   env->async_hooks()->push_async_ids(async_context_.async_id,\n                                async_context_.trigger_async_id);\n   pushed_ids_ = true;\n@@ -118,7 +114,6 @@ void InternalCallbackScope::Close() {\n   if (!env_->can_call_into_js()) return;\n \n   if (env_->tick_callback_function()->Call(process, 0, nullptr).IsEmpty()) {\n-    env_->tick_info()->set_has_thrown(true);\n     failed_ = true;\n   }\n }"
        },
        {
            "sha": "8086103b1d47fbaac52297c4d73bdf1dad044f8e",
            "filename": "src/env-inl.h",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fenv-inl.h",
            "raw_url": "https://github.com/nodejs/node/raw/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fenv-inl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv-inl.h?ref=bfcf5b01bb4112b833a936a8266879b58ed391db",
            "patch": "@@ -269,10 +269,6 @@ inline bool Environment::TickInfo::has_scheduled() const {\n   return fields_[kHasScheduled] == 1;\n }\n \n-inline bool Environment::TickInfo::has_thrown() const {\n-  return fields_[kHasThrown] == 1;\n-}\n-\n inline bool Environment::TickInfo::has_promise_rejections() const {\n   return fields_[kHasPromiseRejections] == 1;\n }\n@@ -281,10 +277,6 @@ inline void Environment::TickInfo::promise_rejections_toggle_on() {\n   fields_[kHasPromiseRejections] = 1;\n }\n \n-inline void Environment::TickInfo::set_has_thrown(bool state) {\n-  fields_[kHasThrown] = state ? 1 : 0;\n-}\n-\n inline void Environment::AssignToContext(v8::Local<v8::Context> context,\n                                          const ContextInfo& info) {\n   context->SetAlignedPointerInEmbedderData("
        },
        {
            "sha": "3d047166b2b1106b57cd018bb4c1de69d1ffef34",
            "filename": "src/env.h",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fenv.h",
            "raw_url": "https://github.com/nodejs/node/raw/bfcf5b01bb4112b833a936a8266879b58ed391db/src%2Fenv.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.h?ref=bfcf5b01bb4112b833a936a8266879b58ed391db",
            "patch": "@@ -551,10 +551,8 @@ class Environment {\n     inline AliasedBuffer<uint8_t, v8::Uint8Array>& fields();\n     inline bool has_scheduled() const;\n     inline bool has_promise_rejections() const;\n-    inline bool has_thrown() const;\n \n     inline void promise_rejections_toggle_on();\n-    inline void set_has_thrown(bool state);\n \n    private:\n     friend class Environment;  // So we can call the constructor.\n@@ -563,7 +561,6 @@ class Environment {\n     enum Fields {\n       kHasScheduled,\n       kHasPromiseRejections,\n-      kHasThrown,\n       kFieldsCount\n     };\n "
        }
    ],
    "stats": {
        "total": 16,
        "additions": 0,
        "deletions": 16
    }
}