{
    "author": "jasnell",
    "message": "vm: move process.binding('contextify') to internalBinding\n\nPR-URL: https://github.com/nodejs/node/pull/22419\nRefs: https://github.com/nodejs/node/issues/22160\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "4963a04b304e5417f5ba8f769ae8040c18fd018d",
    "files": [
        {
            "sha": "5a28fdda10c52950ff67c63dd4a82288995464be",
            "filename": "lib/internal/bootstrap/loaders.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Floaders.js?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -107,7 +107,7 @@\n     };\n   }\n \n-  const { ContextifyScript } = process.binding('contextify');\n+  const { ContextifyScript } = internalBinding('contextify');\n \n   // Set up NativeModule\n   function NativeModule(id) {"
        },
        {
            "sha": "2482b5d31b8fd5f9ec028c038842b47c9232af8f",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -351,7 +351,8 @@\n         'v8',\n         'stream_wrap',\n         'signal_wrap',\n-        'crypto']);\n+        'crypto',\n+        'contextify']);\n     process.binding = function binding(name) {\n       return internalBindingWhitelist.has(name) ?\n         internalBinding(name) :"
        },
        {
            "sha": "6bba7d782f438527f446e03670a8cf5fd5e10515",
            "filename": "lib/internal/vm/source_text_module.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fvm%2Fsource_text_module.js",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Finternal%2Fvm%2Fsource_text_module.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fvm%2Fsource_text_module.js?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -2,7 +2,7 @@\n \n const { internalBinding } = require('internal/bootstrap/loaders');\n const { URL } = require('internal/url');\n-const { isContext } = process.binding('contextify');\n+const { isContext } = internalBinding('contextify');\n const {\n   ERR_INVALID_ARG_TYPE,\n   ERR_VM_MODULE_ALREADY_LINKED,"
        },
        {
            "sha": "b80cd98dee1444c1c968d56e6affe9b925efdb09",
            "filename": "lib/vm.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Fvm.js",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/lib%2Fvm.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fvm.js?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -21,11 +21,12 @@\n \n 'use strict';\n \n+const { internalBinding } = require('internal/bootstrap/loaders');\n const {\n   ContextifyScript,\n   makeContext,\n   isContext: _isContext,\n-} = process.binding('contextify');\n+} = internalBinding('contextify');\n const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n const { isUint8Array } = require('internal/util/types');\n const { validateInt32, validateUint32 } = require('internal/validators');"
        },
        {
            "sha": "a01fe88cea077a4d7a3b6f2459ec658e00f5cb14",
            "filename": "src/node_contextify.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/src%2Fnode_contextify.cc",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/src%2Fnode_contextify.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_contextify.cc?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -958,4 +958,4 @@ void Initialize(Local<Object> target,\n }  // namespace contextify\n }  // namespace node\n \n-NODE_BUILTIN_MODULE_CONTEXT_AWARE(contextify, node::contextify::Initialize)\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(contextify, node::contextify::Initialize)"
        },
        {
            "sha": "63ce002887db8af4837a767ccff445564bf8b04c",
            "filename": "test/parallel/test-process-binding-internalbinding-whitelist.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/4963a04b304e5417f5ba8f769ae8040c18fd018d/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "raw_url": "https://github.com/nodejs/node/raw/4963a04b304e5417f5ba8f769ae8040c18fd018d/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js?ref=4963a04b304e5417f5ba8f769ae8040c18fd018d",
            "patch": "@@ -11,3 +11,4 @@ assert(process.binding('http_parser'));\n assert(process.binding('v8'));\n assert(process.binding('stream_wrap'));\n assert(process.binding('signal_wrap'));\n+assert(process.binding('contextify'));"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 8,
        "deletions": 5
    }
}