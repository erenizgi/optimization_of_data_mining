{
    "author": "srl295",
    "message": "src: add \"icu::\" prefix before ICU symbols\n\nIn ICU 61.x, icu4c will no longer put its declarations in the global namespace.\nEverything will be in the \"icu::\" namespace (or icu_60:: in the linker).\nPrepare for this.\nhttps://ssl.icu-project.org/trac/ticket/13460",
    "sha": "b8f47b27571f8d763f811f017be3fb37d466c4fc",
    "files": [
        {
            "sha": "01ddc296b08693e5348d209aa4280de74abe0b14",
            "filename": "src/inspector_io.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/b8f47b27571f8d763f811f017be3fb37d466c4fc/src%2Finspector_io.cc",
            "raw_url": "https://github.com/nodejs/node/raw/b8f47b27571f8d763f811f017be3fb37d466c4fc/src%2Finspector_io.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Finspector_io.cc?ref=b8f47b27571f8d763f811f017be3fb37d466c4fc",
            "patch": "@@ -74,11 +74,11 @@ std::string StringViewToUtf8(const StringView& view) {\n \n   size_t result_length = view.length() * sizeof(*source);\n   std::string result(result_length, '\\0');\n-  UnicodeString utf16(unicodeSource, view.length());\n+  icu::UnicodeString utf16(unicodeSource, view.length());\n   // ICU components for std::string compatibility are not enabled in build...\n   bool done = false;\n   while (!done) {\n-    CheckedArrayByteSink sink(&result[0], result_length);\n+    icu::CheckedArrayByteSink sink(&result[0], result_length);\n     utf16.toUTF8(sink);\n     result_length = sink.NumberOfBytesAppended();\n     result.resize(result_length);\n@@ -111,8 +111,9 @@ void ReleasePairOnAsyncClose(uv_handle_t* async) {\n }  // namespace\n \n std::unique_ptr<StringBuffer> Utf8ToStringView(const std::string& message) {\n-  UnicodeString utf16 =\n-      UnicodeString::fromUTF8(StringPiece(message.data(), message.length()));\n+  icu::UnicodeString utf16 =\n+    icu::UnicodeString::fromUTF8(icu::StringPiece(message.data(),\n+      message.length()));\n   StringView view(reinterpret_cast<const uint16_t*>(utf16.getBuffer()),\n                   utf16.length());\n   return StringBuffer::create(view);"
        },
        {
            "sha": "d65fc55ed1fee574e23527f69084aa96ec0e8586",
            "filename": "src/node_i18n.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b8f47b27571f8d763f811f017be3fb37d466c4fc/src%2Fnode_i18n.cc",
            "raw_url": "https://github.com/nodejs/node/raw/b8f47b27571f8d763f811f017be3fb37d466c4fc/src%2Fnode_i18n.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_i18n.cc?ref=b8f47b27571f8d763f811f017be3fb37d466c4fc",
            "patch": "@@ -523,7 +523,7 @@ const char* GetVersion(const char* type,\n   } else if (!strcmp(type, TYPE_UNICODE)) {\n     return U_UNICODE_VERSION;\n   } else if (!strcmp(type, TYPE_TZ)) {\n-    return TimeZone::getTZDataVersion(*status);\n+    return icu::TimeZone::getTZDataVersion(*status);\n   } else if (!strcmp(type, TYPE_CLDR)) {\n     UVersionInfo versionArray;\n     ulocdata_getCLDRVersion(versionArray, status);"
        },
        {
            "sha": "3ceb8d2a4d81d001ff98d55038b49fc569730f37",
            "filename": "tools/icu/iculslocs.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/b8f47b27571f8d763f811f017be3fb37d466c4fc/tools%2Ficu%2Ficulslocs.cc",
            "raw_url": "https://github.com/nodejs/node/raw/b8f47b27571f8d763f811f017be3fb37d466c4fc/tools%2Ficu%2Ficulslocs.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Ficu%2Ficulslocs.cc?ref=b8f47b27571f8d763f811f017be3fb37d466c4fc",
            "patch": "@@ -64,7 +64,7 @@ int VERBOSE = 0;\n #define RES_INDEX \"res_index\"\n #define INSTALLEDLOCALES \"InstalledLocales\"\n \n-CharString packageName;\n+icu::CharString packageName;\n const char* locale = RES_INDEX;  // locale referring to our index\n \n void usage() {\n@@ -147,7 +147,7 @@ int localeExists(const char* loc, UBool* exists) {\n   if (VERBOSE > 1) {\n     printf(\"Trying to open %s:%s\\n\", packageName.data(), loc);\n   }\n-  LocalUResourceBundlePointer aResource(\n+  icu::LocalUResourceBundlePointer aResource(\n       ures_openDirect(packageName.data(), loc, &status));\n   *exists = FALSE;\n   if (U_SUCCESS(status)) {\n@@ -189,11 +189,11 @@ void printIndent(FILE* bf, int indent) {\n  * @return 0 for OK, 1 for err\n  */\n int dumpAllButInstalledLocales(int lev,\n-                               LocalUResourceBundlePointer* bund,\n+                               icu::LocalUResourceBundlePointer* bund,\n                                FILE* bf,\n                                UErrorCode* status) {\n   ures_resetIterator(bund->getAlias());\n-  LocalUResourceBundlePointer t;\n+  icu::LocalUResourceBundlePointer t;\n   while (U_SUCCESS(*status) && ures_hasNext(bund->getAlias())) {\n     t.adoptInstead(ures_getNextResource(bund->getAlias(), t.orphan(), status));\n     ASSERT_SUCCESS(status, \"while processing table\");\n@@ -254,10 +254,10 @@ int list(const char* toBundle) {\n     printf(\"\\\"locale\\\": %s\\n\", locale);\n   }\n \n-  LocalUResourceBundlePointer bund(\n+  icu::LocalUResourceBundlePointer bund(\n       ures_openDirect(packageName.data(), locale, &status));\n   ASSERT_SUCCESS(&status, \"while opening the bundle\");\n-  LocalUResourceBundlePointer installedLocales(\n+  icu::LocalUResourceBundlePointer installedLocales(\n       // NOLINTNEXTLINE (readability/null_usage)\n       ures_getByKey(bund.getAlias(), INSTALLEDLOCALES, NULL, &status));\n   ASSERT_SUCCESS(&status, \"while fetching installed locales\");\n@@ -295,7 +295,7 @@ int list(const char* toBundle) {\n   }\n \n   // OK, now list them.\n-  LocalUResourceBundlePointer subkey;\n+  icu::LocalUResourceBundlePointer subkey;\n \n   int validCount = 0;\n   for (int32_t i = 0; i < count; i++) {"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 13,
        "deletions": 12
    }
}