{
    "author": "danbev",
    "message": "src: use smart pointer in UDPWrap::OnSend\n\nPR-URL: https://github.com/nodejs/node/pull/26233\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "47c784203c97f56497dee65038534cb40ed9529a",
    "files": [
        {
            "sha": "449f17c9430e9fedce6048ff802e4d6f3767256a",
            "filename": "src/udp_wrap.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/47c784203c97f56497dee65038534cb40ed9529a/src%2Fudp_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/47c784203c97f56497dee65038534cb40ed9529a/src%2Fudp_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fudp_wrap.cc?ref=47c784203c97f56497dee65038534cb40ed9529a",
            "patch": "@@ -444,7 +444,7 @@ void UDPWrap::RecvStop(const FunctionCallbackInfo<Value>& args) {\n \n \n void UDPWrap::OnSend(uv_udp_send_t* req, int status) {\n-  SendWrap* req_wrap = static_cast<SendWrap*>(req->data);\n+  std::unique_ptr<SendWrap> req_wrap{static_cast<SendWrap*>(req->data)};\n   if (req_wrap->have_callback()) {\n     Environment* env = req_wrap->env();\n     HandleScope handle_scope(env->isolate());\n@@ -455,7 +455,6 @@ void UDPWrap::OnSend(uv_udp_send_t* req, int status) {\n     };\n     req_wrap->MakeCallback(env->oncomplete_string(), 2, arg);\n   }\n-  delete req_wrap;\n }\n \n "
        }
    ],
    "stats": {
        "total": 3,
        "additions": 1,
        "deletions": 2
    }
}