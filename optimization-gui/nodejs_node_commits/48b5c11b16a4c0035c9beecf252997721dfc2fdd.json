{
    "author": "unknown",
    "message": "n-api: update documentation\n\nDocument which APIs work while an exception is pending. This is the\nlist of all APIs which do not start with `NAPI_PREAMBLE(env)`.\n\nFixes: https://github.com/nodejs/abi-stable-node/issues/257\nPR-URL: https://github.com/nodejs/node/pull/19078\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "48b5c11b16a4c0035c9beecf252997721dfc2fdd",
    "files": [
        {
            "sha": "d67d42805178243c8b0c6e170de3a8745f2c4128",
            "filename": "doc/api/n-api.md",
            "status": "modified",
            "additions": 26,
            "deletions": 10,
            "changes": 36,
            "blob_url": "https://github.com/nodejs/node/blob/48b5c11b16a4c0035c9beecf252997721dfc2fdd/doc%2Fapi%2Fn-api.md",
            "raw_url": "https://github.com/nodejs/node/raw/48b5c11b16a4c0035c9beecf252997721dfc2fdd/doc%2Fapi%2Fn-api.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fn-api.md?ref=48b5c11b16a4c0035c9beecf252997721dfc2fdd",
            "patch": "@@ -279,6 +279,8 @@ Do not rely on the content or format of any of the extended information as it\n is not subject to SemVer and may change at any time. It is intended only for\n logging purposes.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n \n ### Exceptions\n Any N-API function call may result in a pending JavaScript exception. This is\n@@ -504,7 +506,6 @@ Returns `napi_ok` if the API succeeded.\n \n This API returns a JavaScript RangeError with the text provided.\n \n-\n #### napi_get_and_clear_last_exception\n <!-- YAML\n added: v8.0.0\n@@ -521,6 +522,8 @@ Returns `napi_ok` if the API succeeded.\n \n This API returns true if an exception is pending.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n #### napi_is_exception_pending\n <!-- YAML\n added: v8.0.0\n@@ -536,6 +539,8 @@ Returns `napi_ok` if the API succeeded.\n \n This API returns true if an exception is pending.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ### Fatal Errors\n \n In the event of an unrecoverable error in a native module, a fatal error can be\n@@ -562,6 +567,8 @@ null-terminated.\n \n The function call does not return, the process will be terminated.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ## Object Lifetime management\n \n As N-API calls are made, handles to objects in the heap for the underlying\n@@ -683,6 +690,8 @@ Returns `napi_ok` if the API succeeded.\n This API closes the scope passed in. Scopes must be closed in the\n reverse order from which they were created.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n #### napi_open_escapable_handle_scope\n <!-- YAML\n added: v8.0.0\n@@ -717,6 +726,8 @@ Returns `napi_ok` if the API succeeded.\n This API closes the scope passed in. Scopes must be closed in the\n reverse order from which they were created.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n #### napi_escape_handle\n <!-- YAML\n added: v8.0.0\n@@ -740,7 +751,10 @@ This API promotes the handle to the JavaScript object so that it is valid\n for the lifetime of the outer scope. It can only be called once per scope.\n If it is called more than once an error will be returned.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ### References to objects with a lifespan longer than that of the native method\n+\n In some cases an addon will need to be able to create and reference objects\n with a lifespan longer than that of a single native method invocation. For\n example, to create a constructor and later use that constructor\n@@ -815,6 +829,8 @@ Returns `napi_ok` if the API succeeded.\n \n This API deletes the reference passed in.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n #### napi_reference_ref\n <!-- YAML\n added: v8.0.0\n@@ -833,7 +849,6 @@ Returns `napi_ok` if the API succeeded.\n This API increments the reference count for the reference\n passed in and returns the resulting reference count.\n \n-\n #### napi_reference_unref\n <!-- YAML\n added: v8.0.0\n@@ -852,7 +867,6 @@ Returns `napi_ok` if the API succeeded.\n This API decrements the reference count for the reference\n passed in and returns the resulting reference count.\n \n-\n #### napi_get_reference_value\n <!-- YAML\n added: v8.0.0\n@@ -1667,8 +1681,6 @@ This API returns various properties of a typed array.\n *Warning*: Use caution while using this API since the underlying data buffer\n is managed by the VM\n \n-\n-\n #### napi_get_dataview_info\n <!-- YAML\n added: v8.3.0\n@@ -1696,7 +1708,6 @@ Returns `napi_ok` if the API succeeded.\n \n This API returns various properties of a DataView.\n \n-\n #### napi_get_value_bool\n <!-- YAML\n added: v8.0.0\n@@ -1737,7 +1748,6 @@ in it returns `napi_number_expected`.\n This API returns the C double primitive equivalent of the given JavaScript\n Number.\n \n-\n #### napi_get_value_external\n <!-- YAML\n added: v8.0.0\n@@ -1799,7 +1809,7 @@ Returns `napi_ok` if the API succeeded. If a non-number `napi_value`\n is passed in it returns `napi_number_expected`.\n \n This API returns the C int64 primitive equivalent of the given\n-JavaScript Number\n+JavaScript Number.\n \n #### napi_get_value_string_latin1\n <!-- YAML\n@@ -2191,8 +2201,6 @@ Returns `napi_ok` if the API succeeded.\n \n This API checks if the Object passsed in is a typed array.\n \n-\n-\n ### napi_is_dataview\n <!-- YAML\n added: v8.3.0\n@@ -3308,6 +3316,8 @@ Returns `napi_ok` if the API succeeded.\n \n This API frees a previously allocated work object.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ### napi_queue_async_work\n <!-- YAML\n added: v8.0.0\n@@ -3346,6 +3356,8 @@ the `complete` callback will be invoked with a status value of\n `napi_cancelled`. The work should not be deleted before the `complete`\n callback invocation, even if it has been successfully cancelled.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ## Custom Asynchronous Operations\n The simple asynchronous work APIs above may not be appropriate for every\n scenario. When using any other asynchronous mechanism, the following APIs\n@@ -3387,6 +3399,8 @@ napi_status napi_async_destroy(napi_env env,\n \n Returns `napi_ok` if the API succeeded.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ### napi_make_callback\n <!-- YAML\n added: v8.0.0\n@@ -3469,6 +3483,8 @@ NAPI_EXTERN napi_status napi_close_callback_scope(napi_env env,\n - `[in] env`: The environment that the API is invoked under.\n - `[in] scope`: The scope to be closed.\n \n+This API can be called even if there is a pending JavaScript exception.\n+\n ## Version Management\n \n ### napi_get_node_version"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 26,
        "deletions": 10
    }
}