{
    "author": "Trott",
    "message": "test: remove flag for test-addon-uv-handle-leak\n\ntest-addon-uv-handle-leak only requires worker_threads for the\nsubprocess which it explicitly calls with --experimental-worker. The\nmain test itself does not need it. Remove Flags: comment and move\nloading of worker_threads into subprocess-only logic.\n\nPR-URL: https://github.com/nodejs/node/pull/25327\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Daijiro Wachi <daijiro.wachi@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "7ed790e9dbf7827056b2859a57e9ad72863c1d50",
    "files": [
        {
            "sha": "87affeebf20c960a53a88c00942977008d371c27",
            "filename": "test/abort/test-addon-uv-handle-leak.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/7ed790e9dbf7827056b2859a57e9ad72863c1d50/test%2Fabort%2Ftest-addon-uv-handle-leak.js",
            "raw_url": "https://github.com/nodejs/node/raw/7ed790e9dbf7827056b2859a57e9ad72863c1d50/test%2Fabort%2Ftest-addon-uv-handle-leak.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fabort%2Ftest-addon-uv-handle-leak.js?ref=7ed790e9dbf7827056b2859a57e9ad72863c1d50",
            "patch": "@@ -1,11 +1,9 @@\n-// Flags: --experimental-worker\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n const fs = require('fs');\n const path = require('path');\n const cp = require('child_process');\n-const { Worker } = require('worker_threads');\n const { spawnSync } = require('child_process');\n \n // This is a sibling test to test/addons/uv-handle-leak.\n@@ -19,6 +17,8 @@ if (!fs.existsSync(bindingPath))\n \n if (process.argv[2] === 'child') {\n \n+  const { Worker } = require('worker_threads');\n+\n   // The worker thread loads and then unloads `bindingPath`. Because of this the\n   // symbols in `bindingPath` are lost when the worker thread quits, but the\n   // number of open handles in the worker thread's event loop is assessed in the"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}