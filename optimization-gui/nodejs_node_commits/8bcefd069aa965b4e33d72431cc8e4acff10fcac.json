{
    "author": "psmarshall",
    "message": "deps: patch the V8 API to be forward compatible with 6.7\n\nPR-URL: https://github.com/nodejs/node/pull/19999\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Yang Guo <yangguo@chromium.org>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>",
    "sha": "8bcefd069aa965b4e33d72431cc8e4acff10fcac",
    "files": [
        {
            "sha": "d1304a14478d2c847905dfde30c8e265f37f7fca",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -27,7 +27,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.4',\n+    'v8_embedder_string': '-node.5',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "b5f2b77711166f6389a82d5957c4599e3952741e",
            "filename": "deps/v8/include/libplatform/libplatform.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Flibplatform%2Flibplatform.h",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Flibplatform%2Flibplatform.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Flibplatform%2Flibplatform.h?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -38,7 +38,7 @@ V8_PLATFORM_EXPORT std::unique_ptr<v8::Platform> NewDefaultPlatform(\n     int thread_pool_size = 0,\n     IdleTaskSupport idle_task_support = IdleTaskSupport::kDisabled,\n     InProcessStackDumping in_process_stack_dumping =\n-        InProcessStackDumping::kEnabled,\n+        InProcessStackDumping::kDisabled,\n     std::unique_ptr<v8::TracingController> tracing_controller = {});\n \n V8_PLATFORM_EXPORT V8_DEPRECATE_SOON(\n@@ -47,7 +47,7 @@ V8_PLATFORM_EXPORT V8_DEPRECATE_SOON(\n         int thread_pool_size = 0,\n         IdleTaskSupport idle_task_support = IdleTaskSupport::kDisabled,\n         InProcessStackDumping in_process_stack_dumping =\n-            InProcessStackDumping::kEnabled,\n+            InProcessStackDumping::kDisabled,\n         v8::TracingController* tracing_controller = nullptr));\n \n /**"
        },
        {
            "sha": "62b3af84a0f7176e743ace9d26863b4432dc845c",
            "filename": "deps/v8/include/v8-platform.h",
            "status": "modified",
            "additions": 56,
            "deletions": 7,
            "changes": 63,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Fv8-platform.h",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Fv8-platform.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Fv8-platform.h?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -5,11 +5,14 @@\n #ifndef V8_V8_PLATFORM_H_\n #define V8_V8_PLATFORM_H_\n \n+#include <cstdlib>\n #include <stddef.h>\n #include <stdint.h>\n #include <memory>\n #include <string>\n \n+#include \"v8config.h\"  // NOLINT(build/include)\n+\n namespace v8 {\n \n class Isolate;\n@@ -285,14 +288,23 @@ class Platform {\n    */\n   virtual bool OnCriticalMemoryPressure(size_t length) { return false; }\n \n+  virtual int NumberOfWorkerThreads() {\n+    return static_cast<int>(NumberOfAvailableBackgroundThreads());\n+  }\n+\n   /**\n    * Gets the number of threads that are used to execute background tasks. Is\n    * used to estimate the number of tasks a work package should be split into.\n    * A return value of 0 means that there are no background threads available.\n    * Note that a value of 0 won't prohibit V8 from posting tasks using\n    * |CallOnBackgroundThread|.\n    */\n-  virtual size_t NumberOfAvailableBackgroundThreads() { return 0; }\n+  V8_DEPRECATE_SOON(\n+      \"NumberOfAvailableBackgroundThreads() is deprecated, use \"\n+      \"NumberOfAvailableBackgroundThreads() instead.\",\n+      virtual size_t NumberOfAvailableBackgroundThreads()) {\n+    return 0;\n+  }\n \n   /**\n    * Returns a TaskRunner which can be used to post a task on the foreground.\n@@ -309,11 +321,28 @@ class Platform {\n    * Returns a TaskRunner which can be used to post a task on a background.\n    * This function should only be called from a foreground thread.\n    */\n-  virtual std::shared_ptr<v8::TaskRunner> GetBackgroundTaskRunner(\n+  V8_DEPRECATE_SOON(\n+      \"GetBackgroundTaskRunner() is deprecated, use \"\n+      \"GetWorkerThreadsTaskRunner() \"\n+      \"instead.\",\n+      virtual std::shared_ptr<v8::TaskRunner> GetBackgroundTaskRunner(\n+          Isolate* isolate)) {\n+    // TODO(gab): Remove this method when all embedders have moved to\n+    // GetWorkerThreadsTaskRunner().\n+\n+    // An implementation needs to be provided here because this is called by the\n+    // default GetWorkerThreadsTaskRunner() implementation below. In practice\n+    // however, all code either:\n+    //  - Overrides GetWorkerThreadsTaskRunner() (thus not making this call) --\n+    //    i.e. all v8 code.\n+    //  - Overrides this method (thus not making this call) -- i.e. all\n+    //    unadapted embedders.\n+    abort();\n+  }\n+\n+  virtual std::shared_ptr<v8::TaskRunner> GetWorkerThreadsTaskRunner(\n       Isolate* isolate) {\n-    // TODO(ahaas): Make this function abstract after it got implemented on all\n-    // platforms.\n-    return {};\n+    return GetBackgroundTaskRunner(isolate);\n   }\n \n   /**\n@@ -323,8 +352,28 @@ class Platform {\n    * of tasks wrt order of scheduling, nor is there a guarantee about the\n    * thread the task will be run on.\n    */\n-  virtual void CallOnBackgroundThread(Task* task,\n-                                      ExpectedRuntime expected_runtime) = 0;\n+  V8_DEPRECATE_SOON(\n+      \"ExpectedRuntime is deprecated, use CallOnWorkerThread() instead.\",\n+      virtual void CallOnBackgroundThread(Task* task,\n+                                          ExpectedRuntime expected_runtime)) {\n+    // An implementation needs to be provided here because this is called by the\n+    // default implementation below. In practice however, all code either:\n+    //  - Overrides the new method (thus not making this call) -- i.e. all v8\n+    //    code.\n+    //  - Overrides this method (thus not making this call) -- i.e. all\n+    //    unadapted embedders.\n+    abort();\n+  }\n+\n+  virtual void CallOnWorkerThread(std::unique_ptr<Task> task) {\n+    CallOnBackgroundThread(task.release(), kShortRunningTask);\n+  }\n+\n+  virtual void CallBlockingTaskOnWorkerThread(std::unique_ptr<Task> task) {\n+    // Embedders may optionally override this to process these tasks in a high\n+    // priority pool.\n+    CallOnWorkerThread(std::move(task));\n+  }\n \n   /**\n    * Schedules a task to be invoked on a foreground thread wrt a specific"
        },
        {
            "sha": "201c2cc05ca6bdaca4c8e7810ed12cfb4662b112",
            "filename": "deps/v8/include/v8.h",
            "status": "modified",
            "additions": 32,
            "deletions": 47,
            "changes": 79,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Fv8.h",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Finclude%2Fv8.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Fv8.h?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -1567,7 +1567,9 @@ class V8_EXPORT ScriptCompiler {\n   static V8_WARN_UNUSED_RESULT MaybeLocal<Function> CompileFunctionInContext(\n       Local<Context> context, Source* source, size_t arguments_count,\n       Local<String> arguments[], size_t context_extension_count,\n-      Local<Object> context_extensions[]);\n+      Local<Object> context_extensions[],\n+      CompileOptions options = kNoCompileOptions,\n+      NoCacheReason no_cache_reason = kNoCacheNoReason);\n \n   /**\n    * Creates and returns code cache for the specified unbound_script.\n@@ -1641,7 +1643,7 @@ class V8_EXPORT Message {\n    * Returns the index within the line of the first character where\n    * the error occurred.\n    */\n-  V8_DEPRECATED(\"Use maybe version\", int GetStartColumn() const);\n+  int GetStartColumn() const;\n   V8_WARN_UNUSED_RESULT Maybe<int> GetStartColumn(Local<Context> context) const;\n \n   /**\n@@ -3075,6 +3077,8 @@ enum PropertyFilter {\n   SKIP_SYMBOLS = 16\n };\n \n+enum class SideEffectType { kHasSideEffect, kHasNoSideEffect };\n+\n /**\n  * Keys/Properties filter enums:\n  *\n@@ -3207,13 +3211,12 @@ class V8_EXPORT Object : public Value {\n   V8_WARN_UNUSED_RESULT Maybe<bool> Delete(Local<Context> context,\n                                            uint32_t index);\n \n-  V8_WARN_UNUSED_RESULT Maybe<bool> SetAccessor(Local<Context> context,\n-                          Local<Name> name,\n-                          AccessorNameGetterCallback getter,\n-                          AccessorNameSetterCallback setter = 0,\n-                          MaybeLocal<Value> data = MaybeLocal<Value>(),\n-                          AccessControl settings = DEFAULT,\n-                          PropertyAttribute attribute = None);\n+  V8_WARN_UNUSED_RESULT Maybe<bool> SetAccessor(\n+      Local<Context> context, Local<Name> name,\n+      AccessorNameGetterCallback getter, AccessorNameSetterCallback setter = 0,\n+      MaybeLocal<Value> data = MaybeLocal<Value>(),\n+      AccessControl settings = DEFAULT, PropertyAttribute attribute = None,\n+      SideEffectType getter_side_effect_type = SideEffectType::kHasSideEffect);\n \n   void SetAccessorProperty(Local<Name> name, Local<Function> getter,\n                            Local<Function> setter = Local<Function>(),\n@@ -3228,7 +3231,8 @@ class V8_EXPORT Object : public Value {\n       Local<Context> context, Local<Name> name,\n       AccessorNameGetterCallback getter,\n       AccessorNameSetterCallback setter = nullptr,\n-      Local<Value> data = Local<Value>(), PropertyAttribute attributes = None);\n+      Local<Value> data = Local<Value>(), PropertyAttribute attributes = None,\n+      SideEffectType getter_side_effect_type = SideEffectType::kHasSideEffect);\n \n   /**\n    * Attempts to create a property with the given name which behaves like a data\n@@ -3241,7 +3245,8 @@ class V8_EXPORT Object : public Value {\n   V8_WARN_UNUSED_RESULT Maybe<bool> SetLazyDataProperty(\n       Local<Context> context, Local<Name> name,\n       AccessorNameGetterCallback getter, Local<Value> data = Local<Value>(),\n-      PropertyAttribute attributes = None);\n+      PropertyAttribute attributes = None,\n+      SideEffectType getter_side_effect_type = SideEffectType::kHasSideEffect);\n \n   /**\n    * Functionality for private properties.\n@@ -3496,7 +3501,7 @@ class V8_EXPORT Object : public Value {\n   /**\n    * Return the isolate to which the Object belongs to.\n    */\n-  V8_DEPRECATE_SOON(\"Keep track of isolate correctly\", Isolate* GetIsolate());\n+  Isolate* GetIsolate();\n \n   static Local<Object> New(Isolate* isolate);\n \n@@ -3833,7 +3838,8 @@ class V8_EXPORT Function : public Object {\n   static MaybeLocal<Function> New(\n       Local<Context> context, FunctionCallback callback,\n       Local<Value> data = Local<Value>(), int length = 0,\n-      ConstructorBehavior behavior = ConstructorBehavior::kAllow);\n+      ConstructorBehavior behavior = ConstructorBehavior::kAllow,\n+      SideEffectType side_effect_type = SideEffectType::kHasSideEffect);\n   static V8_DEPRECATE_SOON(\n       \"Use maybe version\",\n       Local<Function> New(Isolate* isolate, FunctionCallback callback,\n@@ -4271,13 +4277,6 @@ class V8_EXPORT ArrayBuffer : public Object {\n      */\n     virtual void* AllocateUninitialized(size_t length) = 0;\n \n-    /**\n-     * Reserved |length| bytes, but do not commit the memory. Must call\n-     * |SetProtection| to make memory accessible.\n-     */\n-    // TODO(eholk): make this pure virtual once blink implements this.\n-    virtual void* Reserve(size_t length);\n-\n     /**\n      * Free the memory block of size |length|, pointed to by |data|.\n      * That memory is guaranteed to be previously allocated by |Allocate|.\n@@ -4286,27 +4285,6 @@ class V8_EXPORT ArrayBuffer : public Object {\n \n     enum class AllocationMode { kNormal, kReservation };\n \n-    /**\n-     * Free the memory block of size |length|, pointed to by |data|.\n-     * That memory is guaranteed to be previously allocated by |Allocate| or\n-     * |Reserve|, depending on |mode|.\n-     */\n-    // TODO(eholk): make this pure virtual once blink implements this.\n-    virtual void Free(void* data, size_t length, AllocationMode mode);\n-\n-    enum class Protection { kNoAccess, kReadWrite };\n-\n-    /**\n-     * Change the protection on a region of memory.\n-     *\n-     * On platforms that make a distinction between reserving and committing\n-     * memory, changing the protection to kReadWrite must also ensure the memory\n-     * is committed.\n-     */\n-    // TODO(eholk): make this pure virtual once blink implements this.\n-    virtual void SetProtection(void* data, size_t length,\n-                               Protection protection);\n-\n     /**\n      * malloc/free based convenience allocator.\n      *\n@@ -5496,7 +5474,8 @@ class V8_EXPORT FunctionTemplate : public Template {\n       Isolate* isolate, FunctionCallback callback = 0,\n       Local<Value> data = Local<Value>(),\n       Local<Signature> signature = Local<Signature>(), int length = 0,\n-      ConstructorBehavior behavior = ConstructorBehavior::kAllow);\n+      ConstructorBehavior behavior = ConstructorBehavior::kAllow,\n+      SideEffectType side_effect_type = SideEffectType::kHasSideEffect);\n \n   /** Get a template included in the snapshot by index. */\n   static MaybeLocal<FunctionTemplate> FromSnapshot(Isolate* isolate,\n@@ -5508,7 +5487,8 @@ class V8_EXPORT FunctionTemplate : public Template {\n   static Local<FunctionTemplate> NewWithCache(\n       Isolate* isolate, FunctionCallback callback,\n       Local<Private> cache_property, Local<Value> data = Local<Value>(),\n-      Local<Signature> signature = Local<Signature>(), int length = 0);\n+      Local<Signature> signature = Local<Signature>(), int length = 0,\n+      SideEffectType side_effect_type = SideEffectType::kHasSideEffect);\n \n   /** Returns the unique function instance in the current execution context.*/\n   V8_DEPRECATE_SOON(\"Use maybe version\", Local<Function> GetFunction());\n@@ -5529,8 +5509,9 @@ class V8_EXPORT FunctionTemplate : public Template {\n    * callback is called whenever the function created from this\n    * FunctionTemplate is called.\n    */\n-  void SetCallHandler(FunctionCallback callback,\n-                      Local<Value> data = Local<Value>());\n+  void SetCallHandler(\n+      FunctionCallback callback, Local<Value> data = Local<Value>(),\n+      SideEffectType side_effect_type = SideEffectType::kHasSideEffect);\n \n   /** Set the predefined length property for the FunctionTemplate. */\n   void SetLength(int length);\n@@ -5828,7 +5809,7 @@ class V8_EXPORT ObjectTemplate : public Template {\n    * \\param data A piece of data that will be passed to the callbacks\n    *   whenever they are invoked.\n    */\n-  V8_DEPRECATE_SOON(\n+  V8_DEPRECATED(\n       \"Use SetHandler(const NamedPropertyHandlerConfiguration) \"\n       \"with the kOnlyInterceptStrings flag set.\",\n       void SetNamedPropertyHandler(\n@@ -6586,8 +6567,11 @@ struct JitCodeEvent {\n   // statement, and is used to indicate possible break locations.\n   enum PositionType { POSITION, STATEMENT_POSITION };\n \n+  enum CodeType { BYTE_CODE, JIT_CODE };\n+\n   // Type of event.\n   EventType type;\n+  CodeType code_type;\n   // Start of the instructions.\n   void* code_start;\n   // Size of the instructions.\n@@ -8025,7 +8009,8 @@ class V8_EXPORT V8 {\n    * Enable the default signal handler rather than using one provided by the\n    * embedder.\n    */\n-  static bool RegisterDefaultSignalHandler();\n+  V8_DEPRECATE_SOON(\"Use EnableWebAssemblyTrapHandler\",\n+                    static bool RegisterDefaultSignalHandler());\n \n  private:\n   V8();"
        },
        {
            "sha": "2c3f1b797664fd71841bfef0fcc2ee87f9cb764a",
            "filename": "deps/v8/src/api.cc",
            "status": "modified",
            "additions": 21,
            "deletions": 33,
            "changes": 54,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Fsrc%2Fapi.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Fsrc%2Fapi.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fapi.cc?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -456,19 +456,6 @@ void V8::SetSnapshotDataBlob(StartupData* snapshot_blob) {\n   i::V8::SetSnapshotBlob(snapshot_blob);\n }\n \n-void* v8::ArrayBuffer::Allocator::Reserve(size_t length) { UNIMPLEMENTED(); }\n-\n-void v8::ArrayBuffer::Allocator::Free(void* data, size_t length,\n-                                      AllocationMode mode) {\n-  UNIMPLEMENTED();\n-}\n-\n-void v8::ArrayBuffer::Allocator::SetProtection(\n-    void* data, size_t length,\n-    v8::ArrayBuffer::Allocator::Protection protection) {\n-  UNIMPLEMENTED();\n-}\n-\n namespace {\n \n class ArrayBufferAllocator : public v8::ArrayBuffer::Allocator {\n@@ -1419,7 +1406,8 @@ static Local<FunctionTemplate> FunctionTemplateNew(\n \n Local<FunctionTemplate> FunctionTemplate::New(\n     Isolate* isolate, FunctionCallback callback, v8::Local<Value> data,\n-    v8::Local<Signature> signature, int length, ConstructorBehavior behavior) {\n+    v8::Local<Signature> signature, int length, ConstructorBehavior behavior,\n+    SideEffectType side_effect_type) {\n   i::Isolate* i_isolate = reinterpret_cast<i::Isolate*>(isolate);\n   // Changes to the environment cannot be captured in the snapshot. Expect no\n   // function templates when the isolate is created for serialization.\n@@ -1448,7 +1436,8 @@ MaybeLocal<FunctionTemplate> FunctionTemplate::FromSnapshot(Isolate* isolate,\n \n Local<FunctionTemplate> FunctionTemplate::NewWithCache(\n     Isolate* isolate, FunctionCallback callback, Local<Private> cache_property,\n-    Local<Value> data, Local<Signature> signature, int length) {\n+    Local<Value> data, Local<Signature> signature, int length,\n+    SideEffectType side_effect_type) {\n   i::Isolate* i_isolate = reinterpret_cast<i::Isolate*>(isolate);\n   LOG_API(i_isolate, FunctionTemplate, NewWithCache);\n   ENTER_V8_NO_SCRIPT_NO_EXCEPTION(i_isolate);\n@@ -1474,7 +1463,8 @@ Local<AccessorSignature> AccessorSignature::New(\n   } while (false)\n \n void FunctionTemplate::SetCallHandler(FunctionCallback callback,\n-                                      v8::Local<Value> data) {\n+                                      v8::Local<Value> data,\n+                                      SideEffectType side_effect_type) {\n   auto info = Utils::OpenHandle(this);\n   EnsureNotInstantiated(info, \"v8::FunctionTemplate::SetCallHandler\");\n   i::Isolate* isolate = info->GetIsolate();\n@@ -2484,11 +2474,11 @@ class IsIdentifierHelper {\n   DISALLOW_COPY_AND_ASSIGN(IsIdentifierHelper);\n };\n \n-\n MaybeLocal<Function> ScriptCompiler::CompileFunctionInContext(\n     Local<Context> v8_context, Source* source, size_t arguments_count,\n     Local<String> arguments[], size_t context_extension_count,\n-    Local<Object> context_extensions[]) {\n+    Local<Object> context_extensions[], CompileOptions options,\n+    NoCacheReason no_cache_reason) {\n   PREPARE_FOR_EXECUTION(v8_context, ScriptCompiler, CompileFunctionInContext,\n                         Function);\n   TRACE_EVENT_CALL_STATS_SCOPED(isolate, \"v8\", \"V8.ScriptCompiler\");\n@@ -4719,12 +4709,12 @@ static Maybe<bool> ObjectSetAccessor(Local<Context> context, Object* self,\n   return Just(true);\n }\n \n-\n Maybe<bool> Object::SetAccessor(Local<Context> context, Local<Name> name,\n                                 AccessorNameGetterCallback getter,\n                                 AccessorNameSetterCallback setter,\n                                 MaybeLocal<Value> data, AccessControl settings,\n-                                PropertyAttribute attribute) {\n+                                PropertyAttribute attribute,\n+                                SideEffectType getter_side_effect_type) {\n   return ObjectSetAccessor(context, this, name, getter, setter,\n                            data.FromMaybe(Local<Value>()), settings, attribute,\n                            i::FLAG_disable_old_api_accessors, false);\n@@ -4750,21 +4740,19 @@ void Object::SetAccessorProperty(Local<Name> name, Local<Function> getter,\n                               static_cast<i::PropertyAttributes>(attribute));\n }\n \n-Maybe<bool> Object::SetNativeDataProperty(v8::Local<v8::Context> context,\n-                                          v8::Local<Name> name,\n-                                          AccessorNameGetterCallback getter,\n-                                          AccessorNameSetterCallback setter,\n-                                          v8::Local<Value> data,\n-                                          PropertyAttribute attributes) {\n+Maybe<bool> Object::SetNativeDataProperty(\n+    v8::Local<v8::Context> context, v8::Local<Name> name,\n+    AccessorNameGetterCallback getter, AccessorNameSetterCallback setter,\n+    v8::Local<Value> data, PropertyAttribute attributes,\n+    SideEffectType getter_side_effect_type) {\n   return ObjectSetAccessor(context, this, name, getter, setter, data, DEFAULT,\n                            attributes, true, false);\n }\n \n-Maybe<bool> Object::SetLazyDataProperty(v8::Local<v8::Context> context,\n-                                        v8::Local<Name> name,\n-                                        AccessorNameGetterCallback getter,\n-                                        v8::Local<Value> data,\n-                                        PropertyAttribute attributes) {\n+Maybe<bool> Object::SetLazyDataProperty(\n+    v8::Local<v8::Context> context, v8::Local<Name> name,\n+    AccessorNameGetterCallback getter, v8::Local<Value> data,\n+    PropertyAttribute attributes, SideEffectType getter_side_effect_type) {\n   return ObjectSetAccessor(context, this, name, getter,\n                            static_cast<AccessorNameSetterCallback>(nullptr),\n                            data, DEFAULT, attributes, true, true);\n@@ -5030,10 +5018,10 @@ MaybeLocal<Value> Object::CallAsConstructor(Local<Context> context, int argc,\n   RETURN_ESCAPED(result);\n }\n \n-\n MaybeLocal<Function> Function::New(Local<Context> context,\n                                    FunctionCallback callback, Local<Value> data,\n-                                   int length, ConstructorBehavior behavior) {\n+                                   int length, ConstructorBehavior behavior,\n+                                   SideEffectType side_effect_type) {\n   i::Isolate* isolate = Utils::OpenHandle(*context)->GetIsolate();\n   LOG_API(isolate, Function, New);\n   ENTER_V8_NO_SCRIPT_NO_EXCEPTION(isolate);"
        },
        {
            "sha": "7399af99950a69d9876f94c91d3380e21c479eec",
            "filename": "deps/v8/src/d8.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Fsrc%2Fd8.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Fsrc%2Fd8.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fd8.cc?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -84,20 +84,6 @@ class ArrayBufferAllocatorBase : public v8::ArrayBuffer::Allocator {\n     allocator_->Free(data, length);\n   }\n \n-  void* Reserve(size_t length) override {\n-    UNIMPLEMENTED();\n-    return nullptr;\n-  }\n-\n-  void Free(void* data, size_t length, AllocationMode mode) override {\n-    UNIMPLEMENTED();\n-  }\n-\n-  void SetProtection(void* data, size_t length,\n-                     Protection protection) override {\n-    UNIMPLEMENTED();\n-  }\n-\n  private:\n   std::unique_ptr<Allocator> allocator_ =\n       std::unique_ptr<Allocator>(NewDefaultAllocator());"
        },
        {
            "sha": "144b5070ea8d38fab0b505f38d4edac44a7ddd89",
            "filename": "deps/v8/test/mkgrokdump/mkgrokdump.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Ftest%2Fmkgrokdump%2Fmkgrokdump.cc",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/deps%2Fv8%2Ftest%2Fmkgrokdump%2Fmkgrokdump.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Ftest%2Fmkgrokdump%2Fmkgrokdump.cc?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -37,11 +37,7 @@ class MockArrayBufferAllocator : public v8::ArrayBuffer::Allocator {\n  public:\n   void* Allocate(size_t length) override { return nullptr; }\n   void* AllocateUninitialized(size_t length) override { return nullptr; }\n-  void* Reserve(size_t length) override { return nullptr; }\n-  void Free(void* data, size_t length, AllocationMode mode) override {}\n   void Free(void* p, size_t) override {}\n-  void SetProtection(void* data, size_t length,\n-                     Protection protection) override {}\n };\n \n static int DumpHeapConstants(const char* argv0) {"
        },
        {
            "sha": "249075a981d686ee97e6981c61d16719715fdc88",
            "filename": "src/node_version.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/8bcefd069aa965b4e33d72431cc8e4acff10fcac/src%2Fnode_version.h",
            "raw_url": "https://github.com/nodejs/node/raw/8bcefd069aa965b4e33d72431cc8e4acff10fcac/src%2Fnode_version.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_version.h?ref=8bcefd069aa965b4e33d72431cc8e4acff10fcac",
            "patch": "@@ -107,10 +107,11 @@\n  * V8 6.4: 61\n  * V8 6.5: 62\n  * V8 6.6: 63\n+ * V8 6.7: 64\n  *\n  * More information can be found at https://nodejs.org/en/download/releases/\n  */\n-#define NODE_MODULE_VERSION 63\n+#define NODE_MODULE_VERSION 64\n \n // the NAPI_VERSION provided by this version of the runtime\n #define NAPI_VERSION  3"
        }
    ],
    "stats": {
        "total": 223,
        "additions": 114,
        "deletions": 109
    }
}