{
    "author": "BridgeAR",
    "message": "lib: expose all type checks from the internal types module\n\nCombine all type checks on the internal types module and do not use\nthe types binding anywhere else anymore. This makes sure all of those\nchecks exist when required.\n\nPR-URL: https://github.com/nodejs/node/pull/25149\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>",
    "sha": "5ac30c99a9cc92f563655709d61e47729d441f62",
    "files": [
        {
            "sha": "01d2764c6d566b8a5f5bf7f8f017c22b71067ce5",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -37,7 +37,6 @@ const {\n   kMaxLength,\n   kStringMaxLength\n } = internalBinding('buffer');\n-const { isAnyArrayBuffer } = internalBinding('types');\n const {\n   getOwnNonIndexProperties,\n   propertyFilter: {\n@@ -52,6 +51,7 @@ const {\n   kIsEncodingSymbol\n } = require('internal/util');\n const {\n+  isAnyArrayBuffer,\n   isArrayBufferView,\n   isUint8Array\n } = require('internal/util/types');"
        },
        {
            "sha": "5bf2dc523f6fd13561158ab9e7cbd8f53c8dff3b",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -228,7 +228,7 @@ function startup() {\n     // TODO(addaleax): Turn into a full runtime deprecation.\n     const pendingDeprecation = getOptionValue('--pending-deprecation');\n     const utilBinding = internalBinding('util');\n-    const types = internalBinding('types');\n+    const types = NativeModule.require('internal/util/types');\n     for (const name of [\n       'isArrayBuffer', 'isArrayBufferView', 'isAsyncFunction',\n       'isDataView', 'isDate', 'isExternal', 'isMap', 'isMapIterator',"
        },
        {
            "sha": "0084c19b904a82d42b0f9eaec611d7c1d4bdcb62",
            "filename": "lib/internal/encoding.js",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Fencoding.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Fencoding.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fencoding.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -21,11 +21,10 @@ const {\n   customInspectSymbol: inspect\n } = require('internal/util');\n \n-const { isArrayBufferView } = require('internal/util/types');\n-\n const {\n-  isArrayBuffer\n-} = internalBinding('types');\n+  isArrayBuffer,\n+  isArrayBufferView\n+} = require('internal/util/types');\n \n const {\n   encodeUtf8String"
        },
        {
            "sha": "35239a7655bc817c6f514ef5a33b3d52bc6b07a9",
            "filename": "lib/internal/util.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -14,7 +14,7 @@ const {\n } = internalBinding('util');\n const {\n   isNativeError\n-} = internalBinding('types');\n+} = require('internal/util/types');\n \n const { errmap } = internalBinding('uv');\n "
        },
        {
            "sha": "d0726089063852157fee2e15212cb35466540919",
            "filename": "lib/internal/util/comparisons.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Fcomparisons.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Fcomparisons.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Fcomparisons.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -1,9 +1,9 @@\n 'use strict';\n \n const { compare } = internalBinding('buffer');\n-const { isArrayBufferView } = require('internal/util/types');\n const {\n   isAnyArrayBuffer,\n+  isArrayBufferView,\n   isDate,\n   isMap,\n   isRegExp,\n@@ -15,7 +15,7 @@ const {\n   isBooleanObject,\n   isBigIntObject,\n   isSymbolObject\n-} = internalBinding('types');\n+} = require('internal/util/types');\n const {\n   getOwnNonIndexProperties,\n   propertyFilter: {"
        },
        {
            "sha": "19eb165b780fe3cc50ea44fd7f005715f6d1b316",
            "filename": "lib/internal/util/inspect.js",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Finspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Finspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Finspect.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -27,8 +27,6 @@ const {\n   isStackOverflowError\n } = require('internal/errors');\n \n-const types = internalBinding('types');\n-Object.assign(types, require('internal/util/types'));\n const {\n   isAnyArrayBuffer,\n   isArrayBuffer,\n@@ -38,6 +36,8 @@ const {\n   isExternal,\n   isMap,\n   isMapIterator,\n+  isModuleNamespaceObject,\n+  isNativeError,\n   isPromise,\n   isSet,\n   isSetIterator,\n@@ -61,7 +61,7 @@ const {\n   isFloat64Array,\n   isBigInt64Array,\n   isBigUint64Array\n-} = types;\n+} = require('internal/util/types');\n \n const ReflectApply = Reflect.apply;\n \n@@ -385,9 +385,9 @@ function getKeys(value, showHidden) {\n     try {\n       keys = Object.keys(value);\n     } catch (err) {\n-      if (types.isNativeError(err) &&\n+      if (isNativeError(err) &&\n           err.name === 'ReferenceError' &&\n-          types.isModuleNamespaceObject(value)) {\n+          isModuleNamespaceObject(value)) {\n         keys = Object.getOwnPropertyNames(value);\n       } else {\n         throw err;\n@@ -693,7 +693,7 @@ function formatRaw(ctx, value, recurseTimes) {\n     } else if (isWeakMap(value)) {\n       braces[0] = `${getPrefix(constructor, tag, 'WeakMap')}{`;\n       formatter = ctx.showHidden ? formatWeakMap : formatWeakCollection;\n-    } else if (types.isModuleNamespaceObject(value)) {\n+    } else if (isModuleNamespaceObject(value)) {\n       braces[0] = `[${tag}] {`;\n       formatter = formatNamespaceObject;\n       skip = true;\n@@ -880,7 +880,7 @@ function formatNamespaceObject(ctx, value, recurseTimes, keys) {\n       output[i] = formatProperty(ctx, value, recurseTimes, keys[i],\n                                  kObjectType);\n     } catch (err) {\n-      if (!(types.isNativeError(err) && err.name === 'ReferenceError')) {\n+      if (!(isNativeError(err) && err.name === 'ReferenceError')) {\n         throw err;\n       }\n       // Use the existing functionality. This makes sure the indentation and"
        },
        {
            "sha": "865818c661b78d27b792e5931295f50db0f02d46",
            "filename": "lib/internal/util/types.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Ftypes.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Finternal%2Futil%2Ftypes.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Ftypes.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -70,6 +70,7 @@ function isBigUint64Array(value) {\n }\n \n module.exports = {\n+  ...internalBinding('types'),\n   isArrayBufferView,\n   isTypedArray,\n   isUint8Array,"
        },
        {
            "sha": "1eaf958c3939ba95f38d9e994fc87eeef71c5c2b",
            "filename": "lib/util.js",
            "status": "modified",
            "additions": 3,
            "deletions": 9,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/5ac30c99a9cc92f563655709d61e47729d441f62/lib%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Futil.js?ref=5ac30c99a9cc92f563655709d61e47729d441f62",
            "patch": "@@ -31,13 +31,7 @@ const {\n const { validateNumber } = require('internal/validators');\n const { TextDecoder, TextEncoder } = require('internal/encoding');\n const { isBuffer } = require('buffer').Buffer;\n-\n-const types = internalBinding('types');\n-Object.assign(types, require('internal/util/types'));\n-const {\n-  isRegExp,\n-  isDate,\n-} = types;\n+const types = require('internal/util/types');\n \n const {\n   deprecate,\n@@ -432,9 +426,9 @@ module.exports = exports = {\n   isString,\n   isSymbol,\n   isUndefined,\n-  isRegExp,\n+  isRegExp: types.isRegExp,\n   isObject,\n-  isDate,\n+  isDate: types.isDate,\n   isError(e) {\n     return objectToString(e) === '[object Error]' || e instanceof Error;\n   },"
        }
    ],
    "stats": {
        "total": 44,
        "additions": 19,
        "deletions": 25
    }
}