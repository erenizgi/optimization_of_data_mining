{
    "author": "refack",
    "message": "deps: fix wrong default for v8 handle zapping\n\nPR-URL: https://github.com/nodejs/node/pull/23801\nFixes: https://github.com/nodejs/node/issues/23796\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Matheus Marchini <mat@mmarchini.me>",
    "sha": "c9b49a64fec997438fe0f734839edbaedfa2ad25",
    "files": [
        {
            "sha": "1508097e1d2a44cd4eb5ad9a40d131c52639b4fa",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c9b49a64fec997438fe0f734839edbaedfa2ad25/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/c9b49a64fec997438fe0f734839edbaedfa2ad25/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=c9b49a64fec997438fe0f734839edbaedfa2ad25",
            "patch": "@@ -33,7 +33,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.5',\n+    'v8_embedder_string': '-node.6',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "618949124a71cbd260b2f56a414d800e93aad3b3",
            "filename": "deps/v8/gypfiles/features.gypi",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/c9b49a64fec997438fe0f734839edbaedfa2ad25/deps%2Fv8%2Fgypfiles%2Ffeatures.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/c9b49a64fec997438fe0f734839edbaedfa2ad25/deps%2Fv8%2Fgypfiles%2Ffeatures.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Ffeatures.gypi?ref=c9b49a64fec997438fe0f734839edbaedfa2ad25",
            "patch": "@@ -103,7 +103,9 @@\n     # Enable mitigations for executing untrusted code.\n     'v8_untrusted_code_mitigations%': 'true',\n \n-    'v8_enable_handle_zapping%': 1,\n+    # Currently set for node by common.gypi, avoiding default because of gyp file bug.\n+    # Should be turned on only for debugging.\n+    #'v8_enable_handle_zapping%': 0,\n   },\n   'target_defaults': {\n     'conditions': [\n@@ -164,9 +166,10 @@\n       ['v8_untrusted_code_mitigations==\"false\"', {\n         'defines': ['DISABLE_UNTRUSTED_CODE_MITIGATIONS',],\n       }],\n-      ['v8_enable_handle_zapping==1', {\n-        'defines': ['ENABLE_HANDLE_ZAPPING',],\n-      }],\n+      # Refs: https://github.com/nodejs/node/pull/23801\n+      # ['v8_enable_handle_zapping==1', {\n+      #  'defines': ['ENABLE_HANDLE_ZAPPING',],\n+      # }],\n     ],  # conditions\n     'defines': [\n       'V8_GYP_BUILD',"
        },
        {
            "sha": "ea8f1c2f00da565a26c86af7c29b69af60e1ec22",
            "filename": "deps/v8/gypfiles/toolchain.gypi",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c9b49a64fec997438fe0f734839edbaedfa2ad25/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/c9b49a64fec997438fe0f734839edbaedfa2ad25/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi?ref=c9b49a64fec997438fe0f734839edbaedfa2ad25",
            "patch": "@@ -1321,6 +1321,10 @@\n           }, {\n             'inherit_from': ['DebugBase1'],\n           }],\n+          # Temporary refs: https://github.com/nodejs/node/pull/23801\n+          ['v8_enable_handle_zapping==1', {\n+            'defines': ['ENABLE_HANDLE_ZAPPING',],\n+          }],\n         ],\n       },  # Debug\n       'ReleaseBase': {\n@@ -1405,6 +1409,8 @@\n       },  # Release\n       'Release': {\n         'inherit_from': ['ReleaseBase'],\n+        # Temporary refs: https://github.com/nodejs/node/pull/23801\n+        'defines!': ['ENABLE_HANDLE_ZAPPING',],\n       },  # Debug\n       'conditions': [\n         [ 'OS==\"win\"', {"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 14,
        "deletions": 5
    }
}