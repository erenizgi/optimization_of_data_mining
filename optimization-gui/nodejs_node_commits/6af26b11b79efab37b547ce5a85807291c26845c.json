{
    "author": "makenowjust",
    "message": "console: make console.table() use colored inspect\n\nThis makes `console.table()` inspect objects with color if available\nlike `console.log()`.\n\nPR-URL: https://github.com/nodejs/node/pull/20510\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Jackson Tian <shyvo1987@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "6af26b11b79efab37b547ce5a85807291c26845c",
    "files": [
        {
            "sha": "46b7f7627eddae6a63a50d514052d16c8172728e",
            "filename": "lib/console.js",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/6af26b11b79efab37b547ce5a85807291c26845c/lib%2Fconsole.js",
            "raw_url": "https://github.com/nodejs/node/raw/6af26b11b79efab37b547ce5a85807291c26845c/lib%2Fconsole.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fconsole.js?ref=6af26b11b79efab37b547ce5a85807291c26845c",
            "patch": "@@ -319,15 +319,6 @@ const iterKey = '(iteration index)';\n \n \n const isArray = (v) => ArrayIsArray(v) || isTypedArray(v) || isBuffer(v);\n-const inspect = (v) => {\n-  const opt = { depth: 0, maxArrayLength: 3 };\n-  if (v !== null && typeof v === 'object' &&\n-      !isArray(v) && ObjectKeys(v).length > 2)\n-    opt.depth = -1;\n-  return util.inspect(v, opt);\n-};\n-\n-const getIndexArray = (length) => ArrayFrom({ length }, (_, i) => inspect(i));\n \n // https://console.spec.whatwg.org/#table\n Console.prototype.table = function(tabularData, properties) {\n@@ -340,6 +331,16 @@ Console.prototype.table = function(tabularData, properties) {\n \n   const final = (k, v) => this.log(cliTable(k, v));\n \n+  const inspect = (v) => {\n+    const opt = { depth: 0, maxArrayLength: 3 };\n+    if (v !== null && typeof v === 'object' &&\n+      !isArray(v) && ObjectKeys(v).length > 2)\n+      opt.depth = -1;\n+    Object.assign(opt, this[kGetInspectOptions](this._stdout));\n+    return util.inspect(v, opt);\n+  };\n+  const getIndexArray = (length) => ArrayFrom({ length }, (_, i) => inspect(i));\n+\n   const mapIter = isMapIterator(tabularData);\n   if (mapIter)\n     tabularData = previewMapIterator(tabularData);"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 10,
        "deletions": 9
    }
}