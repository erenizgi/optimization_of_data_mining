{
    "author": "cjihrig",
    "message": "report: simplify option checking\n\nAlso update the code for house style.\n\nPR-URL: https://github.com/nodejs/node/pull/25597\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>",
    "sha": "a0223378b2d2051e7ae05f6e336a56ad53a4635a",
    "files": [
        {
            "sha": "6d141f52aa624dffa169db5a0fbe67c683a98ebe",
            "filename": "src/node_options.cc",
            "status": "modified",
            "additions": 23,
            "deletions": 7,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/a0223378b2d2051e7ae05f6e336a56ad53a4635a/src%2Fnode_options.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a0223378b2d2051e7ae05f6e336a56ad53a4635a/src%2Fnode_options.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_options.cc?ref=a0223378b2d2051e7ae05f6e336a56ad53a4635a",
            "patch": "@@ -36,29 +36,45 @@ void PerProcessOptions::CheckOptions(std::vector<std::string>* errors) {\n void PerIsolateOptions::CheckOptions(std::vector<std::string>* errors) {\n   per_env->CheckOptions(errors);\n #ifdef NODE_REPORT\n-  if (!report_directory.empty() && !per_env->experimental_report)\n+  if (per_env->experimental_report)\n+    return;\n+\n+  if (!report_directory.empty()) {\n     errors->push_back(\"--diagnostic-report-directory option is valid only when \"\n                       \"--experimental-report is set\");\n-  if (!report_filename.empty() && !per_env->experimental_report)\n+  }\n+\n+  if (!report_filename.empty()) {\n     errors->push_back(\"--diagnostic-report-filename option is valid only when \"\n                       \"--experimental-report is set\");\n-  if (!report_signal.empty() && !per_env->experimental_report)\n+  }\n+\n+  if (!report_signal.empty()) {\n     errors->push_back(\"--diagnostic-report-signal option is valid only when \"\n                       \"--experimental-report is set\");\n-  if (report_on_fatalerror && !per_env->experimental_report)\n+  }\n+\n+  if (report_on_fatalerror) {\n     errors->push_back(\n         \"--diagnostic-report-on-fatalerror option is valid only when \"\n         \"--experimental-report is set\");\n-  if (report_on_signal && !per_env->experimental_report)\n+  }\n+\n+  if (report_on_signal) {\n     errors->push_back(\"--diagnostic-report-on-signal option is valid only when \"\n                       \"--experimental-report is set\");\n-  if (report_uncaught_exception && !per_env->experimental_report)\n+  }\n+\n+  if (report_uncaught_exception) {\n     errors->push_back(\n         \"--diagnostic-report-uncaught-exception option is valid only when \"\n         \"--experimental-report is set\");\n-  if (report_verbose && !per_env->experimental_report)\n+  }\n+\n+  if (report_verbose) {\n     errors->push_back(\"--diagnostic-report-verbose option is valid only when \"\n                       \"--experimental-report is set\");\n+  }\n #endif  // NODE_REPORT\n }\n "
        }
    ],
    "stats": {
        "total": 30,
        "additions": 23,
        "deletions": 7
    }
}