{
    "author": "mafintosh",
    "message": "benchmark: add stream.pipe benchmarks\n\nPR-URL: https://github.com/nodejs/node/pull/18617\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Benedikt Meurer <benedikt.meurer@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>",
    "sha": "da97a47c4406d2c4bc867349dd039d6cc7cdff72",
    "files": [
        {
            "sha": "d52b2238780ccbf21f9b3d30a186c743b13ccda6",
            "filename": "benchmark/streams/pipe-object-mode.js",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/da97a47c4406d2c4bc867349dd039d6cc7cdff72/benchmark%2Fstreams%2Fpipe-object-mode.js",
            "raw_url": "https://github.com/nodejs/node/raw/da97a47c4406d2c4bc867349dd039d6cc7cdff72/benchmark%2Fstreams%2Fpipe-object-mode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fstreams%2Fpipe-object-mode.js?ref=da97a47c4406d2c4bc867349dd039d6cc7cdff72",
            "patch": "@@ -0,0 +1,24 @@\n+'use strict';\n+\n+const common = require('../common');\n+const { Readable, Writable } = require('stream');\n+\n+const bench = common.createBenchmark(main, {\n+  n: [5e6]\n+});\n+\n+function main({ n }) {\n+  const b = {};\n+  const r = new Readable({ objectMode: true });\n+  const w = new Writable({ objectMode: true });\n+\n+  var i = 0;\n+\n+  r._read = () => r.push(i++ === n ? null : b);\n+  w._write = (data, enc, cb) => cb();\n+\n+  bench.start();\n+\n+  r.pipe(w);\n+  w.on('finish', () => bench.end(n));\n+}"
        },
        {
            "sha": "a7d67b7d6908c82000a0c24b4d33478e729475ea",
            "filename": "benchmark/streams/pipe.js",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/da97a47c4406d2c4bc867349dd039d6cc7cdff72/benchmark%2Fstreams%2Fpipe.js",
            "raw_url": "https://github.com/nodejs/node/raw/da97a47c4406d2c4bc867349dd039d6cc7cdff72/benchmark%2Fstreams%2Fpipe.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fstreams%2Fpipe.js?ref=da97a47c4406d2c4bc867349dd039d6cc7cdff72",
            "patch": "@@ -0,0 +1,24 @@\n+'use strict';\n+\n+const common = require('../common');\n+const { Readable, Writable } = require('stream');\n+\n+const bench = common.createBenchmark(main, {\n+  n: [5e6]\n+});\n+\n+function main({ n }) {\n+  const b = new Buffer(1024);\n+  const r = new Readable();\n+  const w = new Writable();\n+\n+  var i = 0;\n+\n+  r._read = () => r.push(i++ === n ? null : b);\n+  w._write = (data, enc, cb) => cb();\n+\n+  bench.start();\n+\n+  r.pipe(w);\n+  w.on('finish', () => bench.end(n));\n+}"
        }
    ],
    "stats": {
        "total": 48,
        "additions": 48,
        "deletions": 0
    }
}