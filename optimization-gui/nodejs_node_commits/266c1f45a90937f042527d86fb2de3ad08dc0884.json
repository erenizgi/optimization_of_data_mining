{
    "author": "kenny-y",
    "message": "build: add new benchmark targets\n\nAdding new build targets: 'bench-addons' & 'bench-addons-clean'. With\nthese two, it will be easier to manage the dependencies among targets\nand easier to build/clean the addons which are being used in\nbenchmarking.\n\nPR-URL: https://github.com/nodejs/node/pull/20905\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "266c1f45a90937f042527d86fb2de3ad08dc0884",
    "files": [
        {
            "sha": "a8d5af6b3075deb240707cd5cd1325f3c3918019",
            "filename": "Makefile",
            "status": "modified",
            "additions": 13,
            "deletions": 2,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/266c1f45a90937f042527d86fb2de3ad08dc0884/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/266c1f45a90937f042527d86fb2de3ad08dc0884/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=266c1f45a90937f042527d86fb2de3ad08dc0884",
            "patch": "@@ -141,6 +141,7 @@ clean: ## Remove build artifacts.\n \t$(RM) -r test/tmp*\n \t$(RM) -r test/.tmp*\n \t$(MAKE) test-addons-clean\n+\t$(MAKE) bench-addons-clean\n \n .PHONY: distclean\n distclean:\n@@ -1047,13 +1048,23 @@ ifeq ($(XZ), 0)\n endif\n \n .PHONY: bench-all\n-bench-all:\n+bench-all: bench-addons-build\n \t@echo \"Please use benchmark/run.js or benchmark/compare.js to run the benchmarks.\"\n \n .PHONY: bench\n-bench:\n+bench: bench-addons-build\n \t@echo \"Please use benchmark/run.js or benchmark/compare.js to run the benchmarks.\"\n \n+# Build required addons for benchmark before running it.\n+.PHONY: bench-addons-build\n+bench-addons-build: benchmark/napi/function_call/build/Release/binding.node \\\n+\tbenchmark/napi/function_args/build/Release/binding.node\n+\n+.PHONY: bench-addons-clean\n+bench-addons-clean:\n+\t$(RM) -r benchmark/napi/function_call/build\n+\t$(RM) -r benchmark/napi/function_args/build\n+\n .PHONY: lint-md-clean\n lint-md-clean:\n \t$(RM) -r tools/remark-cli/node_modules"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}