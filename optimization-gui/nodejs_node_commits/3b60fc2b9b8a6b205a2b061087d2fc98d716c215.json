{
    "author": "unknown",
    "message": "test: fix up N-API error test\n\nReplace assert.throws() with an explicit try/catch in order to catch\nthe thrown value and be able to compare it strictly to an expected\nvalue.\n\nRe: https://github.com/nodejs/node/pull/20428#issuecomment-386160684\n\nPR-URL: https://github.com/nodejs/node/pull/20487\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "3b60fc2b9b8a6b205a2b061087d2fc98d716c215",
    "files": [
        {
            "sha": "d4b1d8a971ee09c4b306d33b1e5e1597fd019d74",
            "filename": "test/addons-napi/test_error/test.js",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/3b60fc2b9b8a6b205a2b061087d2fc98d716c215/test%2Faddons-napi%2Ftest_error%2Ftest.js",
            "raw_url": "https://github.com/nodejs/node/raw/3b60fc2b9b8a6b205a2b061087d2fc98d716c215/test%2Faddons-napi%2Ftest_error%2Ftest.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons-napi%2Ftest_error%2Ftest.js?ref=3b60fc2b9b8a6b205a2b061087d2fc98d716c215",
            "patch": "@@ -61,16 +61,23 @@ assert.throws(() => {\n }, /^TypeError: type error$/);\n \n function testThrowArbitrary(value) {\n-  assert.throws(() => {\n-    test_error.throwArbitrary(value);\n-  }, value);\n+  assert.throws(\n+    () => test_error.throwArbitrary(value),\n+    (err) => {\n+      assert.strictEqual(err, value);\n+      return true;\n+    });\n }\n \n testThrowArbitrary(42);\n testThrowArbitrary({});\n testThrowArbitrary([]);\n testThrowArbitrary(Symbol('xyzzy'));\n testThrowArbitrary(true);\n+testThrowArbitrary('ball');\n+testThrowArbitrary(undefined);\n+testThrowArbitrary(null);\n+testThrowArbitrary(NaN);\n \n common.expectsError(\n   () => test_error.throwErrorCode(),"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 10,
        "deletions": 3
    }
}