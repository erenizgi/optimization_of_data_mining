{
    "author": "Trott",
    "message": "test: improve test-net-socket-timeout\n\n* Check for custom Node.js code rather than constructor in\n  assert.throws().\n* Use arrow functions consistently.\n\nPR-URL: https://github.com/nodejs/node/pull/24859\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "6780683a7a28a01c25243560da7eae1ff8c0a089",
    "files": [
        {
            "sha": "a30ab8ce2937645ab49435e0f8e6e7bed91e30be",
            "filename": "test/parallel/test-net-socket-timeout.js",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6780683a7a28a01c25243560da7eae1ff8c0a089/test%2Fparallel%2Ftest-net-socket-timeout.js",
            "raw_url": "https://github.com/nodejs/node/raw/6780683a7a28a01c25243560da7eae1ff8c0a089/test%2Fparallel%2Ftest-net-socket-timeout.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-socket-timeout.js?ref=6780683a7a28a01c25243560da7eae1ff8c0a089",
            "patch": "@@ -34,25 +34,25 @@ const validDelays = [0, 0.001, 1, 1e6];\n \n \n for (let i = 0; i < nonNumericDelays.length; i++) {\n-  assert.throws(function() {\n+  assert.throws(() => {\n     s.setTimeout(nonNumericDelays[i], () => {});\n-  }, TypeError, nonNumericDelays[i]);\n+  }, { code: 'ERR_INVALID_ARG_TYPE' }, nonNumericDelays[i]);\n }\n \n for (let i = 0; i < badRangeDelays.length; i++) {\n-  assert.throws(function() {\n+  assert.throws(() => {\n     s.setTimeout(badRangeDelays[i], () => {});\n-  }, RangeError, badRangeDelays[i]);\n+  }, { code: 'ERR_OUT_OF_RANGE' }, badRangeDelays[i]);\n }\n \n for (let i = 0; i < validDelays.length; i++) {\n   s.setTimeout(validDelays[i], () => {});\n }\n \n const server = net.Server();\n-server.listen(0, common.mustCall(function() {\n-  const socket = net.createConnection(this.address().port);\n-  socket.setTimeout(1, common.mustCall(function() {\n+server.listen(0, common.mustCall(() => {\n+  const socket = net.createConnection(server.address().port);\n+  socket.setTimeout(1, common.mustCall(() => {\n     socket.destroy();\n     server.close();\n   }));"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 7,
        "deletions": 7
    }
}