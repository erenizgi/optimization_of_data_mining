{
    "author": "BridgeAR",
    "message": "buffer: use a default offset\n\nIf none is provided, use zero as a default offset for all read/write\noperations on the buffer.\n\nPR-URL: https://github.com/nodejs/node/pull/19749\nRefs: https://github.com/nodejs/node/pull/18395\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "d5495e859c3aceab7f8a823e27950e715b746a35",
    "files": [
        {
            "sha": "59ee776250c904ba55f79c5958346646339346ba",
            "filename": "lib/internal/buffer.js",
            "status": "modified",
            "additions": 55,
            "deletions": 53,
            "changes": 108,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/lib%2Finternal%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/lib%2Finternal%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbuffer.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -19,7 +19,9 @@ const float64Array = new Float64Array(1);\n const uInt8Float64Array = new Uint8Array(float64Array.buffer);\n \n // Check endianness.\n-float32Array[0] = -1;\n+float32Array[0] = -1; // 0xBF800000\n+// Either it is [0, 0, 128, 191] or [191, 128, 0, 0]. It is not possible to\n+// check this with `os.endianness()` because that is determined at compile time.\n const bigEndian = uInt8Float32Array[3] === 0;\n \n function checkBounds(buf, offset, byteLength) {\n@@ -67,13 +69,13 @@ function readUIntLE(offset, byteLength) {\n     return this.readUInt32LE(offset);\n   if (byteLength === 2)\n     return this.readUInt16LE(offset);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return this.readUInt8(offset);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function readUInt48LE(buf, offset) {\n+function readUInt48LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 5];\n@@ -87,7 +89,7 @@ function readUInt48LE(buf, offset) {\n     (buf[++offset] + last * 2 ** 8) * 2 ** 32;\n }\n \n-function readUInt40LE(buf, offset) {\n+function readUInt40LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 4];\n@@ -101,7 +103,7 @@ function readUInt40LE(buf, offset) {\n     last * 2 ** 32;\n }\n \n-function readUInt32LE(offset) {\n+function readUInt32LE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -114,7 +116,7 @@ function readUInt32LE(offset) {\n     last * 2 ** 24;\n }\n \n-function readUInt24LE(buf, offset) {\n+function readUInt24LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 2];\n@@ -124,7 +126,7 @@ function readUInt24LE(buf, offset) {\n   return first + buf[++offset] * 2 ** 8 + last * 2 ** 16;\n }\n \n-function readUInt16LE(offset) {\n+function readUInt16LE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 1];\n@@ -134,7 +136,7 @@ function readUInt16LE(offset) {\n   return first + last * 2 ** 8;\n }\n \n-function readUInt8(offset) {\n+function readUInt8(offset = 0) {\n   checkNumberType(offset);\n   const val = this[offset];\n   if (val === undefined)\n@@ -154,13 +156,13 @@ function readUIntBE(offset, byteLength) {\n     return this.readUInt32BE(offset);\n   if (byteLength === 2)\n     return this.readUInt16BE(offset);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return this.readUInt8(offset);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function readUInt48BE(buf, offset) {\n+function readUInt48BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 5];\n@@ -174,7 +176,7 @@ function readUInt48BE(buf, offset) {\n     last;\n }\n \n-function readUInt40BE(buf, offset) {\n+function readUInt40BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 4];\n@@ -188,7 +190,7 @@ function readUInt40BE(buf, offset) {\n     last;\n }\n \n-function readUInt32BE(offset) {\n+function readUInt32BE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -201,7 +203,7 @@ function readUInt32BE(offset) {\n     last;\n }\n \n-function readUInt24BE(buf, offset) {\n+function readUInt24BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 2];\n@@ -211,7 +213,7 @@ function readUInt24BE(buf, offset) {\n   return first * 2 ** 16 + buf[++offset] * 2 ** 8 + last;\n }\n \n-function readUInt16BE(offset) {\n+function readUInt16BE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 1];\n@@ -232,13 +234,13 @@ function readIntLE(offset, byteLength) {\n     return this.readInt32LE(offset);\n   if (byteLength === 2)\n     return this.readInt16LE(offset);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return this.readInt8(offset);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function readInt48LE(buf, offset) {\n+function readInt48LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 5];\n@@ -253,7 +255,7 @@ function readInt48LE(buf, offset) {\n     buf[++offset] * 2 ** 24;\n }\n \n-function readInt40LE(buf, offset) {\n+function readInt40LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 4];\n@@ -267,7 +269,7 @@ function readInt40LE(buf, offset) {\n     buf[++offset] * 2 ** 24;\n }\n \n-function readInt32LE(offset) {\n+function readInt32LE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -280,7 +282,7 @@ function readInt32LE(offset) {\n     (last << 24); // Overflow\n }\n \n-function readInt24LE(buf, offset) {\n+function readInt24LE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 2];\n@@ -291,7 +293,7 @@ function readInt24LE(buf, offset) {\n   return val | (val & 2 ** 23) * 0x1fe;\n }\n \n-function readInt16LE(offset) {\n+function readInt16LE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 1];\n@@ -302,7 +304,7 @@ function readInt16LE(offset) {\n   return val | (val & 2 ** 15) * 0x1fffe;\n }\n \n-function readInt8(offset) {\n+function readInt8(offset = 0) {\n   checkNumberType(offset);\n   const val = this[offset];\n   if (val === undefined)\n@@ -322,13 +324,13 @@ function readIntBE(offset, byteLength) {\n     return this.readInt32BE(offset);\n   if (byteLength === 2)\n     return this.readInt16BE(offset);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return this.readInt8(offset);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function readInt48BE(buf, offset) {\n+function readInt48BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 5];\n@@ -343,7 +345,7 @@ function readInt48BE(buf, offset) {\n     last;\n }\n \n-function readInt40BE(buf, offset) {\n+function readInt40BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 4];\n@@ -357,7 +359,7 @@ function readInt40BE(buf, offset) {\n     last;\n }\n \n-function readInt32BE(offset) {\n+function readInt32BE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -370,7 +372,7 @@ function readInt32BE(offset) {\n     last;\n }\n \n-function readInt24BE(buf, offset) {\n+function readInt24BE(buf, offset = 0) {\n   checkNumberType(offset);\n   const first = buf[offset];\n   const last = buf[offset + 2];\n@@ -381,7 +383,7 @@ function readInt24BE(buf, offset) {\n   return val | (val & 2 ** 23) * 0x1fe;\n }\n \n-function readInt16BE(offset) {\n+function readInt16BE(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 1];\n@@ -393,7 +395,7 @@ function readInt16BE(offset) {\n }\n \n // Read floats\n-function readFloatBackwards(offset) {\n+function readFloatBackwards(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -407,7 +409,7 @@ function readFloatBackwards(offset) {\n   return float32Array[0];\n }\n \n-function readFloatForwards(offset) {\n+function readFloatForwards(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 3];\n@@ -421,7 +423,7 @@ function readFloatForwards(offset) {\n   return float32Array[0];\n }\n \n-function readDoubleBackwards(offset) {\n+function readDoubleBackwards(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 7];\n@@ -439,7 +441,7 @@ function readDoubleBackwards(offset) {\n   return float64Array[0];\n }\n \n-function readDoubleForwards(offset) {\n+function readDoubleForwards(offset = 0) {\n   checkNumberType(offset);\n   const first = this[offset];\n   const last = this[offset + 7];\n@@ -458,7 +460,7 @@ function readDoubleForwards(offset) {\n }\n \n // Write integers.\n-function writeUIntLE(value, offset, byteLength) {\n+function writeUIntLE(value, offset = 0, byteLength) {\n   if (byteLength === 6)\n     return writeU_Int48LE(this, value, offset, 0, 0xffffffffffff);\n   if (byteLength === 5)\n@@ -469,7 +471,7 @@ function writeUIntLE(value, offset, byteLength) {\n     return writeU_Int32LE(this, value, offset, 0, 0xffffffff);\n   if (byteLength === 2)\n     return writeU_Int16LE(this, value, offset, 0, 0xffff);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return writeU_Int8(this, value, offset, 0, 0xff);\n \n   boundsError(byteLength, 6, 'byteLength');\n@@ -522,7 +524,7 @@ function writeU_Int32LE(buf, value, offset, min, max) {\n   return offset;\n }\n \n-function writeUInt32LE(value, offset) {\n+function writeUInt32LE(value, offset = 0) {\n   return writeU_Int32LE(this, value, offset, 0, 0xffffffff);\n }\n \n@@ -547,7 +549,7 @@ function writeU_Int16LE(buf, value, offset, min, max) {\n   return offset;\n }\n \n-function writeUInt16LE(value, offset) {\n+function writeUInt16LE(value, offset = 0) {\n   return writeU_Int16LE(this, value, offset, 0, 0xffff);\n }\n \n@@ -565,11 +567,11 @@ function writeU_Int8(buf, value, offset, min, max) {\n   return offset + 1;\n }\n \n-function writeUInt8(value, offset) {\n+function writeUInt8(value, offset = 0) {\n   return writeU_Int8(this, value, offset, 0, 0xff);\n }\n \n-function writeUIntBE(value, offset, byteLength) {\n+function writeUIntBE(value, offset = 0, byteLength) {\n   if (byteLength === 6)\n     return writeU_Int48BE(this, value, offset, 0, 0xffffffffffffff);\n   if (byteLength === 5)\n@@ -580,7 +582,7 @@ function writeUIntBE(value, offset, byteLength) {\n     return writeU_Int32BE(this, value, offset, 0, 0xffffffff);\n   if (byteLength === 2)\n     return writeU_Int16BE(this, value, offset, 0, 0xffff);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return writeU_Int8(this, value, offset, 0, 0xff);\n \n   boundsError(byteLength, 6, 'byteLength');\n@@ -632,7 +634,7 @@ function writeU_Int32BE(buf, value, offset, min, max) {\n   return offset + 4;\n }\n \n-function writeUInt32BE(value, offset) {\n+function writeUInt32BE(value, offset = 0) {\n   return writeU_Int32BE(this, value, offset, 0, 0xffffffff);\n }\n \n@@ -657,11 +659,11 @@ function writeU_Int16BE(buf, value, offset, min, max) {\n   return offset;\n }\n \n-function writeUInt16BE(value, offset) {\n+function writeUInt16BE(value, offset = 0) {\n   return writeU_Int16BE(this, value, offset, 0, 0xffffffff);\n }\n \n-function writeIntLE(value, offset, byteLength) {\n+function writeIntLE(value, offset = 0, byteLength) {\n   if (byteLength === 6)\n     return writeU_Int48LE(this, value, offset, -0x800000000000, 0x7fffffffffff);\n   if (byteLength === 5)\n@@ -672,25 +674,25 @@ function writeIntLE(value, offset, byteLength) {\n     return writeU_Int32LE(this, value, offset, -0x80000000, 0x7fffffff);\n   if (byteLength === 2)\n     return writeU_Int16LE(this, value, offset, -0x8000, 0x7fff);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return writeU_Int8(this, value, offset, -0x80, 0x7f);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function writeInt32LE(value, offset) {\n+function writeInt32LE(value, offset = 0) {\n   return writeU_Int32LE(this, value, offset, -0x80000000, 0x7fffffff);\n }\n \n-function writeInt16LE(value, offset) {\n+function writeInt16LE(value, offset = 0) {\n   return writeU_Int16LE(this, value, offset, -0x8000, 0x7fff);\n }\n \n-function writeInt8(value, offset) {\n+function writeInt8(value, offset = 0) {\n   return writeU_Int8(this, value, offset, -0x80, 0x7f);\n }\n \n-function writeIntBE(value, offset, byteLength) {\n+function writeIntBE(value, offset = 0, byteLength) {\n   if (byteLength === 6)\n     return writeU_Int48BE(this, value, offset, -0x800000000000, 0x7fffffffffff);\n   if (byteLength === 5)\n@@ -701,22 +703,22 @@ function writeIntBE(value, offset, byteLength) {\n     return writeU_Int32BE(this, value, offset, -0x80000000, 0x7fffffff);\n   if (byteLength === 2)\n     return writeU_Int16BE(this, value, offset, -0x8000, 0x7fff);\n-  if (byteLength === 1)\n+  if (byteLength === 1 || byteLength === undefined)\n     return writeU_Int8(this, value, offset, -0x80, 0x7f);\n \n   boundsError(byteLength, 6, 'byteLength');\n }\n \n-function writeInt32BE(value, offset) {\n+function writeInt32BE(value, offset = 0) {\n   return writeU_Int32BE(this, value, offset, -0x80000000, 0x7fffffff);\n }\n \n-function writeInt16BE(value, offset) {\n+function writeInt16BE(value, offset = 0) {\n   return writeU_Int16BE(this, value, offset, -0x8000, 0x7fff);\n }\n \n // Write floats.\n-function writeDoubleForwards(val, offset) {\n+function writeDoubleForwards(val, offset = 0) {\n   val = +val;\n   checkBounds(this, offset, 7);\n \n@@ -732,7 +734,7 @@ function writeDoubleForwards(val, offset) {\n   return offset;\n }\n \n-function writeDoubleBackwards(val, offset) {\n+function writeDoubleBackwards(val, offset = 0) {\n   val = +val;\n   checkBounds(this, offset, 7);\n \n@@ -748,7 +750,7 @@ function writeDoubleBackwards(val, offset) {\n   return offset;\n }\n \n-function writeFloatForwards(val, offset) {\n+function writeFloatForwards(val, offset = 0) {\n   val = +val;\n   checkBounds(this, offset, 3);\n \n@@ -760,7 +762,7 @@ function writeFloatForwards(val, offset) {\n   return offset;\n }\n \n-function writeFloatBackwards(val, offset) {\n+function writeFloatBackwards(val, offset = 0) {\n   val = +val;\n   checkBounds(this, offset, 3);\n "
        },
        {
            "sha": "a61ab352c12d0f9fb4425d464010d8469be6a2d9",
            "filename": "test/parallel/test-buffer-readdouble.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readdouble.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readdouble.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-readdouble.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -99,7 +99,12 @@ assert.strictEqual(buffer.readDoubleBE(0), 3.04814e-319);\n assert.strictEqual(buffer.readDoubleLE(0), -Infinity);\n \n ['readDoubleLE', 'readDoubleBE'].forEach((fn) => {\n-  ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+\n+  // Verify that default offset works fine.\n+  buffer[fn](undefined);\n+  buffer[fn]();\n+\n+  ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n     assert.throws(\n       () => buffer[fn](off),\n       { code: 'ERR_INVALID_ARG_TYPE' }"
        },
        {
            "sha": "e6bb779804e9bb3fbb900b08ea80b241438d4ea8",
            "filename": "test/parallel/test-buffer-readfloat.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readfloat.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readfloat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-readfloat.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -62,7 +62,12 @@ assert.strictEqual(buffer.readFloatBE(0), 4.627507918739843e-41);\n assert.strictEqual(buffer.readFloatLE(0), -Infinity);\n \n ['readFloatLE', 'readFloatBE'].forEach((fn) => {\n-  ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+\n+  // Verify that default offset works fine.\n+  buffer[fn](undefined);\n+  buffer[fn]();\n+\n+  ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n     assert.throws(\n       () => buffer[fn](off),\n       { code: 'ERR_INVALID_ARG_TYPE' }"
        },
        {
            "sha": "ce0e6681cec38b78febac39144ae1618be2dddf3",
            "filename": "test/parallel/test-buffer-readint.js",
            "status": "modified",
            "additions": 14,
            "deletions": 3,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readint.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-readint.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-readint.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -8,7 +8,12 @@ const assert = require('assert');\n   const buffer = Buffer.alloc(4);\n \n   ['Int8', 'Int16BE', 'Int16LE', 'Int32BE', 'Int32LE'].forEach((fn) => {\n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+\n+    // Verify that default offset works fine.\n+    buffer[`read${fn}`](undefined);\n+    buffer[`read${fn}`]();\n+\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((o) => {\n       assert.throws(\n         () => buffer[`read${fn}`](o),\n         {\n@@ -129,7 +134,13 @@ const assert = require('assert');\n \n   // Check byteLength.\n   ['readIntBE', 'readIntLE'].forEach((fn) => {\n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((len) => {\n+\n+    // Verify that default offset & byteLength works fine.\n+    buffer[fn](undefined, undefined);\n+    buffer[fn](undefined);\n+    buffer[fn]();\n+\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((len) => {\n       assert.throws(\n         () => buffer[fn](0, len),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n@@ -160,7 +171,7 @@ const assert = require('assert');\n   // Test 1 to 6 bytes.\n   for (let i = 1; i < 6; i++) {\n     ['readIntBE', 'readIntLE'].forEach((fn) => {\n-      ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+      ['', '0', null, {}, [], () => {}, true, false].forEach((o) => {\n         assert.throws(\n           () => buffer[fn](o, i),\n           {"
        },
        {
            "sha": "0dc26dbd3b23f190d11546ee0ce188f072a233dc",
            "filename": "test/parallel/test-buffer-writedouble.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writedouble.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writedouble.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-writedouble.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -80,6 +80,11 @@ assert.ok(Number.isNaN(buffer.readDoubleLE(8)));\n   const small = Buffer.allocUnsafe(1);\n \n   ['writeDoubleLE', 'writeDoubleBE'].forEach((fn) => {\n+\n+    // Verify that default offset works fine.\n+    buffer[fn](23, undefined);\n+    buffer[fn](23);\n+\n     assert.throws(\n       () => small[fn](11.11, 0),\n       {\n@@ -88,7 +93,7 @@ assert.ok(Number.isNaN(buffer.readDoubleLE(8)));\n         message: 'Attempt to write outside buffer bounds'\n       });\n \n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n       assert.throws(\n         () => small[fn](23, off),\n         { code: 'ERR_INVALID_ARG_TYPE' });"
        },
        {
            "sha": "77dd4793e5e7499fd6874f98e59cd1e257c2702f",
            "filename": "test/parallel/test-buffer-writefloat.js",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writefloat.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writefloat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-writefloat.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -61,6 +61,11 @@ assert.ok(Number.isNaN(buffer.readFloatLE(4)));\n   const small = Buffer.allocUnsafe(1);\n \n   ['writeFloatLE', 'writeFloatBE'].forEach((fn) => {\n+\n+    // Verify that default offset works fine.\n+    buffer[fn](23, undefined);\n+    buffer[fn](23);\n+\n     assert.throws(\n       () => small[fn](11.11, 0),\n       {\n@@ -69,7 +74,7 @@ assert.ok(Number.isNaN(buffer.readFloatLE(4)));\n         message: 'Attempt to write outside buffer bounds'\n       });\n \n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n       assert.throws(\n         () => small[fn](23, off),\n         { code: 'ERR_INVALID_ARG_TYPE' }"
        },
        {
            "sha": "8f167044e388f1e771f97b6527a8c93063eb8c82",
            "filename": "test/parallel/test-buffer-writeint.js",
            "status": "modified",
            "additions": 26,
            "deletions": 6,
            "changes": 32,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writeint.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writeint.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-writeint.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -31,7 +31,11 @@ const errorOutOfBounds = common.expectsError({\n     buffer.writeInt8(-0x80 - 1, 0);\n   }, errorOutOfBounds);\n \n-  ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+  // Verify that default offset works fine.\n+  buffer.writeInt8(23, undefined);\n+  buffer.writeInt8(23);\n+\n+  ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n     assert.throws(\n       () => buffer.writeInt8(23, off),\n       { code: 'ERR_INVALID_ARG_TYPE' });\n@@ -70,14 +74,19 @@ const errorOutOfBounds = common.expectsError({\n   assert.ok(buffer.equals(new Uint8Array([ 0xff, 0x7f, 0x00, 0x80 ])));\n \n   ['writeInt16BE', 'writeInt16LE'].forEach((fn) => {\n+\n+    // Verify that default offset works fine.\n+    buffer[fn](23, undefined);\n+    buffer[fn](23);\n+\n     assert.throws(() => {\n       buffer[fn](0x7fff + 1, 0);\n     }, errorOutOfBounds);\n     assert.throws(() => {\n       buffer[fn](-0x8000 - 1, 0);\n     }, errorOutOfBounds);\n \n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n       assert.throws(\n         () => buffer[fn](23, off),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n@@ -127,14 +136,19 @@ const errorOutOfBounds = common.expectsError({\n   ])));\n \n   ['writeInt32BE', 'writeInt32LE'].forEach((fn) => {\n+\n+    // Verify that default offset works fine.\n+    buffer[fn](23, undefined);\n+    buffer[fn](23);\n+\n     assert.throws(() => {\n       buffer[fn](0x7fffffff + 1, 0);\n     }, errorOutOfBounds);\n     assert.throws(() => {\n       buffer[fn](-0x80000000 - 1, 0);\n     }, errorOutOfBounds);\n \n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((off) => {\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((off) => {\n       assert.throws(\n         () => buffer[fn](23, off),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n@@ -154,9 +168,15 @@ const errorOutOfBounds = common.expectsError({\n \n   // Check byteLength.\n   ['writeIntBE', 'writeIntLE'].forEach((fn) => {\n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+\n+    // Verify that default offset & byteLength works fine.\n+    data[fn](undefined, undefined);\n+    data[fn](undefined);\n+    data[fn]();\n+\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((bl) => {\n       assert.throws(\n-        () => data[fn](23, 0, o),\n+        () => data[fn](23, 0, bl),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n     });\n \n@@ -200,7 +220,7 @@ const errorOutOfBounds = common.expectsError({\n         });\n       });\n \n-      ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+      ['', '0', null, {}, [], () => {}, true, false].forEach((o) => {\n         assert.throws(\n           () => data[fn](min, o, i),\n           {"
        },
        {
            "sha": "1f304993ff9cb015dcb63cce6ea2c75631e8e902",
            "filename": "test/parallel/test-buffer-writeuint.js",
            "status": "modified",
            "additions": 15,
            "deletions": 4,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writeuint.js",
            "raw_url": "https://github.com/nodejs/node/raw/d5495e859c3aceab7f8a823e27950e715b746a35/test%2Fparallel%2Ftest-buffer-writeuint.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-writeuint.js?ref=d5495e859c3aceab7f8a823e27950e715b746a35",
            "patch": "@@ -14,7 +14,12 @@ const assert = require('assert');\n { // OOB\n   const data = Buffer.alloc(8);\n   ['UInt8', 'UInt16BE', 'UInt16LE', 'UInt32BE', 'UInt32LE'].forEach((fn) => {\n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+\n+    // Verify that default offset works fine.\n+    data[`write${fn}`](23, undefined);\n+    data[`write${fn}`](23);\n+\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((o) => {\n       assert.throws(\n         () => data[`write${fn}`](23, o),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n@@ -112,9 +117,15 @@ const assert = require('assert');\n \n   // Check byteLength.\n   ['writeUIntBE', 'writeUIntLE'].forEach((fn) => {\n-    ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+\n+    // Verify that default offset & byteLength works fine.\n+    data[fn](undefined, undefined);\n+    data[fn](undefined);\n+    data[fn]();\n+\n+    ['', '0', null, {}, [], () => {}, true, false].forEach((bl) => {\n       assert.throws(\n-        () => data[fn](23, 0, o),\n+        () => data[fn](23, 0, bl),\n         { code: 'ERR_INVALID_ARG_TYPE' });\n     });\n \n@@ -153,7 +164,7 @@ const assert = require('assert');\n                  `It must be >= 0 and <= ${val - 1}. Received ${val}`\n       });\n \n-      ['', '0', null, undefined, {}, [], () => {}, true, false].forEach((o) => {\n+      ['', '0', null, {}, [], () => {}, true, false].forEach((o) => {\n         assert.throws(\n           () => data[fn](23, o, i),\n           {"
        }
    ],
    "stats": {
        "total": 204,
        "additions": 134,
        "deletions": 70
    }
}