{
    "author": "refack",
    "message": "test: call gc() explicitly to avoid OOM\n\nPR-URL: https://github.com/nodejs/node/pull/22301\nRefs: https://github.com/nodejs/reliability/issues/12\nRefs: https://github.com/nodejs/node/issues/16354\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "4ce744a24b52659dc3b365a32fddcc1b92fd67c0",
    "files": [
        {
            "sha": "e4edd32797c2afd813101642f3fd6452e4b7846b",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-binary.js",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/4ce744a24b52659dc3b365a32fddcc1b92fd67c0/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js",
            "raw_url": "https://github.com/nodejs/node/raw/4ce744a24b52659dc3b365a32fddcc1b92fd67c0/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js?ref=4ce744a24b52659dc3b365a32fddcc1b92fd67c0",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-gc\n 'use strict';\n \n const common = require('../../common');\n@@ -35,10 +36,13 @@ common.expectsError(function() {\n   type: Error\n });\n \n+// FIXME: Free the memory early to avoid OOM.\n+// REF: https://github.com/nodejs/reliability/issues/12#issuecomment-412619655\n+global.gc();\n let maxString = buf.toString('latin1', 1);\n assert.strictEqual(maxString.length, kStringMaxLength);\n-// Free the memory early instead of at the end of the next assignment\n maxString = undefined;\n+global.gc();\n \n maxString = buf.toString('latin1', 0, kStringMaxLength);\n assert.strictEqual(maxString.length, kStringMaxLength);"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}