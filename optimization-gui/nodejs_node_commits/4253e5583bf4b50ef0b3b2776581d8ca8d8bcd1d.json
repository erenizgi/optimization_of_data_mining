{
    "author": "tniessen",
    "message": "tls: preallocate SSL cipher array\n\nPR-URL: https://github.com/nodejs/node/pull/22136\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "4253e5583bf4b50ef0b3b2776581d8ca8d8bcd1d",
    "files": [
        {
            "sha": "51c2fe2648c68e39cf267162e3f642e37f8d9012",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/4253e5583bf4b50ef0b3b2776581d8ca8d8bcd1d/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/4253e5583bf4b50ef0b3b2776581d8ca8d8bcd1d/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=4253e5583bf4b50ef0b3b2776581d8ca8d8bcd1d",
            "patch": "@@ -4850,10 +4850,11 @@ void GetSSLCiphers(const FunctionCallbackInfo<Value>& args) {\n   SSLPointer ssl(SSL_new(ctx.get()));\n   CHECK(ssl);\n \n-  Local<Array> arr = Array::New(env->isolate());\n   STACK_OF(SSL_CIPHER)* ciphers = SSL_get_ciphers(ssl.get());\n+  int n = sk_SSL_CIPHER_num(ciphers);\n+  Local<Array> arr = Array::New(env->isolate(), n);\n \n-  for (int i = 0; i < sk_SSL_CIPHER_num(ciphers); ++i) {\n+  for (int i = 0; i < n; ++i) {\n     const SSL_CIPHER* cipher = sk_SSL_CIPHER_value(ciphers, i);\n     arr->Set(env->context(),\n              i,"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}