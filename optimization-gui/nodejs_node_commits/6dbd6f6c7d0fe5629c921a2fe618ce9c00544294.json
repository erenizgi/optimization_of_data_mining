{
    "author": "targos",
    "message": "deps: patch V8 to 6.7.288.44\n\nRefs: https://github.com/v8/v8/compare/6.7.288.43...6.7.288.44\n\nPR-URL: https://github.com/nodejs/node/pull/21146\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "6dbd6f6c7d0fe5629c921a2fe618ce9c00544294",
    "files": [
        {
            "sha": "ed513b5b80d74aa14c4ccb881b3c0bbad51e35a5",
            "filename": "deps/v8/include/v8-version.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Finclude%2Fv8-version.h",
            "raw_url": "https://github.com/nodejs/node/raw/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Finclude%2Fv8-version.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Fv8-version.h?ref=6dbd6f6c7d0fe5629c921a2fe618ce9c00544294",
            "patch": "@@ -11,7 +11,7 @@\n #define V8_MAJOR_VERSION 6\n #define V8_MINOR_VERSION 7\n #define V8_BUILD_NUMBER 288\n-#define V8_PATCH_LEVEL 43\n+#define V8_PATCH_LEVEL 44\n \n // Use 1 for candidates and 0 otherwise.\n // (Boolean macro values are not supported by all preprocessors.)"
        },
        {
            "sha": "73c7098c06be6c8034c0fecaef2b476530b6554e",
            "filename": "deps/v8/src/builtins/builtins-date.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fbuiltins%2Fbuiltins-date.cc",
            "raw_url": "https://github.com/nodejs/node/raw/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fbuiltins%2Fbuiltins-date.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fbuiltins%2Fbuiltins-date.cc?ref=6dbd6f6c7d0fe5629c921a2fe618ce9c00544294",
            "patch": "@@ -166,11 +166,13 @@ void ToDateString(double time_val, Vector<char> str, DateCache* date_cache,\n                kShortMonths[month], day, year);\n       return;\n     case kTimeOnly:\n+      // TODO(842085): str may be silently truncated.\n       SNPrintF(str, \"%02d:%02d:%02d GMT%c%02d%02d (%s)\", hour, min, sec,\n                (timezone_offset < 0) ? '-' : '+', timezone_hour, timezone_min,\n                local_timezone);\n       return;\n     case kDateAndTime:\n+      // TODO(842085): str may be silently truncated.\n       SNPrintF(str, \"%s %s %02d %04d %02d:%02d:%02d GMT%c%02d%02d (%s)\",\n                kShortWeekDays[weekday], kShortMonths[month], day, year, hour,\n                min, sec, (timezone_offset < 0) ? '-' : '+', timezone_hour,"
        },
        {
            "sha": "139bb4daf549ea961b57f0f95352cd122a292213",
            "filename": "deps/v8/src/intl.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fintl.cc",
            "raw_url": "https://github.com/nodejs/node/raw/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fintl.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fintl.cc?ref=6dbd6f6c7d0fe5629c921a2fe618ce9c00544294",
            "patch": "@@ -358,17 +358,17 @@ ICUTimezoneCache::~ICUTimezoneCache() { Clear(); }\n \n const char* ICUTimezoneCache::LocalTimezone(double time_ms) {\n   bool is_dst = DaylightSavingsOffset(time_ms) != 0;\n-  char* name = is_dst ? dst_timezone_name_ : timezone_name_;\n-  if (name[0] == '\\0') {\n+  std::string* name = is_dst ? &dst_timezone_name_ : &timezone_name_;\n+  if (name->empty()) {\n     icu::UnicodeString result;\n     GetTimeZone()->getDisplayName(is_dst, icu::TimeZone::LONG, result);\n     result += '\\0';\n \n-    icu::CheckedArrayByteSink byte_sink(name, kMaxTimezoneChars);\n+    icu::StringByteSink<std::string> byte_sink(name);\n     result.toUTF8(byte_sink);\n-    CHECK(!byte_sink.Overflowed());\n   }\n-  return const_cast<const char*>(name);\n+  DCHECK(!name->empty());\n+  return name->c_str();\n }\n \n icu::TimeZone* ICUTimezoneCache::GetTimeZone() {\n@@ -418,8 +418,8 @@ double ICUTimezoneCache::LocalTimeOffset(double time_ms, bool is_utc) {\n void ICUTimezoneCache::Clear() {\n   delete timezone_;\n   timezone_ = nullptr;\n-  timezone_name_[0] = '\\0';\n-  dst_timezone_name_[0] = '\\0';\n+  timezone_name_.clear();\n+  dst_timezone_name_.clear();\n }\n \n }  // namespace internal"
        },
        {
            "sha": "627cb4980de76e929ace15a15f3cc0e2cf183e9d",
            "filename": "deps/v8/src/intl.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fintl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6dbd6f6c7d0fe5629c921a2fe618ce9c00544294/deps%2Fv8%2Fsrc%2Fintl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fintl.h?ref=6dbd6f6c7d0fe5629c921a2fe618ce9c00544294",
            "patch": "@@ -9,6 +9,8 @@\n #ifndef V8_INTL_H_\n #define V8_INTL_H_\n \n+#include <string>\n+\n #include \"src/base/timezone-cache.h\"\n #include \"src/objects.h\"\n #include \"src/objects/string.h\"\n@@ -64,9 +66,8 @@ class ICUTimezoneCache : public base::TimezoneCache {\n \n   icu::TimeZone* timezone_;\n \n-  static const int32_t kMaxTimezoneChars = 100;\n-  char timezone_name_[kMaxTimezoneChars];\n-  char dst_timezone_name_[kMaxTimezoneChars];\n+  std::string timezone_name_;\n+  std::string dst_timezone_name_;\n };\n \n }  // namespace internal"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 14,
        "deletions": 11
    }
}