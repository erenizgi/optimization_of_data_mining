{
    "author": "starkwang",
    "message": "url: move process.binding('url') to internalBinding\n\nPR-URL: https://github.com/nodejs/node/pull/22204\nRefs: https://github.com/nodejs/node/issues/22160\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: John-David Dalton <john.david.dalton@gmail.com>",
    "sha": "e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d",
    "files": [
        {
            "sha": "284778becfed64d08fa602f780ec38d986e04fee",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d",
            "patch": "@@ -375,7 +375,8 @@\n         'tcp_wrap',\n         'tls_wrap',\n         'util',\n-        'async_wrap']);\n+        'async_wrap',\n+        'url']);\n     process.binding = function binding(name) {\n       return internalBindingWhitelist.has(name) ?\n         internalBinding(name) :"
        },
        {
            "sha": "40b3104baf4116d5941dd3b8666e5e863fcd95c8",
            "filename": "lib/internal/url.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/lib%2Finternal%2Furl.js",
            "raw_url": "https://github.com/nodejs/node/raw/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/lib%2Finternal%2Furl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Furl.js?ref=e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d",
            "patch": "@@ -37,6 +37,7 @@ let querystring;\n const { platform } = process;\n const isWindows = platform === 'win32';\n \n+const { internalBinding } = require('internal/bootstrap/loaders');\n const {\n   domainToASCII: _domainToASCII,\n   domainToUnicode: _domainToUnicode,\n@@ -60,7 +61,7 @@ const {\n   kPort,\n   kQuery,\n   kSchemeStart\n-} = process.binding('url');\n+} = internalBinding('url');\n \n const context = Symbol('context');\n const cannotBeBase = Symbol('cannot-be-base');"
        },
        {
            "sha": "f1008c917de31f4f476f7d6c6a914d475e3d5866",
            "filename": "src/node_url.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/src%2Fnode_url.cc",
            "raw_url": "https://github.com/nodejs/node/raw/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/src%2Fnode_url.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_url.cc?ref=e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d",
            "patch": "@@ -2420,4 +2420,4 @@ static void Initialize(Local<Object> target,\n }  // namespace url\n }  // namespace node\n \n-NODE_BUILTIN_MODULE_CONTEXT_AWARE(url, node::url::Initialize)\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(url, node::url::Initialize)"
        },
        {
            "sha": "49b4fbd82caee59895e2470c120d4a4d0df5c344",
            "filename": "test/parallel/test-process-binding-internalbinding-whitelist.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "raw_url": "https://github.com/nodejs/node/raw/e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js?ref=e917a23d2e8269eec48e95bcebcb9f7c6c5e4e3d",
            "patch": "@@ -12,3 +12,4 @@ assert(process.binding('v8'));\n assert(process.binding('stream_wrap'));\n assert(process.binding('signal_wrap'));\n assert(process.binding('contextify'));\n+assert(process.binding('url'));"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 6,
        "deletions": 3
    }
}