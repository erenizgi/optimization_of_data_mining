{
    "author": "sam-github",
    "message": "lib: allow process kill by signal number\n\nThis brings the behaviour in line with the documentation.\n\nPR-URL: https://github.com/nodejs/node/pull/16944\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "7ca4ca8cc36f7bf293f0d6717068eabb289262a6",
    "files": [
        {
            "sha": "3de3ae1603deb5c4cd85683f9f863ee461ff244d",
            "filename": "lib/internal/process.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/7ca4ca8cc36f7bf293f0d6717068eabb289262a6/lib%2Finternal%2Fprocess.js",
            "raw_url": "https://github.com/nodejs/node/raw/7ca4ca8cc36f7bf293f0d6717068eabb289262a6/lib%2Finternal%2Fprocess.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess.js?ref=7ca4ca8cc36f7bf293f0d6717068eabb289262a6",
            "patch": "@@ -162,8 +162,8 @@ function setupKillAndExit() {\n     }\n \n     // preserve null signal\n-    if (0 === sig) {\n-      err = process._kill(pid, 0);\n+    if (sig === (sig | 0)) {\n+      err = process._kill(pid, sig);\n     } else {\n       sig = sig || 'SIGTERM';\n       if (constants[sig]) {"
        },
        {
            "sha": "594a2a6a0bd8e6f9c81316ba57fbc1400d2a35c3",
            "filename": "test/parallel/test-process-kill-pid.js",
            "status": "modified",
            "additions": 13,
            "deletions": 5,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/7ca4ca8cc36f7bf293f0d6717068eabb289262a6/test%2Fparallel%2Ftest-process-kill-pid.js",
            "raw_url": "https://github.com/nodejs/node/raw/7ca4ca8cc36f7bf293f0d6717068eabb289262a6/test%2Fparallel%2Ftest-process-kill-pid.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-kill-pid.js?ref=7ca4ca8cc36f7bf293f0d6717068eabb289262a6",
            "patch": "@@ -57,16 +57,19 @@ assert.throws(function() { process.kill(1 / 0); },\n assert.throws(function() { process.kill(-1 / 0); },\n               invalidPidArgument);\n \n-// Test that kill throws an error for invalid signal\n-const unknownSignal = common.expectsError({\n+// Test that kill throws an error for unknown signal names\n+common.expectsError(() => process.kill(0, 'test'), {\n   code: 'ERR_UNKNOWN_SIGNAL',\n   type: TypeError,\n   message: 'Unknown signal: test'\n });\n \n-\n-assert.throws(function() { process.kill(1, 'test'); },\n-              unknownSignal);\n+// Test that kill throws an error for invalid signal numbers\n+common.expectsError(() => process.kill(0, 987), {\n+  code: 'EINVAL',\n+  type: Error,\n+  message: 'kill EINVAL'\n+});\n \n // Test kill argument processing in valid cases.\n //\n@@ -99,6 +102,11 @@ kill(0, undefined, 0, 15);\n kill('0', 'SIGHUP', 0, 1);\n kill('0', undefined, 0, 15);\n \n+// Confirm that numeric signal arguments are supported\n+\n+kill(0, 1, 0, 1);\n+kill(0, 15, 0, 15);\n+\n // negative numbers are meaningful on unix\n kill(-1, 'SIGHUP', -1, 1);\n kill(-1, undefined, -1, 15);"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 15,
        "deletions": 7
    }
}