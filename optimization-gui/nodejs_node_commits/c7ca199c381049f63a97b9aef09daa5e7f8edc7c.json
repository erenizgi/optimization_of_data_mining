{
    "author": "BridgeAR",
    "message": "util,assert: fix boxed primitives bug\n\nCurrently the comparison could throw an error in case a boxed\nprimitive has no valueOf function on one side of the assert call.\n\nPR-URL: https://github.com/nodejs/node/pull/22243\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: George Adams <george.adams@uk.ibm.com>",
    "sha": "c7ca199c381049f63a97b9aef09daa5e7f8edc7c",
    "files": [
        {
            "sha": "0e58ea2cb4e024fe261c308bbcd76c100bffd4ab",
            "filename": "lib/internal/util/comparisons.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7ca199c381049f63a97b9aef09daa5e7f8edc7c/lib%2Finternal%2Futil%2Fcomparisons.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7ca199c381049f63a97b9aef09daa5e7f8edc7c/lib%2Finternal%2Futil%2Fcomparisons.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Fcomparisons.js?ref=c7ca199c381049f63a97b9aef09daa5e7f8edc7c",
            "patch": "@@ -120,6 +120,9 @@ function strictDeepEqual(val1, val2, memos) {\n     const val1Value = val1.valueOf();\n     // Note: Boxed string keys are going to be compared again by Object.keys\n     if (val1Value !== val1) {\n+      if (typeof val2.valueOf !== 'function') {\n+        return false;\n+      }\n       if (!innerDeepEqual(val1Value, val2.valueOf(), true))\n         return false;\n       // Fast path for boxed primitives"
        },
        {
            "sha": "08491421f626fe9f44d6ab635d23ce32aa80216f",
            "filename": "test/parallel/test-assert-deep.js",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/c7ca199c381049f63a97b9aef09daa5e7f8edc7c/test%2Fparallel%2Ftest-assert-deep.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7ca199c381049f63a97b9aef09daa5e7f8edc7c/test%2Fparallel%2Ftest-assert-deep.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert-deep.js?ref=c7ca199c381049f63a97b9aef09daa5e7f8edc7c",
            "patch": "@@ -890,3 +890,10 @@ assert.deepStrictEqual(obj1, obj2);\n   );\n   util.inspect.defaultOptions = tmp;\n }\n+\n+// Basic valueOf check.\n+{\n+  const a = new String(1);\n+  a.valueOf = undefined;\n+  assertNotDeepOrStrict(a, new String(1));\n+}"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 10,
        "deletions": 0
    }
}