{
    "author": "maclover7",
    "message": "src: rename PROVIDER_FSREQWRAP to PROVIDER_FSREQCALLBACK\n\nPR-URL: https://github.com/nodejs/node/pull/21971\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "f479050916aa8fdb8bf580c6b103308dd012cdba",
    "files": [
        {
            "sha": "60078ee0932ca9767261f7862fff8ba4f9cf45d3",
            "filename": "src/async_wrap.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fasync_wrap.h",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fasync_wrap.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fasync_wrap.h?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -39,7 +39,7 @@ namespace node {\n   V(FILEHANDLE)                                                               \\\n   V(FILEHANDLECLOSEREQ)                                                       \\\n   V(FSEVENTWRAP)                                                              \\\n-  V(FSREQWRAP)                                                                \\\n+  V(FSREQCALLBACK)                                                            \\\n   V(FSREQPROMISE)                                                             \\\n   V(GETADDRINFOREQWRAP)                                                       \\\n   V(GETNAMEINFOREQWRAP)                                                       \\"
        },
        {
            "sha": "b0effaff7bb7463778be3c40dbb600f4f8a86b0a",
            "filename": "src/node_file.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fnode_file.cc",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fnode_file.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_file.cc?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -269,7 +269,7 @@ void FileHandle::AfterClose() {\n \n \n FileHandleReadWrap::FileHandleReadWrap(FileHandle* handle, Local<Object> obj)\n-  : ReqWrap(handle->env(), obj, AsyncWrap::PROVIDER_FSREQWRAP),\n+  : ReqWrap(handle->env(), obj, AsyncWrap::PROVIDER_FSREQCALLBACK),\n     file_handle_(handle) {}\n \n int FileHandle::ReadStart() {"
        },
        {
            "sha": "fdd36efc77582bb737629bec7dcc31ab8d25eb2d",
            "filename": "src/node_file.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fnode_file.h",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/src%2Fnode_file.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_file.h?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -88,7 +88,7 @@ class FSReqBase : public ReqWrap<uv_fs_t> {\n class FSReqCallback : public FSReqBase {\n  public:\n   FSReqCallback(Environment* env, Local<Object> req, bool use_bigint)\n-      : FSReqBase(env, req, AsyncWrap::PROVIDER_FSREQWRAP, use_bigint) { }\n+      : FSReqBase(env, req, AsyncWrap::PROVIDER_FSREQCALLBACK, use_bigint) { }\n \n   void Reject(Local<Value> reject) override;\n   void Resolve(Local<Value> value) override;"
        },
        {
            "sha": "4ac7bc24a58bb4d35e7ce312a32abd06151f09e7",
            "filename": "test/async-hooks/coverage.md",
            "status": "modified",
            "additions": 27,
            "deletions": 27,
            "changes": 54,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Fcoverage.md",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Fcoverage.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fasync-hooks%2Fcoverage.md?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -2,30 +2,30 @@\n \n Showing which kind of async resource is covered by which test:\n \n-| Resource Type        | Test                                   |\n-|----------------------|----------------------------------------|\n-| CONNECTION           | test-connection.ssl.js                 |\n-| FSEVENTWRAP          | test-fseventwrap.js                    |\n-| FSREQWRAP            | test-fsreqwrap-{access,readFile}.js    |\n-| GETADDRINFOREQWRAP   | test-getaddrinforeqwrap.js             |\n-| GETNAMEINFOREQWRAP   | test-getnameinforeqwrap.js             |\n-| HTTPPARSER           | test-httpparser.{request,response}.js  |\n-| Immediate            | test-immediate.js                      |\n-| JSSTREAM             | TODO (crashes when accessing directly) |\n-| PBKDF2REQUEST        | test-crypto-pbkdf2.js                  |\n-| PIPECONNECTWRAP      | test-pipeconnectwrap.js                |\n-| PIPEWRAP             | test-pipewrap.js                       |\n-| PROCESSWRAP          | test-pipewrap.js                       |\n-| QUERYWRAP            | test-querywrap.js                      |\n-| RANDOMBYTESREQUEST   | test-crypto-randomBytes.js             |\n-| SHUTDOWNWRAP         | test-shutdownwrap.js                   |\n-| SIGNALWRAP           | test-signalwrap.js                     |\n-| STATWATCHER          | test-statwatcher.js                    |\n-| TCPCONNECTWRAP       | test-tcpwrap.js                        |\n-| TCPWRAP              | test-tcpwrap.js                        |\n-| TLSWRAP              | test-tlswrap.js                        |\n-| TTYWRAP              | test-ttywrap.{read,write}stream.js     |\n-| UDPSENDWRAP          | test-udpsendwrap.js                    |\n-| UDPWRAP              | test-udpwrap.js                        |\n-| WRITEWRAP            | test-writewrap.js                      |\n-| ZLIB                 | test-zlib.zlib-binding.deflate.js      |\n+| Resource Type        | Test                                       |\n+|----------------------|--------------------------------------------|\n+| CONNECTION           | test-connection.ssl.js                     |\n+| FSEVENTWRAP          | test-fseventwrap.js                        |\n+| FSREQCALLBACK        | test-fsreqcallback-{access,readFile}.js    |\n+| GETADDRINFOREQWRAP   | test-getaddrinforeqwrap.js                 |\n+| GETNAMEINFOREQWRAP   | test-getnameinforeqwrap.js                 |\n+| HTTPPARSER           | test-httpparser.{request,response}.js      |\n+| Immediate            | test-immediate.js                          |\n+| JSSTREAM             | TODO (crashes when accessing directly)     |\n+| PBKDF2REQUEST        | test-crypto-pbkdf2.js                      |\n+| PIPECONNECTWRAP      | test-pipeconnectwrap.js                    |\n+| PIPEWRAP             | test-pipewrap.js                           |\n+| PROCESSWRAP          | test-pipewrap.js                           |\n+| QUERYWRAP            | test-querywrap.js                          |\n+| RANDOMBYTESREQUEST   | test-crypto-randomBytes.js                 |\n+| SHUTDOWNWRAP         | test-shutdownwrap.js                       |\n+| SIGNALWRAP           | test-signalwrap.js                         |\n+| STATWATCHER          | test-statwatcher.js                        |\n+| TCPCONNECTWRAP       | test-tcpwrap.js                            |\n+| TCPWRAP              | test-tcpwrap.js                            |\n+| TLSWRAP              | test-tlswrap.js                            |\n+| TTYWRAP              | test-ttywrap.{read,write}stream.js         |\n+| UDPSENDWRAP          | test-udpsendwrap.js                        |\n+| UDPWRAP              | test-udpwrap.js                            |\n+| WRITEWRAP            | test-writewrap.js                          |\n+| ZLIB                 | test-zlib.zlib-binding.deflate.js          |"
        },
        {
            "sha": "8983a3dcdf243f2dc0bb93f074ddd303b8c7d96e",
            "filename": "test/async-hooks/test-fsreqcallback-access.js",
            "status": "renamed",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-fsreqcallback-access.js",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-fsreqcallback-access.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fasync-hooks%2Ftest-fsreqcallback-access.js?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -13,7 +13,7 @@ hooks.enable();\n fs.access(__filename, common.mustCall(onaccess));\n \n function onaccess() {\n-  const as = hooks.activitiesOfTypes('FSREQWRAP');\n+  const as = hooks.activitiesOfTypes('FSREQCALLBACK');\n   const a = as[0];\n   checkInvocations(a, { init: 1, before: 1 },\n                    'while in onaccess callback');\n@@ -24,13 +24,13 @@ process.on('exit', onexit);\n \n function onexit() {\n   hooks.disable();\n-  hooks.sanityCheck('FSREQWRAP');\n+  hooks.sanityCheck('FSREQCALLBACK');\n \n-  const as = hooks.activitiesOfTypes('FSREQWRAP');\n+  const as = hooks.activitiesOfTypes('FSREQCALLBACK');\n   assert.strictEqual(as.length, 1);\n \n   const a = as[0];\n-  assert.strictEqual(a.type, 'FSREQWRAP');\n+  assert.strictEqual(a.type, 'FSREQCALLBACK');\n   assert.strictEqual(typeof a.uid, 'number');\n   checkInvocations(a, { init: 1, before: 1, after: 1, destroy: 1 },\n                    'when process exits');",
            "previous_filename": "test/async-hooks/test-fsreqwrap-access.js"
        },
        {
            "sha": "8301835ec8153f87e10c4a33d830be4eeeabaf7c",
            "filename": "test/async-hooks/test-fsreqcallback-readFile.js",
            "status": "renamed",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-fsreqcallback-readFile.js",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-fsreqcallback-readFile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fasync-hooks%2Ftest-fsreqcallback-readFile.js?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -16,11 +16,11 @@ hooks.enable();\n fs.readFile(__filename, common.mustCall(onread));\n \n function onread() {\n-  const as = hooks.activitiesOfTypes('FSREQWRAP');\n+  const as = hooks.activitiesOfTypes('FSREQCALLBACK');\n   let lastParent = 1;\n   for (let i = 0; i < as.length; i++) {\n     const a = as[i];\n-    assert.strictEqual(a.type, 'FSREQWRAP');\n+    assert.strictEqual(a.type, 'FSREQCALLBACK');\n     assert.strictEqual(typeof a.uid, 'number');\n     assert.strictEqual(a.triggerAsyncId, lastParent);\n     lastParent = a.uid;\n@@ -43,8 +43,8 @@ process.on('exit', onexit);\n \n function onexit() {\n   hooks.disable();\n-  hooks.sanityCheck('FSREQWRAP');\n-  const as = hooks.activitiesOfTypes('FSREQWRAP');\n+  hooks.sanityCheck('FSREQCALLBACK');\n+  const as = hooks.activitiesOfTypes('FSREQCALLBACK');\n   const a = as.pop();\n   checkInvocations(a, { init: 1, before: 1, after: 1, destroy: 1 },\n                    'when process exits');",
            "previous_filename": "test/async-hooks/test-fsreqwrap-readFile.js"
        },
        {
            "sha": "0a310ed5774a679c52bf64ae010efb6a788718c5",
            "filename": "test/async-hooks/test-graph.fsreq-readFile.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-graph.fsreq-readFile.js",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fasync-hooks%2Ftest-graph.fsreq-readFile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fasync-hooks%2Ftest-graph.fsreq-readFile.js?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -18,9 +18,9 @@ function onexit() {\n   hooks.disable();\n   verifyGraph(\n     hooks,\n-    [ { type: 'FSREQWRAP', id: 'fsreq:1', triggerAsyncId: null },\n-      { type: 'FSREQWRAP', id: 'fsreq:2', triggerAsyncId: 'fsreq:1' },\n-      { type: 'FSREQWRAP', id: 'fsreq:3', triggerAsyncId: 'fsreq:2' },\n-      { type: 'FSREQWRAP', id: 'fsreq:4', triggerAsyncId: 'fsreq:3' } ]\n+    [ { type: 'FSREQCALLBACK', id: 'fsreq:1', triggerAsyncId: null },\n+      { type: 'FSREQCALLBACK', id: 'fsreq:2', triggerAsyncId: 'fsreq:1' },\n+      { type: 'FSREQCALLBACK', id: 'fsreq:3', triggerAsyncId: 'fsreq:2' },\n+      { type: 'FSREQCALLBACK', id: 'fsreq:4', triggerAsyncId: 'fsreq:3' } ]\n   );\n }"
        },
        {
            "sha": "8e8cbabf000f2e4e27b7d097e6256d0bd827a73e",
            "filename": "test/cctest/test_node_postmortem_metadata.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fcctest%2Ftest_node_postmortem_metadata.cc",
            "raw_url": "https://github.com/nodejs/node/raw/f479050916aa8fdb8bf580c6b103308dd012cdba/test%2Fcctest%2Ftest_node_postmortem_metadata.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Ftest_node_postmortem_metadata.cc?ref=f479050916aa8fdb8bf580c6b103308dd012cdba",
            "patch": "@@ -57,7 +57,7 @@ class TestReqWrap : public node::ReqWrap<uv_req_t> {\n   TestReqWrap(node::Environment* env, v8::Local<v8::Object> object)\n       : node::ReqWrap<uv_req_t>(env,\n                                 object,\n-                                node::AsyncWrap::PROVIDER_FSREQWRAP) {}\n+                                node::AsyncWrap::PROVIDER_FSREQCALLBACK) {}\n };\n \n TEST_F(DebugSymbolsTest, ContextEmbedderEnvironmentIndex) {"
        }
    ],
    "stats": {
        "total": 86,
        "additions": 43,
        "deletions": 43
    }
}