{
    "author": "dYale",
    "message": "lib: improved conditional check in zlib\n\nPR-URL: https://github.com/nodejs/node/pull/24190\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "4e6d28a710f1b11ddc15cceba0863c9b0d6f06c6",
    "files": [
        {
            "sha": "559f6c2d5f30568e906dde6b868b21d959c942b2",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/4e6d28a710f1b11ddc15cceba0863c9b0d6f06c6/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/4e6d28a710f1b11ddc15cceba0863c9b0d6f06c6/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=4e6d28a710f1b11ddc15cceba0863c9b0d6f06c6",
            "patch": "@@ -350,8 +350,7 @@ Object.defineProperty(Zlib.prototype, 'bytesRead', {\n // `params()` function should not happen while a write is currently in progress\n // on the threadpool.\n function paramsAfterFlushCallback(level, strategy, callback) {\n-  if (!this._handle)\n-    assert(false, 'zlib binding closed');\n+  assert(this._handle, 'zlib binding closed');\n   this._handle.params(level, strategy);\n   if (!this._hadError) {\n     this._level = level;\n@@ -507,8 +506,8 @@ function processChunkSync(self, chunk, flushFlag) {\n       else\n         buffers.push(out);\n       nread += out.byteLength;\n-    } else if (have < 0) {\n-      assert(false, 'have should not go down');\n+    } else {\n+      assert(have === 0, 'have should not go down');\n     }\n \n     // exhausted the output buffer, or used all the input create a new one.\n@@ -545,8 +544,7 @@ function processChunkSync(self, chunk, flushFlag) {\n \n function processChunk(self, chunk, flushFlag, cb) {\n   var handle = self._handle;\n-  if (!handle)\n-    assert(false, 'zlib binding closed');\n+  assert(handle, 'zlib binding closed');\n \n   handle.buffer = chunk;\n   handle.cb = cb;\n@@ -593,8 +591,8 @@ function processCallback() {\n     var out = self._outBuffer.slice(self._outOffset, self._outOffset + have);\n     self._outOffset += have;\n     self.push(out);\n-  } else if (have < 0) {\n-    assert(false, 'have should not go down');\n+  } else {\n+    assert(have === 0, 'have should not go down');\n   }\n \n   if (self.destroyed) {"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 6,
        "deletions": 8
    }
}