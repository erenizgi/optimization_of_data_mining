{
    "author": "shigeki",
    "message": "deps: upgrade openssl sources to 1.1.0i\n\nThis updates all sources in deps/openssl/openssl with openssl-1.1.0i.\n\nPR-URL: https://github.com/nodejs/node/pull/22318\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Rod Vagg <rod@vagg.org>",
    "sha": "6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
    "files": [
        {
            "sha": "3dee3922a74ef377a636602817d833567bddc8ed",
            "filename": "deps/openssl/openssl/.gitignore",
            "status": "added",
            "additions": 175,
            "deletions": 0,
            "changes": 175,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2F.gitignore",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2F.gitignore",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2F.gitignore?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,175 @@\n+# Ignore editor artefacts\n+/.dir-locals.el\n+\n+# Top level excludes\n+/Makefile.orig\n+/MINFO\n+/TABLE\n+/*.a\n+/*.pc\n+/rehash.time\n+/inc.*\n+/makefile.*\n+/out.*\n+/tmp.*\n+/configdata.pm\n+\n+# *all* Makefiles\n+Makefile\n+# ... except in demos\n+!/demos/*/Makefile\n+\n+# Links under apps\n+/apps/CA.pl\n+/apps/tsget\n+/apps/tsget.pl\n+/apps/md4.c\n+\n+# Auto generated headers\n+/crypto/buildinf.h\n+/apps/progs.h\n+/crypto/include/internal/*_conf.h\n+/openssl/include/opensslconf.h\n+/util/domd\n+\n+# Executables\n+/apps/openssl\n+/test/sha256t\n+/test/sha512t\n+/test/gost2814789t\n+/test/ssltest_old\n+/test/*test\n+/test/fips_aesavs\n+/test/fips_desmovs\n+/test/fips_dhvs\n+/test/fips_drbgvs\n+/test/fips_dssvs\n+/test/fips_ecdhvs\n+/test/fips_ecdsavs\n+/test/fips_rngvs\n+/test/fips_test_suite\n+/test/ssltest_old\n+/test/x509aux\n+/test/v3ext\n+/test/versions\n+\n+# Certain files that get created by tests on the fly\n+/test/test-runs\n+/test/buildtest_*\n+\n+# Fuzz stuff.\n+# Anything without an extension is an executable on Unix, so we keep files\n+# with extensions.  And we keep the corpora subddir versioned as well.\n+# Anything more generic with extensions that should be ignored will be taken\n+# care of by general ignores for those extensions (*.o, *.obj, *.exe, ...)\n+/fuzz/*\n+!/fuzz/README*\n+!/fuzz/corpora\n+!/fuzz/*.*\n+\n+# Misc auto generated files\n+/include/openssl/opensslconf.h\n+/tools/c_rehash\n+/tools/c_rehash.pl\n+/util/shlib_wrap.sh\n+/tags\n+/TAGS\n+/crypto.map\n+/ssl.map\n+\n+# Windows (legacy)\n+/tmp32\n+/tmp32.dbg\n+/tmp32dll\n+/tmp32dll.dbg\n+/out32\n+/out32.dbg\n+/out32dll\n+/out32dll.dbg\n+/inc32\n+/MINFO\n+/ms/.rnd\n+/ms/bcb.mak\n+/ms/libeay32.def\n+/ms/nt.mak\n+/ms/ntdll.mak\n+/ms/ssleay32.def\n+/ms/version32.rc\n+\n+# Files created on other branches that are not held in git, and are not\n+# needed on this branch\n+/include/openssl/asn1_mac.h\n+/include/openssl/des_old.h\n+/include/openssl/fips.h\n+/include/openssl/fips_rand.h\n+/include/openssl/krb5_asn.h\n+/include/openssl/kssl.h\n+/include/openssl/pq_compat.h\n+/include/openssl/ssl23.h\n+/include/openssl/tmdiff.h\n+/include/openssl/ui_compat.h\n+/test/fips_aesavs.c\n+/test/fips_desmovs.c\n+/test/fips_dsatest.c\n+/test/fips_dssvs.c\n+/test/fips_hmactest.c\n+/test/fips_randtest.c\n+/test/fips_rngvs.c\n+/test/fips_rsagtest.c\n+/test/fips_rsastest.c\n+/test/fips_rsavtest.c\n+/test/fips_shatest.c\n+/test/fips_test_suite.c\n+/test/shatest.c\n+\n+##### Generic patterns\n+# Auto generated assembly language source files\n+*.s\n+!/crypto/*/asm/*.s\n+/crypto/arm*.S\n+/crypto/*/*.S\n+*.asm\n+!/crypto/*/asm/*.asm\n+\n+# Object files\n+*.o\n+*.obj\n+\n+# editor artefacts\n+*.swp\n+.#*\n+\\#*#\n+*~\n+\n+# Certificate symbolic links\n+*.0\n+\n+# All kinds of executables\n+*.so\n+*.so.*\n+*.dylib\n+*.dylib.*\n+*.dll\n+*.dll.*\n+*.exe\n+*.pyc\n+*.exp\n+*.lib\n+*.pdb\n+*.ilk\n+*.def\n+*.rc\n+*.res\n+\n+# Misc generated stuff\n+Makefile.save\n+/crypto/**/lib\n+/engines/**/lib\n+/ssl/**/lib\n+*.bak\n+cscope.*\n+*.d\n+pod2htmd.tmp\n+\n+# Windows manifest files\n+*.manifest"
        },
        {
            "sha": "1c1db2b73dad73c2529cf217a29085e296b511ac",
            "filename": "deps/openssl/openssl/.travis.yml",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2F.travis.yml",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2F.travis.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2F.travis.yml?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -61,15 +61,15 @@ matrix:\n                   sources:\n                       - ubuntu-toolchain-r-test\n           compiler: gcc-5\n-          env: CONFIG_OPTS=\"no-asm enable-ubsan enable-rc5 enable-md2 -DPEDANTIC\"\n+          env: UBUNTU_GCC_HACK=\"yes\" CONFIG_OPTS=\"no-asm enable-ubsan enable-rc5 enable-md2 -DPEDANTIC\"\n         - os: linux\n           addons:\n               apt:\n                   packages:\n                       - binutils-mingw-w64\n                       - gcc-mingw-w64\n           compiler: i686-w64-mingw32-gcc\n-          env: CONFIG_OPTS=\"no-pic\" TESTS=\"-test_fuzz\"\n+          env: CONFIG_OPTS=\"no-pic\"\n         - os: linux\n           addons:\n               apt:\n@@ -85,7 +85,7 @@ matrix:\n                       - binutils-mingw-w64\n                       - gcc-mingw-w64\n           compiler: x86_64-w64-mingw32-gcc\n-          env: CONFIG_OPTS=\"no-pic\" TESTS=\"-test_fuzz\"\n+          env: CONFIG_OPTS=\"no-pic\"\n         - os: linux\n           addons:\n               apt:\n@@ -112,6 +112,10 @@ before_script:\n           srcdir=.;\n           top=.;\n       fi\n+    - if [ -n \"$UBUNTU_GCC_HACK\" ]; then\n+          $CC -dumpspecs | sed \"s/--push-state//g; s/--pop-state/--as-needed/g\" > gcc-specs.txt;\n+          CC=\"$CC -specs=gcc-specs.txt\";\n+      fi\n     - if [ \"$CC\" == i686-w64-mingw32-gcc ]; then\n           export CROSS_COMPILE=${CC%%gcc}; unset CC;\n           $srcdir/Configure mingw $CONFIG_OPTS -Wno-pedantic-ms-format;\n@@ -186,7 +190,7 @@ script:\n       fi\n     - if [ -n \"$DESTDIR\" ]; then\n           mkdir \"../$DESTDIR\";\n-          if $make install install_docs DESTDIR=\"../$DESTDIR\"; then\n+          if $make install DESTDIR=\"../$DESTDIR\"; then\n               echo -e '+\\057\\057\\057\\057\\057 MAKE INSTALL_DOCS OK';\n           else\n               echo -e '+\\057\\057\\057\\057\\057 MAKE INSTALL_DOCS FAILED'; false;"
        },
        {
            "sha": "9f0b94743bff6c1826a9d5af9abe09e997564c53",
            "filename": "deps/openssl/openssl/CHANGES",
            "status": "modified",
            "additions": 85,
            "deletions": 10,
            "changes": 95,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FCHANGES",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FCHANGES",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FCHANGES?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -7,6 +7,81 @@\n  https://github.com/openssl/openssl/commits/ and pick the appropriate\n  release branch.\n \n+ Changes between 1.1.0h and 1.1.0i [14 Aug 2018]\n+\n+  *) Client DoS due to large DH parameter\n+\n+     During key agreement in a TLS handshake using a DH(E) based ciphersuite a\n+     malicious server can send a very large prime value to the client. This will\n+     cause the client to spend an unreasonably long period of time generating a\n+     key for this prime resulting in a hang until the client has finished. This\n+     could be exploited in a Denial Of Service attack.\n+\n+     This issue was reported to OpenSSL on 5th June 2018 by Guido Vranken\n+     (CVE-2018-0732)\n+     [Guido Vranken]\n+\n+  *) Cache timing vulnerability in RSA Key Generation\n+\n+     The OpenSSL RSA Key generation algorithm has been shown to be vulnerable to\n+     a cache timing side channel attack. An attacker with sufficient access to\n+     mount cache timing attacks during the RSA key generation process could\n+     recover the private key.\n+\n+     This issue was reported to OpenSSL on 4th April 2018 by Alejandro Cabrera\n+     Aldaya, Billy Brumley, Cesar Pereida Garcia and Luis Manuel Alvarez Tapia.\n+     (CVE-2018-0737)\n+     [Billy Brumley]\n+\n+  *) Make EVP_PKEY_asn1_new() a bit stricter about its input.  A NULL pem_str\n+     parameter is no longer accepted, as it leads to a corrupt table.  NULL\n+     pem_str is reserved for alias entries only.\n+     [Richard Levitte]\n+\n+  *) Revert blinding in ECDSA sign and instead make problematic addition\n+     length-invariant. Switch even to fixed-length Montgomery multiplication.\n+     [Andy Polyakov]\n+\n+  *) Change generating and checking of primes so that the error rate of not\n+     being prime depends on the intended use based on the size of the input.\n+     For larger primes this will result in more rounds of Miller-Rabin.\n+     The maximal error rate for primes with more than 1080 bits is lowered\n+     to 2^-128.\n+     [Kurt Roeckx, Annie Yousar]\n+\n+  *) Increase the number of Miller-Rabin rounds for DSA key generating to 64.\n+     [Kurt Roeckx]\n+\n+  *) Add blinding to ECDSA and DSA signatures to protect against side channel\n+     attacks discovered by Keegan Ryan (NCC Group).\n+     [Matt Caswell]\n+\n+  *) When unlocking a pass phrase protected PEM file or PKCS#8 container, we\n+     now allow empty (zero character) pass phrases.\n+     [Richard Levitte]\n+\n+  *) Certificate time validation (X509_cmp_time) enforces stricter\n+     compliance with RFC 5280. Fractional seconds and timezone offsets\n+     are no longer allowed.\n+     [Emilia KÃ¤sper]\n+\n+  *) Fixed a text canonicalisation bug in CMS\n+\n+     Where a CMS detached signature is used with text content the text goes\n+     through a canonicalisation process first prior to signing or verifying a\n+     signature. This process strips trailing space at the end of lines, converts\n+     line terminators to CRLF and removes additional trailing line terminators\n+     at the end of a file. A bug in the canonicalisation process meant that\n+     some characters, such as form-feed, were incorrectly treated as whitespace\n+     and removed. This is contrary to the specification (RFC5485). This fix\n+     could mean that detached text data signed with an earlier version of\n+     OpenSSL 1.1.0 may fail to verify using the fixed version, or text data\n+     signed with a fixed OpenSSL may fail to verify with an earlier version of\n+     OpenSSL 1.1.0. A workaround is to only verify the canonicalised text data\n+     and use the \"-binary\" flag (for the \"cms\" command line application) or set\n+     the SMIME_BINARY/PKCS7_BINARY/CMS_BINARY flags (if using CMS_verify()).\n+     [Matt Caswell]\n+\n  Changes between 1.1.0g and 1.1.0h [27 Mar 2018]\n \n   *) Constructed ASN.1 types with a recursive definition could exceed the stack\n@@ -1144,13 +1219,13 @@\n      [Steve Henson]\n \n   *) Experimental encrypt-then-mac support.\n-\n+    \n      Experimental support for encrypt then mac from\n      draft-gutmann-tls-encrypt-then-mac-02.txt\n \n      To enable it set the appropriate extension number (0x42 for the test\n      server) using e.g. -DTLSEXT_TYPE_encrypt_then_mac=0x42\n-\n+ \n      For non-compliant peers (i.e. just about everything) this should have no\n      effect.\n \n@@ -1201,7 +1276,7 @@\n \n   *) Use separate DRBG fields for internal and external flags. New function\n      FIPS_drbg_health_check() to perform on demand health checking. Add\n-     generation tests to fips_test_suite with reduced health check interval to\n+     generation tests to fips_test_suite with reduced health check interval to \n      demonstrate periodic health checking. Add \"nodh\" option to\n      fips_test_suite to skip very slow DH test.\n      [Steve Henson]\n@@ -1215,7 +1290,7 @@\n      combination: call this in fips_test_suite.\n      [Steve Henson]\n \n-  *) Add support for canonical generation of DSA parameter 'g'. See\n+  *) Add support for canonical generation of DSA parameter 'g'. See \n      FIPS 186-3 A.2.3.\n \n   *) Add support for HMAC DRBG from SP800-90. Update DRBG algorithm test and\n@@ -1239,7 +1314,7 @@\n      requested amount of entropy.\n      [Steve Henson]\n \n-  *) Add PRNG security strength checks to RSA, DSA and ECDSA using\n+  *) Add PRNG security strength checks to RSA, DSA and ECDSA using \n      information in FIPS186-3, SP800-57 and SP800-131A.\n      [Steve Henson]\n \n@@ -1331,7 +1406,7 @@\n      can be set or retrieved with a ctrl. The IV length is by default 12\n      bytes (96 bits) but can be set to an alternative value. If the IV\n      length exceeds the maximum IV length (currently 16 bytes) it cannot be\n-     set before the key.\n+     set before the key. \n      [Steve Henson]\n \n   *) New flag in ciphers: EVP_CIPH_FLAG_CUSTOM_CIPHER. This means the\n@@ -1374,7 +1449,7 @@\n      Add CMAC pkey methods.\n      [Steve Henson]\n \n-  *) Experimental renegotiation in s_server -www mode. If the client\n+  *) Experimental renegotiation in s_server -www mode. If the client \n      browses /reneg connection is renegotiated. If /renegcert it is\n      renegotiated requesting a certificate.\n      [Steve Henson]\n@@ -1394,7 +1469,7 @@\n   *) New macro __owur for \"OpenSSL Warn Unused Result\". This makes use of\n      a gcc attribute to warn if the result of a function is ignored. This\n      is enable if DEBUG_UNUSED is set. Add to several functions in evp.h\n-     whose return value is often ignored.\n+     whose return value is often ignored. \n      [Steve Henson]\n \n   *) New -noct, -requestct, -requirect and -ctlogfile options for s_client.\n@@ -3628,7 +3703,7 @@\n \n   *) New option -sigopt to dgst utility. Update dgst to use\n      EVP_Digest{Sign,Verify}*. These two changes make it possible to use\n-     alternative signing parameters such as X9.31 or PSS in the dgst\n+     alternative signing parameters such as X9.31 or PSS in the dgst \n      utility.\n      [Steve Henson]\n \n@@ -12379,7 +12454,7 @@ des-cbc           3624.96k     5258.21k     5530.91k     5624.30k     5628.26k\n   *) Fixed sk_insert which never worked properly.\n      [Steve Henson]\n \n-  *) Fix ASN1 macros so they can handle indefinite length constructed\n+  *) Fix ASN1 macros so they can handle indefinite length constructed \n      EXPLICIT tags. Some non standard certificates use these: they can now\n      be read in.\n      [Steve Henson]"
        },
        {
            "sha": "a6977b8117fe08e0fd045a483e268d8c1e4181d6",
            "filename": "deps/openssl/openssl/CONTRIBUTING",
            "status": "modified",
            "additions": 42,
            "deletions": 25,
            "changes": 67,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FCONTRIBUTING",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FCONTRIBUTING",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FCONTRIBUTING?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,26 +1,26 @@\n-HOW TO CONTRIBUTE PATCHES TO OpenSSL\n-------------------------------------\n+HOW TO CONTRIBUTE TO OpenSSL\n+----------------------------\n \n (Please visit https://www.openssl.org/community/getting-started.html for\n other ideas about how to contribute.)\n \n-Development is coordinated on the openssl-dev mailing list (see the\n-above link or https://mta.openssl.org for information on subscribing).\n-If you are unsure as to whether a feature will be useful for the general\n-OpenSSL community you might want to discuss it on the openssl-dev mailing\n-list first.  Someone may be already working on the same thing or there\n-may be a good reason as to why that feature isn't implemented.\n+Development is done on GitHub, https://github.com/openssl/openssl.\n \n-To submit a patch, make a pull request on GitHub.  If you think the patch\n-could use feedback from the community, please start a thread on openssl-dev\n-to discuss it.\n+To request new features or report bugs, please open an issue on GitHub\n \n-Having addressed the following items before the PR will help make the\n-acceptance and review process faster:\n+To submit a patch, please open a pull request on GitHub.  If you are thinking\n+of making a large contribution, open an issue for it before starting work,\n+to get comments from the community.  Someone may be already working on\n+the same thing or there may be reasons why that feature isn't implemented.\n \n-    1. Anything other than trivial contributions will require a contributor\n-    licensing agreement, giving us permission to use your code. See\n-    https://www.openssl.org/policies/cla.html for details.\n+To make it easier to review and accept your pull request, please follow these\n+guidelines:\n+\n+    1. Anything other than a trivial contribution requires a Contributor\n+    License Agreement (CLA), giving us permission to use your code. See\n+    https://www.openssl.org/policies/cla.html for details.  If your\n+    contribution is too small to require a CLA, put \"CLA: trivial\" on a\n+    line by itself in your commit message body.\n \n     2.  All source files should start with the following text (with\n     appropriate comment characters at the start of each line and the\n@@ -34,21 +34,38 @@ acceptance and review process faster:\n         https://www.openssl.org/source/license.html\n \n     3.  Patches should be as current as possible; expect to have to rebase\n-    often. We do not accept merge commits; You will be asked to remove\n-    them before a patch is considered acceptable.\n+    often. We do not accept merge commits, you will have to remove them\n+    (usually by rebasing) before it will be acceptable.\n \n     4.  Patches should follow our coding style (see\n-    https://www.openssl.org/policies/codingstyle.html) and compile without\n-    warnings. Where gcc or clang is available you should use the\n+    https://www.openssl.org/policies/codingstyle.html) and compile\n+    without warnings. Where gcc or clang is available you should use the\n     --strict-warnings Configure option.  OpenSSL compiles on many varied\n-    platforms: try to ensure you only use portable features.\n-    Clean builds via Travis and AppVeyor are expected, and done whenever\n-    a PR is created or updated.\n+    platforms: try to ensure you only use portable features.  Clean builds\n+    via Travis and AppVeyor are required, and they are started automatically\n+    whenever a PR is created or updated.\n \n     5.  When at all possible, patches should include tests. These can\n     either be added to an existing test, or completely new.  Please see\n     test/README for information on the test framework.\n \n     6.  New features or changed functionality must include\n-    documentation. Please look at the \"pod\" files in doc/apps, doc/crypto\n-    and doc/ssl for examples of our style.\n+    documentation. Please look at the \"pod\" files in doc for\n+    examples of our style.\n+\n+    7.  For user visible changes (API changes, behaviour changes, ...),\n+    consider adding a note in CHANGES.  This could be a summarising\n+    description of the change, and could explain the grander details.\n+    Have a look through existing entries for inspiration. \n+    Please note that this is NOT simply a copy of git-log oneliners.\n+    Also note that security fixes get an entry in CHANGES.\n+    This file helps users get more in depth information of what comes\n+    with a specific release without having to sift through the higher\n+    noise ratio in git-log.\n+\n+    8.  For larger or more important user visible changes, as well as\n+    security fixes, please add a line in NEWS.  On exception, it might be\n+    worth adding a multi-line entry (such as the entry that announces all\n+    the types that became opaque with OpenSSL 1.1.0).\n+    This file helps users get a very quick summary of what comes with a\n+    specific release, to see if an upgrade is worth the effort."
        },
        {
            "sha": "3455b3ace8f5d49417bbe856bd0c235fc9013ee3",
            "filename": "deps/openssl/openssl/Configurations/00-base-templates.conf",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F00-base-templates.conf",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F00-base-templates.conf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F00-base-templates.conf?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -247,7 +247,7 @@\n \tsha1_asm_src    => \"sha1-armv4-large.S sha256-armv4.S sha512-armv4.S\",\n \tmodes_asm_src   => \"ghash-armv4.S ghashv8-armx.S\",\n \tchacha_asm_src  => \"chacha-armv4.S\",\n-\tpoly1305_asm_src=> \"poly1305-armv4.S\",\n+\tpoly1305_asm_src=> \"poly1305-armv4.S\", \n \tperlasm_scheme\t=> \"void\"\n     },\n     aarch64_asm => {"
        },
        {
            "sha": "6c05c2809f18481c2dc1f02c3efb0a13ab8ef10b",
            "filename": "deps/openssl/openssl/Configurations/10-main.conf",
            "status": "modified",
            "additions": 21,
            "deletions": 32,
            "changes": 53,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F10-main.conf",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F10-main.conf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F10-main.conf?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -14,7 +14,7 @@ sub vc_win64a_info {\n                                 asflags   => \"/c /Cp /Cx /Zi\",\n                                 asoutflag => \"/Fo\" };\n         } else {\n-            $die->(\"NASM not found - please read INSTALL and NOTES.WIN for further details\\n\");\n+            $die->(\"NASM not found - make sure it's installed and available on %PATH%\\n\");\n             $vc_win64a_info = { as        => \"{unknown}\",\n                                 asflags   => \"\",\n                                 asoutflag => \"\" };\n@@ -39,7 +39,7 @@ sub vc_win32_info {\n                                asoutflag => \"/Fo\",\n                                perlasm_scheme => \"win32\" };\n         } else {\n-            $die->(\"NASM not found - please read INSTALL and NOTES.WIN for further details\\n\");\n+            $die->(\"NASM not found - make sure it's installed and available on %PATH%\\n\");\n             $vc_win32_info = { as        => \"{unknown}\",\n                                asflags   => \"\",\n                                asoutflag => \"\",\n@@ -428,18 +428,25 @@ sub vms_info {\n #   even PA-RISC 2.0-specific code paths, which are chosen at run-time,\n #   thus adequate performance is provided even with PA-RISC 1.1 build.\n #\t\t\t\t\t<appro@fy.chalmers.se>\n-    \"hpux-parisc-gcc\" => {\n+    \"hpux-common\" => {\n         inherit_from     => [ \"BASE_unix\" ],\n+        template         => 1,\n+        defines          => add(\"_XOPEN_SOURCE\", \"_XOPEN_SOURCE_EXTENDED\",\n+                                \"_HPUX_ALT_XOPEN_SOCKET_API\"),\n+        thread_scheme    => \"pthreads\",\n+        dso_scheme       => \"dlfcn\",    # overridden in 32-bit PA-RISC builds\n+        shared_target    => \"hpux-shared\",\n+    },\n+    \"hpux-parisc-gcc\" => {\n+        inherit_from     => [ \"hpux-common\" ],\n         cc               => \"gcc\",\n         cflags           => combine(picker(default => \"-DB_ENDIAN -DBN_DIV2W\",\n                                            debug   => \"-O0 -g\",\n                                            release => \"-O3\"),\n                                     threads(\"-pthread\")),\n         ex_libs          => add(\"-Wl,+s -ldld\", threads(\"-pthread\")),\n         bn_ops           => \"BN_LLONG\",\n-        thread_scheme    => \"pthreads\",\n         dso_scheme       => \"dl\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"-fPIC\",\n         shared_ldflag    => \"-shared\",\n         shared_extension => \".sl.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -449,17 +456,14 @@ sub vms_info {\n         multilib         => \"/pa1.1\",\n     },\n     \"hpux64-parisc2-gcc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"parisc20_64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"parisc20_64_asm\") ],\n         cc               => \"gcc\",\n         cflags           => combine(picker(default => \"-DB_ENDIAN\",\n                                            debug   => \"-O0 -g\",\n                                            release => \"-O3\"),\n                                     threads(\"-D_REENTRANT\")),\n         ex_libs          => add(\"-ldl\"),\n         bn_ops           => \"SIXTY_FOUR_BIT_LONG RC4_CHAR\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"-fpic\",\n         shared_ldflag    => \"-shared\",\n         shared_extension => \".sl.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -471,17 +475,15 @@ sub vms_info {\n     # Chris Ruemmler <ruemmler@cup.hp.com>\n     # Kevin Steves <ks@hp.se>\n     \"hpux-parisc-cc\" => {\n-        inherit_from     => [ \"BASE_unix\" ],\n+        inherit_from     => [ \"hpux-common\" ],\n         cc               => \"cc\",\n         cflags           => combine(picker(default => \"+Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DBN_DIV2W -DMD32_XARRAY\",\n                                            debug   => \"+O0 +d -g\",\n                                            release => \"+O3\"),\n                                     threads(\"-D_REENTRANT\")),\n         ex_libs          => add(\"-Wl,+s -ldld\",threads(\"-lpthread\")),\n         bn_ops           => \"RC4_CHAR\",\n-        thread_scheme    => \"pthreads\",\n         dso_scheme       => \"dl\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"+Z\",\n         shared_ldflag    => \"-b\",\n         shared_extension => \".sl.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -492,17 +494,14 @@ sub vms_info {\n         multilib         => \"/pa1.1\",\n     },\n     \"hpux64-parisc2-cc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"parisc20_64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"parisc20_64_asm\") ],\n         cc               => \"cc\",\n         cflags           => combine(picker(default => \"+DD64 +Optrs_strongly_typed -Ae +ESlit -DB_ENDIAN -DMD32_XARRAY\",\n                                            debug   => \"+O0 +d -g\",\n                                            release => \"+O3\"),\n                                     threads(\"-D_REENTRANT\")),\n         ex_libs          => add(\"-ldl\",threads(\"-lpthread\")),\n         bn_ops           => \"SIXTY_FOUR_BIT_LONG RC4_CHAR\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"+Z\",\n         shared_ldflag    => \"+DD64 -b\",\n         shared_extension => \".sl.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -511,17 +510,14 @@ sub vms_info {\n \n     # HP/UX IA-64 targets\n     \"hpux-ia64-cc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"ia64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"ia64_asm\") ],\n         cc               => \"cc\",\n         cflags           => combine(picker(default => \"-Ae +DD32 +Olit=all -z -DB_ENDIAN\",\n                                            debug   => \"+O0 +d -g\",\n                                            release => \"+O2\"),\n                                     threads(\"-D_REENTRANT\")),\n         ex_libs          => add(\"-ldl\",threads(\"-lpthread\")),\n         bn_ops           => \"SIXTY_FOUR_BIT\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"+Z\",\n         shared_ldflag    => \"+DD32 -b\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -530,52 +526,43 @@ sub vms_info {\n     # Frank Geurts <frank.geurts@nl.abnamro.com> has patiently assisted\n     # with debugging of the following config.\n     \"hpux64-ia64-cc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"ia64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"ia64_asm\") ],\n         cc               => \"cc\",\n         cflags           => combine(picker(default => \"-Ae +DD64 +Olit=all -z -DB_ENDIAN\",\n                                            debug   => \"+O0 +d -g\",\n                                            release => \"+O3\"),\n                                     threads(\"-D_REENTRANT\")),\n         ex_libs          => add(\"-ldl\", threads(\"-lpthread\")),\n         bn_ops           => \"SIXTY_FOUR_BIT_LONG\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"+Z\",\n         shared_ldflag    => \"+DD64 -b\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n         multilib         => \"/hpux64\",\n     },\n     # GCC builds...\n     \"hpux-ia64-gcc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"ia64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"ia64_asm\") ],\n         cc               => \"gcc\",\n         cflags           => combine(picker(default => \"-DB_ENDIAN\",\n                                            debug   => \"-O0 -g\",\n                                            release => \"-O3\"),\n                                     threads(\"-pthread\")),\n         ex_libs          => add(\"-ldl\", threads(\"-pthread\")),\n         bn_ops           => \"SIXTY_FOUR_BIT\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"-fpic\",\n         shared_ldflag    => \"-shared\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n         multilib         => \"/hpux32\",\n     },\n     \"hpux64-ia64-gcc\" => {\n-        inherit_from     => [ \"BASE_unix\", asm(\"ia64_asm\") ],\n+        inherit_from     => [ \"hpux-common\", asm(\"ia64_asm\") ],\n         cc               => \"gcc\",\n         cflags           => combine(picker(default => \"-mlp64 -DB_ENDIAN\",\n                                            debug   => \"-O0 -g\",\n                                            release => \"-O3\"),\n                                     threads(\"-pthread\")),\n         ex_libs          => add(\"-ldl\", threads(\"-pthread\")),\n         bn_ops           => \"SIXTY_FOUR_BIT_LONG\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"hpux-shared\",\n         shared_cflag     => \"-fpic\",\n         shared_ldflag    => \"-mlp64 -shared\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n@@ -1223,6 +1210,7 @@ sub vms_info {\n         perlasm_scheme   => \"aix32\",\n         dso_scheme       => \"dlfcn\",\n         shared_target    => \"aix-shared\",\n+        shared_cflag     => \"-qpic\",\n         shared_ldflag    => \"-q32 -G\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n         arflags          => \"-X 32\",\n@@ -1241,6 +1229,7 @@ sub vms_info {\n         perlasm_scheme   => \"aix64\",\n         dso_scheme       => \"dlfcn\",\n         shared_target    => \"aix-shared\",\n+        shared_cflag     => \"-qpic\",\n         shared_ldflag    => \"-q64 -G\",\n         shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n         arflags          => \"-X 64\","
        },
        {
            "sha": "0a83c22aaa1ebcc696110e78b728bb72c28def05",
            "filename": "deps/openssl/openssl/Configurations/90-team.conf",
            "status": "removed",
            "additions": 0,
            "deletions": 112,
            "changes": 112,
            "blob_url": "https://github.com/nodejs/node/blob/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F90-team.conf",
            "raw_url": "https://github.com/nodejs/node/raw/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F90-team.conf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2F90-team.conf?ref=32902d09b43e9d7f19eb6178ef5db835652d97c1",
            "patch": "@@ -1,112 +0,0 @@\n-## -*- mode: perl; -*-\n-## Build configuration targets for openssl-team members\n-\n-%targets = (\n-    \"purify\" => {\n-        cc               => \"purify gcc\",\n-        cflags           => \"-g -Wall\",\n-        thread_scheme    => \"(unknown)\",\n-        ex_libs          => add(\" \",\"-lsocket -lnsl\"),\n-    },\n-    \"debug\" => {\n-        cc               => \"gcc\",\n-        cflags           => \"-DBN_DEBUG -DREF_DEBUG -DCONF_DEBUG -DBN_CTX_DEBUG -DOPENSSL_NO_ASM -ggdb -g2 -Wformat -Wshadow -Wmissing-prototypes -Wmissing-declarations -Werror\",\n-        thread_scheme    => \"(unknown)\",\n-    },\n-    \"debug-erbridge\" => {\n-        inherit_from     => [ \"x86_64_asm\" ],\n-        cc               => \"gcc\",\n-        cflags           => combine(\"$gcc_devteam_warn -DBN_DEBUG -DCONF_DEBUG -m64 -DL_ENDIAN -DTERMIO -g\",\n-                                    threads(\"-D_REENTRANT\")),\n-        ex_libs          => add(\" \",\"-ldl\"),\n-        bn_ops           => \"SIXTY_FOUR_BIT_LONG\",\n-        thread_scheme    => \"pthreads\",\n-        perlasm_scheme   => \"elf\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"linux-shared\",\n-        shared_cflag     => \"-fPIC\",\n-        shared_ldflag    => \"-m64\",\n-        shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n-        multilib         => \"64\",\n-    },\n-    \"debug-linux-pentium\" => {\n-        inherit_from     => [ \"x86_elf_asm\" ],\n-        cc               => \"gcc\",\n-        cflags           => combine(\"-DBN_DEBUG -DREF_DEBUG -DCONF_DEBUG -DBN_CTX_DEBUG -DL_ENDIAN -g -mcpu=pentium -Wall\",\n-                                    threads(\"-D_REENTRANT\")),\n-        ex_libs          => add(\" \",\"-ldl\"),\n-        bn_ops           => \"BN_LLONG\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-    },\n-    \"debug-linux-ppro\" => {\n-        inherit_from     => [ \"x86_elf_asm\" ],\n-        cc               => \"gcc\",\n-        cflags           => combine(\"-DBN_DEBUG -DREF_DEBUG -DCONF_DEBUG -DBN_CTX_DEBUG -DL_ENDIAN -g -mcpu=pentiumpro -Wall\",\n-                                    threads(\"-D_REENTRANT\")),\n-        ex_libs          => add(\" \",\"-ldl\"),\n-        bn_ops           => \"BN_LLONG\",\n-        thread_scheme    => \"pthreads\",\n-        dso_scheme       => \"dlfcn\",\n-    },\n-    \"debug-linux-ia32-aes\" => {\n-        cc               => \"gcc\",\n-        cflags           => combine(\"-DL_ENDIAN -O3 -fomit-frame-pointer -Wall\",\n-                                    threads(\"-D_REENTRANT\")),\n-        ex_libs          => add(\" \",\"-ldl\"),\n-        bn_ops           => \"BN_LLONG\",\n-        cpuid_asm_src    => \"x86cpuid.s\",\n-        bn_asm_src       => \"bn-586.s co-586.s x86-mont.s\",\n-        des_asm_src      => \"des-586.s crypt586.s\",\n-        aes_asm_src      => \"aes_x86core.s aes_cbc.s aesni-x86.s\",\n-        bf_asm_src       => \"bf-586.s\",\n-        md5_asm_src      => \"md5-586.s\",\n-        sha1_asm_src     => \"sha1-586.s sha256-586.s sha512-586.s\",\n-        cast_asm_src     => \"cast-586.s\",\n-        rc4_asm_src      => \"rc4-586.s\",\n-        rmd160_asm_src   => \"rmd-586.s\",\n-        rc5_asm_src      => \"rc5-586.s\",\n-        wp_asm_src       => \"wp_block.s wp-mmx.s\",\n-        modes_asm_src    => \"ghash-x86.s\",\n-        padlock_asm_src  => \"e_padlock-x86.s\",\n-        thread_scheme    => \"pthreads\",\n-        perlasm_scheme   => \"elf\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"linux-shared\",\n-        shared_cflag     => \"-fPIC\",\n-        shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n-    },\n-    \"dist\" => {\n-        cc               => \"cc\",\n-        cflags           => \"-O\",\n-        thread_scheme    => \"(unknown)\",\n-    },\n-    \"debug-test-64-clang\" => {\n-        inherit_from     => [ \"x86_64_asm\" ],\n-        cc               => \"clang\",\n-        cflags           => combine(\"$gcc_devteam_warn -Wno-error=overlength-strings -Wno-error=extended-offsetof -Wno-error=language-extension-token -Wno-error=unused-const-variable -Wstrict-overflow -Qunused-arguments -DBN_DEBUG -DCONF_DEBUG -DDEBUG_SAFESTACK -DDEBUG_UNUSED -g3 -O3 -pipe\",\n-                                    threads(\"${BSDthreads}\")),\n-        bn_ops           => \"SIXTY_FOUR_BIT_LONG\",\n-        thread_scheme    => \"pthreads\",\n-        perlasm_scheme   => \"elf\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"bsd-gcc-shared\",\n-        shared_cflag     => \"-fPIC\",\n-        shared_extension => \".so.\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR)\",\n-    },\n-    \"darwin64-debug-test-64-clang\" => {\n-        inherit_from     => [ \"x86_64_asm\" ],\n-        cc               => \"clang\",\n-        cflags           => combine(\"-arch x86_64 -DL_ENDIAN $gcc_devteam_warn -Wno-error=overlength-strings -Wno-error=extended-offsetof -Wno-error=language-extension-token -Wno-error=unused-const-variable -Wstrict-overflow -Qunused-arguments -DBN_DEBUG -DCONF_DEBUG -DDEBUG_SAFESTACK -DDEBUG_UNUSED -g3 -O3 -pipe\",\n-                                    threads(\"${BSDthreads}\")),\n-        sys_id           => \"MACOSX\",\n-        bn_ops           => \"SIXTY_FOUR_BIT_LONG\",\n-        thread_scheme    => \"pthreads\",\n-        perlasm_scheme   => \"macosx\",\n-        dso_scheme       => \"dlfcn\",\n-        shared_target    => \"darwin-shared\",\n-        shared_cflag     => \"-fPIC -fno-common\",\n-        shared_ldflag    => \"-arch x86_64 -dynamiclib\",\n-        shared_extension => \".\\$(SHLIB_MAJOR).\\$(SHLIB_MINOR).dylib\",\n-    },\n-);"
        },
        {
            "sha": "b28305deca4c5af1194027bc13107f5504914ad7",
            "filename": "deps/openssl/openssl/Configurations/INTERNALS.Configure",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FINTERNALS.Configure",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FINTERNALS.Configure",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FINTERNALS.Configure?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -133,3 +133,4 @@ Example 4:\n |   ENDIF                   |  1        |                               |\n |   ... whatever ...        |           | this line is processed        |\n | ENDIF                     |           |                               |\n+"
        },
        {
            "sha": "6e13645491f7c59d8ab53fb3a06e77033fc28e4e",
            "filename": "deps/openssl/openssl/Configurations/README",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -81,7 +81,7 @@ In each table entry, the following keys are significant:\n                            '<unistd.h>'.  This is very rarely needed.\n \n         shared_extension => File name extension used for shared\n-                            libraries.\n+                            libraries. \n         obj_extension   => File name extension used for object files.\n                            On unix, this defaults to \".o\" (NOTE: this\n                            is here for future use, it's not\n@@ -471,11 +471,11 @@ clash with those generated by Configure, it's possible to tell it\n not to generate them with the use of OVERRIDES, for example:\n \n     SOURCE[libfoo]=foo.c bar.c\n-\n+    \n     OVERRIDES=bar.o\n     BEGINRAW[Makefile(unix)]\n     bar.o: bar.c\n-\t$(CC) $(CFLAGS) -DSPECIAL -c -o $@ $<\n+    \t$(CC) $(CFLAGS) -DSPECIAL -c -o $@ $<\n     ENDRAW[Makefile(unix)]\n \n See the documentation further up for more information on configuration"
        },
        {
            "sha": "bea9790afbd1ab753044ef88264aeb3ba1265f74",
            "filename": "deps/openssl/openssl/Configurations/README.design",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME.design",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME.design",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2FREADME.design?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -90,7 +90,7 @@ depends on the library 'libssl' to function properly.\n     LIBS=../libcrypto\n     SOURCE[../libcrypto]=aes.c evp.c cversion.c\n     DEPEND[cversion.o]=buildinf.h\n-\n+    \n     GENERATE[buildinf.h]=../util/mkbuildinf.pl \"$(CC) $(CFLAGS)\" \"$(PLATFORM)\"\n     DEPEND[buildinf.h]=../Makefile\n     DEPEND[../util/mkbuildinf.pl]=../util/Foo.pm\n@@ -105,7 +105,7 @@ show that duplicate information isn't an issue.\n This build.info file informs us that 'libcrypto' is built from a few\n source files, 'crypto/aes.c', 'crypto/evp.c' and 'crypto/cversion.c'.\n It also shows us that building the object file inferred from\n-'crypto/cversion.c' depends on 'crypto/buildinf.h'.  Finally, it\n+'crypto/cversion.c' depends on 'crypto/buildinf.h'.  Finally, it \n also shows the possibility to declare how some files are generated\n using some script, in this case a perl script, and how such scripts\n can be declared to depend on other files, in this case a perl module.\n@@ -157,7 +157,7 @@ information comes down to this:\n     SOURCE[libssl]=ssl/tls.c\n     INCLUDE[libssl]=include\n     DEPEND[libssl]=libcrypto\n-\n+    \n     PROGRAMS=apps/openssl\n     SOURCE[apps/openssl]=apps/openssl.c\n     INCLUDE[apps/openssl]=. include\n@@ -172,7 +172,7 @@ information comes down to this:\n     SOURCE[engines/ossltest]=engines/e_ossltest.c\n     DEPEND[engines/ossltest]=libcrypto\n     INCLUDE[engines/ossltest]=include\n-\n+    \n     GENERATE[crypto/buildinf.h]=util/mkbuildinf.pl \"$(CC) $(CFLAGS)\" \"$(PLATFORM)\"\n     DEPEND[crypto/buildinf.h]=Makefile\n     DEPEND[util/mkbuildinf.pl]=util/Foo.pm"
        },
        {
            "sha": "4f58dad9141ad386d30f565e68e585c81465b5fb",
            "filename": "deps/openssl/openssl/Configurations/dist.conf",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fdist.conf",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fdist.conf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fdist.conf?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,12 @@\n+## -*- mode: perl; -*-\n+## Build configuration targets for openssl-team members\n+\n+# This is to support 'make dist'\n+%targets = (\n+    \"dist\" => {\n+        inherit_from     => [ 'BASE_unix' ],\n+        cc               => \"cc\",\n+        cflags           => \"-O\",\n+        thread_scheme    => \"(unknown)\",\n+    },\n+);"
        },
        {
            "sha": "034d93e653d232058aa58503f35e940101bb000b",
            "filename": "deps/openssl/openssl/Configurations/unix-Makefile.tmpl",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Funix-Makefile.tmpl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Funix-Makefile.tmpl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Funix-Makefile.tmpl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -664,8 +664,10 @@ tar:\n \tDISTDIR=$(NAME); \\\n \tmkdir -p $$TMPDIR/$$DISTDIR; \\\n \t(cd $(SRCDIR); \\\n+\t excl_re=\"^(fuzz/corpora|Configurations/.*\\.norelease\\.conf)\"; \\\n+\t echo \"$$excl_re\"; \\\n \t git ls-tree -r --name-only --full-tree HEAD \\\n-         | grep -v '^fuzz/corpora' \\\n+\t | egrep -v \"$$excl_re\" \\\n \t | while read F; do \\\n \t       mkdir -p $$TMPDIR/$$DISTDIR/`dirname $$F`; \\\n \t       cp $$F $$TMPDIR/$$DISTDIR/$$F; \\\n@@ -848,7 +850,7 @@ EOF\n           $recipe .= <<\"EOF\";\n $obj$objext: $deps\n \t( trap \"rm -f \\$@.*\" INT 0; \\\\\n-\t  \\$(CPP) $incs \\$(CFLAGS) $ecflags $srcs | \\\\\n+\t  \\$(CC) $incs \\$(CFLAGS) $ecflags -E $srcs | \\\\\n \t  \\$(PERL) -ne '/^#(line)?\\\\s*[0-9]+/ or print' > \\$@.s && \\\\\n \t  \\$(CC) \\$(CFLAGS) $ecflags -c -o \\$\\@ \\$@.s )\n EOF"
        },
        {
            "sha": "4b7105df33cbf5118c30c7a13aa582397b73c54c",
            "filename": "deps/openssl/openssl/Configurations/windows-checker.pm",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-checker.pm",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-checker.pm",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-checker.pm?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -6,7 +6,7 @@ use Config;\n # we expect for the platform\n use File::Spec::Functions qw(:DEFAULT rel2abs);\n \n-if (rel2abs('.') !~ m|\\\\|) {\n+if (!$ENV{CONFIGURE_INSIST} && rel2abs('.') !~ m|\\\\|) {\n     die <<EOF;\n \n ******************************************************************************"
        },
        {
            "sha": "40dc41d0b45421484d75e9a0267db221d6929183",
            "filename": "deps/openssl/openssl/Configurations/windows-makefile.tmpl",
            "status": "modified",
            "additions": 39,
            "deletions": 37,
            "changes": 76,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-makefile.tmpl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-makefile.tmpl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigurations%2Fwindows-makefile.tmpl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -88,20 +88,20 @@ GENERATED={- join(\" \",\n                     grep { /\\.o$/ } keys %{$unified_info{sources}} ),\n                   ( grep { /\\.h$/ } keys %{$unified_info{generate}} )) -}\n \n-INSTALL_LIBS={- join(\" \", map { $_.$libext } @{$unified_info{install}->{libraries}}) -}\n-INSTALL_SHLIBS={- join(\" \", map { shlib($_) } @{$unified_info{install}->{libraries}}) -}\n-INSTALL_SHLIBPDBS={- join(\" \", map { local $shlibext = \".pdb\"; shlib($_) } @{$unified_info{install}->{libraries}}) -}\n-INSTALL_ENGINES={- join(\" \", map { dso($_) } @{$unified_info{install}->{engines}}) -}\n-INSTALL_ENGINEPDBS={- join(\" \", map { local $dsoext = \".pdb\"; dso($_) } @{$unified_info{install}->{engines}}) -}\n-INSTALL_PROGRAMS={- join(\" \", map { $_.$exeext } grep { !m|^test\\\\| } @{$unified_info{install}->{programs}}) -}\n-INSTALL_PROGRAMPDBS={- join(\" \", map { $_.\".pdb\" } grep { !m|^test\\\\| } @{$unified_info{install}->{programs}}) -}\n+INSTALL_LIBS={- join(\" \", map { quotify1($_.$libext) } @{$unified_info{install}->{libraries}}) -}\n+INSTALL_SHLIBS={- join(\" \", map { quotify_l(shlib($_)) } @{$unified_info{install}->{libraries}}) -}\n+INSTALL_SHLIBPDBS={- join(\" \", map { local $shlibext = \".pdb\"; quotify_l(shlib($_)) } @{$unified_info{install}->{libraries}}) -}\n+INSTALL_ENGINES={- join(\" \", map { quotify1(dso($_)) } @{$unified_info{install}->{engines}}) -}\n+INSTALL_ENGINEPDBS={- join(\" \", map { local $dsoext = \".pdb\"; quotify1(dso($_)) } @{$unified_info{install}->{engines}}) -}\n+INSTALL_PROGRAMS={- join(\" \", map { quotify1($_.$exeext) } grep { !m|^test\\\\| } @{$unified_info{install}->{programs}}) -}\n+INSTALL_PROGRAMPDBS={- join(\" \", map { quotify1($_.\".pdb\") } grep { !m|^test\\\\| } @{$unified_info{install}->{programs}}) -}\n {- output_off() if $disabled{apps}; \"\" -}\n-BIN_SCRIPTS=$(BLDDIR)\\tools\\c_rehash.pl\n-MISC_SCRIPTS=$(BLDDIR)\\apps\\CA.pl $(BLDDIR)\\apps\\tsget.pl\n+BIN_SCRIPTS=\"$(BLDDIR)\\tools\\c_rehash.pl\"\n+MISC_SCRIPTS=\"$(BLDDIR)\\apps\\CA.pl\" \"$(BLDDIR)\\apps\\tsget.pl\"\n {- output_on() if $disabled{apps}; \"\" -}\n \n APPS_OPENSSL={- use File::Spec::Functions;\n-                catfile(\"apps\",\"openssl\") -}\n+                \"\\\"\".catfile(\"apps\",\"openssl\").\"\\\"\" -}\n \n # Do not edit these manually. Use Configure with --prefix or --openssldir\n # to change this!  Short explanation in the top comment in Configure\n@@ -182,6 +182,9 @@ MTOUTFLAG={- $target{mtoutflag} || \"-outputresource:\" -}$(OSSL_EMPTY)\n AS={- $target{as} -}\n ASFLAGS={- $target{asflags} -}\n ASOUTFLAG={- $target{asoutflag} -}$(OSSL_EMPTY)\n+\n+ECHO=\"$(PERL)\" \"$(SRCDIR)\\util\\echo.pl\"\n+\n PERLASM_SCHEME= {- $target{perlasm_scheme} -}\n \n PROCESSOR= {- $config{processor} -}\n@@ -207,7 +210,7 @@ build_all_generated: $(GENERATED_MANDATORY) $(GENERATED)\n \n test: tests\n {- dependmagic('tests'); -}: build_programs_nodep build_engines_nodep\n-\t@rem {- output_off() if $disabled{tests}; \"\" -}\n+\t@{- output_off() if $disabled{tests}; \"\" -}\n \t-mkdir $(BLDDIR)\\test\\test-runs\n \tset SRCTOP=$(SRCDIR)\n \tset BLDTOP=$(BLDDIR)\n@@ -216,17 +219,17 @@ test: tests\n \tset OPENSSL_ENGINES=$(MAKEDIR)\\engines\n \tset OPENSSL_DEBUG_MEMORY=on\n \t\"$(PERL)\" \"$(SRCDIR)\\test\\run_tests.pl\" $(TESTS)\n-\t@rem {- if ($disabled{tests}) { output_on(); } else { output_off(); } \"\" -}\n-\t@echo \"Tests are not supported with your chosen Configure options\"\n-\t@rem {- output_on() if !$disabled{tests}; \"\" -}\n+\t@{- if ($disabled{tests}) { output_on(); } else { output_off(); } \"\" -}\n+\t@$(ECHO) \"Tests are not supported with your chosen Configure options\"\n+\t@{- output_on() if !$disabled{tests}; \"\" -}\n \n list-tests:\n-\t@rem {- output_off() if $disabled{tests}; \"\" -}\n+\t@{- output_off() if $disabled{tests}; \"\" -}\n \t@set SRCTOP=$(SRCDIR)\n \t@\"$(PERL)\" \"$(SRCDIR)\\test\\run_tests.pl\" list\n-\t@rem {- if ($disabled{tests}) { output_on(); } else { output_off(); } \"\" -}\n-\t@echo \"Tests are not supported with your chosen Configure options\"\n-\t@rem {- output_on() if !$disabled{tests}; \"\" -}\n+\t@{- if ($disabled{tests}) { output_on(); } else { output_off(); } \"\" -}\n+\t@$(ECHO) \"Tests are not supported with your chosen Configure options\"\n+\t@{- output_on() if !$disabled{tests}; \"\" -}\n \n install: install_sw install_ssldirs install_docs\n \n@@ -285,16 +288,17 @@ install_ssldirs:\n                                         \"$(OPENSSLDIR)\\misc\"\n \n install_dev:\n-\t@if \"$(INSTALLTOP)\"==\"\" ( echo INSTALLTOP should not be empty & exit 1 )\n-\t@echo *** Installing development files\n+\t@if \"$(INSTALLTOP)\"==\"\" ( $(ECHO) \"INSTALLTOP should not be empty\" & exit 1 )\n+\t@$(ECHO) \"*** Installing development files\"\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\mkdir-p.pl\" \"$(INSTALLTOP)\\include\\openssl\"\n-\t@rem {- output_off() unless grep { $_ eq \"OPENSSL_USE_APPLINK\" } @{$target{defines}}; \"\" -}\n+\t@{- output_off() unless grep { $_ eq \"OPENSSL_USE_APPLINK\" } @{$target{defines}}; \"\" -}\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" \"$(SRCDIR)\\ms\\applink.c\" \\\n \t\t\t\t       \"$(INSTALLTOP)\\include\\openssl\"\n-\t@rem {- output_on() unless grep { $_ eq \"OPENSSL_USE_APPLINK\" } @{$target{defines}}; \"\" -}\n-\t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" \"$(SRCDIR)\\include\\openssl\\*.h\" \\\n+\t@{- output_on() unless grep { $_ eq \"OPENSSL_USE_APPLINK\" } @{$target{defines}}; \"\" -}\n+\t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" \"-exclude_re=/__DECC_\" \\\n+\t\t\t\t       \"$(SRCDIR)\\include\\openssl\\*.h\" \\\n \t\t\t\t       \"$(INSTALLTOP)\\include\\openssl\"\n-\t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" $(BLDDIR)\\include\\openssl\\*.h \\\n+\t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" \"$(BLDDIR)\\include\\openssl\\*.h\" \\\n \t\t\t\t       \"$(INSTALLTOP)\\include\\openssl\"\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\mkdir-p.pl\" \"$(INSTALLTOP)\\$(LIBDIR)\"\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" $(INSTALL_LIBS) \\\n@@ -306,8 +310,8 @@ install_dev:\n uninstall_dev:\n \n install_engines:\n-\t@if \"$(INSTALLTOP)\"==\"\" ( echo INSTALLTOP should not be empty & exit 1 )\n-\t@echo *** Installing engines\n+\t@if \"$(INSTALLTOP)\"==\"\" ( $(ECHO) \"INSTALLTOP should not be empty\" & exit 1 )\n+\t@$(ECHO) \"*** Installing engines\"\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\mkdir-p.pl\" \"$(ENGINESDIR)\"\n \t@if not \"$(ENGINES)\"==\"\" \\\n \t \"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" $(INSTALL_ENGINES) \"$(ENGINESDIR)\"\n@@ -317,8 +321,8 @@ install_engines:\n uninstall_engines:\n \n install_runtime:\n-\t@if \"$(INSTALLTOP)\"==\"\" ( echo INSTALLTOP should not be empty & exit 1 )\n-\t@echo *** Installing runtime files\n+\t@if \"$(INSTALLTOP)\"==\"\" ( $(ECHO) \"INSTALLTOP should not be empty\" & exit 1 )\n+\t@$(ECHO) \"*** Installing runtime files\"\n \t@\"$(PERL)\" \"$(SRCDIR)\\util\\mkdir-p.pl\" \"$(INSTALLTOP)\\bin\"\n \t@if not \"$(SHLIBS)\"==\"\" \\\n \t \"$(PERL)\" \"$(SRCDIR)\\util\\copy.pl\" $(INSTALL_SHLIBS) \"$(INSTALLTOP)\\bin\"\n@@ -343,14 +347,14 @@ uninstall_html_docs:\n # Building targets ###################################################\n \n configdata.pm: \"$(SRCDIR)\\Configure\" {- join(\" \", map { '\"'.$_.'\"' } @{$config{build_file_templates}}, @{$config{build_infos}}, @{$config{conf_files}}) -}\n-\t@echo \"Detected changed: $?\"\n-\t@echo \"Reconfiguring...\"\n+\t@$(ECHO) \"Detected changed: $?\"\n+\t@$(ECHO) \"Reconfiguring...\"\n \t\"$(PERL)\" \"$(SRCDIR)\\Configure\" reconf\n-\t@echo \"**************************************************\"\n-\t@echo \"***                                            ***\"\n-\t@echo \"***   Please run the same make command again   ***\"\n-\t@echo \"***                                            ***\"\n-\t@echo \"**************************************************\"\n+\t@$(ECHO) \"**************************************************\"\n+\t@$(ECHO) \"***                                            ***\"\n+\t@$(ECHO) \"***   Please run the same make command again   ***\"\n+\t@$(ECHO) \"***                                            ***\"\n+\t@$(ECHO) \"**************************************************\"\n \t@exit 1\n \n {-\n@@ -604,8 +608,6 @@ EOF\n               foreach my $prod (@{$unified_info{dirinfo}->{$dir}->{products}->{$type}}) {\n                   if (dirname($prod) eq $dir) {\n                       push @deps, $prod.$extinfo{$type};\n-                  } else {\n-                      push @actions, \"\\t@rem No support to produce $type \".join(\", \", @{$unified_info{dirinfo}->{$dir}->{products}->{$type}});\n                   }\n               }\n           }"
        },
        {
            "sha": "d85ff6aa4da91573b25406ae0877b508e3766757",
            "filename": "deps/openssl/openssl/Configure",
            "status": "modified",
            "additions": 43,
            "deletions": 17,
            "changes": 60,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigure",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FConfigure",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FConfigure?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -20,6 +20,9 @@ use OpenSSL::Glob;\n \n # see INSTALL for instructions.\n \n+my $orig_death_handler = $SIG{__DIE__};\n+$SIG{__DIE__} = \\&death_handler;\n+\n my $usage=\"Usage: Configure [no-<cipher> ...] [enable-<cipher> ...] [-Dxxx] [-lxxx] [-Lxxx] [-fxxx] [-Kxxx] [no-hw-xxx|no-hw] [[no-]threads] [[no-]shared] [[no-]zlib|zlib-dynamic] [no-asm] [no-dso] [no-egd] [sctp] [386] [--prefix=DIR] [--openssldir=OPENSSLDIR] [--with-xxx[=vvv]] [--config=FILE] os/compiler[:flags]\\n\";\n \n # Options:\n@@ -756,21 +759,21 @@ while (@argvcopy)\n \t\telse\n \t\t\t{ $config{options} .= \" \".$_; }\n \t\t}\n+\t}\n \n-        if (defined($config{api}) && !exists $apitable->{$config{api}}) {\n-\t\tdie \"***** Unsupported api compatibility level: $config{api}\\n\",\n-        }\n+if (defined($config{api}) && !exists $apitable->{$config{api}}) {\n+\tdie \"***** Unsupported api compatibility level: $config{api}\\n\",\n+}\n \n-\tif (keys %deprecated_options)\n-\t\t{\n-\t\twarn \"***** Deprecated options: \",\n-\t\t\tjoin(\", \", keys %deprecated_options), \"\\n\";\n-\t\t}\n-\tif (keys %unsupported_options)\n-\t\t{\n-\t\tdie \"***** Unsupported options: \",\n-\t\t\tjoin(\", \", keys %unsupported_options), \"\\n\";\n-\t\t}\n+if (keys %deprecated_options)\n+\t{\n+\twarn \"***** Deprecated options: \",\n+\t\tjoin(\", \", keys %deprecated_options), \"\\n\";\n+\t}\n+if (keys %unsupported_options)\n+\t{\n+\tdie \"***** Unsupported options: \",\n+\t\tjoin(\", \", keys %unsupported_options), \"\\n\";\n \t}\n \n if ($libs =~ /(^|\\s)-Wl,-rpath,/\n@@ -908,11 +911,12 @@ if ($d) {\n \t$target = $t;\n     }\n }\n+\n+&usage if !$table{$target} || $table{$target}->{template};\n+\n $config{target} = $target;\n my %target = resolve_config($target);\n \n-&usage if (!%target || $target{template});\n-\n my %conf_files = map { $_ => 1 } (@{$target{_conf_fname_int}});\n $config{conf_files} = [ sort keys %conf_files ];\n %target = ( %{$table{DEFAULTS}}, %target );\n@@ -1215,8 +1219,10 @@ if ($^O ne \"VMS\") {\n \n     if (!$disabled{makedepend}) {\n \t# We know that GNU C version 3 and up as well as all clang\n-\t# versions support dependency generation\n-\tif ($predefined{__GNUC__} >= 3) {\n+\t# versions support dependency generation, but Xcode did not\n+\t# handle $cc -M before clang support (but claims __GNUC__ = 3)\n+\tif (($predefined{__GNUC__} // -1) >= 3\n+\t\t&& !($predefined{__APPLE_CC__} && !$predefined{__clang__})) {\n \t    $config{makedepprog} = $cc;\n \t} else {\n \t    $config{makedepprog} = which('makedepend');\n@@ -2125,6 +2131,8 @@ my %builders = (\n \n $builders{$builder}->($builder_platform, @builder_opts);\n \n+$SIG{__DIE__} = $orig_death_handler;\n+\n print <<\"EOF\";\n \n Configured for $target.\n@@ -2153,6 +2161,24 @@ exit(0);\n # Helpers and utility functions\n #\n \n+# Death handler, to print a helpful message in case of failure #######\n+#\n+sub death_handler {\n+    die @_ if $^S;              # To prevent the added message in eval blocks\n+    my $build_file = $target{build_file} // \"build file\";\n+    my @message = ( <<\"_____\", @_ );\n+\n+Failure!  $build_file wasn't produced.\n+Please read INSTALL and associated NOTES files.  You may also have to look over\n+your available compiler tool chain or change your configuration.\n+\n+_____\n+\n+    # Dying is terminal, so it's ok to reset the signal handler here.\n+    $SIG{__DIE__} = $orig_death_handler;\n+    die @message;\n+}\n+\n # Configuration file reading #########################################\n \n # Note: All of the helper functions are for lazy evaluation.  They all"
        },
        {
            "sha": "5a98d1da83fb36cc1a4afe08810ef51899d32c28",
            "filename": "deps/openssl/openssl/INSTALL",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FINSTALL",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FINSTALL",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FINSTALL?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -3,7 +3,8 @@\n  --------------------\n \n  This document describes installation on all supported operating\n- systems (the Linux/Unix family, OpenVMS and Windows)\n+ systems (the Unix/Linux family (which includes Mac OS/X), OpenVMS,\n+ and Windows).\n \n  To install OpenSSL, you will need:\n \n@@ -76,7 +77,7 @@\n \n  If you want to just get on with it, do:\n \n-  on Unix:\n+  on Unix (again, this includes Mac OS/X):\n \n     $ ./config\n     $ make\n@@ -208,7 +209,7 @@\n                    without a path). This flag must be provided if the\n                    zlib-dynamic option is not also used. If zlib-dynamic is used\n                    then this flag is optional and a default value (\"ZLIB1\") is\n-                   used if not provided.\n+                   used if not provided. \n                    On VMS: this is the filename of the zlib library (with or\n                    without a path). This flag is optional and if not provided\n                    then \"GNV$LIBZSHR\", \"GNV$LIBZSHR32\" or \"GNV$LIBZSHR64\" is\n@@ -663,7 +664,7 @@\n        $ nmake TESTS='test_rsa test_dsa' test           # Windows\n \n      And of course, you can combine (Unix example shown):\n-\n+       \n        $ make VERBOSE=1 TESTS='test_rsa test_dsa' test\n \n      You can find the list of available tests like this:\n@@ -733,7 +734,7 @@\n                         command symbols.\n          [.SYSTEST]     Contains the installation verification procedure.\n          [.HTML]        Contains the HTML rendition of the manual pages.\n-\n+                        \n \n      Additionally, install will add the following directories under\n      OPENSSLDIR (the directory given with --openssldir or its default)"
        },
        {
            "sha": "b6cf1f21ac24f7c449fd627dfa1b493c06214b9d",
            "filename": "deps/openssl/openssl/NEWS",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNEWS",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNEWS",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FNEWS?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -5,6 +5,11 @@\n   This file gives a brief overview of the major changes between each OpenSSL\n   release. For more details please read the CHANGES file.\n \n+  Major changes between OpenSSL 1.1.0h and OpenSSL 1.1.0i [14 Aug 2018]\n+\n+      o Client DoS due to large DH parameter (CVE-2018-0732)\n+      o Cache timing vulnerability in RSA Key Generation (CVE-2018-0737)\n+\n   Major changes between OpenSSL 1.1.0g and OpenSSL 1.1.0h [27 Mar 2018]\n \n       o Constructed ASN.1 types with a recursive definition could exceed the"
        },
        {
            "sha": "bbe63dc15438960a4f1e8bef7ad4db2621f53190",
            "filename": "deps/openssl/openssl/NOTES.DJGPP",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNOTES.DJGPP",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNOTES.DJGPP",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FNOTES.DJGPP?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n \n-\n+ \n  INSTALLATION ON THE DOS PLATFORM WITH DJGPP\n  -------------------------------------------\n \n@@ -29,7 +29,7 @@\n  running \"./Configure\" with appropriate arguments:\n \n \t./Configure no-threads --prefix=/dev/env/DJDIR DJGPP\n-\n+ \n  And finally fire up \"make\". You may run out of DPMI selectors when\n  running in a DOS box under Windows. If so, just close the BASH\n  shell, go back to Windows, and restart BASH. Then run \"make\" again."
        },
        {
            "sha": "3e9a57e8052b60455c9ad400797dcec0e4f2ed16",
            "filename": "deps/openssl/openssl/NOTES.VMS",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNOTES.VMS",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FNOTES.VMS",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FNOTES.VMS?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -42,7 +42,7 @@\n  for now is to rename the OpenSSL source directory, as follows (please\n  adjust for the actual source directory name you have):\n \n-    $ rename openssl-1^.1^.0.DIR openssl-1_1_0.DIR\n+    $ rename openssl-1^.1^.0.DIR openssl-1_1_0.DIR \n \n \n  About MMS and DCL"
        },
        {
            "sha": "76888cbb09e32418a0c4b09da6b88c0e9571c5af",
            "filename": "deps/openssl/openssl/README",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FREADME",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FREADME",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FREADME?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,7 +1,7 @@\n \n- OpenSSL 1.1.0h 27 Mar 2018\n+ OpenSSL 1.1.0i 14 Aug 2018\n \n- Copyright (c) 1998-2016 The OpenSSL Project\n+ Copyright (c) 1998-2018 The OpenSSL Project\n  Copyright (c) 1995-1998 Eric A. Young, Tim J. Hudson\n  All rights reserved.\n "
        },
        {
            "sha": "fa3cad7aa7f08c47bcad0ffeffa77e04ea349bcc",
            "filename": "deps/openssl/openssl/README.ECC",
            "status": "modified",
            "additions": 28,
            "deletions": 27,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FREADME.ECC",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FREADME.ECC",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FREADME.ECC?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -5,56 +5,57 @@ Center (NCSC) dated 2010-11-04. That agreement permits implementation and\n distribution of software containing features covered by any or all of the\n following patents:\n \n-1.) U.S. Pat. No. 5,761,305 entitled \"Key Agreement and Transport Protocol\n+1.) U.S. Pat. No. 5,761,305 entitled \"Key Agreement and Transport Protocol \n     with Implicit Signatures\" issued on June 2, 1998;\n-2.) Can. Pat. Appl. Ser. No. 2176972 entitled \"Key Agreement and Transport\n-    Protocol with Implicit Signature and Reduced Bandwidth\" filed on May\n+2.) Can. Pat. Appl. Ser. No. 2176972 entitled \"Key Agreement and Transport \n+    Protocol with Implicit Signature and Reduced Bandwidth\" filed on May \n     16, 1996;\n-3.) U.S. Pat. No. 5,889,865 entitled \"Key Agreement and Transport Protocol\n+3.) U.S. Pat. No. 5,889,865 entitled \"Key Agreement and Transport Protocol \n     with Implicit Signatures\" issued on March 30, 1999;\n-4.) U.S. Pat. No. 5,896,455 entitled \"Key Agreement and Transport Protocol\n+4.) U.S. Pat. No. 5,896,455 entitled \"Key Agreement and Transport Protocol \n     with Implicit Signatures\" issued on April 20, 1999;\n-5.) U.S. Pat. No. 5,933,504 entitled \"Strengthened Public Key Protocol\"\n+5.) U.S. Pat. No. 5,933,504 entitled \"Strengthened Public Key Protocol\" \n     issued on August 3, 1999;\n-6.) Can. Pat. Appl. Ser. No. 2176866 entitled \"Strengthened Public Key\n+6.) Can. Pat. Appl. Ser. No. 2176866 entitled \"Strengthened Public Key \n     Protocol\" filed on May 17, 1996;\n-7.) E.P. Pat. Appl. Ser. No. 96201322.3 entitled \"Strengthened Public Key\n+7.) E.P. Pat. Appl. Ser. No. 96201322.3 entitled \"Strengthened Public Key \n     Protocol\" filed on May 17, 1996;\n-8.) U.S. Pat. No. 5,999,626 entitled \"Digital Signatures on a Smartcard\"\n+8.) U.S. Pat. No. 5,999,626 entitled \"Digital Signatures on a Smartcard\" \n     issued on December 7, 1999;\n-9.) Can. Pat. Appl. Ser. No. 2202566 entitled \"Digital Signatures on a\n+9.) Can. Pat. Appl. Ser. No. 2202566 entitled \"Digital Signatures on a \n     Smartcard\" filed on April 14, 1997;\n-10.) E.P. Pat. Appl. No. 97106114.8 entitled \"Digital Signatures on a\n+10.) E.P. Pat. Appl. No. 97106114.8 entitled \"Digital Signatures on a \n      Smartcard\" filed on April 15, 1997;\n-11.) U.S Pat. No. 6,122,736 entitled \"Key Agreement and Transport Protocol\n+11.) U.S Pat. No. 6,122,736 entitled \"Key Agreement and Transport Protocol \n      with Implicit Signatures\" issued on September 19, 2000;\n-12.) Can. Pat. Appl. Ser. No. 2174261 entitled \"Key Agreement and Transport\n+12.) Can. Pat. Appl. Ser. No. 2174261 entitled \"Key Agreement and Transport \n      Protocol with Implicit Signatures\" filed on April 16, 1996;\n-13.) E.P. Pat. Appl. Ser. No. 96105920.1 entitled \"Key Agreement and\n+13.) E.P. Pat. Appl. Ser. No. 96105920.1 entitled \"Key Agreement and \n      Transport Protocol with Implicit Signatures\" filed on April 16, 1996;\n-14.) U.S. Pat. No. 6,141,420 entitled \"Elliptic Curve Encryption Systems\"\n+14.) U.S. Pat. No. 6,141,420 entitled \"Elliptic Curve Encryption Systems\" \n      issued on October 31, 2000;\n-15.) Can. Pat. Appl. Ser. No. 2155038 entitled \"Elliptic Curve Encryption\n+15.) Can. Pat. Appl. Ser. No. 2155038 entitled \"Elliptic Curve Encryption \n      Systems\" filed on July 31, 1995;\n-16.) E.P. Pat. Appl. Ser. No. 95926348.4 entitled \"Elliptic Curve Encryption\n+16.) E.P. Pat. Appl. Ser. No. 95926348.4 entitled \"Elliptic Curve Encryption \n      Systems\" filed on July 31, 1995;\n-17.) U.S. Pat. No. 6,336,188 entitled \"Authenticated Key Agreement\" issued\n+17.) U.S. Pat. No. 6,336,188 entitled \"Authenticated Key Agreement\" issued \n      on January 1, 2002;\n-18.) U.S. Pat. No. 6,487,661 entitled \"Key Agreement and Transport Protocol\"\n+18.) U.S. Pat. No. 6,487,661 entitled \"Key Agreement and Transport Protocol\" \n      issued on November 26, 2002;\n-19.) Can. Pat. Appl. Ser. No. 2174260 entitled \"Key Agreement and Transport\n+19.) Can. Pat. Appl. Ser. No. 2174260 entitled \"Key Agreement and Transport \n      Protocol\" filed on April 16, 1996;\n-20.) E.P. Pat. Appl. Ser. No. 96105921.9 entitled \"Key Agreement and\n+20.) E.P. Pat. Appl. Ser. No. 96105921.9 entitled \"Key Agreement and \n      Transport Protocol\" filed on April 21, 1996;\n-21.) U.S. Pat. No. 6,563,928 entitled \"Strengthened Public Key Protocol\"\n+21.) U.S. Pat. No. 6,563,928 entitled \"Strengthened Public Key Protocol\" \n      issued on May 13, 2003;\n-22.) U.S. Pat. No. 6,618,483 entitled \"Elliptic Curve Encryption Systems\"\n+22.) U.S. Pat. No. 6,618,483 entitled \"Elliptic Curve Encryption Systems\" \n      issued September 9, 2003;\n-23.) U.S. Pat. Appl. Ser. No. 09/434,247 entitled \"Digital Signatures on a\n+23.) U.S. Pat. Appl. Ser. No. 09/434,247 entitled \"Digital Signatures on a \n      Smartcard\" filed on November 5, 1999;\n-24.) U.S. Pat. Appl. Ser. No. 09/558,256 entitled \"Key Agreement and\n+24.) U.S. Pat. Appl. Ser. No. 09/558,256 entitled \"Key Agreement and \n      Transport Protocol with Implicit Signatures\" filed on April 25, 2000;\n-25.) U.S. Pat. Appl. Ser. No. 09/942,492 entitled \"Digital Signatures on a\n+25.) U.S. Pat. Appl. Ser. No. 09/942,492 entitled \"Digital Signatures on a \n      Smartcard\" filed on August 29, 2001 and published on July 18, 2002; and,\n-26.) U.S. Pat. Appl. Ser. No. 10/185,735 entitled \"Strengthened Public Key\n+26.) U.S. Pat. Appl. Ser. No. 10/185,735 entitled \"Strengthened Public Key \n      Protocol\" filed on July 1, 2000.\n+"
        },
        {
            "sha": "825a699c4f7ec5b672a3784a416f46cc8008fc39",
            "filename": "deps/openssl/openssl/VMS/openssl_ivp.com.in",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FVMS%2Fopenssl_ivp.com.in",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2FVMS%2Fopenssl_ivp.com.in",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2FVMS%2Fopenssl_ivp.com.in?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -16,7 +16,7 @@ $\tOPENSSLDIR_ = F$PARSE(\"A.;\",OPENSSLDIR,,,\"NO_CONCEAL\") -\n $\n $\tv    := {- sprintf \"%02d%02d\", split(/\\./, $config{version}) -}\n $\tpz   := {- $config{pointer_size} -}\n-$\n+$\t\n $\t@'INSTALLTOP_'SYS$STARTUP]openssl_startup'v'\n $\t@'INSTALLTOP_'SYS$STARTUP]openssl_utils'v'\n $"
        },
        {
            "sha": "d52201f1f38962bf7e09735ef648dc3ee00864a5",
            "filename": "deps/openssl/openssl/apps/apps.c",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fapps.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fapps.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fapps.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -1012,7 +1012,8 @@ int set_name_ex(unsigned long *flags, const char *arg)\n     };\n     if (set_multi_opts(flags, arg, ex_tbl) == 0)\n         return 0;\n-    if ((*flags & XN_FLAG_SEP_MASK) == 0)\n+    if (*flags != XN_FLAG_COMPAT\n+        && (*flags & XN_FLAG_SEP_MASK) == 0)\n         *flags |= XN_FLAG_SEP_CPLUS_SPC;\n     return 1;\n }"
        },
        {
            "sha": "008a6797d04523e8e8a6679a552b8c8353083b38",
            "filename": "deps/openssl/openssl/apps/asn1pars.c",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fasn1pars.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fasn1pars.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fasn1pars.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -41,7 +41,7 @@ OPTIONS asn1parse_options[] = {\n     {\"dump\", OPT_DUMP, 0, \"unknown data in hex form\"},\n     {\"dlimit\", OPT_DLIMIT, 'p',\n      \"dump the first arg bytes of unknown data in hex form\"},\n-    {\"strparse\", OPT_STRPARSE, 's',\n+    {\"strparse\", OPT_STRPARSE, 'p',\n      \"offset; a series of these can be used to 'dig'\"},\n     {OPT_MORE_STR, 0, 0, \"into multiple ASN1 blob wrappings\"},\n     {\"genstr\", OPT_GENSTR, 's', \"string to generate ASN1 structure from\"},\n@@ -113,13 +113,13 @@ int asn1parse_main(int argc, char **argv)\n             offset = strtol(opt_arg(), NULL, 0);\n             break;\n         case OPT_LENGTH:\n-            length = atoi(opt_arg());\n+            length = strtol(opt_arg(), NULL, 0);\n             break;\n         case OPT_DUMP:\n             dump = -1;\n             break;\n         case OPT_DLIMIT:\n-            dump = atoi(opt_arg());\n+            dump = strtol(opt_arg(), NULL, 0);\n             break;\n         case OPT_STRPARSE:\n             sk_OPENSSL_STRING_push(osk, opt_arg());\n@@ -191,7 +191,7 @@ int asn1parse_main(int argc, char **argv)\n \n             num = 0;\n             for (;;) {\n-                if (!BUF_MEM_grow(buf, (int)num + BUFSIZ))\n+                if (!BUF_MEM_grow(buf, num + BUFSIZ))\n                     goto end;\n                 i = BIO_read(in, &(buf->data[num]), BUFSIZ);\n                 if (i <= 0)\n@@ -211,9 +211,9 @@ int asn1parse_main(int argc, char **argv)\n         for (i = 0; i < sk_OPENSSL_STRING_num(osk); i++) {\n             ASN1_TYPE *atmp;\n             int typ;\n-            j = atoi(sk_OPENSSL_STRING_value(osk, i));\n-            if (j == 0) {\n-                BIO_printf(bio_err, \"'%s' is an invalid number\\n\",\n+            j = strtol(sk_OPENSSL_STRING_value(osk, i), NULL, 0);\n+            if (j <= 0 || j >= tmplen) {\n+                BIO_printf(bio_err, \"'%s' is out of range\\n\",\n                            sk_OPENSSL_STRING_value(osk, i));\n                 continue;\n             }\n@@ -244,14 +244,14 @@ int asn1parse_main(int argc, char **argv)\n         num = tmplen;\n     }\n \n-    if (offset >= num) {\n-        BIO_printf(bio_err, \"Error: offset too large\\n\");\n+    if (offset < 0 || offset >= num) {\n+        BIO_printf(bio_err, \"Error: offset out of range\\n\");\n         goto end;\n     }\n \n     num -= offset;\n \n-    if ((length == 0) || ((long)length > num))\n+    if (length == 0 || length > (unsigned int)num)\n         length = (unsigned int)num;\n     if (derout) {\n         if (BIO_write(derout, str + offset, length) != (int)length) {"
        },
        {
            "sha": "c69a2b5cdd9fd7a33686efa47bf758625edf4fce",
            "filename": "deps/openssl/openssl/apps/ca.c",
            "status": "modified",
            "additions": 20,
            "deletions": 9,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fca.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fca.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fca.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -725,10 +725,10 @@ int ca_main(int argc, char **argv)\n \n     /*****************************************************************/\n     if (req || gencrl) {\n-        /* FIXME: Is it really always text? */\n-        Sout = bio_open_default(outfile, 'w', FORMAT_TEXT);\n-        if (Sout == NULL)\n-            goto end;\n+        if (spkac_file != NULL) {\n+            output_der = 1;\n+            batch = 1;\n+        }\n     }\n \n     if (md == NULL\n@@ -872,10 +872,6 @@ int ca_main(int argc, char **argv)\n                     BIO_printf(bio_err, \"Memory allocation failure\\n\");\n                     goto end;\n                 }\n-                if (outfile) {\n-                    output_der = 1;\n-                    batch = 1;\n-                }\n             }\n         }\n         if (ss_cert_file != NULL) {\n@@ -929,10 +925,13 @@ int ca_main(int argc, char **argv)\n             if (j > 0) {\n                 total_done++;\n                 BIO_printf(bio_err, \"\\n\");\n-                if (!BN_add_word(serial, 1))\n+                if (!BN_add_word(serial, 1)) {\n+                    X509_free(x);\n                     goto end;\n+                }\n                 if (!sk_X509_push(cert_sk, x)) {\n                     BIO_printf(bio_err, \"Memory allocation failure\\n\");\n+                    X509_free(x);\n                     goto end;\n                 }\n             }\n@@ -1017,6 +1016,11 @@ int ca_main(int argc, char **argv)\n             if (verbose)\n                 BIO_printf(bio_err, \"writing %s\\n\", buf[2]);\n \n+            Sout = bio_open_default(outfile, 'w',\n+                                    output_der ? FORMAT_ASN1 : FORMAT_TEXT);\n+            if (Sout == NULL)\n+                goto end;\n+\n             Cout = BIO_new_file(buf[2], \"w\");\n             if (Cout == NULL) {\n                 perror(buf[2]);\n@@ -1025,6 +1029,8 @@ int ca_main(int argc, char **argv)\n             write_new_certificate(Cout, xi, 0, notext);\n             write_new_certificate(Sout, xi, output_der, notext);\n             BIO_free_all(Cout);\n+            BIO_free_all(Sout);\n+            Sout = NULL;\n         }\n \n         if (sk_X509_num(cert_sk)) {\n@@ -1173,6 +1179,11 @@ int ca_main(int argc, char **argv)\n         if (!do_X509_CRL_sign(crl, pkey, dgst, sigopts))\n             goto end;\n \n+        Sout = bio_open_default(outfile, 'w',\n+                                output_der ? FORMAT_ASN1 : FORMAT_TEXT);\n+        if (Sout == NULL)\n+            goto end;\n+\n         PEM_write_bio_X509_CRL(Sout, crl);\n \n         if (crlnumberfile != NULL) /* Rename the crlnumber file */"
        },
        {
            "sha": "640f92eb1b37798281039612e0e5abcc94f2528a",
            "filename": "deps/openssl/openssl/apps/cms.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fcms.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fcms.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fcms.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -146,7 +146,7 @@ OPTIONS cms_options[] = {\n      \"Do not load certificates from the default certificates directory\"},\n     {\"content\", OPT_CONTENT, '<',\n      \"Supply or override content for detached signature\"},\n-    {\"print\", OPT_PRINT, '-',\n+    {\"print\", OPT_PRINT, '-', \n      \"For the -cmsout operation print out all fields of the CMS structure\"},\n     {\"secretkey\", OPT_SECRETKEY, 's'},\n     {\"secretkeyid\", OPT_SECRETKEYID, 's'},"
        },
        {
            "sha": "243487453c64f624a2b99d524e38f0f26f3375f0",
            "filename": "deps/openssl/openssl/apps/ct_log_list.cnf",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fct_log_list.cnf",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fct_log_list.cnf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fct_log_list.cnf?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -31,3 +31,4 @@ key = MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEluqsHEYMG1XcDfy1lCdGV0JwOmkY4r87xNuroP\n [venafi]\n description = Venafi log\n key = MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAolpIHxdSlTXLo1s6H1OCdpSj/4DyHDc8wLG9wVmLqy1lk9fz4ATVmm+/1iN2Nk8jmctUKK2MFUtlWXZBSpym97M7frGlSaQXUWyA3CqQUEuIJOmlEjKTBEiQAvpfDjCHjlV2Be4qTM6jamkJbiWtgnYPhJL6ONaGTiSPm7Byy57iaz/hbckldSOIoRhYBiMzeNoA0DiRZ9KmfSeXZ1rB8y8X5urSW+iBzf2SaOfzBvDpcoTuAaWx2DPazoOl28fP1hZ+kHUYvxbcMjttjauCFx+JII0dmuZNIwjfeG/GBb9frpSX219k1O4Wi6OEbHEr8at/XQ0y7gTikOxBn/s5wQIDAQAB\n+"
        },
        {
            "sha": "f1a5e180aa955138f3ea768bad145304efc20f5d",
            "filename": "deps/openssl/openssl/apps/dh1024.pem",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh1024.pem",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh1024.pem",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh1024.pem?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -4,7 +4,7 @@ Sgh5jjQE3e+VGbPNOkMbMCsKbfJfFDdP4TVtbVHCReSFtXZiXn7G9ExC6aY37WsL\n /1y29Aa37e44a/taiZ+lrp8kEXxLH+ZJKGZR7OZTgf//////////AgEC\n -----END DH PARAMETERS-----\n \n-These are the 1024-bit DH parameters from \"Internet Key Exchange\n+These are the 1024-bit DH parameters from \"Internet Key Exchange \n Protocol Version 2 (IKEv2)\": https://tools.ietf.org/html/rfc5996\n \n See https://tools.ietf.org/html/rfc2412 for how they were generated."
        },
        {
            "sha": "e899f2e0296db9b049ff1e5a0fc77bca9a528975",
            "filename": "deps/openssl/openssl/apps/dh2048.pem",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh2048.pem",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh2048.pem",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh2048.pem?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -7,8 +7,8 @@ fDKQXkYuNs474553LBgOhgObJ4Oi7Aeij7XFXfBvTFLJ3ivL9pVYFxg5lUl86pVq\n 5RXSJhiY+gUQFXKOWoqsqmj//////////wIBAg==\n -----END DH PARAMETERS-----\n \n-These are the 2048-bit DH parameters from \"More Modular Exponential\n-(MODP) Diffie-Hellman groups for Internet Key Exchange (IKE)\":\n+These are the 2048-bit DH parameters from \"More Modular Exponential \n+(MODP) Diffie-Hellman groups for Internet Key Exchange (IKE)\": \n https://tools.ietf.org/html/rfc3526\n \n See https://tools.ietf.org/html/rfc2412 for how they were generated."
        },
        {
            "sha": "adada2b55815b7eff0bb9b80154109b4d9ec377a",
            "filename": "deps/openssl/openssl/apps/dh4096.pem",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh4096.pem",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh4096.pem",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdh4096.pem?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -12,8 +12,8 @@ ARpyPBKnh+bXiHGaEL26WyaZwycYavTiPBqUaDS2FQvaJYPpyirUTOjbu8LbBN6O\n HNAGkSfVsFqpk7TqmI2P3cGG/7fckKbAj030Nck0BjGZ//////////8CAQI=\n -----END DH PARAMETERS-----\n \n-These are the 4096-bit DH parameters from \"More Modular Exponential\n-(MODP) Diffie-Hellman groups for Internet Key Exchange (IKE)\":\n+These are the 4096-bit DH parameters from \"More Modular Exponential \n+(MODP) Diffie-Hellman groups for Internet Key Exchange (IKE)\": \n https://tools.ietf.org/html/rfc3526\n \n See https://tools.ietf.org/html/rfc2412 for how they were generated."
        },
        {
            "sha": "8a28414562ba4d68deb910855537f0e8654b74e9",
            "filename": "deps/openssl/openssl/apps/dhparam.c",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdhparam.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdhparam.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdhparam.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -151,6 +151,11 @@ int dhparam_main(int argc, char **argv)\n         goto end;\n     }\n # endif\n+\n+    out = bio_open_default(outfile, 'w', outformat);\n+    if (out == NULL)\n+        goto end;\n+\n     /* DH parameters */\n     if (num && !g)\n         g = 2;\n@@ -266,10 +271,6 @@ int dhparam_main(int argc, char **argv)\n         /* dh != NULL */\n     }\n \n-    out = bio_open_default(outfile, 'w', outformat);\n-    if (out == NULL)\n-        goto end;\n-\n     if (text) {\n         DHparams_print(out, dh);\n     }"
        },
        {
            "sha": "20891cf3ddbc989064843bab07e8b8953465ec59",
            "filename": "deps/openssl/openssl/apps/dsaparam.c",
            "status": "modified",
            "additions": 16,
            "deletions": 13,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdsaparam.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdsaparam.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fdsaparam.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -226,25 +226,28 @@ int dsaparam_main(int argc, char **argv)\n \n         data = app_malloc(len + 20, \"BN space\");\n \n-        BIO_printf(bio_out, \"DSA *get_dsa%d()\\n{\\n\", bits_p);\n-        print_bignum_var(bio_out, p, \"dsap\", len, data);\n-        print_bignum_var(bio_out, q, \"dsaq\", len, data);\n-        print_bignum_var(bio_out, g, \"dsag\", len, data);\n+        BIO_printf(bio_out, \"static DSA *get_dsa%d(void)\\n{\\n\", bits_p);\n+        print_bignum_var(bio_out, p, \"dsap\", bits_p, data);\n+        print_bignum_var(bio_out, q, \"dsaq\", bits_p, data);\n+        print_bignum_var(bio_out, g, \"dsag\", bits_p, data);\n         BIO_printf(bio_out, \"    DSA *dsa = DSA_new();\\n\"\n+                            \"    BIGNUM *p, *q, *g;\\n\"\n                             \"\\n\");\n         BIO_printf(bio_out, \"    if (dsa == NULL)\\n\"\n                             \"        return NULL;\\n\");\n-        BIO_printf(bio_out, \"    dsa->p = BN_bin2bn(dsap_%d, sizeof(dsap_%d), NULL);\\n\",\n-               bits_p, bits_p);\n-        BIO_printf(bio_out, \"    dsa->q = BN_bin2bn(dsaq_%d, sizeof(dsaq_%d), NULL);\\n\",\n-               bits_p, bits_p);\n-        BIO_printf(bio_out, \"    dsa->g = BN_bin2bn(dsag_%d, sizeof(dsag_%d), NULL);\\n\",\n-               bits_p, bits_p);\n-        BIO_printf(bio_out, \"    if (!dsa->p || !dsa->q || !dsa->g) {\\n\"\n-                            \"        DSA_free(dsa);\\n\"\n+        BIO_printf(bio_out, \"    if (!DSA_set0_pqg(dsa, p = BN_bin2bn(dsap_%d, sizeof(dsap_%d), NULL),\\n\",\n+                   bits_p, bits_p);\n+        BIO_printf(bio_out, \"                           q = BN_bin2bn(dsaq_%d, sizeof(dsaq_%d), NULL),\\n\",\n+                   bits_p, bits_p);\n+        BIO_printf(bio_out, \"                           g = BN_bin2bn(dsag_%d, sizeof(dsag_%d), NULL))) {\\n\",\n+                   bits_p, bits_p);\n+        BIO_printf(bio_out, \"        DSA_free(dsa);\\n\"\n+                            \"        BN_free(p);\\n\"\n+                            \"        BN_free(q);\\n\"\n+                            \"        BN_free(g);\\n\"\n                             \"        return NULL;\\n\"\n                             \"    }\\n\"\n-                            \"    return(dsa);\\n}\\n\");\n+                            \"    return dsa;\\n}\\n\");\n         OPENSSL_free(data);\n     }\n "
        },
        {
            "sha": "0c15f5114d230744634023c3a9abe2a3a4e7af68",
            "filename": "deps/openssl/openssl/apps/ocsp.c",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Focsp.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Focsp.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Focsp.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -639,7 +639,6 @@ int ocsp_main(int argc, char **argv)\n                    OCSP_response_status_str(i), i);\n         if (ignore_err)\n             goto redo_accept;\n-        ret = 0;\n         goto end;\n     }\n "
        },
        {
            "sha": "aa3f8643a5afde0fbd1653c28d535ba6070948bf",
            "filename": "deps/openssl/openssl/apps/rehash.c",
            "status": "modified",
            "additions": 11,
            "deletions": 9,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Frehash.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Frehash.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Frehash.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -130,9 +130,10 @@ static int add_entry(enum Type type, unsigned int hash, const char *filename,\n     for (ep = bp->first_entry; ep; ep = ep->next) {\n         if (digest && memcmp(digest, ep->digest, evpmdsize) == 0) {\n             BIO_printf(bio_err,\n-                       \"%s: skipping duplicate %s in %s\\n\", opt_getprog(),\n+                       \"%s: warning: skipping duplicate %s in %s\\n\",\n+                       opt_getprog(),\n                        type == TYPE_CERT ? \"certificate\" : \"CRL\", filename);\n-            return 1;\n+            return 0;\n         }\n         if (strcmp(filename, ep->filename) == 0) {\n             found = ep;\n@@ -144,7 +145,7 @@ static int add_entry(enum Type type, unsigned int hash, const char *filename,\n     if (ep == NULL) {\n         if (bp->num_needed >= MAX_COLLISIONS) {\n             BIO_printf(bio_err,\n-                       \"%s: hash table overflow for %s\\n\",\n+                       \"%s: error: hash table overflow for %s\\n\",\n                        opt_getprog(), filename);\n             return 1;\n         }\n@@ -235,7 +236,7 @@ static int do_file(const char *filename, const char *fullpath, enum Hash h)\n \n     /* Does it have X.509 data in it? */\n     if ((b = BIO_new_file(fullpath, \"r\")) == NULL) {\n-        BIO_printf(bio_err, \"%s: skipping %s, cannot open file\\n\",\n+        BIO_printf(bio_err, \"%s: error: skipping %s, cannot open file\\n\",\n                    opt_getprog(), filename);\n         errs++;\n         goto end;\n@@ -247,7 +248,7 @@ static int do_file(const char *filename, const char *fullpath, enum Hash h)\n \n     if (sk_X509_INFO_num(inf) != 1) {\n         BIO_printf(bio_err,\n-                   \"%s: skipping %s,\"\n+                   \"%s: warning: skipping %s,\"\n                    \"it does not contain exactly one certificate or CRL\\n\",\n                    opt_getprog(), filename);\n         /* This is not an error. */\n@@ -502,13 +503,14 @@ int rehash_main(int argc, char **argv)\n     if (*argv) {\n         while (*argv)\n             errs += do_dir(*argv++, h);\n-    } else if ((env = getenv(\"SSL_CERT_DIR\")) != NULL) {\n+    } else if ((env = getenv(X509_get_default_cert_dir_env())) != NULL) {\n+        char lsc[2] = { LIST_SEPARATOR_CHAR, '\\0' };\n         m = OPENSSL_strdup(env);\n-        for (e = strtok(m, \":\"); e != NULL; e = strtok(NULL, \":\"))\n+        for (e = strtok(m, lsc); e != NULL; e = strtok(NULL, lsc))\n             errs += do_dir(e, h);\n         OPENSSL_free(m);\n     } else {\n-        errs += do_dir(\"/etc/ssl/certs\", h);\n+        errs += do_dir(X509_get_default_cert_dir(), h);\n     }\n \n  end:"
        },
        {
            "sha": "3c0c73e8516c52a95ea3a6b9c88572c418052009",
            "filename": "deps/openssl/openssl/apps/s_client.c",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_client.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_client.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_client.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -593,7 +593,8 @@ OPTIONS s_client_options[] = {\n      \"Disable name checks when matching DANE-EE(3) TLSA records\"},\n     {\"reconnect\", OPT_RECONNECT, '-',\n      \"Drop and re-make the connection with the same Session-ID\"},\n-    {\"showcerts\", OPT_SHOWCERTS, '-', \"Show all certificates in the chain\"},\n+    {\"showcerts\", OPT_SHOWCERTS, '-',\n+     \"Show all certificates sent by the server\"},\n     {\"debug\", OPT_DEBUG, '-', \"Extra output\"},\n     {\"msg\", OPT_MSG, '-', \"Show protocol messages\"},\n     {\"msgfile\", OPT_MSGFILE, '>',\n@@ -2114,8 +2115,7 @@ int s_client_main(int argc, char **argv)\n         FD_ZERO(&readfds);\n         FD_ZERO(&writefds);\n \n-        if ((SSL_version(con) == DTLS1_VERSION) &&\n-            DTLSv1_get_timeout(con, &timeout))\n+        if (SSL_is_dtls(con) && DTLSv1_get_timeout(con, &timeout))\n             timeoutp = &timeout;\n         else\n             timeoutp = NULL;\n@@ -2235,10 +2235,8 @@ int s_client_main(int argc, char **argv)\n             }\n         }\n \n-        if ((SSL_version(con) == DTLS1_VERSION)\n-            && DTLSv1_handle_timeout(con) > 0) {\n+        if (SSL_is_dtls(con) && DTLSv1_handle_timeout(con) > 0)\n             BIO_printf(bio_err, \"TIMEOUT occurred\\n\");\n-        }\n \n         if (!ssl_pending && FD_ISSET(SSL_get_fd(con), &writefds)) {\n             k = SSL_write(con, &(cbuf[cbuf_off]), (unsigned int)cbuf_len);"
        },
        {
            "sha": "e8aa323a4f9e4cb53afb2dd288788be83a66cd74",
            "filename": "deps/openssl/openssl/apps/s_server.c",
            "status": "modified",
            "additions": 6,
            "deletions": 11,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_server.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_server.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fs_server.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -2012,9 +2012,7 @@ static int sv_body(int s, int stype, unsigned char *context)\n     SSL *con = NULL;\n     BIO *sbio;\n     struct timeval timeout;\n-#if defined(OPENSSL_SYS_WINDOWS) || defined(OPENSSL_SYS_MSDOS)\n-    struct timeval tv;\n-#else\n+#if !(defined(OPENSSL_SYS_WINDOWS) || defined(OPENSSL_SYS_MSDOS))\n     struct timeval *timeoutp;\n #endif\n \n@@ -2149,26 +2147,23 @@ static int sv_body(int s, int stype, unsigned char *context)\n              * second and check for any keypress. In a proper Windows\n              * application we wouldn't do this because it is inefficient.\n              */\n-            tv.tv_sec = 1;\n-            tv.tv_usec = 0;\n-            i = select(width, (void *)&readfds, NULL, NULL, &tv);\n+            timeout.tv_sec = 1;\n+            timeout.tv_usec = 0;\n+            i = select(width, (void *)&readfds, NULL, NULL, &timeout);\n             if (has_stdin_waiting())\n                 read_from_terminal = 1;\n             if ((i < 0) || (!i && !read_from_terminal))\n                 continue;\n #else\n-            if ((SSL_version(con) == DTLS1_VERSION) &&\n-                DTLSv1_get_timeout(con, &timeout))\n+            if (SSL_is_dtls(con) && DTLSv1_get_timeout(con, &timeout))\n                 timeoutp = &timeout;\n             else\n                 timeoutp = NULL;\n \n             i = select(width, (void *)&readfds, NULL, NULL, timeoutp);\n \n-            if ((SSL_version(con) == DTLS1_VERSION)\n-                && DTLSv1_handle_timeout(con) > 0) {\n+            if ((SSL_is_dtls(con)) && DTLSv1_handle_timeout(con) > 0)\n                 BIO_printf(bio_err, \"TIMEOUT occurred\\n\");\n-            }\n \n             if (i <= 0)\n                 continue;"
        },
        {
            "sha": "e18d7de75fce9f7eeb48760ce1545dba1b9be166",
            "filename": "deps/openssl/openssl/apps/smime.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fsmime.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fsmime.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fsmime.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -89,7 +89,7 @@ OPTIONS smime_options[] = {\n     {\"no-CApath\", OPT_NOCAPATH, '-',\n      \"Do not load certificates from the default certificates directory\"},\n     {\"resign\", OPT_RESIGN, '-', \"Resign a signed message\"},\n-    {\"nochain\", OPT_NOCHAIN, '-',\n+    {\"nochain\", OPT_NOCHAIN, '-', \n      \"set PKCS7_NOCHAIN so certificates contained in the message are not used as untrusted CAs\" },\n     {\"nosmimecap\", OPT_NOSMIMECAP, '-', \"Omit the SMIMECapabilities attribute\"},\n     {\"stream\", OPT_STREAM, '-', \"Enable CMS streaming\" },"
        },
        {
            "sha": "3ef37b78a65899690f8402183e6dd32aa376b43d",
            "filename": "deps/openssl/openssl/apps/speed.c",
            "status": "modified",
            "additions": 113,
            "deletions": 118,
            "changes": 231,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fspeed.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fspeed.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fspeed.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -129,13 +129,6 @@\n #define BUFSIZE (1024*16+1)\n #define MAX_MISALIGNMENT 63\n \n-#define ALGOR_NUM       30\n-#define SIZE_NUM        6\n-#define PRIME_NUM       3\n-#define RSA_NUM         7\n-#define DSA_NUM         3\n-\n-#define EC_NUM          17\n #define MAX_ECDH_SIZE   256\n #define MISALIGN        64\n \n@@ -144,37 +137,6 @@ static volatile int run = 0;\n static int mr = 0;\n static int usertime = 1;\n \n-typedef void *(*kdf_fn) (\n-        const void *in, size_t inlen, void *out, size_t *xoutlen);\n-\n-typedef struct loopargs_st {\n-    ASYNC_JOB *inprogress_job;\n-    ASYNC_WAIT_CTX *wait_ctx;\n-    unsigned char *buf;\n-    unsigned char *buf2;\n-    unsigned char *buf_malloc;\n-    unsigned char *buf2_malloc;\n-    unsigned int siglen;\n-#ifndef OPENSSL_NO_RSA\n-    RSA *rsa_key[RSA_NUM];\n-#endif\n-#ifndef OPENSSL_NO_DSA\n-    DSA *dsa_key[DSA_NUM];\n-#endif\n-#ifndef OPENSSL_NO_EC\n-    EC_KEY *ecdsa[EC_NUM];\n-    EC_KEY *ecdh_a[EC_NUM];\n-    EC_KEY *ecdh_b[EC_NUM];\n-    unsigned char *secret_a;\n-    unsigned char *secret_b;\n-    size_t      outlen;\n-    kdf_fn      kdf;\n-#endif\n-    EVP_CIPHER_CTX *ctx;\n-    HMAC_CTX *hctx;\n-    GCM128_CONTEXT *gcm_ctx;\n-} loopargs_t;\n-\n #ifndef OPENSSL_NO_MD2\n static int EVP_Digest_MD2_loop(void *args);\n #endif\n@@ -227,7 +189,6 @@ static int ECDSA_sign_loop(void *args);\n static int ECDSA_verify_loop(void *args);\n static int ECDH_compute_key_loop(void *args);\n #endif\n-static int run_benchmark(int async_jobs, int (*loop_function)(void *), loopargs_t *loopargs);\n \n static double Time_F(int s);\n static void print_message(const char *s, long num, int length);\n@@ -238,32 +199,10 @@ static void print_result(int alg, int run_no, int count, double time_used);\n static int do_multi(int multi);\n #endif\n \n-static const char *names[ALGOR_NUM] = {\n-    \"md2\", \"mdc2\", \"md4\", \"md5\", \"hmac(md5)\", \"sha1\", \"rmd160\", \"rc4\",\n-    \"des cbc\", \"des ede3\", \"idea cbc\", \"seed cbc\",\n-    \"rc2 cbc\", \"rc5-32/12 cbc\", \"blowfish cbc\", \"cast cbc\",\n-    \"aes-128 cbc\", \"aes-192 cbc\", \"aes-256 cbc\",\n-    \"camellia-128 cbc\", \"camellia-192 cbc\", \"camellia-256 cbc\",\n-    \"evp\", \"sha256\", \"sha512\", \"whirlpool\",\n-    \"aes-128 ige\", \"aes-192 ige\", \"aes-256 ige\", \"ghash\"\n-};\n-\n-static double results[ALGOR_NUM][SIZE_NUM];\n-\n-static const int lengths[SIZE_NUM] = {\n+static const int lengths[] = {\n     16, 64, 256, 1024, 8 * 1024, 16 * 1024\n };\n-\n-#ifndef OPENSSL_NO_RSA\n-static double rsa_results[RSA_NUM][2];\n-#endif\n-#ifndef OPENSSL_NO_DSA\n-static double dsa_results[DSA_NUM][2];\n-#endif\n-#ifndef OPENSSL_NO_EC\n-static double ecdsa_results[EC_NUM][2];\n-static double ecdh_results[EC_NUM][1];\n-#endif\n+#define SIZE_NUM       OSSL_NELEM(lengths)\n \n #if !defined(OPENSSL_NO_DSA) || !defined(OPENSSL_NO_EC)\n static const char rnd_seed[] =\n@@ -348,9 +287,14 @@ static double Time_F(int s)\n \n static void multiblock_speed(const EVP_CIPHER *evp_cipher);\n \n-static int found(const char *name, const OPT_PAIR *pairs, int *result)\n+#define found(value, pairs, result)\\\n+    opt_found(value, result, pairs, OSSL_NELEM(pairs))\n+static int opt_found(const char *name, unsigned int *result,\n+                     const OPT_PAIR pairs[], unsigned int nbelem)\n {\n-    for (; pairs->name; pairs++)\n+    unsigned int idx;\n+\n+    for (idx = 0; idx < nbelem; ++idx, pairs++)\n         if (strcmp(name, pairs->name) == 0) {\n             *result = pairs->retval;\n             return 1;\n@@ -387,7 +331,7 @@ OPTIONS speed_options[] = {\n #ifndef OPENSSL_NO_ENGINE\n     {\"engine\", OPT_ENGINE, 's', \"Use engine, possibly a hardware device\"},\n #endif\n-    {NULL},\n+    {NULL}\n };\n \n #define D_MD2           0\n@@ -420,7 +364,19 @@ OPTIONS speed_options[] = {\n #define D_IGE_192_AES   27\n #define D_IGE_256_AES   28\n #define D_GHASH         29\n-static OPT_PAIR doit_choices[] = {\n+/* name of algorithms to test */\n+static const char *names[] = {\n+    \"md2\", \"mdc2\", \"md4\", \"md5\", \"hmac(md5)\", \"sha1\", \"rmd160\", \"rc4\",\n+    \"des cbc\", \"des ede3\", \"idea cbc\", \"seed cbc\",\n+    \"rc2 cbc\", \"rc5-32/12 cbc\", \"blowfish cbc\", \"cast cbc\",\n+    \"aes-128 cbc\", \"aes-192 cbc\", \"aes-256 cbc\",\n+    \"camellia-128 cbc\", \"camellia-192 cbc\", \"camellia-256 cbc\",\n+    \"evp\", \"sha256\", \"sha512\", \"whirlpool\",\n+    \"aes-128 ige\", \"aes-192 ige\", \"aes-256 ige\", \"ghash\"\n+};\n+#define ALGOR_NUM       OSSL_NELEM(names)\n+/* list of configured algorithm (remaining) */\n+static const OPT_PAIR doit_choices[] = {\n #ifndef OPENSSL_NO_MD2\n     {\"md2\", D_MD2},\n #endif\n@@ -484,21 +440,24 @@ static OPT_PAIR doit_choices[] = {\n     {\"cast\", D_CBC_CAST},\n     {\"cast5\", D_CBC_CAST},\n #endif\n-    {\"ghash\", D_GHASH},\n-    {NULL}\n+    {\"ghash\", D_GHASH}\n };\n \n+static double results[ALGOR_NUM][SIZE_NUM];\n+\n #ifndef OPENSSL_NO_DSA\n # define R_DSA_512       0\n # define R_DSA_1024      1\n # define R_DSA_2048      2\n-static OPT_PAIR dsa_choices[] = {\n+static const OPT_PAIR dsa_choices[] = {\n     {\"dsa512\", R_DSA_512},\n     {\"dsa1024\", R_DSA_1024},\n-    {\"dsa2048\", R_DSA_2048},\n-    {NULL},\n+    {\"dsa2048\", R_DSA_2048}\n };\n-#endif\n+# define DSA_NUM         OSSL_NELEM(dsa_choices)\n+\n+static double dsa_results[DSA_NUM][2];  /* 2 ops: sign then verify */\n+#endif  /* OPENSSL_NO_DSA */\n \n #define R_RSA_512       0\n #define R_RSA_1024      1\n@@ -507,16 +466,18 @@ static OPT_PAIR dsa_choices[] = {\n #define R_RSA_4096      4\n #define R_RSA_7680      5\n #define R_RSA_15360     6\n-static OPT_PAIR rsa_choices[] = {\n+static const OPT_PAIR rsa_choices[] = {\n     {\"rsa512\", R_RSA_512},\n     {\"rsa1024\", R_RSA_1024},\n     {\"rsa2048\", R_RSA_2048},\n     {\"rsa3072\", R_RSA_3072},\n     {\"rsa4096\", R_RSA_4096},\n     {\"rsa7680\", R_RSA_7680},\n-    {\"rsa15360\", R_RSA_15360},\n-    {NULL}\n+    {\"rsa15360\", R_RSA_15360}\n };\n+# define RSA_NUM OSSL_NELEM(rsa_choices)\n+\n+static double rsa_results[RSA_NUM][2];  /* 2 ops: sign then verify */\n \n #define R_EC_P160    0\n #define R_EC_P192    1\n@@ -536,7 +497,7 @@ static OPT_PAIR rsa_choices[] = {\n #define R_EC_B571    15\n #define R_EC_X25519  16\n #ifndef OPENSSL_NO_EC\n-static OPT_PAIR ecdsa_choices[] = {\n+static const OPT_PAIR ecdsa_choices[] = {\n     {\"ecdsap160\", R_EC_P160},\n     {\"ecdsap192\", R_EC_P192},\n     {\"ecdsap224\", R_EC_P224},\n@@ -552,11 +513,13 @@ static OPT_PAIR ecdsa_choices[] = {\n     {\"ecdsab233\", R_EC_B233},\n     {\"ecdsab283\", R_EC_B283},\n     {\"ecdsab409\", R_EC_B409},\n-    {\"ecdsab571\", R_EC_B571},\n-    {NULL}\n+    {\"ecdsab571\", R_EC_B571}\n };\n+# define ECDSA_NUM       OSSL_NELEM(ecdsa_choices)\n+\n+static double ecdsa_results[ECDSA_NUM][2];    /* 2 ops: sign then verify */\n \n-static OPT_PAIR ecdh_choices[] = {\n+static const OPT_PAIR ecdh_choices[] = {\n     {\"ecdhp160\", R_EC_P160},\n     {\"ecdhp192\", R_EC_P192},\n     {\"ecdhp224\", R_EC_P224},\n@@ -576,7 +539,10 @@ static OPT_PAIR ecdh_choices[] = {\n     {\"ecdhx25519\", R_EC_X25519},\n     {NULL}\n };\n-#endif\n+# define EC_NUM       OSSL_NELEM(ecdh_choices)\n+\n+static double ecdh_results[EC_NUM][1];  /* 1 op: derivation */\n+#endif /* OPENSSL_NO_EC */\n \n #ifndef SIGALRM\n # define COND(d) (count < (d))\n@@ -586,7 +552,40 @@ static OPT_PAIR ecdh_choices[] = {\n # define COUNT(d) (count)\n #endif                         /* SIGALRM */\n \n-static int testnum;\n+static unsigned int testnum;\n+typedef void *(*kdf_fn) (const void *in, size_t inlen, void *out,\n+                         size_t *xoutlen);\n+\n+typedef struct loopargs_st {\n+    ASYNC_JOB *inprogress_job;\n+    ASYNC_WAIT_CTX *wait_ctx;\n+    unsigned char *buf;\n+    unsigned char *buf2;\n+    unsigned char *buf_malloc;\n+    unsigned char *buf2_malloc;\n+    unsigned int siglen;\n+#ifndef OPENSSL_NO_RSA\n+    RSA *rsa_key[RSA_NUM];\n+#endif\n+#ifndef OPENSSL_NO_DSA\n+    DSA *dsa_key[DSA_NUM];\n+#endif\n+#ifndef OPENSSL_NO_EC\n+    EC_KEY *ecdsa[ECDSA_NUM];\n+    EC_KEY *ecdh_a[EC_NUM];\n+    EC_KEY *ecdh_b[EC_NUM];\n+    unsigned char *secret_a;\n+    unsigned char *secret_b;\n+    size_t      outlen;\n+    kdf_fn      kdf;\n+#endif\n+    EVP_CIPHER_CTX *ctx;\n+    HMAC_CTX *hctx;\n+    GCM128_CONTEXT *gcm_ctx;\n+} loopargs_t;\n+\n+static int run_benchmark(int async_jobs, int (*loop_function) (void *),\n+                         loopargs_t * loopargs);\n \n /* Nb of iterations to do per algorithm and key-size */\n static long c[ALGOR_NUM][SIZE_NUM];\n@@ -995,7 +994,7 @@ static int DSA_verify_loop(void *args)\n #endif\n \n #ifndef OPENSSL_NO_EC\n-static long ecdsa_c[EC_NUM][2];\n+static long ecdsa_c[ECDSA_NUM][2];\n static int ECDSA_sign_loop(void *args)\n {\n     loopargs_t *tempargs = *(loopargs_t **)args;\n@@ -1188,8 +1187,8 @@ static int run_benchmark(int async_jobs,\n                 continue;\n #endif\n \n-            ret = ASYNC_start_job(&loopargs[i].inprogress_job,\n-                    loopargs[i].wait_ctx, &job_op_count, loop_function,\n+            ret = ASYNC_start_job(&loopargs[i].inprogress_job, \n+                    loopargs[i].wait_ctx, &job_op_count, loop_function, \n                     (void *)(loopargs + i), sizeof(loopargs_t));\n             switch (ret) {\n             case ASYNC_PAUSE:\n@@ -1222,26 +1221,23 @@ int speed_main(int argc, char **argv)\n {\n     ENGINE *e = NULL;\n     loopargs_t *loopargs = NULL;\n-    int async_init = 0;\n-    int loopargs_len = 0;\n-    char *prog;\n+    const char *prog;\n     const char *engine_id = NULL;\n     const EVP_CIPHER *evp_cipher = NULL;\n     double d = 0.0;\n     OPTION_CHOICE o;\n-    int multiblock = 0, pr_header = 0;\n+    int async_init = 0, multiblock = 0, pr_header = 0;\n     int doit[ALGOR_NUM] = { 0 };\n-    int ret = 1, i, k, misalign = 0;\n+    int ret = 1, misalign = 0;\n     long count = 0;\n+    unsigned int i, k, loop, loopargs_len = 0, async_jobs = 0;\n #ifndef NO_FORK\n     int multi = 0;\n #endif\n-    unsigned int async_jobs = 0;\n #if !defined(OPENSSL_NO_RSA) || !defined(OPENSSL_NO_DSA) \\\n     || !defined(OPENSSL_NO_EC)\n     long rsa_count = 1;\n #endif\n-    size_t loop;\n \n     /* What follows are the buffers and key material. */\n #ifndef OPENSSL_NO_RC5\n@@ -1325,7 +1321,7 @@ int speed_main(int argc, char **argv)\n     /*\n      * We only test over the following curves as they are representative, To\n      * add tests over more curves, simply add the curve NID and curve name to\n-     * the following arrays and increase the EC_NUM value accordingly.\n+     * the following arrays and increase the |ecdh_choices| list accordingly.\n      */\n     static const unsigned int test_curves[EC_NUM] = {\n         /* Prime Curves */\n@@ -1360,7 +1356,7 @@ int speed_main(int argc, char **argv)\n         571, 253 /* X25519 */\n     };\n \n-    int ecdsa_doit[EC_NUM] = { 0 };\n+    int ecdsa_doit[ECDSA_NUM] = { 0 };\n     int ecdh_doit[EC_NUM] = { 0 };\n #endif                          /* ndef OPENSSL_NO_EC */\n \n@@ -1418,9 +1414,7 @@ int speed_main(int argc, char **argv)\n                 goto opterr;\n             }\n             if (async_jobs > 99999) {\n-                BIO_printf(bio_err,\n-                           \"%s: too many async_jobs\\n\",\n-                           prog);\n+                BIO_printf(bio_err, \"%s: too many async_jobs\\n\", prog);\n                 goto opterr;\n             }\n #endif\n@@ -1471,10 +1465,8 @@ int speed_main(int argc, char **argv)\n         if (strcmp(*argv, \"openssl\") == 0)\n             continue;\n         if (strcmp(*argv, \"rsa\") == 0) {\n-            rsa_doit[R_RSA_512] = rsa_doit[R_RSA_1024] =\n-                rsa_doit[R_RSA_2048] = rsa_doit[R_RSA_3072] =\n-                rsa_doit[R_RSA_4096] = rsa_doit[R_RSA_7680] =\n-                rsa_doit[R_RSA_15360] = 1;\n+            for (loop = 0; loop < OSSL_NELEM(rsa_doit); loop++)\n+                rsa_doit[loop] = 1;\n             continue;\n         }\n         if (found(*argv, rsa_choices, &i)) {\n@@ -1507,17 +1499,17 @@ int speed_main(int argc, char **argv)\n #endif\n #ifndef OPENSSL_NO_EC\n         if (strcmp(*argv, \"ecdsa\") == 0) {\n-            for (loop = 0; loop < OSSL_NELEM(ecdsa_choices); loop++)\n-                ecdsa_doit[ecdsa_choices[loop].retval] = 1;\n+            for (loop = 0; loop < OSSL_NELEM(ecdsa_doit); loop++)\n+                ecdsa_doit[loop] = 1;\n             continue;\n         }\n         if (found(*argv, ecdsa_choices, &i)) {\n             ecdsa_doit[i] = 2;\n             continue;\n         }\n         if (strcmp(*argv, \"ecdh\") == 0) {\n-            for (loop = 0; loop < OSSL_NELEM(ecdh_choices); loop++)\n-                ecdh_doit[ecdh_choices[loop].retval] = 1;\n+            for (loop = 0; loop < OSSL_NELEM(ecdh_doit); loop++)\n+                ecdh_doit[loop] = 1;\n             continue;\n         }\n         if (found(*argv, ecdh_choices, &i)) {\n@@ -1584,10 +1576,10 @@ int speed_main(int argc, char **argv)\n             dsa_doit[i] = 1;\n #endif\n #ifndef OPENSSL_NO_EC\n-        for (loop = 0; loop < OSSL_NELEM(ecdsa_choices); loop++)\n-            ecdsa_doit[ecdsa_choices[loop].retval] = 1;\n-        for (loop = 0; loop < OSSL_NELEM(ecdh_choices); loop++)\n-            ecdh_doit[ecdh_choices[loop].retval] = 1;\n+        for (loop = 0; loop < OSSL_NELEM(ecdsa_doit); loop++)\n+            ecdsa_doit[loop] = 1;\n+        for (loop = 0; loop < OSSL_NELEM(ecdh_doit); loop++)\n+            ecdh_doit[loop] = 1;\n #endif\n     }\n     for (i = 0; i < ALGOR_NUM; i++)\n@@ -1850,6 +1842,8 @@ int speed_main(int argc, char **argv)\n             }\n         }\n     }\n+    /* default iteration count for the last EC Curve */\n+    ecdh_c[R_EC_X25519][0] = count / 1800;\n #  endif\n \n # else\n@@ -2472,7 +2466,7 @@ int speed_main(int argc, char **argv)\n     if (RAND_status() != 1) {\n         RAND_seed(rnd_seed, sizeof(rnd_seed));\n     }\n-    for (testnum = 0; testnum < EC_NUM; testnum++) {\n+    for (testnum = 0; testnum < ECDSA_NUM; testnum++) {\n         int st = 1;\n \n         if (!ecdsa_doit[testnum])\n@@ -2584,7 +2578,7 @@ int speed_main(int argc, char **argv)\n                     ecdh_checks = 0;\n                     rsa_count = 1;\n                 } else {\n-                    int secret_size_a, secret_size_b;\n+                    int secret_size_a, secret_size_b, j;\n                     /*\n                      * If field size is not more than 24 octets, then use SHA-1\n                      * hash of result; otherwise, use result (see section 4.8 of\n@@ -2613,8 +2607,8 @@ int speed_main(int argc, char **argv)\n                     else\n                         ecdh_checks = 1;\n \n-                    for (k = 0; k < secret_size_a && ecdh_checks == 1; k++) {\n-                        if (loopargs[i].secret_a[k] != loopargs[i].secret_b[k])\n+                    for (j = 0; j < secret_size_a && ecdh_checks == 1; j++) {\n+                        if (loopargs[i].secret_a[j] != loopargs[i].secret_b[j])\n                             ecdh_checks = 0;\n                     }\n \n@@ -2644,7 +2638,7 @@ int speed_main(int argc, char **argv)\n \n         if (rsa_count <= 1) {\n             /* if longer than 10s, don't do any more */\n-            for (testnum++; testnum < EC_NUM; testnum++)\n+            for (testnum++; testnum < OSSL_NELEM(ecdh_doit); testnum++)\n                 ecdh_doit[testnum] = 0;\n         }\n     }\n@@ -2693,7 +2687,7 @@ int speed_main(int argc, char **argv)\n         if (!doit[k])\n             continue;\n         if (mr)\n-            printf(\"+F:%d:%s\", k, names[k]);\n+            printf(\"+F:%u:%s\", k, names[k]);\n         else\n             printf(\"%-13s\", names[k]);\n         for (testnum = 0; testnum < SIZE_NUM; testnum++) {\n@@ -2742,7 +2736,7 @@ int speed_main(int argc, char **argv)\n #endif\n #ifndef OPENSSL_NO_EC\n     testnum = 1;\n-    for (k = 0; k < EC_NUM; k++) {\n+    for (k = 0; k < OSSL_NELEM(ecdsa_doit); k++) {\n         if (!ecdsa_doit[k])\n             continue;\n         if (testnum && !mr) {\n@@ -2800,8 +2794,9 @@ int speed_main(int argc, char **argv)\n             DSA_free(loopargs[i].dsa_key[k]);\n #endif\n #ifndef OPENSSL_NO_EC\n-        for (k = 0; k < EC_NUM; k++) {\n+        for (k = 0; k < ECDSA_NUM; k++)\n             EC_KEY_free(loopargs[i].ecdsa[k]);\n+        for (k = 0; k < EC_NUM; k++) {\n             EC_KEY_free(loopargs[i].ecdh_a[k]);\n             EC_KEY_free(loopargs[i].ecdh_b[k]);\n         }\n@@ -2950,7 +2945,7 @@ static int do_multi(int multi)\n             printf(\"Got: %s from %d\\n\", buf, n);\n             if (strncmp(buf, \"+F:\", 3) == 0) {\n                 int alg;\n-                int j;\n+                unsigned int j;\n \n                 p = buf + 3;\n                 alg = atoi(sstrsep(&p, sep));"
        },
        {
            "sha": "8bcbff61774abeb56464310b306377a32d6322a0",
            "filename": "deps/openssl/openssl/apps/verify.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fverify.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fapps%2Fverify.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fapps%2Fverify.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -219,6 +219,7 @@ static int check(X509_STORE *ctx, const char *file,\n \n     X509_STORE_set_flags(ctx, vflags);\n     if (!X509_STORE_CTX_init(csc, ctx, x, uchain)) {\n+        X509_STORE_CTX_free(csc);\n         printf(\"error %s: X.509 store context initialization failed\\n\",\n                (file == NULL) ? \"stdin\" : file);\n         goto end;"
        },
        {
            "sha": "ba291fdd174b097424c17b78d5b6435430c48586",
            "filename": "deps/openssl/openssl/appveyor.yml",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fappveyor.yml",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fappveyor.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fappveyor.yml?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -41,5 +41,5 @@ test_script:\n     - cd _build\n     - nmake test\n     - mkdir ..\\_install\n-    - nmake install install_docs DESTDIR=..\\_install\n+    - nmake install DESTDIR=..\\_install\n     - cd .."
        },
        {
            "sha": "35e849a9585bd47e368646ee5df75bdc81dea1cf",
            "filename": "deps/openssl/openssl/config",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fconfig",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fconfig",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fconfig?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -923,7 +923,7 @@ if [ $? = \"0\" ]; then\n \n   if [ \"$VERBOSE\" = \"true\" ]; then\n     echo $PERL $THERE/Configure $OUT $options\n-  fi\n+  fi  \n   if [ \"$DRYRUN\" = \"false\" ]; then\n     $PERL $THERE/Configure $OUT $options\n   fi"
        },
        {
            "sha": "d6b5f561c4cff586591ce27817ca6e6e0d039793",
            "filename": "deps/openssl/openssl/crypto/aes/asm/vpaes-armv8.pl",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fasm%2Fvpaes-armv8.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fasm%2Fvpaes-armv8.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fasm%2Fvpaes-armv8.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -769,7 +769,7 @@\n \tld1\t{v0.16b}, [$inp]\t\t// vmovdqu\t16(%rdi),%xmm0\t\t# load key part 2 (unaligned)\n \tbl\t_vpaes_schedule_transform\t// input transform\n \tmov\t$inp, #7\t\t\t// mov\t\\$7, %esi\n-\n+\t\n .Loop_schedule_256:\n \tsub\t$inp, $inp, #1\t\t\t// dec\t%esi\n \tbl\t_vpaes_schedule_mangle\t\t// output low result\n@@ -778,7 +778,7 @@\n \t// high round\n \tbl\t_vpaes_schedule_round\n \tcbz \t$inp, .Lschedule_mangle_last\n-\tbl\t_vpaes_schedule_mangle\n+\tbl\t_vpaes_schedule_mangle\t\n \n \t// low round. swap xmm7 and xmm6\n \tdup\tv0.4s, v0.s[3]\t\t\t// vpshufd\t\\$0xFF,\t%xmm0,\t%xmm0\n@@ -787,7 +787,7 @@\n \tmov\tv7.16b, v6.16b\t\t\t// vmovdqa\t%xmm6,\t%xmm7\n \tbl\t_vpaes_schedule_low_round\n \tmov\tv7.16b, v5.16b\t\t\t// vmovdqa\t%xmm5,\t%xmm7\n-\n+\t\n \tb\t.Loop_schedule_256\n \n ##\n@@ -814,7 +814,7 @@\n \n .Lschedule_mangle_last_dec:\n \tld1\t{v20.2d-v21.2d}, [x11]\t\t// reload constants\n-\tsub\t$out, $out, #16\t\t\t// add\t\\$-16,\t%rdx\n+\tsub\t$out, $out, #16\t\t\t// add\t\\$-16,\t%rdx \n \teor\tv0.16b, v0.16b, v16.16b\t\t// vpxor\t.Lk_s63(%rip),\t%xmm0,\t%xmm0\n \tbl\t_vpaes_schedule_transform\t// output transform\n \tst1\t{v0.2d}, [$out]\t\t\t// vmovdqu\t%xmm0,\t(%rdx)\t\t# save last key"
        },
        {
            "sha": "cf6cb5ec25bacff7c954f3d2fe47259b841d6667",
            "filename": "deps/openssl/openssl/crypto/aes/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Faes%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -45,9 +45,6 @@ INCLUDE[aes-armv4.o]=..\n GENERATE[bsaes-armv7.S]=asm/bsaes-armv7.pl $(PERLASM_SCHEME)\n INCLUDE[bsaes-armv7.o]=..\n \n-GENERATE[aes-s390x.S]=asm/aes-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[aes-s390x.o]=..\n-\n BEGINRAW[Makefile]\n ##### AES assembler implementations\n "
        },
        {
            "sha": "25419e0df17d47257e6fcf03b7046f22376ebce4",
            "filename": "deps/openssl/openssl/crypto/arm_arch.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farm_arch.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farm_arch.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farm_arch.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2011-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2011-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -69,7 +69,7 @@\n #  endif\n # endif\n \n-# if !__ASSEMBLER__\n+# ifndef __ASSEMBLER__\n extern unsigned int OPENSSL_armcap_P;\n # endif\n "
        },
        {
            "sha": "28e97c8c4a048393f86e53498489a7c3f1bf11a2",
            "filename": "deps/openssl/openssl/crypto/armcap.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmcap.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmcap.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmcap.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2011-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2011-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -13,6 +13,7 @@\n #include <setjmp.h>\n #include <signal.h>\n #include <openssl/crypto.h>\n+#include <internal/cryptlib.h>\n \n #include \"arm_arch.h\"\n "
        },
        {
            "sha": "ab007c19c3cd0c2caf9e16e50649cc4b76df8ae1",
            "filename": "deps/openssl/openssl/crypto/armv4cpuid.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmv4cpuid.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmv4cpuid.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Farmv4cpuid.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -125,7 +125,7 @@\n \n \tldmia\tsp!,{r4,r5}\n .Lno_data:\n-\tneg\tr0,ip\n+\trsb\tr0,ip,#0\n \tmov\tr0,r0,lsr#31\n #if __ARM_ARCH__>=5\n \tbx\tlr"
        },
        {
            "sha": "7d332ec2f6e1d0aa50aa5650b95e12e58f8c4696",
            "filename": "deps/openssl/openssl/crypto/asn1/a_object.c",
            "status": "modified",
            "additions": 17,
            "deletions": 6,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_object.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_object.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_object.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -19,7 +19,7 @@\n \n int i2d_ASN1_OBJECT(const ASN1_OBJECT *a, unsigned char **pp)\n {\n-    unsigned char *p;\n+    unsigned char *p, *allocated = NULL;\n     int objsize;\n \n     if ((a == NULL) || (a->data == NULL))\n@@ -29,13 +29,24 @@ int i2d_ASN1_OBJECT(const ASN1_OBJECT *a, unsigned char **pp)\n     if (pp == NULL || objsize == -1)\n         return objsize;\n \n-    p = *pp;\n+    if (*pp == NULL) {\n+        if ((p = allocated = OPENSSL_malloc(objsize)) == NULL) {\n+            ASN1err(ASN1_F_I2D_ASN1_OBJECT, ERR_R_MALLOC_FAILURE);\n+            return 0;\n+        }\n+    } else {\n+        p = *pp;\n+    }\n+\n     ASN1_put_object(&p, 0, a->length, V_ASN1_OBJECT, V_ASN1_UNIVERSAL);\n     memcpy(p, a->data, a->length);\n-    p += a->length;\n \n-    *pp = p;\n-    return (objsize);\n+    /*\n+     * If a new buffer was allocated, just return it back.\n+     * If not, return the incremented buffer pointer.\n+     */\n+    *pp = allocated != NULL ? allocated : p + a->length;\n+    return objsize;\n }\n \n int a2d_ASN1_OBJECT(unsigned char *out, int olen, const char *buf, int num)"
        },
        {
            "sha": "207190c52b22219d888460d94ae86cde29ffb1da",
            "filename": "deps/openssl/openssl/crypto/asn1/a_strex.c",
            "status": "modified",
            "additions": 24,
            "deletions": 53,
            "changes": 77,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_strex.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_strex.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fa_strex.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -139,20 +139,40 @@ static int do_buf(unsigned char *buf, int buflen,\n                   int type, unsigned short flags, char *quotes, char_io *io_ch,\n                   void *arg)\n {\n-    int i, outlen, len;\n+    int i, outlen, len, charwidth;\n     unsigned short orflags;\n     unsigned char *p, *q;\n     unsigned long c;\n \n     p = buf;\n     q = buf + buflen;\n     outlen = 0;\n+    charwidth = type & BUF_TYPE_WIDTH_MASK;\n+\n+    switch (charwidth) {\n+    case 4:\n+        if (buflen & 3) {\n+            ASN1err(ASN1_F_DO_BUF, ASN1_R_INVALID_UNIVERSALSTRING_LENGTH);\n+            return -1;\n+        }\n+        break;\n+    case 2:\n+        if (buflen & 1) {\n+            ASN1err(ASN1_F_DO_BUF, ASN1_R_INVALID_BMPSTRING_LENGTH);\n+            return -1;\n+        }\n+        break;\n+    default:\n+        break;\n+    }\n+\n     while (p != q) {\n         if (p == buf && flags & ASN1_STRFLGS_ESC_2253)\n             orflags = CHARTYPE_FIRST_ESC_2253;\n         else\n             orflags = 0;\n-        switch (type & BUF_TYPE_WIDTH_MASK) {\n+\n+        switch (charwidth) {\n         case 4:\n             c = ((unsigned long)*p++) << 24;\n             c |= ((unsigned long)*p++) << 16;\n@@ -173,6 +193,7 @@ static int do_buf(unsigned char *buf, int buflen,\n             i = UTF8_getc(p, buflen, &c);\n             if (i < 0)\n                 return -1;      /* Invalid UTF8String */\n+            buflen -= i;\n             p += i;\n             break;\n         default:\n@@ -592,53 +613,3 @@ int ASN1_STRING_to_UTF8(unsigned char **out, const ASN1_STRING *in)\n     *out = stmp.data;\n     return stmp.length;\n }\n-\n-/* Return 1 if host is a valid hostname and 0 otherwise */\n-int asn1_valid_host(const ASN1_STRING *host)\n-{\n-    int hostlen = host->length;\n-    const unsigned char *hostptr = host->data;\n-    int type = host->type;\n-    int i;\n-    signed char width = -1;\n-    unsigned short chflags = 0, prevchflags;\n-\n-    if (type > 0 && type < 31)\n-        width = tag2nbyte[type];\n-    if (width == -1 || hostlen == 0)\n-        return 0;\n-    /* Treat UTF8String as width 1 as any MSB set is invalid */\n-    if (width == 0)\n-        width = 1;\n-    for (i = 0 ; i < hostlen; i+= width) {\n-        prevchflags = chflags;\n-        /* Value must be <= 0x7F: check upper bytes are all zeroes */\n-        if (width == 4) {\n-            if (*hostptr++ != 0 || *hostptr++ != 0 || *hostptr++ != 0)\n-                return 0;\n-        } else if (width == 2) {\n-            if (*hostptr++ != 0)\n-                return 0;\n-        }\n-        if (*hostptr > 0x7f)\n-            return 0;\n-        chflags = char_type[*hostptr++];\n-        if (!(chflags & (CHARTYPE_HOST_ANY | CHARTYPE_HOST_WILD))) {\n-            /* Nothing else allowed at start or end of string */\n-            if (i == 0 || i == hostlen - 1)\n-                return 0;\n-            /* Otherwise invalid if not dot or hyphen */\n-            if (!(chflags & (CHARTYPE_HOST_DOT | CHARTYPE_HOST_HYPHEN)))\n-                return 0;\n-            /*\n-             * If previous is dot or hyphen then illegal unless both\n-             * are hyphens: as .- -. .. are all illegal\n-             */\n-            if (prevchflags & (CHARTYPE_HOST_DOT | CHARTYPE_HOST_HYPHEN)\n-                && ((prevchflags & CHARTYPE_HOST_DOT)\n-                    || (chflags & CHARTYPE_HOST_DOT)))\n-                return 0;\n-        }\n-    }\n-    return 1;\n-}"
        },
        {
            "sha": "9b0a2ccb20b7e8214bedd7e93fcdae8d75044137",
            "filename": "deps/openssl/openssl/crypto/asn1/ameth_lib.c",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fameth_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fameth_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fameth_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -255,6 +255,18 @@ EVP_PKEY_ASN1_METHOD *EVP_PKEY_asn1_new(int id, int flags,\n             goto err;\n     }\n \n+    /*\n+     * One of the following must be true:\n+     *\n+     * pem_str == NULL AND ASN1_PKEY_ALIAS is set\n+     * pem_str != NULL AND ASN1_PKEY_ALIAS is clear\n+     *\n+     * Anything else is an error and may lead to a corrupt ASN1 method table\n+     */\n+    if (!((pem_str == NULL && (flags & ASN1_PKEY_ALIAS) != 0)\n+          || (pem_str != NULL && (flags & ASN1_PKEY_ALIAS) == 0)))\n+        goto err;\n+\n     if (pem_str) {\n         ameth->pem_str = OPENSSL_strdup(pem_str);\n         if (!ameth->pem_str)"
        },
        {
            "sha": "5d895d30095ddd05d5f2d5b2adea831a995653dc",
            "filename": "deps/openssl/openssl/crypto/asn1/asn1_err.c",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn1_err.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn1_err.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn1_err.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -92,8 +92,10 @@ static ERR_STRING_DATA ASN1_str_functs[] = {\n     {ERR_FUNC(ASN1_F_D2I_AUTOPRIVATEKEY), \"d2i_AutoPrivateKey\"},\n     {ERR_FUNC(ASN1_F_D2I_PRIVATEKEY), \"d2i_PrivateKey\"},\n     {ERR_FUNC(ASN1_F_D2I_PUBLICKEY), \"d2i_PublicKey\"},\n+    {ERR_FUNC(ASN1_F_DO_BUF), \"do_buf\"},\n     {ERR_FUNC(ASN1_F_DO_TCREATE), \"do_tcreate\"},\n     {ERR_FUNC(ASN1_F_I2D_ASN1_BIO_STREAM), \"i2d_ASN1_bio_stream\"},\n+    {ERR_FUNC(ASN1_F_I2D_ASN1_OBJECT), \"i2d_ASN1_OBJECT\"},\n     {ERR_FUNC(ASN1_F_I2D_DSA_PUBKEY), \"i2d_DSA_PUBKEY\"},\n     {ERR_FUNC(ASN1_F_I2D_EC_PUBKEY), \"i2d_EC_PUBKEY\"},\n     {ERR_FUNC(ASN1_F_I2D_PRIVATEKEY), \"i2d_PrivateKey\"},"
        },
        {
            "sha": "da0085f680cd0cef81a29b12ed2ba50eb419773f",
            "filename": "deps/openssl/openssl/crypto/asn1/asn_mime.c",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn_mime.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn_mime.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fasn_mime.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -969,12 +969,14 @@ static int strip_eol(char *linebuf, int *plen, int flags)\n     p = linebuf + len - 1;\n     for (p = linebuf + len - 1; len > 0; len--, p--) {\n         c = *p;\n-        if (c == '\\n')\n+        if (c == '\\n') {\n             is_eol = 1;\n-        else if (is_eol && flags & SMIME_ASCIICRLF && c < 33)\n+        } else if (is_eol && flags & SMIME_ASCIICRLF && c == 32) {\n+            /* Strip trailing space on a line; 32 == ASCII for ' ' */\n             continue;\n-        else if (c != '\\r')\n+        } else if (c != '\\r') {\n             break;\n+        }\n     }\n     *plen = len;\n     return is_eol;"
        },
        {
            "sha": "10a73602335147778dab2fa452966255ed00ea0e",
            "filename": "deps/openssl/openssl/crypto/asn1/p5_scrypt.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fp5_scrypt.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fp5_scrypt.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fp5_scrypt.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -91,7 +91,7 @@ X509_ALGOR *PKCS5_pbe2_set_scrypt(const EVP_CIPHER *cipher,\n     if (EVP_CIPHER_iv_length(cipher)) {\n         if (aiv)\n             memcpy(iv, aiv, EVP_CIPHER_iv_length(cipher));\n-        else if (RAND_bytes(iv, EVP_CIPHER_iv_length(cipher)) < 0)\n+        else if (RAND_bytes(iv, EVP_CIPHER_iv_length(cipher)) <= 0)\n             goto err;\n     }\n "
        },
        {
            "sha": "3b723a1845db5b88180abed8fe39d3829a0c7e09",
            "filename": "deps/openssl/openssl/crypto/asn1/tasn_enc.c",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_enc.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_enc.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_enc.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -528,6 +528,8 @@ static int asn1_ex_i2c(ASN1_VALUE **pval, unsigned char *cout, int *putype,\n         otmp = (ASN1_OBJECT *)*pval;\n         cont = otmp->data;\n         len = otmp->length;\n+        if (cont == NULL || len == 0)\n+            return -1;\n         break;\n \n     case V_ASN1_NULL:"
        },
        {
            "sha": "832603b1dbcd5068fd7ec2ce0707711a7e1bb182",
            "filename": "deps/openssl/openssl/crypto/asn1/tasn_utl.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_utl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_utl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Ftasn_utl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -76,7 +76,7 @@ int asn1_do_lock(ASN1_VALUE **pval, int op, const ASN1_ITEM *it)\n         }\n         return 1;\n     }\n-    if (CRYPTO_atomic_add(lck, op, &ret, *lock) < 0)\n+    if (!CRYPTO_atomic_add(lck, op, &ret, *lock))\n         return -1;  /* failed */\n #ifdef REF_PRINT\n     fprintf(stderr, \"%p:%4d:%s\\n\", it, *lck, it->sname);"
        },
        {
            "sha": "4433167a442c0be6fe688ef22a3ed29f838c5b48",
            "filename": "deps/openssl/openssl/crypto/asn1/x_int64.c",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fx_int64.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fx_int64.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasn1%2Fx_int64.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -262,3 +262,4 @@ ASN1_ITEM_start(ZUINT64)\n     ASN1_ITYPE_PRIMITIVE, V_ASN1_INTEGER, NULL, 0, &uint64_pf,\n     INTxx_FLAG_ZERO_DEFAULT, \"ZUINT64\"\n ASN1_ITEM_end(ZUINT64)\n+"
        },
        {
            "sha": "3eaf170f2e50770b67aef92c00c33f24409f714e",
            "filename": "deps/openssl/openssl/crypto/async/arch/async_null.c",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Farch%2Fasync_null.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Farch%2Fasync_null.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Farch%2Fasync_null.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -20,3 +20,4 @@ void async_local_cleanup(void)\n {\n }\n #endif\n+"
        },
        {
            "sha": "0862cca21ae23ecb0d1e4aa129d84d0be2e7d478",
            "filename": "deps/openssl/openssl/crypto/async/async.c",
            "status": "modified",
            "additions": 47,
            "deletions": 29,
            "changes": 76,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -30,11 +30,12 @@\n static CRYPTO_THREAD_LOCAL ctxkey;\n static CRYPTO_THREAD_LOCAL poolkey;\n \n-static void async_free_pool_internal(async_pool *pool);\n-\n static async_ctx *async_ctx_new(void)\n {\n-    async_ctx *nctx = NULL;\n+    async_ctx *nctx;\n+\n+    if (!ossl_init_thread_start(OPENSSL_INIT_THREAD_ASYNC))\n+        return NULL;\n \n     nctx = OPENSSL_malloc(sizeof(async_ctx));\n     if (nctx == NULL) {\n@@ -57,9 +58,6 @@ static async_ctx *async_ctx_new(void)\n \n async_ctx *async_get_ctx(void)\n {\n-    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n-        return NULL;\n-\n     return (async_ctx *)CRYPTO_THREAD_get_local(&ctxkey);\n }\n \n@@ -169,16 +167,19 @@ void async_start_func(void)\n int ASYNC_start_job(ASYNC_JOB **job, ASYNC_WAIT_CTX *wctx, int *ret,\n                     int (*func)(void *), void *args, size_t size)\n {\n-    async_ctx *ctx = async_get_ctx();\n+    async_ctx *ctx;\n+\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n+        return ASYNC_ERR;\n+\n+    ctx = async_get_ctx();\n     if (ctx == NULL)\n         ctx = async_ctx_new();\n-    if (ctx == NULL) {\n+    if (ctx == NULL)\n         return ASYNC_ERR;\n-    }\n \n-    if (*job) {\n+    if (*job)\n         ctx->currjob = *job;\n-    }\n \n     for (;;) {\n         if (ctx->currjob != NULL) {\n@@ -219,9 +220,8 @@ int ASYNC_start_job(ASYNC_JOB **job, ASYNC_WAIT_CTX *wctx, int *ret,\n         }\n \n         /* Start a new job */\n-        if ((ctx->currjob = async_get_pool_job()) == NULL) {\n+        if ((ctx->currjob = async_get_pool_job()) == NULL)\n             return ASYNC_NO_JOBS;\n-        }\n \n         if (args != NULL) {\n             ctx->currjob->funcargs = OPENSSL_malloc(size);\n@@ -323,12 +323,11 @@ int ASYNC_init_thread(size_t max_size, size_t init_size)\n         return 0;\n     }\n \n-    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL)) {\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n         return 0;\n-    }\n-    if (!ossl_init_thread_start(OPENSSL_INIT_THREAD_ASYNC)) {\n+\n+    if (!ossl_init_thread_start(OPENSSL_INIT_THREAD_ASYNC))\n         return 0;\n-    }\n \n     pool = OPENSSL_zalloc(sizeof(*pool));\n     if (pool == NULL) {\n@@ -369,32 +368,41 @@ int ASYNC_init_thread(size_t max_size, size_t init_size)\n \n     return 1;\n err:\n-    async_free_pool_internal(pool);\n+    async_empty_pool(pool);\n+    sk_ASYNC_JOB_free(pool->jobs);\n+    OPENSSL_free(pool);\n     return 0;\n }\n \n-static void async_free_pool_internal(async_pool *pool)\n+void async_delete_thread_state(void)\n {\n-    if (pool == NULL)\n-        return;\n+    async_pool *pool = (async_pool *)CRYPTO_THREAD_get_local(&poolkey);\n \n-    async_empty_pool(pool);\n-    sk_ASYNC_JOB_free(pool->jobs);\n-    OPENSSL_free(pool);\n-    CRYPTO_THREAD_set_local(&poolkey, NULL);\n+    if (pool != NULL) {\n+        async_empty_pool(pool);\n+        sk_ASYNC_JOB_free(pool->jobs);\n+        OPENSSL_free(pool);\n+        CRYPTO_THREAD_set_local(&poolkey, NULL);\n+    }\n     async_local_cleanup();\n     async_ctx_free();\n }\n \n void ASYNC_cleanup_thread(void)\n {\n-    async_free_pool_internal((async_pool *)CRYPTO_THREAD_get_local(&poolkey));\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n+        return;\n+\n+    async_delete_thread_state();\n }\n \n ASYNC_JOB *ASYNC_get_current_job(void)\n {\n     async_ctx *ctx;\n \n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n+        return NULL;\n+\n     ctx = async_get_ctx();\n     if (ctx == NULL)\n         return NULL;\n@@ -409,7 +417,12 @@ ASYNC_WAIT_CTX *ASYNC_get_wait_ctx(ASYNC_JOB *job)\n \n void ASYNC_block_pause(void)\n {\n-    async_ctx *ctx = async_get_ctx();\n+    async_ctx *ctx;\n+\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n+        return;\n+\n+    ctx = async_get_ctx();\n     if (ctx == NULL || ctx->currjob == NULL) {\n         /*\n          * We're not in a job anyway so ignore this\n@@ -421,7 +434,12 @@ void ASYNC_block_pause(void)\n \n void ASYNC_unblock_pause(void)\n {\n-    async_ctx *ctx = async_get_ctx();\n+    async_ctx *ctx;\n+\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_ASYNC, NULL))\n+        return;\n+\n+    ctx = async_get_ctx();\n     if (ctx == NULL || ctx->currjob == NULL) {\n         /*\n          * We're not in a job anyway so ignore this"
        },
        {
            "sha": "f0ac05a3db754e1f3aa174840ae9b744db18ec52",
            "filename": "deps/openssl/openssl/crypto/async/async_locl.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync_locl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync_locl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fasync%2Fasync_locl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -74,3 +74,4 @@ void async_start_func(void);\n async_ctx *async_get_ctx(void);\n \n void async_wait_ctx_reset_counts(ASYNC_WAIT_CTX *ctx);\n+"
        },
        {
            "sha": "6ed1652c8a860ca46c2f2ee12efcfba52da91eb4",
            "filename": "deps/openssl/openssl/crypto/bio/b_addr.c",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_addr.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_addr.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_addr.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -66,18 +66,18 @@ void BIO_ADDR_clear(BIO_ADDR *ap)\n int BIO_ADDR_make(BIO_ADDR *ap, const struct sockaddr *sa)\n {\n     if (sa->sa_family == AF_INET) {\n-        ap->s_in = *(const struct sockaddr_in *)sa;\n+        memcpy(&(ap->s_in), sa, sizeof(struct sockaddr_in));\n         return 1;\n     }\n #ifdef AF_INET6\n     if (sa->sa_family == AF_INET6) {\n-        ap->s_in6 = *(const struct sockaddr_in6 *)sa;\n+        memcpy(&(ap->s_in6), sa, sizeof(struct sockaddr_in6));\n         return 1;\n     }\n #endif\n #ifdef AF_UNIX\n     if (sa->sa_family == AF_UNIX) {\n-        ap->s_un = *(const struct sockaddr_un *)sa;\n+        memcpy(&(ap->s_un), sa, sizeof(struct sockaddr_un));\n         return 1;\n     }\n #endif\n@@ -604,7 +604,8 @@ static int addrinfo_wrap(int family, int socktype,\n \n DEFINE_RUN_ONCE_STATIC(do_bio_lookup_init)\n {\n-    OPENSSL_init_crypto(0, NULL);\n+    if (!OPENSSL_init_crypto(0, NULL))\n+        return 0;\n     bio_lookup_lock = CRYPTO_THREAD_lock_new();\n     return bio_lookup_lock != NULL;\n }"
        },
        {
            "sha": "fac1432787dc65688890001b82da488af16b2194",
            "filename": "deps/openssl/openssl/crypto/bio/b_sock.c",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_sock.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_sock.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fb_sock.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -317,7 +317,7 @@ int BIO_socket_nbio(int s, int mode)\n \n     l = fcntl(s, F_GETFL, 0);\n     if (l == -1) {\n-        SYSerr(SYS_F_FCNTL, get_last_rtl_error());\n+        SYSerr(SYS_F_FCNTL, get_last_sys_error());\n         ret = -1;\n     } else {\n #  if defined(O_NONBLOCK)\n@@ -335,7 +335,7 @@ int BIO_socket_nbio(int s, int mode)\n         ret = fcntl(s, F_SETFL, l);\n \n         if (ret < 0) {\n-            SYSerr(SYS_F_FCNTL, get_last_rtl_error());\n+            SYSerr(SYS_F_FCNTL, get_last_sys_error());\n         }\n     }\n # else"
        },
        {
            "sha": "39178cf50a24982c4a97eebf3f8179b12d476545",
            "filename": "deps/openssl/openssl/crypto/bio/bio_lcl.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -185,3 +185,4 @@ void bio_sock_cleanup_int(void);\n # endif\n \n #endif\n+"
        },
        {
            "sha": "63a7cccc827f2f7fbc27266e97ede05ed918fae5",
            "filename": "deps/openssl/openssl/crypto/bio/bio_meth.c",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_meth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_meth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbio_meth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -43,6 +43,7 @@ BIO_METHOD *BIO_meth_new(int type, const char *name)\n         BIOerr(BIO_F_BIO_METH_NEW, ERR_R_MALLOC_FAILURE);\n         return NULL;\n     }\n+    biom->type = type;\n     return biom;\n }\n \n@@ -54,7 +55,7 @@ void BIO_meth_free(BIO_METHOD *biom)\n     }\n }\n \n-int (*BIO_meth_get_write(BIO_METHOD *biom)) (BIO *, const char *, int)\n+int (*BIO_meth_get_write(const BIO_METHOD *biom)) (BIO *, const char *, int)\n {\n     return biom->bwrite;\n }\n@@ -66,7 +67,7 @@ int BIO_meth_set_write(BIO_METHOD *biom,\n     return 1;\n }\n \n-int (*BIO_meth_get_read(BIO_METHOD *biom)) (BIO *, char *, int)\n+int (*BIO_meth_get_read(const BIO_METHOD *biom)) (BIO *, char *, int)\n {\n     return biom->bread;\n }\n@@ -78,7 +79,7 @@ int BIO_meth_set_read(BIO_METHOD *biom,\n     return 1;\n }\n \n-int (*BIO_meth_get_puts(BIO_METHOD *biom)) (BIO *, const char *)\n+int (*BIO_meth_get_puts(const BIO_METHOD *biom)) (BIO *, const char *)\n {\n     return biom->bputs;\n }\n@@ -90,7 +91,7 @@ int BIO_meth_set_puts(BIO_METHOD *biom,\n     return 1;\n }\n \n-int (*BIO_meth_get_gets(BIO_METHOD *biom)) (BIO *, char *, int)\n+int (*BIO_meth_get_gets(const BIO_METHOD *biom)) (BIO *, char *, int)\n {\n     return biom->bgets;\n }\n@@ -102,7 +103,7 @@ int BIO_meth_set_gets(BIO_METHOD *biom,\n     return 1;\n }\n \n-long (*BIO_meth_get_ctrl(BIO_METHOD *biom)) (BIO *, int, long, void *)\n+long (*BIO_meth_get_ctrl(const BIO_METHOD *biom)) (BIO *, int, long, void *)\n {\n     return biom->ctrl;\n }\n@@ -114,7 +115,7 @@ int BIO_meth_set_ctrl(BIO_METHOD *biom,\n     return 1;\n }\n \n-int (*BIO_meth_get_create(BIO_METHOD *biom)) (BIO *)\n+int (*BIO_meth_get_create(const BIO_METHOD *biom)) (BIO *)\n {\n     return biom->create;\n }\n@@ -125,7 +126,7 @@ int BIO_meth_set_create(BIO_METHOD *biom, int (*create) (BIO *))\n     return 1;\n }\n \n-int (*BIO_meth_get_destroy(BIO_METHOD *biom)) (BIO *)\n+int (*BIO_meth_get_destroy(const BIO_METHOD *biom)) (BIO *)\n {\n     return biom->destroy;\n }\n@@ -136,7 +137,7 @@ int BIO_meth_set_destroy(BIO_METHOD *biom, int (*destroy) (BIO *))\n     return 1;\n }\n \n-long (*BIO_meth_get_callback_ctrl(BIO_METHOD *biom)) (BIO *, int, BIO_info_cb *)\n+long (*BIO_meth_get_callback_ctrl(const BIO_METHOD *biom)) (BIO *, int, BIO_info_cb *)\n {\n     return biom->callback_ctrl;\n }"
        },
        {
            "sha": "4719a5e66a68979da823992556352271b4e7c92e",
            "filename": "deps/openssl/openssl/crypto/bio/bss_log.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_log.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_log.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_log.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1999-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1999-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -196,7 +196,7 @@ static int slg_write(BIO *b, const char *in, int inl)\n     if ((buf = OPENSSL_malloc(inl + 1)) == NULL) {\n         return (0);\n     }\n-    strncpy(buf, in, inl);\n+    memcpy(buf, in, inl);\n     buf[inl] = '\\0';\n \n     i = 0;"
        },
        {
            "sha": "4c0e4d7412df01e56c222bd701f5a2a5e3bfea49",
            "filename": "deps/openssl/openssl/crypto/bio/bss_mem.c",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_mem.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_mem.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbio%2Fbss_mem.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -212,6 +212,8 @@ static int mem_write(BIO *b, const char *in, int inl)\n         goto end;\n     }\n     BIO_clear_retry_flags(b);\n+    if (inl == 0)\n+        return 0;\n     blen = bbm->readp->length;\n     mem_buf_sync(b);\n     if (BUF_MEM_grow_clean(bbm->buf, blen + inl) == 0)"
        },
        {
            "sha": "96321330904d2ae844a15729b9bcee0cb7ed5f8f",
            "filename": "deps/openssl/openssl/crypto/bn/asm/alpha-mont.pl",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Falpha-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Falpha-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Falpha-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -297,15 +297,12 @@\n \tmov\tsp,$tp\n \tmov\t$bp,$rp\t\t# restore rp\n \n-\tand\tsp,$hi0,$ap\n-\tbic\t$bp,$hi0,$bp\n-\tbis\t$bp,$ap,$ap\t# ap=borrow?tp:rp\n-\n .align\t4\n-.Lcopy:\tldq\t$aj,0($ap)\t# copy or in-place refresh\n+.Lcopy:\tldq\t$aj,0($tp)\t# conditional copy\n+\tldq\t$nj,0($rp)\n \tlda\t$tp,8($tp)\n \tlda\t$rp,8($rp)\n-\tlda\t$ap,8($ap)\n+\tcmoveq\t$hi0,$nj,$aj\n \tstq\tzero,-8($tp)\t# zap tp\n \tcmpult\t$tp,$tj,AT\n \tstq\t$aj,-8($rp)"
        },
        {
            "sha": "ddee8b7fa14e1d6f9bde6627397840e76f41e401",
            "filename": "deps/openssl/openssl/crypto/bn/asm/armv4-mont.pl",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Farmv4-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Farmv4-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Farmv4-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -262,14 +262,15 @@\n \tmov\t$tp,sp\t\t\t@ \"rewind\" $tp\n \tsub\t$rp,$rp,$aj\t\t@ \"rewind\" $rp\n \n-\tand\t$ap,$tp,$nhi\n-\tbic\t$np,$rp,$nhi\n-\torr\t$ap,$ap,$np\t\t@ ap=borrow?tp:rp\n-\n-.Lcopy:\tldr\t$tj,[$ap],#4\t\t@ copy or in-place refresh\n+.Lcopy:\tldr\t$tj,[$tp]\t\t@ conditional copy\n+\tldr\t$aj,[$rp]\n \tstr\tsp,[$tp],#4\t\t@ zap tp\n-\tstr\t$tj,[$rp],#4\n-\tcmp\t$tp,$num\n+#ifdef\t__thumb2__\n+\tit\tcc\n+#endif\n+\tmovcc\t$aj,$tj\n+\tstr\t$aj,[$rp],#4\n+\tteq\t$tp,$num\t\t@ preserve carry\n \tbne\t.Lcopy\n \n \tmov\tsp,$num"
        },
        {
            "sha": "0df1fad115bc191d3c8f35c6f9751d955fc5c584",
            "filename": "deps/openssl/openssl/crypto/bn/asm/ia64-mont.pl",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fia64-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fia64-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fia64-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2010-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2010-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -341,19 +341,19 @@\n { .mmb;\tsub\trptr=rptr,len\t\t// rewind\n \tsub\ttptr=tptr,len\n \tclrrrb.pr\t\t\t};;\n-{ .mmi;\tand\taptr=tptr,topbit\n-\tandcm\tbptr=rptr,topbit\n+{ .mmi;\tmov\taptr=rptr\n+\tmov\tbptr=tptr\n \tmov\tpr.rot=1<<16\t\t};;\n-{ .mii;\tor\tnptr=aptr,bptr\n+{ .mii;\tcmp.eq\tp0,p6=topbit,r0\n \tmov\tar.lc=lc\n-\tmov\tar.ec=3\t\t\t};;\n+\tmov\tar.ec=2\t\t\t};;\n \n .Lcopy_ctop:\n-{ .mmb;\t(p16)\tld8\tn[0]=[nptr],8\n-\t(p18)\tst8\t[tptr]=r0,8\n-\t(p16)\tnop.b\t0\t\t}\n-{ .mmb;\t(p16)\tnop.m\t0\n-\t(p18)\tst8\t[rptr]=n[2],8\n+{ .mmi;\t(p16)\tld8\ta[0]=[aptr],8\n+\t(p16)\tld8\tt[0]=[bptr],8\n+\t(p6)\tmov\ta[1]=t[1]\t};;\t// (p17)\n+{ .mmb;\t(p17)\tst8\t[rptr]=a[1],8\n+\t(p17)\tst8\t[tptr]=r0,8\n \tbr.ctop.sptk\t.Lcopy_ctop\t};;\n .Lcopy_cend:\n "
        },
        {
            "sha": "e141e1a925242178147a10d58b7a72ee13e1f258",
            "filename": "deps/openssl/openssl/crypto/bn/asm/mips-mont.pl",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fmips-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fmips-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fmips-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2010-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2010-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -384,15 +384,13 @@\n \t$PTR_SUB $rp,$num\t# restore rp\n \tnot\t$hi1,$hi0\n \n-\tand\t$ap,$hi0,$sp\n-\tand\t$bp,$hi1,$rp\n-\tor\t$ap,$ap,$bp\t# ap=borrow?tp:rp\n-\n-.align\t4\n-.Lcopy:\t$LD\t$aj,($ap)\n-\t$PTR_ADD $ap,$BNSZ\n+.Lcopy:\t$LD\t$nj,($tp)\t# conditional move\n+\t$LD\t$aj,($rp)\n \t$ST\t$zero,($tp)\n \t$PTR_ADD $tp,$BNSZ\n+\tand\t$nj,$hi0\n+\tand\t$aj,$hi1\n+\tor\t$aj,$nj\n \tsltu\t$at,$tp,$tj\n \t$ST\t$aj,($rp)\n \tbnez\t$at,.Lcopy"
        },
        {
            "sha": "cd9926a25f8aa0450bf6067b43cb7c73935a7972",
            "filename": "deps/openssl/openssl/crypto/bn/asm/parisc-mont.pl",
            "status": "modified",
            "additions": 13,
            "deletions": 17,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fparisc-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fparisc-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fparisc-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2009-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2009-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -517,7 +517,6 @@\n \tstws,ma\t\t$hi1,4($rp)\n \n \tsubb\t\t$ti0,%r0,$hi1\n-\tldo\t\t-4($tp),$tp\n ___\n $code.=<<___ if ($BN_SZ==8);\n \tldd,ma\t\t8($tp),$ti0\n@@ -532,21 +531,19 @@\n \n \textrd,u\t\t$ti0,31,32,$ti0\t\t; carry in flipped word order\n \tsub,db\t\t$ti0,%r0,$hi1\n-\tldo\t\t-8($tp),$tp\n ___\n $code.=<<___;\n-\tand\t\t$tp,$hi1,$ap\n-\tandcm\t\t$rp,$hi1,$bp\n-\tor\t\t$ap,$bp,$np\n-\n+\tldo\t\t`$LOCALS+32`($fp),$tp\n \tsub\t\t$rp,$arrsz,$rp\t\t; rewind rp\n \tsubi\t\t0,$arrsz,$idx\n-\tldo\t\t`$LOCALS+32`($fp),$tp\n L\\$copy\n-\tldd\t\t$idx($np),$hi0\n+\tldd\t\t0($tp),$ti0\n+\tldd\t\t0($rp),$hi0\n \tstd,ma\t\t%r0,8($tp)\n-\taddib,<>\t8,$idx,.-8\t\t; L\\$copy\n-\tstd,ma\t\t$hi0,8($rp)\t\n+\tcomiclr,=\t0,$hi1,%r0\n+\tcopy\t\t$ti0,$hi0\n+\taddib,<>\t8,$idx,L\\$copy\n+\tstd,ma\t\t$hi0,8($rp)\n ___\n \n if ($BN_SZ==4) {\t\t\t\t# PA-RISC 1.1 code-path\n@@ -856,17 +853,16 @@\n \tstws,ma\t\t$hi1,4($rp)\n \n \tsubb\t\t$ti0,%r0,$hi1\n-\tldo\t\t-4($tp),$tp\n-\tand\t\t$tp,$hi1,$ap\n-\tandcm\t\t$rp,$hi1,$bp\n-\tor\t\t$ap,$bp,$np\n \n+\tldo\t\t`$LOCALS+32`($fp),$tp\n \tsub\t\t$rp,$arrsz,$rp\t\t; rewind rp\n \tsubi\t\t0,$arrsz,$idx\n-\tldo\t\t`$LOCALS+32`($fp),$tp\n L\\$copy_pa11\n-\tldwx\t\t$idx($np),$hi0\n+\tldw\t\t0($tp),$ti0\n+\tldw\t\t0($rp),$hi0\n \tstws,ma\t\t%r0,4($tp)\n+\tcomiclr,=\t0,$hi1,%r0\n+\tcopy\t\t$ti0,$hi0\n \taddib,<>\t4,$idx,L\\$copy_pa11\n \tstws,ma\t\t$hi0,4($rp)\t\n "
        },
        {
            "sha": "9d14a121565a9857e1f96fc930af552cdc243830",
            "filename": "deps/openssl/openssl/crypto/bn/asm/ppc-mont.pl",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -301,15 +301,16 @@\n \tli\t$j,0\n \tmtctr\t$num\n \tsubfe\t$ovf,$j,$ovf\t; handle upmost overflow bit\n-\tand\t$ap,$tp,$ovf\n-\tandc\t$np,$rp,$ovf\n-\tor\t$ap,$ap,$np\t; ap=borrow?tp:rp\n \n .align\t4\n-Lcopy:\t\t\t\t; copy or in-place refresh\n-\t$LDX\t$tj,$ap,$j\n-\t$STX\t$tj,$rp,$j\n+Lcopy:\t\t\t\t; conditional copy\n+\t$LDX\t$tj,$tp,$j\n+\t$LDX\t$aj,$rp,$j\n+\tand\t$tj,$tj,$ovf\n+\tandc\t$aj,$aj,$ovf\n \t$STX\t$j,$tp,$j\t; zap at once\n+\tor\t$aj,$aj,$tj\n+\t$STX\t$aj,$rp,$j\n \taddi\t$j,$j,$BNSZ\n \tbdnz\tLcopy\n "
        },
        {
            "sha": "5d9f43aa5dbe0b0fbefee41df4f9c3191c9e4f2b",
            "filename": "deps/openssl/openssl/crypto/bn/asm/ppc64-mont.pl",
            "status": "modified",
            "additions": 30,
            "deletions": 13,
            "changes": 43,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc64-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc64-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fppc64-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -1501,16 +1501,14 @@\n \n \tli\t$i,0\n \tsubfe\t$ovf,$i,$ovf\t; handle upmost overflow bit\n-\tand\t$ap,$tp,$ovf\n-\tandc\t$np,$rp,$ovf\n-\tor\t$ap,$ap,$np\t; ap=borrow?tp:rp\n-\taddi\t$t7,$ap,8\n \tmtctr\t$j\n \n .align\t4\n-Lcopy:\t\t\t\t; copy or in-place refresh\n-\tldx\t$t0,$ap,$i\n-\tldx\t$t1,$t7,$i\n+Lcopy:\t\t\t\t; conditional copy\n+\tldx\t$t0,$tp,$i\n+\tldx\t$t1,$t4,$i\n+\tldx\t$t2,$rp,$i\n+\tldx\t$t3,$t6,$i\n \tstd\t$i,8($nap_d)\t; zap nap_d\n \tstd\t$i,16($nap_d)\n \tstd\t$i,24($nap_d)\n@@ -1519,6 +1517,12 @@\n \tstd\t$i,48($nap_d)\n \tstd\t$i,56($nap_d)\n \tstdu\t$i,64($nap_d)\n+\tand\t$t0,$t0,$ovf\n+\tand\t$t1,$t1,$ovf\n+\tandc\t$t2,$t2,$ovf\n+\tandc\t$t3,$t3,$ovf\n+\tor\t$t0,$t0,$t2\n+\tor\t$t1,$t1,$t3\n \tstdx\t$t0,$rp,$i\n \tstdx\t$t1,$t6,$i\n \tstdx\t$i,$tp,$i\t; zap tp at once\n@@ -1561,20 +1565,21 @@\n \n \tli\t$i,0\n \tsubfe\t$ovf,$i,$ovf\t; handle upmost overflow bit\n-\taddi\t$tp,$sp,`$FRAME+$TRANSFER+4`\n+\taddi\t$ap,$sp,`$FRAME+$TRANSFER+4`\n \tsubf\t$rp,$num,$rp\t; rewind rp\n-\tand\t$ap,$tp,$ovf\n-\tandc\t$np,$rp,$ovf\n-\tor\t$ap,$ap,$np\t; ap=borrow?tp:rp\n \taddi\t$tp,$sp,`$FRAME+$TRANSFER`\n \tmtctr\t$j\n \n .align\t4\n-Lcopy:\t\t\t\t; copy or in-place refresh\n+Lcopy:\t\t\t\t; conditional copy\n \tlwz\t$t0,4($ap)\n \tlwz\t$t1,8($ap)\n \tlwz\t$t2,12($ap)\n \tlwzu\t$t3,16($ap)\n+\tlwz\t$t4,4($rp)\n+\tlwz\t$t5,8($rp)\n+\tlwz\t$t6,12($rp)\n+\tlwz\t$t7,16($rp)\n \tstd\t$i,8($nap_d)\t; zap nap_d\n \tstd\t$i,16($nap_d)\n \tstd\t$i,24($nap_d)\n@@ -1583,6 +1588,18 @@\n \tstd\t$i,48($nap_d)\n \tstd\t$i,56($nap_d)\n \tstdu\t$i,64($nap_d)\n+\tand\t$t0,$t0,$ovf\n+\tand\t$t1,$t1,$ovf\n+\tand\t$t2,$t2,$ovf\n+\tand\t$t3,$t3,$ovf\n+\tandc\t$t4,$t4,$ovf\n+\tandc\t$t5,$t5,$ovf\n+\tandc\t$t6,$t6,$ovf\n+\tandc\t$t7,$t7,$ovf\n+\tor\t$t0,$t0,$t4\n+\tor\t$t1,$t1,$t5\n+\tor\t$t2,$t2,$t6\n+\tor\t$t3,$t3,$t7\n \tstw\t$t0,4($rp)\n \tstw\t$t1,8($rp)\n \tstw\t$t2,12($rp)"
        },
        {
            "sha": "0466e11a25180aba71707696a6753fd44b8e39df",
            "filename": "deps/openssl/openssl/crypto/bn/asm/rsaz-avx2.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Frsaz-avx2.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Frsaz-avx2.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Frsaz-avx2.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2013-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2013-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -104,7 +104,7 @@\n \t$addx = ($1>=11);\n }\n \n-if (!$avx && `$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9])\\.([0-9]+)/) {\n+if (!$avx && `$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9])\\.([0-9]+)/) {\n \tmy $ver = $2 + $3/100.0;\t# 3.1->3.01, 3.10->3.10\n \t$avx = ($ver>=3.0) + ($ver>=3.01);\n \t$addx = ($ver>=3.03);"
        },
        {
            "sha": "66780cdf80bc6840f49b98291d9914b932ac8f44",
            "filename": "deps/openssl/openssl/crypto/bn/asm/s390x-mont.pl",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fs390x-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fs390x-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fs390x-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -252,16 +252,16 @@\n \tbrct\t$count,.Lsub\n \tlghi\t$ahi,0\n \tslbgr\t$AHI,$ahi\t# handle upmost carry\n-\n-\tngr\t$ap,$AHI\n-\tlghi\t$np,-1\n-\txgr\t$np,$AHI\n-\tngr\t$np,$rp\n-\togr\t$ap,$np\t\t# ap=borrow?tp:rp\n+\tlghi\t$NHI,-1\n+\txgr\t$NHI,$AHI\n \n \tla\t$j,0(%r0)\n \tlgr\t$count,$num\n-.Lcopy:\tlg\t$alo,0($j,$ap)\t\t# copy or in-place refresh\n+.Lcopy:\tlg\t$ahi,$stdframe($j,$sp)\t# conditional copy\n+\tlg\t$alo,0($j,$rp)\n+\tngr\t$ahi,$AHI\n+\tngr\t$alo,$NHI\n+\togr\t$alo,$ahi\n \t_dswap\t$alo\n \tstg\t$j,$stdframe($j,$sp)\t# zap tp\n \tstg\t$alo,0($j,$rp)"
        },
        {
            "sha": "4f339b22796e90e9b8977f0c5abcf9e6a1d2e249",
            "filename": "deps/openssl/openssl/crypto/bn/asm/sparct4-mont.pl",
            "status": "modified",
            "additions": 11,
            "deletions": 15,
            "changes": 26,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparct4-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparct4-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparct4-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2012-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2012-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -888,19 +888,17 @@ ()\n \tsub\t$tp,\t$num,\t$tp\n \tsub\t$rp,\t$num,\t$rp\n \n-\tsubc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n-\tand\t$tp,\t$ovf,\t$ap\n-\tandn\t$rp,\t$ovf,\t$np\n-\tor\t$np,\t$ap,\t$ap\t! ap=borrow?tp:rp\n+\tsubccc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n \tba\t.Lcopy\n \tsub\t$num,\t8,\t$cnt\n \n .align\t16\n-.Lcopy:\t\t\t\t\t! copy or in-place refresh\n-\tldx\t[$ap+0],\t$t2\n-\tadd\t$ap,\t8,\t$ap\n+.Lcopy:\t\t\t\t\t! conditional copy\n+\tldx\t[$tp],\t\t$tj\n+\tldx\t[$rp+0],\t$t2\n \tstx\t%g0,\t[$tp]\t\t! zap\n \tadd\t$tp,\t8,\t$tp\n+\tmovcs\t%icc,\t$tj,\t$t2\n \tstx\t$t2,\t[$rp+0]\n \tadd\t$rp,\t8,\t$rp\n \tbrnz\t$cnt,\t.Lcopy\n@@ -1136,19 +1134,17 @@ ()\n \tsub\t$tp,\t$num,\t$tp\n \tsub\t$rp,\t$num,\t$rp\n \n-\tsubc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n-\tand\t$tp,\t$ovf,\t$ap\n-\tandn\t$rp,\t$ovf,\t$np\n-\tor\t$np,\t$ap,\t$ap\t! ap=borrow?tp:rp\n+\tsubccc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n \tba\t.Lcopy_g5\n \tsub\t$num,\t8,\t$cnt\n \n .align\t16\n-.Lcopy_g5:\t\t\t\t! copy or in-place refresh\n-\tldx\t[$ap+0],\t$t2\n-\tadd\t$ap,\t8,\t$ap\n+.Lcopy_g5:\t\t\t\t! conditional copy\n+\tldx\t[$tp],\t\t$tj\n+\tldx\t[$rp+0],\t$t2\n \tstx\t%g0,\t[$tp]\t\t! zap\n \tadd\t$tp,\t8,\t$tp\n+\tmovcs\t%icc,\t$tj,\t$t2\n \tstx\t$t2,\t[$rp+0]\n \tadd\t$rp,\t8,\t$rp\n \tbrnz\t$cnt,\t.Lcopy_g5"
        },
        {
            "sha": "074f9df14bc2c137628d789b64012f8ca7085728",
            "filename": "deps/openssl/openssl/crypto/bn/asm/sparcv9-mont.pl",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparcv9-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparcv9-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fsparcv9-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2005-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2005-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -265,7 +265,6 @@\n .Ltail:\n \tadd\t$np,$num,$np\n \tadd\t$rp,$num,$rp\n-\tmov\t$tp,$ap\n \tsub\t%g0,$num,%o7\t\t! k=-num\n \tba\t.Lsub\n \tsubcc\t%g0,%g0,%g0\t\t! clear %icc.c\n@@ -278,15 +277,14 @@\n \tadd\t%o7,4,%o7\n \tbrnz\t%o7,.Lsub\n \tst\t%o1,[$i]\n-\tsubc\t$car2,0,$car2\t\t! handle upmost overflow bit\n-\tand\t$tp,$car2,$ap\n-\tandn\t$rp,$car2,$np\n-\tor\t$ap,$np,$ap\n+\tsubccc\t$car2,0,$car2\t\t! handle upmost overflow bit\n \tsub\t%g0,$num,%o7\n \n .Lcopy:\n-\tld\t[$ap+%o7],%o0\t\t! copy or in-place refresh\n+\tld\t[$tp+%o7],%o1\t\t! conditional copy\n+\tld\t[$rp+%o7],%o0\n \tst\t%g0,[$tp+%o7]\t\t! zap tp\n+\tmovcs\t%icc,%o1,%o0\n \tst\t%o0,[$rp+%o7]\n \tadd\t%o7,4,%o7\n \tbrnz\t%o7,.Lcopy\n@@ -495,6 +493,9 @@\n \tmulx\t$npj,$mul1,$acc1\n \tadd\t$tpj,$car1,$car1\n \tld\t[$np+$j],$npj\t\t\t! np[j]\n+\tsrlx\t$car1,32,$tmp0\n+\tand\t$car1,$mask,$car1\n+\tadd\t$tmp0,$sbit,$sbit\n \tadd\t$acc0,$car1,$car1\n \tld\t[$tp+8],$tpj\t\t\t! tp[j]\n \tadd\t$acc1,$car1,$car1"
        },
        {
            "sha": "9d65a146a2800d046171c09413c3a9e4efb1b754",
            "filename": "deps/openssl/openssl/crypto/bn/asm/via-mont.pl",
            "status": "modified",
            "additions": 6,
            "deletions": 9,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvia-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvia-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvia-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -213,18 +213,15 @@\n \n \t&mov\t(\"eax\",&DWP(0,\"esi\",\"edx\",4));\t# upmost overflow bit\n \t&sbb\t(\"eax\",0);\n-\t&and\t(\"esi\",\"eax\");\n-\t&not\t(\"eax\");\n-\t&mov\t(\"ebp\",\"edi\");\n-\t&and\t(\"ebp\",\"eax\");\n-\t&or\t(\"esi\",\"ebp\");\t\t\t# tp=carry?tp:rp\n \n \t&mov\t(\"ecx\",\"edx\");\t\t\t# num\n-\t&xor\t(\"edx\",\"edx\");\t\t\t# i=0\n+\t&mov\t(\"edx\",0);\t\t\t# i=0\n \n &set_label(\"copy\",8);\n-\t&mov\t(\"eax\",&DWP(0,\"esi\",\"edx\",4));\n-\t&mov\t(&DWP(64,\"esp\",\"edx\",4),\"ecx\");\t# zap tp\n+\t&mov\t(\"ebx\",&DWP(0,\"esi\",\"edx\",4));\n+\t&mov\t(\"eax\",&DWP(0,\"edi\",\"edx\",4));\n+\t&mov\t(&DWP(0,\"esi\",\"edx\",4),\"ecx\");\t# zap tp\n+\t&cmovc\t(\"eax\",\"ebx\");\n \t&mov\t(&DWP(0,\"edi\",\"edx\",4),\"eax\");\n \t&lea\t(\"edx\",&DWP(1,\"edx\"));\t\t# i++\n \t&loop\t(&label(\"copy\"));"
        },
        {
            "sha": "ba34b36a81ec1f71fd42e56b2ecde4cf6e552d62",
            "filename": "deps/openssl/openssl/crypto/bn/asm/vis3-mont.pl",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvis3-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvis3-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fvis3-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2012-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2012-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -310,23 +310,23 @@\n \tsub\t$anp,\t$num,\t$anp\n \tsub\t$rp,\t$num,\t$rp\n \n-\tsubc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n-\tand\t$tp,\t$ovf,\t$ap\n-\tandn\t$rp,\t$ovf,\t$np\n-\tor\t$np,\t$ap,\t$ap\t! ap=borrow?tp:rp\n+\tsubccc\t$ovf,\t%g0,\t$ovf\t! handle upmost overflow bit\n \tba\t.Lcopy\n \tsub\t$num,\t8,\t$cnt\n \n .align\t16\n-.Lcopy:\t\t\t\t\t! copy or in-place refresh\n-\tld\t[$ap+0],\t$t2\n-\tld\t[$ap+4],\t$t3\n-\tadd\t$ap,\t8,\t$ap\n+.Lcopy:\t\t\t\t\t! conditional copy\n+\tld\t[$tp+0],\t$t0\n+\tld\t[$tp+4],\t$t1\n+\tld\t[$rp+0],\t$t2\n+\tld\t[$rp+4],\t$t3\n \tstx\t%g0,\t[$tp]\t\t! zap\n \tadd\t$tp,\t8,\t$tp\n \tstx\t%g0,\t[$anp]\t\t! zap\n \tstx\t%g0,\t[$anp+8]\n \tadd\t$anp,\t16,\t$anp\n+\tmovcs\t%icc,\t$t0,\t$t2\n+\tmovcs\t%icc,\t$t1,\t$t3\n \tst\t$t3,\t[$rp+0]\t\t! flip order\n \tst\t$t2,\t[$rp+4]\n \tadd\t$rp,\t8,\t$rp"
        },
        {
            "sha": "f1abcc5b4c4bf40f3611d36e11c1e9aa4777bdb4",
            "filename": "deps/openssl/openssl/crypto/bn/asm/x86-mont.pl",
            "status": "modified",
            "additions": 13,
            "deletions": 11,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2005-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2005-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -39,7 +39,7 @@\n \n $output = pop;\n open STDOUT,\">$output\";\n-\n+ \n &asm_init($ARGV[0],$0);\n \n $sse2=0;\n@@ -604,16 +604,18 @@\n \t&jge\t(&label(\"sub\"));\n \n \t&sbb\t(\"eax\",0);\t\t\t# handle upmost overflow bit\n-\t&and\t($tp,\"eax\");\n-\t&not\t(\"eax\");\n-\t&mov\t($np,$rp);\n-\t&and\t($np,\"eax\");\n-\t&or\t($tp,$np);\t\t\t# tp=carry?tp:rp\n-\n-&set_label(\"copy\",16);\t\t\t\t# copy or in-place refresh\n-\t&mov\t(\"eax\",&DWP(0,$tp,$num,4));\n-\t&mov\t(&DWP(0,$rp,$num,4),\"eax\");\t# rp[i]=tp[i]\n+\t&mov\t(\"edx\",-1);\n+\t&xor\t(\"edx\",\"eax\");\n+\t&jmp\t(&label(\"copy\"));\n+\n+&set_label(\"copy\",16);\t\t\t\t# conditional copy\n+\t&mov\t($tp,&DWP($frame,\"esp\",$num,4));\n+\t&mov\t($np,&DWP(0,$rp,$num,4));\n \t&mov\t(&DWP($frame,\"esp\",$num,4),$j);\t# zap temporary vector\n+\t&and\t($tp,\"eax\");\n+\t&and\t($np,\"edx\");\n+\t&or\t($np,$tp);\n+\t&mov\t(&DWP(0,$rp,$num,4),$np);\n \t&dec\t($num);\n \t&jge\t(&label(\"copy\"));\n "
        },
        {
            "sha": "8d2fb2cebb8917916f91770586e00c5add4d876d",
            "filename": "deps/openssl/openssl/crypto/bn/asm/x86_64-mont.pl",
            "status": "modified",
            "additions": 42,
            "deletions": 43,
            "changes": 85,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2005-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2005-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -302,30 +302,30 @@\n \n \txor\t$i,$i\t\t\t# i=0 and clear CF!\n \tmov\t(%rsp),%rax\t\t# tp[0]\n-\tlea\t(%rsp),$ap\t\t# borrow ap for tp\n \tmov\t$num,$j\t\t\t# j=num\n-\tjmp\t.Lsub\n+\n .align\t16\n .Lsub:\tsbb\t($np,$i,8),%rax\n \tmov\t%rax,($rp,$i,8)\t\t# rp[i]=tp[i]-np[i]\n-\tmov\t8($ap,$i,8),%rax\t# tp[i+1]\n+\tmov\t8(%rsp,$i,8),%rax\t# tp[i+1]\n \tlea\t1($i),$i\t\t# i++\n \tdec\t$j\t\t\t# doesnn't affect CF!\n \tjnz\t.Lsub\n \n \tsbb\t\\$0,%rax\t\t# handle upmost overflow bit\n+\tmov\t\\$-1,%rbx\n+\txor\t%rax,%rbx\t\t# not %rax\n \txor\t$i,$i\n-\tand\t%rax,$ap\n-\tnot\t%rax\n-\tmov\t$rp,$np\n-\tand\t%rax,$np\n \tmov\t$num,$j\t\t\t# j=num\n-\tor\t$np,$ap\t\t\t# ap=borrow?tp:rp\n-.align\t16\n-.Lcopy:\t\t\t\t\t# copy or in-place refresh\n-\tmov\t($ap,$i,8),%rax\n-\tmov\t$i,(%rsp,$i,8)\t\t# zap temporary vector\n-\tmov\t%rax,($rp,$i,8)\t\t# rp[i]=tp[i]\n+\n+.Lcopy:\t\t\t\t\t# conditional copy\n+\tmov\t($rp,$i,8),%rcx\n+\tmov\t(%rsp,$i,8),%rdx\n+\tand\t%rbx,%rcx\n+\tand\t%rax,%rdx\n+\tmov\t$num,(%rsp,$i,8)\t# zap temporary vector\n+\tor\t%rcx,%rdx\n+\tmov\t%rdx,($rp,$i,8)\t\t# rp[i]=tp[i]\n \tlea\t1($i),$i\n \tsub\t\\$1,$j\n \tjnz\t.Lcopy\n@@ -695,20 +695,18 @@\n my @ri=(\"%rax\",\"%rdx\",$m0,$m1);\n $code.=<<___;\n \tmov\t16(%rsp,$num,8),$rp\t# restore $rp\n+\tlea\t-4($num),$j\n \tmov\t0(%rsp),@ri[0]\t\t# tp[0]\n-\tpxor\t%xmm0,%xmm0\n \tmov\t8(%rsp),@ri[1]\t\t# tp[1]\n-\tshr\t\\$2,$num\t\t# num/=4\n+\tshr\t\\$2,$j\t\t\t# j=num/4-1\n \tlea\t(%rsp),$ap\t\t# borrow ap for tp\n \txor\t$i,$i\t\t\t# i=0 and clear CF!\n \n \tsub\t0($np),@ri[0]\n \tmov\t16($ap),@ri[2]\t\t# tp[2]\n \tmov\t24($ap),@ri[3]\t\t# tp[3]\n \tsbb\t8($np),@ri[1]\n-\tlea\t-1($num),$j\t\t# j=num/4-1\n-\tjmp\t.Lsub4x\n-.align\t16\n+\n .Lsub4x:\n \tmov\t@ri[0],0($rp,$i,8)\t# rp[i]=tp[i]-np[i]\n \tmov\t@ri[1],8($rp,$i,8)\t# rp[i]=tp[i]-np[i]\n@@ -735,34 +733,35 @@\n \n \tsbb\t\\$0,@ri[0]\t\t# handle upmost overflow bit\n \tmov\t@ri[3],24($rp,$i,8)\t# rp[i]=tp[i]-np[i]\n-\txor\t$i,$i\t\t\t# i=0\n-\tand\t@ri[0],$ap\n-\tnot\t@ri[0]\n-\tmov\t$rp,$np\n-\tand\t@ri[0],$np\n-\tlea\t-1($num),$j\n-\tor\t$np,$ap\t\t\t# ap=borrow?tp:rp\n-\n-\tmovdqu\t($ap),%xmm1\n-\tmovdqa\t%xmm0,(%rsp)\n-\tmovdqu\t%xmm1,($rp)\n+\tpxor\t%xmm0,%xmm0\n+\tmovq\t@ri[0],%xmm4\n+\tpcmpeqd\t%xmm5,%xmm5\n+\tpshufd\t\\$0,%xmm4,%xmm4\n+\tmov\t$num,$j\n+\tpxor\t%xmm4,%xmm5\n+\tshr\t\\$2,$j\t\t\t# j=num/4\n+\txor\t%eax,%eax\t\t# i=0\n+\n \tjmp\t.Lcopy4x\n .align\t16\n-.Lcopy4x:\t\t\t\t\t# copy or in-place refresh\n-\tmovdqu\t16($ap,$i),%xmm2\n-\tmovdqu\t32($ap,$i),%xmm1\n-\tmovdqa\t%xmm0,16(%rsp,$i)\n-\tmovdqu\t%xmm2,16($rp,$i)\n-\tmovdqa\t%xmm0,32(%rsp,$i)\n-\tmovdqu\t%xmm1,32($rp,$i)\n-\tlea\t32($i),$i\n+.Lcopy4x:\t\t\t\t# conditional copy\n+\tmovdqa\t(%rsp,%rax),%xmm1\n+\tmovdqu\t($rp,%rax),%xmm2\n+\tpand\t%xmm4,%xmm1\n+\tpand\t%xmm5,%xmm2\n+\tmovdqa\t16(%rsp,%rax),%xmm3\n+\tmovdqa\t%xmm0,(%rsp,%rax)\n+\tpor\t%xmm2,%xmm1\n+\tmovdqu\t16($rp,%rax),%xmm2\n+\tmovdqu\t%xmm1,($rp,%rax)\n+\tpand\t%xmm4,%xmm3\n+\tpand\t%xmm5,%xmm2\n+\tmovdqa\t%xmm0,16(%rsp,%rax)\n+\tpor\t%xmm2,%xmm3\n+\tmovdqu\t%xmm3,16($rp,%rax)\n+\tlea\t32(%rax),%rax\n \tdec\t$j\n \tjnz\t.Lcopy4x\n-\n-\tshl\t\\$2,$num\n-\tmovdqu\t16($ap,$i),%xmm2\n-\tmovdqa\t%xmm0,16(%rsp,$i)\n-\tmovdqu\t%xmm2,16($rp,$i)\n ___\n }\n $code.=<<___;"
        },
        {
            "sha": "97d8eee700b69d619ae42618b946918969d1d0d0",
            "filename": "deps/openssl/openssl/crypto/bn/asm/x86_64-mont5.pl",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont5.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont5.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fasm%2Fx86_64-mont5.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2011-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2011-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -414,18 +414,19 @@\n \tjnz\t.Lsub\n \n \tsbb\t\\$0,%rax\t\t# handle upmost overflow bit\n+\tmov\t\\$-1,%rbx\n+\txor\t%rax,%rbx\n \txor\t$i,$i\n-\tand\t%rax,$ap\n-\tnot\t%rax\n-\tmov\t$rp,$np\n-\tand\t%rax,$np\n \tmov\t$num,$j\t\t\t# j=num\n-\tor\t$np,$ap\t\t\t# ap=borrow?tp:rp\n-.align\t16\n-.Lcopy:\t\t\t\t\t# copy or in-place refresh\n-\tmov\t($ap,$i,8),%rax\n+\n+.Lcopy:\t\t\t\t\t# conditional copy\n+\tmov\t($rp,$i,8),%rcx\n+\tmov\t(%rsp,$i,8),%rdx\n+\tand\t%rbx,%rcx\n+\tand\t%rax,%rdx\n \tmov\t$i,(%rsp,$i,8)\t\t# zap temporary vector\n-\tmov\t%rax,($rp,$i,8)\t\t# rp[i]=tp[i]\n+\tor\t%rcx,%rdx\n+\tmov\t%rdx,($rp,$i,8)\t\t# rp[i]=tp[i]\n \tlea\t1($i),$i\n \tsub\t\\$1,$j\n \tjnz\t.Lcopy"
        },
        {
            "sha": "884ff2991702e77560cf5f52ff161ea408e825bc",
            "filename": "deps/openssl/openssl/crypto/bn/bn_div.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_div.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_div.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_div.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -240,6 +240,7 @@ int BN_div(BIGNUM *dv, BIGNUM *rm, const BIGNUM *num, const BIGNUM *divisor,\n     wnum.neg = 0;\n     wnum.d = &(snum->d[loop]);\n     wnum.top = div_n;\n+    wnum.flags = BN_FLG_STATIC_DATA;\n     /*\n      * only needed when BN_ucmp messes up the values between top and max\n      */"
        },
        {
            "sha": "a6ad475a0b2696765103fff4518a6572d6d8af42",
            "filename": "deps/openssl/openssl/crypto/bn/bn_exp.c",
            "status": "modified",
            "additions": 37,
            "deletions": 32,
            "changes": 69,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_exp.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_exp.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_exp.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -188,8 +188,8 @@ int BN_mod_exp_recp(BIGNUM *r, const BIGNUM *a, const BIGNUM *p,\n \n     bits = BN_num_bits(p);\n     if (bits == 0) {\n-        /* x**0 mod 1 is still zero. */\n-        if (BN_is_one(m)) {\n+        /* x**0 mod 1, or x**0 mod -1 is still zero. */\n+        if (BN_abs_is_word(m, 1)) {\n             ret = 1;\n             BN_zero(r);\n         } else {\n@@ -330,8 +330,8 @@ int BN_mod_exp_mont(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n     }\n     bits = BN_num_bits(p);\n     if (bits == 0) {\n-        /* x**0 mod 1 is still zero. */\n-        if (BN_is_one(m)) {\n+        /* x**0 mod 1, or x**0 mod -1 is still zero. */\n+        if (BN_abs_is_word(m, 1)) {\n             ret = 1;\n             BN_zero(rr);\n         } else {\n@@ -371,17 +371,17 @@ int BN_mod_exp_mont(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n         ret = 1;\n         goto err;\n     }\n-    if (!BN_to_montgomery(val[0], aa, mont, ctx))\n+    if (!bn_to_mont_fixed_top(val[0], aa, mont, ctx))\n         goto err;               /* 1 */\n \n     window = BN_window_bits_for_exponent_size(bits);\n     if (window > 1) {\n-        if (!BN_mod_mul_montgomery(d, val[0], val[0], mont, ctx))\n+        if (!bn_mul_mont_fixed_top(d, val[0], val[0], mont, ctx))\n             goto err;           /* 2 */\n         j = 1 << (window - 1);\n         for (i = 1; i < j; i++) {\n             if (((val[i] = BN_CTX_get(ctx)) == NULL) ||\n-                !BN_mod_mul_montgomery(val[i], val[i - 1], d, mont, ctx))\n+                !bn_mul_mont_fixed_top(val[i], val[i - 1], d, mont, ctx))\n                 goto err;\n         }\n     }\n@@ -403,19 +403,15 @@ int BN_mod_exp_mont(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n         for (i = 1; i < j; i++)\n             r->d[i] = (~m->d[i]) & BN_MASK2;\n         r->top = j;\n-        /*\n-         * Upper words will be zero if the corresponding words of 'm' were\n-         * 0xfff[...], so decrement r->top accordingly.\n-         */\n-        bn_correct_top(r);\n+        r->flags |= BN_FLG_FIXED_TOP;\n     } else\n #endif\n-    if (!BN_to_montgomery(r, BN_value_one(), mont, ctx))\n+    if (!bn_to_mont_fixed_top(r, BN_value_one(), mont, ctx))\n         goto err;\n     for (;;) {\n         if (BN_is_bit_set(p, wstart) == 0) {\n             if (!start) {\n-                if (!BN_mod_mul_montgomery(r, r, r, mont, ctx))\n+                if (!bn_mul_mont_fixed_top(r, r, r, mont, ctx))\n                     goto err;\n             }\n             if (wstart == 0)\n@@ -446,12 +442,12 @@ int BN_mod_exp_mont(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n         /* add the 'bytes above' */\n         if (!start)\n             for (i = 0; i < j; i++) {\n-                if (!BN_mod_mul_montgomery(r, r, r, mont, ctx))\n+                if (!bn_mul_mont_fixed_top(r, r, r, mont, ctx))\n                     goto err;\n             }\n \n         /* wvalue will be an odd number < 2^window */\n-        if (!BN_mod_mul_montgomery(r, r, val[wvalue >> 1], mont, ctx))\n+        if (!bn_mul_mont_fixed_top(r, r, val[wvalue >> 1], mont, ctx))\n             goto err;\n \n         /* move the 'window' down further */\n@@ -461,6 +457,11 @@ int BN_mod_exp_mont(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n         if (wstart < 0)\n             break;\n     }\n+    /*\n+     * Done with zero-padded intermediate BIGNUMs. Final BN_from_montgomery\n+     * removes padding [if any] and makes return value suitable for public\n+     * API consumer.\n+     */\n #if defined(SPARC_T4_MONT)\n     if (OPENSSL_sparcv9cap_P[0] & (SPARCV9_VIS3 | SPARCV9_PREFER_FPU)) {\n         j = mont->N.top;        /* borrow j */\n@@ -587,7 +588,7 @@ static int MOD_EXP_CTIME_COPY_FROM_PREBUF(BIGNUM *b, int top,\n     }\n \n     b->top = top;\n-    bn_correct_top(b);\n+    b->flags |= BN_FLG_FIXED_TOP;\n     return 1;\n }\n \n@@ -639,8 +640,8 @@ int BN_mod_exp_mont_consttime(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n      */\n     bits = p->top * BN_BITS2;\n     if (bits == 0) {\n-        /* x**0 mod 1 is still zero. */\n-        if (BN_is_one(m)) {\n+        /* x**0 mod 1, or x**0 mod -1 is still zero. */\n+        if (BN_abs_is_word(m, 1)) {\n             ret = 1;\n             BN_zero(rr);\n         } else {\n@@ -757,16 +758,16 @@ int BN_mod_exp_mont_consttime(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n         tmp.top = top;\n     } else\n #endif\n-    if (!BN_to_montgomery(&tmp, BN_value_one(), mont, ctx))\n+    if (!bn_to_mont_fixed_top(&tmp, BN_value_one(), mont, ctx))\n         goto err;\n \n     /* prepare a^1 in Montgomery domain */\n     if (a->neg || BN_ucmp(a, m) >= 0) {\n         if (!BN_mod(&am, a, m, ctx))\n             goto err;\n-        if (!BN_to_montgomery(&am, &am, mont, ctx))\n+        if (!bn_to_mont_fixed_top(&am, &am, mont, ctx))\n             goto err;\n-    } else if (!BN_to_montgomery(&am, a, mont, ctx))\n+    } else if (!bn_to_mont_fixed_top(&am, a, mont, ctx))\n         goto err;\n \n #if defined(SPARC_T4_MONT)\n@@ -1033,14 +1034,14 @@ int BN_mod_exp_mont_consttime(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n          * performance advantage of sqr over mul).\n          */\n         if (window > 1) {\n-            if (!BN_mod_mul_montgomery(&tmp, &am, &am, mont, ctx))\n+            if (!bn_mul_mont_fixed_top(&tmp, &am, &am, mont, ctx))\n                 goto err;\n             if (!MOD_EXP_CTIME_COPY_TO_PREBUF(&tmp, top, powerbuf, 2,\n                                               window))\n                 goto err;\n             for (i = 3; i < numPowers; i++) {\n                 /* Calculate a^i = a^(i-1) * a */\n-                if (!BN_mod_mul_montgomery(&tmp, &am, &tmp, mont, ctx))\n+                if (!bn_mul_mont_fixed_top(&tmp, &am, &tmp, mont, ctx))\n                     goto err;\n                 if (!MOD_EXP_CTIME_COPY_TO_PREBUF(&tmp, top, powerbuf, i,\n                                                   window))\n@@ -1064,7 +1065,7 @@ int BN_mod_exp_mont_consttime(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n \n             /* Scan the window, squaring the result as we go */\n             for (i = 0; i < window; i++, bits--) {\n-                if (!BN_mod_mul_montgomery(&tmp, &tmp, &tmp, mont, ctx))\n+                if (!bn_mul_mont_fixed_top(&tmp, &tmp, &tmp, mont, ctx))\n                     goto err;\n                 wvalue = (wvalue << 1) + BN_is_bit_set(p, bits);\n             }\n@@ -1077,12 +1078,16 @@ int BN_mod_exp_mont_consttime(BIGNUM *rr, const BIGNUM *a, const BIGNUM *p,\n                 goto err;\n \n             /* Multiply the result into the intermediate result */\n-            if (!BN_mod_mul_montgomery(&tmp, &tmp, &am, mont, ctx))\n+            if (!bn_mul_mont_fixed_top(&tmp, &tmp, &am, mont, ctx))\n                 goto err;\n         }\n     }\n \n-    /* Convert the final result from montgomery to standard format */\n+    /*\n+     * Done with zero-padded intermediate BIGNUMs. Final BN_from_montgomery\n+     * removes padding [if any] and makes return value suitable for public\n+     * API consumer.\n+     */\n #if defined(SPARC_T4_MONT)\n     if (OPENSSL_sparcv9cap_P[0] & (SPARCV9_VIS3 | SPARCV9_PREFER_FPU)) {\n         am.d[0] = 1;            /* borrow am */\n@@ -1151,8 +1156,8 @@ int BN_mod_exp_mont_word(BIGNUM *rr, BN_ULONG a, const BIGNUM *p,\n \n     bits = BN_num_bits(p);\n     if (bits == 0) {\n-        /* x**0 mod 1 is still zero. */\n-        if (BN_is_one(m)) {\n+        /* x**0 mod 1, or x**0 mod -1 is still zero. */\n+        if (BN_abs_is_word(m, 1)) {\n             ret = 1;\n             BN_zero(rr);\n         } else {\n@@ -1273,9 +1278,9 @@ int BN_mod_exp_simple(BIGNUM *r, const BIGNUM *a, const BIGNUM *p,\n     }\n \n     bits = BN_num_bits(p);\n-   if (bits == 0) {\n-        /* x**0 mod 1 is still zero. */\n-        if (BN_is_one(m)) {\n+    if (bits == 0) {\n+        /* x**0 mod 1, or x**0 mod -1 is still zero. */\n+        if (BN_abs_is_word(m, 1)) {\n             ret = 1;\n             BN_zero(r);\n         } else {"
        },
        {
            "sha": "bed231c8fa6632272be5a042d102608262259728",
            "filename": "deps/openssl/openssl/crypto/bn/bn_gcd.c",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gcd.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gcd.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gcd.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -140,7 +140,14 @@ BIGNUM *int_bn_mod_inverse(BIGNUM *in,\n     BIGNUM *ret = NULL;\n     int sign;\n \n-    if (pnoinv)\n+    /* This is invalid input so we don't worry about constant time here */\n+    if (BN_abs_is_word(n, 1) || BN_is_zero(n)) {\n+        if (pnoinv != NULL)\n+            *pnoinv = 1;\n+        return NULL;\n+    }\n+\n+    if (pnoinv != NULL)\n         *pnoinv = 0;\n \n     if ((BN_get_flags(a, BN_FLG_CONSTTIME) != 0)"
        },
        {
            "sha": "d80f3ec94027c9f8daa2cc7d25b1752dceedb188",
            "filename": "deps/openssl/openssl/crypto/bn/bn_gf2m.c",
            "status": "modified",
            "additions": 18,
            "deletions": 16,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gf2m.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gf2m.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_gf2m.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -32,30 +32,32 @@\n  */\n # define MAX_ITERATIONS 50\n \n-static const BN_ULONG SQR_tb[16] = { 0, 1, 4, 5, 16, 17, 20, 21,\n-    64, 65, 68, 69, 80, 81, 84, 85\n-};\n+# define SQR_nibble(w)   ((((w) & 8) << 3) \\\n+                       |  (((w) & 4) << 2) \\\n+                       |  (((w) & 2) << 1) \\\n+                       |   ((w) & 1))\n+\n \n /* Platform-specific macros to accelerate squaring. */\n # if defined(SIXTY_FOUR_BIT) || defined(SIXTY_FOUR_BIT_LONG)\n #  define SQR1(w) \\\n-    SQR_tb[(w) >> 60 & 0xF] << 56 | SQR_tb[(w) >> 56 & 0xF] << 48 | \\\n-    SQR_tb[(w) >> 52 & 0xF] << 40 | SQR_tb[(w) >> 48 & 0xF] << 32 | \\\n-    SQR_tb[(w) >> 44 & 0xF] << 24 | SQR_tb[(w) >> 40 & 0xF] << 16 | \\\n-    SQR_tb[(w) >> 36 & 0xF] <<  8 | SQR_tb[(w) >> 32 & 0xF]\n+    SQR_nibble((w) >> 60) << 56 | SQR_nibble((w) >> 56) << 48 | \\\n+    SQR_nibble((w) >> 52) << 40 | SQR_nibble((w) >> 48) << 32 | \\\n+    SQR_nibble((w) >> 44) << 24 | SQR_nibble((w) >> 40) << 16 | \\\n+    SQR_nibble((w) >> 36) <<  8 | SQR_nibble((w) >> 32)\n #  define SQR0(w) \\\n-    SQR_tb[(w) >> 28 & 0xF] << 56 | SQR_tb[(w) >> 24 & 0xF] << 48 | \\\n-    SQR_tb[(w) >> 20 & 0xF] << 40 | SQR_tb[(w) >> 16 & 0xF] << 32 | \\\n-    SQR_tb[(w) >> 12 & 0xF] << 24 | SQR_tb[(w) >>  8 & 0xF] << 16 | \\\n-    SQR_tb[(w) >>  4 & 0xF] <<  8 | SQR_tb[(w)       & 0xF]\n+    SQR_nibble((w) >> 28) << 56 | SQR_nibble((w) >> 24) << 48 | \\\n+    SQR_nibble((w) >> 20) << 40 | SQR_nibble((w) >> 16) << 32 | \\\n+    SQR_nibble((w) >> 12) << 24 | SQR_nibble((w) >>  8) << 16 | \\\n+    SQR_nibble((w) >>  4) <<  8 | SQR_nibble((w)      )\n # endif\n # ifdef THIRTY_TWO_BIT\n #  define SQR1(w) \\\n-    SQR_tb[(w) >> 28 & 0xF] << 24 | SQR_tb[(w) >> 24 & 0xF] << 16 | \\\n-    SQR_tb[(w) >> 20 & 0xF] <<  8 | SQR_tb[(w) >> 16 & 0xF]\n+    SQR_nibble((w) >> 28) << 24 | SQR_nibble((w) >> 24) << 16 | \\\n+    SQR_nibble((w) >> 20) <<  8 | SQR_nibble((w) >> 16)\n #  define SQR0(w) \\\n-    SQR_tb[(w) >> 12 & 0xF] << 24 | SQR_tb[(w) >>  8 & 0xF] << 16 | \\\n-    SQR_tb[(w) >>  4 & 0xF] <<  8 | SQR_tb[(w)       & 0xF]\n+    SQR_nibble((w) >> 12) << 24 | SQR_nibble((w) >>  8) << 16 | \\\n+    SQR_nibble((w) >>  4) <<  8 | SQR_nibble((w)      )\n # endif\n \n # if !defined(OPENSSL_BN_ASM_GF2m)"
        },
        {
            "sha": "7b25927f9bcaee0d79608443e170d925b076db59",
            "filename": "deps/openssl/openssl/crypto/bn/bn_intern.c",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_intern.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_intern.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_intern.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -177,16 +177,20 @@ BN_ULONG *bn_get_words(const BIGNUM *a)\n     return a->d;\n }\n \n-void bn_set_static_words(BIGNUM *a, BN_ULONG *words, int size)\n+void bn_set_static_words(BIGNUM *a, const BN_ULONG *words, int size)\n {\n-    a->d = words;\n+    /*\n+     * |const| qualifier omission is compensated by BN_FLG_STATIC_DATA\n+     * flag, which effectively means \"read-only data\".\n+     */\n+    a->d = (BN_ULONG *)words;\n     a->dmax = a->top = size;\n     a->neg = 0;\n     a->flags |= BN_FLG_STATIC_DATA;\n     bn_correct_top(a);\n }\n \n-int bn_set_words(BIGNUM *a, BN_ULONG *words, int num_words)\n+int bn_set_words(BIGNUM *a, const BN_ULONG *words, int num_words)\n {\n     if (bn_wexpand(a, num_words) == NULL) {\n         BNerr(BN_F_BN_SET_WORDS, ERR_R_MALLOC_FAILURE);"
        },
        {
            "sha": "4d9808f5b8d1e6bd6994ef11d23fea9385a83085",
            "filename": "deps/openssl/openssl/crypto/bn/bn_lcl.h",
            "status": "modified",
            "additions": 18,
            "deletions": 5,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -145,7 +145,16 @@ extern \"C\" {\n  */\n \n # ifdef BN_DEBUG\n-\n+/*\n+ * The new BN_FLG_FIXED_TOP flag marks vectors that were not treated with\n+ * bn_correct_top, in other words such vectors are permitted to have zeros\n+ * in most significant limbs. Such vectors are used internally to achieve\n+ * execution time invariance for critical operations with private keys.\n+ * It's BN_DEBUG-only flag, because user application is not supposed to\n+ * observe it anyway. Moreover, optimizing compiler would actually remove\n+ * all operations manipulating the bit in question in non-BN_DEBUG build.\n+ */\n+#  define BN_FLG_FIXED_TOP 0x10000\n #  ifdef BN_DEBUG_RAND\n /* To avoid \"make update\" cvs wars due to BN_DEBUG, use some tricks */\n #   ifndef RAND_bytes\n@@ -177,8 +186,10 @@ int RAND_bytes(unsigned char *buf, int num);\n         do { \\\n                 const BIGNUM *_bnum2 = (a); \\\n                 if (_bnum2 != NULL) { \\\n-                        OPENSSL_assert(((_bnum2->top == 0) && !_bnum2->neg) || \\\n-                                (_bnum2->top && (_bnum2->d[_bnum2->top - 1] != 0))); \\\n+                        int _top = _bnum2->top; \\\n+                        OPENSSL_assert((_top == 0 && !_bnum2->neg) || \\\n+                               (_top && ((_bnum2->flags & BN_FLG_FIXED_TOP) \\\n+                                         || _bnum2->d[_top - 1] != 0))); \\\n                         bn_pollute(_bnum2); \\\n                 } \\\n         } while(0)\n@@ -197,6 +208,7 @@ int RAND_bytes(unsigned char *buf, int num);\n \n # else                          /* !BN_DEBUG */\n \n+#  define BN_FLG_FIXED_TOP 0\n #  define bn_pollute(a)\n #  define bn_check_top(a)\n #  define bn_fix_top(a)           bn_correct_top(a)\n@@ -228,7 +240,8 @@ struct bignum_st {\n /* Used for montgomery multiplication */\n struct bn_mont_ctx_st {\n     int ri;                     /* number of bits in R */\n-    BIGNUM RR;                  /* used to convert to montgomery form */\n+    BIGNUM RR;                  /* used to convert to montgomery form,\n+                                   possibly zero-padded */\n     BIGNUM N;                   /* The modulus */\n     BIGNUM Ni;                  /* R*(1/R mod N) - N*Ni = 1 (Ni is only\n                                  * stored for bignum algorithm) */"
        },
        {
            "sha": "25eac396e0942aaabb0c4340a63c6a02eabb523e",
            "filename": "deps/openssl/openssl/crypto/bn/bn_lib.c",
            "status": "modified",
            "additions": 62,
            "deletions": 23,
            "changes": 85,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -12,6 +12,7 @@\n #include \"internal/cryptlib.h\"\n #include \"bn_lcl.h\"\n #include <openssl/opensslconf.h>\n+#include \"internal/constant_time_locl.h\"\n \n /* This stuff appears to be completely unused, so is deprecated */\n #if OPENSSL_API_COMPAT < 0x00908000L\n@@ -222,8 +223,6 @@ static BN_ULONG *bn_expand_internal(const BIGNUM *b, int words)\n     const BN_ULONG *B;\n     int i;\n \n-    bn_check_top(b);\n-\n     if (words > (INT_MAX / (4 * BN_BITS2))) {\n         BNerr(BN_F_BN_EXPAND_INTERNAL, BN_R_BIGNUM_TOO_LONG);\n         return NULL;\n@@ -298,8 +297,6 @@ static BN_ULONG *bn_expand_internal(const BIGNUM *b, int words)\n \n BIGNUM *bn_expand2(BIGNUM *b, int words)\n {\n-    bn_check_top(b);\n-\n     if (words > b->dmax) {\n         BN_ULONG *a = bn_expand_internal(b, words);\n         if (!a)\n@@ -312,7 +309,6 @@ BIGNUM *bn_expand2(BIGNUM *b, int words)\n         b->dmax = words;\n     }\n \n-    bn_check_top(b);\n     return b;\n }\n \n@@ -379,12 +375,19 @@ BIGNUM *BN_copy(BIGNUM *a, const BIGNUM *b)\n     memcpy(a->d, b->d, sizeof(b->d[0]) * b->top);\n #endif\n \n-    a->top = b->top;\n     a->neg = b->neg;\n+    a->top = b->top;\n+    a->flags |= b->flags & BN_FLG_FIXED_TOP;\n     bn_check_top(a);\n     return (a);\n }\n \n+#define FLAGS_DATA(flags) ((flags) & (BN_FLG_STATIC_DATA \\\n+                                    | BN_FLG_CONSTTIME   \\\n+                                    | BN_FLG_SECURE      \\\n+                                    | BN_FLG_FIXED_TOP))\n+#define FLAGS_STRUCT(flags) ((flags) & (BN_FLG_MALLOCED))\n+\n void BN_swap(BIGNUM *a, BIGNUM *b)\n {\n     int flags_old_a, flags_old_b;\n@@ -412,10 +415,8 @@ void BN_swap(BIGNUM *a, BIGNUM *b)\n     b->dmax = tmp_dmax;\n     b->neg = tmp_neg;\n \n-    a->flags =\n-        (flags_old_a & BN_FLG_MALLOCED) | (flags_old_b & BN_FLG_STATIC_DATA);\n-    b->flags =\n-        (flags_old_b & BN_FLG_MALLOCED) | (flags_old_a & BN_FLG_STATIC_DATA);\n+    a->flags = FLAGS_STRUCT(flags_old_a) | FLAGS_DATA(flags_old_b);\n+    b->flags = FLAGS_STRUCT(flags_old_b) | FLAGS_DATA(flags_old_a);\n     bn_check_top(a);\n     bn_check_top(b);\n }\n@@ -425,8 +426,9 @@ void BN_clear(BIGNUM *a)\n     bn_check_top(a);\n     if (a->d != NULL)\n         OPENSSL_cleanse(a->d, sizeof(*a->d) * a->dmax);\n-    a->top = 0;\n     a->neg = 0;\n+    a->top = 0;\n+    a->flags &= ~BN_FLG_FIXED_TOP;\n }\n \n BN_ULONG BN_get_word(const BIGNUM *a)\n@@ -447,6 +449,7 @@ int BN_set_word(BIGNUM *a, BN_ULONG w)\n     a->neg = 0;\n     a->d[0] = w;\n     a->top = (w ? 1 : 0);\n+    a->flags &= ~BN_FLG_FIXED_TOP;\n     bn_check_top(a);\n     return (1);\n }\n@@ -499,24 +502,29 @@ BIGNUM *BN_bin2bn(const unsigned char *s, int len, BIGNUM *ret)\n /* ignore negative */\n static int bn2binpad(const BIGNUM *a, unsigned char *to, int tolen)\n {\n-    int i;\n+    int n;\n+    size_t i, inc, lasti, j;\n     BN_ULONG l;\n \n-    bn_check_top(a);\n-    i = BN_num_bytes(a);\n+    n = BN_num_bytes(a);\n     if (tolen == -1)\n-        tolen = i;\n-    else if (tolen < i)\n+        tolen = n;\n+    else if (tolen < n)\n         return -1;\n-    /* Add leading zeroes if necessary */\n-    if (tolen > i) {\n-        memset(to, 0, tolen - i);\n-        to += tolen - i;\n+\n+    if (n == 0) {\n+        OPENSSL_cleanse(to, tolen);\n+        return tolen;\n     }\n-    while (i--) {\n+\n+    lasti = n - 1;\n+    for (i = 0, inc = 1, j = tolen; j > 0;) {\n         l = a->d[i / BN_BYTES];\n-        *(to++) = (unsigned char)(l >> (8 * (i % BN_BYTES))) & 0xff;\n+        to[--j] = (unsigned char)(l >> (8 * (i % BN_BYTES)) & (0 - inc));\n+        inc = (i - lasti) >> (8 * sizeof(i) - 1);\n+        i += inc; /* stay on top limb */\n     }\n+\n     return tolen;\n }\n \n@@ -683,6 +691,7 @@ int BN_set_bit(BIGNUM *a, int n)\n         for (k = a->top; k < i + 1; k++)\n             a->d[k] = 0;\n         a->top = i + 1;\n+        a->flags &= ~BN_FLG_FIXED_TOP;\n     }\n \n     a->d[i] |= (((BN_ULONG)1) << j);\n@@ -824,6 +833,34 @@ void BN_consttime_swap(BN_ULONG condition, BIGNUM *a, BIGNUM *b, int nwords)\n     a->top ^= t;\n     b->top ^= t;\n \n+    t = (a->neg ^ b->neg) & condition;\n+    a->neg ^= t;\n+    b->neg ^= t;\n+\n+    /*-\n+     * Idea behind BN_FLG_STATIC_DATA is actually to\n+     * indicate that data may not be written to.\n+     * Intention is actually to treat it as it's\n+     * read-only data, and some (if not most) of it does\n+     * reside in read-only segment. In other words\n+     * observation of BN_FLG_STATIC_DATA in\n+     * BN_consttime_swap should be treated as fatal\n+     * condition. It would either cause SEGV or\n+     * effectively cause data corruption.\n+     * BN_FLG_MALLOCED refers to BN structure itself,\n+     * and hence must be preserved. Remaining flags are\n+     * BN_FLG_CONSTIME and BN_FLG_SECURE. Latter must be\n+     * preserved, because it determines how x->d was\n+     * allocated and hence how to free it. This leaves\n+     * BN_FLG_CONSTTIME that one can do something about.\n+     * To summarize it's sufficient to mask and swap\n+     * BN_FLG_CONSTTIME alone. BN_FLG_STATIC_DATA should\n+     * be treated as fatal.\n+     */\n+    t = ((a->flags ^ b->flags) & BN_FLG_CONSTTIME) & condition;\n+    a->flags ^= t;\n+    b->flags ^= t;\n+\n #define BN_CONSTTIME_SWAP(ind) \\\n         do { \\\n                 t = (a->d[ind] ^ b->d[ind]) & condition; \\\n@@ -887,8 +924,9 @@ int BN_security_bits(int L, int N)\n \n void BN_zero_ex(BIGNUM *a)\n {\n-    a->top = 0;\n     a->neg = 0;\n+    a->top = 0;\n+    a->flags &= ~BN_FLG_FIXED_TOP;\n }\n \n int BN_abs_is_word(const BIGNUM *a, const BN_ULONG w)\n@@ -1012,5 +1050,6 @@ void bn_correct_top(BIGNUM *a)\n     }\n     if (a->top == 0)\n         a->neg = 0;\n+    a->flags &= ~BN_FLG_FIXED_TOP;\n     bn_pollute(a);\n }"
        },
        {
            "sha": "2361094ee4f6808da4d8dc53295620f2507d2ece",
            "filename": "deps/openssl/openssl/crypto/bn/bn_mod.c",
            "status": "modified",
            "additions": 62,
            "deletions": 7,
            "changes": 69,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mod.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mod.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mod.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1998-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1998-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -35,18 +35,73 @@ int BN_mod_add(BIGNUM *r, const BIGNUM *a, const BIGNUM *b, const BIGNUM *m,\n \n /*\n  * BN_mod_add variant that may be used if both a and b are non-negative and\n- * less than m\n+ * less than m. The original algorithm was\n+ *\n+ *    if (!BN_uadd(r, a, b))\n+ *       return 0;\n+ *    if (BN_ucmp(r, m) >= 0)\n+ *       return BN_usub(r, r, m);\n+ *\n+ * which is replaced with addition, subtracting modulus, and conditional\n+ * move depending on whether or not subtraction borrowed.\n  */\n-int BN_mod_add_quick(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n-                     const BIGNUM *m)\n+int bn_mod_add_fixed_top(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n+                         const BIGNUM *m)\n {\n-    if (!BN_uadd(r, a, b))\n+    size_t i, ai, bi, mtop = m->top;\n+    BN_ULONG storage[1024 / BN_BITS2];\n+    BN_ULONG carry, temp, mask, *rp, *tp = storage;\n+    const BN_ULONG *ap, *bp;\n+\n+    if (bn_wexpand(r, mtop) == NULL)\n         return 0;\n-    if (BN_ucmp(r, m) >= 0)\n-        return BN_usub(r, r, m);\n+\n+    if (mtop > sizeof(storage) / sizeof(storage[0])\n+        && (tp = OPENSSL_malloc(mtop * sizeof(BN_ULONG))) == NULL)\n+\treturn 0;\n+\n+    ap = a->d != NULL ? a->d : tp;\n+    bp = b->d != NULL ? b->d : tp;\n+\n+    for (i = 0, ai = 0, bi = 0, carry = 0; i < mtop;) {\n+        mask = (BN_ULONG)0 - ((i - a->top) >> (8 * sizeof(i) - 1));\n+        temp = ((ap[ai] & mask) + carry) & BN_MASK2;\n+        carry = (temp < carry);\n+\n+        mask = (BN_ULONG)0 - ((i - b->top) >> (8 * sizeof(i) - 1));\n+        tp[i] = ((bp[bi] & mask) + temp) & BN_MASK2;\n+        carry += (tp[i] < temp);\n+\n+        i++;\n+        ai += (i - a->dmax) >> (8 * sizeof(i) - 1);\n+        bi += (i - b->dmax) >> (8 * sizeof(i) - 1);\n+    }\n+    rp = r->d;\n+    carry -= bn_sub_words(rp, tp, m->d, mtop);\n+    for (i = 0; i < mtop; i++) {\n+        rp[i] = (carry & tp[i]) | (~carry & rp[i]);\n+        ((volatile BN_ULONG *)tp)[i] = 0;\n+    }\n+    r->top = mtop;\n+    r->neg = 0;\n+\n+    if (tp != storage)\n+        OPENSSL_free(tp);\n+\n     return 1;\n }\n \n+int BN_mod_add_quick(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n+                     const BIGNUM *m)\n+{\n+    int ret = bn_mod_add_fixed_top(r, a, b, m);\n+\n+    if (ret)\n+        bn_correct_top(r);\n+\n+    return ret;\n+}\n+\n int BN_mod_sub(BIGNUM *r, const BIGNUM *a, const BIGNUM *b, const BIGNUM *m,\n                BN_CTX *ctx)\n {"
        },
        {
            "sha": "3ccf8eaf371316d5251656eb0145e92d920239d3",
            "filename": "deps/openssl/openssl/crypto/bn/bn_mont.c",
            "status": "modified",
            "additions": 49,
            "deletions": 20,
            "changes": 69,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mont.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mont.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_mont.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -20,29 +20,43 @@\n #define MONT_WORD               /* use the faster word-based algorithm */\n \n #ifdef MONT_WORD\n-static int BN_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont);\n+static int bn_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont);\n #endif\n \n int BN_mod_mul_montgomery(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n                           BN_MONT_CTX *mont, BN_CTX *ctx)\n+{\n+    int ret = bn_mul_mont_fixed_top(r, a, b, mont, ctx);\n+\n+    bn_correct_top(r);\n+    bn_check_top(r);\n+\n+    return ret;\n+}\n+\n+int bn_mul_mont_fixed_top(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n+                          BN_MONT_CTX *mont, BN_CTX *ctx)\n {\n     BIGNUM *tmp;\n     int ret = 0;\n-#if defined(OPENSSL_BN_ASM_MONT) && defined(MONT_WORD)\n     int num = mont->N.top;\n \n+#if defined(OPENSSL_BN_ASM_MONT) && defined(MONT_WORD)\n     if (num > 1 && a->top == num && b->top == num) {\n         if (bn_wexpand(r, num) == NULL)\n             return (0);\n         if (bn_mul_mont(r->d, a->d, b->d, mont->N.d, mont->n0, num)) {\n             r->neg = a->neg ^ b->neg;\n             r->top = num;\n-            bn_correct_top(r);\n+            r->flags |= BN_FLG_FIXED_TOP;\n             return (1);\n         }\n     }\n #endif\n \n+    if ((a->top + b->top) > 2 * num)\n+        return 0;\n+\n     BN_CTX_start(ctx);\n     tmp = BN_CTX_get(ctx);\n     if (tmp == NULL)\n@@ -58,21 +72,20 @@ int BN_mod_mul_montgomery(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n     }\n     /* reduce from aRR to aR */\n #ifdef MONT_WORD\n-    if (!BN_from_montgomery_word(r, tmp, mont))\n+    if (!bn_from_montgomery_word(r, tmp, mont))\n         goto err;\n #else\n     if (!BN_from_montgomery(r, tmp, mont, ctx))\n         goto err;\n #endif\n-    bn_check_top(r);\n     ret = 1;\n  err:\n     BN_CTX_end(ctx);\n     return (ret);\n }\n \n #ifdef MONT_WORD\n-static int BN_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont)\n+static int bn_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont)\n {\n     BIGNUM *n;\n     BN_ULONG *ap, *np, *rp, n0, v, carry;\n@@ -99,6 +112,7 @@ static int BN_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont)\n         memset(&rp[r->top], 0, sizeof(*rp) * i);\n \n     r->top = max;\n+    r->flags |= BN_FLG_FIXED_TOP;\n     n0 = mont->n0[0];\n \n     /*\n@@ -117,6 +131,7 @@ static int BN_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont)\n     if (bn_wexpand(ret, nl) == NULL)\n         return (0);\n     ret->top = nl;\n+    ret->flags |= BN_FLG_FIXED_TOP;\n     ret->neg = r->neg;\n \n     rp = ret->d;\n@@ -127,20 +142,16 @@ static int BN_from_montgomery_word(BIGNUM *ret, BIGNUM *r, BN_MONT_CTX *mont)\n      */\n     ap = &(r->d[nl]);\n \n+    carry -= bn_sub_words(rp, ap, np, nl);\n     /*\n-     * |v| is one if |ap| - |np| underflowed or zero if it did not. Note |v|\n-     * cannot be -1. That would imply the subtraction did not fit in |nl| words,\n-     * and we know at most one subtraction is needed.\n+     * |carry| is -1 if |ap| - |np| underflowed or zero if it did not. Note\n+     * |carry| cannot be 1. That would imply the subtraction did not fit in\n+     * |nl| words, and we know at most one subtraction is needed.\n      */\n-    v = bn_sub_words(rp, ap, np, nl) - carry;\n-    v = 0 - v;\n     for (i = 0; i < nl; i++) {\n-        rp[i] = (v & ap[i]) | (~v & rp[i]);\n+        rp[i] = (carry & ap[i]) | (~carry & rp[i]);\n         ap[i] = 0;\n     }\n-    bn_correct_top(r);\n-    bn_correct_top(ret);\n-    bn_check_top(ret);\n \n     return (1);\n }\n@@ -154,8 +165,11 @@ int BN_from_montgomery(BIGNUM *ret, const BIGNUM *a, BN_MONT_CTX *mont,\n     BIGNUM *t;\n \n     BN_CTX_start(ctx);\n-    if ((t = BN_CTX_get(ctx)) && BN_copy(t, a))\n-        retn = BN_from_montgomery_word(ret, t, mont);\n+    if ((t = BN_CTX_get(ctx)) && BN_copy(t, a)) {\n+        retn = bn_from_montgomery_word(ret, t, mont);\n+        bn_correct_top(ret);\n+        bn_check_top(ret);\n+    }\n     BN_CTX_end(ctx);\n #else                           /* !MONT_WORD */\n     BIGNUM *t1, *t2;\n@@ -193,6 +207,12 @@ int BN_from_montgomery(BIGNUM *ret, const BIGNUM *a, BN_MONT_CTX *mont,\n     return (retn);\n }\n \n+int bn_to_mont_fixed_top(BIGNUM *r, const BIGNUM *a, BN_MONT_CTX *mont,\n+                         BN_CTX *ctx)\n+{\n+    return bn_mul_mont_fixed_top(r, a, &(mont->RR), mont, ctx);\n+}\n+\n BN_MONT_CTX *BN_MONT_CTX_new(void)\n {\n     BN_MONT_CTX *ret;\n@@ -229,7 +249,7 @@ void BN_MONT_CTX_free(BN_MONT_CTX *mont)\n \n int BN_MONT_CTX_set(BN_MONT_CTX *mont, const BIGNUM *mod, BN_CTX *ctx)\n {\n-    int ret = 0;\n+    int i, ret = 0;\n     BIGNUM *Ri, *R;\n \n     if (BN_is_zero(mod))\n@@ -278,7 +298,9 @@ int BN_MONT_CTX_set(BN_MONT_CTX *mont, const BIGNUM *mod, BN_CTX *ctx)\n         if ((buf[1] = mod->top > 1 ? mod->d[1] : 0))\n             tmod.top = 2;\n \n-        if ((BN_mod_inverse(Ri, R, &tmod, ctx)) == NULL)\n+        if (BN_is_one(&tmod))\n+            BN_zero(Ri);\n+        else if ((BN_mod_inverse(Ri, R, &tmod, ctx)) == NULL)\n             goto err;\n         if (!BN_lshift(Ri, Ri, 2 * BN_BITS2))\n             goto err;           /* R*Ri */\n@@ -311,7 +333,9 @@ int BN_MONT_CTX_set(BN_MONT_CTX *mont, const BIGNUM *mod, BN_CTX *ctx)\n         buf[1] = 0;\n         tmod.top = buf[0] != 0 ? 1 : 0;\n         /* Ri = R^-1 mod N */\n-        if ((BN_mod_inverse(Ri, R, &tmod, ctx)) == NULL)\n+        if (BN_is_one(&tmod))\n+            BN_zero(Ri);\n+        else if ((BN_mod_inverse(Ri, R, &tmod, ctx)) == NULL)\n             goto err;\n         if (!BN_lshift(Ri, Ri, BN_BITS2))\n             goto err;           /* R*Ri */\n@@ -360,6 +384,11 @@ int BN_MONT_CTX_set(BN_MONT_CTX *mont, const BIGNUM *mod, BN_CTX *ctx)\n     if (!BN_mod(&(mont->RR), &(mont->RR), &(mont->N), ctx))\n         goto err;\n \n+    for (i = mont->RR.top, ret = mont->N.top; i < ret; i++)\n+        mont->RR.d[i] = 0;\n+    mont->RR.top = ret;\n+    mont->RR.flags |= BN_FLG_FIXED_TOP;\n+\n     ret = 1;\n  err:\n     BN_CTX_end(ctx);"
        },
        {
            "sha": "41440fa4e19c1556f02c8053ddb81003595f3eb1",
            "filename": "deps/openssl/openssl/crypto/bn/bn_prime.h",
            "status": "modified",
            "additions": 256,
            "deletions": 256,
            "changes": 512,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_prime.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_prime.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_prime.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -15,260 +15,260 @@ typedef unsigned short prime_t;\n \n static const prime_t primes[2048] = {\n \n-       2,    3,    5,    7,   11,   13,   17,   19,\n-      23,   29,   31,   37,   41,   43,   47,   53,\n-      59,   61,   67,   71,   73,   79,   83,   89,\n-      97,  101,  103,  107,  109,  113,  127,  131,\n-     137,  139,  149,  151,  157,  163,  167,  173,\n-     179,  181,  191,  193,  197,  199,  211,  223,\n-     227,  229,  233,  239,  241,  251,  257,  263,\n-     269,  271,  277,  281,  283,  293,  307,  311,\n-     313,  317,  331,  337,  347,  349,  353,  359,\n-     367,  373,  379,  383,  389,  397,  401,  409,\n-     419,  421,  431,  433,  439,  443,  449,  457,\n-     461,  463,  467,  479,  487,  491,  499,  503,\n-     509,  521,  523,  541,  547,  557,  563,  569,\n-     571,  577,  587,  593,  599,  601,  607,  613,\n-     617,  619,  631,  641,  643,  647,  653,  659,\n-     661,  673,  677,  683,  691,  701,  709,  719,\n-     727,  733,  739,  743,  751,  757,  761,  769,\n-     773,  787,  797,  809,  811,  821,  823,  827,\n-     829,  839,  853,  857,  859,  863,  877,  881,\n-     883,  887,  907,  911,  919,  929,  937,  941,\n-     947,  953,  967,  971,  977,  983,  991,  997,\n-    1009, 1013, 1019, 1021, 1031, 1033, 1039, 1049,\n-    1051, 1061, 1063, 1069, 1087, 1091, 1093, 1097,\n-    1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163,\n-    1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223,\n-    1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283,\n-    1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321,\n-    1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423,\n-    1427, 1429, 1433, 1439, 1447, 1451, 1453, 1459,\n-    1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511,\n-    1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571,\n-    1579, 1583, 1597, 1601, 1607, 1609, 1613, 1619,\n-    1621, 1627, 1637, 1657, 1663, 1667, 1669, 1693,\n-    1697, 1699, 1709, 1721, 1723, 1733, 1741, 1747,\n-    1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811,\n-    1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877,\n-    1879, 1889, 1901, 1907, 1913, 1931, 1933, 1949,\n-    1951, 1973, 1979, 1987, 1993, 1997, 1999, 2003,\n-    2011, 2017, 2027, 2029, 2039, 2053, 2063, 2069,\n-    2081, 2083, 2087, 2089, 2099, 2111, 2113, 2129,\n-    2131, 2137, 2141, 2143, 2153, 2161, 2179, 2203,\n-    2207, 2213, 2221, 2237, 2239, 2243, 2251, 2267,\n-    2269, 2273, 2281, 2287, 2293, 2297, 2309, 2311,\n-    2333, 2339, 2341, 2347, 2351, 2357, 2371, 2377,\n-    2381, 2383, 2389, 2393, 2399, 2411, 2417, 2423,\n-    2437, 2441, 2447, 2459, 2467, 2473, 2477, 2503,\n-    2521, 2531, 2539, 2543, 2549, 2551, 2557, 2579,\n-    2591, 2593, 2609, 2617, 2621, 2633, 2647, 2657,\n-    2659, 2663, 2671, 2677, 2683, 2687, 2689, 2693,\n-    2699, 2707, 2711, 2713, 2719, 2729, 2731, 2741,\n-    2749, 2753, 2767, 2777, 2789, 2791, 2797, 2801,\n-    2803, 2819, 2833, 2837, 2843, 2851, 2857, 2861,\n-    2879, 2887, 2897, 2903, 2909, 2917, 2927, 2939,\n-    2953, 2957, 2963, 2969, 2971, 2999, 3001, 3011,\n-    3019, 3023, 3037, 3041, 3049, 3061, 3067, 3079,\n-    3083, 3089, 3109, 3119, 3121, 3137, 3163, 3167,\n-    3169, 3181, 3187, 3191, 3203, 3209, 3217, 3221,\n-    3229, 3251, 3253, 3257, 3259, 3271, 3299, 3301,\n-    3307, 3313, 3319, 3323, 3329, 3331, 3343, 3347,\n-    3359, 3361, 3371, 3373, 3389, 3391, 3407, 3413,\n-    3433, 3449, 3457, 3461, 3463, 3467, 3469, 3491,\n-    3499, 3511, 3517, 3527, 3529, 3533, 3539, 3541,\n-    3547, 3557, 3559, 3571, 3581, 3583, 3593, 3607,\n-    3613, 3617, 3623, 3631, 3637, 3643, 3659, 3671,\n-    3673, 3677, 3691, 3697, 3701, 3709, 3719, 3727,\n-    3733, 3739, 3761, 3767, 3769, 3779, 3793, 3797,\n-    3803, 3821, 3823, 3833, 3847, 3851, 3853, 3863,\n-    3877, 3881, 3889, 3907, 3911, 3917, 3919, 3923,\n-    3929, 3931, 3943, 3947, 3967, 3989, 4001, 4003,\n-    4007, 4013, 4019, 4021, 4027, 4049, 4051, 4057,\n-    4073, 4079, 4091, 4093, 4099, 4111, 4127, 4129,\n-    4133, 4139, 4153, 4157, 4159, 4177, 4201, 4211,\n-    4217, 4219, 4229, 4231, 4241, 4243, 4253, 4259,\n-    4261, 4271, 4273, 4283, 4289, 4297, 4327, 4337,\n-    4339, 4349, 4357, 4363, 4373, 4391, 4397, 4409,\n-    4421, 4423, 4441, 4447, 4451, 4457, 4463, 4481,\n-    4483, 4493, 4507, 4513, 4517, 4519, 4523, 4547,\n-    4549, 4561, 4567, 4583, 4591, 4597, 4603, 4621,\n-    4637, 4639, 4643, 4649, 4651, 4657, 4663, 4673,\n-    4679, 4691, 4703, 4721, 4723, 4729, 4733, 4751,\n-    4759, 4783, 4787, 4789, 4793, 4799, 4801, 4813,\n-    4817, 4831, 4861, 4871, 4877, 4889, 4903, 4909,\n-    4919, 4931, 4933, 4937, 4943, 4951, 4957, 4967,\n-    4969, 4973, 4987, 4993, 4999, 5003, 5009, 5011,\n-    5021, 5023, 5039, 5051, 5059, 5077, 5081, 5087,\n-    5099, 5101, 5107, 5113, 5119, 5147, 5153, 5167,\n-    5171, 5179, 5189, 5197, 5209, 5227, 5231, 5233,\n-    5237, 5261, 5273, 5279, 5281, 5297, 5303, 5309,\n-    5323, 5333, 5347, 5351, 5381, 5387, 5393, 5399,\n-    5407, 5413, 5417, 5419, 5431, 5437, 5441, 5443,\n-    5449, 5471, 5477, 5479, 5483, 5501, 5503, 5507,\n-    5519, 5521, 5527, 5531, 5557, 5563, 5569, 5573,\n-    5581, 5591, 5623, 5639, 5641, 5647, 5651, 5653,\n-    5657, 5659, 5669, 5683, 5689, 5693, 5701, 5711,\n-    5717, 5737, 5741, 5743, 5749, 5779, 5783, 5791,\n-    5801, 5807, 5813, 5821, 5827, 5839, 5843, 5849,\n-    5851, 5857, 5861, 5867, 5869, 5879, 5881, 5897,\n-    5903, 5923, 5927, 5939, 5953, 5981, 5987, 6007,\n-    6011, 6029, 6037, 6043, 6047, 6053, 6067, 6073,\n-    6079, 6089, 6091, 6101, 6113, 6121, 6131, 6133,\n-    6143, 6151, 6163, 6173, 6197, 6199, 6203, 6211,\n-    6217, 6221, 6229, 6247, 6257, 6263, 6269, 6271,\n-    6277, 6287, 6299, 6301, 6311, 6317, 6323, 6329,\n-    6337, 6343, 6353, 6359, 6361, 6367, 6373, 6379,\n-    6389, 6397, 6421, 6427, 6449, 6451, 6469, 6473,\n-    6481, 6491, 6521, 6529, 6547, 6551, 6553, 6563,\n-    6569, 6571, 6577, 6581, 6599, 6607, 6619, 6637,\n-    6653, 6659, 6661, 6673, 6679, 6689, 6691, 6701,\n-    6703, 6709, 6719, 6733, 6737, 6761, 6763, 6779,\n-    6781, 6791, 6793, 6803, 6823, 6827, 6829, 6833,\n-    6841, 6857, 6863, 6869, 6871, 6883, 6899, 6907,\n-    6911, 6917, 6947, 6949, 6959, 6961, 6967, 6971,\n-    6977, 6983, 6991, 6997, 7001, 7013, 7019, 7027,\n-    7039, 7043, 7057, 7069, 7079, 7103, 7109, 7121,\n-    7127, 7129, 7151, 7159, 7177, 7187, 7193, 7207,\n-    7211, 7213, 7219, 7229, 7237, 7243, 7247, 7253,\n-    7283, 7297, 7307, 7309, 7321, 7331, 7333, 7349,\n-    7351, 7369, 7393, 7411, 7417, 7433, 7451, 7457,\n-    7459, 7477, 7481, 7487, 7489, 7499, 7507, 7517,\n-    7523, 7529, 7537, 7541, 7547, 7549, 7559, 7561,\n-    7573, 7577, 7583, 7589, 7591, 7603, 7607, 7621,\n-    7639, 7643, 7649, 7669, 7673, 7681, 7687, 7691,\n-    7699, 7703, 7717, 7723, 7727, 7741, 7753, 7757,\n-    7759, 7789, 7793, 7817, 7823, 7829, 7841, 7853,\n-    7867, 7873, 7877, 7879, 7883, 7901, 7907, 7919,\n-    7927, 7933, 7937, 7949, 7951, 7963, 7993, 8009,\n-    8011, 8017, 8039, 8053, 8059, 8069, 8081, 8087,\n-    8089, 8093, 8101, 8111, 8117, 8123, 8147, 8161,\n-    8167, 8171, 8179, 8191, 8209, 8219, 8221, 8231,\n-    8233, 8237, 8243, 8263, 8269, 8273, 8287, 8291,\n-    8293, 8297, 8311, 8317, 8329, 8353, 8363, 8369,\n-    8377, 8387, 8389, 8419, 8423, 8429, 8431, 8443,\n-    8447, 8461, 8467, 8501, 8513, 8521, 8527, 8537,\n-    8539, 8543, 8563, 8573, 8581, 8597, 8599, 8609,\n-    8623, 8627, 8629, 8641, 8647, 8663, 8669, 8677,\n-    8681, 8689, 8693, 8699, 8707, 8713, 8719, 8731,\n-    8737, 8741, 8747, 8753, 8761, 8779, 8783, 8803,\n-    8807, 8819, 8821, 8831, 8837, 8839, 8849, 8861,\n-    8863, 8867, 8887, 8893, 8923, 8929, 8933, 8941,\n-    8951, 8963, 8969, 8971, 8999, 9001, 9007, 9011,\n-    9013, 9029, 9041, 9043, 9049, 9059, 9067, 9091,\n-    9103, 9109, 9127, 9133, 9137, 9151, 9157, 9161,\n-    9173, 9181, 9187, 9199, 9203, 9209, 9221, 9227,\n-    9239, 9241, 9257, 9277, 9281, 9283, 9293, 9311,\n-    9319, 9323, 9337, 9341, 9343, 9349, 9371, 9377,\n-    9391, 9397, 9403, 9413, 9419, 9421, 9431, 9433,\n-    9437, 9439, 9461, 9463, 9467, 9473, 9479, 9491,\n-    9497, 9511, 9521, 9533, 9539, 9547, 9551, 9587,\n-    9601, 9613, 9619, 9623, 9629, 9631, 9643, 9649,\n-    9661, 9677, 9679, 9689, 9697, 9719, 9721, 9733,\n-    9739, 9743, 9749, 9767, 9769, 9781, 9787, 9791,\n-    9803, 9811, 9817, 9829, 9833, 9839, 9851, 9857,\n-    9859, 9871, 9883, 9887, 9901, 9907, 9923, 9929,\n-    9931, 9941, 9949, 9967, 9973, 10007, 10009, 10037,\n-    10039, 10061, 10067, 10069, 10079, 10091, 10093, 10099,\n-    10103, 10111, 10133, 10139, 10141, 10151, 10159, 10163,\n-    10169, 10177, 10181, 10193, 10211, 10223, 10243, 10247,\n-    10253, 10259, 10267, 10271, 10273, 10289, 10301, 10303,\n-    10313, 10321, 10331, 10333, 10337, 10343, 10357, 10369,\n-    10391, 10399, 10427, 10429, 10433, 10453, 10457, 10459,\n-    10463, 10477, 10487, 10499, 10501, 10513, 10529, 10531,\n-    10559, 10567, 10589, 10597, 10601, 10607, 10613, 10627,\n-    10631, 10639, 10651, 10657, 10663, 10667, 10687, 10691,\n-    10709, 10711, 10723, 10729, 10733, 10739, 10753, 10771,\n-    10781, 10789, 10799, 10831, 10837, 10847, 10853, 10859,\n-    10861, 10867, 10883, 10889, 10891, 10903, 10909, 10937,\n-    10939, 10949, 10957, 10973, 10979, 10987, 10993, 11003,\n-    11027, 11047, 11057, 11059, 11069, 11071, 11083, 11087,\n-    11093, 11113, 11117, 11119, 11131, 11149, 11159, 11161,\n-    11171, 11173, 11177, 11197, 11213, 11239, 11243, 11251,\n-    11257, 11261, 11273, 11279, 11287, 11299, 11311, 11317,\n-    11321, 11329, 11351, 11353, 11369, 11383, 11393, 11399,\n-    11411, 11423, 11437, 11443, 11447, 11467, 11471, 11483,\n-    11489, 11491, 11497, 11503, 11519, 11527, 11549, 11551,\n-    11579, 11587, 11593, 11597, 11617, 11621, 11633, 11657,\n-    11677, 11681, 11689, 11699, 11701, 11717, 11719, 11731,\n-    11743, 11777, 11779, 11783, 11789, 11801, 11807, 11813,\n-    11821, 11827, 11831, 11833, 11839, 11863, 11867, 11887,\n-    11897, 11903, 11909, 11923, 11927, 11933, 11939, 11941,\n-    11953, 11959, 11969, 11971, 11981, 11987, 12007, 12011,\n-    12037, 12041, 12043, 12049, 12071, 12073, 12097, 12101,\n-    12107, 12109, 12113, 12119, 12143, 12149, 12157, 12161,\n-    12163, 12197, 12203, 12211, 12227, 12239, 12241, 12251,\n-    12253, 12263, 12269, 12277, 12281, 12289, 12301, 12323,\n-    12329, 12343, 12347, 12373, 12377, 12379, 12391, 12401,\n-    12409, 12413, 12421, 12433, 12437, 12451, 12457, 12473,\n-    12479, 12487, 12491, 12497, 12503, 12511, 12517, 12527,\n-    12539, 12541, 12547, 12553, 12569, 12577, 12583, 12589,\n-    12601, 12611, 12613, 12619, 12637, 12641, 12647, 12653,\n-    12659, 12671, 12689, 12697, 12703, 12713, 12721, 12739,\n-    12743, 12757, 12763, 12781, 12791, 12799, 12809, 12821,\n-    12823, 12829, 12841, 12853, 12889, 12893, 12899, 12907,\n-    12911, 12917, 12919, 12923, 12941, 12953, 12959, 12967,\n-    12973, 12979, 12983, 13001, 13003, 13007, 13009, 13033,\n-    13037, 13043, 13049, 13063, 13093, 13099, 13103, 13109,\n-    13121, 13127, 13147, 13151, 13159, 13163, 13171, 13177,\n-    13183, 13187, 13217, 13219, 13229, 13241, 13249, 13259,\n-    13267, 13291, 13297, 13309, 13313, 13327, 13331, 13337,\n-    13339, 13367, 13381, 13397, 13399, 13411, 13417, 13421,\n-    13441, 13451, 13457, 13463, 13469, 13477, 13487, 13499,\n-    13513, 13523, 13537, 13553, 13567, 13577, 13591, 13597,\n-    13613, 13619, 13627, 13633, 13649, 13669, 13679, 13681,\n-    13687, 13691, 13693, 13697, 13709, 13711, 13721, 13723,\n-    13729, 13751, 13757, 13759, 13763, 13781, 13789, 13799,\n-    13807, 13829, 13831, 13841, 13859, 13873, 13877, 13879,\n-    13883, 13901, 13903, 13907, 13913, 13921, 13931, 13933,\n-    13963, 13967, 13997, 13999, 14009, 14011, 14029, 14033,\n-    14051, 14057, 14071, 14081, 14083, 14087, 14107, 14143,\n-    14149, 14153, 14159, 14173, 14177, 14197, 14207, 14221,\n-    14243, 14249, 14251, 14281, 14293, 14303, 14321, 14323,\n-    14327, 14341, 14347, 14369, 14387, 14389, 14401, 14407,\n-    14411, 14419, 14423, 14431, 14437, 14447, 14449, 14461,\n-    14479, 14489, 14503, 14519, 14533, 14537, 14543, 14549,\n-    14551, 14557, 14561, 14563, 14591, 14593, 14621, 14627,\n-    14629, 14633, 14639, 14653, 14657, 14669, 14683, 14699,\n-    14713, 14717, 14723, 14731, 14737, 14741, 14747, 14753,\n-    14759, 14767, 14771, 14779, 14783, 14797, 14813, 14821,\n-    14827, 14831, 14843, 14851, 14867, 14869, 14879, 14887,\n-    14891, 14897, 14923, 14929, 14939, 14947, 14951, 14957,\n-    14969, 14983, 15013, 15017, 15031, 15053, 15061, 15073,\n-    15077, 15083, 15091, 15101, 15107, 15121, 15131, 15137,\n-    15139, 15149, 15161, 15173, 15187, 15193, 15199, 15217,\n-    15227, 15233, 15241, 15259, 15263, 15269, 15271, 15277,\n-    15287, 15289, 15299, 15307, 15313, 15319, 15329, 15331,\n-    15349, 15359, 15361, 15373, 15377, 15383, 15391, 15401,\n-    15413, 15427, 15439, 15443, 15451, 15461, 15467, 15473,\n-    15493, 15497, 15511, 15527, 15541, 15551, 15559, 15569,\n-    15581, 15583, 15601, 15607, 15619, 15629, 15641, 15643,\n-    15647, 15649, 15661, 15667, 15671, 15679, 15683, 15727,\n-    15731, 15733, 15737, 15739, 15749, 15761, 15767, 15773,\n-    15787, 15791, 15797, 15803, 15809, 15817, 15823, 15859,\n-    15877, 15881, 15887, 15889, 15901, 15907, 15913, 15919,\n-    15923, 15937, 15959, 15971, 15973, 15991, 16001, 16007,\n-    16033, 16057, 16061, 16063, 16067, 16069, 16073, 16087,\n-    16091, 16097, 16103, 16111, 16127, 16139, 16141, 16183,\n-    16187, 16189, 16193, 16217, 16223, 16229, 16231, 16249,\n-    16253, 16267, 16273, 16301, 16319, 16333, 16339, 16349,\n-    16361, 16363, 16369, 16381, 16411, 16417, 16421, 16427,\n-    16433, 16447, 16451, 16453, 16477, 16481, 16487, 16493,\n-    16519, 16529, 16547, 16553, 16561, 16567, 16573, 16603,\n-    16607, 16619, 16631, 16633, 16649, 16651, 16657, 16661,\n-    16673, 16691, 16693, 16699, 16703, 16729, 16741, 16747,\n-    16759, 16763, 16787, 16811, 16823, 16829, 16831, 16843,\n-    16871, 16879, 16883, 16889, 16901, 16903, 16921, 16927,\n-    16931, 16937, 16943, 16963, 16979, 16981, 16987, 16993,\n-    17011, 17021, 17027, 17029, 17033, 17041, 17047, 17053,\n-    17077, 17093, 17099, 17107, 17117, 17123, 17137, 17159,\n-    17167, 17183, 17189, 17191, 17203, 17207, 17209, 17231,\n-    17239, 17257, 17291, 17293, 17299, 17317, 17321, 17327,\n-    17333, 17341, 17351, 17359, 17377, 17383, 17387, 17389,\n-    17393, 17401, 17417, 17419, 17431, 17443, 17449, 17467,\n-    17471, 17477, 17483, 17489, 17491, 17497, 17509, 17519,\n-    17539, 17551, 17569, 17573, 17579, 17581, 17597, 17599,\n-    17609, 17623, 17627, 17657, 17659, 17669, 17681, 17683,\n-    17707, 17713, 17729, 17737, 17747, 17749, 17761, 17783,\n-    17789, 17791, 17807, 17827, 17837, 17839, 17851, 17863,\n+       2,    3,    5,    7,   11,   13,   17,   19, \n+      23,   29,   31,   37,   41,   43,   47,   53, \n+      59,   61,   67,   71,   73,   79,   83,   89, \n+      97,  101,  103,  107,  109,  113,  127,  131, \n+     137,  139,  149,  151,  157,  163,  167,  173, \n+     179,  181,  191,  193,  197,  199,  211,  223, \n+     227,  229,  233,  239,  241,  251,  257,  263, \n+     269,  271,  277,  281,  283,  293,  307,  311, \n+     313,  317,  331,  337,  347,  349,  353,  359, \n+     367,  373,  379,  383,  389,  397,  401,  409, \n+     419,  421,  431,  433,  439,  443,  449,  457, \n+     461,  463,  467,  479,  487,  491,  499,  503, \n+     509,  521,  523,  541,  547,  557,  563,  569, \n+     571,  577,  587,  593,  599,  601,  607,  613, \n+     617,  619,  631,  641,  643,  647,  653,  659, \n+     661,  673,  677,  683,  691,  701,  709,  719, \n+     727,  733,  739,  743,  751,  757,  761,  769, \n+     773,  787,  797,  809,  811,  821,  823,  827, \n+     829,  839,  853,  857,  859,  863,  877,  881, \n+     883,  887,  907,  911,  919,  929,  937,  941, \n+     947,  953,  967,  971,  977,  983,  991,  997, \n+    1009, 1013, 1019, 1021, 1031, 1033, 1039, 1049, \n+    1051, 1061, 1063, 1069, 1087, 1091, 1093, 1097, \n+    1103, 1109, 1117, 1123, 1129, 1151, 1153, 1163, \n+    1171, 1181, 1187, 1193, 1201, 1213, 1217, 1223, \n+    1229, 1231, 1237, 1249, 1259, 1277, 1279, 1283, \n+    1289, 1291, 1297, 1301, 1303, 1307, 1319, 1321, \n+    1327, 1361, 1367, 1373, 1381, 1399, 1409, 1423, \n+    1427, 1429, 1433, 1439, 1447, 1451, 1453, 1459, \n+    1471, 1481, 1483, 1487, 1489, 1493, 1499, 1511, \n+    1523, 1531, 1543, 1549, 1553, 1559, 1567, 1571, \n+    1579, 1583, 1597, 1601, 1607, 1609, 1613, 1619, \n+    1621, 1627, 1637, 1657, 1663, 1667, 1669, 1693, \n+    1697, 1699, 1709, 1721, 1723, 1733, 1741, 1747, \n+    1753, 1759, 1777, 1783, 1787, 1789, 1801, 1811, \n+    1823, 1831, 1847, 1861, 1867, 1871, 1873, 1877, \n+    1879, 1889, 1901, 1907, 1913, 1931, 1933, 1949, \n+    1951, 1973, 1979, 1987, 1993, 1997, 1999, 2003, \n+    2011, 2017, 2027, 2029, 2039, 2053, 2063, 2069, \n+    2081, 2083, 2087, 2089, 2099, 2111, 2113, 2129, \n+    2131, 2137, 2141, 2143, 2153, 2161, 2179, 2203, \n+    2207, 2213, 2221, 2237, 2239, 2243, 2251, 2267, \n+    2269, 2273, 2281, 2287, 2293, 2297, 2309, 2311, \n+    2333, 2339, 2341, 2347, 2351, 2357, 2371, 2377, \n+    2381, 2383, 2389, 2393, 2399, 2411, 2417, 2423, \n+    2437, 2441, 2447, 2459, 2467, 2473, 2477, 2503, \n+    2521, 2531, 2539, 2543, 2549, 2551, 2557, 2579, \n+    2591, 2593, 2609, 2617, 2621, 2633, 2647, 2657, \n+    2659, 2663, 2671, 2677, 2683, 2687, 2689, 2693, \n+    2699, 2707, 2711, 2713, 2719, 2729, 2731, 2741, \n+    2749, 2753, 2767, 2777, 2789, 2791, 2797, 2801, \n+    2803, 2819, 2833, 2837, 2843, 2851, 2857, 2861, \n+    2879, 2887, 2897, 2903, 2909, 2917, 2927, 2939, \n+    2953, 2957, 2963, 2969, 2971, 2999, 3001, 3011, \n+    3019, 3023, 3037, 3041, 3049, 3061, 3067, 3079, \n+    3083, 3089, 3109, 3119, 3121, 3137, 3163, 3167, \n+    3169, 3181, 3187, 3191, 3203, 3209, 3217, 3221, \n+    3229, 3251, 3253, 3257, 3259, 3271, 3299, 3301, \n+    3307, 3313, 3319, 3323, 3329, 3331, 3343, 3347, \n+    3359, 3361, 3371, 3373, 3389, 3391, 3407, 3413, \n+    3433, 3449, 3457, 3461, 3463, 3467, 3469, 3491, \n+    3499, 3511, 3517, 3527, 3529, 3533, 3539, 3541, \n+    3547, 3557, 3559, 3571, 3581, 3583, 3593, 3607, \n+    3613, 3617, 3623, 3631, 3637, 3643, 3659, 3671, \n+    3673, 3677, 3691, 3697, 3701, 3709, 3719, 3727, \n+    3733, 3739, 3761, 3767, 3769, 3779, 3793, 3797, \n+    3803, 3821, 3823, 3833, 3847, 3851, 3853, 3863, \n+    3877, 3881, 3889, 3907, 3911, 3917, 3919, 3923, \n+    3929, 3931, 3943, 3947, 3967, 3989, 4001, 4003, \n+    4007, 4013, 4019, 4021, 4027, 4049, 4051, 4057, \n+    4073, 4079, 4091, 4093, 4099, 4111, 4127, 4129, \n+    4133, 4139, 4153, 4157, 4159, 4177, 4201, 4211, \n+    4217, 4219, 4229, 4231, 4241, 4243, 4253, 4259, \n+    4261, 4271, 4273, 4283, 4289, 4297, 4327, 4337, \n+    4339, 4349, 4357, 4363, 4373, 4391, 4397, 4409, \n+    4421, 4423, 4441, 4447, 4451, 4457, 4463, 4481, \n+    4483, 4493, 4507, 4513, 4517, 4519, 4523, 4547, \n+    4549, 4561, 4567, 4583, 4591, 4597, 4603, 4621, \n+    4637, 4639, 4643, 4649, 4651, 4657, 4663, 4673, \n+    4679, 4691, 4703, 4721, 4723, 4729, 4733, 4751, \n+    4759, 4783, 4787, 4789, 4793, 4799, 4801, 4813, \n+    4817, 4831, 4861, 4871, 4877, 4889, 4903, 4909, \n+    4919, 4931, 4933, 4937, 4943, 4951, 4957, 4967, \n+    4969, 4973, 4987, 4993, 4999, 5003, 5009, 5011, \n+    5021, 5023, 5039, 5051, 5059, 5077, 5081, 5087, \n+    5099, 5101, 5107, 5113, 5119, 5147, 5153, 5167, \n+    5171, 5179, 5189, 5197, 5209, 5227, 5231, 5233, \n+    5237, 5261, 5273, 5279, 5281, 5297, 5303, 5309, \n+    5323, 5333, 5347, 5351, 5381, 5387, 5393, 5399, \n+    5407, 5413, 5417, 5419, 5431, 5437, 5441, 5443, \n+    5449, 5471, 5477, 5479, 5483, 5501, 5503, 5507, \n+    5519, 5521, 5527, 5531, 5557, 5563, 5569, 5573, \n+    5581, 5591, 5623, 5639, 5641, 5647, 5651, 5653, \n+    5657, 5659, 5669, 5683, 5689, 5693, 5701, 5711, \n+    5717, 5737, 5741, 5743, 5749, 5779, 5783, 5791, \n+    5801, 5807, 5813, 5821, 5827, 5839, 5843, 5849, \n+    5851, 5857, 5861, 5867, 5869, 5879, 5881, 5897, \n+    5903, 5923, 5927, 5939, 5953, 5981, 5987, 6007, \n+    6011, 6029, 6037, 6043, 6047, 6053, 6067, 6073, \n+    6079, 6089, 6091, 6101, 6113, 6121, 6131, 6133, \n+    6143, 6151, 6163, 6173, 6197, 6199, 6203, 6211, \n+    6217, 6221, 6229, 6247, 6257, 6263, 6269, 6271, \n+    6277, 6287, 6299, 6301, 6311, 6317, 6323, 6329, \n+    6337, 6343, 6353, 6359, 6361, 6367, 6373, 6379, \n+    6389, 6397, 6421, 6427, 6449, 6451, 6469, 6473, \n+    6481, 6491, 6521, 6529, 6547, 6551, 6553, 6563, \n+    6569, 6571, 6577, 6581, 6599, 6607, 6619, 6637, \n+    6653, 6659, 6661, 6673, 6679, 6689, 6691, 6701, \n+    6703, 6709, 6719, 6733, 6737, 6761, 6763, 6779, \n+    6781, 6791, 6793, 6803, 6823, 6827, 6829, 6833, \n+    6841, 6857, 6863, 6869, 6871, 6883, 6899, 6907, \n+    6911, 6917, 6947, 6949, 6959, 6961, 6967, 6971, \n+    6977, 6983, 6991, 6997, 7001, 7013, 7019, 7027, \n+    7039, 7043, 7057, 7069, 7079, 7103, 7109, 7121, \n+    7127, 7129, 7151, 7159, 7177, 7187, 7193, 7207, \n+    7211, 7213, 7219, 7229, 7237, 7243, 7247, 7253, \n+    7283, 7297, 7307, 7309, 7321, 7331, 7333, 7349, \n+    7351, 7369, 7393, 7411, 7417, 7433, 7451, 7457, \n+    7459, 7477, 7481, 7487, 7489, 7499, 7507, 7517, \n+    7523, 7529, 7537, 7541, 7547, 7549, 7559, 7561, \n+    7573, 7577, 7583, 7589, 7591, 7603, 7607, 7621, \n+    7639, 7643, 7649, 7669, 7673, 7681, 7687, 7691, \n+    7699, 7703, 7717, 7723, 7727, 7741, 7753, 7757, \n+    7759, 7789, 7793, 7817, 7823, 7829, 7841, 7853, \n+    7867, 7873, 7877, 7879, 7883, 7901, 7907, 7919, \n+    7927, 7933, 7937, 7949, 7951, 7963, 7993, 8009, \n+    8011, 8017, 8039, 8053, 8059, 8069, 8081, 8087, \n+    8089, 8093, 8101, 8111, 8117, 8123, 8147, 8161, \n+    8167, 8171, 8179, 8191, 8209, 8219, 8221, 8231, \n+    8233, 8237, 8243, 8263, 8269, 8273, 8287, 8291, \n+    8293, 8297, 8311, 8317, 8329, 8353, 8363, 8369, \n+    8377, 8387, 8389, 8419, 8423, 8429, 8431, 8443, \n+    8447, 8461, 8467, 8501, 8513, 8521, 8527, 8537, \n+    8539, 8543, 8563, 8573, 8581, 8597, 8599, 8609, \n+    8623, 8627, 8629, 8641, 8647, 8663, 8669, 8677, \n+    8681, 8689, 8693, 8699, 8707, 8713, 8719, 8731, \n+    8737, 8741, 8747, 8753, 8761, 8779, 8783, 8803, \n+    8807, 8819, 8821, 8831, 8837, 8839, 8849, 8861, \n+    8863, 8867, 8887, 8893, 8923, 8929, 8933, 8941, \n+    8951, 8963, 8969, 8971, 8999, 9001, 9007, 9011, \n+    9013, 9029, 9041, 9043, 9049, 9059, 9067, 9091, \n+    9103, 9109, 9127, 9133, 9137, 9151, 9157, 9161, \n+    9173, 9181, 9187, 9199, 9203, 9209, 9221, 9227, \n+    9239, 9241, 9257, 9277, 9281, 9283, 9293, 9311, \n+    9319, 9323, 9337, 9341, 9343, 9349, 9371, 9377, \n+    9391, 9397, 9403, 9413, 9419, 9421, 9431, 9433, \n+    9437, 9439, 9461, 9463, 9467, 9473, 9479, 9491, \n+    9497, 9511, 9521, 9533, 9539, 9547, 9551, 9587, \n+    9601, 9613, 9619, 9623, 9629, 9631, 9643, 9649, \n+    9661, 9677, 9679, 9689, 9697, 9719, 9721, 9733, \n+    9739, 9743, 9749, 9767, 9769, 9781, 9787, 9791, \n+    9803, 9811, 9817, 9829, 9833, 9839, 9851, 9857, \n+    9859, 9871, 9883, 9887, 9901, 9907, 9923, 9929, \n+    9931, 9941, 9949, 9967, 9973, 10007, 10009, 10037, \n+    10039, 10061, 10067, 10069, 10079, 10091, 10093, 10099, \n+    10103, 10111, 10133, 10139, 10141, 10151, 10159, 10163, \n+    10169, 10177, 10181, 10193, 10211, 10223, 10243, 10247, \n+    10253, 10259, 10267, 10271, 10273, 10289, 10301, 10303, \n+    10313, 10321, 10331, 10333, 10337, 10343, 10357, 10369, \n+    10391, 10399, 10427, 10429, 10433, 10453, 10457, 10459, \n+    10463, 10477, 10487, 10499, 10501, 10513, 10529, 10531, \n+    10559, 10567, 10589, 10597, 10601, 10607, 10613, 10627, \n+    10631, 10639, 10651, 10657, 10663, 10667, 10687, 10691, \n+    10709, 10711, 10723, 10729, 10733, 10739, 10753, 10771, \n+    10781, 10789, 10799, 10831, 10837, 10847, 10853, 10859, \n+    10861, 10867, 10883, 10889, 10891, 10903, 10909, 10937, \n+    10939, 10949, 10957, 10973, 10979, 10987, 10993, 11003, \n+    11027, 11047, 11057, 11059, 11069, 11071, 11083, 11087, \n+    11093, 11113, 11117, 11119, 11131, 11149, 11159, 11161, \n+    11171, 11173, 11177, 11197, 11213, 11239, 11243, 11251, \n+    11257, 11261, 11273, 11279, 11287, 11299, 11311, 11317, \n+    11321, 11329, 11351, 11353, 11369, 11383, 11393, 11399, \n+    11411, 11423, 11437, 11443, 11447, 11467, 11471, 11483, \n+    11489, 11491, 11497, 11503, 11519, 11527, 11549, 11551, \n+    11579, 11587, 11593, 11597, 11617, 11621, 11633, 11657, \n+    11677, 11681, 11689, 11699, 11701, 11717, 11719, 11731, \n+    11743, 11777, 11779, 11783, 11789, 11801, 11807, 11813, \n+    11821, 11827, 11831, 11833, 11839, 11863, 11867, 11887, \n+    11897, 11903, 11909, 11923, 11927, 11933, 11939, 11941, \n+    11953, 11959, 11969, 11971, 11981, 11987, 12007, 12011, \n+    12037, 12041, 12043, 12049, 12071, 12073, 12097, 12101, \n+    12107, 12109, 12113, 12119, 12143, 12149, 12157, 12161, \n+    12163, 12197, 12203, 12211, 12227, 12239, 12241, 12251, \n+    12253, 12263, 12269, 12277, 12281, 12289, 12301, 12323, \n+    12329, 12343, 12347, 12373, 12377, 12379, 12391, 12401, \n+    12409, 12413, 12421, 12433, 12437, 12451, 12457, 12473, \n+    12479, 12487, 12491, 12497, 12503, 12511, 12517, 12527, \n+    12539, 12541, 12547, 12553, 12569, 12577, 12583, 12589, \n+    12601, 12611, 12613, 12619, 12637, 12641, 12647, 12653, \n+    12659, 12671, 12689, 12697, 12703, 12713, 12721, 12739, \n+    12743, 12757, 12763, 12781, 12791, 12799, 12809, 12821, \n+    12823, 12829, 12841, 12853, 12889, 12893, 12899, 12907, \n+    12911, 12917, 12919, 12923, 12941, 12953, 12959, 12967, \n+    12973, 12979, 12983, 13001, 13003, 13007, 13009, 13033, \n+    13037, 13043, 13049, 13063, 13093, 13099, 13103, 13109, \n+    13121, 13127, 13147, 13151, 13159, 13163, 13171, 13177, \n+    13183, 13187, 13217, 13219, 13229, 13241, 13249, 13259, \n+    13267, 13291, 13297, 13309, 13313, 13327, 13331, 13337, \n+    13339, 13367, 13381, 13397, 13399, 13411, 13417, 13421, \n+    13441, 13451, 13457, 13463, 13469, 13477, 13487, 13499, \n+    13513, 13523, 13537, 13553, 13567, 13577, 13591, 13597, \n+    13613, 13619, 13627, 13633, 13649, 13669, 13679, 13681, \n+    13687, 13691, 13693, 13697, 13709, 13711, 13721, 13723, \n+    13729, 13751, 13757, 13759, 13763, 13781, 13789, 13799, \n+    13807, 13829, 13831, 13841, 13859, 13873, 13877, 13879, \n+    13883, 13901, 13903, 13907, 13913, 13921, 13931, 13933, \n+    13963, 13967, 13997, 13999, 14009, 14011, 14029, 14033, \n+    14051, 14057, 14071, 14081, 14083, 14087, 14107, 14143, \n+    14149, 14153, 14159, 14173, 14177, 14197, 14207, 14221, \n+    14243, 14249, 14251, 14281, 14293, 14303, 14321, 14323, \n+    14327, 14341, 14347, 14369, 14387, 14389, 14401, 14407, \n+    14411, 14419, 14423, 14431, 14437, 14447, 14449, 14461, \n+    14479, 14489, 14503, 14519, 14533, 14537, 14543, 14549, \n+    14551, 14557, 14561, 14563, 14591, 14593, 14621, 14627, \n+    14629, 14633, 14639, 14653, 14657, 14669, 14683, 14699, \n+    14713, 14717, 14723, 14731, 14737, 14741, 14747, 14753, \n+    14759, 14767, 14771, 14779, 14783, 14797, 14813, 14821, \n+    14827, 14831, 14843, 14851, 14867, 14869, 14879, 14887, \n+    14891, 14897, 14923, 14929, 14939, 14947, 14951, 14957, \n+    14969, 14983, 15013, 15017, 15031, 15053, 15061, 15073, \n+    15077, 15083, 15091, 15101, 15107, 15121, 15131, 15137, \n+    15139, 15149, 15161, 15173, 15187, 15193, 15199, 15217, \n+    15227, 15233, 15241, 15259, 15263, 15269, 15271, 15277, \n+    15287, 15289, 15299, 15307, 15313, 15319, 15329, 15331, \n+    15349, 15359, 15361, 15373, 15377, 15383, 15391, 15401, \n+    15413, 15427, 15439, 15443, 15451, 15461, 15467, 15473, \n+    15493, 15497, 15511, 15527, 15541, 15551, 15559, 15569, \n+    15581, 15583, 15601, 15607, 15619, 15629, 15641, 15643, \n+    15647, 15649, 15661, 15667, 15671, 15679, 15683, 15727, \n+    15731, 15733, 15737, 15739, 15749, 15761, 15767, 15773, \n+    15787, 15791, 15797, 15803, 15809, 15817, 15823, 15859, \n+    15877, 15881, 15887, 15889, 15901, 15907, 15913, 15919, \n+    15923, 15937, 15959, 15971, 15973, 15991, 16001, 16007, \n+    16033, 16057, 16061, 16063, 16067, 16069, 16073, 16087, \n+    16091, 16097, 16103, 16111, 16127, 16139, 16141, 16183, \n+    16187, 16189, 16193, 16217, 16223, 16229, 16231, 16249, \n+    16253, 16267, 16273, 16301, 16319, 16333, 16339, 16349, \n+    16361, 16363, 16369, 16381, 16411, 16417, 16421, 16427, \n+    16433, 16447, 16451, 16453, 16477, 16481, 16487, 16493, \n+    16519, 16529, 16547, 16553, 16561, 16567, 16573, 16603, \n+    16607, 16619, 16631, 16633, 16649, 16651, 16657, 16661, \n+    16673, 16691, 16693, 16699, 16703, 16729, 16741, 16747, \n+    16759, 16763, 16787, 16811, 16823, 16829, 16831, 16843, \n+    16871, 16879, 16883, 16889, 16901, 16903, 16921, 16927, \n+    16931, 16937, 16943, 16963, 16979, 16981, 16987, 16993, \n+    17011, 17021, 17027, 17029, 17033, 17041, 17047, 17053, \n+    17077, 17093, 17099, 17107, 17117, 17123, 17137, 17159, \n+    17167, 17183, 17189, 17191, 17203, 17207, 17209, 17231, \n+    17239, 17257, 17291, 17293, 17299, 17317, 17321, 17327, \n+    17333, 17341, 17351, 17359, 17377, 17383, 17387, 17389, \n+    17393, 17401, 17417, 17419, 17431, 17443, 17449, 17467, \n+    17471, 17477, 17483, 17489, 17491, 17497, 17509, 17519, \n+    17539, 17551, 17569, 17573, 17579, 17581, 17597, 17599, \n+    17609, 17623, 17627, 17657, 17659, 17669, 17681, 17683, \n+    17707, 17713, 17729, 17737, 17747, 17749, 17761, 17783, \n+    17789, 17791, 17807, 17827, 17837, 17839, 17851, 17863, \n };"
        },
        {
            "sha": "1f12a14e44230efaafe2f6eb2dbc7d17a7d20d8d",
            "filename": "deps/openssl/openssl/crypto/bn/bn_sqr.c",
            "status": "modified",
            "additions": 3,
            "deletions": 9,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_sqr.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_sqr.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbn%2Fbn_sqr.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -82,14 +82,8 @@ int BN_sqr(BIGNUM *r, const BIGNUM *a, BN_CTX *ctx)\n     }\n \n     rr->neg = 0;\n-    /*\n-     * If the most-significant half of the top word of 'a' is zero, then the\n-     * square of 'a' will max-1 words.\n-     */\n-    if (a->d[al - 1] == (a->d[al - 1] & BN_MASK2l))\n-        rr->top = max - 1;\n-    else\n-        rr->top = max;\n+    rr->top = max;\n+    bn_correct_top(rr);\n     if (r != rr && BN_copy(r, rr) == NULL)\n         goto err;\n "
        },
        {
            "sha": "e693ebadcd32293e54ff33fb08d0071dcdf8c242",
            "filename": "deps/openssl/openssl/crypto/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,4 +1,3 @@\n-{- use File::Spec::Functions qw/catdir catfile/; -}\n LIBS=../libcrypto\n SOURCE[../libcrypto]=\\\n         cryptlib.c mem.c mem_dbg.c cversion.c ex_data.c cpt_err.c \\"
        },
        {
            "sha": "6beb9c5f255071d4b0a70c7f8eabe1ca71c74991",
            "filename": "deps/openssl/openssl/crypto/cast/asm/cast-586.pl",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcast%2Fasm%2Fcast-586.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcast%2Fasm%2Fcast-586.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcast%2Fasm%2Fcast-586.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -7,7 +7,7 @@\n # https://www.openssl.org/source/license.html\n \n \n-# This flag makes the inner loop one cycle longer, but generates\n+# This flag makes the inner loop one cycle longer, but generates \n # code that runs %30 faster on the pentium pro/II, 44% faster\n # of PIII, while only %7 slower on the pentium.\n # By default, this flag is on."
        },
        {
            "sha": "b5e21e4938e06f4f691e11c1c538e0318de271e3",
            "filename": "deps/openssl/openssl/crypto/chacha/asm/chacha-armv4.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -15,7 +15,7 @@\n # ====================================================================\n #\n # December 2014\n-#\n+# \n # ChaCha20 for ARMv4.\n #\n # Performance in cycles per byte out of large buffer.\n@@ -720,7 +720,7 @@ sub NEONROUND {\n \tvadd.i32\t$d2,$d1,$t0\t\t@ counter+2\n \tstr\t\t@t[3], [sp,#4*(16+15)]\n \tmov\t\t@t[3],#10\n-\tadd\t\t@x[12],@x[12],#3\t@ counter+3\n+\tadd\t\t@x[12],@x[12],#3\t@ counter+3 \n \tb\t\t.Loop_neon\n \n .align\t4"
        },
        {
            "sha": "f7e10747145026f336a7d847e51234a2147d7e26",
            "filename": "deps/openssl/openssl/crypto/chacha/asm/chacha-armv8.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv8.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv8.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-armv8.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -15,7 +15,7 @@\n # ====================================================================\n #\n # June 2015\n-#\n+# \n # ChaCha20 for ARMv8.\n #\n # Performance in cycles per byte out of large buffer.\n@@ -201,7 +201,7 @@ sub ROUND {\n \tmov\t$ctr,#10\n \tsubs\t$len,$len,#64\n .Loop:\n-\tsub\t$ctr,$ctr,#1\n+\tsub\t$ctr,$ctr,#1\t\n ___\n \tforeach (&ROUND(0, 4, 8,12)) { eval; }\n \tforeach (&ROUND(0, 5,10,15)) { eval; }"
        },
        {
            "sha": "181decdad9d280447d72a3b6f6917a11a8e070a8",
            "filename": "deps/openssl/openssl/crypto/chacha/asm/chacha-ppc.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-ppc.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-ppc.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-ppc.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -15,7 +15,7 @@\n # ====================================================================\n #\n # October 2015\n-#\n+# \n # ChaCha20 for PowerPC/AltiVec.\n #\n # Performance in cycles per byte out of large buffer.\n@@ -525,7 +525,7 @@ sub VMXROUND {\n \tlwz\t@d[3],12($ctr)\n \tvadduwm\t@K[5],@K[4],@K[5]\n \n-\tvspltisw $twenty,-12\t\t\t# synthesize constants\n+\tvspltisw $twenty,-12\t\t\t# synthesize constants \n \tvspltisw $twelve,12\n \tvspltisw $twenty5,-7\n \t#vspltisw $seven,7\t\t\t# synthesized in the loop"
        },
        {
            "sha": "932dec67e43cdf15d677f7fd28d0c6d2850d478a",
            "filename": "deps/openssl/openssl/crypto/chacha/asm/chacha-x86.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-x86.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-x86.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fasm%2Fchacha-x86.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -61,7 +61,7 @@\n \t\t$1>=10);\t# first version supporting AVX\n \n $ymm=1 if ($xmm && !$ymm &&\n-\t\t`$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9]\\.[0-9]+)/ &&\n+\t\t`$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9]\\.[0-9]+)/ &&\n \t\t$2>=3.0);\t# first version supporting AVX\n \n $a=\"eax\";"
        },
        {
            "sha": "f99114c135b3d8d5120c90bc399ba44509769d77",
            "filename": "deps/openssl/openssl/crypto/chacha/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fchacha%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -8,8 +8,6 @@ GENERATE[chacha-armv4.S]=asm/chacha-armv4.pl $(PERLASM_SCHEME)\n INCLUDE[chacha-armv4.o]=..\n GENERATE[chacha-armv8.S]=asm/chacha-armv8.pl $(PERLASM_SCHEME)\n INCLUDE[chacha-armv8.o]=..\n-GENERATE[chacha-s390x.S]=asm/chacha-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[chacha-s390x.o]=..\n \n BEGINRAW[Makefile(unix)]\n ##### CHACHA assembler implementations"
        },
        {
            "sha": "fe5076ec02dd7c4cf9deadc36dbbcaa0345afa18",
            "filename": "deps/openssl/openssl/crypto/cms/cms_env.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_env.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_env.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_env.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -282,6 +282,7 @@ int CMS_RecipientInfo_set0_pkey(CMS_RecipientInfo *ri, EVP_PKEY *pkey)\n         CMSerr(CMS_F_CMS_RECIPIENTINFO_SET0_PKEY, CMS_R_NOT_KEY_TRANSPORT);\n         return 0;\n     }\n+    EVP_PKEY_free(ri->d.ktri->pkey);\n     ri->d.ktri->pkey = pkey;\n     return 1;\n }"
        },
        {
            "sha": "5dcf803f4bd3c9bdfe1a04d6a7c2fc34f5a0a23d",
            "filename": "deps/openssl/openssl/crypto/cms/cms_smime.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_smime.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_smime.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcms%2Fcms_smime.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -631,6 +631,7 @@ int CMS_decrypt_set1_pkey(CMS_ContentInfo *cms, EVP_PKEY *pk, X509 *cert)\n          * all.\n          */\n         else if (!cert || !CMS_RecipientInfo_ktri_cert_cmp(ri, cert)) {\n+            EVP_PKEY_up_ref(pk);\n             CMS_RecipientInfo_set0_pkey(ri, pk);\n             r = CMS_RecipientInfo_decrypt(cms, ri);\n             CMS_RecipientInfo_set0_pkey(ri, NULL);"
        },
        {
            "sha": "ff367994ea091498b557105539b95f56cb4ad42b",
            "filename": "deps/openssl/openssl/crypto/conf/build.info",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,4 +1,4 @@\n LIBS=../../libcrypto\n SOURCE[../../libcrypto]= \\\n         conf_err.c conf_lib.c conf_api.c conf_def.c conf_mod.c \\\n-        conf_mall.c conf_sap.c\n+        conf_mall.c conf_sap.c conf_ssl.c"
        },
        {
            "sha": "79e682a84748cfb42a5f31dd7ae16cb77d79ff05",
            "filename": "deps/openssl/openssl/crypto/conf/conf_api.c",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_api.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_api.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_api.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -205,10 +205,14 @@ CONF_VALUE *_CONF_new_section(CONF *conf, const char *section)\n \n     vv = lh_CONF_VALUE_insert(conf->data, v);\n     OPENSSL_assert(vv == NULL);\n+    if (lh_CONF_VALUE_error(conf->data) > 0)\n+        goto err;\n     return v;\n \n  err:\n     sk_CONF_VALUE_free(sk);\n+    if (v != NULL)\n+        OPENSSL_free(v->section);\n     OPENSSL_free(v);\n     return NULL;\n }"
        },
        {
            "sha": "19f480d5b32b855a113083b39357bb8f802ace9d",
            "filename": "deps/openssl/openssl/crypto/conf/conf_err.c",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_err.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_err.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_err.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,6 +1,6 @@\n /*\n  * Generated by util/mkerr.pl DO NOT EDIT\n- * Copyright 1995-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -37,6 +37,7 @@ static ERR_STRING_DATA CONF_str_functs[] = {\n     {ERR_FUNC(CONF_F_NCONF_LOAD_BIO), \"NCONF_load_bio\"},\n     {ERR_FUNC(CONF_F_NCONF_LOAD_FP), \"NCONF_load_fp\"},\n     {ERR_FUNC(CONF_F_NCONF_NEW), \"NCONF_new\"},\n+    {ERR_FUNC(CONF_F_SSL_MODULE_INIT), \"ssl_module_init\"},\n     {ERR_FUNC(CONF_F_STR_COPY), \"str_copy\"},\n     {0, NULL}\n };\n@@ -57,6 +58,12 @@ static ERR_STRING_DATA CONF_str_reasons[] = {\n     {ERR_REASON(CONF_R_NO_SECTION), \"no section\"},\n     {ERR_REASON(CONF_R_NO_SUCH_FILE), \"no such file\"},\n     {ERR_REASON(CONF_R_NO_VALUE), \"no value\"},\n+    {ERR_REASON(CONF_R_SSL_COMMAND_SECTION_EMPTY),\n+     \"ssl command section empty\"},\n+    {ERR_REASON(CONF_R_SSL_COMMAND_SECTION_NOT_FOUND),\n+     \"ssl command section not found\"},\n+    {ERR_REASON(CONF_R_SSL_SECTION_EMPTY), \"ssl section empty\"},\n+    {ERR_REASON(CONF_R_SSL_SECTION_NOT_FOUND), \"ssl section not found\"},\n     {ERR_REASON(CONF_R_UNABLE_TO_CREATE_NEW_SECTION),\n      \"unable to create new section\"},\n     {ERR_REASON(CONF_R_UNKNOWN_MODULE_NAME), \"unknown module name\"},"
        },
        {
            "sha": "6e1f7fe00d70ada61bc213f86649ffcaad953960",
            "filename": "deps/openssl/openssl/crypto/conf/conf_lcl.h",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,11 @@\n+/*\n+ * Copyright 2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+void conf_add_ssl_module(void);\n+"
        },
        {
            "sha": "7e86948e89e9e7c39ef1f3f1399be53295ae9277",
            "filename": "deps/openssl/openssl/crypto/conf/conf_mall.c",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_mall.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_mall.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_mall.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -14,6 +14,7 @@\n #include <openssl/x509.h>\n #include <openssl/asn1.h>\n #include <openssl/engine.h>\n+#include \"conf_lcl.h\"\n \n /* Load all OpenSSL builtin modules */\n \n@@ -26,4 +27,5 @@ void OPENSSL_load_builtin_modules(void)\n     ENGINE_add_conf_module();\n #endif\n     EVP_add_alg_module();\n+    conf_add_ssl_module();\n }"
        },
        {
            "sha": "015c46c6da52e5b427b14dd94738698ecb7f65c1",
            "filename": "deps/openssl/openssl/crypto/conf/conf_ssl.c",
            "status": "added",
            "additions": 178,
            "deletions": 0,
            "changes": 178,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_ssl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_ssl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fconf%2Fconf_ssl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,178 @@\n+/*\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+#include <stdio.h>\n+#include <string.h>\n+#include <openssl/conf.h>\n+#include <openssl/err.h>\n+#include \"internal/sslconf.h\"\n+#include \"conf_lcl.h\"\n+\n+/*\n+ * SSL library configuration module placeholder. We load it here but defer\n+ * all decisions about its contents to libssl.\n+ */\n+\n+struct ssl_conf_name_st {\n+    /* Name of this set of commands */\n+    char *name;\n+    /* List of commands */\n+    SSL_CONF_CMD *cmds;\n+    /* Number of commands */\n+    size_t cmd_count;\n+};\n+\n+struct ssl_conf_cmd_st {\n+    /* Command */\n+    char *cmd;\n+    /* Argument */\n+    char *arg;\n+};\n+\n+static struct ssl_conf_name_st *ssl_names;\n+static size_t ssl_names_count;\n+\n+static void ssl_module_free(CONF_IMODULE *md)\n+{\n+    size_t i, j;\n+    if (ssl_names == NULL)\n+        return;\n+    for (i = 0; i < ssl_names_count; i++) {\n+        struct ssl_conf_name_st *tname = ssl_names + i;\n+\n+        OPENSSL_free(tname->name);\n+        for (j = 0; j < tname->cmd_count; j++) {\n+            OPENSSL_free(tname->cmds[j].cmd);\n+            OPENSSL_free(tname->cmds[j].arg);\n+        }\n+        OPENSSL_free(tname->cmds);\n+    }\n+    OPENSSL_free(ssl_names);\n+    ssl_names = NULL;\n+    ssl_names_count = 0;\n+}\n+\n+static int ssl_module_init(CONF_IMODULE *md, const CONF *cnf)\n+{\n+    size_t i, j, cnt;\n+    int rv = 0;\n+    const char *ssl_conf_section;\n+    STACK_OF(CONF_VALUE) *cmd_lists;\n+\n+    ssl_conf_section = CONF_imodule_get_value(md);\n+    cmd_lists = NCONF_get_section(cnf, ssl_conf_section);\n+    if (sk_CONF_VALUE_num(cmd_lists) <= 0) {\n+        if (cmd_lists == NULL)\n+            CONFerr(CONF_F_SSL_MODULE_INIT, CONF_R_SSL_SECTION_NOT_FOUND);\n+        else\n+            CONFerr(CONF_F_SSL_MODULE_INIT, CONF_R_SSL_SECTION_EMPTY);\n+        ERR_add_error_data(2, \"section=\", ssl_conf_section);\n+        goto err;\n+    }\n+    cnt = sk_CONF_VALUE_num(cmd_lists);\n+    ssl_names = OPENSSL_zalloc(sizeof(*ssl_names) * cnt);\n+    ssl_names_count = cnt;\n+    for (i = 0; i < ssl_names_count; i++) {\n+        struct ssl_conf_name_st *ssl_name = ssl_names + i;\n+        CONF_VALUE *sect = sk_CONF_VALUE_value(cmd_lists, (int)i);\n+        STACK_OF(CONF_VALUE) *cmds = NCONF_get_section(cnf, sect->value);\n+\n+        if (sk_CONF_VALUE_num(cmds) <= 0) {\n+            if (cmds == NULL)\n+                CONFerr(CONF_F_SSL_MODULE_INIT,\n+                        CONF_R_SSL_COMMAND_SECTION_NOT_FOUND);\n+            else\n+                CONFerr(CONF_F_SSL_MODULE_INIT,\n+                        CONF_R_SSL_COMMAND_SECTION_EMPTY);\n+            ERR_add_error_data(4, \"name=\", sect->name, \", value=\", sect->value);\n+            goto err;\n+        }\n+        ssl_name->name = OPENSSL_strdup(sect->name);\n+        if (ssl_name->name == NULL)\n+            goto err;\n+        cnt = sk_CONF_VALUE_num(cmds);\n+        ssl_name->cmds = OPENSSL_zalloc(cnt * sizeof(struct ssl_conf_cmd_st));\n+        if (ssl_name->cmds == NULL)\n+            goto err;\n+        ssl_name->cmd_count = cnt;\n+        for (j = 0; j < cnt; j++) {\n+            const char *name;\n+            CONF_VALUE *cmd_conf = sk_CONF_VALUE_value(cmds, (int)j);\n+            struct ssl_conf_cmd_st *cmd = ssl_name->cmds + j;\n+\n+            /* Skip any initial dot in name */\n+            name = strchr(cmd_conf->name, '.');\n+            if (name != NULL)\n+                name++;\n+            else\n+                name = cmd_conf->name;\n+            cmd->cmd = OPENSSL_strdup(name);\n+            cmd->arg = OPENSSL_strdup(cmd_conf->value);\n+            if (cmd->cmd == NULL || cmd->arg == NULL)\n+                goto err;\n+        }\n+\n+    }\n+    rv = 1;\n+ err:\n+    if (rv == 0)\n+        ssl_module_free(md);\n+    return rv;\n+}\n+\n+/*\n+ * Returns the set of commands with index |idx| previously searched for via\n+ * conf_ssl_name_find. Also stores the name of the set of commands in |*name|\n+ * and the number of commands in the set in |*cnt|.\n+ */\n+const SSL_CONF_CMD *conf_ssl_get(size_t idx, const char **name, size_t *cnt)\n+{\n+    *name = ssl_names[idx].name;\n+    *cnt = ssl_names[idx].cmd_count;\n+    return ssl_names[idx].cmds;\n+}\n+\n+/*\n+ * Search for the named set of commands given in |name|. On success return the\n+ * index for the command set in |*idx|.\n+ * Returns 1 on success or 0 on failure.\n+ */\n+int conf_ssl_name_find(const char *name, size_t *idx)\n+{\n+    size_t i;\n+    const struct ssl_conf_name_st *nm;\n+\n+    if (name == NULL)\n+        return 0;\n+    for (i = 0, nm = ssl_names; i < ssl_names_count; i++, nm++) {\n+        if (strcmp(nm->name, name) == 0) {\n+            *idx = i;\n+            return 1;\n+        }\n+    }\n+    return 0;\n+}\n+\n+/*\n+ * Given a command set |cmd|, return details on the command at index |idx| which\n+ * must be less than the number of commands in the set (as returned by\n+ * conf_ssl_get). The name of the command will be returned in |*cmdstr| and the\n+ * argument is returned in |*arg|.\n+ */\n+void conf_ssl_get_cmd(const SSL_CONF_CMD *cmd, size_t idx, char **cmdstr,\n+                      char **arg)\n+{\n+    *cmdstr = cmd[idx].cmd;\n+    *arg = cmd[idx].arg;\n+}\n+\n+void conf_add_ssl_module(void)\n+{\n+    CONF_module_add(\"ssl_conf\", ssl_module_init, ssl_module_free);\n+}"
        },
        {
            "sha": "3b878cd0c20e1c56ffe9ff2dcc5cdeb2e07e8c45",
            "filename": "deps/openssl/openssl/crypto/cryptlib.c",
            "status": "modified",
            "additions": 93,
            "deletions": 19,
            "changes": 112,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcryptlib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcryptlib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fcryptlib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -23,29 +23,97 @@\n extern unsigned int OPENSSL_ia32cap_P[4];\n \n # if defined(OPENSSL_CPUID_OBJ) && !defined(OPENSSL_NO_ASM) && !defined(I386_ONLY)\n-#include <stdio.h>\n+\n+/*\n+ * Purpose of these minimalistic and character-type-agnostic subroutines\n+ * is to break dependency on MSVCRT (on Windows) and locale. This makes\n+ * OPENSSL_cpuid_setup safe to use as \"constructor\". \"Character-type-\n+ * agnostic\" means that they work with either wide or 8-bit characters,\n+ * exploiting the fact that first 127 characters can be simply casted\n+ * between the sets, while the rest would be simply rejected by ossl_is*\n+ * subroutines.\n+ */\n+#  ifdef _WIN32\n+typedef WCHAR variant_char;\n+\n+static variant_char *ossl_getenv(const char *name)\n+{\n+    /*\n+     * Since we pull only one environment variable, it's simpler to\n+     * to just ignore |name| and use equivalent wide-char L-literal.\n+     * As well as to ignore excessively long values...\n+     */\n+    static WCHAR value[48];\n+    DWORD len = GetEnvironmentVariableW(L\"OPENSSL_ia32cap\", value, 48);\n+\n+    return (len > 0 && len < 48) ? value : NULL;\n+}\n+#  else\n+typedef char variant_char;\n+#   define ossl_getenv getenv\n+#  endif\n+\n+static int todigit(variant_char c)\n+{\n+    if (c >= '0' && c <= '9')\n+        return c - '0';\n+    else if (c >= 'A' && c <= 'F')\n+        return c - 'A' + 10;\n+    else if (c >= 'a' && c <= 'f')\n+        return c - 'a' + 10;\n+\n+    /* return largest base value to make caller terminate the loop */\n+    return 16;\n+}\n+\n+static uint64_t ossl_strtouint64(const variant_char *str)\n+{\n+    uint64_t ret = 0;\n+    unsigned int digit, base = 10;\n+\n+    if (*str == '0') {\n+        base = 8, str++;\n+        if (*str == 'x' || *str == 'X')\n+            base = 16, str++;\n+    }\n+\n+    while((digit = todigit(*str++)) < base)\n+        ret = ret * base + digit;\n+\n+    return ret;\n+}\n+\n+static variant_char *ossl_strchr(const variant_char *str, char srch)\n+{   variant_char c;\n+\n+    while((c = *str)) {\n+        if (c == srch)\n+\t    return (variant_char *)str;\n+        str++;\n+    }\n+\n+    return NULL;\n+}\n+\n #  define OPENSSL_CPUID_SETUP\n typedef uint64_t IA32CAP;\n+\n void OPENSSL_cpuid_setup(void)\n {\n     static int trigger = 0;\n     IA32CAP OPENSSL_ia32_cpuid(unsigned int *);\n     IA32CAP vec;\n-    char *env;\n+    const variant_char *env;\n \n     if (trigger)\n         return;\n \n     trigger = 1;\n-    if ((env = getenv(\"OPENSSL_ia32cap\"))) {\n+    if ((env = ossl_getenv(\"OPENSSL_ia32cap\")) != NULL) {\n         int off = (env[0] == '~') ? 1 : 0;\n-#  if defined(_WIN32)\n-        if (!sscanf(env + off, \"%I64i\", &vec))\n-            vec = strtoul(env + off, NULL, 0);\n-#  else\n-        if (!sscanf(env + off, \"%lli\", (long long *)&vec))\n-            vec = strtoul(env + off, NULL, 0);\n-#  endif\n+\n+        vec = ossl_strtouint64(env + off);\n+\n         if (off) {\n             IA32CAP mask = vec;\n             vec = OPENSSL_ia32_cpuid(OPENSSL_ia32cap_P) & ~mask;\n@@ -64,15 +132,17 @@ void OPENSSL_cpuid_setup(void)\n             vec = OPENSSL_ia32_cpuid(OPENSSL_ia32cap_P);\n         }\n \n-        if ((env = strchr(env, ':'))) {\n-            unsigned int vecx;\n+        if ((env = ossl_strchr(env, ':')) != NULL) {\n+            IA32CAP vecx;\n+\n             env++;\n             off = (env[0] == '~') ? 1 : 0;\n-            vecx = strtoul(env + off, NULL, 0);\n-            if (off)\n-                OPENSSL_ia32cap_P[2] &= ~vecx;\n-            else\n-                OPENSSL_ia32cap_P[2] = vecx;\n+            vecx = ossl_strtouint64(env + off);\n+            if (off) {\n+                OPENSSL_ia32cap_P[2] &= ~(unsigned int)vecx;\n+            } else {\n+                OPENSSL_ia32cap_P[2] = (unsigned int)vecx;\n+            }\n         } else {\n             OPENSSL_ia32cap_P[2] = 0;\n         }\n@@ -128,10 +198,14 @@ int OPENSSL_isservice(void)\n \n     if (_OPENSSL_isservice.p == NULL) {\n         HANDLE mod = GetModuleHandle(NULL);\n+        FARPROC f;\n+\n         if (mod != NULL)\n-            _OPENSSL_isservice.f = GetProcAddress(mod, \"_OPENSSL_isservice\");\n-        if (_OPENSSL_isservice.p == NULL)\n+            f = GetProcAddress(mod, \"_OPENSSL_isservice\");\n+        if (f == NULL)\n             _OPENSSL_isservice.p = (void *)-1;\n+        else\n+            _OPENSSL_isservice.f = f;\n     }\n \n     if (_OPENSSL_isservice.p != (void *)-1)"
        },
        {
            "sha": "b53a0632445bf0f33d24902e4f132ca64e73b9f2",
            "filename": "deps/openssl/openssl/crypto/dh/dh_key.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_key.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_key.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_key.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "59c4d7e967823303a4568125f142a6abcb68deb1",
            "filename": "deps/openssl/openssl/crypto/dh/dh_meth.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_meth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_meth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdh%2Fdh_meth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -75,7 +75,7 @@ int DH_meth_set1_name(DH_METHOD *dhm, const char *name)\n     return 1;\n }\n \n-int DH_meth_get_flags(DH_METHOD *dhm)\n+int DH_meth_get_flags(const DH_METHOD *dhm)\n {\n     return dhm->flags;\n }"
        },
        {
            "sha": "91904aad983b5aabdad876fc07103936ccd3f3f6",
            "filename": "deps/openssl/openssl/crypto/dllmain.c",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdllmain.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdllmain.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdllmain.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -57,3 +57,4 @@ BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)\n     return (TRUE);\n }\n #endif\n+"
        },
        {
            "sha": "132008803e5e215c9df20c5e4b65ede186dee249",
            "filename": "deps/openssl/openssl/crypto/dsa/dsa_err.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_err.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_err.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_err.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,6 +1,6 @@\n /*\n  * Generated by util/mkerr.pl DO NOT EDIT\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -40,6 +40,7 @@ static ERR_STRING_DATA DSA_str_functs[] = {\n     {ERR_FUNC(DSA_F_DSA_SIG_NEW), \"DSA_SIG_new\"},\n     {ERR_FUNC(DSA_F_OLD_DSA_PRIV_DECODE), \"old_dsa_priv_decode\"},\n     {ERR_FUNC(DSA_F_PKEY_DSA_CTRL), \"pkey_dsa_ctrl\"},\n+    {ERR_FUNC(DSA_F_PKEY_DSA_CTRL_STR), \"pkey_dsa_ctrl_str\"},\n     {ERR_FUNC(DSA_F_PKEY_DSA_KEYGEN), \"pkey_dsa_keygen\"},\n     {0, NULL}\n };"
        },
        {
            "sha": "46f4f01ee0e49123485cb9000d4ef615fcf4e5f9",
            "filename": "deps/openssl/openssl/crypto/dsa/dsa_gen.c",
            "status": "modified",
            "additions": 11,
            "deletions": 4,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_gen.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_gen.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_gen.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -64,9 +64,16 @@ int dsa_builtin_paramgen(DSA *ret, size_t bits, size_t qbits,\n         /* invalid q size */\n         return 0;\n \n-    if (evpmd == NULL)\n-        /* use SHA1 as default */\n-        evpmd = EVP_sha1();\n+    if (evpmd == NULL) {\n+        if (qsize == SHA_DIGEST_LENGTH)\n+            evpmd = EVP_sha1();\n+        else if (qsize == SHA224_DIGEST_LENGTH)\n+            evpmd = EVP_sha224();\n+        else\n+            evpmd = EVP_sha256();\n+    } else {\n+        qsize = EVP_MD_size(evpmd);\n+    }\n \n     if (bits < 512)\n         bits = 512;"
        },
        {
            "sha": "04203780c42b085d8972063198eecb33aef42d53",
            "filename": "deps/openssl/openssl/crypto/dsa/dsa_meth.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_meth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_meth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_meth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -83,7 +83,7 @@ int DSA_meth_set1_name(DSA_METHOD *dsam, const char *name)\n     return 1;\n }\n \n-int DSA_meth_get_flags(DSA_METHOD *dsam)\n+int DSA_meth_get_flags(const DSA_METHOD *dsam)\n {\n     return dsam->flags;\n }"
        },
        {
            "sha": "4aa49f554af3b8b568f999138494dbead739496c",
            "filename": "deps/openssl/openssl/crypto/dsa/dsa_ossl.c",
            "status": "modified",
            "additions": 50,
            "deletions": 18,
            "changes": 68,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_ossl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_ossl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_ossl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -61,19 +61,13 @@ const DSA_METHOD *DSA_OpenSSL(void)\n static DSA_SIG *dsa_do_sign(const unsigned char *dgst, int dlen, DSA *dsa)\n {\n     BIGNUM *kinv = NULL;\n-    BIGNUM *m;\n-    BIGNUM *xr;\n+    BIGNUM *m, *blind, *blindm, *tmp;\n     BN_CTX *ctx = NULL;\n     int reason = ERR_R_BN_LIB;\n     DSA_SIG *ret = NULL;\n     int rv = 0;\n \n-    m = BN_new();\n-    xr = BN_new();\n-    if (m == NULL || xr == NULL)\n-        goto err;\n-\n-    if (!dsa->p || !dsa->q || !dsa->g) {\n+    if (dsa->p == NULL || dsa->q == NULL || dsa->g == NULL) {\n         reason = DSA_R_MISSING_PARAMETERS;\n         goto err;\n     }\n@@ -89,6 +83,13 @@ static DSA_SIG *dsa_do_sign(const unsigned char *dgst, int dlen, DSA *dsa)\n     ctx = BN_CTX_new();\n     if (ctx == NULL)\n         goto err;\n+    m = BN_CTX_get(ctx);\n+    blind = BN_CTX_get(ctx);\n+    blindm = BN_CTX_get(ctx);\n+    tmp = BN_CTX_get(ctx);\n+    if (tmp == NULL)\n+        goto err;\n+\n  redo:\n     if (!dsa_sign_setup(dsa, ctx, &kinv, &ret->r, dgst, dlen))\n         goto err;\n@@ -103,17 +104,50 @@ static DSA_SIG *dsa_do_sign(const unsigned char *dgst, int dlen, DSA *dsa)\n     if (BN_bin2bn(dgst, dlen, m) == NULL)\n         goto err;\n \n-    /* Compute  s = inv(k) (m + xr) mod q */\n-    if (!BN_mod_mul(xr, dsa->priv_key, ret->r, dsa->q, ctx))\n-        goto err;               /* s = xr */\n-    if (!BN_add(ret->s, xr, m))\n-        goto err;               /* s = m + xr */\n-    if (BN_cmp(ret->s, dsa->q) > 0)\n-        if (!BN_sub(ret->s, ret->s, dsa->q))\n+    /*\n+     * The normal signature calculation is:\n+     *\n+     *   s := k^-1 * (m + r * priv_key) mod q\n+     *\n+     * We will blind this to protect against side channel attacks\n+     *\n+     *   s := blind^-1 * k^-1 * (blind * m + blind * r * priv_key) mod q\n+     */\n+\n+    /* Generate a blinding value */\n+    do {\n+        if (!BN_rand(blind, BN_num_bits(dsa->q) - 1, BN_RAND_TOP_ANY,\n+                     BN_RAND_BOTTOM_ANY))\n             goto err;\n+    } while (BN_is_zero(blind));\n+    BN_set_flags(blind, BN_FLG_CONSTTIME);\n+    BN_set_flags(blindm, BN_FLG_CONSTTIME);\n+    BN_set_flags(tmp, BN_FLG_CONSTTIME);\n+\n+    /* tmp := blind * priv_key * r mod q */\n+    if (!BN_mod_mul(tmp, blind, dsa->priv_key, dsa->q, ctx))\n+        goto err;\n+    if (!BN_mod_mul(tmp, tmp, ret->r, dsa->q, ctx))\n+        goto err;\n+\n+    /* blindm := blind * m mod q */\n+    if (!BN_mod_mul(blindm, blind, m, dsa->q, ctx))\n+        goto err;\n+\n+    /* s : = (blind * priv_key * r) + (blind * m) mod q */\n+    if (!BN_mod_add_quick(ret->s, tmp, blindm, dsa->q))\n+        goto err;\n+\n+    /* s := s * k^-1 mod q */\n     if (!BN_mod_mul(ret->s, ret->s, kinv, dsa->q, ctx))\n         goto err;\n \n+    /* s:= s * blind^-1 mod q */\n+    if (BN_mod_inverse(blind, blind, dsa->q, ctx) == NULL)\n+        goto err;\n+    if (!BN_mod_mul(ret->s, ret->s, blind, dsa->q, ctx))\n+        goto err;\n+\n     /*\n      * Redo if r or s is zero as required by FIPS 186-3: this is very\n      * unlikely.\n@@ -130,8 +164,6 @@ static DSA_SIG *dsa_do_sign(const unsigned char *dgst, int dlen, DSA *dsa)\n         ret = NULL;\n     }\n     BN_CTX_free(ctx);\n-    BN_clear_free(m);\n-    BN_clear_free(xr);\n     BN_clear_free(kinv);\n     return ret;\n }"
        },
        {
            "sha": "d606316954823b6c9b857270b18258b3bdff900c",
            "filename": "deps/openssl/openssl/crypto/dsa/dsa_pmeth.c",
            "status": "modified",
            "additions": 12,
            "deletions": 16,
            "changes": 28,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_pmeth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_pmeth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdsa%2Fdsa_pmeth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -76,13 +76,8 @@ static int pkey_dsa_sign(EVP_PKEY_CTX *ctx, unsigned char *sig,\n     DSA_PKEY_CTX *dctx = ctx->data;\n     DSA *dsa = ctx->pkey->pkey.dsa;\n \n-    if (dctx->md) {\n-        if (tbslen != (size_t)EVP_MD_size(dctx->md))\n-            return 0;\n-    } else {\n-        if (tbslen != SHA_DIGEST_LENGTH)\n-            return 0;\n-    }\n+    if (dctx->md != NULL && tbslen != (size_t)EVP_MD_size(dctx->md))\n+        return 0;\n \n     ret = DSA_sign(0, tbs, tbslen, sig, &sltmp, dsa);\n \n@@ -100,13 +95,8 @@ static int pkey_dsa_verify(EVP_PKEY_CTX *ctx,\n     DSA_PKEY_CTX *dctx = ctx->data;\n     DSA *dsa = ctx->pkey->pkey.dsa;\n \n-    if (dctx->md) {\n-        if (tbslen != (size_t)EVP_MD_size(dctx->md))\n-            return 0;\n-    } else {\n-        if (tbslen != SHA_DIGEST_LENGTH)\n-            return 0;\n-    }\n+    if (dctx->md != NULL && tbslen != (size_t)EVP_MD_size(dctx->md))\n+        return 0;\n \n     ret = DSA_verify(0, tbs, tbslen, sig, siglen, dsa);\n \n@@ -187,9 +177,15 @@ static int pkey_dsa_ctrl_str(EVP_PKEY_CTX *ctx,\n                                  NULL);\n     }\n     if (strcmp(type, \"dsa_paramgen_md\") == 0) {\n+        const EVP_MD *md = EVP_get_digestbyname(value);\n+\n+        if (md == NULL) {\n+            DSAerr(DSA_F_PKEY_DSA_CTRL_STR, DSA_R_INVALID_DIGEST_TYPE);\n+            return 0;\n+        }\n         return EVP_PKEY_CTX_ctrl(ctx, EVP_PKEY_DSA, EVP_PKEY_OP_PARAMGEN,\n                                  EVP_PKEY_CTRL_DSA_PARAMGEN_MD, 0,\n-                                 (void *)EVP_get_digestbyname(value));\n+                                 (void *)md);\n     }\n     return -2;\n }"
        },
        {
            "sha": "e01425bc75e895f2894980b714a066bd78f5cf69",
            "filename": "deps/openssl/openssl/crypto/dso/dso_dlfcn.c",
            "status": "modified",
            "additions": 80,
            "deletions": 3,
            "changes": 83,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdso%2Fdso_dlfcn.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdso%2Fdso_dlfcn.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fdso%2Fdso_dlfcn.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -26,7 +26,7 @@\n #  endif\n #  include <dlfcn.h>\n #  define HAVE_DLINFO 1\n-#  if defined(_AIX) || defined(__CYGWIN__) || \\\n+#  if defined(__CYGWIN__) || \\\n      defined(__SCO_VERSION__) || defined(_SCO_ELF) || \\\n      (defined(__osf__) && !defined(RTLD_NEXT))     || \\\n      (defined(__OpenBSD__) && !defined(RTLD_SELF)) || \\\n@@ -308,6 +308,76 @@ static int dladdr(void *address, Dl_info *dl)\n }\n # endif                         /* __sgi */\n \n+# ifdef _AIX\n+/*-\n+ * See IBM's AIX Version 7.2, Technical Reference:\n+ *  Base Operating System and Extensions, Volume 1 and 2\n+ *  https://www.ibm.com/support/knowledgecenter/ssw_aix_72/com.ibm.aix.base/technicalreferences.htm\n+ */\n+#  include <sys/ldr.h>\n+#  include <errno.h>\n+/* ~ 64 * (sizeof(struct ld_info) + _XOPEN_PATH_MAX + _XOPEN_NAME_MAX) */\n+#  define DLFCN_LDINFO_SIZE 86976\n+typedef struct Dl_info {\n+    const char *dli_fname;\n+} Dl_info;\n+/*\n+ * This dladdr()-implementation will also find the ptrgl (Pointer Glue) virtual\n+ * address of a function, which is just located in the DATA segment instead of\n+ * the TEXT segment.\n+ */\n+static int dladdr(void *ptr, Dl_info *dl)\n+{\n+    uintptr_t addr = (uintptr_t)ptr;\n+    unsigned int found = 0;\n+    struct ld_info *ldinfos, *next_ldi, *this_ldi;\n+\n+    if ((ldinfos = (struct ld_info *)OPENSSL_malloc(DLFCN_LDINFO_SIZE)) == NULL) {\n+        errno = ENOMEM;\n+        dl->dli_fname = NULL;\n+        return 0;\n+    }\n+\n+    if ((loadquery(L_GETINFO, (void *)ldinfos, DLFCN_LDINFO_SIZE)) < 0) {\n+        /*-\n+         * Error handling is done through errno and dlerror() reading errno:\n+         *  ENOMEM (ldinfos buffer is too small),\n+         *  EINVAL (invalid flags),\n+         *  EFAULT (invalid ldinfos ptr)\n+         */\n+        OPENSSL_free((void *)ldinfos);\n+        dl->dli_fname = NULL;\n+        return 0;\n+    }\n+    next_ldi = ldinfos;\n+\n+    do {\n+        this_ldi = next_ldi;\n+        if (((addr >= (uintptr_t)this_ldi->ldinfo_textorg)\n+             && (addr < ((uintptr_t)this_ldi->ldinfo_textorg +\n+                         this_ldi->ldinfo_textsize)))\n+            || ((addr >= (uintptr_t)this_ldi->ldinfo_dataorg)\n+                && (addr < ((uintptr_t)this_ldi->ldinfo_dataorg +\n+                            this_ldi->ldinfo_datasize)))) {\n+            found = 1;\n+            /*\n+             * Ignoring the possibility of a member name and just returning\n+             * the path name. See docs: sys/ldr.h, loadquery() and\n+             * dlopen()/RTLD_MEMBER.\n+             */\n+            if ((dl->dli_fname =\n+                 OPENSSL_strdup(this_ldi->ldinfo_filename)) == NULL)\n+                errno = ENOMEM;\n+        } else {\n+            next_ldi =\n+                (struct ld_info *)((uintptr_t)this_ldi + this_ldi->ldinfo_next);\n+        }\n+    } while (this_ldi->ldinfo_next && !found);\n+    OPENSSL_free((void *)ldinfos);\n+    return (found && dl->dli_fname != NULL);\n+}\n+# endif                         /* _AIX */\n+\n static int dlfcn_pathbyaddr(void *addr, char *path, int sz)\n {\n # ifdef HAVE_DLINFO\n@@ -326,12 +396,19 @@ static int dlfcn_pathbyaddr(void *addr, char *path, int sz)\n \n     if (dladdr(addr, &dli)) {\n         len = (int)strlen(dli.dli_fname);\n-        if (sz <= 0)\n+        if (sz <= 0) {\n+#  ifdef _AIX\n+            OPENSSL_free((void *)dli.dli_fname);\n+#  endif\n             return len + 1;\n+        }\n         if (len >= sz)\n             len = sz - 1;\n         memcpy(path, dli.dli_fname, len);\n         path[len++] = 0;\n+#  ifdef _AIX\n+        OPENSSL_free((void *)dli.dli_fname);\n+#  endif\n         return len;\n     }\n "
        },
        {
            "sha": "4eb4c68977e4afa9d601d2096610c268b0122575",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-armv4.pl",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -894,13 +894,13 @@\n .Loop_scatter_w7:\n \tldr\t$mask,[$inp],#4\n \tsubs\t$index,$index,#1\n-\tstrb\t$mask,[$out,#64*0-1]\n+\tstrb\t$mask,[$out,#64*0]\n \tmov\t$mask,$mask,lsr#8\n-\tstrb\t$mask,[$out,#64*1-1]\n+\tstrb\t$mask,[$out,#64*1]\n \tmov\t$mask,$mask,lsr#8\n-\tstrb\t$mask,[$out,#64*2-1]\n+\tstrb\t$mask,[$out,#64*2]\n \tmov\t$mask,$mask,lsr#8\n-\tstrb\t$mask,[$out,#64*3-1]\n+\tstrb\t$mask,[$out,#64*3]\n \tadd\t$out,$out,#64*4\n \tbne\t.Loop_scatter_w7\n \n@@ -1633,7 +1633,7 @@\n $code.=<<___;\n .Ladd_done:\n \tadd\tsp,sp,#32*18+16+16\t@ +16 means \"skip even over saved r0-r3\"\n-#if __ARM_ARCH__>=5 || defined(__thumb__)\n+#if __ARM_ARCH__>=5 || !defined(__thumb__)\n \tldmia\tsp!,{r4-r12,pc}\n #else\n \tldmia\tsp!,{r4-r12,lr}"
        },
        {
            "sha": "2a39675bfd101c0458a781ef90a2b1775ca191da",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-armv8.pl",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv8.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv8.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-armv8.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -660,7 +660,7 @@\n \tadc\t$ap,xzr,xzr\t\t// zap $ap\n \ttst\t$acc0,#1\t\t// is a even?\n \n-\tcsel\t$acc0,$acc0,$t0,eq\t// ret = even ? a : a+modulus\n+\tcsel\t$acc0,$acc0,$t0,eq\t// ret = even ? a : a+modulus \n \tcsel\t$acc1,$acc1,$t1,eq\n \tcsel\t$acc2,$acc2,$t2,eq\n \tcsel\t$acc3,$acc3,$t3,eq\n@@ -1477,21 +1477,21 @@\n \tprfm\tpstl1strm,[$out,#4096+64*5]\n \tprfm\tpstl1strm,[$out,#4096+64*6]\n \tprfm\tpstl1strm,[$out,#4096+64*7]\n-\tstrb\tw3,[$out,#64*0-1]\n+\tstrb\tw3,[$out,#64*0]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*1-1]\n+\tstrb\tw3,[$out,#64*1]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*2-1]\n+\tstrb\tw3,[$out,#64*2]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*3-1]\n+\tstrb\tw3,[$out,#64*3]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*4-1]\n+\tstrb\tw3,[$out,#64*4]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*5-1]\n+\tstrb\tw3,[$out,#64*5]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*6-1]\n+\tstrb\tw3,[$out,#64*6]\n \tlsr\tx3,x3,#8\n-\tstrb\tw3,[$out,#64*7-1]\n+\tstrb\tw3,[$out,#64*7]\n \tadd\t$out,$out,#64*8\n \tb.ne\t.Loop_scatter_w7\n "
        },
        {
            "sha": "edd7d01281cab31e7fb5a18d01fd6c12b52d2905",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-avx2.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-avx2.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-avx2.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-avx2.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -67,7 +67,7 @@\n \t$addx = ($1>=12);\n }\n \n-if (!$addx && `$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9])\\.([0-9]+)/) {\n+if (!$addx && `$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9])\\.([0-9]+)/) {\n \tmy $ver = $2 + $3/100.0;\t# 3.1->3.01, 3.10->3.10\n \t$avx = ($ver>=3.0) + ($ver>=3.01);\n \t$addx = ($ver>=3.03);"
        },
        {
            "sha": "0c1af95b134b8fd14a7f2ef3ba9ec209371615f4",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-sparcv9.pl",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-sparcv9.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-sparcv9.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-sparcv9.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -1531,13 +1531,13 @@\n \tld\t[$inp],%l0\n \tadd\t$inp,4,$inp\n \tsubcc\t$index,1,$index\n-\tstb\t%l0,[$out+64*0-1]\n+\tstb\t%l0,[$out+64*0]\n \tsrl\t%l0,8,%l1\n-\tstb\t%l1,[$out+64*1-1]\n+\tstb\t%l1,[$out+64*1]\n \tsrl\t%l0,16,%l2\n-\tstb\t%l2,[$out+64*2-1]\n+\tstb\t%l2,[$out+64*2]\n \tsrl\t%l0,24,%l3\n-\tstb\t%l3,[$out+64*3-1]\n+\tstb\t%l3,[$out+64*3]\n \tbne\t.Loop_scatter_w7\n \tadd\t$out,64*4,$out\n \n@@ -1874,7 +1874,7 @@\n \tldx\t[$bp+8*($i+1)],$bi\t! bp[$i+1]\n ___\n $code.=<<___;\n-\taddcc\t$acc1,$t0,$acc1\t\t! accumulate high parts of multiplication\n+\taddcc\t$acc1,$t0,$acc1\t\t! accumulate high parts of multiplication \n \t sllx\t$acc0,32,$t0\n \taddxccc\t$acc2,$t1,$acc2\n \t srlx\t$acc0,32,$t1"
        },
        {
            "sha": "b3bec23228f312e6bf5cd8eedfa6ca7388b23723",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-x86.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -443,7 +443,7 @@\n \t&mov\t(&DWP(20,\"esp\"),\"eax\");\n \t&mov\t(&DWP(24,\"esp\"),\"eax\");\n \t&mov\t(&DWP(28,\"esp\"),\"eax\");\n-\n+\t\n \t&call\t(\"_ecp_nistz256_sub\");\n \n \t&stack_pop(8);\n@@ -1179,7 +1179,7 @@\n \t&mov\t(\"esi\",&wparam(1));\n \t&mov\t(\"ebp\",&wparam(2));\n \n-\t&lea\t(\"edi\",&DWP(-1,\"edi\",\"ebp\"));\n+\t&lea\t(\"edi\",&DWP(0,\"edi\",\"ebp\"));\n \t&mov\t(\"ebp\",64/4);\n &set_label(\"scatter_w7_loop\");\n \t&mov\t(\"eax\",&DWP(0,\"esi\"));"
        },
        {
            "sha": "714e852a1826da7122d3d3f77f6f5d19089becd8",
            "filename": "deps/openssl/openssl/crypto/ec/asm/ecp_nistz256-x86_64.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86_64.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86_64.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fasm%2Fecp_nistz256-x86_64.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -3051,8 +3051,8 @@ ()\n ########################################################################\n # Convert ecp_nistz256_table.c to layout expected by ecp_nistz_gather_w7\n #\n-open TABLE,\"<ecp_nistz256_table.c\"\t\tor\n-open TABLE,\"<${dir}../ecp_nistz256_table.c\"\tor\n+open TABLE,\"<ecp_nistz256_table.c\"\t\tor \n+open TABLE,\"<${dir}../ecp_nistz256_table.c\"\tor \n die \"failed to open ecp_nistz256_table.c:\",$!;\n \n use integer;"
        },
        {
            "sha": "28b91d510236841864a60d31e2b53df98957c5d9",
            "filename": "deps/openssl/openssl/crypto/ec/ec2_smpl.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec2_smpl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec2_smpl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec2_smpl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -330,6 +330,7 @@ int ec_GF2m_simple_point_copy(EC_POINT *dest, const EC_POINT *src)\n     if (!BN_copy(dest->Z, src->Z))\n         return 0;\n     dest->Z_is_one = src->Z_is_one;\n+    dest->curve_name = src->curve_name;\n \n     return 1;\n }"
        },
        {
            "sha": "f8f1e2c842cebb1d7733cde6eeaec766a2f948e7",
            "filename": "deps/openssl/openssl/crypto/ec/ec_ameth.c",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_ameth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_ameth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_ameth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -92,19 +92,19 @@ static int eckey_pub_encode(X509_PUBKEY *pk, const EVP_PKEY *pkey)\n static EC_KEY *eckey_type2param(int ptype, const void *pval)\n {\n     EC_KEY *eckey = NULL;\n+    EC_GROUP *group = NULL;\n+\n     if (ptype == V_ASN1_SEQUENCE) {\n         const ASN1_STRING *pstr = pval;\n-        const unsigned char *pm = NULL;\n-        int pmlen;\n-        pm = pstr->data;\n-        pmlen = pstr->length;\n+        const unsigned char *pm = pstr->data;\n+        int pmlen = pstr->length;\n+\n         if ((eckey = d2i_ECParameters(NULL, &pm, pmlen)) == NULL) {\n             ECerr(EC_F_ECKEY_TYPE2PARAM, EC_R_DECODE_ERROR);\n             goto ecerr;\n         }\n     } else if (ptype == V_ASN1_OBJECT) {\n         const ASN1_OBJECT *poid = pval;\n-        EC_GROUP *group;\n \n         /*\n          * type == V_ASN1_OBJECT => the parameters are given by an asn1 OID\n@@ -129,6 +129,7 @@ static EC_KEY *eckey_type2param(int ptype, const void *pval)\n \n  ecerr:\n     EC_KEY_free(eckey);\n+    EC_GROUP_free(group);\n     return NULL;\n }\n "
        },
        {
            "sha": "b022528be2fd5a86b67fc99397c521af0fa91f6a",
            "filename": "deps/openssl/openssl/crypto/ec/ec_curve.c",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_curve.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_curve.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_curve.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -3036,6 +3036,8 @@ static EC_GROUP *ec_group_new_from_data(const ec_list_element curve)\n     }\n #endif\n \n+    EC_GROUP_set_curve_name(group, curve.nid);\n+\n     if ((P = EC_POINT_new(group)) == NULL) {\n         ECerr(EC_F_EC_GROUP_NEW_FROM_DATA, ERR_R_EC_LIB);\n         goto err;\n@@ -3101,8 +3103,6 @@ EC_GROUP *EC_GROUP_new_by_curve_name(int nid)\n         return NULL;\n     }\n \n-    EC_GROUP_set_curve_name(ret, nid);\n-\n     return ret;\n }\n "
        },
        {
            "sha": "d8141704cfb19084609d1b97264bab8699d7aa5d",
            "filename": "deps/openssl/openssl/crypto/ec/ec_lcl.h",
            "status": "modified",
            "additions": 17,
            "deletions": 1,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -269,6 +269,8 @@ struct ec_key_st {\n \n struct ec_point_st {\n     const EC_METHOD *meth;\n+    /* NID for the curve if known */\n+    int curve_name;\n     /*\n      * All members except 'meth' are handled by the method functions, even if\n      * they appear generic\n@@ -281,6 +283,20 @@ struct ec_point_st {\n                                  * special case */\n };\n \n+\n+static ossl_inline int ec_point_is_compat(const EC_POINT *point,\n+                                          const EC_GROUP *group)\n+{\n+    if (group->meth != point->meth\n+        || (group->curve_name != 0\n+            && point->curve_name != 0\n+            && group->curve_name != point->curve_name))\n+        return 0;\n+\n+    return 1;\n+}\n+\n+\n NISTP224_PRE_COMP *EC_nistp224_pre_comp_dup(NISTP224_PRE_COMP *);\n NISTP256_PRE_COMP *EC_nistp256_pre_comp_dup(NISTP256_PRE_COMP *);\n NISTP521_PRE_COMP *EC_nistp521_pre_comp_dup(NISTP521_PRE_COMP *);"
        },
        {
            "sha": "e256e4e5118066b27cc815ae320aa5830e7ea01b",
            "filename": "deps/openssl/openssl/crypto/ec/ec_lib.c",
            "status": "modified",
            "additions": 23,
            "deletions": 18,
            "changes": 41,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -140,6 +140,8 @@ int EC_GROUP_copy(EC_GROUP *dest, const EC_GROUP *src)\n     if (dest == src)\n         return 1;\n \n+    dest->curve_name = src->curve_name;\n+\n     /* Copy precomputed */\n     dest->pre_comp_type = src->pre_comp_type;\n     switch (src->pre_comp_type) {\n@@ -202,7 +204,6 @@ int EC_GROUP_copy(EC_GROUP *dest, const EC_GROUP *src)\n             return 0;\n     }\n \n-    dest->curve_name = src->curve_name;\n     dest->asn1_flag = src->asn1_flag;\n     dest->asn1_form = src->asn1_form;\n \n@@ -563,6 +564,7 @@ EC_POINT *EC_POINT_new(const EC_GROUP *group)\n     }\n \n     ret->meth = group->meth;\n+    ret->curve_name = group->curve_name;\n \n     if (!ret->meth->point_init(ret)) {\n         OPENSSL_free(ret);\n@@ -600,7 +602,10 @@ int EC_POINT_copy(EC_POINT *dest, const EC_POINT *src)\n         ECerr(EC_F_EC_POINT_COPY, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (dest->meth != src->meth) {\n+    if (dest->meth != src->meth\n+            || (dest->curve_name != src->curve_name\n+                && dest->curve_name != 0\n+                && src->curve_name != 0)) {\n         ECerr(EC_F_EC_POINT_COPY, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -657,7 +662,7 @@ int EC_POINT_set_Jprojective_coordinates_GFp(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_SET_JPROJECTIVE_COORDINATES_GFP,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -676,7 +681,7 @@ int EC_POINT_get_Jprojective_coordinates_GFp(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_GET_JPROJECTIVE_COORDINATES_GFP,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -694,7 +699,7 @@ int EC_POINT_set_affine_coordinates_GFp(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_SET_AFFINE_COORDINATES_GFP,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -720,7 +725,7 @@ int EC_POINT_set_affine_coordinates_GF2m(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_SET_AFFINE_COORDINATES_GF2M,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -746,7 +751,7 @@ int EC_POINT_get_affine_coordinates_GFp(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_GET_AFFINE_COORDINATES_GFP,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -764,7 +769,7 @@ int EC_POINT_get_affine_coordinates_GF2m(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_GET_AFFINE_COORDINATES_GF2M,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -780,8 +785,8 @@ int EC_POINT_add(const EC_GROUP *group, EC_POINT *r, const EC_POINT *a,\n         ECerr(EC_F_EC_POINT_ADD, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if ((group->meth != r->meth) || (r->meth != a->meth)\n-        || (a->meth != b->meth)) {\n+    if (!ec_point_is_compat(r, group) || !ec_point_is_compat(a, group)\n+        || !ec_point_is_compat(b, group)) {\n         ECerr(EC_F_EC_POINT_ADD, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -795,7 +800,7 @@ int EC_POINT_dbl(const EC_GROUP *group, EC_POINT *r, const EC_POINT *a,\n         ECerr(EC_F_EC_POINT_DBL, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if ((group->meth != r->meth) || (r->meth != a->meth)) {\n+    if (!ec_point_is_compat(r, group) || !ec_point_is_compat(a, group)) {\n         ECerr(EC_F_EC_POINT_DBL, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -808,7 +813,7 @@ int EC_POINT_invert(const EC_GROUP *group, EC_POINT *a, BN_CTX *ctx)\n         ECerr(EC_F_EC_POINT_INVERT, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != a->meth) {\n+    if (!ec_point_is_compat(a, group)) {\n         ECerr(EC_F_EC_POINT_INVERT, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -822,7 +827,7 @@ int EC_POINT_is_at_infinity(const EC_GROUP *group, const EC_POINT *point)\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_IS_AT_INFINITY, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -843,7 +848,7 @@ int EC_POINT_is_on_curve(const EC_GROUP *group, const EC_POINT *point,\n         ECerr(EC_F_EC_POINT_IS_ON_CURVE, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_IS_ON_CURVE, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -857,7 +862,7 @@ int EC_POINT_cmp(const EC_GROUP *group, const EC_POINT *a, const EC_POINT *b,\n         ECerr(EC_F_EC_POINT_CMP, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return -1;\n     }\n-    if ((group->meth != a->meth) || (a->meth != b->meth)) {\n+    if (!ec_point_is_compat(a, group) || !ec_point_is_compat(b, group)) {\n         ECerr(EC_F_EC_POINT_CMP, EC_R_INCOMPATIBLE_OBJECTS);\n         return -1;\n     }\n@@ -870,7 +875,7 @@ int EC_POINT_make_affine(const EC_GROUP *group, EC_POINT *point, BN_CTX *ctx)\n         ECerr(EC_F_EC_POINT_MAKE_AFFINE, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_MAKE_AFFINE, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -887,7 +892,7 @@ int EC_POINTs_make_affine(const EC_GROUP *group, size_t num,\n         return 0;\n     }\n     for (i = 0; i < num; i++) {\n-        if (group->meth != points[i]->meth) {\n+        if (!ec_point_is_compat(points[i], group)) {\n             ECerr(EC_F_EC_POINTS_MAKE_AFFINE, EC_R_INCOMPATIBLE_OBJECTS);\n             return 0;\n         }"
        },
        {
            "sha": "56c7767772d1b54f37bd149a29ccf4dbc792c5a8",
            "filename": "deps/openssl/openssl/crypto/ec/ec_mult.c",
            "status": "modified",
            "additions": 247,
            "deletions": 3,
            "changes": 250,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_mult.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_mult.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_mult.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -105,6 +105,224 @@ void EC_ec_pre_comp_free(EC_PRE_COMP *pre)\n     OPENSSL_free(pre);\n }\n \n+#define EC_POINT_BN_set_flags(P, flags) do { \\\n+    BN_set_flags((P)->X, (flags)); \\\n+    BN_set_flags((P)->Y, (flags)); \\\n+    BN_set_flags((P)->Z, (flags)); \\\n+} while(0)\n+\n+/*-\n+ * This functions computes (in constant time) a point multiplication over the\n+ * EC group.\n+ *\n+ * At a high level, it is Montgomery ladder with conditional swaps.\n+ *\n+ * It performs either a fixed scalar point multiplication\n+ *          (scalar * generator)\n+ * when point is NULL, or a generic scalar point multiplication\n+ *          (scalar * point)\n+ * when point is not NULL.\n+ *\n+ * scalar should be in the range [0,n) otherwise all constant time bets are off.\n+ *\n+ * NB: This says nothing about EC_POINT_add and EC_POINT_dbl,\n+ * which of course are not constant time themselves.\n+ *\n+ * The product is stored in r.\n+ *\n+ * Returns 1 on success, 0 otherwise.\n+ */\n+static int ec_mul_consttime(const EC_GROUP *group, EC_POINT *r,\n+                            const BIGNUM *scalar, const EC_POINT *point,\n+                            BN_CTX *ctx)\n+{\n+    int i, cardinality_bits, group_top, kbit, pbit, Z_is_one;\n+    EC_POINT *s = NULL;\n+    BIGNUM *k = NULL;\n+    BIGNUM *lambda = NULL;\n+    BIGNUM *cardinality = NULL;\n+    BN_CTX *new_ctx = NULL;\n+    int ret = 0;\n+\n+    if (ctx == NULL && (ctx = new_ctx = BN_CTX_secure_new()) == NULL)\n+        return 0;\n+\n+    BN_CTX_start(ctx);\n+\n+    s = EC_POINT_new(group);\n+    if (s == NULL)\n+        goto err;\n+\n+    if (point == NULL) {\n+        if (!EC_POINT_copy(s, group->generator))\n+            goto err;\n+    } else {\n+        if (!EC_POINT_copy(s, point))\n+            goto err;\n+    }\n+\n+    EC_POINT_BN_set_flags(s, BN_FLG_CONSTTIME);\n+\n+    cardinality = BN_CTX_get(ctx);\n+    lambda = BN_CTX_get(ctx);\n+    k = BN_CTX_get(ctx);\n+    if (k == NULL || !BN_mul(cardinality, group->order, group->cofactor, ctx))\n+        goto err;\n+\n+    /*\n+     * Group cardinalities are often on a word boundary.\n+     * So when we pad the scalar, some timing diff might\n+     * pop if it needs to be expanded due to carries.\n+     * So expand ahead of time.\n+     */\n+    cardinality_bits = BN_num_bits(cardinality);\n+    group_top = bn_get_top(cardinality);\n+    if ((bn_wexpand(k, group_top + 1) == NULL)\n+        || (bn_wexpand(lambda, group_top + 1) == NULL))\n+        goto err;\n+\n+    if (!BN_copy(k, scalar))\n+        goto err;\n+\n+    BN_set_flags(k, BN_FLG_CONSTTIME);\n+\n+    if ((BN_num_bits(k) > cardinality_bits) || (BN_is_negative(k))) {\n+        /*-\n+         * this is an unusual input, and we don't guarantee\n+         * constant-timeness\n+         */\n+        if (!BN_nnmod(k, k, cardinality, ctx))\n+            goto err;\n+    }\n+\n+    if (!BN_add(lambda, k, cardinality))\n+        goto err;\n+    BN_set_flags(lambda, BN_FLG_CONSTTIME);\n+    if (!BN_add(k, lambda, cardinality))\n+        goto err;\n+    /*\n+     * lambda := scalar + cardinality\n+     * k := scalar + 2*cardinality\n+     */\n+    kbit = BN_is_bit_set(lambda, cardinality_bits);\n+    BN_consttime_swap(kbit, k, lambda, group_top + 1);\n+\n+    group_top = bn_get_top(group->field);\n+    if ((bn_wexpand(s->X, group_top) == NULL)\n+        || (bn_wexpand(s->Y, group_top) == NULL)\n+        || (bn_wexpand(s->Z, group_top) == NULL)\n+        || (bn_wexpand(r->X, group_top) == NULL)\n+        || (bn_wexpand(r->Y, group_top) == NULL)\n+        || (bn_wexpand(r->Z, group_top) == NULL))\n+        goto err;\n+\n+    /* top bit is a 1, in a fixed pos */\n+    if (!EC_POINT_copy(r, s))\n+        goto err;\n+\n+    EC_POINT_BN_set_flags(r, BN_FLG_CONSTTIME);\n+\n+    if (!EC_POINT_dbl(group, s, s, ctx))\n+        goto err;\n+\n+    pbit = 0;\n+\n+#define EC_POINT_CSWAP(c, a, b, w, t) do {         \\\n+        BN_consttime_swap(c, (a)->X, (b)->X, w);   \\\n+        BN_consttime_swap(c, (a)->Y, (b)->Y, w);   \\\n+        BN_consttime_swap(c, (a)->Z, (b)->Z, w);   \\\n+        t = ((a)->Z_is_one ^ (b)->Z_is_one) & (c); \\\n+        (a)->Z_is_one ^= (t);                      \\\n+        (b)->Z_is_one ^= (t);                      \\\n+} while(0)\n+\n+    /*-\n+     * The ladder step, with branches, is\n+     *\n+     * k[i] == 0: S = add(R, S), R = dbl(R)\n+     * k[i] == 1: R = add(S, R), S = dbl(S)\n+     *\n+     * Swapping R, S conditionally on k[i] leaves you with state\n+     *\n+     * k[i] == 0: T, U = R, S\n+     * k[i] == 1: T, U = S, R\n+     *\n+     * Then perform the ECC ops.\n+     *\n+     * U = add(T, U)\n+     * T = dbl(T)\n+     *\n+     * Which leaves you with state\n+     *\n+     * k[i] == 0: U = add(R, S), T = dbl(R)\n+     * k[i] == 1: U = add(S, R), T = dbl(S)\n+     *\n+     * Swapping T, U conditionally on k[i] leaves you with state\n+     *\n+     * k[i] == 0: R, S = T, U\n+     * k[i] == 1: R, S = U, T\n+     *\n+     * Which leaves you with state\n+     *\n+     * k[i] == 0: S = add(R, S), R = dbl(R)\n+     * k[i] == 1: R = add(S, R), S = dbl(S)\n+     *\n+     * So we get the same logic, but instead of a branch it's a\n+     * conditional swap, followed by ECC ops, then another conditional swap.\n+     *\n+     * Optimization: The end of iteration i and start of i-1 looks like\n+     *\n+     * ...\n+     * CSWAP(k[i], R, S)\n+     * ECC\n+     * CSWAP(k[i], R, S)\n+     * (next iteration)\n+     * CSWAP(k[i-1], R, S)\n+     * ECC\n+     * CSWAP(k[i-1], R, S)\n+     * ...\n+     *\n+     * So instead of two contiguous swaps, you can merge the condition\n+     * bits and do a single swap.\n+     *\n+     * k[i]   k[i-1]    Outcome\n+     * 0      0         No Swap\n+     * 0      1         Swap\n+     * 1      0         Swap\n+     * 1      1         No Swap\n+     *\n+     * This is XOR. pbit tracks the previous bit of k.\n+     */\n+\n+    for (i = cardinality_bits - 1; i >= 0; i--) {\n+        kbit = BN_is_bit_set(k, i) ^ pbit;\n+        EC_POINT_CSWAP(kbit, r, s, group_top, Z_is_one);\n+        if (!EC_POINT_add(group, s, r, s, ctx))\n+            goto err;\n+        if (!EC_POINT_dbl(group, r, r, ctx))\n+            goto err;\n+        /*\n+         * pbit logic merges this cswap with that of the\n+         * next iteration\n+         */\n+        pbit ^= kbit;\n+    }\n+    /* one final cswap to move the right value into r */\n+    EC_POINT_CSWAP(pbit, r, s, group_top, Z_is_one);\n+#undef EC_POINT_CSWAP\n+\n+    ret = 1;\n+\n+ err:\n+    EC_POINT_free(s);\n+    BN_CTX_end(ctx);\n+    BN_CTX_free(new_ctx);\n+\n+    return ret;\n+}\n+\n+#undef EC_POINT_BN_set_flags\n+\n /*\n  * TODO: table should be optimised for the wNAF-based implementation,\n  * sometimes smaller windows will give better performance (thus the\n@@ -155,7 +373,7 @@ int ec_wNAF_mul(const EC_GROUP *group, EC_POINT *r, const BIGNUM *scalar,\n                                  * precomputation is not available */\n     int ret = 0;\n \n-    if (group->meth != r->meth) {\n+    if (!ec_point_is_compat(r, group)) {\n         ECerr(EC_F_EC_WNAF_MUL, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -164,8 +382,34 @@ int ec_wNAF_mul(const EC_GROUP *group, EC_POINT *r, const BIGNUM *scalar,\n         return EC_POINT_set_to_infinity(group, r);\n     }\n \n+    /*-\n+     * Handle the common cases where the scalar is secret, enforcing a constant\n+     * time scalar multiplication algorithm.\n+     */\n+    if ((scalar != NULL) && (num == 0)) {\n+        /*-\n+         * In this case we want to compute scalar * GeneratorPoint: this\n+         * codepath is reached most prominently by (ephemeral) key generation\n+         * of EC cryptosystems (i.e. ECDSA keygen and sign setup, ECDH\n+         * keygen/first half), where the scalar is always secret. This is why\n+         * we ignore if BN_FLG_CONSTTIME is actually set and we always call the\n+         * constant time version.\n+         */\n+        return ec_mul_consttime(group, r, scalar, NULL, ctx);\n+    }\n+    if ((scalar == NULL) && (num == 1)) {\n+        /*-\n+         * In this case we want to compute scalar * GenericPoint: this codepath\n+         * is reached most prominently by the second half of ECDH, where the\n+         * secret scalar is multiplied by the peer's public point. To protect\n+         * the secret scalar, we ignore if BN_FLG_CONSTTIME is actually set and\n+         * we always call the constant time version.\n+         */\n+        return ec_mul_consttime(group, r, scalars[0], points[0], ctx);\n+    }\n+\n     for (i = 0; i < num; i++) {\n-        if (group->meth != points[i]->meth) {\n+        if (!ec_point_is_compat(points[i], group)) {\n             ECerr(EC_F_EC_WNAF_MUL, EC_R_INCOMPATIBLE_OBJECTS);\n             return 0;\n         }"
        },
        {
            "sha": "e185df6edfd531e46350dd8cb66fbc52422ad55b",
            "filename": "deps/openssl/openssl/crypto/ec/ec_oct.c",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_oct.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_oct.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fec_oct.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2011-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2011-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -30,7 +30,7 @@ int EC_POINT_set_compressed_coordinates_GFp(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_SET_COMPRESSED_COORDINATES_GFP,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -66,7 +66,7 @@ int EC_POINT_set_compressed_coordinates_GF2m(const EC_GROUP *group,\n               ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_SET_COMPRESSED_COORDINATES_GF2M,\n               EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n@@ -93,7 +93,7 @@ size_t EC_POINT_point2oct(const EC_GROUP *group, const EC_POINT *point,\n         ECerr(EC_F_EC_POINT_POINT2OCT, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_POINT2OCT, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -123,7 +123,7 @@ int EC_POINT_oct2point(const EC_GROUP *group, EC_POINT *point,\n         ECerr(EC_F_EC_POINT_OCT2POINT, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n         return 0;\n     }\n-    if (group->meth != point->meth) {\n+    if (!ec_point_is_compat(point, group)) {\n         ECerr(EC_F_EC_POINT_OCT2POINT, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }"
        },
        {
            "sha": "9e4a68d9ca35cfd87756a18daab43cc09937ce3d",
            "filename": "deps/openssl/openssl/crypto/ec/ecdsa_ossl.c",
            "status": "modified",
            "additions": 38,
            "deletions": 94,
            "changes": 132,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecdsa_ossl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecdsa_ossl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecdsa_ossl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2002-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -10,9 +10,8 @@\n #include <string.h>\n #include <openssl/err.h>\n #include <openssl/obj_mac.h>\n-#include <openssl/bn.h>\n #include <openssl/rand.h>\n-#include <openssl/ec.h>\n+#include \"internal/bn_int.h\"\n #include \"ec_lcl.h\"\n \n int ossl_ecdsa_sign(int type, const unsigned char *dgst, int dlen,\n@@ -53,13 +52,12 @@ static int ecdsa_sign_setup(EC_KEY *eckey, BN_CTX *ctx_in,\n         return 0;\n     }\n \n-    if (ctx_in == NULL) {\n+    if ((ctx = ctx_in) == NULL) {\n         if ((ctx = BN_CTX_new()) == NULL) {\n             ECerr(EC_F_ECDSA_SIGN_SETUP, ERR_R_MALLOC_FAILURE);\n             return 0;\n         }\n-    } else\n-        ctx = ctx_in;\n+    }\n \n     k = BN_new();               /* this value is later returned in *kinvp */\n     r = BN_new();               /* this value is later returned in *rp */\n@@ -73,10 +71,6 @@ static int ecdsa_sign_setup(EC_KEY *eckey, BN_CTX *ctx_in,\n         goto err;\n     }\n     order = EC_GROUP_get0_order(group);\n-    if (order == NULL) {\n-        ECerr(EC_F_ECDSA_SIGN_SETUP, ERR_R_EC_LIB);\n-        goto err;\n-    }\n \n     /* Preallocate space */\n     order_bits = BN_num_bits(order);\n@@ -87,23 +81,23 @@ static int ecdsa_sign_setup(EC_KEY *eckey, BN_CTX *ctx_in,\n \n     do {\n         /* get random k */\n-        do\n+        do {\n             if (dgst != NULL) {\n-                if (!BN_generate_dsa_nonce\n-                    (k, order, EC_KEY_get0_private_key(eckey), dgst, dlen,\n-                     ctx)) {\n+                if (!BN_generate_dsa_nonce(k, order,\n+                                           EC_KEY_get0_private_key(eckey),\n+                                           dgst, dlen, ctx)) {\n                     ECerr(EC_F_ECDSA_SIGN_SETUP,\n-                             EC_R_RANDOM_NUMBER_GENERATION_FAILED);\n+                          EC_R_RANDOM_NUMBER_GENERATION_FAILED);\n                     goto err;\n                 }\n             } else {\n                 if (!BN_rand_range(k, order)) {\n                     ECerr(EC_F_ECDSA_SIGN_SETUP,\n-                             EC_R_RANDOM_NUMBER_GENERATION_FAILED);\n+                          EC_R_RANDOM_NUMBER_GENERATION_FAILED);\n                     goto err;\n                 }\n             }\n-        while (BN_is_zero(k));\n+        } while (BN_is_zero(k));\n \n         /*\n          * We do not want timing information to leak the length of k, so we\n@@ -129,18 +123,16 @@ static int ecdsa_sign_setup(EC_KEY *eckey, BN_CTX *ctx_in,\n         }\n         if (EC_METHOD_get_field_type(EC_GROUP_method_of(group)) ==\n             NID_X9_62_prime_field) {\n-            if (!EC_POINT_get_affine_coordinates_GFp\n-                (group, tmp_point, X, NULL, ctx)) {\n+            if (!EC_POINT_get_affine_coordinates_GFp(group, tmp_point, X,\n+                                                     NULL, ctx)) {\n                 ECerr(EC_F_ECDSA_SIGN_SETUP, ERR_R_EC_LIB);\n                 goto err;\n             }\n         }\n #ifndef OPENSSL_NO_EC2M\n         else {                  /* NID_X9_62_characteristic_two_field */\n-\n-            if (!EC_POINT_get_affine_coordinates_GF2m(group,\n-                                                      tmp_point, X, NULL,\n-                                                      ctx)) {\n+            if (!EC_POINT_get_affine_coordinates_GF2m(group, tmp_point, X,\n+                                                      NULL, ctx)) {\n                 ECerr(EC_F_ECDSA_SIGN_SETUP, ERR_R_EC_LIB);\n                 goto err;\n             }\n@@ -150,8 +142,7 @@ static int ecdsa_sign_setup(EC_KEY *eckey, BN_CTX *ctx_in,\n             ECerr(EC_F_ECDSA_SIGN_SETUP, ERR_R_BN_LIB);\n             goto err;\n         }\n-    }\n-    while (BN_is_zero(r));\n+    } while (BN_is_zero(r));\n \n     /* compute the inverse of k */\n     if (EC_GROUP_get_mont_data(group) != NULL) {\n@@ -210,8 +201,7 @@ ECDSA_SIG *ossl_ecdsa_sign_sig(const unsigned char *dgst, int dgst_len,\n                                EC_KEY *eckey)\n {\n     int ok = 0, i;\n-    BIGNUM *kinv = NULL, *s, *m = NULL, *tmp = NULL, *blind = NULL;\n-    BIGNUM *blindm = NULL;\n+    BIGNUM *kinv = NULL, *s, *m = NULL;\n     const BIGNUM *order, *ckinv;\n     BN_CTX *ctx = NULL;\n     const EC_GROUP *group;\n@@ -244,27 +234,13 @@ ECDSA_SIG *ossl_ecdsa_sign_sig(const unsigned char *dgst, int dgst_len,\n     }\n     s = ret->s;\n \n-    ctx = BN_CTX_secure_new();\n-    if (ctx == NULL) {\n-        ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_MALLOC_FAILURE);\n-        goto err;\n-    }\n-\n-    BN_CTX_start(ctx);\n-    tmp = BN_CTX_get(ctx);\n-    m = BN_CTX_get(ctx);\n-    blind = BN_CTX_get(ctx);\n-    blindm = BN_CTX_get(ctx);\n-    if (blindm == NULL) {\n+    if ((ctx = BN_CTX_new()) == NULL\n+        || (m = BN_new()) == NULL) {\n         ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_MALLOC_FAILURE);\n         goto err;\n     }\n \n     order = EC_GROUP_get0_order(group);\n-    if (order == NULL) {\n-        ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_EC_LIB);\n-        goto err;\n-    }\n     i = BN_num_bits(order);\n     /*\n      * Need to truncate digest if it is too long: first truncate whole bytes.\n@@ -275,7 +251,7 @@ ECDSA_SIG *ossl_ecdsa_sign_sig(const unsigned char *dgst, int dgst_len,\n         ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n         goto err;\n     }\n-    /* If still too long truncate remaining bits with a shift */\n+    /* If still too long, truncate remaining bits with a shift */\n     if ((8 * dgst_len > i) && !BN_rshift(m, m, 8 - (i & 0x7))) {\n         ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n         goto err;\n@@ -296,59 +272,27 @@ ECDSA_SIG *ossl_ecdsa_sign_sig(const unsigned char *dgst, int dgst_len,\n         }\n \n         /*\n-         * The normal signature calculation is:\n-         *\n-         *   s := k^-1 * (m + r * priv_key) mod order\n-         *\n-         * We will blind this to protect against side channel attacks\n-         *\n-         *   s := k^-1 * blind^-1 * (blind * m + blind * r * priv_key) mod order\n+         * With only one multiplicant being in Montgomery domain\n+         * multiplication yields real result without post-conversion.\n+         * Also note that all operations but last are performed with\n+         * zero-padded vectors. Last operation, BN_mod_mul_montgomery\n+         * below, returns user-visible value with removed zero padding.\n          */\n-\n-        /* Generate a blinding value */\n-        do {\n-            if (!BN_rand(blind, BN_num_bits(order) - 1, BN_RAND_TOP_ANY,\n-                         BN_RAND_BOTTOM_ANY))\n-                goto err;\n-        } while (BN_is_zero(blind));\n-        BN_set_flags(blind, BN_FLG_CONSTTIME);\n-        BN_set_flags(blindm, BN_FLG_CONSTTIME);\n-        BN_set_flags(tmp, BN_FLG_CONSTTIME);\n-\n-        /* tmp := blind * priv_key * r mod order */\n-        if (!BN_mod_mul(tmp, blind, priv_key, order, ctx)) {\n-            ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n-            goto err;\n-        }\n-        if (!BN_mod_mul(tmp, tmp, ret->r, order, ctx)) {\n-            ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n-            goto err;\n-        }\n-\n-        /* blindm := blind * m mod order */\n-        if (!BN_mod_mul(blindm, blind, m, order, ctx)) {\n-            ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n-            goto err;\n-        }\n-\n-        /* s : = (blind * priv_key * r) + (blind * m) mod order */\n-        if (!BN_mod_add_quick(s, tmp, blindm, order)) {\n-            ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n-            goto err;\n-        }\n-\n-        /* s:= s * blind^-1 mod order */\n-        if (BN_mod_inverse(blind, blind, order, ctx) == NULL) {\n+        if (!bn_to_mont_fixed_top(s, ret->r, group->mont_data, ctx)\n+            || !bn_mul_mont_fixed_top(s, s, priv_key, group->mont_data, ctx)) {\n             ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n             goto err;\n         }\n-        if (!BN_mod_mul(s, s, blind, order, ctx)) {\n+        if (!bn_mod_add_fixed_top(s, s, m, order)) {\n             ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n             goto err;\n         }\n-\n-        /* s := s * k^-1 mod order */\n-        if (!BN_mod_mul(s, s, ckinv, order, ctx)) {\n+        /*\n+         * |s| can still be larger than modulus, because |m| can be. In\n+         * such case we count on Montgomery reduction to tie it up.\n+         */\n+        if (!bn_to_mont_fixed_top(s, s, group->mont_data, ctx)\n+            || !BN_mod_mul_montgomery(s, s, ckinv, group->mont_data, ctx)) {\n             ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, ERR_R_BN_LIB);\n             goto err;\n         }\n@@ -362,20 +306,20 @@ ECDSA_SIG *ossl_ecdsa_sign_sig(const unsigned char *dgst, int dgst_len,\n                 ECerr(EC_F_OSSL_ECDSA_SIGN_SIG, EC_R_NEED_NEW_SETUP_VALUES);\n                 goto err;\n             }\n-        } else\n+        } else {\n             /* s != 0 => we have a valid signature */\n             break;\n-    }\n-    while (1);\n+        }\n+    } while (1);\n \n     ok = 1;\n  err:\n     if (!ok) {\n         ECDSA_SIG_free(ret);\n         ret = NULL;\n     }\n-    BN_CTX_end(ctx);\n     BN_CTX_free(ctx);\n+    BN_clear_free(m);\n     BN_clear_free(kinv);\n     return ret;\n }"
        },
        {
            "sha": "4dbe21692721221d95b683ad52f98609b8d8d44d",
            "filename": "deps/openssl/openssl/crypto/ec/ecp_nistz256.c",
            "status": "modified",
            "additions": 9,
            "deletions": 25,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_nistz256.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_nistz256.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_nistz256.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -1110,28 +1110,12 @@ __owur static int ecp_nistz256_set_from_affine(EC_POINT *out, const EC_GROUP *gr\n                                                const P256_POINT_AFFINE *in,\n                                                BN_CTX *ctx)\n {\n-    BIGNUM *x, *y;\n-    BN_ULONG d_x[P256_LIMBS], d_y[P256_LIMBS];\n     int ret = 0;\n \n-    x = BN_new();\n-    if (x == NULL)\n-        return 0;\n-    y = BN_new();\n-    if (y == NULL) {\n-        BN_free(x);\n-        return 0;\n-    }\n-    memcpy(d_x, in->X, sizeof(d_x));\n-    bn_set_static_words(x, d_x, P256_LIMBS);\n-\n-    memcpy(d_y, in->Y, sizeof(d_y));\n-    bn_set_static_words(y, d_y, P256_LIMBS);\n-\n-    ret = EC_POINT_set_affine_coordinates_GFp(group, out, x, y, ctx);\n-\n-    BN_free(x);\n-    BN_free(y);\n+    if ((ret = bn_set_words(out->X, in->X, P256_LIMBS))\n+        && (ret = bn_set_words(out->Y, in->Y, P256_LIMBS))\n+        && (ret = bn_set_words(out->Z, ONE, P256_LIMBS)))\n+        out->Z_is_one = 1;\n \n     return ret;\n }\n@@ -1168,7 +1152,7 @@ __owur static int ecp_nistz256_points_mul(const EC_GROUP *group,\n         return 0;\n     }\n \n-    if (group->meth != r->meth) {\n+    if (!ec_point_is_compat(r, group)) {\n         ECerr(EC_F_ECP_NISTZ256_POINTS_MUL, EC_R_INCOMPATIBLE_OBJECTS);\n         return 0;\n     }\n@@ -1177,7 +1161,7 @@ __owur static int ecp_nistz256_points_mul(const EC_GROUP *group,\n         return EC_POINT_set_to_infinity(group, r);\n \n     for (j = 0; j < num; j++) {\n-        if (group->meth != points[j]->meth) {\n+        if (!ec_point_is_compat(points[j], group)) {\n             ECerr(EC_F_ECP_NISTZ256_POINTS_MUL, EC_R_INCOMPATIBLE_OBJECTS);\n             return 0;\n         }\n@@ -1210,9 +1194,9 @@ __owur static int ecp_nistz256_points_mul(const EC_GROUP *group,\n             if (pre_comp_generator == NULL)\n                 goto err;\n \n+            ecp_nistz256_gather_w7(&p.a, pre_comp->precomp[0], 1);\n             if (!ecp_nistz256_set_from_affine(pre_comp_generator,\n-                                              group, pre_comp->precomp[0],\n-                                              ctx)) {\n+                                              group, &p.a, ctx)) {\n                 EC_POINT_free(pre_comp_generator);\n                 goto err;\n             }"
        },
        {
            "sha": "e3b88315fd47a71da5526488f939645b179ef6bd",
            "filename": "deps/openssl/openssl/crypto/ec/ecp_smpl.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_smpl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_smpl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fec%2Fecp_smpl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -352,6 +352,7 @@ int ec_GFp_simple_point_copy(EC_POINT *dest, const EC_POINT *src)\n     if (!BN_copy(dest->Z, src->Z))\n         return 0;\n     dest->Z_is_one = src->Z_is_one;\n+    dest->curve_name = src->curve_name;\n \n     return 1;\n }"
        },
        {
            "sha": "ef8e99550334eafe367cba97b93f088b43f90b78",
            "filename": "deps/openssl/openssl/crypto/engine/eng_lib.c",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -18,7 +18,8 @@ CRYPTO_ONCE engine_lock_init = CRYPTO_ONCE_STATIC_INIT;\n \n DEFINE_RUN_ONCE(do_engine_lock_init)\n {\n-    OPENSSL_init_crypto(0, NULL);\n+    if (!OPENSSL_init_crypto(0, NULL))\n+        return 0;\n     global_engine_lock = CRYPTO_THREAD_lock_new();\n     return global_engine_lock != NULL;\n }\n@@ -143,8 +144,10 @@ void engine_cleanup_add_last(ENGINE_CLEANUP_CB *cb)\n     if (!int_cleanup_check(1))\n         return;\n     item = int_cleanup_item(cb);\n-    if (item)\n-        sk_ENGINE_CLEANUP_ITEM_push(cleanup_stack, item);\n+    if (item != NULL) {\n+        if (sk_ENGINE_CLEANUP_ITEM_push(cleanup_stack, item) <= 0)\n+            OPENSSL_free(item);\n+    }\n }\n \n /* The API function that performs all cleanup */"
        },
        {
            "sha": "9208f7eafc502650cf4634ed3f682ae8c7c4e274",
            "filename": "deps/openssl/openssl/crypto/engine/eng_openssl.c",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_openssl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_openssl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Feng_openssl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -649,3 +649,4 @@ int openssl_destroy(ENGINE *e)\n #endif\n     return 1;\n }\n+"
        },
        {
            "sha": "5c7b16170390e4407ec4fe66ec4c93fc18808ff0",
            "filename": "deps/openssl/openssl/crypto/engine/tb_asnmth.c",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Ftb_asnmth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Ftb_asnmth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fengine%2Ftb_asnmth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -170,7 +170,8 @@ static void look_str_cb(int nid, STACK_OF(ENGINE) *sk, ENGINE *def, void *arg)\n         ENGINE *e = sk_ENGINE_value(sk, i);\n         EVP_PKEY_ASN1_METHOD *ameth;\n         e->pkey_asn1_meths(e, &ameth, NULL, nid);\n-        if (((int)strlen(ameth->pem_str) == lk->len)\n+        if (ameth != NULL\n+                && ((int)strlen(ameth->pem_str) == lk->len)\n                 && strncasecmp(ameth->pem_str, lk->str, lk->len) == 0) {\n             lk->e = e;\n             lk->ameth = ameth;"
        },
        {
            "sha": "08c27a3e838518dfb6f7f0889327a761c303261f",
            "filename": "deps/openssl/openssl/crypto/err/err.c",
            "status": "modified",
            "additions": 46,
            "deletions": 15,
            "changes": 61,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Ferr%2Ferr.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Ferr%2Ferr.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Ferr%2Ferr.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -254,7 +254,8 @@ static void ERR_STATE_free(ERR_STATE *s)\n \n DEFINE_RUN_ONCE_STATIC(do_err_strings_init)\n {\n-    OPENSSL_init_crypto(0, NULL);\n+    if (!OPENSSL_init_crypto(0, NULL))\n+        return 0;\n     err_string_lock = CRYPTO_THREAD_lock_new();\n     return err_string_lock != NULL;\n }\n@@ -653,29 +654,31 @@ DEFINE_RUN_ONCE_STATIC(err_do_init)\n \n ERR_STATE *ERR_get_state(void)\n {\n-    ERR_STATE *state = NULL;\n+    ERR_STATE *state;\n \n-    if (!RUN_ONCE(&err_init, err_do_init))\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_BASE_ONLY, NULL))\n         return NULL;\n \n-    /*\n-     * If base OPENSSL_init_crypto() hasn't been called yet, be sure to call\n-     * it now to avoid state to be doubly allocated and thereby leak memory.\n-     * Needed on any platform that doesn't define OPENSSL_USE_NODELETE.\n-     */\n-    if (!OPENSSL_init_crypto(0, NULL))\n+    if (!RUN_ONCE(&err_init, err_do_init))\n         return NULL;\n \n     state = CRYPTO_THREAD_get_local(&err_thread_local);\n+    if (state == (ERR_STATE*)-1)\n+        return NULL;\n \n     if (state == NULL) {\n-        state = OPENSSL_zalloc(sizeof(*state));\n-        if (state == NULL)\n+        if (!CRYPTO_THREAD_set_local(&err_thread_local, (ERR_STATE*)-1))\n             return NULL;\n \n+        if ((state = OPENSSL_zalloc(sizeof(*state))) == NULL) {\n+            CRYPTO_THREAD_set_local(&err_thread_local, NULL);\n+            return NULL;\n+        }\n+\n         if (!ossl_init_thread_start(OPENSSL_INIT_THREAD_ERR_STATE)\n-            || !CRYPTO_THREAD_set_local(&err_thread_local, state)) {\n+                || !CRYPTO_THREAD_set_local(&err_thread_local, state)) {\n             ERR_STATE_free(state);\n+            CRYPTO_THREAD_set_local(&err_thread_local, NULL);\n             return NULL;\n         }\n \n@@ -686,13 +689,41 @@ ERR_STATE *ERR_get_state(void)\n     return state;\n }\n \n+/*\n+ * err_shelve_state returns the current thread local error state\n+ * and freezes the error module until err_unshelve_state is called.\n+ */\n+int err_shelve_state(void **state)\n+{\n+    if (!OPENSSL_init_crypto(OPENSSL_INIT_BASE_ONLY, NULL))\n+        return 0;\n+\n+    if (!RUN_ONCE(&err_init, err_do_init))\n+        return 0;\n+\n+    *state = CRYPTO_THREAD_get_local(&err_thread_local);\n+    if (!CRYPTO_THREAD_set_local(&err_thread_local, (ERR_STATE*)-1))\n+        return 0;\n+\n+    return 1;\n+}\n+\n+/*\n+ * err_unshelve_state restores the error state that was returned\n+ * by err_shelve_state previously.\n+ */\n+void err_unshelve_state(void* state)\n+{\n+    if (state != (void*)-1)\n+        CRYPTO_THREAD_set_local(&err_thread_local, (ERR_STATE*)state);\n+}\n+\n int ERR_get_next_error_library(void)\n {\n     int ret;\n \n-    if (!RUN_ONCE(&err_string_init, do_err_strings_init)) {\n+    if (!RUN_ONCE(&err_string_init, do_err_strings_init))\n         return 0;\n-    }\n \n     CRYPTO_THREAD_write_lock(err_string_lock);\n     ret = int_err_library_number++;"
        },
        {
            "sha": "e2295c4dc589b4a8f7396ff74c4b003e9dab80e2",
            "filename": "deps/openssl/openssl/crypto/evp/cmeth_lib.c",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fcmeth_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fcmeth_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fcmeth_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -148,3 +148,4 @@ int (*EVP_CIPHER_meth_get_ctrl(const EVP_CIPHER *cipher))(EVP_CIPHER_CTX *,\n {\n     return cipher->ctrl;\n }\n+"
        },
        {
            "sha": "3543d44cb41680bbfd7c25996ab72d5bc6c0228a",
            "filename": "deps/openssl/openssl/crypto/evp/evp_err.c",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fevp_err.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fevp_err.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fevp_err.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -70,6 +70,8 @@ static ERR_STRING_DATA EVP_str_functs[] = {\n     {ERR_FUNC(EVP_F_EVP_PKEY_GET0_RSA), \"EVP_PKEY_get0_RSA\"},\n     {ERR_FUNC(EVP_F_EVP_PKEY_KEYGEN), \"EVP_PKEY_keygen\"},\n     {ERR_FUNC(EVP_F_EVP_PKEY_KEYGEN_INIT), \"EVP_PKEY_keygen_init\"},\n+    {ERR_FUNC(EVP_F_EVP_PKEY_METH_ADD0), \"EVP_PKEY_meth_add0\"},\n+    {ERR_FUNC(EVP_F_EVP_PKEY_METH_NEW), \"EVP_PKEY_meth_new\"},\n     {ERR_FUNC(EVP_F_EVP_PKEY_NEW), \"EVP_PKEY_new\"},\n     {ERR_FUNC(EVP_F_EVP_PKEY_PARAMGEN), \"EVP_PKEY_paramgen\"},\n     {ERR_FUNC(EVP_F_EVP_PKEY_PARAMGEN_INIT), \"EVP_PKEY_paramgen_init\"},\n@@ -143,6 +145,7 @@ static ERR_STRING_DATA EVP_str_reasons[] = {\n     {ERR_REASON(EVP_R_OPERATON_NOT_INITIALIZED), \"operaton not initialized\"},\n     {ERR_REASON(EVP_R_PARTIALLY_OVERLAPPING),\n      \"partially overlapping buffers\"},\n+    {ERR_REASON(EVP_R_PBKDF2_ERROR), \"pbkdf2 error\"},\n     {ERR_REASON(EVP_R_PKEY_APPLICATION_ASN1_METHOD_ALREADY_REGISTERED),\n      \"pkey application asn1 method already registered\"},\n     {ERR_REASON(EVP_R_PKEY_ASN1_METHOD_ALREADY_REGISTERED),"
        },
        {
            "sha": "f623db34836afa103cc00999c4cf82f8fd2519e6",
            "filename": "deps/openssl/openssl/crypto/evp/pmeth_lib.c",
            "status": "modified",
            "additions": 27,
            "deletions": 19,
            "changes": 46,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fpmeth_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fpmeth_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fpmeth_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -151,8 +151,10 @@ EVP_PKEY_METHOD *EVP_PKEY_meth_new(int id, int flags)\n     EVP_PKEY_METHOD *pmeth;\n \n     pmeth = OPENSSL_zalloc(sizeof(*pmeth));\n-    if (pmeth == NULL)\n+    if (pmeth == NULL) {\n+        EVPerr(EVP_F_EVP_PKEY_METH_NEW, ERR_R_MALLOC_FAILURE);\n         return NULL;\n+    }\n \n     pmeth->pkey_id = id;\n     pmeth->flags = flags | EVP_PKEY_FLAG_DYNAMIC;\n@@ -238,8 +240,10 @@ EVP_PKEY_CTX *EVP_PKEY_CTX_dup(EVP_PKEY_CTX *pctx)\n     }\n #endif\n     rctx = OPENSSL_malloc(sizeof(*rctx));\n-    if (rctx == NULL)\n+    if (rctx == NULL) {\n+        EVPerr(EVP_F_EVP_PKEY_CTX_DUP, ERR_R_MALLOC_FAILURE);\n         return NULL;\n+    }\n \n     rctx->pmeth = pctx->pmeth;\n #ifndef OPENSSL_NO_ENGINE\n@@ -273,11 +277,15 @@ int EVP_PKEY_meth_add0(const EVP_PKEY_METHOD *pmeth)\n {\n     if (app_pkey_methods == NULL) {\n         app_pkey_methods = sk_EVP_PKEY_METHOD_new(pmeth_cmp);\n-        if (app_pkey_methods == NULL)\n+        if (app_pkey_methods == NULL) {\n+            EVPerr(EVP_F_EVP_PKEY_METH_ADD0, ERR_R_MALLOC_FAILURE);\n             return 0;\n+        }\n     }\n-    if (!sk_EVP_PKEY_METHOD_push(app_pkey_methods, pmeth))\n+    if (!sk_EVP_PKEY_METHOD_push(app_pkey_methods, pmeth)) {\n+        EVPerr(EVP_F_EVP_PKEY_METH_ADD0, ERR_R_MALLOC_FAILURE);\n         return 0;\n+    }\n     sk_EVP_PKEY_METHOD_sort(app_pkey_methods);\n     return 1;\n }\n@@ -557,26 +565,26 @@ void EVP_PKEY_meth_set_ctrl(EVP_PKEY_METHOD *pmeth,\n     pmeth->ctrl_str = ctrl_str;\n }\n \n-void EVP_PKEY_meth_get_init(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_init(const EVP_PKEY_METHOD *pmeth,\n                             int (**pinit) (EVP_PKEY_CTX *ctx))\n {\n     *pinit = pmeth->init;\n }\n \n-void EVP_PKEY_meth_get_copy(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_copy(const EVP_PKEY_METHOD *pmeth,\n                             int (**pcopy) (EVP_PKEY_CTX *dst,\n                                            EVP_PKEY_CTX *src))\n {\n     *pcopy = pmeth->copy;\n }\n \n-void EVP_PKEY_meth_get_cleanup(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_cleanup(const EVP_PKEY_METHOD *pmeth,\n                                void (**pcleanup) (EVP_PKEY_CTX *ctx))\n {\n     *pcleanup = pmeth->cleanup;\n }\n \n-void EVP_PKEY_meth_get_paramgen(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_paramgen(const EVP_PKEY_METHOD *pmeth,\n                                 int (**pparamgen_init) (EVP_PKEY_CTX *ctx),\n                                 int (**pparamgen) (EVP_PKEY_CTX *ctx,\n                                                    EVP_PKEY *pkey))\n@@ -587,7 +595,7 @@ void EVP_PKEY_meth_get_paramgen(EVP_PKEY_METHOD *pmeth,\n         *pparamgen = pmeth->paramgen;\n }\n \n-void EVP_PKEY_meth_get_keygen(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_keygen(const EVP_PKEY_METHOD *pmeth,\n                               int (**pkeygen_init) (EVP_PKEY_CTX *ctx),\n                               int (**pkeygen) (EVP_PKEY_CTX *ctx,\n                                                EVP_PKEY *pkey))\n@@ -598,7 +606,7 @@ void EVP_PKEY_meth_get_keygen(EVP_PKEY_METHOD *pmeth,\n         *pkeygen = pmeth->keygen;\n }\n \n-void EVP_PKEY_meth_get_sign(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_sign(const EVP_PKEY_METHOD *pmeth,\n                             int (**psign_init) (EVP_PKEY_CTX *ctx),\n                             int (**psign) (EVP_PKEY_CTX *ctx,\n                                            unsigned char *sig, size_t *siglen,\n@@ -611,7 +619,7 @@ void EVP_PKEY_meth_get_sign(EVP_PKEY_METHOD *pmeth,\n         *psign = pmeth->sign;\n }\n \n-void EVP_PKEY_meth_get_verify(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verify(const EVP_PKEY_METHOD *pmeth,\n                               int (**pverify_init) (EVP_PKEY_CTX *ctx),\n                               int (**pverify) (EVP_PKEY_CTX *ctx,\n                                                const unsigned char *sig,\n@@ -625,7 +633,7 @@ void EVP_PKEY_meth_get_verify(EVP_PKEY_METHOD *pmeth,\n         *pverify = pmeth->verify;\n }\n \n-void EVP_PKEY_meth_get_verify_recover(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verify_recover(const EVP_PKEY_METHOD *pmeth,\n                                       int (**pverify_recover_init) (EVP_PKEY_CTX\n                                                                     *ctx),\n                                       int (**pverify_recover) (EVP_PKEY_CTX\n@@ -643,7 +651,7 @@ void EVP_PKEY_meth_get_verify_recover(EVP_PKEY_METHOD *pmeth,\n         *pverify_recover = pmeth->verify_recover;\n }\n \n-void EVP_PKEY_meth_get_signctx(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_signctx(const EVP_PKEY_METHOD *pmeth,\n                                int (**psignctx_init) (EVP_PKEY_CTX *ctx,\n                                                       EVP_MD_CTX *mctx),\n                                int (**psignctx) (EVP_PKEY_CTX *ctx,\n@@ -657,7 +665,7 @@ void EVP_PKEY_meth_get_signctx(EVP_PKEY_METHOD *pmeth,\n         *psignctx = pmeth->signctx;\n }\n \n-void EVP_PKEY_meth_get_verifyctx(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verifyctx(const EVP_PKEY_METHOD *pmeth,\n                                  int (**pverifyctx_init) (EVP_PKEY_CTX *ctx,\n                                                           EVP_MD_CTX *mctx),\n                                  int (**pverifyctx) (EVP_PKEY_CTX *ctx,\n@@ -671,7 +679,7 @@ void EVP_PKEY_meth_get_verifyctx(EVP_PKEY_METHOD *pmeth,\n         *pverifyctx = pmeth->verifyctx;\n }\n \n-void EVP_PKEY_meth_get_encrypt(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_encrypt(const EVP_PKEY_METHOD *pmeth,\n                                int (**pencrypt_init) (EVP_PKEY_CTX *ctx),\n                                int (**pencryptfn) (EVP_PKEY_CTX *ctx,\n                                                    unsigned char *out,\n@@ -685,7 +693,7 @@ void EVP_PKEY_meth_get_encrypt(EVP_PKEY_METHOD *pmeth,\n         *pencryptfn = pmeth->encrypt;\n }\n \n-void EVP_PKEY_meth_get_decrypt(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_decrypt(const EVP_PKEY_METHOD *pmeth,\n                                int (**pdecrypt_init) (EVP_PKEY_CTX *ctx),\n                                int (**pdecrypt) (EVP_PKEY_CTX *ctx,\n                                                  unsigned char *out,\n@@ -699,7 +707,7 @@ void EVP_PKEY_meth_get_decrypt(EVP_PKEY_METHOD *pmeth,\n         *pdecrypt = pmeth->decrypt;\n }\n \n-void EVP_PKEY_meth_get_derive(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_derive(const EVP_PKEY_METHOD *pmeth,\n                               int (**pderive_init) (EVP_PKEY_CTX *ctx),\n                               int (**pderive) (EVP_PKEY_CTX *ctx,\n                                                unsigned char *key,\n@@ -711,7 +719,7 @@ void EVP_PKEY_meth_get_derive(EVP_PKEY_METHOD *pmeth,\n         *pderive = pmeth->derive;\n }\n \n-void EVP_PKEY_meth_get_ctrl(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_ctrl(const EVP_PKEY_METHOD *pmeth,\n                             int (**pctrl) (EVP_PKEY_CTX *ctx, int type, int p1,\n                                            void *p2),\n                             int (**pctrl_str) (EVP_PKEY_CTX *ctx,"
        },
        {
            "sha": "3543df540337ca8c3e5de57dea201b8f4f1501e6",
            "filename": "deps/openssl/openssl/crypto/evp/scrypt.c",
            "status": "modified",
            "additions": 19,
            "deletions": 6,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fscrypt.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fscrypt.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fevp%2Fscrypt.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -171,17 +171,21 @@ int EVP_PBE_scrypt(const char *pass, size_t passlen,\n     if (r == 0 || p == 0 || N < 2 || (N & (N - 1)))\n         return 0;\n     /* Check p * r < SCRYPT_PR_MAX avoiding overflow */\n-    if (p > SCRYPT_PR_MAX / r)\n+    if (p > SCRYPT_PR_MAX / r) {\n+        EVPerr(EVP_F_EVP_PBE_SCRYPT, EVP_R_MEMORY_LIMIT_EXCEEDED);\n         return 0;\n+    }\n \n     /*\n      * Need to check N: if 2^(128 * r / 8) overflows limit this is\n      * automatically satisfied since N <= UINT64_MAX.\n      */\n \n     if (16 * r <= LOG2_UINT64_MAX) {\n-        if (N >= (((uint64_t)1) << (16 * r)))\n+        if (N >= (((uint64_t)1) << (16 * r))) {\n+            EVPerr(EVP_F_EVP_PBE_SCRYPT, EVP_R_MEMORY_LIMIT_EXCEEDED);\n             return 0;\n+        }\n     }\n \n     /* Memory checks: check total allocated buffer size fits in uint64_t */\n@@ -199,13 +203,17 @@ int EVP_PBE_scrypt(const char *pass, size_t passlen,\n      * This is combined size V, X and T (section 4)\n      */\n     i = UINT64_MAX / (32 * sizeof(uint32_t));\n-    if (N + 2 > i / r)\n+    if (N + 2 > i / r) {\n+        EVPerr(EVP_F_EVP_PBE_SCRYPT, EVP_R_MEMORY_LIMIT_EXCEEDED);\n         return 0;\n+    }\n     Vlen = 32 * r * (N + 2) * sizeof(uint32_t);\n \n     /* check total allocated size fits in uint64_t */\n-    if (Blen > UINT64_MAX - Vlen)\n+    if (Blen > UINT64_MAX - Vlen) {\n+        EVPerr(EVP_F_EVP_PBE_SCRYPT, EVP_R_MEMORY_LIMIT_EXCEEDED);\n         return 0;\n+    }\n     /* check total allocated size fits in size_t */\n     if (Blen > SIZE_MAX - Vlen)\n         return 0;\n@@ -225,8 +233,10 @@ int EVP_PBE_scrypt(const char *pass, size_t passlen,\n         return 1;\n \n     B = OPENSSL_malloc(allocsize);\n-    if (B == NULL)\n+    if (B == NULL) {\n+        EVPerr(EVP_F_EVP_PBE_SCRYPT, ERR_R_MALLOC_FAILURE);\n         return 0;\n+    }\n     X = (uint32_t *)(B + Blen);\n     T = X + 32 * r;\n     V = T + 32 * r;\n@@ -242,6 +252,9 @@ int EVP_PBE_scrypt(const char *pass, size_t passlen,\n         goto err;\n     rv = 1;\n  err:\n+    if (rv == 0)\n+        EVPerr(EVP_F_EVP_PBE_SCRYPT, EVP_R_PBKDF2_ERROR);\n+\n     OPENSSL_clear_free(B, allocsize);\n     return rv;\n }"
        },
        {
            "sha": "6e3072f2a9480c5b2b46e8fa5ffe00ecd1ed3e6d",
            "filename": "deps/openssl/openssl/crypto/ex_data.c",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fex_data.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fex_data.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fex_data.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -38,7 +38,8 @@ static CRYPTO_ONCE ex_data_init = CRYPTO_ONCE_STATIC_INIT;\n \n DEFINE_RUN_ONCE_STATIC(do_ex_data_init)\n {\n-    OPENSSL_init_crypto(0, NULL);\n+    if (!OPENSSL_init_crypto(0, NULL))\n+        return 0;\n     ex_data_lock = CRYPTO_THREAD_lock_new();\n     return ex_data_lock != NULL;\n }"
        },
        {
            "sha": "5f63860808b6d246ab8a55519e0075af242afb6a",
            "filename": "deps/openssl/openssl/crypto/include/internal/__DECC_INCLUDE_EPILOGUE.H",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,16 @@\n+/*\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+/*\n+ * This file is only used by HP C on VMS, and is included automatically\n+ * after each header file from this directory\n+ */\n+\n+/* restore state.  Must correspond to the save in __decc_include_prologue.h */\n+#pragma names restore"
        },
        {
            "sha": "78b2a87d8868315db8d83351b3e86ddcaab357a0",
            "filename": "deps/openssl/openssl/crypto/include/internal/__DECC_INCLUDE_PROLOGUE.H",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,20 @@\n+/*\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+/*\n+ * This file is only used by HP C on VMS, and is included automatically\n+ * after each header file from this directory\n+ */\n+\n+/* save state */\n+#pragma names save\n+/* have the compiler shorten symbols larger than 31 chars to 23 chars\n+ * followed by a 8 hex char CRC\n+ */\n+#pragma names as_is,shortened"
        },
        {
            "sha": "ba9c062702c54559967eb05f52147413f515d26b",
            "filename": "deps/openssl/openssl/crypto/include/internal/asn1_int.h",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasn1_int.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasn1_int.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasn1_int.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -90,5 +90,3 @@ struct asn1_pctx_st {\n     unsigned long oid_flags;\n     unsigned long str_flags;\n } /* ASN1_PCTX */ ;\n-\n-int asn1_valid_host(const ASN1_STRING *host);"
        },
        {
            "sha": "dc8e937b0ceda76196da6ed26f2643f215d1eb4f",
            "filename": "deps/openssl/openssl/crypto/include/internal/async.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasync.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasync.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fasync.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -11,3 +11,5 @@\n \n int async_init(void);\n void async_deinit(void);\n+void async_delete_thread_state(void);\n+"
        },
        {
            "sha": "79400c6472a49cae9ed8cfe7a048168e248aea56",
            "filename": "deps/openssl/openssl/crypto/include/internal/bn_conf.h",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_conf.h",
            "raw_url": "https://github.com/nodejs/node/raw/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_conf.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_conf.h?ref=32902d09b43e9d7f19eb6178ef5db835652d97c1",
            "patch": "@@ -1 +0,0 @@\n-#include \"../../../config/bn_conf.h\""
        },
        {
            "sha": "2fcdd0d13e19bfaf383d89f07c8b2d8dbc35f9b4",
            "filename": "deps/openssl/openssl/crypto/include/internal/bn_int.h",
            "status": "modified",
            "additions": 16,
            "deletions": 3,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_int.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_int.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fbn_int.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -53,7 +53,7 @@ BN_ULONG *bn_get_words(const BIGNUM *a);\n  * Set the internal data words in a to point to words which contains size\n  * elements. The BN_FLG_STATIC_DATA flag is set\n  */\n-void bn_set_static_words(BIGNUM *a, BN_ULONG *words, int size);\n+void bn_set_static_words(BIGNUM *a, const BN_ULONG *words, int size);\n \n /*\n  * Copy words into the BIGNUM |a|, reallocating space as necessary.\n@@ -64,7 +64,7 @@ void bn_set_static_words(BIGNUM *a, BN_ULONG *words, int size);\n  * |num_words| is int because bn_expand2 takes an int. This is an internal\n  * function so we simply trust callers not to pass negative values.\n  */\n-int bn_set_words(BIGNUM *a, BN_ULONG *words, int num_words);\n+int bn_set_words(BIGNUM *a, const BN_ULONG *words, int num_words);\n \n size_t bn_sizeof_BIGNUM(void);\n \n@@ -74,6 +74,19 @@ size_t bn_sizeof_BIGNUM(void);\n  */\n BIGNUM *bn_array_el(BIGNUM *base, int el);\n \n+/*\n+ * Some BIGNUM functions assume most significant limb to be non-zero, which\n+ * is customarily arranged by bn_correct_top. Output from below functions\n+ * is not processed with bn_correct_top, and for this reason it may not be\n+ * returned out of public API. It may only be passed internally into other\n+ * functions known to support non-minimal or zero-padded BIGNUMs.\n+ */\n+int bn_mul_mont_fixed_top(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n+                          BN_MONT_CTX *mont, BN_CTX *ctx);\n+int bn_to_mont_fixed_top(BIGNUM *r, const BIGNUM *a, BN_MONT_CTX *mont,\n+                         BN_CTX *ctx);\n+int bn_mod_add_fixed_top(BIGNUM *r, const BIGNUM *a, const BIGNUM *b,\n+                         const BIGNUM *m);\n \n #ifdef  __cplusplus\n }"
        },
        {
            "sha": "627fd8caf4a11b80d29da5cc5a2d3bdcd86456c8",
            "filename": "deps/openssl/openssl/crypto/include/internal/cryptlib.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -74,6 +74,8 @@ FILE *openssl_fopen(const char *filename, const char *mode);\n void *openssl_fopen(const char *filename, const char *mode);\n # endif\n \n+unsigned long OPENSSL_rdtsc(void);\n+\n #ifdef  __cplusplus\n }\n #endif"
        },
        {
            "sha": "ceeb63ddd0d68ab84acd9544d9739ba3ee19e6f9",
            "filename": "deps/openssl/openssl/crypto/include/internal/cryptlib_int.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib_int.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib_int.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fcryptlib_int.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -24,7 +24,9 @@ int ossl_init_thread_start(uint64_t opts);\n  * use\".\n  */\n # define OPENSSL_INIT_ZLIB                   0x00010000L\n+# define OPENSSL_INIT_BASE_ONLY              0x00040000L\n \n /* OPENSSL_INIT_THREAD flags */\n # define OPENSSL_INIT_THREAD_ASYNC           0x01\n # define OPENSSL_INIT_THREAD_ERR_STATE       0x02\n+"
        },
        {
            "sha": "e7f2afa987232015f304c7a4e421e3c352a7ce3d",
            "filename": "deps/openssl/openssl/crypto/include/internal/dso_conf.h",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fdso_conf.h",
            "raw_url": "https://github.com/nodejs/node/raw/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fdso_conf.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fdso_conf.h?ref=32902d09b43e9d7f19eb6178ef5db835652d97c1",
            "patch": "@@ -1 +0,0 @@\n-#include \"../../../config/dso_conf.h\""
        },
        {
            "sha": "44ac9446275001e0ae3949479c5a9836ff0f22ff",
            "filename": "deps/openssl/openssl/crypto/include/internal/err_int.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Ferr_int.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Ferr_int.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Ferr_int.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -13,5 +13,7 @@\n int err_load_crypto_strings_int(void);\n void err_cleanup(void);\n void err_delete_thread_state(void);\n+int err_shelve_state(void **);\n+void err_unshelve_state(void *);\n \n #endif"
        },
        {
            "sha": "eb439977049b72fc2be5c64e03b47cbe0b5b6b03",
            "filename": "deps/openssl/openssl/crypto/include/internal/x509_int.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fx509_int.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fx509_int.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finclude%2Finternal%2Fx509_int.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -166,6 +166,7 @@ struct x509_st {\n     unsigned char sha1_hash[SHA_DIGEST_LENGTH];\n     X509_CERT_AUX *aux;\n     CRYPTO_RWLOCK *lock;\n+    volatile int ex_cached;\n } /* X509 */ ;\n \n /*"
        },
        {
            "sha": "00a91792d8387149f905f1cd147b138ed0df0b12",
            "filename": "deps/openssl/openssl/crypto/init.c",
            "status": "modified",
            "additions": 93,
            "deletions": 45,
            "changes": 138,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finit.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finit.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Finit.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -27,29 +27,43 @@\n \n static int stopped = 0;\n \n-static void ossl_init_thread_stop(struct thread_local_inits_st *locals);\n+/*\n+ * Since per-thread-specific-data destructors are not universally\n+ * available, i.e. not on Windows, only below CRYPTO_THREAD_LOCAL key\n+ * is assumed to have destructor associated. And then an effort is made\n+ * to call this single destructor on non-pthread platform[s].\n+ *\n+ * Initial value is \"impossible\". It is used as guard value to shortcut\n+ * destructor for threads terminating before libcrypto is initialized or\n+ * after it's de-initialized. Access to the key doesn't have to be\n+ * serialized for the said threads, because they didn't use libcrypto\n+ * and it doesn't matter if they pick \"impossible\" or derefernce real\n+ * key value and pull NULL past initialization in the first thread that\n+ * intends to use libcrypto.\n+ */\n+static CRYPTO_THREAD_LOCAL destructor_key = (CRYPTO_THREAD_LOCAL)-1;\n \n-static CRYPTO_THREAD_LOCAL threadstopkey;\n+static void ossl_init_thread_stop(struct thread_local_inits_st *locals);\n \n-static void ossl_init_thread_stop_wrap(void *local)\n+static void ossl_init_thread_destructor(void *local)\n {\n     ossl_init_thread_stop((struct thread_local_inits_st *)local);\n }\n \n static struct thread_local_inits_st *ossl_init_get_thread_local(int alloc)\n {\n     struct thread_local_inits_st *local =\n-        CRYPTO_THREAD_get_local(&threadstopkey);\n+        CRYPTO_THREAD_get_local(&destructor_key);\n \n-    if (local == NULL && alloc) {\n-        local = OPENSSL_zalloc(sizeof(*local));\n-        if (local != NULL && !CRYPTO_THREAD_set_local(&threadstopkey, local)) {\n+    if (alloc) {\n+        if (local == NULL\n+            && (local = OPENSSL_zalloc(sizeof(*local))) != NULL\n+            && !CRYPTO_THREAD_set_local(&destructor_key, local)) {\n             OPENSSL_free(local);\n             return NULL;\n         }\n-    }\n-    if (!alloc) {\n-        CRYPTO_THREAD_set_local(&threadstopkey, NULL);\n+    } else {\n+        CRYPTO_THREAD_set_local(&destructor_key, NULL);\n     }\n \n     return local;\n@@ -68,29 +82,42 @@ static CRYPTO_ONCE base = CRYPTO_ONCE_STATIC_INIT;\n static int base_inited = 0;\n DEFINE_RUN_ONCE_STATIC(ossl_init_base)\n {\n+    CRYPTO_THREAD_LOCAL key;\n+\n #ifdef OPENSSL_INIT_DEBUG\n     fprintf(stderr, \"OPENSSL_INIT: ossl_init_base: Setting up stop handlers\\n\");\n #endif\n-    /*\n-     * We use a dummy thread local key here. We use the destructor to detect\n-     * when the thread is going to stop (where that feature is available)\n-     */\n-    CRYPTO_THREAD_init_local(&threadstopkey, ossl_init_thread_stop_wrap);\n+    if (!CRYPTO_THREAD_init_local(&key, ossl_init_thread_destructor))\n+        return 0;\n+    if ((init_lock = CRYPTO_THREAD_lock_new()) == NULL)\n+        goto err;\n #ifndef OPENSSL_SYS_UEFI\n-    atexit(OPENSSL_cleanup);\n+    if (atexit(OPENSSL_cleanup) != 0)\n+        goto err;\n #endif\n-    if ((init_lock = CRYPTO_THREAD_lock_new()) == NULL)\n-        return 0;\n     OPENSSL_cpuid_setup();\n \n-    /*\n-     * BIG FAT WARNING!\n-     * Everything needed to be initialized in this function before threads\n-     * come along MUST happen before base_inited is set to 1, or we will\n-     * see race conditions.\n-     */\n+    destructor_key = key;\n     base_inited = 1;\n+    return 1;\n+\n+err:\n+#ifdef OPENSSL_INIT_DEBUG\n+    fprintf(stderr, \"OPENSSL_INIT: ossl_init_base not ok!\\n\");\n+#endif\n+    CRYPTO_THREAD_lock_free(init_lock);\n+    init_lock = NULL;\n+\n+    CRYPTO_THREAD_cleanup_local(&key);\n+    return 0;\n+}\n \n+static CRYPTO_ONCE load_crypto_nodelete = CRYPTO_ONCE_STATIC_INIT;\n+DEFINE_RUN_ONCE_STATIC(ossl_init_load_crypto_nodelete)\n+{\n+#ifdef OPENSSL_INIT_DEBUG\n+    fprintf(stderr, \"OPENSSL_INIT: ossl_init_load_crypto_nodelete()\\n\");\n+#endif\n #if !defined(OPENSSL_NO_DSO) && !defined(OPENSSL_USE_NODELETE)\n # ifdef DSO_WIN32\n     {\n@@ -102,6 +129,10 @@ DEFINE_RUN_ONCE_STATIC(ossl_init_base)\n                                 | GET_MODULE_HANDLE_EX_FLAG_PIN,\n                                 (void *)&base_inited, &handle);\n \n+#  ifdef OPENSSL_INIT_DEBUG\n+        fprintf(stderr, \"OPENSSL_INIT: obtained DSO reference? %s\\n\",\n+                (ret == TRUE ? \"No!\" : \"Yes.\"));\n+#  endif\n         return (ret == TRUE) ? 1 : 0;\n     }\n # else\n@@ -110,12 +141,24 @@ DEFINE_RUN_ONCE_STATIC(ossl_init_base)\n      * to remain loaded until the atexit() handler is run at process exit.\n      */\n     {\n-        DSO *dso = NULL;\n+        DSO *dso;\n+        void *err;\n+\n+        if (!err_shelve_state(&err))\n+            return 0;\n \n-        ERR_set_mark();\n         dso = DSO_dsobyaddr(&base_inited, DSO_FLAG_NO_UNLOAD_ON_FREE);\n+#  ifdef OPENSSL_INIT_DEBUG\n+        fprintf(stderr, \"OPENSSL_INIT: obtained DSO reference? %s\\n\",\n+                (dso == NULL ? \"No!\" : \"Yes.\"));\n+        /*\n+         * In case of No!, it is uncertain our exit()-handlers can still be\n+         * called. After dlclose() the whole library might have been unloaded\n+         * already.\n+         */\n+#  endif\n         DSO_free(dso);\n-        ERR_pop_to_mark();\n+        err_unshelve_state(err);\n     }\n # endif\n #endif\n@@ -145,7 +188,7 @@ DEFINE_RUN_ONCE_STATIC(ossl_init_load_crypto_strings)\n # endif\n     ret = err_load_crypto_strings_int();\n     load_crypto_strings_inited = 1;\n-#endif\n+#endif    \n     return ret;\n }\n \n@@ -335,9 +378,9 @@ static void ossl_init_thread_stop(struct thread_local_inits_st *locals)\n     if (locals->async) {\n #ifdef OPENSSL_INIT_DEBUG\n         fprintf(stderr, \"OPENSSL_INIT: ossl_init_thread_stop: \"\n-                        \"ASYNC_cleanup_thread()\\n\");\n+                        \"async_delete_thread_state()\\n\");\n #endif\n-        ASYNC_cleanup_thread();\n+        async_delete_thread_state();\n     }\n \n     if (locals->err_state) {\n@@ -353,8 +396,8 @@ static void ossl_init_thread_stop(struct thread_local_inits_st *locals)\n \n void OPENSSL_thread_stop(void)\n {\n-    ossl_init_thread_stop(\n-        (struct thread_local_inits_st *)ossl_init_get_thread_local(0));\n+    if (destructor_key != (CRYPTO_THREAD_LOCAL)-1)\n+        ossl_init_thread_stop(ossl_init_get_thread_local(0));\n }\n \n int ossl_init_thread_start(uint64_t opts)\n@@ -391,6 +434,7 @@ int ossl_init_thread_start(uint64_t opts)\n void OPENSSL_cleanup(void)\n {\n     OPENSSL_INIT_STOP *currhandler, *lasthandler;\n+    CRYPTO_THREAD_LOCAL key;\n \n     /* If we've not been inited then no need to deinit */\n     if (!base_inited)\n@@ -449,7 +493,9 @@ void OPENSSL_cleanup(void)\n         err_free_strings_int();\n     }\n \n-    CRYPTO_THREAD_cleanup_local(&threadstopkey);\n+    key = destructor_key;\n+    destructor_key = (CRYPTO_THREAD_LOCAL)-1;\n+    CRYPTO_THREAD_cleanup_local(&key);\n \n #ifdef OPENSSL_INIT_DEBUG\n     fprintf(stderr, \"OPENSSL_INIT: OPENSSL_cleanup: \"\n@@ -505,22 +551,18 @@ void OPENSSL_cleanup(void)\n  */\n int OPENSSL_init_crypto(uint64_t opts, const OPENSSL_INIT_SETTINGS *settings)\n {\n-    static int stoperrset = 0;\n-\n     if (stopped) {\n-        if (!stoperrset) {\n-            /*\n-             * We only ever set this once to avoid getting into an infinite\n-             * loop where the error system keeps trying to init and fails so\n-             * sets an error etc\n-             */\n-            stoperrset = 1;\n+        if (!(opts & OPENSSL_INIT_BASE_ONLY))\n             CRYPTOerr(CRYPTO_F_OPENSSL_INIT_CRYPTO, ERR_R_INIT_FAIL);\n-        }\n         return 0;\n     }\n \n-    if (!base_inited && !RUN_ONCE(&base, ossl_init_base))\n+    if (!RUN_ONCE(&base, ossl_init_base))\n+        return 0;\n+\n+    if (!(opts & OPENSSL_INIT_BASE_ONLY)\n+            && !RUN_ONCE(&load_crypto_nodelete,\n+                         ossl_init_load_crypto_nodelete))\n         return 0;\n \n     if ((opts & OPENSSL_INIT_NO_LOAD_CRYPTO_STRINGS)\n@@ -657,6 +699,12 @@ int OPENSSL_atexit(void (*handler)(void))\n \n             ERR_set_mark();\n             dso = DSO_dsobyaddr(handlersym.sym, DSO_FLAG_NO_UNLOAD_ON_FREE);\n+#  ifdef OPENSSL_INIT_DEBUG\n+            fprintf(stderr,\n+                    \"OPENSSL_INIT: OPENSSL_atexit: obtained DSO reference? %s\\n\",\n+                    (dso == NULL ? \"No!\" : \"Yes.\"));\n+            /* See same code above in ossl_init_base() for an explanation. */\n+#  endif\n             DSO_free(dso);\n             ERR_pop_to_mark();\n         }"
        },
        {
            "sha": "f48541171c5f1b4d4de462b88218623fac7f1575",
            "filename": "deps/openssl/openssl/crypto/lhash/lhash.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -49,7 +49,7 @@ OPENSSL_LHASH *OPENSSL_LH_new(OPENSSL_LH_HASHFUNC h, OPENSSL_LH_COMPFUNC c)\n         return NULL;\n     if ((ret->b = OPENSSL_zalloc(sizeof(*ret->b) * MIN_NODES)) == NULL)\n         goto err;\n-    if ((ret->retrieve_stats_lock = CRYPTO_THREAD_lock_new()) == NULL)\n+    if ((ret->retrieve_stats_lock = CRYPTO_THREAD_lock_new()) == NULL) \n         goto err;\n     ret->comp = ((c == NULL) ? (OPENSSL_LH_COMPFUNC)strcmp : c);\n     ret->hash = ((h == NULL) ? (OPENSSL_LH_HASHFUNC)OPENSSL_LH_strhash : h);"
        },
        {
            "sha": "01d463fb3637ef427615b7c177ed2b667d07d65b",
            "filename": "deps/openssl/openssl/crypto/lhash/lhash_lcl.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Flhash%2Flhash_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -21,7 +21,7 @@ struct lhash_st {\n     /*\n      * some stats are updated on lookup, which callers aren't expecting to have\n      * to take an exclusive lock around. This lock protects them on platforms\n-     * without atomics, and their types are int rather than unsigned long below\n+     * without atomics, and their types are int rather than unsigned long below \n      * so they can be adjusted with CRYPTO_atomic_add.\n      */\n     CRYPTO_RWLOCK *retrieve_stats_lock;"
        },
        {
            "sha": "1cf14a6c9f76d177049c0a710292676aa1b98f17",
            "filename": "deps/openssl/openssl/crypto/modes/asm/ghash-armv4.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghash-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghash-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghash-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2010-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2010-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -145,18 +145,15 @@ ()\n .text\n #if defined(__thumb2__) || defined(__clang__)\n .syntax\tunified\n+#define ldrplb  ldrbpl\n+#define ldrneb  ldrbne\n #endif\n #if defined(__thumb2__)\n .thumb\n #else\n .code\t32\n #endif\n \n-#ifdef  __clang__\n-#define ldrplb  ldrbpl\n-#define ldrneb  ldrbne\n-#endif\n-\n .type\trem_4bit,%object\n .align\t5\n rem_4bit:"
        },
        {
            "sha": "e13c70901920c8246bd6a9d825bef05932f89077",
            "filename": "deps/openssl/openssl/crypto/modes/asm/ghashv8-armx.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghashv8-armx.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghashv8-armx.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fasm%2Fghashv8-armx.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -64,6 +64,7 @@\n $code=<<___;\n #include \"arm_arch.h\"\n \n+#if __ARM_MAX_ARCH__>=7\n .text\n ___\n $code.=\".arch\tarmv8-a+crypto\\n\"\tif ($flavour =~ /64/);\n@@ -351,6 +352,7 @@\n $code.=<<___;\n .asciz  \"GHASH for ARMv8, CRYPTOGAMS by <appro\\@openssl.org>\"\n .align  2\n+#endif\n ___\n \n if ($flavour =~ /64/) {\t\t\t######## 64-bit code"
        },
        {
            "sha": "38195c44a56570069a7aaceefe7e170e6e31d835",
            "filename": "deps/openssl/openssl/crypto/modes/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -19,8 +19,6 @@ GENERATE[ghash-armv4.S]=asm/ghash-armv4.pl $(PERLASM_SCHEME)\n INCLUDE[ghash-armv4.o]=..\n GENERATE[ghashv8-armx.S]=asm/ghashv8-armx.pl $(PERLASM_SCHEME)\n INCLUDE[ghashv8-armx.o]=..\n-GENERATE[ghash-s390x.S]=asm/ghash-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[ghash-s390x.o]=..\n \n BEGINRAW[Makefile]\n # GNU make \"catch all\""
        },
        {
            "sha": "4fc32e190fb3ea63c686c2372ded26e8adf5e224",
            "filename": "deps/openssl/openssl/crypto/modes/modes_lcl.h",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fmodes_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fmodes_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Fmodes_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2010-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2010-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -174,12 +174,13 @@ struct ocb128_context {\n     OCB_BLOCK l_dollar;\n     OCB_BLOCK *l;\n     /* Must be reset for each session */\n-    u64 blocks_hashed;\n-    u64 blocks_processed;\n-    OCB_BLOCK tag;\n-    OCB_BLOCK offset_aad;\n-    OCB_BLOCK sum;\n-    OCB_BLOCK offset;\n-    OCB_BLOCK checksum;\n+    struct {\n+        u64 blocks_hashed;\n+        u64 blocks_processed;\n+        OCB_BLOCK offset_aad;\n+        OCB_BLOCK sum;\n+        OCB_BLOCK offset;\n+        OCB_BLOCK checksum;\n+    } sess;\n };\n #endif                          /* OPENSSL_NO_OCB */"
        },
        {
            "sha": "fc92b246bd517016f1cd8e65a947fa95388e159c",
            "filename": "deps/openssl/openssl/crypto/modes/ocb128.c",
            "status": "modified",
            "additions": 62,
            "deletions": 61,
            "changes": 123,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Focb128.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Focb128.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fmodes%2Focb128.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -236,6 +236,9 @@ int CRYPTO_ocb128_setiv(OCB128_CONTEXT *ctx, const unsigned char *iv,\n         return -1;\n     }\n \n+    /* Reset nonce-dependent variables */\n+    memset(&ctx->sess, 0, sizeof(ctx->sess));\n+\n     /* Nonce = num2str(TAGLEN mod 128,7) || zeros(120-bitlen(N)) || 1 || N */\n     nonce[0] = ((taglen * 8) % 128) << 1;\n     memset(nonce + 1, 0, 15);\n@@ -256,10 +259,10 @@ int CRYPTO_ocb128_setiv(OCB128_CONTEXT *ctx, const unsigned char *iv,\n \n     /* Offset_0 = Stretch[1+bottom..128+bottom] */\n     shift = bottom % 8;\n-    ocb_block_lshift(stretch + (bottom / 8), shift, ctx->offset.c);\n+    ocb_block_lshift(stretch + (bottom / 8), shift, ctx->sess.offset.c);\n     mask = 0xff;\n     mask <<= 8 - shift;\n-    ctx->offset.c[15] |=\n+    ctx->sess.offset.c[15] |=\n         (*(stretch + (bottom / 8) + 16) & mask) >> (8 - shift);\n \n     return 1;\n@@ -278,25 +281,25 @@ int CRYPTO_ocb128_aad(OCB128_CONTEXT *ctx, const unsigned char *aad,\n \n     /* Calculate the number of blocks of AAD provided now, and so far */\n     num_blocks = len / 16;\n-    all_num_blocks = num_blocks + ctx->blocks_hashed;\n+    all_num_blocks = num_blocks + ctx->sess.blocks_hashed;\n \n     /* Loop through all full blocks of AAD */\n-    for (i = ctx->blocks_hashed + 1; i <= all_num_blocks; i++) {\n+    for (i = ctx->sess.blocks_hashed + 1; i <= all_num_blocks; i++) {\n         OCB_BLOCK *lookup;\n \n         /* Offset_i = Offset_{i-1} xor L_{ntz(i)} */\n         lookup = ocb_lookup_l(ctx, ocb_ntz(i));\n         if (lookup == NULL)\n             return 0;\n-        ocb_block16_xor(&ctx->offset_aad, lookup, &ctx->offset_aad);\n+        ocb_block16_xor(&ctx->sess.offset_aad, lookup, &ctx->sess.offset_aad);\n \n         memcpy(tmp.c, aad, 16);\n         aad += 16;\n \n         /* Sum_i = Sum_{i-1} xor ENCIPHER(K, A_i xor Offset_i) */\n-        ocb_block16_xor(&ctx->offset_aad, &tmp, &tmp);\n+        ocb_block16_xor(&ctx->sess.offset_aad, &tmp, &tmp);\n         ctx->encrypt(tmp.c, tmp.c, ctx->keyenc);\n-        ocb_block16_xor(&tmp, &ctx->sum, &ctx->sum);\n+        ocb_block16_xor(&tmp, &ctx->sess.sum, &ctx->sess.sum);\n     }\n \n     /*\n@@ -307,20 +310,21 @@ int CRYPTO_ocb128_aad(OCB128_CONTEXT *ctx, const unsigned char *aad,\n \n     if (last_len > 0) {\n         /* Offset_* = Offset_m xor L_* */\n-        ocb_block16_xor(&ctx->offset_aad, &ctx->l_star, &ctx->offset_aad);\n+        ocb_block16_xor(&ctx->sess.offset_aad, &ctx->l_star,\n+                        &ctx->sess.offset_aad);\n \n         /* CipherInput = (A_* || 1 || zeros(127-bitlen(A_*))) xor Offset_* */\n         memset(tmp.c, 0, 16);\n         memcpy(tmp.c, aad, last_len);\n         tmp.c[last_len] = 0x80;\n-        ocb_block16_xor(&ctx->offset_aad, &tmp, &tmp);\n+        ocb_block16_xor(&ctx->sess.offset_aad, &tmp, &tmp);\n \n         /* Sum = Sum_m xor ENCIPHER(K, CipherInput) */\n         ctx->encrypt(tmp.c, tmp.c, ctx->keyenc);\n-        ocb_block16_xor(&tmp, &ctx->sum, &ctx->sum);\n+        ocb_block16_xor(&tmp, &ctx->sess.sum, &ctx->sess.sum);\n     }\n \n-    ctx->blocks_hashed = all_num_blocks;\n+    ctx->sess.blocks_hashed = all_num_blocks;\n \n     return 1;\n }\n@@ -341,7 +345,7 @@ int CRYPTO_ocb128_encrypt(OCB128_CONTEXT *ctx,\n      * so far\n      */\n     num_blocks = len / 16;\n-    all_num_blocks = num_blocks + ctx->blocks_processed;\n+    all_num_blocks = num_blocks + ctx->sess.blocks_processed;\n \n     if (num_blocks && all_num_blocks == (size_t)all_num_blocks\n         && ctx->stream != NULL) {\n@@ -357,30 +361,30 @@ int CRYPTO_ocb128_encrypt(OCB128_CONTEXT *ctx,\n             return 0;\n \n         ctx->stream(in, out, num_blocks, ctx->keyenc,\n-                    (size_t)ctx->blocks_processed + 1, ctx->offset.c,\n-                    (const unsigned char (*)[16])ctx->l, ctx->checksum.c);\n+                    (size_t)ctx->sess.blocks_processed + 1, ctx->sess.offset.c,\n+                    (const unsigned char (*)[16])ctx->l, ctx->sess.checksum.c);\n     } else {\n         /* Loop through all full blocks to be encrypted */\n-        for (i = ctx->blocks_processed + 1; i <= all_num_blocks; i++) {\n+        for (i = ctx->sess.blocks_processed + 1; i <= all_num_blocks; i++) {\n             OCB_BLOCK *lookup;\n             OCB_BLOCK tmp;\n \n             /* Offset_i = Offset_{i-1} xor L_{ntz(i)} */\n             lookup = ocb_lookup_l(ctx, ocb_ntz(i));\n             if (lookup == NULL)\n                 return 0;\n-            ocb_block16_xor(&ctx->offset, lookup, &ctx->offset);\n+            ocb_block16_xor(&ctx->sess.offset, lookup, &ctx->sess.offset);\n \n             memcpy(tmp.c, in, 16);\n             in += 16;\n \n             /* Checksum_i = Checksum_{i-1} xor P_i */\n-            ocb_block16_xor(&tmp, &ctx->checksum, &ctx->checksum);\n+            ocb_block16_xor(&tmp, &ctx->sess.checksum, &ctx->sess.checksum);\n \n             /* C_i = Offset_i xor ENCIPHER(K, P_i xor Offset_i) */\n-            ocb_block16_xor(&ctx->offset, &tmp, &tmp);\n+            ocb_block16_xor(&ctx->sess.offset, &tmp, &tmp);\n             ctx->encrypt(tmp.c, tmp.c, ctx->keyenc);\n-            ocb_block16_xor(&ctx->offset, &tmp, &tmp);\n+            ocb_block16_xor(&ctx->sess.offset, &tmp, &tmp);\n \n             memcpy(out, tmp.c, 16);\n             out += 16;\n@@ -397,10 +401,10 @@ int CRYPTO_ocb128_encrypt(OCB128_CONTEXT *ctx,\n         OCB_BLOCK pad;\n \n         /* Offset_* = Offset_m xor L_* */\n-        ocb_block16_xor(&ctx->offset, &ctx->l_star, &ctx->offset);\n+        ocb_block16_xor(&ctx->sess.offset, &ctx->l_star, &ctx->sess.offset);\n \n         /* Pad = ENCIPHER(K, Offset_*) */\n-        ctx->encrypt(ctx->offset.c, pad.c, ctx->keyenc);\n+        ctx->encrypt(ctx->sess.offset.c, pad.c, ctx->keyenc);\n \n         /* C_* = P_* xor Pad[1..bitlen(P_*)] */\n         ocb_block_xor(in, pad.c, last_len, out);\n@@ -409,10 +413,10 @@ int CRYPTO_ocb128_encrypt(OCB128_CONTEXT *ctx,\n         memset(pad.c, 0, 16);           /* borrow pad */\n         memcpy(pad.c, in, last_len);\n         pad.c[last_len] = 0x80;\n-        ocb_block16_xor(&pad, &ctx->checksum, &ctx->checksum);\n+        ocb_block16_xor(&pad, &ctx->sess.checksum, &ctx->sess.checksum);\n     }\n \n-    ctx->blocks_processed = all_num_blocks;\n+    ctx->sess.blocks_processed = all_num_blocks;\n \n     return 1;\n }\n@@ -433,7 +437,7 @@ int CRYPTO_ocb128_decrypt(OCB128_CONTEXT *ctx,\n      * so far\n      */\n     num_blocks = len / 16;\n-    all_num_blocks = num_blocks + ctx->blocks_processed;\n+    all_num_blocks = num_blocks + ctx->sess.blocks_processed;\n \n     if (num_blocks && all_num_blocks == (size_t)all_num_blocks\n         && ctx->stream != NULL) {\n@@ -449,30 +453,30 @@ int CRYPTO_ocb128_decrypt(OCB128_CONTEXT *ctx,\n             return 0;\n \n         ctx->stream(in, out, num_blocks, ctx->keydec,\n-                    (size_t)ctx->blocks_processed + 1, ctx->offset.c,\n-                    (const unsigned char (*)[16])ctx->l, ctx->checksum.c);\n+                    (size_t)ctx->sess.blocks_processed + 1, ctx->sess.offset.c,\n+                    (const unsigned char (*)[16])ctx->l, ctx->sess.checksum.c);\n     } else {\n         OCB_BLOCK tmp;\n \n         /* Loop through all full blocks to be decrypted */\n-        for (i = ctx->blocks_processed + 1; i <= all_num_blocks; i++) {\n+        for (i = ctx->sess.blocks_processed + 1; i <= all_num_blocks; i++) {\n \n             /* Offset_i = Offset_{i-1} xor L_{ntz(i)} */\n             OCB_BLOCK *lookup = ocb_lookup_l(ctx, ocb_ntz(i));\n             if (lookup == NULL)\n                 return 0;\n-            ocb_block16_xor(&ctx->offset, lookup, &ctx->offset);\n+            ocb_block16_xor(&ctx->sess.offset, lookup, &ctx->sess.offset);\n \n             memcpy(tmp.c, in, 16);\n             in += 16;\n \n             /* P_i = Offset_i xor DECIPHER(K, C_i xor Offset_i) */\n-            ocb_block16_xor(&ctx->offset, &tmp, &tmp);\n+            ocb_block16_xor(&ctx->sess.offset, &tmp, &tmp);\n             ctx->decrypt(tmp.c, tmp.c, ctx->keydec);\n-            ocb_block16_xor(&ctx->offset, &tmp, &tmp);\n+            ocb_block16_xor(&ctx->sess.offset, &tmp, &tmp);\n \n             /* Checksum_i = Checksum_{i-1} xor P_i */\n-            ocb_block16_xor(&tmp, &ctx->checksum, &ctx->checksum);\n+            ocb_block16_xor(&tmp, &ctx->sess.checksum, &ctx->sess.checksum);\n \n             memcpy(out, tmp.c, 16);\n             out += 16;\n@@ -489,10 +493,10 @@ int CRYPTO_ocb128_decrypt(OCB128_CONTEXT *ctx,\n         OCB_BLOCK pad;\n \n         /* Offset_* = Offset_m xor L_* */\n-        ocb_block16_xor(&ctx->offset, &ctx->l_star, &ctx->offset);\n+        ocb_block16_xor(&ctx->sess.offset, &ctx->l_star, &ctx->sess.offset);\n \n         /* Pad = ENCIPHER(K, Offset_*) */\n-        ctx->encrypt(ctx->offset.c, pad.c, ctx->keyenc);\n+        ctx->encrypt(ctx->sess.offset.c, pad.c, ctx->keyenc);\n \n         /* P_* = C_* xor Pad[1..bitlen(C_*)] */\n         ocb_block_xor(in, pad.c, last_len, out);\n@@ -501,57 +505,54 @@ int CRYPTO_ocb128_decrypt(OCB128_CONTEXT *ctx,\n         memset(pad.c, 0, 16);           /* borrow pad */\n         memcpy(pad.c, out, last_len);\n         pad.c[last_len] = 0x80;\n-        ocb_block16_xor(&pad, &ctx->checksum, &ctx->checksum);\n+        ocb_block16_xor(&pad, &ctx->sess.checksum, &ctx->sess.checksum);\n     }\n \n-    ctx->blocks_processed = all_num_blocks;\n+    ctx->sess.blocks_processed = all_num_blocks;\n \n     return 1;\n }\n \n-/*\n- * Calculate the tag and verify it against the supplied tag\n- */\n-int CRYPTO_ocb128_finish(OCB128_CONTEXT *ctx, const unsigned char *tag,\n-                         size_t len)\n+static int ocb_finish(OCB128_CONTEXT *ctx, unsigned char *tag, size_t len,\n+                      int write)\n {\n     OCB_BLOCK tmp;\n \n+    if (len > 16 || len < 1) {\n+        return -1;\n+    }\n+\n     /*\n      * Tag = ENCIPHER(K, Checksum_* xor Offset_* xor L_$) xor HASH(K,A)\n      */\n-    ocb_block16_xor(&ctx->checksum, &ctx->offset, &tmp);\n+    ocb_block16_xor(&ctx->sess.checksum, &ctx->sess.offset, &tmp);\n     ocb_block16_xor(&ctx->l_dollar, &tmp, &tmp);\n     ctx->encrypt(tmp.c, tmp.c, ctx->keyenc);\n-    ocb_block16_xor(&tmp, &ctx->sum, &ctx->tag);\n+    ocb_block16_xor(&tmp, &ctx->sess.sum, &tmp);\n \n-    if (len > 16 || len < 1) {\n-        return -1;\n+    if (write) {\n+        memcpy(tag, &tmp, len);\n+        return 1;\n+    } else {\n+        return CRYPTO_memcmp(&tmp, tag, len);\n     }\n+}\n \n-    /* Compare the tag if we've been given one */\n-    if (tag)\n-        return CRYPTO_memcmp(&ctx->tag, tag, len);\n-    else\n-        return -1;\n+/*\n+ * Calculate the tag and verify it against the supplied tag\n+ */\n+int CRYPTO_ocb128_finish(OCB128_CONTEXT *ctx, const unsigned char *tag,\n+                         size_t len)\n+{\n+    return ocb_finish(ctx, (unsigned char*)tag, len, 0);\n }\n \n /*\n  * Retrieve the calculated tag\n  */\n int CRYPTO_ocb128_tag(OCB128_CONTEXT *ctx, unsigned char *tag, size_t len)\n {\n-    if (len > 16 || len < 1) {\n-        return -1;\n-    }\n-\n-    /* Calculate the tag */\n-    CRYPTO_ocb128_finish(ctx, NULL, 0);\n-\n-    /* Copy the tag into the supplied buffer */\n-    memcpy(tag, ctx->tag.c, len);\n-\n-    return 1;\n+    return ocb_finish(ctx, tag, len, 1);\n }\n \n /*"
        },
        {
            "sha": "bfd5af1151d4edc7a94df354badf500915d9ef4d",
            "filename": "deps/openssl/openssl/crypto/o_fopen.c",
            "status": "modified",
            "additions": 19,
            "deletions": 1,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_fopen.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_fopen.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_fopen.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,12 +1,30 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n  * in the file LICENSE in the source distribution or at\n  * https://www.openssl.org/source/license.html\n  */\n \n+# if defined(__linux) || defined(__sun) || defined(__hpux)\n+/*\n+ * Following definition aliases fopen to fopen64 on above mentioned\n+ * platforms. This makes it possible to open and sequentially access files\n+ * larger than 2GB from 32-bit application. It does not allow to traverse\n+ * them beyond 2GB with fseek/ftell, but on the other hand *no* 32-bit\n+ * platform permits that, not with fseek/ftell. Not to mention that breaking\n+ * 2GB limit for seeking would require surgery to *our* API. But sequential\n+ * access suffices for practical cases when you can run into large files,\n+ * such as fingerprinting, so we can let API alone. For reference, the list\n+ * of 32-bit platforms which allow for sequential access of large files\n+ * without extra \"magic\" comprise *BSD, Darwin, IRIX...\n+ */\n+#  ifndef _FILE_OFFSET_BITS\n+#   define _FILE_OFFSET_BITS 64\n+#  endif\n+# endif\n+\n #include \"internal/cryptlib.h\"\n \n #if !defined(OPENSSL_NO_STDIO)"
        },
        {
            "sha": "6d764f55e2e8b4548d75ea021665b2a35d7626a7",
            "filename": "deps/openssl/openssl/crypto/o_time.c",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_time.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_time.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fo_time.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2017 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -41,6 +41,10 @@ struct tm *OPENSSL_gmtime(const time_t *timer, struct tm *result)\n     if (gmtime_r(timer, result) == NULL)\n         return NULL;\n     ts = result;\n+#elif defined (OPENSSL_SYS_WINDOWS) && defined(_MSC_VER) && _MSC_VER >= 1400\n+    if (gmtime_s(result, timer))\n+        return NULL;\n+    ts = result;\n #else\n     ts = gmtime(timer);\n     if (ts == NULL)"
        },
        {
            "sha": "15fe653d09313fbc3e64a0870384f6d4eb8d63eb",
            "filename": "deps/openssl/openssl/crypto/objects/o_names.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fo_names.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fo_names.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fo_names.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -202,7 +202,7 @@ const char *OBJ_NAME_get(const char *name, int type)\n         }\n     }\n \n-    CRYPTO_THREAD_unlock(lock);\n+    CRYPTO_THREAD_unlock(lock);    \n     return value;\n }\n \n@@ -212,7 +212,7 @@ int OBJ_NAME_add(const char *name, int type, const char *data)\n     int alias, ok = 0;\n \n     if (!OBJ_NAME_init())\n-        return 0;\n+        return 0;    \n \n     CRYPTO_THREAD_write_lock(lock);\n "
        },
        {
            "sha": "fc0781d1c9f059e3952c79c2bcd0ec18447195e6",
            "filename": "deps/openssl/openssl/crypto/objects/objects.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fobjects.txt",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fobjects.txt",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fobjects%2Fobjects.txt?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1482,3 +1482,4 @@ id-pkinit 5                     : pkInitKDC             : Signing KDC Response\n                             : AuthGOST12   : auth-gost12\n                             : AuthSRP      : auth-srp\n                             : AuthNULL     : auth-null\n+"
        },
        {
            "sha": "6f06c5291fbb257bc75e3264b06d95590aafdc2c",
            "filename": "deps/openssl/openssl/crypto/pem/pem_lib.c",
            "status": "modified",
            "additions": 25,
            "deletions": 30,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -28,52 +28,46 @@ static int load_iv(char **fromp, unsigned char *to, int num);\n static int check_pem(const char *nm, const char *name);\n int pem_check_suffix(const char *pem_str, const char *suffix);\n \n-int PEM_def_callback(char *buf, int num, int w, void *key)\n+int PEM_def_callback(char *buf, int num, int rwflag, void *userdata)\n {\n-#if defined(OPENSSL_NO_STDIO) || defined(OPENSSL_NO_UI)\n     int i;\n-#else\n-    int i, j;\n+#ifndef OPENSSL_NO_UI\n+    int min_len;\n     const char *prompt;\n #endif\n \n-    if (key) {\n-        i = strlen(key);\n+    /* We assume that the user passes a default password as userdata */\n+    if (userdata) {\n+        i = strlen(userdata);\n         i = (i > num) ? num : i;\n-        memcpy(buf, key, i);\n+        memcpy(buf, userdata, i);\n         return i;\n     }\n \n-#if defined(OPENSSL_NO_STDIO) || defined(OPENSSL_NO_UI)\n+#ifdef OPENSSL_NO_UI\n     PEMerr(PEM_F_PEM_DEF_CALLBACK, ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED);\n     return -1;\n #else\n     prompt = EVP_get_pw_prompt();\n     if (prompt == NULL)\n         prompt = \"Enter PEM pass phrase:\";\n \n-    for (;;) {\n-        /*\n-         * We assume that w == 0 means decryption,\n-         * while w == 1 means encryption\n-         */\n-        int min_len = w ? MIN_LENGTH : 0;\n+    /*\n+     * rwflag == 0 means decryption\n+     * rwflag == 1 means encryption\n+     *\n+     * We assume that for encryption, we want a minimum length, while for\n+     * decryption, we cannot know any minimum length, so we assume zero.\n+     */\n+    min_len = rwflag ? MIN_LENGTH : 0;\n \n-        i = EVP_read_pw_string_min(buf, min_len, num, prompt, w);\n-        if (i != 0) {\n-            PEMerr(PEM_F_PEM_DEF_CALLBACK, PEM_R_PROBLEMS_GETTING_PASSWORD);\n-            memset(buf, 0, (unsigned int)num);\n-            return -1;\n-        }\n-        j = strlen(buf);\n-        if (min_len && j < min_len) {\n-            fprintf(stderr,\n-                    \"phrase is too short, needs to be at least %d chars\\n\",\n-                    min_len);\n-        } else\n-            break;\n+    i = EVP_read_pw_string_min(buf, min_len, num, prompt, rwflag);\n+    if (i != 0) {\n+        PEMerr(PEM_F_PEM_DEF_CALLBACK, PEM_R_PROBLEMS_GETTING_PASSWORD);\n+        memset(buf, 0, (unsigned int)num);\n+        return -1;\n     }\n-    return j;\n+    return strlen(buf);\n #endif\n }\n \n@@ -414,7 +408,7 @@ int PEM_do_header(EVP_CIPHER_INFO *cipher, unsigned char *data, long *plen,\n         keylen = PEM_def_callback(buf, PEM_BUFSIZE, 0, u);\n     else\n         keylen = callback(buf, PEM_BUFSIZE, 0, u);\n-    if (keylen <= 0) {\n+    if (keylen < 0) {\n         PEMerr(PEM_F_PEM_DO_HEADER, PEM_R_BAD_PASSWORD_READ);\n         return 0;\n     }\n@@ -472,6 +466,7 @@ int PEM_get_EVP_CIPHER_INFO(char *header, EVP_CIPHER_INFO *cipher)\n     char *dekinfostart, c;\n \n     cipher->cipher = NULL;\n+    memset(cipher->iv, 0, sizeof(cipher->iv));\n     if ((header == NULL) || (*header == '\\0') || (*header == '\\n'))\n         return 1;\n "
        },
        {
            "sha": "a8363b39b9dfabe7234b3f03f22655a3608e0aa5",
            "filename": "deps/openssl/openssl/crypto/pem/pem_pk8.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pk8.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pk8.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pk8.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -124,7 +124,7 @@ EVP_PKEY *d2i_PKCS8PrivateKey_bio(BIO *bp, EVP_PKEY **x, pem_password_cb *cb,\n         klen = cb(psbuf, PEM_BUFSIZE, 0, u);\n     else\n         klen = PEM_def_callback(psbuf, PEM_BUFSIZE, 0, u);\n-    if (klen <= 0) {\n+    if (klen < 0) {\n         PEMerr(PEM_F_D2I_PKCS8PRIVATEKEY_BIO, PEM_R_BAD_PASSWORD_READ);\n         X509_SIG_free(p8);\n         return NULL;"
        },
        {
            "sha": "7dadc1391cf4919dd4c3c04381760414c437156f",
            "filename": "deps/openssl/openssl/crypto/pem/pem_pkey.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pkey.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pkey.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpem_pkey.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -59,7 +59,7 @@ EVP_PKEY *PEM_read_bio_PrivateKey(BIO *bp, EVP_PKEY **x, pem_password_cb *cb,\n             klen = cb(psbuf, PEM_BUFSIZE, 0, u);\n         else\n             klen = PEM_def_callback(psbuf, PEM_BUFSIZE, 0, u);\n-        if (klen <= 0) {\n+        if (klen < 0) {\n             PEMerr(PEM_F_PEM_READ_BIO_PRIVATEKEY, PEM_R_BAD_PASSWORD_READ);\n             X509_SIG_free(p8);\n             goto err;"
        },
        {
            "sha": "63ce9259638ab030a9c109c9eca1ba98eb653c70",
            "filename": "deps/openssl/openssl/crypto/pem/pvkfmt.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpvkfmt.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpvkfmt.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpem%2Fpvkfmt.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -685,7 +685,7 @@ static EVP_PKEY *do_PVK_body(const unsigned char **in,\n             inlen = cb(psbuf, PEM_BUFSIZE, 0, u);\n         else\n             inlen = PEM_def_callback(psbuf, PEM_BUFSIZE, 0, u);\n-        if (inlen <= 0) {\n+        if (inlen < 0) {\n             PEMerr(PEM_F_DO_PVK_BODY, PEM_R_BAD_PASSWORD_READ);\n             goto err;\n         }"
        },
        {
            "sha": "e90bd8e01459e60edb7a7b5a2e466ad198d74564",
            "filename": "deps/openssl/openssl/crypto/perlasm/README",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2FREADME",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2FREADME",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2FREADME?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -61,7 +61,7 @@ So a very simple version of this function could be coded as\n \n \tpush(@INC,\"perlasm\",\"../../perlasm\");\n \trequire \"x86asm.pl\";\n-\n+\t\n \t&asm_init($ARGV[0],\"cacl.pl\");\n \n \t&external_label(\"other\");\n@@ -121,3 +121,4 @@ void BF_cbc_encrypt(unsigned char *in, unsigned char *out, long length,\n \n &cbc(\"des_ncbc_encrypt\",\"des_encrypt\",\"des_encrypt\",0,4,5,3,5,-1);\n &cbc(\"des_ede3_cbc_encrypt\",\"des_encrypt3\",\"des_decrypt3\",0,6,7,3,4,5);\n+"
        },
        {
            "sha": "422dfc398fabc1bc8174d01e2fa7268c1ada0c6c",
            "filename": "deps/openssl/openssl/crypto/pkcs12/p12_asn.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpkcs12%2Fp12_asn.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpkcs12%2Fp12_asn.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpkcs12%2Fp12_asn.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -51,7 +51,7 @@ ASN1_ADB_TEMPLATE(safebag_default) = ASN1_EXP(PKCS12_SAFEBAG, value.other, ASN1_\n ASN1_ADB(PKCS12_SAFEBAG) = {\n         ADB_ENTRY(NID_keyBag, ASN1_EXP(PKCS12_SAFEBAG, value.keybag, PKCS8_PRIV_KEY_INFO, 0)),\n         ADB_ENTRY(NID_pkcs8ShroudedKeyBag, ASN1_EXP(PKCS12_SAFEBAG, value.shkeybag, X509_SIG, 0)),\n-        ADB_ENTRY(NID_safeContentsBag, ASN1_EXP_SET_OF(PKCS12_SAFEBAG, value.safes, PKCS12_SAFEBAG, 0)),\n+        ADB_ENTRY(NID_safeContentsBag, ASN1_EXP_SEQUENCE_OF(PKCS12_SAFEBAG, value.safes, PKCS12_SAFEBAG, 0)),\n         ADB_ENTRY(NID_certBag, ASN1_EXP(PKCS12_SAFEBAG, value.bag, PKCS12_BAGS, 0)),\n         ADB_ENTRY(NID_crlBag, ASN1_EXP(PKCS12_SAFEBAG, value.bag, PKCS12_BAGS, 0)),\n         ADB_ENTRY(NID_secretBag, ASN1_EXP(PKCS12_SAFEBAG, value.bag, PKCS12_BAGS, 0))"
        },
        {
            "sha": "5cdb6be05914a6ef75e055a253b128c70547fa3f",
            "filename": "deps/openssl/openssl/crypto/poly1305/asm/poly1305-armv4.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -186,6 +186,7 @@\n .type\tpoly1305_blocks,%function\n .align\t5\n poly1305_blocks:\n+.Lpoly1305_blocks:\n \tstmdb\tsp!,{r3-r11,lr}\n \n \tands\t$len,$len,#-16\n@@ -677,7 +678,7 @@\n \tcmp\t$len,#64\n \tbhs\t.Lenter_neon\n \ttst\tip,ip\t\t\t@ is_base2_26?\n-\tbeq\tpoly1305_blocks\n+\tbeq\t.Lpoly1305_blocks\n \n .Lenter_neon:\n \tstmdb\tsp!,{r4-r7}"
        },
        {
            "sha": "d2b3e90d93f0456399c267e144667f01256a8cf2",
            "filename": "deps/openssl/openssl/crypto/poly1305/asm/poly1305-mips.pl",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-mips.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-mips.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-mips.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -422,3 +422,4 @@\n $output=pop and open STDOUT,\">$output\";\n print $code;\n close STDOUT;\n+"
        },
        {
            "sha": "93179e37d5e1bc9194679e258defc42b540f90b0",
            "filename": "deps/openssl/openssl/crypto/poly1305/asm/poly1305-x86.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-x86.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-x86.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fasm%2Fpoly1305-x86.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -70,7 +70,7 @@\n \t$avx = ($1>=2.09) + ($1>=2.10);\n \t}\n \n-\tif (!$avx && `$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9]\\.[0-9]+)/) {\n+\tif (!$avx && `$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9]\\.[0-9]+)/) {\n \t\t$avx = ($2>=3.0) + ($2>3.0);\n \t}\n }"
        },
        {
            "sha": "d575f5a63e1c8d557e43b77e2a59a775b42bbfbf",
            "filename": "deps/openssl/openssl/crypto/poly1305/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fpoly1305%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -13,8 +13,6 @@ INCLUDE[poly1305-armv4.o]=..\n GENERATE[poly1305-armv8.S]=asm/poly1305-armv8.pl $(PERLASM_SCHEME)\n INCLUDE[poly1305-armv8.o]=..\n GENERATE[poly1305-mips.S]=asm/poly1305-mips.pl $(PERLASM_SCHEME)\n-GENERATE[poly1305-s390x.S]=asm/poly1305-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[poly1305-s390x.o]=..\n \n BEGINRAW[Makefile(unix)]\n {- $builddir -}/poly1305-%.S:\t{- $sourcedir -}/asm/poly1305-%.pl"
        },
        {
            "sha": "184922c1284751c684288eaf8de830558a031a6b",
            "filename": "deps/openssl/openssl/crypto/rc4/asm/rc4-c64xplus.pl",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fasm%2Frc4-c64xplus.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fasm%2Frc4-c64xplus.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fasm%2Frc4-c64xplus.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -89,7 +89,7 @@\n ||\tNOP\t5\n \tSTB\t$XX,*${KEYA}[-2]\t; key->x\n ||\tSUB4\t$YY,$TX,$YY\n-||\tBNOP\tB3\n+||\tBNOP\tB3\t\n \tSTB\t$YY,*${KEYB}[-1]\t; key->y\n ||\tNOP\t5\n \t.endasmfunc"
        },
        {
            "sha": "8659526d7184f8fe7af61a27159562ca640095be",
            "filename": "deps/openssl/openssl/crypto/rc4/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frc4%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -10,8 +10,6 @@ GENERATE[rc4-md5-x86_64.s]=asm/rc4-md5-x86_64.pl $(PERLASM_SCHEME)\n \n GENERATE[rc4-parisc.s]=asm/rc4-parisc.pl $(PERLASM_SCHEME)\n \n-GENERATE[rc4-s390x.s]=asm/rc4-s390x.pl $(PERLASM_SCHEME)\n-\n BEGINRAW[makefile(windows)]\n {- $builddir -}\\rc4-ia64.asm: {- $sourcedir -}\\asm\\rc4-ia64.pl\n \t$(PERL) {- $sourcedir -}\\asm\\rc4-ia64.pl $@.S"
        },
        {
            "sha": "79f77e3eafdf561d810e7d44341ae53cbbf3cd43",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_gen.c",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_gen.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_gen.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_gen.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -89,6 +89,8 @@ static int rsa_builtin_keygen(RSA *rsa, int bits, BIGNUM *e_value,\n     if (BN_copy(rsa->e, e_value) == NULL)\n         goto err;\n \n+    BN_set_flags(rsa->p, BN_FLG_CONSTTIME);\n+    BN_set_flags(rsa->q, BN_FLG_CONSTTIME);\n     BN_set_flags(r2, BN_FLG_CONSTTIME);\n     /* generate p and q */\n     for (;;) {"
        },
        {
            "sha": "83de5540d0af3a1febb733130b5033e743b78586",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_meth.c",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_meth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_meth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_meth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -75,7 +75,7 @@ int RSA_meth_set1_name(RSA_METHOD *meth, const char *name)\n     return 1;\n }\n \n-int RSA_meth_get_flags(RSA_METHOD *meth)\n+int RSA_meth_get_flags(const RSA_METHOD *meth)\n {\n     return meth->flags;\n }\n@@ -270,3 +270,4 @@ int RSA_meth_set_keygen(RSA_METHOD *meth,\n     meth->rsa_keygen = keygen;\n     return 1;\n }\n+"
        },
        {
            "sha": "f3135198a350dca1573d125e61299e4c78d9fa85",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_oaep.c",
            "status": "modified",
            "additions": 24,
            "deletions": 16,
            "changes": 40,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_oaep.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_oaep.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_oaep.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1999-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1999-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -155,32 +155,40 @@ int RSA_padding_check_PKCS1_OAEP_mgf1(unsigned char *to, int tlen,\n \n     dblen = num - mdlen - 1;\n     db = OPENSSL_malloc(dblen);\n-    em = OPENSSL_malloc(num);\n-    if (db == NULL || em == NULL) {\n+    if (db == NULL) {\n         RSAerr(RSA_F_RSA_PADDING_CHECK_PKCS1_OAEP_MGF1, ERR_R_MALLOC_FAILURE);\n         goto cleanup;\n     }\n \n-    /*\n-     * Always do this zero-padding copy (even when num == flen) to avoid\n-     * leaking that information. The copy still leaks some side-channel\n-     * information, but it's impossible to have a fixed  memory access\n-     * pattern since we can't read out of the bounds of |from|.\n-     *\n-     * TODO(emilia): Consider porting BN_bn2bin_padded from BoringSSL.\n-     */\n-    memset(em, 0, num);\n-    memcpy(em + num - flen, from, flen);\n+    if (flen != num) {\n+        em = OPENSSL_zalloc(num);\n+        if (em == NULL) {\n+            RSAerr(RSA_F_RSA_PADDING_CHECK_PKCS1_OAEP_MGF1,\n+                   ERR_R_MALLOC_FAILURE);\n+            goto cleanup;\n+        }\n+\n+        /*\n+         * Caller is encouraged to pass zero-padded message created with\n+         * BN_bn2binpad, but if it doesn't, we do this zero-padding copy\n+         * to avoid leaking that information. The copy still leaks some\n+         * side-channel information, but it's impossible to have a fixed\n+         * memory access pattern since we can't read out of the bounds of\n+         * |from|.\n+         */\n+        memcpy(em + num - flen, from, flen);\n+        from = em;\n+    }\n \n     /*\n      * The first byte must be zero, however we must not leak if this is\n      * true. See James H. Manger, \"A Chosen Ciphertext  Attack on RSA\n      * Optimal Asymmetric Encryption Padding (OAEP) [...]\", CRYPTO 2001).\n      */\n-    good = constant_time_is_zero(em[0]);\n+    good = constant_time_is_zero(from[0]);\n \n-    maskedseed = em + 1;\n-    maskeddb = em + 1 + mdlen;\n+    maskedseed = from + 1;\n+    maskeddb = from + 1 + mdlen;\n \n     if (PKCS1_MGF1(seed, mdlen, maskeddb, dblen, mgf1md))\n         goto cleanup;"
        },
        {
            "sha": "36c4e42a0f12cbb4fd0823bf2afa25e1798eafc8",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_ossl.c",
            "status": "modified",
            "additions": 15,
            "deletions": 28,
            "changes": 43,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ossl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ossl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ossl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -62,7 +62,7 @@ static int rsa_ossl_public_encrypt(int flen, const unsigned char *from,\n                                   unsigned char *to, RSA *rsa, int padding)\n {\n     BIGNUM *f, *ret;\n-    int i, j, k, num = 0, r = -1;\n+    int i, num = 0, r = -1;\n     unsigned char *buf = NULL;\n     BN_CTX *ctx = NULL;\n \n@@ -136,15 +136,10 @@ static int rsa_ossl_public_encrypt(int flen, const unsigned char *from,\n         goto err;\n \n     /*\n-     * put in leading 0 bytes if the number is less than the length of the\n-     * modulus\n+     * BN_bn2binpad puts in leading 0 bytes if the number is less than\n+     * the length of the modulus.\n      */\n-    j = BN_num_bytes(ret);\n-    i = BN_bn2bin(ret, &(to[num - j]));\n-    for (k = 0; k < (num - i); k++)\n-        to[k] = 0;\n-\n-    r = num;\n+    r = BN_bn2binpad(ret, to, num);\n  err:\n     if (ctx != NULL)\n         BN_CTX_end(ctx);\n@@ -233,7 +228,7 @@ static int rsa_ossl_private_encrypt(int flen, const unsigned char *from,\n                                    unsigned char *to, RSA *rsa, int padding)\n {\n     BIGNUM *f, *ret, *res;\n-    int i, j, k, num = 0, r = -1;\n+    int i, num = 0, r = -1;\n     unsigned char *buf = NULL;\n     BN_CTX *ctx = NULL;\n     int local_blinding = 0;\n@@ -337,7 +332,8 @@ static int rsa_ossl_private_encrypt(int flen, const unsigned char *from,\n             goto err;\n \n     if (padding == RSA_X931_PADDING) {\n-        BN_sub(f, rsa->n, ret);\n+        if (!BN_sub(f, rsa->n, ret))\n+            goto err;\n         if (BN_cmp(ret, f) > 0)\n             res = f;\n         else\n@@ -346,15 +342,10 @@ static int rsa_ossl_private_encrypt(int flen, const unsigned char *from,\n         res = ret;\n \n     /*\n-     * put in leading 0 bytes if the number is less than the length of the\n-     * modulus\n+     * BN_bn2binpad puts in leading 0 bytes if the number is less than\n+     * the length of the modulus.\n      */\n-    j = BN_num_bytes(res);\n-    i = BN_bn2bin(res, &(to[num - j]));\n-    for (k = 0; k < (num - i); k++)\n-        to[k] = 0;\n-\n-    r = num;\n+    r = BN_bn2binpad(res, to, num);\n  err:\n     if (ctx != NULL)\n         BN_CTX_end(ctx);\n@@ -368,7 +359,6 @@ static int rsa_ossl_private_decrypt(int flen, const unsigned char *from,\n {\n     BIGNUM *f, *ret;\n     int j, num = 0, r = -1;\n-    unsigned char *p;\n     unsigned char *buf = NULL;\n     BN_CTX *ctx = NULL;\n     int local_blinding = 0;\n@@ -463,8 +453,7 @@ static int rsa_ossl_private_decrypt(int flen, const unsigned char *from,\n         if (!rsa_blinding_invert(blinding, ret, unblind, ctx))\n             goto err;\n \n-    p = buf;\n-    j = BN_bn2bin(ret, p);      /* j is only used with no-padding mode */\n+    j = BN_bn2binpad(ret, buf, num);\n \n     switch (padding) {\n     case RSA_PKCS1_PADDING:\n@@ -477,7 +466,7 @@ static int rsa_ossl_private_decrypt(int flen, const unsigned char *from,\n         r = RSA_padding_check_SSLv23(to, num, buf, j, num);\n         break;\n     case RSA_NO_PADDING:\n-        r = RSA_padding_check_none(to, num, buf, j, num);\n+        memcpy(to, buf, (r = j));\n         break;\n     default:\n         RSAerr(RSA_F_RSA_OSSL_PRIVATE_DECRYPT, RSA_R_UNKNOWN_PADDING_TYPE);\n@@ -500,7 +489,6 @@ static int rsa_ossl_public_decrypt(int flen, const unsigned char *from,\n {\n     BIGNUM *f, *ret;\n     int i, num = 0, r = -1;\n-    unsigned char *p;\n     unsigned char *buf = NULL;\n     BN_CTX *ctx = NULL;\n \n@@ -565,8 +553,7 @@ static int rsa_ossl_public_decrypt(int flen, const unsigned char *from,\n         if (!BN_sub(ret, rsa->n, ret))\n             goto err;\n \n-    p = buf;\n-    i = BN_bn2bin(ret, p);\n+    i = BN_bn2binpad(ret, buf, num);\n \n     switch (padding) {\n     case RSA_PKCS1_PADDING:\n@@ -576,7 +563,7 @@ static int rsa_ossl_public_decrypt(int flen, const unsigned char *from,\n         r = RSA_padding_check_X931(to, num, buf, i, num);\n         break;\n     case RSA_NO_PADDING:\n-        r = RSA_padding_check_none(to, num, buf, i, num);\n+        memcpy(to, buf, (r = i));\n         break;\n     default:\n         RSAerr(RSA_F_RSA_OSSL_PUBLIC_DECRYPT, RSA_R_UNKNOWN_PADDING_TYPE);"
        },
        {
            "sha": "63d6c3a3b8dd9f7ccc8c1e3c707a54377f8a25ca",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_pk1.c",
            "status": "modified",
            "additions": 22,
            "deletions": 19,
            "changes": 41,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_pk1.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_pk1.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_pk1.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -175,35 +175,38 @@ int RSA_padding_check_PKCS1_type_2(unsigned char *to, int tlen,\n     if (num < 11)\n         goto err;\n \n-    em = OPENSSL_zalloc(num);\n-    if (em == NULL) {\n-        RSAerr(RSA_F_RSA_PADDING_CHECK_PKCS1_TYPE_2, ERR_R_MALLOC_FAILURE);\n-        return -1;\n+    if (flen != num) {\n+        em = OPENSSL_zalloc(num);\n+        if (em == NULL) {\n+            RSAerr(RSA_F_RSA_PADDING_CHECK_PKCS1_TYPE_2, ERR_R_MALLOC_FAILURE);\n+            return -1;\n+        }\n+        /*\n+         * Caller is encouraged to pass zero-padded message created with\n+         * BN_bn2binpad, but if it doesn't, we do this zero-padding copy\n+         * to avoid leaking that information. The copy still leaks some\n+         * side-channel information, but it's impossible to have a fixed\n+         * memory access pattern since we can't read out of the bounds of\n+         * |from|.\n+         */\n+        memcpy(em + num - flen, from, flen);\n+        from = em;\n     }\n-    /*\n-     * Always do this zero-padding copy (even when num == flen) to avoid\n-     * leaking that information. The copy still leaks some side-channel\n-     * information, but it's impossible to have a fixed memory access\n-     * pattern since we can't read out of the bounds of |from|.\n-     *\n-     * TODO(emilia): Consider porting BN_bn2bin_padded from BoringSSL.\n-     */\n-    memcpy(em + num - flen, from, flen);\n \n-    good = constant_time_is_zero(em[0]);\n-    good &= constant_time_eq(em[1], 2);\n+    good = constant_time_is_zero(from[0]);\n+    good &= constant_time_eq(from[1], 2);\n \n     found_zero_byte = 0;\n     for (i = 2; i < num; i++) {\n-        unsigned int equals0 = constant_time_is_zero(em[i]);\n+        unsigned int equals0 = constant_time_is_zero(from[i]);\n         zero_index =\n             constant_time_select_int(~found_zero_byte & equals0, i,\n                                      zero_index);\n         found_zero_byte |= equals0;\n     }\n \n     /*\n-     * PS must be at least 8 bytes long, and it starts two bytes into |em|.\n+     * PS must be at least 8 bytes long, and it starts two bytes into |from|.\n      * If we never found a 0-byte, then |zero_index| is 0 and the check\n      * also fails.\n      */\n@@ -232,7 +235,7 @@ int RSA_padding_check_PKCS1_type_2(unsigned char *to, int tlen,\n         goto err;\n     }\n \n-    memcpy(to, em + msg_index, mlen);\n+    memcpy(to, from + msg_index, mlen);\n \n  err:\n     OPENSSL_clear_free(em, num);"
        },
        {
            "sha": "77b28b46f2b4535dd5e962972d5203c6f6e313da",
            "filename": "deps/openssl/openssl/crypto/rsa/rsa_ssl.c",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ssl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ssl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Frsa%2Frsa_ssl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -63,6 +63,14 @@ int RSA_padding_check_SSLv23(unsigned char *to, int tlen,\n         RSAerr(RSA_F_RSA_PADDING_CHECK_SSLV23, RSA_R_DATA_TOO_SMALL);\n         return (-1);\n     }\n+    /* Accept even zero-padded input */\n+    if (flen == num) {\n+        if (*(p++) != 0) {\n+            RSAerr(RSA_F_RSA_PADDING_CHECK_SSLV23, RSA_R_BLOCK_TYPE_IS_NOT_02);\n+            return -1;\n+        }\n+        flen--;\n+    }\n     if ((num != (flen + 1)) || (*(p++) != 02)) {\n         RSAerr(RSA_F_RSA_PADDING_CHECK_SSLV23, RSA_R_BLOCK_TYPE_IS_NOT_02);\n         return (-1);"
        },
        {
            "sha": "cf34b2c2936cd366a7fff30d634a2985eea17a2e",
            "filename": "deps/openssl/openssl/crypto/sha/asm/sha1-586.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha1-586.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha1-586.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha1-586.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 1998-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 1998-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -141,7 +141,7 @@\n \t\t`ml 2>&1` =~ /Version ([0-9]+)\\./ &&\n \t\t$1>=10);\t# first version supporting AVX\n \n-$ymm=1 if ($xmm && !$ymm && `$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9]\\.[0-9]+)/ &&\n+$ymm=1 if ($xmm && !$ymm && `$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9]\\.[0-9]+)/ &&\n \t\t$2>=3.0);\t# first version supporting AVX\n \n $shaext=$xmm;\t### set to zero if compiling for 1.0.1"
        },
        {
            "sha": "72ee0c7b83db911ab927aa234fb9c75f0a408e08",
            "filename": "deps/openssl/openssl/crypto/sha/asm/sha256-586.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-586.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-586.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-586.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -93,7 +93,7 @@\n \t$avx = ($1>=10) + ($1>=11);\n }\n \n-if ($xmm && !$avx && `$ENV{CC} -v 2>&1` =~ /(^clang version|based on LLVM) ([3-9]\\.[0-9]+)/) {\n+if ($xmm && !$avx && `$ENV{CC} -v 2>&1` =~ /((?:^clang|LLVM) version|based on LLVM) ([3-9]\\.[0-9]+)/) {\n \t$avx = ($2>=3.0) + ($2>3.0);\n }\n "
        },
        {
            "sha": "edcfc31278e376612f60839f9464c2f2c113e2e0",
            "filename": "deps/openssl/openssl/crypto/sha/asm/sha256-armv4.pl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha256-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -254,7 +254,7 @@ sub BODY_16_XX {\n $code.=\".Lrounds_16_xx:\\n\";\n for (;$i<32;$i++)\t{ &BODY_16_XX($i,@V); unshift(@V,pop(@V)); }\n $code.=<<___;\n-#if __ARM_ARCH__>=7\n+#ifdef\t__thumb2__\n \tite\teq\t\t\t@ Thumb2 thing, sanity check in ARM\n #endif\n \tldreq\t$t3,[sp,#16*4]\t\t@ pull ctx"
        },
        {
            "sha": "0b4c5674d9df3051957f0d1b0769a78b7e5a7318",
            "filename": "deps/openssl/openssl/crypto/sha/asm/sha512-armv4.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha512-armv4.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha512-armv4.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fasm%2Fsha512-armv4.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n #! /usr/bin/env perl\n-# Copyright 2007-2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2007-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -157,7 +157,7 @@ ()\n \tteq\t$t0,#$magic\n \n \tldr\t$t3,[sp,#$Coff+0]\t@ c.lo\n-#if __ARM_ARCH__>=7\n+#ifdef\t__thumb2__\n \tit\teq\t\t\t@ Thumb2 thing, sanity check in ARM\n #endif\n \torreq\t$Ktbl,$Ktbl,#1\n@@ -411,7 +411,7 @@ ()\n ___\n \t&BODY_00_15(0x17);\n $code.=<<___;\n-#if __ARM_ARCH__>=7\n+#ifdef\t__thumb2__\n \tittt\teq\t\t\t@ Thumb2 thing, sanity check in ARM\n #endif\n \tldreq\t$t0,[sp,#`$Xoff+8*(16-1)`+0]"
        },
        {
            "sha": "5843e508941d9e5ae96ce15acf6ee9f28f8be98c",
            "filename": "deps/openssl/openssl/crypto/sha/build.info",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fsha%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -56,13 +56,6 @@ INCLUDE[sha256-armv8.o]=..\n GENERATE[sha512-armv8.S]=asm/sha512-armv8.pl $(PERLASM_SCHEME)\n INCLUDE[sha512-armv8.o]=..\n \n-GENERATE[sha1-s390x.S]=asm/sha1-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[sha1-s390x.o]=..\n-GENERATE[sha256-s390x.S]=asm/sha512-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[sha256-s390x.o]=..\n-GENERATE[sha512-s390x.S]=asm/sha512-s390x.pl $(PERLASM_SCHEME)\n-INCLUDE[sha512-s390x.o]=..\n-\n BEGINRAW[Makefile(unix)]\n ##### SHA assembler implementations\n "
        },
        {
            "sha": "27334e13f3a2beed97347fa75f8a9b5cec27af09",
            "filename": "deps/openssl/openssl/crypto/threads_win.c",
            "status": "modified",
            "additions": 21,
            "deletions": 2,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fthreads_win.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fthreads_win.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fthreads_win.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -98,7 +98,26 @@ int CRYPTO_THREAD_init_local(CRYPTO_THREAD_LOCAL *key, void (*cleanup)(void *))\n \n void *CRYPTO_THREAD_get_local(CRYPTO_THREAD_LOCAL *key)\n {\n-    return TlsGetValue(*key);\n+    DWORD last_error;\n+    void *ret;\n+\n+    /*\n+     * TlsGetValue clears the last error even on success, so that callers may\n+     * distinguish it successfully returning NULL or failing. It is documented\n+     * to never fail if the argument is a valid index from TlsAlloc, so we do\n+     * not need to handle this.\n+     *\n+     * However, this error-mangling behavior interferes with the caller's use of\n+     * GetLastError. In particular SSL_get_error queries the error queue to\n+     * determine whether the caller should look at the OS's errors. To avoid\n+     * destroying state, save and restore the Windows error.\n+     *\n+     * https://msdn.microsoft.com/en-us/library/windows/desktop/ms686812(v=vs.85).aspx\n+     */\n+    last_error = GetLastError();\n+    ret = TlsGetValue(*key);\n+    SetLastError(last_error);\n+    return ret;\n }\n \n int CRYPTO_THREAD_set_local(CRYPTO_THREAD_LOCAL *key, void *val)"
        },
        {
            "sha": "ce2e12c593e068bba5339d4cf59e727cb39db317",
            "filename": "deps/openssl/openssl/crypto/ts/ts_lib.c",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_lib.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_lib.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_lib.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -22,10 +22,9 @@ int TS_ASN1_INTEGER_print_bio(BIO *bio, const ASN1_INTEGER *num)\n     int result = 0;\n     char *hex;\n \n-    num_bn = BN_new();\n+    num_bn = ASN1_INTEGER_to_BN(num, NULL);\n     if (num_bn == NULL)\n         return -1;\n-    ASN1_INTEGER_to_BN(num, num_bn);\n     if ((hex = BN_bn2hex(num_bn))) {\n         result = BIO_write(bio, \"0x\", 2) > 0;\n         result = result && BIO_write(bio, hex, strlen(hex)) > 0;"
        },
        {
            "sha": "0d714a71b7a87e90a93ff6b95d1ebb771ea5e934",
            "filename": "deps/openssl/openssl/crypto/ts/ts_rsp_sign.c",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_sign.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_sign.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_sign.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -16,6 +16,7 @@\n #include <openssl/objects.h>\n #include <openssl/ts.h>\n #include <openssl/pkcs7.h>\n+#include <openssl/crypto.h>\n #include \"ts_lcl.h\"\n \n static ASN1_INTEGER *def_serial_cb(struct TS_resp_ctx *, void *);\n@@ -840,15 +841,15 @@ static ASN1_GENERALIZEDTIME\n                                     long sec, long usec, unsigned precision)\n {\n     time_t time_sec = (time_t)sec;\n-    struct tm *tm = NULL;\n+    struct tm *tm = NULL, tm_result;\n     char genTime_str[17 + TS_MAX_CLOCK_PRECISION_DIGITS];\n     char *p = genTime_str;\n     char *p_end = genTime_str + sizeof(genTime_str);\n \n     if (precision > TS_MAX_CLOCK_PRECISION_DIGITS)\n         goto err;\n \n-    if ((tm = gmtime(&time_sec)) == NULL)\n+    if ((tm = OPENSSL_gmtime(&time_sec, &tm_result)) == NULL)\n         goto err;\n \n     /*"
        },
        {
            "sha": "2755dd0ef36b5ce389e45de0d5f36cec6fc62d6f",
            "filename": "deps/openssl/openssl/crypto/ts/ts_rsp_verify.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_verify.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_verify.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fts%2Fts_rsp_verify.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -480,7 +480,7 @@ static char *ts_get_status_text(STACK_OF(ASN1_UTF8STRING) *text)\n     return result;\n }\n \n-static int ts_check_policy(const ASN1_OBJECT *req_oid,\n+static int ts_check_policy(const ASN1_OBJECT *req_oid, \n                            const TS_TST_INFO *tst_info)\n {\n     const ASN1_OBJECT *resp_oid = tst_info->policy_id;"
        },
        {
            "sha": "bfe93a57f1cd11b99d53b0b9ec4d4ccecb053fb5",
            "filename": "deps/openssl/openssl/crypto/ui/ui_openssl.c",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fui%2Fui_openssl.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fui%2Fui_openssl.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fui%2Fui_openssl.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -524,17 +524,13 @@ static int echo_console(UI *ui)\n {\n #if defined(TTY_set) && !defined(OPENSSL_SYS_VMS)\n     memcpy(&(tty_new), &(tty_orig), sizeof(tty_orig));\n-    tty_new.TTY_FLAGS |= ECHO;\n-#endif\n-\n-#if defined(TTY_set) && !defined(OPENSSL_SYS_VMS)\n     if (is_a_tty && (TTY_set(fileno(tty_in), &tty_new) == -1))\n         return 0;\n #endif\n #ifdef OPENSSL_SYS_VMS\n     if (is_a_tty) {\n         tty_new[0] = tty_orig[0];\n-        tty_new[1] = tty_orig[1] & ~TT$M_NOECHO;\n+        tty_new[1] = tty_orig[1];\n         tty_new[2] = tty_orig[2];\n         status = sys$qiow(0, channel, IO$_SETMODE, &iosb, 0, 0, tty_new, 12,\n                           0, 0, 0, 0);\n@@ -555,7 +551,6 @@ static int echo_console(UI *ui)\n #if defined(_WIN32) && !defined(_WIN32_WCE)\n     if (is_a_tty) {\n         tty_new = tty_orig;\n-        tty_new |= ENABLE_ECHO_INPUT;\n         SetConsoleMode(GetStdHandle(STD_INPUT_HANDLE), tty_new);\n     }\n #endif"
        },
        {
            "sha": "afd0b6134e52814c4a1370058acedf17b6a45450",
            "filename": "deps/openssl/openssl/crypto/x509/build.info",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fbuild.info",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fbuild.info",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fbuild.info?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -4,7 +4,7 @@ SOURCE[../../libcrypto]=\\\n         x509_obj.c x509_req.c x509spki.c x509_vfy.c \\\n         x509_set.c x509cset.c x509rset.c x509_err.c \\\n         x509name.c x509_v3.c x509_ext.c x509_att.c \\\n-        x509type.c x509_lu.c x_all.c x509_txt.c \\\n+        x509type.c x509_meth.c x509_lu.c x_all.c x509_txt.c \\\n         x509_trs.c by_file.c by_dir.c x509_vpm.c \\\n         x_crl.c t_crl.c x_req.c t_req.c x_x509.c t_x509.c \\\n         x_pubkey.c x_x509a.c x_attrib.c x_exten.c x_name.c"
        },
        {
            "sha": "a6904557292721d40b5e5332b429cbdfa9e687a1",
            "filename": "deps/openssl/openssl/crypto/x509/by_dir.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fby_dir.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fby_dir.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fby_dir.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -111,7 +111,7 @@ static int new_dir(X509_LOOKUP *lu)\n         OPENSSL_free(a);\n         return 0;\n     }\n-    lu->method_data = (char *)a;\n+    lu->method_data = a;\n     return 1;\n }\n "
        },
        {
            "sha": "49b0368dfca4365680ca2709efb83737b0f232e4",
            "filename": "deps/openssl/openssl/crypto/x509/x509_cmp.c",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_cmp.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_cmp.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_cmp.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -174,7 +174,7 @@ int X509_NAME_cmp(const X509_NAME *a, const X509_NAME *b)\n \n     ret = a->canon_enclen - b->canon_enclen;\n \n-    if (ret)\n+    if (ret != 0 || a->canon_enclen == 0)\n         return ret;\n \n     return memcmp(a->canon_enc, b->canon_enc, a->canon_enclen);"
        },
        {
            "sha": "9f91188a7659e7b9cfe9473ef37df21a9635c796",
            "filename": "deps/openssl/openssl/crypto/x509/x509_err.c",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_err.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_err.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_err.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,6 +1,6 @@\n /*\n  * Generated by util/mkerr.pl DO NOT EDIT\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -51,6 +51,7 @@ static ERR_STRING_DATA X509_str_functs[] = {\n     {ERR_FUNC(X509_F_X509_LOAD_CERT_CRL_FILE), \"X509_load_cert_crl_file\"},\n     {ERR_FUNC(X509_F_X509_LOAD_CERT_FILE), \"X509_load_cert_file\"},\n     {ERR_FUNC(X509_F_X509_LOAD_CRL_FILE), \"X509_load_crl_file\"},\n+    {ERR_FUNC(X509_F_X509_LOOKUP_METH_NEW), \"X509_LOOKUP_meth_new\"},\n     {ERR_FUNC(X509_F_X509_NAME_ADD_ENTRY), \"X509_NAME_add_entry\"},\n     {ERR_FUNC(X509_F_X509_NAME_ENTRY_CREATE_BY_NID),\n      \"X509_NAME_ENTRY_create_by_NID\"},"
        },
        {
            "sha": "8a47da4fef0d88ed8f1d7a237197591c07985fa8",
            "filename": "deps/openssl/openssl/crypto/x509/x509_lcl.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lcl.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lcl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lcl.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2014-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2014-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -67,7 +67,7 @@ struct x509_crl_method_st {\n };\n \n struct x509_lookup_method_st {\n-    const char *name;\n+    char *name;\n     int (*new_item) (X509_LOOKUP *ctx);\n     void (*free) (X509_LOOKUP *ctx);\n     int (*init) (X509_LOOKUP *ctx);\n@@ -91,7 +91,7 @@ struct x509_lookup_st {\n     int init;                   /* have we been started */\n     int skip;                   /* don't use us. */\n     X509_LOOKUP_METHOD *method; /* the functions */\n-    char *method_data;          /* method data */\n+    void *method_data;          /* method data */\n     X509_STORE *store_ctx;      /* who owns us */\n };\n "
        },
        {
            "sha": "e5bea5b2764e92d421b7fc4f72ae96952e6e1fc9",
            "filename": "deps/openssl/openssl/crypto/x509/x509_lu.c",
            "status": "modified",
            "additions": 82,
            "deletions": 42,
            "changes": 124,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lu.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lu.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_lu.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -117,6 +117,23 @@ int X509_LOOKUP_by_alias(X509_LOOKUP *ctx, X509_LOOKUP_TYPE type,\n     return ctx->method->get_by_alias(ctx, type, str, len, ret);\n }\n \n+int X509_LOOKUP_set_method_data(X509_LOOKUP *ctx, void *data)\n+{\n+    ctx->method_data = data;\n+    return 1;\n+}\n+\n+void *X509_LOOKUP_get_method_data(const X509_LOOKUP *ctx)\n+{\n+    return ctx->method_data;\n+}\n+\n+X509_STORE *X509_LOOKUP_get_store(const X509_LOOKUP *ctx)\n+{\n+    return ctx->store_ctx;\n+}\n+\n+\n static int x509_object_cmp(const X509_OBJECT *const *a,\n                            const X509_OBJECT *const *b)\n {\n@@ -265,6 +282,9 @@ int X509_STORE_CTX_get_by_subject(X509_STORE_CTX *vs, X509_LOOKUP_TYPE type,\n     X509_OBJECT stmp, *tmp;\n     int i, j;\n \n+    if (ctx == NULL)\n+        return 0;\n+\n     CRYPTO_THREAD_write_lock(ctx->lock);\n     tmp = X509_OBJECT_retrieve_by_subject(ctx->objs, type, name);\n     CRYPTO_THREAD_unlock(ctx->lock);\n@@ -290,73 +310,59 @@ int X509_STORE_CTX_get_by_subject(X509_STORE_CTX *vs, X509_LOOKUP_TYPE type,\n     return 1;\n }\n \n-int X509_STORE_add_cert(X509_STORE *ctx, X509 *x)\n+static int x509_store_add(X509_STORE *ctx, void *x, int crl)\n {\n     X509_OBJECT *obj;\n-    int ret = 1, added = 1;\n+    int ret = 0, added = 0;\n \n     if (x == NULL)\n         return 0;\n     obj = X509_OBJECT_new();\n     if (obj == NULL)\n         return 0;\n-    obj->type = X509_LU_X509;\n-    obj->data.x509 = x;\n+\n+    if (crl) {\n+        obj->type = X509_LU_CRL;\n+        obj->data.crl = (X509_CRL *)x;\n+    } else {\n+        obj->type = X509_LU_X509;\n+        obj->data.x509 = (X509 *)x;\n+    }\n     X509_OBJECT_up_ref_count(obj);\n \n     CRYPTO_THREAD_write_lock(ctx->lock);\n \n     if (X509_OBJECT_retrieve_match(ctx->objs, obj)) {\n-        X509err(X509_F_X509_STORE_ADD_CERT,\n-                X509_R_CERT_ALREADY_IN_HASH_TABLE);\n-        ret = 0;\n+        ret = 1;\n     } else {\n         added = sk_X509_OBJECT_push(ctx->objs, obj);\n         ret = added != 0;\n     }\n \n     CRYPTO_THREAD_unlock(ctx->lock);\n \n-    if (!ret)                   /* obj not pushed */\n+    if (added == 0)             /* obj not pushed */\n         X509_OBJECT_free(obj);\n-    if (!added)                 /* on push failure */\n-        X509err(X509_F_X509_STORE_ADD_CERT, ERR_R_MALLOC_FAILURE);\n \n     return ret;\n }\n \n-int X509_STORE_add_crl(X509_STORE *ctx, X509_CRL *x)\n+int X509_STORE_add_cert(X509_STORE *ctx, X509 *x)\n {\n-    X509_OBJECT *obj;\n-    int ret = 1, added = 1;\n-\n-    if (x == NULL)\n-        return 0;\n-    obj = X509_OBJECT_new();\n-    if (obj == NULL)\n+   if (!x509_store_add(ctx, x, 0)) {\n+        X509err(X509_F_X509_STORE_ADD_CERT, ERR_R_MALLOC_FAILURE);\n         return 0;\n-    obj->type = X509_LU_CRL;\n-    obj->data.crl = x;\n-    X509_OBJECT_up_ref_count(obj);\n-\n-    CRYPTO_THREAD_write_lock(ctx->lock);\n-\n-    if (X509_OBJECT_retrieve_match(ctx->objs, obj)) {\n-        X509err(X509_F_X509_STORE_ADD_CRL, X509_R_CERT_ALREADY_IN_HASH_TABLE);\n-        ret = 0;\n-    } else {\n-        added = sk_X509_OBJECT_push(ctx->objs, obj);\n-        ret = added != 0;\n     }\n+    return 1;\n+}\n \n-    CRYPTO_THREAD_unlock(ctx->lock);\n-\n-    if (!ret)                   /* obj not pushed */\n-        X509_OBJECT_free(obj);\n-    if (!added)                 /* on push failure */\n+int X509_STORE_add_crl(X509_STORE *ctx, X509_CRL *x)\n+{\n+    if (!x509_store_add(ctx, x, 1)) {\n         X509err(X509_F_X509_STORE_ADD_CRL, ERR_R_MALLOC_FAILURE);\n-\n-    return ret;\n+        return 0;\n+    }\n+    return 1;\n }\n \n int X509_OBJECT_up_ref_count(X509_OBJECT *a)\n@@ -403,8 +409,7 @@ X509_OBJECT *X509_OBJECT_new()\n     return ret;\n }\n \n-\n-void X509_OBJECT_free(X509_OBJECT *a)\n+static void x509_object_free_internal(X509_OBJECT *a)\n {\n     if (a == NULL)\n         return;\n@@ -418,6 +423,33 @@ void X509_OBJECT_free(X509_OBJECT *a)\n         X509_CRL_free(a->data.crl);\n         break;\n     }\n+}\n+\n+int X509_OBJECT_set1_X509(X509_OBJECT *a, X509 *obj)\n+{\n+    if (a == NULL || !X509_up_ref(obj))\n+        return 0;\n+\n+    x509_object_free_internal(a);\n+    a->type = X509_LU_X509;\n+    a->data.x509 = obj;\n+    return 1;\n+}\n+\n+int X509_OBJECT_set1_X509_CRL(X509_OBJECT *a, X509_CRL *obj)\n+{\n+    if (a == NULL || !X509_CRL_up_ref(obj))\n+        return 0;\n+\n+    x509_object_free_internal(a);\n+    a->type = X509_LU_CRL;\n+    a->data.crl = obj;\n+    return 1;\n+}\n+\n+void X509_OBJECT_free(X509_OBJECT *a)\n+{\n+    x509_object_free_internal(a);\n     OPENSSL_free(a);\n }\n \n@@ -489,6 +521,9 @@ STACK_OF(X509) *X509_STORE_CTX_get1_certs(X509_STORE_CTX *ctx, X509_NAME *nm)\n     X509 *x;\n     X509_OBJECT *obj;\n \n+    if (ctx->ctx == NULL)\n+        return NULL;\n+\n     CRYPTO_THREAD_write_lock(ctx->ctx->lock);\n     idx = x509_object_idx_cnt(ctx->ctx->objs, X509_LU_X509, nm, &cnt);\n     if (idx < 0) {\n@@ -538,8 +573,10 @@ STACK_OF(X509_CRL) *X509_STORE_CTX_get1_crls(X509_STORE_CTX *ctx, X509_NAME *nm)\n     X509_OBJECT *obj, *xobj = X509_OBJECT_new();\n \n     /* Always do lookup to possibly add new CRLs to cache */\n-    if (sk == NULL || xobj == NULL ||\n-            !X509_STORE_CTX_get_by_subject(ctx, X509_LU_CRL, nm, xobj)) {\n+    if (sk == NULL\n+            || xobj == NULL\n+            || ctx->ctx == NULL\n+            || !X509_STORE_CTX_get_by_subject(ctx, X509_LU_CRL, nm, xobj)) {\n         X509_OBJECT_free(xobj);\n         sk_X509_CRL_free(sk);\n         return NULL;\n@@ -633,6 +670,9 @@ int X509_STORE_CTX_get1_issuer(X509 **issuer, X509_STORE_CTX *ctx, X509 *x)\n     }\n     X509_OBJECT_free(obj);\n \n+    if (ctx->ctx == NULL)\n+        return 0;\n+\n     /* Else find index of first cert accepted by 'check_issued' */\n     ret = 0;\n     CRYPTO_THREAD_write_lock(ctx->ctx->lock);"
        },
        {
            "sha": "05ed4bf863721968bf9447a02735d77a5f2335a4",
            "filename": "deps/openssl/openssl/crypto/x509/x509_meth.c",
            "status": "added",
            "additions": 166,
            "deletions": 0,
            "changes": 166,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_meth.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_meth.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_meth.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,166 @@\n+/*\n+ * Copyright 2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+#include <stdio.h>\n+#include <time.h>\n+#include <errno.h>\n+\n+#include \"internal/cryptlib.h\"\n+#include <openssl/asn1.h>\n+#include <openssl/x509.h>\n+#include <openssl/ossl_typ.h>\n+#include \"x509_lcl.h\"\n+\n+X509_LOOKUP_METHOD *X509_LOOKUP_meth_new(const char *name)\n+{\n+    X509_LOOKUP_METHOD *method = OPENSSL_zalloc(sizeof(X509_LOOKUP_METHOD));\n+\n+    if (method != NULL) {\n+        method->name = OPENSSL_strdup(name);\n+        if (method->name == NULL) {\n+            X509err(X509_F_X509_LOOKUP_METH_NEW, ERR_R_MALLOC_FAILURE);\n+            goto err;\n+        }\n+    }\n+\n+    return method;\n+\n+err:\n+    OPENSSL_free(method);\n+    return NULL;\n+}\n+\n+void X509_LOOKUP_meth_free(X509_LOOKUP_METHOD *method)\n+{\n+    if (method != NULL)\n+        OPENSSL_free(method->name);\n+    OPENSSL_free(method);\n+}\n+\n+int X509_LOOKUP_meth_set_new_item(X509_LOOKUP_METHOD *method,\n+                                  int (*new_item) (X509_LOOKUP *ctx))\n+{\n+    method->new_item = new_item;\n+    return 1;\n+}\n+\n+int (*X509_LOOKUP_meth_get_new_item(const X509_LOOKUP_METHOD* method))\n+    (X509_LOOKUP *ctx)\n+{\n+    return method->new_item;\n+}\n+\n+int X509_LOOKUP_meth_set_free(\n+    X509_LOOKUP_METHOD *method,\n+    void (*free) (X509_LOOKUP *ctx))\n+{\n+    method->free = free;\n+    return 1;\n+}\n+\n+void (*X509_LOOKUP_meth_get_free(const X509_LOOKUP_METHOD* method))\n+    (X509_LOOKUP *ctx)\n+{\n+    return method->free;\n+}\n+\n+int X509_LOOKUP_meth_set_init(X509_LOOKUP_METHOD *method,\n+                              int (*init) (X509_LOOKUP *ctx))\n+{\n+    method->init = init;\n+    return 1;\n+}\n+\n+int (*X509_LOOKUP_meth_get_init(const X509_LOOKUP_METHOD* method))\n+    (X509_LOOKUP *ctx)\n+{\n+    return method->init;\n+}\n+\n+int X509_LOOKUP_meth_set_shutdown(\n+    X509_LOOKUP_METHOD *method,\n+    int (*shutdown) (X509_LOOKUP *ctx))\n+{\n+    method->shutdown = shutdown;\n+    return 1;\n+}\n+\n+int (*X509_LOOKUP_meth_get_shutdown(const X509_LOOKUP_METHOD* method))\n+    (X509_LOOKUP *ctx)\n+{\n+    return method->shutdown;\n+}\n+\n+int X509_LOOKUP_meth_set_ctrl(\n+    X509_LOOKUP_METHOD *method,\n+    X509_LOOKUP_ctrl_fn ctrl)\n+{\n+    method->ctrl = ctrl;\n+    return 1;\n+}\n+\n+X509_LOOKUP_ctrl_fn X509_LOOKUP_meth_get_ctrl(const X509_LOOKUP_METHOD *method)\n+{\n+    return method->ctrl;\n+}\n+\n+int X509_LOOKUP_meth_set_get_by_subject(X509_LOOKUP_METHOD *method,\n+    X509_LOOKUP_get_by_subject_fn get_by_subject)\n+{\n+    method->get_by_subject = get_by_subject;\n+    return 1;\n+}\n+\n+X509_LOOKUP_get_by_subject_fn X509_LOOKUP_meth_get_get_by_subject(\n+    const X509_LOOKUP_METHOD *method)\n+{\n+    return method->get_by_subject;\n+}\n+\n+\n+int X509_LOOKUP_meth_set_get_by_issuer_serial(X509_LOOKUP_METHOD *method,\n+    X509_LOOKUP_get_by_issuer_serial_fn get_by_issuer_serial)\n+{\n+    method->get_by_issuer_serial = get_by_issuer_serial;\n+    return 1;\n+}\n+\n+X509_LOOKUP_get_by_issuer_serial_fn\n+    X509_LOOKUP_meth_get_get_by_issuer_serial(const X509_LOOKUP_METHOD *method)\n+{\n+    return method->get_by_issuer_serial;\n+}\n+\n+\n+int X509_LOOKUP_meth_set_get_by_fingerprint(X509_LOOKUP_METHOD *method,\n+    X509_LOOKUP_get_by_fingerprint_fn get_by_fingerprint)\n+{\n+    method->get_by_fingerprint = get_by_fingerprint;\n+    return 1;\n+}\n+\n+X509_LOOKUP_get_by_fingerprint_fn X509_LOOKUP_meth_get_get_by_fingerprint(\n+    const X509_LOOKUP_METHOD *method)\n+{\n+    return method->get_by_fingerprint;\n+}\n+\n+int X509_LOOKUP_meth_set_get_by_alias(X509_LOOKUP_METHOD *method,\n+                                      X509_LOOKUP_get_by_alias_fn get_by_alias)\n+{\n+    method->get_by_alias = get_by_alias;\n+    return 1;\n+}\n+\n+X509_LOOKUP_get_by_alias_fn X509_LOOKUP_meth_get_get_by_alias(\n+    const X509_LOOKUP_METHOD *method)\n+{\n+    return method->get_by_alias;\n+}\n+"
        },
        {
            "sha": "f86871f6d2b929c8475534f9068c44f6e7e6fa10",
            "filename": "deps/openssl/openssl/crypto/x509/x509_vfy.c",
            "status": "modified",
            "additions": 80,
            "deletions": 101,
            "changes": 181,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vfy.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vfy.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vfy.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,12 +1,13 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n  * in the file LICENSE in the source distribution or at\n  * https://www.openssl.org/source/license.html\n  */\n \n+#include <ctype.h>\n #include <stdio.h>\n #include <time.h>\n #include <errno.h>\n@@ -557,6 +558,27 @@ static int check_chain_extensions(X509_STORE_CTX *ctx)\n     return 1;\n }\n \n+static int has_san_id(X509 *x, int gtype)\n+{\n+    int i;\n+    int ret = 0;\n+    GENERAL_NAMES *gs = X509_get_ext_d2i(x, NID_subject_alt_name, NULL, NULL);\n+\n+    if (gs == NULL)\n+        return 0;\n+\n+    for (i = 0; i < sk_GENERAL_NAME_num(gs); i++) {\n+        GENERAL_NAME *g = sk_GENERAL_NAME_value(gs, i);\n+\n+        if (g->type == gtype) {\n+            ret = 1;\n+            break;\n+        }\n+    }\n+    GENERAL_NAMES_free(gs);\n+    return ret;\n+}\n+\n static int check_name_constraints(X509_STORE_CTX *ctx)\n {\n     int i;\n@@ -655,7 +677,12 @@ static int check_name_constraints(X509_STORE_CTX *ctx)\n                 int rv = NAME_CONSTRAINTS_check(x, nc);\n \n                 /* If EE certificate check commonName too */\n-                if (rv == X509_V_OK && i == 0)\n+                if (rv == X509_V_OK && i == 0\n+                    && (ctx->param->hostflags\n+                        & X509_CHECK_FLAG_NEVER_CHECK_SUBJECT) == 0\n+                    && ((ctx->param->hostflags\n+                         & X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT) != 0\n+                        || !has_san_id(x, GEN_DNS)))\n                     rv = NAME_CONSTRAINTS_check_CN(x, nc);\n \n                 switch (rv) {\n@@ -1756,119 +1783,67 @@ int X509_cmp_current_time(const ASN1_TIME *ctm)\n \n int X509_cmp_time(const ASN1_TIME *ctm, time_t *cmp_time)\n {\n-    char *str;\n-    ASN1_TIME atm;\n-    long offset;\n-    char buff1[24], buff2[24], *p;\n-    int i, j, remaining;\n+    static const size_t utctime_length = sizeof(\"YYMMDDHHMMSSZ\") - 1;\n+    static const size_t generalizedtime_length = sizeof(\"YYYYMMDDHHMMSSZ\") - 1;\n+    ASN1_TIME *asn1_cmp_time = NULL;\n+    int i, day, sec, ret = 0;\n \n-    p = buff1;\n-    remaining = ctm->length;\n-    str = (char *)ctm->data;\n     /*\n-     * Note that the following (historical) code allows much more slack in the\n-     * time format than RFC5280. In RFC5280, the representation is fixed:\n+     * Note that ASN.1 allows much more slack in the time format than RFC5280.\n+     * In RFC5280, the representation is fixed:\n      * UTCTime: YYMMDDHHMMSSZ\n      * GeneralizedTime: YYYYMMDDHHMMSSZ\n+     *\n+     * We do NOT currently enforce the following RFC 5280 requirement:\n+     * \"CAs conforming to this profile MUST always encode certificate\n+     *  validity dates through the year 2049 as UTCTime; certificate validity\n+     *  dates in 2050 or later MUST be encoded as GeneralizedTime.\"\n      */\n-    if (ctm->type == V_ASN1_UTCTIME) {\n-        /* YYMMDDHHMM[SS]Z or YYMMDDHHMM[SS](+-)hhmm */\n-        int min_length = sizeof(\"YYMMDDHHMMZ\") - 1;\n-        int max_length = sizeof(\"YYMMDDHHMMSS+hhmm\") - 1;\n-        if (remaining < min_length || remaining > max_length)\n+    switch (ctm->type) {\n+    case V_ASN1_UTCTIME:\n+        if (ctm->length != (int)(utctime_length))\n             return 0;\n-        memcpy(p, str, 10);\n-        p += 10;\n-        str += 10;\n-        remaining -= 10;\n-    } else {\n-        /* YYYYMMDDHHMM[SS[.fff]]Z or YYYYMMDDHHMM[SS[.f[f[f]]]](+-)hhmm */\n-        int min_length = sizeof(\"YYYYMMDDHHMMZ\") - 1;\n-        int max_length = sizeof(\"YYYYMMDDHHMMSS.fff+hhmm\") - 1;\n-        if (remaining < min_length || remaining > max_length)\n+        break;\n+    case V_ASN1_GENERALIZEDTIME:\n+        if (ctm->length != (int)(generalizedtime_length))\n             return 0;\n-        memcpy(p, str, 12);\n-        p += 12;\n-        str += 12;\n-        remaining -= 12;\n+        break;\n+    default:\n+        return 0;\n     }\n \n-    if ((*str == 'Z') || (*str == '-') || (*str == '+')) {\n-        *(p++) = '0';\n-        *(p++) = '0';\n-    } else {\n-        /* SS (seconds) */\n-        if (remaining < 2)\n+    /**\n+     * Verify the format: the ASN.1 functions we use below allow a more\n+     * flexible format than what's mandated by RFC 5280.\n+     * Digit and date ranges will be verified in the conversion methods.\n+     */\n+    for (i = 0; i < ctm->length - 1; i++) {\n+        if (!isdigit(ctm->data[i]))\n             return 0;\n-        *(p++) = *(str++);\n-        *(p++) = *(str++);\n-        remaining -= 2;\n-        /*\n-         * Skip any (up to three) fractional seconds...\n-         * TODO(emilia): in RFC5280, fractional seconds are forbidden.\n-         * Can we just kill them altogether?\n-         */\n-        if (remaining && *str == '.') {\n-            str++;\n-            remaining--;\n-            for (i = 0; i < 3 && remaining; i++, str++, remaining--) {\n-                if (*str < '0' || *str > '9')\n-                    break;\n-            }\n-        }\n-\n     }\n-    *(p++) = 'Z';\n-    *(p++) = '\\0';\n-\n-    /* We now need either a terminating 'Z' or an offset. */\n-    if (!remaining)\n+    if (ctm->data[ctm->length - 1] != 'Z')\n         return 0;\n-    if (*str == 'Z') {\n-        if (remaining != 1)\n-            return 0;\n-        offset = 0;\n-    } else {\n-        /* (+-)HHMM */\n-        if ((*str != '+') && (*str != '-'))\n-            return 0;\n-        /* Historical behaviour: the (+-)hhmm offset is forbidden in RFC5280. */\n-        if (remaining != 5)\n-            return 0;\n-        if (str[1] < '0' || str[1] > '9' || str[2] < '0' || str[2] > '9' ||\n-            str[3] < '0' || str[3] > '9' || str[4] < '0' || str[4] > '9')\n-            return 0;\n-        offset = ((str[1] - '0') * 10 + (str[2] - '0')) * 60;\n-        offset += (str[3] - '0') * 10 + (str[4] - '0');\n-        if (*str == '-')\n-            offset = -offset;\n-    }\n-    atm.type = ctm->type;\n-    atm.flags = 0;\n-    atm.length = sizeof(buff2);\n-    atm.data = (unsigned char *)buff2;\n \n-    if (X509_time_adj(&atm, offset * 60, cmp_time) == NULL)\n-        return 0;\n+    /*\n+     * There is ASN1_UTCTIME_cmp_time_t but no\n+     * ASN1_GENERALIZEDTIME_cmp_time_t or ASN1_TIME_cmp_time_t,\n+     * so we go through ASN.1\n+     */\n+    asn1_cmp_time = X509_time_adj(NULL, 0, cmp_time);\n+    if (asn1_cmp_time == NULL)\n+        goto err;\n+    if (!ASN1_TIME_diff(&day, &sec, ctm, asn1_cmp_time))\n+        goto err;\n \n-    if (ctm->type == V_ASN1_UTCTIME) {\n-        i = (buff1[0] - '0') * 10 + (buff1[1] - '0');\n-        if (i < 50)\n-            i += 100;           /* cf. RFC 2459 */\n-        j = (buff2[0] - '0') * 10 + (buff2[1] - '0');\n-        if (j < 50)\n-            j += 100;\n-\n-        if (i < j)\n-            return -1;\n-        if (i > j)\n-            return 1;\n-    }\n-    i = strcmp(buff1, buff2);\n-    if (i == 0)                 /* wait a second then return younger :-) */\n-        return -1;\n-    else\n-        return i;\n+    /*\n+     * X509_cmp_time comparison is <=.\n+     * The return value 0 is reserved for errors.\n+     */\n+    ret = (day >= 0 && sec >= 0) ? -1 : 1;\n+\n+ err:\n+    ASN1_TIME_free(asn1_cmp_time);\n+    return ret;\n }\n \n ASN1_TIME *X509_gmtime_adj(ASN1_TIME *s, long adj)\n@@ -3264,6 +3239,10 @@ static int check_sig_level(X509_STORE_CTX *ctx, X509 *cert)\n     if (level > NUM_AUTH_LEVELS)\n         level = NUM_AUTH_LEVELS;\n \n+    /* We are not able to look up the CA MD for RSA PSS in this version */\n+    if (nid == NID_rsassaPss)\n+        return 1;\n+\n     /* Lookup signature algorithm digest */\n     if (nid && OBJ_find_sigid_algs(nid, &mdnid, NULL)) {\n         const EVP_MD *md;"
        },
        {
            "sha": "9bc4c61101302977e5a7ceb4c9dab61dafc1afd6",
            "filename": "deps/openssl/openssl/crypto/x509/x509_vpm.c",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vpm.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vpm.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509_vpm.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2004-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2004-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -412,6 +412,11 @@ void X509_VERIFY_PARAM_set_hostflags(X509_VERIFY_PARAM *param,\n     param->hostflags = flags;\n }\n \n+unsigned int X509_VERIFY_PARAM_get_hostflags(const X509_VERIFY_PARAM *param)\n+{\n+    return param->hostflags;\n+}\n+\n char *X509_VERIFY_PARAM_get0_peername(X509_VERIFY_PARAM *param)\n {\n     return param->peername;"
        },
        {
            "sha": "81dce376f856e8c536ee39f55f65b094ca2c3f15",
            "filename": "deps/openssl/openssl/crypto/x509/x509name.c",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509name.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509name.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx509name.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -191,7 +191,7 @@ int X509_NAME_add_entry(X509_NAME *name, const X509_NAME_ENTRY *ne, int loc,\n         loc = n;\n     else if (loc < 0)\n         loc = n;\n-\n+    inc = (set == 0);\n     name->modified = 1;\n \n     if (set == -1) {\n@@ -200,7 +200,6 @@ int X509_NAME_add_entry(X509_NAME *name, const X509_NAME_ENTRY *ne, int loc,\n             inc = 1;\n         } else {\n             set = sk_X509_NAME_ENTRY_value(sk, loc - 1)->set;\n-            inc = 0;\n         }\n     } else {                    /* if (set >= 0) */\n \n@@ -211,12 +210,11 @@ int X509_NAME_add_entry(X509_NAME *name, const X509_NAME_ENTRY *ne, int loc,\n                 set = 0;\n         } else\n             set = sk_X509_NAME_ENTRY_value(sk, loc)->set;\n-        inc = (set == 0) ? 1 : 0;\n     }\n \n     /*\n      * X509_NAME_ENTRY_dup is ASN1 generated code, that can't be easily\n-     * const'ified; harmless cast as dup() don't modify its input.\n+     * const'ified; harmless cast since dup() don't modify its input.\n      */\n     if ((new_name = X509_NAME_ENTRY_dup((X509_NAME_ENTRY *)ne)) == NULL)\n         goto err;\n@@ -228,7 +226,7 @@ int X509_NAME_add_entry(X509_NAME *name, const X509_NAME_ENTRY *ne, int loc,\n     if (inc) {\n         n = sk_X509_NAME_ENTRY_num(sk);\n         for (i = loc + 1; i < n; i++)\n-            sk_X509_NAME_ENTRY_value(sk, i - 1)->set += 1;\n+            sk_X509_NAME_ENTRY_value(sk, i)->set += 1;\n     }\n     return (1);\n  err:"
        },
        {
            "sha": "1a33dc1daa7c064acaf311ed73fc96340aa2f8bd",
            "filename": "deps/openssl/openssl/crypto/x509/x_name.c",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx_name.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx_name.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509%2Fx_name.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -472,6 +472,8 @@ static int i2d_name_canon(STACK_OF(STACK_OF_X509_NAME_ENTRY) * _intname,\n \n int X509_NAME_set(X509_NAME **xn, X509_NAME *name)\n {\n+    if (*xn == name)\n+        return *xn != NULL;\n     if ((name = X509_NAME_dup(name)) == NULL)\n         return 0;\n     X509_NAME_free(*xn);"
        },
        {
            "sha": "f39cb5ac2aab6e32281140c3744304a221e46e1d",
            "filename": "deps/openssl/openssl/crypto/x509v3/v3_enum.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_enum.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_enum.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_enum.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -38,7 +38,7 @@ const X509V3_EXT_METHOD v3_crl_reason = {\n     crl_reasons\n };\n \n-char *i2s_ASN1_ENUMERATED_TABLE(X509V3_EXT_METHOD *method,\n+char *i2s_ASN1_ENUMERATED_TABLE(X509V3_EXT_METHOD *method, \n                                 const ASN1_ENUMERATED *e)\n {\n     ENUMERATED_NAMES *enam;"
        },
        {
            "sha": "bd7301e45589cf8c6b3b1e86b0724292de6f4192",
            "filename": "deps/openssl/openssl/crypto/x509v3/v3_ncons.c",
            "status": "modified",
            "additions": 115,
            "deletions": 22,
            "changes": 137,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_ncons.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_ncons.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_ncons.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2003-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2003-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -297,47 +297,140 @@ int NAME_CONSTRAINTS_check(X509 *x, NAME_CONSTRAINTS *nc)\n \n }\n \n+static int cn2dnsid(ASN1_STRING *cn, unsigned char **dnsid, size_t *idlen)\n+{\n+    int utf8_length;\n+    unsigned char *utf8_value;\n+    int i;\n+    int isdnsname = 0;\n+\n+    /* Don't leave outputs uninitialized */\n+    *dnsid = NULL;\n+    *idlen = 0;\n+\n+    /*-\n+     * Per RFC 6125, DNS-IDs representing internationalized domain names appear\n+     * in certificates in A-label encoded form:\n+     *\n+     *   https://tools.ietf.org/html/rfc6125#section-6.4.2\n+     *\n+     * The same applies to CNs which are intended to represent DNS names.\n+     * However, while in the SAN DNS-IDs are IA5Strings, as CNs they may be\n+     * needlessly encoded in 16-bit Unicode.  We perform a conversion to UTF-8\n+     * to ensure that we get an ASCII representation of any CNs that are\n+     * representable as ASCII, but just not encoded as ASCII.  The UTF-8 form\n+     * may contain some non-ASCII octets, and that's fine, such CNs are not\n+     * valid legacy DNS names.\n+     *\n+     * Note, 'int' is the return type of ASN1_STRING_to_UTF8() so that's what\n+     * we must use for 'utf8_length'.\n+     */\n+    if ((utf8_length = ASN1_STRING_to_UTF8(&utf8_value, cn)) < 0)\n+        return X509_V_ERR_OUT_OF_MEM;\n+\n+    /*\n+     * Some certificates have had names that include a *trailing* NUL byte.\n+     * Remove these harmless NUL characters. They would otherwise yield false\n+     * alarms with the following embedded NUL check.\n+     */\n+    while (utf8_length > 0 && utf8_value[utf8_length - 1] == '\\0')\n+        --utf8_length;\n+\n+    /* Reject *embedded* NULs */\n+    if ((size_t)utf8_length != strlen((char *)utf8_value)) {\n+        OPENSSL_free(utf8_value);\n+        return X509_V_ERR_UNSUPPORTED_NAME_SYNTAX;\n+    }\n+\n+    /*\n+     * XXX: Deviation from strict DNS name syntax, also check names with '_'\n+     * Check DNS name syntax, any '-' or '.' must be internal,\n+     * and on either side of each '.' we can't have a '-' or '.'.\n+     *\n+     * If the name has just one label, we don't consider it a DNS name.  This\n+     * means that \"CN=sometld\" cannot be precluded by DNS name constraints, but\n+     * that is not a problem.\n+     */\n+    for (i = 0; i < utf8_length; ++i) {\n+        unsigned char c = utf8_value[i];\n+\n+        if ((c >= 'a' && c <= 'z')\n+            || (c >= 'A' && c <= 'Z')\n+            || (c >= '0' && c <= '9')\n+            || c == '_')\n+            continue;\n+\n+        /* Dot and hyphen cannot be first or last. */\n+        if (i > 0 && i < utf8_length - 1) {\n+            if (c == '-')\n+                continue;\n+            /*\n+             * Next to a dot the preceding and following characters must not be\n+             * another dot or a hyphen.  Otherwise, record that the name is\n+             * plausible, since it has two or more labels.\n+             */\n+            if (c == '.'\n+                && utf8_value[i + 1] != '.'\n+                && utf8_value[i - 1] != '-'\n+                && utf8_value[i + 1] != '-') {\n+                isdnsname = 1;\n+                continue;\n+            }\n+        }\n+        isdnsname = 0;\n+        break;\n+    }\n+\n+    if (isdnsname) {\n+        *dnsid = utf8_value;\n+        *idlen = (size_t)utf8_length;\n+        return X509_V_OK;\n+    }\n+    OPENSSL_free(utf8_value);\n+    return X509_V_OK;\n+}\n+\n+/*\n+ * Check CN against DNS-ID name constraints.\n+ */\n int NAME_CONSTRAINTS_check_CN(X509 *x, NAME_CONSTRAINTS *nc)\n {\n     int r, i;\n-    X509_NAME *nm;\n-\n+    X509_NAME *nm = X509_get_subject_name(x);\n     ASN1_STRING stmp;\n     GENERAL_NAME gntmp;\n+\n     stmp.flags = 0;\n     stmp.type = V_ASN1_IA5STRING;\n     gntmp.type = GEN_DNS;\n     gntmp.d.dNSName = &stmp;\n \n-    nm = X509_get_subject_name(x);\n-\n     /* Process any commonName attributes in subject name */\n \n     for (i = -1;;) {\n         X509_NAME_ENTRY *ne;\n-        ASN1_STRING *hn;\n+        ASN1_STRING *cn;\n+        unsigned char *idval;\n+        size_t idlen;\n+\n         i = X509_NAME_get_index_by_NID(nm, NID_commonName, i);\n         if (i == -1)\n             break;\n         ne = X509_NAME_get_entry(nm, i);\n-        hn = X509_NAME_ENTRY_get_data(ne);\n-        /* Only process attributes that look like host names */\n-        if (asn1_valid_host(hn)) {\n-            unsigned char *h;\n-            int hlen = ASN1_STRING_to_UTF8(&h, hn);\n-            if (hlen <= 0)\n-                return X509_V_ERR_OUT_OF_MEM;\n+        cn = X509_NAME_ENTRY_get_data(ne);\n \n-            stmp.length = hlen;\n-            stmp.data = h;\n-\n-            r = nc_match(&gntmp, nc);\n-\n-            OPENSSL_free(h);\n+        /* Only process attributes that look like host names */\n+        if ((r = cn2dnsid(cn, &idval, &idlen)) != X509_V_OK)\n+            return r;\n+        if (idlen == 0)\n+            continue;\n \n-            if (r != X509_V_OK)\n-                    return r;\n-        }\n+        stmp.length = idlen;\n+        stmp.data = idval;\n+        r = nc_match(&gntmp, nc);\n+        OPENSSL_free(idval);\n+        if (r != X509_V_OK)\n+            return r;\n     }\n     return X509_V_OK;\n }"
        },
        {
            "sha": "7ac067229fbb7de21a90cb9b5dbc73ba3600a17b",
            "filename": "deps/openssl/openssl/crypto/x509v3/v3_purp.c",
            "status": "modified",
            "additions": 22,
            "deletions": 12,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_purp.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_purp.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_purp.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -78,11 +78,9 @@ int X509_check_purpose(X509 *x, int id, int ca)\n {\n     int idx;\n     const X509_PURPOSE *pt;\n-    if (!(x->ex_flags & EXFLAG_SET)) {\n-        CRYPTO_THREAD_write_lock(x->lock);\n-        x509v3_cache_extensions(x);\n-        CRYPTO_THREAD_unlock(x->lock);\n-    }\n+\n+    x509v3_cache_extensions(x);\n+\n     /* Return if side-effect only call */\n     if (id == -1)\n         return 1;\n@@ -352,10 +350,18 @@ static void x509v3_cache_extensions(X509 *x)\n     ASN1_BIT_STRING *ns;\n     EXTENDED_KEY_USAGE *extusage;\n     X509_EXTENSION *ex;\n-\n     int i;\n-    if (x->ex_flags & EXFLAG_SET)\n+\n+    /* fast lock-free check, see end of the function for details. */\n+    if (x->ex_cached)\n+        return;\n+\n+    CRYPTO_THREAD_write_lock(x->lock);\n+    if (x->ex_flags & EXFLAG_SET) {\n+        CRYPTO_THREAD_unlock(x->lock);\n         return;\n+    }\n+\n     X509_digest(x, EVP_sha1(), x->sha1_hash, NULL);\n     /* V1 should mean no extensions ... */\n     if (!X509_get_version(x))\n@@ -489,6 +495,13 @@ static void x509v3_cache_extensions(X509 *x)\n         }\n     }\n     x->ex_flags |= EXFLAG_SET;\n+    CRYPTO_THREAD_unlock(x->lock);\n+    /*\n+     * It has to be placed after memory barrier, which is implied by unlock.\n+     * Worst thing that can happen is that another thread proceeds to lock\n+     * and checks x->ex_flags & EXFLAGS_SET. See beginning of the function.\n+     */\n+    x->ex_cached = 1;\n }\n \n /*-\n@@ -541,11 +554,7 @@ void X509_set_proxy_pathlen(X509 *x, long l)\n \n int X509_check_ca(X509 *x)\n {\n-    if (!(x->ex_flags & EXFLAG_SET)) {\n-        CRYPTO_THREAD_write_lock(x->lock);\n-        x509v3_cache_extensions(x);\n-        CRYPTO_THREAD_unlock(x->lock);\n-    }\n+    x509v3_cache_extensions(x);\n \n     return check_ca(x);\n }\n@@ -759,6 +768,7 @@ int X509_check_issued(X509 *issuer, X509 *subject)\n     if (X509_NAME_cmp(X509_get_subject_name(issuer),\n                       X509_get_issuer_name(subject)))\n         return X509_V_ERR_SUBJECT_ISSUER_MISMATCH;\n+\n     x509v3_cache_extensions(issuer);\n     x509v3_cache_extensions(subject);\n "
        },
        {
            "sha": "39597dc41d3fa3444ed32c1e63757dd056ef3e26",
            "filename": "deps/openssl/openssl/crypto/x509v3/v3_skey.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_skey.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_skey.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_skey.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -24,7 +24,7 @@ const X509V3_EXT_METHOD v3_skey_id = {\n     NULL\n };\n \n-char *i2s_ASN1_OCTET_STRING(X509V3_EXT_METHOD *method,\n+char *i2s_ASN1_OCTET_STRING(X509V3_EXT_METHOD *method, \n                             const ASN1_OCTET_STRING *oct)\n {\n     return OPENSSL_buf2hexstr(oct->data, oct->length);"
        },
        {
            "sha": "d93781e1b7b7b67a48c05a3a10fd342fe63f754c",
            "filename": "deps/openssl/openssl/crypto/x509v3/v3_tlsf.c",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_tlsf.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_tlsf.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fx509v3%2Fv3_tlsf.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -121,13 +121,12 @@ static TLS_FEATURE *v2i_TLS_FEATURE(const X509V3_EXT_METHOD *method,\n             }\n         }\n \n-        ai = ASN1_INTEGER_new();\n-        if (ai == NULL) {\n+        if ((ai = ASN1_INTEGER_new()) == NULL\n+                || !ASN1_INTEGER_set(ai, tlsextid)\n+                || sk_ASN1_INTEGER_push(tlsf, ai) <= 0) {\n             X509V3err(X509V3_F_V2I_TLS_FEATURE, ERR_R_MALLOC_FAILURE);\n             goto err;\n         }\n-        ASN1_INTEGER_set(ai, tlsextid);\n-        sk_ASN1_INTEGER_push(tlsf, ai);\n     }\n     return tlsf;\n "
        },
        {
            "sha": "8e127b079a513f8357bce1276a0ee8e8f5aeb029",
            "filename": "deps/openssl/openssl/demos/bio/descrip.mms",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fbio%2Fdescrip.mms",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fbio%2Fdescrip.mms",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fbio%2Fdescrip.mms?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -23,7 +23,7 @@ SHARED = TRUE\n \t@ !\n \n # Because we use an option file, we need to redefine this\n-.obj.exe :\n+.obj.exe : \n \t$(LINK) $(LINKFLAGS) $<,OPT:/OPT\n \n all : client-arg.exe client-conf.exe saccept.exe sconnect.exe -"
        },
        {
            "sha": "126663a1d8c9fbcaddb7b83ffbca86601bcdb412",
            "filename": "deps/openssl/openssl/demos/certs/README",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2FREADME",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2FREADME",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2FREADME?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -8,11 +8,14 @@ automatically using scripts. Example creates a root CA, an intermediate CA\n signed by the root and several certificates signed by the intermediate CA.\n \n The script then creates an empty index.txt file and adds entries for the\n-certificates and generates a CRL. Then one certificate is revoked and a\n+certificates and generates a CRL. Then one certificate is revoked and a \n second CRL generated.\n \n The script ocsprun.sh runs the test responder on port 8888 covering the\n client certificates.\n \n The script ocspquery.sh queries the status of the certificates using the\n test responder.\n+\n+\n+"
        },
        {
            "sha": "531afe64b20f7dc801ea08c53d624885c052e3a8",
            "filename": "deps/openssl/openssl/demos/certs/apps/apps.cnf",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fapps.cnf",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fapps.cnf",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fapps.cnf?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -65,3 +65,5 @@ subjectKeyIdentifier=hash\n authorityKeyIdentifier=keyid:always\n basicConstraints = critical,CA:true\n keyUsage = critical, cRLSign, keyCertSign\n+\n+"
        },
        {
            "sha": "0f88a48fb8483861f245a49b7e61b03d9cab8a46",
            "filename": "deps/openssl/openssl/demos/certs/apps/mkxcerts.sh",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fmkxcerts.sh",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fmkxcerts.sh",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fapps%2Fmkxcerts.sh?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -13,7 +13,7 @@ CN=\"OpenSSL Test RSA SHA-512 cert\" $OPENSSL req \\\n \t-config apps.cnf -extensions usr_cert -x509 -nodes \\\n \t-keyout tsha512.pem -out tsha512.pem -new -days 3650 -sha512\n \n-# Create EC parameters\n+# Create EC parameters \n \n $OPENSSL ecparam -name P-256 -out ecp256.pem\n $OPENSSL ecparam -name P-384 -out ecp384.pem"
        },
        {
            "sha": "18daa6bcfb8d2a4bf35bd8ea364c150ebfe74e0e",
            "filename": "deps/openssl/openssl/demos/certs/mkcerts.sh",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fmkcerts.sh",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fmkcerts.sh",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fcerts%2Fmkcerts.sh?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -42,7 +42,7 @@ CN=\"Test OCSP Responder Cert\" $OPENSSL req -config ca.cnf -nodes \\\n $OPENSSL x509 -req -in respreq.pem -CA intca.pem -CAkey intkey.pem -days 3600 \\\n \t-extfile ca.cnf -extensions ocsp_cert -CAcreateserial -out resp.pem\n \n-# Example creating a PKCS#3 DH certificate.\n+# Example creating a PKCS#3 DH certificate. \n \n # First DH parameters\n \n@@ -93,3 +93,4 @@ openssl ca -revoke rev.pem -crl_reason superseded \\\n # Generate another CRL\n $OPENSSL ca -gencrl -keyfile root.pem -cert root.pem -config ca.cnf \\\n \t\t-md sha1 -crldays 1 -out crl2.pem\n+"
        },
        {
            "sha": "72c6e81d7a9f26d5626bda4b495bf9f66ba40ac6",
            "filename": "deps/openssl/openssl/demos/evp/Makefile",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2FMakefile",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2FMakefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2FMakefile?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -11,7 +11,7 @@\n CFLAGS = $(OPENSSL_INCS_LOCATION)\n LDFLAGS = $(OPENSSL_LIBS_LOCATION) -lssl -lcrypto\n \n-all: aesccm aesgcm\n+all: aesccm aesgcm \n \n aesccm: aesccm.o\n aesgcm: aesgcm.o"
        },
        {
            "sha": "df59f469fd866b83f13d9df1126ecef3831d14de",
            "filename": "deps/openssl/openssl/demos/evp/aesgcm.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2Faesgcm.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2Faesgcm.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdemos%2Fevp%2Faesgcm.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -102,7 +102,7 @@ void aes_gcm_decrypt(void)\n     printf(\"Plaintext:\\n\");\n     BIO_dump_fp(stdout, outbuf, outlen);\n     /* Set expected tag value. */\n-    EVP_CIPHER_CTX_ctrl(ctx, EVP_CTRL_AEAD_SET_TAG, sizeof(gcm_tag),\n+    EVP_CIPHER_CTX_ctrl(ctx, EVP_CTRL_AEAD_SET_TAG, sizeof(gcm_tag), \n                         (void *)gcm_tag);\n     /* Finalise: note get no output for GCM */\n     rv = EVP_DecryptFinal_ex(ctx, outbuf, &outlen);"
        },
        {
            "sha": "64ec106b09ccdbe0c9965c8acfe9e5ed4bdcc338",
            "filename": "deps/openssl/openssl/doc/apps/cms.pod",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fcms.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fcms.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fcms.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -393,6 +393,9 @@ When encrypting a message this option may be used multiple times to specify\n each recipient. This form B<must> be used if customised parameters are\n required (for example to specify RSA-OAEP).\n \n+Only certificates carrying RSA, Diffie-Hellman or EC keys are supported by this\n+option.\n+\n =item B<-keyid>\n \n use subject key identifier to identify certificates instead of issuer name and\n@@ -712,23 +715,20 @@ No revocation checking is done on the signer's certificate.\n =head1 HISTORY\n \n The use of multiple B<-signer> options and the B<-resign> command were first\n-added in OpenSSL 1.0.0\n-\n-The B<keyopt> option was first added in OpenSSL 1.1.0\n+added in OpenSSL 1.0.0.\n \n-The use of B<-recip> to specify the recipient when encrypting mail was first\n-added to OpenSSL 1.1.0\n+The B<keyopt> option was first added in OpenSSL 1.0.2\n \n-Support for RSA-OAEP and RSA-PSS was first added to OpenSSL 1.1.0.\n+Support for RSA-OAEP and RSA-PSS was first added to OpenSSL 1.0.2.\n \n The use of non-RSA keys with B<-encrypt> and B<-decrypt> was first added\n-to OpenSSL 1.1.0.\n+to OpenSSL 1.0.2.\n \n-The -no_alt_chains options was first added to OpenSSL 1.1.0.\n+The -no_alt_chains options was first added to OpenSSL 1.0.2b.\n \n =head1 COPYRIGHT\n \n-Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "a5153a65f1a53c23a7b015565ceb52fe6c027139",
            "filename": "deps/openssl/openssl/doc/apps/config.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fconfig.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fconfig.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fconfig.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -20,7 +20,7 @@ started or end of file is reached. A section name can consist of\n alphanumeric characters and underscores.\n \n The first section of a configuration file is special and is referred\n-to as the B<default> section this is usually unnamed and is from the\n+to as the B<default> section. This section is usually unnamed and spans from the\n start of file until the first named section. When a name is being looked up\n it is first looked up in a named section (if any) and then the\n default section.\n@@ -377,7 +377,7 @@ L<x509(1)>, L<req(1)>, L<ca(1)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "91b12e249b3b716b94cd223cb7a6b102e1faaa6b",
            "filename": "deps/openssl/openssl/doc/apps/genpkey.pod",
            "status": "modified",
            "additions": 89,
            "deletions": 68,
            "changes": 157,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fgenpkey.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fgenpkey.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fgenpkey.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -12,7 +12,7 @@ B<openssl> B<genpkey>\n [B<-out filename>]\n [B<-outform PEM|DER>]\n [B<-pass arg>]\n-[B<-cipher>]\n+[B<-I<cipher>>]\n [B<-engine id>]\n [B<-paramfile file>]\n [B<-algorithm alg>]\n@@ -39,41 +39,54 @@ standard output is used.\n \n =item B<-outform DER|PEM>\n \n-This specifies the output format DER or PEM.\n+This specifies the output format DER or PEM. The default format is PEM.\n \n =item B<-pass arg>\n \n-the output file password source. For more information about the format of B<arg>\n+The output file password source. For more information about the format of B<arg>\n see the B<PASS PHRASE ARGUMENTS> section in L<openssl(1)>.\n \n-=item B<-cipher>\n+=item B<-I<cipher>>\n \n This option encrypts the private key with the supplied cipher. Any algorithm\n name accepted by EVP_get_cipherbyname() is acceptable such as B<des3>.\n \n =item B<-engine id>\n \n-specifying an engine (by its unique B<id> string) will cause B<genpkey>\n+Specifying an engine (by its unique B<id> string) will cause B<genpkey>\n to attempt to obtain a functional reference to the specified engine,\n thus initialising it if needed. The engine will then be set as the default\n for all available algorithms. If used this option should precede all other\n options.\n \n =item B<-algorithm alg>\n \n-public key algorithm to use such as RSA, DSA or DH. If used this option must\n+Public key algorithm to use such as RSA, DSA or DH. If used this option must\n precede any B<-pkeyopt> options. The options B<-paramfile> and B<-algorithm>\n-are mutually exclusive.\n+are mutually exclusive. Engines may add algorithms in addition to the standard\n+built-in ones.\n+\n+Valid built-in algorithm names for private key generation are RSA and EC.\n+\n+Valid built-in algorithm names for parameter generation (see the B<-genparam>\n+option) are DH, DSA and EC.\n+\n+Note that the algorithm name X9.42 DH may be used as a synonym for the DH\n+algorithm. These are identical and do not indicate the type of parameters that\n+will be generated. Use the B<dh_paramgen_type> option to indicate whether PKCS#3\n+or X9.42 DH parameters are required. See L<DH Parameter Generation Options>\n+below for more details.\n \n =item B<-pkeyopt opt:value>\n \n-set the public key algorithm option B<opt> to B<value>. The precise set of\n+Set the public key algorithm option B<opt> to B<value>. The precise set of\n options supported depends on the public key algorithm used and its\n-implementation. See B<KEY GENERATION OPTIONS> below for more details.\n+implementation. See L<KEY GENERATION OPTIONS> and\n+L<PARAMETER GENERATION OPTIONS> below for more details.\n \n =item B<-genparam>\n \n-generate a set of parameters instead of a private key. If used this option must\n+Generate a set of parameters instead of a private key. If used this option must\n precede any B<-algorithm>, B<-paramfile> or B<-pkeyopt> options.\n \n =item B<-paramfile filename>\n@@ -97,7 +110,7 @@ The options supported by each algorithm and indeed each implementation of an\n algorithm can vary. The options for the OpenSSL implementations are detailed\n below.\n \n-=head1 RSA KEY GENERATION OPTIONS\n+=head2 RSA Key Generation Options\n \n =over 4\n \n@@ -112,91 +125,92 @@ hexadecimal value if preceded by B<0x>. Default value is 65537.\n \n =back\n \n-=head1 DSA PARAMETER GENERATION OPTIONS\n+=head2 EC Key Generation Options\n+\n+The EC key generation options can also be used for parameter generation.\n \n =over 4\n \n-=item B<dsa_paramgen_bits:numbits>\n+=item B<ec_paramgen_curve:curve>\n+\n+The EC curve to use. OpenSSL supports NIST curve names such as \"P-256\".\n \n-The number of bits in the generated parameters. If not specified 1024 is used.\n+=item B<ec_param_enc:encoding>\n+\n+The encoding to use for parameters. The \"encoding\" parameter must be either\n+\"named_curve\" or \"explicit\". The default value is \"named_curve\".\n \n =back\n \n-=head1 DH PARAMETER GENERATION OPTIONS\n+=head1 PARAMETER GENERATION OPTIONS\n+\n+The options supported by each algorithm and indeed each implementation of an\n+algorithm can vary. The options for the OpenSSL implementations are detailed\n+below.\n+\n+=head2 DSA Parameter Generation Options\n \n =over 4\n \n-=item B<dh_paramgen_prime_len:numbits>\n+=item B<dsa_paramgen_bits:numbits>\n \n-The number of bits in the prime parameter B<p>.\n+The number of bits in the generated prime. If not specified 1024 is used.\n \n-=item B<dh_paramgen_generator:value>\n+=item B<dsa_paramgen_q_bits:numbits>\n \n-The value to use for the generator B<g>.\n+The number of bits in the q parameter. Must be one of 160, 224 or 256. If not\n+specified 160 is used.\n \n-=item B<dh_rfc5114:num>\n+=item B<dsa_paramgen_md:digest>\n \n-If this option is set then the appropriate RFC5114 parameters are used\n-instead of generating new parameters. The value B<num> can take the\n-values 1, 2 or 3 corresponding to RFC5114 DH parameters consisting of\n-1024 bit group with 160 bit subgroup, 2048 bit group with 224 bit subgroup\n-and 2048 bit group with 256 bit subgroup as mentioned in RFC5114 sections\n-2.1, 2.2 and 2.3 respectively.\n+The digest to use during parameter generation. Must be one of B<sha1>, B<sha224>\n+or B<sha256>. If set, then the number of bits in B<q> will match the output size\n+of the specified digest and the B<dsa_paramgen_q_bits> parameter will be\n+ignored. If not set, then a digest will be used that gives an output matching\n+the number of bits in B<q>, i.e. B<sha1> if q length is 160, B<sha224> if it 224\n+or B<sha256> if it is 256.\n \n =back\n \n-=head1 EC PARAMETER GENERATION OPTIONS\n-\n-The EC parameter generation options below can also\n-be supplied as EC key generation options. This can (for example) generate a\n-key from a named curve without the need to use an explicit parameter file.\n+=head2 DH Parameter Generation Options\n \n =over 4\n \n-=item B<ec_paramgen_curve:curve>\n-\n-the EC curve to use. OpenSSL supports NIST curve names such as \"P-256\".\n+=item B<dh_paramgen_prime_len:numbits>\n \n-=item B<ec_param_enc:encoding>\n+The number of bits in the prime parameter B<p>. The default is 1024.\n \n-the encoding to use for parameters. The \"encoding\" parameter must be either\n-\"named_curve\" or \"explicit\".\n+=item B<dh_paramgen_subprime_len:numbits>\n \n-=back\n+The number of bits in the sub prime parameter B<q>. The default is 256 if the\n+prime is at least 2048 bits long or 160 otherwise. Only relevant if used in\n+conjunction with the B<dh_paramgen_type> option to generate X9.42 DH parameters.\n \n-=head1 GOST2001 KEY GENERATION AND PARAMETER OPTIONS\n-\n-Gost 2001 support is not enabled by default. To enable this algorithm,\n-one should load the ccgost engine in the OpenSSL configuration file.\n-See README.gost file in the engines/ccgost directory of the source\n-distribution for more details.\n+=item B<dh_paramgen_generator:value>\n \n-Use of a parameter file for the GOST R 34.10 algorithm is optional.\n-Parameters can be specified during key generation directly as well as\n-during generation of parameter file.\n+The value to use for the generator B<g>. The default is 2.\n \n-=over 4\n+=item B<dh_paramgen_type:value>\n \n-=item B<paramset:name>\n+The type of DH parameters to generate. Use 0 for PKCS#3 DH and 1 for X9.42 DH.\n+The default is 0.\n \n-Specifies GOST R 34.10-2001 parameter set according to RFC 4357.\n-Parameter set can be specified using abbreviated name, object short name or\n-numeric OID. Following parameter sets are supported:\n+=item B<dh_rfc5114:num>\n \n-  paramset   OID               Usage\n-  A          1.2.643.2.2.35.1  Signature\n-  B          1.2.643.2.2.35.2  Signature\n-  C          1.2.643.2.2.35.3  Signature\n-  XA         1.2.643.2.2.36.0  Key exchange\n-  XB         1.2.643.2.2.36.1  Key exchange\n-  test       1.2.643.2.2.35.0  Test purposes\n+If this option is set, then the appropriate RFC5114 parameters are used\n+instead of generating new parameters. The value B<num> can take the\n+values 1, 2 or 3 corresponding to RFC5114 DH parameters consisting of\n+1024 bit group with 160 bit subgroup, 2048 bit group with 224 bit subgroup\n+and 2048 bit group with 256 bit subgroup as mentioned in RFC5114 sections\n+2.1, 2.2 and 2.3 respectively. If present this overrides all other DH parameter\n+options.\n \n =back\n \n-=head1 X25519 KEY GENERATION OPTIONS\n-\n-The X25519 algorithm does not currently support any key generation options.\n+=head2 EC Parameter Generation Options\n \n+The EC parameter generation options are the same as for key generation. See\n+L<EC Key Generation Options> above.\n \n =head1 NOTES\n \n@@ -219,19 +233,25 @@ Generate a 2048 bit RSA key using 3 as the public exponent:\n  openssl genpkey -algorithm RSA -out key.pem -pkeyopt rsa_keygen_bits:2048 \\\n                                                 -pkeyopt rsa_keygen_pubexp:3\n \n-Generate 1024 bit DSA parameters:\n+Generate 2048 bit DSA parameters:\n \n  openssl genpkey -genparam -algorithm DSA -out dsap.pem \\\n-                                                -pkeyopt dsa_paramgen_bits:1024\n+                                                -pkeyopt dsa_paramgen_bits:2048\n \n Generate DSA key from parameters:\n \n  openssl genpkey -paramfile dsap.pem -out dsakey.pem\n \n-Generate 1024 bit DH parameters:\n+Generate 2048 bit DH parameters:\n \n  openssl genpkey -genparam -algorithm DH -out dhp.pem \\\n-                                        -pkeyopt dh_paramgen_prime_len:1024\n+                                        -pkeyopt dh_paramgen_prime_len:2048\n+\n+Generate 2048 bit X9.42 DH parameters:\n+\n+ openssl genpkey -genparam -algorithm DH -out dhpx.pem \\\n+                                        -pkeyopt dh_paramgen_prime_len:2048 \\\n+                                        -pkeyopt dh_paramgen_type:1\n \n Output RFC5114 2048 bit DH parameters with 224 bit subgroup:\n \n@@ -264,11 +284,12 @@ Generate an X25519 private key:\n =head1 HISTORY\n \n The ability to use NIST curve names, and to generate an EC key directly,\n-were added in OpenSSL 1.0.2.\n+were added in OpenSSL 1.0.2. The ability to generate X25519 keys was added in\n+OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2006-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "22f3b7a40a6dec53f2a0e491a2873f55761ffd0f",
            "filename": "deps/openssl/openssl/doc/apps/rehash.pod",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Frehash.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Frehash.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Frehash.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -99,6 +99,12 @@ Note that current versions will not use the old style.\n Do not remove existing links.\n This is needed when keeping new and old-style links in the same directory.\n \n+=item B<-compat>\n+\n+Generate links for both old-style (MD5) and new-style (SHA1) hashing.\n+This allows releases before 1.0.0 to use these links along-side newer\n+releases.\n+\n =item B<-v>\n \n Print messages about old links removed and new links created.\n@@ -130,7 +136,7 @@ L<x509(1)>.\n \n =head1 COPYRIGHT\n \n-Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "9c17075337b4fb4e75d8f4c28cdf87569de0a66b",
            "filename": "deps/openssl/openssl/doc/apps/s_client.pod",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fs_client.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fs_client.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fapps%2Fs_client.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -281,8 +281,9 @@ be used as a test that session caching is working.\n \n =item B<-showcerts>\n \n-display the whole server certificate chain: normally only the server\n-certificate itself is displayed.\n+Displays the server certificate list as sent by the server: it only consists of\n+certificates the server has sent (in the order the server has sent them). It is\n+B<not> a verified chain.\n \n =item B<-prexit>\n \n@@ -579,7 +580,8 @@ a client certificate. Therefor merely including a client certificate\n on the command line is no guarantee that the certificate works.\n \n If there are problems verifying a server certificate then the\n-B<-showcerts> option can be used to show the whole chain.\n+B<-showcerts> option can be used to show all the certificates sent by the\n+server.\n \n The B<s_client> utility is a test tool and is designed to continue the\n handshake after any certificate verification errors. As a result it will\n@@ -609,7 +611,7 @@ The -no_alt_chains options was first added to OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "d0a6a3c810a164778d04f2d06f452ea294b0c065",
            "filename": "deps/openssl/openssl/doc/crypto/ASN1_INTEGER_get_int64.pod",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FASN1_INTEGER_get_int64.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FASN1_INTEGER_get_int64.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FASN1_INTEGER_get_int64.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -11,10 +11,10 @@ ASN1_INTEGER_get_int64, ASN1_INTEGER_get, ASN1_INTEGER_set_int64, ASN1_INTEGER_s\n  #include <openssl/asn1.h>\n \n  int ASN1_INTEGER_get_int64(int64_t *pr, const ASN1_INTEGER *a);\n- int ASN1_INTEGER_get(const ASN1_INTEGER *a, long v);\n+ long ASN1_INTEGER_get(const ASN1_INTEGER *a);\n \n  int ASN1_INTEGER_set_int64(ASN1_INTEGER *a, int64_t r);\n- long ASN1_INTEGER_set(const ASN1_INTEGER *a);\n+ int ASN1_INTEGER_set(const ASN1_INTEGER *a, long v);\n \n  int ASN1_INTEGER_get_uint64(uint64_t *pr, const ASN1_INTEGER *a);\n  int ASN1_INTEGER_set_uint64(ASN1_INTEGER *a, uint64_t r);\n@@ -123,7 +123,7 @@ were added to OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "89179a46e76ac28315e63a1e209d0befa0846c10",
            "filename": "deps/openssl/openssl/doc/crypto/BIO_meth_new.pod",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBIO_meth_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBIO_meth_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBIO_meth_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -17,26 +17,26 @@ BIO_meth_set_callback_ctrl - Routines to build up BIO methods\n  int BIO_get_new_index(void);\n  BIO_METHOD *BIO_meth_new(int type, const char *name);\n  void BIO_meth_free(BIO_METHOD *biom);\n- int (*BIO_meth_get_write(BIO_METHOD *biom)) (BIO *, const char *, int);\n+ int (*BIO_meth_get_write(const BIO_METHOD *biom)) (BIO *, const char *, int);\n  int BIO_meth_set_write(BIO_METHOD *biom,\n                         int (*write) (BIO *, const char *, int));\n- int (*BIO_meth_get_read(BIO_METHOD *biom)) (BIO *, char *, int);\n+ int (*BIO_meth_get_read(const BIO_METHOD *biom)) (BIO *, char *, int);\n  int BIO_meth_set_read(BIO_METHOD *biom,\n                        int (*read) (BIO *, char *, int));\n- int (*BIO_meth_get_puts(BIO_METHOD *biom)) (BIO *, const char *);\n+ int (*BIO_meth_get_puts(const BIO_METHOD *biom)) (BIO *, const char *);\n  int BIO_meth_set_puts(BIO_METHOD *biom,\n                        int (*puts) (BIO *, const char *));\n- int (*BIO_meth_get_gets(BIO_METHOD *biom)) (BIO *, char *, int);\n+ int (*BIO_meth_get_gets(const BIO_METHOD *biom)) (BIO *, char *, int);\n  int BIO_meth_set_gets(BIO_METHOD *biom,\n                        int (*gets) (BIO *, char *, int));\n- long (*BIO_meth_get_ctrl(BIO_METHOD *biom)) (BIO *, int, long, void *);\n+ long (*BIO_meth_get_ctrl(const BIO_METHOD *biom)) (BIO *, int, long, void *);\n  int BIO_meth_set_ctrl(BIO_METHOD *biom,\n                        long (*ctrl) (BIO *, int, long, void *));\n- int (*BIO_meth_get_create(BIO_METHOD *bion)) (BIO *);\n+ int (*BIO_meth_get_create(const BIO_METHOD *bion)) (BIO *);\n  int BIO_meth_set_create(BIO_METHOD *biom, int (*create) (BIO *));\n- int (*BIO_meth_get_destroy(BIO_METHOD *biom)) (BIO *);\n+ int (*BIO_meth_get_destroy(const BIO_METHOD *biom)) (BIO *);\n  int BIO_meth_set_destroy(BIO_METHOD *biom, int (*destroy) (BIO *));\n- long (*BIO_meth_get_callback_ctrl(BIO_METHOD *biom))\n+ long (*BIO_meth_get_callback_ctrl(const BIO_METHOD *biom))\n                                   (BIO *, int, BIO_info_cb *);\n  int BIO_meth_set_callback_ctrl(BIO_METHOD *biom,\n                                 long (*callback_ctrl) (BIO *, int,\n@@ -121,7 +121,7 @@ The functions described here were added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "b2c5dd2cc54d033a812bc437358f9cdab5642fea",
            "filename": "deps/openssl/openssl/doc/crypto/BN_add.pod",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_add.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_add.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_add.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -92,7 +92,9 @@ BN_exp() raises I<a> to the I<p>-th power and places the result in I<r>\n BN_mul().\n \n BN_mod_exp() computes I<a> to the I<p>-th power modulo I<m> (C<r=a^p %\n-m>). This function uses less time and space than BN_exp().\n+m>). This function uses less time and space than BN_exp(). Do not call this\n+function when B<m> is even and any of the parameters have the\n+B<BN_FLG_CONSTTIME> flag set.\n \n BN_gcd() computes the greatest common divisor of I<a> and I<b> and\n places the result in I<r>. I<r> may be the same B<BIGNUM> as I<a> or\n@@ -117,7 +119,7 @@ L<BN_add_word(3)>, L<BN_set_bit(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "c9ca33fd136d3144921b1fae0d95de6111ff60b3",
            "filename": "deps/openssl/openssl/doc/crypto/BN_bn2bin.pod",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_bn2bin.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_bn2bin.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_bn2bin.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -55,8 +55,8 @@ freed later using OPENSSL_free().\n BN_hex2bn() takes as many characters as possible from the string B<str>,\n including the leading character '-' which means negative, to form a valid\n hexadecimal number representation and converts them to a B<BIGNUM> and\n-stores it in **B<bn>. If *B<bn> is NULL, a new B<BIGNUM> is created. If\n-B<bn> is NULL, it only computes the length of valid representation.\n+stores it in **B<a>. If *B<a> is NULL, a new B<BIGNUM> is created. If\n+B<a> is NULL, it only computes the length of valid representation.\n A \"negative zero\" is converted to zero.\n BN_dec2bn() is the same using the decimal system.\n \n@@ -106,7 +106,7 @@ L<BN_num_bytes(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "4cd667e2e36eab697a5031ed5f48a70f38e03b10",
            "filename": "deps/openssl/openssl/doc/crypto/BN_generate_prime.pod",
            "status": "modified",
            "additions": 12,
            "deletions": 2,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_generate_prime.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_generate_prime.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FBN_generate_prime.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -100,7 +100,17 @@ If B<do_trial_division == 0>, this test is skipped.\n Both BN_is_prime_ex() and BN_is_prime_fasttest_ex() perform a Miller-Rabin\n probabilistic primality test with B<nchecks> iterations. If\n B<nchecks == BN_prime_checks>, a number of iterations is used that\n-yields a false positive rate of at most 2^-80 for random input.\n+yields a false positive rate of at most 2^-64 for random input.\n+The error rate depends on the size of the prime and goes down for bigger primes.\n+The rate is 2^-80 starting at 308 bits, 2^-112 at 852 bits, 2^-128 at 1080 bits,\n+2^-192 at 3747 bits and 2^-256 at 6394 bits.\n+\n+When the source of the prime is not random or not trusted, the number\n+of checks needs to be much higher to reach the same level of assurance:\n+It should equal half of the targeted security level in bits (rounded up to the\n+next integer if necessary).\n+For instance, to reach the 128 bit security level, B<nchecks> should be set to\n+64.\n \n If B<cb> is not B<NULL>, B<BN_GENCB_call(cb, 1, j)> is called\n after the j-th iteration (j = 0, 1, ...). B<ctx> is a\n@@ -184,7 +194,7 @@ and BN_GENCB_get_arg() were added in OpenSSL 1.1.0\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "cbd5a21353e2cf887328d52666a7dfc10f42361c",
            "filename": "deps/openssl/openssl/doc/crypto/CMS_encrypt.pod",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_encrypt.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_encrypt.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_encrypt.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -18,9 +18,8 @@ B<cipher> is the symmetric cipher to use. B<flags> is an optional set of flags.\n \n =head1 NOTES\n \n-Only certificates carrying RSA keys are supported so the recipient certificates\n-supplied to this function must all contain RSA public keys, though they do not\n-have to be signed using the RSA algorithm.\n+Only certificates carrying RSA, Diffie-Hellman or EC keys are supported by this\n+function.\n \n EVP_des_ede3_cbc() (triple DES) is the algorithm of choice for S/MIME use\n because most clients will support it.\n@@ -94,7 +93,7 @@ The B<CMS_STREAM> flag was first supported in OpenSSL 1.0.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "cea088857a6f5bda1f744ca691da67250aa1699d",
            "filename": "deps/openssl/openssl/doc/crypto/CMS_get0_SignerInfos.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get0_SignerInfos.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get0_SignerInfos.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get0_SignerInfos.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -54,7 +54,7 @@ CMS_SignerInfo_set1_signer_cert().\n \n Once all signer certificates have been set CMS_verify() can be used.\n \n-Although CMS_get0_SignerInfos() can return NULL is an error occur B<or> if\n+Although CMS_get0_SignerInfos() can return NULL if an error occurs B<or> if\n there are no signers this is not a problem in practice because the only\n error which can occur is if the B<cms> structure is not of type signedData\n due to application error.\n@@ -79,7 +79,7 @@ L<ERR_get_error(3)>, L<CMS_verify(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "cb961be79758f3339f5c0cf030e0f6f90ec6fc87",
            "filename": "deps/openssl/openssl/doc/crypto/CMS_get1_ReceiptRequest.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get1_ReceiptRequest.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get1_ReceiptRequest.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FCMS_get1_ReceiptRequest.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -48,7 +48,7 @@ CMS_verify().\n CMS_ReceiptRequest_create0() returns a signed receipt request structure or\n NULL if an error occurred.\n \n-CMS_add1_ReceiptRequest() returns 1 for success or 0 is an error occurred.\n+CMS_add1_ReceiptRequest() returns 1 for success or 0 if an error occurred.\n \n CMS_get1_ReceiptRequest() returns 1 is a signed receipt request is found and\n decoded. It returns 0 if a signed receipt request is not present and -1 if\n@@ -62,7 +62,7 @@ L<CMS_verify_receipt(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2008-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "ef0a80b195105bcc64d1228bb50435a0a03b4353",
            "filename": "deps/openssl/openssl/doc/crypto/DH_meth_new.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDH_meth_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDH_meth_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDH_meth_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -19,7 +19,7 @@ DH_meth_set_generate_params - Routines to build up DH methods\n  DH_METHOD *DH_meth_dup(const DH_METHOD *dhm);\n  const char *DH_meth_get0_name(const DH_METHOD *dhm);\n  int DH_meth_set1_name(DH_METHOD *dhm, const char *name);\n- int DH_meth_get_flags(DH_METHOD *dhm);\n+ int DH_meth_get_flags(const DH_METHOD *dhm);\n  int DH_meth_set_flags(DH_METHOD *dhm, int flags);\n  void *DH_meth_get0_app_data(const DH_METHOD *dhm);\n  int DH_meth_set0_app_data(DH_METHOD *dhm, void *app_data);\n@@ -146,7 +146,7 @@ The functions described here were added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "8ebf7ab6bcc1e52df2a08fe9d3960f8a73cab46a",
            "filename": "deps/openssl/openssl/doc/crypto/DSA_meth_new.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_meth_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_meth_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_meth_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -21,7 +21,7 @@ DSA_meth_set_keygen - Routines to build up DSA methods\n  DSA_METHOD *DSA_meth_dup(const DSA_METHOD *meth);\n  const char *DSA_meth_get0_name(const DSA_METHOD *dsam);\n  int DSA_meth_set1_name(DSA_METHOD *dsam, const char *name);\n- int DSA_meth_get_flags(DSA_METHOD *dsam);\n+ int DSA_meth_get_flags(const DSA_METHOD *dsam);\n  int DSA_meth_set_flags(DSA_METHOD *dsam, int flags);\n  void *DSA_meth_get0_app_data(const DSA_METHOD *dsam);\n  int DSA_meth_set0_app_data(DSA_METHOD *dsam, void *app_data);\n@@ -183,7 +183,7 @@ The functions described here were added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "b91f89f0733c2b6991574b1f96eb644d11182d3c",
            "filename": "deps/openssl/openssl/doc/crypto/DSA_sign.pod",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_sign.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_sign.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FDSA_sign.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -24,13 +24,12 @@ digest B<dgst> using the private key B<dsa> and places its ASN.1 DER\n encoding at B<sigret>. The length of the signature is places in\n *B<siglen>. B<sigret> must point to DSA_size(B<dsa>) bytes of memory.\n \n-DSA_sign_setup() may be used to precompute part of the signing\n-operation in case signature generation is time-critical. It expects\n-B<dsa> to contain DSA parameters. It places the precomputed values\n-in newly allocated B<BIGNUM>s at *B<kinvp> and *B<rp>, after freeing\n-the old ones unless *B<kinvp> and *B<rp> are NULL. These values may\n-be passed to DSA_sign() in B<dsa-E<gt>kinv> and B<dsa-E<gt>r>.\n-B<ctx> is a pre-allocated B<BN_CTX> or NULL.\n+DSA_sign_setup() is defined only for backward binary compatibility and\n+should not be used.\n+Since OpenSSL 1.1.0 the DSA type is opaque and the output of\n+DSA_sign_setup() cannot be used anyway: calling this function will only\n+cause overhead, and does not affect the actual signature\n+(pre-)computation.\n \n DSA_verify() verifies that the signature B<sigbuf> of size B<siglen>\n matches a given message digest B<dgst> of size B<len>.\n@@ -60,7 +59,7 @@ L<DSA_do_sign(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "f544ccbb32fedf3d6ba865085448d28cbb2201d9",
            "filename": "deps/openssl/openssl/doc/crypto/ECDSA_SIG_new.pod",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FECDSA_SIG_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FECDSA_SIG_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FECDSA_SIG_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -114,6 +114,8 @@ returned as a newly allocated B<ECDSA_SIG> structure (or NULL on error).\n \n =head1 RETURN VALUES\n \n+ECDSA_SIG_new() returns NULL if the allocation fails.\n+\n ECDSA_SIG_set0() returns 1 on success or 0 on failure.\n \n ECDSA_size() returns the maximum length signature or 0 on error.\n@@ -197,7 +199,7 @@ L<EVP_DigestVerifyInit(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2004-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2004-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "1dc76cbdf86b611524450e082bb601a3b3a6efdd",
            "filename": "deps/openssl/openssl/doc/crypto/EVP_DigestInit.pod",
            "status": "modified",
            "additions": 48,
            "deletions": 3,
            "changes": 51,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestInit.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestInit.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestInit.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -3,11 +3,12 @@\n =head1 NAME\n \n EVP_MD_CTX_new, EVP_MD_CTX_reset, EVP_MD_CTX_free, EVP_MD_CTX_copy_ex,\n+EVP_MD_CTX_set_flags, EVP_MD_CTX_clear_flags, EVP_MD_CTX_test_flags,\n EVP_DigestInit_ex, EVP_DigestUpdate, EVP_DigestFinal_ex,\n EVP_DigestInit, EVP_DigestFinal, EVP_MD_CTX_copy, EVP_MD_type,\n EVP_MD_pkey_type, EVP_MD_size, EVP_MD_block_size, EVP_MD_CTX_md, EVP_MD_CTX_size,\n-EVP_MD_CTX_block_size, EVP_MD_CTX_type, EVP_md_null, EVP_md2, EVP_md5, EVP_sha1,\n-EVP_sha224, EVP_sha256, EVP_sha384, EVP_sha512, EVP_mdc2,\n+EVP_MD_CTX_block_size, EVP_MD_CTX_type, EVP_MD_CTX_md_data, EVP_md_null, EVP_md2,\n+EVP_md5, EVP_sha1, EVP_sha224, EVP_sha256, EVP_sha384, EVP_sha512, EVP_mdc2,\n EVP_ripemd160, EVP_blake2b512, EVP_blake2s256, EVP_get_digestbyname,\n EVP_get_digestbynid, EVP_get_digestbyobj - EVP digest routines\n \n@@ -18,6 +19,9 @@ EVP_get_digestbynid, EVP_get_digestbyobj - EVP digest routines\n  EVP_MD_CTX *EVP_MD_CTX_new(void);\n  int EVP_MD_CTX_reset(EVP_MD_CTX *ctx);\n  void EVP_MD_CTX_free(EVP_MD_CTX *ctx);\n+ void EVP_MD_CTX_set_flags(EVP_MD_CTX *ctx, int flags);\n+ void EVP_MD_CTX_clear_flags(EVP_MD_CTX *ctx, int flags);\n+ int EVP_MD_CTX_test_flags(const EVP_MD_CTX *ctx, int flags);\n \n  int EVP_DigestInit_ex(EVP_MD_CTX *ctx, const EVP_MD *type, ENGINE *impl);\n  int EVP_DigestUpdate(EVP_MD_CTX *ctx, const void *d, size_t cnt);\n@@ -41,6 +45,7 @@ EVP_get_digestbynid, EVP_get_digestbyobj - EVP digest routines\n  int EVP_MD_CTX_size(const EVP_MD *ctx);\n  int EVP_MD_CTX_block_size(const EVP_MD *ctx);\n  int EVP_MD_CTX_type(const EVP_MD *ctx);\n+ void *EVP_MD_CTX_md_data(const EVP_MD_CTX *ctx);\n \n  const EVP_MD *EVP_md_null(void);\n  const EVP_MD *EVP_md2(void);\n@@ -73,6 +78,9 @@ to reuse an already existing context.\n EVP_MD_CTX_free() cleans up digest context B<ctx> and frees up the\n space allocated to it.\n \n+EVP_MD_CTX_set_flags(), EVP_MD_CTX_clear_flags() and EVP_MD_CTX_test_flags()\n+sets, clears and tests B<ctx> flags.  See L</FLAGS> below for more information.\n+\n EVP_DigestInit_ex() sets up digest context B<ctx> to use a digest\n B<type> from ENGINE B<impl>. B<ctx> must be initialized before calling this\n function. B<type> will typically be supplied by a function such as EVP_sha1().\n@@ -117,6 +125,11 @@ representing the given message digest when passed an B<EVP_MD> structure.\n For example EVP_MD_type(EVP_sha1()) returns B<NID_sha1>. This function is\n normally used when setting ASN1 OIDs.\n \n+EVP_MD_CTX_md_data() return the digest method private data for the passed\n+B<EVP_MD_CTX>.\n+The space is allocated by OpenSSL and has the size originally set with\n+EVP_MD_meth_set_app_datasize().\n+\n EVP_MD_CTX_md() returns the B<EVP_MD> structure corresponding to the passed\n B<EVP_MD_CTX>.\n \n@@ -139,6 +152,38 @@ EVP_get_digestbyname(), EVP_get_digestbynid() and EVP_get_digestbyobj()\n return an B<EVP_MD> structure when passed a digest name, a digest NID or\n an ASN1_OBJECT structure respectively.\n \n+=head1 FLAGS\n+\n+EVP_MD_CTX_set_flags(), EVP_MD_CTX_clear_flags() and EVP_MD_CTX_test_flags()\n+can be used the manipulate and test these B<EVP_MD_CTX> flags:\n+\n+=over 4\n+\n+=item EVP_MD_CTX_FLAG_ONESHOT\n+\n+This flag instructs the digest to optimize for one update only, if possible.\n+\n+=for comment EVP_MD_CTX_FLAG_CLEANED is internal, don't mention it\n+\n+=for comment EVP_MD_CTX_FLAG_REUSE is internal, don't mention it\n+\n+=for comment We currently avoid documenting flags that are only bit holder:\n+EVP_MD_CTX_FLAG_NON_FIPS_ALLOW, EVP_MD_CTX_FLAGS_PAD_*\n+\n+=item EVP_MD_CTX_FLAG_NO_INIT\n+\n+This flag instructs EVP_DigestInit() and similar not to initialise the\n+implementation specific data.\n+\n+=item EVP_MD_CTX_FLAG_FINALISE\n+\n+Some functions such as EVP_DigestSign only finalise copies of internal\n+contexts so additional data can be included after the finalisation call.\n+This is inefficient if this functionality is not required, and can be\n+disabled with this flag.\n+\n+=back\n+\n =head1 RETURN VALUES\n \n EVP_DigestInit_ex(), EVP_DigestUpdate() and EVP_DigestFinal_ex() return 1 for\n@@ -249,7 +294,7 @@ was removed in OpenSSL 1.1.0\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "5fadc82e6aacbeb5bc27ed157888dc661231c931",
            "filename": "deps/openssl/openssl/doc/crypto/EVP_DigestSignInit.pod",
            "status": "modified",
            "additions": 43,
            "deletions": 2,
            "changes": 45,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestSignInit.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestSignInit.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_DigestSignInit.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -21,7 +21,48 @@ EVP_DigestSignInit() sets up signing context B<ctx> to use digest B<type> from\n ENGINE B<impl> and private key B<pkey>. B<ctx> must be created with\n EVP_MD_CTX_new() before calling this function. If B<pctx> is not NULL the\n EVP_PKEY_CTX of the signing operation will be written to B<*pctx>: this can\n-be used to set alternative signing options.\n+be used to set alternative signing options. The digest B<type> may be NULL if\n+the signing algorithm supports it.\n+\n+Only EVP_PKEY types that support signing can be used with these functions. This\n+includes MAC algorithms where the MAC generation is considered as a form of\n+\"signing.\" Built-in EVP_PKEY types supported by these functions are CMAC, DSA,\n+ECDSA, HMAC and RSA.\n+\n+Not all digests can be used for all key types. The following combinations apply.\n+\n+=over 4\n+\n+=item DSA\n+\n+Supports SHA1, SHA224, SHA256, SHA384 and SHA512\n+\n+=item ECDSA\n+\n+Supports SHA1, SHA224, SHA256, SHA384 and SHA512\n+\n+=item RSA with no padding\n+\n+Supports no digests (the digest B<type> must be NULL)\n+\n+=item RSA with X931 padding\n+\n+Supports SHA1, SHA256, SHA384 and SHA512\n+\n+=item All other RSA padding types\n+\n+Support SHA1, SHA224, SHA256, SHA384, SHA512, MD5, MD5_SHA1, MD2, MD4, MDC2,\n+RIPEMD160\n+\n+=item HMAC\n+\n+Supports any digest\n+\n+=item CMAC\n+\n+Will ignore any digest provided.\n+\n+=back\n \n EVP_DigestSignUpdate() hashes B<cnt> bytes of data at B<d> into the\n signature context B<ctx>. This function can be called several times on the\n@@ -86,7 +127,7 @@ were first added to OpenSSL 1.0.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2006-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2006-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "459e7a02ffcc46aeca18f758240992d3b0298722",
            "filename": "deps/openssl/openssl/doc/crypto/EVP_PKEY_CTX_set_hkdf_md.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_hkdf_md.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_hkdf_md.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_hkdf_md.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -59,7 +59,7 @@ All these functions are implemented as macros.\n \n A context for HKDF can be obtained by calling:\n \n- EVP_PKEY_CTX *pctx = EVP_PKEY_new_id(EVP_PKEY_HKDF, NULL);\n+ EVP_PKEY_CTX *pctx = EVP_PKEY_CTX_new_id(EVP_PKEY_HKDF, NULL);\n \n The digest, key, salt and info values must be set before a key is derived or\n an error occurs.\n@@ -118,7 +118,7 @@ L<EVP_PKEY_derive(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "fe35a5ece8cfd6dd210d43fe2b03a2829daa2c7f",
            "filename": "deps/openssl/openssl/doc/crypto/EVP_PKEY_CTX_set_tls1_prf_md.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_tls1_prf_md.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_tls1_prf_md.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_CTX_set_tls1_prf_md.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -50,7 +50,7 @@ All these functions are implemented as macros.\n \n A context for the TLS PRF can be obtained by calling:\n \n- EVP_PKEY_CTX *pctx = EVP_PKEY_new_id(EVP_PKEY_TLS1_PRF, NULL);\n+ EVP_PKEY_CTX *pctx = EVP_PKEY_CTX_new_id(EVP_PKEY_TLS1_PRF, NULL);\n \n The digest, secret value and seed must be set before a key is derived or an\n error occurs.\n@@ -98,7 +98,7 @@ L<EVP_PKEY_derive(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "9ad2daed4f5ba0c38aecb4887f9c6d90093af261",
            "filename": "deps/openssl/openssl/doc/crypto/EVP_PKEY_asn1_get_count.pod",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_asn1_get_count.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_asn1_get_count.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FEVP_PKEY_asn1_get_count.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -48,7 +48,7 @@ engine that implements it.\n \n EVP_PKEY_asn1_get0_info() returns the public key ID, base public key\n ID (both NIDs), any flags, the method description and PEM type string\n-associated with the public key ASN.1 method B<*ameth>.\n+associated with the public key ASN.1 method B<*ameth>. \n \n EVP_PKEY_asn1_count(), EVP_PKEY_asn1_get0(), EVP_PKEY_asn1_find() and\n EVP_PKEY_asn1_find_str() are not thread safe, but as long as all"
        },
        {
            "sha": "c84adb2e4634e20983ab504a6a88c96844448a56",
            "filename": "deps/openssl/openssl/doc/crypto/OBJ_nid2obj.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOBJ_nid2obj.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOBJ_nid2obj.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOBJ_nid2obj.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -54,7 +54,7 @@ constants.\n \n OBJ_nid2obj(), OBJ_nid2ln() and OBJ_nid2sn() convert the NID B<n> to\n an ASN1_OBJECT structure, its long name and its short name respectively,\n-or B<NULL> is an error occurred.\n+or B<NULL> if an error occurred.\n \n OBJ_obj2nid(), OBJ_ln2nid(), OBJ_sn2nid() return the corresponding NID\n for the object B<o>, the long name <ln> or the short name <sn> respectively\n@@ -188,7 +188,7 @@ OBJ_cleanup() was deprecated in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2002-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "e014df500b6f6cb9cadd681628c444e13343d9c8",
            "filename": "deps/openssl/openssl/doc/crypto/OCSP_resp_find_status.pod",
            "status": "modified",
            "additions": 30,
            "deletions": 2,
            "changes": 32,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOCSP_resp_find_status.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOCSP_resp_find_status.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOCSP_resp_find_status.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -7,7 +7,8 @@ OCSP_resp_get0_signer,\n OCSP_resp_get0_id,\n OCSP_resp_get0_produced_at,\n OCSP_resp_find_status, OCSP_resp_count, OCSP_resp_get0, OCSP_resp_find,\n-OCSP_single_get0_status, OCSP_check_validity\n+OCSP_single_get0_status, OCSP_check_validity,\n+OCSP_basic_verify\n - OCSP response utility functions\n \n =head1 SYNOPSIS\n@@ -44,6 +45,9 @@ OCSP_single_get0_status, OCSP_check_validity\n                          ASN1_GENERALIZEDTIME *nextupd,\n                          long sec, long maxsec);\n \n+ int OCSP_basic_verify(OCSP_BASICRESP *bs, STACK_OF(X509) *certs,\n+                      X509_STORE *st, unsigned long flags);\n+\n =head1 DESCRIPTION\n \n OCSP_resp_find_status() searches B<bs> for an OCSP response for B<id>. If it is\n@@ -93,6 +97,27 @@ OCSP_single_get0_status(). If B<sec> is non-zero it indicates how many seconds\n leeway should be allowed in the check. If B<maxsec> is positive it indicates\n the maximum age of B<thisupd> in seconds.\n \n+OCSP_basic_verify() checks that the basic response message B<bs> is correctly\n+signed and that the signer certificate can be validated. It takes B<st> as\n+the trusted store and B<certs> as a set of untrusted intermediate certificates.\n+The function first tries to find the signer certificate of the response\n+in <certs>. It also searches the certificates the responder may have included\n+in B<bs> unless the B<flags> contain B<OCSP_NOINTERN>.\n+It fails if the signer certificate cannot be found.\n+Next, the function checks the signature of B<bs> and fails on error\n+unless the B<flags> contain B<OCSP_NOSIGS>. Then the function already returns\n+success if the B<flags> contain B<OCSP_NOVERIFY> or if the signer certificate\n+was found in B<certs> and the B<flags> contain B<OCSP_TRUSTOTHER>.\n+Otherwise the function continues by validating the signer certificate.\n+To this end, all certificates in B<cert> and in B<bs> are considered as\n+untrusted certificates for the construction of the validation path for the\n+signer certificate unless the B<OCSP_NOCHAIN> flag is set. After successful path\n+validation the function returns success if the B<OCSP_NOCHECKS> flag is set.\n+Otherwise it verifies that the signer certificate meets the OCSP issuer\n+criteria including potential delegation. If this does not succeed and the\n+B<flags> do not contain B<OCSP_NOEXPLICIT> the function checks for explicit\n+trust for OCSP signing in the root CA certificate.\n+\n =head1 RETURN VALUES\n \n OCSP_resp_find_status() returns 1 if B<id> is found in B<bs> and 0 otherwise.\n@@ -112,6 +137,9 @@ occurred.\n OCSP_resp_get0_signer() returns 1 if the signing certificate was located,\n or 0 on error.\n \n+OCSP_basic_verify() returns 1 on success, 0 on error, or -1 on fatal error such\n+as malloc failure.\n+\n =head1 NOTES\n \n Applications will typically call OCSP_resp_find_status() using the certificate\n@@ -142,7 +170,7 @@ L<OCSP_sendreq_new(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2015-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "f5429d217e524f8f424fc2c16be23418da39b54e",
            "filename": "deps/openssl/openssl/doc/crypto/OPENSSL_VERSION_NUMBER.pod",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_VERSION_NUMBER.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_VERSION_NUMBER.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_VERSION_NUMBER.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -47,11 +47,6 @@ number was therefore 0x0090581f.\n \n OpenSSL_version_num() returns the version number.\n \n-The macro OPENSSL_VERSION_AT_LEAST(major,minor) can be used at compile\n-time test if the current version is at least as new as the version provided.\n-The arguments major, minor and fix correspond to the version information\n-as given above.\n-\n OpenSSL_version() returns different strings depending on B<t>:\n \n =over 4"
        },
        {
            "sha": "f9664ee35298a1663ca703f9d48ff66dd18acf36",
            "filename": "deps/openssl/openssl/doc/crypto/OPENSSL_init_crypto.pod",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_init_crypto.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_init_crypto.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_init_crypto.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -190,10 +190,10 @@ resources should be freed at an earlier time, or under the circumstances\n described in the NOTES section below.\n \n The B<OPENSSL_INIT_LOAD_CONFIG> flag will load a default configuration\n-file.  To specify a different file, an B<OPENSSL_INIT_SETTINGS> must\n-be created and used. The routines\n-OPENSSL_init_new() and OPENSSL_INIT_set_config_appname() can be used to\n-allocate the object and set the application name, and then the\n+file. For optional configuration file settings, an B<OPENSSL_INIT_SETTINGS>\n+must be created and used.\n+The routines OPENSSL_init_new() and OPENSSL_INIT_set_config_appname() can\n+be used to allocate the object and set the application name, and then the\n object can be released with OPENSSL_INIT_free() when done.\n \n =head1 NOTES\n@@ -235,7 +235,7 @@ and OPENSSL_INIT_free() functions were added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "ba5dc1069f39eb82712e29864d30b25a4d48f281",
            "filename": "deps/openssl/openssl/doc/crypto/OPENSSL_malloc.pod",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_malloc.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_malloc.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FOPENSSL_malloc.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -68,8 +68,8 @@ CRYPTO_mem_leaks, CRYPTO_mem_leaks_fp - Memory allocation functions\n  int CRYPTO_mem_debug_push(const char *info, const char *file, int line);\n  int CRYPTO_mem_debug_pop(void);\n \n- void CRYPTO_mem_leaks(BIO *b);\n- void CRYPTO_mem_leaks_fp(FILE *fp);\n+ int CRYPTO_mem_leaks(BIO *b);\n+ int CRYPTO_mem_leaks_fp(FILE *fp);\n \n =head1 DESCRIPTION\n \n@@ -197,7 +197,7 @@ only, say, the malloc() implementation is outright dangerous.>\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "b0ba62a3b367a24080cf08cb6f00f7fd40c637ba",
            "filename": "deps/openssl/openssl/doc/crypto/PEM_read_bio_PrivateKey.pod",
            "status": "modified",
            "additions": 7,
            "deletions": 8,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FPEM_read_bio_PrivateKey.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FPEM_read_bio_PrivateKey.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FPEM_read_bio_PrivateKey.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -294,7 +294,7 @@ for it twice) if B<rwflag> is 1. The B<u> parameter has the same\n value as the B<u> parameter passed to the PEM routine. It allows\n arbitrary data to be passed to the callback by the application\n (for example a window handle in a GUI application). The callback\n-B<must> return the number of characters in the passphrase or 0 if\n+B<must> return the number of characters in the passphrase or -1 if\n an error occurred.\n \n =head1 EXAMPLES\n@@ -348,17 +348,16 @@ Skeleton pass phrase callback:\n \n  int pass_cb(char *buf, int size, int rwflag, void *u)\n  {\n-     int len;\n-     char *tmp;\n \n      /* We'd probably do something else if 'rwflag' is 1 */\n      printf(\"Enter pass phrase for \\\"%s\\\"\\n\", (char *)u);\n \n      /* get pass phrase, length 'len' into 'tmp' */\n-     tmp = \"hello\";\n-     len = strlen(tmp);\n-     if (len <= 0)\n-         return 0;\n+     char *tmp = \"hello\";\n+     if (tmp == NULL) /* An error occurred */\n+         return -1;\n+\n+     size_t len = strlen(tmp);\n \n      if (len > size)\n          len = size;\n@@ -471,7 +470,7 @@ L<EVP_EncryptInit(3)>, L<EVP_BytesToKey(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "9c89426a9a2878113123d8f3e3a6344433068728",
            "filename": "deps/openssl/openssl/doc/crypto/RSA_meth_new.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FRSA_meth_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FRSA_meth_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FRSA_meth_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -24,7 +24,7 @@ RSA_meth_set_verify, RSA_meth_get_keygen, RSA_meth_set_keygen\n  RSA_METHOD *RSA_meth_dup(const RSA_METHOD *meth);\n  const char *RSA_meth_get0_name(const RSA_METHOD *meth);\n  int RSA_meth_set1_name(RSA_METHOD *meth, const char *name);\n- int RSA_meth_get_flags(RSA_METHOD *meth);\n+ int RSA_meth_get_flags(const RSA_METHOD *meth);\n  int RSA_meth_set_flags(RSA_METHOD *meth, int flags);\n  void *RSA_meth_get0_app_data(const RSA_METHOD *meth);\n  int RSA_meth_set0_app_data(RSA_METHOD *meth, void *app_data);\n@@ -225,7 +225,7 @@ The functions described here were added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "c11090891ad341641ef1b72ebe2a3ff017eafbc6",
            "filename": "deps/openssl/openssl/doc/crypto/SMIME_read_PKCS7.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FSMIME_read_PKCS7.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FSMIME_read_PKCS7.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FSMIME_read_PKCS7.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -57,7 +57,7 @@ streaming single pass option should be available.\n =head1 RETURN VALUES\n \n SMIME_read_PKCS7() returns a valid B<PKCS7> structure or B<NULL>\n-is an error occurred. The error can be obtained from ERR_get_error(3).\n+if an error occurred. The error can be obtained from ERR_get_error(3).\n \n =head1 SEE ALSO\n \n@@ -68,7 +68,7 @@ L<PKCS7_decrypt(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2002-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2002-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "340d9b2ae2c50b8dc15c3da6ebf10335e08920eb",
            "filename": "deps/openssl/openssl/doc/crypto/UI_STRING.pod",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FUI_STRING.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FUI_STRING.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FUI_STRING.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -132,3 +132,4 @@ in the file LICENSE in the source distribution or at\n L<https://www.openssl.org/source/license.html>.\n \n =cut\n+"
        },
        {
            "sha": "4f2768d4f4a54c71c2aa0ff67745dc96221f65eb",
            "filename": "deps/openssl/openssl/doc/crypto/X509_LOOKUP_hash_dir.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_hash_dir.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_hash_dir.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_hash_dir.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -117,10 +117,11 @@ L<PEM_read_PrivateKey(3)>,\n L<X509_STORE_load_locations(3)>,\n L<X509_store_add_lookup(3)>,\n L<SSL_CTX_load_verify_locations(3)>,\n+L<X509_LOOKUP_meth_new(3)>,\n \n =head1 COPYRIGHT\n \n-Copyright 2015-2017 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2015-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "fb165fd6ad9d759fdddcca458a205f4a80275ff9",
            "filename": "deps/openssl/openssl/doc/crypto/X509_LOOKUP_meth_new.pod",
            "status": "added",
            "additions": 189,
            "deletions": 0,
            "changes": 189,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_meth_new.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_meth_new.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_LOOKUP_meth_new.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,189 @@\n+=pod\n+\n+=head1 NAME\n+\n+X509_LOOKUP_meth_new, X509_LOOKUP_meth_free, X509_LOOKUP_meth_set_new_item,\n+X509_LOOKUP_meth_get_new_item, X509_LOOKUP_meth_set_free,\n+X509_LOOKUP_meth_get_free, X509_LOOKUP_meth_set_init,\n+X509_LOOKUP_meth_get_init, X509_LOOKUP_meth_set_shutdown,\n+X509_LOOKUP_meth_get_shutdown,\n+X509_LOOKUP_ctrl_fn, X509_LOOKUP_meth_set_ctrl, X509_LOOKUP_meth_get_ctrl,\n+X509_LOOKUP_get_by_subject_fn, X509_LOOKUP_meth_set_get_by_subject,\n+X509_LOOKUP_meth_get_get_by_subject,\n+X509_LOOKUP_get_by_issuer_serial_fn, X509_LOOKUP_meth_set_get_by_issuer_serial,\n+X509_LOOKUP_meth_get_get_by_issuer_serial,\n+X509_LOOKUP_get_by_fingerprint_fn, X509_LOOKUP_meth_set_get_by_fingerprint,\n+X509_LOOKUP_meth_get_get_by_fingerprint,\n+X509_LOOKUP_get_by_alias_fn, X509_LOOKUP_meth_set_get_by_alias,\n+X509_LOOKUP_meth_get_get_by_alias,\n+X509_LOOKUP_set_method_data, X509_LOOKUP_get_method_data,\n+X509_LOOKUP_get_store, X509_OBJECT_set1_X509, X509_OBJECT_set1_X509_CRL\n+- Routines to build up X509_LOOKUP methods\n+\n+=head1 SYNOPSIS\n+\n+ #include <openssl/x509_vfy.h>\n+\n+ X509_LOOKUP_METHOD *X509_LOOKUP_meth_new(const char *name);\n+ void X509_LOOKUP_meth_free(X509_LOOKUP_METHOD *method);\n+\n+ int X509_LOOKUP_meth_set_new_item(X509_LOOKUP_METHOD *method,\n+                                   int (*new_item) (X509_LOOKUP *ctx));\n+ int (*X509_LOOKUP_meth_get_new_item(const X509_LOOKUP_METHOD* method))\n+     (X509_LOOKUP *ctx);\n+\n+ int X509_LOOKUP_meth_set_free(X509_LOOKUP_METHOD *method,\n+                               void (*free) (X509_LOOKUP *ctx));\n+ void (*X509_LOOKUP_meth_get_free(const X509_LOOKUP_METHOD* method))\n+     (X509_LOOKUP *ctx);\n+\n+ int X509_LOOKUP_meth_set_init(X509_LOOKUP_METHOD *method,\n+                               int (*init) (X509_LOOKUP *ctx));\n+ int (*X509_LOOKUP_meth_get_init(const X509_LOOKUP_METHOD* method))\n+     (X509_LOOKUP *ctx);\n+\n+ int X509_LOOKUP_meth_set_shutdown(X509_LOOKUP_METHOD *method,\n+                                   int (*shutdown) (X509_LOOKUP *ctx));\n+ int (*X509_LOOKUP_meth_get_shutdown(const X509_LOOKUP_METHOD* method))\n+     (X509_LOOKUP *ctx);\n+\n+ typedef int (*X509_LOOKUP_ctrl_fn)(X509_LOOKUP *ctx, int cmd, const char *argc,\n+                                    long argl, char **ret);\n+ int X509_LOOKUP_meth_set_ctrl(X509_LOOKUP_METHOD *method,\n+     X509_LOOKUP_ctrl_fn ctrl_fn);\n+ X509_LOOKUP_ctrl_fn X509_LOOKUP_meth_get_ctrl(const X509_LOOKUP_METHOD *method);\n+\n+ typedef int (*X509_LOOKUP_get_by_subject_fn)(X509_LOOKUP *ctx,\n+                                              X509_LOOKUP_TYPE type,\n+                                              X509_NAME *name,\n+                                              X509_OBJECT *ret);\n+ int X509_LOOKUP_meth_set_get_by_subject(X509_LOOKUP_METHOD *method,\n+     X509_LOOKUP_get_by_subject_fn fn);\n+ X509_LOOKUP_get_by_subject_fn X509_LOOKUP_meth_get_get_by_subject(\n+     const X509_LOOKUP_METHOD *method);\n+\n+ typedef int (*X509_LOOKUP_get_by_issuer_serial_fn)(X509_LOOKUP *ctx,\n+                                                    X509_LOOKUP_TYPE type,\n+                                                    X509_NAME *name,\n+                                                    ASN1_INTEGER *serial,\n+                                                    X509_OBJECT *ret);\n+ int X509_LOOKUP_meth_set_get_by_issuer_serial(\n+     X509_LOOKUP_METHOD *method, X509_LOOKUP_get_by_issuer_serial_fn fn);\n+ X509_LOOKUP_get_by_issuer_serial_fn X509_LOOKUP_meth_get_get_by_issuer_serial(\n+     const X509_LOOKUP_METHOD *method);\n+\n+ typedef int (*X509_LOOKUP_get_by_fingerprint_fn)(X509_LOOKUP *ctx,\n+                                                  X509_LOOKUP_TYPE type,\n+                                                  const unsigned char* bytes,\n+                                                  int len,\n+                                                  X509_OBJECT *ret);\n+ int X509_LOOKUP_meth_set_get_by_fingerprint(X509_LOOKUP_METHOD *method,\n+     X509_LOOKUP_get_by_fingerprint_fn fn);\n+ X509_LOOKUP_get_by_fingerprint_fn X509_LOOKUP_meth_get_get_by_fingerprint(\n+     const X509_LOOKUP_METHOD *method);\n+\n+ typedef int (*X509_LOOKUP_get_by_alias_fn)(X509_LOOKUP *ctx,\n+                                            X509_LOOKUP_TYPE type,\n+                                            const char *str,\n+                                            int len,\n+                                            X509_OBJECT *ret);\n+ int X509_LOOKUP_meth_set_get_by_alias(X509_LOOKUP_METHOD *method,\n+     X509_LOOKUP_get_by_alias_fn fn);\n+ X509_LOOKUP_get_by_alias_fn X509_LOOKUP_meth_get_get_by_alias(\n+     const X509_LOOKUP_METHOD *method);\n+\n+ int X509_LOOKUP_set_method_data(X509_LOOKUP *ctx, void *data);\n+ void *X509_LOOKUP_get_method_data(const X509_LOOKUP *ctx);\n+\n+ X509_STORE *X509_LOOKUP_get_store(const X509_LOOKUP *ctx);\n+\n+ int X509_OBJECT_set1_X509(X509_OBJECT *a, X509 *obj);\n+ int X509_OBJECT_set1_X509_CRL(X509_OBJECT *a, X509_CRL *obj);\n+\n+=head1 DESCRIPTION\n+\n+The B<X509_LOOKUP_METHOD> type is a structure used for the implementation of new\n+X509_LOOKUP types. It provides a set of functions used by OpenSSL for the\n+implementation of various X509 and X509_CRL lookup capabilities. One instance\n+of an X509_LOOKUP_METHOD can be associated to many instantiations of an\n+B<X509_LOOKUP> structure.\n+\n+X509_LOOKUP_meth_new() creates a new B<X509_LOOKUP_METHOD> structure. It should\n+be given a human-readable string containing a brief description of the lookup\n+method.\n+\n+X509_LOOKUP_meth_free() destroys a B<X509_LOOKUP_METHOD> structure.\n+\n+X509_LOOKUP_get_new_item() and X509_LOOKUP_set_new_item() get and set the\n+function that is called when an B<X509_LOOKUP> object is created with\n+X509_LOOKUP_new(). If an X509_LOOKUP_METHOD requires any per-X509_LOOKUP\n+specific data, the supplied new_item function should allocate this data and\n+invoke X509_LOOKUP_set_method_data().\n+\n+X509_LOOKUP_get_free() and X509_LOOKUP_set_free() get and set the function\n+that is used to free any method data that was allocated and set from within\n+new_item function.\n+\n+X509_LOOKUP_meth_get_init() and X509_LOOKUP_meth_set_init() get and set the\n+function that is used to initialize the method data that was set with\n+X509_LOOKUP_set_method_data() as part of the new_item routine.\n+\n+X509_LOOKUP_meth_get_shutdown() and X509_LOOKUP_meth_set_shutdown() get and set\n+the function that is used to shut down the method data whose state was\n+previously initialized in the init function.\n+\n+X509_LOOKUP_meth_get_ctrl() and X509_LOOKUP_meth_set_ctrl() get and set a\n+function to be used to handle arbitrary control commands issued by\n+X509_LOOKUP_ctrl(). The control function is given the X509_LOOKUP\n+B<ctx>, along with the arguments passed by X509_LOOKUP_ctrl. B<cmd> is\n+an arbitrary integer that defines some operation. B<argc> is a pointer\n+to an array of characters. B<argl> is an integer. B<ret>, if set,\n+points to a location where any return data should be written to. How\n+B<argc> and B<argl> are used depends entirely on the control function.\n+\n+\n+X509_LOOKUP_set_get_by_subject(), X509_LOOKUP_set_get_by_issuer_serial(),\n+X509_LOOKUP_set_get_by_fingerprint(), X509_LOOKUP_set_get_by_alias() set\n+the functions used to retrieve an X509 or X509_CRL object by the object's\n+subject, issuer, fingerprint, and alias respectively. These functions are given\n+the X509_LOOKUP context, the type of the X509_OBJECT being requested, parameters\n+related to the lookup, and an X509_OBJECT that will receive the requested\n+object.\n+\n+Implementations should use either X509_OBJECT_set1_X509() or\n+X509_OBJECT_set1_X509_CRL() to set the result. Any method data that was\n+created as a result of the new_item function set by\n+X509_LOOKUP_meth_set_new_item() can be accessed with\n+X509_LOOKUP_get_method_data(). The B<X509_STORE> object that owns the\n+X509_LOOKUP may be accessed with X509_LOOKUP_get_store(). Successful lookups\n+should return 1, and unsuccessful lookups should return 0.\n+\n+X509_LOOKUP_get_get_by_subject(), X509_LOOKUP_get_get_by_issuer_serial(),\n+X509_LOOKUP_get_get_by_fingerprint(), X509_LOOKUP_get_get_by_alias() retrieve\n+the function set by the corresponding setter.\n+\n+=head1 RETURN VALUES\n+\n+The B<X509_LOOKUP_meth_set> functions return 1 on success or 0 on error.\n+\n+The B<X509_LOOKUP_meth_get> functions return the corresponding function\n+pointers.\n+\n+=head1 SEE ALSO\n+\n+L<X509_STORE_new(3)>, L<SSL_CTX_set_cert_store(3)>\n+\n+=head1 HISTORY\n+\n+The functions described here were added in OpenSSL 1.1.0i.\n+\n+=head1 COPYRIGHT\n+\n+Copyright 2018 The OpenSSL Project Authors. All Rights Reserved.\n+\n+Licensed under the OpenSSL license (the \"License\").  You may not use\n+this file except in compliance with the License.  You can obtain a copy\n+in the file LICENSE in the source distribution or at\n+L<https://www.openssl.org/source/license.html>.\n+\n+=cut"
        },
        {
            "sha": "320b258a85cd084d410e5c5db7a7fa906cb6e4de",
            "filename": "deps/openssl/openssl/doc/crypto/X509_VERIFY_PARAM_set_flags.pod",
            "status": "modified",
            "additions": 29,
            "deletions": 4,
            "changes": 33,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_VERIFY_PARAM_set_flags.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_VERIFY_PARAM_set_flags.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_VERIFY_PARAM_set_flags.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -11,7 +11,9 @@ X509_VERIFY_PARAM_get_auth_level, X509_VERIFY_PARAM_set_time,\n X509_VERIFY_PARAM_get_time,\n X509_VERIFY_PARAM_add0_policy, X509_VERIFY_PARAM_set1_policies,\n X509_VERIFY_PARAM_set1_host, X509_VERIFY_PARAM_add1_host,\n-X509_VERIFY_PARAM_set_hostflags, X509_VERIFY_PARAM_get0_peername,\n+X509_VERIFY_PARAM_set_hostflags,\n+X509_VERIFY_PARAM_get_hostflags,\n+X509_VERIFY_PARAM_get0_peername,\n X509_VERIFY_PARAM_set1_email, X509_VERIFY_PARAM_set1_ip,\n X509_VERIFY_PARAM_set1_ip_asc\n - X509 verification parameters\n@@ -54,6 +56,7 @@ X509_VERIFY_PARAM_set1_ip_asc\n                                  const char *name, size_t namelen);\n  void X509_VERIFY_PARAM_set_hostflags(X509_VERIFY_PARAM *param,\n                                       unsigned int flags);\n+ unsigned int X509_VERIFY_PARAM_get_hostflags(const X509_VERIFY_PARAM *param);\n  char *X509_VERIFY_PARAM_get0_peername(X509_VERIFY_PARAM *param);\n  int X509_VERIFY_PARAM_set1_email(X509_VERIFY_PARAM *param,\n                                  const char *email, size_t emaillen);\n@@ -130,14 +133,32 @@ B<name> clearing any previously specified host name or names.  If\n B<name> is NULL, or empty the list of hostnames is cleared, and\n name checks are not performed on the peer certificate.  If B<name>\n is NUL-terminated, B<namelen> may be zero, otherwise B<namelen>\n-must be set to the length of B<name>.  When a hostname is specified,\n+must be set to the length of B<name>.\n+\n+When a hostname is specified,\n certificate verification automatically invokes L<X509_check_host(3)>\n with flags equal to the B<flags> argument given to\n X509_VERIFY_PARAM_set_hostflags() (default zero).  Applications\n are strongly advised to use this interface in preference to explicitly\n-calling L<X509_check_host(3)>, hostname checks are out of scope\n+calling L<X509_check_host(3)>, hostname checks may be out of scope\n with the DANE-EE(3) certificate usage, and the internal check will\n-be suppressed as appropriate when DANE support is added to OpenSSL.\n+be suppressed as appropriate when DANE verification is enabled.\n+\n+When the subject CommonName will not be ignored, whether as a result of the\n+B<X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT> host flag, or because no DNS subject\n+alternative names are present in the certificate, any DNS name constraints in\n+issuer certificates apply to the subject CommonName as well as the subject\n+alternative name extension.\n+\n+When the subject CommonName will be ignored, whether as a result of the\n+B<X509_CHECK_FLAG_NEVER_CHECK_SUBJECT> host flag, or because some DNS subject\n+alternative names are present in the certificate, DNS name constraints in\n+issuer certificates will not be applied to the subject DN.\n+As described in X509_check_host(3) the B<X509_CHECK_FLAG_NEVER_CHECK_SUBJECT>\n+flag takes precendence over the B<X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT> flag.\n+\n+X509_VERIFY_PARAM_get_hostflags() returns any host flags previously set via a\n+call to X509_VERIFY_PARAM_set_hostflags().\n \n X509_VERIFY_PARAM_add1_host() adds B<name> as an additional reference\n identifier that can match the peer's certificate.  Any previous names\n@@ -186,6 +207,8 @@ failure.\n \n X509_VERIFY_PARAM_get_flags() returns the current verification flags.\n \n+X509_VERIFY_PARAM_get_hostflags() returns any current host flags.\n+\n X509_VERIFY_PARAM_get_inh_flags() returns the current inheritance flags.\n \n X509_VERIFY_PARAM_set_time() and X509_VERIFY_PARAM_set_depth() do not return\n@@ -347,6 +370,8 @@ The B<X509_V_FLAG_NO_ALT_CHAINS> flag was added in OpenSSL 1.1.0\n The legacy B<X509_V_FLAG_CB_ISSUER_CHECK> flag is deprecated as of\n OpenSSL 1.1.0, and has no effect.\n \n+X509_VERIFY_PARAM_get_hostflags() was added in OpenSSL 1.1.0i.\n+\n =head1 COPYRIGHT\n \n Copyright 2009-2018 The OpenSSL Project Authors. All Rights Reserved."
        },
        {
            "sha": "fb9f6a64ecd53392941a63d3ca999db7432edfed",
            "filename": "deps/openssl/openssl/doc/crypto/X509_check_host.pod",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_check_host.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_check_host.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_check_host.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -93,6 +93,9 @@ consider the subject DN even if the certificate contains no subject alternative\n names of the right type (DNS name or email address as appropriate); the default\n is to use the subject DN when no corresponding subject alternative names are\n present.\n+If both B<X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT> and\n+B<X509_CHECK_FLAG_NEVER_CHECK_SUBJECT> are specified, the latter takes\n+precedence and the subject DN is not checked for matching names.\n \n If set, B<X509_CHECK_FLAG_NO_WILDCARDS> disables wildcard\n expansion; this only applies to B<X509_check_host>.\n@@ -128,9 +131,9 @@ NULs.\n \n Applications are encouraged to use X509_VERIFY_PARAM_set1_host()\n rather than explicitly calling L<X509_check_host(3)>. Host name\n-checks are out of scope with the DANE-EE(3) certificate usage,\n+checks may be out of scope with the DANE-EE(3) certificate usage,\n and the internal checks will be suppressed as appropriate when\n-DANE support is added to OpenSSL.\n+DANE support is enabled.\n \n =head1 SEE ALSO\n \n@@ -147,7 +150,7 @@ These functions were added in OpenSSL 1.0.2.\n \n =head1 COPYRIGHT\n \n-Copyright 2012-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2012-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "5bf51114511aa6564c6e9e5835b49d1c2c4bceb2",
            "filename": "deps/openssl/openssl/doc/crypto/X509_cmp_time.pod",
            "status": "added",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_cmp_time.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_cmp_time.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2FX509_cmp_time.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,39 @@\n+=pod\n+\n+=head1 NAME\n+\n+X509_cmp_time - X509 time functions\n+\n+=head1 SYNOPSIS\n+\n+ X509_cmp_time(const ASN1_TIME *asn1_time, time_t *cmp_time);\n+\n+=head1 DESCRIPTION\n+\n+X509_cmp_time() compares the ASN1_TIME in B<asn1_time> with the time in\n+<cmp_time>.\n+\n+B<asn1_time> must satisfy the ASN1_TIME format mandated by RFC 5280, i.e.,\n+its format must be either YYMMDDHHMMSSZ or YYYYMMDDHHMMSSZ.\n+\n+If B<cmp_time> is NULL the current time is used.\n+\n+=head1 BUGS\n+\n+Unlike many standard comparison functions, X509_cmp_time returns 0 on error.\n+\n+=head1 RETURN VALUES\n+\n+X509_cmp_time() returns -1 if B<asn1_time> is earlier than, or equal to,\n+B<cmp_time>, and 1 otherwise. It returns 0 on error.\n+\n+=head1 COPYRIGHT\n+\n+Copyright 2017-2018 The OpenSSL Project Authors. All Rights Reserved.\n+\n+Licensed under the OpenSSL license (the \"License\").  You may not use\n+this file except in compliance with the License.  You can obtain a copy\n+in the file LICENSE in the source distribution or at\n+L<https://www.openssl.org/source/license.html>.\n+\n+=cut"
        },
        {
            "sha": "1e1dd02106db03c1c0f1b90390e097477f2f5b6b",
            "filename": "deps/openssl/openssl/doc/crypto/bio.pod",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2Fbio.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2Fbio.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fcrypto%2Fbio.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -87,3 +87,4 @@ in the file LICENSE in the source distribution or at\n L<https://www.openssl.org/source/license.html>.\n \n =cut\n+"
        },
        {
            "sha": "2cb74aec2778777b596cd4ef36034ed2eef06aa8",
            "filename": "deps/openssl/openssl/doc/fingerprints.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Ffingerprints.txt",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Ffingerprints.txt",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Ffingerprints.txt?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -18,10 +18,7 @@ uid                  Richard Levitte <richard@opensslfoundation.com>\n uid                  Richard Levitte <levitte@openssl.org>\n uid                  Richard Levitte <richard@openssl.com>\n \n-pub   4096R/FA40E9E2 2005-03-19\n-      Key fingerprint = 6260 5AA4 334A F9F0 DDE5  D349 D357 7507 FA40 E9E2\n-uid                  Dr Stephen N Henson <steve@openssl.org>\n-\n pub   2048R/0E604491 2013-04-30            \n       Key fingerprint = 8657 ABB2 60F0 56B1 E519 0839 D9C4 D26D 0E60 4491\n+uid                  Matt Caswell <matt@openssl.org>\n uid                  Matt Caswell <frodo@baggins.org>"
        },
        {
            "sha": "852f794f965609d3c8827d078e416a8d250aa89e",
            "filename": "deps/openssl/openssl/doc/openssl-c-indent.el",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fopenssl-c-indent.el",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fopenssl-c-indent.el",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fopenssl-c-indent.el?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -54,6 +54,7 @@\n                 (arglist-close . c-lineup-arglist)           ; From \"gnu\" style\n                 (inline-open . 0)                            ; From \"gnu\" style\n                 (brace-list-open . +)                        ; From \"gnu\" style\n+                (inextern-lang . 0)     ; Don't indent inside extern block\n                 (topmost-intro-cont first c-lineup-topmost-intro-cont\n                                     c-lineup-gnu-DEFUN-intro-cont) ; From \"gnu\" style\n                 )"
        },
        {
            "sha": "12fdcab83c4aaf614a370636af347b24436d4891",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_CONF_cmd.pod",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CONF_cmd.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CONF_cmd.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CONF_cmd.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -506,10 +506,6 @@ Set supported curves to P-256, P-384:\n \n  SSL_CONF_cmd(ctx, \"Curves\", \"P-256:P-384\");\n \n-Set automatic support for any elliptic curve for key exchange:\n-\n- SSL_CONF_cmd(ctx, \"ECDHParameters\", \"Automatic\");\n-\n =head1 RETURN VALUES\n \n SSL_CONF_cmd() returns 1 if the value of B<cmd> is recognised and B<value> is"
        },
        {
            "sha": "4a2fa946fe82c5ff400038ae261e234e651b1105",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_CTX_set_ctlog_list_file.pod",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_set_ctlog_list_file.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_set_ctlog_list_file.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_set_ctlog_list_file.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -24,7 +24,7 @@ See L<CTLOG_STORE_new(3)> for the file format.\n =head1 NOTES\n \n These functions will not clear the existing CT log list - it will be appended\n-to. To replace the existing list, use L<SSL_CTX_set0_ctlog_store> first.\n+to. To replace the existing list, use L<SSL_CTX_set0_ctlog_store> first. \n \n If an error occurs whilst parsing a particular log entry in the file, that log\n entry will be skipped."
        },
        {
            "sha": "8ed7b5ea15c8c29cd868daa5e489f89476a44a35",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_CTX_use_certificate.pod",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_use_certificate.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_use_certificate.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_CTX_use_certificate.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -153,6 +153,13 @@ L<SSL_CTX_set_default_passwd_cb(3)>.\n of view, it however does not make sense as the data in the certificate\n is considered public anyway.)\n \n+All of the functions to set a new certificate will replace any existing\n+certificate of the same type that has already been set. Similarly all of the\n+functions to set a new private key will replace any private key that has already\n+been set. Applications should call L<SSL_CTX_check_private_key(3)> or\n+L<SSL_check_private_key(3)> as appropriate after loading a new certificate and\n+private key to confirm that the certificate and key match.\n+\n =head1 RETURN VALUES\n \n On success, the functions return 1.\n@@ -170,7 +177,7 @@ L<SSL_CTX_add_extra_chain_cert(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "2759cc3cc617cab568d8851a9b3da6f1159e3730",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_get_ciphers.pod",
            "status": "modified",
            "additions": 27,
            "deletions": 9,
            "changes": 36,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_ciphers.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_ciphers.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_ciphers.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -2,8 +2,12 @@\n \n =head1 NAME\n \n-SSL_get1_supported_ciphers, SSL_get_client_ciphers,\n-SSL_get_ciphers, SSL_CTX_get_ciphers, SSL_get_cipher_list\n+SSL_get1_supported_ciphers,\n+SSL_get_client_ciphers,\n+SSL_get_ciphers,\n+SSL_CTX_get_ciphers,\n+SSL_get_cipher_list,\n+SSL_get_shared_ciphers\n - get list of available SSL_CIPHERs\n \n =head1 SYNOPSIS\n@@ -15,6 +19,7 @@ SSL_get_ciphers, SSL_CTX_get_ciphers, SSL_get_cipher_list\n  STACK_OF(SSL_CIPHER) *SSL_get1_supported_ciphers(SSL *s);\n  STACK_OF(SSL_CIPHER) *SSL_get_client_ciphers(const SSL *ssl);\n  const char *SSL_get_cipher_list(const SSL *ssl, int priority);\n+ char *SSL_get_shared_ciphers(const SSL *s, char *buf, int size);\n \n =head1 DESCRIPTION\n \n@@ -25,16 +30,16 @@ is returned.\n SSL_CTX_get_ciphers() returns the stack of available SSL_CIPHERs for B<ctx>.\n \n SSL_get1_supported_ciphers() returns the stack of enabled SSL_CIPHERs for\n-B<ssl>, sorted by preference.\n+B<ssl> as would be sent in a ClientHello (that is, sorted by preference).\n The list depends on settings like the cipher list, the supported protocol\n versions, the security level, and the enabled signature algorithms.\n SRP and PSK ciphers are only enabled if the appropriate callbacks or settings\n have been applied.\n-This is the list that will be sent by the client to the server.\n-The list supported by the server might include more ciphers in case there is a\n-hole in the list of supported protocols.\n-The server will also not use ciphers from this list depending on the\n-configured certificates and DH parameters.\n+The list of ciphers that would be sent in a ClientHello can differ from\n+the list of ciphers that would be acceptable when acting as a server.\n+For example, additional ciphers may be usable by a server if there is\n+a gap in the list of supported protocols, and some ciphers may not be\n+usable by a server if there is not a suitable certificate configured.\n If B<ssl> is NULL or no ciphers are available, NULL is returned.\n \n SSL_get_client_ciphers() returns the stack of available SSL_CIPHERs matching the\n@@ -46,6 +51,19 @@ listed for B<ssl> with B<priority>. If B<ssl> is NULL, no ciphers are\n available, or there are less ciphers than B<priority> available, NULL\n is returned.\n \n+SSL_get_shared_ciphers() creates a colon separated and NUL terminated list of\n+SSL_CIPHER names that are available in both the client and the server. B<buf> is\n+the buffer that should be populated with the list of names and B<size> is the\n+size of that buffer. A pointer to B<buf> is returned on success or NULL on\n+error. If the supplied buffer is not large enough to contain the complete list\n+of names then a truncated list of names will be returned. Note that just because\n+a ciphersuite is available (i.e. it is configured in the cipher list) and shared\n+by both the client and the server it does not mean that it is enabled (see the\n+description of SSL_get1_supported_ciphers() above). This function will return\n+available shared ciphersuites whether or not they are enabled. This is a server\n+side function only and must only be called after the completion of the initial\n+handshake.\n+\n =head1 NOTES\n \n The details of the ciphers obtained by SSL_get_ciphers(), SSL_CTX_get_ciphers()\n@@ -74,7 +92,7 @@ L<SSL_CIPHER_get_name(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "2de241fcdae22abf564c5d4976687f5a08d43f94",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_get_session.pod",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_session.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_session.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_session.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -28,6 +28,11 @@ count of the B<SSL_SESSION> is incremented by one.\n The ssl session contains all information required to re-establish the\n connection without a new handshake.\n \n+A session will be automatically removed from the session cache and marked as\n+non-resumable if the connection is not closed down cleanly, e.g. if a fatal\n+error occurs on the connection or L<SSL_shutdown(3)> is not called prior to\n+L<SSL_free(3)>.\n+\n SSL_get0_session() returns a pointer to the actual session. As the\n reference counter is not incremented, the pointer is only valid while\n the connection is in use. If L<SSL_clear(3)> or\n@@ -72,7 +77,7 @@ L<SSL_SESSION_free(3)>\n \n =head1 COPYRIGHT\n \n-Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2000-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "507ca9f3627d4ee6a2274297758ef70b303de0a8",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_get_version.pod",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_version.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_version.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_get_version.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -15,7 +15,9 @@ SSL_get_version, SSL_is_dtls - get the protocol information of a connection\n =head1 DESCRIPTION\n \n SSL_get_version() returns the name of the protocol used for the\n-connection B<ssl>.\n+connection B<ssl>. It should only be called after the initial handshake has been\n+completed. Prior to that the results returned from this function may be\n+unreliable.\n \n SSL_is_dtls() returns one if the connection is using DTLS, zero if not.\n \n@@ -43,7 +45,7 @@ The connection uses the TLSv1.2 protocol.\n \n =item unknown\n \n-This indicates that no version has been set (no connection established).\n+This indicates an unknown protocol version.\n \n =back\n \n@@ -57,7 +59,7 @@ SSL_is_dtls() was added in OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2001-2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2001-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "715845e1f7c653ca83d104a65cf8336a00384c2e",
            "filename": "deps/openssl/openssl/doc/ssl/SSL_set1_host.pod",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_set1_host.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_set1_host.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2FSSL_set1_host.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -56,7 +56,7 @@ is cleared or freed, or a renegotiation takes place.  Applications\n must not free the return value.\n \n SSL clients are advised to use these functions in preference to\n-explicitly calling L<X509_check_host(3)>.  Hostname checks are out\n+explicitly calling L<X509_check_host(3)>.  Hostname checks may be out\n of scope with the RFC7671 DANE-EE(3) certificate usage, and the\n internal check will be suppressed as appropriate when DANE is\n enabled.\n@@ -111,7 +111,7 @@ These functions were first added to OpenSSL 1.1.0.\n \n =head1 COPYRIGHT\n \n-Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n \n Licensed under the OpenSSL license (the \"License\").  You may not use\n this file except in compliance with the License.  You can obtain a copy"
        },
        {
            "sha": "da12e29c63515380773694a6f560a8ca55038352",
            "filename": "deps/openssl/openssl/doc/ssl/ssl.pod",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2Fssl.pod",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2Fssl.pod",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fdoc%2Fssl%2Fssl.pod?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -91,12 +91,6 @@ includes both more private SSL headers and headers from the B<crypto> library.\n Whenever you need hard-core details on the internals of the SSL API, look\n inside this header file.\n \n-OPENSSL_VERSION_AT_LEAST(major,minor) can be\n-used in C<#if> statements in order to determine which version of the library is\n-being used. This can be used to either enable optional features at compile\n-time, or work around issues with a previous version.\n-See L<OPENSSL_VERSION_NUMBER(3)>.\n-\n =item B<ssl2.h>\n \n Unused. Present for backwards compatibility only.\n@@ -574,7 +568,7 @@ fresh handle for each connection.\n \n =item SSL_SESSION *B<SSL_get_session>(const SSL *ssl);\n \n-=item char *B<SSL_get_shared_ciphers>(const SSL *ssl, char *buf, int len);\n+=item char *B<SSL_get_shared_ciphers>(const SSL *ssl, char *buf, int size);\n \n =item int B<SSL_get_shutdown>(const SSL *ssl);\n "
        },
        {
            "sha": "bf6b312cd1b824cde1ac60906ff915248940554a",
            "filename": "deps/openssl/openssl/engines/asm/e_padlock-x86.pl",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -448,7 +448,7 @@ sub generate_mode {\n \t&mov\t(\"esi\",&wparam(1));\n \t&mov\t(\"ecx\",&wparam(2));\n     if ($::win32 or $::coff) {\n-\t&push\t(&::islabel(\"_win32_segv_handler\"));\n+    \t&push\t(&::islabel(\"_win32_segv_handler\"));\n \t&data_byte(0x64,0xff,0x30);\t\t# push\t%fs:(%eax)\n \t&data_byte(0x64,0x89,0x20);\t\t# mov\t%esp,%fs:(%eax)\n     }\n@@ -499,7 +499,7 @@ sub generate_mode {\n \t&mov\t(\"edi\",&wparam(0));\n \t&movups\t(&QWP(0,\"edi\"),\"xmm0\");\t\t# copy-out context\n \t&mov\t(&DWP(16,\"edi\"),\"eax\");\n-\t&pop\t(\"esi\");\n+ \t&pop\t(\"esi\");\n \t&pop\t(\"edi\");\n \t&ret\t();\n &function_end_B(\"padlock_sha1_blocks\");\n@@ -512,7 +512,7 @@ sub generate_mode {\n \t&mov\t(\"esi\",&wparam(1));\n \t&mov\t(\"ecx\",&wparam(2));\n     if ($::win32 or $::coff) {\n-\t&push\t(&::islabel(\"_win32_segv_handler\"));\n+    \t&push\t(&::islabel(\"_win32_segv_handler\"));\n \t&data_byte(0x64,0xff,0x30);\t\t# push\t%fs:(%eax)\n \t&data_byte(0x64,0x89,0x20);\t\t# mov\t%esp,%fs:(%eax)\n     }"
        },
        {
            "sha": "da285abc61dd692cb4f4f39606f18ba2b7224a2b",
            "filename": "deps/openssl/openssl/engines/asm/e_padlock-x86_64.pl",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86_64.pl",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86_64.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fengines%2Fasm%2Fe_padlock-x86_64.pl?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -535,7 +535,7 @@ sub generate_mode {\n \tsub\t$len,%rsp\n \tshr\t\\$3,$len\n \tlea\t(%rsp),$out\n-\t.byte\t0xf3,0x48,0xa5\t\t# rep movsq\n+\t.byte\t0xf3,0x48,0xa5\t\t# rep movsq\t\n \tlea\t(%r8),$out\n \tlea\t(%rsp),$inp\n \tmov\t$chunk,$len"
        },
        {
            "sha": "7c5e4c6bde9701523fb6c85dd821fe88ecbb80f4",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/INSTALL",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FINSTALL",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FINSTALL",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FINSTALL?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -21,7 +21,7 @@ Detailed documentation is at the bottom of the lib/Text/Template.pm\n file.  You may be able to view it with the following command:\n \n         perldoc Text::Template\n-\n+ \n Or:\n \n         perldoc lib/Text/Template.pm"
        },
        {
            "sha": "e184d8cd2f7bd130df24ef88cc89db07850eb662",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/README",
            "status": "modified",
            "additions": 31,
            "deletions": 30,
            "changes": 61,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FREADME",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FREADME",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2FREADME?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -5,7 +5,7 @@ This is a library for generating form letters, building HTML pages, or\n filling in templates generally.  A `template' is a piece of text that\n has little Perl programs embedded in it here and there.  When you\n `fill in' a template, you evaluate the little programs and replace\n-them with their values.\n+them with their values.  \n \n Here's an example of a template:\n \n@@ -45,7 +45,7 @@ encourages functional separation.\n You can fill in the template in a `Safe' compartment.  This means that\n if you don't trust the person who wrote the code in the template, you\n won't have to worry that they are tampering with your program when you\n-execute it.\n+execute it.  \n \n ----------------------------------------------------------------\n \n@@ -87,7 +87,7 @@ What's new in v1.46 since v1.44:\n         parameter to ->new is omitted.\n \n ----------------------------------------------------------------\n-What's new in v1.44 since v1.43:\n+What's new in v1.44 since v1.43: \n \n This is a maintentance release.  There are no feature changes.\n \n@@ -182,7 +182,7 @@ What's new in v1.40 since v1.31:\n ----------------------------------------------------------------\n What's new in v1.31 since v1.23:\n \n-\tJust bug fixes---fill_in_string was failing.  Thanks to\n+\tJust bug fixes---fill_in_string was failing.  Thanks to \n         Donald L. Greer Jr. for the test case.\n \n ----------------------------------------------------------------\n@@ -252,7 +252,7 @@ What's new in v1.10 since v1.03:\n \n \tNew OUTPUT option delivers template results directly to a\n \tfilehandle instead of making them into a string.  Saves space\n-\tand time.\n+\tand time. \n \n \tPACKAGE and HASH now work intelligently with SAFE.\n \n@@ -263,16 +263,16 @@ What's new in v1.10 since v1.03:\n \t\t\t{ my $blist = '';\n \t\t          foreach $i (@items) {\n \t\t            $blist .= qq{  * $i\\n};\n-\t\t          }\n+\t\t          }    \n \t\t          $blist;\n-\t\t        }\n+\t\t        } \n \n \tYou can now write this instead, because $OUT is special.\n \n \t\t\t{ foreach $i (@items) {\n \t\t            $OUT.= \"  * $i\\n\";\n-\t\t          }\n-\t\t        }\n+\t\t          }    \n+\t\t        } \n \n \t(`A spoonful of sugar makes the medicine go down.')\n \n@@ -281,30 +281,30 @@ What's new in v1.10 since v1.03:\n \n \tMore documentation.  Errors fixed.\n \n-\tLots more tests.\n+\tLots more tests.  \n \n ----------------------------------------------------------------\n \n What's new in v1.03 since v1.0:\n \n \tCode added to support HASH option to fill_in.\n \t(Incl. `_gensym' function.)\n-\n+\t\n \tDocumentation for HASH.\n-\n+\t\n \tNew test file for HASH.\n-\n+\t\n \tNote about failure of lexical variables to propagate into\n-\ttemplates.  Why does this surprise people?\n-\n+ \ttemplates.  Why does this surprise people?\n+\t\n \tBug fix: program fragments are evaluated in an environment with\n-\t`no strict' by default.  Otherwise, you get a lot of `Global\n-\tsymbol \"$v\" requires explicit package name' failures.  Why didn't\n-\tthe test program pick this up?  Because the only variable the test\n-\tprogram ever used was `$a', which is exempt.  Duhhhhh.\n-\n+ \t`no strict' by default.  Otherwise, you get a lot of `Global\n+ \tsymbol \"$v\" requires explicit package name' failures.  Why didn't\n+ \tthe test program pick this up?  Because the only variable the test\n+ \tprogram ever used was `$a', which is exempt.  Duhhhhh.\n+\t\n \tFixed the test program.\n-\n+\t\n \tVarious minor documentation fixes.\n \n \n@@ -315,24 +315,25 @@ Improvements of 1.0 over the old 0.1beta:\n \n New features:\n \n-      At least twice as fast\n+      At least twice as fast \n \n-      Better support for filling out the same template more than once\n+      Better support for filling out the same template more than once \n \n       Now supports evaluation of program fragments in Safe\n-      compartments. (Thanks, Jonathan!)\n+      compartments. (Thanks, Jonathan!)  \n \n-      Better argument syntax\n+      Better argument syntax \n \n-      More convenience functions\n+      More convenience functions \n \n-      The parser is much better and simpler.\n+      The parser is much better and simpler. \n \n       Once a template is parsed, the parsed version is stored so that\n-      it needn't be parsed again.\n+      it needn't be parsed again.  \n \n       BROKEN function behavior is rationalized. You can now pass an\n       arbitrary argument to your BROKEN function, or return a value\n-      from it to the main program.\n+      from it to the main program.  \n+\n+      Documentation overhauled. \n \n-      Documentation overhauled."
        },
        {
            "sha": "dc4f3bac77e115cf2fb72cccf65977edb04c6e59",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/lib/Text/Template.pm",
            "status": "modified",
            "additions": 73,
            "deletions": 73,
            "changes": 146,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate.pm",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate.pm",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate.pm?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -5,7 +5,7 @@\n #\n # Copyright 2013 M. J. Dominus.\n # You may copy and distribute this program under the\n-# same terms as Perl iteself.\n+# same terms as Perl iteself.  \n # If in doubt, write to mjd-perl-template+@plover.com for a license.\n #\n # Version 1.46\n@@ -44,7 +44,7 @@ sub always_prepend\n \n {\n   my %LEGAL_TYPE;\n-  BEGIN {\n+  BEGIN { \n     %LEGAL_TYPE = map {$_=>1} qw(FILE FILEHANDLE STRING ARRAY);\n   }\n   sub new {\n@@ -78,7 +78,7 @@ sub always_prepend\n \n     bless $self => $pack;\n     return unless $self->_acquire_data;\n-\n+    \n     $self;\n   }\n }\n@@ -89,7 +89,7 @@ sub _acquire_data {\n   my ($self) = @_;\n   my $type = $self->{TYPE};\n   if ($type eq 'STRING') {\n-    # nothing necessary\n+    # nothing necessary    \n   } elsif ($type eq 'FILE') {\n     my $data = _load_text($self->{SOURCE});\n     unless (defined $data) {\n@@ -115,7 +115,7 @@ sub _acquire_data {\n     }\n     $self->{SOURCE} = $data;\n   } else {\n-    # This should have been caught long ago, so it represents a\n+    # This should have been caught long ago, so it represents a \n     # drastic `can't-happen' sort of failure\n     my $pack = ref $self;\n     die \"Can only acquire data for $pack objects of subtype STRING, but this is $type; aborting\";\n@@ -145,15 +145,15 @@ sub compile {\n   return undef unless $self->_acquire_data;\n   unless ($self->{TYPE} eq 'STRING') {\n     my $pack = ref $self;\n-    # This should have been caught long ago, so it represents a\n+    # This should have been caught long ago, so it represents a \n     # drastic `can't-happen' sort of failure\n     die \"Can only compile $pack objects of subtype STRING, but this is $self->{TYPE}; aborting\";\n   }\n \n   my @tokens;\n   my $delim_pats = shift() || $self->{DELIM};\n \n-\n+  \n \n   my ($t_open, $t_close) = ('{', '}');\n   my $DELIM;\t\t\t# Regex matches a delimiter if $delim_pats\n@@ -215,7 +215,7 @@ sub compile {\n   } else {\n     die \"Can't happen error #1\";\n   }\n-\n+  \n   $self->{TYPE} = 'PREPARSED';\n   $self->{SOURCE} = \\@content;\n   1;\n@@ -247,7 +247,7 @@ sub fill_in {\n \n   my $fi_varhash = _param('hash', %fi_a);\n   my $fi_package = _param('package', %fi_a) ;\n-  my $fi_broken  =\n+  my $fi_broken  = \n     _param('broken', %fi_a)  || $fi_self->{BROKEN} || \\&_default_broken;\n   my $fi_broken_arg = _param('broken_arg', %fi_a) || [];\n   my $fi_safe = _param('safe', %fi_a);\n@@ -305,7 +305,7 @@ sub fill_in {\n     } elsif ($fi_type eq 'PROG') {\n       no strict;\n       my $fi_lcomment = \"#line $fi_lineno $fi_filename\";\n-      my $fi_progtext =\n+      my $fi_progtext = \n         \"package $fi_eval_package; $fi_prepend;\\n$fi_lcomment\\n$fi_text;\";\n       my $fi_res;\n       my $fi_eval_err = '';\n@@ -445,7 +445,7 @@ sub _unconditionally_untaint {\n     }\n   }\n }\n-\n+  \n # Given a hashful of variables (or a list of such hashes)\n # install the variables into the specified package,\n # overwriting whatever variables were there before.\n@@ -467,7 +467,7 @@ sub _install_hash {\n       } elsif (ref $val) {\n \t*SYM = $val;\n       } else {\n-\t*SYM = \\$val;\n+ \t*SYM = \\$val;\n       }\n     }\n   }\n@@ -478,7 +478,7 @@ sub TTerror { $ERROR }\n 1;\n \n \n-=head1 NAME\n+=head1 NAME \n \n Text::Template - Expand template text with embedded Perl\n \n@@ -539,7 +539,7 @@ This file documents C<Text::Template> version B<1.46>\n  $text = fill_in_string( <<EOM, PACKAGE => 'T', ...);\n  Dear {$recipient},\n  Pay me at once.\n-        Love,\n+        Love, \n          G.V.\n  EOM\n \n@@ -555,7 +555,7 @@ This is a library for generating form letters, building HTML pages, or\n filling in templates generally.  A `template' is a piece of text that\n has little Perl programs embedded in it here and there.  When you\n `fill in' a template, you evaluate the little programs and replace\n-them with their values.\n+them with their values.  \n \n You can store a template in a file outside your program.  People can\n modify the template without modifying the program.  You can separate\n@@ -683,16 +683,16 @@ The fragments are evaluated in order, and side effects from earlier\n fragments will persist into later fragments:\n \n \t{$x = @things; ''}The Lord High Chamberlain has gotten {$x}\n-\tthings for me this year.\n-\t{ $diff = $x - 17;\n+\tthings for me this year.  \n+\t{ $diff = $x - 17; \n \t  $more = 'more'\n \t  if ($diff == 0) {\n \t    $diff = 'no';\n \t  } elsif ($diff < 0) {\n \t    $more = 'fewer';\n-\t  }\n+\t  } \n           '';\n-\t}\n+\t} \n \tThat is {$diff} {$more} than he gave me last year.\n \n The value of C<$x> set in the first line will persist into the next\n@@ -701,11 +701,11 @@ C<$more> set in the second fragment will persist and be interpolated\n into the last line.  The output will look something like this:\n \n \tThe Lord High Chamberlain has gotten 42\n-\tthings for me this year.\n+\tthings for me this year.  \n \n \tThat is 25 more than he gave me last year.\n \n-That is all the syntax there is.\n+That is all the syntax there is.  \n \n =head2 The C<$OUT> variable\n \n@@ -726,9 +726,9 @@ One way to do it is with a template like this:\n \t{ my $blist = '';\n           foreach $i (@items) {\n             $blist .= qq{  * $i\\n};\n-          }\n+          }    \n           $blist;\n-        }\n+        } \n \n Here we construct the list in a variable called C<$blist>, which we\n return at the end.  This is a little cumbersome.  There is a shortcut.\n@@ -743,11 +743,11 @@ This means that you can write the template above like this:\n \tHere is a list of the things I have got for you since 1907:\n \t{ foreach $i (@items) {\n             $OUT .= \"  * $i\\n\";\n-          }\n-        }\n+          }    \n+        } \n \n C<$OUT> is reinitialized to the empty string at the start of each\n-program fragment.  It is private to C<Text::Template>, so\n+program fragment.  It is private to C<Text::Template>, so \n you can't use a variable named C<$OUT> in your template without\n invoking the special behavior.\n \n@@ -780,15 +780,15 @@ else that makes sense with C<open>.\n The C<TYPE> can also be C<STRING>, in which case the C<SOURCE> should\n be a string:\n \n-\tnew Text::Template ( TYPE => 'STRING',\n+\tnew Text::Template ( TYPE => 'STRING', \n                              SOURCE => \"This is the actual template!\" );\n \n The C<TYPE> can be C<ARRAY>, in which case the source should be a\n reference to an array of strings.  The concatenation of these strings\n is the template:\n \n-\tnew Text::Template ( TYPE => 'ARRAY',\n-                             SOURCE => [ \"This is \", \"the actual\",\n+\tnew Text::Template ( TYPE => 'ARRAY', \n+                             SOURCE => [ \"This is \", \"the actual\", \n                                          \" template!\",\n                                        ]\n                            );\n@@ -800,7 +800,7 @@ C<Text::Template> will read the text from the filehandle up to\n end-of-file, and that text is the template:\n \n \t# Read template source code from STDIN:\n-\tnew Text::Template ( TYPE => 'FILEHANDLE',\n+\tnew Text::Template ( TYPE => 'FILEHANDLE', \n                              SOURCE => \\*STDIN  );\n \n \n@@ -870,7 +870,7 @@ overridden in the arguments to C<fill_in>.  See L<C<BROKEN>> below.\n Loads all the template text from the template's source, parses and\n compiles it.  If successful, returns true; otherwise returns false and\n sets C<$Text::Template::ERROR>.  If the template is already compiled,\n-it returns true and does nothing.\n+it returns true and does nothing.  \n \n You don't usually need to invoke this function, because C<fill_in>\n (see below) compiles the template if it isn't compiled already.\n@@ -977,10 +977,10 @@ variables.\n \n You may not want to put the template variables into a package.\n Packages can be hard to manage:  You can't copy them, for example.\n-C<HASH> provides an alternative.\n+C<HASH> provides an alternative.  \n \n The value for C<HASH> should be a reference to a hash that maps\n-variable names to values.  For example,\n+variable names to values.  For example, \n \n \t$template->fill_in(HASH => { recipient => \"The King\",\n \t\t\t\t     items => ['gold', 'frankincense', 'myrrh'],\n@@ -996,19 +996,19 @@ should be passed by reference.\n We also want to pass an object, which is in C<$self>; note that we\n pass a reference to the object, C<\\$self> instead.  Since we've passed\n a reference to a scalar, inside the template the object appears as\n-C<$object>.\n+C<$object>.  \n \n The full details of how it works are a little involved, so you might\n want to skip to the next section.\n \n-Suppose the key in the hash is I<key> and the value is I<value>.\n+Suppose the key in the hash is I<key> and the value is I<value>.  \n \n =over 4\n \n =item *\n \n If the I<value> is C<undef>, then any variables named C<$key>,\n-C<@key>, C<%key>, etc., are undefined.\n+C<@key>, C<%key>, etc., are undefined.  \n \n =item *\n \n@@ -1032,7 +1032,7 @@ and\n \n have almost exactly the same effect.  (The difference is that in the\n former case, the value is copied, and in the latter case it is\n-aliased.)\n+aliased.)  \n \n =item *\n \n@@ -1074,21 +1074,21 @@ You can also use this to set two variables with the same name:\n \t                           ]\n                           );\n \n-This sets C<$v> to C<\"The King\"> and C<@v> to C<(1,2,3)>.\n+This sets C<$v> to C<\"The King\"> and C<@v> to C<(1,2,3)>.\t\n \n =item C<BROKEN>\n \n If any of the program fragments fails to compile or aborts for any\n reason, and you have set the C<BROKEN> option to a function reference,\n C<Text::Template> will invoke the function.  This function is called\n the I<C<BROKEN> function>.  The C<BROKEN> function will tell\n-C<Text::Template> what to do next.\n+C<Text::Template> what to do next.  \n \n If the C<BROKEN> function returns C<undef>, C<Text::Template> will\n immediately abort processing the template and return the text that it\n has accumulated so far.  If your function does this, it should set a\n flag that you can examine after C<fill_in> returns so that you can\n-tell whether there was a premature return or not.\n+tell whether there was a premature return or not. \n \n If the C<BROKEN> function returns any other value, that value will be\n interpolated into the template as if that value had been the return\n@@ -1150,15 +1150,15 @@ If you supply the C<BROKEN_ARG> option to C<fill_in>, the value of the\n option is passed to the C<BROKEN> function whenever it is called.  The\n default C<BROKEN> function ignores the C<BROKEN_ARG>, but you can\n write a custom C<BROKEN> function that uses the C<BROKEN_ARG> to get\n-more information about what went wrong.\n+more information about what went wrong. \n \n The C<BROKEN> function could also use the C<BROKEN_ARG> as a reference\n to store an error message or some other information that it wants to\n communicate back to the caller.  For example:\n \n \t$error = '';\n \n-\tsub my_broken {\n+\tsub my_broken {\t\n \t   my %args = @_;\n \t   my $err_ref = $args{arg};\n \t   ...\n@@ -1191,7 +1191,7 @@ operations that can be performed in them.\n \n If you use the C<PACKAGE> option with C<SAFE>, the package you specify\n will be placed into the safe compartment and evaluation will take\n-place in that package as usual.\n+place in that package as usual.  \n \n If not, C<SAFE> operation is a little different from the default.\n Usually, if you don't specify a package, evaluation of program\n@@ -1235,11 +1235,11 @@ If this option is present, its value should be a reference to a list\n of two strings.  The first string is the string that signals the\n beginning of each program fragment, and the second string is the\n string that signals the end of each program fragment.  See\n-L<\"Alternative Delimiters\">, below.\n+L<\"Alternative Delimiters\">, below.  \n \n If you specify C<DELIMITERS> in the call to C<fill_in>, they override\n any delimiters you set when you created the template object with\n-C<new>.\n+C<new>. \n \n =back\n \n@@ -1266,7 +1266,7 @@ An example:\n \n \t$text = Text::Template->fill_this_in( <<'EOM', PACKAGE => Q);\n \tDear {$name},\n-\tYou owe me \\\\${sprintf('%.2f', $amount)}.\n+\tYou owe me \\\\${sprintf('%.2f', $amount)}.  \n \tPay or I will break your {$part}.\n \t\tLove,\n \t\tGrand Vizopteryx of Irkutsk.\n@@ -1371,7 +1371,7 @@ The text C<The King> doesn't get into the form letter.  Why not?\n Because C<$recipient> is a C<my> variable, and the whole point of\n C<my> variables is that they're private and inaccessible except in the\n scope in which they're declared.  The template is not part of that\n-scope, so the template can't see C<$recipient>.\n+scope, so the template can't see C<$recipient>.  \n \n If that's not the behavior you want, don't use C<my>.  C<my> means a\n private variable, and in this case you don't want the variable to be\n@@ -1380,7 +1380,7 @@ package, and use the C<PACKAGE> option to C<fill_in>:\n \n \t$Q::recipient = $recipient;\n \tmy $text = fill_in_file('formletter.tmpl', PACKAGE => 'Q');\n-\n+\t\n \n or pass the names and values in a hash with the C<HASH> option:\n \n@@ -1397,8 +1397,8 @@ rest of your program and wreck something.\n Nevertheless, there's really no way (except with C<Safe>) to protect\n against a template that says\n \n-\t{ $Important::Secret::Security::Enable = 0;\n-\t  # Disable security checks in this program\n+\t{ $Important::Secret::Security::Enable = 0; \n+\t  # Disable security checks in this program \n \t}\n \n or\n@@ -1462,12 +1462,12 @@ you may be able to make it work by doing this instead:\n \t--@]\n \n It may be safer to choose delimiters that begin with a newline\n-character.\n+character.  \n \n Because the parsing of templates is simplified by the absence of\n backslash escapes, using alternative C<DELIMITERS> may speed up the\n parsing process by 20-25%.  This shows that my original choice of C<{>\n-and C<}> was very bad.\n+and C<}> was very bad. \n \n =head2 C<PREPEND> feature and using C<strict> in templates\n \n@@ -1492,11 +1492,11 @@ each and every code fragment:\n Because we didn't put C<use strict> at the top of the second fragment,\n it was only active in the first fragment, and we didn't get any\n C<strict> checking in the second fragment.  Then we mispelled C<$foo>\n-and the error wasn't caught.\n+and the error wasn't caught.  \n \n C<Text::Template> version 1.22 and higher has a new feature to make\n this easier.  You can specify that any text at all be automatically\n-added to the beginning of each program fragment.\n+added to the beginning of each program fragment.  \n \n When you make a call to C<fill_in>, you can specify a\n \n@@ -1541,7 +1541,7 @@ except where overridden by C<PREPEND> options to C<new> or C<fill_in>.\n =head2 Prepending in Derived Classes\n \n This section is technical, and you should skip it on the first few\n-readings.\n+readings. \n \n Normally there are three places that prepended text could come from.\n It could come from the C<PREPEND> option in the C<fill_in> call, from\n@@ -1551,12 +1551,12 @@ C<Text::Template> looks for these three things in order and takes the\n first one that it finds.\n \n In a subclass of C<Text::Template>, this last possibility is\n-ambiguous.  Suppose C<S> is a subclass of C<Text::Template>.  Should\n+ambiguous.  Suppose C<S> is a subclass of C<Text::Template>.  Should \n \n \tText::Template->always_prepend(...);\n \n affect objects in class C<Derived>?  The answer is that you can have it\n-either way.\n+either way.  \n \n The C<always_prepend> value for C<Text::Template> is normally stored\n in  a hash variable named C<%GLOBAL_PREPEND> under the key\n@@ -1587,7 +1587,7 @@ method to get an arbitrary effect.\n Jennifer D. St Clair asks:\n \n \t> Most of my pages contain JavaScript and Stylesheets.\n-        > How do I change the template identifier?\n+        > How do I change the template identifier?  \n \n Jennifer is worried about the braces in the JavaScript being taken as\n the delimiters of the Perl program fragments.  Of course, disaster\n@@ -1600,13 +1600,13 @@ some reason, there are  two easy workarounds:\n 1. You can put C<\\> in front of C<{>, C<}>, or C<\\> to remove its\n special meaning.  So, for example, instead of\n \n-\t    if (br== \"n3\") {\n+\t    if (br== \"n3\") { \n \t\t// etc.\n \t    }\n \n you can put\n \n-\t    if (br== \"n3\") \\{\n+\t    if (br== \"n3\") \\{ \n \t\t// etc.\n \t    \\}\n \n@@ -1627,21 +1627,21 @@ So if we wrote\n \n \t    {q{foo}}\n \n-it would turn into\n+it would turn into \n \n \t    foo\n \n So for your JavaScript, just write\n \n-\t    {q{if (br== \"n3\") {\n-\t\t // etc.\n+\t    {q{if (br== \"n3\") { \n+\t  \t // etc.\n \t       }}\n \t    }\n \n and it'll come out as\n \n-\t      if (br== \"n3\") {\n-\t\t  // etc.\n+\t      if (br== \"n3\") { \n+\t  \t  // etc.\n \t      }\n \n which is what you want.\n@@ -1657,7 +1657,7 @@ their templates, like this:\n \t}\n \n Then they complain because there is a C<17> at the top of the output\n-that they didn't want to have there.\n+that they didn't want to have there.  \n \n Remember that a program fragment is replaced with its own return\n value, and that in Perl the return value of a code block is the value\n@@ -1723,14 +1723,14 @@ complicated to remember, but probably easier to use.  The rule is now:\n Backslashes are always passed to Perl unchanged I<unless> they occur\n as part of a sequence like C<\\\\\\\\\\\\{> or C<\\\\\\\\\\\\}>.  In these\n contexts, they are special; C<\\\\> is replaced with C<\\>, and C<\\{> and\n-C<\\}> signal a literal brace.\n+C<\\}> signal a literal brace. \n \n Examples:\n \n \t\\{ foo \\}\n \n is I<not> evaluated, because the C<\\> before the braces signals that\n-they should be taken literally.  The result in the output looks like this:\n+they should be taken literally.  The result in the output looks like this: \n \n \t{ foo }\n \n@@ -1797,7 +1797,7 @@ It's totally straightforward.  Just call the C<CGI> functions from\n inside the template:\n \n \t{ $q->checkbox_group(NAME => 'toppings',\n-\t\t\t     LINEBREAK => true,\n+\t\t  \t     LINEBREAK => true,\n \t\t\t     COLUMNS => 3,\n \t\t\t     VALUES => \\@toppings,\n \t\t\t    );\n@@ -1864,7 +1864,7 @@ of the mailing list.  The mailing list address is a secret.)\n =head1 THANKS\n \n Many thanks to the following people for offering support,\n-encouragement, advice, bug reports, and all the other good stuff.\n+encouragement, advice, bug reports, and all the other good stuff.  \n \n David H. Adler /\n Joel Appelbaum /\n@@ -1895,7 +1895,7 @@ Matt X. Hunter /\n Robert M. Ioffe /\n Daniel LaLiberte /\n Reuven M. Lerner /\n-Trip Lilley /\n+Trip Lilley / \n Yannis Livassof /\n Val Luck /\n Kevin Madsen /\n@@ -1941,12 +1941,12 @@ Special thanks to:\n \n =over 2\n \n-=item Jonathan Roy\n+=item Jonathan Roy \n \n for telling me how to do the C<Safe> support (I spent two years\n worrying about it, and then Jonathan pointed out that it was trivial.)\n \n-=item Ranjit Bhatnagar\n+=item Ranjit Bhatnagar \n \n for demanding less verbose fragments like they have in ASP, for\n helping me figure out the Right Thing, and, especially, for talking me"
        },
        {
            "sha": "1e41037bd362242dc22330908902c537dd539209",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/lib/Text/Template/Preprocess.pm",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate%2FPreprocess.pm",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate%2FPreprocess.pm",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Flib%2FText%2FTemplate%2FPreprocess.pm?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -28,7 +28,7 @@ sub preprocessor {\n 1;\n \n \n-=head1 NAME\n+=head1 NAME \n \n Text::Template::Preprocess - Expand template text with embedded Perl\n \n@@ -82,8 +82,8 @@ this:\n         Plain text here...\n         { perl code }\n         <script language=JavaScript>\n-\t      if (br== \"n3\") {\n-\t\t  // etc.\n+     \t      if (br== \"n3\") { \n+\t  \t  // etc.\n \t      }\n         </script>\n         { more perl code }\n@@ -96,7 +96,7 @@ JavaScript program with executable Perl code.  One strategy:\n           s(<script(.*?)</script>)(q{$1})gsi;\n         }\n \n-Then use C<PREPROCESSOR =E<gt> \\&quote_scripts>.  This will transform\n+Then use C<PREPROCESSOR =E<gt> \\&quote_scripts>.  This will transform \n \n \n \n@@ -141,3 +141,4 @@ For updates, visit C<http://www.plover.com/~mjd/perl/Template/>.\n \n \n =cut\n+"
        },
        {
            "sha": "5f9560f89875d6db630e554382225d8bc4c92de8",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/00-version.t",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F00-version.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F00-version.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F00-version.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -8,3 +8,4 @@ if ($Text::Template::VERSION == 1.46) {\n } else {\n         print \"not ok 1\\n\";\n }\n+"
        },
        {
            "sha": "be43390c67fa923937bbcc20bbdef431b936ec0d",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/01-basic.t",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F01-basic.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F01-basic.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F01-basic.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -33,12 +33,12 @@ if (defined($template)) {\n $n++;\n \n # (3) Fill in template from file\n-$X::v = \"abc\";\n+$X::v = \"abc\";\t\n $resultX = <<EOM;\n We will put value of \\$v (which is \"abc\") here -> abc\n We will evaluate 1+1 here -> 2\n EOM\n-$Y::v = \"ABC\";\n+$Y::v = \"ABC\";\t\n $resultY = <<EOM;\n We will put value of \\$v (which is \"abc\") here -> ABC\n We will evaluate 1+1 here -> 2\n@@ -74,7 +74,7 @@ $n++;\n \n # (6) test creation of template from filehandle\n if (open (TMPL, \"< $TEMPFILE\")) {\n-  $template = new Text::Template ('type' => 'FILEHANDLE',\n+  $template = new Text::Template ('type' => 'FILEHANDLE', \n \t\t\t\t  'source' => *TMPL);\n   if (defined($template)) {\n     print \"ok $n\\n\";\n@@ -109,9 +109,9 @@ if (open (TMPL, \"< $TEMPFILE\")) {\n \n \n # (9) test creation of template from array\n-$template = new Text::Template\n-    ('type' => 'ARRAY',\n-     'source' => [\n+$template = new Text::Template \n+    ('type' => 'ARRAY', \n+     'source' => [ \n \t\t  'We will put value of $v (which is \"abc\") here -> {$v}',\n \t\t  \"\\n\",\n \t\t  'We will evaluate 1+1 here -> {1+1}',\n@@ -209,7 +209,7 @@ for ($i=0; $i<@tests; $i+=2) {\n # MJD 20010827\n # (28) test creation of template from filehandle\n if (open (TMPL, \"< $TEMPFILE\")) {\n-  $template = new Text::Template ('type' => 'FILEHANDLE',\n+  $template = new Text::Template ('type' => 'FILEHANDLE', \n \t\t\t\t  'source' => \\*TMPL);\n   if (defined($template)) {\n     print \"ok $n\\n\";"
        },
        {
            "sha": "29ba51a40e21c6cd943203877ae2489fea8713d2",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/02-hash.t",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F02-hash.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F02-hash.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F02-hash.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -68,13 +68,13 @@ my $WARNINGS = 0;\n   local $^W = 1;       # Make sure this is on for this test\n   $template8 = 'We will put value of $v (which is \"good\") here -> {defined $v ? \"bad\" : \"good\"}';\n   $result8 = 'We will put value of $v (which is \"good\") here -> good';\n-  my $template =\n+  my $template = \n     new Text::Template ('type' => 'STRING', 'source' => $template8);\n   my $text = $template->fill_in(HASH => {'v' => undef});\n   # (8) Did we generate a warning?\n   print +($WARNINGS == 0 ? '' : 'not '), \"ok $n\\n\";\n   $n++;\n-\n+  \n   # (9) Was the output correct?\n   print +($text eq $result8 ? '' : 'not '), \"ok $n\\n\";\n   $n++;\n@@ -85,7 +85,7 @@ my $WARNINGS = 0;\n   # (10) Did we generate a warning?\n   print +($WARNINGS == 0 ? '' : 'not '), \"ok $n\\n\";\n   $n++;\n-\n+  \n   # (11) Was the output correct?\n   if ($] < 5.005) {\n     print \"ok $n # skipped -- not supported before 5.005\\n\";\n@@ -98,7 +98,7 @@ my $WARNINGS = 0;\n \n # (12) Now we'll test the multiple-hash option  (Added for 1.20.)\n $text = Text::Template::fill_in_string(q{$v: {$v}.  @v: [{\"@v\"}].},\n-\t\t\t\t       HASH => [{'v' => 17},\n+\t\t\t\t       HASH => [{'v' => 17}, \n \t\t\t\t\t\t{'v' => ['a', 'b', 'c']},\n \t\t\t\t\t\t{'v' => \\23},\n \t\t\t\t\t       ]);\n@@ -108,3 +108,4 @@ $n++;\n \n \n exit;\n+"
        },
        {
            "sha": "0ba65a54dc5e3153b5e0b671e4387e35a6442173",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/03-out.t",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F03-out.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F03-out.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F03-out.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -46,10 +46,11 @@ $textOUT = $templateOUT->fill_in()\n print +($text eq $textOUT ? '' : 'not '), \"ok $n\\n\";\n $n++;\n \n-# Missing:  Test this feature in Safe compartments;\n+# Missing:  Test this feature in Safe compartments; \n # it's a totally different code path.\n # Decision: Put that into safe.t, because that file should\n # be skipped when Safe.pm is unavailable.\n \n \n exit;\n+"
        },
        {
            "sha": "4c07121b449f9dd97edb100bb85e0c74c86a67df",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/04-safe.t",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F04-safe.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F04-safe.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F04-safe.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -141,13 +141,13 @@ print +($text1 eq $text2 ? '' : 'not '), \"ok $n\\n\";\n $n++;\n \n # (16) Try the BROKEN routine in safe compartments\n-sub my_broken {\n+sub my_broken { \n   my %a = @_; $a{error} =~ s/ at.*//s;\n   \"OK! text:$a{text} error:$a{error} lineno:$a{lineno} arg:$a{arg}\" ;\n }\n $templateB = new Text::Template (TYPE => 'STRING', SOURCE => '{die}')\n     or die;\n-$text1 = $templateB->fill_in(BROKEN => \\&my_broken,\n+$text1 = $templateB->fill_in(BROKEN => \\&my_broken, \n \t\t\t     BROKEN_ARG => 'barg',\n \t\t\t     SAFE => new Safe,\n \t\t\t     );\n@@ -158,3 +158,4 @@ $n++;\n \n \n exit;\n+"
        },
        {
            "sha": "03534770f175469fa4309106b8aa888c0b15ed87",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/05-safe2.t",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F05-safe2.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F05-safe2.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F05-safe2.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -96,7 +96,10 @@ print +($Q::H eq 'good7' ? '' : 'not '), \"ok $n\\n\";\n $Q::H = $Q::H;\n $n++;\n \n-# (12)\n+# (12) \n print +($Q2::H eq 'good8' ? '' : 'not '), \"ok $n\\n\";\n $Q2::H = $Q2::H;\n $n++;\n+\n+\n+"
        },
        {
            "sha": "6865ad194531d13c2513ed8685d81a14d0c5b717",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/06-ofh.t",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F06-ofh.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F06-ofh.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F06-ofh.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -36,3 +36,4 @@ print +($t eq \"My process ID is $$\" ? '' : 'not '), \"ok $n\\n\";\n $n++;\n \n exit;\n+"
        },
        {
            "sha": "5f438f61480e2789ba80b70f717a2fdbd39705e3",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/07-safe3.t",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F07-safe3.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F07-safe3.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F07-safe3.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -88,3 +88,4 @@ $n++;\n }\n \n exit;\n+"
        },
        {
            "sha": "ef9cfafdeeed88a40f8cf787b06b13188f29ad00",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/08-exported.t",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F08-exported.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F08-exported.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F08-exported.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -14,7 +14,7 @@ Aborting\"\n print \"1..6\\n\";\n \n $n=1;\n-$Q::n = $Q::n = 119;\n+$Q::n = $Q::n = 119; \n \n # (1) Test fill_in_string\n $out = fill_in_string('The value of $n is {$n}.', PACKAGE => 'Q' );\n@@ -26,7 +26,7 @@ $TEMPFILE = \"tt$$\";\n open F, \"> $TEMPFILE\" or die \"Couldn't open test file: $!; aborting\";\n print F 'The value of $n is {$n}.', \"\\n\";\n close F or die \"Couldn't write test file: $!; aborting\";\n-$R::n = $R::n = 8128;\n+$R::n = $R::n = 8128; \n \n $out = fill_in_file($TEMPFILE, PACKAGE => 'R');\n print +($out eq \"The value of \\$n is 8128.\\n\" ? '' : 'not '), \"ok $n\\n\";\n@@ -42,15 +42,15 @@ print +($out eq \"With a message here? It is good!\\n\" ? '' : 'not '), \"ok $n\\n\";\n $n++;\n \n # (4) It probably occurs in fill_this_in also:\n-$out =\n+$out = \n   Text::Template->fill_this_in(\"With a message here? [% \\$var %]\\n\",\n                       DELIMITERS => ['[%', '%]'],\n                       HASH => { \"var\" => \\\"It is good!\" });\n print +($out eq \"With a message here? It is good!\\n\" ? '' : 'not '), \"ok $n\\n\";\n $n++;\n \n # (5) This test failed in 1.25.  It was supplied by Donald L. Greer Jr.\n-# Note that it's different from (1)  in that there's no explicit\n+# Note that it's different from (1)  in that there's no explicit \n # package=> argument.\n use vars qw($string $foo $r);\n $string='Hello {$foo}';\n@@ -72,3 +72,4 @@ package main;\n END { $TEMPFILE && unlink $TEMPFILE }\n \n exit;\n+"
        },
        {
            "sha": "40f9fac6cbc81328730bfe8f391deae8390507d8",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/09-error.t",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F09-error.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F09-error.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F09-error.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -49,14 +49,15 @@ if ($@ =~ /^\\QIllegal value `WLUNCH' for TYPE parameter/) {\n $n++;\n \n # (4-5) File does not exist\n-my $o = Text::Template->new(TYPE => 'file',\n+my $o = Text::Template->new(TYPE => 'file', \n                             SOURCE => 'this file does not exist');\n print $o ? \"not ok $n\\n\" : \"ok $n\\n\";\n $n++;\n-print defined($Text::Template::ERROR)\n+print defined($Text::Template::ERROR) \n       && $Text::Template::ERROR =~ /^Couldn't open file/\n   ? \"ok $n\\n\" : \"not ok $n\\n\";\n $n++;\n \n \n exit;\n+"
        },
        {
            "sha": "f74d591cc755209a2cbd6c7c20b5b334a26426c3",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/10-delimiters.t",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F10-delimiters.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F10-delimiters.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F10-delimiters.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -19,7 +19,7 @@ $n = 1;\n $V = $V = 119;\n $template = q{The value of $V is <<$V>>.};\n $result = q{The value of $V is 119.};\n-$template1 = Text::Template->new(TYPE => STRING,\n+$template1 = Text::Template->new(TYPE => STRING, \n \t\t\t\t SOURCE => $template,\n \t\t\t\t DELIMITERS => ['<<', '>>']\n \t\t\t\t)\n@@ -37,7 +37,7 @@ $n++;\n # (3) Now we'll try using regex metacharacters\n # First with the delimiters specified at object creation time\n $template = q{The value of $V is [$V].};\n-$template1 = Text::Template->new(TYPE => STRING,\n+$template1 = Text::Template->new(TYPE => STRING, \n \t\t\t\t SOURCE => $template,\n \t\t\t\t DELIMITERS => ['[', ']']\n \t\t\t\t)\n@@ -63,10 +63,10 @@ my @tests = ('{\"\"}' => '',\t# (5)\n \t     '{\"}\"}' => undef,\n \t     '{\"\\\\}\"}' => undef,\t# One backslash\n \t     '{\"\\\\\\\\}\"}' => undef, # Two backslashes\n-\t     '{\"\\\\\\\\\\\\}\"}' => undef, # Three backslashes\n+\t     '{\"\\\\\\\\\\\\}\"}' => undef, # Three backslashes \n \t     '{\"\\\\\\\\\\\\\\\\}\"}' => undef, # Four backslashes (10)\n \t     '{\"\\\\\\\\\\\\\\\\\\\\}\"}' => undef, # Five backslashes\n-\n+\t     \n \t     # Backslashes are always passed directly to Perl\n \t     '{\"x20\"}' => 'x20',\n \t     '{\"\\\\x20\"}' => ' ',\t# One backslash\n@@ -96,3 +96,4 @@ for ($i=0; $i<@tests; $i+=2) {\n \n \n exit;\n+"
        },
        {
            "sha": "fe242e5898a21073daac87895d4bfa7d58f43449",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/11-prepend.t",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F11-prepend.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F11-prepend.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F11-prepend.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -22,11 +22,11 @@ my $tin = q{The value of $foo is: {$foo}};\n Text::Template->always_prepend(q{$foo = \"global\"});\n \n $tmpl1 = Text::Template->new(TYPE => 'STRING',\n-\t\t\t\tSOURCE => $tin,\n+\t\t\t\tSOURCE => $tin,\t\t\n \t\t\t      );\n \n $tmpl2 = Text::Template->new(TYPE => 'STRING',\n-\t\t\t     SOURCE => $tin,\n+\t\t\t     SOURCE => $tin,\t\t\n \t\t\t     PREPEND => q{$foo = \"template\"},\n \t\t\t     );\n \n@@ -46,11 +46,11 @@ print \"ok $n\\n\"; $n++;\n \n Emptyclass1->always_prepend(q{$foo = 'Emptyclass global';});\n $tmpl1 = Emptyclass1->new(TYPE => 'STRING',\n-\t\t\t\tSOURCE => $tin,\n+\t\t\t\tSOURCE => $tin,\t\t\n \t\t\t      );\n \n $tmpl2 = Emptyclass1->new(TYPE => 'STRING',\n-\t\t\t     SOURCE => $tin,\n+\t\t\t     SOURCE => $tin,\t\t\n \t\t\t     PREPEND => q{$foo = \"template\"},\n \t\t\t     );\n \n@@ -69,11 +69,11 @@ print \"ok $n\\n\"; $n++;\n print \"ok $n\\n\"; $n++;\n \n $tmpl1 = Emptyclass2->new(TYPE => 'STRING',\n-\t\t\t\tSOURCE => $tin,\n+\t\t\t\tSOURCE => $tin,\t\t\n \t\t\t      );\n \n $tmpl2 = Emptyclass2->new(TYPE => 'STRING',\n-\t\t\t     SOURCE => $tin,\n+\t\t\t     SOURCE => $tin,\t\t\n \t\t\t     PREPEND => q{$foo = \"template\"},\n \t\t\t     );\n \n@@ -90,3 +90,5 @@ print \"ok $n\\n\"; $n++;\n print \"ok $n\\n\"; $n++;\n ($t3 eq 'The value of $foo is: fillin') or print \"not \";\n print \"ok $n\\n\"; $n++;\n+\n+"
        },
        {
            "sha": "60b6b0c65beb225c76524ebbd15a39be9fea2826",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/12-preprocess.t",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F12-preprocess.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F12-preprocess.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F12-preprocess.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -32,16 +32,16 @@ for my $trial (1, 0) {\n   for my $test (0 .. 3) {\n     my $tmpl;\n     if ($trial == 0) {\n-      $tmpl = new Text::Template::Preprocess\n+      $tmpl = new Text::Template::Preprocess \n \t(TYPE => 'STRING', SOURCE => $t) or die;\n     } else {\n       open TF, \"< $TMPFILE\" or die \"Couldn't open test file: $!; aborting\";\n-      $tmpl = new Text::Template::Preprocess\n+      $tmpl = new Text::Template::Preprocess \n \t(TYPE => 'FILEHANDLE', SOURCE => \\*TF) or die;\n     }\n     $tmpl->preprocessor($py) if ($test & 1) == 1;\n     my @args = ((($test & 2) == 2) ? (PREPROCESSOR => $pz) : ());\n-    my $o = $tmpl->fill_in(@args,\n+    my $o = $tmpl->fill_in(@args, \n \t\t\t   HASH => {x => 119, 'y' => 23, z => 5});\n #    print STDERR \"$o/$result[$test]\\n\";\n     print +(($o eq $result[$test]) ? '' : 'not '), \"ok $n\\n\";"
        },
        {
            "sha": "d92a37463ab3c3c4e1614f3e7c4b73e34a05a337",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/13-taint.t",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F13-taint.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F13-taint.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F13-taint.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -58,14 +58,14 @@ sub should_be_tainted {\n   if (Text::Template::_is_clean($_[0])) {\n     print \"not ok $n\\n\"; $n++; return;\n   }\n-  print \"ok $n\\n\"; $n++; return;\n+  print \"ok $n\\n\"; $n++; return; \n }\n \n sub should_be_clean {\n   unless (Text::Template::_is_clean($_[0])) {\n     print \"not ok $n\\n\"; $n++; return;\n   }\n-  print \"ok $n\\n\"; $n++; return;\n+  print \"ok $n\\n\"; $n++; return; \n }\n \n # Tainted filename should die with and without UNTAINT option\n@@ -116,3 +116,4 @@ Text::Template::_unconditionally_untaint($tfile);\n should_be_clean($tfile);\n \n END { unlink $file }\n+"
        },
        {
            "sha": "d362395cfbc7fd73ceb8646a11b3d89e0a95845b",
            "filename": "deps/openssl/openssl/external/perl/Text-Template-1.46/t/14-broken.t",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F14-broken.t",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F14-broken.t",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2FText-Template-1.46%2Ft%2F14-broken.t?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -68,7 +68,7 @@ Aborting\"\n # (5) BROKEN sub passed correct args when called in ->fill_in?\n { my $r = Text::Template->new(TYPE => 'string',\n                               SOURCE => '{1/0}',\n-                             )->fill_in(BROKEN =>\n+                             )->fill_in(BROKEN => \n                                         sub { my %a = @_;\n                                               qq{$a{lineno},$a{error},$a{text}}\n                                             });\n@@ -79,3 +79,4 @@ Aborting\"\n   }\n   $n++;\n }\n+"
        },
        {
            "sha": "b21f875312b51cb946afff6a542538623adfe19f",
            "filename": "deps/openssl/openssl/external/perl/transfer/Text/Template.pm",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2Ftransfer%2FText%2FTemplate.pm",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2Ftransfer%2FText%2FTemplate.pm",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fexternal%2Fperl%2Ftransfer%2FText%2FTemplate.pm?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,4 +1,4 @@\n-# Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+# Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n #\n # Licensed under the OpenSSL license (the \"License\").  You may not use\n # this file except in compliance with the License.  You can obtain a copy\n@@ -7,6 +7,9 @@\n \n # Quick transfer to the downloaded Text::Template\n \n+package transfer::Text::Template;\n+$VERSION = 1.46;\n+\n BEGIN {\n     use File::Spec::Functions;\n     use File::Basename;"
        },
        {
            "sha": "628e633536d356418946b466d4e95f5b5a336207",
            "filename": "deps/openssl/openssl/fuzz/test-corpus.c",
            "status": "modified",
            "additions": 71,
            "deletions": 16,
            "changes": 87,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Ffuzz%2Ftest-corpus.c",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Ffuzz%2Ftest-corpus.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Ffuzz%2Ftest-corpus.c?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL licenses, (the \"License\");\n  * you may not use this file except in compliance with the License.\n@@ -16,31 +16,86 @@\n \n #include <stdio.h>\n #include <stdlib.h>\n+#include <string.h>\n #include <sys/stat.h>\n #include <openssl/crypto.h>\n #include \"fuzzer.h\"\n+#include \"internal/o_dir.h\"\n \n-int main(int argc, char **argv) {\n-    int n;\n+#if defined(_WIN32) && defined(_MAX_PATH)\n+# define PATH_MAX _MAX_PATH\n+#endif\n \n-    FuzzerInitialize(&argc, &argv);\n+#ifndef PATH_MAX\n+# define PATH_MAX 4096\n+#endif\n \n-    for (n = 1; n < argc; ++n) {\n-        struct stat st;\n-        FILE *f;\n-        unsigned char *buf;\n-        size_t s;\n-\n-        stat(argv[n], &st);\n-        f = fopen(argv[n], \"rb\");\n-        if (f == NULL)\n-            continue;\n-        buf = malloc(st.st_size);\n+# if !defined(S_ISREG)\n+#   define S_ISREG(m) ((m) & S_IFREG)\n+# endif\n+\n+static void testfile(const char *pathname)\n+{\n+    struct stat st;\n+    FILE *f;\n+    unsigned char *buf;\n+    size_t s;\n+\n+    if (stat(pathname, &st) < 0 || !S_ISREG(st.st_mode))\n+        return;\n+    printf(\"# %s\\n\", pathname);\n+    fflush(stdout);\n+    f = fopen(pathname, \"rb\");\n+    if (f == NULL)\n+        return;\n+    buf = malloc(st.st_size);\n+    if (buf != NULL) {\n         s = fread(buf, 1, st.st_size, f);\n         OPENSSL_assert(s == (size_t)st.st_size);\n         FuzzerTestOneInput(buf, s);\n         free(buf);\n-        fclose(f);\n+    }\n+    fclose(f);\n+}\n+\n+int main(int argc, char **argv) {\n+    int n;\n+\n+    FuzzerInitialize(&argc, &argv);\n+\n+    for (n = 1; n < argc; ++n) {\n+        size_t dirname_len = strlen(argv[n]);\n+        const char *filename = NULL;\n+        char *pathname = NULL;\n+        OPENSSL_DIR_CTX *ctx = NULL;\n+        int wasdir = 0;\n+\n+        /*\n+         * We start with trying to read the given path as a directory.\n+         */\n+        while ((filename = OPENSSL_DIR_read(&ctx, argv[n])) != NULL) {\n+            wasdir = 1;\n+            if (pathname == NULL) {\n+                pathname = malloc(PATH_MAX);\n+                if (pathname == NULL)\n+                    break;\n+                strcpy(pathname, argv[n]);\n+#ifdef __VMS\n+                if (strchr(\":<]\", pathname[dirname_len - 1]) == NULL)\n+#endif\n+                    pathname[dirname_len++] = '/';\n+                pathname[dirname_len] = '\\0';\n+            }\n+            strcpy(pathname + dirname_len, filename);\n+            testfile(pathname);\n+        }\n+        OPENSSL_DIR_end(&ctx);\n+\n+        /* If it wasn't a directory, treat it as a file instead */\n+        if (!wasdir)\n+            testfile(argv[n]);\n+\n+        free(pathname);\n     }\n     return 0;\n }"
        },
        {
            "sha": "5f63860808b6d246ab8a55519e0075af242afb6a",
            "filename": "deps/openssl/openssl/include/internal/__DECC_INCLUDE_EPILOGUE.H",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_EPILOGUE.H?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,16 @@\n+/*\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+/*\n+ * This file is only used by HP C on VMS, and is included automatically\n+ * after each header file from this directory\n+ */\n+\n+/* restore state.  Must correspond to the save in __decc_include_prologue.h */\n+#pragma names restore"
        },
        {
            "sha": "78b2a87d8868315db8d83351b3e86ddcaab357a0",
            "filename": "deps/openssl/openssl/include/internal/__DECC_INCLUDE_PROLOGUE.H",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2F__DECC_INCLUDE_PROLOGUE.H?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,20 @@\n+/*\n+ * Copyright 2016-2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+/*\n+ * This file is only used by HP C on VMS, and is included automatically\n+ * after each header file from this directory\n+ */\n+\n+/* save state */\n+#pragma names save\n+/* have the compiler shorten symbols larger than 31 chars to 23 chars\n+ * followed by a 8 hex char CRC\n+ */\n+#pragma names as_is,shortened"
        },
        {
            "sha": "31931df3c2fff5969f09b47345fa3ece2866cc94",
            "filename": "deps/openssl/openssl/include/internal/numbers.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fnumbers.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fnumbers.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fnumbers.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -65,3 +65,4 @@\n # endif\n \n #endif\n+"
        },
        {
            "sha": "d538f8614f586457fe91a5f73cb76f3d35104c17",
            "filename": "deps/openssl/openssl/include/internal/sslconf.h",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fsslconf.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fsslconf.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Finternal%2Fsslconf.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -0,0 +1,20 @@\n+/*\n+ * Copyright 2018 The OpenSSL Project Authors. All Rights Reserved.\n+ *\n+ * Licensed under the OpenSSL license (the \"License\").  You may not use\n+ * this file except in compliance with the License.  You can obtain a copy\n+ * in the file LICENSE in the source distribution or at\n+ * https://www.openssl.org/source/license.html\n+ */\n+\n+#ifndef HEADER_SSLCONF_H\n+# define HEADER_SSLCONF_H\n+\n+typedef struct ssl_conf_cmd_st SSL_CONF_CMD;\n+\n+const SSL_CONF_CMD *conf_ssl_get(size_t idx, const char **name, size_t *cnt);\n+int conf_ssl_name_find(const char *name, size_t *idx);\n+void conf_ssl_get_cmd(const SSL_CONF_CMD *cmd, size_t idx, char **cmdstr,\n+                      char **arg);\n+\n+#endif"
        },
        {
            "sha": "d0b1099a4fafe60cf0725f5eb87b23e9b3eebd70",
            "filename": "deps/openssl/openssl/include/openssl/asn1.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fasn1.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fasn1.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fasn1.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -953,8 +953,10 @@ int ERR_load_ASN1_strings(void);\n # define ASN1_F_D2I_AUTOPRIVATEKEY                        207\n # define ASN1_F_D2I_PRIVATEKEY                            154\n # define ASN1_F_D2I_PUBLICKEY                             155\n+# define ASN1_F_DO_BUF                                    142\n # define ASN1_F_DO_TCREATE                                222\n # define ASN1_F_I2D_ASN1_BIO_STREAM                       211\n+# define ASN1_F_I2D_ASN1_OBJECT                           143\n # define ASN1_F_I2D_DSA_PUBKEY                            161\n # define ASN1_F_I2D_EC_PUBKEY                             181\n # define ASN1_F_I2D_PRIVATEKEY                            163"
        },
        {
            "sha": "3a72862561fafc924abae86006375e22bd3fa5cc",
            "filename": "deps/openssl/openssl/include/openssl/bio.h",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbio.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbio.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbio.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -730,26 +730,26 @@ __bio_h__attr__((__format__(__printf__, 3, 0)));\n \n BIO_METHOD *BIO_meth_new(int type, const char *name);\n void BIO_meth_free(BIO_METHOD *biom);\n-int (*BIO_meth_get_write(BIO_METHOD *biom)) (BIO *, const char *, int);\n+int (*BIO_meth_get_write(const BIO_METHOD *biom)) (BIO *, const char *, int);\n int BIO_meth_set_write(BIO_METHOD *biom,\n                        int (*write) (BIO *, const char *, int));\n-int (*BIO_meth_get_read(BIO_METHOD *biom)) (BIO *, char *, int);\n+int (*BIO_meth_get_read(const BIO_METHOD *biom)) (BIO *, char *, int);\n int BIO_meth_set_read(BIO_METHOD *biom,\n                       int (*read) (BIO *, char *, int));\n-int (*BIO_meth_get_puts(BIO_METHOD *biom)) (BIO *, const char *);\n+int (*BIO_meth_get_puts(const BIO_METHOD *biom)) (BIO *, const char *);\n int BIO_meth_set_puts(BIO_METHOD *biom,\n                       int (*puts) (BIO *, const char *));\n-int (*BIO_meth_get_gets(BIO_METHOD *biom)) (BIO *, char *, int);\n+int (*BIO_meth_get_gets(const BIO_METHOD *biom)) (BIO *, char *, int);\n int BIO_meth_set_gets(BIO_METHOD *biom,\n                       int (*gets) (BIO *, char *, int));\n-long (*BIO_meth_get_ctrl(BIO_METHOD *biom)) (BIO *, int, long, void *);\n+long (*BIO_meth_get_ctrl(const BIO_METHOD *biom)) (BIO *, int, long, void *);\n int BIO_meth_set_ctrl(BIO_METHOD *biom,\n                       long (*ctrl) (BIO *, int, long, void *));\n-int (*BIO_meth_get_create(BIO_METHOD *bion)) (BIO *);\n+int (*BIO_meth_get_create(const BIO_METHOD *bion)) (BIO *);\n int BIO_meth_set_create(BIO_METHOD *biom, int (*create) (BIO *));\n-int (*BIO_meth_get_destroy(BIO_METHOD *biom)) (BIO *);\n+int (*BIO_meth_get_destroy(const BIO_METHOD *biom)) (BIO *);\n int BIO_meth_set_destroy(BIO_METHOD *biom, int (*destroy) (BIO *));\n-long (*BIO_meth_get_callback_ctrl(BIO_METHOD *biom))\n+long (*BIO_meth_get_callback_ctrl(const BIO_METHOD *biom))\n                                  (BIO *, int, BIO_info_cb *);\n int BIO_meth_set_callback_ctrl(BIO_METHOD *biom,\n                                long (*callback_ctrl) (BIO *, int,"
        },
        {
            "sha": "301edd525062ca8feab4c1de027aad493bd61862",
            "filename": "deps/openssl/openssl/include/openssl/bn.h",
            "status": "modified",
            "additions": 70,
            "deletions": 19,
            "changes": 89,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbn.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbn.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fbn.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -119,25 +119,76 @@ void *BN_GENCB_get_arg(BN_GENCB *cb);\n                                  * on the size of the number */\n \n /*\n- * number of Miller-Rabin iterations for an error rate of less than 2^-80 for\n- * random 'b'-bit input, b >= 100 (taken from table 4.4 in the Handbook of\n- * Applied Cryptography [Menezes, van Oorschot, Vanstone; CRC Press 1996];\n- * original paper: Damgaard, Landrock, Pomerance: Average case error\n- * estimates for the strong probable prime test. -- Math. Comp. 61 (1993)\n- * 177-194)\n+ * BN_prime_checks_for_size() returns the number of Miller-Rabin iterations\n+ * that will be done for checking that a random number is probably prime. The\n+ * error rate for accepting a composite number as prime depends on the size of\n+ * the prime |b|. The error rates used are for calculating an RSA key with 2 primes,\n+ * and so the level is what you would expect for a key of double the size of the\n+ * prime.\n+ *\n+ * This table is generated using the algorithm of FIPS PUB 186-4\n+ * Digital Signature Standard (DSS), section F.1, page 117.\n+ * (https://dx.doi.org/10.6028/NIST.FIPS.186-4)\n+ *\n+ * The following magma script was used to generate the output:\n+ * securitybits:=125;\n+ * k:=1024;\n+ * for t:=1 to 65 do\n+ *   for M:=3 to Floor(2*Sqrt(k-1)-1) do\n+ *     S:=0;\n+ *     // Sum over m\n+ *     for m:=3 to M do\n+ *       s:=0;\n+ *       // Sum over j\n+ *       for j:=2 to m do\n+ *         s+:=(RealField(32)!2)^-(j+(k-1)/j);\n+ *       end for;\n+ *       S+:=2^(m-(m-1)*t)*s;\n+ *     end for;\n+ *     A:=2^(k-2-M*t);\n+ *     B:=8*(Pi(RealField(32))^2-6)/3*2^(k-2)*S;\n+ *     pkt:=2.00743*Log(2)*k*2^-k*(A+B);\n+ *     seclevel:=Floor(-Log(2,pkt));\n+ *     if seclevel ge securitybits then\n+ *       printf \"k: %5o, security: %o bits  (t: %o, M: %o)\\n\",k,seclevel,t,M;\n+ *       break;\n+ *     end if;\n+ *   end for;\n+ *   if seclevel ge securitybits then break; end if;\n+ * end for;\n+ *\n+ * It can be run online at:\n+ * http://magma.maths.usyd.edu.au/calc\n+ *\n+ * And will output:\n+ * k:  1024, security: 129 bits  (t: 6, M: 23)\n+ *\n+ * k is the number of bits of the prime, securitybits is the level we want to\n+ * reach.\n+ *\n+ * prime length | RSA key size | # MR tests | security level\n+ * -------------+--------------|------------+---------------\n+ *  (b) >= 6394 |     >= 12788 |          3 |        256 bit\n+ *  (b) >= 3747 |     >=  7494 |          3 |        192 bit\n+ *  (b) >= 1345 |     >=  2690 |          4 |        128 bit\n+ *  (b) >= 1080 |     >=  2160 |          5 |        128 bit\n+ *  (b) >=  852 |     >=  1704 |          5 |        112 bit\n+ *  (b) >=  476 |     >=   952 |          5 |         80 bit\n+ *  (b) >=  400 |     >=   800 |          6 |         80 bit\n+ *  (b) >=  347 |     >=   694 |          7 |         80 bit\n+ *  (b) >=  308 |     >=   616 |          8 |         80 bit\n+ *  (b) >=   55 |     >=   110 |         27 |         64 bit\n+ *  (b) >=    6 |     >=    12 |         34 |         64 bit\n  */\n-# define BN_prime_checks_for_size(b) ((b) >= 1300 ?  2 : \\\n-                                (b) >=  850 ?  3 : \\\n-                                (b) >=  650 ?  4 : \\\n-                                (b) >=  550 ?  5 : \\\n-                                (b) >=  450 ?  6 : \\\n-                                (b) >=  400 ?  7 : \\\n-                                (b) >=  350 ?  8 : \\\n-                                (b) >=  300 ?  9 : \\\n-                                (b) >=  250 ? 12 : \\\n-                                (b) >=  200 ? 15 : \\\n-                                (b) >=  150 ? 18 : \\\n-                                /* b >= 100 */ 27)\n+\n+# define BN_prime_checks_for_size(b) ((b) >= 3747 ?  3 : \\\n+                                (b) >=  1345 ?  4 : \\\n+                                (b) >=  476 ?  5 : \\\n+                                (b) >=  400 ?  6 : \\\n+                                (b) >=  347 ?  7 : \\\n+                                (b) >=  308 ?  8 : \\\n+                                (b) >=  55  ? 27 : \\\n+                                /* b >= 6 */ 34)\n \n # define BN_num_bytes(a) ((BN_num_bits(a)+7)/8)\n "
        },
        {
            "sha": "e0539e312884f0fb5c8381bd774b269d5455651c",
            "filename": "deps/openssl/openssl/include/openssl/conf.h",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fconf.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fconf.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fconf.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -191,6 +191,7 @@ int ERR_load_CONF_strings(void);\n # define CONF_F_NCONF_LOAD_BIO                            110\n # define CONF_F_NCONF_LOAD_FP                             114\n # define CONF_F_NCONF_NEW                                 111\n+# define CONF_F_SSL_MODULE_INIT                           123\n # define CONF_F_STR_COPY                                  101\n \n /* Reason codes. */\n@@ -206,6 +207,10 @@ int ERR_load_CONF_strings(void);\n # define CONF_R_NO_SECTION                                107\n # define CONF_R_NO_SUCH_FILE                              114\n # define CONF_R_NO_VALUE                                  108\n+# define CONF_R_SSL_COMMAND_SECTION_EMPTY                 117\n+# define CONF_R_SSL_COMMAND_SECTION_NOT_FOUND             118\n+# define CONF_R_SSL_SECTION_EMPTY                         119\n+# define CONF_R_SSL_SECTION_NOT_FOUND                     120\n # define CONF_R_UNABLE_TO_CREATE_NEW_SECTION              103\n # define CONF_R_UNKNOWN_MODULE_NAME                       113\n # define CONF_R_VARIABLE_EXPANSION_TOO_LONG               116"
        },
        {
            "sha": "fa3f12af3b2308bee4ef4e66327e1b8c31f46867",
            "filename": "deps/openssl/openssl/include/openssl/crypto.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fcrypto.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fcrypto.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fcrypto.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -371,7 +371,9 @@ int CRYPTO_memcmp(const volatile void * volatile in_a,\n # define OPENSSL_INIT_ENGINE_CAPI            0x00002000L\n # define OPENSSL_INIT_ENGINE_PADLOCK         0x00004000L\n # define OPENSSL_INIT_ENGINE_AFALG           0x00008000L\n-/* OPENSSL_INIT flag 0x00010000 reserved for internal use */\n+/* OPENSSL_INIT_ZLIB                         0x00010000L */\n+/* currently unused                          0x00020000L */\n+/* OPENSSL_INIT_BASE_ONLY                    0x00040000L */\n /* OPENSSL_INIT flag range 0xfff00000 reserved for OPENSSL_init_ssl() */\n /* Max OPENSSL_INIT flag value is 0x80000000 */\n "
        },
        {
            "sha": "8cf879e14fad11c4b14ca2374aaabc22b8fa9031",
            "filename": "deps/openssl/openssl/include/openssl/dh.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdh.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdh.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdh.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -187,7 +187,7 @@ void DH_meth_free(DH_METHOD *dhm);\n DH_METHOD *DH_meth_dup(const DH_METHOD *dhm);\n const char *DH_meth_get0_name(const DH_METHOD *dhm);\n int DH_meth_set1_name(DH_METHOD *dhm, const char *name);\n-int DH_meth_get_flags(DH_METHOD *dhm);\n+int DH_meth_get_flags(const DH_METHOD *dhm);\n int DH_meth_set_flags(DH_METHOD *dhm, int flags);\n void *DH_meth_get0_app_data(const DH_METHOD *dhm);\n int DH_meth_set0_app_data(DH_METHOD *dhm, void *app_data);"
        },
        {
            "sha": "3a7b1a626e1973449ae2b35e25fe96409c96865b",
            "filename": "deps/openssl/openssl/include/openssl/dsa.h",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdsa.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdsa.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fdsa.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -146,10 +146,12 @@ int DSAparams_print_fp(FILE *fp, const DSA *x);\n int DSA_print_fp(FILE *bp, const DSA *x, int off);\n # endif\n \n-# define DSS_prime_checks 50\n+# define DSS_prime_checks 64\n /*\n- * Primality test according to FIPS PUB 186[-1], Appendix 2.1: 50 rounds of\n- * Rabin-Miller\n+ * Primality test according to FIPS PUB 186-4, Appendix C.3. Since we only\n+ * have one value here we set the number of checks to 64 which is the 128 bit\n+ * security level that is the highest level and valid for creating a 3072 bit\n+ * DSA key.\n  */\n # define DSA_is_prime(n, callback, cb_arg) \\\n         BN_is_prime(n, DSS_prime_checks, callback, NULL, cb_arg)\n@@ -186,7 +188,7 @@ void DSA_meth_free(DSA_METHOD *dsam);\n DSA_METHOD *DSA_meth_dup(const DSA_METHOD *dsam);\n const char *DSA_meth_get0_name(const DSA_METHOD *dsam);\n int DSA_meth_set1_name(DSA_METHOD *dsam, const char *name);\n-int DSA_meth_get_flags(DSA_METHOD *dsam);\n+int DSA_meth_get_flags(const DSA_METHOD *dsam);\n int DSA_meth_set_flags(DSA_METHOD *dsam, int flags);\n void *DSA_meth_get0_app_data(const DSA_METHOD *dsam);\n int DSA_meth_set0_app_data(DSA_METHOD *dsam, void *app_data);\n@@ -260,6 +262,7 @@ int ERR_load_DSA_strings(void);\n # define DSA_F_DSA_SIG_NEW                                102\n # define DSA_F_OLD_DSA_PRIV_DECODE                        122\n # define DSA_F_PKEY_DSA_CTRL                              120\n+# define DSA_F_PKEY_DSA_CTRL_STR                          104\n # define DSA_F_PKEY_DSA_KEYGEN                            121\n \n /* Reason codes. */"
        },
        {
            "sha": "36e2934485aaa095af1dd64635dc4131ced93fa7",
            "filename": "deps/openssl/openssl/include/openssl/evp.h",
            "status": "modified",
            "additions": 17,
            "deletions": 14,
            "changes": 31,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fevp.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fevp.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fevp.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1351,42 +1351,42 @@ void EVP_PKEY_meth_set_ctrl(EVP_PKEY_METHOD *pmeth,\n                                              const char *type,\n                                              const char *value));\n \n-void EVP_PKEY_meth_get_init(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_init(const EVP_PKEY_METHOD *pmeth,\n                             int (**pinit) (EVP_PKEY_CTX *ctx));\n \n-void EVP_PKEY_meth_get_copy(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_copy(const EVP_PKEY_METHOD *pmeth,\n                             int (**pcopy) (EVP_PKEY_CTX *dst,\n                                            EVP_PKEY_CTX *src));\n \n-void EVP_PKEY_meth_get_cleanup(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_cleanup(const EVP_PKEY_METHOD *pmeth,\n                                void (**pcleanup) (EVP_PKEY_CTX *ctx));\n \n-void EVP_PKEY_meth_get_paramgen(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_paramgen(const EVP_PKEY_METHOD *pmeth,\n                                 int (**pparamgen_init) (EVP_PKEY_CTX *ctx),\n                                 int (**pparamgen) (EVP_PKEY_CTX *ctx,\n                                                    EVP_PKEY *pkey));\n \n-void EVP_PKEY_meth_get_keygen(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_keygen(const EVP_PKEY_METHOD *pmeth,\n                               int (**pkeygen_init) (EVP_PKEY_CTX *ctx),\n                               int (**pkeygen) (EVP_PKEY_CTX *ctx,\n                                                EVP_PKEY *pkey));\n \n-void EVP_PKEY_meth_get_sign(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_sign(const EVP_PKEY_METHOD *pmeth,\n                             int (**psign_init) (EVP_PKEY_CTX *ctx),\n                             int (**psign) (EVP_PKEY_CTX *ctx,\n                                            unsigned char *sig, size_t *siglen,\n                                            const unsigned char *tbs,\n                                            size_t tbslen));\n \n-void EVP_PKEY_meth_get_verify(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verify(const EVP_PKEY_METHOD *pmeth,\n                               int (**pverify_init) (EVP_PKEY_CTX *ctx),\n                               int (**pverify) (EVP_PKEY_CTX *ctx,\n                                                const unsigned char *sig,\n                                                size_t siglen,\n                                                const unsigned char *tbs,\n                                                size_t tbslen));\n \n-void EVP_PKEY_meth_get_verify_recover(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verify_recover(const EVP_PKEY_METHOD *pmeth,\n                                       int (**pverify_recover_init) (EVP_PKEY_CTX\n                                                                     *ctx),\n                                       int (**pverify_recover) (EVP_PKEY_CTX\n@@ -1398,45 +1398,45 @@ void EVP_PKEY_meth_get_verify_recover(EVP_PKEY_METHOD *pmeth,\n                                                                char *tbs,\n                                                                size_t tbslen));\n \n-void EVP_PKEY_meth_get_signctx(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_signctx(const EVP_PKEY_METHOD *pmeth,\n                                int (**psignctx_init) (EVP_PKEY_CTX *ctx,\n                                                       EVP_MD_CTX *mctx),\n                                int (**psignctx) (EVP_PKEY_CTX *ctx,\n                                                  unsigned char *sig,\n                                                  size_t *siglen,\n                                                  EVP_MD_CTX *mctx));\n \n-void EVP_PKEY_meth_get_verifyctx(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_verifyctx(const EVP_PKEY_METHOD *pmeth,\n                                  int (**pverifyctx_init) (EVP_PKEY_CTX *ctx,\n                                                           EVP_MD_CTX *mctx),\n                                  int (**pverifyctx) (EVP_PKEY_CTX *ctx,\n                                                      const unsigned char *sig,\n                                                      int siglen,\n                                                      EVP_MD_CTX *mctx));\n \n-void EVP_PKEY_meth_get_encrypt(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_encrypt(const EVP_PKEY_METHOD *pmeth,\n                                int (**pencrypt_init) (EVP_PKEY_CTX *ctx),\n                                int (**pencryptfn) (EVP_PKEY_CTX *ctx,\n                                                    unsigned char *out,\n                                                    size_t *outlen,\n                                                    const unsigned char *in,\n                                                    size_t inlen));\n \n-void EVP_PKEY_meth_get_decrypt(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_decrypt(const EVP_PKEY_METHOD *pmeth,\n                                int (**pdecrypt_init) (EVP_PKEY_CTX *ctx),\n                                int (**pdecrypt) (EVP_PKEY_CTX *ctx,\n                                                  unsigned char *out,\n                                                  size_t *outlen,\n                                                  const unsigned char *in,\n                                                  size_t inlen));\n \n-void EVP_PKEY_meth_get_derive(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_derive(const EVP_PKEY_METHOD *pmeth,\n                               int (**pderive_init) (EVP_PKEY_CTX *ctx),\n                               int (**pderive) (EVP_PKEY_CTX *ctx,\n                                                unsigned char *key,\n                                                size_t *keylen));\n \n-void EVP_PKEY_meth_get_ctrl(EVP_PKEY_METHOD *pmeth,\n+void EVP_PKEY_meth_get_ctrl(const EVP_PKEY_METHOD *pmeth,\n                             int (**pctrl) (EVP_PKEY_CTX *ctx, int type, int p1,\n                                            void *p2),\n                             int (**pctrl_str) (EVP_PKEY_CTX *ctx,\n@@ -1506,6 +1506,8 @@ int ERR_load_EVP_strings(void);\n # define EVP_F_EVP_PKEY_GET0_RSA                          121\n # define EVP_F_EVP_PKEY_KEYGEN                            146\n # define EVP_F_EVP_PKEY_KEYGEN_INIT                       147\n+# define EVP_F_EVP_PKEY_METH_ADD0                         172\n+# define EVP_F_EVP_PKEY_METH_NEW                          173\n # define EVP_F_EVP_PKEY_NEW                               106\n # define EVP_F_EVP_PKEY_PARAMGEN                          148\n # define EVP_F_EVP_PKEY_PARAMGEN_INIT                     149\n@@ -1570,6 +1572,7 @@ int ERR_load_EVP_strings(void);\n # define EVP_R_OPERATION_NOT_SUPPORTED_FOR_THIS_KEYTYPE   150\n # define EVP_R_OPERATON_NOT_INITIALIZED                   151\n # define EVP_R_PARTIALLY_OVERLAPPING                      162\n+# define EVP_R_PBKDF2_ERROR                               176\n # define EVP_R_PKEY_APPLICATION_ASN1_METHOD_ALREADY_REGISTERED 175\n # define EVP_R_PKEY_ASN1_METHOD_ALREADY_REGISTERED        164\n # define EVP_R_PRIVATE_KEY_DECODE_ERROR                   145"
        },
        {
            "sha": "8ecc5884842030e55ef5f1bc165ac379e3155a02",
            "filename": "deps/openssl/openssl/include/openssl/lhash.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Flhash.h",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Flhash.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Flhash.h?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 1995-2016 The OpenSSL Project Authors. All Rights Reserved.\n+ * Copyright 1995-2018 The OpenSSL Project Authors. All Rights Reserved.\n  *\n  * Licensed under the OpenSSL license (the \"License\").  You may not use\n  * this file except in compliance with the License.  You can obtain a copy\n@@ -95,7 +95,7 @@ void OPENSSL_LH_node_usage_stats_bio(const OPENSSL_LHASH *lh, BIO *out);\n #  define _LHASH OPENSSL_LHASH\n #  define LHASH_NODE OPENSSL_LH_NODE\n #  define lh_error OPENSSL_LH_error\n-#  define lh_new OPENSSL_lh_new\n+#  define lh_new OPENSSL_LH_new\n #  define lh_free OPENSSL_LH_free\n #  define lh_insert OPENSSL_LH_insert\n #  define lh_delete OPENSSL_LH_delete"
        },
        {
            "sha": "76c99d433ab886d1dc1990213b8765e25415da00",
            "filename": "deps/openssl/openssl/include/openssl/opensslconf.h",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h",
            "raw_url": "https://github.com/nodejs/node/raw/32902d09b43e9d7f19eb6178ef5db835652d97c1/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h?ref=32902d09b43e9d7f19eb6178ef5db835652d97c1",
            "patch": "@@ -1 +0,0 @@\n-#include \"../../config/opensslconf.h\""
        },
        {
            "sha": "17807fb6bd374cd3e7384629941c5391c99b624e",
            "filename": "deps/openssl/openssl/include/openssl/opensslconf.h.in",
            "status": "modified",
            "additions": 12,
            "deletions": 6,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h.in",
            "raw_url": "https://github.com/nodejs/node/raw/6090e1f54d8e6e8c4ba18091e19faf46c0b09ece/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h.in",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Finclude%2Fopenssl%2Fopensslconf.h.in?ref=6090e1f54d8e6e8c4ba18091e19faf46c0b09ece",
            "patch": "@@ -68,12 +68,18 @@ extern \"C\" {\n  * still won't see them if the library has been built to disable deprecated\n  * functions.\n  */\n-#if defined(OPENSSL_NO_DEPRECATED)\n-# define DECLARE_DEPRECATED(f)\n-#elif __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ > 0)\n-# define DECLARE_DEPRECATED(f)    f __attribute__ ((deprecated));\n-#else\n-# define DECLARE_DEPRECATED(f)   f;\n+#ifndef DECLARE_DEPRECATED\n+# if defined(OPENSSL_NO_DEPRECATED)\n+#  define DECLARE_DEPRECATED(f)\n+# else\n+#  define DECLARE_DEPRECATED(f)   f;\n+#  ifdef __GNUC__\n+#   if __GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ > 0)\n+#    undef DECLARE_DEPRECATED\n+#    define DECLARE_DEPRECATED(f)    f __attribute__ ((deprecated));\n+#   endif\n+#  endif\n+# endif\n #endif\n \n #ifndef OPENSSL_FILE"
        }
    ],
    "stats": {
        "total": 8931,
        "additions": 6034,
        "deletions": 2897
    }
}