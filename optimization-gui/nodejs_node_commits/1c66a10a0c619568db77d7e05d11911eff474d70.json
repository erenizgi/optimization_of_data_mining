{
    "author": "dhanushuUzumaki",
    "message": "test: update non-string header names should throw\n\nPR-URL: https://github.com/nodejs/node/pull/20172\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "1c66a10a0c619568db77d7e05d11911eff474d70",
    "files": [
        {
            "sha": "83dfcfa20bdb1e1ec9ede5a30c6961bbd3f7152e",
            "filename": "test/parallel/test-http-write-head.js",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/1c66a10a0c619568db77d7e05d11911eff474d70/test%2Fparallel%2Ftest-http-write-head.js",
            "raw_url": "https://github.com/nodejs/node/raw/1c66a10a0c619568db77d7e05d11911eff474d70/test%2Fparallel%2Ftest-http-write-head.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-write-head.js?ref=1c66a10a0c619568db77d7e05d11911eff474d70",
            "patch": "@@ -31,14 +31,15 @@ const s = http.createServer(common.mustCall((req, res) => {\n   res.setHeader('test', '1');\n \n   // toLowerCase() is used on the name argument, so it must be a string.\n-  let threw = false;\n-  try {\n-    res.setHeader(0xf00, 'bar');\n-  } catch (e) {\n-    assert.ok(e instanceof TypeError);\n-    threw = true;\n-  }\n-  assert.ok(threw, 'Non-string names should throw');\n+  // Non-String header names should throw\n+  common.expectsError(\n+    () => res.setHeader(0xf00, 'bar'),\n+    {\n+      code: 'ERR_INVALID_HTTP_TOKEN',\n+      type: TypeError,\n+      message: 'Header name must be a valid HTTP token [\"3840\"]'\n+    }\n+  );\n \n   // undefined value should throw, via 979d0ca8\n   common.expectsError("
        }
    ],
    "stats": {
        "total": 17,
        "additions": 9,
        "deletions": 8
    }
}