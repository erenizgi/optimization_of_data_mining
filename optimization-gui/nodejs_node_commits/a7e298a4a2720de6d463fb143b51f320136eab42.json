{
    "author": "danbev",
    "message": "src: init emit_env_nonstring_warning_\n\nCurrently there is no member initialiser for emit_env_nonstring_warning_\nin the Environment constructor leading to undefined behaviour.\nFor a debug build, this memory would be initialized:\n(lldb) memory read -f x -s 4 -c 1 &emit_env_nonstring_warning_\n0x7fff5fbfe254: 0x00000001\n\nBut for a release build there will be no such initialization:\n(lldb) memory read -f x -s 4 -c 1 `$r12 + 0x46c`\n0x7fff5fbfe374: 0x00000000\n\nThis can be seen by running test-process-env-deprecation.js using\nthe Debug build and the Release build.\n\nThis commit adds a member initialiser for emit_env_nonstring_warning_\nsetting it to true.\n\nPR-URL: https://github.com/nodejs/node/pull/19283\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "a7e298a4a2720de6d463fb143b51f320136eab42",
    "files": [
        {
            "sha": "7b42ebbea049b9b1f21c1f62a9e91a31a04fea77",
            "filename": "src/env.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/a7e298a4a2720de6d463fb143b51f320136eab42/src%2Fenv.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a7e298a4a2720de6d463fb143b51f320136eab42/src%2Fenv.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.cc?ref=a7e298a4a2720de6d463fb143b51f320136eab42",
            "patch": "@@ -96,6 +96,7 @@ Environment::Environment(IsolateData* isolate_data,\n       trace_sync_io_(false),\n       abort_on_uncaught_exception_(false),\n       emit_napi_warning_(true),\n+      emit_env_nonstring_warning_(true),\n       makecallback_cntr_(0),\n       should_abort_on_uncaught_toggle_(isolate_, 1),\n #if HAVE_INSPECTOR"
        }
    ],
    "stats": {
        "total": 1,
        "additions": 1,
        "deletions": 0
    }
}