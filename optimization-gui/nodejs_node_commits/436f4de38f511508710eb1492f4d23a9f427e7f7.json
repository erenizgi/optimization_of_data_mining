{
    "author": "mcollina",
    "message": "src: add kUInteger parsing\n\nThis commit adds support for uint64_t option parsing.\n\nPR-URL: https://github.com/nodejs/node/pull/24811\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Myles Borins <myles.borins@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Сковорода Никита Андреевич <chalkerx@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "436f4de38f511508710eb1492f4d23a9f427e7f7",
    "files": [
        {
            "sha": "fdec7bd09bd87ea70e8e48ec82b1405aa52731ce",
            "filename": "lib/internal/print_help.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/436f4de38f511508710eb1492f4d23a9f427e7f7/lib%2Finternal%2Fprint_help.js",
            "raw_url": "https://github.com/nodejs/node/raw/436f4de38f511508710eb1492f4d23a9f427e7f7/lib%2Finternal%2Fprint_help.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprint_help.js?ref=436f4de38f511508710eb1492f4d23a9f427e7f7",
            "patch": "@@ -69,6 +69,7 @@ function getArgDescription(type) {\n     case 'kHostPort':\n       return '[host:]port';\n     case 'kInteger':\n+    case 'kUInteger':\n     case 'kString':\n     case 'kStringList':\n       return '...';"
        },
        {
            "sha": "f482bcd36660edb46f09cba33555258210da993d",
            "filename": "src/node_options-inl.h",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options-inl.h",
            "raw_url": "https://github.com/nodejs/node/raw/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options-inl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_options-inl.h?ref=436f4de38f511508710eb1492f4d23a9f427e7f7",
            "patch": "@@ -39,6 +39,19 @@ void OptionsParser<Options>::AddOption(const std::string& name,\n                               help_text});\n }\n \n+template <typename Options>\n+void OptionsParser<Options>::AddOption(const std::string& name,\n+                                       const std::string& help_text,\n+                                       uint64_t Options::* field,\n+                                       OptionEnvvarSettings env_setting) {\n+  options_.emplace(\n+      name,\n+      OptionInfo{kUInteger,\n+                 std::make_shared<SimpleOptionField<uint64_t>>(field),\n+                 env_setting,\n+                 help_text});\n+}\n+\n template <typename Options>\n void OptionsParser<Options>::AddOption(const std::string& name,\n                                        const std::string& help_text,\n@@ -401,6 +414,9 @@ void OptionsParser<Options>::Parse(\n       case kInteger:\n         *Lookup<int64_t>(info.field, options) = std::atoll(value.c_str());\n         break;\n+      case kUInteger:\n+        *Lookup<uint64_t>(info.field, options) = std::stoull(value.c_str());\n+        break;\n       case kString:\n         *Lookup<std::string>(info.field, options) = value;\n         break;"
        },
        {
            "sha": "d4cc19eb021a382d6ebe77f860a529ba66b715b8",
            "filename": "src/node_options.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options.cc",
            "raw_url": "https://github.com/nodejs/node/raw/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_options.cc?ref=436f4de38f511508710eb1492f4d23a9f427e7f7",
            "patch": "@@ -429,6 +429,9 @@ void GetOptions(const FunctionCallbackInfo<Value>& args) {\n       case kInteger:\n         value = Number::New(isolate, *parser.Lookup<int64_t>(field, opts));\n         break;\n+      case kUInteger:\n+        value = Number::New(isolate, *parser.Lookup<uint64_t>(field, opts));\n+        break;\n       case kString:\n         if (!ToV8Value(context, *parser.Lookup<std::string>(field, opts))\n                  .ToLocal(&value)) {\n@@ -516,6 +519,7 @@ void Initialize(Local<Object> target,\n   NODE_DEFINE_CONSTANT(types, kV8Option);\n   NODE_DEFINE_CONSTANT(types, kBoolean);\n   NODE_DEFINE_CONSTANT(types, kInteger);\n+  NODE_DEFINE_CONSTANT(types, kUInteger);\n   NODE_DEFINE_CONSTANT(types, kString);\n   NODE_DEFINE_CONSTANT(types, kHostPort);\n   NODE_DEFINE_CONSTANT(types, kStringList);"
        },
        {
            "sha": "f5489900b45fd00aaccaf973bc719b789d7cce1b",
            "filename": "src/node_options.h",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options.h",
            "raw_url": "https://github.com/nodejs/node/raw/436f4de38f511508710eb1492f4d23a9f427e7f7/src%2Fnode_options.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_options.h?ref=436f4de38f511508710eb1492f4d23a9f427e7f7",
            "patch": "@@ -203,6 +203,7 @@ enum OptionType {\n   kV8Option,\n   kBoolean,\n   kInteger,\n+  kUInteger,\n   kString,\n   kHostPort,\n   kStringList,\n@@ -229,6 +230,10 @@ class OptionsParser {\n                  const std::string& help_text,\n                  bool Options::* field,\n                  OptionEnvvarSettings env_setting = kDisallowedInEnvironment);\n+  void AddOption(const std::string& name,\n+                 const std::string& help_text,\n+                 uint64_t Options::* field,\n+                 OptionEnvvarSettings env_setting = kDisallowedInEnvironment);\n   void AddOption(const std::string& name,\n                  const std::string& help_text,\n                  int64_t Options::* field,"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 26,
        "deletions": 0
    }
}