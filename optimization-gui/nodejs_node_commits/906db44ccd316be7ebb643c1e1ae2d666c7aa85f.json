{
    "author": "Trott",
    "message": "test,worker: refactor test-worker-cleanup-handles\n\n* alphabetize require() statements for built-in modules by module name\n* remove unused function argument `code` in callback\n* replace common.expectsError() with assert.throws()\n* remove unneeded line-wrap\n\nPR-URL: https://github.com/nodejs/node/pull/25401\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "906db44ccd316be7ebb643c1e1ae2d666c7aa85f",
    "files": [
        {
            "sha": "0ed3c747807b300c91e884dec8f9238e184b825a",
            "filename": "test/parallel/test-worker-cleanup-handles.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/906db44ccd316be7ebb643c1e1ae2d666c7aa85f/test%2Fparallel%2Ftest-worker-cleanup-handles.js",
            "raw_url": "https://github.com/nodejs/node/raw/906db44ccd316be7ebb643c1e1ae2d666c7aa85f/test%2Fparallel%2Ftest-worker-cleanup-handles.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-cleanup-handles.js?ref=906db44ccd316be7ebb643c1e1ae2d666c7aa85f",
            "patch": "@@ -1,9 +1,10 @@\n 'use strict';\n const common = require('../common');\n+\n const assert = require('assert');\n-const { Worker, isMainThread, parentPort } = require('worker_threads');\n-const { Server } = require('net');\n const fs = require('fs');\n+const { Server } = require('net');\n+const { Worker, isMainThread, parentPort } = require('worker_threads');\n \n if (isMainThread) {\n   const w = new Worker(__filename);\n@@ -12,14 +13,13 @@ if (isMainThread) {\n     assert.strictEqual(typeof fd_, 'number');\n     fd = fd_;\n   }));\n-  w.on('exit', common.mustCall((code) => {\n+  w.on('exit', common.mustCall(() => {\n     if (fd === -1) {\n       // This happens when server sockets donâ€™t have file descriptors,\n       // i.e. on Windows.\n       return;\n     }\n-    common.expectsError(() => fs.fstatSync(fd),\n-                        { code: 'EBADF' });\n+    assert.throws(() => fs.fstatSync(fd), { code: 'EBADF' });\n   }));\n } else {\n   const server = new Server();"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}