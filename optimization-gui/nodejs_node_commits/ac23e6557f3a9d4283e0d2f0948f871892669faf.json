{
    "author": "starkwang",
    "message": "buffer: move process.binding('buffer') to internalBinding\n\nPR-URL: https://github.com/nodejs/node/pull/22370\nRefs: https://github.com/nodejs/node/issues/22160\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "ac23e6557f3a9d4283e0d2f0948f871892669faf",
    "files": [
        {
            "sha": "af69f43735f26fef831bc1897bafc3a031946d59",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -36,7 +36,7 @@ const {\n   swap64: _swap64,\n   kMaxLength,\n   kStringMaxLength\n-} = process.binding('buffer');\n+} = internalBinding('buffer');\n const { isAnyArrayBuffer } = internalBinding('types');\n const {\n   customInspectSymbol,"
        },
        {
            "sha": "f53ed55dcadb4a0d46db70dea2484c77c39b989e",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -413,7 +413,8 @@\n         'url',\n         'spawn_sync',\n         'js_stream',\n-        'zlib']);\n+        'zlib',\n+        'buffer']);\n     process.binding = function binding(name) {\n       return internalBindingWhitelist.has(name) ?\n         internalBinding(name) :"
        },
        {
            "sha": "61bdced4d63a5896b1c1dde1c7949010ad77e32f",
            "filename": "lib/internal/buffer.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbuffer.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const binding = process.binding('buffer');\n+const binding = internalBinding('buffer');\n const {\n   ERR_BUFFER_OUT_OF_BOUNDS,\n   ERR_INVALID_ARG_TYPE,"
        },
        {
            "sha": "77eca99202d033759f19f6d543c4c48607e6c1c2",
            "filename": "lib/internal/encoding.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fencoding.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Fencoding.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fencoding.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -29,7 +29,7 @@ const {\n \n const {\n   encodeUtf8String\n-} = process.binding('buffer');\n+} = internalBinding('buffer');\n \n var Buffer;\n function lazyBuffer() {"
        },
        {
            "sha": "e8f1ed1a42ebce03ba8d512ecd25d9b97284f13a",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -20,7 +20,7 @@ const {\n   UV_EAI_NODATA,\n   UV_EAI_NONAME\n } = internalBinding('uv');\n-const { kMaxLength } = process.binding('buffer');\n+const { kMaxLength } = internalBinding('buffer');\n const { defineProperty } = Object;\n \n // Lazily loaded"
        },
        {
            "sha": "9adffea09a14c5b6ee5b27897c06889b018c1afc",
            "filename": "lib/internal/util/comparisons.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Futil%2Fcomparisons.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Finternal%2Futil%2Fcomparisons.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Fcomparisons.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const { compare } = process.binding('buffer');\n+const { compare } = internalBinding('buffer');\n const { isArrayBufferView } = require('internal/util/types');\n const {\n   isAnyArrayBuffer,"
        },
        {
            "sha": "b29304de5c08dcf70e76f3b6d9e180634030d970",
            "filename": "lib/v8.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Fv8.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/lib%2Fv8.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fv8.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -20,7 +20,7 @@ const {\n   Serializer: _Serializer,\n   Deserializer: _Deserializer\n } = internalBinding('serdes');\n-const { copy } = process.binding('buffer');\n+const { copy } = internalBinding('buffer');\n const { objectToString } = require('internal/util');\n const { FastBuffer } = require('internal/buffer');\n "
        },
        {
            "sha": "19841336e99a26a680444a9060b46a8bdcb518cd",
            "filename": "src/node_buffer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/src%2Fnode_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/src%2Fnode_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_buffer.cc?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1104,4 +1104,4 @@ void Initialize(Local<Object> target,\n }  // namespace Buffer\n }  // namespace node\n \n-NODE_BUILTIN_MODULE_CONTEXT_AWARE(buffer, node::Buffer::Initialize)\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(buffer, node::Buffer::Initialize)"
        },
        {
            "sha": "820f71ec9e7a01b3939c524a95bfbfc7aaf8f5aa",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-at-max.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-at-max.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-at-max.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-at-max.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -10,7 +12,7 @@ const assert = require('assert');\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "7f5a8347956e43e702f518e0d6b118fe79df6aae",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-ascii.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-ascii.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-ascii.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-ascii.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -9,7 +11,7 @@ const binding = require(`./build/${common.buildType}/binding`);\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "d7fe26814f7b24e51f92bb708d8375adc6103c0e",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-base64.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-base64.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-base64.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-base64.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -9,7 +11,7 @@ const binding = require(`./build/${common.buildType}/binding`);\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "7e75ba1246662c7e6398a4fd3924fd6e1940488a",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-binary.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-binary.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,7 +1,8 @@\n-// Flags: --expose-gc\n+// Flags: --expose-gc --expose-internals\n 'use strict';\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -11,7 +12,7 @@ const assert = require('assert');\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "57242399bb02b931d1d628b296af09d270606eb3",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-hex.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-hex.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-hex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-hex.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -9,7 +11,7 @@ const binding = require(`./build/${common.buildType}/binding`);\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "4a0908290c1926bbd34a5cd56a0327d381884a91",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-1-utf8.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-utf8.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-utf8.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-1-utf8.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -10,7 +12,7 @@ const assert = require('assert');\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "3c613a69fd3fcd8304d12405d521d36df8d5e5c5",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max-by-2.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-2.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-2.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max-by-2.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -10,7 +12,7 @@ const assert = require('assert');\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "be571c5059ef8ffbe4a1ed5667d8b1d543e8828f",
            "filename": "test/addons/stringbytes-external-exceed-max/test-stringbytes-external-exceed-max.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fstringbytes-external-exceed-max%2Ftest-stringbytes-external-exceed-max.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../../common');\n+const { internalBinding } = require('internal/test/binding');\n const skipMessage = 'intensive toString tests due to memory confinements';\n if (!common.enoughTestMem)\n   common.skip(skipMessage);\n@@ -9,7 +11,7 @@ const binding = require(`./build/${common.buildType}/binding`);\n \n // v8 fails silently if string length > v8::String::kMaxLength\n // v8::String::kMaxLength defined in v8.h\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n \n let buf;\n try {"
        },
        {
            "sha": "6a0a8adb7ae2b97f1b37640cdbb29436e90d576f",
            "filename": "test/parallel/test-buffer-fill.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-buffer-fill.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-buffer-fill.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-fill.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -3,6 +3,7 @@\n const common = require('../common');\n const assert = require('assert');\n const { codes: { ERR_OUT_OF_RANGE } } = require('internal/errors');\n+const { internalBinding } = require('internal/test/binding');\n const SIZE = 28;\n \n const buf1 = Buffer.allocUnsafe(SIZE);\n@@ -327,7 +328,7 @@ Buffer.alloc(8, '');\n // Testing process.binding. Make sure \"start\" is properly checked for -1 wrap\n // around.\n assert.strictEqual(\n-  process.binding('buffer').fill(Buffer.alloc(1), 1, -1, 0, 1), -2);\n+  internalBinding('buffer').fill(Buffer.alloc(1), 1, -1, 0, 1), -2);\n \n // Make sure \"end\" is properly checked, even if it's magically mangled using\n // Symbol.toPrimitive.\n@@ -365,7 +366,7 @@ assert.strictEqual(\n // Testing process.binding. Make sure \"end\" is properly checked for -1 wrap\n // around.\n assert.strictEqual(\n-  process.binding('buffer').fill(Buffer.alloc(1), 1, 1, -2, 1), -2);\n+  internalBinding('buffer').fill(Buffer.alloc(1), 1, 1, -2, 1), -2);\n \n // Test that bypassing 'length' won't cause an abort.\n common.expectsError(() => {"
        },
        {
            "sha": "7d5dcce0d40c6a2ed5ba7ebada08a82da1d4744a",
            "filename": "test/parallel/test-internal-errors.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-internal-errors.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-internal-errors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-internal-errors.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -5,6 +5,8 @@ const {\n   hijackStdout,\n   restoreStdout,\n } = require('../common/hijackstdio');\n+\n+const { internalBinding } = require('internal/test/binding');\n const assert = require('assert');\n const errors = require('internal/errors');\n \n@@ -183,7 +185,7 @@ assert.strictEqual(\n   'Invalid asyncId value: undefined');\n \n {\n-  const { kMaxLength } = process.binding('buffer');\n+  const { kMaxLength } = internalBinding('buffer');\n   const error = new errors.codes.ERR_BUFFER_TOO_LARGE();\n   assert.strictEqual(\n     error.message,"
        },
        {
            "sha": "9cd12b54ea0f8af1ee5f0f2f995c8f1cb800ce3b",
            "filename": "test/parallel/test-process-binding-internalbinding-whitelist.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-binding-internalbinding-whitelist.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -15,3 +15,4 @@ assert(process.binding('contextify'));\n assert(process.binding('url'));\n assert(process.binding('spawn_sync'));\n assert(process.binding('js_stream'));\n+assert(process.binding('buffer'));"
        },
        {
            "sha": "05bb0e6aa07d4176d1127c16d75bc414ffe1e43f",
            "filename": "test/parallel/test-process-binding.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-process-binding.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fparallel%2Ftest-process-binding.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-binding.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n require('../common');\n const assert = require('assert');\n+const { internalBinding } = require('internal/test/binding');\n \n assert.throws(\n   function() {\n@@ -9,4 +11,4 @@ assert.throws(\n   /No such module: test/\n );\n \n-process.binding('buffer');\n+internalBinding('buffer');"
        },
        {
            "sha": "8dcab75e0fb11981677d5de9b88b80c5070c5909",
            "filename": "test/sequential/test-fs-readfile-tostring-fail.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fsequential%2Ftest-fs-readfile-tostring-fail.js",
            "raw_url": "https://github.com/nodejs/node/raw/ac23e6557f3a9d4283e0d2f0948f871892669faf/test%2Fsequential%2Ftest-fs-readfile-tostring-fail.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-fs-readfile-tostring-fail.js?ref=ac23e6557f3a9d4283e0d2f0948f871892669faf",
            "patch": "@@ -1,6 +1,8 @@\n 'use strict';\n+// Flags: --expose-internals\n \n const common = require('../common');\n+const { internalBinding } = require('internal/test/binding');\n \n if (!common.enoughTestMem)\n   common.skip('intensive toString tests due to memory confinements');\n@@ -9,7 +11,7 @@ const assert = require('assert');\n const fs = require('fs');\n const path = require('path');\n const cp = require('child_process');\n-const kStringMaxLength = process.binding('buffer').kStringMaxLength;\n+const kStringMaxLength = internalBinding('buffer').kStringMaxLength;\n if (common.isAIX && (Number(cp.execSync('ulimit -f')) * 512) < kStringMaxLength)\n   common.skip('intensive toString tests due to file size confinements');\n "
        }
    ],
    "stats": {
        "total": 68,
        "additions": 46,
        "deletions": 22
    }
}