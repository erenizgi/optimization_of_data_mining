{
    "author": "bnoordhuis",
    "message": "src: move function from header to source file\n\nThis particular Buffer::New() overload used to live in node_internals.h\nto work around a cyclic header dependency (IIRC) but that is no longer\nnecessary.\n\nPR-URL: https://github.com/nodejs/node/pull/26173\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Yuta Hiroto <hello@hiroppy.me>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "24f3f1160659ebb83416a2c779abf9d0e87ed0d6",
    "files": [
        {
            "sha": "9fed15622e05d5adcaac9bd917b4723ce9d689d8",
            "filename": "src/node_buffer.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/24f3f1160659ebb83416a2c779abf9d0e87ed0d6/src%2Fnode_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/24f3f1160659ebb83416a2c779abf9d0e87ed0d6/src%2Fnode_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_buffer.cc?ref=24f3f1160659ebb83416a2c779abf9d0e87ed0d6",
            "patch": "@@ -234,6 +234,20 @@ size_t Length(Local<Object> obj) {\n }\n \n \n+inline MaybeLocal<Uint8Array> New(Environment* env,\n+                                  Local<ArrayBuffer> ab,\n+                                  size_t byte_offset,\n+                                  size_t length) {\n+  CHECK(!env->buffer_prototype_object().IsEmpty());\n+  Local<Uint8Array> ui = Uint8Array::New(ab, byte_offset, length);\n+  Maybe<bool> mb =\n+      ui->SetPrototype(env->context(), env->buffer_prototype_object());\n+  if (mb.IsNothing())\n+    return MaybeLocal<Uint8Array>();\n+  return ui;\n+}\n+\n+\n MaybeLocal<Object> New(Isolate* isolate,\n                        Local<String> string,\n                        enum encoding enc) {"
        },
        {
            "sha": "6f09708371b97cf767efb80ad6b3278131137d91",
            "filename": "src/node_internals.h",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/24f3f1160659ebb83416a2c779abf9d0e87ed0d6/src%2Fnode_internals.h",
            "raw_url": "https://github.com/nodejs/node/raw/24f3f1160659ebb83416a2c779abf9d0e87ed0d6/src%2Fnode_internals.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_internals.h?ref=24f3f1160659ebb83416a2c779abf9d0e87ed0d6",
            "patch": "@@ -128,20 +128,6 @@ v8::MaybeLocal<v8::Object> New(Environment* env,\n // Mixing operator new and free() is undefined behavior so don't do that.\n v8::MaybeLocal<v8::Object> New(Environment* env, char* data, size_t length);\n \n-inline\n-v8::MaybeLocal<v8::Uint8Array> New(Environment* env,\n-                                   v8::Local<v8::ArrayBuffer> ab,\n-                                   size_t byte_offset,\n-                                   size_t length) {\n-  v8::Local<v8::Uint8Array> ui = v8::Uint8Array::New(ab, byte_offset, length);\n-  CHECK(!env->buffer_prototype_object().IsEmpty());\n-  v8::Maybe<bool> mb =\n-      ui->SetPrototype(env->context(), env->buffer_prototype_object());\n-  if (mb.IsNothing())\n-    return v8::MaybeLocal<v8::Uint8Array>();\n-  return ui;\n-}\n-\n // Construct a Buffer from a MaybeStackBuffer (and also its subclasses like\n // Utf8Value and TwoByteValue).\n // If |buf| is invalidated, an empty MaybeLocal is returned, and nothing is"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 14,
        "deletions": 14
    }
}