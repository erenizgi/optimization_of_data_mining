{
    "author": "unknown",
    "message": "doc: fix filehandle.truncate() sample codes\n\nPR-URL: https://github.com/nodejs/node/pull/20913\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Rich Trott <rtrott@gmail.com>",
    "sha": "ac8226115e2192a7a46ba07789fa5136f74223e1",
    "files": [
        {
            "sha": "3242e10eaa20804b4b825a7bb0da97fab925580f",
            "filename": "doc/api/fs.md",
            "status": "modified",
            "additions": 20,
            "deletions": 4,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/ac8226115e2192a7a46ba07789fa5136f74223e1/doc%2Fapi%2Ffs.md",
            "raw_url": "https://github.com/nodejs/node/raw/ac8226115e2192a7a46ba07789fa5136f74223e1/doc%2Fapi%2Ffs.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ffs.md?ref=ac8226115e2192a7a46ba07789fa5136f74223e1",
            "patch": "@@ -3572,8 +3572,16 @@ console.log(fs.readFileSync('temp.txt', 'utf8'));\n // Prints: Node.js\n \n async function doTruncate() {\n-  const fd = await fsPromises.open('temp.txt', 'r+');\n-  await fsPromises.ftruncate(fd, 4);\n+  let filehandle = null;\n+  try {\n+    filehandle = await fsPromises.open('temp.txt', 'r+');\n+    await filehandle.truncate(4);\n+  } finally {\n+    if (filehandle) {\n+      // close the file if it is opened.\n+      await filehandle.close();\n+    }\n+  }\n   console.log(fs.readFileSync('temp.txt', 'utf8'));  // Prints: Node\n }\n \n@@ -3591,8 +3599,16 @@ console.log(fs.readFileSync('temp.txt', 'utf8'));\n // Prints: Node.js\n \n async function doTruncate() {\n-  const fd = await fsPromises.open('temp.txt', 'r+');\n-  await fsPromises.ftruncate(fd, 10);\n+  let filehandle = null;\n+  try {\n+    filehandle = await fsPromises.open('temp.txt', 'r+');\n+    await filehandle.truncate(10);\n+  } finally {\n+    if (filehandle) {\n+      // close the file if it is opened.\n+      await filehandle.close();\n+    }\n+  }\n   console.log(fs.readFileSync('temp.txt', 'utf8'));  // Prints Node.js\\0\\0\\0\n }\n "
        }
    ],
    "stats": {
        "total": 24,
        "additions": 20,
        "deletions": 4
    }
}