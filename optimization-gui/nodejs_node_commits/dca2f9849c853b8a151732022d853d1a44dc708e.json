{
    "author": "legendecas",
    "message": "test: properly extend process.env in child_process\n\nPR-URL: https://github.com/nodejs/node/pull/22430\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: George Adams <george.adams@uk.ibm.com>",
    "sha": "dca2f9849c853b8a151732022d853d1a44dc708e",
    "files": [
        {
            "sha": "2eec658872518aec9c216c15dc992c2a28134a4c",
            "filename": "test/parallel/test-child-process-env.js",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/dca2f9849c853b8a151732022d853d1a44dc708e/test%2Fparallel%2Ftest-child-process-env.js",
            "raw_url": "https://github.com/nodejs/node/raw/dca2f9849c853b8a151732022d853d1a44dc708e/test%2Fparallel%2Ftest-child-process-env.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-child-process-env.js?ref=dca2f9849c853b8a151732022d853d1a44dc708e",
            "patch": "@@ -26,23 +26,21 @@ const os = require('os');\n \n const spawn = require('child_process').spawn;\n \n-const env = {\n+const env = Object.assign({}, process.env, {\n   'HELLO': 'WORLD',\n   'UNDEFINED': undefined,\n   'NULL': null,\n   'EMPTY': ''\n-};\n+});\n Object.setPrototypeOf(env, {\n   'FOO': 'BAR'\n });\n \n let child;\n if (common.isWindows) {\n-  child = spawn('cmd.exe', ['/c', 'set'],\n-                Object.assign({}, process.env, { env }));\n+  child = spawn('cmd.exe', ['/c', 'set'], { env });\n } else {\n-  child = spawn('/usr/bin/env', [],\n-                Object.assign({}, process.env, { env }));\n+  child = spawn('/usr/bin/env', [], { env });\n }\n \n "
        }
    ],
    "stats": {
        "total": 10,
        "additions": 4,
        "deletions": 6
    }
}