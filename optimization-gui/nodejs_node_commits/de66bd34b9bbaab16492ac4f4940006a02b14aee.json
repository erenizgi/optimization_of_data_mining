{
    "author": "rvagg",
    "message": "deps: c-ares float, manual ares_ssize_t definition\n\nc-ares switched to using ares_ssize_t for platform-independent ssize_t,\nour GYP usage to include config/<platform>/ares_config.h causes problems\nwhen including gyp as a library in core, i.e. in env.h and cares_wrap.h,\nwhere the defines don't get pulled in properly. This, so far, is the\neasiest approach to just making it work nicely--explicitly defining\nares_ssize_t for the different Windows variants and ssize_t for\nnon-Windows where we don't have a configured type from an ares_config.h.\nIn all of our non-Windows platforms it is ssize_t anyway so this is\nsafe.\n\nPR-URL: https://github.com/nodejs/node/pull/15378\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\n\nPR-URL: https://github.com/nodejs/node/pull/19939\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>",
    "sha": "de66bd34b9bbaab16492ac4f4940006a02b14aee",
    "files": [
        {
            "sha": "f5535b38493fcb5478ac115e3d7f191d6cfb79a3",
            "filename": "deps/cares/include/ares_build.h",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/de66bd34b9bbaab16492ac4f4940006a02b14aee/deps%2Fcares%2Finclude%2Fares_build.h",
            "raw_url": "https://github.com/nodejs/node/raw/de66bd34b9bbaab16492ac4f4940006a02b14aee/deps%2Fcares%2Finclude%2Fares_build.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fcares%2Finclude%2Fares_build.h?ref=de66bd34b9bbaab16492ac4f4940006a02b14aee",
            "patch": "@@ -194,14 +194,16 @@\n /* Data type definition of ares_ssize_t. */\n #ifdef _WIN32\n #  ifdef _WIN64\n-#    define CARES_TYPEOF_ARES_SSIZE_T __int64\n+     typedef __int64 ares_ssize_t;\n #  else\n-#    define CARES_TYPEOF_ARES_SSIZE_T long\n+     typedef long ares_ssize_t;\n #  endif\n #else\n-#  define CARES_TYPEOF_ARES_SSIZE_T ssize_t\n+#  ifdef CARES_TYPEOF_ARES_SSIZE_T\n+     typedef CARES_TYPEOF_ARES_SSIZE_T ares_ssize_t;\n+#  else\n+     typedef ssize_t ares_ssize_t;\n+#  endif\n #endif\n \n-typedef CARES_TYPEOF_ARES_SSIZE_T ares_ssize_t;\n-\n #endif /* __CARES_BUILD_H */"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 7,
        "deletions": 5
    }
}