{
    "author": "danbev",
    "message": "test: remove destructor from node_test_fixture\n\nThis commit removes the destructor from node_test_fixture.h which calls\nthe TearDown function causing TearDown to be called twice. This also\nallows us to remove the check of the platform_ in TearDown.\n\nAlso the Setup/TearDown functions in AliasBufferTest are removed as they\nare not necessary.\n\nPR-URL: https://github.com/nodejs/node/pull/18524\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "83c93158fb0e979dbffb4a776d237da0db8f7b08",
    "files": [
        {
            "sha": "48642d594935148914e334a3733e9e6d022ca08c",
            "filename": "test/cctest/node_test_fixture.h",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/83c93158fb0e979dbffb4a776d237da0db8f7b08/test%2Fcctest%2Fnode_test_fixture.h",
            "raw_url": "https://github.com/nodejs/node/raw/83c93158fb0e979dbffb4a776d237da0db8f7b08/test%2Fcctest%2Fnode_test_fixture.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Fnode_test_fixture.h?ref=83c93158fb0e979dbffb4a776d237da0db8f7b08",
            "patch": "@@ -64,10 +64,6 @@ class NodeTestFixture : public ::testing::Test {\n  protected:\n   v8::Isolate* isolate_;\n \n-  ~NodeTestFixture() {\n-    TearDown();\n-  }\n-\n   virtual void SetUp() {\n     CHECK_EQ(0, uv_loop_init(&current_loop));\n     platform_ = new node::NodePlatform(8, nullptr);\n@@ -86,7 +82,6 @@ class NodeTestFixture : public ::testing::Test {\n   }\n \n   virtual void TearDown() {\n-    if (platform_ == nullptr) return;\n     platform_->Shutdown();\n     while (uv_loop_alive(&current_loop)) {\n       uv_run(&current_loop, UV_RUN_ONCE);"
        },
        {
            "sha": "0eaddf773555dbaf948486e676159ba9929ea010",
            "filename": "test/cctest/test_aliased_buffer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 10,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/83c93158fb0e979dbffb4a776d237da0db8f7b08/test%2Fcctest%2Ftest_aliased_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/83c93158fb0e979dbffb4a776d237da0db8f7b08/test%2Fcctest%2Ftest_aliased_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcctest%2Ftest_aliased_buffer.cc?ref=83c93158fb0e979dbffb4a776d237da0db8f7b08",
            "patch": "@@ -5,16 +5,7 @@\n \n using node::AliasedBuffer;\n \n-class AliasBufferTest : public NodeTestFixture {\n- protected:\n-  void SetUp() override {\n-    NodeTestFixture::SetUp();\n-  }\n-\n-  void TearDown() override {\n-    NodeTestFixture::TearDown();\n-  }\n-};\n+class AliasBufferTest : public NodeTestFixture {};\n \n template<class NativeT>\n void CreateOracleValues(NativeT* buf, size_t count) {"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 1,
        "deletions": 15
    }
}