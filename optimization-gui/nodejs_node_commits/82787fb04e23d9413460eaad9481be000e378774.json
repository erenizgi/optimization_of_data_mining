{
    "author": "danbev",
    "message": "src: remove trace_sync_io_ from env\n\nThis commit removes trace_sync_io_ and instead uses the options value\ndirectly.\n\nPR-URL: https://github.com/nodejs/node/pull/22726\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "82787fb04e23d9413460eaad9481be000e378774",
    "files": [
        {
            "sha": "508501909ab7ca37b85b5d077d4904a58c41731a",
            "filename": "src/env-inl.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv-inl.h",
            "raw_url": "https://github.com/nodejs/node/raw/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv-inl.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv-inl.h?ref=82787fb04e23d9413460eaad9481be000e378774",
            "patch": "@@ -416,7 +416,7 @@ inline void Environment::set_printed_error(bool value) {\n }\n \n inline void Environment::set_trace_sync_io(bool value) {\n-  trace_sync_io_ = value;\n+  options_->trace_sync_io = value;\n }\n \n inline bool Environment::abort_on_uncaught_exception() const {"
        },
        {
            "sha": "a2145ab46b9ffcb75d1b6714cc710eafdbc7c109",
            "filename": "src/env.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv.cc",
            "raw_url": "https://github.com/nodejs/node/raw/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.cc?ref=82787fb04e23d9413460eaad9481be000e378774",
            "patch": "@@ -132,7 +132,6 @@ Environment::Environment(IsolateData* isolate_data,\n       tick_info_(context->GetIsolate()),\n       timer_base_(uv_now(isolate_data->event_loop())),\n       printed_error_(false),\n-      trace_sync_io_(false),\n       abort_on_uncaught_exception_(false),\n       emit_env_nonstring_warning_(true),\n       makecallback_cntr_(0),\n@@ -351,7 +350,7 @@ void Environment::StopProfilerIdleNotifier() {\n }\n \n void Environment::PrintSyncTrace() const {\n-  if (!trace_sync_io_)\n+  if (!options_->trace_sync_io)\n     return;\n \n   HandleScope handle_scope(isolate());"
        },
        {
            "sha": "df5619450148f292430e06b963e7d5dae35d30dd",
            "filename": "src/env.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv.h",
            "raw_url": "https://github.com/nodejs/node/raw/82787fb04e23d9413460eaad9481be000e378774/src%2Fenv.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.h?ref=82787fb04e23d9413460eaad9481be000e378774",
            "patch": "@@ -913,7 +913,6 @@ class Environment {\n   TickInfo tick_info_;\n   const uint64_t timer_base_;\n   bool printed_error_;\n-  bool trace_sync_io_;\n   bool abort_on_uncaught_exception_;\n   bool emit_env_nonstring_warning_;\n   size_t makecallback_cntr_;"
        },
        {
            "sha": "f13e33330e7c649e9a8d98f5b365e0a51c4bc8a6",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/82787fb04e23d9413460eaad9481be000e378774/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/82787fb04e23d9413460eaad9481be000e378774/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=82787fb04e23d9413460eaad9481be000e378774",
            "patch": "@@ -3052,8 +3052,6 @@ inline int Start(Isolate* isolate, IsolateData* isolate_data,\n     env.async_hooks()->pop_async_id(1);\n   }\n \n-  env.set_trace_sync_io(env.options()->trace_sync_io);\n-\n   {\n     SealHandleScope seal(isolate);\n     bool more;"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 2,
        "deletions": 6
    }
}