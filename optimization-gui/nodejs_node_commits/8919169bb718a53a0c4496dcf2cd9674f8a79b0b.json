{
    "author": "addaleax",
    "message": "worker: export workerData to ESM workers\n\nFixes: https://github.com/nodejs/node/issues/25765\n\nPR-URL: https://github.com/nodejs/node/pull/25768\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "8919169bb718a53a0c4496dcf2cd9674f8a79b0b",
    "files": [
        {
            "sha": "2fe1a872464d199997502313b26172d731370c2a",
            "filename": "lib/worker_threads.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/lib%2Fworker_threads.js",
            "raw_url": "https://github.com/nodejs/node/raw/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/lib%2Fworker_threads.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fworker_threads.js?ref=8919169bb718a53a0c4496dcf2cd9674f8a79b0b",
            "patch": "@@ -17,5 +17,6 @@ module.exports = {\n   MessageChannel,\n   threadId,\n   Worker,\n-  parentPort: null\n+  parentPort: null,\n+  workerData: null,\n };"
        },
        {
            "sha": "1ec884aadb17087527e7475e93ed72e1c3a250b4",
            "filename": "test/fixtures/worker-data.mjs",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/test%2Ffixtures%2Fworker-data.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/test%2Ffixtures%2Fworker-data.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fworker-data.mjs?ref=8919169bb718a53a0c4496dcf2cd9674f8a79b0b",
            "patch": "@@ -0,0 +1,3 @@\n+import { workerData, parentPort } from 'worker_threads';\n+\n+parentPort.postMessage(workerData);"
        },
        {
            "sha": "c107730ea4bba2c55eeb7a318d9bcfa5f9cd7cf1",
            "filename": "test/parallel/test-worker-mjs-workerdata.js",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/test%2Fparallel%2Ftest-worker-mjs-workerdata.js",
            "raw_url": "https://github.com/nodejs/node/raw/8919169bb718a53a0c4496dcf2cd9674f8a79b0b/test%2Fparallel%2Ftest-worker-mjs-workerdata.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-mjs-workerdata.js?ref=8919169bb718a53a0c4496dcf2cd9674f8a79b0b",
            "patch": "@@ -0,0 +1,16 @@\n+'use strict';\n+const common = require('../common');\n+const fixtures = require('../common/fixtures');\n+const assert = require('assert');\n+const { Worker } = require('worker_threads');\n+\n+const workerData = 'Hello from main thread';\n+\n+const worker = new Worker(fixtures.path('worker-data.mjs'), {\n+  workerData,\n+  execArgv: ['--experimental-modules']\n+});\n+\n+worker.on('message', common.mustCall((message) => {\n+  assert.strictEqual(message, workerData);\n+}));"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 21,
        "deletions": 1
    }
}