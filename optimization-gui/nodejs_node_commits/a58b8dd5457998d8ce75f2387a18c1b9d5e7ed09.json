{
    "author": "joyeecheung",
    "message": "test: move test that depends on dns query to internet\n\nThese test cases in `test/parallel/test-dns-lookup.js` send\ndns requests and depend on the results, which could fail\nif the DNS service for invalid hosts is hijacked by the ISP.\n\nPR-URL: https://github.com/nodejs/node/pull/22516\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09",
    "files": [
        {
            "sha": "b84f80735fb866c33b1268d536be673df095aa4c",
            "filename": "test/internet/test-dns-lookup.js",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09/test%2Finternet%2Ftest-dns-lookup.js",
            "raw_url": "https://github.com/nodejs/node/raw/a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09/test%2Finternet%2Ftest-dns-lookup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Finternet%2Ftest-dns-lookup.js?ref=a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09",
            "patch": "@@ -0,0 +1,30 @@\n+'use strict';\n+\n+require('../common');\n+const dnsPromises = require('dns').promises;\n+const { addresses } = require('../common/internet');\n+const assert = require('assert');\n+\n+assert.rejects(\n+  dnsPromises.lookup(addresses.INVALID_HOST, {\n+    hints: 0,\n+    family: 0,\n+    all: false\n+  }),\n+  {\n+    code: 'ENOTFOUND',\n+    message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n+  }\n+);\n+\n+assert.rejects(\n+  dnsPromises.lookup(addresses.INVALID_HOST, {\n+    hints: 0,\n+    family: 0,\n+    all: true\n+  }),\n+  {\n+    code: 'ENOTFOUND',\n+    message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n+  }\n+);"
        },
        {
            "sha": "438dff0c396d5d12e5ae0e0103d01dc1f92aa78f",
            "filename": "test/parallel/test-dns-lookup.js",
            "status": "modified",
            "additions": 0,
            "deletions": 25,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09/test%2Fparallel%2Ftest-dns-lookup.js",
            "raw_url": "https://github.com/nodejs/node/raw/a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09/test%2Fparallel%2Ftest-dns-lookup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns-lookup.js?ref=a58b8dd5457998d8ce75f2387a18c1b9d5e7ed09",
            "patch": "@@ -1,7 +1,6 @@\n // Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n-const { addresses } = require('../common/internet');\n const assert = require('assert');\n const { internalBinding } = require('internal/test/binding');\n const cares = internalBinding('cares_wrap');\n@@ -95,30 +94,6 @@ common.expectsError(() => {\n     all: false\n   });\n   assert.deepStrictEqual(res, { address: '127.0.0.1', family: 4 });\n-\n-  assert.rejects(\n-    dnsPromises.lookup(addresses.INVALID_HOST, {\n-      hints: 0,\n-      family: 0,\n-      all: false\n-    }),\n-    {\n-      code: 'ENOTFOUND',\n-      message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n-    }\n-  );\n-\n-  assert.rejects(\n-    dnsPromises.lookup(addresses.INVALID_HOST, {\n-      hints: 0,\n-      family: 0,\n-      all: true\n-    }),\n-    {\n-      code: 'ENOTFOUND',\n-      message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n-    }\n-  );\n })();\n \n dns.lookup(false, {"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 30,
        "deletions": 25
    }
}