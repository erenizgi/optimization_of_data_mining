{
    "author": "yitongding",
    "message": "test: add crypto.scrypt test case with different encoding\n\nPR-URL: https://github.com/nodejs/node/pull/23578\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "6df946ce25726292159b2ee0b568f363f83b0ed2",
    "files": [
        {
            "sha": "55b5aeaf8ff06bed1af1f97e42a1b8046ce5149b",
            "filename": "test/parallel/test-crypto-scrypt.js",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6df946ce25726292159b2ee0b568f363f83b0ed2/test%2Fparallel%2Ftest-crypto-scrypt.js",
            "raw_url": "https://github.com/nodejs/node/raw/6df946ce25726292159b2ee0b568f363f83b0ed2/test%2Fparallel%2Ftest-crypto-scrypt.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-scrypt.js?ref=6df946ce25726292159b2ee0b568f363f83b0ed2",
            "patch": "@@ -189,6 +189,24 @@ for (const options of toobig) {\n   }));\n }\n \n+{\n+  const defaultEncoding = crypto.DEFAULT_ENCODING;\n+  const defaults = { N: 16384, p: 1, r: 8 };\n+  const expected = crypto.scryptSync('pass', 'salt', 1, defaults);\n+\n+  const testEncoding = 'latin1';\n+  crypto.DEFAULT_ENCODING = testEncoding;\n+  const actual = crypto.scryptSync('pass', 'salt', 1);\n+  assert.deepStrictEqual(actual, expected.toString(testEncoding));\n+\n+  crypto.scrypt('pass', 'salt', 1, common.mustCall((err, actual) => {\n+    assert.ifError(err);\n+    assert.deepStrictEqual(actual, expected.toString(testEncoding));\n+  }));\n+\n+  crypto.DEFAULT_ENCODING = defaultEncoding;\n+}\n+\n for (const { args, expected } of badargs) {\n   common.expectsError(() => crypto.scrypt(...args), expected);\n   common.expectsError(() => crypto.scryptSync(...args), expected);"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}