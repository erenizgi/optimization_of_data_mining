{
    "author": "targos",
    "message": "util: add boxed BigInt formatting to util.inspect\n\nBefore:\n\n> Object(7n)\nBigInt {}\n\nAfter:\n\n> Object(7n)\n[BigInt: 7n]\n\nPR-URL: https://github.com/nodejs/node/pull/19341\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "893432ad928e25854950c0b5c581dfb3081ed4bb",
    "files": [
        {
            "sha": "b9ad76f4ad3ebd8c3cad781104d7fdffcfa6e1c2",
            "filename": "lib/util.js",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/893432ad928e25854950c0b5c581dfb3081ed4bb/lib%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/893432ad928e25854950c0b5c581dfb3081ed4bb/lib%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Futil.js?ref=893432ad928e25854950c0b5c581dfb3081ed4bb",
            "patch": "@@ -580,6 +580,13 @@ function formatValue(ctx, value, recurseTimes, ln) {\n         if (keyLength === 0)\n           return ctx.stylize(`[Boolean: ${formatted}]`, 'boolean');\n         base = `[Boolean: ${formatted}]`;\n+        // eslint-disable-next-line valid-typeof\n+      } else if (typeof raw === 'bigint') {\n+        // Make boxed primitive BigInts look like such\n+        const formatted = formatPrimitive(stylizeNoColor, raw);\n+        if (keyLength === 0)\n+          return ctx.stylize(`[BigInt: ${formatted}]`, 'bigint');\n+        base = `[BigInt: ${formatted}]`;\n       } else if (typeof raw === 'symbol') {\n         const formatted = formatPrimitive(stylizeNoColor, raw);\n         return ctx.stylize(`[Symbol: ${formatted}]`, 'symbol');"
        },
        {
            "sha": "5e0233640e8313ce4b6d443cc9630ca51010f618",
            "filename": "test/parallel/test-util-inspect-bigint.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/893432ad928e25854950c0b5c581dfb3081ed4bb/test%2Fparallel%2Ftest-util-inspect-bigint.js",
            "raw_url": "https://github.com/nodejs/node/raw/893432ad928e25854950c0b5c581dfb3081ed4bb/test%2Fparallel%2Ftest-util-inspect-bigint.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inspect-bigint.js?ref=893432ad928e25854950c0b5c581dfb3081ed4bb",
            "patch": "@@ -8,3 +8,5 @@ const assert = require('assert');\n const { inspect } = require('util');\n \n assert.strictEqual(inspect(1n), '1n');\n+assert.strictEqual(inspect(Object(-1n)), '[BigInt: -1n]');\n+assert.strictEqual(inspect(Object(13n)), '[BigInt: 13n]');"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}