{
    "author": "addaleax",
    "message": "inspector: forward errors from InspectorConsoleCall\n\nDo not assume that entering JS cannot fail.\n\nPR-URL: https://github.com/nodejs/node/pull/26113\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Eugene Ostroukhov <eostroukhov@google.com>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "009efd0ec398455b7563020a684ef0c9f7f213a2",
    "files": [
        {
            "sha": "e94f42c18eb827eb800962e3531c8fd059b86e64",
            "filename": "src/inspector_js_api.cc",
            "status": "modified",
            "additions": 15,
            "deletions": 9,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/009efd0ec398455b7563020a684ef0c9f7f213a2/src%2Finspector_js_api.cc",
            "raw_url": "https://github.com/nodejs/node/raw/009efd0ec398455b7563020a684ef0c9f7f213a2/src%2Finspector_js_api.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Finspector_js_api.cc?ref=009efd0ec398455b7563020a684ef0c9f7f213a2",
            "patch": "@@ -158,16 +158,22 @@ void InspectorConsoleCall(const FunctionCallbackInfo<Value>& info) {\n     CHECK(config_value->IsObject());\n     Local<Object> config_object = config_value.As<Object>();\n     Local<String> in_call_key = FIXED_ONE_BYTE_STRING(isolate, \"in_call\");\n-    if (!config_object->Has(context, in_call_key).FromMaybe(false)) {\n-      CHECK(config_object->Set(context,\n-                               in_call_key,\n-                               v8::True(isolate)).FromJust());\n-      CHECK(!inspector_method.As<Function>()->Call(context,\n-                                                   info.Holder(),\n-                                                   call_args.length(),\n-                                                   call_args.out()).IsEmpty());\n+    bool has_in_call;\n+    if (!config_object->Has(context, in_call_key).To(&has_in_call))\n+      return;\n+    if (!has_in_call) {\n+      if (config_object->Set(context,\n+                             in_call_key,\n+                             v8::True(isolate)).IsNothing() ||\n+          inspector_method.As<Function>()->Call(context,\n+                                                info.Holder(),\n+                                                call_args.length(),\n+                                                call_args.out()).IsEmpty()) {\n+        return;\n+      }\n     }\n-    CHECK(config_object->Delete(context, in_call_key).FromJust());\n+    if (config_object->Delete(context, in_call_key).IsNothing())\n+      return;\n   }\n \n   Local<Value> node_method = info[1];"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 15,
        "deletions": 9
    }
}