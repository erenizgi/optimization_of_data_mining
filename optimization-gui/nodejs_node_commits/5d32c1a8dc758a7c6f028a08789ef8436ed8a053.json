{
    "author": "Trott",
    "message": "test: make url-util-format engine agnostic\n\ntest-util-format checks the message of an error that is\ngenerated by the JavaScript engine. Error messages that change in the\nunderlying JavaScript engine should not be breaking changes in Node.js\nand therefore should not cause tests to fail. Remove the message check\nand replace it with a check of the type of the Error object along with\nthe absence of a `code` property. (If a `code` property were present, it\nwould indicate that the error was coming from Node.js rather than the\nJavaScript engine.)\n\nThis also makes this test usable without modification in the ChakraCore\nfork of Node.js.\n\nPR-URL: https://github.com/nodejs/node/pull/21141\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "5d32c1a8dc758a7c6f028a08789ef8436ed8a053",
    "files": [
        {
            "sha": "a8adf9367199322bcf753132aded9aa423c2f538",
            "filename": "test/parallel/test-util-format.js",
            "status": "modified",
            "additions": 12,
            "deletions": 3,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/5d32c1a8dc758a7c6f028a08789ef8436ed8a053/test%2Fparallel%2Ftest-util-format.js",
            "raw_url": "https://github.com/nodejs/node/raw/5d32c1a8dc758a7c6f028a08789ef8436ed8a053/test%2Fparallel%2Ftest-util-format.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-format.js?ref=5d32c1a8dc758a7c6f028a08789ef8436ed8a053",
            "patch": "@@ -44,9 +44,18 @@ assert.strictEqual(util.format(symbol), 'Symbol(foo)');\n assert.strictEqual(util.format('foo', symbol), 'foo Symbol(foo)');\n assert.strictEqual(util.format('%s', symbol), 'Symbol(foo)');\n assert.strictEqual(util.format('%j', symbol), 'undefined');\n-assert.throws(function() {\n-  util.format('%d', symbol);\n-}, /^TypeError: Cannot convert a Symbol value to a number$/);\n+assert.throws(\n+  () => { util.format('%d', symbol); },\n+  (e) => {\n+    // The error should be a TypeError.\n+    if (!(e instanceof TypeError))\n+      return false;\n+\n+    // The error should be from the JS engine and not from Node.js.\n+    // JS engine errors do not have the `code` property.\n+    return e.code === undefined;\n+  }\n+);\n \n // Number format specifier\n assert.strictEqual(util.format('%d'), '%d');"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 12,
        "deletions": 3
    }
}