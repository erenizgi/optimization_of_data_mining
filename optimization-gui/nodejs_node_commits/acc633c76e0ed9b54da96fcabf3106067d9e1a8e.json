{
    "author": "Flarna",
    "message": "doc: correct crypto.randomFill() and randomFillSync()\n\nCorrect return type of `crypto.randomFillSync()` which is of same type as\npassed as `buffer` argument.\n\nCorrect samples for `randomFill()` and `randomFillSync()` using a `TypeArray`\nor `DataView` as these types don't support `.toString(encoding)`.\n\nPR-URL: https://github.com/nodejs/node/pull/21550\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "acc633c76e0ed9b54da96fcabf3106067d9e1a8e",
    "files": [
        {
            "sha": "f870a5be98d7feac6a2f51b05f02fabc52f5c8b8",
            "filename": "doc/api/crypto.md",
            "status": "modified",
            "additions": 13,
            "deletions": 7,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/acc633c76e0ed9b54da96fcabf3106067d9e1a8e/doc%2Fapi%2Fcrypto.md",
            "raw_url": "https://github.com/nodejs/node/raw/acc633c76e0ed9b54da96fcabf3106067d9e1a8e/doc%2Fapi%2Fcrypto.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fcrypto.md?ref=acc633c76e0ed9b54da96fcabf3106067d9e1a8e",
            "patch": "@@ -2035,7 +2035,7 @@ changes:\n * `buffer` {Buffer|TypedArray|DataView} Must be supplied.\n * `offset` {number} **Default:** `0`\n * `size` {number} **Default:** `buffer.length - offset`\n-* Returns: {Buffer}\n+* Returns: {Buffer|TypedArray|DataView} The object passed as `buffer` argument.\n \n Synchronous version of [`crypto.randomFill()`][].\n \n@@ -2055,13 +2055,16 @@ Any `TypedArray` or `DataView` instance may be passed as `buffer`.\n \n ```js\n const a = new Uint32Array(10);\n-console.log(crypto.randomFillSync(a).toString('hex'));\n+console.log(Buffer.from(crypto.randomFillSync(a).buffer,\n+                        a.byteOffset, a.byteLength).toString('hex'));\n \n const b = new Float64Array(10);\n-console.log(crypto.randomFillSync(b).toString('hex'));\n+console.log(Buffer.from(crypto.randomFillSync(b).buffer,\n+                        b.byteOffset, b.byteLength).toString('hex'));\n \n const c = new DataView(new ArrayBuffer(10));\n-console.log(crypto.randomFillSync(c).toString('hex'));\n+console.log(Buffer.from(crypto.randomFillSync(c).buffer,\n+                        c.byteOffset, c.byteLength).toString('hex'));\n ```\n \n ### crypto.randomFill(buffer[, offset][, size], callback)\n@@ -2109,19 +2112,22 @@ Any `TypedArray` or `DataView` instance may be passed as `buffer`.\n const a = new Uint32Array(10);\n crypto.randomFill(a, (err, buf) => {\n   if (err) throw err;\n-  console.log(buf.toString('hex'));\n+  console.log(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength)\n+    .toString('hex'));\n });\n \n const b = new Float64Array(10);\n crypto.randomFill(b, (err, buf) => {\n   if (err) throw err;\n-  console.log(buf.toString('hex'));\n+  console.log(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength)\n+    .toString('hex'));\n });\n \n const c = new DataView(new ArrayBuffer(10));\n crypto.randomFill(c, (err, buf) => {\n   if (err) throw err;\n-  console.log(buf.toString('hex'));\n+  console.log(Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength)\n+    .toString('hex'));\n });\n ```\n "
        }
    ],
    "stats": {
        "total": 20,
        "additions": 13,
        "deletions": 7
    }
}