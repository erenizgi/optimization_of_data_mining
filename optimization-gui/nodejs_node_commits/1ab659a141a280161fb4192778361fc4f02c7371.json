{
    "author": "BridgeAR",
    "message": "util: simpler module namespace code\n\nThis removes a special casing for this data type in the main function.\n\nPR-URL: https://github.com/nodejs/node/pull/25255\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "1ab659a141a280161fb4192778361fc4f02c7371",
    "files": [
        {
            "sha": "8516755fa21fc68b937321e6b06cb2c37217ddbb",
            "filename": "lib/internal/util/inspect.js",
            "status": "modified",
            "additions": 7,
            "deletions": 10,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/1ab659a141a280161fb4192778361fc4f02c7371/lib%2Finternal%2Futil%2Finspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/1ab659a141a280161fb4192778361fc4f02c7371/lib%2Finternal%2Futil%2Finspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Finspect.js?ref=1ab659a141a280161fb4192778361fc4f02c7371",
            "patch": "@@ -557,7 +557,6 @@ function formatRaw(ctx, value, recurseTimes, typedArray) {\n   let braces;\n   let noIterator = true;\n   let i = 0;\n-  let skip = false;\n   const filter = ctx.showHidden ? ALL_PROPERTIES : ONLY_ENUMERABLE;\n \n   let extrasType = kObjectType;\n@@ -701,7 +700,6 @@ function formatRaw(ctx, value, recurseTimes, typedArray) {\n     } else if (isModuleNamespaceObject(value)) {\n       braces[0] = `[${tag}] {`;\n       formatter = formatNamespaceObject;\n-      skip = true;\n     } else if (isBoxedPrimitive(value)) {\n       let type;\n       if (isNumberObject(value)) {\n@@ -761,11 +759,9 @@ function formatRaw(ctx, value, recurseTimes, typedArray) {\n   const indentationLvl = ctx.indentationLvl;\n   try {\n     output = formatter(ctx, value, recurseTimes, keys);\n-    if (skip === false) {\n-      for (i = 0; i < keys.length; i++) {\n-        output.push(\n-          formatProperty(ctx, value, recurseTimes, keys[i], extrasType));\n-      }\n+    for (i = 0; i < keys.length; i++) {\n+      output.push(\n+        formatProperty(ctx, value, recurseTimes, keys[i], extrasType));\n     }\n   } catch (err) {\n     return handleMaxCallStackSize(ctx, err, constructor, tag, indentationLvl);\n@@ -875,9 +871,8 @@ function formatError(value) {\n }\n \n function formatNamespaceObject(ctx, value, recurseTimes, keys) {\n-  const len = keys.length;\n-  const output = new Array(len);\n-  for (var i = 0; i < len; i++) {\n+  const output = new Array(keys.length);\n+  for (var i = 0; i < keys.length; i++) {\n     try {\n       output[i] = formatProperty(ctx, value, recurseTimes, keys[i],\n                                  kObjectType);\n@@ -897,6 +892,8 @@ function formatNamespaceObject(ctx, value, recurseTimes, keys) {\n                   ctx.stylize('<uninitialized>', 'special');\n     }\n   }\n+  // Reset the keys to an empty array. This prevents duplicated inspection.\n+  keys.length = 0;\n   return output;\n }\n "
        }
    ],
    "stats": {
        "total": 17,
        "additions": 7,
        "deletions": 10
    }
}