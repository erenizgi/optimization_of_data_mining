{
    "author": "BridgeAR",
    "message": "doc: document asserts Weak(Map|Set) behavior\n\nRight now it is not documentated that WeakMap entries are not\ncompared. This might result in some confusion. This adds a note\nabout the behavior in `assert.deepStrictEqual`. This documentation\nis also references in `util.isDeepStrictEqual`, so we do not have\nto document it again for that function as the underlying algorithm\nis the same.\n\nPR-URL: https://github.com/nodejs/node/pull/18248\nFixes: https://github.com/nodejs/node/issues/18228\nRefs: https://github.com/nodejs/node/pull/18228\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "936eea5099bb5ab31b76ef22fcf15baed0cdf5ab",
    "files": [
        {
            "sha": "dc9a9026951500de40428821178adddc9fb24eee",
            "filename": "doc/api/assert.md",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/936eea5099bb5ab31b76ef22fcf15baed0cdf5ab/doc%2Fapi%2Fassert.md",
            "raw_url": "https://github.com/nodejs/node/raw/936eea5099bb5ab31b76ef22fcf15baed0cdf5ab/doc%2Fapi%2Fassert.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fassert.md?ref=936eea5099bb5ab31b76ef22fcf15baed0cdf5ab",
            "patch": "@@ -249,6 +249,8 @@ are recursively evaluated also by the following rules.\n * Map keys and Set items are compared unordered.\n * Recursion stops when both sides differ or both sides encounter a circular\n   reference.\n+* [`WeakMap`][] and [`WeakSet`][] comparison does not rely on their values. See\n+  below for further details.\n \n ```js\n const assert = require('assert').strict;\n@@ -290,6 +292,16 @@ assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol1]: 1 });\n // OK, because it is the same symbol on both objects.\n assert.deepStrictEqual({ [symbol1]: 1 }, { [symbol2]: 1 });\n // Fails because symbol1 !== symbol2!\n+\n+const weakMap1 = new WeakMap();\n+const weakMap2 = new WeakMap([[{}, {}]]);\n+const weakMap3 = new WeakMap();\n+weakMap3.unequal = true;\n+\n+assert.deepStrictEqual(weakMap1, weakMap2);\n+// OK, because it is impossible to compare the entries\n+assert.deepStrictEqual(weakMap1, weakMap3);\n+// Fails because weakMap3 has a property that weakMap1 does not contain!\n ```\n \n If the values are not equal, an `AssertionError` is thrown with a `message`\n@@ -920,6 +932,8 @@ second argument. This might lead to difficult-to-spot errors.\n [`Set`]: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Set\n [`Symbol`]: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Symbol\n [`TypeError`]: errors.html#errors_class_typeerror\n+[`WeakMap`]: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\n+[`WeakSet`]: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\n [`assert.deepEqual()`]: #assert_assert_deepequal_actual_expected_message\n [`assert.deepStrictEqual()`]: #assert_assert_deepstrictequal_actual_expected_message\n [`assert.notDeepStrictEqual()`]: #assert_assert_notdeepstrictequal_actual_expected_message"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 14,
        "deletions": 0
    }
}