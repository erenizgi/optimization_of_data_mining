{
    "author": "refack",
    "message": "build,win: always build with PCH\n\nPR-URL: https://github.com/nodejs/node/pull/25931\nReviewed-By: Jo√£o Reis <reis@janeasystems.com>",
    "sha": "ff4adab78c5237a89cb207d9be7e5e81398fe640",
    "files": [
        {
            "sha": "079ebb1f0a91b9489a853377a149f7b3854a6629",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/ff4adab78c5237a89cb207d9be7e5e81398fe640/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/ff4adab78c5237a89cb207d9be7e5e81398fe640/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=ff4adab78c5237a89cb207d9be7e5e81398fe640",
            "patch": "@@ -19,7 +19,6 @@\n     'node_use_bundled_v8%': 'true',\n     'node_module_version%': '',\n     'node_with_ltcg%': '',\n-    'node_use_pch%': 'false',\n     'node_shared_openssl%': 'false',\n \n     'node_tag%': '',\n@@ -38,7 +37,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.12',\n+    'v8_embedder_string': '-node.13',\n \n     ##### V8 defaults for Node.js #####\n "
        },
        {
            "sha": "74fffa9b2e991859a027fb397530c5eba30b9c15",
            "filename": "configure.py",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/ff4adab78c5237a89cb207d9be7e5e81398fe640/configure.py",
            "raw_url": "https://github.com/nodejs/node/raw/ff4adab78c5237a89cb207d9be7e5e81398fe640/configure.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/configure.py?ref=ff4adab78c5237a89cb207d9be7e5e81398fe640",
            "patch": "@@ -448,11 +448,6 @@\n     dest='with_ltcg',\n     help='Use Link Time Code Generation. This feature is only available on Windows.')\n \n-parser.add_option('--with-pch',\n-    action='store_true',\n-    dest='with_pch',\n-    help='Use Precompiled Headers (only available on Windows).')\n-\n intl_optgroup.add_option('--download',\n     action='store',\n     dest='download_list',\n@@ -1070,11 +1065,6 @@ def configure_node(o):\n   if flavor != 'win' and options.with_ltcg:\n     raise Exception('Link Time Code Generation is only supported on Windows.')\n \n-  if flavor == 'win':\n-    o['variables']['node_use_pch'] = b(options.with_pch)\n-  else:\n-    o['variables']['node_use_pch'] = 'false'\n-\n   if options.tag:\n     o['variables']['node_tag'] = '-' + options.tag\n   else:"
        },
        {
            "sha": "857ff0ecece3a865fd1a21c96970eb47f53a3a25",
            "filename": "deps/v8/gypfiles/v8.gyp",
            "status": "modified",
            "additions": 4,
            "deletions": 13,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/ff4adab78c5237a89cb207d9be7e5e81398fe640/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/ff4adab78c5237a89cb207d9be7e5e81398fe640/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fv8.gyp?ref=ff4adab78c5237a89cb207d9be7e5e81398fe640",
            "patch": "@@ -365,7 +365,7 @@\n             },\n           },\n         ],\n-        ['OS==\"win\" and node_use_pch == \"true\"', {\n+        ['OS==\"win\"', {\n           'msvs_precompiled_header': '../../../tools/msvs/pch/v8_pch.h',\n           'msvs_precompiled_source': '../../../tools/msvs/pch/v8_pch.cc',\n           'sources': [\n@@ -1936,20 +1936,11 @@\n         }],\n         ['OS==\"win\"', {\n           'msvs_disabled_warnings': [4351, 4355, 4800],\n-          'conditions': [\n-            ['node_use_pch != \"true\"', {\n-              # When building Official, the .lib is too large and exceeds the 2G\n-              # limit. This breaks it into multiple pieces to avoid the limit.\n-              # See http://crbug.com/485155.\n-              'msvs_shard': 4,\n-            }, {\n               'msvs_precompiled_header': '../../../tools/msvs/pch/v8_pch.h',\n               'msvs_precompiled_source': '../../../tools/msvs/pch/v8_pch.cc',\n-              'sources': [\n-                '<(_msvs_precompiled_header)',\n-                '<(_msvs_precompiled_source)',\n-              ],\n-            }],\n+          'sources': [\n+            '<(_msvs_precompiled_header)',\n+            '<(_msvs_precompiled_source)',\n           ],\n           # This will prevent V8's .cc files conflicting with the inspector's\n           # .cpp files in the same shard."
        },
        {
            "sha": "f528a2082ea48d8f0c792194a379d2e1e0f8d1e1",
            "filename": "node.gypi",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/ff4adab78c5237a89cb207d9be7e5e81398fe640/node.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/ff4adab78c5237a89cb207d9be7e5e81398fe640/node.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gypi?ref=ff4adab78c5237a89cb207d9be7e5e81398fe640",
            "patch": "@@ -65,16 +65,14 @@\n         'NOMINMAX',\n         '_UNICODE=1',\n       ],\n-    }, { # POSIX\n-      'defines': [ '__POSIX__' ],\n-    }],\n-    [ 'node_use_pch==\"true\"', {\n       'msvs_precompiled_header': 'tools/msvs/pch/node_pch.h',\n       'msvs_precompiled_source': 'tools/msvs/pch/node_pch.cc',\n       'sources': [\n         '<(_msvs_precompiled_header)',\n         '<(_msvs_precompiled_source)',\n       ],\n+    }, { # POSIX\n+      'defines': [ '__POSIX__' ],\n     }],\n     [ 'node_enable_d8==\"true\"', {\n       'dependencies': [ 'deps/v8/gypfiles/d8.gyp:d8' ],"
        },
        {
            "sha": "92e20d0f05b9482a95756b116d25faea9afbb1c5",
            "filename": "vcbuild.bat",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/ff4adab78c5237a89cb207d9be7e5e81398fe640/vcbuild.bat",
            "raw_url": "https://github.com/nodejs/node/raw/ff4adab78c5237a89cb207d9be7e5e81398fe640/vcbuild.bat",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/vcbuild.bat?ref=ff4adab78c5237a89cb207d9be7e5e81398fe640",
            "patch": "@@ -16,7 +16,6 @@ set config=Release\n set target=Build\n set target_arch=x64\n set ltcg=\n-set pch=1\n set target_env=\n set noprojgen=\n set projgen=\n@@ -63,7 +62,7 @@ set doc=\n :next-arg\n if \"%1\"==\"\" goto args-done\n if /i \"%1\"==\"debug\"         set config=Debug&goto arg-ok\n-if /i \"%1\"==\"release\"       set config=Release&set ltcg=1&set \"pch=\"&set cctest=1&goto arg-ok\n+if /i \"%1\"==\"release\"       set config=Release&set ltcg=1&set cctest=1&goto arg-ok\n if /i \"%1\"==\"clean\"         set target=Clean&goto arg-ok\n if /i \"%1\"==\"ia32\"          set target_arch=x86&goto arg-ok\n if /i \"%1\"==\"x86\"           set target_arch=x86&goto arg-ok\n@@ -77,7 +76,6 @@ if /i \"%1\"==\"sign\"          set sign=1&goto arg-ok\n if /i \"%1\"==\"nosnapshot\"    set nosnapshot=1&goto arg-ok\n if /i \"%1\"==\"noetw\"         set noetw=1&goto arg-ok\n if /i \"%1\"==\"ltcg\"          set ltcg=1&goto arg-ok\n-if /i \"%1\"==\"nopch\"         set \"pch=\"&goto arg-ok\n if /i \"%1\"==\"licensertf\"    set licensertf=1&goto arg-ok\n if /i \"%1\"==\"test\"          set test_args=%test_args% -J %common_test_suites%&set lint_cpp=1&set lint_js=1&set lint_md=1&goto arg-ok\n if /i \"%1\"==\"test-ci\"       set test_args=%test_args% %test_ci_args% -p tap --logfile test.tap %common_test_suites%&set cctest_args=%cctest_args% --gtest_output=tap:cctest.tap&goto arg-ok\n@@ -158,7 +156,6 @@ if defined build_release (\n   set projgen=1\n   set cctest=1\n   set ltcg=1\n-  set \"pch=\"\n )\n \n if defined msi     set stage_package=1\n@@ -174,7 +171,6 @@ if \"%config%\"==\"Debug\"      set configure_flags=%configure_flags% --debug\n if defined nosnapshot       set configure_flags=%configure_flags% --without-snapshot\n if defined noetw            set configure_flags=%configure_flags% --without-etw& set noetw_msi_arg=/p:NoETW=1\n if defined ltcg             set configure_flags=%configure_flags% --with-ltcg\n-if defined pch              set configure_flags=%configure_flags% --with-pch\n if defined release_urlbase  set configure_flags=%configure_flags% --release-urlbase=%release_urlbase%\n if defined download_arg     set configure_flags=%configure_flags% %download_arg%\n if defined enable_vtune_arg set configure_flags=%configure_flags% --enable-vtune-profiling\n@@ -670,7 +666,7 @@ del .used_configure_flags\n goto exit\n \n :help\n-echo vcbuild.bat [debug/release] [msi] [doc] [test/test-ci/test-all/test-addons/test-js-native-api/test-node-api/test-benchmark/test-internet/test-pummel/test-simple/test-message/test-tick-processor/test-known-issues/test-node-inspect/test-check-deopts/test-npm/test-async-hooks/test-v8/test-v8-intl/test-v8-benchmarks/test-v8-all] [ignore-flaky] [static/dll] [noprojgen] [projgen] [small-icu/full-icu/without-intl] [nobuild] [nosnapshot] [noetw] [ltcg] [nopch] [licensetf] [sign] [ia32/x86/x64] [vs2017] [download-all] [enable-vtune] [lint/lint-ci/lint-js/lint-js-ci/lint-md] [lint-md-build] [package] [build-release] [upload] [no-NODE-OPTIONS] [link-module path-to-module] [debug-http2] [debug-nghttp2] [clean] [cctest] [no-cctest] [openssl-no-asm]\n+echo vcbuild.bat [debug/release] [msi] [doc] [test/test-ci/test-all/test-addons/test-js-native-api/test-node-api/test-benchmark/test-internet/test-pummel/test-simple/test-message/test-tick-processor/test-known-issues/test-node-inspect/test-check-deopts/test-npm/test-async-hooks/test-v8/test-v8-intl/test-v8-benchmarks/test-v8-all] [ignore-flaky] [static/dll] [noprojgen] [projgen] [small-icu/full-icu/without-intl] [nobuild] [nosnapshot] [noetw] [ltcg] [licensetf] [sign] [ia32/x86/x64] [vs2017] [download-all] [enable-vtune] [lint/lint-ci/lint-js/lint-js-ci/lint-md] [lint-md-build] [package] [build-release] [upload] [no-NODE-OPTIONS] [link-module path-to-module] [debug-http2] [debug-nghttp2] [clean] [cctest] [no-cctest] [openssl-no-asm]\n echo Examples:\n echo   vcbuild.bat                          : builds release build\n echo   vcbuild.bat debug                    : builds debug build"
        }
    ],
    "stats": {
        "total": 44,
        "additions": 9,
        "deletions": 35
    }
}