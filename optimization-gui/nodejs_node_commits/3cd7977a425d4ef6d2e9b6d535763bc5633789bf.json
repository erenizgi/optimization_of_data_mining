{
    "author": "BridgeAR",
    "message": "assert: use a default message in assert\n\nIn case no arguments are passed to `assert.ok` it should just\nuse a default message. Otherwise `assert.ok` can not be used as\na callback.\n\nPR-URL: https://github.com/nodejs/node/pull/18319\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "3cd7977a425d4ef6d2e9b6d535763bc5633789bf",
    "files": [
        {
            "sha": "09ea4483d1cdd81ce8b36690262c5a08b1a2f0c4",
            "filename": "doc/api/assert.md",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/doc%2Fapi%2Fassert.md",
            "raw_url": "https://github.com/nodejs/node/raw/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/doc%2Fapi%2Fassert.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fassert.md?ref=3cd7977a425d4ef6d2e9b6d535763bc5633789bf",
            "patch": "@@ -692,9 +692,8 @@ parameter is an instance of an [`Error`][] then it will be thrown instead of the\n added: v0.1.21\n changes:\n   - version: REPLACEME\n-    pr-url: https://github.com/nodejs/node/pull/17581\n-    description: assert.ok() will throw a `ERR_MISSING_ARGS` error.\n-                 Use assert.fail() instead.\n+    pr-url: https://github.com/nodejs/node/pull/REPLACEME\n+    description: assert.ok() (no arguments) will now use a predefined error msg.\n -->\n * `value` {any}\n * `message` {any}\n@@ -707,6 +706,8 @@ property set equal to the value of the `message` parameter. If the `message`\n parameter is `undefined`, a default error message is assigned. If the `message`\n parameter is an instance of an [`Error`][] then it will be thrown instead of the\n `AssertionError`.\n+If no arguments are passed in at all `message` will be set to the string:\n+\"No value argument passed to assert.ok\".\n \n Be aware that in the `repl` the error message will be different to the one\n thrown in a file! See below for further details.\n@@ -719,6 +720,10 @@ assert.ok(true);\n assert.ok(1);\n // OK\n \n+assert.ok();\n+// throws:\n+// \"AssertionError: No value argument passed to `assert.ok`.\n+\n assert.ok(false, 'it\\'s false');\n // throws \"AssertionError: it's false\"\n "
        },
        {
            "sha": "8c38cfcd7a58a82f6674fc63c2827b1a552673e1",
            "filename": "lib/assert.js",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/lib%2Fassert.js",
            "raw_url": "https://github.com/nodejs/node/raw/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/lib%2Fassert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fassert.js?ref=3cd7977a425d4ef6d2e9b6d535763bc5633789bf",
            "patch": "@@ -137,11 +137,10 @@ function getBuffer(fd, assertLine) {\n function innerOk(args, fn) {\n   var [value, message] = args;\n \n-  if (args.length === 0)\n-    throw new TypeError('ERR_MISSING_ARGS', 'value');\n-\n   if (!value) {\n-    if (message == null) {\n+    if (args.length === 0) {\n+      message = 'No value argument passed to `assert.ok()`';\n+    } else if (message == null) {\n       // Use the call as error message if possible.\n       // This does not work with e.g. the repl.\n       const err = new Error();"
        },
        {
            "sha": "b61df45b46f66be9c75bc12cbec397611dfda971",
            "filename": "test/parallel/test-assert.js",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/test%2Fparallel%2Ftest-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/3cd7977a425d4ef6d2e9b6d535763bc5633789bf/test%2Fparallel%2Ftest-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert.js?ref=3cd7977a425d4ef6d2e9b6d535763bc5633789bf",
            "patch": "@@ -733,18 +733,18 @@ common.expectsError(\n   assert.equal(assert.notDeepEqual, assert.notDeepStrictEqual);\n   assert.equal(Object.keys(assert).length, Object.keys(a).length);\n   assert(7);\n-  common.expectsError(\n-    () => assert(),\n+  assert.throws(\n+    () => assert(...[]),\n     {\n-      code: 'ERR_MISSING_ARGS',\n-      type: TypeError\n+      message: 'No value argument passed to `assert.ok()`',\n+      name: 'AssertionError [ERR_ASSERTION]'\n     }\n   );\n-  common.expectsError(\n+  assert.throws(\n     () => a(),\n     {\n-      code: 'ERR_MISSING_ARGS',\n-      type: TypeError\n+      message: 'No value argument passed to `assert.ok()`',\n+      name: 'AssertionError [ERR_ASSERTION]'\n     }\n   );\n "
        }
    ],
    "stats": {
        "total": 32,
        "additions": 18,
        "deletions": 14
    }
}