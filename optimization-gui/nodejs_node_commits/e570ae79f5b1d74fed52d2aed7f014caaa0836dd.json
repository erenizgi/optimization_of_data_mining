{
    "author": "maclover7",
    "message": "lib: extract validateString validator\n\nPulls out a common argument validator to `internal/validators`\n\nPR-URL: https://github.com/nodejs/node/pull/22101\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
    "files": [
        {
            "sha": "7fe4e2133b46a5717b2cd9bf476ae9c83141621b",
            "filename": "lib/_http_outgoing.js",
            "status": "modified",
            "additions": 4,
            "deletions": 10,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2F_http_outgoing.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2F_http_outgoing.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_outgoing.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -45,6 +45,7 @@ const {\n   ERR_STREAM_CANNOT_PIPE,\n   ERR_STREAM_WRITE_AFTER_END\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n \n const { CRLF, debug } = common;\n \n@@ -480,9 +481,7 @@ OutgoingMessage.prototype.setHeader = function setHeader(name, value) {\n \n \n OutgoingMessage.prototype.getHeader = function getHeader(name) {\n-  if (typeof name !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-  }\n+  validateString(name, 'name');\n \n   const headers = this[outHeadersKey];\n   if (headers === null)\n@@ -516,19 +515,14 @@ OutgoingMessage.prototype.getHeaders = function getHeaders() {\n \n \n OutgoingMessage.prototype.hasHeader = function hasHeader(name) {\n-  if (typeof name !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-  }\n-\n+  validateString(name, 'name');\n   return this[outHeadersKey] !== null &&\n     !!this[outHeadersKey][name.toLowerCase()];\n };\n \n \n OutgoingMessage.prototype.removeHeader = function removeHeader(name) {\n-  if (typeof name !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-  }\n+  validateString(name, 'name');\n \n   if (this._header) {\n     throw new ERR_HTTP_HEADERS_SENT('remove');"
        },
        {
            "sha": "3f2a2cc52dd1ac94da3a7a79bfffde985a6e29c8",
            "filename": "lib/_tls_wrap.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2F_tls_wrap.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2F_tls_wrap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_tls_wrap.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -51,6 +51,7 @@ const {\n   ERR_TLS_SESSION_ATTACK,\n   ERR_TLS_SNI_FROM_SERVER\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const kConnectOptions = Symbol('connect-options');\n const kDisableRenegotiation = Symbol('disable-renegotiation');\n const kErrorEmitted = Symbol('error-emitted');\n@@ -646,9 +647,7 @@ TLSSocket.prototype._start = function() {\n };\n \n TLSSocket.prototype.setServername = function(name) {\n-  if (typeof name !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-  }\n+  validateString(name, 'name');\n \n   if (this._tlsOptions.isServer) {\n     throw new ERR_TLS_SNI_FROM_SERVER();"
        },
        {
            "sha": "7d160707415a4437b59527af53c3a3f60f7f0cea",
            "filename": "lib/async_hooks.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fasync_hooks.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fasync_hooks.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fasync_hooks.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -2,9 +2,9 @@\n \n const {\n   ERR_ASYNC_CALLBACK,\n-  ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_ASYNC_ID\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const internal_async_hooks = require('internal/async_hooks');\n \n // Get functions\n@@ -140,8 +140,7 @@ function showEmitBeforeAfterWarning() {\n \n class AsyncResource {\n   constructor(type, opts = {}) {\n-    if (typeof type !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('type', 'string', type);\n+    validateString(type, 'type');\n \n     if (typeof opts === 'number') {\n       opts = { triggerAsyncId: opts, requireManualDestroy: false };"
        },
        {
            "sha": "398357c6845568914c5b0faf5cc932ffb6f7d709",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -69,6 +69,7 @@ const {\n   ERR_NO_LONGER_SUPPORTED,\n   ERR_UNKNOWN_ENCODING\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n \n const internalBuffer = require('internal/buffer');\n \n@@ -841,9 +842,7 @@ function _fill(buf, val, start, end, encoding) {\n \n     const normalizedEncoding = normalizeEncoding(encoding);\n     if (normalizedEncoding === undefined) {\n-      if (typeof encoding !== 'string') {\n-        throw new ERR_INVALID_ARG_TYPE('encoding', 'string', encoding);\n-      }\n+      validateString(encoding, 'encoding');\n       throw new ERR_UNKNOWN_ENCODING(encoding);\n     }\n "
        },
        {
            "sha": "8460a732d9bf4309ef495c00a9fa4abf74036c53",
            "filename": "lib/child_process.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fchild_process.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -37,6 +37,7 @@ const {\n   ERR_INVALID_OPT_VALUE,\n   ERR_OUT_OF_RANGE\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const child_process = require('internal/child_process');\n const {\n   _validateStdio,\n@@ -390,8 +391,7 @@ function _convertCustomFds(options) {\n }\n \n function normalizeSpawnArguments(file, args, options) {\n-  if (typeof file !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('file', 'string', file);\n+  validateString(file, 'file');\n \n   if (file.length === 0)\n     throw new ERR_INVALID_ARG_VALUE('file', file, 'cannot be empty');"
        },
        {
            "sha": "bc94321117a0115e35e36440ca2254e82c008f92",
            "filename": "lib/dgram.js",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fdgram.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fdgram.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdgram.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -39,6 +39,7 @@ const {\n   ERR_SOCKET_DGRAM_NOT_RUNNING,\n   ERR_INVALID_FD_TYPE\n } = errors.codes;\n+const { validateString } = require('internal/validators');\n const { Buffer } = require('buffer');\n const util = require('util');\n const { isUint8Array } = require('internal/util/types');\n@@ -322,9 +323,7 @@ Socket.prototype.sendto = function(buffer,\n     throw new ERR_INVALID_ARG_TYPE('port', 'number', port);\n   }\n \n-  if (typeof address !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('address', 'string', address);\n-  }\n+  validateString(address, 'address');\n \n   this.send(buffer, offset, length, port, address, callback);\n };\n@@ -623,11 +622,7 @@ Socket.prototype.setMulticastLoopback = function(arg) {\n \n Socket.prototype.setMulticastInterface = function(interfaceAddress) {\n   healthCheck(this);\n-\n-  if (typeof interfaceAddress !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE(\n-      'interfaceAddress', 'string', interfaceAddress);\n-  }\n+  validateString(interfaceAddress, 'interfaceAddress');\n \n   const err = this[kStateSymbol].handle.setMulticastInterface(interfaceAddress);\n   if (err) {"
        },
        {
            "sha": "7059ed91ddccc7ec2911685cacdf6265011d2256",
            "filename": "lib/dns.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fdns.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fdns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdns.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -39,6 +39,7 @@ const {\n   ERR_MISSING_ARGS,\n   ERR_SOCKET_BAD_PORT\n } = errors.codes;\n+const { validateString } = require('internal/validators');\n \n const {\n   GetAddrInfoReqWrap,\n@@ -206,9 +207,8 @@ function resolver(bindingName) {\n       callback = arguments[2];\n     }\n \n-    if (typeof name !== 'string') {\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-    } else if (typeof callback !== 'function') {\n+    validateString(name, 'name');\n+    if (typeof callback !== 'function') {\n       throw new ERR_INVALID_CALLBACK();\n     }\n "
        },
        {
            "sha": "8827158757e1266b86aeb6f8c505cc62b8689fd3",
            "filename": "lib/inspector.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finspector.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finspector.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finspector.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -9,6 +9,7 @@ const {\n   ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_CALLBACK\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const util = require('util');\n const { Connection, open, url } = process.binding('inspector');\n const { originalConsole } = require('internal/process/per_thread');\n@@ -58,9 +59,7 @@ class Session extends EventEmitter {\n   }\n \n   post(method, params, callback) {\n-    if (typeof method !== 'string') {\n-      throw new ERR_INVALID_ARG_TYPE('method', 'string', method);\n-    }\n+    validateString(method, 'method');\n     if (!callback && util.isFunction(params)) {\n       callback = params;\n       params = null;"
        },
        {
            "sha": "32568aa31128a6adba2e11cd8fea0a6210efe2df",
            "filename": "lib/internal/child_process.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fchild_process.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -14,6 +14,7 @@ const {\n     ERR_MISSING_ARGS\n   }\n } = require('internal/errors');\n+const { validateString } = require('internal/validators');\n const EventEmitter = require('events');\n const net = require('net');\n const dgram = require('dgram');\n@@ -318,9 +319,7 @@ ChildProcess.prototype.spawn = function(options) {\n     options.envPairs.push('NODE_CHANNEL_FD=' + ipcFd);\n   }\n \n-  if (typeof options.file !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('options.file', 'string', options.file);\n-  }\n+  validateString(options.file, 'options.file');\n   this.spawnfile = options.file;\n \n   if (Array.isArray(options.args))"
        },
        {
            "sha": "a37d8044d895b817e1c229f0452d96944c597a5c",
            "filename": "lib/internal/crypto/cipher.js",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fcipher.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -10,6 +10,7 @@ const {\n   ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_OPT_VALUE\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n \n const {\n   getDefaultEncoding,\n@@ -83,9 +84,7 @@ function createCipherBase(cipher, credential, options, decipher, iv) {\n }\n \n function createCipher(cipher, password, options, decipher) {\n-  if (typeof cipher !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('cipher', 'string', cipher);\n-\n+  validateString(cipher, 'cipher');\n   password = toBuf(password);\n   if (!isArrayBufferView(password)) {\n     throw new ERR_INVALID_ARG_TYPE(\n@@ -99,9 +98,7 @@ function createCipher(cipher, password, options, decipher) {\n }\n \n function createCipherWithIV(cipher, key, options, decipher, iv) {\n-  if (typeof cipher !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('cipher', 'string', cipher);\n-\n+  validateString(cipher, 'cipher');\n   key = toBuf(key);\n   if (!isArrayBufferView(key)) {\n     throw new ERR_INVALID_ARG_TYPE("
        },
        {
            "sha": "1daf5df905f8ac860974f56478647d666d554c57",
            "filename": "lib/internal/crypto/diffiehellman.js",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -6,6 +6,7 @@ const {\n   ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY,\n   ERR_INVALID_ARG_TYPE\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const { isArrayBufferView } = require('internal/util/types');\n const {\n   getDefaultEncoding,\n@@ -167,9 +168,7 @@ function ECDH(curve) {\n   if (!(this instanceof ECDH))\n     return new ECDH(curve);\n \n-  if (typeof curve !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('curve', 'string', curve);\n-\n+  validateString(curve, 'curve');\n   this._handle = new _ECDH(curve);\n }\n \n@@ -200,9 +199,7 @@ ECDH.convertKey = function convertKey(key, curve, inEnc, outEnc, format) {\n     );\n   }\n \n-  if (typeof curve !== 'string') {\n-    throw new ERR_INVALID_ARG_TYPE('curve', 'string', curve);\n-  }\n+  validateString(curve, 'curve');\n \n   const encoding = getDefaultEncoding();\n   inEnc = inEnc || encoding;"
        },
        {
            "sha": "7127d4d7efb17a2a72f72bc531d0cc72258b65a5",
            "filename": "lib/internal/crypto/hash.js",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fhash.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fhash.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fhash.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -18,6 +18,7 @@ const {\n   ERR_CRYPTO_HASH_UPDATE_FAILED,\n   ERR_INVALID_ARG_TYPE\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const { inherits } = require('util');\n const { normalizeEncoding } = require('internal/util');\n const { isArrayBufferView } = require('internal/util/types');\n@@ -28,8 +29,7 @@ const kFinalized = Symbol('finalized');\n function Hash(algorithm, options) {\n   if (!(this instanceof Hash))\n     return new Hash(algorithm, options);\n-  if (typeof algorithm !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string', algorithm);\n+  validateString(algorithm, 'algorithm');\n   this._handle = new _Hash(algorithm);\n   this[kState] = {\n     [kFinalized]: false\n@@ -83,8 +83,7 @@ Hash.prototype.digest = function digest(outputEncoding) {\n function Hmac(hmac, key, options) {\n   if (!(this instanceof Hmac))\n     return new Hmac(hmac, key, options);\n-  if (typeof hmac !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('hmac', 'string', hmac);\n+  validateString(hmac, 'hmac');\n   if (typeof key !== 'string' && !isArrayBufferView(key)) {\n     throw new ERR_INVALID_ARG_TYPE('key',\n                                    ['string', 'TypedArray', 'DataView'], key);"
        },
        {
            "sha": "ebd852402eb32844503ea1806d99af269a758ee5",
            "filename": "lib/internal/crypto/sig.js",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fsig.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Fsig.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fsig.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -2,9 +2,9 @@\n \n const {\n   ERR_CRYPTO_SIGN_KEY_REQUIRED,\n-  ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_OPT_VALUE\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const {\n   Sign: _Sign,\n   Verify: _Verify\n@@ -24,8 +24,7 @@ const { inherits } = require('util');\n function Sign(algorithm, options) {\n   if (!(this instanceof Sign))\n     return new Sign(algorithm, options);\n-  if (typeof algorithm !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string', algorithm);\n+  validateString(algorithm, 'algorithm');\n   this._handle = new _Sign();\n   this._handle.init(algorithm);\n \n@@ -94,8 +93,7 @@ Sign.prototype.sign = function sign(options, encoding) {\n function Verify(algorithm, options) {\n   if (!(this instanceof Verify))\n     return new Verify(algorithm, options);\n-  if (typeof algorithm !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string', algorithm);\n+  validateString(algorithm, 'algorithm');\n   this._handle = new _Verify();\n   this._handle.init(algorithm);\n "
        },
        {
            "sha": "9283e80df4e24aec3cff0ee83025ab7a697025d1",
            "filename": "lib/internal/crypto/util.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fcrypto%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Futil.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -17,6 +17,7 @@ const {\n   ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH,\n   ERR_INVALID_ARG_TYPE,\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const { Buffer } = require('buffer');\n const {\n   cachedResult,\n@@ -53,9 +54,7 @@ const getHashes = cachedResult(() => filterDuplicateStrings(_getHashes()));\n const getCurves = cachedResult(() => filterDuplicateStrings(_getCurves()));\n \n function setEngine(id, flags) {\n-  if (typeof id !== 'string')\n-    throw new ERR_INVALID_ARG_TYPE('id', 'string', id);\n-\n+  validateString(id, 'id');\n   if (flags && typeof flags !== 'number')\n     throw new ERR_INVALID_ARG_TYPE('flags', 'number', flags);\n   flags = flags >>> 0;"
        },
        {
            "sha": "0e9c2832cc7b1fe90ae907081fd79228072c8c18",
            "filename": "lib/internal/http2/compat.js",
            "status": "modified",
            "additions": 7,
            "deletions": 18,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcompat.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -12,11 +12,11 @@ const {\n   ERR_HTTP2_NO_SOCKET_MANIPULATION,\n   ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED,\n   ERR_HTTP2_STATUS_INVALID,\n-  ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_ARG_VALUE,\n   ERR_INVALID_CALLBACK,\n   ERR_INVALID_HTTP_TOKEN\n } = require('internal/errors').codes;\n+const { validateString } = require('internal/validators');\n const { kSocket } = require('internal/http2/util');\n \n const kBeginSend = Symbol('begin-send');\n@@ -342,8 +342,7 @@ class Http2ServerRequest extends Readable {\n   }\n \n   set method(method) {\n-    if (typeof method !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('method', 'string', method);\n+    validateString(method, 'method');\n     if (method.trim() === '')\n       throw new ERR_INVALID_ARG_VALUE('method', method);\n \n@@ -482,9 +481,7 @@ class Http2ServerResponse extends Stream {\n   }\n \n   setTrailer(name, value) {\n-    if (typeof name !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-\n+    validateString(name, 'name');\n     name = name.trim().toLowerCase();\n     assertValidHeader(name, value);\n     this[kTrailers][name] = value;\n@@ -500,9 +497,7 @@ class Http2ServerResponse extends Stream {\n   }\n \n   getHeader(name) {\n-    if (typeof name !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-\n+    validateString(name, 'name');\n     name = name.trim().toLowerCase();\n     return this[kHeaders][name];\n   }\n@@ -516,17 +511,13 @@ class Http2ServerResponse extends Stream {\n   }\n \n   hasHeader(name) {\n-    if (typeof name !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-\n+    validateString(name, 'name');\n     name = name.trim().toLowerCase();\n     return Object.prototype.hasOwnProperty.call(this[kHeaders], name);\n   }\n \n   removeHeader(name) {\n-    if (typeof name !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-\n+    validateString(name, 'name');\n     if (this[kStream].headersSent)\n       throw new ERR_HTTP2_HEADERS_SENT();\n \n@@ -535,9 +526,7 @@ class Http2ServerResponse extends Stream {\n   }\n \n   setHeader(name, value) {\n-    if (typeof name !== 'string')\n-      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n-\n+    validateString(name, 'name');\n     if (this[kStream].headersSent)\n       throw new ERR_HTTP2_HEADERS_SENT();\n "
        },
        {
            "sha": "85e69e61255d58afb11b9c7534b8daaf7d495258",
            "filename": "lib/internal/validators.js",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fvalidators.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Finternal%2Fvalidators.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fvalidators.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -120,11 +120,17 @@ function validateUint32(value, name, positive) {\n   return value;\n }\n \n+function validateString(value, name) {\n+  if (typeof value !== 'string')\n+    throw new ERR_INVALID_ARG_TYPE(name, 'string', value);\n+}\n+\n module.exports = {\n   isInt32,\n   isUint32,\n   validateMode,\n   validateInteger,\n   validateInt32,\n-  validateUint32\n+  validateUint32,\n+  validateString\n };"
        },
        {
            "sha": "c49dd350c36944151d68b714093de59bf5760e88",
            "filename": "lib/net.js",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fnet.js",
            "raw_url": "https://github.com/nodejs/node/raw/e570ae79f5b1d74fed52d2aed7f014caaa0836dd/lib%2Fnet.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fnet.js?ref=e570ae79f5b1d74fed52d2aed7f014caaa0836dd",
            "patch": "@@ -75,7 +75,7 @@ const {\n   ERR_SOCKET_BAD_PORT,\n   ERR_SOCKET_CLOSED\n } = errors.codes;\n-const { validateInt32 } = require('internal/validators');\n+const { validateInt32, validateString } = require('internal/validators');\n const kLastWriteQueueSize = Symbol('lastWriteQueueSize');\n \n // Lazy loaded to improve startup performance.\n@@ -980,9 +980,7 @@ Socket.prototype.connect = function(...args) {\n   this.writable = true;\n \n   if (pipe) {\n-    if (typeof path !== 'string') {\n-      throw new ERR_INVALID_ARG_TYPE('options.path', 'string', path);\n-    }\n+    validateString(path, 'options.path');\n     defaultTriggerAsyncIdScope(\n       this[async_id_symbol], internalConnect, this, path\n     );"
        }
    ],
    "stats": {
        "total": 137,
        "additions": 52,
        "deletions": 85
    }
}