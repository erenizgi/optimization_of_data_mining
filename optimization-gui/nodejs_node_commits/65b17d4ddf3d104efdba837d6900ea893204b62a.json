{
    "author": "addaleax",
    "message": "test: minor adjustments to test-http2-respond-file\n\nPR-URL: https://github.com/nodejs/node/pull/21098\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Jon Moss <me@jonathanmoss.me>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>",
    "sha": "65b17d4ddf3d104efdba837d6900ea893204b62a",
    "files": [
        {
            "sha": "1c10ceb43507232735d36cba7870f9cc49839809",
            "filename": "test/parallel/test-http2-respond-file.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/65b17d4ddf3d104efdba837d6900ea893204b62a/test%2Fparallel%2Ftest-http2-respond-file.js",
            "raw_url": "https://github.com/nodejs/node/raw/65b17d4ddf3d104efdba837d6900ea893204b62a/test%2Fparallel%2Ftest-http2-respond-file.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-respond-file.js?ref=65b17d4ddf3d104efdba837d6900ea893204b62a",
            "patch": "@@ -19,7 +19,7 @@ const data = fs.readFileSync(fname);\n const stat = fs.statSync(fname);\n \n const server = http2.createServer();\n-server.on('stream', (stream) => {\n+server.on('stream', common.mustCall((stream) => {\n   stream.respondWithFile(fname, {\n     [HTTP2_HEADER_CONTENT_TYPE]: 'text/plain'\n   }, {\n@@ -28,9 +28,9 @@ server.on('stream', (stream) => {\n       headers[HTTP2_HEADER_CONTENT_LENGTH] = stat.size;\n     }\n   });\n-});\n-server.listen(0, () => {\n+}));\n \n+server.listen(0, common.mustCall(() => {\n   const client = http2.connect(`http://localhost:${server.address().port}`);\n   const req = client.request();\n \n@@ -49,4 +49,4 @@ server.listen(0, () => {\n     server.close();\n   }));\n   req.end();\n-});\n+}));"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}