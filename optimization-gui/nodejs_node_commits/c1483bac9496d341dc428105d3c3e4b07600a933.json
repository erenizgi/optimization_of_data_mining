{
    "author": "BridgeAR",
    "message": "doc: improve assert documentation\n\nThis fixes the officially accepted message types for `assert.throws()`,\n`assert.rejects()`, `assert.doesNotThrow()` and\n`assert.doesNotReject()`. It also renames the `block` argument in\nthose functions to `fn` and `promiseFn` for further clarity.\n\nPR-URL: https://github.com/nodejs/node/pull/22692\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: George Adams <george.adams@uk.ibm.com>",
    "sha": "c1483bac9496d341dc428105d3c3e4b07600a933",
    "files": [
        {
            "sha": "be53199200a8a0491c6582dc6561916997a9cd38",
            "filename": "doc/api/assert.md",
            "status": "modified",
            "additions": 29,
            "deletions": 28,
            "changes": 57,
            "blob_url": "https://github.com/nodejs/node/blob/c1483bac9496d341dc428105d3c3e4b07600a933/doc%2Fapi%2Fassert.md",
            "raw_url": "https://github.com/nodejs/node/raw/c1483bac9496d341dc428105d3c3e4b07600a933/doc%2Fapi%2Fassert.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fassert.md?ref=c1483bac9496d341dc428105d3c3e4b07600a933",
            "patch": "@@ -408,19 +408,19 @@ parameter is undefined, a default error message is assigned. If the `message`\n parameter is an instance of an [`Error`][] then it will be thrown instead of the\n `AssertionError`.\n \n-## assert.doesNotReject(block[, error][, message])\n+## assert.doesNotReject(asyncFn[, error][, message])\n <!-- YAML\n added: v10.0.0\n -->\n-* `block` {Function|Promise}\n+* `asyncFn` {Function|Promise}\n * `error` {RegExp|Function}\n-* `message` {string|Error}\n+* `message` {string}\n \n-Awaits the `block` promise or, if `block` is a function, immediately calls the\n-function and awaits the returned promise to complete. It will then check that\n-the promise is not rejected.\n+Awaits the `asyncFn` promise or, if `asyncFn` is a function, immediately\n+calls the function and awaits the returned promise to complete. It will then\n+check that the promise is not rejected.\n \n-If `block` is a function and it throws an error synchronously,\n+If `asyncFn` is a function and it throws an error synchronously,\n `assert.doesNotReject()` will return a rejected `Promise` with that error. If\n the function does not return a promise, `assert.doesNotReject()` will return a\n rejected `Promise` with an [`ERR_INVALID_RETURN_VALUE`][] error. In both cases\n@@ -455,7 +455,7 @@ assert.doesNotReject(Promise.reject(new TypeError('Wrong value')))\n   });\n ```\n \n-## assert.doesNotThrow(block[, error][, message])\n+## assert.doesNotThrow(fn[, error][, message])\n <!-- YAML\n added: v0.1.21\n changes:\n@@ -466,18 +466,18 @@ changes:\n     pr-url: https://github.com/nodejs/node/pull/3276\n     description: The `error` parameter can now be an arrow function.\n -->\n-* `block` {Function}\n+* `fn` {Function}\n * `error` {RegExp|Function}\n-* `message` {string|Error}\n+* `message` {string}\n \n-Asserts that the function `block` does not throw an error.\n+Asserts that the function `fn` does not throw an error.\n \n Please note: Using `assert.doesNotThrow()` is actually not useful because there\n is no benefit by catching an error and then rethrowing it. Instead, consider\n adding a comment next to the specific code path that should not throw and keep\n error messages as expressive as possible.\n \n-When `assert.doesNotThrow()` is called, it will immediately call the `block`\n+When `assert.doesNotThrow()` is called, it will immediately call the `fn`\n function.\n \n If an error is thrown and it is the same type as that specified by the `error`\n@@ -964,19 +964,19 @@ assert(0);\n //   assert(0)\n ```\n \n-## assert.rejects(block[, error][, message])\n+## assert.rejects(asyncFn[, error][, message])\n <!-- YAML\n added: v10.0.0\n -->\n-* `block` {Function|Promise}\n+* `asyncFn` {Function|Promise}\n * `error` {RegExp|Function|Object|Error}\n-* `message` {string|Error}\n+* `message` {string}\n \n-Awaits the `block` promise or, if `block` is a function, immediately calls the\n-function and awaits the returned promise to complete. It will then check that\n-the promise is rejected.\n+Awaits the `asyncFn` promise or, if `asyncFn` is a function, immediately\n+calls the function and awaits the returned promise to complete. It will then\n+check that the promise is rejected.\n \n-If `block` is a function and it throws an error synchronously,\n+If `asyncFn` is a function and it throws an error synchronously,\n `assert.rejects()` will return a rejected `Promise` with that error. If the\n function does not return a promise, `assert.rejects()` will return a rejected\n `Promise` with an [`ERR_INVALID_RETURN_VALUE`][] error. In both cases the error\n@@ -991,7 +991,7 @@ each property will be tested for including the non-enumerable `message` and\n `name` properties.\n \n If specified, `message` will be the message provided by the `AssertionError` if\n-the block fails to reject.\n+the `asyncFn` fails to reject.\n \n ```js\n (async () => {\n@@ -1063,7 +1063,7 @@ If the values are not strictly equal, an `AssertionError` is thrown with a\n `message` parameter is an instance of an [`Error`][] then it will be thrown\n instead of the `AssertionError`.\n \n-## assert.throws(block[, error][, message])\n+## assert.throws(fn[, error][, message])\n <!-- YAML\n added: v0.1.21\n changes:\n@@ -1078,11 +1078,11 @@ changes:\n     pr-url: https://github.com/nodejs/node/pull/3276\n     description: The `error` parameter can now be an arrow function.\n -->\n-* `block` {Function}\n+* `fn` {Function}\n * `error` {RegExp|Function|Object|Error}\n-* `message` {string|Error}\n+* `message` {string}\n \n-Expects the function `block` to throw an error.\n+Expects the function `fn` to throw an error.\n \n If specified, `error` can be a [`Class`][], [`RegExp`][], a validation function,\n a validation object where each property will be tested for strict deep equality,\n@@ -1091,8 +1091,9 @@ equality including the non-enumerable `message` and `name` properties. When\n using an object, it is also possible to use a regular expression, when\n validating against a string property. See below for examples.\n \n-If specified, `message` will be the message provided by the `AssertionError` if\n-the block fails to throw.\n+If specified, `message` will be appended to the message provided by the\n+`AssertionError` if the `fn` call fails to throw or in case the error validation\n+fails.\n \n Custom validation object/error instance:\n \n@@ -1258,12 +1259,12 @@ second argument. This might lead to difficult-to-spot errors.\n [`WeakSet`]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet\n [`assert.deepEqual()`]: #assert_assert_deepequal_actual_expected_message\n [`assert.deepStrictEqual()`]: #assert_assert_deepstrictequal_actual_expected_message\n-[`assert.doesNotThrow()`]: #assert_assert_doesnotthrow_block_error_message\n+[`assert.doesNotThrow()`]: #assert_assert_doesnotthrow_fn_error_message\n [`assert.notDeepStrictEqual()`]: #assert_assert_notdeepstrictequal_actual_expected_message\n [`assert.notStrictEqual()`]: #assert_assert_notstrictequal_actual_expected_message\n [`assert.ok()`]: #assert_assert_ok_value_message\n [`assert.strictEqual()`]: #assert_assert_strictequal_actual_expected_message\n-[`assert.throws()`]: #assert_assert_throws_block_error_message\n+[`assert.throws()`]: #assert_assert_throws_fn_error_message\n [`strict mode`]: #assert_strict_mode\n [Abstract Equality Comparison]: https://tc39.github.io/ecma262/#sec-abstract-equality-comparison\n [Object.prototype.toString()]: https://tc39.github.io/ecma262/#sec-object.prototype.tostring"
        }
    ],
    "stats": {
        "total": 57,
        "additions": 29,
        "deletions": 28
    }
}