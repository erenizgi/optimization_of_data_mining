{
    "author": "joyeecheung",
    "message": "src: throw ERR_INVALID_ARG_VALUE in node_crypto.cc\n\nPR-URL: https://github.com/nodejs/node/pull/20121\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "a82902f087b44baa70e29bd45fee5f73a39914f7",
    "files": [
        {
            "sha": "01b94a9d7499e2d96ed463d526271aaa18d5988b",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/a82902f087b44baa70e29bd45fee5f73a39914f7/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a82902f087b44baa70e29bd45fee5f73a39914f7/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=a82902f087b44baa70e29bd45fee5f73a39914f7",
            "patch": "@@ -956,7 +956,8 @@ void SecureContext::SetDHParam(const FunctionCallbackInfo<Value>& args) {\n   DH_get0_pqg(dh, &p, nullptr, nullptr);\n   const int size = BN_num_bits(p);\n   if (size < 1024) {\n-    return env->ThrowError(\"DH parameter is less than 1024 bits\");\n+    return THROW_ERR_INVALID_ARG_VALUE(\n+        env, \"DH parameter is less than 1024 bits\");\n   } else if (size < 2048) {\n     args.GetReturnValue().Set(FIXED_ONE_BYTE_STRING(\n         env->isolate(), \"DH parameter is less than 2048 bits\"));\n@@ -1203,7 +1204,8 @@ void SecureContext::SetTicketKeys(const FunctionCallbackInfo<Value>& args) {\n   THROW_AND_RETURN_IF_NOT_BUFFER(env, args[0], \"Ticket keys\");\n \n   if (Buffer::Length(args[0]) != 48) {\n-    return env->ThrowTypeError(\"Ticket keys length must be 48 bytes\");\n+    return THROW_ERR_INVALID_ARG_VALUE(\n+        env, \"Ticket keys length must be 48 bytes\");\n   }\n \n   memcpy(wrap->ticket_key_name_, Buffer::Data(args[0]), 16);\n@@ -4390,7 +4392,8 @@ void ECDH::New(const FunctionCallbackInfo<Value>& args) {\n \n   int nid = OBJ_sn2nid(*curve);\n   if (nid == NID_undef)\n-    return env->ThrowTypeError(\"First argument should be a valid curve name\");\n+    return THROW_ERR_INVALID_ARG_VALUE(env,\n+        \"First argument should be a valid curve name\");\n \n   EC_KEY* key = EC_KEY_new_by_curve_name(nid);\n   if (key == nullptr)"
        },
        {
            "sha": "ae6a1c029d5f0c5a078043a34aaaed3f9d14b1a4",
            "filename": "src/node_errors.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/a82902f087b44baa70e29bd45fee5f73a39914f7/src%2Fnode_errors.h",
            "raw_url": "https://github.com/nodejs/node/raw/a82902f087b44baa70e29bd45fee5f73a39914f7/src%2Fnode_errors.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_errors.h?ref=a82902f087b44baa70e29bd45fee5f73a39914f7",
            "patch": "@@ -19,6 +19,7 @@ namespace node {\n #define ERRORS_WITH_CODE(V)                                                  \\\n   V(ERR_BUFFER_OUT_OF_BOUNDS, RangeError)                                    \\\n   V(ERR_INDEX_OUT_OF_RANGE, RangeError)                                      \\\n+  V(ERR_INVALID_ARG_VALUE, TypeError)                                        \\\n   V(ERR_INVALID_ARG_TYPE, TypeError)                                         \\\n   V(ERR_MEMORY_ALLOCATION_FAILED, Error)                                     \\\n   V(ERR_MISSING_MODULE, Error)                                               \\"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}