{
    "author": "targos",
    "message": "deps: patch V8 to 7.0.276.36\n\nRefs: https://github.com/v8/v8/compare/7.0.276.35...7.0.276.36\n\nPR-URL: https://github.com/nodejs/node/pull/24109\nReviewed-By: Ali Ijaz Sheikh <ofrobots@google.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>",
    "sha": "9d434db6ef188b19333a716289b73731cd063cb6",
    "files": [
        {
            "sha": "f43a776eac99d3bb3b36af275b7824c15f4ca163",
            "filename": "deps/v8/include/v8-version.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Finclude%2Fv8-version.h",
            "raw_url": "https://github.com/nodejs/node/raw/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Finclude%2Fv8-version.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Finclude%2Fv8-version.h?ref=9d434db6ef188b19333a716289b73731cd063cb6",
            "patch": "@@ -11,7 +11,7 @@\n #define V8_MAJOR_VERSION 7\n #define V8_MINOR_VERSION 0\n #define V8_BUILD_NUMBER 276\n-#define V8_PATCH_LEVEL 35\n+#define V8_PATCH_LEVEL 36\n \n // Use 1 for candidates and 0 otherwise.\n // (Boolean macro values are not supported by all preprocessors.)"
        },
        {
            "sha": "811656ad9afa43c0c701449bae5b246fb31c6998",
            "filename": "deps/v8/src/objects.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Fsrc%2Fobjects.cc",
            "raw_url": "https://github.com/nodejs/node/raw/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Fsrc%2Fobjects.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fsrc%2Fobjects.cc?ref=9d434db6ef188b19333a716289b73731cd063cb6",
            "patch": "@@ -10266,15 +10266,22 @@ Handle<DescriptorArray> DescriptorArray::CopyForFastObjectClone(\n     Name* key = src->GetKey(i);\n     PropertyDetails details = src->GetDetails(i);\n \n-    SLOW_DCHECK(!key->IsPrivateField() && details.IsEnumerable() &&\n-                details.kind() == kData);\n+    DCHECK(!key->IsPrivateField());\n+    DCHECK(details.IsEnumerable());\n+    DCHECK_EQ(details.kind(), kData);\n \n     // Ensure the ObjectClone property details are NONE, and that all source\n     // details did not contain DONT_ENUM.\n     PropertyDetails new_details(kData, NONE, details.location(),\n                                 details.constness(), details.representation(),\n                                 details.field_index());\n-    descriptors->Set(i, key, src->GetValue(i), new_details);\n+    // Do not propagate the field type of normal object fields from the\n+    // original descriptors since FieldType changes don't create new maps.\n+    MaybeObject* type = src->GetValue(i);\n+    if (details.location() == PropertyLocation::kField) {\n+      type = MaybeObject::FromObject(FieldType::Any());\n+    }\n+    descriptors->Set(i, key, type, new_details);\n   }\n \n   descriptors->Sort();"
        },
        {
            "sha": "4605c3f51bc3b36479a1134d459cbed9ef699345",
            "filename": "deps/v8/test/mjsunit/regress/regress-crbug-881247.js",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Ftest%2Fmjsunit%2Fregress%2Fregress-crbug-881247.js",
            "raw_url": "https://github.com/nodejs/node/raw/9d434db6ef188b19333a716289b73731cd063cb6/deps%2Fv8%2Ftest%2Fmjsunit%2Fregress%2Fregress-crbug-881247.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Ftest%2Fmjsunit%2Fregress%2Fregress-crbug-881247.js?ref=9d434db6ef188b19333a716289b73731cd063cb6",
            "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2018 the V8 project authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style license that can be\n+// found in the LICENSE file.\n+\n+// Flags: --allow-natives-syntax\n+\n+const resolvedPromise = Promise.resolve();\n+\n+function spread() {\n+  const result = { ...resolvedPromise };\n+  %HeapObjectVerify(result);\n+  return result;\n+}\n+\n+resolvedPromise[undefined] =  {a:1};\n+%HeapObjectVerify(resolvedPromise);\n+\n+spread();\n+\n+resolvedPromise[undefined] = undefined;\n+%HeapObjectVerify(resolvedPromise);\n+\n+spread();\n+%HeapObjectVerify(resolvedPromise);"
        }
    ],
    "stats": {
        "total": 39,
        "additions": 35,
        "deletions": 4
    }
}