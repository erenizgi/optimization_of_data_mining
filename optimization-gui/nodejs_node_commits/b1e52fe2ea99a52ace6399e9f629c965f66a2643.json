{
    "author": "unknown",
    "message": "fs: support as and as+ flags in stringToFlags()\n\nPR-URL: https://github.com/nodejs/node/pull/18801\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Matheus Marchini <matheus@sthima.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "b1e52fe2ea99a52ace6399e9f629c965f66a2643",
    "files": [
        {
            "sha": "b0cba330c514bc4e02a3ea81b925b0e72ce34c6c",
            "filename": "doc/api/fs.md",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/b1e52fe2ea99a52ace6399e9f629c965f66a2643/doc%2Fapi%2Ffs.md",
            "raw_url": "https://github.com/nodejs/node/raw/b1e52fe2ea99a52ace6399e9f629c965f66a2643/doc%2Fapi%2Ffs.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ffs.md?ref=b1e52fe2ea99a52ace6399e9f629c965f66a2643",
            "patch": "@@ -2019,11 +2019,17 @@ The file is created if it does not exist.\n \n * `'ax'` - Like `'a'` but fails if `path` exists.\n \n+* `'as'` - Open file for appending in synchronous mode.\n+The file is created if it does not exist.\n+\n * `'a+'` - Open file for reading and appending.\n The file is created if it does not exist.\n \n * `'ax+'` - Like `'a+'` but fails if `path` exists.\n \n+* `'as+'` - Open file for reading and appending in synchronous mode.\n+The file is created if it does not exist.\n+\n `mode` sets the file mode (permission and sticky bits), but only if the file was\n created. It defaults to `0o666` (readable and writable).\n \n@@ -3920,11 +3926,17 @@ The file is created if it does not exist.\n \n * `'ax'` - Like `'a'` but fails if `path` exists.\n \n+* `'as'` - Open file for appending in synchronous mode.\n+The file is created if it does not exist.\n+\n * `'a+'` - Open file for reading and appending.\n The file is created if it does not exist.\n \n * `'ax+'` - Like `'a+'` but fails if `path` exists.\n \n+* `'as+'` - Open file for reading and appending in synchronous mode.\n+The file is created if it does not exist.\n+\n `mode` sets the file mode (permission and sticky bits), but only if the file was\n created. It defaults to `0o666` (readable and writable).\n "
        },
        {
            "sha": "04844248b0b8e0d16408c49d539e79f1c6994030",
            "filename": "lib/internal/fs.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b1e52fe2ea99a52ace6399e9f629c965f66a2643/lib%2Finternal%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/b1e52fe2ea99a52ace6399e9f629c965f66a2643/lib%2Finternal%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ffs.js?ref=b1e52fe2ea99a52ace6399e9f629c965f66a2643",
            "patch": "@@ -223,10 +223,14 @@ function stringToFlags(flags) {\n     case 'a' : return O_APPEND | O_CREAT | O_WRONLY;\n     case 'ax' : // Fall through.\n     case 'xa' : return O_APPEND | O_CREAT | O_WRONLY | O_EXCL;\n+    case 'as' : // Fall through.\n+    case 'sa' : return O_APPEND | O_CREAT | O_WRONLY | O_SYNC;\n \n     case 'a+' : return O_APPEND | O_CREAT | O_RDWR;\n     case 'ax+': // Fall through.\n     case 'xa+': return O_APPEND | O_CREAT | O_RDWR | O_EXCL;\n+    case 'as+': // Fall through.\n+    case 'sa+': return O_APPEND | O_CREAT | O_RDWR | O_SYNC;\n   }\n \n   throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'flags', flags);"
        },
        {
            "sha": "7f70885861ffd16ca11ef30808189af29a1368b7",
            "filename": "test/parallel/test-fs-open-flags.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b1e52fe2ea99a52ace6399e9f629c965f66a2643/test%2Fparallel%2Ftest-fs-open-flags.js",
            "raw_url": "https://github.com/nodejs/node/raw/b1e52fe2ea99a52ace6399e9f629c965f66a2643/test%2Fparallel%2Ftest-fs-open-flags.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-open-flags.js?ref=b1e52fe2ea99a52ace6399e9f629c965f66a2643",
            "patch": "@@ -56,8 +56,12 @@ assert.strictEqual(stringToFlags('wx+'), O_TRUNC | O_CREAT | O_RDWR | O_EXCL);\n assert.strictEqual(stringToFlags('xw+'), O_TRUNC | O_CREAT | O_RDWR | O_EXCL);\n assert.strictEqual(stringToFlags('ax'), O_APPEND | O_CREAT | O_WRONLY | O_EXCL);\n assert.strictEqual(stringToFlags('xa'), O_APPEND | O_CREAT | O_WRONLY | O_EXCL);\n+assert.strictEqual(stringToFlags('as'), O_APPEND | O_CREAT | O_WRONLY | O_SYNC);\n+assert.strictEqual(stringToFlags('sa'), O_APPEND | O_CREAT | O_WRONLY | O_SYNC);\n assert.strictEqual(stringToFlags('ax+'), O_APPEND | O_CREAT | O_RDWR | O_EXCL);\n assert.strictEqual(stringToFlags('xa+'), O_APPEND | O_CREAT | O_RDWR | O_EXCL);\n+assert.strictEqual(stringToFlags('as+'), O_APPEND | O_CREAT | O_RDWR | O_SYNC);\n+assert.strictEqual(stringToFlags('sa+'), O_APPEND | O_CREAT | O_RDWR | O_SYNC);\n \n ('+ +a +r +w rw wa war raw r++ a++ w++ x +x x+ rx rx+ wxx wax xwx xxx')\n   .split(' ')"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 20,
        "deletions": 0
    }
}