{
    "author": "cjihrig",
    "message": "http: validate timeout in ClientRequest()\n\nValidate the timeout option in the ClientRequest() constructor\nto prevent asynchronously thrown validation errors.\n\nPR-URL: https://github.com/nodejs/node/pull/26214\nFixes: https://github.com/nodejs/node/issues/26143\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Wyatt Preul <wpreul@gmail.com>\nReviewed-By: Ali Ijaz Sheikh <ofrobots@google.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>",
    "sha": "907941d48e48a30b40a2ee73da4ccd974019fb6e",
    "files": [
        {
            "sha": "de7b01cbd1b9bdd2378d710a1d684a09ccae3efe",
            "filename": "lib/_http_client.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/907941d48e48a30b40a2ee73da4ccd974019fb6e/lib%2F_http_client.js",
            "raw_url": "https://github.com/nodejs/node/raw/907941d48e48a30b40a2ee73da4ccd974019fb6e/lib%2F_http_client.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_client.js?ref=907941d48e48a30b40a2ee73da4ccd974019fb6e",
            "patch": "@@ -140,7 +140,9 @@ function ClientRequest(input, options, cb) {\n   var setHost = (options.setHost === undefined || Boolean(options.setHost));\n \n   this.socketPath = options.socketPath;\n-  this.timeout = options.timeout;\n+\n+  if (options.timeout !== undefined)\n+    this.timeout = validateTimerDuration(options.timeout, 'timeout');\n \n   var method = options.method;\n   var methodIsString = (typeof method === 'string');"
        },
        {
            "sha": "6351a2ca4a3ae19827a4e872bd2ed6c6870e6418",
            "filename": "test/parallel/test-http-client-timeout-option.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/907941d48e48a30b40a2ee73da4ccd974019fb6e/test%2Fparallel%2Ftest-http-client-timeout-option.js",
            "raw_url": "https://github.com/nodejs/node/raw/907941d48e48a30b40a2ee73da4ccd974019fb6e/test%2Fparallel%2Ftest-http-client-timeout-option.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-client-timeout-option.js?ref=907941d48e48a30b40a2ee73da4ccd974019fb6e",
            "patch": "@@ -3,6 +3,10 @@ const common = require('../common');\n const assert = require('assert');\n const http = require('http');\n \n+assert.throws(() => {\n+  http.request({ timeout: null });\n+}, /The \"timeout\" argument must be of type number/);\n+\n const options = {\n   method: 'GET',\n   port: undefined,"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}