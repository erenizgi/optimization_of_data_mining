{
    "author": "ryzokuken",
    "message": "src: remove calls to deprecated v8 functions (BooleanValue)\n\nRemove all calls to deprecated v8 functions (here:\nValue::BooleanValue) inside the code (src directory only).\n\nPR-URL: https://github.com/nodejs/node/pull/22075\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
    "files": [
        {
            "sha": "4ca4171c1ae2d0d5b17af701b93df2cddb77fabe",
            "filename": "lib/internal/crypto/cipher.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fcipher.js?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -182,7 +182,7 @@ Cipher.prototype.final = function final(outputEncoding) {\n \n \n Cipher.prototype.setAutoPadding = function setAutoPadding(ap) {\n-  if (!this._handle.setAutoPadding(ap))\n+  if (!this._handle.setAutoPadding(!!ap))\n     throw new ERR_CRYPTO_INVALID_STATE('setAutoPadding');\n   return this;\n };"
        },
        {
            "sha": "45125db0c223ef3ac82e3f5cbc9675798df490c2",
            "filename": "lib/internal/readline.js",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Finternal%2Freadline.js",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Finternal%2Freadline.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Freadline.js?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -36,9 +36,11 @@ if (process.binding('config').hasIntl) {\n     options = options || {};\n     if (!Number.isInteger(str))\n       str = stripVTControlCharacters(String(str));\n-    return icu.getStringWidth(str,\n-                              Boolean(options.ambiguousAsFullWidth),\n-                              Boolean(options.expandEmojiSequence));\n+    return icu.getStringWidth(\n+      str,\n+      Boolean(options.ambiguousAsFullWidth),\n+      Boolean(options.expandEmojiSequence)\n+    );\n   };\n   isFullWidthCodePoint =\n     function isFullWidthCodePoint(code, options) {"
        },
        {
            "sha": "090ab9f0234dc0c19168491132cb790678a305f3",
            "filename": "lib/net.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Fnet.js",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/lib%2Fnet.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fnet.js?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -1724,7 +1724,7 @@ if (process.platform === 'win32') {\n     }\n \n     if (handle._simultaneousAccepts !== simultaneousAccepts) {\n-      handle.setSimultaneousAccepts(simultaneousAccepts);\n+      handle.setSimultaneousAccepts(!!simultaneousAccepts);\n       handle._simultaneousAccepts = simultaneousAccepts;\n     }\n   };"
        },
        {
            "sha": "89274941aab51a31971f93abcc5a54827c313e69",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -3093,7 +3093,7 @@ void CipherBase::SetAutoPadding(const FunctionCallbackInfo<Value>& args) {\n   CipherBase* cipher;\n   ASSIGN_OR_RETURN_UNWRAP(&cipher, args.Holder());\n \n-  bool b = cipher->SetAutoPadding(args.Length() < 1 || args[0]->BooleanValue());\n+  bool b = cipher->SetAutoPadding(args.Length() < 1 || args[0]->IsTrue());\n   args.GetReturnValue().Set(b);  // Possibly report invalid state failure\n }\n \n@@ -5187,7 +5187,8 @@ void SetFipsCrypto(const FunctionCallbackInfo<Value>& args) {\n   CHECK(!force_fips_crypto);\n   Environment* env = Environment::GetCurrent(args);\n   const bool enabled = FIPS_mode();\n-  const bool enable = args[0]->BooleanValue();\n+  bool enable;\n+  if (!args[0]->BooleanValue(env->context()).To(&enable)) return;\n   if (enable == enabled)\n     return;  // No action needed.\n   if (!FIPS_mode_set(enable)) {"
        },
        {
            "sha": "c1a936810fe1f983cb1a4d37c99716bffc7b42ec",
            "filename": "src/node_file.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_file.cc",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_file.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_file.cc?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -1460,7 +1460,7 @@ static void ReadDir(const FunctionCallbackInfo<Value>& args) {\n \n   const enum encoding encoding = ParseEncoding(env->isolate(), args[1], UTF8);\n \n-  bool with_types = args[2]->BooleanValue();\n+  bool with_types = args[2]->IsTrue();\n \n   FSReqBase* req_wrap_async = GetReqWrap(env, args[3]);\n   if (req_wrap_async != nullptr) {  // readdir(path, encoding, withTypes, req)"
        },
        {
            "sha": "e5d5c0d412dc4e7f604caa5261604fe0e7228f34",
            "filename": "src/node_i18n.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_i18n.cc",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Fnode_i18n.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_i18n.cc?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -815,8 +815,8 @@ static void GetStringWidth(const FunctionCallbackInfo<Value>& args) {\n   if (args.Length() < 1)\n     return;\n \n-  bool ambiguous_as_full_width = args[1]->BooleanValue();\n-  bool expand_emoji_sequence = args[2]->BooleanValue();\n+  bool ambiguous_as_full_width = args[1]->IsTrue();\n+  bool expand_emoji_sequence = args[2]->IsTrue();\n \n   if (args[0]->IsNumber()) {\n     args.GetReturnValue().Set("
        },
        {
            "sha": "ab8b30e84606fbe7c6469c4c20cc012889e9e109",
            "filename": "src/tcp_wrap.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Ftcp_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/src%2Ftcp_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Ftcp_wrap.cc?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -168,7 +168,7 @@ void TCPWrap::SetNoDelay(const FunctionCallbackInfo<Value>& args) {\n   ASSIGN_OR_RETURN_UNWRAP(&wrap,\n                           args.Holder(),\n                           args.GetReturnValue().Set(UV_EBADF));\n-  int enable = static_cast<int>(args[0]->BooleanValue());\n+  int enable = static_cast<int>(args[0]->IsTrue());\n   int err = uv_tcp_nodelay(&wrap->handle_, enable);\n   args.GetReturnValue().Set(err);\n }\n@@ -192,7 +192,7 @@ void TCPWrap::SetSimultaneousAccepts(const FunctionCallbackInfo<Value>& args) {\n   ASSIGN_OR_RETURN_UNWRAP(&wrap,\n                           args.Holder(),\n                           args.GetReturnValue().Set(UV_EBADF));\n-  bool enable = args[0]->BooleanValue();\n+  bool enable = args[0]->IsTrue();\n   int err = uv_tcp_simultaneous_accepts(&wrap->handle_, enable);\n   args.GetReturnValue().Set(err);\n }"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 15,
        "deletions": 12
    }
}