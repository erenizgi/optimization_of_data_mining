{
    "author": "addaleax",
    "message": "zlib: move `bytesRead` accessors to runtime deprecation\n\nThis paves way for making `bytesRead` consistent with all other\nNode.js streams that provide a property with this name.\n\nPR-URL: https://github.com/nodejs/node/pull/23308\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "b2d8ae0a1401ad2730219dbb0da489d63a11d924",
    "files": [
        {
            "sha": "19f96099f363cf447101a8ef1a78f828914cc672",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/b2d8ae0a1401ad2730219dbb0da489d63a11d924/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/b2d8ae0a1401ad2730219dbb0da489d63a11d924/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=b2d8ae0a1401ad2730219dbb0da489d63a11d924",
            "patch": "@@ -2056,12 +2056,15 @@ core and obsoleted by the removal of NPN (Next Protocol Negotiation) support.\n ### DEP0108: zlib.bytesRead\n <!-- YAML\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/23308\n+    description: Runtime deprecation.\n   - version: v10.0.0\n     pr-url: https://github.com/nodejs/node/pull/19414\n     description: Documentation-only deprecation.\n -->\n \n-Type: Documentation-only\n+Type: Runtime\n \n Deprecated alias for [`zlib.bytesWritten`][]. This original name was chosen\n because it also made sense to interpret the value as the number of bytes"
        },
        {
            "sha": "c97da5dd302928bc3e2a4753c2eeaa7f274af388",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/b2d8ae0a1401ad2730219dbb0da489d63a11d924/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/b2d8ae0a1401ad2730219dbb0da489d63a11d924/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=b2d8ae0a1401ad2730219dbb0da489d63a11d924",
            "patch": "@@ -29,6 +29,7 @@ const {\n } = require('internal/errors').codes;\n const Transform = require('_stream_transform');\n const {\n+  deprecate,\n   _extend,\n   inherits,\n   types: {\n@@ -334,12 +335,14 @@ Object.defineProperty(Zlib.prototype, '_closed', {\n Object.defineProperty(Zlib.prototype, 'bytesRead', {\n   configurable: true,\n   enumerable: true,\n-  get() {\n+  get: deprecate(function() {\n     return this.bytesWritten;\n-  },\n-  set(value) {\n+  }, 'zlib.bytesRead is deprecated and will change its meaning in the ' +\n+     'future. Use zlib.bytesWritten instead.', 'DEP0108'),\n+  set: deprecate(function(value) {\n     this.bytesWritten = value;\n-  }\n+  }, 'Setting zlib.bytesRead is deprecated. ' +\n+     'This feature will be removed in the future.', 'DEP0108')\n });\n \n // This callback is used by `.params()` to wait until a full flush happened"
        },
        {
            "sha": "e8983efc454f1ede57876ee266e97b94a383fffe",
            "filename": "test/parallel/test-zlib-bytes-read.js",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/b2d8ae0a1401ad2730219dbb0da489d63a11d924/test%2Fparallel%2Ftest-zlib-bytes-read.js",
            "raw_url": "https://github.com/nodejs/node/raw/b2d8ae0a1401ad2730219dbb0da489d63a11d924/test%2Fparallel%2Ftest-zlib-bytes-read.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-zlib-bytes-read.js?ref=b2d8ae0a1401ad2730219dbb0da489d63a11d924",
            "patch": "@@ -21,6 +21,12 @@ function createWriter(target, buffer) {\n   return writer;\n }\n \n+common.expectWarning(\n+  'DeprecationWarning',\n+  'zlib.bytesRead is deprecated and will change its meaning in the ' +\n+  'future. Use zlib.bytesWritten instead.',\n+  'DEP0108');\n+\n for (const method of [\n   ['createGzip', 'createGunzip', false],\n   ['createGzip', 'createUnzip', false],"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 17,
        "deletions": 5
    }
}