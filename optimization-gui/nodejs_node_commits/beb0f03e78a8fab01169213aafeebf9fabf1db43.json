{
    "author": "UlisesGascon",
    "message": "dns: fix inconsistent (hostname vs host)\n\nFixes: https://github.com/nodejs/node/issues/20892\nPR-URL: https://github.com/nodejs/node/pull/23572\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "beb0f03e78a8fab01169213aafeebf9fabf1db43",
    "files": [
        {
            "sha": "ac3f6d6f0ec7254bf04f0f3b83dcdfddf814c50d",
            "filename": "lib/dns.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/beb0f03e78a8fab01169213aafeebf9fabf1db43/lib%2Fdns.js",
            "raw_url": "https://github.com/nodejs/node/raw/beb0f03e78a8fab01169213aafeebf9fabf1db43/lib%2Fdns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdns.js?ref=beb0f03e78a8fab01169213aafeebf9fabf1db43",
            "patch": "@@ -152,21 +152,21 @@ Object.defineProperty(lookup, customPromisifyArgs,\n                       { value: ['address', 'family'], enumerable: false });\n \n \n-function onlookupservice(err, host, service) {\n+function onlookupservice(err, hostname, service) {\n   if (err)\n-    return this.callback(dnsException(err, 'getnameinfo', this.host));\n+    return this.callback(dnsException(err, 'getnameinfo', this.hostname));\n \n-  this.callback(null, host, service);\n+  this.callback(null, hostname, service);\n }\n \n \n // lookupService(address, port, callback)\n-function lookupService(host, port, callback) {\n+function lookupService(hostname, port, callback) {\n   if (arguments.length !== 3)\n-    throw new ERR_MISSING_ARGS('host', 'port', 'callback');\n+    throw new ERR_MISSING_ARGS('hostname', 'port', 'callback');\n \n-  if (isIP(host) === 0)\n-    throw new ERR_INVALID_OPT_VALUE('host', host);\n+  if (isIP(hostname) === 0)\n+    throw new ERR_INVALID_OPT_VALUE('hostname', hostname);\n \n   if (!isLegalPort(port))\n     throw new ERR_SOCKET_BAD_PORT(port);\n@@ -178,12 +178,12 @@ function lookupService(host, port, callback) {\n \n   var req = new GetNameInfoReqWrap();\n   req.callback = callback;\n-  req.host = host;\n+  req.hostname = hostname;\n   req.port = port;\n   req.oncomplete = onlookupservice;\n \n-  var err = cares.getnameinfo(req, host, port);\n-  if (err) throw dnsException(err, 'getnameinfo', host);\n+  var err = cares.getnameinfo(req, hostname, port);\n+  if (err) throw dnsException(err, 'getnameinfo', hostname);\n   return req;\n }\n "
        },
        {
            "sha": "4bf5ac021983339dd57921ec88fb2e7bce2def9f",
            "filename": "lib/internal/dns/promises.js",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/beb0f03e78a8fab01169213aafeebf9fabf1db43/lib%2Finternal%2Fdns%2Fpromises.js",
            "raw_url": "https://github.com/nodejs/node/raw/beb0f03e78a8fab01169213aafeebf9fabf1db43/lib%2Finternal%2Fdns%2Fpromises.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fdns%2Fpromises.js?ref=beb0f03e78a8fab01169213aafeebf9fabf1db43",
            "patch": "@@ -129,34 +129,34 @@ function onlookupservice(err, hostname, service) {\n   this.resolve({ hostname, service });\n }\n \n-function createLookupServicePromise(host, port) {\n+function createLookupServicePromise(hostname, port) {\n   return new Promise((resolve, reject) => {\n     const req = new GetNameInfoReqWrap();\n \n-    req.host = host;\n+    req.hostname = hostname;\n     req.port = port;\n     req.oncomplete = onlookupservice;\n     req.resolve = resolve;\n     req.reject = reject;\n \n-    const err = getnameinfo(req, host, port);\n+    const err = getnameinfo(req, hostname, port);\n \n     if (err)\n-      reject(dnsException(err, 'getnameinfo', host));\n+      reject(dnsException(err, 'getnameinfo', hostname));\n   });\n }\n \n-function lookupService(host, port) {\n+function lookupService(hostname, port) {\n   if (arguments.length !== 2)\n-    throw new ERR_MISSING_ARGS('host', 'port');\n+    throw new ERR_MISSING_ARGS('hostname', 'port');\n \n-  if (isIP(host) === 0)\n-    throw new ERR_INVALID_OPT_VALUE('host', host);\n+  if (isIP(hostname) === 0)\n+    throw new ERR_INVALID_OPT_VALUE('hostname', hostname);\n \n   if (!isLegalPort(port))\n     throw new ERR_SOCKET_BAD_PORT(port);\n \n-  return createLookupServicePromise(host, +port);\n+  return createLookupServicePromise(hostname, +port);\n }\n \n "
        },
        {
            "sha": "01245c33d6997c93b4ea5155284a65d54de740c5",
            "filename": "test/common/dns.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/beb0f03e78a8fab01169213aafeebf9fabf1db43/test%2Fcommon%2Fdns.js",
            "raw_url": "https://github.com/nodejs/node/raw/beb0f03e78a8fab01169213aafeebf9fabf1db43/test%2Fcommon%2Fdns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Fdns.js?ref=beb0f03e78a8fab01169213aafeebf9fabf1db43",
            "patch": "@@ -291,12 +291,12 @@ const mockedErrorCode = 'ENOTFOUND';\n const mockedSysCall = 'getaddrinfo';\n \n function errorLookupMock(code = mockedErrorCode, syscall = mockedSysCall) {\n-  return function lookupWithError(host, dnsopts, cb) {\n-    const err = new Error(`${syscall} ${code} ${host}`);\n+  return function lookupWithError(hostname, dnsopts, cb) {\n+    const err = new Error(`${syscall} ${code} ${hostname}`);\n     err.code = code;\n     err.errno = code;\n     err.syscall = syscall;\n-    err.hostname = host;\n+    err.hostname = hostname;\n     cb(err);\n   };\n }"
        },
        {
            "sha": "200b5d3cb4758ec14df64a089c2884624aee07c9",
            "filename": "test/parallel/test-dns.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/beb0f03e78a8fab01169213aafeebf9fabf1db43/test%2Fparallel%2Ftest-dns.js",
            "raw_url": "https://github.com/nodejs/node/raw/beb0f03e78a8fab01169213aafeebf9fabf1db43/test%2Fparallel%2Ftest-dns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns.js?ref=beb0f03e78a8fab01169213aafeebf9fabf1db43",
            "patch": "@@ -261,11 +261,12 @@ dns.lookup('', {\n   const err = {\n     code: 'ERR_MISSING_ARGS',\n     type: TypeError,\n-    message: 'The \"host\", \"port\", and \"callback\" arguments must be specified'\n+    message: 'The \"hostname\", \"port\", and \"callback\" arguments must be ' +\n+    'specified'\n   };\n \n   common.expectsError(() => dns.lookupService('0.0.0.0'), err);\n-  err.message = 'The \"host\" and \"port\" arguments must be specified';\n+  err.message = 'The \"hostname\" and \"port\" arguments must be specified';\n   common.expectsError(() => dnsPromises.lookupService('0.0.0.0'), err);\n }\n \n@@ -274,7 +275,7 @@ dns.lookup('', {\n   const err = {\n     code: 'ERR_INVALID_OPT_VALUE',\n     type: TypeError,\n-    message: `The value \"${invalidHost}\" is invalid for option \"host\"`\n+    message: `The value \"${invalidHost}\" is invalid for option \"hostname\"`\n   };\n \n   common.expectsError(() => {"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 26,
        "deletions": 25
    }
}