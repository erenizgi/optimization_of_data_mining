{
    "author": "BridgeAR",
    "message": "dns: report out of memory properly\n\nThis addresses a part of a TODO by properly reporting an out of\nmemory error to the user instead of reporting `ENOTFOUND`.\n\nPR-URL: https://github.com/nodejs/node/pull/20317\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "a158d412b323001590099594002ed2426bcbaf8b",
    "files": [
        {
            "sha": "12d402a95fb7a98e008865e4d2d99ac43890bdae",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/a158d412b323001590099594002ed2426bcbaf8b/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/a158d412b323001590099594002ed2426bcbaf8b/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=a158d412b323001590099594002ed2426bcbaf8b",
            "patch": "@@ -29,7 +29,6 @@ const READABLE_OPERATOR = {\n \n const {\n   errmap,\n-  UV_EAI_MEMORY,\n   UV_EAI_NODATA,\n   UV_EAI_NONAME\n } = process.binding('uv');\n@@ -640,9 +639,7 @@ function dnsException(code, syscall, hostname) {\n   if (typeof code === 'number') {\n     // FIXME(bnoordhuis) Remove this backwards compatibility nonsense and pass\n     // the true error to the user. ENOTFOUND is not even a proper POSIX error!\n-    if (code === UV_EAI_MEMORY ||\n-        code === UV_EAI_NODATA ||\n-        code === UV_EAI_NONAME) {\n+    if (code === UV_EAI_NODATA || code === UV_EAI_NONAME) {\n       code = 'ENOTFOUND'; // Fabricated error name.\n     } else {\n       code = lazyInternalUtil().getSystemErrorName(code);"
        },
        {
            "sha": "e3d09a39d0e276a58bc225407ac4a3ee7019a5d8",
            "filename": "test/parallel/test-http-dns-error.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/a158d412b323001590099594002ed2426bcbaf8b/test%2Fparallel%2Ftest-http-dns-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/a158d412b323001590099594002ed2426bcbaf8b/test%2Fparallel%2Ftest-http-dns-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-dns-error.js?ref=a158d412b323001590099594002ed2426bcbaf8b",
            "patch": "@@ -29,7 +29,7 @@ const assert = require('assert');\n const http = require('http');\n const https = require('https');\n \n-const host = '*'.repeat(256);\n+const host = '*'.repeat(64);\n const MAX_TRIES = 5;\n \n let errCode = 'ENOTFOUND';"
        },
        {
            "sha": "bb90eafc3d95dac1a018b2c44feb9b2c07c97185",
            "filename": "test/parallel/test-net-dns-error.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/a158d412b323001590099594002ed2426bcbaf8b/test%2Fparallel%2Ftest-net-dns-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/a158d412b323001590099594002ed2426bcbaf8b/test%2Fparallel%2Ftest-net-dns-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-dns-error.js?ref=a158d412b323001590099594002ed2426bcbaf8b",
            "patch": "@@ -25,7 +25,7 @@ const common = require('../common');\n const assert = require('assert');\n const net = require('net');\n \n-const host = '*'.repeat(256);\n+const host = '*'.repeat(64);\n const errCode = common.isOpenBSD ? 'EAI_FAIL' : 'ENOTFOUND';\n \n const socket = net.connect(42, host, common.mustNotCall());"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 3,
        "deletions": 6
    }
}