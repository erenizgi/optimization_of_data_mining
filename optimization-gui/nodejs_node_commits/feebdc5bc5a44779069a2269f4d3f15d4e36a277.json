{
    "author": "danbev",
    "message": "test: use fipsMode in test-crypto-fips\n\nThis commit updates test/parallel/test-crypto-fips.js to use fipsMode\ninstead of process.config.variables.openssl_fips.\n\nThe motivation for this is that since the addition of the\n--openssl-is-fips configuration flag, it is possible to dynamically\nlink with a FIPS compliant OpenSSL library. Using fipsMode allows for\ndetermining if there is FIPS support when statically or dynamically\nlinking against a FIPS compatible OpenSSL library.\n\nPR-URL: https://github.com/nodejs/node/pull/25563\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "feebdc5bc5a44779069a2269f4d3f15d4e36a277",
    "files": [
        {
            "sha": "fa4b80968976c50e8504a37b94ccc6a3aac58e3b",
            "filename": "test/parallel/test-crypto-fips.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/feebdc5bc5a44779069a2269f4d3f15d4e36a277/test%2Fparallel%2Ftest-crypto-fips.js",
            "raw_url": "https://github.com/nodejs/node/raw/feebdc5bc5a44779069a2269f4d3f15d4e36a277/test%2Fparallel%2Ftest-crypto-fips.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-fips.js?ref=feebdc5bc5a44779069a2269f4d3f15d4e36a277",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n if (!common.hasCrypto)\n@@ -7,6 +8,8 @@ const assert = require('assert');\n const spawnSync = require('child_process').spawnSync;\n const path = require('path');\n const fixtures = require('../common/fixtures');\n+const { internalBinding } = require('internal/test/binding');\n+const { fipsMode } = internalBinding('config');\n \n const FIPS_ENABLED = 1;\n const FIPS_DISABLED = 0;\n@@ -24,7 +27,7 @@ const CNF_FIPS_OFF = fixtures.path('openssl_fips_disabled.cnf');\n let num_children_ok = 0;\n \n function compiledWithFips() {\n-  return process.config.variables.openssl_fips ? true : false;\n+  return fipsMode ? true : false;\n }\n \n function sharedOpenSSL() {"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}