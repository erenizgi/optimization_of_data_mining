{
    "author": "ZYSzys",
    "message": "test: remove `util.inherits()` usage\n\nPR-URL: https://github.com/nodejs/node/pull/25245\nRefs: https://github.com/nodejs/node/pull/24755\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "2f981cdd5824845aeaf0abb0412b64bb31f49225",
    "files": [
        {
            "sha": "9c497fcd9b40dad9ee5b7bc336c86306f94d7ca6",
            "filename": "test/common/arraystream.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fcommon%2Farraystream.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fcommon%2Farraystream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Farraystream.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -2,7 +2,6 @@\n 'use strict';\n \n const { Stream } = require('stream');\n-const { inherits } = require('util');\n function noop() {}\n \n // A stream to push an array into a REPL\n@@ -14,7 +13,8 @@ function ArrayStream() {\n   };\n }\n \n-inherits(ArrayStream, Stream);\n+Object.setPrototypeOf(ArrayStream.prototype, Stream.prototype);\n+Object.setPrototypeOf(ArrayStream, Stream);\n ArrayStream.prototype.readable = true;\n ArrayStream.prototype.writable = true;\n ArrayStream.prototype.pause = noop;"
        },
        {
            "sha": "ceff6e7945370590e182029b854aed36c42cf3ea",
            "filename": "test/fixtures/repl-tab-completion-nested-repls.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Ffixtures%2Frepl-tab-completion-nested-repls.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Ffixtures%2Frepl-tab-completion-nested-repls.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Frepl-tab-completion-nested-repls.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -7,7 +7,6 @@\n 'use strict';\n \n const { Stream } = require('stream');\n-const { inherits } = require('util');\n function noop() {}\n \n // A stream to push an array into a REPL\n@@ -19,7 +18,8 @@ function ArrayStream() {\n   };\n }\n \n-inherits(ArrayStream, Stream);\n+Object.setPrototypeOf(ArrayStream.prototype, Stream.prototype);\n+Object.setPrototypeOf(ArrayStream, Stream);\n ArrayStream.prototype.readable = true;\n ArrayStream.prototype.writable = true;\n ArrayStream.prototype.pause = noop;\n@@ -47,4 +47,4 @@ putIn.run([\n ]);\n \n // In Node.js 10.11.0, this next line will terminate the repl silently...\n-testMe.complete('inner.o', () => { throw new Error('fhqwhgads'); });\n+testMe.complete('inner.o', () => { throw new Error('fhqwhgads'); });\n\\ No newline at end of file"
        },
        {
            "sha": "c5cf009259d722aaa9c8f578cb583b3a943afc40",
            "filename": "test/parallel/test-event-emitter-prepend.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-event-emitter-prepend.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-event-emitter-prepend.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-event-emitter-prepend.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -31,21 +31,22 @@ common.expectsError(() => {\n \n // Test fallback if prependListener is undefined.\n const stream = require('stream');\n-const util = require('util');\n \n delete EventEmitter.prototype.prependListener;\n \n function Writable() {\n   this.writable = true;\n   stream.Stream.call(this);\n }\n-util.inherits(Writable, stream.Stream);\n+Object.setPrototypeOf(Writable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Writable, stream.Stream);\n \n function Readable() {\n   this.readable = true;\n   stream.Stream.call(this);\n }\n-util.inherits(Readable, stream.Stream);\n+Object.setPrototypeOf(Readable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Readable, stream.Stream);\n \n const w = new Writable();\n const r = new Readable();"
        },
        {
            "sha": "1157f334594981d30c4e53aa357c3ed5ed603d4e",
            "filename": "test/parallel/test-event-emitter-subclass.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-event-emitter-subclass.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-event-emitter-subclass.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-event-emitter-subclass.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -23,9 +23,9 @@\n const common = require('../common');\n const assert = require('assert');\n const EventEmitter = require('events').EventEmitter;\n-const util = require('util');\n \n-util.inherits(MyEE, EventEmitter);\n+Object.setPrototypeOf(MyEE.prototype, EventEmitter.prototype);\n+Object.setPrototypeOf(MyEE, EventEmitter);\n \n function MyEE(cb) {\n   this.once(1, cb);\n@@ -38,7 +38,8 @@ const myee = new MyEE(common.mustCall());\n \n myee.hasOwnProperty('usingDomains');\n \n-util.inherits(ErrorEE, EventEmitter);\n+Object.setPrototypeOf(ErrorEE.prototype, EventEmitter.prototype);\n+Object.setPrototypeOf(ErrorEE, EventEmitter);\n function ErrorEE() {\n   this.emit('error', new Error('blerg'));\n }"
        },
        {
            "sha": "dc971690412baaa0413c8bd547588adf30770e15",
            "filename": "test/parallel/test-http-upgrade-server.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-http-upgrade-server.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-http-upgrade-server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-upgrade-server.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -24,7 +24,6 @@\n require('../common');\n const assert = require('assert');\n \n-const util = require('util');\n const net = require('net');\n const http = require('http');\n \n@@ -69,7 +68,8 @@ function testServer() {\n   });\n }\n \n-util.inherits(testServer, http.Server);\n+Object.setPrototypeOf(testServer.prototype, http.Server.prototype);\n+Object.setPrototypeOf(testServer, http.Server);\n \n \n function writeReq(socket, data, encoding) {"
        },
        {
            "sha": "1108413e72480f956df9fa956aa37a0e5c25ca62",
            "filename": "test/parallel/test-stream-duplex-destroy.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-duplex-destroy.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-duplex-destroy.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-duplex-destroy.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -3,7 +3,6 @@\n const common = require('../common');\n const { Duplex } = require('stream');\n const assert = require('assert');\n-const { inherits } = require('util');\n \n {\n   const duplex = new Duplex({\n@@ -190,7 +189,8 @@ const { inherits } = require('util');\n     Duplex.call(this);\n   }\n \n-  inherits(MyDuplex, Duplex);\n+  Object.setPrototypeOf(MyDuplex.prototype, Duplex.prototype);\n+  Object.setPrototypeOf(MyDuplex, Duplex);\n \n   new MyDuplex();\n }"
        },
        {
            "sha": "cdb4d503d6422a63a0beebf0673d7a769c570825",
            "filename": "test/parallel/test-stream-pipe-cleanup.js",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-pipe-cleanup.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-pipe-cleanup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-pipe-cleanup.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -25,14 +25,14 @@\n require('../common');\n const stream = require('stream');\n const assert = require('assert');\n-const util = require('util');\n \n function Writable() {\n   this.writable = true;\n   this.endCalls = 0;\n   stream.Stream.call(this);\n }\n-util.inherits(Writable, stream.Stream);\n+Object.setPrototypeOf(Writable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Writable, stream.Stream);\n Writable.prototype.end = function() {\n   this.endCalls++;\n };\n@@ -45,13 +45,15 @@ function Readable() {\n   this.readable = true;\n   stream.Stream.call(this);\n }\n-util.inherits(Readable, stream.Stream);\n+Object.setPrototypeOf(Readable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Readable, stream.Stream);\n \n function Duplex() {\n   this.readable = true;\n   Writable.call(this);\n }\n-util.inherits(Duplex, Writable);\n+Object.setPrototypeOf(Duplex.prototype, Writable.prototype);\n+Object.setPrototypeOf(Duplex, Writable);\n \n let i = 0;\n const limit = 100;"
        },
        {
            "sha": "d7772df6a1624bea32727975c19c6f9a8e8f4194",
            "filename": "test/parallel/test-stream-pipe-event.js",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-pipe-event.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-pipe-event.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-pipe-event.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -23,19 +23,20 @@\n require('../common');\n const stream = require('stream');\n const assert = require('assert');\n-const util = require('util');\n \n function Writable() {\n   this.writable = true;\n   stream.Stream.call(this);\n }\n-util.inherits(Writable, stream.Stream);\n+Object.setPrototypeOf(Writable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Writable, stream.Stream);\n \n function Readable() {\n   this.readable = true;\n   stream.Stream.call(this);\n }\n-util.inherits(Readable, stream.Stream);\n+Object.setPrototypeOf(Readable.prototype, stream.Stream.prototype);\n+Object.setPrototypeOf(Readable, stream.Stream);\n \n let passed = false;\n "
        },
        {
            "sha": "8ad375e68b3e425b59f884f84b7c9cbad3ec8856",
            "filename": "test/parallel/test-stream-readable-destroy.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-readable-destroy.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-readable-destroy.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-readable-destroy.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -3,7 +3,6 @@\n const common = require('../common');\n const { Readable } = require('stream');\n const assert = require('assert');\n-const { inherits } = require('util');\n \n {\n   const read = new Readable({\n@@ -160,7 +159,8 @@ const { inherits } = require('util');\n     Readable.call(this);\n   }\n \n-  inherits(MyReadable, Readable);\n+  Object.setPrototypeOf(MyReadable.prototype, Readable.prototype);\n+  Object.setPrototypeOf(MyReadable, Readable);\n \n   new MyReadable();\n }"
        },
        {
            "sha": "5fbb7ae19b14dc988de1ed577013bf614dd4ff1a",
            "filename": "test/parallel/test-stream-writable-destroy.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-writable-destroy.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-stream-writable-destroy.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-writable-destroy.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -3,7 +3,6 @@\n const common = require('../common');\n const { Writable } = require('stream');\n const assert = require('assert');\n-const { inherits } = require('util');\n \n {\n   const write = new Writable({\n@@ -173,7 +172,8 @@ const { inherits } = require('util');\n     Writable.call(this);\n   }\n \n-  inherits(MyWritable, Writable);\n+  Object.setPrototypeOf(MyWritable.prototype, Writable.prototype);\n+  Object.setPrototypeOf(MyWritable, Writable);\n \n   new MyWritable();\n }"
        },
        {
            "sha": "9d6b43a52d73d23188e08080786c152bac9299ed",
            "filename": "test/parallel/test-util-format.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-util-format.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-util-format.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-format.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -308,7 +308,8 @@ function BadCustomError(msg) {\n   Object.defineProperty(this, 'name',\n                         { value: 'BadCustomError', enumerable: false });\n }\n-util.inherits(BadCustomError, Error);\n+Object.setPrototypeOf(BadCustomError.prototype, Error.prototype);\n+Object.setPrototypeOf(BadCustomError, Error);\n assert.strictEqual(util.format(new BadCustomError('foo')),\n                    '[BadCustomError: foo]');\n "
        },
        {
            "sha": "1816e4db06075c2dcf1e56e9018f15810aacce0b",
            "filename": "test/parallel/test-util-inspect.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-util-inspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-util-inspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inspect.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -599,7 +599,8 @@ assert.strictEqual(util.inspect(-5e-324), '-5e-324');\n     Object.defineProperty(this, 'name',\n                           { value: 'BadCustomError', enumerable: false });\n   }\n-  util.inherits(BadCustomError, Error);\n+  Object.setPrototypeOf(BadCustomError.prototype, Error.prototype);\n+  Object.setPrototypeOf(BadCustomError, Error);\n   assert.strictEqual(\n     util.inspect(new BadCustomError('foo')),\n     '[BadCustomError: foo]'"
        },
        {
            "sha": "bb53caa9b50a6d0bc1121267c20ceb47ec5c0592",
            "filename": "test/parallel/test-zlib-deflate-raw-inherits.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-zlib-deflate-raw-inherits.js",
            "raw_url": "https://github.com/nodejs/node/raw/2f981cdd5824845aeaf0abb0412b64bb31f49225/test%2Fparallel%2Ftest-zlib-deflate-raw-inherits.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-zlib-deflate-raw-inherits.js?ref=2f981cdd5824845aeaf0abb0412b64bb31f49225",
            "patch": "@@ -2,17 +2,17 @@\n \n require('../common');\n const { DeflateRaw } = require('zlib');\n-const { inherits } = require('util');\n const { Readable } = require('stream');\n \n // validates that zlib.DeflateRaw can be inherited\n-// with util.inherits\n+// with Object.setPrototypeOf\n \n function NotInitialized(options) {\n   DeflateRaw.call(this, options);\n   this.prop = true;\n }\n-inherits(NotInitialized, DeflateRaw);\n+Object.setPrototypeOf(NotInitialized.prototype, DeflateRaw.prototype);\n+Object.setPrototypeOf(NotInitialized, DeflateRaw);\n \n const dest = new NotInitialized();\n "
        }
    ],
    "stats": {
        "total": 69,
        "additions": 38,
        "deletions": 31
    }
}