{
    "author": "trivikr",
    "message": "test: http2 client settings invalid callback\n\nPR-URL: https://github.com/nodejs/node/pull/18850\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "0089860757753f305a45a4c6d19db54e162c36c2",
    "files": [
        {
            "sha": "ceea1bc39ad7d3f3e5dfb5c8d3961cb5efc9eccd",
            "filename": "test/parallel/test-http2-client-settings-before-connect.js",
            "status": "modified",
            "additions": 17,
            "deletions": 4,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/0089860757753f305a45a4c6d19db54e162c36c2/test%2Fparallel%2Ftest-http2-client-settings-before-connect.js",
            "raw_url": "https://github.com/nodejs/node/raw/0089860757753f305a45a4c6d19db54e162c36c2/test%2Fparallel%2Ftest-http2-client-settings-before-connect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-client-settings-before-connect.js?ref=0089860757753f305a45a4c6d19db54e162c36c2",
            "patch": "@@ -35,13 +35,26 @@ server.listen(0, common.mustCall(() => {\n     ['enablePush', 0, TypeError],\n     ['enablePush', null, TypeError],\n     ['enablePush', {}, TypeError]\n-  ].forEach((i) => {\n+  ].forEach(([name, value, errorType]) =>\n     common.expectsError(\n-      () => client.settings({ [i[0]]: i[1] }),\n+      () => client.settings({ [name]: value }),\n       {\n         code: 'ERR_HTTP2_INVALID_SETTING_VALUE',\n-        type: i[2] });\n-  });\n+        type: errorType\n+      }\n+    )\n+  );\n+\n+  [1, true, {}, []].forEach((invalidCallback) =>\n+    common.expectsError(\n+      () => client.settings({}, invalidCallback),\n+      {\n+        type: TypeError,\n+        code: 'ERR_INVALID_CALLBACK',\n+        message: 'Callback must be a function'\n+      }\n+    )\n+  );\n \n   client.settings({ maxFrameSize: 1234567 });\n "
        }
    ],
    "stats": {
        "total": 21,
        "additions": 17,
        "deletions": 4
    }
}