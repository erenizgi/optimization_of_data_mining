{
    "author": "ryzokuken",
    "message": "test: rename regression tests file names\n\nRename the tests appropriately alongside mentioning the subsystem.\nAlso, make a few basic changes to make sure the tests conform to the\nstandard test structure.\n\n- Rename test-regress-GH-io-1068 to test-tty-stdin-end\n- Rename test-regress-GH-io-1811 to test-zlib-kmaxlength-rangeerror\n- Rename test-regress-GH-node-9326 to test-kill-segfault-freebsd\n- Rename test-timers-regress-GH-9765 to test-timers-setimmediate-infinite-loop\n- Rename test-tls-pfx-gh-5100-regr to test-tls-pfx-authorizationerror\n- Rename test-tls-regr-gh-5108 to test-tls-tlswrap-segfault\n\nPR-URL: https://github.com/nodejs/node/pull/19332\nFixes: https://github.com/nodejs/node/issues/19105\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Yuta Hiroto <hello@hiroppy.me>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Shingo Inoue <leko.noor@gmail.com>",
    "sha": "d54e0f8e52ff5f63c696a82509098f09f0625d3f",
    "files": [
        {
            "sha": "8532f11c86b804497c20b85ff4ad77824eef1ebc",
            "filename": "test/parallel/test-kill-segfault-freebsd.js",
            "status": "renamed",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-kill-segfault-freebsd.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-kill-segfault-freebsd.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-kill-segfault-freebsd.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "patch": "@@ -1,5 +1,10 @@\n 'use strict';\n require('../common');\n+\n+// This test ensures Node.js doesn't crash on hitting Ctrl+C in order to\n+// terminate the currently running process (especially on FreeBSD).\n+// https://github.com/nodejs/node-v0.x-archive/issues/9326\n+\n const assert = require('assert');\n const child_process = require('child_process');\n ",
            "previous_filename": "test/parallel/test-regress-GH-node-9326.js"
        },
        {
            "sha": "a92bb3e75259f08d73299cabd08113e38f784529",
            "filename": "test/parallel/test-regress-GH-io-1068.js",
            "status": "removed",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/d74184c2fa356a0f1cda99803d26a768f23a18bf/test%2Fparallel%2Ftest-regress-GH-io-1068.js",
            "raw_url": "https://github.com/nodejs/node/raw/d74184c2fa356a0f1cda99803d26a768f23a18bf/test%2Fparallel%2Ftest-regress-GH-io-1068.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-regress-GH-io-1068.js?ref=d74184c2fa356a0f1cda99803d26a768f23a18bf",
            "patch": "@@ -1,3 +0,0 @@\n-'use strict';\n-require('../common');\n-process.stdin.emit('end');"
        },
        {
            "sha": "49adc390fa7bb5450622d0d175c211e63f0f4a95",
            "filename": "test/parallel/test-timers-setimmediate-infinite-loop.js",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-timers-setimmediate-infinite-loop.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-timers-setimmediate-infinite-loop.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-timers-setimmediate-infinite-loop.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "previous_filename": "test/parallel/test-timers-regress-GH-9765.js"
        },
        {
            "sha": "64b6e1485dc5383e758cb934def40019700d3be1",
            "filename": "test/parallel/test-tls-pfx-authorizationerror.js",
            "status": "added",
            "additions": 42,
            "deletions": 0,
            "changes": 42,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tls-pfx-authorizationerror.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tls-pfx-authorizationerror.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-pfx-authorizationerror.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "patch": "@@ -0,0 +1,42 @@\n+'use strict';\n+const common = require('../common');\n+if (!common.hasCrypto)\n+  common.skip('node compiled without crypto.');\n+const fixtures = require('../common/fixtures');\n+\n+// This test ensures that TLS does not fail to read a self-signed certificate\n+// and thus throw an `authorizationError`.\n+// https://github.com/nodejs/node/issues/5100\n+\n+const assert = require('assert');\n+const tls = require('tls');\n+\n+const pfx = fixtures.readKey('agent1-pfx.pem');\n+\n+const server = tls\n+  .createServer(\n+    {\n+      pfx: pfx,\n+      passphrase: 'sample',\n+      requestCert: true,\n+      rejectUnauthorized: false\n+    },\n+    common.mustCall(function(c) {\n+      assert.strictEqual(c.authorizationError, null);\n+      c.end();\n+    })\n+  )\n+  .listen(0, function() {\n+    const client = tls.connect(\n+      {\n+        port: this.address().port,\n+        pfx: pfx,\n+        passphrase: 'sample',\n+        rejectUnauthorized: false\n+      },\n+      function() {\n+        client.end();\n+        server.close();\n+      }\n+    );\n+  });"
        },
        {
            "sha": "199d4bdf22778cf445972885fbce2ce6768a693c",
            "filename": "test/parallel/test-tls-pfx-gh-5100-regr.js",
            "status": "removed",
            "additions": 0,
            "deletions": 32,
            "changes": 32,
            "blob_url": "https://github.com/nodejs/node/blob/d74184c2fa356a0f1cda99803d26a768f23a18bf/test%2Fparallel%2Ftest-tls-pfx-gh-5100-regr.js",
            "raw_url": "https://github.com/nodejs/node/raw/d74184c2fa356a0f1cda99803d26a768f23a18bf/test%2Fparallel%2Ftest-tls-pfx-gh-5100-regr.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-pfx-gh-5100-regr.js?ref=d74184c2fa356a0f1cda99803d26a768f23a18bf",
            "patch": "@@ -1,32 +0,0 @@\n-'use strict';\n-\n-const common = require('../common');\n-\n-if (!common.hasCrypto)\n-  common.skip('node compiled without crypto.');\n-\n-const assert = require('assert');\n-const tls = require('tls');\n-const fixtures = require('../common/fixtures');\n-\n-const pfx = fixtures.readKey('agent1-pfx.pem');\n-\n-const server = tls.createServer({\n-  pfx: pfx,\n-  passphrase: 'sample',\n-  requestCert: true,\n-  rejectUnauthorized: false\n-}, common.mustCall(function(c) {\n-  assert.strictEqual(c.authorizationError, null);\n-  c.end();\n-})).listen(0, function() {\n-  const client = tls.connect({\n-    port: this.address().port,\n-    pfx: pfx,\n-    passphrase: 'sample',\n-    rejectUnauthorized: false\n-  }, function() {\n-    client.end();\n-    server.close();\n-  });\n-});"
        },
        {
            "sha": "eaa51ff51baa713fe1fc2f3bff099b56f289f21c",
            "filename": "test/parallel/test-tls-tlswrap-segfault.js",
            "status": "renamed",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tls-tlswrap-segfault.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tls-tlswrap-segfault.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-tlswrap-segfault.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "patch": "@@ -1,19 +1,21 @@\n 'use strict';\n const common = require('../common');\n-\n if (!common.hasCrypto)\n   common.skip('missing crypto');\n+const fixtures = require('../common/fixtures');\n+\n+// This test ensures that Node.js doesn't incur a segfault while accessing\n+// TLSWrap fields after the parent handle was destroyed.\n+// https://github.com/nodejs/node/issues/5108\n \n const assert = require('assert');\n const tls = require('tls');\n-const fixtures = require('../common/fixtures');\n \n const options = {\n   key: fixtures.readKey('agent1-key.pem'),\n   cert: fixtures.readKey('agent1-cert.pem')\n };\n \n-\n const server = tls.createServer(options, function(s) {\n   s.end('hello');\n }).listen(0, function() {\n@@ -26,7 +28,6 @@ const server = tls.createServer(options, function(s) {\n   });\n });\n \n-\n function putImmediate(client) {\n   setImmediate(function() {\n     if (client.ssl) {",
            "previous_filename": "test/parallel/test-tls-regr-gh-5108.js"
        },
        {
            "sha": "c78f58446d03e900d071f876d6147452cb93bce7",
            "filename": "test/parallel/test-tty-stdin-end.js",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tty-stdin-end.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-tty-stdin-end.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tty-stdin-end.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "patch": "@@ -0,0 +1,7 @@\n+'use strict';\n+require('../common');\n+\n+// This test ensures that Node.js doesn't crash on `process.stdin.emit(\"end\")`.\n+// https://github.com/nodejs/node/issues/1068\n+\n+process.stdin.emit('end');"
        },
        {
            "sha": "e8e47865f796040db4eb02bad10b74f2c4373fd7",
            "filename": "test/parallel/test-zlib-kmaxlength-rangeerror.js",
            "status": "renamed",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-zlib-kmaxlength-rangeerror.js",
            "raw_url": "https://github.com/nodejs/node/raw/d54e0f8e52ff5f63c696a82509098f09f0625d3f/test%2Fparallel%2Ftest-zlib-kmaxlength-rangeerror.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-zlib-kmaxlength-rangeerror.js?ref=d54e0f8e52ff5f63c696a82509098f09f0625d3f",
            "patch": "@@ -1,6 +1,10 @@\n 'use strict';\n-\n require('../common');\n+\n+// This test ensures that zlib throws a RangeError if the final buffer needs to\n+// be larger than kMaxLength and concatenation fails.\n+// https://github.com/nodejs/node/pull/1811\n+\n const assert = require('assert');\n \n // Change kMaxLength for zlib to trigger the error without having to allocate",
            "previous_filename": "test/parallel/test-regress-GH-io-1811.js"
        }
    ],
    "stats": {
        "total": 104,
        "additions": 64,
        "deletions": 40
    }
}