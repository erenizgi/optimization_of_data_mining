{
    "author": "vipinmenon",
    "message": "doc: add node-report documentation\n\na separate section added for node-report at top level\nmain documentation added to doc/api/report.md\nAPI documentation added to doc/api/process.md\n\nPR-URL: https://github.com/nodejs/node/pull/22712\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Michael Dawson <Michael_Dawson@ca.ibm.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>",
    "sha": "7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
    "files": [
        {
            "sha": "770d98336f57f71670d73dcba16d775e3b26bf8d",
            "filename": "doc/api/cli.md",
            "status": "modified",
            "additions": 73,
            "deletions": 0,
            "changes": 73,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Fcli.md",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Fcli.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fcli.md?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -75,6 +75,64 @@ $ node --completion-bash > node_bash_completion\n $ source node_bash_completion\n ```\n \n+### `--diagnostic-report-directory=directory`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Location at which the report will be generated.\n+\n+### `--diagnostic-report-filename=filename`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Name of the file to which the report will be written.\n+\n+### `--diagnostic-report-on-fatalerror`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Enables the report to be triggered on fatal errors (internal errors within\n+the Node.js runtime such as out of memory) that lead to termination of the\n+application, if `--experimental-report` is enabled. Useful to inspect various\n+diagnostic data elements such as heap, stack, event loop state, resource\n+consumption etc. to reason about the fatal error.\n+\n+### `--diagnostic-report-on-signal`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Enables report to be generated upon receiving the specified (or predefined)\n+signal to the running Node.js process, if `--experimental-report` is enabled.\n+The signal to trigger the report is specified through `--diagnostic-report-signal`.\n+\n+### `--diagnostic-report-signal=signal`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Sets or resets the signal for report generation (not supported on Windows).\n+Default signal is `SIGUSR2`.\n+\n+### `--diagnostic-report-uncaught-exception`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Enables report to be generated on un-caught exceptions, if\n+`--experimental-report` is enabled. Useful when inspecting JavaScript stack in\n+conjunction with native stack and other runtime environment data.\n+\n+### `--diagnostic-report-verbose`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Flag that enables additional information to be printed during report generation.\n+\n ### `--enable-fips`\n <!-- YAML\n added: v6.0.0\n@@ -104,6 +162,13 @@ added: v10.0.0\n \n Enable experimental top-level `await` keyword support in REPL.\n \n+### `--experimental-report`\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Enable experimental diagnostic report feature.\n+\n ### `--experimental-vm-modules`\n <!-- YAML\n added: v9.6.0\n@@ -616,9 +681,17 @@ if they had been specified on the command line before the actual command line\n that is not allowed in the environment is used, such as `-p` or a script file.\n \n Node.js options that are allowed are:\n+- `--diagnostic-report-directory`\n+- `--diagnostic-report-filename`\n+- `--diagnostic-report-on-fatalerror`\n+- `--diagnostic-report-on-signal`\n+- `--diagnostic-report-signal`\n+- `--diagnostic-report-uncaught-exception`\n+- `--diagnostic-report-verbose`\n - `--enable-fips`\n - `--experimental-modules`\n - `--experimental-repl-await`\n+- `--experimental-report`\n - `--experimental-vm-modules`\n - `--force-fips`\n - `--icu-data-dir`"
        },
        {
            "sha": "f50c2334bc8f6159ca12788c857930fda0f60748",
            "filename": "doc/api/errors.md",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Ferrors.md",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Ferrors.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ferrors.md?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -1689,6 +1689,12 @@ called.\n An attempt has been made to create a string longer than the maximum allowed\n length.\n \n+<a id=\"ERR_SYNTHETIC\"></a>\n+#### ERR_SYNTHETIC\n+\n+An artificial error object used to capture call stack when diagnostic report\n+is produced.\n+\n <a id=\"ERR_SYSTEM_ERROR\"></a>\n ### ERR_SYSTEM_ERROR\n "
        },
        {
            "sha": "ad16610edaa461801ec8b42e8afd30f4937a7e3e",
            "filename": "doc/api/index.md",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Findex.md",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Findex.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Findex.md?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -45,6 +45,7 @@\n * [Query Strings](querystring.html)\n * [Readline](readline.html)\n * [REPL](repl.html)\n+* [Report](report.html)\n * [Stream](stream.html)\n * [String Decoder](string_decoder.html)\n * [Timers](timers.html)"
        },
        {
            "sha": "c8c298c1c6b133b3189bdd455a18b941fa724442",
            "filename": "doc/api/process.md",
            "status": "modified",
            "additions": 104,
            "deletions": 0,
            "changes": 104,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Fprocess.md",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Fprocess.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fprocess.md?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -1658,6 +1658,109 @@ In custom builds from non-release versions of the source tree, only the\n `name` property may be present. The additional properties should not be\n relied upon to exist.\n \n+## process.report\n+\n+### process.report.getReport([err])\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+* `err` {Object}\n+* Returns: {Object} Returns the diagnostics report as an `Object`.\n+\n+Generates a JSON-formatted diagnostic report summary of the running process.\n+The report includes JavaScript and native stack traces, heap statistics,\n+platform information, resource usage etc.\n+\n+```js\n+const data = process.report.getReport();\n+console.log(data);\n+```\n+\n+Additional documentation on diagnostic report is available\n+at [report documentation][].\n+\n+### process.report.setDiagnosticReportOptions([options]);\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+Set the runtime configuration of diagnostic report data capture. Upon invocation\n+of this function, the runtime is reconfigured to generate report based on\n+the new input.\n+\n+* `options` {Object}\n+  * `events` {string[]}\n+    * `signal`: generate a report in response to a signal raised on the process.\n+    * `exception`: generate a report on unhandled exceptions.\n+    * `fatalerror`: generate a report on internal fault\n+      (such as out of memory errors or native assertions).\n+  * `signal` {string} sets or resets the signal for report generation\n+    (not supported on Windows). **Default:** `'SIGUSR2'`.\n+  * `filename` {string} name of the file to which the report will be written.\n+  * `path` {string} drectory at which the report will be generated.\n+    **Default:** the current working directory of the Node.js process.\n+  * `verbose` {boolean} flag that controls additional verbose information on\n+    report generation. **Default:** `false`.\n+\n+```js\n+// Trigger a report upon uncaught exceptions or fatal erros.\n+process.report.setDiagnosticReportOptions(\n+  { events: ['exception', 'fatalerror'] });\n+\n+// Change the default path and filename of the report.\n+process.report.setDiagnosticReportOptions(\n+  { filename: 'foo.json', path: '/home' });\n+\n+// Produce the report onto stdout, when generated. Special meaning is attached\n+// to `stdout` and `stderr`. Usage of these will result in report being written\n+// to the associated standard streams. URLs are not supported.\n+process.report.setDiagnosticReportOptions(\n+  { filename: 'stdout' });\n+\n+// Enable verbose option on report generation.\n+process.report.setDiagnosticReportOptions(\n+  { verbose: true });\n+\n+```\n+\n+Signal based report generation is not supported on Windows.\n+\n+Additional documentation on diagnostic report is available\n+at [report documentation][].\n+\n+### process.report.triggerReport([filename][, err])\n+<!-- YAML\n+added: REPLACEME\n+-->\n+\n+* `filename` {string} The file to write into. The `filename` should be\n+a relative path, that will be appended to the directory specified by\n+`process.report.setDiagnosticReportOptions`, or current working directory\n+of the Node.js process, if unspecified.\n+* `err`  {Object} A custom object which will be used for reporting\n+JavsScript stack.\n+\n+* Returns: {string} Returns the filename of the generated report.\n+\n+If both `filename` and `err` object are passed to `triggerReport()` the\n+`err` object must be the second parameter.\n+\n+Triggers and produces the report (a JSON-formatted file with the internal\n+state of Node.js runtime) synchronously, and writes into a file.\n+\n+```js\n+process.report.triggerReport();\n+```\n+\n+When a report is triggered, start and end messages are issued to stderr and the\n+filename of the report is returned to the caller. The default filename includes\n+the date, time, PID and a sequence number. Alternatively, a filename and error\n+object can be specified as parameters on the `triggerReport()` call.\n+\n+Additional documentation on diagnostic report is available\n+at [report documentation][].\n+\n ## process.send(message[, sendHandle[, options]][, callback])\n <!-- YAML\n added: v0.5.9\n@@ -2172,3 +2275,4 @@ cases:\n [note on process I/O]: process.html#process_a_note_on_process_i_o\n [process_emit_warning]: #process_process_emitwarning_warning_type_code_ctor\n [process_warning]: #process_event_warning\n+[report documentation]: report.html"
        },
        {
            "sha": "00340444a86b9850c86dc27a7fa4ebcb40a83374",
            "filename": "doc/api/report.md",
            "status": "added",
            "additions": 490,
            "deletions": 0,
            "changes": 490,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Freport.md",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fapi%2Freport.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Freport.md?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -0,0 +1,490 @@\n+# Diagnostic Report\n+\n+Delivers a JSON-formatted diagnostic summary, written to a file.\n+\n+The report is intended for development, test and production use, to capture\n+and preserve information for problem determination. It includes JavaScript\n+and native stack traces, heap statistics, platform information, resource\n+usage etc. With the report option enabled, diagnostic reports can be triggered\n+on unhandled exceptions, fatal errors and user signals, in addition to\n+triggering programmatically through API calls.\n+\n+A complete example report that was generated on an uncaught exception\n+is provided below for reference.\n+\n+```json\n+{\n+  \"header\": {\n+    \"event\": \"exception\",\n+    \"location\": \"OnUncaughtException\",\n+    \"filename\": \"report.20181221.005011.8974.001.json\",\n+    \"dumpEventTime\": \"2018-12-21T00:50:11Z\",\n+    \"dumpEventTimeStamp\": \"1545371411331\",\n+    \"processId\": \"8974\",\n+    \"commandLine\": [\n+      \"/home/nodeuser/project/node/out/Release/node\",\n+      \"--experimental-report\",\n+      \"--diagnostic-report-uncaught-exception\",\n+      \"/home/nodeuser/project/node/test/node-report/test-exception.js\",\n+      \"child\"\n+    ],\n+    \"nodejsVersion\": \"v12.0.0-pre\",\n+    \"glibcVersion\": \"2.17\",\n+    \"wordSize\": \"64 bit\",\n+    \"componentVersions\": {\n+      \"node\": \"12.0.0-pre\",\n+      \"v8\": \"7.1.302.28-node.5\",\n+      \"uv\": \"1.24.1\",\n+      \"zlib\": \"1.2.11\",\n+      \"ares\": \"1.15.0\",\n+      \"modules\": \"68\",\n+      \"nghttp2\": \"1.34.0\",\n+      \"napi\": \"3\",\n+      \"llhttp\": \"1.0.1\",\n+      \"http_parser\": \"2.8.0\",\n+      \"openssl\": \"1.1.0j\",\n+      \"arch\": \"x64\",\n+      \"platform\": \"linux\",\n+      \"release\": \"node\"\n+    },\n+    \"osVersion\": \"Linux 3.10.0-862.el7.x86_64 #1 SMP Wed Mar 21 18:14:51 EDT 2018\",\n+    \"glibc\": \"2.17\",\n+    \"machine\": \"Linux 3.10.0-862.el7.x86_64 #1 SMP Wed Mar 21 18:14:51 EDT 2018test_machine x86_64\"\n+  },\n+  \"javascriptStack\": {\n+    \"message\": \"Error: *** test-exception.js: throwing uncaught Error\",\n+    \"stack\": [\n+      \"at myException (/home/nodeuser/project/node/test/node-report/test-exception.js:9:11)\",\n+      \"at Object.<anonymous> (/home/nodeuser/project/node/test/node-report/test-exception.js:12:3)\",\n+      \"at Module._compile (internal/modules/cjs/loader.js:718:30)\",\n+      \"at Object.Module._extensions..js (internal/modules/cjs/loader.js:729:10)\",\n+      \"at Module.load (internal/modules/cjs/loader.js:617:32)\",\n+      \"at tryModuleLoad (internal/modules/cjs/loader.js:560:12)\",\n+      \"at Function.Module._load (internal/modules/cjs/loader.js:552:3)\",\n+      \"at Function.Module.runMain (internal/modules/cjs/loader.js:771:12)\",\n+      \"at executeUserCode (internal/bootstrap/node.js:332:15)\"\n+    ]\n+  },\n+  \"nativeStack\": [\n+    \" [pc=0xa7ef87]  [/home/nodeuser/project/node/out/Release/node]\",\n+    \" [pc=0xa81adb] report::TriggerNodeReport(v8::Isolate*, node::Environment*, char const*, char const*, std::string, v8::Local<v8::String>) [/home/nodeuser/project/node/out/Release/node]\",\n+    \" [pc=0xa834f2] report::OnUncaughtException(v8::FunctionCallbackInfo<v8::Value> const&) [/home/nodeuser/project/node/out/Release/node]\",\n+    \" [pc=0xbe6b78]  [/home/nodeuser/project/node/out/Release/node]\",\n+    \" [pc=0xbe7596] v8::internal::Builtin_HandleApiCall(int, v8::internal::Object**, v8::internal::Isolate*) [/home/nodeuser/project/node/out/Release/node]\",\n+    \" [pc=0x1930cae]  [/home/nodeuser/project/node/out/Release/node]\"\n+  ],\n+  \"javascriptHeap\": {\n+    \"totalMemory\": \"6127616\",\n+    \"totalCommittedMemory\": \"4357352\",\n+    \"usedMemory\": \"3221136\",\n+    \"availableMemory\": \"1521370240\",\n+    \"memoryLimit\": \"1526909922\",\n+    \"heapSpaces\": {\n+      \"read_only_space\": {\n+        \"memorySize\": \"524288\",\n+        \"committedMemory\": \"39208\",\n+        \"capacity\": \"515584\",\n+        \"used\": \"30504\",\n+        \"available\": \"485080\"\n+      },\n+      \"new_space\": {\n+        \"memorySize\": \"2097152\",\n+        \"committedMemory\": \"2019312\",\n+        \"capacity\": \"1031168\",\n+        \"used\": \"985496\",\n+        \"available\": \"45672\"\n+      },\n+      \"old_space\": {\n+        \"memorySize\": \"2273280\",\n+        \"committedMemory\": \"1769008\",\n+        \"capacity\": \"1974640\",\n+        \"used\": \"1725488\",\n+        \"available\": \"249152\"\n+      },\n+      \"code_space\": {\n+        \"memorySize\": \"696320\",\n+        \"committedMemory\": \"184896\",\n+        \"capacity\": \"152128\",\n+        \"used\": \"152128\",\n+        \"available\": \"0\"\n+      },\n+      \"map_space\": {\n+        \"memorySize\": \"536576\",\n+        \"committedMemory\": \"344928\",\n+        \"capacity\": \"327520\",\n+        \"used\": \"327520\",\n+        \"available\": \"0\"\n+      },\n+      \"large_object_space\": {\n+        \"memorySize\": \"0\",\n+        \"committedMemory\": \"0\",\n+        \"capacity\": \"1520590336\",\n+        \"used\": \"0\",\n+        \"available\": \"1520590336\"\n+      },\n+      \"new_large_object_space\": {\n+        \"memorySize\": \"0\",\n+        \"committedMemory\": \"0\",\n+        \"capacity\": \"0\",\n+        \"used\": \"0\",\n+        \"available\": \"0\"\n+      }\n+    }\n+  },\n+  \"resourceUsage\": {\n+    \"userCpuSeconds\": \"0.069595\",\n+    \"kernelCpuSeconds\": \"0.019163\",\n+    \"cpuConsumptionPercent\": \"0.000000\",\n+    \"maxRss\": \"18079744\",\n+    \"pageFaults\": {\n+      \"IORequired\": \"0\",\n+      \"IONotRequired\": \"4610\"\n+    },\n+    \"fsActivity\": {\n+      \"reads\": \"0\",\n+      \"writes\": \"0\"\n+    }\n+  },\n+  \"uvthreadResourceUsage\": {\n+    \"userCpuSeconds\": \"0.068457\",\n+    \"kernelCpuSeconds\": \"0.019127\",\n+    \"cpuConsumptionPercent\": \"0.000000\",\n+    \"fsActivity\": {\n+      \"reads\": \"0\",\n+      \"writes\": \"0\"\n+    }\n+  },\n+  \"libuv\": [\n+    {\n+      \"type\": \"async\",\n+      \"is_active\": \"1\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"68090592\",\n+      \"details\": \"\"\n+    },\n+    {\n+      \"type\": \"timer\",\n+      \"is_active\": \"0\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"140723513949920\",\n+      \"details\": \"repeat: 0, timeout expired: 18075165916 ms ago\"\n+    },\n+    {\n+      \"type\": \"check\",\n+      \"is_active\": \"1\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"140723513950072\",\n+      \"details\": \"\"\n+    },\n+    {\n+      \"type\": \"idle\",\n+      \"is_active\": \"0\",\n+      \"is_referenced\": \"1\",\n+      \"address\": \"140723513950192\",\n+      \"details\": \"\"\n+    },\n+    {\n+      \"type\": \"prepare\",\n+      \"is_active\": \"0\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"140723513950312\",\n+      \"details\": \"\"\n+    },\n+    {\n+      \"type\": \"check\",\n+      \"is_active\": \"0\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"140723513950432\",\n+      \"details\": \"\"\n+    },\n+    {\n+      \"type\": \"async\",\n+      \"is_active\": \"1\",\n+      \"is_referenced\": \"0\",\n+      \"address\": \"39353856\",\n+      \"details\": \"\"\n+    }\n+  ],\n+  \"environmentVariables\": {\n+    \"REMOTEHOST\": \"REMOVED\",\n+    \"MANPATH\": \"/opt/rh/devtoolset-3/root/usr/share/man:\",\n+    \"XDG_SESSION_ID\": \"66126\",\n+    \"HOSTNAME\": \"test_machine\",\n+    \"HOST\": \"test_machine\",\n+    \"TERM\": \"xterm-256color\",\n+    \"SHELL\": \"/bin/csh\",\n+    \"SSH_CLIENT\": \"REMOVED\",\n+    \"PERL5LIB\": \"/opt/rh/devtoolset-3/root//usr/lib64/perl5/vendor_perl:/opt/rh/devtoolset-3/root/usr/lib/perl5:/opt/rh/devtoolset-3/root//usr/share/perl5/vendor_perl\",\n+    \"OLDPWD\": \"/home/nodeuser/project/node/src\",\n+    \"JAVACONFDIRS\": \"/opt/rh/devtoolset-3/root/etc/java:/etc/java\",\n+    \"SSH_TTY\": \"/dev/pts/0\",\n+    \"PCP_DIR\": \"/opt/rh/devtoolset-3/root\",\n+    \"GROUP\": \"normaluser\",\n+    \"USER\": \"nodeuser\",\n+    \"LD_LIBRARY_PATH\": \"/opt/rh/devtoolset-3/root/usr/lib64:/opt/rh/devtoolset-3/root/usr/lib\",\n+    \"HOSTTYPE\": \"x86_64-linux\",\n+    \"XDG_CONFIG_DIRS\": \"/opt/rh/devtoolset-3/root/etc/xdg:/etc/xdg\",\n+    \"MAIL\": \"/var/spool/mail/nodeuser\",\n+    \"PATH\": \"/home/nodeuser/project/node:/opt/rh/devtoolset-3/root/usr/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin\",\n+    \"PWD\": \"/home/nodeuser/project/node\",\n+    \"LANG\": \"en_US.UTF-8\",\n+    \"PS1\": \"\\\\u@\\\\h : \\\\[\\\\e[31m\\\\]\\\\w\\\\[\\\\e[m\\\\] >  \",\n+    \"SHLVL\": \"2\",\n+    \"HOME\": \"/home/nodeuser\",\n+    \"OSTYPE\": \"linux\",\n+    \"VENDOR\": \"unknown\",\n+    \"PYTHONPATH\": \"/opt/rh/devtoolset-3/root/usr/lib64/python2.7/site-packages:/opt/rh/devtoolset-3/root/usr/lib/python2.7/site-packages\",\n+    \"MACHTYPE\": \"x86_64\",\n+    \"LOGNAME\": \"nodeuser\",\n+    \"XDG_DATA_DIRS\": \"/opt/rh/devtoolset-3/root/usr/share:/usr/local/share:/usr/share\",\n+    \"LESSOPEN\": \"||/usr/bin/lesspipe.sh %s\",\n+    \"INFOPATH\": \"/opt/rh/devtoolset-3/root/usr/share/info\",\n+    \"XDG_RUNTIME_DIR\": \"/run/user/50141\",\n+    \"_\": \"./node\"\n+  },\n+  \"userLimits\": {\n+    \"core_file_size_blocks\": {\n+      \"soft\": \"\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"data_seg_size_kbytes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"file_size_blocks\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"max_locked_memory_bytes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"65536\"\n+    },\n+    \"max_memory_size_kbytes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"open_files\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"4096\"\n+    },\n+    \"stack_size_bytes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"cpu_time_seconds\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    },\n+    \"max_user_processes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"4127290\"\n+    },\n+    \"virtual_memory_kbytes\": {\n+      \"soft\": \"unlimited\",\n+      \"hard\": \"unlimited\"\n+    }\n+  },\n+  \"sharedObjects\": [\n+    \"/lib64/libdl.so.2\",\n+    \"/lib64/librt.so.1\",\n+    \"/lib64/libstdc++.so.6\",\n+    \"/lib64/libm.so.6\",\n+    \"/lib64/libgcc_s.so.1\",\n+    \"/lib64/libpthread.so.0\",\n+    \"/lib64/libc.so.6\",\n+    \"/lib64/ld-linux-x86-64.so.2\"\n+  ]\n+}\n+```\n+\n+## Usage\n+\n+```bash\n+node --experimental-report --diagnostic-report-uncaught-exception \\\n+  --diagnostic-report-on-signal --diagnostic-report-on-fatalerror app.js\n+```\n+\n+* `--experimental-report` Enables the diagnostic report feature.\n+ In the absence of this flag, use of all other related options will result in\n+ an error.\n+\n+* `--diagnostic-report-uncaught-exception` Enables report to be generated on\n+un-caught exceptions. Useful when inspecting JavaScript stack in conjunction\n+with native stack and other runtime environment data.\n+\n+* `--diagnostic-report-on-signal` Enables report to be generated upon receiving\n+the specified (or predefined) signal to the running Node.js process. (See below\n+on how to modify the signal that triggers the report.) Default signal is `SIGUSR2`.\n+Useful when a report needs to be triggered from another program.\n+Application monitors may leverage this feature to collect report at regular\n+intervals and plot rich set of internal runtime data to their views.\n+\n+Signal based report generation is not supported in Windows.\n+\n+Under normal circumstances, there is no need to modify the report triggering\n+signal. However, if `SIGUSR2` is already used for other purposes, then this\n+flag helps to change the signal for report generation and preserve the original\n+meaning of `SIGUSR2` for the said purposes.\n+\n+* `--diagnostic-report-on-fatalerror` Enables the report to be triggered on\n+fatal errors (internal errors within the Node.js runtime, such as out of memory)\n+that leads to termination of the application. Useful to inspect various\n+diagnostic data elements such as heap, stack, event loop state, resource\n+consumption etc. to reason about the fatal error.\n+\n+* `--diagnostic-report-directory` Location at which the report will be\n+generated.\n+\n+* `--diagnostic-report-filename` Name of the file to which the report will be\n+written.\n+\n+* `--diagnostic-report-signal` Sets or resets the signal for report generation\n+(not supported on Windows). Default signal is `SIGUSR2`.\n+\n+* `--diagnostic-report-verbose` Flag that enables additional information to be\n+printed during report generation.\n+\n+A report can also be triggered via an API call from a JavaScript application:\n+\n+```js\n+process.report.triggerReport();\n+```\n+\n+This function takes an optional additional argument `filename`, which is\n+the name of a file into which the report is written.\n+\n+```js\n+process.report.triggerReport('./foo.json');\n+```\n+\n+This function takes an optional additional argument `err` - an `Error` object\n+that will be used as the context for the JavaScript stack printed in the report.\n+When using report to handle errors in a callback or an exception handler, this\n+allows the report to include the location of the original error as well\n+as where it was handled.\n+\n+```js\n+try {\n+  process.chdir('/non-existent-path');\n+} catch (err) {\n+  process.report.triggerReport(err);\n+}\n+// Any other code\n+```\n+\n+If both filename and error object are passed to `triggerReport()` the\n+error object must be the second parameter.\n+\n+```js\n+try {\n+  process.chdir('/non-existent-path');\n+} catch (err) {\n+  process.report.triggerReport(filename, err);\n+}\n+// Any other code\n+```\n+\n+The content of the diagnostic report can be returned as a JSON-compatible object\n+via an API call from a JavaScript application:\n+\n+```js\n+const report = process.report.getReport();\n+console.log(report);\n+```\n+\n+This function takes an optional additional argument `err` - an `Error` object\n+that will be used as the context for the JavaScript stack printed in the report.\n+\n+```js\n+const report = process.report.getReport(new Error('custom error'));\n+console.log(report);\n+```\n+\n+The API versions are useful when inspecting the runtime state from within\n+the application, in expectation of self-adjusting the resource consumption,\n+load balancing, monitoring etc.\n+\n+The content of the report consists of a header section containing the event\n+type, date, time, PID and Node.js version, sections containing JavaScript and\n+native stack traces, a section containing V8 heap information, a section\n+containing `libuv` handle information and an OS platform information section\n+showing CPU and memory usage and system limits. An example report can be\n+triggered using the Node.js REPL:\n+\n+```raw\n+$ node\n+> process.report.triggerReport();\n+Writing Node.js report to file: report.20181126.091102.8480.001.json\n+Node.js report completed\n+>\n+```\n+\n+When a report is triggered, start and end messages are issued to stderr\n+and the filename of the report is returned to the caller. The default filename\n+includes the date, time, PID and a sequence number. The sequence number helps\n+in associating the report dump with the runtime state if generated multiple\n+times for the same Node.js process.\n+\n+## Configuration\n+\n+Additional runtime configuration that influences the report generation\n+constraints are available using `setDiagnosticReportOptions()` API.\n+\n+```js\n+process.report.setDiagnosticReportOptions({\n+  events: ['exception', 'fatalerror', 'signal'],\n+  signal: 'SIGUSR2',\n+  filename: 'myreport.json',\n+  path: '/home/nodeuser',\n+  verbose: true\n+});\n+```\n+\n+The `events` array contains one or more of the report triggering options.\n+The only valid entries are `'exception'`, `'fatalerror'` and `'signal'`.\n+By default, a report is not produced on any of these events.\n+\n+`signal` specifies the POSIX signal identifier that will be used\n+to intercept external triggers for report generation. Defaults to\n+`'SIGUSR2'`.\n+\n+`filename` specifies the name of the output file in the file system.\n+Special meaning is attached to `stdout` and `stderr`. Usage of these\n+will result in report being written to the associated standard streams.\n+In such cases when standard streams are used, value in `'path'` is ignored.\n+URLs are not supported. Defaults to a composite filename that contains\n+timestamp, PID and sequence number.\n+\n+`path` specifies the filesystem directory where the report will be written to.\n+URLs are not supported. Defaults to the current working directory of the\n+Node.js process.\n+\n+`verbose` specifies whether to print additional verbose messages\n+pertinent to the report generation. Defaults to `false`.\n+\n+```js\n+// Trigger report only on uncaught exceptions.\n+process.report.setDiagnosticReportOptions({ events: ['exception'] });\n+\n+// Trigger report for both internal errors as well as external signal.\n+process.report.setDiagnosticReportOptions({ events: ['fatalerror', 'signal'] });\n+\n+// Change the default signal to `SIGQUIT` and enable it.\n+process.report.setDiagnosticReportOptions(\n+  { events: ['signal'], signal: 'SIGQUIT' });\n+```\n+\n+Configuration on module initialization is also available via\n+environment variables:\n+\n+```bash\n+NODE_OPTIONS=\"--experimental-report --diagnostic-report-uncaught-exception \\\n+  --diagnostic-report-on-fatalerror --diagnostic-report-on-signal \\\n+  --diagnostic-report-signal=SIGUSR2  --diagnostic-report-filename=./report.json \\\n+  --diagnostic-report-directory=/home/nodeuser --diagnostic-report-verbose\"\n+```\n+\n+Specific API documentation can be found under\n+[`process API documentation`][] section.\n+\n+[`process API documentation`]: process.html"
        },
        {
            "sha": "7d27bf59efe1154ffd51b7d4245cdfb5f84b9591",
            "filename": "doc/node.1",
            "status": "modified",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/nodejs/node/blob/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fnode.1",
            "raw_url": "https://github.com/nodejs/node/raw/7f4053ed1381d7001dbdaa12f064847aaf4d0ecf/doc%2Fnode.1",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fnode.1?ref=7f4053ed1381d7001dbdaa12f064847aaf4d0ecf",
            "patch": "@@ -78,6 +78,47 @@ Aborting instead of exiting causes a core file to be generated for analysis.\n .It Fl -completion-bash\n Print source-able bash completion script for Node.js.\n .\n+.It Fl -diagnostic-report-directory\n+Location at which the\n+.Sy diagnostic report\n+will be generated.\n+.\n+.It Fl -diagnostic-report-filename\n+Name of the file to which the\n+.Sy diagnostic report\n+will be written.\n+.\n+.It Fl -diagnostic-report-on-fatalerror\n+Enables the\n+.Sy diagnostic report\n+to be triggered on fatal errors (internal errors within the Node.js runtime such as out of memory) that leads to termination of the application, if\n+.Sy --experimental-report\n+is enabled. Useful to inspect various diagnostic data elements such as heap, stack, event loop state, resource consumption etc. to reason about the fatal error.\n+.\n+.It Fl -diagnostic-report-on-signal\n+Enables\n+.Sy diagnostic report\n+to be generated upon receiving the specified (or predefined) signal to the running Node.js process, if\n+.Sy --experimental-report\n+is enabled. Default signal is SIGUSR2.\n+.\n+.It Fl -diagnostic-report-signal\n+Sets or resets the signal for\n+.Sy diagnostic report\n+generation (not supported on Windows). Default signal is SIGUSR2.\n+.\n+.It Fl -diagnostic-report-uncaught-exception\n+Enables\n+.Sy diagnostic report\n+to be generated on un-caught exceptions, if\n+.Sy --experimental-report\n+is enabled. Useful when inspecting JavaScript stack in conjunction with native stack and other runtime environment data.\n+.\n+.It Fl -diagnostic-report-verbose\n+Flag that enables additional information to be printed during\n+.Sy diagnostic report\n+generation.\n+.\n .It Fl -enable-fips\n Enable FIPS-compliant crypto at startup.\n Requires Node.js to be built with\n@@ -94,6 +135,11 @@ Enable experimental top-level\n .Sy await\n keyword support in REPL.\n .\n+.It Fl -experimental-report\n+Enable experimental\n+.Sy diagnostic report\n+feature.\n+.\n .It Fl -experimental-vm-modules\n Enable experimental ES module support in VM module.\n ."
        }
    ],
    "stats": {
        "total": 720,
        "additions": 720,
        "deletions": 0
    }
}