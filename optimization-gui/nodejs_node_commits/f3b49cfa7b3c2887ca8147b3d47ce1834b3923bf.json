{
    "author": "unknown",
    "message": "http: else case is not reachable\n\nWhile checking the arguments passed to http.Server, the case where\nthe options argument was of wrong type was not handled. Now it\nthrows an ERR_INVALID_ARG_TYPE error if the options argument is\nnot a function, object, null, or undefined.\n\nPR-URL: https://github.com/nodejs/node/pull/24176\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf",
    "files": [
        {
            "sha": "96f05f5819d3a85b70836c965b5b3a20aa50700f",
            "filename": "lib/_http_server.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf/lib%2F_http_server.js",
            "raw_url": "https://github.com/nodejs/node/raw/f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf/lib%2F_http_server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_server.js?ref=f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf",
            "patch": "@@ -47,6 +47,7 @@ const { IncomingMessage } = require('_http_incoming');\n const {\n   ERR_HTTP_HEADERS_SENT,\n   ERR_HTTP_INVALID_STATUS_CODE,\n+  ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_CHAR\n } = require('internal/errors').codes;\n const Buffer = require('buffer').Buffer;\n@@ -281,6 +282,8 @@ function Server(options, requestListener) {\n     options = {};\n   } else if (options == null || typeof options === 'object') {\n     options = util._extend({}, options);\n+  } else {\n+    throw new ERR_INVALID_ARG_TYPE('options', 'object', options);\n   }\n \n   this[kIncomingMessage] = options.IncomingMessage || IncomingMessage;"
        },
        {
            "sha": "f591cd59fc63c2a68f7d0be0cb16973fd5b5214c",
            "filename": "test/parallel/test-http-server.js",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf/test%2Fparallel%2Ftest-http-server.js",
            "raw_url": "https://github.com/nodejs/node/raw/f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf/test%2Fparallel%2Ftest-http-server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-server.js?ref=f3b49cfa7b3c2887ca8147b3d47ce1834b3923bf",
            "patch": "@@ -27,6 +27,19 @@ const http = require('http');\n const url = require('url');\n const qs = require('querystring');\n \n+// TODO: documentation does not allow Array as an option, so testing that\n+// should fail, but currently http.Server does not typecheck further than\n+// if `option` is `typeof object` - so we don't test that here right now\n+const invalid_options = [ 'foo', 42, true ];\n+\n+invalid_options.forEach((option) => {\n+  assert.throws(() => {\n+    new http.Server(option);\n+  }, {\n+    code: 'ERR_INVALID_ARG_TYPE'\n+  });\n+});\n+\n let request_number = 0;\n let requests_sent = 0;\n let server_response = '';"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 16,
        "deletions": 0
    }
}