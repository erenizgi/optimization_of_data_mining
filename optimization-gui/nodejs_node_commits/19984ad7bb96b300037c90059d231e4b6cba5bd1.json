{
    "author": "alexkozy",
    "message": "test: fix inspector tests after V8 upgrade\n\nV8 improved break locations for the node --inspect-brk -e case.\n\nPR-URL: https://github.com/nodejs/node/pull/21983\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "19984ad7bb96b300037c90059d231e4b6cba5bd1",
    "files": [
        {
            "sha": "f39746a172bf0ddc574c6667b7cda926af20ce31",
            "filename": "test/sequential/test-inspector-async-hook-setup-at-inspect-brk.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-hook-setup-at-inspect-brk.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-hook-setup-at-inspect-brk.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-async-hook-setup-at-inspect-brk.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -14,7 +14,7 @@ setTimeout(() => {\n `;\n \n async function skipBreakpointAtStart(session) {\n-  await session.waitForBreakOnLine(0, '[eval]');\n+  await session.waitForBreakOnLine(3, '[eval]');\n   await session.send({ 'method': 'Debugger.resume' });\n }\n "
        },
        {
            "sha": "165db81c83d7feb90dbd400578e84b703c7833b6",
            "filename": "test/sequential/test-inspector-async-stack-traces-promise-then.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-stack-traces-promise-then.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-stack-traces-promise-then.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-async-stack-traces-promise-then.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -31,7 +31,7 @@ async function runTests() {\n     { 'method': 'Runtime.runIfWaitingForDebugger' }\n   ]);\n \n-  await session.waitForBreakOnLine(0, '[eval]');\n+  await session.waitForBreakOnLine(2, '[eval]');\n   await session.send({ 'method': 'Debugger.resume' });\n \n   console.error('[test] Waiting for break1');"
        },
        {
            "sha": "240074f631f32961190caa33287460dfa774468c",
            "filename": "test/sequential/test-inspector-async-stack-traces-set-interval.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-stack-traces-set-interval.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-async-stack-traces-set-interval.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-async-stack-traces-set-interval.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -10,7 +10,7 @@ const script = 'setInterval(() => { debugger; }, 50);';\n \n async function skipFirstBreakpoint(session) {\n   console.log('[test]', 'Skipping the first breakpoint in the eval script');\n-  await session.waitForBreakOnLine(0, '[eval]');\n+  await session.waitForBreakOnLine(2, '[eval]');\n   await session.send({ 'method': 'Debugger.resume' });\n }\n "
        },
        {
            "sha": "d988c118740e539b5f00677c0699744db359b786",
            "filename": "test/sequential/test-inspector-break-e.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-break-e.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-break-e.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-break-e.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -1,7 +1,6 @@\n // Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n-\n common.skipIfInspectorDisabled();\n \n const assert = require('assert');\n@@ -15,7 +14,7 @@ async function runTests() {\n     { 'method': 'Debugger.enable' },\n     { 'method': 'Runtime.runIfWaitingForDebugger' }\n   ]);\n-  await session.waitForBreakOnLine(0, '[eval]');\n+  await session.waitForBreakOnLine(2, '[eval]');\n   await session.runToCompletion();\n   assert.strictEqual(0, (await instance.expectShutdown()).exitCode);\n }"
        },
        {
            "sha": "8f791740f2feb3d2097dfccdd50b1f15dafd42a8",
            "filename": "test/sequential/test-inspector-exception.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-exception.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-exception.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-exception.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -29,7 +29,7 @@ async function testBreakpointOnStart(session) {\n   ];\n \n   await session.send(commands);\n-  await session.waitForBreakOnLine(0, script);\n+  await session.waitForBreakOnLine(21, script);\n }\n \n "
        },
        {
            "sha": "e1ec209994f18e046e2e6e57cd8ec6344bd75cce",
            "filename": "test/sequential/test-inspector-scriptparsed-context.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-scriptparsed-context.js",
            "raw_url": "https://github.com/nodejs/node/raw/19984ad7bb96b300037c90059d231e4b6cba5bd1/test%2Fsequential%2Ftest-inspector-scriptparsed-context.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-inspector-scriptparsed-context.js?ref=19984ad7bb96b300037c90059d231e4b6cba5bd1",
            "patch": "@@ -51,7 +51,7 @@ async function runTests() {\n     { 'method': 'Debugger.enable' },\n     { 'method': 'Runtime.runIfWaitingForDebugger' }\n   ]);\n-  await session.waitForBreakOnLine(0, '[eval]');\n+  await session.waitForBreakOnLine(4, '[eval]');\n \n   await session.send({ 'method': 'Runtime.enable' });\n   await getContext(session);"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 6,
        "deletions": 7
    }
}