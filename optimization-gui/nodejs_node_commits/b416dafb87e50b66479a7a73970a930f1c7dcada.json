{
    "author": "cjihrig",
    "message": "lib: move DEP0120 to end of life\n\nThis deprecation applies to undocumented, rather useless\nWindows Performance Counter support.\n\nPR-URL: https://github.com/nodejs/node/pull/24862\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "b416dafb87e50b66479a7a73970a930f1c7dcada",
    "files": [
        {
            "sha": "370dfaed688245c0de63fa878265ac82ca4e9f03",
            "filename": ".eslintrc.js",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/b416dafb87e50b66479a7a73970a930f1c7dcada/.eslintrc.js",
            "raw_url": "https://github.com/nodejs/node/raw/b416dafb87e50b66479a7a73970a930f1c7dcada/.eslintrc.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/.eslintrc.js?ref=b416dafb87e50b66479a7a73970a930f1c7dcada",
            "patch": "@@ -279,12 +279,6 @@ module.exports = {\n     BigInt: false,\n     BigInt64Array: false,\n     BigUint64Array: false,\n-    COUNTER_HTTP_CLIENT_REQUEST: false,\n-    COUNTER_HTTP_CLIENT_RESPONSE: false,\n-    COUNTER_HTTP_SERVER_REQUEST: false,\n-    COUNTER_HTTP_SERVER_RESPONSE: false,\n-    COUNTER_NET_SERVER_CONNECTION: false,\n-    COUNTER_NET_SERVER_CONNECTION_CLOSE: false,\n     DTRACE_HTTP_CLIENT_REQUEST: false,\n     DTRACE_HTTP_CLIENT_RESPONSE: false,\n     DTRACE_HTTP_SERVER_REQUEST: false,"
        },
        {
            "sha": "3debf8297179ab13a8de86ce3d2bccde7d6bf356",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/b416dafb87e50b66479a7a73970a930f1c7dcada/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/b416dafb87e50b66479a7a73970a930f1c7dcada/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=b416dafb87e50b66479a7a73970a930f1c7dcada",
            "patch": "@@ -2254,12 +2254,15 @@ Please make sure to use [`util.getSystemErrorName()`][] instead.\n ### DEP0120: Windows Performance Counter Support\n <!-- YAML\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/24862\n+    description: End-of-Life.\n   - version: v11.0.0\n     pr-url: https://github.com/nodejs/node/pull/22485\n     description: Runtime deprecation.\n -->\n \n-Type: Runtime\n+Type: End-of-Life\n \n Windows Performance Counter support has been removed from Node.js. The\n undocumented `COUNTER_NET_SERVER_CONNECTION()`,"
        },
        {
            "sha": "b537e62fe99d83667b692adcad7cf23674dfdb1f",
            "filename": "lib/internal/bootstrap/node.js",
            "status": "modified",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/b416dafb87e50b66479a7a73970a930f1c7dcada/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "raw_url": "https://github.com/nodejs/node/raw/b416dafb87e50b66479a7a73970a930f1c7dcada/lib%2Finternal%2Fbootstrap%2Fnode.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Fnode.js?ref=b416dafb87e50b66479a7a73970a930f1c7dcada",
            "patch": "@@ -195,30 +195,6 @@ function startup() {\n     }\n   }\n \n-  // TODO(jasnell): The following have been globals since around 2012.\n-  // That's just silly. The underlying perfctr support has been removed\n-  // so these are now deprecated non-ops that can be removed after one\n-  // major release cycle.\n-  if (process.platform === 'win32') {\n-    const names = [\n-      'NET_SERVER_CONNECTION',\n-      'NET_SERVER_CONNECTION_CLOSE',\n-      'HTTP_SERVER_REQUEST',\n-      'HTTP_SERVER_RESPONSE',\n-      'HTTP_CLIENT_REQUEST',\n-      'HTTP_CLIENT_RESPONSE'\n-    ];\n-    for (var n = 0; n < names.length; n++) {\n-      Object.defineProperty(global, `COUNTER_${names[n]}`, {\n-        configurable: true,\n-        enumerable: false,\n-        value: deprecate(noop,\n-                         `COUNTER_${names[n]}() is deprecated.`,\n-                         'DEP0120')\n-      });\n-    }\n-  }\n-\n   perf.markMilestone(NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE);\n \n   perThreadSetup.setupAllowedFlags();"
        },
        {
            "sha": "3d7a0187ee5cd8e604ea7f4473f7a9b87d24efc2",
            "filename": "test/common/index.js",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/b416dafb87e50b66479a7a73970a930f1c7dcada/test%2Fcommon%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/b416dafb87e50b66479a7a73970a930f1c7dcada/test%2Fcommon%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Findex.js?ref=b416dafb87e50b66479a7a73970a930f1c7dcada",
            "patch": "@@ -241,15 +241,6 @@ if (global.DTRACE_HTTP_SERVER_RESPONSE) {\n   knownGlobals.push(DTRACE_NET_SERVER_CONNECTION);\n }\n \n-if (global.COUNTER_NET_SERVER_CONNECTION) {\n-  knownGlobals.push(COUNTER_NET_SERVER_CONNECTION);\n-  knownGlobals.push(COUNTER_NET_SERVER_CONNECTION_CLOSE);\n-  knownGlobals.push(COUNTER_HTTP_SERVER_REQUEST);\n-  knownGlobals.push(COUNTER_HTTP_SERVER_RESPONSE);\n-  knownGlobals.push(COUNTER_HTTP_CLIENT_REQUEST);\n-  knownGlobals.push(COUNTER_HTTP_CLIENT_RESPONSE);\n-}\n-\n if (process.env.NODE_TEST_KNOWN_GLOBALS) {\n   const knownFromEnv = process.env.NODE_TEST_KNOWN_GLOBALS.split(',');\n   allowGlobals(...knownFromEnv);"
        }
    ],
    "stats": {
        "total": 44,
        "additions": 4,
        "deletions": 40
    }
}