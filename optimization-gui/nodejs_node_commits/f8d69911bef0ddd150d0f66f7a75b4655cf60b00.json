{
    "author": "Trott",
    "message": "errors: use ERR_OUT_OF_RANGE for index errors\n\nRemove ERR_INDEX_OUT_OF_RANGE in favor of ERR_OUT_OF_RANGE which is\ncapable of providing more detail. (In one instance, use\nERR_BUFFER_OUT_OF_BOUNDS which is more accurate in that one instance.)\n\nPR-URL: https://github.com/nodejs/node/pull/22969\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>",
    "sha": "f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
    "files": [
        {
            "sha": "11f3795741b3d38ca26946a13cd83cc804990071",
            "filename": "doc/api/buffer.md",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/doc%2Fapi%2Fbuffer.md",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/doc%2Fapi%2Fbuffer.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fbuffer.md?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -1085,7 +1085,7 @@ console.log(buf1.compare(buf2, 5, 6, 5));\n // Prints: 1\n ```\n \n-[`ERR_INDEX_OUT_OF_RANGE`] is thrown if `targetStart < 0`, `sourceStart < 0`,\n+[`ERR_OUT_OF_RANGE`] is thrown if `targetStart < 0`, `sourceStart < 0`,\n `targetEnd > target.byteLength`, or `sourceEnd > source.byteLength`.\n \n ### buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])\n@@ -1197,6 +1197,9 @@ console.log(buf1.equals(buf3));\n <!-- YAML\n added: v0.5.0\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/22969\n+    description: Throws `ERR_OUT_OF_RANGE` instead of `ERR_INDEX_OUT_OF_RANGE`.\n   - version: v10.0.0\n     pr-url: https://github.com/nodejs/node/pull/18790\n     description: Negative `end` values throw an `ERR_INDEX_OUT_OF_RANGE` error.\n@@ -1708,7 +1711,7 @@ console.log(buf.readIntLE(0, 6).toString(16));\n console.log(buf.readIntBE(0, 6).toString(16));\n // Prints: 1234567890ab\n console.log(buf.readIntBE(1, 6).toString(16));\n-// Throws ERR_INDEX_OUT_OF_RANGE\n+// Throws ERR_OUT_OF_RANGE\n console.log(buf.readIntBE(1, 0).toString(16));\n // Throws ERR_OUT_OF_RANGE\n ```\n@@ -2640,9 +2643,9 @@ This value may depend on the JS engine that is being used.\n [`Buffer.from(string)`]: #buffer_class_method_buffer_from_string_encoding\n [`Buffer.poolSize`]: #buffer_class_property_buffer_poolsize\n [`DataView`]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\n-[`ERR_INDEX_OUT_OF_RANGE`]: errors.html#ERR_INDEX_OUT_OF_RANGE\n [`ERR_INVALID_BUFFER_SIZE`]: errors.html#ERR_INVALID_BUFFER_SIZE\n [`ERR_INVALID_OPT_VALUE`]: errors.html#ERR_INVALID_OPT_VALUE\n+[`ERR_OUT_OF_RANGE`]: errors.html#ERR_OUT_OF_RANGE\n [`JSON.stringify()`]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\n [`SharedArrayBuffer`]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\n [`String#indexOf()`]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf"
        },
        {
            "sha": "f9005c3bb1994047003598e2a4fed0583d627b9f",
            "filename": "doc/api/errors.md",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/doc%2Fapi%2Ferrors.md",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/doc%2Fapi%2Ferrors.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ferrors.md?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -1102,11 +1102,6 @@ is set for the `Http2Stream`.\n `http2.connect()` was passed a URL that uses any protocol other than `http:` or\n `https:`.\n \n-<a id=\"ERR_INDEX_OUT_OF_RANGE\"></a>\n-### ERR_INDEX_OUT_OF_RANGE\n-\n-A given index was out of the accepted range (e.g. negative offsets).\n-\n <a id=\"ERR_INSPECTOR_ALREADY_CONNECTED\"></a>\n ### ERR_INSPECTOR_ALREADY_CONNECTED\n \n@@ -1930,6 +1925,14 @@ removed: v10.0.0\n Used when an invalid character is found in an HTTP response status message\n (reason phrase).\n \n+<a id=\"ERR_INDEX_OUT_OF_RANGE\"></a>\n+### ERR_INDEX_OUT_OF_RANGE\n+<!-- YAML\n+  added: v10.0.0\n+  removed: REPLACEME\n+-->\n+A given index was out of the accepted range (e.g. negative offsets).\n+\n <a id=\"ERR_NAPI_CONS_PROTOTYPE_OBJECT\"></a>\n ### ERR_NAPI_CONS_PROTOTYPE_OBJECT\n <!-- YAML"
        },
        {
            "sha": "da1563ec3ab91c1cec00298380cd0329926a28c0",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 56,
            "deletions": 55,
            "changes": 111,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -61,7 +61,7 @@ const {\n } = process.binding('config');\n const {\n   ERR_BUFFER_OUT_OF_BOUNDS,\n-  ERR_INDEX_OUT_OF_RANGE,\n+  ERR_OUT_OF_RANGE,\n   ERR_INVALID_ARG_TYPE,\n   ERR_INVALID_ARG_VALUE,\n   ERR_INVALID_BUFFER_SIZE,\n@@ -692,50 +692,51 @@ Buffer.prototype[customInspectSymbol] = function inspect() {\n Buffer.prototype.inspect = Buffer.prototype[customInspectSymbol];\n \n Buffer.prototype.compare = function compare(target,\n-                                            start,\n-                                            end,\n-                                            thisStart,\n-                                            thisEnd) {\n+                                            targetStart,\n+                                            targetEnd,\n+                                            sourceStart,\n+                                            sourceEnd) {\n   if (!isUint8Array(target)) {\n     throw new ERR_INVALID_ARG_TYPE('target', ['Buffer', 'Uint8Array'], target);\n   }\n   if (arguments.length === 1)\n     return _compare(this, target);\n \n-  if (start === undefined)\n-    start = 0;\n-  else if (start < 0)\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+  if (targetStart === undefined)\n+    targetStart = 0;\n+  else if (targetStart < 0)\n+    throw new ERR_OUT_OF_RANGE('targetStart', '>= 0', targetStart);\n   else\n-    start >>>= 0;\n+    targetStart >>>= 0;\n \n-  if (end === undefined)\n-    end = target.length;\n-  else if (end > target.length)\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+  if (targetEnd === undefined)\n+    targetEnd = target.length;\n+  else if (targetEnd > target.length)\n+    throw new ERR_OUT_OF_RANGE('targetEnd', `<= ${target.length}`, targetEnd);\n   else\n-    end >>>= 0;\n+    targetEnd >>>= 0;\n \n-  if (thisStart === undefined)\n-    thisStart = 0;\n-  else if (thisStart < 0)\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+  if (sourceStart === undefined)\n+    sourceStart = 0;\n+  else if (sourceStart < 0)\n+    throw new ERR_OUT_OF_RANGE('sourceStart', '>= 0', sourceStart);\n   else\n-    thisStart >>>= 0;\n+    sourceStart >>>= 0;\n \n-  if (thisEnd === undefined)\n-    thisEnd = this.length;\n-  else if (thisEnd > this.length)\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+  if (sourceEnd === undefined)\n+    sourceEnd = this.length;\n+  else if (sourceEnd > this.length)\n+    throw new ERR_OUT_OF_RANGE('sourceEnd', `<= ${this.length}`, sourceEnd);\n   else\n-    thisEnd >>>= 0;\n+    sourceEnd >>>= 0;\n \n-  if (thisStart >= thisEnd)\n-    return (start >= end ? 0 : -1);\n-  else if (start >= end)\n+  if (sourceStart >= sourceEnd)\n+    return (targetStart >= targetEnd ? 0 : -1);\n+  else if (targetStart >= targetEnd)\n     return 1;\n \n-  return compareOffset(this, target, start, thisStart, end, thisEnd);\n+  return compareOffset(this, target, targetStart, sourceStart, targetEnd,\n+                       sourceEnd);\n };\n \n // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n@@ -827,15 +828,15 @@ Buffer.prototype.includes = function includes(val, byteOffset, encoding) {\n //    buffer.fill(number[, offset[, end]])\n //    buffer.fill(buffer[, offset[, end]])\n //    buffer.fill(string[, offset[, end]][, encoding])\n-Buffer.prototype.fill = function fill(val, start, end, encoding) {\n-  return _fill(this, val, start, end, encoding);\n+Buffer.prototype.fill = function fill(value, offset, end, encoding) {\n+  return _fill(this, value, offset, end, encoding);\n };\n \n-function _fill(buf, val, start, end, encoding) {\n-  if (typeof val === 'string') {\n-    if (start === undefined || typeof start === 'string') {\n-      encoding = start;\n-      start = 0;\n+function _fill(buf, value, offset, end, encoding) {\n+  if (typeof value === 'string') {\n+    if (offset === undefined || typeof offset === 'string') {\n+      encoding = offset;\n+      offset = 0;\n       end = buf.length;\n     } else if (typeof end === 'string') {\n       encoding = end;\n@@ -848,48 +849,48 @@ function _fill(buf, val, start, end, encoding) {\n       throw new ERR_UNKNOWN_ENCODING(encoding);\n     }\n \n-    if (val.length === 0) {\n-      // If val === '' default to zero.\n-      val = 0;\n-    } else if (val.length === 1) {\n-      // Fast path: If `val` fits into a single byte, use that numeric value.\n+    if (value.length === 0) {\n+      // If value === '' default to zero.\n+      value = 0;\n+    } else if (value.length === 1) {\n+      // Fast path: If `value` fits into a single byte, use that numeric value.\n       if (normalizedEncoding === 'utf8') {\n-        const code = val.charCodeAt(0);\n+        const code = value.charCodeAt(0);\n         if (code < 128) {\n-          val = code;\n+          value = code;\n         }\n       } else if (normalizedEncoding === 'latin1') {\n-        val = val.charCodeAt(0);\n+        value = value.charCodeAt(0);\n       }\n     }\n   } else {\n     encoding = undefined;\n   }\n \n-  if (start === undefined) {\n-    start = 0;\n+  if (offset === undefined) {\n+    offset = 0;\n     end = buf.length;\n   } else {\n     // Invalid ranges are not set to a default, so can range check early.\n+    if (offset < 0)\n+      throw new ERR_OUT_OF_RANGE('offset', '>= 0', offset);\n     if (end === undefined) {\n-      if (start < 0)\n-        throw new ERR_INDEX_OUT_OF_RANGE();\n       end = buf.length;\n     } else {\n-      if (start < 0 || end > buf.length || end < 0)\n-        throw new ERR_INDEX_OUT_OF_RANGE();\n+      if (end > buf.length || end < 0)\n+        throw new ERR_OUT_OF_RANGE('end', `>= 0 and <= ${buf.length}`, end);\n       end = end >>> 0;\n     }\n-    start = start >>> 0;\n-    if (start >= end)\n+    offset = offset >>> 0;\n+    if (offset >= end)\n       return buf;\n   }\n \n-  const res = bindingFill(buf, val, start, end, encoding);\n+  const res = bindingFill(buf, value, offset, end, encoding);\n   if (res < 0) {\n     if (res === -1)\n-      throw new ERR_INVALID_ARG_VALUE('value', val);\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+      throw new ERR_INVALID_ARG_VALUE('value', value);\n+    throw new ERR_BUFFER_OUT_OF_BOUNDS();\n   }\n \n   return buf;"
        },
        {
            "sha": "1914f2ec8db000ca4dbf87ec00087774ee00c7b1",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -625,7 +625,6 @@ E('ERR_HTTP_INVALID_HEADER_VALUE',\n E('ERR_HTTP_INVALID_STATUS_CODE', 'Invalid status code: %s', RangeError);\n E('ERR_HTTP_TRAILER_INVALID',\n   'Trailers are invalid with this transfer encoding', Error);\n-E('ERR_INDEX_OUT_OF_RANGE', 'Index out of range', RangeError);\n E('ERR_INSPECTOR_ALREADY_CONNECTED', '%s is already connected', Error);\n E('ERR_INSPECTOR_CLOSED', 'Session was closed', Error);\n E('ERR_INSPECTOR_NOT_AVAILABLE', 'Inspector is not available', Error);"
        },
        {
            "sha": "1a7f01a734219ba1b8c221063df59928c2ce7d58",
            "filename": "src/node_buffer.cc",
            "status": "modified",
            "additions": 11,
            "deletions": 6,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/src%2Fnode_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/src%2Fnode_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_buffer.cc?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -36,12 +36,14 @@\n #define MIN(a, b) ((a) < (b) ? (a) : (b))\n \n #define THROW_AND_RETURN_UNLESS_BUFFER(env, obj)                            \\\n-  THROW_AND_RETURN_IF_NOT_BUFFER(env, obj, \"argument\")\n+  THROW_AND_RETURN_IF_NOT_BUFFER(env, obj, \"argument\")                      \\\n \n #define THROW_AND_RETURN_IF_OOB(r)                                          \\\n   do {                                                                      \\\n-    if (!(r)) return node::THROW_ERR_INDEX_OUT_OF_RANGE(env);               \\\n-  } while (0)\n+    if (!(r))                                                               \\\n+      return node::THROW_ERR_OUT_OF_RANGE_WITH_TEXT(env,                    \\\n+                                                    \"Index out of range\");  \\\n+  } while (0)                                                               \\\n \n #define SLICE_START_END(start_arg, end_arg, end_max)                        \\\n   size_t start;                                                             \\\n@@ -494,7 +496,8 @@ void Copy(const FunctionCallbackInfo<Value> &args) {\n     return args.GetReturnValue().Set(0);\n \n   if (source_start > ts_obj_length)\n-    return node::THROW_ERR_INDEX_OUT_OF_RANGE(env);\n+    return node::THROW_ERR_OUT_OF_RANGE_WITH_TEXT(\n+        env, \"The value of \\\"sourceStart\\\" is out of range.\");\n \n   if (source_end - source_start > target_length - target_start)\n     source_end = source_start + target_length - target_start;\n@@ -684,9 +687,11 @@ void CompareOffset(const FunctionCallbackInfo<Value> &args) {\n   THROW_AND_RETURN_IF_OOB(ParseArrayIndex(args[5], ts_obj_length, &source_end));\n \n   if (source_start > ts_obj_length)\n-    return node::THROW_ERR_INDEX_OUT_OF_RANGE(env);\n+    return node::THROW_ERR_OUT_OF_RANGE_WITH_TEXT(\n+        env, \"The value of \\\"sourceStart\\\" is out of range.\");\n   if (target_start > target_length)\n-    return node::THROW_ERR_INDEX_OUT_OF_RANGE(env);\n+    return node::THROW_ERR_OUT_OF_RANGE_WITH_TEXT(\n+        env, \"The value of \\\"targetStart\\\" is out of range.\");\n \n   CHECK_LE(source_start, source_end);\n   CHECK_LE(target_start, target_end);"
        },
        {
            "sha": "233a0f7532c717ef928fe3ac0014f8bc3d504cc0",
            "filename": "src/node_errors.h",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/src%2Fnode_errors.h",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/src%2Fnode_errors.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_errors.h?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -26,7 +26,6 @@ namespace node {\n   V(ERR_CANNOT_TRANSFER_OBJECT, TypeError)                                   \\\n   V(ERR_CLOSED_MESSAGE_PORT, Error)                                          \\\n   V(ERR_CONSTRUCT_CALL_REQUIRED, Error)                                      \\\n-  V(ERR_INDEX_OUT_OF_RANGE, RangeError)                                      \\\n   V(ERR_INVALID_ARG_VALUE, TypeError)                                        \\\n   V(ERR_INVALID_ARG_TYPE, TypeError)                                         \\\n   V(ERR_INVALID_TRANSFER_OBJECT, TypeError)                                  \\\n@@ -35,6 +34,7 @@ namespace node {\n   V(ERR_MISSING_MESSAGE_PORT_IN_TRANSFER_LIST, TypeError)                    \\\n   V(ERR_MISSING_MODULE, Error)                                               \\\n   V(ERR_MISSING_PLATFORM_FOR_WORKER, Error)                                  \\\n+  V(ERR_OUT_OF_RANGE, RangeError)                                            \\\n   V(ERR_SCRIPT_EXECUTION_INTERRUPTED, Error)                                 \\\n   V(ERR_SCRIPT_EXECUTION_TIMEOUT, Error)                                     \\\n   V(ERR_STRING_TOO_LONG, Error)                                              \\\n@@ -64,7 +64,6 @@ namespace node {\n   V(ERR_CANNOT_TRANSFER_OBJECT, \"Cannot transfer object of unsupported type\")\\\n   V(ERR_CLOSED_MESSAGE_PORT, \"Cannot send data on closed MessagePort\")       \\\n   V(ERR_CONSTRUCT_CALL_REQUIRED, \"Cannot call constructor without `new`\")    \\\n-  V(ERR_INDEX_OUT_OF_RANGE, \"Index out of range\")                            \\\n   V(ERR_INVALID_TRANSFER_OBJECT, \"Found invalid object in transferList\")     \\\n   V(ERR_MEMORY_ALLOCATION_FAILED, \"Failed to allocate memory\")               \\\n   V(ERR_MISSING_MESSAGE_PORT_IN_TRANSFER_LIST,                               \\\n@@ -96,6 +95,13 @@ inline void THROW_ERR_SCRIPT_EXECUTION_TIMEOUT(Environment* env,\n   THROW_ERR_SCRIPT_EXECUTION_TIMEOUT(env, message.str().c_str());\n }\n \n+inline void THROW_ERR_OUT_OF_RANGE_WITH_TEXT(Environment* env,\n+                                             const char* messageText) {\n+  std::ostringstream message;\n+  message << messageText;\n+  THROW_ERR_OUT_OF_RANGE(env, message.str().c_str());\n+}\n+\n inline v8::Local<v8::Value> ERR_BUFFER_TOO_LARGE(v8::Isolate* isolate) {\n   char message[128];\n   snprintf(message, sizeof(message),"
        },
        {
            "sha": "5088e3c06ff4717cd044cd46d1a866e3e6dcd6ef",
            "filename": "test/parallel/test-buffer-alloc.js",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-alloc.js",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-alloc.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-alloc.js?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -1011,9 +1011,8 @@ common.expectsError(() => {\n   const b = Buffer.alloc(1);\n   a.copy(b, 0, 0x100000000, 0x100000001);\n }, {\n-  code: 'ERR_INDEX_OUT_OF_RANGE',\n-  type: RangeError,\n-  message: 'Index out of range'\n+  code: 'ERR_OUT_OF_RANGE',\n+  type: RangeError\n });\n \n // Unpooled buffer (replaces SlowBuffer)"
        },
        {
            "sha": "0fee87d71062fa726fa45a237751e1af02065ba7",
            "filename": "test/parallel/test-buffer-compare-offset.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-compare-offset.js",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-compare-offset.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-compare-offset.js?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -57,7 +57,7 @@ assert.strictEqual(1, a.compare(b, Infinity, -Infinity));\n // zero length target because default for targetEnd <= targetSource\n assert.strictEqual(1, a.compare(b, '0xff'));\n \n-const oor = common.expectsError({ code: 'ERR_INDEX_OUT_OF_RANGE' }, 7);\n+const oor = common.expectsError({ code: 'ERR_OUT_OF_RANGE' }, 7);\n \n assert.throws(() => a.compare(b, 0, 100, 0), oor);\n assert.throws(() => a.compare(b, 0, 1, 0, 100), oor);"
        },
        {
            "sha": "3daaa91d8f1badd4d75f4db0c595d8d8a47ae0a4",
            "filename": "test/parallel/test-buffer-fill.js",
            "status": "modified",
            "additions": 12,
            "deletions": 9,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-fill.js",
            "raw_url": "https://github.com/nodejs/node/raw/f8d69911bef0ddd150d0f66f7a75b4655cf60b00/test%2Fparallel%2Ftest-buffer-fill.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-fill.js?ref=f8d69911bef0ddd150d0f66f7a75b4655cf60b00",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { codes: { ERR_INDEX_OUT_OF_RANGE } } = require('internal/errors');\n+const { codes: { ERR_OUT_OF_RANGE } } = require('internal/errors');\n const SIZE = 28;\n \n const buf1 = Buffer.allocUnsafe(SIZE);\n@@ -173,7 +173,7 @@ deepStrictEqualValues(genBuffer(4, [hexBufFill, 1, 1]), [0, 0, 0, 0]);\n ].forEach((args) => {\n   common.expectsError(\n     () => buf1.fill(...args),\n-    { code: 'ERR_INDEX_OUT_OF_RANGE' }\n+    { code: 'ERR_OUT_OF_RANGE' }\n   );\n });\n \n@@ -237,7 +237,7 @@ function writeToFill(string, offset, end, encoding) {\n \n   // Should never be reached.\n   if (offset < 0 || end > buf2.length)\n-    throw new ERR_INDEX_OUT_OF_RANGE();\n+    throw new ERR_OUT_OF_RANGE();\n \n   if (end <= offset)\n     return buf2;\n@@ -276,10 +276,10 @@ function testBufs(string, offset, length, encoding) {\n // Make sure these throw.\n common.expectsError(\n   () => Buffer.allocUnsafe(8).fill('a', -1),\n-  { code: 'ERR_INDEX_OUT_OF_RANGE' });\n+  { code: 'ERR_OUT_OF_RANGE' });\n common.expectsError(\n   () => Buffer.allocUnsafe(8).fill('a', 0, 9),\n-  { code: 'ERR_INDEX_OUT_OF_RANGE' });\n+  { code: 'ERR_OUT_OF_RANGE' });\n \n // Make sure this doesn't hang indefinitely.\n Buffer.allocUnsafe(8).fill('');\n@@ -333,6 +333,9 @@ assert.strictEqual(\n // Symbol.toPrimitive.\n {\n   let elseWasLast = false;\n+  const expectedErrorMessage =\n+    'The value of \"end\" is out of range. It must be >= 0 and <= 1. Received -1';\n+\n   common.expectsError(() => {\n     let ctr = 0;\n     const end = {\n@@ -350,9 +353,9 @@ assert.strictEqual(\n     };\n     Buffer.alloc(1).fill(Buffer.alloc(1), 0, end);\n   }, {\n-    code: 'ERR_INDEX_OUT_OF_RANGE',\n+    code: 'ERR_OUT_OF_RANGE',\n     type: RangeError,\n-    message: 'Index out of range'\n+    message: expectedErrorMessage\n   });\n   // Make sure -1 is making it to Buffer::Fill().\n   assert.ok(elseWasLast,\n@@ -373,9 +376,9 @@ common.expectsError(() => {\n   });\n   buf.fill('');\n }, {\n-  code: 'ERR_INDEX_OUT_OF_RANGE',\n+  code: 'ERR_BUFFER_OUT_OF_BOUNDS',\n   type: RangeError,\n-  message: 'Index out of range'\n+  message: 'Attempt to write outside buffer bounds'\n });\n \n assert.deepStrictEqual("
        }
    ],
    "stats": {
        "total": 189,
        "additions": 104,
        "deletions": 85
    }
}