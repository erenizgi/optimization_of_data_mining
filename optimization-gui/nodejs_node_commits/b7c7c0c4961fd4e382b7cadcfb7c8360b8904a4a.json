{
    "author": "addaleax",
    "message": "worker: rename to worker_threads\n\nPR-URL: https://github.com/nodejs/node/pull/20876\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Shingo Inoue <leko.noor@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: John-David Dalton <john.david.dalton@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
    "files": [
        {
            "sha": "167a28ad23e83000b935de7a00c87ab7d77c09d3",
            "filename": "benchmark/fixtures/echo.worker.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/benchmark%2Ffixtures%2Fecho.worker.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/benchmark%2Ffixtures%2Fecho.worker.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Ffixtures%2Fecho.worker.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const { parentPort } = require('worker');\n+const { parentPort } = require('worker_threads');\n \n parentPort.on('message', (msg) => {\n   parentPort.postMessage(msg);"
        },
        {
            "sha": "32c4bddf7d5f777cb667e59a7b482c3dea626872",
            "filename": "benchmark/worker/echo.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/benchmark%2Fworker%2Fecho.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/benchmark%2Fworker%2Fecho.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fworker%2Fecho.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -12,7 +12,7 @@ const bench = common.createBenchmark(main, {\n const workerPath = path.resolve(__dirname, '..', 'fixtures', 'echo.worker.js');\n \n function main(conf) {\n-  const { Worker } = require('worker');\n+  const { Worker } = require('worker_threads');\n \n   const n = +conf.n;\n   const workers = +conf.workers;"
        },
        {
            "sha": "e307d52ae8544e415b59cd4e4600166b5779f6ad",
            "filename": "doc/api/_toc.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2F_toc.md",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2F_toc.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2F_toc.md?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -53,7 +53,7 @@\n * [Utilities](util.html)\n * [V8](v8.html)\n * [VM](vm.html)\n-* [Worker](worker.html)\n+* [Worker Threads](worker_threads.html)\n * [ZLIB](zlib.html)\n \n <div class=\"line\"></div>"
        },
        {
            "sha": "47216b695d33511faadf7208628ff2947e20161d",
            "filename": "doc/api/all.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fall.md",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fall.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fall.md?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -46,5 +46,5 @@\n @include util\n @include v8\n @include vm\n-@include worker\n+@include worker_threads\n @include zlib"
        },
        {
            "sha": "6e5971c51d10c91916d9ffd5e74b9f81a0dc72ef",
            "filename": "doc/api/async_hooks.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fasync_hooks.md",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fasync_hooks.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fasync_hooks.md?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -728,4 +728,4 @@ never be called.\n [Hook Callbacks]: #async_hooks_hook_callbacks\n [PromiseHooks]: https://docs.google.com/document/d/1rda3yKGHimKIhg5YeoAmCOtyURgsbTH_qaYR79FELlk\n [promise execution tracking]: #async_hooks_promise_execution_tracking\n-[`Worker`]: worker.html#worker_worker\n+[`Worker`]: worker_threads.html#worker_threads_class_worker"
        },
        {
            "sha": "92b39d6da4a97d1354f27dc0d176e8e24c8e222f",
            "filename": "doc/api/process.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fprocess.md",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fprocess.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fprocess.md?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2018,7 +2018,7 @@ cases:\n [`ChildProcess`]: child_process.html#child_process_class_childprocess\n [`Error`]: errors.html#errors_class_error\n [`EventEmitter`]: events.html#events_class_eventemitter\n-[`Worker`]: worker.html#worker_worker\n+[`Worker`]: worker_threads.html#worker_threads_class_worker\n [`console.error()`]: console.html#console_console_error_data_args\n [`console.log()`]: console.html#console_console_log_data_args\n [`domain`]: domain.html"
        },
        {
            "sha": "2a6384be2cafbb1aac4e8a28298c42b388895f9d",
            "filename": "doc/api/worker_threads.md",
            "status": "renamed",
            "additions": 33,
            "deletions": 29,
            "changes": 62,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fworker_threads.md",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/doc%2Fapi%2Fworker_threads.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fworker_threads.md?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -1,4 +1,4 @@\n-# Worker\n+# Worker Threads\n \n <!--introduced_in=REPLACEME-->\n \n@@ -9,7 +9,7 @@ on independent threads, and to create message channels between them. It\n can be accessed using:\n \n ```js\n-const worker = require('worker');\n+const worker = require('worker_threads');\n ```\n \n Workers are useful for performing CPU-intensive JavaScript operations; do not\n@@ -23,7 +23,9 @@ share memory efficiently by transferring `ArrayBuffer` instances or sharing\n ## Example\n \n ```js\n-const { Worker, isMainThread, parentPort, workerData } = require('worker');\n+const {\n+  Worker, isMainThread, parentPort, workerData\n+} = require('worker_threads');\n \n if (isMainThread) {\n   module.exports = async function parseJSAsync(script) {\n@@ -104,7 +106,7 @@ yields an object with `port1` and `port2` properties, which refer to linked\n [`MessagePort`][] instances.\n \n ```js\n-const { MessageChannel } = require('worker');\n+const { MessageChannel } = require('worker_threads');\n \n const { port1, port2 } = new MessageChannel();\n port1.on('message', (message) => console.log('received', message));\n@@ -241,8 +243,8 @@ Notable differences inside a Worker environment are:\n \n - The [`process.stdin`][], [`process.stdout`][] and [`process.stderr`][]\n   may be redirected by the parent thread.\n-- The [`require('worker').isMainThread`][] property is set to `false`.\n-- The [`require('worker').parentPort`][] message port is available,\n+- The [`require('worker_threads').isMainThread`][] property is set to `false`.\n+- The [`require('worker_threads').parentPort`][] message port is available,\n - [`process.exit()`][] does not stop the whole program, just the single thread,\n   and [`process.abort()`][] is not available.\n - [`process.chdir()`][] and `process` methods that set group or user ids\n@@ -283,7 +285,9 @@ For example:\n \n ```js\n const assert = require('assert');\n-const { Worker, MessageChannel, MessagePort, isMainThread } = require('worker');\n+const {\n+  Worker, MessageChannel, MessagePort, isMainThread\n+} = require('worker_threads');\n if (isMainThread) {\n   const worker = new Worker(__filename);\n   const subChannel = new MessageChannel();\n@@ -292,7 +296,7 @@ if (isMainThread) {\n     console.log('received:', value);\n   });\n } else {\n-  require('worker').once('workerMessage', (value) => {\n+  require('worker_threads').once('workerMessage', (value) => {\n     assert(value.hereIsYourPort instanceof MessagePort);\n     value.hereIsYourPort.postMessage('the worker is sending this');\n     value.hereIsYourPort.close();\n@@ -309,9 +313,9 @@ if (isMainThread) {\n   * `eval` {boolean} If true, interpret the first argument to the constructor\n     as a script that is executed once the worker is online.\n   * `data` {any} Any JavaScript value that will be cloned and made\n-    available as [`require('worker').workerData`][]. The cloning will occur as\n-    described in the [HTML structured clone algorithm][], and an error will be\n-    thrown if the object cannot be cloned (e.g. because it contains\n+    available as [`require('worker_threads').workerData`][]. The cloning will\n+    occur as described in the [HTML structured clone algorithm][], and an error\n+    will be thrown if the object cannot be cloned (e.g. because it contains\n     `function`s).\n   * stdin {boolean} If this is set to `true`, then `worker.stdin` will\n     provide a writable stream whose contents will appear as `process.stdin`\n@@ -351,8 +355,8 @@ added: REPLACEME\n * `value` {any} The transmitted value\n \n The `'message'` event is emitted when the worker thread has invoked\n-[`require('worker').postMessage()`][]. See the [`port.on('message')`][] event\n-for more details.\n+[`require('worker_threads').postMessage()`][]. See the [`port.on('message')`][]\n+event for more details.\n \n ### Event: 'online'\n <!-- YAML\n@@ -371,8 +375,8 @@ added: REPLACEME\n * `transferList` {Object[]}\n \n Send a message to the worker that will be received via\n-[`require('worker').on('workerMessage')`][]. See [`port.postMessage()`][] for\n-more details.\n+[`require('worker_threads').on('workerMessage')`][].\n+See [`port.postMessage()`][] for more details.\n \n ### worker.ref()\n <!-- YAML\n@@ -444,7 +448,7 @@ added: REPLACEME\n * {integer}\n \n An integer identifier for the referenced thread. Inside the worker thread,\n-it is available as [`require('worker').threadId`][].\n+it is available as [`require('worker_threads').threadId`][].\n \n ### worker.unref()\n <!-- YAML\n@@ -457,14 +461,14 @@ active handle in the event system. If the worker is already `unref()`ed calling\n \n [`Buffer`]: buffer.html\n [`EventEmitter`]: events.html\n-[`MessagePort`]: #worker_class_messageport\n-[`port.postMessage()`]: #worker_port_postmessage_value_transferlist\n-[`Worker`]: #worker_class_worker\n-[`worker.terminate()`]: #worker_worker_terminate_callback\n-[`worker.postMessage()`]: #worker_worker_postmessage_value_transferlist_1\n-[`worker.on('message')`]: #worker_event_message_1\n-[`worker.threadId`]: #worker_worker_threadid_1\n-[`port.on('message')`]: #worker_event_message\n+[`MessagePort`]: #worker_threads_class_messageport\n+[`port.postMessage()`]: #worker_threads_port_postmessage_value_transferlist\n+[`Worker`]: #worker_threads_class_worker\n+[`worker.terminate()`]: #worker_threads_worker_terminate_callback\n+[`worker.postMessage()`]: #worker_threads_worker_postmessage_value_transferlist_1\n+[`worker.on('message')`]: #worker_threads_event_message_1\n+[`worker.threadId`]: #worker_threads_worker_threadid_1\n+[`port.on('message')`]: #worker_threads_event_message\n [`process.exit()`]: process.html#process_process_exit_code\n [`process.abort()`]: process.html#process_process_abort\n [`process.chdir()`]: process.html#process_process_chdir_directory\n@@ -473,11 +477,11 @@ active handle in the event system. If the worker is already `unref()`ed calling\n [`process.stderr`]: process.html#process_process_stderr\n [`process.stdout`]: process.html#process_process_stdout\n [`process.title`]: process.html#process_process_title\n-[`require('worker').workerData`]: #worker_worker_workerdata\n-[`require('worker').on('workerMessage')`]: #worker_event_workermessage\n-[`require('worker').postMessage()`]: #worker_worker_postmessage_value_transferlist\n-[`require('worker').isMainThread`]: #worker_worker_ismainthread\n-[`require('worker').threadId`]: #worker_worker_threadid\n+[`require('worker_threads').workerData`]: #worker_threads_worker_workerdata\n+[`require('worker_threads').on('workerMessage')`]: #worker_threads_event_workermessage\n+[`require('worker_threads').postMessage()`]: #worker_threads_worker_postmessage_value_transferlist\n+[`require('worker_threads').isMainThread`]: #worker_threads_worker_ismainthread\n+[`require('worker_threads').threadId`]: #worker_threads_worker_threadid\n [`cluster` module]: cluster.html\n [`inspector`]: inspector.html\n [v8.serdes]: v8.html#v8_serialization_api",
            "previous_filename": "doc/api/worker.md"
        },
        {
            "sha": "4291092532ec949784b07b6d1c27749500639303",
            "filename": "lib/internal/bootstrap/loaders.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fbootstrap%2Floaders.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbootstrap%2Floaders.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -195,7 +195,8 @@\n \n     NativeModule.isInternal = function(id) {\n       return id.startsWith('internal/') ||\n-          (id === 'worker' && !process.binding('config').experimentalWorker);\n+          (id === 'worker_threads' &&\n+           !process.binding('config').experimentalWorker);\n     };\n   }\n "
        },
        {
            "sha": "5b5199c262ae3bec80a0ff3398bacc317d450b3f",
            "filename": "lib/internal/modules/cjs/helpers.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fcjs%2Fhelpers.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -106,7 +106,7 @@ const builtinLibs = [\n ];\n \n if (process.binding('config').experimentalWorker) {\n-  builtinLibs.push('worker');\n+  builtinLibs.push('worker_threads');\n   builtinLibs.sort();\n }\n "
        },
        {
            "sha": "de00f20d4f0e1d7df21991b892d2abeb947b091f",
            "filename": "lib/internal/worker.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fworker.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Finternal%2Fworker.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fworker.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -387,7 +387,7 @@ function setupChild(evalScript) {\n   debug(`[${threadId}] is setting up worker child environment`);\n   const port = getEnvMessagePort();\n \n-  const publicWorker = require('worker');\n+  const publicWorker = require('worker_threads');\n \n   port.on('message', (message) => {\n     if (message.type === 'loadScript') {"
        },
        {
            "sha": "0609650cd5731d5767117288e3c28b2956c78164",
            "filename": "lib/worker_threads.js",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Fworker_threads.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/lib%2Fworker_threads.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fworker_threads.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "previous_filename": "lib/worker.js"
        },
        {
            "sha": "14bf5211e97362b2b3493ac94f4e8a6046f94650",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -78,7 +78,7 @@\n       'lib/util.js',\n       'lib/v8.js',\n       'lib/vm.js',\n-      'lib/worker.js',\n+      'lib/worker_threads.js',\n       'lib/zlib.js',\n       'lib/internal/assert.js',\n       'lib/internal/async_hooks.js',"
        },
        {
            "sha": "6437b9952da0e2e06a8faa496cd117be00a9b2dd",
            "filename": "test/common/index.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fcommon%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fcommon%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Findex.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -48,7 +48,7 @@ Object.defineProperty(exports, 'PORT', {\n \n exports.isMainThread = (() => {\n   try {\n-    return require('worker').isMainThread;\n+    return require('worker_threads').isMainThread;\n   } catch {\n     // Worker module not enabled â†’ only a single main thread exists.\n     return true;"
        },
        {
            "sha": "b92905e06c0b691495d10d4c351f0fad2ac2e75f",
            "filename": "test/fixtures/worker-script.mjs",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Ffixtures%2Fworker-script.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Ffixtures%2Fworker-script.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fworker-script.mjs?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -1,3 +1,3 @@\n-import worker from 'worker';\n+import worker from 'worker_threads';\n \n worker.parentPort.postMessage('Hello, world!');"
        },
        {
            "sha": "86335fb38b1516a87a3b0d5caf3dc86d2f85819a",
            "filename": "test/parallel/test-message-channel-sharedarraybuffer.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-channel-sharedarraybuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-channel-sharedarraybuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-message-channel-sharedarraybuffer.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,14 +3,14 @@\n \n const common = require('../common');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n {\n   const sharedArrayBuffer = new SharedArrayBuffer(12);\n   const local = Buffer.from(sharedArrayBuffer);\n \n   const w = new Worker(`\n-    const { parentPort } = require('worker');\n+    const { parentPort } = require('worker_threads');\n     parentPort.on('message', ({ sharedArrayBuffer }) => {\n       const local = Buffer.from(sharedArrayBuffer);\n       local.write('world!', 6);"
        },
        {
            "sha": "03cc3549a82ff9bb447fd7ab4091c2319ea42770",
            "filename": "test/parallel/test-message-channel.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-channel.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-channel.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-message-channel.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { MessageChannel, MessagePort, Worker } = require('worker');\n+const { MessageChannel, MessagePort, Worker } = require('worker_threads');\n \n {\n   const channel = new MessageChannel();\n@@ -29,9 +29,9 @@ const { MessageChannel, MessagePort, Worker } = require('worker');\n   const channel = new MessageChannel();\n \n   const w = new Worker(`\n-    const { MessagePort } = require('worker');\n+    const { MessagePort } = require('worker_threads');\n     const assert = require('assert');\n-    require('worker').parentPort.on('message', ({ port }) => {\n+    require('worker_threads').parentPort.on('message', ({ port }) => {\n       assert(port instanceof MessagePort);\n       port.postMessage('works');\n     });"
        },
        {
            "sha": "85b5d07c6362b4cba30af3019c9ff38d243028d4",
            "filename": "test/parallel/test-message-port-arraybuffer.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port-arraybuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port-arraybuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-message-port-arraybuffer.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const assert = require('assert');\n \n-const { MessageChannel } = require('worker');\n+const { MessageChannel } = require('worker_threads');\n \n {\n   const { port1, port2 } = new MessageChannel();"
        },
        {
            "sha": "32d997b9dddab810b13d6b960c8def794b3427f3",
            "filename": "test/parallel/test-message-port-message-port-transferring.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port-message-port-transferring.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port-message-port-transferring.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-message-port-message-port-transferring.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const assert = require('assert');\n \n-const { MessageChannel } = require('worker');\n+const { MessageChannel } = require('worker_threads');\n \n {\n   const { port1: basePort1, port2: basePort2 } = new MessageChannel();"
        },
        {
            "sha": "fe88126d044c2b55cf8f0c4b5e51f40772751336",
            "filename": "test/parallel/test-message-port.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-message-port.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-message-port.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const assert = require('assert');\n \n-const { MessageChannel, MessagePort } = require('worker');\n+const { MessageChannel, MessagePort } = require('worker_threads');\n \n {\n   const { port1, port2 } = new MessageChannel();"
        },
        {
            "sha": "2fd11398da07b781f531fd3fda3c901796ef8ead",
            "filename": "test/parallel/test-worker-cleanup-handles.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-cleanup-handles.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-cleanup-handles.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-cleanup-handles.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker, isMainThread, parentPort } = require('worker');\n+const { Worker, isMainThread, parentPort } = require('worker_threads');\n const { Server } = require('net');\n const fs = require('fs');\n "
        },
        {
            "sha": "8526f739873e74f95dd7de0ebfa9172bf2bda28c",
            "filename": "test/parallel/test-worker-dns-terminate.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-dns-terminate.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-dns-terminate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-dns-terminate.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -1,12 +1,12 @@\n // Flags: --experimental-worker\n 'use strict';\n const common = require('../common');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n const w = new Worker(`\n const dns = require('dns');\n dns.lookup('nonexistent.org', () => {});\n-require('worker').parentPort.postMessage('0');\n+require('worker_threads').parentPort.postMessage('0');\n `, { eval: true });\n \n w.on('message', common.mustCall(() => {"
        },
        {
            "sha": "de4657452c9c7ff27aec561a1349c1b610aed315",
            "filename": "test/parallel/test-worker-esmodule.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-esmodule.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-esmodule.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-esmodule.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const fixtures = require('../common/fixtures');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n const w = new Worker(fixtures.path('worker-script.mjs'));\n w.on('message', common.mustCall((message) => {"
        },
        {
            "sha": "3c7627b02cbe431a2d54673b8610419d3d236259",
            "filename": "test/parallel/test-worker-memory.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-memory.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-memory.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-memory.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const assert = require('assert');\n const util = require('util');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n const numWorkers = +process.env.JOBS || require('os').cpus().length;\n \n@@ -13,7 +13,7 @@ function run(n, done) {\n   if (n <= 0)\n     return done();\n   const worker = new Worker(\n-    'require(\\'worker\\').parentPort.postMessage(2 + 2)',\n+    'require(\\'worker_threads\\').parentPort.postMessage(2 + 2)',\n     { eval: true });\n   worker.on('message', common.mustCall((value) => {\n     assert.strictEqual(value, 4);"
        },
        {
            "sha": "804285710b4bf436c85c91c48e5d500c415ba8c9",
            "filename": "test/parallel/test-worker-nexttick-terminate.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-nexttick-terminate.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-nexttick-terminate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-nexttick-terminate.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -1,13 +1,13 @@\n // Flags: --experimental-worker\n 'use strict';\n const common = require('../common');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n // Checks that terminating in the middle of `process.nextTick()` does not\n // Crash the process.\n \n const w = new Worker(`\n-require('worker').parentPort.postMessage('0');\n+require('worker_threads').parentPort.postMessage('0');\n process.nextTick(() => {\n   while(1);\n });"
        },
        {
            "sha": "366f9e694dd2fa50822f6153120f07cad0b75bfb",
            "filename": "test/parallel/test-worker-stdio.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-stdio.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-stdio.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-stdio.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -5,7 +5,7 @@ const assert = require('assert');\n const fs = require('fs');\n const util = require('util');\n const { Writable } = require('stream');\n-const { Worker, isMainThread } = require('worker');\n+const { Worker, isMainThread } = require('worker_threads');\n \n class BufferingWritable extends Writable {\n   constructor() {"
        },
        {
            "sha": "b1f8fd5f681343697e68da73c82d186e29631c12",
            "filename": "test/parallel/test-worker-syntax-error-file.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-syntax-error-file.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-syntax-error-file.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-syntax-error-file.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n const common = require('../common');\n const fixtures = require('../common/fixtures');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n // Do not use isMainThread so that this test itself can be run inside a Worker.\n if (!process.env.HAS_STARTED_WORKER) {"
        },
        {
            "sha": "d54888053900da9a0ec8ce75cd6f2102b0096644",
            "filename": "test/parallel/test-worker-syntax-error.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-syntax-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-syntax-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-syntax-error.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n // Do not use isMainThread so that this test itself can be run inside a Worker.\n if (!process.env.HAS_STARTED_WORKER) {"
        },
        {
            "sha": "c3f0c8dec59f0991537b359ee2875b0694abcfde",
            "filename": "test/parallel/test-worker-uncaught-exception-async.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-uncaught-exception-async.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-uncaught-exception-async.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-uncaught-exception-async.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n // Do not use isMainThread so that this test itself can be run inside a Worker.\n if (!process.env.HAS_STARTED_WORKER) {"
        },
        {
            "sha": "b7d9f8a2928ec19fb629f0c1ae8edd431a241d93",
            "filename": "test/parallel/test-worker-uncaught-exception.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-uncaught-exception.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-uncaught-exception.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-uncaught-exception.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n // Do not use isMainThread so that this test itself can be run inside a Worker.\n if (!process.env.HAS_STARTED_WORKER) {"
        },
        {
            "sha": "b4de6fd1976013f8633a8dd235240e4f348ed094",
            "filename": "test/parallel/test-worker-unsupported-path.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-unsupported-path.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-unsupported-path.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-unsupported-path.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -3,7 +3,7 @@\n \n const common = require('../common');\n const assert = require('assert');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n {\n   const expectedErr = common.expectsError({"
        },
        {
            "sha": "7946e9cf1c138b0896e484eb09224bbfda6eeb57",
            "filename": "test/parallel/test-worker-unsupported-things.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-unsupported-things.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker-unsupported-things.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-unsupported-things.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker, isMainThread, parentPort } = require('worker');\n+const { Worker, isMainThread, parentPort } = require('worker_threads');\n \n if (isMainThread) {\n   const w = new Worker(__filename);"
        },
        {
            "sha": "6cd64fce9b4eb8735d681b4ab1ad6cabe952f739",
            "filename": "test/parallel/test-worker.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/test%2Fparallel%2Ftest-worker.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -2,7 +2,7 @@\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n-const { Worker, isMainThread, parentPort } = require('worker');\n+const { Worker, isMainThread, parentPort } = require('worker_threads');\n \n if (isMainThread) {\n   const w = new Worker(__filename);"
        },
        {
            "sha": "7590e460a404ae98aa248ea45f9a25b59bf58605",
            "filename": "tools/run-worker.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/tools%2Frun-worker.js",
            "raw_url": "https://github.com/nodejs/node/raw/b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a/tools%2Frun-worker.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Frun-worker.js?ref=b7c7c0c4961fd4e382b7cadcfb7c8360b8904a4a",
            "patch": "@@ -5,7 +5,7 @@ if (typeof require === 'undefined') {\n }\n \n const path = require('path');\n-const { Worker } = require('worker');\n+const { Worker } = require('worker_threads');\n \n new Worker(path.resolve(process.cwd(), process.argv[2]))\n   .on('exit', (code) => process.exitCode = code);"
        }
    ],
    "stats": {
        "total": 137,
        "additions": 71,
        "deletions": 66
    }
}