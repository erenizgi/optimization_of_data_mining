{
    "author": "danbev",
    "message": "build: use BUILDTYPE in bench-addons-build targets\n\nThis commit uses the BUILDTYPE for the benchmark targets that currently\nexplicitly use Release as the build type.\n\nThe motivation for this change is allows switching between debug builds\nand release builds using the bench-addons-clean/bench-addons-build\ntargets.\n\nPR-URL: https://github.com/nodejs/node/pull/24033\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "ce6ec368a6ca1731323de074e0dbafaad2426e2b",
    "files": [
        {
            "sha": "2c6efa7b9afb447cdb3ceba30977cee427c1eb12",
            "filename": "Makefile",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/ce6ec368a6ca1731323de074e0dbafaad2426e2b/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/ce6ec368a6ca1731323de074e0dbafaad2426e2b/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=ce6ec368a6ca1731323de074e0dbafaad2426e2b",
            "patch": "@@ -308,7 +308,7 @@ test-valgrind: all\n test-check-deopts: all\n \t$(PYTHON) tools/test.py $(PARALLEL_ARGS) --mode=$(BUILDTYPE_LOWER) --check-deopts parallel sequential\n \n-benchmark/napi/function_call/build/Release/binding.node: \\\n+benchmark/napi/function_call/build/$(BUILDTYPE)/binding.node: \\\n \t\tbenchmark/napi/function_call/napi_binding.c \\\n \t\tbenchmark/napi/function_call/binding.cc \\\n \t\tbenchmark/napi/function_call/binding.gyp | all\n@@ -317,7 +317,7 @@ benchmark/napi/function_call/build/Release/binding.node: \\\n \t\t--directory=\"$(shell pwd)/benchmark/napi/function_call\" \\\n \t\t--nodedir=\"$(shell pwd)\"\n \n-benchmark/napi/function_args/build/Release/binding.node: \\\n+benchmark/napi/function_args/build/$(BUILDTYPE)/binding.node: \\\n \t\tbenchmark/napi/function_args/napi_binding.c \\\n \t\tbenchmark/napi/function_args/binding.cc \\\n \t\tbenchmark/napi/function_args/binding.gyp | all\n@@ -1050,8 +1050,8 @@ bench: bench-addons-build\n \n # Build required addons for benchmark before running it.\n .PHONY: bench-addons-build\n-bench-addons-build: benchmark/napi/function_call/build/Release/binding.node \\\n-\tbenchmark/napi/function_args/build/Release/binding.node\n+bench-addons-build: benchmark/napi/function_call/build/$(BUILDTYPE)/binding.node \\\n+\tbenchmark/napi/function_args/build/$(BUILDTYPE)/binding.node\n \n .PHONY: bench-addons-clean\n bench-addons-clean:"
        },
        {
            "sha": "c76831b573dde609b31f393a9606b4001bfa4d4a",
            "filename": "benchmark/common.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fcommon.js",
            "raw_url": "https://github.com/nodejs/node/raw/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fcommon.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fcommon.js?ref=ce6ec368a6ca1731323de074e0dbafaad2426e2b",
            "patch": "@@ -3,6 +3,8 @@\n const child_process = require('child_process');\n const http_benchmarkers = require('./_http-benchmarkers.js');\n \n+exports.buildType = process.features.debug ? 'Debug' : 'Release';\n+\n exports.createBenchmark = function(fn, configs, options) {\n   return new Benchmark(fn, configs, options);\n };"
        },
        {
            "sha": "df567dcfcc55bc935303c463ac2c842ad354d28a",
            "filename": "benchmark/napi/function_args/index.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fnapi%2Ffunction_args%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fnapi%2Ffunction_args%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fnapi%2Ffunction_args%2Findex.js?ref=ce6ec368a6ca1731323de074e0dbafaad2426e2b",
            "patch": "@@ -10,14 +10,14 @@ let v8;\n let napi;\n \n try {\n-  v8 = require('./build/Release/binding');\n+  v8 = require(`./build/${common.buildType}/binding`);\n } catch {\n   console.error(`${__filename}: V8 Binding failed to load`);\n   process.exit(0);\n }\n \n try {\n-  napi = require('./build/Release/napi_binding');\n+  napi = require(`./build/${common.buildType}/napi_binding`);\n } catch {\n   console.error(`${__filename}: NAPI-Binding failed to load`);\n   process.exit(0);"
        },
        {
            "sha": "59063e500f7a840861f05e80eee6697616c7f14c",
            "filename": "benchmark/napi/function_call/index.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fnapi%2Ffunction_call%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/ce6ec368a6ca1731323de074e0dbafaad2426e2b/benchmark%2Fnapi%2Ffunction_call%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fnapi%2Ffunction_call%2Findex.js?ref=ce6ec368a6ca1731323de074e0dbafaad2426e2b",
            "patch": "@@ -12,7 +12,7 @@ const common = require('../../common.js');\n // abort quietly.\n \n try {\n-  var binding = require('./build/Release/binding');\n+  var binding = require(`./build/${common.buildType}/binding`);\n } catch {\n   console.error('misc/function_call.js Binding failed to load');\n   process.exit(0);\n@@ -21,7 +21,7 @@ const cxx = binding.hello;\n \n let napi_binding;\n try {\n-  napi_binding = require('./build/Release/napi_binding');\n+  napi_binding = require(`./build/${common.buildType}/napi_binding`);\n } catch {\n   console.error('misc/function_call/index.js NAPI-Binding failed to load');\n   process.exit(0);"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 10,
        "deletions": 8
    }
}