{
    "author": "refack",
    "message": "deps,v8: fix gypfile bug\n\nPR-URL: https://github.com/nodejs/node/pull/23704\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>",
    "sha": "df7f629544bb39e9e07b1f812d1089f0579e4a1f",
    "files": [
        {
            "sha": "779073a635bebed75d9ad709aef0e0e6ccb7e48f",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/df7f629544bb39e9e07b1f812d1089f0579e4a1f/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/df7f629544bb39e9e07b1f812d1089f0579e4a1f/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=df7f629544bb39e9e07b1f812d1089f0579e4a1f",
            "patch": "@@ -30,7 +30,7 @@\n \n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n-    'v8_embedder_string': '-node.7',\n+    'v8_embedder_string': '-node.8',\n \n     # Enable disassembler for `--print-code` v8 options\n     'v8_enable_disassembler': 1,"
        },
        {
            "sha": "4860c5b7724e202f98714db4d374eaab9469d09b",
            "filename": "deps/v8/gypfiles/toolchain.gypi",
            "status": "modified",
            "additions": 110,
            "deletions": 148,
            "changes": 258,
            "blob_url": "https://github.com/nodejs/node/blob/df7f629544bb39e9e07b1f812d1089f0579e4a1f/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/df7f629544bb39e9e07b1f812d1089f0579e4a1f/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Ftoolchain.gypi?ref=df7f629544bb39e9e07b1f812d1089f0579e4a1f",
            "patch": "@@ -1134,121 +1134,7 @@\n       }],\n     ],  # conditions\n     'configurations': {\n-      # Abstract configuration for v8_optimized_debug == 0.\n-      'DebugBase0': {\n-        'abstract': 1,\n-        'msvs_settings': {\n-          'VCCLCompilerTool': {\n-            'Optimization': '0',\n-            'conditions': [\n-              ['component==\"shared_library\" or force_dynamic_crt==1', {\n-                'RuntimeLibrary': '3',  # /MDd\n-              }, {\n-                'RuntimeLibrary': '1',  # /MTd\n-              }],\n-            ],\n-          },\n-          'VCLinkerTool': {\n-            'LinkIncremental': '2',\n-          },\n-        },\n-        'variables': {\n-          'v8_enable_slow_dchecks%': 1,\n-        },\n-        'conditions': [\n-          ['OS==\"linux\" or OS==\"freebsd\" or OS==\"openbsd\" or OS==\"netbsd\" or \\\n-            OS==\"qnx\" or OS==\"aix\"', {\n-            'cflags!': [\n-              '-O3',\n-              '-O2',\n-              '-O1',\n-              '-Os',\n-            ],\n-            'cflags': [\n-              '-fdata-sections',\n-              '-ffunction-sections',\n-            ],\n-          }],\n-          ['OS==\"mac\"', {\n-            'xcode_settings': {\n-               'GCC_OPTIMIZATION_LEVEL': '0',  # -O0\n-            },\n-          }],\n-          ['v8_enable_slow_dchecks==1', {\n-            'defines': [\n-              'ENABLE_SLOW_DCHECKS',\n-            ],\n-          }],\n-        ],\n-      },  # DebugBase0\n-      # Abstract configuration for v8_optimized_debug == 1.\n-      'DebugBase1': {\n-        'abstract': 1,\n-        'msvs_settings': {\n-          'VCCLCompilerTool': {\n-            'Optimization': '2',\n-            'InlineFunctionExpansion': '2',\n-            'EnableIntrinsicFunctions': 'true',\n-            'FavorSizeOrSpeed': '0',\n-            'StringPooling': 'true',\n-            'BasicRuntimeChecks': '0',\n-            'conditions': [\n-              ['component==\"shared_library\" or force_dynamic_crt==1', {\n-                'RuntimeLibrary': '3',  #/MDd\n-              }, {\n-                'RuntimeLibrary': '1',  #/MTd\n-              }],\n-            ],\n-          },\n-          'VCLinkerTool': {\n-            'LinkIncremental': '1',\n-            'OptimizeReferences': '2',\n-            'EnableCOMDATFolding': '2',\n-          },\n-        },\n-        'variables': {\n-          'v8_enable_slow_dchecks%': 0,\n-        },\n-        'conditions': [\n-          ['OS==\"linux\" or OS==\"freebsd\" or OS==\"openbsd\" or OS==\"netbsd\" or \\\n-            OS==\"qnx\" or OS==\"aix\"', {\n-            'cflags!': [\n-              '-O0',\n-              '-O1',\n-              '-Os',\n-            ],\n-            'cflags': [\n-              '-fdata-sections',\n-              '-ffunction-sections',\n-            ],\n-            'conditions': [\n-              # Don't use -O3 with sanitizers.\n-              ['asan==0 and msan==0 and lsan==0 \\\n-                and tsan==0 and ubsan==0 and ubsan_vptr==0', {\n-                'cflags': ['-O3'],\n-                'cflags!': ['-O2'],\n-                }, {\n-                'cflags': ['-O2'],\n-                'cflags!': ['-O3'],\n-              }],\n-            ],\n-          }],\n-          ['OS==\"mac\"', {\n-            'xcode_settings': {\n-              'GCC_OPTIMIZATION_LEVEL': '3',  # -O3\n-              'GCC_STRICT_ALIASING': 'YES',\n-            },\n-          }],\n-          ['v8_enable_slow_dchecks==1', {\n-            'defines': [\n-              'ENABLE_SLOW_DCHECKS',\n-            ],\n-          }],\n-        ],\n-      },  # DebugBase1\n-      # Common settings for the Debug configuration.\n-      'DebugBaseCommon': {\n-        'abstract': 1,\n+      'Debug': {\n         'defines': [\n           'ENABLE_DISASSEMBLER',\n           'V8_ENABLE_CHECKS',\n@@ -1311,27 +1197,126 @@\n               }],\n             ],\n           }],\n-        ],\n-      },  # DebugBaseCommon\n-      'Debug': {\n-        'inherit_from': ['DebugBaseCommon'],\n-        'conditions': [\n           ['v8_optimized_debug==0', {\n-            'inherit_from': ['DebugBase0'],\n+            'msvs_settings': {\n+              'VCCLCompilerTool': {\n+                'Optimization': '0',\n+                'conditions': [\n+                  ['component==\"shared_library\" or force_dynamic_crt==1', {\n+                    'RuntimeLibrary': '3',  # /MDd\n+                  }, {\n+                     'RuntimeLibrary': '1',  # /MTd\n+                   }],\n+                ],\n+              },\n+              'VCLinkerTool': {\n+                'LinkIncremental': '2',\n+              },\n+            },\n+            'variables': {\n+              'v8_enable_slow_dchecks%': 1,\n+            },\n+            'conditions': [\n+              ['OS==\"linux\" or OS==\"freebsd\" or OS==\"openbsd\" or OS==\"netbsd\" or \\\n+            OS==\"qnx\" or OS==\"aix\"', {\n+                'cflags!': [\n+                  '-O3',\n+                  '-O2',\n+                  '-O1',\n+                  '-Os',\n+                ],\n+                'cflags': [\n+                  '-fdata-sections',\n+                  '-ffunction-sections',\n+                ],\n+              }],\n+              ['OS==\"mac\"', {\n+                'xcode_settings': {\n+                  'GCC_OPTIMIZATION_LEVEL': '0',  # -O0\n+                },\n+              }],\n+              ['v8_enable_slow_dchecks==1', {\n+                'defines': [\n+                  'ENABLE_SLOW_DCHECKS',\n+                ],\n+              }],\n+            ],\n           }, {\n-            'inherit_from': ['DebugBase1'],\n+            'msvs_settings': {\n+              'VCCLCompilerTool': {\n+                'Optimization': '2',\n+                'InlineFunctionExpansion': '2',\n+                'EnableIntrinsicFunctions': 'true',\n+                'FavorSizeOrSpeed': '0',\n+                'StringPooling': 'true',\n+                'BasicRuntimeChecks': '0',\n+                'conditions': [\n+                  ['component==\"shared_library\" or force_dynamic_crt==1', {\n+                    'RuntimeLibrary': '3',  #/MDd\n+                  }, {\n+                     'RuntimeLibrary': '1',  #/MTd\n+                   }],\n+                ],\n+              },\n+              'VCLinkerTool': {\n+                'LinkIncremental': '1',\n+                'OptimizeReferences': '2',\n+                'EnableCOMDATFolding': '2',\n+              },\n+            },\n+            'variables': {\n+              'v8_enable_slow_dchecks%': 0,\n+            },\n+            'conditions': [\n+              ['OS==\"linux\" or OS==\"freebsd\" or OS==\"openbsd\" or OS==\"netbsd\" or \\\n+            OS==\"qnx\" or OS==\"aix\"', {\n+                'cflags!': [\n+                  '-O0',\n+                  '-O1',\n+                  '-Os',\n+                ],\n+                'cflags': [\n+                  '-fdata-sections',\n+                  '-ffunction-sections',\n+                ],\n+                'conditions': [\n+                  # Don't use -O3 with sanitizers.\n+                  ['asan==0 and msan==0 and lsan==0 \\\n+                and tsan==0 and ubsan==0 and ubsan_vptr==0', {\n+                    'cflags': ['-O3'],\n+                    'cflags!': ['-O2'],\n+                  }, {\n+                     'cflags': ['-O2'],\n+                     'cflags!': ['-O3'],\n+                   }],\n+                ],\n+              }],\n+              ['OS==\"mac\"', {\n+                'xcode_settings': {\n+                  'GCC_OPTIMIZATION_LEVEL': '3',  # -O3\n+                  'GCC_STRICT_ALIASING': 'YES',\n+                },\n+              }],\n+              ['v8_enable_slow_dchecks==1', {\n+                'defines': [\n+                  'ENABLE_SLOW_DCHECKS',\n+                ],\n+              }],\n+            ],\n           }],\n           # Temporary refs: https://github.com/nodejs/node/pull/23801\n           ['v8_enable_handle_zapping==1', {\n             'defines': ['ENABLE_HANDLE_ZAPPING',],\n           }],\n         ],\n-      },  # Debug\n-      'ReleaseBase': {\n-        'abstract': 1,\n+\n+      },  # DebugBaseCommon\n+      'Release': {\n         'variables': {\n           'v8_enable_slow_dchecks%': 0,\n         },\n+         # Temporary refs: https://github.com/nodejs/node/pull/23801\n+        'defines!': ['ENABLE_HANDLE_ZAPPING',],\n         'conditions': [\n           ['OS==\"linux\" or OS==\"freebsd\" or OS==\"openbsd\" or OS==\"netbsd\" \\\n             or OS==\"aix\"', {\n@@ -1407,29 +1392,6 @@\n           }],\n         ],  # conditions\n       },  # Release\n-      'Release': {\n-        'inherit_from': ['ReleaseBase'],\n-        # Temporary refs: https://github.com/nodejs/node/pull/23801\n-        'defines!': ['ENABLE_HANDLE_ZAPPING',],\n-      },  # Debug\n-      'conditions': [\n-        [ 'OS==\"win\"', {\n-          # TODO(bradnelson): add a gyp mechanism to make this more graceful.\n-          'Debug_x64': {\n-            'inherit_from': ['DebugBaseCommon'],\n-            'conditions': [\n-              ['v8_optimized_debug==0', {\n-                'inherit_from': ['DebugBase0'],\n-              }, {\n-                'inherit_from': ['DebugBase1'],\n-              }],\n-            ],\n-          },\n-          'Release_x64': {\n-            'inherit_from': ['ReleaseBase'],\n-          },\n-        }],\n-      ],\n     },  # configurations\n     'msvs_disabled_warnings': [\n       4245,  # Conversion with signed/unsigned mismatch."
        },
        {
            "sha": "0c257025caeae4a608783cdc19baf1809144fd7c",
            "filename": "deps/v8/gypfiles/v8.gyp",
            "status": "modified",
            "additions": 4,
            "deletions": 17,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/df7f629544bb39e9e07b1f812d1089f0579e4a1f/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/df7f629544bb39e9e07b1f812d1089f0579e4a1f/deps%2Fv8%2Fgypfiles%2Fv8.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fv8%2Fgypfiles%2Fv8.gyp?ref=df7f629544bb39e9e07b1f812d1089f0579e4a1f",
            "patch": "@@ -2539,23 +2539,10 @@\n         '_HAS_EXCEPTIONS=0',\n         'BUILDING_V8_SHARED=1',\n       ],\n-      # This is defined trough `configurations` for GYP+ninja compatibility\n-      'configurations': {\n-        'Debug': {\n-          'msvs_settings': {\n-            'VCCLCompilerTool': {\n-              'RuntimeTypeInfo': 'true',\n-              'ExceptionHandling': 1,\n-            },\n-          }\n-        },\n-        'Release': {\n-          'msvs_settings': {\n-            'VCCLCompilerTool': {\n-              'RuntimeTypeInfo': 'true',\n-              'ExceptionHandling': 1,\n-            },\n-          }\n+      'msvs_settings': {\n+        'VCCLCompilerTool': {\n+          'RuntimeTypeInfo': 'true',\n+          'ExceptionHandling': 1,\n         },\n       },\n       'sources': ["
        }
    ],
    "stats": {
        "total": 281,
        "additions": 115,
        "deletions": 166
    }
}