{
    "author": "targos",
    "message": "test: add test for missing dynamic instantiate hook\n\nPR-URL: https://github.com/nodejs/node/pull/21506\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "908518d9e348581c72a6302ed1bf518b57d5ae0b",
    "files": [
        {
            "sha": "27447b3e436afe8468cbc95754e956652d99cabf",
            "filename": "test/es-module/test-esm-loader-missing-dynamic-instantiate-hook.mjs",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/908518d9e348581c72a6302ed1bf518b57d5ae0b/test%2Fes-module%2Ftest-esm-loader-missing-dynamic-instantiate-hook.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/908518d9e348581c72a6302ed1bf518b57d5ae0b/test%2Fes-module%2Ftest-esm-loader-missing-dynamic-instantiate-hook.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fes-module%2Ftest-esm-loader-missing-dynamic-instantiate-hook.mjs?ref=908518d9e348581c72a6302ed1bf518b57d5ae0b",
            "patch": "@@ -0,0 +1,14 @@\n+// Flags: --experimental-modules --loader ./test/fixtures/es-module-loaders/missing-dynamic-instantiate-hook.mjs\n+\n+import {\n+  crashOnUnhandledRejection,\n+  expectsError\n+} from '../common';\n+\n+crashOnUnhandledRejection();\n+\n+import('test').catch(expectsError({\n+  code: 'ERR_MISSING_DYNAMIC_INSTANTIATE_HOOK',\n+  message: 'The ES Module loader may not return a format of \\'dynamic\\' ' +\n+    'when no dynamicInstantiate function was provided'\n+}));"
        },
        {
            "sha": "6993747fcc014214452c1593f7800e6c485b700c",
            "filename": "test/fixtures/es-module-loaders/missing-dynamic-instantiate-hook.mjs",
            "status": "added",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/908518d9e348581c72a6302ed1bf518b57d5ae0b/test%2Ffixtures%2Fes-module-loaders%2Fmissing-dynamic-instantiate-hook.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/908518d9e348581c72a6302ed1bf518b57d5ae0b/test%2Ffixtures%2Fes-module-loaders%2Fmissing-dynamic-instantiate-hook.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fes-module-loaders%2Fmissing-dynamic-instantiate-hook.mjs?ref=908518d9e348581c72a6302ed1bf518b57d5ae0b",
            "patch": "@@ -0,0 +1,6 @@\n+export function resolve(specifier, parentModule, defaultResolver) {\n+  if (specifier !== 'test') {\n+    return defaultResolver(specifier, parentModule);\n+  }\n+  return { url: 'file://', format: 'dynamic' };\n+}"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 20,
        "deletions": 0
    }
}