{
    "author": "kjin",
    "message": "doc: remove removed apis from http2 docs\n\nPR-URL: https://github.com/nodejs/node/pull/18439\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>",
    "sha": "71b15e8c7b935ba58838afdbe3ac114908edcb08",
    "files": [
        {
            "sha": "ed985af05780c7a7c84b902374ebfee549a20128",
            "filename": "doc/api/http2.md",
            "status": "modified",
            "additions": 59,
            "deletions": 85,
            "changes": 144,
            "blob_url": "https://github.com/nodejs/node/blob/71b15e8c7b935ba58838afdbe3ac114908edcb08/doc%2Fapi%2Fhttp2.md",
            "raw_url": "https://github.com/nodejs/node/raw/71b15e8c7b935ba58838afdbe3ac114908edcb08/doc%2Fapi%2Fhttp2.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fhttp2.md?ref=71b15e8c7b935ba58838afdbe3ac114908edcb08",
            "patch": "@@ -19,8 +19,8 @@ compatibility with the existing [HTTP/1][] module API. However,\n the [Compatibility API][] is.\n \n The `http2` Core API is much more symmetric between client and server than the\n-`http` API. For instance, most events, like `error` and `socketError`, can be\n-emitted either by client-side code or server-side code.\n+`http` API. For instance, most events, like `error`, `connect` and `stream`, can\n+be emitted either by client-side code or server-side code.\n \n ### Server-side example\n \n@@ -36,7 +36,6 @@ const server = http2.createSecureServer({\n   cert: fs.readFileSync('localhost-cert.pem')\n });\n server.on('error', (err) => console.error(err));\n-server.on('socketError', (err) => console.error(err));\n \n server.on('stream', (stream, headers) => {\n   // stream is a Duplex\n@@ -68,7 +67,6 @@ const client = http2.connect('https://localhost:8443', {\n   ca: fs.readFileSync('localhost-cert.pem')\n });\n client.on('error', (err) => console.error(err));\n-client.on('socketError', (err) => console.error(err));\n \n const req = client.request({ ':path': '/' });\n \n@@ -479,44 +477,6 @@ Used to set a callback function that is called when there is no activity on\n the `Http2Session` after `msecs` milliseconds. The given `callback` is\n registered as a listener on the `'timeout'` event.\n \n-#### http2session.close(options[, callback])\n-<!-- YAML\n-added: v8.4.0\n--->\n-\n-* `options` {Object}\n-  * `errorCode` {number} The HTTP/2 [error code][] to return. Note that this is\n-    *not* the same thing as an HTTP Response Status Code. **Default:** `0x00`\n-    (No Error).\n-  * `lastStreamID` {number} The Stream ID of the last successfully processed\n-    `Http2Stream` on this `Http2Session`. If unspecified, will default to the\n-    ID of the most recently received stream.\n-  * `opaqueData` {Buffer|Uint8Array} A `Buffer` or `Uint8Array` instance\n-    containing arbitrary additional data to send to the peer upon disconnection.\n-    This is used, typically, to provide additional data for debugging failures,\n-    if necessary.\n-* `callback` {Function} A callback that is invoked after the session shutdown\n-  has been completed.\n-* Returns: {undefined}\n-\n-Attempts to shut down this `Http2Session` using HTTP/2 defined procedures.\n-If specified, the given `callback` function will be invoked once the shutdown\n-process has completed.\n-\n-If the `Http2Session` instance is a server-side session and the `errorCode`\n-option is `0x00` (No Error), a \"graceful\" shutdown will be initiated. During a\n-\"graceful\" shutdown, the session will first send a `GOAWAY` frame to\n-the connected peer identifying the last processed stream as 2<sup>31</sup>-1.\n-Then, on the next tick of the event loop, a second `GOAWAY` frame identifying\n-the most recently processed stream identifier is sent. This process allows the\n-remote peer to begin preparing for the connection to be terminated.\n-\n-```js\n-session.close({\n-  opaqueData: Buffer.from('add some debugging data here')\n-}, () => session.destroy());\n-```\n-\n #### http2session.socket\n <!-- YAML\n added: v8.4.0\n@@ -686,19 +646,23 @@ added: v8.4.0\n added: v9.4.0\n -->\n \n+* `alt`: {string}\n+* `origin`: {string}\n+* `streamId`: {number}\n+\n The `'altsvc'` event is emitted whenever an `ALTSVC` frame is received by\n the client. The event is emitted with the `ALTSVC` value, origin, and stream\n-ID, if any. If no `origin` is provided in the `ALTSVC` frame, `origin` will\n+ID. If no `origin` is provided in the `ALTSVC` frame, `origin` will\n be an empty string.\n \n ```js\n const http2 = require('http2');\n const client = http2.connect('https://example.org');\n \n-client.on('altsvc', (alt, origin, stream) => {\n+client.on('altsvc', (alt, origin, streamId) => {\n   console.log(alt);\n   console.log(origin);\n-  console.log(stream);\n+  console.log(streamId);\n });\n ```\n \n@@ -1472,10 +1436,9 @@ added: v8.4.0\n \n * Extends: {net.Server}\n \n-In `Http2Server`, there is no `'clientError'` event as there is in\n-HTTP1. However, there are `'socketError'`, `'sessionError'`,  and\n-`'streamError'`, for errors emitted on the socket, `Http2Session`, or\n-`Http2Stream`.\n+In `Http2Server`, there are no `'clientError'` events as there are in\n+HTTP1. However, there are `'sessionError'`,  and `'streamError'` events for\n+errors emitted on the socket, or from `Http2Session` or `Http2Stream` instances.\n \n #### Event: 'checkContinue'\n <!-- YAML\n@@ -1580,23 +1543,54 @@ added: v8.4.0\n \n * Extends: {tls.Server}\n \n-#### Event: 'sessionError'\n+#### Event: 'checkContinue'\n+<!-- YAML\n+added: v8.5.0\n+-->\n+\n+* `request` {http2.Http2ServerRequest}\n+* `response` {http2.Http2ServerResponse}\n+\n+If a [`'request'`][] listener is registered or [`http2.createSecureServer()`][]\n+is supplied a callback function, the `'checkContinue'` event is emitted each\n+time a request with an HTTP `Expect: 100-continue` is received. If this event\n+is not listened for, the server will automatically respond with a status\n+`100 Continue` as appropriate.\n+\n+Handling this event involves calling [`response.writeContinue()`][] if the client\n+should continue to send the request body, or generating an appropriate HTTP\n+response (e.g. 400 Bad Request) if the client should not continue to send the\n+request body.\n+\n+Note that when this event is emitted and handled, the [`'request'`][] event will\n+not be emitted.\n+\n+#### Event: 'request'\n <!-- YAML\n added: v8.4.0\n -->\n \n-The `'sessionError'` event is emitted when an `'error'` event is emitted by\n-an `Http2Session` object associated with the `Http2SecureServer`.\n+* `request` {http2.Http2ServerRequest}\n+* `response` {http2.Http2ServerResponse}\n \n-#### Event: 'unknownProtocol'\n+Emitted each time there is a request. Note that there may be multiple requests\n+per session. See the [Compatibility API][].\n+\n+#### Event: 'session'\n <!-- YAML\n added: v8.4.0\n -->\n \n-The `'unknownProtocol'` event is emitted when a connecting client fails to\n-negotiate an allowed protocol (i.e. HTTP/2 or HTTP/1.1). The event handler\n-receives the socket for handling. If no listener is registered for this event,\n-the connection is terminated. See the [Compatibility API][].\n+The `'session'` event is emitted when a new `Http2Session` is created by the\n+`Http2SecureServer`.\n+\n+#### Event: 'sessionError'\n+<!-- YAML\n+added: v8.4.0\n+-->\n+\n+The `'sessionError'` event is emitted when an `'error'` event is emitted by\n+an `Http2Session` object associated with the `Http2SecureServer`.\n \n #### Event: 'stream'\n <!-- YAML\n@@ -1631,43 +1625,23 @@ server.on('stream', (stream, headers, flags) => {\n });\n ```\n \n-#### Event: 'request'\n+#### Event: 'timeout'\n <!-- YAML\n added: v8.4.0\n -->\n \n-* `request` {http2.Http2ServerRequest}\n-* `response` {http2.Http2ServerResponse}\n-\n-Emitted each time there is a request. Note that there may be multiple requests\n-per session. See the [Compatibility API][].\n+The `'timeout'` event is emitted when there is no activity on the Server for\n+a given number of milliseconds set using `http2secureServer.setTimeout()`.\n \n-#### Event: 'timeout'\n+#### Event: 'unknownProtocol'\n <!-- YAML\n added: v8.4.0\n -->\n \n-#### Event: 'checkContinue'\n-<!-- YAML\n-added: v8.5.0\n--->\n-\n-* `request` {http2.Http2ServerRequest}\n-* `response` {http2.Http2ServerResponse}\n-\n-If a [`'request'`][] listener is registered or [`http2.createSecureServer()`][]\n-is supplied a callback function, the `'checkContinue'` event is emitted each\n-time a request with an HTTP `Expect: 100-continue` is received. If this event\n-is not listened for, the server will automatically respond with a status\n-`100 Continue` as appropriate.\n-\n-Handling this event involves calling [`response.writeContinue()`][] if the client\n-should continue to send the request body, or generating an appropriate HTTP\n-response (e.g. 400 Bad Request) if the client should not continue to send the\n-request body.\n-\n-Note that when this event is emitted and handled, the [`'request'`][] event will\n-not be emitted.\n+The `'unknownProtocol'` event is emitted when a connecting client fails to\n+negotiate an allowed protocol (i.e. HTTP/2 or HTTP/1.1). The event handler\n+receives the socket for handling. If no listener is registered for this event,\n+the connection is terminated. See the [Compatibility API][].\n \n ### http2.createServer(options[, onRequestHandler])\n <!-- YAML"
        }
    ],
    "stats": {
        "total": 144,
        "additions": 59,
        "deletions": 85
    }
}