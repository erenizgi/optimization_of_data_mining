{
    "author": "BridgeAR",
    "message": "errors: update all internal errors\n\nThis updates all internal errors to the new error type. While doing\nso it removes unused errors.\n\nA few errors currently seem to have the wrong type. To identify them\nlater, comments were added next to the error type.\n\nPR-URL: https://github.com/nodejs/node/pull/18857\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "6e1c25c45672b70f4b6c6c8af56d9c0762bfae04",
    "files": [
        {
            "sha": "dfd3a84d4746adf021b0490d07f59a6164bb56f3",
            "filename": "doc/api/errors.md",
            "status": "modified",
            "additions": 0,
            "deletions": 55,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/doc%2Fapi%2Ferrors.md",
            "raw_url": "https://github.com/nodejs/node/raw/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/doc%2Fapi%2Ferrors.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ferrors.md?ref=6e1c25c45672b70f4b6c6c8af56d9c0762bfae04",
            "patch": "@@ -793,12 +793,6 @@ An invalid symlink type was passed to the [`fs.symlink()`][] or\n \n An attempt was made to add more headers after the headers had already been sent.\n \n-<a id=\"ERR_HTTP_INVALID_CHAR\"></a>\n-### ERR_HTTP_INVALID_CHAR\n-\n-An invalid character was found in an HTTP response status message (reason\n-phrase).\n-\n <a id=\"ERR_HTTP_INVALID_HEADER_VALUE\"></a>\n ### ERR_HTTP_INVALID_HEADER_VALUE\n \n@@ -815,11 +809,6 @@ Status code was outside the regular status code range (100-999).\n The `Trailer` header was set even though the transfer encoding does not support\n that.\n \n-<a id=\"ERR_HTTP2_ALREADY_SHUTDOWN\"></a>\n-### ERR_HTTP2_ALREADY_SHUTDOWN\n-\n-Occurs with multiple attempts to shutdown an HTTP/2 session.\n-\n <a id=\"ERR_HTTP2_ALTSVC_INVALID_ORIGIN\"></a>\n ### ERR_HTTP2_ALTSVC_INVALID_ORIGIN\n \n@@ -848,22 +837,12 @@ forbidden.\n For HTTP/2 requests using the `CONNECT` method, the `:scheme` pseudo-header is\n forbidden.\n \n-<a id=\"ERR_HTTP2_FRAME_ERROR\"></a>\n-### ERR_HTTP2_FRAME_ERROR\n-\n-A failure occurred sending an individual frame on the HTTP/2 session.\n-\n <a id=\"ERR_HTTP2_GOAWAY_SESSION\"></a>\n ### ERR_HTTP2_GOAWAY_SESSION\n \n New HTTP/2 Streams may not be opened after the `Http2Session` has received a\n `GOAWAY` frame from the connected peer.\n \n-<a id=\"ERR_HTTP2_HEADER_REQUIRED\"></a>\n-### ERR_HTTP2_HEADER_REQUIRED\n-\n-A required header was missing in an HTTP/2 message.\n-\n <a id=\"ERR_HTTP2_HEADER_SINGLE_VALUE\"></a>\n ### ERR_HTTP2_HEADER_SINGLE_VALUE\n \n@@ -875,22 +854,11 @@ have only a single value.\n \n An additional headers was specified after an HTTP/2 response was initiated.\n \n-<a id=\"ERR_HTTP2_HEADERS_OBJECT\"></a>\n-### ERR_HTTP2_HEADERS_OBJECT\n-\n-An HTTP/2 Headers Object was expected.\n-\n <a id=\"ERR_HTTP2_HEADERS_SENT\"></a>\n ### ERR_HTTP2_HEADERS_SENT\n \n An attempt was made to send multiple response headers.\n \n-<a id=\"ERR_HTTP2_INFO_HEADERS_AFTER_RESPOND\"></a>\n-### ERR_HTTP2_INFO_HEADERS_AFTER_RESPOND\n-\n-HTTP/2 Informational headers must only be sent *prior* to calling the\n-`Http2Stream.prototype.respond()` method.\n-\n <a id=\"ERR_HTTP2_INFO_STATUS_NOT_ALLOWED\"></a>\n ### ERR_HTTP2_INFO_STATUS_NOT_ALLOWED\n \n@@ -1280,14 +1248,6 @@ strict compliance with the API specification (which in some cases may accept\n `func(undefined)` and `func()` are treated identically, and the\n [`ERR_INVALID_ARG_TYPE`][] error code may be used instead.\n \n-<a id=\"ERR_MISSING_DYNAMIC_INSTANTIATE_HOOK\"></a>\n-### ERR_MISSING_DYNAMIC_INSTANTIATE_HOOK\n-\n-> Stability: 1 - Experimental\n-\n-An [ES6 module][] loader hook specified `format: 'dynamic` but did not provide a\n-`dynamicInstantiate` hook.\n-\n <a id=\"ERR_MISSING_MODULE\"></a>\n ### ERR_MISSING_MODULE\n \n@@ -1316,11 +1276,6 @@ would be possible by calling a callback more than once.\n \n While using `N-API`, a constructor passed was not a function.\n \n-<a id=\"ERR_NAPI_CONS_PROTOTYPE_OBJECT\"></a>\n-### ERR_NAPI_CONS_PROTOTYPE_OBJECT\n-\n-While using `N-API`, `Constructor.prototype` was not an object.\n-\n <a id=\"ERR_NAPI_INVALID_DATAVIEW_ARGS\"></a>\n ### ERR_NAPI_INVALID_DATAVIEW_ARGS\n \n@@ -1363,11 +1318,6 @@ For example: `Buffer.write(string, encoding, offset[, length])`\n \n A given value is out of the accepted range.\n \n-<a id=\"ERR_PARSE_HISTORY_DATA\"></a>\n-### ERR_PARSE_HISTORY_DATA\n-\n-The `REPL` module was unable parse data from the REPL history file.\n-\n <a id=\"ERR_REQUIRE_ESM\"></a>\n ### ERR_REQUIRE_ESM\n \n@@ -1524,11 +1474,6 @@ recommended to use 2048 bits or larger for stronger security.\n A TLS/SSL handshake timed out. In this case, the server must also abort the\n connection.\n \n-<a id=\"ERR_TLS_RENEGOTIATION_FAILED\"></a>\n-### ERR_TLS_RENEGOTIATION_FAILED\n-\n-A TLS renegotiation request has failed in a non-specific way.\n-\n <a id=\"ERR_TLS_REQUIRED_SERVER_NAME\"></a>\n ### ERR_TLS_REQUIRED_SERVER_NAME\n "
        },
        {
            "sha": "d3c06b2feba49e6c8ef411bf7c64906772949b85",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 209,
            "deletions": 194,
            "changes": 403,
            "blob_url": "https://github.com/nodejs/node/blob/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=6e1c25c45672b70f4b6c6c8af56d9c0762bfae04",
            "patch": "@@ -587,276 +587,291 @@ module.exports = exports = {\n //\n // Note: Node.js specific errors must begin with the prefix ERR_\n \n-E('ERR_ARG_NOT_ITERABLE', '%s must be iterable');\n-E('ERR_ASSERTION', '%s');\n-E('ERR_ASYNC_CALLBACK', '%s must be a function');\n-E('ERR_ASYNC_TYPE', 'Invalid name for async \"type\": %s');\n-E('ERR_BUFFER_OUT_OF_BOUNDS', bufferOutOfBounds);\n+E('ERR_ARG_NOT_ITERABLE', '%s must be iterable', TypeError);\n+E('ERR_ASSERTION', '%s', AssertionError);\n+E('ERR_ASYNC_CALLBACK', '%s must be a function', TypeError);\n+E('ERR_ASYNC_TYPE', 'Invalid name for async \"type\": %s', TypeError);\n+E('ERR_BUFFER_OUT_OF_BOUNDS', bufferOutOfBounds, RangeError);\n E('ERR_BUFFER_TOO_LARGE',\n-  `Cannot create a Buffer larger than 0x${kMaxLength.toString(16)} bytes`);\n-E('ERR_CANNOT_WATCH_SIGINT', 'Cannot watch for SIGINT signals');\n-E('ERR_CHILD_CLOSED_BEFORE_REPLY', 'Child closed before reply received');\n+  `Cannot create a Buffer larger than 0x${kMaxLength.toString(16)} bytes`,\n+  RangeError);\n+E('ERR_CANNOT_WATCH_SIGINT', 'Cannot watch for SIGINT signals', Error);\n+E('ERR_CHILD_CLOSED_BEFORE_REPLY',\n+  'Child closed before reply received', Error);\n E('ERR_CHILD_PROCESS_IPC_REQUIRED',\n-  \"Forked processes must have an IPC channel, missing value 'ipc' in %s\");\n-E('ERR_CHILD_PROCESS_STDIO_MAXBUFFER', '%s maxBuffer length exceeded');\n+  \"Forked processes must have an IPC channel, missing value 'ipc' in %s\",\n+  Error);\n+E('ERR_CHILD_PROCESS_STDIO_MAXBUFFER', '%s maxBuffer length exceeded',\n+  RangeError);\n E('ERR_CONSOLE_WRITABLE_STREAM',\n-  'Console expects a writable stream instance for %s');\n-E('ERR_CPU_USAGE', 'Unable to obtain cpu usage %s');\n+  'Console expects a writable stream instance for %s', TypeError);\n+E('ERR_CPU_USAGE', 'Unable to obtain cpu usage %s', Error);\n E('ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED',\n-  'Custom engines not supported by this OpenSSL');\n-E('ERR_CRYPTO_ECDH_INVALID_FORMAT', 'Invalid ECDH format: %s');\n+  'Custom engines not supported by this OpenSSL', Error);\n+E('ERR_CRYPTO_ECDH_INVALID_FORMAT', 'Invalid ECDH format: %s', TypeError);\n E('ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY',\n-  'Public key is not valid for specified curve');\n-E('ERR_CRYPTO_ENGINE_UNKNOWN', 'Engine \"%s\" was not found');\n+  'Public key is not valid for specified curve', TypeError);\n+E('ERR_CRYPTO_ENGINE_UNKNOWN', 'Engine \"%s\" was not found', Error);\n E('ERR_CRYPTO_FIPS_FORCED',\n-  'Cannot set FIPS mode, it was forced with --force-fips at startup.');\n-E('ERR_CRYPTO_FIPS_UNAVAILABLE', 'Cannot set FIPS mode in a non-FIPS build.');\n-E('ERR_CRYPTO_HASH_DIGEST_NO_UTF16', 'hash.digest() does not support UTF-16');\n-E('ERR_CRYPTO_HASH_FINALIZED', 'Digest already called');\n-E('ERR_CRYPTO_HASH_UPDATE_FAILED', 'Hash update failed');\n-E('ERR_CRYPTO_INVALID_DIGEST', 'Invalid digest: %s');\n-E('ERR_CRYPTO_INVALID_STATE', 'Invalid state for operation %s');\n-E('ERR_CRYPTO_SIGN_KEY_REQUIRED', 'No key provided to sign');\n+  'Cannot set FIPS mode, it was forced with --force-fips at startup.', Error);\n+E('ERR_CRYPTO_FIPS_UNAVAILABLE', 'Cannot set FIPS mode in a non-FIPS build.',\n+  Error);\n+E('ERR_CRYPTO_HASH_DIGEST_NO_UTF16', 'hash.digest() does not support UTF-16',\n+  Error);\n+E('ERR_CRYPTO_HASH_FINALIZED', 'Digest already called', Error);\n+E('ERR_CRYPTO_HASH_UPDATE_FAILED', 'Hash update failed', Error);\n+E('ERR_CRYPTO_INVALID_DIGEST', 'Invalid digest: %s', TypeError);\n+E('ERR_CRYPTO_INVALID_STATE', 'Invalid state for operation %s', Error);\n+E('ERR_CRYPTO_SIGN_KEY_REQUIRED', 'No key provided to sign', Error);\n E('ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH',\n-  'Input buffers must have the same length');\n-E('ERR_DNS_SET_SERVERS_FAILED', 'c-ares failed to set servers: \"%s\" [%s]');\n+  'Input buffers must have the same length', RangeError);\n+E('ERR_DNS_SET_SERVERS_FAILED', 'c-ares failed to set servers: \"%s\" [%s]',\n+  Error);\n E('ERR_DOMAIN_CALLBACK_NOT_AVAILABLE',\n   'A callback was registered through ' +\n-  'process.setUncaughtExceptionCaptureCallback(), which is mutually ' +\n-  'exclusive with using the `domain` module');\n+     'process.setUncaughtExceptionCaptureCallback(), which is mutually ' +\n+     'exclusive with using the `domain` module',\n+  Error);\n E('ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE',\n   'The `domain` module is in use, which is mutually exclusive with calling ' +\n-  'process.setUncaughtExceptionCaptureCallback()');\n+     'process.setUncaughtExceptionCaptureCallback()',\n+  Error);\n E('ERR_ENCODING_INVALID_ENCODED_DATA',\n-  'The encoded data was not valid for encoding %s');\n-E('ERR_ENCODING_NOT_SUPPORTED', 'The \"%s\" encoding is not supported');\n-E('ERR_FALSY_VALUE_REJECTION', 'Promise was rejected with falsy value');\n+  'The encoded data was not valid for encoding %s', TypeError);\n+E('ERR_ENCODING_NOT_SUPPORTED', 'The \"%s\" encoding is not supported',\n+  RangeError); // One entry is currently falsy implemented as \"Error\"\n+E('ERR_FALSY_VALUE_REJECTION', 'Promise was rejected with falsy value', Error);\n E('ERR_FS_INVALID_SYMLINK_TYPE',\n-  'Symlink type must be one of \"dir\", \"file\", or \"junction\". Received \"%s\"');\n-E('ERR_HTTP2_ALREADY_SHUTDOWN',\n-  'Http2Session is already shutdown or destroyed');\n+  'Symlink type must be one of \"dir\", \"file\", or \"junction\". Received \"%s\"',\n+  Error);\n E('ERR_HTTP2_ALTSVC_INVALID_ORIGIN',\n-  'HTTP/2 ALTSVC frames require a valid origin');\n+  'HTTP/2 ALTSVC frames require a valid origin', TypeError);\n E('ERR_HTTP2_ALTSVC_LENGTH',\n-  'HTTP/2 ALTSVC frames are limited to 16382 bytes');\n+  'HTTP/2 ALTSVC frames are limited to 16382 bytes', TypeError);\n E('ERR_HTTP2_CONNECT_AUTHORITY',\n-  ':authority header is required for CONNECT requests');\n+  ':authority header is required for CONNECT requests', Error);\n E('ERR_HTTP2_CONNECT_PATH',\n-  'The :path header is forbidden for CONNECT requests');\n+  'The :path header is forbidden for CONNECT requests', Error);\n E('ERR_HTTP2_CONNECT_SCHEME',\n-  'The :scheme header is forbidden for CONNECT requests');\n-E('ERR_HTTP2_FRAME_ERROR',\n-  (type, code, id) => {\n-    let msg = `Error sending frame type ${type}`;\n-    if (id !== undefined)\n-      msg += ` for stream ${id}`;\n-    msg += ` with code ${code}`;\n-    return msg;\n-  });\n+  'The :scheme header is forbidden for CONNECT requests', Error);\n E('ERR_HTTP2_GOAWAY_SESSION',\n-  'New streams cannot be created after receiving a GOAWAY');\n+  'New streams cannot be created after receiving a GOAWAY', Error);\n E('ERR_HTTP2_HEADERS_AFTER_RESPOND',\n-  'Cannot specify additional headers after response initiated');\n-E('ERR_HTTP2_HEADERS_OBJECT', 'Headers must be an object');\n-E('ERR_HTTP2_HEADERS_SENT', 'Response has already been initiated.');\n-E('ERR_HTTP2_HEADER_REQUIRED', 'The %s header is required');\n+  'Cannot specify additional headers after response initiated', Error);\n+E('ERR_HTTP2_HEADERS_SENT', 'Response has already been initiated.', Error);\n E('ERR_HTTP2_HEADER_SINGLE_VALUE',\n-  'Header field \"%s\" must have only a single value');\n-E('ERR_HTTP2_INFO_HEADERS_AFTER_RESPOND',\n-  'Cannot send informational headers after the HTTP message has been sent');\n+  'Header field \"%s\" must have only a single value', Error);\n E('ERR_HTTP2_INFO_STATUS_NOT_ALLOWED',\n-  'Informational status codes cannot be used');\n+  'Informational status codes cannot be used', RangeError);\n E('ERR_HTTP2_INVALID_CONNECTION_HEADERS',\n-  'HTTP/1 Connection specific headers are forbidden: \"%s\"');\n-E('ERR_HTTP2_INVALID_HEADER_VALUE', 'Invalid value \"%s\" for header \"%s\"');\n+  'HTTP/1 Connection specific headers are forbidden: \"%s\"', Error);\n+E('ERR_HTTP2_INVALID_HEADER_VALUE',\n+  'Invalid value \"%s\" for header \"%s\"', TypeError);\n E('ERR_HTTP2_INVALID_INFO_STATUS',\n-  'Invalid informational status code: %s');\n+  'Invalid informational status code: %s', RangeError);\n E('ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH',\n-  'Packed settings length must be a multiple of six');\n+  'Packed settings length must be a multiple of six', RangeError);\n E('ERR_HTTP2_INVALID_PSEUDOHEADER',\n-  '\"%s\" is an invalid pseudoheader or is used incorrectly');\n-E('ERR_HTTP2_INVALID_SESSION', 'The session has been destroyed');\n+  '\"%s\" is an invalid pseudoheader or is used incorrectly', Error);\n+E('ERR_HTTP2_INVALID_SESSION', 'The session has been destroyed', Error);\n E('ERR_HTTP2_INVALID_SETTING_VALUE',\n-  'Invalid value for setting \"%s\": %s');\n-E('ERR_HTTP2_INVALID_STREAM', 'The stream has been destroyed');\n+  'Invalid value for setting \"%s\": %s', TypeError, RangeError);\n+E('ERR_HTTP2_INVALID_STREAM', 'The stream has been destroyed', Error);\n E('ERR_HTTP2_MAX_PENDING_SETTINGS_ACK',\n-  'Maximum number of pending settings acknowledgements (%s)');\n+  'Maximum number of pending settings acknowledgements (%s)', Error);\n E('ERR_HTTP2_NO_SOCKET_MANIPULATION',\n-  'HTTP/2 sockets should not be directly manipulated (e.g. read and written)');\n+  'HTTP/2 sockets should not be directly manipulated (e.g. read and written)',\n+  Error);\n E('ERR_HTTP2_OUT_OF_STREAMS',\n-  'No stream ID is available because maximum stream ID has been reached');\n+  'No stream ID is available because maximum stream ID has been reached',\n+  Error);\n E('ERR_HTTP2_PAYLOAD_FORBIDDEN',\n-  'Responses with %s status must not have a payload');\n-E('ERR_HTTP2_PING_CANCEL', 'HTTP2 ping cancelled');\n-E('ERR_HTTP2_PING_LENGTH', 'HTTP2 ping payload must be 8 bytes');\n-E('ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED', 'Cannot set HTTP/2 pseudo-headers');\n-E('ERR_HTTP2_PUSH_DISABLED', 'HTTP/2 client has disabled push streams');\n-E('ERR_HTTP2_SEND_FILE', 'Only regular files can be sent');\n-E('ERR_HTTP2_SESSION_ERROR', 'Session closed with error code %s');\n+  'Responses with %s status must not have a payload', Error);\n+E('ERR_HTTP2_PING_CANCEL', 'HTTP2 ping cancelled', Error);\n+E('ERR_HTTP2_PING_LENGTH', 'HTTP2 ping payload must be 8 bytes', RangeError);\n+E('ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED',\n+  'Cannot set HTTP/2 pseudo-headers', Error);\n+E('ERR_HTTP2_PUSH_DISABLED', 'HTTP/2 client has disabled push streams', Error);\n+E('ERR_HTTP2_SEND_FILE', 'Only regular files can be sent', Error);\n+E('ERR_HTTP2_SESSION_ERROR', 'Session closed with error code %s', Error);\n E('ERR_HTTP2_SOCKET_BOUND',\n-  'The socket is already bound to an Http2Session');\n+  'The socket is already bound to an Http2Session', Error);\n E('ERR_HTTP2_STATUS_101',\n-  'HTTP status code 101 (Switching Protocols) is forbidden in HTTP/2');\n-E('ERR_HTTP2_STATUS_INVALID', 'Invalid status code: %s');\n-E('ERR_HTTP2_STREAM_CANCEL', 'The pending stream has been canceled');\n-E('ERR_HTTP2_STREAM_ERROR', 'Stream closed with error code %s');\n-E('ERR_HTTP2_STREAM_SELF_DEPENDENCY', 'A stream cannot depend on itself');\n-E('ERR_HTTP2_UNSUPPORTED_PROTOCOL', 'protocol \"%s\" is unsupported.');\n+  'HTTP status code 101 (Switching Protocols) is forbidden in HTTP/2', Error);\n+E('ERR_HTTP2_STATUS_INVALID', 'Invalid status code: %s', RangeError);\n+E('ERR_HTTP2_STREAM_CANCEL', 'The pending stream has been canceled', Error);\n+E('ERR_HTTP2_STREAM_ERROR', 'Stream closed with error code %s', Error);\n+E('ERR_HTTP2_STREAM_SELF_DEPENDENCY',\n+  'A stream cannot depend on itself', Error);\n+E('ERR_HTTP2_UNSUPPORTED_PROTOCOL', 'protocol \"%s\" is unsupported.', Error);\n E('ERR_HTTP_HEADERS_SENT',\n-  'Cannot %s headers after they are sent to the client');\n-E('ERR_HTTP_INVALID_CHAR', 'Invalid character in statusMessage.');\n-E('ERR_HTTP_INVALID_HEADER_VALUE', 'Invalid value \"%s\" for header \"%s\"');\n-E('ERR_HTTP_INVALID_STATUS_CODE', 'Invalid status code: %s');\n+  'Cannot %s headers after they are sent to the client', Error);\n+E('ERR_HTTP_INVALID_HEADER_VALUE',\n+  'Invalid value \"%s\" for header \"%s\"', TypeError);\n+E('ERR_HTTP_INVALID_STATUS_CODE', 'Invalid status code: %s', RangeError);\n E('ERR_HTTP_TRAILER_INVALID',\n-  'Trailers are invalid with this transfer encoding');\n-E('ERR_INDEX_OUT_OF_RANGE', 'Index out of range');\n-E('ERR_INSPECTOR_ALREADY_CONNECTED', 'The inspector is already connected');\n-E('ERR_INSPECTOR_CLOSED', 'Session was closed');\n-E('ERR_INSPECTOR_NOT_AVAILABLE', 'Inspector is not available');\n-E('ERR_INSPECTOR_NOT_CONNECTED', 'Session is not connected');\n-E('ERR_INVALID_ARG_TYPE', invalidArgType);\n+  'Trailers are invalid with this transfer encoding', Error);\n+E('ERR_INDEX_OUT_OF_RANGE', 'Index out of range', RangeError);\n+E('ERR_INSPECTOR_ALREADY_CONNECTED',\n+  'The inspector is already connected', Error);\n+E('ERR_INSPECTOR_CLOSED', 'Session was closed', Error);\n+E('ERR_INSPECTOR_NOT_AVAILABLE', 'Inspector is not available', Error);\n+E('ERR_INSPECTOR_NOT_CONNECTED', 'Session is not connected', Error);\n+E('ERR_INVALID_ARG_TYPE', invalidArgType, TypeError);\n E('ERR_INVALID_ARG_VALUE', (name, value, reason = 'is invalid') => {\n   const util = lazyUtil();\n   let inspected = util.inspect(value);\n   if (inspected.length > 128) {\n     inspected = inspected.slice(0, 128) + '...';\n   }\n   return `The argument '${name}' ${reason}. Received ${inspected}`;\n-}),\n+}, TypeError, RangeError); // Some are currently falsy implemented as \"Error\"\n E('ERR_INVALID_ARRAY_LENGTH',\n   (name, len, actual) => {\n     internalAssert(typeof actual === 'number', 'actual must be a number');\n     return `The array \"${name}\" (length ${actual}) must be of length ${len}.`;\n-  });\n-E('ERR_INVALID_ASYNC_ID', 'Invalid %s value: %s');\n-E('ERR_INVALID_BUFFER_SIZE', 'Buffer size must be a multiple of %s');\n-E('ERR_INVALID_CALLBACK', 'Callback must be a function');\n-E('ERR_INVALID_CHAR', invalidChar);\n+  }, TypeError);\n+E('ERR_INVALID_ASYNC_ID', 'Invalid %s value: %s', RangeError);\n+E('ERR_INVALID_BUFFER_SIZE',\n+  'Buffer size must be a multiple of %s', RangeError);\n+E('ERR_INVALID_CALLBACK', 'Callback must be a function', TypeError);\n+E('ERR_INVALID_CHAR', invalidChar, TypeError); //Check falsy \"Error\" entries.\n E('ERR_INVALID_CURSOR_POS',\n-  'Cannot set cursor row without setting its column');\n-E('ERR_INVALID_DOMAIN_NAME', 'Unable to determine the domain name');\n-E('ERR_INVALID_FD', '\"fd\" must be a positive integer: %s');\n-E('ERR_INVALID_FD_TYPE', 'Unsupported fd type: %s');\n+  'Cannot set cursor row without setting its column', Error);\n+E('ERR_INVALID_DOMAIN_NAME', 'Unable to determine the domain name', Error);\n+E('ERR_INVALID_FD',\n+  '\"fd\" must be a positive integer: %s', RangeError);\n+E('ERR_INVALID_FD_TYPE', 'Unsupported fd type: %s', TypeError);\n E('ERR_INVALID_FILE_URL_HOST',\n-  'File URL host must be \"localhost\" or empty on %s');\n-E('ERR_INVALID_FILE_URL_PATH', 'File URL path %s');\n-E('ERR_INVALID_HANDLE_TYPE', 'This handle type cannot be sent');\n-E('ERR_INVALID_HTTP_TOKEN', '%s must be a valid HTTP token [\"%s\"]');\n-E('ERR_INVALID_IP_ADDRESS', 'Invalid IP address: %s');\n+  'File URL host must be \"localhost\" or empty on %s', TypeError);\n+E('ERR_INVALID_FILE_URL_PATH', 'File URL path %s', TypeError);\n+E('ERR_INVALID_HANDLE_TYPE', 'This handle type cannot be sent', TypeError);\n+E('ERR_INVALID_HTTP_TOKEN', '%s must be a valid HTTP token [\"%s\"]', TypeError);\n+E('ERR_INVALID_IP_ADDRESS', 'Invalid IP address: %s', TypeError, Error);\n E('ERR_INVALID_OPT_VALUE', (name, value) =>\n-  `The value \"${String(value)}\" is invalid for option \"${name}\"`);\n+  `The value \"${String(value)}\" is invalid for option \"${name}\"`,\n+  TypeError,\n+  RangeError);\n E('ERR_INVALID_OPT_VALUE_ENCODING',\n-  'The value \"%s\" is invalid for option \"encoding\"');\n-E('ERR_INVALID_PERFORMANCE_MARK', 'The \"%s\" performance mark has not been set');\n-E('ERR_INVALID_PROTOCOL', 'Protocol \"%s\" not supported. Expected \"%s\"');\n+  'The value \"%s\" is invalid for option \"encoding\"', TypeError);\n+E('ERR_INVALID_PERFORMANCE_MARK',\n+  'The \"%s\" performance mark has not been set', Error);\n+E('ERR_INVALID_PROTOCOL', 'Protocol \"%s\" not supported. Expected \"%s\"', Error);\n E('ERR_INVALID_REPL_EVAL_CONFIG',\n-  'Cannot specify both \"breakEvalOnSigint\" and \"eval\" for REPL');\n+  'Cannot specify both \"breakEvalOnSigint\" and \"eval\" for REPL', Error);\n E('ERR_INVALID_SYNC_FORK_INPUT',\n-  'Asynchronous forks do not support Buffer, Uint8Array or string input: %s');\n-E('ERR_INVALID_THIS', 'Value of \"this\" must be of type %s');\n-E('ERR_INVALID_TUPLE', '%s must be an iterable %s tuple');\n-E('ERR_INVALID_URI', 'URI malformed');\n-E('ERR_INVALID_URL', 'Invalid URL: %s');\n+  'Asynchronous forks do not support Buffer, Uint8Array or string input: %s',\n+  TypeError);\n+E('ERR_INVALID_THIS', 'Value of \"this\" must be of type %s', TypeError);\n+E('ERR_INVALID_TUPLE', '%s must be an iterable %s tuple', TypeError);\n+E('ERR_INVALID_URI', 'URI malformed', URIError);\n+E('ERR_INVALID_URL', 'Invalid URL: %s', TypeError);\n E('ERR_INVALID_URL_SCHEME',\n-  (expected) => `The URL must be ${oneOf(expected, 'scheme')}`);\n-E('ERR_IPC_CHANNEL_CLOSED', 'Channel closed');\n-E('ERR_IPC_DISCONNECTED', 'IPC channel is already disconnected');\n-E('ERR_IPC_ONE_PIPE', 'Child process can have only one IPC pipe');\n-E('ERR_IPC_SYNC_FORK', 'IPC cannot be used with synchronous forks');\n-E('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented');\n-E('ERR_MISSING_ARGS', missingArgs);\n-E('ERR_MISSING_DYNAMIC_INSTANTIATE_HOOK',\n-  'The ES Module loader may not return a format of \\'dynamic\\' when no ' +\n-  'dynamicInstantiate function was provided');\n-E('ERR_MISSING_MODULE', 'Cannot find module %s');\n-E('ERR_MODULE_RESOLUTION_LEGACY', '%s not found by import in %s.' +\n-  ' Legacy behavior in require() would have found it at %s');\n-E('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\n-E('ERR_NAPI_CONS_FUNCTION', 'Constructor must be a function');\n-E('ERR_NAPI_CONS_PROTOTYPE_OBJECT', 'Constructor.prototype must be an object');\n+  (expected) => `The URL must be ${oneOf(expected, 'scheme')}`, TypeError);\n+E('ERR_IPC_CHANNEL_CLOSED', 'Channel closed', Error);\n+E('ERR_IPC_DISCONNECTED', 'IPC channel is already disconnected', Error);\n+E('ERR_IPC_ONE_PIPE', 'Child process can have only one IPC pipe', Error);\n+E('ERR_IPC_SYNC_FORK', 'IPC cannot be used with synchronous forks', Error);\n+E('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error);\n+E('ERR_MISSING_ARGS', missingArgs, TypeError);\n+E('ERR_MISSING_MODULE', 'Cannot find module %s', Error);\n+E('ERR_MODULE_RESOLUTION_LEGACY',\n+  '%s not found by import in %s.' +\n+    ' Legacy behavior in require() would have found it at %s',\n+  Error);\n+E('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error);\n+E('ERR_NAPI_CONS_FUNCTION', 'Constructor must be a function', TypeError);\n E('ERR_NAPI_INVALID_DATAVIEW_ARGS',\n   'byte_offset + byte_length should be less than or eqaul to the size in ' +\n-  'bytes of the array passed in');\n-E('ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT', 'start offset of %s should be a ' +\n-  'multiple of %s');\n-E('ERR_NAPI_INVALID_TYPEDARRAY_LENGTH', 'Invalid typed array length');\n-E('ERR_NO_CRYPTO', 'Node.js is not compiled with OpenSSL crypto support');\n-E('ERR_NO_ICU', '%s is not supported on Node.js compiled without ICU');\n-E('ERR_NO_LONGER_SUPPORTED', '%s is no longer supported');\n-E('ERR_OUT_OF_RANGE', outOfRange);\n-E('ERR_PARSE_HISTORY_DATA', 'Could not parse history data in %s');\n-E('ERR_REQUIRE_ESM', 'Must use import to load ES Module: %s');\n+    'bytes of the array passed in',\n+  RangeError);\n+E('ERR_NAPI_INVALID_TYPEDARRAY_ALIGNMENT',\n+  'start offset of %s should be a multiple of %s', RangeError);\n+E('ERR_NAPI_INVALID_TYPEDARRAY_LENGTH',\n+  'Invalid typed array length', RangeError);\n+E('ERR_NO_CRYPTO',\n+  'Node.js is not compiled with OpenSSL crypto support', Error);\n+E('ERR_NO_ICU',\n+  '%s is not supported on Node.js compiled without ICU', TypeError);\n+E('ERR_NO_LONGER_SUPPORTED', '%s is no longer supported', Error);\n+E('ERR_OUT_OF_RANGE', outOfRange, RangeError);\n+E('ERR_REQUIRE_ESM', 'Must use import to load ES Module: %s', Error);\n E('ERR_SCRIPT_EXECUTION_INTERRUPTED',\n-  'Script execution was interrupted by `SIGINT`.');\n+  'Script execution was interrupted by `SIGINT`.', Error);\n E('ERR_SERVER_ALREADY_LISTEN',\n-  'Listen method has been called more than once without closing.');\n-E('ERR_SERVER_NOT_RUNNING', 'Server is not running.');\n-E('ERR_SOCKET_ALREADY_BOUND', 'Socket is already bound');\n-E('ERR_SOCKET_BAD_BUFFER_SIZE', 'Buffer size must be a positive integer');\n-E('ERR_SOCKET_BAD_PORT', 'Port should be > 0 and < 65536. Received %s.');\n+  'Listen method has been called more than once without closing.', Error);\n+E('ERR_SERVER_NOT_RUNNING', 'Server is not running.', Error);\n+E('ERR_SOCKET_ALREADY_BOUND', 'Socket is already bound', Error);\n+E('ERR_SOCKET_BAD_BUFFER_SIZE',\n+  'Buffer size must be a positive integer', TypeError);\n+E('ERR_SOCKET_BAD_PORT',\n+  'Port should be > 0 and < 65536. Received %s.', RangeError);\n E('ERR_SOCKET_BAD_TYPE',\n-  'Bad socket type specified. Valid types are: udp4, udp6');\n-E('ERR_SOCKET_BUFFER_SIZE', 'Could not get or set buffer size: %s');\n-E('ERR_SOCKET_CANNOT_SEND', 'Unable to send data');\n-E('ERR_SOCKET_CLOSED', 'Socket is closed');\n-E('ERR_SOCKET_DGRAM_NOT_RUNNING', 'Not running');\n-E('ERR_STDERR_CLOSE', 'process.stderr cannot be closed');\n-E('ERR_STDOUT_CLOSE', 'process.stdout cannot be closed');\n-E('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\n-E('ERR_STREAM_NULL_VALUES', 'May not write null values to stream');\n-E('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\n-E('ERR_STREAM_READ_NOT_IMPLEMENTED', '_read() is not implemented');\n-E('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\n-E('ERR_STREAM_WRAP', 'Stream has StringDecoder set or is in objectMode');\n-E('ERR_STREAM_WRITE_AFTER_END', 'write after end');\n+  'Bad socket type specified. Valid types are: udp4, udp6', TypeError);\n+E('ERR_SOCKET_BUFFER_SIZE', 'Could not get or set buffer size: %s', Error);\n+E('ERR_SOCKET_CANNOT_SEND', 'Unable to send data', Error);\n+E('ERR_SOCKET_CLOSED', 'Socket is closed', Error);\n+E('ERR_SOCKET_DGRAM_NOT_RUNNING', 'Not running', Error);\n+E('ERR_STDERR_CLOSE', 'process.stderr cannot be closed', Error);\n+E('ERR_STDOUT_CLOSE', 'process.stdout cannot be closed', Error);\n+E('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error);\n+E('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\n+E('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error);\n+E('ERR_STREAM_READ_NOT_IMPLEMENTED', '_read() is not implemented', Error);\n+E('ERR_STREAM_UNSHIFT_AFTER_END_EVENT',\n+  'stream.unshift() after end event', Error);\n+E('ERR_STREAM_WRAP', 'Stream has StringDecoder set or is in objectMode', Error);\n+E('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error);\n E('ERR_SYSTEM_ERROR', sysError('A system error occurred'));\n E('ERR_TLS_CERT_ALTNAME_INVALID',\n-  'Hostname/IP does not match certificate\\'s altnames: %s');\n-E('ERR_TLS_DH_PARAM_SIZE', 'DH parameter size %s is less than 2048');\n-E('ERR_TLS_HANDSHAKE_TIMEOUT', 'TLS handshake timeout');\n+  'Hostname/IP does not match certificate\\'s altnames: %s', Error);\n+E('ERR_TLS_DH_PARAM_SIZE', 'DH parameter size %s is less than 2048', Error);\n+E('ERR_TLS_HANDSHAKE_TIMEOUT', 'TLS handshake timeout', Error);\n E('ERR_TLS_RENEGOTIATION_DISABLED',\n-  'TLS session renegotiation disabled for this socket');\n-E('ERR_TLS_RENEGOTIATION_FAILED', 'Failed to renegotiate');\n+  'TLS session renegotiation disabled for this socket', Error);\n E('ERR_TLS_REQUIRED_SERVER_NAME',\n-  '\"servername\" is required parameter for Server.addContext');\n-E('ERR_TLS_SESSION_ATTACK', 'TLS session renegotiation attack detected');\n+  '\"servername\" is required parameter for Server.addContext', Error);\n+E('ERR_TLS_SESSION_ATTACK', 'TLS session renegotiation attack detected', Error);\n E('ERR_TLS_SNI_FROM_SERVER',\n-  'Cannot issue SNI from a TLS server-side socket');\n+  'Cannot issue SNI from a TLS server-side socket', Error);\n E('ERR_TRANSFORM_ALREADY_TRANSFORMING',\n-  'Calling transform done when still transforming');\n+  'Calling transform done when still transforming', Error);\n E('ERR_TRANSFORM_WITH_LENGTH_0',\n-  'Calling transform done when writableState.length != 0');\n+  'Calling transform done when writableState.length != 0', Error);\n E('ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET',\n   '`process.setupUncaughtExceptionCapture()` was called while a capture ' +\n-  'callback was already active');\n-E('ERR_UNESCAPED_CHARACTERS', '%s contains unescaped characters');\n+    'callback was already active',\n+  Error);\n+E('ERR_UNESCAPED_CHARACTERS', '%s contains unescaped characters', TypeError);\n E('ERR_UNHANDLED_ERROR',\n   (err) => {\n     const msg = 'Unhandled error.';\n     if (err === undefined) return msg;\n     return `${msg} (${err})`;\n-  });\n-E('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s');\n-E('ERR_UNKNOWN_FILE_EXTENSION', 'Unknown file extension: %s');\n-E('ERR_UNKNOWN_MODULE_FORMAT', 'Unknown module format: %s');\n-E('ERR_UNKNOWN_SIGNAL', 'Unknown signal: %s');\n-E('ERR_UNKNOWN_STDIN_TYPE', 'Unknown stdin file type');\n-E('ERR_UNKNOWN_STREAM_TYPE', 'Unknown stream file type');\n-E('ERR_V8BREAKITERATOR', 'Full ICU data not installed. ' +\n-  'See https://github.com/nodejs/node/wiki/Intl');\n+  }, Error);\n+E('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError);\n+E('ERR_UNKNOWN_FILE_EXTENSION', 'Unknown file extension: %s', Error);\n+E('ERR_UNKNOWN_MODULE_FORMAT', 'Unknown module format: %s', RangeError);\n+E('ERR_UNKNOWN_SIGNAL', 'Unknown signal: %s', TypeError);\n+E('ERR_UNKNOWN_STDIN_TYPE', 'Unknown stdin file type', Error);\n+E('ERR_UNKNOWN_STREAM_TYPE', 'Unknown stream file type', Error);\n+E('ERR_V8BREAKITERATOR',\n+  'Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl',\n+  Error);\n E('ERR_VALID_PERFORMANCE_ENTRY_TYPE',\n-  'At least one valid performance entry type is required');\n-E('ERR_VM_MODULE_ALREADY_LINKED', 'Module has already been linked');\n+  'At least one valid performance entry type is required', Error);\n+E('ERR_VM_MODULE_ALREADY_LINKED', 'Module has already been linked', Error);\n E('ERR_VM_MODULE_DIFFERENT_CONTEXT',\n-  'Linked modules must use the same context');\n+  'Linked modules must use the same context', Error);\n E('ERR_VM_MODULE_LINKING_ERRORED',\n-  'Linking has already failed for the provided module');\n+  'Linking has already failed for the provided module', Error);\n E('ERR_VM_MODULE_NOT_LINKED',\n-  'Module must be linked before it can be instantiated');\n-E('ERR_VM_MODULE_NOT_MODULE', 'Provided module is not an instance of Module');\n-E('ERR_VM_MODULE_STATUS', 'Module status %s');\n-E('ERR_ZLIB_BINDING_CLOSED', 'zlib binding closed');\n-E('ERR_ZLIB_INITIALIZATION_FAILED', 'Initialization failed');\n+  'Module must be linked before it can be instantiated', Error);\n+E('ERR_VM_MODULE_NOT_MODULE',\n+  'Provided module is not an instance of Module', Error);\n+E('ERR_VM_MODULE_STATUS', 'Module status %s', Error);\n+E('ERR_ZLIB_BINDING_CLOSED', 'zlib binding closed', Error);\n+E('ERR_ZLIB_INITIALIZATION_FAILED', 'Initialization failed', Error);\n \n function sysError(defaultMessage) {\n   return function(code,"
        },
        {
            "sha": "9bce8a59eafa5b8ed35d68de2733159ef7ac353d",
            "filename": "test/parallel/test-internal-errors.js",
            "status": "modified",
            "additions": 0,
            "deletions": 13,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/test%2Fparallel%2Ftest-internal-errors.js",
            "raw_url": "https://github.com/nodejs/node/raw/6e1c25c45672b70f4b6c6c8af56d9c0762bfae04/test%2Fparallel%2Ftest-internal-errors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-internal-errors.js?ref=6e1c25c45672b70f4b6c6c8af56d9c0762bfae04",
            "patch": "@@ -305,19 +305,6 @@ assert.strictEqual(\n   errors.message('ERR_ENCODING_NOT_SUPPORTED', ['enc']),\n   'The \"enc\" encoding is not supported');\n \n-// Test ERR_HTTP2_HEADER_REQUIRED\n-assert.strictEqual(\n-  errors.message('ERR_HTTP2_HEADER_REQUIRED', ['test']),\n-  'The test header is required');\n-\n-// Test ERR_HTTP2_FRAME_ERROR\n-assert.strictEqual(\n-  errors.message('ERR_HTTP2_FRAME_ERROR', ['foo', 'bar', 'baz']),\n-  'Error sending frame type foo for stream baz with code bar');\n-assert.strictEqual(\n-  errors.message('ERR_HTTP2_FRAME_ERROR', ['foo', 'bar']),\n-  'Error sending frame type foo with code bar');\n-\n // Test error messages for async_hooks\n assert.strictEqual(\n   errors.message('ERR_ASYNC_CALLBACK', ['init']),"
        }
    ],
    "stats": {
        "total": 471,
        "additions": 209,
        "deletions": 262
    }
}