{
    "author": "bpinhosilva",
    "message": "test: refactor test-module-loading assertions\n\nWhen there are three arguments in strictEqual() call and\nAssertionError exists, the previous two values are not printed.\nThis improves debugging messages visibility\nwhen there is a fail.\nThe messages were removed where the instruction\nis self-explanatory.\n\nPR-URL: https://github.com/nodejs/node/pull/21833\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "373aae1f86c1d061123e3aec28980aa2e7d1ebd4",
    "files": [
        {
            "sha": "c71f9d1edf4d5b4cbcc53519692b904698e21c3b",
            "filename": "test/sequential/test-module-loading.js",
            "status": "modified",
            "additions": 17,
            "deletions": 23,
            "changes": 40,
            "blob_url": "https://github.com/nodejs/node/blob/373aae1f86c1d061123e3aec28980aa2e7d1ebd4/test%2Fsequential%2Ftest-module-loading.js",
            "raw_url": "https://github.com/nodejs/node/raw/373aae1f86c1d061123e3aec28980aa2e7d1ebd4/test%2Fsequential%2Ftest-module-loading.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-module-loading.js?ref=373aae1f86c1d061123e3aec28980aa2e7d1ebd4",
            "patch": "@@ -31,11 +31,10 @@ const backslash = /\\\\/g;\n \n console.error('load test-module-loading.js');\n \n-// assert that this is the main module.\n-assert.strictEqual(require.main.id, '.', 'main module should have id of \\'.\\'');\n-assert.strictEqual(require.main, module, 'require.main should === module');\n-assert.strictEqual(process.mainModule, module,\n-                   'process.mainModule should === module');\n+assert.strictEqual(require.main.id, '.');\n+assert.strictEqual(require.main, module);\n+assert.strictEqual(process.mainModule, module);\n+\n // assert that it's *not* the main module in the required module.\n require('../fixtures/not-main-module.js');\n \n@@ -102,12 +101,9 @@ const d2 = require('../fixtures/b/d');\n   assert.notStrictEqual(threeFolder, three);\n }\n \n-assert.strictEqual(require('../fixtures/packages/index').ok, 'ok',\n-                   'Failed loading package');\n-assert.strictEqual(require('../fixtures/packages/main').ok, 'ok',\n-                   'Failed loading package');\n-assert.strictEqual(require('../fixtures/packages/main-index').ok, 'ok',\n-                   'Failed loading package with index.js in main subdir');\n+assert.strictEqual(require('../fixtures/packages/index').ok, 'ok');\n+assert.strictEqual(require('../fixtures/packages/main').ok, 'ok');\n+assert.strictEqual(require('../fixtures/packages/main-index').ok, 'ok');\n \n {\n   console.error('test cycles containing a .. path');\n@@ -165,8 +161,7 @@ require.extensions['.test'] = function(module) {\n \n assert.strictEqual(require('../fixtures/registerExt2').custom, 'passed');\n \n-assert.strictEqual(require('../fixtures/foo').foo, 'ok',\n-                   'require module with no extension');\n+assert.strictEqual(require('../fixtures/foo').foo, 'ok');\n \n // Should not attempt to load a directory\n try {\n@@ -181,13 +176,12 @@ try {\n   console.error('load order');\n \n   const loadOrder = '../fixtures/module-load-order/';\n-  const msg = 'Load order incorrect.';\n \n   require.extensions['.reg'] = require.extensions['.js'];\n   require.extensions['.reg2'] = require.extensions['.js'];\n \n-  assert.strictEqual(require(`${loadOrder}file1`).file1, 'file1', msg);\n-  assert.strictEqual(require(`${loadOrder}file2`).file2, 'file2.js', msg);\n+  assert.strictEqual(require(`${loadOrder}file1`).file1, 'file1');\n+  assert.strictEqual(require(`${loadOrder}file2`).file2, 'file2.js');\n   try {\n     require(`${loadOrder}file3`);\n   } catch (e) {\n@@ -197,9 +191,10 @@ try {\n     else\n       assert.ok(/file3\\.node/.test(e.message.replace(backslash, '/')));\n   }\n-  assert.strictEqual(require(`${loadOrder}file4`).file4, 'file4.reg', msg);\n-  assert.strictEqual(require(`${loadOrder}file5`).file5, 'file5.reg2', msg);\n-  assert.strictEqual(require(`${loadOrder}file6`).file6, 'file6/index.js', msg);\n+\n+  assert.strictEqual(require(`${loadOrder}file4`).file4, 'file4.reg');\n+  assert.strictEqual(require(`${loadOrder}file5`).file5, 'file5.reg2');\n+  assert.strictEqual(require(`${loadOrder}file6`).file6, 'file6/index.js');\n   try {\n     require(`${loadOrder}file7`);\n   } catch (e) {\n@@ -208,10 +203,9 @@ try {\n     else\n       assert.ok(/file7\\/index\\.node/.test(e.message.replace(backslash, '/')));\n   }\n-  assert.strictEqual(require(`${loadOrder}file8`).file8, 'file8/index.reg',\n-                     msg);\n-  assert.strictEqual(require(`${loadOrder}file9`).file9, 'file9/index.reg2',\n-                     msg);\n+\n+  assert.strictEqual(require(`${loadOrder}file8`).file8, 'file8/index.reg');\n+  assert.strictEqual(require(`${loadOrder}file9`).file9, 'file9/index.reg2');\n }\n \n {"
        }
    ],
    "stats": {
        "total": 40,
        "additions": 17,
        "deletions": 23
    }
}