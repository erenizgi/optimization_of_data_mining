{
    "author": "addaleax",
    "message": "src: add handle scope to `OnFatalError()`\n\nFor the report generation, we use `Environment::GetCurrent(isolate)`\nwhich uses `isolate->GetCurrentContext()` under the hood, thus\nallocates a handle. Without a `HandleScope`, this is invalid.\n\nThis might not strictly be allowed inside of `OnFatalError()`,\nbut it wonâ€™t make anything worse either.\n\nPR-URL: https://github.com/nodejs/node/pull/25775\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "006aa632c6734d6a6a03863d9ace2761cbc38104",
    "files": [
        {
            "sha": "23a65bd2251d627ec48d3d989ae73c6c26608712",
            "filename": "src/node_errors.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/006aa632c6734d6a6a03863d9ace2761cbc38104/src%2Fnode_errors.cc",
            "raw_url": "https://github.com/nodejs/node/raw/006aa632c6734d6a6a03863d9ace2761cbc38104/src%2Fnode_errors.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_errors.cc?ref=006aa632c6734d6a6a03863d9ace2761cbc38104",
            "patch": "@@ -319,6 +319,7 @@ void OnFatalError(const char* location, const char* message) {\n   }\n #ifdef NODE_REPORT\n   Isolate* isolate = Isolate::GetCurrent();\n+  HandleScope handle_scope(isolate);\n   Environment* env = Environment::GetCurrent(isolate);\n   if (env != nullptr) {\n     std::shared_ptr<PerIsolateOptions> options = env->isolate_data()->options();"
        }
    ],
    "stats": {
        "total": 1,
        "additions": 1,
        "deletions": 0
    }
}