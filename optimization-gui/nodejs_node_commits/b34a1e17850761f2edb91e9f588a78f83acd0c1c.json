{
    "author": "zhanzhenzhen",
    "message": "module: fix `e.stack` error when throwing undefined or null\n\nAdds a test for module loading when throwing undefined or null.\n\nPR-URL: https://github.com/nodejs/node/pull/19282\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Jan Krems <jan.krems@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>",
    "sha": "b34a1e17850761f2edb91e9f588a78f83acd0c1c",
    "files": [
        {
            "sha": "8943ca8809f80257736e142c6d830c00dacb1449",
            "filename": "lib/internal/modules/esm/module_job.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/b34a1e17850761f2edb91e9f588a78f83acd0c1c/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js",
            "raw_url": "https://github.com/nodejs/node/raw/b34a1e17850761f2edb91e9f588a78f83acd0c1c/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js?ref=b34a1e17850761f2edb91e9f588a78f83acd0c1c",
            "patch": "@@ -105,7 +105,6 @@ class ModuleJob {\n     try {\n       module.evaluate(-1, false);\n     } catch (e) {\n-      e.stack;\n       this.hadError = true;\n       this.error = e;\n       throw e;"
        },
        {
            "sha": "877728178762bae24517ffb2e4ef1c0cfe16e649",
            "filename": "test/es-module/test-esm-throw-undefined.mjs",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/b34a1e17850761f2edb91e9f588a78f83acd0c1c/test%2Fes-module%2Ftest-esm-throw-undefined.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/b34a1e17850761f2edb91e9f588a78f83acd0c1c/test%2Fes-module%2Ftest-esm-throw-undefined.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fes-module%2Ftest-esm-throw-undefined.mjs?ref=b34a1e17850761f2edb91e9f588a78f83acd0c1c",
            "patch": "@@ -0,0 +1,16 @@\n+// Flags: --experimental-modules\n+/* eslint-disable node-core/required-modules */\n+import common from '../common/index.js';\n+import assert from 'assert';\n+\n+async function doTest() {\n+  await assert.rejects(\n+    async () => {\n+      await import('../fixtures/es-module-loaders/throw-undefined');\n+    },\n+    (e) => e === undefined\n+  );\n+}\n+\n+common.crashOnUnhandledRejection();\n+doTest();"
        },
        {
            "sha": "f062276767408d6ba7c54e6c665ef3462e8b27b8",
            "filename": "test/fixtures/es-module-loaders/throw-undefined.mjs",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/b34a1e17850761f2edb91e9f588a78f83acd0c1c/test%2Ffixtures%2Fes-module-loaders%2Fthrow-undefined.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/b34a1e17850761f2edb91e9f588a78f83acd0c1c/test%2Ffixtures%2Fes-module-loaders%2Fthrow-undefined.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fes-module-loaders%2Fthrow-undefined.mjs?ref=b34a1e17850761f2edb91e9f588a78f83acd0c1c",
            "patch": "@@ -0,0 +1,3 @@\n+'use strict';\n+\n+throw undefined;"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 19,
        "deletions": 1
    }
}