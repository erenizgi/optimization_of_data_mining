{
    "author": "addaleax",
    "message": "test: fix flaky test-worker-ref-onexit\n\nFixes: https://github.com/nodejs/node/issues/26167\n\nPR-URL: https://github.com/nodejs/node/pull/26170\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Beth Griggs <Bethany.Griggs@uk.ibm.com>",
    "sha": "2da7ff5e969538a19c27e6929d435094347f90a8",
    "files": [
        {
            "sha": "24c940f8c8df93dbfee79ae4b1a272d67e929523",
            "filename": "test/parallel/test-worker-ref-onexit.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/2da7ff5e969538a19c27e6929d435094347f90a8/test%2Fparallel%2Ftest-worker-ref-onexit.js",
            "raw_url": "https://github.com/nodejs/node/raw/2da7ff5e969538a19c27e6929d435094347f90a8/test%2Fparallel%2Ftest-worker-ref-onexit.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-ref-onexit.js?ref=2da7ff5e969538a19c27e6929d435094347f90a8",
            "patch": "@@ -5,6 +5,8 @@ const { Worker } = require('worker_threads');\n // Check that worker.unref() makes the 'exit' event not be emitted, if it is\n // the only thing we would otherwise be waiting for.\n \n-const w = new Worker('', { eval: true });\n+// Use `setInterval()` to make sure the worker is alive until the end of the\n+// event loop turn.\n+const w = new Worker('setInterval(() => {}, 100);', { eval: true });\n w.unref();\n w.on('exit', common.mustNotCall());"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}