{
    "author": "cjihrig",
    "message": "report: simplify heap space iteration\n\nPR-URL: https://github.com/nodejs/node/pull/26285\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "084f74a3048078c993b7dce065c2a5b872c177a9",
    "files": [
        {
            "sha": "9f2a61be09372ca3ca70444146e4464c9ee41a83",
            "filename": "src/node_report.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 15,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/084f74a3048078c993b7dce065c2a5b872c177a9/src%2Fnode_report.cc",
            "raw_url": "https://github.com/nodejs/node/raw/084f74a3048078c993b7dce065c2a5b872c177a9/src%2Fnode_report.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_report.cc?ref=084f74a3048078c993b7dce065c2a5b872c177a9",
            "patch": "@@ -447,8 +447,7 @@ static void PrintGCStatistics(JSONWriter* writer, Isolate* isolate) {\n \n   writer->json_objectstart(\"heapSpaces\");\n   // Loop through heap spaces\n-  size_t i;\n-  for (i = 0; i < isolate->NumberOfHeapSpaces() - 1; i++) {\n+  for (size_t i = 0; i < isolate->NumberOfHeapSpaces(); i++) {\n     isolate->GetHeapSpaceStatistics(&v8_heap_space_stats, i);\n     writer->json_objectstart(v8_heap_space_stats.space_name());\n     writer->json_keyvalue(\"memorySize\", v8_heap_space_stats.space_size());\n@@ -464,19 +463,7 @@ static void PrintGCStatistics(JSONWriter* writer, Isolate* isolate) {\n         \"available\", v8_heap_space_stats.space_available_size());\n     writer->json_objectend();\n   }\n-  isolate->GetHeapSpaceStatistics(&v8_heap_space_stats, i);\n-  writer->json_objectstart(v8_heap_space_stats.space_name());\n-  writer->json_keyvalue(\"memorySize\", v8_heap_space_stats.space_size());\n-  writer->json_keyvalue(\n-      \"committedMemory\", v8_heap_space_stats.physical_space_size());\n-  writer->json_keyvalue(\n-      \"capacity\",\n-      v8_heap_space_stats.space_used_size() +\n-          v8_heap_space_stats.space_available_size());\n-  writer->json_keyvalue(\"used\", v8_heap_space_stats.space_used_size());\n-  writer->json_keyvalue(\n-      \"available\", v8_heap_space_stats.space_available_size());\n-  writer->json_objectend();\n+\n   writer->json_objectend();\n   writer->json_objectend();\n }"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 2,
        "deletions": 15
    }
}