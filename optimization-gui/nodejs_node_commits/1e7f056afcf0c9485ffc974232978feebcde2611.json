{
    "author": "joyeecheung",
    "message": "test: use git node wpt to pull WPT into test/fixtures\n\nThis patch uses the `git node wpt` command in node-core-utils\nto initialize `test/fixtures/wpt` with a subset of the Web\nPlatform Tests (https://github.com/web-platform-tests/wpt),\nincluding:\n\n- console tests\n- url tests\n- interfaces (.idl WebIDL files)\n- test harness located in `resources`, including the WebIDL\n  parser\n\nAlso initializes the README.md, LICENSE and versions.json in the\n`test/fixtures/wpt`.\n\nIn later patches, we will use these files to run WPT\nand move away from the manually maintained copy-pasted files\nin `test/parallel/test-whatwg-*`.\n\nhttps://github.com/nodejs/node-core-utils/blob/master/docs/git-node.md#git-node-wpt\n\nPR-URL: https://github.com/nodejs/node/pull/24035\nRefs: https://github.com/nodejs/node/issues/23192\nReviewed-By: Daijiro Wachi <daijiro.wachi@gmail.com>",
    "sha": "1e7f056afcf0c9485ffc974232978feebcde2611",
    "files": [
        {
            "sha": "6b346a528cd7bdce0315dcd3cf83ebaa826473e1",
            "filename": "test/fixtures/wpt/LICENSE.md",
            "status": "added",
            "additions": 33,
            "deletions": 0,
            "changes": 33,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2FLICENSE.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2FLICENSE.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2FLICENSE.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,33 @@\n+# Dual-License for W3C Test Suites\n+\n+All documents in this Repository are licensed by contributors to be distributed under both the [W3C Test Suite License](#w3c-test-suite-license) and the [W3C 3-clause BSD License](#w3c-3-clause-bsd-license), reproduced below. The choice of license is up to the licensee. For more information, see [Licenses for W3C Test Suites](https://www.w3.org/Consortium/Legal/2008/04-testsuite-copyright.html)\n+\n+# W3C Test Suite License\n+\n+This document, Test Suites and other documents that link to this statement are provided by the copyright holders under the following license: By using and/or copying this document, or the W3C document from which this statement is linked, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions:\n+\n+Permission to copy, and distribute the contents of this document, or the W3C document from which this statement is linked, in any medium for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the document, or portions thereof, that you use:\n+\n+*    A link or URL to the original W3C document.\n+*    The pre-existing copyright notice of the original author, or if it doesn't exist, a notice (hypertext is preferred, but a textual representation is permitted) of the form: \"Copyright Â© [$date-of-document] World Wide Web Consortium, (MIT, ERCIM, Keio, Beihang) and others. All Rights Reserved. http://www.w3.org/Consortium/Legal/2008/04-testsuite-copyright.html\"\n+*    If it exists, the STATUS of the W3C document.\n+\n+When space permits, inclusion of the full text of this NOTICE should be provided. We request that authorship attribution be provided in any software, documents, or other items or products that you create pursuant to the implementation of the contents of this document, or any portion thereof.\n+\n+No right to create modifications or derivatives of W3C documents is granted pursuant to this license. However, if additional requirements (documented in the Copyright FAQ) are satisfied, the right to create modifications or derivatives is sometimes granted by the W3C to individuals complying with those requirements.\n+\n+If a Test Suite distinguishes the test harness (or, framework for navigation) and the actual tests, permission is given to remove or alter the harness or navigation if the Test Suite in question allows to do so. The tests themselves shall NOT be changed in any way.\n+\n+The name and trademarks of W3C and other copyright holders may NOT be used in advertising or publicity pertaining to this document or other documents that link to this statement without specific, written prior permission. Title to copyright in this document will at all times remain with copyright holders. Permission is given to use the trademarked string \"W3C\" within claims of performance concerning W3C Specifications or features described therein, and there only, if the test suite so authorizes.\n+\n+THIS WORK IS PROVIDED BY W3C, MIT, ERCIM, KEIO, BEIHANG, THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL W3C, MIT, ERCIM, KEIO, BEIHANG, THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+\n+# W3C 3-clause BSD License\n+\n+Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n+\n+*    Redistributions of works must retain the original copyright notice, this list of conditions and the following disclaimer.\n+*    Redistributions in binary form must reproduce the original copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n+*    Neither the name of the W3C nor the names of its contributors may be used to endorse or promote products derived from this work without specific prior written permission.\n+\n+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE."
        },
        {
            "sha": "80495cd15fb8c8fab82831d92641aef7f25c9fb6",
            "filename": "test/fixtures/wpt/README.md",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2FREADME.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2FREADME.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2FREADME.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,19 @@\n+# Web Platform Test Fixtures\n+\n+The files in this folder, including this document,\n+are generated by [`git node wpt`][].\n+\n+This folder contains a subset of the [Web Platform Tests][] for the\n+implementation of Web APIs in Node.js.\n+\n+See [test/wpt](../../wpt/README.md) for information on how these tests are run.\n+\n+Last update:\n+\n+- resources: https://github.com/web-platform-tests/wpt/tree/679a364421/resources\n+- interfaces: https://github.com/web-platform-tests/wpt/tree/db7f86289e/interfaces\n+- console: https://github.com/web-platform-tests/wpt/tree/9786a4b131/console\n+- url: https://github.com/web-platform-tests/wpt/tree/75b0f336c5/url\n+\n+[Web Platform Tests]: https://github.com/web-platform-tests/wpt\n+[`git node wpt`]: https://github.com/nodejs/node-core-utils/blob/master/docs/git-node.md#git-node-wpt"
        },
        {
            "sha": "60c95d0d579c57eee3c2c0b47004b371c24d2e56",
            "filename": "test/fixtures/wpt/console/META.yml",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2FMETA.yml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2FMETA.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2FMETA.yml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,5 @@\n+spec: https://console.spec.whatwg.org/\n+suggested_reviewers:\n+  - domenic\n+  - pwnall\n+  - domfarolino"
        },
        {
            "sha": "640729f1a2164ed2ab7258481341ce4109b19726",
            "filename": "test/fixtures/wpt/console/console-count-logging-manual.html",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-count-logging-manual.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-count-logging-manual.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-count-logging-manual.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,23 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>Console Count - Logging Manual Test</title>\n+<meta name=\"author\" title=\"Dominic Farolino\" href=\"mailto:domfarolino@gmail.com\">\n+<meta name=\"assert\" content=\"Console count method default parameter should work\">\n+<link rel=\"help\" href=\"https://console.spec.whatwg.org/#count\">\n+</head>\n+<body>\n+<p>Open the console inside the developer tools. It should contain four entries whose contents are:</p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 2</code></p>\n+<p><code>default: 3</code></p>\n+<p><code>default: 4</code></p>\n+\n+<script>\n+console.count();\n+console.count(undefined);\n+console.count(\"default\");\n+console.count({toString() {return \"default\"}});\n+</script>\n+</body>\n+</html>"
        },
        {
            "sha": "7fe01f50edbfa180a575511dbbf6694f5f51e133",
            "filename": "test/fixtures/wpt/console/console-countReset-logging-manual.html",
            "status": "added",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-countReset-logging-manual.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-countReset-logging-manual.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-countReset-logging-manual.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,47 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>Console Count Reset - Logging Manual Test</title>\n+<meta name=\"author\" title=\"Dominic Farolino\" href=\"mailto:domfarolino@gmail.com\">\n+<meta name=\"assert\" content=\"Console countReset method\">\n+<link rel=\"help\" href=\"https://console.spec.whatwg.org/#countreset\">\n+</head>\n+<body>\n+<p>Open the console inside the developer tools. It should contain entries whose contents are:</p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>default: 1</code></p>\n+<p><code>a label: 1</code></p>\n+<p><code>a label: 1</code></p>\n+<p style=\"color:grey;\">[some warning message indicating that a count for label \"b\" does not exist]</p>\n+\n+<script>\n+console.count();\n+console.countReset();\n+console.count();\n+\n+console.count(undefined);\n+console.countReset(undefined);\n+console.count(undefined);\n+\n+console.count(\"default\");\n+console.countReset(\"default\");\n+console.count(\"default\");\n+\n+console.count({toString() {return \"default\"}});\n+console.countReset({toString() {return \"default\"}});\n+console.count({toString() {return \"default\"}});\n+\n+console.count(\"a label\");\n+console.countReset();\n+console.count(\"a label\");\n+\n+console.countReset(\"b\"); // should produce a warning\n+</script>\n+</body>\n+</html>"
        },
        {
            "sha": "a4aae7ffce8ac81947ab092089aefb80b117c86e",
            "filename": "test/fixtures/wpt/console/console-is-a-namespace.any.js",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-is-a-namespace.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-is-a-namespace.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-is-a-namespace.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,27 @@\n+\"use strict\";\n+// https://heycam.github.io/webidl/#es-namespaces\n+// https://console.spec.whatwg.org/#console-namespace\n+\n+test(() => {\n+  assert_true(self.hasOwnProperty(\"console\"));\n+}, \"console exists on the global object\");\n+\n+test(() => {\n+  const propDesc = Object.getOwnPropertyDescriptor(self, \"console\");\n+  assert_equals(propDesc.writable, true, \"must be writable\");\n+  assert_equals(propDesc.enumerable, false, \"must not be enumerable\");\n+  assert_equals(propDesc.configurable, true, \"must be configurable\");\n+  assert_equals(propDesc.value, console, \"must have the right value\");\n+}, \"console has the right property descriptors\");\n+\n+test(() => {\n+  assert_false(\"Console\" in self);\n+}, \"Console (uppercase, as if it were an interface) must not exist\");\n+\n+test(() => {\n+  const prototype1 = Object.getPrototypeOf(console);\n+  const prototype2 = Object.getPrototypeOf(prototype1);\n+\n+  assert_equals(Object.getOwnPropertyNames(prototype1).length, 0, \"The [[Prototype]] must have no properties\");\n+  assert_equals(prototype2, Object.prototype, \"The [[Prototype]]'s [[Prototype]] must be %ObjectPrototype%\");\n+}, \"The prototype chain must be correct\");"
        },
        {
            "sha": "1fb269d4061c61112f4c3cbe609dafd80a4e0591",
            "filename": "test/fixtures/wpt/console/console-label-conversion.any.js",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-label-conversion.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-label-conversion.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-label-conversion.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,29 @@\n+\"use strict\";\n+// https://console.spec.whatwg/org/#counting\n+// https://console.spec.whatwg/org/#timing\n+\n+const methods = ['count', 'countReset', 'time', 'timeLog', 'timeEnd'];\n+\n+for (const method of methods) {\n+  test(() => {\n+    let labelToStringCalled = false;\n+\n+    console[method]({\n+      toString() {\n+        labelToStringCalled = true;\n+      }\n+    });\n+\n+    assert_true(labelToStringCalled, `${method}() must call toString() on label when label is an object`);\n+  }, `console.${method}()'s label gets converted to string via label.toString() when label is an object`);\n+\n+  test(() => {\n+    assert_throws({name: 'Error'}, () => {\n+      console[method]({\n+        toString() {\n+          throw new Error('conversion error');\n+        }\n+      });\n+    }, `${method} must re-throw any exceptions thrown by label.toString() conversion`);\n+  }, `console.${method}() throws exceptions generated by erroneous label.toString() conversion`);\n+}"
        },
        {
            "sha": "f77b84e51595f3c0d7613072e82c8476caa322da",
            "filename": "test/fixtures/wpt/console/console-number-format-specifiers-symbol-manual.html",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-number-format-specifiers-symbol-manual.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-number-format-specifiers-symbol-manual.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-number-format-specifiers-symbol-manual.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,26 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>Console Number Format Specifiers on Symbols</title>\n+<meta name=\"author\" title=\"Dominic Farolino\" href=\"mailto:domfarolino@gmail.com\">\n+<meta name=\"assert\" content=\"Console format specifiers on Symbols\">\n+<link rel=\"help\" href=\"https://console.spec.whatwg.org/#formatter\">\n+</head>\n+<body>\n+<p>Open the console inside the developer tools. It should contain 15 entries, each of which are:</p>\n+<p><code>NaN</code></p>\n+\n+<script>\n+const methods = [\"log\", \"dirxml\", \"trace\", \"group\", \"groupCollapsed\"];\n+\n+for (method of methods) {\n+  console[method](\"%i\", Symbol.for(\"description\"));\n+  if (method == \"group\" || method == \"groupCollapsed\") console.groupEnd();\n+  console[method](\"%d\", Symbol.for(\"description\"));\n+  if (method == \"group\" || method == \"groupCollapsed\") console.groupEnd();\n+  console[method](\"%f\", Symbol.for(\"description\"));\n+  if (method == \"group\" || method == \"groupCollapsed\") console.groupEnd();\n+}\n+</script>\n+</body>\n+</html>"
        },
        {
            "sha": "3a1b93f73521746f4e0980549e619523d6276302",
            "filename": "test/fixtures/wpt/console/console-string-format-specifier-symbol-manual.html",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-string-format-specifier-symbol-manual.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-string-format-specifier-symbol-manual.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-string-format-specifier-symbol-manual.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,23 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>Console String Format Specifier on Symbols</title>\n+<meta name=\"author\" title=\"Dominic Farolino\" href=\"mailto:domfarolino@gmail.com\">\n+<meta name=\"assert\" content=\"Console format specifiers on Symbols\">\n+<link rel=\"help\" href=\"https://console.spec.whatwg.org/#formatter\">\n+</head>\n+<body>\n+<p>Open the console inside the developer tools. It should contain five entries, each of which are:</p>\n+<p><code>Symbol(description)</code></p>\n+\n+<script>\n+console.log(\"%s\", Symbol.for(\"description\"));\n+console.dirxml(\"%s\", Symbol.for(\"description\"));\n+console.trace(\"%s\", Symbol.for(\"description\"));\n+console.group(\"%s\", Symbol.for(\"description\"));\n+console.groupEnd();\n+console.groupCollapsed(\"%s\", Symbol.for(\"description\"));\n+console.groupEnd();\n+</script>\n+</body>\n+</html>"
        },
        {
            "sha": "4c4d4c276d0cd4de4b7b2dc5ab71de6647cffaad",
            "filename": "test/fixtures/wpt/console/console-tests-historical.any.js",
            "status": "added",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-tests-historical.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-tests-historical.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-tests-historical.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,19 @@\n+/**\n+ * These tests assert the non-existence of certain\n+ * legacy Console methods that are not included in\n+ * the specification: http://console.spec.whatwg.org/\n+ */\n+\n+\"use strict\";\n+\n+test(() => {\n+  assert_equals(console.timeline, undefined, \"console.timeline should be undefined\");\n+}, \"'timeline' function should not exist on the console object\");\n+\n+test(() => {\n+  assert_equals(console.timelineEnd, undefined, \"console.timelineEnd should be undefined\");\n+}, \"'timelineEnd' function should not exist on the console object\");\n+\n+test(() => {\n+  assert_equals(console.markTimeline, undefined, \"console.markTimeline should be undefined\");\n+}, \"'markTimeline' function should not exist on the console object\");"
        },
        {
            "sha": "3b9e5cea21da8e98a2bb8306ed9d5e642134ee5c",
            "filename": "test/fixtures/wpt/console/console-timing-logging-manual.html",
            "status": "added",
            "additions": 70,
            "deletions": 0,
            "changes": 70,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-timing-logging-manual.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-timing-logging-manual.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fconsole-timing-logging-manual.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,70 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>Console Timing Methods - Logging Manual Test</title>\n+<meta name=\"author\" title=\"Dominic Farolino\" href=\"mailto:domfarolino@gmail.com\">\n+<meta name=\"assert\" content=\"Console timing methods\">\n+<link rel=\"help\" href=\"https://console.spec.whatwg.org/#timing\">\n+</head>\n+<body>\n+<p>Open the console inside the developer tools. It should contain entries whose contents are:</p>\n+<p><code>default: &lt;some time></code></p>\n+<p><code>default: &lt;some time></code></p>\n+\n+<p><code>default: &lt;some time></code></p>\n+<p><code>default: &lt;some time> extra data</code></p>\n+<p><code>default: &lt;some time></code></p>\n+\n+<p><code>default: &lt;some time></code></p>\n+<p><code>default: &lt;some time> extra data</code></p>\n+<p><code>default: &lt;some time></code></p>\n+\n+<p><code>default: &lt;some time></code></p>\n+<p><code>default: &lt;some time> extra data</code></p>\n+<p><code>default: &lt;some time></code></p>\n+\n+<p><code>custom toString(): &lt;some time></code></p>\n+<p><code>custom toString(): &lt;some time> extra data</code></p>\n+<p><code>custom toString(): &lt;some time></code></p>\n+\n+<p><code>a label: &lt;some time></code></p>\n+<p><code>a label: &lt;some time> extra data</code></p>\n+<p><code>a label: &lt;some time></code></p>\n+\n+<p style=\"color:grey;\">[some warning message indicating that a timer for label \"b\" does not exist]</p>\n+\n+<script>\n+console.time();\n+console.timeLog();\n+console.timeEnd();\n+\n+console.time(undefined);\n+console.timeLog(undefined);\n+console.timeLog(undefined, \"extra data\");\n+console.timeEnd(undefined);\n+\n+console.time(\"default\");\n+console.timeLog(\"default\");\n+console.timeLog(\"default\", \"extra data\");\n+console.timeEnd(\"default\");\n+\n+console.time({toString() {return \"default\"}});\n+console.timeLog({toString() {return \"default\"}});\n+console.timeLog({toString() {return \"default\"}}, \"extra data\");\n+console.timeEnd({toString() {return \"default\"}});\n+\n+console.time({toString() {return \"custom toString()\"}});\n+console.timeLog({toString() {return \"custom toString()\"}});\n+console.timeLog({toString() {return \"custom toString()\"}}, \"extra data\");\n+console.timeEnd({toString() {return \"custom toString()\"}});\n+\n+console.time(\"a label\");\n+console.timeLog(\"a label\");\n+console.timeLog(\"a label\", \"extra data\");\n+console.timeEnd(\"a label\");\n+\n+console.timeLog(\"b\"); // should produce a warning\n+console.timeEnd(\"b\"); // should produce a warning\n+</script>\n+</body>\n+</html>"
        },
        {
            "sha": "1e7ba76ecddca2ad707784a7ff6edfc270428c26",
            "filename": "test/fixtures/wpt/console/idlharness.any.js",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fidlharness.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fconsole%2Fidlharness.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fconsole%2Fidlharness.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,9 @@\n+// META: script=/resources/WebIDLParser.js\n+// META: script=/resources/idlharness.js\n+\n+// https://console.spec.whatwg.org/\n+\n+idl_test(\n+  ['console'],\n+  [] // no deps\n+);"
        },
        {
            "sha": "53130711a1173f0517987f176bafa157a7a1f1c0",
            "filename": "test/fixtures/wpt/interfaces/console.idl",
            "status": "added",
            "additions": 34,
            "deletions": 0,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Finterfaces%2Fconsole.idl",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Finterfaces%2Fconsole.idl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Finterfaces%2Fconsole.idl?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,34 @@\n+// GENERATED CONTENT - DO NOT EDIT\n+// Content was automatically extracted by Reffy into reffy-reports\n+// (https://github.com/tidoust/reffy-reports)\n+// Source: Console Standard (https://console.spec.whatwg.org/)\n+\n+[Exposed=(Window,Worker,Worklet)]\n+namespace console { // but see namespace object requirements below\n+  // Logging\n+  void assert(optional boolean condition = false, any... data);\n+  void clear();\n+  void debug(any... data);\n+  void error(any... data);\n+  void info(any... data);\n+  void log(any... data);\n+  void table(any tabularData, optional sequence<DOMString> properties);\n+  void trace(any... data);\n+  void warn(any... data);\n+  void dir(any item, optional object? options);\n+  void dirxml(any... data);\n+\n+  // Counting\n+  void count(optional DOMString label = \"default\");\n+  void countReset(optional DOMString label = \"default\");\n+\n+  // Grouping\n+  void group(any... data);\n+  void groupCollapsed(any... data);\n+  void groupEnd();\n+\n+  // Timing\n+  void time(optional DOMString label = \"default\");\n+  void timeLog(optional DOMString label = \"default\", any... data);\n+  void timeEnd(optional DOMString label = \"default\");\n+};"
        },
        {
            "sha": "998052da6ef1b3aada6b81a4ff5868ee11e3b477",
            "filename": "test/fixtures/wpt/interfaces/url.idl",
            "status": "added",
            "additions": 40,
            "deletions": 0,
            "changes": 40,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Finterfaces%2Furl.idl",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Finterfaces%2Furl.idl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Finterfaces%2Furl.idl?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,40 @@\n+// GENERATED CONTENT - DO NOT EDIT\n+// Content was automatically extracted by Reffy into reffy-reports\n+// (https://github.com/tidoust/reffy-reports)\n+// Source: URL Standard (https://url.spec.whatwg.org/)\n+\n+[Constructor(USVString url, optional USVString base),\n+ Exposed=(Window,Worker),\n+ LegacyWindowAlias=webkitURL]\n+interface URL {\n+  stringifier attribute USVString href;\n+  readonly attribute USVString origin;\n+           attribute USVString protocol;\n+           attribute USVString username;\n+           attribute USVString password;\n+           attribute USVString host;\n+           attribute USVString hostname;\n+           attribute USVString port;\n+           attribute USVString pathname;\n+           attribute USVString search;\n+  [SameObject] readonly attribute URLSearchParams searchParams;\n+           attribute USVString hash;\n+\n+  USVString toJSON();\n+};\n+\n+[Constructor(optional (sequence<sequence<USVString>> or record<USVString, USVString> or USVString) init = \"\"),\n+ Exposed=(Window,Worker)]\n+interface URLSearchParams {\n+  void append(USVString name, USVString value);\n+  void delete(USVString name);\n+  USVString? get(USVString name);\n+  sequence<USVString> getAll(USVString name);\n+  boolean has(USVString name);\n+  void set(USVString name, USVString value);\n+\n+  void sort();\n+\n+  iterable<USVString, USVString>;\n+  stringifier;\n+};"
        },
        {
            "sha": "04fdeda1cc4ea15291c2d398163b1970c13ddd82",
            "filename": "test/fixtures/wpt/resources/.gitignore",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2F.gitignore",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2F.gitignore",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2F.gitignore?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,3 @@\n+ROBIN-TODO.txt\n+scratch\n+node_modules"
        },
        {
            "sha": "fd46101ca0099e76a8ed5723515f6e1bd220aebb",
            "filename": "test/fixtures/wpt/resources/.htaccess",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2F.htaccess",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2F.htaccess",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2F.htaccess?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+# make tests that use utf-16 not inherit the encoding for testharness.js et. al.\n+AddCharset utf-8 .css .js"
        },
        {
            "sha": "45896e6be2bd51f4b78e9703caefb9b672e10a55",
            "filename": "test/fixtures/wpt/resources/LICENSE",
            "status": "added",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2FLICENSE",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2FLICENSE",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2FLICENSE?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,30 @@\n+W3C 3-clause BSD License\n+\n+http://www.w3.org/Consortium/Legal/2008/03-bsd-license.html\n+\n+Redistribution and use in source and binary forms, with or without\n+modification, are permitted provided that the following conditions are\n+met:\n+\n+* Redistributions of works must retain the original copyright notice,\n+  this list of conditions and the following disclaimer.\n+\n+* Redistributions in binary form must reproduce the original copyright\n+  notice, this list of conditions and the following disclaimer in the\n+  documentation and/or other materials provided with the distribution.\n+\n+* Neither the name of the W3C nor the names of its contributors may be\n+  used to endorse or promote products derived from this work without\n+  specific prior written permission.\n+\n+THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n+\"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n+LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n+A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n+OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n+DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n+THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n+OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE."
        },
        {
            "sha": "8f988f99a82e0991c20cb816be6378a973028733",
            "filename": "test/fixtures/wpt/resources/META.yml",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2FMETA.yml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2FMETA.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2FMETA.yml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,3 @@\n+suggested_reviewers:\n+  - jgraham\n+  - gsnedders"
        },
        {
            "sha": "928b0cf2a1041ecb831fadb44943e8907a29b872",
            "filename": "test/fixtures/wpt/resources/check-layout-th.js",
            "status": "added",
            "additions": 196,
            "deletions": 0,
            "changes": 196,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fcheck-layout-th.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fcheck-layout-th.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fcheck-layout-th.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,196 @@\n+(function() {\n+// Test is initiated from body.onload, so explicit done() call is required.\n+setup({ explicit_done: true });\n+\n+function checkSubtreeExpectedValues(t, parent, prefix)\n+{\n+    var checkedLayout = checkExpectedValues(t, parent, prefix);\n+    Array.prototype.forEach.call(parent.childNodes, function(node) {\n+        checkedLayout |= checkSubtreeExpectedValues(t, node, prefix);\n+    });\n+    return checkedLayout;\n+}\n+\n+function checkAttribute(output, node, attribute)\n+{\n+    var result = node.getAttribute && node.getAttribute(attribute);\n+    output.checked |= !!result;\n+    return result;\n+}\n+\n+function assert_tolerance(actual, expected, message)\n+{\n+    if (isNaN(expected) || Math.abs(actual - expected) >= 1) {\n+        assert_equals(actual, Number(expected), message);\n+    }\n+}\n+\n+function checkExpectedValues(t, node, prefix)\n+{\n+    var output = { checked: false };\n+\n+    var expectedWidth = checkAttribute(output, node, \"data-expected-width\");\n+    if (expectedWidth) {\n+        assert_tolerance(node.offsetWidth, expectedWidth, prefix + \"width\");\n+    }\n+\n+    var expectedHeight = checkAttribute(output, node, \"data-expected-height\");\n+    if (expectedHeight) {\n+        assert_tolerance(node.offsetHeight, expectedHeight, prefix + \"height\");\n+    }\n+\n+    var expectedOffset = checkAttribute(output, node, \"data-offset-x\");\n+    if (expectedOffset) {\n+        assert_tolerance(node.offsetLeft, expectedOffset, prefix + \"offsetLeft\");\n+    }\n+\n+    var expectedOffset = checkAttribute(output, node, \"data-offset-y\");\n+    if (expectedOffset) {\n+        assert_tolerance(node.offsetTop, expectedOffset, prefix + \"offsetTop\");\n+    }\n+\n+    var expectedWidth = checkAttribute(output, node, \"data-expected-client-width\");\n+    if (expectedWidth) {\n+        assert_tolerance(node.clientWidth, expectedWidth, prefix + \"clientWidth\");\n+    }\n+\n+    var expectedHeight = checkAttribute(output, node, \"data-expected-client-height\");\n+    if (expectedHeight) {\n+        assert_tolerance(node.clientHeight, expectedHeight, prefix + \"clientHeight\");\n+    }\n+\n+    var expectedWidth = checkAttribute(output, node, \"data-expected-scroll-width\");\n+    if (expectedWidth) {\n+        assert_tolerance(node.scrollWidth, expectedWidth, prefix + \"scrollWidth\");\n+    }\n+\n+    var expectedHeight = checkAttribute(output, node, \"data-expected-scroll-height\");\n+    if (expectedHeight) {\n+        assert_tolerance(node.scrollHeight, expectedHeight, prefix + \"scrollHeight\");\n+    }\n+\n+    var expectedWidth = checkAttribute(output, node, \"data-expected-bounding-client-rect-width\");\n+    if (expectedWidth) {\n+        assert_tolerance(node.getBoundingClientRect().width, expectedWidth, prefix + \"getBoundingClientRect().width\");\n+    }\n+\n+    var expectedOffset = checkAttribute(output, node, \"data-total-x\");\n+    if (expectedOffset) {\n+        var totalLeft = node.clientLeft + node.offsetLeft;\n+        assert_tolerance(totalLeft, expectedOffset, prefix +\n+                         \"clientLeft+offsetLeft (\" + node.clientLeft + \" + \" + node.offsetLeft + \")\");\n+    }\n+\n+    var expectedOffset = checkAttribute(output, node, \"data-total-y\");\n+    if (expectedOffset) {\n+        var totalTop = node.clientTop + node.offsetTop;\n+        assert_tolerance(totalTop, expectedOffset, prefix +\n+                         \"clientTop+offsetTop (\" + node.clientTop + \" + \" + node.offsetTop + \")\");\n+    }\n+\n+    var expectedDisplay = checkAttribute(output, node, \"data-expected-display\");\n+    if (expectedDisplay) {\n+        var actualDisplay = getComputedStyle(node).display;\n+        assert_equals(actualDisplay, expectedDisplay, prefix + \"display\");\n+    }\n+\n+    var expectedPaddingTop = checkAttribute(output, node, \"data-expected-padding-top\");\n+    if (expectedPaddingTop) {\n+        var actualPaddingTop = getComputedStyle(node).paddingTop;\n+        // Trim the unit \"px\" from the output.\n+        actualPaddingTop = actualPaddingTop.slice(0, -2);\n+        assert_equals(actualPaddingTop, expectedPaddingTop, prefix + \"padding-top\");\n+    }\n+\n+    var expectedPaddingBottom = checkAttribute(output, node, \"data-expected-padding-bottom\");\n+    if (expectedPaddingBottom) {\n+        var actualPaddingBottom = getComputedStyle(node).paddingBottom;\n+        // Trim the unit \"px\" from the output.\n+        actualPaddingBottom = actualPaddingBottom.slice(0, -2);\n+        assert_equals(actualPaddingBottom, expectedPaddingBottom, prefix + \"padding-bottom\");\n+    }\n+\n+    var expectedPaddingLeft = checkAttribute(output, node, \"data-expected-padding-left\");\n+    if (expectedPaddingLeft) {\n+        var actualPaddingLeft = getComputedStyle(node).paddingLeft;\n+        // Trim the unit \"px\" from the output.\n+        actualPaddingLeft = actualPaddingLeft.slice(0, -2);\n+        assert_equals(actualPaddingLeft, expectedPaddingLeft, prefix + \"padding-left\");\n+    }\n+\n+    var expectedPaddingRight = checkAttribute(output, node, \"data-expected-padding-right\");\n+    if (expectedPaddingRight) {\n+        var actualPaddingRight = getComputedStyle(node).paddingRight;\n+        // Trim the unit \"px\" from the output.\n+        actualPaddingRight = actualPaddingRight.slice(0, -2);\n+        assert_equals(actualPaddingRight, expectedPaddingRight, prefix + \"padding-right\");\n+    }\n+\n+    var expectedMarginTop = checkAttribute(output, node, \"data-expected-margin-top\");\n+    if (expectedMarginTop) {\n+        var actualMarginTop = getComputedStyle(node).marginTop;\n+        // Trim the unit \"px\" from the output.\n+        actualMarginTop = actualMarginTop.slice(0, -2);\n+        assert_equals(actualMarginTop, expectedMarginTop, prefix + \"margin-top\");\n+    }\n+\n+    var expectedMarginBottom = checkAttribute(output, node, \"data-expected-margin-bottom\");\n+    if (expectedMarginBottom) {\n+        var actualMarginBottom = getComputedStyle(node).marginBottom;\n+        // Trim the unit \"px\" from the output.\n+        actualMarginBottom = actualMarginBottom.slice(0, -2);\n+        assert_equals(actualMarginBottom, expectedMarginBottom, prefix + \"margin-bottom\");\n+    }\n+\n+    var expectedMarginLeft = checkAttribute(output, node, \"data-expected-margin-left\");\n+    if (expectedMarginLeft) {\n+        var actualMarginLeft = getComputedStyle(node).marginLeft;\n+        // Trim the unit \"px\" from the output.\n+        actualMarginLeft = actualMarginLeft.slice(0, -2);\n+        assert_equals(actualMarginLeft, expectedMarginLeft, prefix + \"margin-left\");\n+    }\n+\n+    var expectedMarginRight = checkAttribute(output, node, \"data-expected-margin-right\");\n+    if (expectedMarginRight) {\n+        var actualMarginRight = getComputedStyle(node).marginRight;\n+        // Trim the unit \"px\" from the output.\n+        actualMarginRight = actualMarginRight.slice(0, -2);\n+        assert_equals(actualMarginRight, expectedMarginRight, prefix + \"margin-right\");\n+    }\n+\n+    return output.checked;\n+}\n+\n+var testNumber = 0;\n+\n+window.checkLayout = function(selectorList, callDone = true)\n+{\n+    if (!selectorList) {\n+        console.error(\"You must provide a CSS selector of nodes to check.\");\n+        return;\n+    }\n+    var nodes = document.querySelectorAll(selectorList);\n+    nodes = Array.prototype.slice.call(nodes);\n+    var checkedLayout = false;\n+    Array.prototype.forEach.call(nodes, function(node) {\n+        test(function(t) {\n+            var container = node.parentNode.className == 'container' ? node.parentNode : node;\n+            var prefix = \"\\n\" + container.outerHTML + \"\\n\";\n+            var passed = false;\n+            try {\n+                checkedLayout |= checkExpectedValues(t, node.parentNode, prefix);\n+                checkedLayout |= checkSubtreeExpectedValues(t, node, prefix);\n+                passed = true;\n+            } finally {\n+                checkedLayout |= !passed;\n+            }\n+        }, selectorList + ' ' + String(++testNumber));\n+    });\n+    if (!checkedLayout) {\n+        console.error(\"No valid data-* attributes found in selector list : \" + selectorList);\n+    }\n+    if (callDone)\n+        done();\n+};\n+\n+})();"
        },
        {
            "sha": "40a5fa59cd209d12e6d42dcdff92c4974ae49cf2",
            "filename": "test/fixtures/wpt/resources/idlharness.js",
            "status": "added",
            "additions": 3180,
            "deletions": 0,
            "changes": 3180,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611"
        },
        {
            "sha": "5e8f640c6659d176eaca4c71cc1798b7285540b7",
            "filename": "test/fixtures/wpt/resources/idlharness.js.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fidlharness.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/javascript; charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "97d2e6f92203d126ba585216c5605b581454af1e",
            "filename": "test/fixtures/wpt/resources/readme.md",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Freadme.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Freadme.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Freadme.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,26 @@\n+# Resources\n+\n+## `testharness.js`\n+\n+`testharness.js` is a framework for writing low-level tests of\n+browser functionality in javascript. It provides a convenient API for\n+making assertions and is intended to work for both simple synchronous\n+tests, and tests of asynchronous behaviour.\n+\n+### Getting started\n+\n+To use `testharness.js` you must include two scripts, in the order given:\n+\n+``` html\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+```\n+\n+### Full documentation\n+\n+For detailed API documentation please visit [https://web-platform-tests.org/writing-tests/testharness-api.html](https://web-platform-tests.org/writing-tests/testharness-api.html).\n+\n+### Tutorials\n+\n+You can also read a tutorial on\n+[Using testharness.js](http://darobin.github.com/test-harness-tutorial/docs/using-testharness.html)."
        },
        {
            "sha": "b36d29223585ec32636ea9cb082baa7a84d6a370",
            "filename": "test/fixtures/wpt/resources/sriharness.js",
            "status": "added",
            "additions": 99,
            "deletions": 0,
            "changes": 99,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fsriharness.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fsriharness.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fsriharness.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,99 @@\n+var SRIScriptTest = function(pass, name, src, integrityValue, crossoriginValue, nonce) {\n+    this.pass = pass;\n+    this.name = \"Script: \" + name;\n+    this.src = src;\n+    this.integrityValue = integrityValue;\n+    this.crossoriginValue = crossoriginValue;\n+    this.nonce = nonce;\n+}\n+\n+SRIScriptTest.prototype.execute = function() {\n+    var test = async_test(this.name);\n+    var e = document.createElement(\"script\");\n+    e.src = this.src;\n+    e.setAttribute(\"integrity\", this.integrityValue);\n+    if(this.crossoriginValue) {\n+        e.setAttribute(\"crossorigin\", this.crossoriginValue);\n+    }\n+    if(this.nonce) {\n+      e.setAttribute(\"nonce\", this.nonce);\n+    }\n+    if(this.pass) {\n+        e.addEventListener(\"load\", function() {test.done()});\n+        e.addEventListener(\"error\", function() {\n+            test.step(function(){ assert_unreached(\"Good load fired error handler.\") })\n+        });\n+    } else {\n+       e.addEventListener(\"load\", function() {\n+            test.step(function() { assert_unreached(\"Bad load succeeded.\") })\n+        });\n+       e.addEventListener(\"error\", function() {test.done()});\n+    }\n+    document.body.appendChild(e);\n+};\n+\n+// <link> tests\n+// Style tests must be done synchronously because they rely on the presence\n+// and absence of global style, which can affect later tests. Thus, instead\n+// of executing them one at a time, the style tests are implemented as a\n+// queue that builds up a list of tests, and then executes them one at a\n+// time.\n+var SRIStyleTest = function(queue, pass, name, attrs, customCallback, altPassValue) {\n+    this.pass = pass;\n+    this.name = \"Style: \" + name;\n+    this.customCallback = customCallback || function () {};\n+    this.attrs = attrs || {};\n+    this.passValue = altPassValue || \"rgb(255, 255, 0)\";\n+\n+    this.test = async_test(this.name);\n+\n+    this.queue = queue;\n+    this.queue.push(this);\n+}\n+\n+SRIStyleTest.prototype.execute = function() {\n+  var that = this;\n+    var container = document.getElementById(\"container\");\n+    while (container.hasChildNodes()) {\n+      container.removeChild(container.firstChild);\n+    }\n+\n+    var test = this.test;\n+\n+    var div = document.createElement(\"div\");\n+    div.className = \"testdiv\";\n+    var e = document.createElement(\"link\");\n+    this.attrs.rel = this.attrs.rel || \"stylesheet\";\n+    for (var key in this.attrs) {\n+        if (this.attrs.hasOwnProperty(key)) {\n+            e.setAttribute(key, this.attrs[key]);\n+        }\n+    }\n+\n+    if(this.pass) {\n+        e.addEventListener(\"load\", function() {\n+            test.step(function() {\n+                var background = window.getComputedStyle(div, null).getPropertyValue(\"background-color\");\n+                assert_equals(background, that.passValue);\n+                test.done();\n+            });\n+        });\n+        e.addEventListener(\"error\", function() {\n+            test.step(function(){ assert_unreached(\"Good load fired error handler.\") })\n+        });\n+    } else {\n+        e.addEventListener(\"load\", function() {\n+             test.step(function() { assert_unreached(\"Bad load succeeded.\") })\n+         });\n+        e.addEventListener(\"error\", function() {\n+            test.step(function() {\n+                var background = window.getComputedStyle(div, null).getPropertyValue(\"background-color\");\n+                assert_not_equals(background, that.passValue);\n+                test.done();\n+            });\n+        });\n+    }\n+    container.appendChild(div);\n+    container.appendChild(e);\n+    this.customCallback(e, container);\n+};"
        },
        {
            "sha": "46c68858e4574646ad3efaa5a6dba10127b27a29",
            "filename": "test/fixtures/wpt/resources/testdriver-actions.js",
            "status": "added",
            "additions": 391,
            "deletions": 0,
            "changes": 391,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-actions.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-actions.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-actions.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,391 @@\n+(function() {\n+  let sourceNameIdx = 0;\n+\n+  /**\n+   * Builder for creating a sequence of actions\n+   */\n+  function Actions() {\n+    this.sourceTypes = new Map([[\"key\", KeySource],\n+                                [\"pointer\", PointerSource],\n+                                [\"general\", GeneralSource]]);\n+    this.sources = new Map();\n+    this.sourceOrder = [];\n+    for (let sourceType of this.sourceTypes.keys()) {\n+      this.sources.set(sourceType, new Map());\n+    }\n+    this.currentSources = new Map();\n+    for (let sourceType of this.sourceTypes.keys()) {\n+      this.currentSources.set(sourceType, null);\n+    }\n+    this.createSource(\"general\");\n+    this.tickIdx = 0;\n+  }\n+\n+  Actions.prototype = {\n+    /**\n+     * Generate the action sequence suitable for passing to\n+     * test_driver.action_sequence\n+     *\n+     * @returns {Array} Array of WebDriver-compatible actions sequences\n+     */\n+    serialize: function() {\n+      let actions = [];\n+      for (let [sourceType, sourceName] of this.sourceOrder) {\n+        let source = this.sources.get(sourceType).get(sourceName);\n+        let serialized = source.serialize(this.tickIdx + 1);\n+        if (serialized) {\n+          serialized.id = sourceName;\n+          actions.push(serialized);\n+        }\n+      }\n+      return actions;\n+    },\n+\n+    /**\n+     * Generate and send the action sequence\n+     *\n+     * @returns {Promise} fulfilled after the sequence is executed,\n+     *                    rejected if any actions fail.\n+     */\n+    send: function() {\n+      let actions;\n+      try {\n+        actions = this.serialize();\n+      } catch(e) {\n+        return Promise.reject(e);\n+      }\n+      return test_driver.action_sequence(actions);\n+    },\n+\n+    /**\n+     * Get the action source with a particular source type and name.\n+     * If no name is passed, a new source with the given type is\n+     * created.\n+     *\n+     * @param {String} type - Source type ('general', 'key', or 'pointer')\n+     * @param {String?} name - Name of the source\n+     * @returns {Source} Source object for that source.\n+     */\n+    getSource: function(type, name) {\n+      if (!this.sources.has(type)) {\n+        throw new Error(`${type} is not a valid action type`);\n+      }\n+      if (name === null || name === undefined) {\n+        name = this.currentSources.get(type);\n+      }\n+      if (name === null || name === undefined) {\n+        return this.createSource(type, null);\n+      }\n+      return this.sources.get(type).get(name);\n+    },\n+\n+    setSource: function(type, name) {\n+      if (!this.sources.has(type)) {\n+        throw new Error(`${type} is not a valid action type`);\n+      }\n+      if (!this.sources.get(type).has(name)) {\n+        throw new Error(`${name} is not a valid source for ${type}`);\n+      }\n+      this.currentSources.set(type, name);\n+      return this;\n+    },\n+\n+    /**\n+     * Add a new key input source with the given name\n+     *\n+     * @param {String} name - Name of the key source\n+     * @param {Bool} set - Set source as the default key source\n+     * @returns {Actions}\n+     */\n+    addKeyboard: function(name, set=true) {\n+      this.createSource(\"key\", name, true);\n+      if (set) {\n+        this.setKeyboard(name);\n+      }\n+      return this;\n+    },\n+\n+    /**\n+     * Set the current default key source\n+     *\n+     * @param {String} name - Name of the key source\n+     * @returns {Actions}\n+     */\n+    setKeyboard: function(name) {\n+      this.setSource(\"key\", name);\n+      return this;\n+    },\n+\n+    /**\n+     * Add a new pointer input source with the given name\n+     *\n+     * @param {String} type - Name of the key source\n+     * @param {String} pointerType - Type of pointing device\n+     * @param {Bool} set - Set source as the default key source\n+     * @returns {Actions}\n+     */\n+    addPointer: function(name, pointerType=\"mouse\", set=true) {\n+      this.createSource(\"pointer\", name, true, {pointerType: pointerType});\n+      if (set) {\n+        this.setPointer(name);\n+      }\n+      return this;\n+    },\n+\n+    /**\n+     * Set the current default pointer source\n+     *\n+     * @param {String} name - Name of the pointer source\n+     * @returns {Actions}\n+     */\n+    setPointer: function(name) {\n+      this.setSource(\"pointer\", name);\n+      return this;\n+    },\n+\n+    createSource: function(type, name, parameters={}) {\n+      if (!this.sources.has(type)) {\n+        throw new Error(`${type} is not a valid action type`);\n+      }\n+      let sourceNames = new Set();\n+      for (let [_, name] of this.sourceOrder) {\n+        sourceNames.add(name);\n+      }\n+      if (!name) {\n+        do {\n+          name = \"\" + sourceNameIdx++;\n+        } while (sourceNames.has(name))\n+      } else {\n+        if (sourceNames.has(name)) {\n+          throw new Error(`Alreay have a source of type ${type} named ${name}.`);\n+        }\n+      }\n+      this.sources.get(type).set(name, new (this.sourceTypes.get(type))(parameters));\n+      this.currentSources.set(type, name);\n+      this.sourceOrder.push([type, name]);\n+      return this.sources.get(type).get(name);\n+    },\n+\n+    /**\n+     * Insert a new actions tick\n+     *\n+     * @param {Number?} duration - Minimum length of the tick in ms.\n+     * @returns {Actions}\n+     */\n+    addTick: function(duration) {\n+      this.tickIdx += 1;\n+      if (duration) {\n+        this.pause(duration);\n+      }\n+      return this;\n+    },\n+\n+    /**\n+     * Add a pause to the current tick\n+     *\n+     * @param {Number?} duration - Minimum length of the tick in ms.\n+     * @returns {Actions}\n+     */\n+    pause: function(duration) {\n+      this.getSource(\"general\").addPause(this, duration);\n+      return this;\n+    },\n+\n+    /**\n+     * Create a keyDown event for the current default key source\n+     *\n+     * @param {String} key - Key to press\n+     * @param {String?} sourceName - Named key source to use or null for the default key source\n+     * @returns {Actions}\n+     */\n+    keyDown: function(key, {sourceName=null}={}) {\n+      let source = this.getSource(\"key\", sourceName);\n+      source.keyDown(this, key);\n+      return this;\n+    },\n+\n+    /**\n+     * Create a keyDown event for the current default key source\n+     *\n+     * @param {String} key - Key to release\n+     * @param {String?} sourceName - Named key source to use or null for the default key source\n+     * @returns {Actions}\n+     */\n+    keyUp: function(key, {sourceName=null}={}) {\n+      let source = this.getSource(\"key\", sourceName);\n+      source.keyUp(this, key);\n+      return this;\n+    },\n+\n+    /**\n+     * Create a pointerDown event for the current default pointer source\n+     *\n+     * @param {String} button - Button to press\n+     * @param {String?} sourceName - Named pointer source to use or null for the default\n+     *                               pointer source\n+     * @returns {Actions}\n+     */\n+    pointerDown: function({button=0, sourceName=null}={}) {\n+      let source = this.getSource(\"pointer\", sourceName);\n+      source.pointerDown(this, button);\n+      return this;\n+    },\n+\n+    /**\n+     * Create a pointerUp event for the current default pointer source\n+     *\n+     * @param {String} button - Button to release\n+     * @param {String?} sourceName - Named pointer source to use or null for the default pointer\n+     *                               source\n+     * @returns {Actions}\n+     */\n+    pointerUp: function({button=0, sourceName=null}={}) {\n+      let source = this.getSource(\"pointer\", sourceName);\n+      source.pointerUp(this, button);\n+      return this;\n+    },\n+\n+    /**\n+     * Create a move event for the current default pointer source\n+     *\n+     * @param {Number} x - Destination x coordinate\n+     * @param {Number} y - Destination y coordinate\n+     * @param {String|Element} origin - Origin of the coordinate system.\n+     *                                  Either \"pointer\", \"viewport\" or an Element\n+     * @param {Number?} duration - Time in ms for the move\n+     * @param {String?} sourceName - Named pointer source to use or null for the default pointer\n+     *                               source\n+     * @returns {Actions}\n+     */\n+    pointerMove: function(x, y,\n+                          {origin=\"viewport\", duration, sourceName=null}={}) {\n+      let source = this.getSource(\"pointer\", sourceName);\n+      source.pointerMove(this, x, y, duration, origin);\n+      return this;\n+    },\n+  };\n+\n+  function GeneralSource() {\n+    this.actions = new Map();\n+  }\n+\n+  GeneralSource.prototype = {\n+    serialize: function(tickCount) {\n+      if (!this.actions.size) {\n+        return undefined;\n+      }\n+      let actions = [];\n+      let data = {\"type\": \"none\", \"actions\": actions};\n+      for (let i=0; i<tickCount; i++) {\n+        if (this.actions.has(i)) {\n+          actions.push(this.actions.get(i));\n+        } else {\n+          actions.push({\"type\": \"pause\"});\n+        }\n+      }\n+      return data;\n+    },\n+\n+    addPause: function(actions, duration) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        throw new Error(`Already have a pause action for the current tick`);\n+      }\n+      this.actions.set(tick, {type: \"pause\", duration: duration});\n+    },\n+  };\n+\n+  function KeySource() {\n+    this.actions = new Map();\n+  }\n+\n+  KeySource.prototype = {\n+    serialize: function(tickCount) {\n+      if (!this.actions.size) {\n+        return undefined;\n+      }\n+      let actions = [];\n+      let data = {\"type\": \"key\", \"actions\": actions};\n+      for (let i=0; i<tickCount; i++) {\n+        if (this.actions.has(i)) {\n+          actions.push(this.actions.get(i));\n+        } else {\n+          actions.push({\"type\": \"pause\"});\n+        }\n+      }\n+      return data;\n+    },\n+\n+    keyDown: function(actions, key) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        tick = actions.addTick().tickIdx;\n+      }\n+      this.actions.set(tick, {type: \"keyDown\", value: key});\n+    },\n+\n+    keyUp: function(actions, key) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        tick = actions.addTick().tickIdx;\n+      }\n+      this.actions.set(tick, {type: \"keyUp\", value: key});\n+    },\n+  };\n+\n+  function PointerSource(parameters={pointerType: \"mouse\"}) {\n+    let pointerType = parameters.pointerType || \"mouse\";\n+    if (![\"mouse\", \"pen\", \"touch\"].includes(pointerType)) {\n+      throw new Error(`Invalid pointerType ${pointerType}`);\n+    }\n+    this.type = pointerType;\n+    this.actions = new Map();\n+  }\n+\n+  PointerSource.prototype = {\n+    serialize: function(tickCount) {\n+      if (!this.actions.size) {\n+        return undefined;\n+      }\n+      let actions = [];\n+      let data = {\"type\": \"pointer\", \"actions\": actions, \"parameters\": {\"pointerType\": this.type}};\n+      for (let i=0; i<tickCount; i++) {\n+        if (this.actions.has(i)) {\n+          actions.push(this.actions.get(i));\n+        } else {\n+          actions.push({\"type\": \"pause\"});\n+        }\n+      }\n+      return data;\n+    },\n+\n+    pointerDown: function(actions, button) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        tick = actions.addTick().tickIdx;\n+      }\n+      this.actions.set(tick, {type: \"pointerDown\", button});\n+    },\n+\n+    pointerUp: function(actions, button) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        tick = actions.addTick().tickIdx;\n+      }\n+      this.actions.set(tick, {type: \"pointerUp\", button});\n+    },\n+\n+    pointerMove: function(actions, x, y, duration, origin) {\n+      let tick = actions.tickIdx;\n+      if (this.actions.has(tick)) {\n+        tick = actions.addTick().tickIdx;\n+      }\n+      this.actions.set(tick, {type: \"pointerMove\", x, y, origin});\n+      if (duration) {\n+        this.actions.get(tick).duration = duration;\n+      }\n+    },\n+  };\n+\n+  test_driver.Actions = Actions;\n+})();"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "test/fixtures/wpt/resources/testdriver-vendor.js",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611"
        },
        {
            "sha": "5e8f640c6659d176eaca4c71cc1798b7285540b7",
            "filename": "test/fixtures/wpt/resources/testdriver-vendor.js.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver-vendor.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/javascript; charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "e0741e8d61d4d67c99ccbfc860f65e796c44c78a",
            "filename": "test/fixtures/wpt/resources/testdriver.js",
            "status": "added",
            "additions": 243,
            "deletions": 0,
            "changes": 243,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,243 @@\n+(function() {\n+    \"use strict\";\n+    var idCounter = 0;\n+\n+    function getInViewCenterPoint(rect) {\n+        var left = Math.max(0, rect.left);\n+        var right = Math.min(window.innerWidth, rect.right);\n+        var top = Math.max(0, rect.top);\n+        var bottom = Math.min(window.innerHeight, rect.bottom);\n+\n+        var x = 0.5 * (left + right);\n+        var y = 0.5 * (top + bottom);\n+\n+        return [x, y];\n+    }\n+\n+    function getPointerInteractablePaintTree(element) {\n+        if (!window.document.contains(element)) {\n+            return [];\n+        }\n+\n+        var rectangles = element.getClientRects();\n+\n+        if (rectangles.length === 0) {\n+            return [];\n+        }\n+\n+        var centerPoint = getInViewCenterPoint(rectangles[0]);\n+\n+        if (\"elementsFromPoint\" in document) {\n+            return document.elementsFromPoint(centerPoint[0], centerPoint[1]);\n+        } else if (\"msElementsFromPoint\" in document) {\n+            var rv = document.msElementsFromPoint(centerPoint[0], centerPoint[1]);\n+            return Array.prototype.slice.call(rv ? rv : []);\n+        } else {\n+            throw new Error(\"document.elementsFromPoint unsupported\");\n+        }\n+    }\n+\n+    function inView(element) {\n+        var pointerInteractablePaintTree = getPointerInteractablePaintTree(element);\n+        return pointerInteractablePaintTree.indexOf(element) !== -1;\n+    }\n+\n+\n+    /**\n+     * @namespace\n+     */\n+    window.test_driver = {\n+        /**\n+         * Trigger user interaction in order to grant additional privileges to\n+         * a provided function.\n+         *\n+         * https://html.spec.whatwg.org/#triggered-by-user-activation\n+         *\n+         * @param {String} intent - a description of the action which much be\n+         *                          triggered by user interaction\n+         * @param {Function} action - code requiring escalated privileges\n+         *\n+         * @returns {Promise} fulfilled following user interaction and\n+         *                    execution of the provided `action` function;\n+         *                    rejected if interaction fails or the provided\n+         *                    function throws an error\n+         */\n+        bless: function(intent, action) {\n+            var button = document.createElement(\"button\");\n+            button.innerHTML = \"This test requires user interaction.<br />\" +\n+                \"Please click here to allow \" + intent + \".\";\n+            button.id = \"wpt-test-driver-bless-\" + (idCounter += 1);\n+            const elem = document.body || document.documentElement;\n+            elem.appendChild(button);\n+\n+            return new Promise(function(resolve, reject) {\n+                    button.addEventListener(\"click\", resolve);\n+\n+                    test_driver.click(button).catch(reject);\n+                }).then(function() {\n+                    button.remove();\n+\n+                    if (typeof action === \"function\") {\n+                        return action();\n+                    }\n+                });\n+        },\n+\n+        /**\n+         * Triggers a user-initiated click\n+         *\n+         * This matches the behaviour of the {@link\n+         * https://w3c.github.io/webdriver/webdriver-spec.html#element-click|WebDriver\n+         * Element Click command}.\n+         *\n+         * @param {Element} element - element to be clicked\n+         * @returns {Promise} fulfilled after click occurs, or rejected in\n+         *                    the cases the WebDriver command errors\n+         */\n+        click: function(element) {\n+            if (window.top !== window) {\n+                return Promise.reject(new Error(\"can only click in top-level window\"));\n+            }\n+\n+            if (!window.document.contains(element)) {\n+                return Promise.reject(new Error(\"element in different document or shadow tree\"));\n+            }\n+\n+            if (!inView(element)) {\n+                element.scrollIntoView({behavior: \"instant\",\n+                                        block: \"end\",\n+                                        inline: \"nearest\"});\n+            }\n+\n+            var pointerInteractablePaintTree = getPointerInteractablePaintTree(element);\n+            if (pointerInteractablePaintTree.length === 0 ||\n+                !element.contains(pointerInteractablePaintTree[0])) {\n+                return Promise.reject(new Error(\"element click intercepted error\"));\n+            }\n+\n+            var rect = element.getClientRects()[0];\n+            var centerPoint = getInViewCenterPoint(rect);\n+            return window.test_driver_internal.click(element,\n+                                                     {x: centerPoint[0],\n+                                                      y: centerPoint[1]});\n+        },\n+\n+        /**\n+         * Send keys to an element\n+         *\n+         * This matches the behaviour of the {@link\n+         * https://w3c.github.io/webdriver/webdriver-spec.html#element-send-keys|WebDriver\n+         * Send Keys command}.\n+         *\n+         * @param {Element} element - element to send keys to\n+         * @param {String} keys - keys to send to the element\n+         * @returns {Promise} fulfilled after keys are sent, or rejected in\n+         *                    the cases the WebDriver command errors\n+         */\n+        send_keys: function(element, keys) {\n+            if (window.top !== window) {\n+                return Promise.reject(new Error(\"can only send keys in top-level window\"));\n+            }\n+\n+            if (!window.document.contains(element)) {\n+                return Promise.reject(new Error(\"element in different document or shadow tree\"));\n+            }\n+\n+            if (!inView(element)) {\n+                element.scrollIntoView({behavior: \"instant\",\n+                                        block: \"end\",\n+                                        inline: \"nearest\"});\n+            }\n+\n+            var pointerInteractablePaintTree = getPointerInteractablePaintTree(element);\n+            if (pointerInteractablePaintTree.length === 0 ||\n+                !element.contains(pointerInteractablePaintTree[0])) {\n+                return Promise.reject(new Error(\"element send_keys intercepted error\"));\n+            }\n+\n+            return window.test_driver_internal.send_keys(element, keys);\n+        },\n+\n+        /**\n+         * Freeze the current page\n+         *\n+         * The freeze function transitions the page from the HIDDEN state to\n+         * the FROZEN state as described in {@link\n+         * https://github.com/WICG/page-lifecycle/blob/master/README.md|Lifecycle API\n+         * for Web Pages}\n+         *\n+         * @returns {Promise} fulfilled after the freeze request is sent, or rejected\n+         *                    in case the WebDriver command errors\n+         */\n+        freeze: function() {\n+            return window.test_driver_internal.freeze();\n+        },\n+\n+        /**\n+         * Send a sequence of actions\n+         *\n+         * This function sends a sequence of actions to the top level window\n+         * to perform. It is modeled after the behaviour of {@link\n+         * https://w3c.github.io/webdriver/#actions|WebDriver Actions Command}\n+         *\n+         * @param {Array} actions - an array of actions. The format is the same as the actions\n+                                    property of the WebDriver command {@link\n+                                    https://w3c.github.io/webdriver/#perform-actions|Perform\n+                                    Actions} command. Each element is an object representing an\n+                                    input source and each input source itself has an actions\n+                                    property detailing the behaviour of that source at each timestep\n+                                    (or tick). Authors are not expected to construct the actions\n+                                    sequence by hand, but to use the builder api provided in\n+                                    testdriver-actions.js\n+         * @returns {Promise} fufiled after the actions are performed, or rejected in\n+         *                    the cases the WebDriver command errors\n+         */\n+        action_sequence(actions) {\n+            return window.test_driver_internal.action_sequence(actions);\n+        }\n+    };\n+\n+    window.test_driver_internal = {\n+        /**\n+         * Triggers a user-initiated click\n+         *\n+         * @param {Element} element - element to be clicked\n+         * @param {{x: number, y: number} coords - viewport coordinates to click at\n+         * @returns {Promise} fulfilled after click occurs or rejected if click fails\n+         */\n+        click: function(element, coords) {\n+            return Promise.reject(new Error(\"unimplemented\"));\n+        },\n+\n+        /**\n+         * Triggers a user-initiated click\n+         *\n+         * @param {Element} element - element to be clicked\n+         * @param {String} keys - keys to send to the element\n+         * @returns {Promise} fulfilled after keys are sent or rejected if click fails\n+         */\n+        send_keys: function(element, keys) {\n+            return Promise.reject(new Error(\"unimplemented\"));\n+        },\n+\n+        /**\n+         * Freeze the current page\n+         *\n+         * @returns {Promise} fulfilled after freeze request is sent, otherwise\n+         * it gets rejected\n+         */\n+        freeze: function() {\n+            return Promise.reject(new Error(\"unimplemented\"));\n+        },\n+\n+        /**\n+         * Send a sequence of pointer actions\n+         *\n+         * @returns {Promise} fufilled after actions are sent, rejected if any actions\n+         *                    fail\n+         */\n+        action_sequence: function(actions) {\n+            return Promise.reject(new Error(\"unimplemented\"));\n+        }\n+    };\n+})();"
        },
        {
            "sha": "5e8f640c6659d176eaca4c71cc1798b7285540b7",
            "filename": "test/fixtures/wpt/resources/testdriver.js.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestdriver.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/javascript; charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "e828b629858d07afd989b80894986315bac16cc7",
            "filename": "test/fixtures/wpt/resources/testharness.css.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.css.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.css.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.css.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/css;charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "18a6f70beab26b474b0f684842a5735def02610a",
            "filename": "test/fixtures/wpt/resources/testharness.js",
            "status": "added",
            "additions": 3400,
            "deletions": 0,
            "changes": 3400,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611"
        },
        {
            "sha": "5e8f640c6659d176eaca4c71cc1798b7285540b7",
            "filename": "test/fixtures/wpt/resources/testharness.js.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharness.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/javascript; charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "e5cb40fe0ef652be407d4c48b1c59391864cec7b",
            "filename": "test/fixtures/wpt/resources/testharnessreport.js",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,57 @@\n+/* global add_completion_callback */\n+/* global setup */\n+\n+/*\n+ * This file is intended for vendors to implement code needed to integrate\n+ * testharness.js tests with their own test systems.\n+ *\n+ * Typically test system integration will attach callbacks when each test has\n+ * run, using add_result_callback(callback(test)), or when the whole test file\n+ * has completed, using\n+ * add_completion_callback(callback(tests, harness_status)).\n+ *\n+ * For more documentation about the callback functions and the\n+ * parameters they are called with see testharness.js\n+ */\n+\n+function dump_test_results(tests, status) {\n+    var results_element = document.createElement(\"script\");\n+    results_element.type = \"text/json\";\n+    results_element.id = \"__testharness__results__\";\n+    var test_results = tests.map(function(x) {\n+        return {name:x.name, status:x.status, message:x.message, stack:x.stack}\n+    });\n+    var data = {test:window.location.href,\n+                tests:test_results,\n+                status: status.status,\n+                message: status.message,\n+                stack: status.stack};\n+    results_element.textContent = JSON.stringify(data);\n+\n+    // To avoid a HierarchyRequestError with XML documents, ensure that 'results_element'\n+    // is inserted at a location that results in a valid document.\n+    var parent = document.body\n+        ? document.body                 // <body> is required in XHTML documents\n+        : document.documentElement;     // fallback for optional <body> in HTML5, SVG, etc.\n+\n+    parent.appendChild(results_element);\n+}\n+\n+add_completion_callback(dump_test_results);\n+\n+/* If the parent window has a testharness_properties object,\n+ * we use this to provide the test settings. This is used by the\n+ * default in-browser runner to configure the timeout and the\n+ * rendering of results\n+ */\n+try {\n+    if (window.opener && \"testharness_properties\" in window.opener) {\n+        /* If we pass the testharness_properties object as-is here without\n+         * JSON stringifying and reparsing it, IE fails & emits the message\n+         * \"Could not complete the operation due to error 80700019\".\n+         */\n+        setup(JSON.parse(JSON.stringify(window.opener.testharness_properties)));\n+    }\n+} catch (e) {\n+}\n+// vim: set expandtab shiftwidth=4 tabstop=4:"
        },
        {
            "sha": "5e8f640c6659d176eaca4c71cc1798b7285540b7",
            "filename": "test/fixtures/wpt/resources/testharnessreport.js.headers",
            "status": "added",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Ftestharnessreport.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,2 @@\n+Content-Type: text/javascript; charset=utf-8\n+Cache-Control: max-age=3600"
        },
        {
            "sha": "1d72980cd7ea87ceabf98742a13f9d2e1419edf0",
            "filename": "test/fixtures/wpt/resources/webidl2/.gitignore",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.gitignore",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.gitignore",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.gitignore?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,4 @@\n+scratch\n+node_modules\n+lib-cov\n+browser-tests.html"
        },
        {
            "sha": "6dc8e2bdbaa6cf58491e2028cf11746cff0dbf88",
            "filename": "test/fixtures/wpt/resources/webidl2/.travis.yml",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.travis.yml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.travis.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2F.travis.yml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,5 @@\n+language: node_js\n+node_js:\n+  - node\n+  - lts/*\n+  - 6"
        },
        {
            "sha": "91e22275e0700e1f553148c7f5414d7ccaf0fe33",
            "filename": "test/fixtures/wpt/resources/webidl2/CHANGELOG.md",
            "status": "added",
            "additions": 292,
            "deletions": 0,
            "changes": 292,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FCHANGELOG.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FCHANGELOG.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FCHANGELOG.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,292 @@\n+# Change Log\n+\n+## [v10.2.1](https://github.com/w3c/webidl2.js/tree/v10.2.1) (2018-03-09)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v10.2.0...v10.2.1)\n+\n+**Merged pull requests:**\n+\n+- Optimise tokenisation and whitespace skipping [\\#139](https://github.com/w3c/webidl2.js/pull/139) ([ricea](https://github.com/ricea))\n+- refactor: small syntax changes [\\#137](https://github.com/w3c/webidl2.js/pull/137) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v10.2.0](https://github.com/w3c/webidl2.js/tree/v10.2.0) (2018-01-30)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v10.1.0...v10.2.0)\n+\n+**Merged pull requests:**\n+\n+- Type on union idlType [\\#135](https://github.com/w3c/webidl2.js/pull/135) ([saschanaz](https://github.com/saschanaz))\n+- feat: add argument/return type [\\#134](https://github.com/w3c/webidl2.js/pull/134) ([saschanaz](https://github.com/saschanaz))\n+- feat: add dictionary/typedef-type [\\#133](https://github.com/w3c/webidl2.js/pull/133) ([saschanaz](https://github.com/saschanaz))\n+- feat: add const-type for idlTypes  [\\#132](https://github.com/w3c/webidl2.js/pull/132) ([saschanaz](https://github.com/saschanaz))\n+- feat: add types on idlTypes [\\#131](https://github.com/w3c/webidl2.js/pull/131) ([saschanaz](https://github.com/saschanaz))\n+- Auto acquisition for parser result changes [\\#130](https://github.com/w3c/webidl2.js/pull/130) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v10.1.0](https://github.com/w3c/webidl2.js/tree/v10.1.0) (2018-01-19)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v10.0.0...v10.1.0)\n+\n+**Closed issues:**\n+\n+- Support `raises` and `setraises` [\\#128](https://github.com/w3c/webidl2.js/issues/128)\n+- Support `legacycaller` [\\#127](https://github.com/w3c/webidl2.js/issues/127)\n+- Improve \"No semicolon after enum\" message [\\#119](https://github.com/w3c/webidl2.js/issues/119)\n+\n+**Merged pull requests:**\n+\n+- Let error messages include the current definition name [\\#129](https://github.com/w3c/webidl2.js/pull/129) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v10.0.0](https://github.com/w3c/webidl2.js/tree/v10.0.0) (2017-12-20)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v9.0.0...v10.0.0)\n+\n+**Closed issues:**\n+\n+-  Always return an array for idlType, etc. [\\#113](https://github.com/w3c/webidl2.js/issues/113)\n+- Maintain writer.js or not? [\\#109](https://github.com/w3c/webidl2.js/issues/109)\n+\n+**Merged pull requests:**\n+\n+- Remove typeExtAttrs from docs [\\#124](https://github.com/w3c/webidl2.js/pull/124) ([saschanaz](https://github.com/saschanaz))\n+- Remove iterator documentation [\\#123](https://github.com/w3c/webidl2.js/pull/123) ([saschanaz](https://github.com/saschanaz))\n+- Maintain writer.js [\\#122](https://github.com/w3c/webidl2.js/pull/122) ([saschanaz](https://github.com/saschanaz))\n+- BREAKING CHANGE: remove deprecated iterator operation [\\#121](https://github.com/w3c/webidl2.js/pull/121) ([saschanaz](https://github.com/saschanaz))\n+- Use for-of on tests [\\#120](https://github.com/w3c/webidl2.js/pull/120) ([saschanaz](https://github.com/saschanaz))\n+- docs\\(README\\): iterables ildType is always array [\\#118](https://github.com/w3c/webidl2.js/pull/118) ([marcoscaceres](https://github.com/marcoscaceres))\n+\n+## [v9.0.0](https://github.com/w3c/webidl2.js/tree/v9.0.0) (2017-11-30)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v8.1.0...v9.0.0)\n+\n+**Closed issues:**\n+\n+- Code quality [\\#116](https://github.com/w3c/webidl2.js/issues/116)\n+- Unable to parse HTMLAllCollection interface [\\#114](https://github.com/w3c/webidl2.js/issues/114)\n+- Add support for mixin syntax [\\#112](https://github.com/w3c/webidl2.js/issues/112)\n+- Whitespace issues [\\#111](https://github.com/w3c/webidl2.js/issues/111)\n+\n+**Merged pull requests:**\n+\n+- Consistent array type for iterable.idlType [\\#117](https://github.com/w3c/webidl2.js/pull/117) ([saschanaz](https://github.com/saschanaz))\n+-  Revert \"chore: drop Node 6 support \\(\\#102\\)\" [\\#115](https://github.com/w3c/webidl2.js/pull/115) ([TimothyGu](https://github.com/TimothyGu))\n+\n+## [v8.1.0](https://github.com/w3c/webidl2.js/tree/v8.1.0) (2017-11-03)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v8.0.1...v8.1.0)\n+\n+**Closed issues:**\n+\n+- Extended Attributes `rhs` should always be there [\\#96](https://github.com/w3c/webidl2.js/issues/96)\n+\n+**Merged pull requests:**\n+\n+- Always add rhs property [\\#110](https://github.com/w3c/webidl2.js/pull/110) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v8.0.1](https://github.com/w3c/webidl2.js/tree/v8.0.1) (2017-11-03)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v8.0.0...v8.0.1)\n+\n+**Fixed bugs:**\n+\n+- Comment order parsing bug  [\\#107](https://github.com/w3c/webidl2.js/issues/107)\n+\n+**Merged pull requests:**\n+\n+- Remove m postfix from all\\_ws\\(\\) [\\#108](https://github.com/w3c/webidl2.js/pull/108) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v8.0.0](https://github.com/w3c/webidl2.js/tree/v8.0.0) (2017-11-03)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v7.0.0...v8.0.0)\n+\n+**Closed issues:**\n+\n+- Remove creators support [\\#100](https://github.com/w3c/webidl2.js/issues/100)\n+- Add mixin support [\\#92](https://github.com/w3c/webidl2.js/issues/92)\n+\n+**Merged pull requests:**\n+\n+- Support mixins + includes statements [\\#105](https://github.com/w3c/webidl2.js/pull/105) ([saschanaz](https://github.com/saschanaz))\n+- chore: drop Node 6 support [\\#102](https://github.com/w3c/webidl2.js/pull/102) ([marcoscaceres](https://github.com/marcoscaceres))\n+- BREAKING CHANGE: drop creator support [\\#101](https://github.com/w3c/webidl2.js/pull/101) ([saschanaz](https://github.com/saschanaz))\n+- Normalize some whitespace to pass wpt's lint [\\#99](https://github.com/w3c/webidl2.js/pull/99) ([foolip](https://github.com/foolip))\n+\n+## [v7.0.0](https://github.com/w3c/webidl2.js/tree/v7.0.0) (2017-10-27)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v6.1.0...v7.0.0)\n+\n+**Closed issues:**\n+\n+- Type conversion on default values is destructive  [\\#94](https://github.com/w3c/webidl2.js/issues/94)\n+- extended attribute structure missing type [\\#89](https://github.com/w3c/webidl2.js/issues/89)\n+\n+**Merged pull requests:**\n+\n+-  BREAKING CHANGE: argument + default types should be string [\\#95](https://github.com/w3c/webidl2.js/pull/95) ([marcoscaceres](https://github.com/marcoscaceres))\n+\n+## [v6.1.0](https://github.com/w3c/webidl2.js/tree/v6.1.0) (2017-10-23)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v6.0.1...v6.1.0)\n+\n+**Merged pull requests:**\n+\n+- feat: give extended attributes a type [\\#90](https://github.com/w3c/webidl2.js/pull/90) ([marcoscaceres](https://github.com/marcoscaceres))\n+\n+## [v6.0.1](https://github.com/w3c/webidl2.js/tree/v6.0.1) (2017-10-18)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v6.0.0...v6.0.1)\n+\n+**Closed issues:**\n+\n+- Enum values should be objects [\\#86](https://github.com/w3c/webidl2.js/issues/86)\n+\n+**Merged pull requests:**\n+\n+- Use ES2015 syntax for tests [\\#88](https://github.com/w3c/webidl2.js/pull/88) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v6.0.0](https://github.com/w3c/webidl2.js/tree/v6.0.0) (2017-10-17)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v5.0.0...v6.0.0)\n+\n+**Merged pull requests:**\n+\n+- BREAKING CHANGE: ret enum value as object [\\#87](https://github.com/w3c/webidl2.js/pull/87) ([marcoscaceres](https://github.com/marcoscaceres))\n+\n+## [v5.0.0](https://github.com/w3c/webidl2.js/tree/v5.0.0) (2017-10-17)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v4.2.0...v5.0.0)\n+\n+**Closed issues:**\n+\n+- Unable to parse annotated types in generics [\\#83](https://github.com/w3c/webidl2.js/issues/83)\n+- Drop support for Node 4, move to 6 LTS [\\#82](https://github.com/w3c/webidl2.js/issues/82)\n+\n+**Merged pull requests:**\n+\n+- BREAKING CHANGE: Use ES2015 syntax [\\#84](https://github.com/w3c/webidl2.js/pull/84) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v4.2.0](https://github.com/w3c/webidl2.js/tree/v4.2.0) (2017-10-16)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v4.1.0...v4.2.0)\n+\n+**Closed issues:**\n+\n+- Remove legacy caller support [\\#78](https://github.com/w3c/webidl2.js/issues/78)\n+- Should report error for using duplicate names [\\#77](https://github.com/w3c/webidl2.js/issues/77)\n+\n+**Merged pull requests:**\n+\n+- Check duplicated names [\\#80](https://github.com/w3c/webidl2.js/pull/80) ([saschanaz](https://github.com/saschanaz))\n+- Remove legacycaller [\\#79](https://github.com/w3c/webidl2.js/pull/79) ([saschanaz](https://github.com/saschanaz))\n+- Add \"sequence\" property to IDL Type AST definition [\\#76](https://github.com/w3c/webidl2.js/pull/76) ([lerouche](https://github.com/lerouche))\n+\n+## [v4.1.0](https://github.com/w3c/webidl2.js/tree/v4.1.0) (2017-07-04)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v4.0.0...v4.1.0)\n+\n+**Closed issues:**\n+\n+- Parsing error for annonated inner types of generic types [\\#71](https://github.com/w3c/webidl2.js/issues/71)\n+\n+**Merged pull requests:**\n+\n+- Support TypeWithExtendedAttributes on generics [\\#75](https://github.com/w3c/webidl2.js/pull/75) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v4.0.0](https://github.com/w3c/webidl2.js/tree/v4.0.0) (2017-06-27)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v3.0.2...v4.0.0)\n+\n+**Closed issues:**\n+\n+- Remove serializer-related productions [\\#73](https://github.com/w3c/webidl2.js/issues/73)\n+- Records don't seem to be working right [\\#72](https://github.com/w3c/webidl2.js/issues/72)\n+- Document namespace member output [\\#59](https://github.com/w3c/webidl2.js/issues/59)\n+\n+**Merged pull requests:**\n+\n+- BREAKING CHANGE: remove serializers \\(closes \\#73\\) [\\#74](https://github.com/w3c/webidl2.js/pull/74) ([marcoscaceres](https://github.com/marcoscaceres))\n+- Add documentation for namespaces [\\#70](https://github.com/w3c/webidl2.js/pull/70) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v3.0.2](https://github.com/w3c/webidl2.js/tree/v3.0.2) (2017-05-29)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v3.0.1...v3.0.2)\n+\n+**Closed issues:**\n+\n+- Whitespace issues [\\#64](https://github.com/w3c/webidl2.js/issues/64)\n+\n+**Merged pull requests:**\n+\n+- Test for latest LTS/stable node versions [\\#69](https://github.com/w3c/webidl2.js/pull/69) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v3.0.1](https://github.com/w3c/webidl2.js/tree/v3.0.1) (2017-05-18)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v2.4.0...v3.0.1)\n+\n+**Closed issues:**\n+\n+- Is array syntax dead? [\\#66](https://github.com/w3c/webidl2.js/issues/66)\n+- Remove exceptions support [\\#65](https://github.com/w3c/webidl2.js/issues/65)\n+\n+**Merged pull requests:**\n+\n+- Fix whitespace error on parsing extended attributes [\\#68](https://github.com/w3c/webidl2.js/pull/68) ([saschanaz](https://github.com/saschanaz))\n+- Remove deprecated IDL arrays and exceptions [\\#67](https://github.com/w3c/webidl2.js/pull/67) ([saschanaz](https://github.com/saschanaz))\n+\n+## [v2.4.0](https://github.com/w3c/webidl2.js/tree/v2.4.0) (2017-04-12)\n+[Full Changelog](https://github.com/w3c/webidl2.js/compare/v2.1.0...v2.4.0)\n+\n+**Closed issues:**\n+\n+- Add support for Annotated Types [\\#60](https://github.com/w3c/webidl2.js/issues/60)\n+- Question: Convert WebIDL -\\> Javascript [\\#56](https://github.com/w3c/webidl2.js/issues/56)\n+- Get Robin to give us push permissions on npm [\\#54](https://github.com/w3c/webidl2.js/issues/54)\n+- Add support for records [\\#53](https://github.com/w3c/webidl2.js/issues/53)\n+- module not supported? [\\#52](https://github.com/w3c/webidl2.js/issues/52)\n+- Add support for namespaces [\\#51](https://github.com/w3c/webidl2.js/issues/51)\n+- Export is not AMD compatible [\\#48](https://github.com/w3c/webidl2.js/issues/48)\n+- Can't represent large constants [\\#21](https://github.com/w3c/webidl2.js/issues/21)\n+\n+**Merged pull requests:**\n+\n+- Update webidl2.js [\\#63](https://github.com/w3c/webidl2.js/pull/63) ([tqeto](https://github.com/tqeto))\n+- Remove support for MapClass \\(no longer valid in WebIDL\\) [\\#62](https://github.com/w3c/webidl2.js/pull/62) ([dontcallmedom](https://github.com/dontcallmedom))\n+- Add support for annotated types [\\#61](https://github.com/w3c/webidl2.js/pull/61) ([dontcallmedom](https://github.com/dontcallmedom))\n+- Support namespaces [\\#58](https://github.com/w3c/webidl2.js/pull/58) ([saschanaz](https://github.com/saschanaz))\n+- Add support for records [\\#57](https://github.com/w3c/webidl2.js/pull/57) ([TimothyGu](https://github.com/TimothyGu))\n+- Refactor [\\#50](https://github.com/w3c/webidl2.js/pull/50) ([marcoscaceres](https://github.com/marcoscaceres))\n+- feat\\(lib\\): add AMD export support \\(closes \\#48\\) [\\#49](https://github.com/w3c/webidl2.js/pull/49) ([marcoscaceres](https://github.com/marcoscaceres))\n+\n+## [v2.1.0](https://github.com/w3c/webidl2.js/tree/v2.1.0) (2016-08-12)\n+**Closed issues:**\n+\n+- Exception when parsing test/syntax/idl/typedef.widl [\\#46](https://github.com/w3c/webidl2.js/issues/46)\n+- Wrong jsondiffpatch location [\\#42](https://github.com/w3c/webidl2.js/issues/42)\n+- 'npm install' fails on building microtime [\\#40](https://github.com/w3c/webidl2.js/issues/40)\n+- Can't represent union types in typedefs [\\#38](https://github.com/w3c/webidl2.js/issues/38)\n+- tokenise\\(\\) assumes a specific property enumeration order [\\#27](https://github.com/w3c/webidl2.js/issues/27)\n+- Add support for iterable\\<\\>, maplike\\<\\>, setlike\\<\\> declarations [\\#24](https://github.com/w3c/webidl2.js/issues/24)\n+- WebIDL2 fails to parse `attribute Promise\\<DOMString\\>\\[\\] baz` [\\#19](https://github.com/w3c/webidl2.js/issues/19)\n+- Support for ExtendedAttributeIdentList \\(current editor's draft\\) [\\#18](https://github.com/w3c/webidl2.js/issues/18)\n+- No Licensing Information [\\#17](https://github.com/w3c/webidl2.js/issues/17)\n+- how to regenerate w3c idl files ? [\\#14](https://github.com/w3c/webidl2.js/issues/14)\n+- What is lib/writer.js [\\#13](https://github.com/w3c/webidl2.js/issues/13)\n+- Numerous tests are failing [\\#7](https://github.com/w3c/webidl2.js/issues/7)\n+- Add support for missing types in ServiceWorker [\\#5](https://github.com/w3c/webidl2.js/issues/5)\n+- How can I parse just a function? [\\#3](https://github.com/w3c/webidl2.js/issues/3)\n+- Parser throws on nullable array of nullable array [\\#2](https://github.com/w3c/webidl2.js/issues/2)\n+- Parser throws on nullable array of any [\\#1](https://github.com/w3c/webidl2.js/issues/1)\n+\n+**Merged pull requests:**\n+\n+- Fix \"default\": undefined [\\#47](https://github.com/w3c/webidl2.js/pull/47) ([mkwtys](https://github.com/mkwtys))\n+- Replace expect.js with expct [\\#45](https://github.com/w3c/webidl2.js/pull/45) ([halton](https://github.com/halton))\n+- Correct jsondiffpatch location. [\\#44](https://github.com/w3c/webidl2.js/pull/44) ([halton](https://github.com/halton))\n+- Bump microtime to 2.1.1 [\\#43](https://github.com/w3c/webidl2.js/pull/43) ([halton](https://github.com/halton))\n+- Expand writer support [\\#39](https://github.com/w3c/webidl2.js/pull/39) ([markandrus](https://github.com/markandrus))\n+- Accept wider \\(but still incomplete\\) set of allowed syntax for extended attributes [\\#37](https://github.com/w3c/webidl2.js/pull/37) ([mlogan](https://github.com/mlogan))\n+- Add test for callback with multiple arguments. [\\#36](https://github.com/w3c/webidl2.js/pull/36) ([tobie](https://github.com/tobie))\n+- Iterables [\\#34](https://github.com/w3c/webidl2.js/pull/34) ([motiz88](https://github.com/motiz88))\n+- Allow trailing comma in enum value lists, per spec [\\#33](https://github.com/w3c/webidl2.js/pull/33) ([motiz88](https://github.com/motiz88))\n+- Allow typedefs within interfaces \\(behind an opt-in flag\\) [\\#32](https://github.com/w3c/webidl2.js/pull/32) ([motiz88](https://github.com/motiz88))\n+- In draft [\\#31](https://github.com/w3c/webidl2.js/pull/31) ([othree](https://github.com/othree))\n+- Add support for extended attributes identifier lists [\\#29](https://github.com/w3c/webidl2.js/pull/29) ([tobie](https://github.com/tobie))\n+- Make `attribute Promise\\<T\\>\\[\\] attr;` work. [\\#26](https://github.com/w3c/webidl2.js/pull/26) ([jyasskin](https://github.com/jyasskin))\n+- Parse required dictionary fields. [\\#25](https://github.com/w3c/webidl2.js/pull/25) ([jyasskin](https://github.com/jyasskin))\n+- Define the WebIDL2 property on self rather than window. [\\#23](https://github.com/w3c/webidl2.js/pull/23) ([Ms2ger](https://github.com/Ms2ger))\n+- Teach WebIDL2 to parse \\[\\] default values. [\\#22](https://github.com/w3c/webidl2.js/pull/22) ([jyasskin](https://github.com/jyasskin))\n+- Support ID list in extended attributes [\\#20](https://github.com/w3c/webidl2.js/pull/20) ([othree](https://github.com/othree))\n+- Make sure that `sequence` property of idl types is set to false if the type is actually `sequence`. [\\#16](https://github.com/w3c/webidl2.js/pull/16) ([tobie](https://github.com/tobie))\n+- Parametrized [\\#15](https://github.com/w3c/webidl2.js/pull/15) ([tobie](https://github.com/tobie))\n+- Add promise support [\\#12](https://github.com/w3c/webidl2.js/pull/12) ([tobie](https://github.com/tobie))\n+- Remove broken coverage support from travis for now. [\\#11](https://github.com/w3c/webidl2.js/pull/11) ([tobie](https://github.com/tobie))\n+- Add support for \\[MapClass\\(type, type\\)\\]. [\\#10](https://github.com/w3c/webidl2.js/pull/10) ([tobie](https://github.com/tobie))\n+- Incorporate tests from widlproc\\[1\\] and remove dependency on said project. [\\#9](https://github.com/w3c/webidl2.js/pull/9) ([tobie](https://github.com/tobie))\n+- README incorrectly recommended updating the widlproc submodule. [\\#8](https://github.com/w3c/webidl2.js/pull/8) ([tobie](https://github.com/tobie))\n+- Fix bug where instrumented version of webidl2 was loaded. [\\#6](https://github.com/w3c/webidl2.js/pull/6) ([tobie](https://github.com/tobie))\n+- Use https:// instead of git:// [\\#4](https://github.com/w3c/webidl2.js/pull/4) ([Manishearth](https://github.com/Manishearth))\n+\n+\n+\n+\\* *This Change Log was automatically generated by [github_changelog_generator](https://github.com/skywinder/Github-Changelog-Generator)*\n\\ No newline at end of file"
        },
        {
            "sha": "fd21d439b09a8d08d1562553e46b9c993c46c103",
            "filename": "test/fixtures/wpt/resources/webidl2/LICENSE",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FLICENSE",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FLICENSE",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FLICENSE?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,21 @@\n+The MIT License (MIT)\n+\n+Copyright (c) 2014 Robin Berjon\n+\n+Permission is hereby granted, free of charge, to any person obtaining a copy\n+of this software and associated documentation files (the \"Software\"), to deal\n+in the Software without restriction, including without limitation the rights\n+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+copies of the Software, and to permit persons to whom the Software is\n+furnished to do so, subject to the following conditions:\n+\n+The above copyright notice and this permission notice shall be included in all\n+copies or substantial portions of the Software.\n+\n+THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+SOFTWARE."
        },
        {
            "sha": "9a8f3f8e9c1dfbe897e8a6d8267cf89ec00cb20a",
            "filename": "test/fixtures/wpt/resources/webidl2/README.md",
            "status": "added",
            "additions": 629,
            "deletions": 0,
            "changes": 629,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FREADME.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FREADME.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2FREADME.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,629 @@\n+\n+# WebIDL 2\n+\n+[![NPM version](https://badge.fury.io/js/webidl2.svg)](http://badge.fury.io/js/webidl2)\n+\n+## Purpose\n+\n+This is a parser for the [WebIDL](http://dev.w3.org/2006/webapi/WebIDL/) language. If\n+you don't know what that is, then you probably don't need it. It is meant to be used\n+both in Node and in the browser (the parser likely works in other JS environments, but\n+not the test suite).\n+\n+## Installation\n+\n+Just the usual. For Node:\n+\n+```Bash\n+npm install webidl2\n+```\n+\n+In the browser:\n+\n+```HTML\n+<script src='webidl2.js'></script>\n+```\n+\n+## Documentation\n+\n+The API to WebIDL2 is trivial: you parse a string of WebIDL and it returns a syntax tree.\n+\n+### Parsing\n+\n+In Node, that happens with:\n+\n+```JS\n+var WebIDL2 = require(\"webidl2\");\n+var tree = WebIDL2.parse(\"string of WebIDL\");\n+```\n+\n+In the browser:\n+```HTML\n+<script src='webidl2.js'></script>\n+<script>\n+  var tree = WebIDL2.parse(\"string of WebIDL\");\n+</script>\n+```\n+\n+### Errors\n+\n+When there is a syntax error in the WebIDL, it throws an exception object with the following\n+properties:\n+\n+* `message`: the error message\n+* `line`: the line at which the error occurred.\n+* `input`: a short peek at the text at the point where the error happened\n+* `tokens`: the five tokens at the point of error, as understood by the tokeniser\n+  (this is the same content as `input`, but seen from the tokeniser's point of view)\n+\n+The exception also has a `toString()` method that hopefully should produce a decent\n+error message.\n+\n+### AST (Abstract Syntax Tree)\n+\n+The `parse()` method returns a tree object representing the parse tree of the IDL.\n+Comment and white space are not represented in the AST.\n+\n+The root of this object is always an array of definitions (where definitions are\n+any of interfaces, dictionaries, callbacks, etc. â anything that can occur at the root\n+of the IDL).\n+\n+### IDL Type\n+\n+This structure is used in many other places (operation return types, argument types, etc.).\n+It captures a WebIDL type with a number of options. Types look like this and are typically\n+attached to a field called `idlType`:\n+\n+```JS\n+{\n+  \"type\": \"attribute-type\",\n+  \"generic\": null,\n+  \"idlType\": \"unsigned short\",\n+  \"nullable\": false,\n+  \"union\": false,\n+  \"extAttrs\": [...]\n+}\n+```\n+\n+Where the fields are as follows:\n+\n+* `type`: String indicating where this type is used. Can be `null` if not applicable.\n+* `generic`: String indicating the generic type (e.g. \"Promise\", \"sequence\"). `null`\n+  otherwise.\n+* `idlType`: Can be different things depending on context. In most cases, this will just\n+  be a string with the type name. But the reason this field isn't called \"typeName\" is\n+  because it can take more complex values. If the type is a union, then this contains an\n+  array of the types it unites. If it is a generic type, it contains the IDL type\n+  description for the type in the sequence, the eventual value of the promise, etc.\n+* `nullable`: Boolean indicating whether this is nullable or not.\n+* `union`: Boolean indicating whether this is a union type or not.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Interface\n+\n+Interfaces look like this:\n+\n+```JS\n+{\n+  \"type\": \"interface\",\n+  \"name\": \"Animal\",\n+  \"partial\": false,\n+  \"members\": [...],\n+  \"inheritance\": null,\n+  \"extAttrs\": [...]\n+}, {\n+  \"type\": \"interface\",\n+  \"name\": \"Human\",\n+  \"partial\": false,\n+  \"members\": [...],\n+  \"inheritance\": \"Animal\",\n+  \"extAttrs\": [...]\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"interface\".\n+* `name`: The name of the interface.\n+* `partial`: A boolean indicating whether it's a partial interface.\n+* `members`: An array of interface members (attributes, operations, etc.). Empty if there are none.\n+* `inheritance`: A string giving the name of an interface this one inherits from, `null` otherwise.\n+  **NOTE**: In v1 this was an array, but multiple inheritance is no longer supported so this didn't make\n+  sense.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Interface mixins\n+\n+Interfaces mixins look like this:\n+\n+```JS\n+{\n+  \"type\": \"interface mixin\",\n+  \"name\": \"Animal\",\n+  \"partial\": false,\n+  \"members\": [...],\n+  \"extAttrs\": [...]\n+}, {\n+  \"type\": \"interface mixin\",\n+  \"name\": \"Human\",\n+  \"partial\": false,\n+  \"members\": [...],\n+  \"extAttrs\": [...]\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"interface mixin\".\n+* `name`: The name of the interface mixin.\n+* `partial`: A boolean indicating whether it's a partial interface mixin.\n+* `members`: An array of interface members (attributes, operations, etc.). Empty if there are none.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Namespace\n+\n+Namespaces look like this:\n+\n+```JS\n+{\n+  \"type\": \"namespace\",\n+  \"name\": \"Console\",\n+  \"partial\": false,\n+  \"members\": [...],\n+  \"extAttrs\": [...]\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"namespace\".\n+* `name`: The name of the namespace.\n+* `partial`: A boolean indicating whether it's a partial namespace.\n+* `members`: An array of namespace members (attributes and operations). Empty if there are none.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Callback Interfaces\n+\n+These are captured by the same structure as [Interfaces](#interface) except that\n+their `type` field is \"callback interface\".\n+\n+### Callback\n+\n+A callback looks like this:\n+\n+```JS\n+{\n+  \"type\": \"callback\",\n+  \"name\": \"AsyncOperationCallback\",\n+  \"idlType\": {\n+    \"type\": \"return-type\",\n+    \"sequence\": false,\n+    \"generic\": null,\n+    \"nullable\": false,\n+    \"union\": false,\n+    \"idlType\": \"void\",\n+    \"extAttrs\": []\n+  },\n+  \"arguments\": [...],\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"callback\".\n+* `name`: The name of the callback.\n+* `idlType`: An [IDL Type](#idl-type) describing what the callback returns.\n+* `arguments`: A list of [arguments](#arguments), as in function paramters.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Dictionary\n+\n+A dictionary looks like this:\n+\n+```JS\n+{\n+  \"type\": \"dictionary\",\n+  \"name\": \"PaintOptions\",\n+  \"partial\": false,\n+  \"members\": [{\n+    \"type\": \"field\",\n+    \"name\": \"fillPattern\",\n+    \"required\": false,\n+    \"idlType\": {\n+      \"type\": \"dictionary-type\",\n+      \"sequence\": false,\n+      \"generic\": null,\n+      \"nullable\": true,\n+      \"union\": false,\n+      \"idlType\": \"DOMString\",\n+      \"extAttrs\": [...]\n+    },\n+    \"extAttrs\": [],\n+    \"default\": {\n+      \"type\": \"string\",\n+      \"value\": \"black\"\n+    }\n+  }],\n+  \"inheritance\": null,\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"dictionary\".\n+* `name`: The dictionary name.\n+* `partial`: Boolean indicating whether it's a partial dictionary.\n+* `members`: An array of members (see below).\n+* `inheritance`: A string indicating which dictionary is being inherited from, `null` otherwise.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+All the members are fields as follows:\n+\n+* `type`: Always \"field\".\n+* `name`: The name of the field.\n+* `required`: Boolean indicating whether this is a [required](https://heycam.github.io/webidl/#required-dictionary-member) field.\n+* `idlType`: An [IDL Type](#idl-type) describing what field's type.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+* `default`: A [default value](#default-and-const-values), absent if there is none.\n+\n+### Enum\n+\n+An enum looks like this:\n+\n+```JS\n+{\n+  \"type\": \"enum\",\n+  \"name\": \"MealType\",\n+  \"values\": [\n+    { \"type\": \"string\", \"value\": \"rice\" },\n+    { \"type\": \"string\", \"value\": \"noodles\" },\n+    { \"type\": \"string\", \"value\": \"other\" }\n+  ],\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"enum\".\n+* `name`: The enum's name.\n+* `values`: An array of values.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Typedef\n+\n+A typedef looks like this:\n+\n+```JS\n+{\n+  \"type\": \"typedef\",\n+  \"idlType\": {\n+    \"type\": \"typedef-type\",\n+    \"sequence\": true,\n+    \"generic\": \"sequence\",\n+    \"nullable\": false,\n+    \"union\": false,\n+    \"idlType\": {\n+      \"type\": \"typedef-type\",\n+      \"sequence\": false,\n+      \"generic\": null,\n+      \"nullable\": false,\n+      \"union\": false,\n+      \"idlType\": \"Point\",\n+      \"extAttrs\": [...]\n+    },\n+    \"extAttrs\": [...]\n+  },\n+  \"name\": \"PointSequence\",\n+  \"extAttrs\": []\n+}\n+```\n+\n+\n+The fields are as follows:\n+\n+* `type`: Always \"typedef\".\n+* `name`: The typedef's name.\n+* `idlType`: An [IDL Type](#idl-type) describing what typedef's type.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Implements\n+\n+An implements definition looks like this:\n+\n+```JS\n+{\n+  \"type\": \"implements\",\n+  \"target\": \"Node\",\n+  \"implements\": \"EventTarget\",\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"implements\".\n+* `target`: The interface that implements another.\n+* `implements`: The interface that is being implemented by the target.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Includes\n+\n+An includes definition looks like this:\n+\n+```JS\n+{\n+  \"type\": \"includes\",\n+  \"target\": \"Node\",\n+  \"includes\": \"EventTarget\",\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"includes\".\n+* `target`: The interface that includes an interface mixin.\n+* `includes`: The interface mixin that is being included by the target.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Operation Member\n+\n+An operation looks like this:\n+```JS\n+{\n+  \"type\": \"operation\",\n+  \"getter\": false,\n+  \"setter\": false,\n+  \"deleter\": false,\n+  \"static\": false,\n+  \"stringifier\": false,\n+  \"idlType\": {\n+    \"type\": \"return-type\",\n+    \"sequence\": false,\n+    \"generic\": null,\n+    \"nullable\": false,\n+    \"union\": false,\n+    \"idlType\": \"void\",\n+    \"extAttrs\": []\n+  },\n+  \"name\": \"intersection\",\n+  \"arguments\": [{\n+    \"optional\": false,\n+    \"variadic\": true,\n+    \"extAttrs\": [],\n+    \"idlType\": {\n+      \"type\": \"argument-type\",\n+      \"sequence\": false,\n+      \"generic\": null,\n+      \"nullable\": false,\n+      \"union\": false,\n+      \"idlType\": \"long\",\n+      \"extAttrs\": [...]\n+    },\n+    \"name\": \"ints\"\n+  }],\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"operation\".\n+* `getter`: True if a getter operation.\n+* `setter`: True if a setter operation.\n+* `deleter`: True if a deleter operation.\n+* `static`: True if a static operation.\n+* `stringifier`: True if a stringifier operation.\n+* `idlType`: An [IDL Type](#idl-type) of what the operation returns. If a stringifier, may be absent.\n+* `name`: The name of the operation. If a stringifier, may be `null`.\n+* `arguments`: An array of [arguments](#arguments) for the operation.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Attribute Member\n+\n+An attribute member looks like this:\n+\n+```JS\n+{\n+  \"type\": \"attribute\",\n+  \"static\": false,\n+  \"stringifier\": false,\n+  \"inherit\": false,\n+  \"readonly\": false,\n+  \"idlType\": {\n+    \"type\": \"attribute-type\",\n+    \"sequence\": false,\n+    \"generic\": null,\n+    \"nullable\": false,\n+    \"union\": false,\n+    \"idlType\": \"RegExp\",\n+    \"extAttrs\": [...]\n+  },\n+  \"name\": \"regexp\",\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"attribute\".\n+* `name`: The attribute's name.\n+* `static`: True if it's a static attribute.\n+* `stringifier`: True if it's a stringifier attribute.\n+* `inherit`: True if it's an inherit attribute.\n+* `readonly`: True if it's a read-only attribute.\n+* `idlType`: An [IDL Type](#idl-type) for the attribute.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Constant Member\n+\n+A constant member looks like this:\n+\n+```JS\n+{\n+  \"type\": \"const\",\n+  \"nullable\": false,\n+  \"idlType\": {\n+    \"type\": \"const-type\",\n+    \"sequence\": false,\n+    \"generic\": null,\n+    \"nullable\": false,\n+    \"union\": false,\n+    \"idlType\": \"boolean\"\n+    \"extAttrs\": []\n+  },\n+  \"name\": \"DEBUG\",\n+  \"value\": {\n+    \"type\": \"boolean\",\n+    \"value\": false\n+  },\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always \"const\".\n+* `nullable`: Whether its type is nullable.\n+* `idlType`: An [IDL Type](#idl-type) of the constant that represents a simple type, the type name.\n+* `name`: The name of the constant.\n+* `value`: The constant value as described by [Const Values](#default-and-const-values)\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Arguments\n+\n+The arguments (e.g. for an operation) look like this:\n+\n+```JS\n+{\n+  \"arguments\": [{\n+    \"optional\": false,\n+    \"variadic\": true,\n+    \"extAttrs\": [],\n+    \"idlType\": {\n+      \"type\": \"argument-type\",\n+      \"sequence\": false,\n+      \"generic\": null,\n+      \"nullable\": false,\n+      \"union\": false,\n+      \"idlType\": \"long\",\n+      \"extAttrs\": [...]\n+    },\n+    \"name\": \"ints\"\n+  }]\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `optional`: True if the argument is optional.\n+* `variadic`: True if the argument is variadic.\n+* `idlType`: An [IDL Type](#idl-type) describing the type of the argument.\n+* `name`: The argument's name.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+### Extended Attributes\n+\n+Extended attributes are arrays of items that look like this:\n+\n+```JS\n+{\n+  \"extAttrs\": [{\n+    \"name\": \"TreatNullAs\",\n+    \"arguments\": null,\n+    \"type\": \"extended-attribute\",\n+    \"rhs\": {\n+      \"type\": \"identifier\",\n+      \"value\": \"EmptyString\"\n+    }\n+  }]\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `name`: The extended attribute's name.\n+* `arguments`: If the extended attribute takes arguments (e.g. `[Foo()]`) or if\n+  its right-hand side does (e.g. `[NamedConstructor=Name(DOMString blah)]`) they\n+  are listed here. Note that an empty arguments list will produce an empty array,\n+  whereas the lack thereof will yield a `null`. If there is an `rhs` field then\n+  they are the right-hand side's arguments, otherwise they apply to the extended\n+  attribute directly.\n+* `type`: Always `\"extended-attribute\"`.\n+* `rhs`: If there is a right-hand side, this will capture its `type` (which can be\n+  \"identifier\" or \"identifier-list\") and its `value`.\n+\n+### Default and Const Values\n+\n+Dictionary fields and operation arguments can take default values, and constants take\n+values, all of which have the following fields:\n+\n+* `type`: One of string, number, boolean, null, Infinity, NaN, or sequence.\n+\n+For string, number, boolean, and sequence:\n+\n+* `value`: The value of the given type, as a string. For sequence, the only possible value is `[]`.\n+\n+For Infinity:\n+\n+* `negative`: Boolean indicating whether this is negative Infinity or not.\n+\n+### `iterable<>`, `legacyiterable<>`, `maplike<>`, `setlike<>` declarations\n+\n+These appear as members of interfaces that look like this:\n+\n+```JS\n+{\n+  \"type\": \"maplike\", // or \"legacyiterable\" / \"iterable\" / \"setlike\"\n+  \"idlType\": /* One or two types */ ,\n+  \"readonly\": false, // only for maplike and setlike\n+  \"extAttrs\": []\n+}\n+```\n+\n+The fields are as follows:\n+\n+* `type`: Always one of \"iterable\", \"legacyiterable\", \"maplike\" or \"setlike\".\n+* `idlType`: An array with one or more [IDL Types](#idl-type) representing the declared type arguments.\n+* `readonly`: Whether the maplike or setlike is declared as read only.\n+* `extAttrs`: A list of [extended attributes](#extended-attributes).\n+\n+\n+## Testing\n+\n+### Running\n+\n+The test runs with mocha and expect.js. Normally, running mocha in the root directory\n+should be enough once you're set up.\n+\n+### Coverage\n+\n+Current test coverage, as documented in `coverage.html`, is 95%. You can run your own\n+coverage analysis with:\n+\n+```Bash\n+jscoverage lib lib-cov\n+```\n+\n+That will create the lib-cov directory with instrumented code; the test suite knows\n+to use that if needed. You can then run the tests with:\n+\n+```Bash\n+JSCOV=1 mocha --reporter html-cov > coverage.html\n+```\n+\n+Note that I've been getting weirdly overescaped results from the html-cov reporter,\n+so you might wish to try this instead:\n+\n+```Bash\n+JSCOV=1 mocha  --reporter html-cov | sed \"s/&lt;/</g\" | sed \"s/&gt;/>/g\" | sed \"s/&quot;/\\\"/g\" > coverage.html\n+```\n+### Browser tests\n+\n+In order to test in the browser, get inside `test/web` and run `make-web-tests.js`. This\n+will generate a `browser-tests.html` file that you can open in a browser. As of this\n+writing tests pass in the latest Firefox, Chrome, Opera, and Safari. Testing on IE\n+and older versions will happen progressively."
        },
        {
            "sha": "9897d8572f22a0e66ba6c4704606d94fb66bba59",
            "filename": "test/fixtures/wpt/resources/webidl2/checker/index.html",
            "status": "added",
            "additions": 55,
            "deletions": 0,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fchecker%2Findex.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fchecker%2Findex.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fchecker%2Findex.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,55 @@\n+<!DOCTYPE html>\n+<html>\n+<head>\n+<title>WebIDL 2 Checker</title>\n+\n+<script src='../lib/webidl2.js'></script>\n+<script>\n+let parserResult = undefined;\n+\n+function formatParserOutput() {\n+  const outputEl = document.getElementById('webidl-checker-output');\n+  if (parserResult) {\n+    const prettyPrintEl = document.getElementById('pretty-print');\n+    outputEl.innerText = JSON.stringify(parserResult, null, prettyPrintEl.checked ? 2 : null);\n+  } else {\n+    outputEl.innerText = '';\n+  }\n+}\n+\n+function checkWebIDL(textToCheck) {\n+  const validation = document.getElementById('webidl-checker-validation');\n+  parserResult = null;\n+  try {\n+    parserResult = WebIDL2.parse(textToCheck);\n+    validation.innerText = 'WebIDL parsed successfully!';\n+  } catch (e) {\n+    validation.innerText = 'Exception while parsing WebIDL. See JavaScript console for more details.\\n\\n' + e.toString();\n+    // Pass it along to the JavaScript console.\n+    throw e;\n+  } finally {\n+    formatParserOutput();\n+  }\n+}\n+</script>\n+<style>\n+textarea {\n+  font-family: monospace;\n+}\n+</style>\n+</head>\n+<body>\n+<h2>WebIDL Checker</h2>\n+<p>This is an online checker for WebIDL built on the <a href=\"https://github.com/w3c/webidl2.js\">webidl2.js</a> project.</p>\n+<p>Enter your WebIDL to check below:</p>\n+<textarea id='webidl-to-check' rows='20' cols='80'></textarea>\n+<br>\n+<input type='button' value='Check WebIDL' onclick='checkWebIDL(document.getElementById(\"webidl-to-check\").value)'>\n+<p>Validation results:</p>\n+<textarea id='webidl-checker-validation' rows='20' cols='80'></textarea>\n+<p>Parser output:</p>\n+<textarea id='webidl-checker-output' rows='20' cols='80'></textarea>\n+<br>\n+<input type='checkbox' id='pretty-print' checked='true' onchange='formatParserOutput()'>Pretty Print\n+</body>\n+</html>"
        },
        {
            "sha": "46e7ed324ec2c832efc2b9af80fa7c9082f68645",
            "filename": "test/fixtures/wpt/resources/webidl2/coverage.html",
            "status": "added",
            "additions": 341,
            "deletions": 0,
            "changes": 341,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fcoverage.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fcoverage.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fcoverage.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611"
        },
        {
            "sha": "09f9eb46aa78f48692ee3d976dad3a7bb174b148",
            "filename": "test/fixtures/wpt/resources/webidl2/index.js",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Findex.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1 @@\n+module.exports = require(\"./lib/webidl2.js\");"
        },
        {
            "sha": "ef519c09df6d6da812fcbba57c7ca0f475af1ed5",
            "filename": "test/fixtures/wpt/resources/webidl2/lib/webidl2.js",
            "status": "added",
            "additions": 970,
            "deletions": 0,
            "changes": 970,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,970 @@\n+\"use strict\";\n+\n+(() => {\n+  // These regular expressions use the sticky flag so they will only match at\n+  // the current location (ie. the offset of lastIndex).\n+  const tokenRe = {\n+    // This expression uses a lookahead assertion to catch false matches\n+    // against integers early.\n+    \"float\": /-?(?=[0-9]*\\.|[0-9]+[eE])(([0-9]+\\.[0-9]*|[0-9]*\\.[0-9]+)([Ee][-+]?[0-9]+)?|[0-9]+[Ee][-+]?[0-9]+)/y,\n+    \"integer\": /-?(0([Xx][0-9A-Fa-f]+|[0-7]*)|[1-9][0-9]*)/y,\n+    \"identifier\": /_?[A-Za-z][0-9A-Z_a-z-]*/y,\n+    \"string\": /\"[^\"]*\"/y,\n+    \"whitespace\": /[\\t\\n\\r ]+/y,\n+    \"comment\": /((\\/(\\/.*|\\*([^*]|\\*[^\\/])*\\*\\/)[\\t\\n\\r ]*)+)/y,\n+    \"other\": /[^\\t\\n\\r 0-9A-Za-z]/y\n+  };\n+\n+  const stringTypes = [\n+    \"ByteString\",\n+    \"DOMString\",\n+    \"USVString\"\n+  ];\n+\n+  const argumentNameKeywords = [\n+    \"attribute\",\n+    \"callback\",\n+    \"const\",\n+    \"deleter\",\n+    \"dictionary\",\n+    \"enum\",\n+    \"getter\",\n+    \"includes\",\n+    \"inherit\",\n+    \"interface\",\n+    \"iterable\",\n+    \"maplike\",\n+    \"namespace\",\n+    \"partial\",\n+    \"required\",\n+    \"setlike\",\n+    \"setter\",\n+    \"static\",\n+    \"stringifier\",\n+    \"typedef\",\n+    \"unrestricted\"\n+  ];\n+\n+  const nonRegexTerminals = [\n+    \"FrozenArray\",\n+    \"Infinity\",\n+    \"NaN\",\n+    \"Promise\",\n+    \"boolean\",\n+    \"byte\",\n+    \"double\",\n+    \"false\",\n+    \"float\",\n+    \"implements\",\n+    \"legacyiterable\",\n+    \"long\",\n+    \"mixin\",\n+    \"null\",\n+    \"octet\",\n+    \"optional\",\n+    \"or\",\n+    \"readonly\",\n+    \"record\",\n+    \"sequence\",\n+    \"short\",\n+    \"true\",\n+    \"unsigned\",\n+    \"void\"\n+  ].concat(argumentNameKeywords, stringTypes);\n+\n+  const punctuations = [\n+    \"(\",\n+    \")\",\n+    \",\",\n+    \"-Infinity\",\n+    \"...\",\n+    \":\",\n+    \";\",\n+    \"<\",\n+    \"=\",\n+    \">\",\n+    \"?\",\n+    \"[\",\n+    \"]\",\n+    \"{\",\n+    \"}\"\n+  ];\n+\n+  function tokenise(str) {\n+    const tokens = [];\n+    let lastIndex = 0;\n+    let trivia = \"\";\n+    while (lastIndex < str.length) {\n+      const nextChar = str.charAt(lastIndex);\n+      let result = -1;\n+\n+      if (/[\\t\\n\\r ]/.test(nextChar)) {\n+        result = attemptTokenMatch(\"whitespace\", { noFlushTrivia: true });\n+      } else if (nextChar === '/') {\n+        result = attemptTokenMatch(\"comment\", { noFlushTrivia: true });\n+      }\n+\n+      if (result !== -1) {\n+        trivia += tokens.pop().value;\n+      } else if (/[-0-9.]/.test(nextChar)) {\n+        result = attemptTokenMatch(\"float\");\n+        if (result === -1) {\n+          result = attemptTokenMatch(\"integer\");\n+        }\n+      } else if (/[A-Z_a-z]/.test(nextChar)) {\n+        result = attemptTokenMatch(\"identifier\");\n+        const token = tokens[tokens.length - 1];\n+        if (result !== -1 && nonRegexTerminals.includes(token.value)) {\n+          token.type = token.value;\n+        }\n+      } else if (nextChar === '\"') {\n+        result = attemptTokenMatch(\"string\");\n+      }\n+\n+      for (const punctuation of punctuations) {\n+        if (str.startsWith(punctuation, lastIndex)) {\n+          tokens.push({ type: punctuation, value: punctuation, trivia });\n+          trivia = \"\";\n+          lastIndex += punctuation.length;\n+          result = lastIndex;\n+          break;\n+        }\n+      }\n+\n+      // other as the last try\n+      if (result === -1) {\n+        result = attemptTokenMatch(\"other\");\n+      }\n+      if (result === -1) {\n+        throw new Error(\"Token stream not progressing\");\n+      }\n+      lastIndex = result;\n+    }\n+    return tokens;\n+\n+    function attemptTokenMatch(type, { noFlushTrivia } = {}) {\n+      const re = tokenRe[type];\n+      re.lastIndex = lastIndex;\n+      const result = re.exec(str);\n+      if (result) {\n+        tokens.push({ type, value: result[0], trivia });\n+        if (!noFlushTrivia) {\n+          trivia = \"\";\n+        }\n+        return re.lastIndex;\n+      }\n+      return -1;\n+    }\n+  }\n+\n+  class WebIDLParseError {\n+    constructor(str, line, input, tokens) {\n+      this.message = str;\n+      this.line = line;\n+      this.input = input;\n+      this.tokens = tokens;\n+    }\n+\n+    toString() {\n+      const escapedInput = JSON.stringify(this.input);\n+      const tokens = JSON.stringify(this.tokens, null, 4);\n+      return `${this.message}, line ${this.line} (tokens: ${escapedInput})\\n${tokens}`;\n+    }\n+  }\n+\n+  function parse(tokens) {\n+    let line = 1;\n+    tokens = tokens.slice();\n+    const names = new Map();\n+    let current = null;\n+\n+    const FLOAT = \"float\";\n+    const INT = \"integer\";\n+    const ID = \"identifier\";\n+    const STR = \"string\";\n+    const OTHER = \"other\";\n+\n+    const EMPTY_OPERATION = Object.freeze({\n+      type: \"operation\",\n+      getter: false,\n+      setter: false,\n+      deleter: false,\n+      static: false,\n+      stringifier: false\n+    });\n+\n+    const EMPTY_IDLTYPE = Object.freeze({\n+      generic: null,\n+      nullable: false,\n+      union: false,\n+      idlType: null,\n+      extAttrs: []\n+    });\n+\n+    function error(str) {\n+      const maxTokens = 5;\n+      const tok = tokens\n+        .slice(consume_position, consume_position + maxTokens)\n+        .map(t => t.trivia + t.value).join(\"\");\n+      // Count newlines preceding the actual erroneous token\n+      if (tokens.length) {\n+        line += count(tokens[consume_position].trivia, \"\\n\");\n+      }\n+\n+      let message;\n+      if (current) {\n+        message = `Got an error during or right after parsing \\`${current.partial ? \"partial \" : \"\"}${current.type} ${current.name}\\`: ${str}`\n+      }\n+      else {\n+        // throwing before any valid definition\n+        message = `Got an error before parsing any named definition: ${str}`;\n+      }\n+\n+      throw new WebIDLParseError(message, line, tok, tokens.slice(0, maxTokens));\n+    }\n+\n+    function sanitize_name(name, type) {\n+      if (names.has(name)) {\n+        error(`The name \"${name}\" of type \"${names.get(name)}\" is already seen`);\n+      }\n+      names.set(name, type);\n+      return name;\n+    }\n+\n+    let consume_position = 0;\n+\n+    function probe(type) {\n+      return tokens.length > consume_position && tokens[consume_position].type === type;\n+    }\n+\n+    function consume(...candidates) {\n+      // TODO: use const when Servo updates its JS engine\n+      for (let type of candidates) {\n+        if (!probe(type)) continue;\n+        const token = tokens[consume_position];\n+        consume_position++;\n+        line += count(token.trivia, \"\\n\");\n+        return token;\n+      }\n+    }\n+\n+    function unescape(identifier) {\n+      return identifier.startsWith('_') ? identifier.slice(1) : identifier;\n+    }\n+\n+    function unconsume(position) {\n+      while (consume_position > position) {\n+        consume_position--;\n+        line -= count(tokens[consume_position].trivia, \"\\n\");\n+      }\n+    }\n+\n+    function count(str, char) {\n+      let total = 0;\n+      for (let i = str.indexOf(char); i !== -1; i = str.indexOf(char, i + 1)) {\n+        ++total;\n+      }\n+      return total;\n+    }\n+\n+    function integer_type() {\n+      let ret = \"\";\n+      if (consume(\"unsigned\")) ret = \"unsigned \";\n+      if (consume(\"short\")) return ret + \"short\";\n+      if (consume(\"long\")) {\n+        ret += \"long\";\n+        if (consume(\"long\")) return ret + \" long\";\n+        return ret;\n+      }\n+      if (ret) error(\"Failed to parse integer type\");\n+    }\n+\n+    function float_type() {\n+      let ret = \"\";\n+      if (consume(\"unrestricted\")) ret = \"unrestricted \";\n+      if (consume(\"float\")) return ret + \"float\";\n+      if (consume(\"double\")) return ret + \"double\";\n+      if (ret) error(\"Failed to parse float type\");\n+    }\n+\n+    function primitive_type() {\n+      const num_type = integer_type() || float_type();\n+      if (num_type) return num_type;\n+      if (consume(\"boolean\")) return \"boolean\";\n+      if (consume(\"byte\")) return \"byte\";\n+      if (consume(\"octet\")) return \"octet\";\n+    }\n+\n+    function const_value() {\n+      if (consume(\"true\")) return { type: \"boolean\", value: true };\n+      if (consume(\"false\")) return { type: \"boolean\", value: false };\n+      if (consume(\"null\")) return { type: \"null\" };\n+      if (consume(\"Infinity\")) return { type: \"Infinity\", negative: false };\n+      if (consume(\"-Infinity\")) return { type: \"Infinity\", negative: true };\n+      if (consume(\"NaN\")) return { type: \"NaN\" };\n+      const ret = consume(FLOAT, INT);\n+      if (ret) return { type: \"number\", value: ret.value };\n+    }\n+\n+    function type_suffix(obj) {\n+      obj.nullable = !!consume(\"?\");\n+      if (probe(\"?\")) error(\"Can't nullable more than once\");\n+    }\n+\n+    function generic_type(typeName) {\n+      const name = consume(\"FrozenArray\", \"Promise\", \"sequence\", \"record\");\n+      if (!name) {\n+        return;\n+      }\n+      const ret = { generic: name.type };\n+      consume(\"<\") || error(`No opening bracket after ${name.type}`);\n+      switch (name.type) {\n+        case \"Promise\":\n+          if (probe(\"[\")) error(\"Promise type cannot have extended attribute\");\n+          ret.idlType = return_type(typeName);\n+          break;\n+        case \"sequence\":\n+        case \"FrozenArray\":\n+          ret.idlType = type_with_extended_attributes(typeName);\n+          break;\n+        case \"record\":\n+          if (probe(\"[\")) error(\"Record key cannot have extended attribute\");\n+          ret.idlType = [];\n+          const keyType = consume(...stringTypes);\n+          if (!keyType) error(`Record key must be a string type`);\n+          ret.idlType.push(Object.assign({ type: typeName }, EMPTY_IDLTYPE, { idlType: keyType.value }));\n+          consume(\",\") || error(\"Missing comma after record key type\");\n+          const valueType = type_with_extended_attributes(typeName) || error(\"Error parsing generic type record\");\n+          ret.idlType.push(valueType);\n+          break;\n+      }\n+      if (!ret.idlType) error(`Error parsing generic type ${name.type}`);\n+      consume(\">\") || error(`Missing closing bracket after ${name.type}`);\n+      if (name.type === \"Promise\" && probe(\"?\")) {\n+        error(\"Promise type cannot be nullable\");\n+      }\n+      type_suffix(ret);\n+      return ret;\n+    }\n+\n+    function single_type(typeName) {\n+      const ret = Object.assign({ type: typeName || null }, EMPTY_IDLTYPE);\n+      const generic = generic_type(typeName);\n+      if (generic) {\n+        return Object.assign(ret, generic);\n+      }\n+      const prim = primitive_type();\n+      let name;\n+      if (prim) {\n+        ret.idlType = prim;\n+      } else if (name = consume(ID, ...stringTypes)) {\n+        ret.idlType = name.value;\n+        if (probe(\"<\")) error(`Unsupported generic type ${name.value}`);\n+      } else {\n+        return;\n+      }\n+      type_suffix(ret);\n+      if (ret.nullable && ret.idlType === \"any\") error(\"Type any cannot be made nullable\");\n+      return ret;\n+    }\n+\n+    function union_type(typeName) {\n+      if (!consume(\"(\")) return;\n+      const ret = Object.assign({ type: typeName || null }, EMPTY_IDLTYPE, { union: true, idlType: [] });\n+      do {\n+        const typ = type_with_extended_attributes() || error(\"No type after open parenthesis or 'or' in union type\");\n+        ret.idlType.push(typ);\n+      } while (consume(\"or\"));\n+      if (ret.idlType.length < 2) {\n+        error(\"At least two types are expected in a union type but found less\");\n+      }\n+      if (!consume(\")\")) error(\"Unterminated union type\");\n+      type_suffix(ret);\n+      return ret;\n+    }\n+\n+    function type(typeName) {\n+      return single_type(typeName) || union_type(typeName);\n+    }\n+\n+    function type_with_extended_attributes(typeName) {\n+      const extAttrs = extended_attrs();\n+      const ret = single_type(typeName) || union_type(typeName);\n+      if (extAttrs.length && ret) ret.extAttrs = extAttrs;\n+      return ret;\n+    }\n+\n+    function argument() {\n+      const start_position = consume_position;\n+      const ret = { optional: false, variadic: false, default: null };\n+      ret.extAttrs = extended_attrs();\n+      const opt_token = consume(\"optional\");\n+      if (opt_token) {\n+        ret.optional = true;\n+      }\n+      ret.idlType = type_with_extended_attributes(\"argument-type\");\n+      if (!ret.idlType) {\n+        unconsume(start_position);\n+        return;\n+      }\n+      if (!ret.optional && consume(\"...\")) {\n+        ret.variadic = true;\n+      }\n+      const name = consume(ID, ...argumentNameKeywords);\n+      if (!name) {\n+        unconsume(start_position);\n+        return;\n+      }\n+      ret.name = unescape(name.value);\n+      ret.escapedName = name.value;\n+      if (ret.optional) {\n+        ret.default = default_() || null;\n+      }\n+      return ret;\n+    }\n+\n+    function argument_list() {\n+      const ret = [];\n+      const arg = argument();\n+      if (!arg) return ret;\n+      ret.push(arg);\n+      while (true) {\n+        if (!consume(\",\")) return ret;\n+        const nxt = argument() || error(\"Trailing comma in arguments list\");\n+        ret.push(nxt);\n+      }\n+    }\n+\n+    function simple_extended_attr() {\n+      const name = consume(ID);\n+      if (!name) return;\n+      const ret = {\n+        name: name.value,\n+        arguments: null,\n+        type: \"extended-attribute\",\n+        rhs: null\n+      };\n+      const eq = consume(\"=\");\n+      if (eq) {\n+        ret.rhs = consume(ID, FLOAT, INT, STR);\n+        if (ret.rhs) {\n+          // No trivia exposure yet\n+          ret.rhs.trivia = undefined;\n+        }\n+      }\n+      if (consume(\"(\")) {\n+        if (eq && !ret.rhs) {\n+          // [Exposed=(Window,Worker)]\n+          ret.rhs = {\n+            type: \"identifier-list\",\n+            value: identifiers()\n+          };\n+        }\n+        else {\n+          // [NamedConstructor=Audio(DOMString src)] or [Constructor(DOMString str)]\n+          ret.arguments = argument_list();\n+        }\n+        consume(\")\") || error(\"Unexpected token in extended attribute argument list\");\n+      }\n+      if (eq && !ret.rhs) error(\"No right hand side to extended attribute assignment\");\n+      return ret;\n+    }\n+\n+    // Note: we parse something simpler than the official syntax. It's all that ever\n+    // seems to be used\n+    function extended_attrs() {\n+      const eas = [];\n+      if (!consume(\"[\")) return eas;\n+      eas[0] = simple_extended_attr() || error(\"Extended attribute with not content\");\n+      while (consume(\",\")) {\n+        eas.push(simple_extended_attr() || error(\"Trailing comma in extended attribute\"));\n+      }\n+      consume(\"]\") || error(\"No end of extended attribute\");\n+      return eas;\n+    }\n+\n+    function default_() {\n+      if (consume(\"=\")) {\n+        const def = const_value();\n+        if (def) {\n+          return def;\n+        } else if (consume(\"[\")) {\n+          if (!consume(\"]\")) error(\"Default sequence value must be empty\");\n+          return { type: \"sequence\", value: [] };\n+        } else {\n+          const str = consume(STR) || error(\"No value for default\");\n+          str.value = str.value.slice(1, -1);\n+          // No trivia exposure yet\n+          str.trivia = undefined;\n+          return str;\n+        }\n+      }\n+    }\n+\n+    function const_() {\n+      if (!consume(\"const\")) return;\n+      const ret = { type: \"const\", nullable: false };\n+      let typ = primitive_type();\n+      if (!typ) {\n+        typ = consume(ID) || error(\"No type for const\");\n+        typ = typ.value;\n+      }\n+      ret.idlType = Object.assign({ type: \"const-type\" }, EMPTY_IDLTYPE, { idlType: typ });\n+      type_suffix(ret);\n+      const name = consume(ID) || error(\"No name for const\");\n+      ret.name = name.value;\n+      consume(\"=\") || error(\"No value assignment for const\");\n+      const cnt = const_value();\n+      if (cnt) ret.value = cnt;\n+      else error(\"No value for const\");\n+      consume(\";\") || error(\"Unterminated const\");\n+      return ret;\n+    }\n+\n+    function inheritance() {\n+      if (consume(\":\")) {\n+        const inh = consume(ID) || error(\"No type in inheritance\");\n+        return inh.value;\n+      }\n+    }\n+\n+    function operation_rest(ret) {\n+      if (!ret) ret = {};\n+      const name = consume(ID);\n+      ret.name = name ? unescape(name.value) : null;\n+      ret.escapedName = name ? name.value : null;\n+      consume(\"(\") || error(\"Invalid operation\");\n+      ret.arguments = argument_list();\n+      consume(\")\") || error(\"Unterminated operation\");\n+      consume(\";\") || error(\"Unterminated operation\");\n+      return ret;\n+    }\n+\n+    function callback() {\n+      let ret;\n+      if (!consume(\"callback\")) return;\n+      const tok = consume(\"interface\");\n+      if (tok) {\n+        ret = interface_rest(false, \"callback interface\");\n+        return ret;\n+      }\n+      const name = consume(ID) || error(\"No name for callback\");\n+      ret = current = { type: \"callback\", name: sanitize_name(name.value, \"callback\") };\n+      consume(\"=\") || error(\"No assignment in callback\");\n+      ret.idlType = return_type() || error(\"Missing return type\");\n+      consume(\"(\") || error(\"No arguments in callback\");\n+      ret.arguments = argument_list();\n+      consume(\")\") || error(\"Unterminated callback\");\n+      consume(\";\") || error(\"Unterminated callback\");\n+      return ret;\n+    }\n+\n+    function attribute({ noInherit = false, readonly = false } = {}) {\n+      const start_position = consume_position;\n+      const ret = {\n+        type: \"attribute\",\n+        static: false,\n+        stringifier: false,\n+        inherit: false,\n+        readonly: false\n+      };\n+      if (!noInherit && consume(\"inherit\")) {\n+        ret.inherit = true;\n+      }\n+      if (consume(\"readonly\")) {\n+        ret.readonly = true;\n+      } else if (readonly && probe(\"attribute\")) {\n+        error(\"Attributes must be readonly in this context\");\n+      }\n+      const rest = attribute_rest(ret);\n+      if (!rest) {\n+        unconsume(start_position);\n+      }\n+      return rest;\n+    }\n+\n+    function attribute_rest(ret) {\n+      if (!consume(\"attribute\")) {\n+        return;\n+      }\n+      ret.idlType = type_with_extended_attributes(\"attribute-type\") || error(\"No type in attribute\");\n+      if (ret.idlType.generic === \"sequence\") error(\"Attributes cannot accept sequence types\");\n+      if (ret.idlType.generic === \"record\") error(\"Attributes cannot accept record types\");\n+      const name = consume(ID, \"required\") || error(\"No name in attribute\");\n+      ret.name = unescape(name.value);\n+      ret.escapedName = name.value;\n+      consume(\";\") || error(\"Unterminated attribute\");\n+      return ret;\n+    }\n+\n+    function return_type(typeName) {\n+      const typ = type(typeName || \"return-type\");\n+      if (typ) {\n+        return typ;\n+      }\n+      if (consume(\"void\")) {\n+        return Object.assign({ type: \"return-type\" }, EMPTY_IDLTYPE, { idlType: \"void\" });\n+      }\n+    }\n+\n+    function operation({ regular = false } = {}) {\n+      const ret = Object.assign({}, EMPTY_OPERATION);\n+      while (!regular) {\n+        if (consume(\"getter\")) ret.getter = true;\n+        else if (consume(\"setter\")) ret.setter = true;\n+        else if (consume(\"deleter\")) ret.deleter = true;\n+        else break;\n+      }\n+      ret.idlType = return_type() || error(\"Missing return type\");\n+      operation_rest(ret);\n+      return ret;\n+    }\n+\n+    function static_member() {\n+      if (!consume(\"static\")) return;\n+      const member = attribute({ noInherit: true }) ||\n+        operation({ regular: true }) ||\n+        error(\"No body in static member\");\n+      member.static = true;\n+      return member;\n+    }\n+\n+    function stringifier() {\n+      if (!consume(\"stringifier\")) return;\n+      if (consume(\";\")) {\n+        return Object.assign({}, EMPTY_OPERATION, { stringifier: true });\n+      }\n+      const member = attribute({ noInherit: true }) ||\n+        operation({ regular: true }) ||\n+        error(\"Unterminated stringifier\");\n+      member.stringifier = true;\n+      return member;\n+    }\n+\n+    function identifiers() {\n+      const arr = [];\n+      const id = consume(ID);\n+      if (id) {\n+        arr.push(id.value);\n+      }\n+      else error(\"Expected identifiers but not found\");\n+      while (true) {\n+        if (consume(\",\")) {\n+          const name = consume(ID) || error(\"Trailing comma in identifiers list\");\n+          arr.push(name.value);\n+        } else break;\n+      }\n+      return arr;\n+    }\n+\n+    function iterable_type() {\n+      if (consume(\"iterable\")) return \"iterable\";\n+      else if (consume(\"legacyiterable\")) return \"legacyiterable\";\n+      else if (consume(\"maplike\")) return \"maplike\";\n+      else if (consume(\"setlike\")) return \"setlike\";\n+      else return;\n+    }\n+\n+    function readonly_iterable_type() {\n+      if (consume(\"maplike\")) return \"maplike\";\n+      else if (consume(\"setlike\")) return \"setlike\";\n+      else return;\n+    }\n+\n+    function iterable() {\n+      const start_position = consume_position;\n+      const ret = { type: null, idlType: null, readonly: false };\n+      if (consume(\"readonly\")) {\n+        ret.readonly = true;\n+      }\n+      const consumeItType = ret.readonly ? readonly_iterable_type : iterable_type;\n+\n+      const ittype = consumeItType();\n+      if (!ittype) {\n+        unconsume(start_position);\n+        return;\n+      }\n+\n+      const secondTypeRequired = ittype === \"maplike\";\n+      const secondTypeAllowed = secondTypeRequired || ittype === \"iterable\";\n+      ret.type = ittype;\n+      if (ret.type !== 'maplike' && ret.type !== 'setlike')\n+        delete ret.readonly;\n+      if (consume(\"<\")) {\n+        ret.idlType = [type_with_extended_attributes()] || error(`Error parsing ${ittype} declaration`);\n+        if (secondTypeAllowed) {\n+          if (consume(\",\")) {\n+            ret.idlType.push(type_with_extended_attributes());\n+          }\n+          else if (secondTypeRequired)\n+            error(`Missing second type argument in ${ittype} declaration`);\n+        }\n+        if (!consume(\">\")) error(`Unterminated ${ittype} declaration`);\n+        if (!consume(\";\")) error(`Missing semicolon after ${ittype} declaration`);\n+      } else\n+        error(`Error parsing ${ittype} declaration`);\n+\n+      return ret;\n+    }\n+\n+    function interface_rest(isPartial, typeName = \"interface\") {\n+      const name = consume(ID) || error(\"No name for interface\");\n+      const mems = [];\n+      const ret = current = {\n+        type: typeName,\n+        name: isPartial ? name.value : sanitize_name(name.value, \"interface\"),\n+        partial: isPartial,\n+        members: mems\n+      };\n+      if (!isPartial) ret.inheritance = inheritance() || null;\n+      consume(\"{\") || error(\"Bodyless interface\");\n+      while (true) {\n+        if (consume(\"}\")) {\n+          consume(\";\") || error(\"Missing semicolon after interface\");\n+          return ret;\n+        }\n+        const ea = extended_attrs();\n+        const mem = const_() ||\n+          static_member() ||\n+          stringifier() ||\n+          iterable() ||\n+          attribute() ||\n+          operation() ||\n+          error(\"Unknown member\");\n+        mem.extAttrs = ea;\n+        ret.members.push(mem);\n+      }\n+    }\n+\n+    function mixin_rest(isPartial) {\n+      if (!consume(\"mixin\")) return;\n+      const name = consume(ID) || error(\"No name for interface mixin\");\n+      const mems = [];\n+      const ret = current = {\n+        type: \"interface mixin\",\n+        name: isPartial ? name.value : sanitize_name(name.value, \"interface mixin\"),\n+        partial: isPartial,\n+        members: mems\n+      };\n+      consume(\"{\") || error(\"Bodyless interface mixin\");\n+      while (true) {\n+        if (consume(\"}\")) {\n+          consume(\";\") || error(\"Missing semicolon after interface mixin\");\n+          return ret;\n+        }\n+        const ea = extended_attrs();\n+        const mem = const_() ||\n+          stringifier() ||\n+          attribute({ noInherit: true }) ||\n+          operation({ regular: true }) ||\n+          error(\"Unknown member\");\n+        mem.extAttrs = ea;\n+        ret.members.push(mem);\n+      }\n+    }\n+\n+    function interface_(isPartial) {\n+      if (!consume(\"interface\")) return;\n+      return mixin_rest(isPartial) ||\n+        interface_rest(isPartial) ||\n+        error(\"Interface has no proper body\");\n+    }\n+\n+    function namespace(isPartial) {\n+      if (!consume(\"namespace\")) return;\n+      const name = consume(ID) || error(\"No name for namespace\");\n+      const mems = [];\n+      const ret = current = {\n+        type: \"namespace\",\n+        name: isPartial ? name.value : sanitize_name(name.value, \"namespace\"),\n+        partial: isPartial,\n+        members: mems\n+      };\n+      consume(\"{\") || error(\"Bodyless namespace\");\n+      while (true) {\n+        if (consume(\"}\")) {\n+          consume(\";\") || error(\"Missing semicolon after namespace\");\n+          return ret;\n+        }\n+        const ea = extended_attrs();\n+        const mem = attribute({ noInherit: true, readonly: true }) ||\n+          operation({ regular: true }) ||\n+          error(\"Unknown member\");\n+        mem.extAttrs = ea;\n+        ret.members.push(mem);\n+      }\n+    }\n+\n+    function partial() {\n+      if (!consume(\"partial\")) return;\n+      const thing = dictionary(true) ||\n+        interface_(true) ||\n+        namespace(true) ||\n+        error(\"Partial doesn't apply to anything\");\n+      return thing;\n+    }\n+\n+    function dictionary(isPartial) {\n+      if (!consume(\"dictionary\")) return;\n+      const name = consume(ID) || error(\"No name for dictionary\");\n+      const mems = [];\n+      const ret = current = {\n+        type: \"dictionary\",\n+        name: isPartial ? name.value : sanitize_name(name.value, \"dictionary\"),\n+        partial: isPartial,\n+        members: mems\n+      };\n+      if (!isPartial) ret.inheritance = inheritance() || null;\n+      consume(\"{\") || error(\"Bodyless dictionary\");\n+      while (true) {\n+        if (consume(\"}\")) {\n+          consume(\";\") || error(\"Missing semicolon after dictionary\");\n+          return ret;\n+        }\n+        const ea = extended_attrs();\n+        const required = consume(\"required\");\n+        const typ = type_with_extended_attributes(\"dictionary-type\") || error(\"No type for dictionary member\");\n+        const name = consume(ID) || error(\"No name for dictionary member\");\n+        const dflt = default_() || null;\n+        if (required && dflt) error(\"Required member must not have a default\");\n+        const member = {\n+          type: \"field\",\n+          name: unescape(name.value),\n+          escapedName: name.value,\n+          required: !!required,\n+          idlType: typ,\n+          extAttrs: ea,\n+          default: dflt\n+        };\n+        ret.members.push(member);\n+        consume(\";\") || error(\"Unterminated dictionary member\");\n+      }\n+    }\n+\n+    function enum_() {\n+      if (!consume(\"enum\")) return;\n+      const name = consume(ID) || error(\"No name for enum\");\n+      const vals = [];\n+      const ret = current = {\n+        type: \"enum\",\n+        name: sanitize_name(name.value, \"enum\"),\n+        values: vals\n+      };\n+      consume(\"{\") || error(\"No curly for enum\");\n+      let value_expected = true;\n+      while (true) {\n+        if (consume(\"}\")) {\n+          if (!ret.values.length) error(\"No value in enum\");\n+          consume(\";\") || error(\"No semicolon after enum\");\n+          return ret;\n+        }\n+        else if (!value_expected) {\n+          error(\"No comma between enum values\");\n+        }\n+        const val = consume(STR) || error(\"Unexpected value in enum\");\n+        val.value = val.value.slice(1, -1);\n+        // No trivia exposure yet\n+        val.trivia = undefined;\n+        ret.values.push(val);\n+        value_expected = !!consume(\",\");\n+      }\n+    }\n+\n+    function typedef() {\n+      if (!consume(\"typedef\")) return;\n+      const ret = {\n+        type: \"typedef\"\n+      };\n+      ret.idlType = type_with_extended_attributes(\"typedef-type\") || error(\"No type in typedef\");\n+      const name = consume(ID) || error(\"No name in typedef\");\n+      ret.name = sanitize_name(name.value, \"typedef\");\n+      current = ret;\n+      consume(\";\") || error(\"Unterminated typedef\");\n+      return ret;\n+    }\n+\n+    function implements_() {\n+      const start_position = consume_position;\n+      const target = consume(ID);\n+      if (!target) return;\n+      if (consume(\"implements\")) {\n+        const ret = {\n+          type: \"implements\",\n+          target: target.value\n+        };\n+        const imp = consume(ID) || error(\"Incomplete implements statement\");\n+        ret.implements = imp.value;\n+        consume(\";\") || error(\"No terminating ; for implements statement\");\n+        return ret;\n+      } else {\n+        // rollback\n+        unconsume(start_position);\n+      }\n+    }\n+\n+    function includes() {\n+      const start_position = consume_position;\n+      const target = consume(ID);\n+      if (!target) return;\n+      if (consume(\"includes\")) {\n+        const ret = {\n+          type: \"includes\",\n+          target: target.value\n+        };\n+        const imp = consume(ID) || error(\"Incomplete includes statement\");\n+        ret.includes = imp.value;\n+        consume(\";\") || error(\"No terminating ; for includes statement\");\n+        return ret;\n+      } else {\n+        // rollback\n+        unconsume(start_position);\n+      }\n+    }\n+\n+    function definition() {\n+      return callback() ||\n+        interface_(false) ||\n+        partial() ||\n+        dictionary(false) ||\n+        enum_() ||\n+        typedef() ||\n+        implements_() ||\n+        includes() ||\n+        namespace(false);\n+    }\n+\n+    function definitions() {\n+      if (!tokens.length) return [];\n+      const defs = [];\n+      while (true) {\n+        const ea = extended_attrs();\n+        const def = definition();\n+        if (!def) {\n+          if (ea.length) error(\"Stray extended attributes\");\n+          break;\n+        }\n+        def.extAttrs = ea;\n+        defs.push(def);\n+      }\n+      return defs;\n+    }\n+    const res = definitions();\n+    if (consume_position < tokens.length) error(\"Unrecognised tokens\");\n+    return res;\n+  }\n+\n+  const obj = {\n+    parse(str) {\n+      const tokens = tokenise(str);\n+      return parse(tokens);\n+    }\n+  };\n+\n+  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n+    module.exports = obj;\n+  } else if (typeof define === 'function' && define.amd) {\n+    define([], () => obj);\n+  } else {\n+    (self || window).WebIDL2 = obj;\n+  }\n+})();"
        },
        {
            "sha": "6805c323df5a975231648b830e33ce183c3cbbd3",
            "filename": "test/fixtures/wpt/resources/webidl2/lib/webidl2.js.headers",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js.headers",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js.headers",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwebidl2.js.headers?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1 @@\n+Content-Type: text/javascript; charset=utf-8"
        },
        {
            "sha": "b3097a6f8a74e4cdeaf71f688ece20423c238a0d",
            "filename": "test/fixtures/wpt/resources/webidl2/lib/writer.js",
            "status": "added",
            "additions": 221,
            "deletions": 0,
            "changes": 221,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwriter.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwriter.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Flib%2Fwriter.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,221 @@\n+\"use strict\";\n+\n+(() => {\n+  function write(ast, opt = {}) {\n+    const noop = str => str;\n+    const optNames = \"type\".split(\" \");\n+    const context = [];\n+    for (const o of optNames) {\n+      if (!opt[o]) opt[o] = noop;\n+    }\n+\n+    function literal(it) {\n+      return it.value;\n+    };\n+    function type(it) {\n+      if (typeof it === \"string\") return opt.type(it); // XXX should maintain some context\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.union) ret += `(${it.idlType.map(type).join(\" or \")})`;\n+      else {\n+        if (it.generic) ret += `${it.generic}<`;\n+        if (Array.isArray(it.idlType)) ret += it.idlType.map(type).join(\", \");\n+        else ret += type(it.idlType);\n+        if (it.generic) ret += \">\";\n+      }\n+      if (it.nullable) ret += \"?\";\n+\n+      return ret;\n+    };\n+    function const_value(it) {\n+      const tp = it.type;\n+      if (tp === \"boolean\") return it.value ? \"true\" : \"false\";\n+      else if (tp === \"null\") return \"null\";\n+      else if (tp === \"Infinity\") return (it.negative ? \"-\" : \"\") + \"Infinity\";\n+      else if (tp === \"NaN\") return \"NaN\";\n+      else if (tp === \"number\") return it.value;\n+      else if (tp === \"sequence\") return \"[]\";\n+      else return `\"${it.value}\"`;\n+    };\n+    function argument(arg) {\n+      let ret = extended_attributes(arg.extAttrs);\n+      if (arg.optional) ret += \"optional \";\n+      ret += type(arg.idlType);\n+      if (arg.variadic) ret += \"...\";\n+      ret += ` ${arg.escapedName}`;\n+      if (arg.default) ret += ` = ${const_value(arg.default)}`;\n+      return ret;\n+    };\n+    function make_ext_at(it) {\n+      context.unshift(it);\n+      let ret = it.name;\n+      if (it.rhs) {\n+        if (it.rhs.type === \"identifier-list\") ret += `=(${it.rhs.value.join(\",\")})`;\n+        else ret += `=${it.rhs.value}`;\n+      }\n+      if (it.arguments) ret += `(${it.arguments.length ? it.arguments.map(argument).join(\",\") : \"\"})`;\n+      context.shift(); // XXX need to add more contexts, but not more than needed for ReSpec\n+      return ret;\n+    };\n+    function extended_attributes(eats) {\n+      if (!eats || !eats.length) return \"\";\n+      return `[${eats.map(make_ext_at).join(\", \")}]`;\n+    };\n+\n+    const modifiers = \"getter setter deleter stringifier static\".split(\" \");\n+    function operation(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.stringifier && !it.idlType) return \"stringifier;\";\n+      for (const mod of modifiers) {\n+        if (it[mod]) ret += mod + \" \";\n+      }\n+      ret += type(it.idlType) + \" \";\n+      if (it.name) ret += it.escapedName;\n+      ret += `(${it.arguments.map(argument).join(\",\")});`;\n+      return ret;\n+    };\n+\n+    function attribute(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.static) ret += \"static \";\n+      if (it.stringifier) ret += \"stringifier \";\n+      if (it.inherit) ret += \"inherit \";\n+      if (it.readonly) ret += \"readonly \";\n+      ret += `attribute ${type(it.idlType)} ${it.escapedName};`;\n+      return ret;\n+    };\n+\n+    function interface_(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.partial) ret += \"partial \";\n+      ret += `interface ${it.name} `;\n+      if (it.inheritance) ret += `: ${it.inheritance} `;\n+      ret += `{${iterate(it.members)}};`;\n+      return ret;\n+    };\n+\n+    function interface_mixin(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.partial) ret += \"partial \";\n+      ret += `interface mixin ${it.name} `;\n+      ret += `{${iterate(it.members)}};`;\n+      return ret;\n+    }\n+\n+    function namespace(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.partial) ret += \"partial \";\n+      ret += `namespace ${it.name} `;\n+      ret += `{${iterate(it.members)}};`;\n+      return ret;\n+    }\n+\n+    function dictionary(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.partial) ret += \"partial \";\n+      ret += `dictionary ${it.name} `;\n+      if (it.inheritance) ret += `: ${it.inheritance} `;\n+      ret += `{${iterate(it.members)}};`;\n+      return ret;\n+    };\n+    function field(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      if (it.required) ret += \"required \";\n+      ret += `${type(it.idlType)} ${it.escapedName}`;\n+      if (it.default) ret += ` = ${const_value(it.default)}`;\n+      ret += \";\";\n+      return ret;\n+    };\n+    function const_(it) {\n+      const ret = extended_attributes(it.extAttrs);\n+      return `${ret}const ${type(it.idlType)}${it.nullable ? \"?\" : \"\"} ${it.name} = ${const_value(it.value)};`;\n+    };\n+    function typedef(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      ret += `typedef ${extended_attributes(it.typeExtAttrs)}`;\n+      return `${ret}${type(it.idlType)} ${it.name};`;\n+    };\n+    function implements_(it) {\n+      const ret = extended_attributes(it.extAttrs);\n+      return `${ret}${it.target} implements ${it.implements};`;\n+    };\n+    function includes(it) {\n+      const ret = extended_attributes(it.extAttrs);\n+      return `${ret}${it.target} includes ${it.includes};`;\n+    };\n+    function callback(it) {\n+      const ret = extended_attributes(it.extAttrs);\n+      return `${ret}callback ${it.name} = ${type(it.idlType)}(${it.arguments.map(argument).join(\",\")});`;\n+    };\n+    function enum_(it) {\n+      let ret = extended_attributes(it.extAttrs);\n+      ret += `enum ${it.name} {`;\n+      for (const v of it.values) {\n+        ret += `\"${v.value}\",`;\n+      }\n+      return ret + \"};\";\n+    };\n+    function iterable(it) {\n+      return `iterable<${Array.isArray(it.idlType) ? it.idlType.map(type).join(\", \") : type(it.idlType)}>;`;\n+    };\n+    function legacyiterable(it) {\n+      return `legacyiterable<${Array.isArray(it.idlType) ? it.idlType.map(type).join(\", \") : type(it.idlType)}>;`;\n+    };\n+    function maplike(it) {\n+      return `${it.readonly ? \"readonly \" : \"\"}maplike<${it.idlType.map(type).join(\", \")}>;`;\n+    };\n+    function setlike(it) {\n+      return `${it.readonly ? \"readonly \" : \"\"}setlike<${type(it.idlType[0])}>;`;\n+    };\n+    function callbackInterface(it) {\n+      return `callback ${interface_(it)}`;\n+    };\n+\n+    const table = {\n+      interface: interface_,\n+      \"interface mixin\": interface_mixin,\n+      namespace,\n+      operation,\n+      attribute,\n+      dictionary,\n+      field,\n+      const: const_,\n+      typedef,\n+      implements: implements_,\n+      includes,\n+      callback,\n+      enum: enum_,\n+      iterable,\n+      legacyiterable,\n+      maplike,\n+      setlike,\n+      \"callback interface\": callbackInterface\n+    };\n+    function dispatch(it) {\n+      const dispatcher = table[it.type];\n+      if (!dispatcher) {\n+        throw new Error(`Type \"${it.type}\" is unsupported`)\n+      }\n+      return table[it.type](it);\n+    };\n+    function iterate(things) {\n+      if (!things) return;\n+      let ret = \"\";\n+      for (const thing of things) ret += dispatch(thing);\n+      return ret;\n+    };\n+    return iterate(ast);\n+  };\n+\n+\n+  const obj = {\n+    write\n+  };\n+\n+  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n+    module.exports = obj;\n+  } else if (typeof define === 'function' && define.amd) {\n+    define([], () => obj);\n+  } else {\n+    (self || window).WebIDL2Writer = obj;\n+  }\n+})();"
        },
        {
            "sha": "b0581037fe943423f4f09bceabbef0f8828d6fc3",
            "filename": "test/fixtures/wpt/resources/webidl2/package-lock.json",
            "status": "added",
            "additions": 700,
            "deletions": 0,
            "changes": 700,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage-lock.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage-lock.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage-lock.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,700 @@\n+{\n+  \"name\": \"webidl2\",\n+  \"version\": \"13.0.3\",\n+  \"lockfileVersion\": 1,\n+  \"requires\": true,\n+  \"dependencies\": {\n+    \"@babel/code-frame\": {\n+      \"version\": \"7.0.0-beta.40\",\n+      \"resolved\": \"https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.0.0-beta.40.tgz\",\n+      \"integrity\": \"sha512-eVXQSbu/RimU6OKcK2/gDJVTFcxXJI4sHbIqw2mhwMZeQ2as/8AhS9DGkEDoHMBBNJZ5B0US63lF56x+KDcxiA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"@babel/highlight\": \"7.0.0-beta.40\"\n+      }\n+    },\n+    \"@babel/highlight\": {\n+      \"version\": \"7.0.0-beta.40\",\n+      \"resolved\": \"https://registry.npmjs.org/@babel/highlight/-/highlight-7.0.0-beta.40.tgz\",\n+      \"integrity\": \"sha512-mOhhTrzieV6VO7odgzFGFapiwRK0ei8RZRhfzHhb6cpX3QM8XXuCLXWjN8qBB7JReDdUR80V3LFfFrGUYevhNg==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"chalk\": \"^2.0.0\",\n+        \"esutils\": \"^2.0.2\",\n+        \"js-tokens\": \"^3.0.0\"\n+      }\n+    },\n+    \"ansi-regex\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-3.0.0.tgz\",\n+      \"integrity\": \"sha1-7QMXwyIGT3lGbAKWa922Bas32Zg=\",\n+      \"dev\": true\n+    },\n+    \"ansi-styles\": {\n+      \"version\": \"3.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-3.2.1.tgz\",\n+      \"integrity\": \"sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"color-convert\": \"^1.9.0\"\n+      }\n+    },\n+    \"arr-diff\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/arr-diff/-/arr-diff-2.0.0.tgz\",\n+      \"integrity\": \"sha1-jzuCf5Vai9ZpaX5KQlasPOrjVs8=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"arr-flatten\": \"^1.0.1\"\n+      }\n+    },\n+    \"arr-flatten\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz\",\n+      \"integrity\": \"sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg==\",\n+      \"dev\": true\n+    },\n+    \"array-unique\": {\n+      \"version\": \"0.2.1\",\n+      \"resolved\": \"https://registry.npmjs.org/array-unique/-/array-unique-0.2.1.tgz\",\n+      \"integrity\": \"sha1-odl8yvy8JiXMcPrc6zalDFiwGlM=\",\n+      \"dev\": true\n+    },\n+    \"balanced-match\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.0.tgz\",\n+      \"integrity\": \"sha1-ibTRmasr7kneFk6gK4nORi1xt2c=\",\n+      \"dev\": true\n+    },\n+    \"brace-expansion\": {\n+      \"version\": \"1.1.11\",\n+      \"resolved\": \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.11.tgz\",\n+      \"integrity\": \"sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"balanced-match\": \"^1.0.0\",\n+        \"concat-map\": \"0.0.1\"\n+      }\n+    },\n+    \"braces\": {\n+      \"version\": \"1.8.5\",\n+      \"resolved\": \"https://registry.npmjs.org/braces/-/braces-1.8.5.tgz\",\n+      \"integrity\": \"sha1-uneWLhLf+WnWt2cR6RS3N4V79qc=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"expand-range\": \"^1.8.1\",\n+        \"preserve\": \"^0.2.0\",\n+        \"repeat-element\": \"^1.1.2\"\n+      }\n+    },\n+    \"browser-stdout\": {\n+      \"version\": \"1.3.1\",\n+      \"resolved\": \"https://registry.npmjs.org/browser-stdout/-/browser-stdout-1.3.1.tgz\",\n+      \"integrity\": \"sha512-qhAVI1+Av2X7qelOfAIYwXONood6XlZE/fXaBSmW/T5SzLAmCgzi+eiWE7fUvbHaeNBQH13UftjpXxsfLkMpgw==\",\n+      \"dev\": true\n+    },\n+    \"chalk\": {\n+      \"version\": \"2.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/chalk/-/chalk-2.3.2.tgz\",\n+      \"integrity\": \"sha512-ZM4j2/ld/YZDc3Ma8PgN7gyAk+kHMMMyzLNryCPGhWrsfAuDVeuid5bpRFTDgMH9JBK2lA4dyyAkkZYF/WcqDQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"ansi-styles\": \"^3.2.1\",\n+        \"escape-string-regexp\": \"^1.0.5\",\n+        \"supports-color\": \"^5.3.0\"\n+      }\n+    },\n+    \"color-convert\": {\n+      \"version\": \"1.9.1\",\n+      \"resolved\": \"https://registry.npmjs.org/color-convert/-/color-convert-1.9.1.tgz\",\n+      \"integrity\": \"sha512-mjGanIiwQJskCC18rPR6OmrZ6fm2Lc7PeGFYwCmy5J34wC6F1PzdGL6xeMfmgicfYcNLGuVFA3WzXtIDCQSZxQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"color-name\": \"^1.1.1\"\n+      }\n+    },\n+    \"color-name\": {\n+      \"version\": \"1.1.3\",\n+      \"resolved\": \"https://registry.npmjs.org/color-name/-/color-name-1.1.3.tgz\",\n+      \"integrity\": \"sha1-p9BVi9icQveV3UIyj3QIMcpTvCU=\",\n+      \"dev\": true\n+    },\n+    \"commander\": {\n+      \"version\": \"2.11.0\",\n+      \"resolved\": \"https://registry.npmjs.org/commander/-/commander-2.11.0.tgz\",\n+      \"integrity\": \"sha512-b0553uYA5YAEGgyYIGYROzKQ7X5RAqedkfjiZxwi0kL1g3bOaBNNZfYkzt/CL0umgD5wc9Jec2FbB98CjkMRvQ==\",\n+      \"dev\": true\n+    },\n+    \"concat-map\": {\n+      \"version\": \"0.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz\",\n+      \"integrity\": \"sha1-2Klr13/Wjfd5OnMDajug1UBdR3s=\",\n+      \"dev\": true\n+    },\n+    \"debug\": {\n+      \"version\": \"3.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\n+      \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"ms\": \"2.0.0\"\n+      }\n+    },\n+    \"diff\": {\n+      \"version\": \"3.5.0\",\n+      \"resolved\": \"https://registry.npmjs.org/diff/-/diff-3.5.0.tgz\",\n+      \"integrity\": \"sha512-A46qtFgd+g7pDZinpnwiRJtxbC1hpgf0uzP3iG89scHk0AUC7A1TGxf5OiiOUv/JMZR8GOt8hL900hV0bOy5xA==\",\n+      \"dev\": true\n+    },\n+    \"diff-match-patch\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/diff-match-patch/-/diff-match-patch-1.0.0.tgz\",\n+      \"integrity\": \"sha1-HMPIOkkNZ/ldkeOfatHy4Ia2MEg=\",\n+      \"dev\": true\n+    },\n+    \"escape-string-regexp\": {\n+      \"version\": \"1.0.5\",\n+      \"resolved\": \"https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz\",\n+      \"integrity\": \"sha1-G2HAViGQqN/2rjuyzwIAyhMLhtQ=\",\n+      \"dev\": true\n+    },\n+    \"esutils\": {\n+      \"version\": \"2.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/esutils/-/esutils-2.0.2.tgz\",\n+      \"integrity\": \"sha1-Cr9PHKpbyx96nYrMbepPqqBLrJs=\",\n+      \"dev\": true\n+    },\n+    \"expand-brackets\": {\n+      \"version\": \"0.1.5\",\n+      \"resolved\": \"https://registry.npmjs.org/expand-brackets/-/expand-brackets-0.1.5.tgz\",\n+      \"integrity\": \"sha1-3wcoTjQqgHzXM6xa9yQR5YHRF3s=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-posix-bracket\": \"^0.1.0\"\n+      }\n+    },\n+    \"expand-range\": {\n+      \"version\": \"1.8.2\",\n+      \"resolved\": \"https://registry.npmjs.org/expand-range/-/expand-range-1.8.2.tgz\",\n+      \"integrity\": \"sha1-opnv/TNf4nIeuujiV+x5ZE/IUzc=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"fill-range\": \"^2.1.0\"\n+      }\n+    },\n+    \"expect\": {\n+      \"version\": \"22.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/expect/-/expect-22.4.0.tgz\",\n+      \"integrity\": \"sha512-Fiy862jT3qc70hwIHwwCBNISmaqBrfWKKrtqyMJ6iwZr+6KXtcnHojZFtd63TPRvRl8EQTJ+YXYy2lK6/6u+Hw==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"ansi-styles\": \"^3.2.0\",\n+        \"jest-diff\": \"^22.4.0\",\n+        \"jest-get-type\": \"^22.1.0\",\n+        \"jest-matcher-utils\": \"^22.4.0\",\n+        \"jest-message-util\": \"^22.4.0\",\n+        \"jest-regex-util\": \"^22.1.0\"\n+      }\n+    },\n+    \"extglob\": {\n+      \"version\": \"0.3.2\",\n+      \"resolved\": \"https://registry.npmjs.org/extglob/-/extglob-0.3.2.tgz\",\n+      \"integrity\": \"sha1-Lhj/PS9JqydlzskCPwEdqo2DSaE=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-extglob\": \"^1.0.0\"\n+      }\n+    },\n+    \"filename-regex\": {\n+      \"version\": \"2.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/filename-regex/-/filename-regex-2.0.1.tgz\",\n+      \"integrity\": \"sha1-wcS5vuPglyXdsQa3XB4wH+LxiyY=\",\n+      \"dev\": true\n+    },\n+    \"fill-range\": {\n+      \"version\": \"2.2.4\",\n+      \"resolved\": \"https://registry.npmjs.org/fill-range/-/fill-range-2.2.4.tgz\",\n+      \"integrity\": \"sha512-cnrcCbj01+j2gTG921VZPnHbjmdAf8oQV/iGeV2kZxGSyfYjjTyY79ErsK1WJWMpw6DaApEX72binqJE+/d+5Q==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-number\": \"^2.1.0\",\n+        \"isobject\": \"^2.0.0\",\n+        \"randomatic\": \"^3.0.0\",\n+        \"repeat-element\": \"^1.1.2\",\n+        \"repeat-string\": \"^1.5.2\"\n+      }\n+    },\n+    \"for-in\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/for-in/-/for-in-1.0.2.tgz\",\n+      \"integrity\": \"sha1-gQaNKVqBQuwKxybG4iAMMPttXoA=\",\n+      \"dev\": true\n+    },\n+    \"for-own\": {\n+      \"version\": \"0.1.5\",\n+      \"resolved\": \"https://registry.npmjs.org/for-own/-/for-own-0.1.5.tgz\",\n+      \"integrity\": \"sha1-UmXGgaTylNq78XyVCbZ2OqhFEM4=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"for-in\": \"^1.0.1\"\n+      }\n+    },\n+    \"fs.realpath\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz\",\n+      \"integrity\": \"sha1-FQStJSMVjKpA20onh8sBQRmU6k8=\",\n+      \"dev\": true\n+    },\n+    \"glob\": {\n+      \"version\": \"7.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/glob/-/glob-7.1.2.tgz\",\n+      \"integrity\": \"sha512-MJTUg1kjuLeQCJ+ccE4Vpa6kKVXkPYJ2mOCQyUuKLcLQsdrMCpBPUi8qVE6+YuaJkozeA9NusTAw3hLr8Xe5EQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"fs.realpath\": \"^1.0.0\",\n+        \"inflight\": \"^1.0.4\",\n+        \"inherits\": \"2\",\n+        \"minimatch\": \"^3.0.4\",\n+        \"once\": \"^1.3.0\",\n+        \"path-is-absolute\": \"^1.0.0\"\n+      }\n+    },\n+    \"glob-base\": {\n+      \"version\": \"0.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/glob-base/-/glob-base-0.3.0.tgz\",\n+      \"integrity\": \"sha1-27Fk9iIbHAscz4Kuoyi0l98Oo8Q=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"glob-parent\": \"^2.0.0\",\n+        \"is-glob\": \"^2.0.0\"\n+      }\n+    },\n+    \"glob-parent\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/glob-parent/-/glob-parent-2.0.0.tgz\",\n+      \"integrity\": \"sha1-gTg9ctsFT8zPUzbaqQLxgvbtuyg=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-glob\": \"^2.0.0\"\n+      }\n+    },\n+    \"growl\": {\n+      \"version\": \"1.10.3\",\n+      \"resolved\": \"https://registry.npmjs.org/growl/-/growl-1.10.3.tgz\",\n+      \"integrity\": \"sha512-hKlsbA5Vu3xsh1Cg3J7jSmX/WaW6A5oBeqzM88oNbCRQFz+zUaXm6yxS4RVytp1scBoJzSYl4YAEOQIt6O8V1Q==\",\n+      \"dev\": true\n+    },\n+    \"has-flag\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/has-flag/-/has-flag-3.0.0.tgz\",\n+      \"integrity\": \"sha1-tdRU3CGZriJWmfNGfloH87lVuv0=\",\n+      \"dev\": true\n+    },\n+    \"he\": {\n+      \"version\": \"1.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/he/-/he-1.1.1.tgz\",\n+      \"integrity\": \"sha1-k0EP0hsAlzUVH4howvJx80J+I/0=\",\n+      \"dev\": true\n+    },\n+    \"inflight\": {\n+      \"version\": \"1.0.6\",\n+      \"resolved\": \"https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz\",\n+      \"integrity\": \"sha1-Sb1jMdfQLQwJvJEKEHW6gWW1bfk=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"once\": \"^1.3.0\",\n+        \"wrappy\": \"1\"\n+      }\n+    },\n+    \"inherits\": {\n+      \"version\": \"2.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/inherits/-/inherits-2.0.3.tgz\",\n+      \"integrity\": \"sha1-Yzwsg+PaQqUC9SRmAiSA9CCCYd4=\",\n+      \"dev\": true\n+    },\n+    \"is-buffer\": {\n+      \"version\": \"1.1.6\",\n+      \"resolved\": \"https://registry.npmjs.org/is-buffer/-/is-buffer-1.1.6.tgz\",\n+      \"integrity\": \"sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w==\",\n+      \"dev\": true\n+    },\n+    \"is-dotfile\": {\n+      \"version\": \"1.0.3\",\n+      \"resolved\": \"https://registry.npmjs.org/is-dotfile/-/is-dotfile-1.0.3.tgz\",\n+      \"integrity\": \"sha1-pqLzL/0t+wT1yiXs0Pa4PPeYoeE=\",\n+      \"dev\": true\n+    },\n+    \"is-equal-shallow\": {\n+      \"version\": \"0.1.3\",\n+      \"resolved\": \"https://registry.npmjs.org/is-equal-shallow/-/is-equal-shallow-0.1.3.tgz\",\n+      \"integrity\": \"sha1-IjgJj8Ih3gvPpdnqxMRdY4qhxTQ=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-primitive\": \"^2.0.0\"\n+      }\n+    },\n+    \"is-extendable\": {\n+      \"version\": \"0.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/is-extendable/-/is-extendable-0.1.1.tgz\",\n+      \"integrity\": \"sha1-YrEQ4omkcUGOPsNqYX1HLjAd/Ik=\",\n+      \"dev\": true\n+    },\n+    \"is-extglob\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/is-extglob/-/is-extglob-1.0.0.tgz\",\n+      \"integrity\": \"sha1-rEaBd8SUNAWgkvyPKXYMb/xiBsA=\",\n+      \"dev\": true\n+    },\n+    \"is-glob\": {\n+      \"version\": \"2.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/is-glob/-/is-glob-2.0.1.tgz\",\n+      \"integrity\": \"sha1-0Jb5JqPe1WAPP9/ZEZjLCIjC2GM=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-extglob\": \"^1.0.0\"\n+      }\n+    },\n+    \"is-number\": {\n+      \"version\": \"2.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/is-number/-/is-number-2.1.0.tgz\",\n+      \"integrity\": \"sha1-Afy7s5NGOlSPL0ZszhbezknbkI8=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"kind-of\": \"^3.0.2\"\n+      }\n+    },\n+    \"is-posix-bracket\": {\n+      \"version\": \"0.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/is-posix-bracket/-/is-posix-bracket-0.1.1.tgz\",\n+      \"integrity\": \"sha1-MzTceXdDaOkvAW5vvAqI9c1ua8Q=\",\n+      \"dev\": true\n+    },\n+    \"is-primitive\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/is-primitive/-/is-primitive-2.0.0.tgz\",\n+      \"integrity\": \"sha1-IHurkWOEmcB7Kt8kCkGochADRXU=\",\n+      \"dev\": true\n+    },\n+    \"isarray\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz\",\n+      \"integrity\": \"sha1-u5NdSFgsuhaMBoNJV6VKPgcSTxE=\",\n+      \"dev\": true\n+    },\n+    \"isobject\": {\n+      \"version\": \"2.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/isobject/-/isobject-2.1.0.tgz\",\n+      \"integrity\": \"sha1-8GVWEJaj8dou9GJy+BXIQNh+DIk=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"isarray\": \"1.0.0\"\n+      }\n+    },\n+    \"jest-diff\": {\n+      \"version\": \"22.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jest-diff/-/jest-diff-22.4.0.tgz\",\n+      \"integrity\": \"sha512-+/t20WmnkOkB8MOaGaPziI8zWKxquMvYw4Ub+wOzi7AUhmpFXz43buWSxVoZo4J5RnCozpGbX3/FssjJ5KV9Nw==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"chalk\": \"^2.0.1\",\n+        \"diff\": \"^3.2.0\",\n+        \"jest-get-type\": \"^22.1.0\",\n+        \"pretty-format\": \"^22.4.0\"\n+      }\n+    },\n+    \"jest-get-type\": {\n+      \"version\": \"22.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jest-get-type/-/jest-get-type-22.1.0.tgz\",\n+      \"integrity\": \"sha512-nD97IVOlNP6fjIN5i7j5XRH+hFsHL7VlauBbzRvueaaUe70uohrkz7pL/N8lx/IAwZRTJ//wOdVgh85OgM7g3w==\",\n+      \"dev\": true\n+    },\n+    \"jest-matcher-utils\": {\n+      \"version\": \"22.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jest-matcher-utils/-/jest-matcher-utils-22.4.0.tgz\",\n+      \"integrity\": \"sha512-03m3issxUXpWMwDYTfmL8hRNewUB0yCRTeXPm+eq058rZxLHD9f5NtSSO98CWHqe4UyISIxd9Ao9iDVjHWd2qg==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"chalk\": \"^2.0.1\",\n+        \"jest-get-type\": \"^22.1.0\",\n+        \"pretty-format\": \"^22.4.0\"\n+      }\n+    },\n+    \"jest-message-util\": {\n+      \"version\": \"22.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jest-message-util/-/jest-message-util-22.4.0.tgz\",\n+      \"integrity\": \"sha512-eyCJB0T3hrlpFF2FqQoIB093OulP+1qvATQmD3IOgJgMGqPL6eYw8TbC5P/VCWPqKhGL51xvjIIhow5eZ2wHFw==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"@babel/code-frame\": \"^7.0.0-beta.35\",\n+        \"chalk\": \"^2.0.1\",\n+        \"micromatch\": \"^2.3.11\",\n+        \"slash\": \"^1.0.0\",\n+        \"stack-utils\": \"^1.0.1\"\n+      }\n+    },\n+    \"jest-regex-util\": {\n+      \"version\": \"22.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/jest-regex-util/-/jest-regex-util-22.1.0.tgz\",\n+      \"integrity\": \"sha512-on0LqVS6Xeh69sw3d1RukVnur+lVOl3zkmb0Q54FHj9wHoq6dbtWqb3TSlnVUyx36hqjJhjgs/QLqs07Bzu72Q==\",\n+      \"dev\": true\n+    },\n+    \"js-tokens\": {\n+      \"version\": \"3.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-3.0.2.tgz\",\n+      \"integrity\": \"sha1-mGbfOVECEw449/mWvOtlRDIJwls=\",\n+      \"dev\": true\n+    },\n+    \"jsondiffpatch\": {\n+      \"version\": \"0.3.5\",\n+      \"resolved\": \"https://registry.npmjs.org/jsondiffpatch/-/jsondiffpatch-0.3.5.tgz\",\n+      \"integrity\": \"sha512-v7eaGLDMCHXH+fsIaZhptEUJmS8EJpunq7IM4cc4vIT/kSRAkaZ6ZF4ebiNcyUelL0znbvj6o2B5Gh9v7Og0BQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"chalk\": \"^2.3.0\",\n+        \"diff-match-patch\": \"^1.0.0\"\n+      }\n+    },\n+    \"kind-of\": {\n+      \"version\": \"3.2.2\",\n+      \"resolved\": \"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz\",\n+      \"integrity\": \"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-buffer\": \"^1.1.5\"\n+      }\n+    },\n+    \"math-random\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/math-random/-/math-random-1.0.1.tgz\",\n+      \"integrity\": \"sha1-izqsWIuKZuSXXjzepn97sylgH6w=\",\n+      \"dev\": true\n+    },\n+    \"micromatch\": {\n+      \"version\": \"2.3.11\",\n+      \"resolved\": \"https://registry.npmjs.org/micromatch/-/micromatch-2.3.11.tgz\",\n+      \"integrity\": \"sha1-hmd8l9FyCzY0MdBNDRUpO9OMFWU=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"arr-diff\": \"^2.0.0\",\n+        \"array-unique\": \"^0.2.1\",\n+        \"braces\": \"^1.8.2\",\n+        \"expand-brackets\": \"^0.1.4\",\n+        \"extglob\": \"^0.3.1\",\n+        \"filename-regex\": \"^2.0.0\",\n+        \"is-extglob\": \"^1.0.0\",\n+        \"is-glob\": \"^2.0.1\",\n+        \"kind-of\": \"^3.0.2\",\n+        \"normalize-path\": \"^2.0.1\",\n+        \"object.omit\": \"^2.0.0\",\n+        \"parse-glob\": \"^3.0.4\",\n+        \"regex-cache\": \"^0.4.2\"\n+      }\n+    },\n+    \"minimatch\": {\n+      \"version\": \"3.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/minimatch/-/minimatch-3.0.4.tgz\",\n+      \"integrity\": \"sha512-yJHVQEhyqPLUTgt9B83PXu6W3rx4MvvHvSUvToogpwoGDOUQ+yDrR0HRot+yOCdCO7u4hX3pWft6kWBBcqh0UA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"brace-expansion\": \"^1.1.7\"\n+      }\n+    },\n+    \"minimist\": {\n+      \"version\": \"0.0.8\",\n+      \"resolved\": \"https://registry.npmjs.org/minimist/-/minimist-0.0.8.tgz\",\n+      \"integrity\": \"sha1-hX/Kv8M5fSYluCKCYuhqp6ARsF0=\",\n+      \"dev\": true\n+    },\n+    \"mkdirp\": {\n+      \"version\": \"0.5.1\",\n+      \"resolved\": \"https://registry.npmjs.org/mkdirp/-/mkdirp-0.5.1.tgz\",\n+      \"integrity\": \"sha1-MAV0OOrGz3+MR2fzhkjWaX11yQM=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"minimist\": \"0.0.8\"\n+      }\n+    },\n+    \"mocha\": {\n+      \"version\": \"5.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/mocha/-/mocha-5.0.4.tgz\",\n+      \"integrity\": \"sha512-nMOpAPFosU1B4Ix1jdhx5e3q7XO55ic5a8cgYvW27CequcEY+BabS0kUVL1Cw1V5PuVHZWeNRWFLmEPexo79VA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"browser-stdout\": \"1.3.1\",\n+        \"commander\": \"2.11.0\",\n+        \"debug\": \"3.1.0\",\n+        \"diff\": \"3.5.0\",\n+        \"escape-string-regexp\": \"1.0.5\",\n+        \"glob\": \"7.1.2\",\n+        \"growl\": \"1.10.3\",\n+        \"he\": \"1.1.1\",\n+        \"mkdirp\": \"0.5.1\",\n+        \"supports-color\": \"4.4.0\"\n+      },\n+      \"dependencies\": {\n+        \"has-flag\": {\n+          \"version\": \"2.0.0\",\n+          \"resolved\": \"https://registry.npmjs.org/has-flag/-/has-flag-2.0.0.tgz\",\n+          \"integrity\": \"sha1-6CB68cx7MNRGzHC3NLXovhj4jVE=\",\n+          \"dev\": true\n+        },\n+        \"supports-color\": {\n+          \"version\": \"4.4.0\",\n+          \"resolved\": \"https://registry.npmjs.org/supports-color/-/supports-color-4.4.0.tgz\",\n+          \"integrity\": \"sha512-rKC3+DyXWgK0ZLKwmRsrkyHVZAjNkfzeehuFWdGGcqGDTZFH73+RH6S/RDAAxl9GusSjZSUWYLmT9N5pzXFOXQ==\",\n+          \"dev\": true,\n+          \"requires\": {\n+            \"has-flag\": \"^2.0.0\"\n+          }\n+        }\n+      }\n+    },\n+    \"ms\": {\n+      \"version\": \"2.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz\",\n+      \"integrity\": \"sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=\",\n+      \"dev\": true\n+    },\n+    \"normalize-path\": {\n+      \"version\": \"2.1.1\",\n+      \"resolved\": \"https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz\",\n+      \"integrity\": \"sha1-GrKLVW4Zg2Oowab35vogE3/mrtk=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"remove-trailing-separator\": \"^1.0.1\"\n+      }\n+    },\n+    \"object.omit\": {\n+      \"version\": \"2.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/object.omit/-/object.omit-2.0.1.tgz\",\n+      \"integrity\": \"sha1-Gpx0SCnznbuFjHbKNXmuKlTr0fo=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"for-own\": \"^0.1.4\",\n+        \"is-extendable\": \"^0.1.1\"\n+      }\n+    },\n+    \"once\": {\n+      \"version\": \"1.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/once/-/once-1.4.0.tgz\",\n+      \"integrity\": \"sha1-WDsap3WWHUsROsF9nFC6753Xa9E=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"wrappy\": \"1\"\n+      }\n+    },\n+    \"parse-glob\": {\n+      \"version\": \"3.0.4\",\n+      \"resolved\": \"https://registry.npmjs.org/parse-glob/-/parse-glob-3.0.4.tgz\",\n+      \"integrity\": \"sha1-ssN2z7EfNVE7rdFz7wu246OIORw=\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"glob-base\": \"^0.3.0\",\n+        \"is-dotfile\": \"^1.0.0\",\n+        \"is-extglob\": \"^1.0.0\",\n+        \"is-glob\": \"^2.0.0\"\n+      }\n+    },\n+    \"path-is-absolute\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz\",\n+      \"integrity\": \"sha1-F0uSaHNVNP+8es5r9TpanhtcX18=\",\n+      \"dev\": true\n+    },\n+    \"preserve\": {\n+      \"version\": \"0.2.0\",\n+      \"resolved\": \"https://registry.npmjs.org/preserve/-/preserve-0.2.0.tgz\",\n+      \"integrity\": \"sha1-gV7R9uvGWSb4ZbMQwHE7yzMVzks=\",\n+      \"dev\": true\n+    },\n+    \"pretty-format\": {\n+      \"version\": \"22.4.0\",\n+      \"resolved\": \"https://registry.npmjs.org/pretty-format/-/pretty-format-22.4.0.tgz\",\n+      \"integrity\": \"sha512-pvCxP2iODIIk9adXlo4S3GRj0BrJiil68kByAa1PrgG97c1tClh9dLMgp3Z6cHFZrclaABt0UH8PIhwHuFLqYA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"ansi-regex\": \"^3.0.0\",\n+        \"ansi-styles\": \"^3.2.0\"\n+      }\n+    },\n+    \"randomatic\": {\n+      \"version\": \"3.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/randomatic/-/randomatic-3.0.0.tgz\",\n+      \"integrity\": \"sha512-VdxFOIEY3mNO5PtSRkkle/hPJDHvQhK21oa73K4yAc9qmp6N429gAyF1gZMOTMeS0/AYzaV/2Trcef+NaIonSA==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-number\": \"^4.0.0\",\n+        \"kind-of\": \"^6.0.0\",\n+        \"math-random\": \"^1.0.1\"\n+      },\n+      \"dependencies\": {\n+        \"is-number\": {\n+          \"version\": \"4.0.0\",\n+          \"resolved\": \"https://registry.npmjs.org/is-number/-/is-number-4.0.0.tgz\",\n+          \"integrity\": \"sha512-rSklcAIlf1OmFdyAqbnWTLVelsQ58uvZ66S/ZyawjWqIviTWCjg2PzVGw8WUA+nNuPTqb4wgA+NszrJ+08LlgQ==\",\n+          \"dev\": true\n+        },\n+        \"kind-of\": {\n+          \"version\": \"6.0.2\",\n+          \"resolved\": \"https://registry.npmjs.org/kind-of/-/kind-of-6.0.2.tgz\",\n+          \"integrity\": \"sha512-s5kLOcnH0XqDO+FvuaLX8DDjZ18CGFk7VygH40QoKPUQhW4e2rvM0rwUq0t8IQDOwYSeLK01U90OjzBTme2QqA==\",\n+          \"dev\": true\n+        }\n+      }\n+    },\n+    \"regex-cache\": {\n+      \"version\": \"0.4.4\",\n+      \"resolved\": \"https://registry.npmjs.org/regex-cache/-/regex-cache-0.4.4.tgz\",\n+      \"integrity\": \"sha512-nVIZwtCjkC9YgvWkpM55B5rBhBYRZhAaJbgcFYXXsHnbZ9UZI9nnVWYZpBlCqv9ho2eZryPnWrZGsOdPwVWXWQ==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"is-equal-shallow\": \"^0.1.3\"\n+      }\n+    },\n+    \"remove-trailing-separator\": {\n+      \"version\": \"1.1.0\",\n+      \"resolved\": \"https://registry.npmjs.org/remove-trailing-separator/-/remove-trailing-separator-1.1.0.tgz\",\n+      \"integrity\": \"sha1-wkvOKig62tW8P1jg1IJJuSN52O8=\",\n+      \"dev\": true\n+    },\n+    \"repeat-element\": {\n+      \"version\": \"1.1.2\",\n+      \"resolved\": \"https://registry.npmjs.org/repeat-element/-/repeat-element-1.1.2.tgz\",\n+      \"integrity\": \"sha1-7wiaF40Ug7quTZPrmLT55OEdmQo=\",\n+      \"dev\": true\n+    },\n+    \"repeat-string\": {\n+      \"version\": \"1.6.1\",\n+      \"resolved\": \"https://registry.npmjs.org/repeat-string/-/repeat-string-1.6.1.tgz\",\n+      \"integrity\": \"sha1-jcrkcOHIirwtYA//Sndihtp15jc=\",\n+      \"dev\": true\n+    },\n+    \"slash\": {\n+      \"version\": \"1.0.0\",\n+      \"resolved\": \"https://registry.npmjs.org/slash/-/slash-1.0.0.tgz\",\n+      \"integrity\": \"sha1-xB8vbDn8FtHNF61LXYlhFK5HDVU=\",\n+      \"dev\": true\n+    },\n+    \"stack-utils\": {\n+      \"version\": \"1.0.1\",\n+      \"resolved\": \"https://registry.npmjs.org/stack-utils/-/stack-utils-1.0.1.tgz\",\n+      \"integrity\": \"sha1-1PM6tU6OOHeLDKXP07OvsS22hiA=\",\n+      \"dev\": true\n+    },\n+    \"supports-color\": {\n+      \"version\": \"5.3.0\",\n+      \"resolved\": \"https://registry.npmjs.org/supports-color/-/supports-color-5.3.0.tgz\",\n+      \"integrity\": \"sha512-0aP01LLIskjKs3lq52EC0aGBAJhLq7B2Rd8HC/DR/PtNNpcLilNmHC12O+hu0usQpo7wtHNRqtrhBwtDb0+dNg==\",\n+      \"dev\": true,\n+      \"requires\": {\n+        \"has-flag\": \"^3.0.0\"\n+      }\n+    },\n+    \"wrappy\": {\n+      \"version\": \"1.0.2\",\n+      \"resolved\": \"https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz\",\n+      \"integrity\": \"sha1-tSQ9jz7BqjXxNkYFvA0QNuMKtp8=\",\n+      \"dev\": true\n+    }\n+  }\n+}"
        },
        {
            "sha": "92faccafa813fb607f5be73a07cda7f7079d63d5",
            "filename": "test/fixtures/wpt/resources/webidl2/package.json",
            "status": "added",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fresources%2Fwebidl2%2Fpackage.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,27 @@\n+{\n+  \"name\": \"webidl2\",\n+  \"description\": \"A WebIDL Parser\",\n+  \"version\": \"13.0.3\",\n+  \"contributors\": [\n+    \"Robin Berjon <robin@berjon.com> (https://berjon.com)\",\n+    \"Marcos Caceres <marcos@marcosc.com> (https://marcosc.com)\",\n+    \"Kagami Sascha Rosylight <saschaplas@outlook.com>\",\n+    \"Timothy Gu <timothygu99@gmail.com>\"\n+  ],\n+  \"license\": \"W3C\",\n+  \"dependencies\": {},\n+  \"devDependencies\": {\n+    \"expect\": \"22.4.0\",\n+    \"jsondiffpatch\": \"0.3.5\",\n+    \"mocha\": \"5.0.4\"\n+  },\n+  \"scripts\": {\n+    \"test\": \"mocha\",\n+    \"acquire\": \"node test/util/acquire.js\"\n+  },\n+  \"repository\": \"git://github.com/w3c/webidl2.js\",\n+  \"main\": \"index.js\",\n+  \"files\": [\n+    \"lib/*\"\n+  ]\n+}"
        },
        {
            "sha": "3a789a0d513f0a78bf362dd73c8a807d0cd55a50",
            "filename": "test/fixtures/wpt/url/META.yml",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2FMETA.yml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2FMETA.yml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2FMETA.yml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,8 @@\n+spec: https://url.spec.whatwg.org/\n+suggested_reviewers:\n+  - mikewest\n+  - domenic\n+  - Sebmaster\n+  - annevk\n+  - GPHemsley\n+  - TimothyGu"
        },
        {
            "sha": "823a8eec02228265dc94bc7c01ac87e99c22e06b",
            "filename": "test/fixtures/wpt/url/README.md",
            "status": "added",
            "additions": 53,
            "deletions": 0,
            "changes": 53,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2FREADME.md",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2FREADME.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2FREADME.md?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,53 @@\n+## urltestdata.json\n+\n+These tests are for browsers, but the data for\n+`a-element.html`, `url-constructor.html`, `a-element-xhtml.xhtml`, and `failure.html`\n+is in `resources/urltestdata.json` and can be re-used by non-browser implementations.\n+This file contains a JSON array of comments as strings and test cases as objects.\n+The keys for each test case are:\n+\n+* `base`: an absolute URL as a string whose [parsing] without a base of its own must succeed.\n+  This key is always present,\n+  and may have a value like `\"about:blank\"` when `input` is an absolute URL.\n+* `input`: an URL as a string to be [parsed][parsing] with `base` as its base URL.\n+* Either:\n+  * `failure` with the value `true`, indicating that parsing `input` should return failure,\n+  * or `href`, `origin`, `protocol`, `username`, `password`, `host`, `hostname`, `port`,\n+    `pathname`, `search`, and `hash` with string values;\n+    indicating that parsing `input` should return an URL record\n+    and that the getters of each corresponding attribute in that URLâs [API]\n+    should return the corresponding value.\n+\n+    The `origin` key may be missing.\n+    In that case, the APIâs `origin` attribute is not tested.\n+\n+In addition to testing that parsing `input` against `base` gives the result, a test harness for the\n+`URL` constructor (or similar APIs) should additionally test the following pattern: if `failure` is\n+true, parsing `about:blank` against `input` must give failure. This tests that the logic for\n+converting base URLs into strings properly fails the whole parsing algorithm if the base URL cannot\n+be parsed.\n+\n+## setters_tests.json\n+\n+`resources/setters_tests.json` is self-documented.\n+\n+## toascii.json\n+\n+`resources/toascii.json` is a JSON resource containing an array where each item is an object\n+consisting of an optional `comment` field and mandatory `input` and `output` fields. `input` is the\n+domain to be parsed according to the rules of UTS #46 (as stipulated by the URL Standard). `output`\n+gives the expected output of the parser after serialization. An `output` of `null` means parsing is\n+expected to fail.\n+\n+## URL parser's encoding argument\n+\n+Tests in `/encoding` and `/html/infrastructure/urls/resolving-urls/query-encoding/` cover the\n+encoding argument to the URL parser.\n+\n+## Specification\n+\n+The tests in this directory assert conformance with [the URL Standard][URL].\n+\n+[parsing]: https://url.spec.whatwg.org/#concept-basic-url-parser\n+[API]: https://url.spec.whatwg.org/#api\n+[URL]: https://url.spec.whatwg.org/"
        },
        {
            "sha": "effcf04bee3fb0def0b32bd92df5008fbd27e063",
            "filename": "test/fixtures/wpt/url/a-element-origin-xhtml.xhtml",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin-xhtml.xhtml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin-xhtml.xhtml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin-xhtml.xhtml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,15 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\">\n+  <head>\n+    <title>URL Test</title>\n+    <script src=\"/resources/testharness.js\"></script>\n+    <script src=\"/resources/testharnessreport.js\"></script>\n+    <base id=\"base\"/>\n+  </head>\n+  <body>\n+    <div id=\"log\"></div>\n+    <script src=\"resources/a-element-origin.js\"></script>\n+  </body>\n+</html>\n+<!-- Other dependencies: resources/urltestdata.json -->"
        },
        {
            "sha": "9cc8e94cbed06056fe4529b74499d8ae94dc8523",
            "filename": "test/fixtures/wpt/url/a-element-origin.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-origin.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,8 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<base id=base>\n+<div id=log></div>\n+<script src=resources/a-element-origin.js></script>\n+<!-- Other dependencies: resources/urltestdata.json -->"
        },
        {
            "sha": "c6c67cf3ce619bb5abb7522e621ff1371a957619",
            "filename": "test/fixtures/wpt/url/a-element-xhtml.xhtml",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-xhtml.xhtml",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-xhtml.xhtml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fa-element-xhtml.xhtml?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,15 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!DOCTYPE html>\n+<html xmlns=\"http://www.w3.org/1999/xhtml\">\n+  <head>\n+    <title>URL Test</title>\n+    <script src=\"/resources/testharness.js\"></script>\n+    <script src=\"/resources/testharnessreport.js\"></script>\n+    <base id=\"base\"/>\n+  </head>\n+  <body>\n+    <div id=\"log\"></div>\n+    <script src=\"resources/a-element.js\"></script>\n+  </body>\n+</html>\n+<!-- Other dependencies: resources/urltestdata.json -->"
        },
        {
            "sha": "05c37f30b71e12eee71f6941d33e712aafa080f3",
            "filename": "test/fixtures/wpt/url/a-element.html",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fa-element.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fa-element.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,8 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<base id=base>\n+<div id=log></div>\n+<script src=resources/a-element.js></script>\n+<!-- Other dependencies: resources/urltestdata.json -->"
        },
        {
            "sha": "e77d96f03d821d4fdcd8cfa17f05ebe1b8237fe7",
            "filename": "test/fixtures/wpt/url/data-uri-fragment.html",
            "status": "added",
            "additions": 34,
            "deletions": 0,
            "changes": 34,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fdata-uri-fragment.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fdata-uri-fragment.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fdata-uri-fragment.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,34 @@\n+<!DOCTYPE html>\n+<meta charset=\"utf-8\">\n+<title>Data URI parsing of fragments</title>\n+<link rel=\"help\" href=\"https://url.spec.whatwg.org/\">\n+<meta name=\"assert\" content=\"Fragments should not be included as part of a data URI's body\">\n+\n+<script src=\"/resources/testharness.js\"></script>\n+<script src=\"/resources/testharnessreport.js\"></script>\n+\n+<iframe id=\"iframe\"></iframe>\n+\n+<script>\n+const IFRAME_DATA_SRC = `data:text/html,\n+    <style>:target { color: green; }<\\/style>\n+    <script>window.addEventListener('load', function() {\n+      const data = {\n+        foo_matches_target_selector: document.getElementById('foo').matches(':target'),\n+        body_html: document.body.innerHTML,\n+      };\n+      parent.postMessage(data, '*');\n+    });<\\/script>\n+    <p id=\"foo\">This should be the only visible text.</p>#foo`.replace('\\n', '');\n+\n+async_test(function(t) {\n+  window.addEventListener(\"message\", t.step_func_done(function(event) {\n+    assert_true(event.data.foo_matches_target_selector);\n+    assert_equals(event.data.body_html,\n+        '<p id=\"foo\">This should be the only visible text.</p>');\n+  }));\n+\n+  const iframe = document.getElementById(\"iframe\");\n+  iframe.src = IFRAME_DATA_SRC;\n+});\n+</script>"
        },
        {
            "sha": "13a90cc8d097c1631022d9cc1ec636fca19b256d",
            "filename": "test/fixtures/wpt/url/failure.html",
            "status": "added",
            "additions": 48,
            "deletions": 0,
            "changes": 48,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Ffailure.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Ffailure.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Ffailure.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,48 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<title>Test URL parser failure consistency</title>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<div id=log></div>\n+<iframe></iframe>\n+<script>\n+promise_test(() => fetch(\"resources/urltestdata.json\").then(res => res.json()).then(runTests), \"Loading dataâ¦\")\n+\n+function runTests(testData) {\n+  for(const test of testData) {\n+    if (typeof test === \"string\" || !test.failure || test.base !== \"about:blank\") {\n+      continue\n+    }\n+\n+    const name = test.input + \" should throw\"\n+\n+    self.test(() => { // URL's constructor's first argument is tested by url-constructor.html\n+      // If a URL fails to parse with any valid base, it must also fail to parse with no base, i.e.\n+      // when used as a base URL itself.\n+      assert_throws(new TypeError(), () => new URL(\"about:blank\", test.input));\n+    }, \"URL's constructor's base argument: \" + name)\n+\n+    self.test(() => {\n+      const url = new URL(\"about:blank\")\n+      assert_throws(new TypeError, () => url.href = test.input)\n+    }, \"URL's href: \" + name)\n+\n+    self.test(() => {\n+      const client = new XMLHttpRequest()\n+      assert_throws(\"SyntaxError\", () => client.open(\"GET\", test.input))\n+    }, \"XHR: \" + name)\n+\n+    self.test(() => {\n+      assert_throws(new TypeError, () => self.navigator.sendBeacon(test.input))\n+    }, \"sendBeacon(): \" + name)\n+\n+    self.test(() => {\n+      assert_throws(new TypeError, () => self[0].location = test.input)\n+    }, \"Location's href: \" + name)\n+\n+    self.test(() => {\n+      assert_throws(\"SyntaxError\", () => self.open(test.input).close())\n+    }, \"window.open(): \" + name)\n+  }\n+}\n+</script>"
        },
        {
            "sha": "c3797ad263850c7d3765bbefab24af10ba6e890a",
            "filename": "test/fixtures/wpt/url/historical.any.js",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fhistorical.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fhistorical.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fhistorical.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,29 @@\n+test(function() {\n+  assert_false(\"searchParams\" in self.location,\n+               \"location object should not have a searchParams attribute\");\n+}, \"searchParams on location object\");\n+\n+if(self.GLOBAL.isWindow()) {\n+  test(() => {\n+    assert_false(\"searchParams\" in document.createElement(\"a\"))\n+    assert_false(\"searchParams\" in document.createElement(\"area\"))\n+  }, \"<a> and <area>.searchParams should be undefined\");\n+}\n+\n+test(function() {\n+  var url = new URL(\"./foo\", \"http://www.example.org\");\n+  assert_equals(url.href, \"http://www.example.org/foo\");\n+  assert_throws(new TypeError(), function() {\n+    url.href = \"./bar\";\n+  });\n+}, \"Setting URL's href attribute and base URLs\");\n+\n+test(function() {\n+  assert_equals(URL.domainToASCII, undefined);\n+}, \"URL.domainToASCII should be undefined\");\n+\n+test(function() {\n+  assert_equals(URL.domainToUnicode, undefined);\n+}, \"URL.domainToUnicode should be undefined\");\n+\n+done();"
        },
        {
            "sha": "4a0e52f12b3c32b63cd4723b6b68bfd793e02700",
            "filename": "test/fixtures/wpt/url/idlharness.any.js",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fidlharness.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fidlharness.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fidlharness.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,13 @@\n+// META: script=/resources/WebIDLParser.js\n+// META: script=/resources/idlharness.js\n+\n+idl_test(\n+  ['url'],\n+  [], // no deps\n+  idl_array => {\n+    idl_array.add_objects({\n+      URL: ['new URL(\"http://foo\")'],\n+      URLSearchParams: ['new URLSearchParams(\"hi=there&thank=you\")']\n+    });\n+  }\n+);"
        },
        {
            "sha": "3b8cb1cbbe7c75a7d64442b59f2ad4888cef2f68",
            "filename": "test/fixtures/wpt/url/resources/a-element-origin.js",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element-origin.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element-origin.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element-origin.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,25 @@\n+promise_test(() => fetch(\"resources/urltestdata.json\").then(res => res.json()).then(runURLTests), \"Loading dataâ¦\");\n+\n+function setBase(base) {\n+  document.getElementById(\"base\").href = base\n+}\n+\n+function bURL(url, base) {\n+  base = base || \"about:blank\"\n+  setBase(base)\n+  var a = document.createElement(\"a\")\n+  a.setAttribute(\"href\", url)\n+  return a\n+}\n+\n+function runURLTests(urltests) {\n+  for(var i = 0, l = urltests.length; i < l; i++) {\n+    var expected = urltests[i]\n+    if (typeof expected === \"string\" || !(\"origin\" in expected)) continue\n+\n+    test(function() {\n+      var url = bURL(expected.input, expected.base)\n+      assert_equals(url.origin, expected.origin, \"origin\")\n+    }, \"Parsing origin: <\" + expected.input + \"> against <\" + expected.base + \">\")\n+  }\n+}"
        },
        {
            "sha": "f64531bc8bd5285ae9f2c35cd38f8a739ee39e72",
            "filename": "test/fixtures/wpt/url/resources/a-element.js",
            "status": "added",
            "additions": 42,
            "deletions": 0,
            "changes": 42,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fa-element.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,42 @@\n+promise_test(() => fetch(\"resources/urltestdata.json\").then(res => res.json()).then(runURLTests), \"Loading dataâ¦\");\n+\n+function setBase(base) {\n+  document.getElementById(\"base\").href = base\n+}\n+\n+function bURL(url, base) {\n+  base = base || \"about:blank\"\n+  setBase(base)\n+  var a = document.createElement(\"a\")\n+  a.setAttribute(\"href\", url)\n+  return a\n+}\n+\n+function runURLTests(urltests) {\n+  for(var i = 0, l = urltests.length; i < l; i++) {\n+    var expected = urltests[i]\n+    if (typeof expected === \"string\") continue // skip comments\n+\n+    test(function() {\n+      var url = bURL(expected.input, expected.base)\n+      if(expected.failure) {\n+        if(url.protocol !== ':') {\n+          assert_unreached(\"Expected URL to fail parsing\")\n+        }\n+        assert_equals(url.href, expected.input, \"failure should set href to input\")\n+        return\n+      }\n+\n+      assert_equals(url.href, expected.href, \"href\")\n+      assert_equals(url.protocol, expected.protocol, \"protocol\")\n+      assert_equals(url.username, expected.username, \"username\")\n+      assert_equals(url.password, expected.password, \"password\")\n+      assert_equals(url.host, expected.host, \"host\")\n+      assert_equals(url.hostname, expected.hostname, \"hostname\")\n+      assert_equals(url.port, expected.port, \"port\")\n+      assert_equals(url.pathname, expected.pathname, \"pathname\")\n+      assert_equals(url.search, expected.search, \"search\")\n+      assert_equals(url.hash, expected.hash, \"hash\")\n+    }, \"Parsing: <\" + expected.input + \"> against <\" + expected.base + \">\")\n+  }\n+}"
        },
        {
            "sha": "db23d9247328009772b3cdc9eb161f9787304857",
            "filename": "test/fixtures/wpt/url/resources/setters_tests.json",
            "status": "added",
            "additions": 1866,
            "deletions": 0,
            "changes": 1866,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fsetters_tests.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fsetters_tests.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Fsetters_tests.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,1866 @@\n+{\n+    \"comment\": [\n+        \"## Tests for setters of https://url.spec.whatwg.org/#urlutils-members\",\n+        \"\",\n+        \"This file contains a JSON object.\",\n+        \"Other than 'comment', each key is an attribute of the `URL` interface\",\n+        \"defined in WHATWGâs URL Standard.\",\n+        \"The values are arrays of test case objects for that attribute.\",\n+        \"\",\n+        \"To run a test case for the attribute `attr`:\",\n+        \"\",\n+        \"* Create a new `URL` object with the value for the 'href' key\",\n+        \"  the constructor single parameter. (Without a base URL.)\",\n+        \"  This must not throw.\",\n+        \"* Set the attribute `attr` to (invoke its setter with)\",\n+        \"  with the value of for 'new_value' key.\",\n+        \"* The value for the 'expected' key is another object.\",\n+        \"  For each `key` / `value` pair of that object,\",\n+        \"  get the attribute `key` (invoke its getter).\",\n+        \"  The returned string must be equal to `value`.\",\n+        \"\",\n+        \"Note: the 'href' setter is already covered by urltestdata.json.\"\n+    ],\n+    \"protocol\": [\n+        {\n+            \"comment\": \"The empty string is not a valid scheme. Setter leaves the URL unchanged.\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"b\",\n+            \"expected\": {\n+                \"href\": \"b://example.net\",\n+                \"protocol\": \"b:\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript:alert(1)\",\n+            \"new_value\": \"defuse\",\n+            \"expected\": {\n+                \"href\": \"defuse:alert(1)\",\n+                \"protocol\": \"defuse:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Upper-case ASCII is lower-cased\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"B\",\n+            \"expected\": {\n+                \"href\": \"b://example.net\",\n+                \"protocol\": \"b:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Non-ASCII is rejected\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"Ã©\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"No leading digit\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"0b\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"No leading punctuation\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"+b\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"bC0+-.\",\n+            \"expected\": {\n+                \"href\": \"bc0+-.://example.net\",\n+                \"protocol\": \"bc0+-.:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Only some punctuation is acceptable\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"b,c\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Non-ASCII is rejected\",\n+            \"href\": \"a://example.net\",\n+            \"new_value\": \"bÃ©\",\n+            \"expected\": {\n+                \"href\": \"a://example.net\",\n+                \"protocol\": \"a:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Canât switch from URL containing username/password/port to file\",\n+            \"href\": \"http://test@example.net\",\n+            \"new_value\": \"file\",\n+            \"expected\": {\n+                \"href\": \"http://test@example.net/\",\n+                \"protocol\": \"http:\"\n+            }\n+        },\n+        {\n+            \"href\": \"gopher://example.net:1234\",\n+            \"new_value\": \"file\",\n+            \"expected\": {\n+                \"href\": \"gopher://example.net:1234/\",\n+                \"protocol\": \"gopher:\"\n+            }\n+        },\n+        {\n+            \"href\": \"wss://x:x@example.net:1234\",\n+            \"new_value\": \"file\",\n+            \"expected\": {\n+                \"href\": \"wss://x:x@example.net:1234/\",\n+                \"protocol\": \"wss:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Canât switch from file URL with no host\",\n+            \"href\": \"file://localhost/\",\n+            \"new_value\": \"http\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"protocol\": \"file:\"\n+            }\n+        },\n+        {\n+            \"href\": \"file:///test\",\n+            \"new_value\": \"gopher\",\n+            \"expected\": {\n+                \"href\": \"file:///test\",\n+                \"protocol\": \"file:\"\n+            }\n+        },\n+        {\n+            \"href\": \"file:\",\n+            \"new_value\": \"wss\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"protocol\": \"file:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Canât switch from special scheme to non-special\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"b\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"protocol\": \"http:\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://hi/path\",\n+            \"new_value\": \"s\",\n+            \"expected\": {\n+                \"href\": \"file://hi/path\",\n+                \"protocol\": \"file:\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"s\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/\",\n+                \"protocol\": \"https:\"\n+            }\n+        },\n+        {\n+            \"href\": \"ftp://example.net\",\n+            \"new_value\": \"test\",\n+            \"expected\": {\n+                \"href\": \"ftp://example.net/\",\n+                \"protocol\": \"ftp:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base URL doesnât have a host, but URL in a special scheme must.\",\n+            \"href\": \"mailto:me@example.net\",\n+            \"new_value\": \"http\",\n+            \"expected\": {\n+                \"href\": \"mailto:me@example.net\",\n+                \"protocol\": \"mailto:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Canât switch from non-special scheme to special\",\n+            \"href\": \"ssh://me@example.net\",\n+            \"new_value\": \"http\",\n+            \"expected\": {\n+                \"href\": \"ssh://me@example.net\",\n+                \"protocol\": \"ssh:\"\n+            }\n+        },\n+        {\n+            \"href\": \"ssh://me@example.net\",\n+            \"new_value\": \"gopher\",\n+            \"expected\": {\n+                \"href\": \"ssh://me@example.net\",\n+                \"protocol\": \"ssh:\"\n+            }\n+        },\n+        {\n+            \"href\": \"ssh://me@example.net\",\n+            \"new_value\": \"file\",\n+            \"expected\": {\n+                \"href\": \"ssh://me@example.net\",\n+                \"protocol\": \"ssh:\"\n+            }\n+        },\n+        {\n+            \"href\": \"ssh://example.net\",\n+            \"new_value\": \"file\",\n+            \"expected\": {\n+                \"href\": \"ssh://example.net\",\n+                \"protocol\": \"ssh:\"\n+            }\n+        },\n+        {\n+            \"href\": \"nonsense:///test\",\n+            \"new_value\": \"https\",\n+            \"expected\": {\n+                \"href\": \"nonsense:///test\",\n+                \"protocol\": \"nonsense:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after the first ':' is ignored\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"https:foo : bar\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/\",\n+                \"protocol\": \"https:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after the first ':' is ignored\",\n+            \"href\": \"data:text/html,<p>Test\",\n+            \"new_value\": \"view-source+data:foo : bar\",\n+            \"expected\": {\n+                \"href\": \"view-source+data:text/html,<p>Test\",\n+                \"protocol\": \"view-source+data:\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port is set to null if it is the default for new scheme.\",\n+            \"href\": \"http://foo.com:443/\",\n+            \"new_value\": \"https\",\n+            \"expected\": {\n+                \"href\": \"https://foo.com/\",\n+                \"protocol\": \"https:\",\n+                \"port\": \"\"\n+            }\n+        }\n+    ],\n+    \"username\": [\n+        {\n+            \"comment\": \"No host means no username\",\n+            \"href\": \"file:///home/you/index.html\",\n+            \"new_value\": \"me\",\n+            \"expected\": {\n+                \"href\": \"file:///home/you/index.html\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"No host means no username\",\n+            \"href\": \"unix:/run/foo.socket\",\n+            \"new_value\": \"me\",\n+            \"expected\": {\n+                \"href\": \"unix:/run/foo.socket\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no username\",\n+            \"href\": \"mailto:you@example.net\",\n+            \"new_value\": \"me\",\n+            \"expected\": {\n+                \"href\": \"mailto:you@example.net\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript:alert(1)\",\n+            \"new_value\": \"wario\",\n+            \"expected\": {\n+                \"href\": \"javascript:alert(1)\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"me\",\n+            \"expected\": {\n+                \"href\": \"http://me@example.net/\",\n+                \"username\": \"me\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://:secret@example.net\",\n+            \"new_value\": \"me\",\n+            \"expected\": {\n+                \"href\": \"http://me:secret@example.net/\",\n+                \"username\": \"me\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://me@example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://me:secret@example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://:secret@example.net/\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"UTF-8 percent encoding with the userinfo encode set.\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"\\u0000\\u0001\\t\\n\\r\\u001f !\\\"#$%&'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~\\u007f\\u0080\\u0081ÃÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://%00%01%09%0A%0D%1F%20!%22%23$%&'()*+,-.%2F09%3A%3B%3C%3D%3E%3F%40AZ%5B%5C%5D%5E_%60az%7B%7C%7D~%7F%C2%80%C2%81%C3%89%C3%A9@example.net/\",\n+                \"username\": \"%00%01%09%0A%0D%1F%20!%22%23$%&'()*+,-.%2F09%3A%3B%3C%3D%3E%3F%40AZ%5B%5C%5D%5E_%60az%7B%7C%7D~%7F%C2%80%C2%81%C3%89%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Bytes already percent-encoded are left as-is.\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"%c3%89tÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://%c3%89t%C3%A9@example.net/\",\n+                \"username\": \"%c3%89t%C3%A9\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc:///\",\n+            \"new_value\": \"x\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"username\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript://x/\",\n+            \"new_value\": \"wario\",\n+            \"expected\": {\n+                \"href\": \"javascript://wario@x/\",\n+                \"username\": \"wario\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://test/\",\n+            \"new_value\": \"test\",\n+            \"expected\": {\n+                \"href\": \"file://test/\",\n+                \"username\": \"\"\n+            }\n+        }\n+    ],\n+    \"password\": [\n+        {\n+            \"comment\": \"No host means no password\",\n+            \"href\": \"file:///home/me/index.html\",\n+            \"new_value\": \"secret\",\n+            \"expected\": {\n+                \"href\": \"file:///home/me/index.html\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"No host means no password\",\n+            \"href\": \"unix:/run/foo.socket\",\n+            \"new_value\": \"secret\",\n+            \"expected\": {\n+                \"href\": \"unix:/run/foo.socket\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no password\",\n+            \"href\": \"mailto:me@example.net\",\n+            \"new_value\": \"secret\",\n+            \"expected\": {\n+                \"href\": \"mailto:me@example.net\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"secret\",\n+            \"expected\": {\n+                \"href\": \"http://:secret@example.net/\",\n+                \"password\": \"secret\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://me@example.net\",\n+            \"new_value\": \"secret\",\n+            \"expected\": {\n+                \"href\": \"http://me:secret@example.net/\",\n+                \"password\": \"secret\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://:secret@example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://me:secret@example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://me@example.net/\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"UTF-8 percent encoding with the userinfo encode set.\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"\\u0000\\u0001\\t\\n\\r\\u001f !\\\"#$%&'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~\\u007f\\u0080\\u0081ÃÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://:%00%01%09%0A%0D%1F%20!%22%23$%&'()*+,-.%2F09%3A%3B%3C%3D%3E%3F%40AZ%5B%5C%5D%5E_%60az%7B%7C%7D~%7F%C2%80%C2%81%C3%89%C3%A9@example.net/\",\n+                \"password\": \"%00%01%09%0A%0D%1F%20!%22%23$%&'()*+,-.%2F09%3A%3B%3C%3D%3E%3F%40AZ%5B%5C%5D%5E_%60az%7B%7C%7D~%7F%C2%80%C2%81%C3%89%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Bytes already percent-encoded are left as-is.\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"%c3%89tÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://:%c3%89t%C3%A9@example.net/\",\n+                \"password\": \"%c3%89t%C3%A9\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc:///\",\n+            \"new_value\": \"x\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"password\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript://x/\",\n+            \"new_value\": \"bowser\",\n+            \"expected\": {\n+                \"href\": \"javascript://:bowser@x/\",\n+                \"password\": \"bowser\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://test/\",\n+            \"new_value\": \"test\",\n+            \"expected\": {\n+                \"href\": \"file://test/\",\n+                \"password\": \"\"\n+            }\n+        }\n+    ],\n+    \"host\": [\n+        {\n+            \"comment\": \"Non-special scheme\",\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u0000\",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u0009\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u000A\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u000D\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \" \",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"#\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"/\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"?\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"@\",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"Ã\",\n+            \"expected\": {\n+                \"href\": \"sc://%C3%9F/\",\n+                \"host\": \"%C3%9F\",\n+                \"hostname\": \"%C3%9F\"\n+            }\n+        },\n+        {\n+            \"comment\": \"IDNA Nontransitional_Processing\",\n+            \"href\": \"https://x/\",\n+            \"new_value\": \"Ã\",\n+            \"expected\": {\n+                \"href\": \"https://xn--zca/\",\n+                \"host\": \"xn--zca\",\n+                \"hostname\": \"xn--zca\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no host\",\n+            \"href\": \"mailto:me@example.net\",\n+            \"new_value\": \"example.com\",\n+            \"expected\": {\n+                \"href\": \"mailto:me@example.net\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no password\",\n+            \"href\": \"data:text/plain,Stuff\",\n+            \"new_value\": \"example.net\",\n+            \"expected\": {\n+                \"href\": \"data:text/plain,Stuff\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"example.com:8080\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port number is unchanged if not specified in the new value\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"example.com\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port number is unchanged if not specified\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"example.com:\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"The empty host is not valid for special schemes\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"comment\": \"The empty host is OK for non-special schemes\",\n+            \"href\": \"view-source+http://example.net/foo\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"view-source+http:///foo\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Path-only URLs can gain a host\",\n+            \"href\": \"a:/foo\",\n+            \"new_value\": \"example.net\",\n+            \"expected\": {\n+                \"href\": \"a://example.net/foo\",\n+                \"host\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"comment\": \"IPv4 address syntax is normalized\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"0x7F000001:8080\",\n+            \"expected\": {\n+                \"href\": \"http://127.0.0.1:8080/\",\n+                \"host\": \"127.0.0.1:8080\",\n+                \"hostname\": \"127.0.0.1\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"IPv6 address syntax is normalized\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"[::0:01]:2\",\n+            \"expected\": {\n+                \"href\": \"http://[::1]:2/\",\n+                \"host\": \"[::1]:2\",\n+                \"hostname\": \"[::1]\",\n+                \"port\": \"2\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is removed\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"example.com:80\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is removed\",\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"example.com:443\",\n+            \"expected\": {\n+                \"href\": \"https://example.com/\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is only removed for the relevant scheme\",\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"example.com:80\",\n+            \"expected\": {\n+                \"href\": \"https://example.com:80/\",\n+                \"host\": \"example.com:80\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"80\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port number is removed if new port is scheme default and existing URL has a non-default port\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"example.com:80\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a / delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com/stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a / delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080/stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a ? delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com?stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a ? delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080?stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a # delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com#stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a # delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080#stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a \\\\ delimiter is ignored for special schemes\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a \\\\ delimiter is ignored for special schemes\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"\\\\ is not a delimiter for non-special schemes, but still forbidden in hosts\",\n+            \"href\": \"view-source+http://example.net/path\",\n+            \"new_value\": \"example.com\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"view-source+http://example.net/path\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"view-source+http://example.net/path\",\n+            \"new_value\": \"example.com:8080stuff2\",\n+            \"expected\": {\n+                \"href\": \"view-source+http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080stuff2\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080+2\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port numbers are 16 bit integers\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:65535\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:65535/path\",\n+                \"host\": \"example.com:65535\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"65535\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port numbers are 16 bit integers, overflowing is an error. Hostname is still set, though.\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:65536\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Broken IPv6\",\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[google.com]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.3.4x]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.3.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://y/\",\n+            \"new_value\": \"x:123\",\n+            \"expected\": {\n+                \"href\": \"file://y/\",\n+                \"host\": \"y\",\n+                \"hostname\": \"y\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://y/\",\n+            \"new_value\": \"loc%41lhost\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://hi/x\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"file:///x\",\n+                \"host\": \"\",\n+                \"hostname\": \"\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://test@test/\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"sc://test@test/\",\n+                \"host\": \"test\",\n+                \"hostname\": \"test\",\n+                \"username\": \"test\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://test:12/\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"sc://test:12/\",\n+                \"host\": \"test:12\",\n+                \"hostname\": \"test\",\n+                \"port\": \"12\"\n+            }\n+        }\n+    ],\n+    \"hostname\": [\n+        {\n+            \"comment\": \"Non-special scheme\",\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u0000\",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u0009\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u000A\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"\\u000D\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \" \",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"#\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"/\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"?\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"@\",\n+            \"expected\": {\n+                \"href\": \"sc://x/\",\n+                \"host\": \"x\",\n+                \"hostname\": \"x\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no host\",\n+            \"href\": \"mailto:me@example.net\",\n+            \"new_value\": \"example.com\",\n+            \"expected\": {\n+                \"href\": \"mailto:me@example.net\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Cannot-be-a-base means no password\",\n+            \"href\": \"data:text/plain,Stuff\",\n+            \"new_value\": \"example.net\",\n+            \"expected\": {\n+                \"href\": \"data:text/plain,Stuff\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"example.com\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"The empty host is not valid for special schemes\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"comment\": \"The empty host is OK for non-special schemes\",\n+            \"href\": \"view-source+http://example.net/foo\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"view-source+http:///foo\",\n+                \"host\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Path-only URLs can gain a host\",\n+            \"href\": \"a:/foo\",\n+            \"new_value\": \"example.net\",\n+            \"expected\": {\n+                \"href\": \"a://example.net/foo\",\n+                \"host\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"comment\": \"IPv4 address syntax is normalized\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"0x7F000001\",\n+            \"expected\": {\n+                \"href\": \"http://127.0.0.1:8080/\",\n+                \"host\": \"127.0.0.1:8080\",\n+                \"hostname\": \"127.0.0.1\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"IPv6 address syntax is normalized\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"[::0:01]\",\n+            \"expected\": {\n+                \"href\": \"http://[::1]/\",\n+                \"host\": \"[::1]\",\n+                \"hostname\": \"[::1]\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a : delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com:8080\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a : delimiter is ignored\",\n+            \"href\": \"http://example.net:8080/path\",\n+            \"new_value\": \"example.com:\",\n+            \"expected\": {\n+                \"href\": \"http://example.com:8080/path\",\n+                \"host\": \"example.com:8080\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a / delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com/stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a ? delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com?stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a # delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com#stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a \\\\ delimiter is ignored for special schemes\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"example.com\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.com/path\",\n+                \"host\": \"example.com\",\n+                \"hostname\": \"example.com\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"\\\\ is not a delimiter for non-special schemes, but still forbidden in hosts\",\n+            \"href\": \"view-source+http://example.net/path\",\n+            \"new_value\": \"example.com\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"view-source+http://example.net/path\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Broken IPv6\",\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[google.com]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.3.4x]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.3.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.2.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net/\",\n+            \"new_value\": \"[::1.]\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://y/\",\n+            \"new_value\": \"x:123\",\n+            \"expected\": {\n+                \"href\": \"file://y/\",\n+                \"host\": \"y\",\n+                \"hostname\": \"y\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://y/\",\n+            \"new_value\": \"loc%41lhost\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"host\": \"\",\n+                \"hostname\": \"\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://hi/x\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"file:///x\",\n+                \"host\": \"\",\n+                \"hostname\": \"\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://test@test/\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"sc://test@test/\",\n+                \"host\": \"test\",\n+                \"hostname\": \"test\",\n+                \"username\": \"test\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://test:12/\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"sc://test:12/\",\n+                \"host\": \"test:12\",\n+                \"hostname\": \"test\",\n+                \"port\": \"12\"\n+            }\n+        }\n+    ],\n+    \"port\": [\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"8080\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port number is removed if empty is the new value\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is removed\",\n+            \"href\": \"http://example.net:8080\",\n+            \"new_value\": \"80\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is removed\",\n+            \"href\": \"https://example.net:4433\",\n+            \"new_value\": \"443\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/\",\n+                \"host\": \"example.net\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Default port number is only removed for the relevant scheme\",\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"80\",\n+            \"expected\": {\n+                \"href\": \"https://example.net:80/\",\n+                \"host\": \"example.net:80\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"80\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a / delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080/stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a ? delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080?stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a # delimiter is ignored\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080#stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Stuff after a \\\\ delimiter is ignored for special schemes\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080\\\\stuff\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"view-source+http://example.net/path\",\n+            \"new_value\": \"8080stuff2\",\n+            \"expected\": {\n+                \"href\": \"view-source+http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080stuff2\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Anything other than ASCII digit stops the port parser in a setter but is not an error\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"8080+2\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port numbers are 16 bit integers\",\n+            \"href\": \"http://example.net/path\",\n+            \"new_value\": \"65535\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:65535/path\",\n+                \"host\": \"example.net:65535\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"65535\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port numbers are 16 bit integers, overflowing is an error\",\n+            \"href\": \"http://example.net:8080/path\",\n+            \"new_value\": \"65536\",\n+            \"expected\": {\n+                \"href\": \"http://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Port numbers are 16 bit integers, overflowing is an error\",\n+            \"href\": \"non-special://example.net:8080/path\",\n+            \"new_value\": \"65536\",\n+            \"expected\": {\n+                \"href\": \"non-special://example.net:8080/path\",\n+                \"host\": \"example.net:8080\",\n+                \"hostname\": \"example.net\",\n+                \"port\": \"8080\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://test/\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"file://test/\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"file://localhost/\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"non-base:value\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"non-base:value\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc:///\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"sc:///\",\n+                \"port\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"sc://x/\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"sc://x:12/\",\n+                \"port\": \"12\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript://x/\",\n+            \"new_value\": \"12\",\n+            \"expected\": {\n+                \"href\": \"javascript://x:12/\",\n+                \"port\": \"12\"\n+            }\n+        }\n+    ],\n+    \"pathname\": [\n+        {\n+            \"comment\": \"Cannot-be-a-base donât have a path\",\n+            \"href\": \"mailto:me@example.net\",\n+            \"new_value\": \"/foo\",\n+            \"expected\": {\n+                \"href\": \"mailto:me@example.net\",\n+                \"pathname\": \"me@example.net\"\n+            }\n+        },\n+        {\n+            \"href\": \"unix:/run/foo.socket?timeout=10\",\n+            \"new_value\": \"/var/log/../run/bar.socket\",\n+            \"expected\": {\n+                \"href\": \"unix:/var/run/bar.socket?timeout=10\",\n+                \"pathname\": \"/var/run/bar.socket\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net#nav\",\n+            \"new_value\": \"home\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/home#nav\",\n+                \"pathname\": \"/home\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net#nav\",\n+            \"new_value\": \"../home\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/home#nav\",\n+                \"pathname\": \"/home\"\n+            }\n+        },\n+        {\n+            \"comment\": \"\\\\ is a segment delimiter for 'special' URLs\",\n+            \"href\": \"http://example.net/home?lang=fr#nav\",\n+            \"new_value\": \"\\\\a\\\\%2E\\\\b\\\\%2e.\\\\c\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/a/c?lang=fr#nav\",\n+                \"pathname\": \"/a/c\"\n+            }\n+        },\n+        {\n+            \"comment\": \"\\\\ is *not* a segment delimiter for non-'special' URLs\",\n+            \"href\": \"view-source+http://example.net/home?lang=fr#nav\",\n+            \"new_value\": \"\\\\a\\\\%2E\\\\b\\\\%2e.\\\\c\",\n+            \"expected\": {\n+                \"href\": \"view-source+http://example.net/\\\\a\\\\%2E\\\\b\\\\%2e.\\\\c?lang=fr#nav\",\n+                \"pathname\": \"/\\\\a\\\\%2E\\\\b\\\\%2e.\\\\c\"\n+            }\n+        },\n+        {\n+            \"comment\": \"UTF-8 percent encoding with the default encode set. Tabs and newlines are removed.\",\n+            \"href\": \"a:/\",\n+            \"new_value\": \"\\u0000\\u0001\\t\\n\\r\\u001f !\\\"#$%&'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~\\u007f\\u0080\\u0081ÃÃ©\",\n+            \"expected\": {\n+                \"href\": \"a:/%00%01%1F%20!%22%23$%&'()*+,-./09:;%3C=%3E%3F@AZ[\\\\]^_%60az%7B|%7D~%7F%C2%80%C2%81%C3%89%C3%A9\",\n+                \"pathname\": \"/%00%01%1F%20!%22%23$%&'()*+,-./09:;%3C=%3E%3F@AZ[\\\\]^_%60az%7B|%7D~%7F%C2%80%C2%81%C3%89%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Bytes already percent-encoded are left as-is, including %2E outside dotted segments.\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"%2e%2E%c3%89tÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/%2e%2E%c3%89t%C3%A9\",\n+                \"pathname\": \"/%2e%2E%c3%89t%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"? needs to be encoded\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"?\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/%3F\",\n+                \"pathname\": \"/%3F\"\n+            }\n+        },\n+        {\n+            \"comment\": \"# needs to be encoded\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/%23\",\n+                \"pathname\": \"/%23\"\n+            }\n+        },\n+        {\n+            \"comment\": \"? needs to be encoded, non-special scheme\",\n+            \"href\": \"sc://example.net\",\n+            \"new_value\": \"?\",\n+            \"expected\": {\n+                \"href\": \"sc://example.net/%3F\",\n+                \"pathname\": \"/%3F\"\n+            }\n+        },\n+        {\n+            \"comment\": \"# needs to be encoded, non-special scheme\",\n+            \"href\": \"sc://example.net\",\n+            \"new_value\": \"#\",\n+            \"expected\": {\n+                \"href\": \"sc://example.net/%23\",\n+                \"pathname\": \"/%23\"\n+            }\n+        },\n+        {\n+            \"comment\": \"File URLs and (back)slashes\",\n+            \"href\": \"file://monkey/\",\n+            \"new_value\": \"\\\\\\\\\",\n+            \"expected\": {\n+                \"href\": \"file://monkey/\",\n+                \"pathname\": \"/\"\n+            }\n+        },\n+        {\n+            \"comment\": \"File URLs and (back)slashes\",\n+            \"href\": \"file:///unicorn\",\n+            \"new_value\": \"//\\\\/\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"pathname\": \"/\"\n+            }\n+        },\n+        {\n+            \"comment\": \"File URLs and (back)slashes\",\n+            \"href\": \"file:///unicorn\",\n+            \"new_value\": \"//monkey/..//\",\n+            \"expected\": {\n+                \"href\": \"file:///\",\n+                \"pathname\": \"/\"\n+            }\n+        }\n+    ],\n+    \"search\": [\n+        {\n+            \"href\": \"https://example.net#nav\",\n+            \"new_value\": \"lang=fr\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=fr#nav\",\n+                \"search\": \"?lang=fr\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"lang=fr\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=fr#nav\",\n+                \"search\": \"?lang=fr\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"?lang=fr\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=fr#nav\",\n+                \"search\": \"?lang=fr\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"??lang=fr\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/??lang=fr#nav\",\n+                \"search\": \"??lang=fr\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"?\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?#nav\",\n+                \"search\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/#nav\",\n+                \"search\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/\",\n+                \"search\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/\",\n+                \"search\": \"\"\n+            }\n+        },\n+        {\n+            \"comment\": \"UTF-8 percent encoding with the query encode set. Tabs and newlines are removed.\",\n+            \"href\": \"a:/\",\n+            \"new_value\": \"\\u0000\\u0001\\t\\n\\r\\u001f !\\\"#$%&'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~\\u007f\\u0080\\u0081ÃÃ©\",\n+            \"expected\": {\n+                \"href\": \"a:/?%00%01%1F%20!%22%23$%&'()*+,-./09:;%3C=%3E?@AZ[\\\\]^_`az{|}~%7F%C2%80%C2%81%C3%89%C3%A9\",\n+                \"search\": \"?%00%01%1F%20!%22%23$%&'()*+,-./09:;%3C=%3E?@AZ[\\\\]^_`az{|}~%7F%C2%80%C2%81%C3%89%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Bytes already percent-encoded are left as-is\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"%c3%89tÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/?%c3%89t%C3%A9\",\n+                \"search\": \"?%c3%89t%C3%A9\"\n+            }\n+        }\n+    ],\n+    \"hash\": [\n+        {\n+            \"href\": \"https://example.net\",\n+            \"new_value\": \"main\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/#main\",\n+                \"hash\": \"#main\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net#nav\",\n+            \"new_value\": \"main\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/#main\",\n+                \"hash\": \"#main\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US\",\n+            \"new_value\": \"##nav\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=en-US##nav\",\n+                \"hash\": \"##nav\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"#main\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=en-US#main\",\n+                \"hash\": \"#main\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"#\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=en-US#\",\n+                \"hash\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"https://example.net?lang=en-US#nav\",\n+            \"new_value\": \"\",\n+            \"expected\": {\n+                \"href\": \"https://example.net/?lang=en-US\",\n+                \"hash\": \"\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#foo bar\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#foo%20bar\",\n+                \"hash\": \"#foo%20bar\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#foo\\\"bar\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#foo%22bar\",\n+                \"hash\": \"#foo%22bar\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#foo<bar\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#foo%3Cbar\",\n+                \"hash\": \"#foo%3Cbar\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#foo>bar\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#foo%3Ebar\",\n+                \"hash\": \"#foo%3Ebar\"\n+            }\n+        },\n+        {\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"#foo`bar\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#foo%60bar\",\n+                \"hash\": \"#foo%60bar\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Simple percent-encoding; nuls, tabs, and newlines are removed\",\n+            \"href\": \"a:/\",\n+            \"new_value\": \"\\u0000\\u0001\\t\\n\\r\\u001f !\\\"#$%&'()*+,-./09:;<=>?@AZ[\\\\]^_`az{|}~\\u007f\\u0080\\u0081ÃÃ©\",\n+            \"expected\": {\n+                \"href\": \"a:/#%01%1F%20!%22#$%&'()*+,-./09:;%3C=%3E?@AZ[\\\\]^_%60az{|}~%7F%C2%80%C2%81%C3%89%C3%A9\",\n+                \"hash\": \"#%01%1F%20!%22#$%&'()*+,-./09:;%3C=%3E?@AZ[\\\\]^_%60az{|}~%7F%C2%80%C2%81%C3%89%C3%A9\"\n+            }\n+        },\n+        {\n+            \"comment\": \"Bytes already percent-encoded are left as-is\",\n+            \"href\": \"http://example.net\",\n+            \"new_value\": \"%c3%89tÃ©\",\n+            \"expected\": {\n+                \"href\": \"http://example.net/#%c3%89t%C3%A9\",\n+                \"hash\": \"#%c3%89t%C3%A9\"\n+            }\n+        },\n+        {\n+            \"href\": \"javascript:alert(1)\",\n+            \"new_value\": \"castle\",\n+            \"expected\": {\n+                \"href\": \"javascript:alert(1)#castle\",\n+                \"hash\": \"#castle\"\n+            }\n+        }\n+    ]\n+}"
        },
        {
            "sha": "814f06e794866d4d2a817418ad368bf4f5ff446a",
            "filename": "test/fixtures/wpt/url/resources/toascii.json",
            "status": "added",
            "additions": 149,
            "deletions": 0,
            "changes": 149,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Ftoascii.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Ftoascii.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Ftoascii.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,149 @@\n+[\n+  \"This resource is focused on highlighting issues with UTS #46 ToASCII\",\n+  {\n+    \"comment\": \"Label with hyphens in 3rd and 4th position\",\n+    \"input\": \"aa--\",\n+    \"output\": \"aa--\"\n+  },\n+  {\n+    \"input\": \"aâ --\",\n+    \"output\": \"xn--a---kp0a\"\n+  },\n+  {\n+    \"input\": \"ab--c\",\n+    \"output\": \"ab--c\"\n+  },\n+  {\n+    \"comment\": \"Label with leading hyphen\",\n+    \"input\": \"-x\",\n+    \"output\": \"-x\"\n+  },\n+  {\n+    \"input\": \"-â \",\n+    \"output\": \"xn----xhn\"\n+  },\n+  {\n+    \"input\": \"-x.xn--nxa\",\n+    \"output\": \"-x.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"-x.Î²\",\n+    \"output\": \"-x.xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"Label with trailing hyphen\",\n+    \"input\": \"x-.xn--nxa\",\n+    \"output\": \"x-.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"x-.Î²\",\n+    \"output\": \"x-.xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"Empty labels\",\n+    \"input\": \"x..xn--nxa\",\n+    \"output\": \"x..xn--nxa\"\n+  },\n+  {\n+    \"input\": \"x..Î²\",\n+    \"output\": \"x..xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"Invalid Punycode\",\n+    \"input\": \"xn--a\",\n+    \"output\": null\n+  },\n+  {\n+    \"input\": \"xn--a.xn--nxa\",\n+    \"output\": null\n+  },\n+  {\n+    \"input\": \"xn--a.Î²\",\n+    \"output\": null\n+  },\n+  {\n+    \"comment\": \"Valid Punycode\",\n+    \"input\": \"xn--nxa.xn--nxa\",\n+    \"output\": \"xn--nxa.xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"Mixed\",\n+    \"input\": \"xn--nxa.Î²\",\n+    \"output\": \"xn--nxa.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"ab--c.xn--nxa\",\n+    \"output\": \"ab--c.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"ab--c.Î²\",\n+    \"output\": \"ab--c.xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"CheckJoiners is true\",\n+    \"input\": \"\\u200D.example\",\n+    \"output\": null\n+  },\n+  {\n+    \"input\": \"xn--1ug.example\",\n+    \"output\": null\n+  },\n+  {\n+    \"comment\": \"CheckBidi is true\",\n+    \"input\": \"Ùa\",\n+    \"output\": null\n+  },\n+  {\n+    \"input\": \"xn--a-yoc\",\n+    \"output\": null\n+  },\n+  {\n+    \"comment\": \"processing_option is Nontransitional_Processing\",\n+    \"input\": \"à·à·âà¶»à·\",\n+    \"output\": \"xn--10cl1a0b660p\"\n+  },\n+  {\n+    \"input\": \"ÙØ§ÙÙâØ§Û\",\n+    \"output\": \"xn--mgba3gch31f060k\"\n+  },\n+  {\n+    \"comment\": \"U+FFFD\",\n+    \"input\": \"\\uFFFD.com\",\n+    \"output\": null\n+  },\n+  {\n+    \"comment\": \"U+FFFD character encoded in Punycode\",\n+    \"input\": \"xn--zn7c.com\",\n+    \"output\": null\n+  },\n+  {\n+    \"comment\": \"Label longer than 63 code points\",\n+    \"input\": \"x01234567890123456789012345678901234567890123456789012345678901x\",\n+    \"output\": \"x01234567890123456789012345678901234567890123456789012345678901x\"\n+  },\n+  {\n+    \"input\": \"x01234567890123456789012345678901234567890123456789012345678901â \",\n+    \"output\": \"xn--x01234567890123456789012345678901234567890123456789012345678901-6963b\"\n+  },\n+  {\n+    \"input\": \"x01234567890123456789012345678901234567890123456789012345678901x.xn--nxa\",\n+    \"output\": \"x01234567890123456789012345678901234567890123456789012345678901x.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"x01234567890123456789012345678901234567890123456789012345678901x.Î²\",\n+    \"output\": \"x01234567890123456789012345678901234567890123456789012345678901x.xn--nxa\"\n+  },\n+  {\n+    \"comment\": \"Domain excluding TLD longer than 253 code points\",\n+    \"input\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.x\",\n+    \"output\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.x\"\n+  },\n+  {\n+    \"input\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.xn--nxa\",\n+    \"output\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.xn--nxa\"\n+  },\n+  {\n+    \"input\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.Î²\",\n+    \"output\": \"01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.01234567890123456789012345678901234567890123456789.0123456789012345678901234567890123456789012345678.xn--nxa\"\n+  }\n+]"
        },
        {
            "sha": "26b8ea2e0bc9a166deef8af1a0df87e0a7e0fda4",
            "filename": "test/fixtures/wpt/url/resources/urltestdata.json",
            "status": "added",
            "additions": 6670,
            "deletions": 0,
            "changes": 6670,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Furltestdata.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Furltestdata.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Fresources%2Furltestdata.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611"
        },
        {
            "sha": "b28c664479a26aafddef076ce73ab448418d91fc",
            "filename": "test/fixtures/wpt/url/toascii.window.js",
            "status": "added",
            "additions": 54,
            "deletions": 0,
            "changes": 54,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Ftoascii.window.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Ftoascii.window.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Ftoascii.window.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,54 @@\n+promise_test(() => fetch(\"resources/toascii.json\").then(res => res.json()).then(runTests), \"Loading dataâ¦\");\n+\n+function makeURL(type, input) {\n+  input = \"https://\" + input + \"/x\"\n+  if(type === \"url\") {\n+    return new URL(input)\n+  } else {\n+    const url = document.createElement(type)\n+    url.href = input\n+    return url\n+  }\n+}\n+\n+function runTests(tests) {\n+  for(var i = 0, l = tests.length; i < l; i++) {\n+    let hostTest = tests[i]\n+    if (typeof hostTest === \"string\") {\n+      continue // skip comments\n+    }\n+    const typeName = { \"url\": \"URL\", \"a\": \"<a>\", \"area\": \"<area>\" }\n+    ;[\"url\", \"a\", \"area\"].forEach((type) => {\n+      test(() => {\n+        if(hostTest.output !== null) {\n+          const url = makeURL(\"url\", hostTest.input)\n+          assert_equals(url.host, hostTest.output)\n+          assert_equals(url.hostname, hostTest.output)\n+          assert_equals(url.pathname, \"/x\")\n+          assert_equals(url.href, \"https://\" + hostTest.output + \"/x\")\n+        } else {\n+          if(type === \"url\") {\n+            assert_throws(new TypeError, () => makeURL(\"url\", hostTest.input))\n+          } else {\n+            const url = makeURL(type, hostTest.input)\n+            assert_equals(url.host, \"\")\n+            assert_equals(url.hostname, \"\")\n+            assert_equals(url.pathname, \"\")\n+            assert_equals(url.href, \"https://\" + hostTest.input + \"/x\")\n+          }\n+        }\n+      }, hostTest.input + \" (using \" + typeName[type] + \")\")\n+      ;[\"host\", \"hostname\"].forEach((val) => {\n+        test(() => {\n+          const url = makeURL(type, \"x\")\n+          url[val] = hostTest.input\n+          if(hostTest.output !== null) {\n+            assert_equals(url[val], hostTest.output)\n+          } else {\n+            assert_equals(url[val], \"x\")\n+          }\n+        }, hostTest.input + \" (using \" + typeName[type] + \".\" + val + \")\")\n+      })\n+    })\n+  }\n+}"
        },
        {
            "sha": "cb4c0db3571d2f20efb1215faa0ba867fb321c15",
            "filename": "test/fixtures/wpt/url/url-constructor.html",
            "status": "added",
            "additions": 44,
            "deletions": 0,
            "changes": 44,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-constructor.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-constructor.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furl-constructor.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,44 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<div id=log></div>\n+<script>\n+function bURL(url, base) {\n+  return new URL(url, base || \"about:blank\")\n+}\n+\n+function runURLTests(urltests) {\n+  for(var i = 0, l = urltests.length; i < l; i++) {\n+    var expected = urltests[i]\n+    if (typeof expected === \"string\") continue // skip comments\n+\n+    test(function() {\n+      if (expected.failure) {\n+        assert_throws(new TypeError(), function() {\n+          bURL(expected.input, expected.base)\n+        })\n+        return\n+      }\n+\n+      var url = bURL(expected.input, expected.base)\n+      assert_equals(url.href, expected.href, \"href\")\n+      assert_equals(url.protocol, expected.protocol, \"protocol\")\n+      assert_equals(url.username, expected.username, \"username\")\n+      assert_equals(url.password, expected.password, \"password\")\n+      assert_equals(url.host, expected.host, \"host\")\n+      assert_equals(url.hostname, expected.hostname, \"hostname\")\n+      assert_equals(url.port, expected.port, \"port\")\n+      assert_equals(url.pathname, expected.pathname, \"pathname\")\n+      assert_equals(url.search, expected.search, \"search\")\n+      if (\"searchParams\" in expected) {\n+        assert_true(\"searchParams\" in url)\n+        assert_equals(url.searchParams.toString(), expected.searchParams, \"searchParams\")\n+      }\n+      assert_equals(url.hash, expected.hash, \"hash\")\n+    }, \"Parsing: <\" + expected.input + \"> against <\" + expected.base + \">\")\n+  }\n+}\n+\n+promise_test(() => fetch(\"resources/urltestdata.json\").then(res => res.json()).then(runURLTests), \"Loading dataâ¦\");\n+</script>"
        },
        {
            "sha": "fccb643ed6c8069cc61fee276fbf5c69b3828850",
            "filename": "test/fixtures/wpt/url/url-origin.html",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-origin.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-origin.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furl-origin.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,24 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<div id=log></div>\n+<script>\n+promise_test(() => fetch(\"resources/urltestdata.json\").then(res => res.json()).then(runURLTests), \"Loading dataâ¦\");\n+\n+function bURL(url, base) {\n+  return new URL(url, base || \"about:blank\")\n+}\n+\n+function runURLTests(urltests) {\n+  for(var i = 0, l = urltests.length; i < l; i++) {\n+    var expected = urltests[i]\n+    if (typeof expected === \"string\" || !(\"origin\" in expected)) continue\n+\n+    test(function() {\n+      var url = bURL(expected.input, expected.base)\n+      assert_equals(url.origin, expected.origin, \"origin\")\n+    }, \"Origin parsing: <\" + expected.input + \"> against <\" + expected.base + \">\")\n+  }\n+}\n+</script>"
        },
        {
            "sha": "c55ae58d3b1e5be919296d541a01c65b56203e3a",
            "filename": "test/fixtures/wpt/url/url-searchparams.any.js",
            "status": "added",
            "additions": 72,
            "deletions": 0,
            "changes": 72,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-searchparams.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-searchparams.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furl-searchparams.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,72 @@\n+function bURL(url, base) {\n+  return new URL(url, base || \"about:blank\")\n+}\n+\n+function runURLSearchParamTests() {\n+  test(function() {\n+    var url = bURL('http://example.org/?a=b')\n+    assert_true(\"searchParams\" in url)\n+    var searchParams = url.searchParams\n+    assert_true(url.searchParams === searchParams, 'Object identity should hold.')\n+  }, 'URL.searchParams getter')\n+\n+  test(function() {\n+    var url = bURL('http://example.org/?a=b')\n+    assert_true(\"searchParams\" in url)\n+    var searchParams = url.searchParams\n+    assert_equals(searchParams.toString(), 'a=b')\n+\n+    searchParams.set('a', 'b')\n+    assert_equals(url.searchParams.toString(), 'a=b')\n+    assert_equals(url.search, '?a=b')\n+    url.search = ''\n+    assert_equals(url.searchParams.toString(), '')\n+    assert_equals(url.search, '')\n+    assert_equals(searchParams.toString(), '')\n+  }, 'URL.searchParams updating, clearing')\n+\n+  test(function() {\n+    'use strict'\n+    var urlString = 'http://example.org'\n+    var url = bURL(urlString)\n+    assert_throws(TypeError(), function() { url.searchParams = new URLSearchParams(urlString) })\n+  }, 'URL.searchParams setter, invalid values')\n+\n+  test(function() {\n+    var url = bURL('http://example.org/file?a=b&c=d')\n+    assert_true(\"searchParams\" in url)\n+    var searchParams = url.searchParams\n+    assert_equals(url.search, '?a=b&c=d')\n+    assert_equals(searchParams.toString(), 'a=b&c=d')\n+\n+    // Test that setting 'search' propagates to the URL object's query object.\n+    url.search = 'e=f&g=h'\n+    assert_equals(url.search, '?e=f&g=h')\n+    assert_equals(searchParams.toString(), 'e=f&g=h')\n+\n+    // ..and same but with a leading '?'.\n+    url.search = '?e=f&g=h'\n+    assert_equals(url.search, '?e=f&g=h')\n+    assert_equals(searchParams.toString(), 'e=f&g=h')\n+\n+    // And in the other direction, altering searchParams propagates\n+    // back to 'search'.\n+    searchParams.append('i', ' j ')\n+    assert_equals(url.search, '?e=f&g=h&i=+j+')\n+    assert_equals(url.searchParams.toString(), 'e=f&g=h&i=+j+')\n+    assert_equals(searchParams.get('i'), ' j ')\n+\n+    searchParams.set('e', 'updated')\n+    assert_equals(url.search, '?e=updated&g=h&i=+j+')\n+    assert_equals(searchParams.get('e'), 'updated')\n+\n+    var url2 = bURL('http://example.org/file??a=b&c=d')\n+    assert_equals(url2.search, '??a=b&c=d')\n+    assert_equals(url2.searchParams.toString(), '%3Fa=b&c=d')\n+\n+    url2.href = 'http://example.org/file??a=b'\n+    assert_equals(url2.search, '??a=b')\n+    assert_equals(url2.searchParams.toString(), '%3Fa=b')\n+  }, 'URL.searchParams and URL.search setters, update propagation')\n+}\n+runURLSearchParamTests()"
        },
        {
            "sha": "db30cf0774da445a18d9a6755b97ad1e13083b99",
            "filename": "test/fixtures/wpt/url/url-setters.html",
            "status": "added",
            "additions": 48,
            "deletions": 0,
            "changes": 48,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-setters.html",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-setters.html",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furl-setters.html?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,48 @@\n+<!doctype html>\n+<meta charset=utf-8>\n+<script src=/resources/testharness.js></script>\n+<script src=/resources/testharnessreport.js></script>\n+<div id=log></div>\n+<script>\n+promise_test(() => fetch(\"resources/setters_tests.json\").then(res => res.json()).then(runURLSettersTests), \"Loading dataâ¦\");\n+\n+function runURLSettersTests(all_test_cases) {\n+  for (var attribute_to_be_set in all_test_cases) {\n+    if (attribute_to_be_set == \"comment\") {\n+      continue;\n+    }\n+    var test_cases = all_test_cases[attribute_to_be_set];\n+    for(var i = 0, l = test_cases.length; i < l; i++) {\n+      var test_case = test_cases[i];\n+      var name = \"Setting <\" + test_case.href + \">.\" + attribute_to_be_set +\n+                 \" = '\" + test_case.new_value + \"'\";\n+      if (\"comment\" in test_case) {\n+        name += \" \" + test_case.comment;\n+      }\n+      test(function() {\n+        var url = new URL(test_case.href);\n+        url[attribute_to_be_set] = test_case.new_value;\n+        for (var attribute in test_case.expected) {\n+          assert_equals(url[attribute], test_case.expected[attribute])\n+        }\n+      }, \"URL: \" + name)\n+      test(function() {\n+        var url = document.createElement(\"a\");\n+        url.href = test_case.href;\n+        url[attribute_to_be_set] = test_case.new_value;\n+        for (var attribute in test_case.expected) {\n+          assert_equals(url[attribute], test_case.expected[attribute])\n+        }\n+      }, \"<a>: \" + name)\n+      test(function() {\n+        var url = document.createElement(\"area\");\n+        url.href = test_case.href;\n+        url[attribute_to_be_set] = test_case.new_value;\n+        for (var attribute in test_case.expected) {\n+          assert_equals(url[attribute], test_case.expected[attribute])\n+        }\n+      }, \"<area>: \" + name)\n+    }\n+  }\n+}\n+</script>"
        },
        {
            "sha": "65165f96c572d9b01fe6a5e27339882c387260dd",
            "filename": "test/fixtures/wpt/url/url-tojson.any.js",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-tojson.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furl-tojson.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furl-tojson.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,4 @@\n+test(() => {\n+  const a = new URL(\"https://example.com/\")\n+  assert_equals(JSON.stringify(a), \"\\\"https://example.com/\\\"\")\n+})"
        },
        {
            "sha": "65e894b94c26b0bd21d07706ff2601bd54a3d134",
            "filename": "test/fixtures/wpt/url/urlencoded-parser.any.js",
            "status": "added",
            "additions": 63,
            "deletions": 0,
            "changes": 63,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlencoded-parser.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlencoded-parser.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlencoded-parser.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,63 @@\n+[\n+  { \"input\": \"test\", \"output\": [[\"test\", \"\"]] },\n+  { \"input\": \"\\uFEFFtest=\\uFEFF\", \"output\": [[\"\\uFEFFtest\", \"\\uFEFF\"]] },\n+  { \"input\": \"%EF%BB%BFtest=%EF%BB%BF\", \"output\": [[\"\\uFEFFtest\", \"\\uFEFF\"]] },\n+  { \"input\": \"%FE%FF\", \"output\": [[\"\\uFFFD\\uFFFD\", \"\"]] },\n+  { \"input\": \"%FF%FE\", \"output\": [[\"\\uFFFD\\uFFFD\", \"\"]] },\n+  { \"input\": \"â &â =x\", \"output\": [[\"â \", \"\"], [\"â \", \"x\"]] },\n+  { \"input\": \"%C2\", \"output\": [[\"\\uFFFD\", \"\"]] },\n+  { \"input\": \"%C2x\", \"output\": [[\"\\uFFFDx\", \"\"]] },\n+  { \"input\": \"_charset_=windows-1252&test=%C2x\", \"output\": [[\"_charset_\", \"windows-1252\"], [\"test\", \"\\uFFFDx\"]] },\n+  { \"input\": '', \"output\": [] },\n+  { \"input\": 'a', \"output\": [['a', '']] },\n+  { \"input\": 'a=b', \"output\": [['a', 'b']] },\n+  { \"input\": 'a=', \"output\": [['a', '']] },\n+  { \"input\": '=b', \"output\": [['', 'b']] },\n+  { \"input\": '&', \"output\": [] },\n+  { \"input\": '&a', \"output\": [['a', '']] },\n+  { \"input\": 'a&', \"output\": [['a', '']] },\n+  { \"input\": 'a&a', \"output\": [['a', ''], ['a', '']] },\n+  { \"input\": 'a&b&c', \"output\": [['a', ''], ['b', ''], ['c', '']] },\n+  { \"input\": 'a=b&c=d', \"output\": [['a', 'b'], ['c', 'd']] },\n+  { \"input\": 'a=b&c=d&', \"output\": [['a', 'b'], ['c', 'd']] },\n+  { \"input\": '&&&a=b&&&&c=d&', \"output\": [['a', 'b'], ['c', 'd']] },\n+  { \"input\": 'a=a&a=b&a=c', \"output\": [['a', 'a'], ['a', 'b'], ['a', 'c']] },\n+  { \"input\": 'a==a', \"output\": [['a', '=a']] },\n+  { \"input\": 'a=a+b+c+d', \"output\": [['a', 'a b c d']] },\n+  { \"input\": '%=a', \"output\": [['%', 'a']] },\n+  { \"input\": '%a=a', \"output\": [['%a', 'a']] },\n+  { \"input\": '%a_=a', \"output\": [['%a_', 'a']] },\n+  { \"input\": '%61=a', \"output\": [['a', 'a']] },\n+  { \"input\": '%61+%4d%4D=', \"output\": [['a MM', '']] }\n+].forEach((val) => {\n+  test(() => {\n+    let sp = new URLSearchParams(val.input),\n+        i = 0\n+    for (let item of sp) {\n+       assert_array_equals(item, val.output[i])\n+       i++\n+    }\n+  }, \"URLSearchParams constructed with: \" + val.input)\n+\n+  promise_test(() => {\n+    let init = new Request(\"about:blank\", { body: val.input, method: \"LADIDA\", headers: {\"Content-Type\": \"application/x-www-form-urlencoded;charset=windows-1252\"} }).formData()\n+    return init.then((fd) => {\n+      let i = 0\n+      for (let item of fd) {\n+         assert_array_equals(item, val.output[i])\n+         i++\n+      }\n+    })\n+  }, \"request.formData() with input: \" + val.input)\n+\n+  promise_test(() => {\n+    let init = new Response(val.input, { headers: {\"Content-Type\": \"application/x-www-form-urlencoded;charset=shift_jis\"} }).formData()\n+    return init.then((fd) => {\n+      let i = 0\n+      for (let item of fd) {\n+         assert_array_equals(item, val.output[i])\n+         i++\n+      }\n+    })\n+  }, \"response.formData() with input: \" + val.input)\n+});"
        },
        {
            "sha": "5a7376144d0637e52cd470491f88779220b43b99",
            "filename": "test/fixtures/wpt/url/urlsearchparams-append.any.js",
            "status": "added",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-append.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-append.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-append.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,39 @@\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b');\n+    assert_equals(params + '', 'a=b');\n+    params.append('a', 'b');\n+    assert_equals(params + '', 'a=b&a=b');\n+    params.append('a', 'c');\n+    assert_equals(params + '', 'a=b&a=b&a=c');\n+}, 'Append same name');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('', '');\n+    assert_equals(params + '', '=');\n+    params.append('', '');\n+    assert_equals(params + '', '=&=');\n+}, 'Append empty strings');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append(null, null);\n+    assert_equals(params + '', 'null=null');\n+    params.append(null, null);\n+    assert_equals(params + '', 'null=null&null=null');\n+}, 'Append null');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('first', 1);\n+    params.append('second', 2);\n+    params.append('third', '');\n+    params.append('first', 10);\n+    assert_true(params.has('first'), 'Search params object has name \"first\"');\n+    assert_equals(params.get('first'), '1', 'Search params object has name \"first\" with value \"1\"');\n+    assert_equals(params.get('second'), '2', 'Search params object has name \"second\" with value \"2\"');\n+    assert_equals(params.get('third'), '', 'Search params object has name \"third\" with value \"\"');\n+    params.append('first', 10);\n+    assert_equals(params.get('first'), '1', 'Search params object has name \"first\" with value \"1\"');\n+}, 'Append multiple');"
        },
        {
            "sha": "6fff03f00fdddd915f91bbec7973ebc1326b3b5a",
            "filename": "test/fixtures/wpt/url/urlsearchparams-constructor.any.js",
            "status": "added",
            "additions": 178,
            "deletions": 0,
            "changes": 178,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-constructor.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-constructor.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-constructor.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,178 @@\n+test(function() {\n+    var params = new URLSearchParams();\n+    assert_equals(params + '', '');\n+    params = new URLSearchParams('');\n+    assert_equals(params + '', '');\n+    params = new URLSearchParams('a=b');\n+    assert_equals(params + '', 'a=b');\n+    params = new URLSearchParams(params);\n+    assert_equals(params + '', 'a=b');\n+}, 'Basic URLSearchParams construction');\n+\n+test(function() {\n+    var params = new URLSearchParams()\n+    assert_equals(params.toString(), \"\")\n+}, \"URLSearchParams constructor, no arguments\")\n+\n+test(() => {\n+    var params = new URLSearchParams(DOMException);\n+    assert_equals(params.toString(), \"INDEX_SIZE_ERR=1&DOMSTRING_SIZE_ERR=2&HIERARCHY_REQUEST_ERR=3&WRONG_DOCUMENT_ERR=4&INVALID_CHARACTER_ERR=5&NO_DATA_ALLOWED_ERR=6&NO_MODIFICATION_ALLOWED_ERR=7&NOT_FOUND_ERR=8&NOT_SUPPORTED_ERR=9&INUSE_ATTRIBUTE_ERR=10&INVALID_STATE_ERR=11&SYNTAX_ERR=12&INVALID_MODIFICATION_ERR=13&NAMESPACE_ERR=14&INVALID_ACCESS_ERR=15&VALIDATION_ERR=16&TYPE_MISMATCH_ERR=17&SECURITY_ERR=18&NETWORK_ERR=19&ABORT_ERR=20&URL_MISMATCH_ERR=21&QUOTA_EXCEEDED_ERR=22&TIMEOUT_ERR=23&INVALID_NODE_TYPE_ERR=24&DATA_CLONE_ERR=25\")\n+    assert_throws(new TypeError(), () => new URLSearchParams(DOMException.prototype),\n+                  \"Constructing a URLSearchParams from DOMException.prototype should throw due to branding checks\");\n+}, \"URLSearchParams constructor, DOMException as argument\")\n+\n+test(() => {\n+    var params = new URLSearchParams('');\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_equals(params.__proto__, URLSearchParams.prototype, 'expected URLSearchParams.prototype as prototype.');\n+}, \"URLSearchParams constructor, empty string as argument\")\n+\n+test(() => {\n+    var params = new URLSearchParams({});\n+    assert_equals(params + '', \"\");\n+}, 'URLSearchParams constructor, {} as argument');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b');\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_false(params.has('b'), 'Search params object has not got name \"b\"');\n+\n+    params = new URLSearchParams('a=b&c');\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_true(params.has('c'), 'Search params object has name \"c\"');\n+\n+    params = new URLSearchParams('&a&&& &&&&&a+b=& c&m%c3%b8%c3%b8');\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_true(params.has('a b'), 'Search params object has name \"a b\"');\n+    assert_true(params.has(' '), 'Search params object has name \" \"');\n+    assert_false(params.has('c'), 'Search params object did not have the name \"c\"');\n+    assert_true(params.has(' c'), 'Search params object has name \" c\"');\n+    assert_true(params.has('mÃ¸Ã¸'), 'Search params object has name \"mÃ¸Ã¸\"');\n+}, 'URLSearchParams constructor, string.');\n+\n+test(function() {\n+    var seed = new URLSearchParams('a=b&c=d');\n+    var params = new URLSearchParams(seed);\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_equals(params.get('a'), 'b');\n+    assert_equals(params.get('c'), 'd');\n+    assert_false(params.has('d'));\n+    // The name-value pairs are copied when created; later updates\n+    // should not be observable.\n+    seed.append('e', 'f');\n+    assert_false(params.has('e'));\n+    params.append('g', 'h');\n+    assert_false(seed.has('g'));\n+}, 'URLSearchParams constructor, object.');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b+c');\n+    assert_equals(params.get('a'), 'b c');\n+    params = new URLSearchParams('a+b=c');\n+    assert_equals(params.get('a b'), 'c');\n+}, 'Parse +');\n+\n+test(function() {\n+    const testValue = '+15555555555';\n+    const params = new URLSearchParams();\n+    params.set('query', testValue);\n+    var newParams = new URLSearchParams(params.toString());\n+\n+    assert_equals(params.toString(), 'query=%2B15555555555');\n+    assert_equals(params.get('query'), testValue);\n+    assert_equals(newParams.get('query'), testValue);\n+}, 'Parse encoded +');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b c');\n+    assert_equals(params.get('a'), 'b c');\n+    params = new URLSearchParams('a b=c');\n+    assert_equals(params.get('a b'), 'c');\n+}, 'Parse space');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b%20c');\n+    assert_equals(params.get('a'), 'b c');\n+    params = new URLSearchParams('a%20b=c');\n+    assert_equals(params.get('a b'), 'c');\n+}, 'Parse %20');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b\\0c');\n+    assert_equals(params.get('a'), 'b\\0c');\n+    params = new URLSearchParams('a\\0b=c');\n+    assert_equals(params.get('a\\0b'), 'c');\n+}, 'Parse \\\\0');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b%00c');\n+    assert_equals(params.get('a'), 'b\\0c');\n+    params = new URLSearchParams('a%00b=c');\n+    assert_equals(params.get('a\\0b'), 'c');\n+}, 'Parse %00');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b\\u2384');\n+    assert_equals(params.get('a'), 'b\\u2384');\n+    params = new URLSearchParams('a\\u2384b=c');\n+    assert_equals(params.get('a\\u2384b'), 'c');\n+}, 'Parse \\u2384');  // Unicode Character 'COMPOSITION SYMBOL' (U+2384)\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b%e2%8e%84');\n+    assert_equals(params.get('a'), 'b\\u2384');\n+    params = new URLSearchParams('a%e2%8e%84b=c');\n+    assert_equals(params.get('a\\u2384b'), 'c');\n+}, 'Parse %e2%8e%84');  // Unicode Character 'COMPOSITION SYMBOL' (U+2384)\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b\\uD83D\\uDCA9c');\n+    assert_equals(params.get('a'), 'b\\uD83D\\uDCA9c');\n+    params = new URLSearchParams('a\\uD83D\\uDCA9b=c');\n+    assert_equals(params.get('a\\uD83D\\uDCA9b'), 'c');\n+}, 'Parse \\uD83D\\uDCA9');  // Unicode Character 'PILE OF POO' (U+1F4A9)\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b%f0%9f%92%a9c');\n+    assert_equals(params.get('a'), 'b\\uD83D\\uDCA9c');\n+    params = new URLSearchParams('a%f0%9f%92%a9b=c');\n+    assert_equals(params.get('a\\uD83D\\uDCA9b'), 'c');\n+}, 'Parse %f0%9f%92%a9');  // Unicode Character 'PILE OF POO' (U+1F4A9)\n+\n+test(function() {\n+    var params = new URLSearchParams([]);\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    params = new URLSearchParams([['a', 'b'], ['c', 'd']]);\n+    assert_equals(params.get(\"a\"), \"b\");\n+    assert_equals(params.get(\"c\"), \"d\");\n+    assert_throws(new TypeError(), function() { new URLSearchParams([[1]]); });\n+    assert_throws(new TypeError(), function() { new URLSearchParams([[1,2,3]]); });\n+}, \"Constructor with sequence of sequences of strings\");\n+\n+[\n+  { \"input\": {\"+\": \"%C2\"}, \"output\": [[\"+\", \"%C2\"]], \"name\": \"object with +\" },\n+  { \"input\": {c: \"x\", a: \"?\"}, \"output\": [[\"c\", \"x\"], [\"a\", \"?\"]], \"name\": \"object with two keys\" },\n+  { \"input\": [[\"c\", \"x\"], [\"a\", \"?\"]], \"output\": [[\"c\", \"x\"], [\"a\", \"?\"]], \"name\": \"array with two keys\" },\n+  { \"input\": {\"a\\0b\": \"42\", \"c\\uD83D\": \"23\", \"d\\u1234\": \"foo\"}, \"output\": [[\"a\\0b\", \"42\"], [\"c\\uFFFD\", \"23\"], [\"d\\u1234\", \"foo\"]], \"name\": \"object with NULL, non-ASCII, and surrogate keys\" }\n+].forEach((val) => {\n+    test(() => {\n+        let params = new URLSearchParams(val.input),\n+            i = 0\n+        for (let param of params) {\n+            assert_array_equals(param, val.output[i])\n+            i++\n+        }\n+    }, \"Construct with \" + val.name)\n+})\n+\n+test(() => {\n+  var params = new URLSearchParams()\n+  params[Symbol.iterator] = function *() {\n+    yield [\"a\", \"b\"]\n+  }\n+  let params2 = new URLSearchParams(params)\n+  assert_equals(params2.get(\"a\"), \"b\")\n+}, \"Custom [Symbol.iterator]\")"
        },
        {
            "sha": "1aa9b313736de23e4724fe72217d9bad4df56595",
            "filename": "test/fixtures/wpt/url/urlsearchparams-delete.any.js",
            "status": "added",
            "additions": 45,
            "deletions": 0,
            "changes": 45,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-delete.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-delete.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-delete.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,45 @@\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d');\n+    params.delete('a');\n+    assert_equals(params + '', 'c=d');\n+    params = new URLSearchParams('a=a&b=b&a=a&c=c');\n+    params.delete('a');\n+    assert_equals(params + '', 'b=b&c=c');\n+    params = new URLSearchParams('a=a&=&b=b&c=c');\n+    params.delete('');\n+    assert_equals(params + '', 'a=a&b=b&c=c');\n+    params = new URLSearchParams('a=a&null=null&b=b');\n+    params.delete(null);\n+    assert_equals(params + '', 'a=a&b=b');\n+    params = new URLSearchParams('a=a&undefined=undefined&b=b');\n+    params.delete(undefined);\n+    assert_equals(params + '', 'a=a&b=b');\n+}, 'Delete basics');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('first', 1);\n+    assert_true(params.has('first'), 'Search params object has name \"first\"');\n+    assert_equals(params.get('first'), '1', 'Search params object has name \"first\" with value \"1\"');\n+    params.delete('first');\n+    assert_false(params.has('first'), 'Search params object has no \"first\" name');\n+    params.append('first', 1);\n+    params.append('first', 10);\n+    params.delete('first');\n+    assert_false(params.has('first'), 'Search params object has no \"first\" name');\n+}, 'Deleting appended multiple');\n+\n+test(function() {\n+    var url = new URL('http://example.com/?param1&param2');\n+    url.searchParams.delete('param1');\n+    url.searchParams.delete('param2');\n+    assert_equals(url.href, 'http://example.com/', 'url.href does not have ?');\n+    assert_equals(url.search, '', 'url.search does not have ?');\n+}, 'Deleting all params removes ? from URL');\n+\n+test(function() {\n+    var url = new URL('http://example.com/?');\n+    url.searchParams.delete('param1');\n+    assert_equals(url.href, 'http://example.com/', 'url.href does not have ?');\n+    assert_equals(url.search, '', 'url.search does not have ?');\n+}, 'Removing non-existent param removes ? from URL');"
        },
        {
            "sha": "7969a0cb11a2712bbbfc2a42c4856f5576531884",
            "filename": "test/fixtures/wpt/url/urlsearchparams-foreach.any.js",
            "status": "added",
            "additions": 76,
            "deletions": 0,
            "changes": 76,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-foreach.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-foreach.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-foreach.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,76 @@\n+test(function() {\n+    var params = new URLSearchParams('a=1&b=2&c=3');\n+    var keys = [];\n+    var values = [];\n+    params.forEach(function(value, key) {\n+        keys.push(key);\n+        values.push(value);\n+    });\n+    assert_array_equals(keys, ['a', 'b', 'c']);\n+    assert_array_equals(values, ['1', '2', '3']);\n+}, \"ForEach Check\");\n+\n+test(function() {\n+    let a = new URL(\"http://a.b/c?a=1&b=2&c=3&d=4\");\n+    let b = a.searchParams;\n+    var c = [];\n+    for (i of b) {\n+        a.search = \"x=1&y=2&z=3\";\n+        c.push(i);\n+    }\n+    assert_array_equals(c[0], [\"a\",\"1\"]);\n+    assert_array_equals(c[1], [\"y\",\"2\"]);\n+    assert_array_equals(c[2], [\"z\",\"3\"]);\n+}, \"For-of Check\");\n+\n+test(function() {\n+    let a = new URL(\"http://a.b/c\");\n+    let b = a.searchParams;\n+    for (i of b) {\n+        assert_unreached(i);\n+    }\n+}, \"empty\");\n+\n+test(function() {\n+    const url = new URL(\"http://localhost/query?param0=0&param1=1&param2=2\");\n+    const searchParams = url.searchParams;\n+    const seen = [];\n+    for (param of searchParams) {\n+        if (param[0] === 'param0') {\n+            searchParams.delete('param1');\n+        }\n+        seen.push(param);\n+    }\n+\n+    assert_array_equals(seen[0], [\"param0\", \"0\"]);\n+    assert_array_equals(seen[1], [\"param2\", \"2\"]);\n+}, \"delete next param during iteration\");\n+\n+test(function() {\n+    const url = new URL(\"http://localhost/query?param0=0&param1=1&param2=2\");\n+    const searchParams = url.searchParams;\n+    const seen = [];\n+    for (param of searchParams) {\n+        if (param[0] === 'param0') {\n+            searchParams.delete('param0');\n+            // 'param1=1' is now in the first slot, so the next iteration will see 'param2=2'.\n+        } else {\n+            seen.push(param);\n+        }\n+    }\n+\n+    assert_array_equals(seen[0], [\"param2\", \"2\"]);\n+}, \"delete current param during iteration\");\n+\n+test(function() {\n+    const url = new URL(\"http://localhost/query?param0=0&param1=1&param2=2\");\n+    const searchParams = url.searchParams;\n+    const seen = [];\n+    for (param of searchParams) {\n+        seen.push(param[0]);\n+        searchParams.delete(param[0]);\n+    }\n+\n+    assert_array_equals(seen, [\"param0\", \"param2\"], \"param1 should not have been seen by the loop\");\n+    assert_equals(String(searchParams), \"param1=1\", \"param1 should remain\");\n+}, \"delete every param seen during iteration\");"
        },
        {
            "sha": "a2610fc933a772b36157e04e90877e48b632327e",
            "filename": "test/fixtures/wpt/url/urlsearchparams-get.any.js",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-get.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-get.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-get.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,21 @@\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d');\n+    assert_equals(params.get('a'), 'b');\n+    assert_equals(params.get('c'), 'd');\n+    assert_equals(params.get('e'), null);\n+    params = new URLSearchParams('a=b&c=d&a=e');\n+    assert_equals(params.get('a'), 'b');\n+    params = new URLSearchParams('=b&c=d');\n+    assert_equals(params.get(''), 'b');\n+    params = new URLSearchParams('a=&c=d&a=e');\n+    assert_equals(params.get('a'), '');\n+}, 'Get basics');\n+\n+test(function() {\n+    var params = new URLSearchParams('first=second&third&&');\n+    assert_true(params != null, 'constructor returned non-null value.');\n+    assert_true(params.has('first'), 'Search params object has name \"first\"');\n+    assert_equals(params.get('first'), 'second', 'Search params object has name \"first\" with value \"second\"');\n+    assert_equals(params.get('third'), '', 'Search params object has name \"third\" with the empty value.');\n+    assert_equals(params.get('fourth'), null, 'Search params object has no \"fourth\" name and value.');\n+}, 'More get() basics');"
        },
        {
            "sha": "5d1a35352acf2c7c35f372a6c0462e98948c6569",
            "filename": "test/fixtures/wpt/url/urlsearchparams-getall.any.js",
            "status": "added",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-getall.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-getall.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-getall.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,25 @@\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d');\n+    assert_array_equals(params.getAll('a'), ['b']);\n+    assert_array_equals(params.getAll('c'), ['d']);\n+    assert_array_equals(params.getAll('e'), []);\n+    params = new URLSearchParams('a=b&c=d&a=e');\n+    assert_array_equals(params.getAll('a'), ['b', 'e']);\n+    params = new URLSearchParams('=b&c=d');\n+    assert_array_equals(params.getAll(''), ['b']);\n+    params = new URLSearchParams('a=&c=d&a=e');\n+    assert_array_equals(params.getAll('a'), ['', 'e']);\n+}, 'getAll() basics');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=1&a=2&a=3&a');\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    var matches = params.getAll('a');\n+    assert_true(matches && matches.length == 4, 'Search params object has values for name \"a\"');\n+    assert_array_equals(matches, ['1', '2', '3', ''], 'Search params object has expected name \"a\" values');\n+    params.set('a', 'one');\n+    assert_equals(params.get('a'), 'one', 'Search params object has name \"a\" with value \"one\"');\n+    var matches = params.getAll('a');\n+    assert_true(matches && matches.length == 1, 'Search params object has values for name \"a\"');\n+    assert_array_equals(matches, ['one'], 'Search params object has expected name \"a\" values');\n+}, 'getAll() multiples');"
        },
        {
            "sha": "673dce77dc44ab6f78bf713d196c0ea5b588a28d",
            "filename": "test/fixtures/wpt/url/urlsearchparams-has.any.js",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-has.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-has.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-has.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,24 @@\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d');\n+    assert_true(params.has('a'));\n+    assert_true(params.has('c'));\n+    assert_false(params.has('e'));\n+    params = new URLSearchParams('a=b&c=d&a=e');\n+    assert_true(params.has('a'));\n+    params = new URLSearchParams('=b&c=d');\n+    assert_true(params.has(''));\n+    params = new URLSearchParams('null=a');\n+    assert_true(params.has(null));\n+}, 'Has basics');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d&&');\n+    params.append('first', 1);\n+    params.append('first', 2);\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_true(params.has('c'), 'Search params object has name \"c\"');\n+    assert_true(params.has('first'), 'Search params object has name \"first\"');\n+    assert_false(params.has('d'), 'Search params object has no name \"d\"');\n+    params.delete('first');\n+    assert_false(params.has('first'), 'Search params object has no name \"first\"');\n+}, 'has() following delete()');"
        },
        {
            "sha": "eb24cac87b6dca1d3dd3bb2ed083745be3e1ca36",
            "filename": "test/fixtures/wpt/url/urlsearchparams-set.any.js",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-set.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-set.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-set.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,22 @@\n+test(function() {\n+    var params = new URLSearchParams('a=b&c=d');\n+    params.set('a', 'B');\n+    assert_equals(params + '', 'a=B&c=d');\n+    params = new URLSearchParams('a=b&c=d&a=e');\n+    params.set('a', 'B');\n+    assert_equals(params + '', 'a=B&c=d')\n+    params.set('e', 'f');\n+    assert_equals(params + '', 'a=B&c=d&e=f')\n+}, 'Set basics');\n+\n+test(function() {\n+    var params = new URLSearchParams('a=1&a=2&a=3');\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_equals(params.get('a'), '1', 'Search params object has name \"a\" with value \"1\"');\n+    params.set('first', 4);\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_equals(params.get('a'), '1', 'Search params object has name \"a\" with value \"1\"');\n+    params.set('a', 4);\n+    assert_true(params.has('a'), 'Search params object has name \"a\"');\n+    assert_equals(params.get('a'), '4', 'Search params object has name \"a\" with value \"4\"');\n+}, 'URLSearchParams.set');"
        },
        {
            "sha": "4fd8cef69239d26eb6241df180453aedf00cc050",
            "filename": "test/fixtures/wpt/url/urlsearchparams-sort.any.js",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-sort.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-sort.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-sort.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,62 @@\n+[\n+  {\n+    \"input\": \"z=b&a=b&z=a&a=a\",\n+    \"output\": [[\"a\", \"b\"], [\"a\", \"a\"], [\"z\", \"b\"], [\"z\", \"a\"]]\n+  },\n+  {\n+    \"input\": \"\\uFFFD=x&\\uFFFC&\\uFFFD=a\",\n+    \"output\": [[\"\\uFFFC\", \"\"], [\"\\uFFFD\", \"x\"], [\"\\uFFFD\", \"a\"]]\n+  },\n+  {\n+    \"input\": \"ï¬&ð\", // ð > code point, but < code unit because two code units\n+    \"output\": [[\"ð\", \"\"], [\"ï¬\", \"\"]]\n+  },\n+  {\n+    \"input\": \"Ã©&e\\uFFFD&e\\u0301\",\n+    \"output\": [[\"e\\u0301\", \"\"], [\"e\\uFFFD\", \"\"], [\"Ã©\", \"\"]]\n+  },\n+  {\n+    \"input\": \"z=z&a=a&z=y&a=b&z=x&a=c&z=w&a=d&z=v&a=e&z=u&a=f&z=t&a=g\",\n+    \"output\": [[\"a\", \"a\"], [\"a\", \"b\"], [\"a\", \"c\"], [\"a\", \"d\"], [\"a\", \"e\"], [\"a\", \"f\"], [\"a\", \"g\"], [\"z\", \"z\"], [\"z\", \"y\"], [\"z\", \"x\"], [\"z\", \"w\"], [\"z\", \"v\"], [\"z\", \"u\"], [\"z\", \"t\"]]\n+  },\n+  {\n+    \"input\": \"bbb&bb&aaa&aa=x&aa=y\",\n+    \"output\": [[\"aa\", \"x\"], [\"aa\", \"y\"], [\"aaa\", \"\"], [\"bb\", \"\"], [\"bbb\", \"\"]]\n+  },\n+  {\n+    \"input\": \"z=z&=f&=t&=x\",\n+    \"output\": [[\"\", \"f\"], [\"\", \"t\"], [\"\", \"x\"], [\"z\", \"z\"]]\n+  },\n+  {\n+    \"input\": \"að&að©\",\n+    \"output\": [[\"að\", \"\"], [\"að©\", \"\"]]\n+  }\n+].forEach((val) => {\n+  test(() => {\n+    let params = new URLSearchParams(val.input),\n+        i = 0\n+    params.sort()\n+    for(let param of params) {\n+      assert_array_equals(param, val.output[i])\n+      i++\n+    }\n+  }, \"Parse and sort: \" + val.input)\n+\n+  test(() => {\n+    let url = new URL(\"?\" + val.input, \"https://example/\")\n+    url.searchParams.sort()\n+    let params = new URLSearchParams(url.search),\n+        i = 0\n+    for(let param of params) {\n+      assert_array_equals(param, val.output[i])\n+      i++\n+    }\n+  }, \"URL parse and sort: \" + val.input)\n+})\n+\n+test(function() {\n+  const url = new URL(\"http://example.com/?\")\n+  url.searchParams.sort()\n+  assert_equals(url.href, \"http://example.com/\")\n+  assert_equals(url.search, \"\")\n+}, \"Sorting non-existent params removes ? from URL\")"
        },
        {
            "sha": "ef95c1434c796418bf7fcaaa1732c46719ca3205",
            "filename": "test/fixtures/wpt/url/urlsearchparams-stringifier.any.js",
            "status": "added",
            "additions": 123,
            "deletions": 0,
            "changes": 123,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-stringifier.any.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-stringifier.any.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Furl%2Furlsearchparams-stringifier.any.js?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,123 @@\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b c');\n+    assert_equals(params + '', 'a=b+c');\n+    params.delete('a');\n+    params.append('a b', 'c');\n+    assert_equals(params + '', 'a+b=c');\n+}, 'Serialize space');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', '');\n+    assert_equals(params + '', 'a=');\n+    params.append('a', '');\n+    assert_equals(params + '', 'a=&a=');\n+    params.append('', 'b');\n+    assert_equals(params + '', 'a=&a=&=b');\n+    params.append('', '');\n+    assert_equals(params + '', 'a=&a=&=b&=');\n+    params.append('', '');\n+    assert_equals(params + '', 'a=&a=&=b&=&=');\n+}, 'Serialize empty value');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('', 'b');\n+    assert_equals(params + '', '=b');\n+    params.append('', 'b');\n+    assert_equals(params + '', '=b&=b');\n+}, 'Serialize empty name');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('', '');\n+    assert_equals(params + '', '=');\n+    params.append('', '');\n+    assert_equals(params + '', '=&=');\n+}, 'Serialize empty name and value');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b+c');\n+    assert_equals(params + '', 'a=b%2Bc');\n+    params.delete('a');\n+    params.append('a+b', 'c');\n+    assert_equals(params + '', 'a%2Bb=c');\n+}, 'Serialize +');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('=', 'a');\n+    assert_equals(params + '', '%3D=a');\n+    params.append('b', '=');\n+    assert_equals(params + '', '%3D=a&b=%3D');\n+}, 'Serialize =');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('&', 'a');\n+    assert_equals(params + '', '%26=a');\n+    params.append('b', '&');\n+    assert_equals(params + '', '%26=a&b=%26');\n+}, 'Serialize &');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', '*-._');\n+    assert_equals(params + '', 'a=*-._');\n+    params.delete('a');\n+    params.append('*-._', 'c');\n+    assert_equals(params + '', '*-._=c');\n+}, 'Serialize *-._');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b%c');\n+    assert_equals(params + '', 'a=b%25c');\n+    params.delete('a');\n+    params.append('a%b', 'c');\n+    assert_equals(params + '', 'a%25b=c');\n+}, 'Serialize %');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b\\0c');\n+    assert_equals(params + '', 'a=b%00c');\n+    params.delete('a');\n+    params.append('a\\0b', 'c');\n+    assert_equals(params + '', 'a%00b=c');\n+}, 'Serialize \\\\0');\n+\n+test(function() {\n+    var params = new URLSearchParams();\n+    params.append('a', 'b\\uD83D\\uDCA9c');\n+    assert_equals(params + '', 'a=b%F0%9F%92%A9c');\n+    params.delete('a');\n+    params.append('a\\uD83D\\uDCA9b', 'c');\n+    assert_equals(params + '', 'a%F0%9F%92%A9b=c');\n+}, 'Serialize \\uD83D\\uDCA9');  // Unicode Character 'PILE OF POO' (U+1F4A9)\n+\n+test(function() {\n+    var params;\n+    params = new URLSearchParams('a=b&c=d&&e&&');\n+    assert_equals(params.toString(), 'a=b&c=d&e=');\n+    params = new URLSearchParams('a = b &a=b&c=d%20');\n+    assert_equals(params.toString(), 'a+=+b+&a=b&c=d+');\n+    // The lone '=' _does_ survive the roundtrip.\n+    params = new URLSearchParams('a=&a=b');\n+    assert_equals(params.toString(), 'a=&a=b');\n+}, 'URLSearchParams.toString');\n+\n+test(() => {\n+    const url = new URL('http://www.example.com/?a=b,c');\n+    const params = url.searchParams;\n+\n+    assert_equals(url.toString(), 'http://www.example.com/?a=b,c');\n+    assert_equals(params.toString(), 'a=b%2Cc');\n+\n+    params.append('x', 'y');\n+\n+    assert_equals(url.toString(), 'http://www.example.com/?a=b%2Cc&x=y');\n+    assert_equals(params.toString(), 'a=b%2Cc&x=y');\n+}, 'URLSearchParams connected to URL');"
        },
        {
            "sha": "9ce98bcbb8d7ba9def8a9e2db2a85b9a894a2ce1",
            "filename": "test/fixtures/wpt/versions.json",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fversions.json",
            "raw_url": "https://github.com/nodejs/node/raw/1e7f056afcf0c9485ffc974232978feebcde2611/test%2Ffixtures%2Fwpt%2Fversions.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fwpt%2Fversions.json?ref=1e7f056afcf0c9485ffc974232978feebcde2611",
            "patch": "@@ -0,0 +1,18 @@\n+{\n+  \"resources\": {\n+    \"commit\": \"679a364421ce3704289df21e1ff985c14b360981\",\n+    \"path\": \"resources\"\n+  },\n+  \"interfaces\": {\n+    \"commit\": \"db7f86289e47f0d124593cd27926529a6265ddb3\",\n+    \"path\": \"interfaces\"\n+  },\n+  \"console\": {\n+    \"commit\": \"9786a4b1317c03b89ea3bf2e997f2e2b6a3690ae\",\n+    \"path\": \"console\"\n+  },\n+  \"url\": {\n+    \"commit\": \"75b0f336c50105c6fea47ad253d57219dfa744d3\",\n+    \"path\": \"url\"\n+  }\n+}\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 21238,
        "additions": 21238,
        "deletions": 0
    }
}