{
    "author": "unknown",
    "message": "tools: prepare tools/icu/icutrim.py for Python 3\n\nPR-URL: https://github.com/nodejs/node/pull/24888\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>",
    "sha": "a91293d4d9ab403046ab5eb022332e4e3d249bd3",
    "files": [
        {
            "sha": "116af32e0220a82fe634c08dcaa4acb515af9ed8",
            "filename": "tools/icu/icutrim.py",
            "status": "modified",
            "additions": 16,
            "deletions": 7,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/a91293d4d9ab403046ab5eb022332e4e3d249bd3/tools%2Ficu%2Ficutrim.py",
            "raw_url": "https://github.com/nodejs/node/raw/a91293d4d9ab403046ab5eb022332e4e3d249bd3/tools%2Ficu%2Ficutrim.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Ficu%2Ficutrim.py?ref=a91293d4d9ab403046ab5eb022332e4e3d249bd3",
            "patch": "@@ -12,16 +12,25 @@\n #  Use \"-h\" to get help options.\n \n from __future__ import print_function\n-import sys\n-import shutil\n-# for utf-8\n-reload(sys)\n-sys.setdefaultencoding(\"utf-8\")\n \n+import json\n import optparse\n import os\n-import json\n import re\n+import shutil\n+import sys\n+\n+try:\n+    # for utf-8 on Python 2\n+    reload(sys)\n+    sys.setdefaultencoding(\"utf-8\")\n+except NameError:\n+    pass  # Python 3 already defaults to utf-8\n+\n+try:\n+    basestring        # Python 2\n+except NameError:\n+    basestring = str  # Python 3\n \n endian=sys.byteorder\n \n@@ -214,7 +223,7 @@ def queueForRemoval(tree):\n     if(options.verbose>0):\n         print(\"* %s: %d items\" % (tree, len(mytree[\"locs\"])))\n     # do varible substitution for this tree here\n-    if type(config[\"trees\"][tree]) == str or type(config[\"trees\"][tree]) == unicode:\n+    if isinstance(config[\"trees\"][tree], basestring):\n         treeStr = config[\"trees\"][tree]\n         if(options.verbose>5):\n             print(\" Substituting $%s for tree %s\" % (treeStr, tree))"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 16,
        "deletions": 7
    }
}