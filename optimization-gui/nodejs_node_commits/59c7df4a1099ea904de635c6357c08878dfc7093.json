{
    "author": "danbev",
    "message": "test: fix compiler warning in doc/api/addons.md\n\nCurrently there are compiler warnings is emitted:\n../addon.cc:17:58:\nwarning: 'ToString' is deprecated:\nUse maybe version [-Wdeprecated-declarations]\nobj->Set(String::NewFromUtf8(isolate, \"msg\"),\n                             args[0]->ToString(isolate));\n                                                         ^\ndeps/v8/include/v8.h:2537:3:\nnote: 'ToString' has been explicitly marked deprecated here\n  V8_DEPRECATED(\"Use maybe version\",\n  ^\n\nThis commit updates examples to use the non-deprecated versions.\n\nPR-URL: https://github.com/nodejs/node/pull/23323\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>",
    "sha": "59c7df4a1099ea904de635c6357c08878dfc7093",
    "files": [
        {
            "sha": "757f24c5194271aac3e14134d7ea5f452156543a",
            "filename": "doc/api/addons.md",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/59c7df4a1099ea904de635c6357c08878dfc7093/doc%2Fapi%2Faddons.md",
            "raw_url": "https://github.com/nodejs/node/raw/59c7df4a1099ea904de635c6357c08878dfc7093/doc%2Fapi%2Faddons.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Faddons.md?ref=59c7df4a1099ea904de635c6357c08878dfc7093",
            "patch": "@@ -587,6 +587,7 @@ property `msg` that echoes the string passed to `createObject()`:\n \n namespace demo {\n \n+using v8::Context;\n using v8::FunctionCallbackInfo;\n using v8::Isolate;\n using v8::Local;\n@@ -596,9 +597,11 @@ using v8::Value;\n \n void CreateObject(const FunctionCallbackInfo<Value>& args) {\n   Isolate* isolate = args.GetIsolate();\n+  Local<Context> context = isolate->GetCurrentContext();\n \n   Local<Object> obj = Object::New(isolate);\n-  obj->Set(String::NewFromUtf8(isolate, \"msg\"), args[0]->ToString(isolate));\n+  obj->Set(String::NewFromUtf8(isolate, \"msg\"),\n+                               args[0]->ToString(context).ToLocalChecked());\n \n   args.GetReturnValue().Set(obj);\n }\n@@ -1078,6 +1081,7 @@ that can take two `MyObject` objects as input arguments:\n \n namespace demo {\n \n+using v8::Context;\n using v8::FunctionCallbackInfo;\n using v8::Isolate;\n using v8::Local;\n@@ -1092,11 +1096,12 @@ void CreateObject(const FunctionCallbackInfo<Value>& args) {\n \n void Add(const FunctionCallbackInfo<Value>& args) {\n   Isolate* isolate = args.GetIsolate();\n+  Local<Context> context = isolate->GetCurrentContext();\n \n   MyObject* obj1 = node::ObjectWrap::Unwrap<MyObject>(\n-      args[0]->ToObject(isolate));\n+      args[0]->ToObject(context).ToLocalChecked());\n   MyObject* obj2 = node::ObjectWrap::Unwrap<MyObject>(\n-      args[1]->ToObject(isolate));\n+      args[1]->ToObject(context).ToLocalChecked());\n \n   double sum = obj1->value() + obj2->value();\n   args.GetReturnValue().Set(Number::New(isolate, sum));"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}