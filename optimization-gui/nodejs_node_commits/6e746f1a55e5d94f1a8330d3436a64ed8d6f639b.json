{
    "author": "bzoz",
    "message": "doc, win: improve os.setPriority documentation\n\nPR-URL: https://github.com/nodejs/node/pull/22817\nFixes: https://github.com/nodejs/node/issues/22799\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "6e746f1a55e5d94f1a8330d3436a64ed8d6f639b",
    "files": [
        {
            "sha": "ad5736d7690016430592c5b57ec7e792a4efeb10",
            "filename": "doc/api/os.md",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6e746f1a55e5d94f1a8330d3436a64ed8d6f639b/doc%2Fapi%2Fos.md",
            "raw_url": "https://github.com/nodejs/node/raw/6e746f1a55e5d94f1a8330d3436a64ed8d6f639b/doc%2Fapi%2Fos.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fos.md?ref=6e746f1a55e5d94f1a8330d3436a64ed8d6f639b",
            "patch": "@@ -371,6 +371,9 @@ priority classes, `priority` is mapped to one of six priority constants in\n mapping may cause the return value to be slightly different on Windows. To avoid\n confusion, it is recommended to set `priority` to one of the priority constants.\n \n+On Windows setting priority to `PRIORITY_HIGHEST` requires elevated user,\n+otherwise the set priority will be silently reduced to `PRIORITY_HIGH`.\n+\n ## os.tmpdir()\n <!-- YAML\n added: v0.9.9"
        },
        {
            "sha": "05686e6c77083a8d98feab1e553a143e16d6b85d",
            "filename": "test/parallel/test-os-process-priority.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/6e746f1a55e5d94f1a8330d3436a64ed8d6f639b/test%2Fparallel%2Ftest-os-process-priority.js",
            "raw_url": "https://github.com/nodejs/node/raw/6e746f1a55e5d94f1a8330d3436a64ed8d6f639b/test%2Fparallel%2Ftest-os-process-priority.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-os-process-priority.js?ref=6e746f1a55e5d94f1a8330d3436a64ed8d6f639b",
            "patch": "@@ -116,8 +116,10 @@ function checkPriority(pid, expected) {\n     return;\n   }\n \n+  // On Windows setting PRIORITY_HIGHEST will only work for elevated user,\n+  // for others it will be silently reduced to PRIORITY_HIGH\n   if (expected < PRIORITY_HIGH)\n-    assert.strictEqual(priority, PRIORITY_HIGHEST);\n+    assert.ok(priority === PRIORITY_HIGHEST || priority === PRIORITY_HIGH);\n   else if (expected < PRIORITY_ABOVE_NORMAL)\n     assert.strictEqual(priority, PRIORITY_HIGH);\n   else if (expected < PRIORITY_NORMAL)"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}