{
    "author": "BridgeAR",
    "message": "util: fix indentationLvl when exceeding max call stack size\n\nThe inspection indentation level was not always reset to it's former\nvalue in case the maximum call stack size was exceeded.\n\nPR-URL: https://github.com/nodejs/node/pull/22787\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "08d983c3b9c8c47ad3cf2b8f8ba0ffdfcaf875f6",
    "files": [
        {
            "sha": "89c86cb7fd0050decb6520691fecba16e6b1318a",
            "filename": "lib/util.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/08d983c3b9c8c47ad3cf2b8f8ba0ffdfcaf875f6/lib%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/08d983c3b9c8c47ad3cf2b8f8ba0ffdfcaf875f6/lib%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Futil.js?ref=08d983c3b9c8c47ad3cf2b8f8ba0ffdfcaf875f6",
            "patch": "@@ -880,6 +880,7 @@ function formatRaw(ctx, value, recurseTimes) {\n \n   ctx.seen.push(value);\n   let output;\n+  const indentationLvl = ctx.indentationLvl;\n   try {\n     output = formatter(ctx, value, recurseTimes, keys);\n     if (skip === false) {\n@@ -889,7 +890,7 @@ function formatRaw(ctx, value, recurseTimes) {\n       }\n     }\n   } catch (err) {\n-    return handleMaxCallStackSize(ctx, err, constructor, tag);\n+    return handleMaxCallStackSize(ctx, err, constructor, tag, indentationLvl);\n   }\n   ctx.seen.pop();\n \n@@ -910,9 +911,10 @@ function formatRaw(ctx, value, recurseTimes) {\n   return res;\n }\n \n-function handleMaxCallStackSize(ctx, err, constructor, tag) {\n+function handleMaxCallStackSize(ctx, err, constructor, tag, indentationLvl) {\n   if (errors.isStackOverflowError(err)) {\n     ctx.seen.pop();\n+    ctx.indentationLvl = indentationLvl;\n     return ctx.stylize(\n       `[${constructor || tag || 'Object'}: Inspection interrupted ` +\n         'prematurely. Maximum call stack size exceeded.]',"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}