{
    "author": "starkwang",
    "message": "util: fix util.inspect with proxied function\n\nPR-URL: https://github.com/nodejs/node/pull/25244\nFixes: https://github.com/nodejs/node/issues/25212\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>",
    "sha": "6c7c77ef05a04ffa5532056f8a1ea44a946c2014",
    "files": [
        {
            "sha": "b23ae9438ff877f025c366c8b82fa3e8b83116b2",
            "filename": "lib/internal/util/inspect.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6c7c77ef05a04ffa5532056f8a1ea44a946c2014/lib%2Finternal%2Futil%2Finspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/6c7c77ef05a04ffa5532056f8a1ea44a946c2014/lib%2Finternal%2Futil%2Finspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Finspect.js?ref=6c7c77ef05a04ffa5532056f8a1ea44a946c2014",
            "patch": "@@ -628,7 +628,10 @@ function formatRaw(ctx, value, recurseTimes) {\n       }\n     } else if (typeof value === 'function') {\n       const type = constructor || tag || 'Function';\n-      const name = `${type}${value.name ? `: ${value.name}` : ''}`;\n+      let name = `${type}`;\n+      if (value.name && typeof value.name === 'string') {\n+        name += `: ${value.name}`;\n+      }\n       if (keys.length === 0)\n         return ctx.stylize(`[${name}]`, 'special');\n       base = `[${name}]`;"
        },
        {
            "sha": "adc0810722d553698ab0faf00c2947e0b710bf54",
            "filename": "test/parallel/test-util-inspect-proxy.js",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/6c7c77ef05a04ffa5532056f8a1ea44a946c2014/test%2Fparallel%2Ftest-util-inspect-proxy.js",
            "raw_url": "https://github.com/nodejs/node/raw/6c7c77ef05a04ffa5532056f8a1ea44a946c2014/test%2Fparallel%2Ftest-util-inspect-proxy.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inspect-proxy.js?ref=6c7c77ef05a04ffa5532056f8a1ea44a946c2014",
            "patch": "@@ -87,3 +87,17 @@ assert.strictEqual(util.inspect(proxy8, opts), expected8);\n assert.strictEqual(util.inspect(proxy9, opts), expected9);\n assert.strictEqual(util.inspect(proxy8), '[Function: Date]');\n assert.strictEqual(util.inspect(proxy9), '[Function: Date]');\n+\n+const proxy10 = new Proxy(() => {}, {});\n+const proxy11 = new Proxy(() => {}, {\n+  get() {\n+    return proxy11;\n+  },\n+  apply() {\n+    return proxy11;\n+  }\n+});\n+const expected10 = '[Function]';\n+const expected11 = '[Function]';\n+assert.strictEqual(util.inspect(proxy10), expected10);\n+assert.strictEqual(util.inspect(proxy11), expected11);"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 18,
        "deletions": 1
    }
}