{
    "author": "cjihrig",
    "message": "src: use Local version of ToBoolean()\n\nThis fixes a deprecation warning.\n\nPR-URL: https://github.com/nodejs/node/pull/24924\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Franziska Hinkelmann <franziska.hinkelmann@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "91c1f8a79b615126e406d97384db7606d9602356",
    "files": [
        {
            "sha": "9e67e2ca24b7c08fb41e5cb62338ebb29144ae07",
            "filename": "src/js_native_api_v8.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 9,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/91c1f8a79b615126e406d97384db7606d9602356/src%2Fjs_native_api_v8.cc",
            "raw_url": "https://github.com/nodejs/node/raw/91c1f8a79b615126e406d97384db7606d9602356/src%2Fjs_native_api_v8.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fjs_native_api_v8.cc?ref=91c1f8a79b615126e406d97384db7606d9602356",
            "patch": "@@ -11,10 +11,6 @@\n #define CHECK_TO_NUMBER(env, context, result, src) \\\n   CHECK_TO_TYPE((env), Number, (context), (result), (src), napi_number_expected)\n \n-#define CHECK_TO_BOOL(env, context, result, src)            \\\n-  CHECK_TO_TYPE((env), Boolean, (context), (result), (src), \\\n-    napi_boolean_expected)\n-\n // n-api defines NAPI_AUTO_LENGHTH as the indicator that a string\n // is null terminated. For V8 the equivalent is -1. The assert\n // validates that our cast of NAPI_AUTO_LENGTH results in -1 as\n@@ -2155,11 +2151,9 @@ napi_status napi_coerce_to_bool(napi_env env,\n   CHECK_ARG(env, value);\n   CHECK_ARG(env, result);\n \n-  v8::Local<v8::Context> context = env->context();\n-  v8::Local<v8::Boolean> b;\n-\n-  CHECK_TO_BOOL(env, context, b, value);\n-\n+  v8::Isolate* isolate = env->isolate;\n+  v8::Local<v8::Boolean> b =\n+    v8impl::V8LocalValueFromJsValue(value)->ToBoolean(isolate);\n   *result = v8impl::JsValueFromV8LocalValue(b);\n   return GET_RETURN_STATUS(env);\n }"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 3,
        "deletions": 9
    }
}