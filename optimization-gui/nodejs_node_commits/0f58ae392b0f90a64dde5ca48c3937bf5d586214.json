{
    "author": "BridgeAR",
    "message": "util: `format()` now formats bigint and booleans\n\nThis is necessary to distinguish them from other data types.\n\nPR-URL: https://github.com/nodejs/node/pull/25046\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Anto Aravinth <anto.aravinth.cse@gmail.com>",
    "sha": "0f58ae392b0f90a64dde5ca48c3937bf5d586214",
    "files": [
        {
            "sha": "396667be13ea5c61a115b45ed3e05bc7735fb2e0",
            "filename": "doc/api/util.md",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/0f58ae392b0f90a64dde5ca48c3937bf5d586214/doc%2Fapi%2Futil.md",
            "raw_url": "https://github.com/nodejs/node/raw/0f58ae392b0f90a64dde5ca48c3937bf5d586214/doc%2Fapi%2Futil.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Futil.md?ref=0f58ae392b0f90a64dde5ca48c3937bf5d586214",
            "patch": "@@ -245,8 +245,7 @@ util.format('%s:%s', 'foo');\n ```\n \n Values that are not part of the format string are formatted using\n-`util.inspect()` if their type is either `'object'`, `'symbol'`, `'function'`\n-or `'number'` and using `String()` in all other cases.\n+`util.inspect()` if their type is not `string`.\n \n If there are more arguments passed to the `util.format()` method than the\n number of specifiers, the extra arguments are concatenated to the returned"
        },
        {
            "sha": "f48d93d124738a10f8820f744257b18f4cf54453",
            "filename": "lib/util.js",
            "status": "modified",
            "additions": 1,
            "deletions": 10,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/0f58ae392b0f90a64dde5ca48c3937bf5d586214/lib%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/0f58ae392b0f90a64dde5ca48c3937bf5d586214/lib%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Futil.js?ref=0f58ae392b0f90a64dde5ca48c3937bf5d586214",
            "patch": "@@ -174,17 +174,8 @@ function formatWithOptions(inspectOptions, ...args) {\n \n   while (a < args.length) {\n     const value = args[a];\n-    // TODO(BridgeAR): This should apply for all besides strings. Especially\n-    // BigInt should be properly inspected.\n     str += join;\n-    if (typeof value !== 'string' &&\n-        typeof value !== 'boolean' &&\n-        // eslint-disable-next-line valid-typeof\n-        typeof value !== 'bigint') {\n-      str += inspect(value, inspectOptions);\n-    } else {\n-      str += value;\n-    }\n+    str += typeof value !== 'string' ? inspect(value, inspectOptions) : value;\n     join = ' ';\n     a++;\n   }"
        },
        {
            "sha": "a90e52946b07ef21dcdcde31a0e714b75dfde1d8",
            "filename": "test/parallel/test-util-format.js",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/0f58ae392b0f90a64dde5ca48c3937bf5d586214/test%2Fparallel%2Ftest-util-format.js",
            "raw_url": "https://github.com/nodejs/node/raw/0f58ae392b0f90a64dde5ca48c3937bf5d586214/test%2Fparallel%2Ftest-util-format.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-format.js?ref=0f58ae392b0f90a64dde5ca48c3937bf5d586214",
            "patch": "@@ -316,10 +316,27 @@ assert.strictEqual(util.format(new BadCustomError('foo')),\n assert.strictEqual(util.format('1', '1'), '1 1');\n assert.strictEqual(util.format(1, '1'), '1 1');\n assert.strictEqual(util.format('1', 1), '1 1');\n-assert.strictEqual(util.format(1, 1), '1 1');\n+assert.strictEqual(util.format(1, -0), '1 -0');\n assert.strictEqual(util.format('1', () => {}), '1 [Function]');\n assert.strictEqual(util.format(1, () => {}), '1 [Function]');\n assert.strictEqual(util.format('1', \"'\"), \"1 '\");\n assert.strictEqual(util.format(1, \"'\"), \"1 '\");\n assert.strictEqual(util.format('1', 'number'), '1 number');\n assert.strictEqual(util.format(1, 'number'), '1 number');\n+assert.strictEqual(util.format(5n), '5n');\n+assert.strictEqual(util.format(5n, 5n), '5n 5n');\n+\n+// Check `formatWithOptions`.\n+assert.strictEqual(\n+  util.formatWithOptions(\n+    { colors: true },\n+    true, undefined, Symbol(), 1, 5n, null, 'foobar'\n+  ),\n+  '\\u001b[33mtrue\\u001b[39m ' +\n+    '\\u001b[90mundefined\\u001b[39m ' +\n+    '\\u001b[32mSymbol()\\u001b[39m ' +\n+    '\\u001b[33m1\\u001b[39m ' +\n+    '\\u001b[33m5n\\u001b[39m ' +\n+    '\\u001b[1mnull\\u001b[22m ' +\n+    'foobar'\n+);"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 20,
        "deletions": 13
    }
}