{
    "author": "hashseed",
    "message": "test: add --test-root option to test.py\n\nThis way we can specify a custom path for the test folder, e.g.\nwhen building addons separately from the source tree.\n\nPR-URL: https://github.com/nodejs/node/pull/26093\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "d1d9daba46d6619325b67b90a3b5d5a3933a03cf",
    "files": [
        {
            "sha": "bf99c499024b0096e8aeefe7ea9aea9107f987a2",
            "filename": "tools/test.py",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/d1d9daba46d6619325b67b90a3b5d5a3933a03cf/tools%2Ftest.py",
            "raw_url": "https://github.com/nodejs/node/raw/d1d9daba46d6619325b67b90a3b5d5a3933a03cf/tools%2Ftest.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Ftest.py?ref=d1d9daba46d6619325b67b90a3b5d5a3933a03cf",
            "patch": "@@ -1393,6 +1393,8 @@ def BuildOptions():\n       default=\"\")\n   result.add_option('--temp-dir',\n       help='Optional path to change directory used for tests', default=False)\n+  result.add_option('--test-root',\n+      help='Optional path to change test directory', dest='test_root', default=None)\n   result.add_option('--repeat',\n       help='Number of times to repeat given tests',\n       default=1, type=\"int\")\n@@ -1576,8 +1578,10 @@ def Main():\n \n   workspace = abspath(join(dirname(sys.argv[0]), '..'))\n   test_root = join(workspace, 'test')\n+  if options.test_root is not None:\n+    test_root = options.test_root\n   suites = GetSuites(test_root)\n-  repositories = [TestRepository(join(workspace, 'test', name)) for name in suites]\n+  repositories = [TestRepository(join(test_root, name)) for name in suites]\n   repositories += [TestRepository(a) for a in options.suite]\n \n   root = LiteralTestSuite(repositories, test_root)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}