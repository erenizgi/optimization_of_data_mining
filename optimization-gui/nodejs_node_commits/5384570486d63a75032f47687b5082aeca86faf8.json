{
    "author": "unknown",
    "message": "doc: link n-api module init to multi-load addons\n\nAdd a blurb to the documentation of `NAPI_MODULE_INIT()` pointing to\nthe discussion of the consequences of providing an addon that can be\nloaded multiple times from multiple contexts.\n\nPR-URL: https://github.com/nodejs/node/pull/21891\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "5384570486d63a75032f47687b5082aeca86faf8",
    "files": [
        {
            "sha": "796dc4ad271ebb2a1e8b3bf4837424f0895bcf34",
            "filename": "doc/api/n-api.md",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/5384570486d63a75032f47687b5082aeca86faf8/doc%2Fapi%2Fn-api.md",
            "raw_url": "https://github.com/nodejs/node/raw/5384570486d63a75032f47687b5082aeca86faf8/doc%2Fapi%2Fn-api.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fn-api.md?ref=5384570486d63a75032f47687b5082aeca86faf8",
            "patch": "@@ -1183,6 +1183,10 @@ This macro includes `NAPI_MODULE`, and declares an `Init` function with a\n special name and with visibility beyond the addon. This will allow Node.js to\n initialize the module even if it is loaded multiple times.\n \n+There are a few design considerations when declaring a module that may be loaded\n+multiple times. The documentation of [context-aware addons][] provides more\n+details.\n+\n The variables `env` and `exports` will be available inside the function body\n following the macro invocation.\n \n@@ -4581,3 +4585,4 @@ This API may only be called from the main thread.\n [`process.release`]: process.html#process_process_release\n [`init` hooks]: async_hooks.html#async_hooks_init_asyncid_type_triggerasyncid_resource\n [async_hooks `type`]: async_hooks.html#async_hooks_type\n+[context-aware addons]: addons.html#addons_context_aware_addons"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 5,
        "deletions": 0
    }
}