{
    "author": "unknown",
    "message": "doc: Remove 'dnt_helper.js'\n\nThis file is totally useless, because it's an inner-used helper that is\nfor publishment of doc files.\n\nPR-URL: https://github.com/nodejs/node/pull/22595\nReviewed-By: Roman Reiss <me@silverwind.io>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "ec75ba6f0a99c2549e21026904a35f236808638d",
    "files": [
        {
            "sha": "9906db4f276cd78bbaa0a3436c1ac71c146c4ab6",
            "filename": "doc/api_assets/dnt_helper.js",
            "status": "removed",
            "additions": 0,
            "deletions": 49,
            "changes": 49,
            "blob_url": "https://github.com/nodejs/node/blob/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/doc%2Fapi_assets%2Fdnt_helper.js",
            "raw_url": "https://github.com/nodejs/node/raw/59e5a39d300aba3c018e7abb13f4f3e94a1398d4/doc%2Fapi_assets%2Fdnt_helper.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi_assets%2Fdnt_helper.js?ref=59e5a39d300aba3c018e7abb13f4f3e94a1398d4",
            "patch": "@@ -1,49 +0,0 @@\n-/**\n- * http://schalkneethling.github.io/blog/2015/11/06/respect-user-choice-do-not-track/\n- * https://github.com/schalkneethling/dnt-helper/blob/master/js/dnt-helper.js\n- *\n- * Returns true or false based on whether doNotTack is enabled. It also takes into account the\n- * anomalies, such as !bugzilla 887703, which effect versions of Fx 31 and lower. It also handles\n- * IE versions on Windows 7, 8 and 8.1, where the DNT implementation does not honor the spec.\n- * @see https://bugzilla.mozilla.org/show_bug.cgi?id=1217896 for more details\n- * @params {string} [dnt] - An optional mock doNotTrack string to ease unit testing.\n- * @params {string} [userAgent] - An optional mock userAgent string to ease unit testing.\n- * @returns {boolean} true if enabled else false\n- */\n-function _dntEnabled(dnt, userAgent) {\n-\n-    'use strict';\n-\n-    // for old version of IE we need to use the msDoNotTrack property of navigator\n-    // on newer versions, and newer platforms, this is doNotTrack but, on the window object\n-    // Safari also exposes the property on the window object.\n-    var dntStatus = dnt || navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;\n-    var ua = userAgent || navigator.userAgent;\n-\n-    // List of Windows versions known to not implement DNT according to the standard.\n-    var anomalousWinVersions = ['Windows NT 6.1', 'Windows NT 6.2', 'Windows NT 6.3'];\n-\n-    var fxMatch = ua.match(/Firefox\\/(\\d+)/);\n-    var ieRegEx = /MSIE|Trident/i;\n-    var isIE = ieRegEx.test(ua);\n-    // Matches from Windows up to the first occurrence of ; un-greedily\n-    // http://www.regexr.com/3c2el\n-    var platform = ua.match(/Windows.+?(?=;)/g);\n-\n-    // With old versions of IE, DNT did not exist so we simply return false;\n-    if (isIE && typeof Array.prototype.indexOf !== 'function') {\n-        return false;\n-    } else if (fxMatch && parseInt(fxMatch[1], 10) < 32) {\n-        // Can't say for sure if it is 1 or 0, due to Fx bug 887703\n-        dntStatus = 'Unspecified';\n-    } else if (isIE && platform && anomalousWinVersions.indexOf(platform.toString()) !== -1) {\n-        // default is on, which does not honor the specification\n-        dntStatus = 'Unspecified';\n-    } else {\n-        // sets dntStatus to Disabled or Enabled based on the value returned by the browser.\n-        // If dntStatus is undefined, it will be set to Unspecified\n-        dntStatus = { '0': 'Disabled', '1': 'Enabled' }[dntStatus] || 'Unspecified';\n-    }\n-\n-    return dntStatus === 'Enabled' ? true : false;\n-}"
        },
        {
            "sha": "5babe1c97e679a260247abbc19e03f3fcde1cb67",
            "filename": "tools/doc/html.js",
            "status": "modified",
            "additions": 11,
            "deletions": 3,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/ec75ba6f0a99c2549e21026904a35f236808638d/tools%2Fdoc%2Fhtml.js",
            "raw_url": "https://github.com/nodejs/node/raw/ec75ba6f0a99c2549e21026904a35f236808638d/tools%2Fdoc%2Fhtml.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Fdoc%2Fhtml.js?ref=ec75ba6f0a99c2549e21026904a35f236808638d",
            "patch": "@@ -79,9 +79,17 @@ function toHTML({ input, content, filename, nodeVersion, analytics }, cb) {\n \n   if (analytics) {\n     HTML = HTML.replace('<!-- __TRACKING__ -->', `\n-    <script src=\"assets/dnt_helper.js\"></script>\n-    <script>\n-      if (!_dntEnabled()) {\n+    <script type=\"text/javascript\">\n+      // In all the browsers we'll get '1' or 'yes' (FF 32 or above) as a string\n+      // value when enabling 'DO NOT TRACK'.\n+      // For more:\n+      // https://developer.mozilla.org/en-US/docs/Web/API/navigator/doNotTrack\n+      function isDoNotTrack() {\n+        var isDoNotTrackEnabled = navigator.doNotTrack || window.doNotTrack ||\n+               navigator.msDoNotTrack;\n+        return isDoNotTrackEnabled === '1' || isDoNotTrackEnabled === 'yes';\n+      }\n+      if (!isDoNotTrack()) {\n         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;\n         i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},\n         i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];"
        }
    ],
    "stats": {
        "total": 63,
        "additions": 11,
        "deletions": 52
    }
}