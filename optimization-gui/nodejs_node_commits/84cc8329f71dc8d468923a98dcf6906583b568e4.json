{
    "author": "jasnell",
    "message": "benchmark: spread operator benchmark\n\nBenchmark comparing `util._extend()`, `Object.assign()`,\nand the spread operator for object assignment.\n\n`util._extend()` still wins currently.\n\nPR-URL: https://github.com/nodejs/node/pull/18442\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Yuta Hiroto <hello@about-hiroppy.com>",
    "sha": "84cc8329f71dc8d468923a98dcf6906583b568e4",
    "files": [
        {
            "sha": "00c634ff879501ef3e2c964c9bb8ed7b60297ea2",
            "filename": "benchmark/es/spread-assign.js",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/nodejs/node/blob/84cc8329f71dc8d468923a98dcf6906583b568e4/benchmark%2Fes%2Fspread-assign.js",
            "raw_url": "https://github.com/nodejs/node/raw/84cc8329f71dc8d468923a98dcf6906583b568e4/benchmark%2Fes%2Fspread-assign.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fes%2Fspread-assign.js?ref=84cc8329f71dc8d468923a98dcf6906583b568e4",
            "patch": "@@ -0,0 +1,46 @@\n+'use strict';\n+\n+const common = require('../common.js');\n+const util = require('util');\n+\n+const bench = common.createBenchmark(main, {\n+  method: ['spread', 'assign', '_extend'],\n+  count: [5, 10, 20],\n+  millions: [1]\n+});\n+\n+function main({ millions, context, count, rest, method }) {\n+  const n = millions * 1e6;\n+\n+  const src = {};\n+  for (let n = 0; n < count; n++)\n+    src[`p${n}`] = n;\n+\n+  let obj;  // eslint-disable-line\n+  let i;\n+\n+  switch (method) {\n+    case '':\n+      // Empty string falls through to next line as default, mostly for tests.\n+    case '_extend':\n+      bench.start();\n+      for (i = 0; i < n; i++)\n+        obj = util._extend({}, src);\n+      bench.end(n);\n+      break;\n+    case 'assign':\n+      bench.start();\n+      for (i = 0; i < n; i++)\n+        obj = Object.assign({}, src);\n+      bench.end(n);\n+      break;\n+    case 'spread':\n+      bench.start();\n+      for (i = 0; i < n; i++)\n+        obj = { ...src };\n+      bench.end(n);\n+      break;\n+    default:\n+      throw new Error('Unexpected method');\n+  }\n+}"
        }
    ],
    "stats": {
        "total": 46,
        "additions": 46,
        "deletions": 0
    }
}