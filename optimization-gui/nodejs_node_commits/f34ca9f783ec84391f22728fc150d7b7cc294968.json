{
    "author": "rvagg",
    "message": "tools: only sign release if promotion successful\n\nRef: https://github.com/nodejs/build/pull/1596\n\nPR-URL: https://github.com/nodejs/node/pull/24669\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>",
    "sha": "f34ca9f783ec84391f22728fc150d7b7cc294968",
    "files": [
        {
            "sha": "3ef503a08a8ea3dfe32734c59a1f09d327e66695",
            "filename": "tools/release.sh",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/f34ca9f783ec84391f22728fc150d7b7cc294968/tools%2Frelease.sh",
            "raw_url": "https://github.com/nodejs/node/raw/f34ca9f783ec84391f22728fc150d7b7cc294968/tools%2Frelease.sh",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Frelease.sh?ref=f34ca9f783ec84391f22728fc150d7b7cc294968",
            "patch": "@@ -202,7 +202,9 @@ for version in $versions; do\n \n     ssh ${customsshkey} ${webuser}@${webhost} $promotecmd nodejs $version\n \n-    sign $version\n+    if [ $? -eq 0 ];then\n+      sign $version\n+    fi\n \n     break\n   done"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}