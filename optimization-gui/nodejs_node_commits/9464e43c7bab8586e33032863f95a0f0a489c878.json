{
    "author": "mhdawson",
    "message": "build: fix coverage generation\n\nChanges in command line options for nyc resulted in the\ncoverage target no longer working.\n\nPin the major version of nyc and update the options to\nget it working again.\n\nPR-URL: https://github.com/nodejs/node/pull/23769\nFixes: https://github.com/nodejs/node/issues/23690\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: George Adams <george.adams@uk.ibm.com>",
    "sha": "9464e43c7bab8586e33032863f95a0f0a489c878",
    "files": [
        {
            "sha": "eeb65c38e05eb64db81a6ad46493ad1d3b7351d7",
            "filename": "Makefile",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/9464e43c7bab8586e33032863f95a0f0a489c878/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/9464e43c7bab8586e33032863f95a0f0a489c878/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=9464e43c7bab8586e33032863f95a0f0a489c878",
            "patch": "@@ -203,7 +203,7 @@ coverage: coverage-test ## Run the tests and generate a coverage report.\n coverage-build: all\n \tmkdir -p node_modules\n \tif [ ! -d node_modules/nyc ]; then \\\n-\t\t$(NODE) ./deps/npm install nyc --no-save --no-package-lock; fi\n+\t\t$(NODE) ./deps/npm install nyc@13 --no-save --no-package-lock; fi\n \tif [ ! -d gcovr ]; then git clone -b 3.4 --depth=1 \\\n \t\t--single-branch git://github.com/gcovr/gcovr.git; fi\n \tif [ ! -d build ]; then git clone --depth=1 \\\n@@ -234,8 +234,9 @@ coverage-test: coverage-build\n \t$(NODE) ./node_modules/.bin/nyc merge 'out/Release/.coverage' \\\n \t\t.cov_tmp/libcov.json\n \t(cd lib && .$(NODE) ../node_modules/.bin/nyc report \\\n-\t\t--temp-directory \"$(CURDIR)/.cov_tmp\" \\\n-\t\t--report-dir \"$(CURDIR)/coverage\")\n+\t\t--temp-dir \"$(CURDIR)/.cov_tmp\" \\\n+\t\t--report-dir \"$(CURDIR)/coverage\" \\\n+\t\t--reporter html)\n \t-(cd out && \"../gcovr/scripts/gcovr\" --gcov-exclude='.*deps' \\\n \t\t--gcov-exclude='.*usr' -v -r Release/obj.target \\\n \t\t--html --html-detail -o ../coverage/cxxcoverage.html \\"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}