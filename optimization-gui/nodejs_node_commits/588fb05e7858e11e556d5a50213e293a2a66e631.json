{
    "author": "jasnell",
    "message": "perf_hooks: move strings to env\n\nMove repeatedly created strings to env\n\nPR-URL: https://github.com/nodejs/node/pull/22401\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "588fb05e7858e11e556d5a50213e293a2a66e631",
    "files": [
        {
            "sha": "b393670b21cc369b39cc61544d34a79a06e857c9",
            "filename": "src/env.h",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/588fb05e7858e11e556d5a50213e293a2a66e631/src%2Fenv.h",
            "raw_url": "https://github.com/nodejs/node/raw/588fb05e7858e11e556d5a50213e293a2a66e631/src%2Fenv.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fenv.h?ref=588fb05e7858e11e556d5a50213e293a2a66e631",
            "patch": "@@ -148,10 +148,12 @@ struct PackageConfig {\n   V(dns_soa_string, \"SOA\")                                                    \\\n   V(dns_srv_string, \"SRV\")                                                    \\\n   V(dns_txt_string, \"TXT\")                                                    \\\n+  V(duration_string, \"duration\")                                              \\\n   V(emit_warning_string, \"emitWarning\")                                       \\\n   V(exchange_string, \"exchange\")                                              \\\n   V(encoding_string, \"encoding\")                                              \\\n   V(entries_string, \"entries\")                                                \\\n+  V(entry_type_string, \"entryType\")                                           \\\n   V(env_pairs_string, \"envPairs\")                                             \\\n   V(errno_string, \"errno\")                                                    \\\n   V(error_string, \"error\")                                                    \\\n@@ -187,6 +189,7 @@ struct PackageConfig {\n   V(issuer_string, \"issuer\")                                                  \\\n   V(issuercert_string, \"issuerCertificate\")                                   \\\n   V(kill_signal_string, \"killSignal\")                                         \\\n+  V(kind_string, \"kind\")                                                      \\\n   V(mac_string, \"mac\")                                                        \\\n   V(main_string, \"main\")                                                      \\\n   V(max_buffer_string, \"maxBuffer\")                                           \\\n@@ -270,6 +273,7 @@ struct PackageConfig {\n   V(sni_context_string, \"sni_context\")                                        \\\n   V(source_string, \"source\")                                                  \\\n   V(stack_string, \"stack\")                                                    \\\n+  V(start_time_string, \"startTime\")                                           \\\n   V(status_string, \"status\")                                                  \\\n   V(stdio_string, \"stdio\")                                                    \\\n   V(subject_string, \"subject\")                                                \\"
        },
        {
            "sha": "1564b9582c999e412ab2919db3d1cba135afaaa9",
            "filename": "src/node_perf.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/588fb05e7858e11e556d5a50213e293a2a66e631/src%2Fnode_perf.cc",
            "raw_url": "https://github.com/nodejs/node/raw/588fb05e7858e11e556d5a50213e293a2a66e631/src%2Fnode_perf.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_perf.cc?ref=588fb05e7858e11e556d5a50213e293a2a66e631",
            "patch": "@@ -80,19 +80,19 @@ inline void InitObject(const PerformanceEntry& entry, Local<Object> obj) {\n                          attr)\n       .FromJust();\n   obj->DefineOwnProperty(context,\n-                         FIXED_ONE_BYTE_STRING(isolate, \"entryType\"),\n+                         env->entry_type_string(),\n                          String::NewFromUtf8(isolate,\n                                              entry.type().c_str(),\n                                              v8::NewStringType::kNormal)\n                              .ToLocalChecked(),\n                          attr)\n       .FromJust();\n   obj->DefineOwnProperty(context,\n-                         FIXED_ONE_BYTE_STRING(isolate, \"startTime\"),\n+                         env->start_time_string(),\n                          Number::New(isolate, entry.startTime()),\n                          attr).FromJust();\n   obj->DefineOwnProperty(context,\n-                         FIXED_ONE_BYTE_STRING(isolate, \"duration\"),\n+                         env->duration_string(),\n                          Number::New(isolate, entry.duration()),\n                          attr).FromJust();\n }\n@@ -249,7 +249,7 @@ void PerformanceGCCallback(Environment* env, void* ptr) {\n     v8::PropertyAttribute attr =\n         static_cast<v8::PropertyAttribute>(v8::ReadOnly | v8::DontDelete);\n     obj->DefineOwnProperty(context,\n-                           FIXED_ONE_BYTE_STRING(env->isolate(), \"kind\"),\n+                           env->kind_string(),\n                            Integer::New(env->isolate(), entry->gckind()),\n                            attr).FromJust();\n     PerformanceEntry::Notify(env, entry->kind(), obj);"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 8,
        "deletions": 4
    }
}