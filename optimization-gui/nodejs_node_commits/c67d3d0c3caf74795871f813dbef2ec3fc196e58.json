{
    "author": "joyeecheung",
    "message": "src: remove calls to SetWrapperClassId()\n\nWe have migrated from the deprecated RetainedObjectInfo API to\nthe new EmbedderGraph API, so there is no need to take care\nof wrapper class ids anymore since they are dedicated to the\ndeprecated API (the new API uses a graph instead of ids to retrieve\ninfo about nodes).\n\nPR-URL: https://github.com/nodejs/node/pull/22975\nRefs: https://github.com/nodejs/node/pull/21741\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "c67d3d0c3caf74795871f813dbef2ec3fc196e58",
    "files": [
        {
            "sha": "b04ab6808704b113a191d768d4480651aad03888",
            "filename": "src/async_wrap.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fasync_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fasync_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fasync_wrap.cc?ref=c67d3d0c3caf74795871f813dbef2ec3fc196e58",
            "patch": "@@ -556,9 +556,6 @@ AsyncWrap::AsyncWrap(Environment* env,\n   CHECK_NE(provider, PROVIDER_NONE);\n   CHECK_GE(object->InternalFieldCount(), 1);\n \n-  // Shift provider value over to prevent id collision.\n-  persistent().SetWrapperClassId(NODE_ASYNC_ID_OFFSET + provider_type_);\n-\n   // Use AsyncReset() call to execute the init() callbacks.\n   AsyncReset(execution_async_id, silent);\n }"
        },
        {
            "sha": "50864837d627874cc220a4ce6d51780e55d75708",
            "filename": "src/async_wrap.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fasync_wrap.h",
            "raw_url": "https://github.com/nodejs/node/raw/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fasync_wrap.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fasync_wrap.h?ref=c67d3d0c3caf74795871f813dbef2ec3fc196e58",
            "patch": "@@ -31,8 +31,6 @@\n \n namespace node {\n \n-#define NODE_ASYNC_ID_OFFSET 0xA1C\n-\n #define NODE_ASYNC_NON_CRYPTO_PROVIDER_TYPES(V)                               \\\n   V(NONE)                                                                     \\\n   V(DNSCHANNEL)                                                               \\"
        },
        {
            "sha": "8642477db4d92773676e5898906c9be2722dc54c",
            "filename": "src/node_buffer.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fnode_buffer.cc",
            "raw_url": "https://github.com/nodejs/node/raw/c67d3d0c3caf74795871f813dbef2ec3fc196e58/src%2Fnode_buffer.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_buffer.cc?ref=c67d3d0c3caf74795871f813dbef2ec3fc196e58",
            "patch": "@@ -33,8 +33,6 @@\n #include <string.h>\n #include <limits.h>\n \n-#define BUFFER_ID 0xB0E4\n-\n #define MIN(a, b) ((a) < (b) ? (a) : (b))\n \n #define THROW_AND_RETURN_UNLESS_BUFFER(env, obj)                            \\\n@@ -144,7 +142,6 @@ CallbackInfo::CallbackInfo(Isolate* isolate,\n     CHECK_NOT_NULL(data_);\n \n   persistent_.SetWeak(this, WeakCallback, v8::WeakCallbackType::kParameter);\n-  persistent_.SetWrapperClassId(BUFFER_ID);\n   isolate->AdjustAmountOfExternalAllocatedMemory(sizeof(*this));\n }\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 0,
        "deletions": 8
    }
}