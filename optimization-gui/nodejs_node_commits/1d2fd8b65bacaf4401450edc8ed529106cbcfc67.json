{
    "author": "targos",
    "message": "lib: port remaining errors to new system\n\nPR-URL: https://github.com/nodejs/node/pull/19137\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
    "files": [
        {
            "sha": "3687288ee896e1025322b0a671ff3256177236db",
            "filename": "lib/_http_client.js",
            "status": "modified",
            "additions": 20,
            "deletions": 13,
            "changes": 33,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_client.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_client.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_client.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -39,15 +39,23 @@ const { Buffer } = require('buffer');\n const { urlToOptions, searchParamsSymbol } = require('internal/url');\n const { outHeadersKey, ondrain } = require('internal/http');\n const { nextTick } = require('internal/process/next_tick');\n-const errors = require('internal/errors');\n+const {\n+  ERR_HTTP_HEADERS_SENT,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_DOMAIN_NAME,\n+  ERR_INVALID_HTTP_TOKEN,\n+  ERR_INVALID_PROTOCOL,\n+  ERR_UNESCAPED_CHARACTERS\n+} = require('internal/errors').codes;\n const { validateTimerDuration } = require('internal/timers');\n \n const INVALID_PATH_REGEX = /[^\\u0021-\\u00ff]/;\n \n function validateHost(host, name) {\n   if (host !== null && host !== undefined && typeof host !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', `options.${name}`,\n-                               ['string', 'undefined', 'null'], host);\n+    throw new ERR_INVALID_ARG_TYPE(`options.${name}`,\n+                                   ['string', 'undefined', 'null'],\n+                                   host);\n   }\n   return host;\n }\n@@ -58,7 +66,7 @@ function ClientRequest(options, cb) {\n   if (typeof options === 'string') {\n     options = url.parse(options);\n     if (!options.hostname) {\n-      throw new errors.Error('ERR_INVALID_DOMAIN_NAME');\n+      throw new ERR_INVALID_DOMAIN_NAME();\n     }\n   } else if (options && options[searchParamsSymbol] &&\n              options[searchParamsSymbol][searchParamsSymbol]) {\n@@ -79,8 +87,8 @@ function ClientRequest(options, cb) {\n     // Explicitly pass through this statement as agent will not be used\n     // when createConnection is provided.\n   } else if (typeof agent.addRequest !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'Agent option',\n-                               ['Agent-like Object', 'undefined', 'false']);\n+    throw new ERR_INVALID_ARG_TYPE('Agent option',\n+                                   ['Agent-like Object', 'undefined', 'false']);\n   }\n   this.agent = agent;\n \n@@ -93,11 +101,11 @@ function ClientRequest(options, cb) {\n   if (options.path) {\n     path = String(options.path);\n     if (INVALID_PATH_REGEX.test(path))\n-      throw new errors.TypeError('ERR_UNESCAPED_CHARACTERS', 'Request path');\n+      throw new ERR_UNESCAPED_CHARACTERS('Request path');\n   }\n \n   if (protocol !== expectedProtocol) {\n-    throw new errors.Error('ERR_INVALID_PROTOCOL', protocol, expectedProtocol);\n+    throw new ERR_INVALID_PROTOCOL(protocol, expectedProtocol);\n   }\n \n   var defaultPort = options.defaultPort ||\n@@ -115,13 +123,12 @@ function ClientRequest(options, cb) {\n   var method = options.method;\n   var methodIsString = (typeof method === 'string');\n   if (method !== null && method !== undefined && !methodIsString) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'method',\n-                               'string', method);\n+    throw new ERR_INVALID_ARG_TYPE('method', 'string', method);\n   }\n \n   if (methodIsString && method) {\n     if (!checkIsHttpToken(method)) {\n-      throw new errors.TypeError('ERR_INVALID_HTTP_TOKEN', 'Method', method);\n+      throw new ERR_INVALID_HTTP_TOKEN('Method', method);\n     }\n     method = this.method = method.toUpperCase();\n   } else {\n@@ -203,7 +210,7 @@ function ClientRequest(options, cb) {\n \n     if (this.getHeader('expect')) {\n       if (this._header) {\n-        throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'render');\n+        throw new ERR_HTTP_HEADERS_SENT('render');\n       }\n \n       this._storeHeader(this.method + ' ' + this.path + ' HTTP/1.1\\r\\n',\n@@ -261,7 +268,7 @@ ClientRequest.prototype._finish = function _finish() {\n \n ClientRequest.prototype._implicitHeader = function _implicitHeader() {\n   if (this._header) {\n-    throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'render');\n+    throw new ERR_HTTP_HEADERS_SENT('render');\n   }\n   this._storeHeader(this.method + ' ' + this.path + ' HTTP/1.1\\r\\n',\n                     this[outHeadersKey]);"
        },
        {
            "sha": "cd7caae9ae735e8c4d3042c75437c5c78fad8056",
            "filename": "lib/_http_outgoing.js",
            "status": "modified",
            "additions": 28,
            "deletions": 21,
            "changes": 49,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_outgoing.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_outgoing.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_outgoing.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -33,7 +33,17 @@ const checkInvalidHeaderChar = common._checkInvalidHeaderChar;\n const { outHeadersKey } = require('internal/http');\n const { async_id_symbol } = require('internal/async_hooks').symbols;\n const { nextTick } = require('internal/process/next_tick');\n-const errors = require('internal/errors');\n+const {\n+  ERR_HTTP_HEADERS_SENT,\n+  ERR_HTTP_INVALID_HEADER_VALUE,\n+  ERR_HTTP_TRAILER_INVALID,\n+  ERR_INVALID_HTTP_TOKEN,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CHAR,\n+  ERR_METHOD_NOT_IMPLEMENTED,\n+  ERR_STREAM_CANNOT_PIPE,\n+  ERR_STREAM_WRITE_AFTER_END\n+} = require('internal/errors').codes;\n \n const { CRLF, debug } = common;\n const { utcDate } = internalHttp;\n@@ -165,7 +175,7 @@ Object.defineProperty(OutgoingMessage.prototype, '_headerNames', {\n \n OutgoingMessage.prototype._renderHeaders = function _renderHeaders() {\n   if (this._header) {\n-    throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'render');\n+    throw new ERR_HTTP_HEADERS_SENT('render');\n   }\n \n   var headersMap = this[outHeadersKey];\n@@ -424,7 +434,7 @@ function _storeHeader(firstLine, headers) {\n   // header fields, regardless of the header fields present in the\n   // message, and thus cannot contain a message body or 'trailers'.\n   if (this.chunkedEncoding !== true && state.trailer) {\n-    throw new errors.Error('ERR_HTTP_TRAILER_INVALID');\n+    throw new ERR_HTTP_TRAILER_INVALID();\n   }\n \n   this._header = state.header + CRLF;\n@@ -488,12 +498,12 @@ function matchHeader(self, state, field, value) {\n function validateHeader(name, value) {\n   let err;\n   if (typeof name !== 'string' || !name || !checkIsHttpToken(name)) {\n-    err = new errors.TypeError('ERR_INVALID_HTTP_TOKEN', 'Header name', name);\n+    err = new ERR_INVALID_HTTP_TOKEN('Header name', name);\n   } else if (value === undefined) {\n-    err = new errors.TypeError('ERR_HTTP_INVALID_HEADER_VALUE', value, name);\n+    err = new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n   } else if (checkInvalidHeaderChar(value)) {\n     debug('Header \"%s\" contains invalid characters', name);\n-    err = new errors.TypeError('ERR_INVALID_CHAR', 'header content', name);\n+    err = new ERR_INVALID_CHAR('header content', name);\n   }\n   if (err !== undefined) {\n     Error.captureStackTrace(err, validateHeader);\n@@ -503,7 +513,7 @@ function validateHeader(name, value) {\n \n OutgoingMessage.prototype.setHeader = function setHeader(name, value) {\n   if (this._header) {\n-    throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'set');\n+    throw new ERR_HTTP_HEADERS_SENT('set');\n   }\n   validateHeader(name, value);\n \n@@ -529,7 +539,7 @@ OutgoingMessage.prototype.setHeader = function setHeader(name, value) {\n \n OutgoingMessage.prototype.getHeader = function getHeader(name) {\n   if (typeof name !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('name', 'string');\n   }\n \n   if (!this[outHeadersKey]) return;\n@@ -565,7 +575,7 @@ OutgoingMessage.prototype.getHeaders = function getHeaders() {\n \n OutgoingMessage.prototype.hasHeader = function hasHeader(name) {\n   if (typeof name !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('name', 'string');\n   }\n \n   return !!(this[outHeadersKey] && this[outHeadersKey][name.toLowerCase()]);\n@@ -574,11 +584,11 @@ OutgoingMessage.prototype.hasHeader = function hasHeader(name) {\n \n OutgoingMessage.prototype.removeHeader = function removeHeader(name) {\n   if (typeof name !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('name', 'string');\n   }\n \n   if (this._header) {\n-    throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'remove');\n+    throw new ERR_HTTP_HEADERS_SENT('remove');\n   }\n \n   var key = name.toLowerCase();\n@@ -605,7 +615,7 @@ OutgoingMessage.prototype.removeHeader = function removeHeader(name) {\n \n \n OutgoingMessage.prototype._implicitHeader = function _implicitHeader() {\n-  throw new errors.Error('ERR_METHOD_NOT_IMPLEMENTED', '_implicitHeader()');\n+  throw new ERR_METHOD_NOT_IMPLEMENTED('_implicitHeader()');\n };\n \n Object.defineProperty(OutgoingMessage.prototype, 'headersSent', {\n@@ -622,7 +632,7 @@ OutgoingMessage.prototype.write = function write(chunk, encoding, callback) {\n \n function write_(msg, chunk, encoding, callback, fromEnd) {\n   if (msg.finished) {\n-    const err = new errors.Error('ERR_STREAM_WRITE_AFTER_END');\n+    const err = new ERR_STREAM_WRITE_AFTER_END();\n     nextTick(msg.socket && msg.socket[async_id_symbol],\n              writeAfterEndNT.bind(msg),\n              err,\n@@ -642,8 +652,7 @@ function write_(msg, chunk, encoding, callback, fromEnd) {\n   }\n \n   if (!fromEnd && typeof chunk !== 'string' && !(chunk instanceof Buffer)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'first argument',\n-                               ['string', 'Buffer']);\n+    throw new ERR_INVALID_ARG_TYPE('first argument', ['string', 'Buffer']);\n   }\n \n \n@@ -711,12 +720,11 @@ OutgoingMessage.prototype.addTrailers = function addTrailers(headers) {\n       value = headers[key];\n     }\n     if (typeof field !== 'string' || !field || !checkIsHttpToken(field)) {\n-      throw new errors.TypeError('ERR_INVALID_HTTP_TOKEN', 'Trailer name',\n-                                 field);\n+      throw new ERR_INVALID_HTTP_TOKEN('Trailer name', field);\n     }\n     if (checkInvalidHeaderChar(value)) {\n       debug('Trailer \"%s\" contains invalid characters', field);\n-      throw new errors.TypeError('ERR_INVALID_CHAR', 'trailer content', field);\n+      throw new ERR_INVALID_CHAR('trailer content', field);\n     }\n     this._trailer += field + ': ' + escapeHeaderValue(value) + CRLF;\n   }\n@@ -742,8 +750,7 @@ OutgoingMessage.prototype.end = function end(chunk, encoding, callback) {\n   var uncork;\n   if (chunk) {\n     if (typeof chunk !== 'string' && !(chunk instanceof Buffer)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'first argument',\n-                                 ['string', 'Buffer']);\n+      throw new ERR_INVALID_ARG_TYPE('first argument', ['string', 'Buffer']);\n     }\n     if (!this._header) {\n       if (typeof chunk === 'string')\n@@ -874,7 +881,7 @@ OutgoingMessage.prototype.flush = internalUtil.deprecate(function() {\n \n OutgoingMessage.prototype.pipe = function pipe() {\n   // OutgoingMessage should be write-only. Piping from it is disabled.\n-  this.emit('error', new errors.Error('ERR_STREAM_CANNOT_PIPE'));\n+  this.emit('error', new ERR_STREAM_CANNOT_PIPE());\n };\n \n module.exports = {"
        },
        {
            "sha": "498800dd1ee44521e554aefe90258784c5b6320b",
            "filename": "lib/_http_server.js",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_server.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_http_server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_server.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -43,7 +43,11 @@ const {\n   getOrSetAsyncId\n } = require('internal/async_hooks');\n const { IncomingMessage } = require('_http_incoming');\n-const errors = require('internal/errors');\n+const {\n+  ERR_HTTP_HEADERS_SENT,\n+  ERR_HTTP_INVALID_STATUS_CODE,\n+  ERR_INVALID_CHAR\n+} = require('internal/errors').codes;\n const Buffer = require('buffer').Buffer;\n \n const kServerResponse = Symbol('ServerResponse');\n@@ -201,8 +205,7 @@ function writeHead(statusCode, reason, obj) {\n \n   statusCode |= 0;\n   if (statusCode < 100 || statusCode > 999) {\n-    throw new errors.RangeError('ERR_HTTP_INVALID_STATUS_CODE',\n-                                originalStatusCode);\n+    throw new ERR_HTTP_INVALID_STATUS_CODE(originalStatusCode);\n   }\n \n \n@@ -229,7 +232,7 @@ function writeHead(statusCode, reason, obj) {\n       }\n     }\n     if (k === undefined && this._header) {\n-      throw new errors.Error('ERR_HTTP_HEADERS_SENT', 'render');\n+      throw new ERR_HTTP_HEADERS_SENT('render');\n     }\n     // only progressive api is used\n     headers = this[outHeadersKey];\n@@ -239,7 +242,7 @@ function writeHead(statusCode, reason, obj) {\n   }\n \n   if (checkInvalidHeaderChar(this.statusMessage))\n-    throw new errors.Error('ERR_INVALID_CHAR', 'statusMessage');\n+    throw new ERR_INVALID_CHAR('statusMessage');\n \n   var statusLine = `HTTP/1.1 ${statusCode} ${this.statusMessage}${CRLF}`;\n "
        },
        {
            "sha": "f49da5086519a51d723df95568c4c82db5b01bfd",
            "filename": "lib/_stream_readable.js",
            "status": "modified",
            "additions": 10,
            "deletions": 7,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_readable.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_readable.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_stream_readable.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -32,7 +32,12 @@ const debug = util.debuglog('stream');\n const BufferList = require('internal/streams/BufferList');\n const destroyImpl = require('internal/streams/destroy');\n const { getHighWaterMark } = require('internal/streams/state');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_STREAM_PUSH_AFTER_EOF,\n+  ERR_STREAM_READ_NOT_IMPLEMENTED,\n+  ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n+} = require('internal/errors').codes;\n const ReadableAsyncIterator = require('internal/streams/async_iterator');\n const { emitExperimentalWarning } = require('internal/util');\n var StringDecoder;\n@@ -232,12 +237,11 @@ function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n \n       if (addToFront) {\n         if (state.endEmitted)\n-          stream.emit('error',\n-                      new errors.Error('ERR_STREAM_UNSHIFT_AFTER_END_EVENT'));\n+          stream.emit('error', new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());\n         else\n           addChunk(stream, state, chunk, true);\n       } else if (state.ended) {\n-        stream.emit('error', new errors.Error('ERR_STREAM_PUSH_AFTER_EOF'));\n+        stream.emit('error', new ERR_STREAM_PUSH_AFTER_EOF());\n       } else if (state.destroyed) {\n         return false;\n       } else {\n@@ -285,8 +289,7 @@ function chunkInvalid(state, chunk) {\n       typeof chunk !== 'string' &&\n       chunk !== undefined &&\n       !state.objectMode) {\n-    er = new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                              'chunk', ['string', 'Buffer', 'Uint8Array']);\n+    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array']);\n   }\n   return er;\n }\n@@ -565,7 +568,7 @@ function maybeReadMore_(stream, state) {\n // for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n // arbitrary, and perhaps not very meaningful.\n Readable.prototype._read = function(n) {\n-  this.emit('error', new errors.Error('ERR_STREAM_READ_NOT_IMPLEMENTED'));\n+  this.emit('error', new ERR_STREAM_READ_NOT_IMPLEMENTED());\n };\n \n Readable.prototype.pipe = function(dest, pipeOpts) {"
        },
        {
            "sha": "387a39318cdc2f29b013ae2c5e886b58a1b257f0",
            "filename": "lib/_stream_transform.js",
            "status": "modified",
            "additions": 10,
            "deletions": 5,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_transform.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_transform.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_stream_transform.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -64,7 +64,12 @@\n 'use strict';\n \n module.exports = Transform;\n-const errors = require('internal/errors');\n+const {\n+  ERR_METHOD_NOT_IMPLEMENTED,\n+  ERR_MULTIPLE_CALLBACK,\n+  ERR_TRANSFORM_ALREADY_TRANSFORMING,\n+  ERR_TRANSFORM_WITH_LENGTH_0\n+} = require('internal/errors').codes;\n const Duplex = require('_stream_duplex');\n const util = require('util');\n util.inherits(Transform, Duplex);\n@@ -77,7 +82,7 @@ function afterTransform(er, data) {\n   var cb = ts.writecb;\n \n   if (cb === null) {\n-    return this.emit('error', new errors.Error('ERR_MULTIPLE_CALLBACK'));\n+    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n   }\n \n   ts.writechunk = null;\n@@ -157,7 +162,7 @@ Transform.prototype.push = function(chunk, encoding) {\n // an error, then that'll put the hurt on the whole operation.  If you\n // never call cb(), then you'll never get another chunk.\n Transform.prototype._transform = function(chunk, encoding, cb) {\n-  throw new errors.Error('ERR_METHOD_NOT_IMPLEMENTED', '_transform');\n+  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform');\n };\n \n Transform.prototype._write = function(chunk, encoding, cb) {\n@@ -209,9 +214,9 @@ function done(stream, er, data) {\n   // if there's nothing in the write buffer, then that means\n   // that nothing more will ever be provided\n   if (stream._writableState.length)\n-    throw new errors.Error('ERR_TRANSFORM_WITH_LENGTH_0');\n+    throw new ERR_TRANSFORM_WITH_LENGTH_0();\n \n   if (stream._transformState.transforming)\n-    throw new errors.Error('ERR_TRANSFORM_ALREADY_TRANSFORMING');\n+    throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n   return stream.push(null);\n }"
        },
        {
            "sha": "aa29779e443d2b4a7aa945d6d38d3f0d3da5671d",
            "filename": "lib/_stream_writable.js",
            "status": "modified",
            "additions": 16,
            "deletions": 9,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_writable.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_stream_writable.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_stream_writable.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -34,7 +34,15 @@ const Stream = require('stream');\n const { Buffer } = require('buffer');\n const destroyImpl = require('internal/streams/destroy');\n const { getHighWaterMark } = require('internal/streams/state');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_METHOD_NOT_IMPLEMENTED,\n+  ERR_STREAM_CANNOT_PIPE,\n+  ERR_STREAM_DESTROYED,\n+  ERR_STREAM_NULL_VALUES,\n+  ERR_STREAM_WRITE_AFTER_END,\n+  ERR_UNKNOWN_ENCODING\n+} = require('internal/errors').codes;\n \n util.inherits(Writable, Stream);\n \n@@ -222,12 +230,12 @@ function Writable(options) {\n \n // Otherwise people can pipe Writable streams, which is just wrong.\n Writable.prototype.pipe = function() {\n-  this.emit('error', new errors.Error('ERR_STREAM_CANNOT_PIPE'));\n+  this.emit('error', new ERR_STREAM_CANNOT_PIPE());\n };\n \n \n function writeAfterEnd(stream, cb) {\n-  var er = new errors.Error('ERR_STREAM_WRITE_AFTER_END');\n+  var er = new ERR_STREAM_WRITE_AFTER_END();\n   // TODO: defer error events consistently everywhere, not just the cb\n   stream.emit('error', er);\n   process.nextTick(cb, er);\n@@ -241,10 +249,9 @@ function validChunk(stream, state, chunk, cb) {\n   var er = false;\n \n   if (chunk === null) {\n-    er = new errors.TypeError('ERR_STREAM_NULL_VALUES');\n+    er = new ERR_STREAM_NULL_VALUES();\n   } else if (typeof chunk !== 'string' && !state.objectMode) {\n-    er = new errors.TypeError('ERR_INVALID_ARG_TYPE', 'chunk',\n-                              ['string', 'Buffer']);\n+    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer']);\n   }\n   if (er) {\n     stream.emit('error', er);\n@@ -311,7 +318,7 @@ Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n   if (typeof encoding === 'string')\n     encoding = encoding.toLowerCase();\n   if (!Buffer.isEncoding(encoding))\n-    throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+    throw new ERR_UNKNOWN_ENCODING(encoding);\n   this._writableState.defaultEncoding = encoding;\n   return this;\n };\n@@ -394,7 +401,7 @@ function doWrite(stream, state, writev, len, chunk, encoding, cb) {\n   state.writing = true;\n   state.sync = true;\n   if (state.destroyed)\n-    state.onwrite(new errors.Error('ERR_STREAM_DESTROYED', 'write'));\n+    state.onwrite(new ERR_STREAM_DESTROYED('write'));\n   else if (writev)\n     stream._writev(chunk, state.onwrite);\n   else\n@@ -546,7 +553,7 @@ function clearBuffer(stream, state) {\n }\n \n Writable.prototype._write = function(chunk, encoding, cb) {\n-  cb(new errors.Error('ERR_METHOD_NOT_IMPLEMENTED', '_write'));\n+  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write'));\n };\n \n Writable.prototype._writev = null;"
        },
        {
            "sha": "f63acad8ad174e45ab66f36ff2344614da3c06d4",
            "filename": "lib/_tls_common.js",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_tls_common.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_tls_common.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_tls_common.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -24,7 +24,10 @@\n const { parseCertString } = require('internal/tls');\n const { isArrayBufferView } = require('internal/util/types');\n const tls = require('tls');\n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n \n const { SSL_OP_CIPHER_SERVER_PREFERENCE } = process.binding('constants').crypto;\n \n@@ -56,8 +59,8 @@ function SecureContext(secureProtocol, secureOptions, context) {\n \n function validateKeyCert(value, type) {\n   if (typeof value !== 'string' && !isArrayBufferView(value))\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', type,\n+    throw new ERR_INVALID_ARG_TYPE(\n+      type,\n       ['string', 'Buffer', 'TypedArray', 'DataView']\n     );\n }\n@@ -212,12 +215,11 @@ exports.createSecureContext = function createSecureContext(options, context) {\n     if (c.context.setClientCertEngine)\n       c.context.setClientCertEngine(options.clientCertEngine);\n     else\n-      throw new errors.Error('ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED');\n+      throw new ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED();\n   } else if (options.clientCertEngine != null) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.clientCertEngine',\n-                               ['string', 'null', 'undefined'],\n-                               options.clientCertEngine);\n+    throw new ERR_INVALID_ARG_TYPE('options.clientCertEngine',\n+                                   ['string', 'null', 'undefined'],\n+                                   options.clientCertEngine);\n   }\n \n   return c;"
        },
        {
            "sha": "79646ba3d2bc732f4c9560e5cbc3b1dbb80d0877",
            "filename": "lib/_tls_wrap.js",
            "status": "modified",
            "additions": 29,
            "deletions": 18,
            "changes": 47,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_tls_wrap.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2F_tls_wrap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_tls_wrap.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -38,7 +38,18 @@ const { Pipe, constants: PipeConstants } = process.binding('pipe_wrap');\n const {\n   SecureContext: NativeSecureContext\n } = process.binding('crypto');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_MULTIPLE_CALLBACK,\n+  ERR_SOCKET_CLOSED,\n+  ERR_TLS_DH_PARAM_SIZE,\n+  ERR_TLS_HANDSHAKE_TIMEOUT,\n+  ERR_TLS_RENEGOTIATE,\n+  ERR_TLS_RENEGOTIATION_DISABLED,\n+  ERR_TLS_REQUIRED_SERVER_NAME,\n+  ERR_TLS_SESSION_ATTACK,\n+  ERR_TLS_SNI_FROM_SERVER\n+} = require('internal/errors').codes;\n const kConnectOptions = Symbol('connect-options');\n const kDisableRenegotiation = Symbol('disable-renegotiation');\n const kErrorEmitted = Symbol('error-emitted');\n@@ -71,12 +82,12 @@ function onhandshakestart(now) {\n   }\n \n   if (owner[kDisableRenegotiation] && this.handshakes > 0) {\n-    owner._emitTLSError(new errors.Error('ERR_TLS_RENEGOTIATION_DISABLED'));\n+    owner._emitTLSError(new ERR_TLS_RENEGOTIATION_DISABLED());\n   }\n }\n \n function emitSessionAttackError(socket) {\n-  socket._emitTLSError(new errors.Error('ERR_TLS_SESSION_ATTACK'));\n+  socket._emitTLSError(new ERR_TLS_SESSION_ATTACK());\n }\n \n function onhandshakedone() {\n@@ -100,14 +111,14 @@ function loadSession(hello) {\n   var once = false;\n   function onSession(err, session) {\n     if (once)\n-      return owner.destroy(new errors.Error('ERR_MULTIPLE_CALLBACK'));\n+      return owner.destroy(new ERR_MULTIPLE_CALLBACK());\n     once = true;\n \n     if (err)\n       return owner.destroy(err);\n \n     if (owner._handle === null)\n-      return owner.destroy(new errors.Error('ERR_SOCKET_CLOSED'));\n+      return owner.destroy(new ERR_SOCKET_CLOSED());\n \n     owner._handle.loadSession(session);\n     owner._handle.endParser();\n@@ -131,14 +142,14 @@ function loadSNI(info) {\n   let once = false;\n   owner._SNICallback(servername, (err, context) => {\n     if (once)\n-      return owner.destroy(new errors.Error('ERR_MULTIPLE_CALLBACK'));\n+      return owner.destroy(new ERR_MULTIPLE_CALLBACK());\n     once = true;\n \n     if (err)\n       return owner.destroy(err);\n \n     if (owner._handle === null)\n-      return owner.destroy(new errors.Error('ERR_SOCKET_CLOSED'));\n+      return owner.destroy(new ERR_SOCKET_CLOSED());\n \n     // TODO(indutny): eventually disallow raw `SecureContext`\n     if (context)\n@@ -175,14 +186,14 @@ function requestOCSP(socket, info) {\n   let once = false;\n   const onOCSP = (err, response) => {\n     if (once)\n-      return socket.destroy(new errors.Error('ERR_MULTIPLE_CALLBACK'));\n+      return socket.destroy(new ERR_MULTIPLE_CALLBACK());\n     once = true;\n \n     if (err)\n       return socket.destroy(err);\n \n     if (socket._handle === null)\n-      return socket.destroy(new errors.Error('ERR_SOCKET_CLOSED'));\n+      return socket.destroy(new ERR_SOCKET_CLOSED());\n \n     if (response)\n       socket._handle.setOCSPResponse(response);\n@@ -217,7 +228,7 @@ function onnewsession(key, session) {\n     once = true;\n \n     if (owner._handle === null)\n-      return owner.destroy(new errors.Error('ERR_SOCKET_CLOSED'));\n+      return owner.destroy(new ERR_SOCKET_CLOSED());\n \n     this.newSessionDone();\n \n@@ -570,7 +581,7 @@ TLSSocket.prototype.renegotiate = function(options, callback) {\n   }\n   if (!this._handle.renegotiate()) {\n     if (callback) {\n-      process.nextTick(callback, new errors.Error('ERR_TLS_RENEGOTIATE'));\n+      process.nextTick(callback, new ERR_TLS_RENEGOTIATE());\n     }\n     return false;\n   }\n@@ -594,7 +605,7 @@ TLSSocket.prototype.getTLSTicket = function getTLSTicket() {\n };\n \n TLSSocket.prototype._handleTimeout = function() {\n-  this._emitTLSError(new errors.Error('ERR_TLS_HANDSHAKE_TIMEOUT'));\n+  this._emitTLSError(new ERR_TLS_HANDSHAKE_TIMEOUT());\n };\n \n TLSSocket.prototype._emitTLSError = function(err) {\n@@ -656,11 +667,11 @@ TLSSocket.prototype._start = function() {\n \n TLSSocket.prototype.setServername = function(name) {\n   if (typeof name !== 'string') {\n-    throw new errors.Error('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('name', 'string');\n   }\n \n   if (this._tlsOptions.isServer) {\n-    throw new errors.Error('ERR_TLS_SNI_FROM_SERVER');\n+    throw new ERR_TLS_SNI_FROM_SERVER();\n   }\n \n   this._handle.setServername(name);\n@@ -855,7 +866,7 @@ function Server(options, listener) {\n   } else if (options == null || typeof options === 'object') {\n     options = options || {};\n   } else {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object');\n+    throw new ERR_INVALID_ARG_TYPE('options', 'Object');\n   }\n \n \n@@ -886,7 +897,7 @@ function Server(options, listener) {\n   this[kSNICallback] = options.SNICallback;\n \n   if (typeof this[kHandshakeTimeout] !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'timeout', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('timeout', 'number');\n   }\n \n   if (this.sessionTimeout) {\n@@ -975,7 +986,7 @@ Server.prototype.setOptions = function(options) {\n // SNI Contexts High-Level API\n Server.prototype.addContext = function(servername, context) {\n   if (!servername) {\n-    throw new errors.Error('ERR_TLS_REQUIRED_SERVER_NAME');\n+    throw new ERR_TLS_REQUIRED_SERVER_NAME();\n   }\n \n   var re = new RegExp('^' +\n@@ -1040,7 +1051,7 @@ function onConnectSecure() {\n   // specified in options.\n   const ekeyinfo = this.getEphemeralKeyInfo();\n   if (ekeyinfo.type === 'DH' && ekeyinfo.size < options.minDHSize) {\n-    const err = new errors.Error('ERR_TLS_DH_PARAM_SIZE', ekeyinfo.size);\n+    const err = new ERR_TLS_DH_PARAM_SIZE(ekeyinfo.size);\n     this.emit('error', err);\n     this.destroy();\n     return;"
        },
        {
            "sha": "2252900e22aaf04df9837bef6d9faca597c71c60",
            "filename": "lib/fs/promises.js",
            "status": "modified",
            "additions": 12,
            "deletions": 11,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Ffs%2Fpromises.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Ffs%2Fpromises.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ffs%2Fpromises.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -12,7 +12,12 @@ const {\n } = process.binding('constants').fs;\n const binding = process.binding('fs');\n const { Buffer, kMaxLength } = require('buffer');\n-const errors = require('internal/errors');\n+const {\n+  ERR_BUFFER_TOO_LARGE,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_METHOD_NOT_IMPLEMENTED,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const { getPathFromURL } = require('internal/url');\n const { isUint8Array } = require('internal/util/types');\n const {\n@@ -107,8 +112,7 @@ class FileHandle {\n \n function validateFileHandle(handle) {\n   if (!(handle instanceof FileHandle))\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'filehandle', 'FileHandle');\n+    throw new ERR_INVALID_ARG_TYPE('filehandle', 'FileHandle');\n }\n \n async function writeFileHandle(filehandle, data, options) {\n@@ -139,7 +143,7 @@ async function readFileHandle(filehandle, options) {\n     return Buffer.alloc(0);\n \n   if (size > kMaxLength)\n-    throw new errors.RangeError('ERR_BUFFER_TOO_LARGE');\n+    throw new ERR_BUFFER_TOO_LARGE();\n \n   const chunks = [];\n   const chunkSize = Math.min(size, 16384);\n@@ -361,7 +365,7 @@ async function fchmod(handle, mode) {\n   validateFileHandle(handle);\n   validateUint32(mode, 'mode');\n   if (mode < 0 || mode > 0o777)\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'mode');\n+    throw new ERR_OUT_OF_RANGE('mode');\n   return binding.fchmod(handle.fd, mode, kUsePromises);\n }\n \n@@ -379,7 +383,7 @@ async function lchmod(path, mode) {\n                           O_WRONLY | O_SYMLINK);\n     return fchmod(fd, mode).finally(fd.close.bind(fd));\n   }\n-  throw new errors.Error('ERR_METHOD_NOT_IMPLEMENTED');\n+  throw new ERR_METHOD_NOT_IMPLEMENTED();\n }\n \n async function lchown(path, uid, gid) {\n@@ -388,7 +392,7 @@ async function lchown(path, uid, gid) {\n                           O_WRONLY | O_SYMLINK);\n     return fchmod(fd, uid, gid).finally(fd.close.bind(fd));\n   }\n-  throw new errors.Error('ERR_METHOD_NOT_IMPLEMENTED');\n+  throw new ERR_METHOD_NOT_IMPLEMENTED();\n }\n \n async function fchown(handle, uid, gid) {\n@@ -433,10 +437,7 @@ async function realpath(path, options) {\n async function mkdtemp(prefix, options) {\n   options = getOptions(options, {});\n   if (!prefix || typeof prefix !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'prefix',\n-                               'string',\n-                               prefix);\n+    throw new ERR_INVALID_ARG_TYPE('prefix', 'string', prefix);\n   }\n   nullCheck(prefix);\n   return binding.mkdtemp(`${prefix}XXXXXX`, options.encoding, kUsePromises);"
        },
        {
            "sha": "72d74243d8cae535ef712762fae0001d0046e949",
            "filename": "lib/internal/async_hooks.js",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fasync_hooks.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fasync_hooks.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fasync_hooks.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,9 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_ASYNC_TYPE,\n+  ERR_INVALID_ASYNC_ID\n+} = require('internal/errors').codes;\n const async_wrap = process.binding('async_wrap');\n /* async_hook_fields is a Uint32Array wrapping the uint32_t array of\n  * Environment::AsyncHooks::fields_[]. Each index tracks the number of active\n@@ -115,7 +118,7 @@ function validateAsyncId(asyncId, type) {\n   if (async_hook_fields[kCheck] <= 0) return;\n \n   if (!Number.isSafeInteger(asyncId) || asyncId < -1) {\n-    fatalError(new errors.RangeError('ERR_INVALID_ASYNC_ID', type, asyncId));\n+    fatalError(new ERR_INVALID_ASYNC_ID(type, asyncId));\n   }\n }\n \n@@ -313,7 +316,7 @@ function emitInitScript(asyncId, type, triggerAsyncId, resource) {\n     validateAsyncId(triggerAsyncId, 'triggerAsyncId');\n   if (async_hook_fields[kCheck] > 0 &&\n       (typeof type !== 'string' || type.length <= 0)) {\n-    throw new errors.TypeError('ERR_ASYNC_TYPE', type);\n+    throw new ERR_ASYNC_TYPE(type);\n   }\n \n   // Short circuit all checks for the common case. Which is that no hooks have"
        },
        {
            "sha": "fe10b20c80541b21b23da15e7b279b837561f711",
            "filename": "lib/internal/buffer.js",
            "status": "modified",
            "additions": 13,
            "deletions": 15,
            "changes": 28,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fbuffer.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,7 +1,11 @@\n 'use strict';\n \n const binding = process.binding('buffer');\n-const { TypeError, RangeError } = require('internal/errors');\n+const {\n+  ERR_BUFFER_OUT_OF_BOUNDS,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const { setupBufferJS } = binding;\n \n // Remove from the binding so that function is only available as exported here.\n@@ -26,33 +30,29 @@ function checkBounds(buf, offset, byteLength) {\n \n function checkInt(value, min, max, buf, offset, byteLength) {\n   if (value > max || value < min) {\n-    throw new RangeError('ERR_OUT_OF_RANGE',\n-                         'value', `>= ${min} and <= ${max}`, value);\n+    throw new ERR_OUT_OF_RANGE('value', `>= ${min} and <= ${max}`, value);\n   }\n   checkBounds(buf, offset, byteLength);\n }\n \n function checkNumberType(value, type) {\n   if (typeof value !== 'number') {\n-    throw new TypeError('ERR_INVALID_ARG_TYPE',\n-                        type || 'offset', 'number', value);\n+    throw new ERR_INVALID_ARG_TYPE(type || 'offset', 'number', value);\n   }\n }\n \n function boundsError(value, length, type) {\n   if (Math.floor(value) !== value) {\n     checkNumberType(value, type);\n-    throw new RangeError('ERR_OUT_OF_RANGE',\n-                         type || 'offset', 'an integer', value);\n+    throw new ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value);\n   }\n \n   if (length < 0)\n-    throw new RangeError('ERR_BUFFER_OUT_OF_BOUNDS', null, true);\n+    throw new ERR_BUFFER_OUT_OF_BOUNDS(null, true);\n \n-  throw new RangeError('ERR_OUT_OF_RANGE',\n-                       type || 'offset',\n-                       `>= ${type ? 1 : 0} and <= ${length}`,\n-                       value);\n+  throw new ERR_OUT_OF_RANGE(type || 'offset',\n+                             `>= ${type ? 1 : 0} and <= ${length}`,\n+                             value);\n }\n \n // Read integers.\n@@ -545,9 +545,7 @@ function writeU_Int8(buf, value, offset, min, max) {\n   // `checkInt()` can not be used here because it checks two entries.\n   checkNumberType(offset);\n   if (value > max || value < min) {\n-    throw new RangeError('ERR_OUT_OF_RANGE',\n-                         'value',\n-                         `>= ${min} and <= ${max}`, value);\n+    throw new ERR_OUT_OF_RANGE('value', `>= ${min} and <= ${max}`, value);\n   }\n   if (buf[offset] === undefined)\n     boundsError(offset, buf.length - 1);"
        },
        {
            "sha": "3c8a314bf046445842a1a547f1c4152c50cf7f53",
            "filename": "lib/internal/child_process.js",
            "status": "modified",
            "additions": 31,
            "deletions": 25,
            "changes": 56,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fchild_process.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,19 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  errnoException,\n+  codes: {\n+    ERR_INVALID_ARG_TYPE,\n+    ERR_INVALID_HANDLE_TYPE,\n+    ERR_INVALID_OPT_VALUE,\n+    ERR_INVALID_SYNC_FORK_INPUT,\n+    ERR_IPC_CHANNEL_CLOSED,\n+    ERR_IPC_DISCONNECTED,\n+    ERR_IPC_ONE_PIPE,\n+    ERR_IPC_SYNC_FORK,\n+    ERR_MISSING_ARGS\n+  }\n+} = require('internal/errors');\n const { StringDecoder } = require('string_decoder');\n const EventEmitter = require('events');\n const net = require('net');\n@@ -29,7 +42,6 @@ const {\n   UV_ESRCH\n } = process.binding('uv');\n \n-const errnoException = errors.errnoException;\n const { SocketListSend, SocketListReceive } = SocketList;\n \n const MAX_HANDLE_RETRANSMISSIONS = 3;\n@@ -263,8 +275,7 @@ ChildProcess.prototype.spawn = function(options) {\n   var i;\n \n   if (options === null || typeof options !== 'object') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object',\n-                               options);\n+    throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n   }\n \n   // If no `stdio` option was given - use default\n@@ -281,16 +292,16 @@ ChildProcess.prototype.spawn = function(options) {\n     if (options.envPairs === undefined)\n       options.envPairs = [];\n     else if (!Array.isArray(options.envPairs)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options.envPairs',\n-                                 'Array', options.envPairs);\n+      throw new ERR_INVALID_ARG_TYPE('options.envPairs',\n+                                     'Array',\n+                                     options.envPairs);\n     }\n \n     options.envPairs.push('NODE_CHANNEL_FD=' + ipcFd);\n   }\n \n   if (typeof options.file !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options.file', 'string',\n-                               options.file);\n+    throw new ERR_INVALID_ARG_TYPE('options.file', 'string', options.file);\n   }\n   this.spawnfile = options.file;\n \n@@ -299,8 +310,7 @@ ChildProcess.prototype.spawn = function(options) {\n   else if (options.args === undefined)\n     this.spawnargs = [];\n   else\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options.args', 'Array',\n-                               options.args);\n+    throw new ERR_INVALID_ARG_TYPE('options.args', 'Array', options.args);\n \n   var err = this._handle.spawn(options);\n \n@@ -587,16 +597,15 @@ function setupChannel(target, channel) {\n       options = undefined;\n     } else if (options !== undefined &&\n                (options === null || typeof options !== 'object')) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object',\n-                                 options);\n+      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n     }\n \n     options = Object.assign({ swallowErrors: false }, options);\n \n     if (this.connected) {\n       return this._send(message, handle, options, callback);\n     }\n-    const ex = new errors.Error('ERR_IPC_CHANNEL_CLOSED');\n+    const ex = new ERR_IPC_CHANNEL_CLOSED();\n     if (typeof callback === 'function') {\n       process.nextTick(callback, ex);\n     } else {\n@@ -609,7 +618,7 @@ function setupChannel(target, channel) {\n     assert(this.connected || this.channel);\n \n     if (message === undefined)\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'message');\n+      throw new ERR_MISSING_ARGS('message');\n \n     // Support legacy function signature\n     if (typeof options === 'boolean') {\n@@ -636,7 +645,7 @@ function setupChannel(target, channel) {\n       } else if (handle instanceof UDP) {\n         message.type = 'dgram.Native';\n       } else {\n-        throw new errors.TypeError('ERR_INVALID_HANDLE_TYPE');\n+        throw new ERR_INVALID_HANDLE_TYPE();\n       }\n \n       // Queue-up message and handle if we haven't received ACK yet.\n@@ -736,7 +745,7 @@ function setupChannel(target, channel) {\n \n   target.disconnect = function() {\n     if (!this.connected) {\n-      this.emit('error', new errors.Error('ERR_IPC_DISCONNECTED'));\n+      this.emit('error', new ERR_IPC_DISCONNECTED());\n       return;\n     }\n \n@@ -818,11 +827,10 @@ function _validateStdio(stdio, sync) {\n       case 'pipe': stdio = ['pipe', 'pipe', 'pipe']; break;\n       case 'inherit': stdio = [0, 1, 2]; break;\n       default:\n-        throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'stdio', stdio);\n+        throw new ERR_INVALID_OPT_VALUE('stdio', stdio);\n     }\n   } else if (!Array.isArray(stdio)) {\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                               'stdio', util.inspect(stdio));\n+    throw new ERR_INVALID_OPT_VALUE('stdio', util.inspect(stdio));\n   }\n \n   // At least 3 stdio will be created\n@@ -864,9 +872,9 @@ function _validateStdio(stdio, sync) {\n         // Cleanup previously created pipes\n         cleanup();\n         if (!sync)\n-          throw new errors.Error('ERR_IPC_ONE_PIPE');\n+          throw new ERR_IPC_ONE_PIPE();\n         else\n-          throw new errors.Error('ERR_IPC_SYNC_FORK');\n+          throw new ERR_IPC_SYNC_FORK();\n       }\n \n       ipc = new Pipe(PipeConstants.IPC);\n@@ -901,14 +909,12 @@ function _validateStdio(stdio, sync) {\n     } else if (isUint8Array(stdio) || typeof stdio === 'string') {\n       if (!sync) {\n         cleanup();\n-        throw new errors.TypeError('ERR_INVALID_SYNC_FORK_INPUT',\n-                                   util.inspect(stdio));\n+        throw new ERR_INVALID_SYNC_FORK_INPUT(util.inspect(stdio));\n       }\n     } else {\n       // Cleanup\n       cleanup();\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'stdio',\n-                                 util.inspect(stdio));\n+      throw new ERR_INVALID_OPT_VALUE('stdio', util.inspect(stdio));\n     }\n \n     return acc;"
        },
        {
            "sha": "5eaa5ce05645bf5046e30a5bcaf66cefc2a17b99",
            "filename": "lib/internal/crypto/certificate.js",
            "status": "modified",
            "additions": 13,
            "deletions": 7,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fcertificate.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fcertificate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fcertificate.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -6,7 +6,7 @@ const {\n   certVerifySpkac\n } = process.binding('crypto');\n \n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n const { isArrayBufferView } = require('internal/util/types');\n \n const {\n@@ -15,26 +15,32 @@ const {\n \n function verifySpkac(spkac) {\n   if (!isArrayBufferView(spkac)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'spkac',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'spkac',\n+      ['Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n   return certVerifySpkac(spkac);\n }\n \n function exportPublicKey(spkac, encoding) {\n   spkac = toBuf(spkac, encoding);\n   if (!isArrayBufferView(spkac)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'spkac',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'spkac',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n   return certExportPublicKey(spkac);\n }\n \n function exportChallenge(spkac, encoding) {\n   spkac = toBuf(spkac, encoding);\n   if (!isArrayBufferView(spkac)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'spkac',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'spkac',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n   return certExportChallenge(spkac);\n }"
        },
        {
            "sha": "0d468c3b1321abdbe7cbd00d15e889845c93d832",
            "filename": "lib/internal/crypto/cipher.js",
            "status": "modified",
            "additions": 44,
            "deletions": 27,
            "changes": 71,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fcipher.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -5,7 +5,10 @@ const {\n   RSA_PKCS1_PADDING\n } = process.binding('constants').crypto;\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_INVALID_STATE,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n \n const {\n   getDefaultEncoding,\n@@ -64,12 +67,14 @@ function Cipher(cipher, password, options) {\n     return new Cipher(cipher, password, options);\n \n   if (typeof cipher !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'cipher', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('cipher', 'string');\n \n   password = toBuf(password);\n   if (!isArrayBufferView(password)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'password',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'password',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   this._handle = new CipherBase(true);\n@@ -103,8 +108,10 @@ Cipher.prototype.update = function update(data, inputEncoding, outputEncoding) {\n   outputEncoding = outputEncoding || encoding;\n \n   if (typeof data !== 'string' && !isArrayBufferView(data)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'data',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'data',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   const ret = this._handle.update(data, inputEncoding);\n@@ -133,38 +140,38 @@ Cipher.prototype.final = function final(outputEncoding) {\n \n Cipher.prototype.setAutoPadding = function setAutoPadding(ap) {\n   if (this._handle.setAutoPadding(ap) === false)\n-    throw new errors.Error('ERR_CRYPTO_INVALID_STATE', 'setAutoPadding');\n+    throw new ERR_CRYPTO_INVALID_STATE('setAutoPadding');\n   return this;\n };\n \n Cipher.prototype.getAuthTag = function getAuthTag() {\n   const ret = this._handle.getAuthTag();\n   if (ret === undefined)\n-    throw new errors.Error('ERR_CRYPTO_INVALID_STATE', 'getAuthTag');\n+    throw new ERR_CRYPTO_INVALID_STATE('getAuthTag');\n   return ret;\n };\n \n \n Cipher.prototype.setAuthTag = function setAuthTag(tagbuf) {\n   if (!isArrayBufferView(tagbuf)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'buffer',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('buffer',\n+                                   ['Buffer', 'TypedArray', 'DataView']);\n   }\n   // Do not do a normal falsy check because the method returns\n   // undefined if it succeeds. Returns false specifically if it\n   // errored\n   if (this._handle.setAuthTag(tagbuf) === false)\n-    throw new errors.Error('ERR_CRYPTO_INVALID_STATE', 'setAuthTag');\n+    throw new ERR_CRYPTO_INVALID_STATE('setAuthTag');\n   return this;\n };\n \n Cipher.prototype.setAAD = function setAAD(aadbuf) {\n   if (!isArrayBufferView(aadbuf)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'buffer',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('buffer',\n+                                   ['Buffer', 'TypedArray', 'DataView']);\n   }\n   if (this._handle.setAAD(aadbuf) === false)\n-    throw new errors.Error('ERR_CRYPTO_INVALID_STATE', 'setAAD');\n+    throw new ERR_CRYPTO_INVALID_STATE('setAAD');\n   return this;\n };\n \n@@ -173,18 +180,22 @@ function Cipheriv(cipher, key, iv, options) {\n     return new Cipheriv(cipher, key, iv, options);\n \n   if (typeof cipher !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'cipher', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('cipher', 'string');\n \n   key = toBuf(key);\n   if (!isArrayBufferView(key)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'key',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'key',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   iv = toBuf(iv);\n   if (iv !== null && !isArrayBufferView(iv)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'iv',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'iv',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   this._handle = new CipherBase(true);\n@@ -211,12 +222,14 @@ function Decipher(cipher, password, options) {\n     return new Decipher(cipher, password, options);\n \n   if (typeof cipher !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'cipher', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('cipher', 'string');\n \n   password = toBuf(password);\n   if (!isArrayBufferView(password)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'password',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'password',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   this._handle = new CipherBase(false);\n@@ -244,18 +257,22 @@ function Decipheriv(cipher, key, iv, options) {\n     return new Decipheriv(cipher, key, iv, options);\n \n   if (typeof cipher !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'cipher', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('cipher', 'string');\n \n   key = toBuf(key);\n   if (!isArrayBufferView(key)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'key',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'key',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   iv = toBuf(iv);\n   if (iv !== null && !isArrayBufferView(iv)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'iv',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'iv',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   this._handle = new CipherBase(false);"
        },
        {
            "sha": "f6d525c215ca63b63f7e09ea30f2c6a3a9736171",
            "filename": "lib/internal/crypto/diffiehellman.js",
            "status": "modified",
            "additions": 12,
            "deletions": 7,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,7 +1,11 @@\n 'use strict';\n \n const { Buffer } = require('buffer');\n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_ECDH_INVALID_FORMAT,\n+  ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n const { isArrayBufferView } = require('internal/util/types');\n const {\n   getDefaultEncoding,\n@@ -27,9 +31,10 @@ function DiffieHellman(sizeOrKey, keyEncoding, generator, genEncoding) {\n   if (typeof sizeOrKey !== 'number' &&\n       typeof sizeOrKey !== 'string' &&\n       !isArrayBufferView(sizeOrKey)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'sizeOrKey',\n-                               ['number', 'string', 'Buffer', 'TypedArray',\n-                                'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'sizeOrKey',\n+      ['number', 'string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   if (keyEncoding) {\n@@ -97,7 +102,7 @@ function dhComputeSecret(key, inEnc, outEnc) {\n   outEnc = outEnc || encoding;\n   var ret = this._handle.computeSecret(toBuf(key, inEnc));\n   if (typeof ret === 'string')\n-    throw new errors.Error('ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY');\n+    throw new ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY();\n   if (outEnc && outEnc !== 'buffer')\n     ret = ret.toString(outEnc);\n   return ret;\n@@ -175,7 +180,7 @@ function ECDH(curve) {\n     return new ECDH(curve);\n \n   if (typeof curve !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'curve', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('curve', 'string');\n \n   this._handle = new _ECDH(curve);\n }\n@@ -202,7 +207,7 @@ ECDH.prototype.getPublicKey = function getPublicKey(encoding, format) {\n     else if (format === 'uncompressed')\n       f = POINT_CONVERSION_UNCOMPRESSED;\n     else\n-      throw new errors.TypeError('ERR_CRYPTO_ECDH_INVALID_FORMAT', format);\n+      throw new ERR_CRYPTO_ECDH_INVALID_FORMAT(format);\n   } else {\n     f = POINT_CONVERSION_UNCOMPRESSED;\n   }"
        },
        {
            "sha": "41e00b88b9c74ef6be01e8dded3e502461911ab3",
            "filename": "lib/internal/crypto/hash.js",
            "status": "modified",
            "additions": 16,
            "deletions": 12,
            "changes": 28,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fhash.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fhash.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fhash.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -12,7 +12,12 @@ const {\n \n const { Buffer } = require('buffer');\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_HASH_DIGEST_NO_UTF16,\n+  ERR_CRYPTO_HASH_FINALIZED,\n+  ERR_CRYPTO_HASH_UPDATE_FAILED,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n const { inherits } = require('util');\n const { normalizeEncoding } = require('internal/util');\n const { isArrayBufferView } = require('internal/util/types');\n@@ -24,7 +29,7 @@ function Hash(algorithm, options) {\n   if (!(this instanceof Hash))\n     return new Hash(algorithm, options);\n   if (typeof algorithm !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'algorithm', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string');\n   this._handle = new _Hash(algorithm);\n   this[kState] = {\n     [kFinalized]: false\n@@ -47,26 +52,26 @@ Hash.prototype._flush = function _flush(callback) {\n Hash.prototype.update = function update(data, encoding) {\n   const state = this[kState];\n   if (state[kFinalized])\n-    throw new errors.Error('ERR_CRYPTO_HASH_FINALIZED');\n+    throw new ERR_CRYPTO_HASH_FINALIZED();\n \n   if (typeof data !== 'string' && !isArrayBufferView(data)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'data',\n-                               ['string', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('data',\n+                                   ['string', 'TypedArray', 'DataView']);\n   }\n \n   if (!this._handle.update(data, encoding || getDefaultEncoding()))\n-    throw new errors.Error('ERR_CRYPTO_HASH_UPDATE_FAILED');\n+    throw new ERR_CRYPTO_HASH_UPDATE_FAILED();\n   return this;\n };\n \n \n Hash.prototype.digest = function digest(outputEncoding) {\n   const state = this[kState];\n   if (state[kFinalized])\n-    throw new errors.Error('ERR_CRYPTO_HASH_FINALIZED');\n+    throw new ERR_CRYPTO_HASH_FINALIZED();\n   outputEncoding = outputEncoding || getDefaultEncoding();\n   if (normalizeEncoding(outputEncoding) === 'utf16le')\n-    throw new errors.Error('ERR_CRYPTO_HASH_DIGEST_NO_UTF16');\n+    throw new ERR_CRYPTO_HASH_DIGEST_NO_UTF16();\n \n   // Explicit conversion for backward compatibility.\n   const ret = this._handle.digest(`${outputEncoding}`);\n@@ -79,10 +84,9 @@ function Hmac(hmac, key, options) {\n   if (!(this instanceof Hmac))\n     return new Hmac(hmac, key, options);\n   if (typeof hmac !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'hmac', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('hmac', 'string');\n   if (typeof key !== 'string' && !isArrayBufferView(key)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'key',\n-                               ['string', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('key', ['string', 'TypedArray', 'DataView']);\n   }\n   this._handle = new _Hmac();\n   this._handle.init(hmac, toBuf(key));\n@@ -100,7 +104,7 @@ Hmac.prototype.digest = function digest(outputEncoding) {\n   const state = this[kState];\n   outputEncoding = outputEncoding || getDefaultEncoding();\n   if (normalizeEncoding(outputEncoding) === 'utf16le')\n-    throw new errors.Error('ERR_CRYPTO_HASH_DIGEST_NO_UTF16');\n+    throw new ERR_CRYPTO_HASH_DIGEST_NO_UTF16();\n \n   if (state[kFinalized]) {\n     const buf = Buffer.from('');"
        },
        {
            "sha": "fdffcffad681b794247cb3f71f6391f9a0626ccc",
            "filename": "lib/internal/crypto/pbkdf2.js",
            "status": "modified",
            "additions": 20,
            "deletions": 18,
            "changes": 38,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fpbkdf2.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fpbkdf2.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fpbkdf2.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,11 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_CRYPTO_INVALID_DIGEST,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const {\n   getDefaultEncoding,\n   toBuf\n@@ -20,7 +25,7 @@ function pbkdf2(password, salt, iterations, keylen, digest, callback) {\n   }\n \n   if (typeof callback !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n \n   return _pbkdf2(password, salt, iterations, keylen, digest, callback);\n }\n@@ -32,46 +37,43 @@ function pbkdf2Sync(password, salt, iterations, keylen, digest) {\n function _pbkdf2(password, salt, iterations, keylen, digest, callback) {\n \n   if (digest !== null && typeof digest !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'digest',\n-                               ['string', 'null']);\n+    throw new ERR_INVALID_ARG_TYPE('digest', ['string', 'null']);\n \n   password = toBuf(password);\n   salt = toBuf(salt);\n \n   if (!isArrayBufferView(password)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'password',\n-                               ['string', 'Buffer', 'TypedArray']);\n+    throw new ERR_INVALID_ARG_TYPE('password',\n+                                   ['string', 'Buffer', 'TypedArray']);\n   }\n \n   if (!isArrayBufferView(salt)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'salt',\n-                               ['string', 'Buffer', 'TypedArray']);\n+    throw new ERR_INVALID_ARG_TYPE('salt', ['string', 'Buffer', 'TypedArray']);\n   }\n \n   if (typeof iterations !== 'number')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'iterations', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('iterations', 'number');\n \n   if (iterations < 0)\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                'iterations',\n-                                'a non-negative number',\n-                                iterations);\n+    throw new ERR_OUT_OF_RANGE('iterations',\n+                               'a non-negative number',\n+                               iterations);\n \n   if (typeof keylen !== 'number')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'keylen', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('keylen', 'number');\n \n   if (keylen < 0 ||\n       !Number.isFinite(keylen) ||\n       keylen > INT_MAX) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'keylen');\n+    throw new ERR_OUT_OF_RANGE('keylen');\n   }\n \n   const encoding = getDefaultEncoding();\n \n   if (encoding === 'buffer') {\n     const ret = PBKDF2(password, salt, iterations, keylen, digest, callback);\n     if (ret === -1)\n-      throw new errors.TypeError('ERR_CRYPTO_INVALID_DIGEST', digest);\n+      throw new ERR_CRYPTO_INVALID_DIGEST(digest);\n     return ret;\n   }\n \n@@ -83,11 +85,11 @@ function _pbkdf2(password, salt, iterations, keylen, digest, callback) {\n       callback(er, ret);\n     }\n     if (PBKDF2(password, salt, iterations, keylen, digest, next) === -1)\n-      throw new errors.TypeError('ERR_CRYPTO_INVALID_DIGEST', digest);\n+      throw new ERR_CRYPTO_INVALID_DIGEST(digest);\n   } else {\n     const ret = PBKDF2(password, salt, iterations, keylen, digest);\n     if (ret === -1)\n-      throw new errors.TypeError('ERR_CRYPTO_INVALID_DIGEST', digest);\n+      throw new ERR_CRYPTO_INVALID_DIGEST(digest);\n     return ret.toString(encoding);\n   }\n }"
        },
        {
            "sha": "77ad06ee7b568d34090271907ffd37d7ce96aea6",
            "filename": "lib/internal/crypto/random.js",
            "status": "modified",
            "additions": 15,
            "deletions": 13,
            "changes": 28,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Frandom.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Frandom.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Frandom.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,10 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const { isArrayBufferView } = require('internal/util/types');\n const {\n   randomBytes: _randomBytes,\n@@ -12,43 +16,42 @@ const kMaxUint32 = Math.pow(2, 32) - 1;\n \n function assertOffset(offset, length) {\n   if (typeof offset !== 'number' || Number.isNaN(offset)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'offset', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('offset', 'number');\n   }\n \n   if (offset > kMaxUint32 || offset < 0) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'offset', 'uint32');\n+    throw new ERR_INVALID_ARG_TYPE('offset', 'uint32');\n   }\n \n   if (offset > kMaxLength || offset > length) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'offset');\n+    throw new ERR_OUT_OF_RANGE('offset');\n   }\n }\n \n function assertSize(size, offset = 0, length = Infinity) {\n   if (typeof size !== 'number' || Number.isNaN(size)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'size', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('size', 'number');\n   }\n \n   if (size > kMaxUint32 || size < 0) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'size', 'uint32');\n+    throw new ERR_INVALID_ARG_TYPE('size', 'uint32');\n   }\n \n   if (size + offset > length || size > kMaxLength) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'size');\n+    throw new ERR_OUT_OF_RANGE('size');\n   }\n }\n \n function randomBytes(size, cb) {\n   assertSize(size);\n   if (cb !== undefined && typeof cb !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   return _randomBytes(size, cb);\n }\n \n function randomFillSync(buf, offset = 0, size) {\n   if (!isArrayBufferView(buf)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'buf', 'ArrayBufferView');\n+    throw new ERR_INVALID_ARG_TYPE('buf', 'ArrayBufferView');\n   }\n \n   const elementSize = buf.BYTES_PER_ELEMENT || 1;\n@@ -69,8 +72,7 @@ function randomFillSync(buf, offset = 0, size) {\n \n function randomFill(buf, offset, size, cb) {\n   if (!isArrayBufferView(buf)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'buf', 'ArrayBufferView');\n+    throw new ERR_INVALID_ARG_TYPE('buf', 'ArrayBufferView');\n   }\n \n   const elementSize = buf.BYTES_PER_ELEMENT || 1;\n@@ -84,7 +86,7 @@ function randomFill(buf, offset, size, cb) {\n     offset *= elementSize;\n     size = buf.byteLength - offset;\n   } else if (typeof cb !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n   if (size === undefined) {\n     size = buf.byteLength - offset;"
        },
        {
            "sha": "688ad43ddddf63aec47b72bb30eff97d708df74d",
            "filename": "lib/internal/crypto/sig.js",
            "status": "modified",
            "additions": 28,
            "deletions": 24,
            "changes": 52,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fsig.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Fsig.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fsig.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,10 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_SIGN_KEY_REQUIRED,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_OPT_VALUE\n+} = require('internal/errors').codes;\n const {\n   Sign: _Sign,\n   Verify: _Verify\n@@ -21,7 +25,7 @@ function Sign(algorithm, options) {\n   if (!(this instanceof Sign))\n     return new Sign(algorithm, options);\n   if (typeof algorithm !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'algorithm', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string');\n   this._handle = new _Sign();\n   this._handle.init(algorithm);\n \n@@ -39,16 +43,18 @@ Sign.prototype.update = function update(data, encoding) {\n   encoding = encoding || getDefaultEncoding();\n   data = toBuf(data, encoding);\n   if (!isArrayBufferView(data)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'data',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'data',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n   this._handle.update(data);\n   return this;\n };\n \n Sign.prototype.sign = function sign(options, encoding) {\n   if (!options)\n-    throw new errors.Error('ERR_CRYPTO_SIGN_KEY_REQUIRED');\n+    throw new ERR_CRYPTO_SIGN_KEY_REQUIRED();\n \n   var key = options.key || options;\n   var passphrase = options.passphrase || null;\n@@ -59,9 +65,7 @@ Sign.prototype.sign = function sign(options, encoding) {\n     if (options.padding === options.padding >> 0) {\n       rsaPadding = options.padding;\n     } else {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'padding',\n-                                 options.padding);\n+      throw new ERR_INVALID_OPT_VALUE('padding', options.padding);\n     }\n   }\n \n@@ -70,16 +74,16 @@ Sign.prototype.sign = function sign(options, encoding) {\n     if (options.saltLength === options.saltLength >> 0) {\n       pssSaltLength = options.saltLength;\n     } else {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'saltLength',\n-                                 options.saltLength);\n+      throw new ERR_INVALID_OPT_VALUE('saltLength', options.saltLength);\n     }\n   }\n \n   key = toBuf(key);\n   if (!isArrayBufferView(key)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'key',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'key',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   var ret = this._handle.sign(key, passphrase, rsaPadding, pssSaltLength);\n@@ -96,7 +100,7 @@ function Verify(algorithm, options) {\n   if (!(this instanceof Verify))\n     return new Verify(algorithm, options);\n   if (typeof algorithm !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'algorithm', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('algorithm', 'string');\n   this._handle = new _Verify();\n   this._handle.init(algorithm);\n \n@@ -118,9 +122,7 @@ Verify.prototype.verify = function verify(options, signature, sigEncoding) {\n     if (options.padding === options.padding >> 0) {\n       rsaPadding = options.padding;\n     } else {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'padding',\n-                                 options.padding);\n+      throw new ERR_INVALID_OPT_VALUE('padding', options.padding);\n     }\n   }\n \n@@ -129,22 +131,24 @@ Verify.prototype.verify = function verify(options, signature, sigEncoding) {\n     if (options.saltLength === options.saltLength >> 0) {\n       pssSaltLength = options.saltLength;\n     } else {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'saltLength',\n-                                 options.saltLength);\n+      throw new ERR_INVALID_OPT_VALUE('saltLength', options.saltLength);\n     }\n   }\n \n   key = toBuf(key);\n   if (!isArrayBufferView(key)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'key',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'key',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   signature = toBuf(signature, sigEncoding);\n   if (!isArrayBufferView(signature)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'signature',\n-                               ['string', 'Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'signature',\n+      ['string', 'Buffer', 'TypedArray', 'DataView']\n+    );\n   }\n \n   return this._handle.verify(key, signature, rsaPadding, pssSaltLength);"
        },
        {
            "sha": "19c35ac4cdff5898c599663eb1547a68b4d190da",
            "filename": "lib/internal/crypto/util.js",
            "status": "modified",
            "additions": 11,
            "deletions": 9,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fcrypto%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Futil.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -12,7 +12,11 @@ const {\n   ENGINE_METHOD_ALL\n } = process.binding('constants').crypto;\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_ENGINE_UNKNOWN,\n+  ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n const { Buffer } = require('buffer');\n const {\n   cachedResult,\n@@ -50,31 +54,29 @@ const getCurves = cachedResult(() => filterDuplicateStrings(_getCurves()));\n \n function setEngine(id, flags) {\n   if (typeof id !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'id', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('id', 'string');\n \n   if (flags && typeof flags !== 'number')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'flags', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('flags', 'number');\n   flags = flags >>> 0;\n \n   // Use provided engine for everything by default\n   if (flags === 0)\n     flags = ENGINE_METHOD_ALL;\n \n   if (!_setEngine(id, flags))\n-    throw new errors.Error('ERR_CRYPTO_ENGINE_UNKNOWN', id);\n+    throw new ERR_CRYPTO_ENGINE_UNKNOWN(id);\n }\n \n function timingSafeEqual(a, b) {\n   if (!isArrayBufferView(a)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'a',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('a', ['Buffer', 'TypedArray', 'DataView']);\n   }\n   if (!isArrayBufferView(b)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'b',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('b', ['Buffer', 'TypedArray', 'DataView']);\n   }\n   if (a.length !== b.length) {\n-    throw new errors.RangeError('ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH');\n+    throw new ERR_CRYPTO_TIMING_SAFE_EQUAL_LENGTH();\n   }\n   return _timingSafeEqual(a, b);\n }"
        },
        {
            "sha": "1846fc552735a28dd541ef7d4a2d14c9ddbf8280",
            "filename": "lib/internal/encoding.js",
            "status": "modified",
            "additions": 19,
            "deletions": 14,
            "changes": 33,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fencoding.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fencoding.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fencoding.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -3,7 +3,13 @@\n // An implementation of the WHATWG Encoding Standard\n // https://encoding.spec.whatwg.org\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_ENCODING_INVALID_ENCODED_DATA,\n+  ERR_ENCODING_NOT_SUPPORTED,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_THIS,\n+  ERR_NO_ICU\n+} = require('internal/errors').codes;\n const kHandle = Symbol('handle');\n const kFlags = Symbol('flags');\n const kEncoding = Symbol('encoding');\n@@ -35,17 +41,17 @@ function lazyBuffer() {\n \n function validateEncoder(obj) {\n   if (obj == null || obj[kEncoder] !== true)\n-    throw new errors.TypeError('ERR_INVALID_THIS', 'TextEncoder');\n+    throw new ERR_INVALID_THIS('TextEncoder');\n }\n \n function validateDecoder(obj) {\n   if (obj == null || obj[kDecoder] !== true)\n-    throw new errors.TypeError('ERR_INVALID_THIS', 'TextDecoder');\n+    throw new ERR_INVALID_THIS('TextDecoder');\n }\n \n function validateArgument(prop, expected, propName, expectedName) {\n   if (typeof prop !== expected)\n-    throw new errors.Error('ERR_INVALID_ARG_TYPE', propName, expectedName);\n+    throw new ERR_INVALID_ARG_TYPE(propName, expectedName);\n }\n \n const CONVERTER_FLAGS_FLUSH = 0x1;\n@@ -360,7 +366,7 @@ function makeTextDecoderICU() {\n \n       const enc = getEncodingFromLabel(encoding);\n       if (enc === undefined)\n-        throw new errors.RangeError('ERR_ENCODING_NOT_SUPPORTED', encoding);\n+        throw new ERR_ENCODING_NOT_SUPPORTED(encoding);\n \n       var flags = 0;\n       if (options !== null) {\n@@ -370,7 +376,7 @@ function makeTextDecoderICU() {\n \n       const handle = getConverter(enc, flags);\n       if (handle === undefined)\n-        throw new errors.Error('ERR_ENCODING_NOT_SUPPORTED', encoding);\n+        throw new ERR_ENCODING_NOT_SUPPORTED(encoding);\n \n       this[kDecoder] = true;\n       this[kHandle] = handle;\n@@ -384,8 +390,8 @@ function makeTextDecoderICU() {\n       if (isArrayBuffer(input)) {\n         input = lazyBuffer().from(input);\n       } else if (!isArrayBufferView(input)) {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'input',\n-                                   ['ArrayBuffer', 'ArrayBufferView']);\n+        throw new ERR_INVALID_ARG_TYPE('input',\n+                                       ['ArrayBuffer', 'ArrayBufferView']);\n       }\n       validateArgument(options, 'object', 'options', 'Object');\n \n@@ -395,8 +401,7 @@ function makeTextDecoderICU() {\n \n       const ret = _decode(this[kHandle], input, flags);\n       if (typeof ret === 'number') {\n-        const err = new errors.TypeError('ERR_ENCODING_INVALID_ENCODED_DATA',\n-                                         this.encoding);\n+        const err = new ERR_ENCODING_INVALID_ENCODED_DATA(this.encoding);\n         err.errno = ret;\n         throw err;\n       }\n@@ -428,12 +433,12 @@ function makeTextDecoderJS() {\n \n       const enc = getEncodingFromLabel(encoding);\n       if (enc === undefined || !hasConverter(enc))\n-        throw new errors.RangeError('ERR_ENCODING_NOT_SUPPORTED', encoding);\n+        throw new ERR_ENCODING_NOT_SUPPORTED(encoding);\n \n       var flags = 0;\n       if (options !== null) {\n         if (options.fatal) {\n-          throw new errors.TypeError('ERR_NO_ICU', '\"fatal\" option');\n+          throw new ERR_NO_ICU('\"fatal\" option');\n         }\n         flags |= options.ignoreBOM ? CONVERTER_FLAGS_IGNORE_BOM : 0;\n       }\n@@ -454,8 +459,8 @@ function makeTextDecoderJS() {\n         input = lazyBuffer().from(input.buffer, input.byteOffset,\n                                   input.byteLength);\n       } else {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'input',\n-                                   ['ArrayBuffer', 'ArrayBufferView']);\n+        throw new ERR_INVALID_ARG_TYPE('input',\n+                                       ['ArrayBuffer', 'ArrayBufferView']);\n       }\n       validateArgument(options, 'object', 'options', 'Object');\n "
        },
        {
            "sha": "d5a5c4fc59961961f6de3e12b8fa2e0a69507f5d",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -320,7 +320,7 @@ function createErrDiff(actual, expected, operator) {\n class AssertionError extends Error {\n   constructor(options) {\n     if (typeof options !== 'object' || options === null) {\n-      throw new exports.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object');\n+      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object');\n     }\n     var {\n       actual,\n@@ -600,7 +600,7 @@ module.exports = exports = {\n // Note: Node.js specific errors must begin with the prefix ERR_\n \n E('ERR_ARG_NOT_ITERABLE', '%s must be iterable', TypeError);\n-E('ERR_ASSERTION', '%s', AssertionError);\n+E('ERR_ASSERTION', '%s', Error);\n E('ERR_ASYNC_CALLBACK', '%s must be a function', TypeError);\n E('ERR_ASYNC_TYPE', 'Invalid name for async \"type\": %s', TypeError);\n E('ERR_BUFFER_OUT_OF_BOUNDS', bufferOutOfBounds, RangeError);\n@@ -622,7 +622,7 @@ E('ERR_CRYPTO_CUSTOM_ENGINE_NOT_SUPPORTED',\n   'Custom engines not supported by this OpenSSL', Error);\n E('ERR_CRYPTO_ECDH_INVALID_FORMAT', 'Invalid ECDH format: %s', TypeError);\n E('ERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY',\n-  'Public key is not valid for specified curve', TypeError);\n+  'Public key is not valid for specified curve', Error);\n E('ERR_CRYPTO_ENGINE_UNKNOWN', 'Engine \"%s\" was not found', Error);\n E('ERR_CRYPTO_FIPS_FORCED',\n   'Cannot set FIPS mode, it was forced with --force-fips at startup.', Error);\n@@ -653,7 +653,7 @@ E('ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE',\n E('ERR_ENCODING_INVALID_ENCODED_DATA',\n   'The encoded data was not valid for encoding %s', TypeError);\n E('ERR_ENCODING_NOT_SUPPORTED', 'The \"%s\" encoding is not supported',\n-  RangeError); // One entry is currently falsy implemented as \"Error\"\n+  RangeError);\n E('ERR_FALSY_VALUE_REJECTION', 'Promise was rejected with falsy value', Error);\n E('ERR_FS_INVALID_SYMLINK_TYPE',\n   'Symlink type must be one of \"dir\", \"file\", or \"junction\". Received \"%s\"',\n@@ -846,7 +846,7 @@ E('ERR_SOCKET_DGRAM_NOT_RUNNING', 'Not running', Error);\n E('ERR_STDERR_CLOSE', 'process.stderr cannot be closed', Error);\n E('ERR_STDOUT_CLOSE', 'process.stdout cannot be closed', Error);\n E('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error);\n-E('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed');\n+E('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error);\n E('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\n E('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error);\n E('ERR_STREAM_READ_NOT_IMPLEMENTED', '_read() is not implemented', Error);"
        },
        {
            "sha": "36155d4d67f1f55cc90e58d21c69630b0226c33d",
            "filename": "lib/internal/fs.js",
            "status": "modified",
            "additions": 26,
            "deletions": 25,
            "changes": 51,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ffs.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -2,7 +2,14 @@\n \n const { Buffer, kMaxLength } = require('buffer');\n const { Writable } = require('stream');\n-const errors = require('internal/errors');\n+const {\n+  ERR_FS_INVALID_SYMLINK_TYPE,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_ARG_VALUE,\n+  ERR_INVALID_OPT_VALUE,\n+  ERR_INVALID_OPT_VALUE_ENCODING,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const { isUint8Array } = require('internal/util/types');\n const fs = require('fs');\n const pathModule = require('path');\n@@ -34,7 +41,7 @@ const isWindows = process.platform === 'win32';\n \n function assertEncoding(encoding) {\n   if (encoding && !Buffer.isEncoding(encoding)) {\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE_ENCODING', encoding);\n+    throw new ERR_INVALID_OPT_VALUE_ENCODING(encoding);\n   }\n }\n \n@@ -56,10 +63,7 @@ function getOptions(options, defaultOptions) {\n     defaultOptions.encoding = options;\n     options = defaultOptions;\n   } else if (typeof options !== 'object') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options',\n-                               ['string', 'Object'],\n-                               options);\n+    throw new ERR_INVALID_ARG_TYPE('options', ['string', 'Object'], options);\n   }\n \n   if (options.encoding !== 'buffer')\n@@ -97,9 +101,11 @@ function nullCheck(path, propName, throwError = true) {\n     return;\n   }\n \n-  const err = new errors.Error(\n-    'ERR_INVALID_ARG_VALUE', propName, path,\n-    'must be a string or Uint8Array without null bytes');\n+  const err = new ERR_INVALID_ARG_VALUE(\n+    propName,\n+    path,\n+    'must be a string or Uint8Array without null bytes'\n+  );\n \n   if (throwError) {\n     Error.captureStackTrace(err, nullCheck);\n@@ -233,7 +239,7 @@ function stringToFlags(flags) {\n     case 'sa+': return O_APPEND | O_CREAT | O_RDWR | O_SYNC;\n   }\n \n-  throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'flags', flags);\n+  throw new ERR_INVALID_OPT_VALUE('flags', flags);\n }\n \n function stringToSymlinkType(type) {\n@@ -249,7 +255,7 @@ function stringToSymlinkType(type) {\n       case 'file':\n         break;\n       default:\n-        const err = new errors.Error('ERR_FS_INVALID_SYMLINK_TYPE', type);\n+        const err = new ERR_FS_INVALID_SYMLINK_TYPE(type);\n         Error.captureStackTrace(err, stringToSymlinkType);\n         throw err;\n     }\n@@ -312,16 +318,12 @@ function toUnixTimestamp(time, name = 'time') {\n     // convert to 123.456 UNIX timestamp\n     return time.getTime() / 1000;\n   }\n-  throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                             name,\n-                             ['Date', 'Time in seconds'],\n-                             time);\n+  throw new ERR_INVALID_ARG_TYPE(name, ['Date', 'Time in seconds'], time);\n }\n \n function validateBuffer(buffer) {\n   if (!isUint8Array(buffer)) {\n-    const err = new errors.TypeError('ERR_INVALID_ARG_TYPE', 'buffer',\n-                                     ['Buffer', 'Uint8Array']);\n+    const err = new ERR_INVALID_ARG_TYPE('buffer', ['Buffer', 'Uint8Array']);\n     Error.captureStackTrace(err, validateBuffer);\n     throw err;\n   }\n@@ -331,7 +333,7 @@ function validateLen(len) {\n   let err;\n \n   if (!isInt32(len))\n-    err = new errors.TypeError('ERR_INVALID_ARG_TYPE', 'len', 'integer');\n+    err = new ERR_INVALID_ARG_TYPE('len', 'integer');\n \n   if (err !== undefined) {\n     Error.captureStackTrace(err, validateLen);\n@@ -343,9 +345,9 @@ function validateOffsetLengthRead(offset, length, bufferLength) {\n   let err;\n \n   if (offset < 0 || offset >= bufferLength) {\n-    err = new errors.RangeError('ERR_OUT_OF_RANGE', 'offset');\n+    err = new ERR_OUT_OF_RANGE('offset');\n   } else if (length < 0 || offset + length > bufferLength) {\n-    err = new errors.RangeError('ERR_OUT_OF_RANGE', 'length');\n+    err = new ERR_OUT_OF_RANGE('length');\n   }\n \n   if (err !== undefined) {\n@@ -358,9 +360,9 @@ function validateOffsetLengthWrite(offset, length, byteLength) {\n   let err;\n \n   if (offset > byteLength) {\n-    err = new errors.RangeError('ERR_OUT_OF_RANGE', 'offset');\n+    err = new ERR_OUT_OF_RANGE('offset');\n   } else if (offset + length > byteLength || offset + length > kMaxLength) {\n-    err = new errors.RangeError('ERR_OUT_OF_RANGE', 'length');\n+    err = new ERR_OUT_OF_RANGE('length');\n   }\n \n   if (err !== undefined) {\n@@ -377,8 +379,7 @@ function validatePath(path, propName) {\n   }\n \n   if (typeof path !== 'string' && !isUint8Array(path)) {\n-    err = new errors.TypeError('ERR_INVALID_ARG_TYPE', propName,\n-                               ['string', 'Buffer', 'URL']);\n+    err = new ERR_INVALID_ARG_TYPE(propName, ['string', 'Buffer', 'URL']);\n   } else {\n     err = nullCheck(path, propName, false);\n   }\n@@ -393,7 +394,7 @@ function validateUint32(value, propName) {\n   let err;\n \n   if (!isUint32(value))\n-    err = new errors.TypeError('ERR_INVALID_ARG_TYPE', propName, 'integer');\n+    err = new ERR_INVALID_ARG_TYPE(propName, 'integer');\n \n   if (err !== undefined) {\n     Error.captureStackTrace(err, validateUint32);"
        },
        {
            "sha": "6ec6cb33cb7b0f38b1ad1db4d06430bf175bec41",
            "filename": "lib/internal/http2/compat.js",
            "status": "modified",
            "additions": 33,
            "deletions": 22,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcompat.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -4,7 +4,18 @@ const Stream = require('stream');\n const Readable = Stream.Readable;\n const binding = process.binding('http2');\n const constants = binding.constants;\n-const errors = require('internal/errors');\n+const {\n+  ERR_HTTP2_HEADERS_SENT,\n+  ERR_HTTP2_INFO_STATUS_NOT_ALLOWED,\n+  ERR_HTTP2_INVALID_HEADER_VALUE,\n+  ERR_HTTP2_INVALID_STREAM,\n+  ERR_HTTP2_NO_SOCKET_MANIPULATION,\n+  ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED,\n+  ERR_HTTP2_STATUS_INVALID,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_INVALID_HTTP_TOKEN\n+} = require('internal/errors').codes;\n const { kSocket } = require('internal/http2/util');\n \n const kFinish = Symbol('finish');\n@@ -42,11 +53,11 @@ let statusMessageWarned = false;\n function assertValidHeader(name, value) {\n   let err;\n   if (name === '' || typeof name !== 'string') {\n-    err = new errors.TypeError('ERR_INVALID_HTTP_TOKEN', 'Header name', name);\n+    err = new ERR_INVALID_HTTP_TOKEN('Header name', name);\n   } else if (isPseudoHeader(name)) {\n-    err = new errors.Error('ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED');\n+    err = new ERR_HTTP2_PSEUDOHEADER_NOT_ALLOWED();\n   } else if (value === undefined || value === null) {\n-    err = new errors.TypeError('ERR_HTTP2_INVALID_HEADER_VALUE', value, name);\n+    err = new ERR_HTTP2_INVALID_HEADER_VALUE(value, name);\n   }\n   if (err !== undefined) {\n     Error.captureStackTrace(err, assertValidHeader);\n@@ -163,7 +174,7 @@ const proxySocketHandler = {\n       case 'read':\n       case 'pause':\n       case 'resume':\n-        throw new errors.Error('ERR_HTTP2_NO_SOCKET_MANIPULATION');\n+        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n       default:\n         const ref = stream.session !== undefined ?\n           stream.session[kSocket] : stream;\n@@ -199,7 +210,7 @@ const proxySocketHandler = {\n       case 'read':\n       case 'pause':\n       case 'resume':\n-        throw new errors.Error('ERR_HTTP2_NO_SOCKET_MANIPULATION');\n+        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n       default:\n         const ref = stream.session !== undefined ?\n           stream.session[kSocket] : stream;\n@@ -292,7 +303,7 @@ class Http2ServerRequest extends Readable {\n       state.didRead = true;\n       process.nextTick(resumeStream, this[kStream]);\n     } else {\n-      this.emit('error', new errors.Error('ERR_HTTP2_INVALID_STREAM'));\n+      this.emit('error', new ERR_HTTP2_INVALID_STREAM());\n     }\n   }\n \n@@ -302,7 +313,7 @@ class Http2ServerRequest extends Readable {\n \n   set method(method) {\n     if (typeof method !== 'string' || method.trim() === '')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'method', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('method', 'string');\n \n     this[kHeaders][HTTP2_HEADER_METHOD] = method;\n   }\n@@ -419,15 +430,15 @@ class Http2ServerResponse extends Stream {\n   set statusCode(code) {\n     code |= 0;\n     if (code >= 100 && code < 200)\n-      throw new errors.RangeError('ERR_HTTP2_INFO_STATUS_NOT_ALLOWED');\n+      throw new ERR_HTTP2_INFO_STATUS_NOT_ALLOWED();\n     if (code < 100 || code > 599)\n-      throw new errors.RangeError('ERR_HTTP2_STATUS_INVALID', code);\n+      throw new ERR_HTTP2_STATUS_INVALID(code);\n     this[kState].statusCode = code;\n   }\n \n   setTrailer(name, value) {\n     if (typeof name !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string');\n \n     name = name.trim().toLowerCase();\n     assertValidHeader(name, value);\n@@ -445,7 +456,7 @@ class Http2ServerResponse extends Stream {\n \n   getHeader(name) {\n     if (typeof name !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string');\n \n     name = name.trim().toLowerCase();\n     return this[kHeaders][name];\n@@ -461,29 +472,29 @@ class Http2ServerResponse extends Stream {\n \n   hasHeader(name) {\n     if (typeof name !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string');\n \n     name = name.trim().toLowerCase();\n     return Object.prototype.hasOwnProperty.call(this[kHeaders], name);\n   }\n \n   removeHeader(name) {\n     if (typeof name !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string');\n \n     if (this[kStream].headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     name = name.trim().toLowerCase();\n     delete this[kHeaders][name];\n   }\n \n   setHeader(name, value) {\n     if (typeof name !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string');\n \n     if (this[kStream].headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     this[kSetHeader](name, value);\n   }\n@@ -514,9 +525,9 @@ class Http2ServerResponse extends Stream {\n     const state = this[kState];\n \n     if (state.closed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n     if (this[kStream].headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     if (typeof statusMessage === 'string')\n       statusMessageWarn();\n@@ -544,7 +555,7 @@ class Http2ServerResponse extends Stream {\n     }\n \n     if (this[kState].closed) {\n-      const err = new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      const err = new ERR_HTTP2_INVALID_STREAM();\n       if (typeof cb === 'function')\n         process.nextTick(cb, err);\n       else\n@@ -614,9 +625,9 @@ class Http2ServerResponse extends Stream {\n \n   createPushResponse(headers, callback) {\n     if (typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     if (this[kState].closed) {\n-      process.nextTick(callback, new errors.Error('ERR_HTTP2_INVALID_STREAM'));\n+      process.nextTick(callback, new ERR_HTTP2_INVALID_STREAM());\n       return;\n     }\n     this[kStream].pushStream(headers, {}, (err, stream, headers, options) => {"
        },
        {
            "sha": "c764cd0297feda37b11d92c2e12446a8157974f4",
            "filename": "lib/internal/http2/core.js",
            "status": "modified",
            "additions": 135,
            "deletions": 135,
            "changes": 270,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Fcore.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Fcore.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcore.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -14,7 +14,47 @@ const net = require('net');\n const tls = require('tls');\n const util = require('util');\n const fs = require('fs');\n-const errors = require('internal/errors');\n+const {\n+  errnoException,\n+  codes: {\n+    ERR_HTTP2_ALTSVC_INVALID_ORIGIN,\n+    ERR_HTTP2_ALTSVC_LENGTH,\n+    ERR_HTTP2_CONNECT_AUTHORITY,\n+    ERR_HTTP2_CONNECT_PATH,\n+    ERR_HTTP2_CONNECT_SCHEME,\n+    ERR_HTTP2_GOAWAY_SESSION,\n+    ERR_HTTP2_HEADERS_AFTER_RESPOND,\n+    ERR_HTTP2_HEADERS_SENT,\n+    ERR_HTTP2_INVALID_INFO_STATUS,\n+    ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH,\n+    ERR_HTTP2_INVALID_SESSION,\n+    ERR_HTTP2_INVALID_SETTING_VALUE,\n+    ERR_HTTP2_INVALID_STREAM,\n+    ERR_HTTP2_MAX_PENDING_SETTINGS_ACK,\n+    ERR_HTTP2_NO_SOCKET_MANIPULATION,\n+    ERR_HTTP2_OUT_OF_STREAMS,\n+    ERR_HTTP2_PAYLOAD_FORBIDDEN,\n+    ERR_HTTP2_PING_CANCEL,\n+    ERR_HTTP2_PING_LENGTH,\n+    ERR_HTTP2_PUSH_DISABLED,\n+    ERR_HTTP2_SEND_FILE,\n+    ERR_HTTP2_SESSION_ERROR,\n+    ERR_HTTP2_SETTINGS_CANCEL,\n+    ERR_HTTP2_SOCKET_BOUND,\n+    ERR_HTTP2_STATUS_101,\n+    ERR_HTTP2_STATUS_INVALID,\n+    ERR_HTTP2_STREAM_CANCEL,\n+    ERR_HTTP2_STREAM_ERROR,\n+    ERR_HTTP2_STREAM_SELF_DEPENDENCY,\n+    ERR_HTTP2_UNSUPPORTED_PROTOCOL,\n+    ERR_INVALID_ARG_TYPE,\n+    ERR_INVALID_CALLBACK,\n+    ERR_INVALID_CHAR,\n+    ERR_INVALID_OPT_VALUE,\n+    ERR_OUT_OF_RANGE,\n+    ERR_SOCKET_CLOSED\n+  }\n+} = require('internal/errors');\n const { StreamWrap } = require('_stream_wrap');\n const { Duplex } = require('stream');\n const { URL } = require('url');\n@@ -437,7 +477,7 @@ function onGoawayData(code, lastStreamID, buf) {\n     // goaway using NGHTTP2_NO_ERROR because there was no error\n     // condition on this side of the session that caused the\n     // shutdown.\n-    session.destroy(new errors.Error('ERR_HTTP2_SESSION_ERROR', code),\n+    session.destroy(new ERR_HTTP2_SESSION_ERROR(code),\n                     { errorCode: NGHTTP2_NO_ERROR });\n   }\n }\n@@ -468,7 +508,7 @@ function requestOnConnect(headers, options) {\n   // If the session was closed while waiting for the connect, destroy\n   // the stream and do not continue with the request.\n   if (session.closed) {\n-    const err = new errors.Error('ERR_HTTP2_GOAWAY_SESSION');\n+    const err = new ERR_HTTP2_GOAWAY_SESSION();\n     this.destroy(err);\n     return;\n   }\n@@ -506,11 +546,11 @@ function requestOnConnect(headers, options) {\n     let err;\n     switch (ret) {\n       case NGHTTP2_ERR_STREAM_ID_NOT_AVAILABLE:\n-        err = new errors.Error('ERR_HTTP2_OUT_OF_STREAMS');\n+        err = new ERR_HTTP2_OUT_OF_STREAMS();\n         this.destroy(err);\n         break;\n       case NGHTTP2_ERR_INVALID_ARGUMENT:\n-        err = new errors.Error('ERR_HTTP2_STREAM_SELF_DEPENDENCY');\n+        err = new ERR_HTTP2_STREAM_SELF_DEPENDENCY();\n         this.destroy(err);\n         break;\n       default:\n@@ -533,33 +573,25 @@ function validatePriorityOptions(options) {\n   if (options.weight === undefined) {\n     options.weight = NGHTTP2_DEFAULT_WEIGHT;\n   } else if (typeof options.weight !== 'number') {\n-    err = new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                               'weight',\n-                               options.weight);\n+    err = new ERR_INVALID_OPT_VALUE('weight', options.weight);\n   }\n \n   if (options.parent === undefined) {\n     options.parent = 0;\n   } else if (typeof options.parent !== 'number' || options.parent < 0) {\n-    err = new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                               'parent',\n-                               options.parent);\n+    err = new ERR_INVALID_OPT_VALUE('parent', options.parent);\n   }\n \n   if (options.exclusive === undefined) {\n     options.exclusive = false;\n   } else if (typeof options.exclusive !== 'boolean') {\n-    err = new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                               'exclusive',\n-                               options.exclusive);\n+    err = new ERR_INVALID_OPT_VALUE('exclusive', options.exclusive);\n   }\n \n   if (options.silent === undefined) {\n     options.silent = false;\n   } else if (typeof options.silent !== 'boolean') {\n-    err = new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                               'silent',\n-                               options.silent);\n+    err = new ERR_INVALID_OPT_VALUE('silent', options.silent);\n   }\n \n   if (err) {\n@@ -587,7 +619,7 @@ function settingsCallback(cb, ack, duration) {\n   } else {\n     debug(`Http2Session ${sessionName(this[kType])}: settings canceled`);\n     if (typeof cb === 'function')\n-      cb(new errors.Error('ERR_HTTP2_SETTINGS_CANCEL'));\n+      cb(new ERR_HTTP2_SETTINGS_CANCEL());\n   }\n }\n \n@@ -599,7 +631,7 @@ function submitSettings(settings, callback) {\n   this[kUpdateTimer]();\n   updateSettingsBuffer(settings);\n   if (!this[kHandle].settings(settingsCallback.bind(this, callback))) {\n-    this.destroy(new errors.Error('ERR_HTTP2_MAX_PENDING_SETTINGS_ACK'));\n+    this.destroy(new ERR_HTTP2_MAX_PENDING_SETTINGS_ACK());\n   }\n }\n \n@@ -646,7 +678,7 @@ const proxySocketHandler = {\n       case 'read':\n       case 'resume':\n       case 'write':\n-        throw new errors.Error('ERR_HTTP2_NO_SOCKET_MANIPULATION');\n+        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n       default:\n         const socket = session[kSocket];\n         const value = socket[prop];\n@@ -668,7 +700,7 @@ const proxySocketHandler = {\n       case 'read':\n       case 'resume':\n       case 'write':\n-        throw new errors.Error('ERR_HTTP2_NO_SOCKET_MANIPULATION');\n+        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n       default:\n         session[kSocket][prop] = value;\n         return true;\n@@ -684,7 +716,7 @@ const proxySocketHandler = {\n // data received on the PING acknowlegement.\n function pingCallback(cb) {\n   return function pingCallback(ack, duration, payload) {\n-    const err = ack ? null : new errors.Error('ERR_HTTP2_PING_CANCEL');\n+    const err = ack ? null : new ERR_HTTP2_PING_CANCEL();\n     cb(err, duration, payload);\n   };\n }\n@@ -716,8 +748,8 @@ function validateSettings(settings) {\n                     0, kMaxInt);\n   if (settings.enablePush !== undefined &&\n       typeof settings.enablePush !== 'boolean') {\n-    const err = new errors.TypeError('ERR_HTTP2_INVALID_SETTING_VALUE',\n-                                     'enablePush', settings.enablePush);\n+    const err = new ERR_HTTP2_INVALID_SETTING_VALUE('enablePush',\n+                                                    settings.enablePush);\n     err.actual = settings.enablePush;\n     Error.captureStackTrace(err, 'validateSettings');\n     throw err;\n@@ -838,7 +870,7 @@ class Http2Session extends EventEmitter {\n     // then it has already been bound to an Http2Session instance\n     // and cannot be attached again.\n     if (socket[kSession] !== undefined)\n-      throw new errors.Error('ERR_HTTP2_SOCKET_BOUND');\n+      throw new ERR_HTTP2_SOCKET_BOUND();\n \n     socket[kSession] = this;\n \n@@ -945,13 +977,12 @@ class Http2Session extends EventEmitter {\n   // value also needs to be larger than the current next stream ID.\n   setNextStreamID(id) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n \n     if (typeof id !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'id', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('id', 'number');\n     if (id <= 0 || id > kMaxStreams)\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE', 'id',\n-                                  `> 0 and <= ${kMaxStreams}`, id);\n+      throw new ERR_OUT_OF_RANGE('id', `> 0 and <= ${kMaxStreams}`, id);\n     this[kHandle].setNextStreamID(id);\n   }\n \n@@ -960,22 +991,21 @@ class Http2Session extends EventEmitter {\n   // cancelled error and a duration of 0.0.\n   ping(payload, callback) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n \n     if (typeof payload === 'function') {\n       callback = payload;\n       payload = undefined;\n     }\n     if (payload && !isArrayBufferView(payload)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'payload',\n-                                 ['Buffer', 'TypedArray', 'DataView']);\n+      throw new ERR_INVALID_ARG_TYPE('payload',\n+                                     ['Buffer', 'TypedArray', 'DataView']);\n     }\n     if (payload && payload.length !== 8) {\n-      throw new errors.RangeError('ERR_HTTP2_PING_LENGTH');\n+      throw new ERR_HTTP2_PING_LENGTH();\n     }\n     if (typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n \n     const cb = pingCallback(callback);\n     if (this.connecting || this.closed) {\n@@ -1060,12 +1090,12 @@ class Http2Session extends EventEmitter {\n   // Submits a SETTINGS frame to be sent to the remote peer.\n   settings(settings, callback) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n     assertIsObject(settings, 'settings');\n     settings = validateSettings(settings);\n \n     if (callback && typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     debug(`Http2Session ${sessionName(this[kType])}: sending settings`);\n \n     this[kState].pendingAck++;\n@@ -1084,19 +1114,17 @@ class Http2Session extends EventEmitter {\n   // be rejected automatically.\n   goaway(code = NGHTTP2_NO_ERROR, lastStreamID = 0, opaqueData) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n \n     if (opaqueData !== undefined && !isArrayBufferView(opaqueData)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'opaqueData',\n-                                 ['Buffer', 'TypedArray', 'DataView']);\n+      throw new ERR_INVALID_ARG_TYPE('opaqueData',\n+                                     ['Buffer', 'TypedArray', 'DataView']);\n     }\n     if (typeof code !== 'number') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'code', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('code', 'number');\n     }\n     if (typeof lastStreamID !== 'number') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'lastStreamID', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('lastStreamID', 'number');\n     }\n \n     const goawayFn = submitGoaway.bind(this, code, lastStreamID, opaqueData);\n@@ -1118,7 +1146,7 @@ class Http2Session extends EventEmitter {\n       code = error;\n       error =\n         code !== NGHTTP2_NO_ERROR ?\n-          new errors.Error('ERR_HTTP2_SESSION_ERROR', code) : undefined;\n+          new ERR_HTTP2_SESSION_ERROR(code) : undefined;\n     }\n     if (code === undefined && error != null)\n       code = NGHTTP2_INTERNAL_ERROR;\n@@ -1131,7 +1159,7 @@ class Http2Session extends EventEmitter {\n     this.removeAllListeners('timeout');\n \n     // Destroy any pending and open streams\n-    const cancel = new errors.Error('ERR_HTTP2_STREAM_CANCEL');\n+    const cancel = new ERR_HTTP2_STREAM_CANCEL();\n     if (error) {\n       cancel.cause = error;\n       if (typeof error.message === 'string')\n@@ -1265,18 +1293,18 @@ class ServerHttp2Session extends Http2Session {\n   // API is provided for that.\n   altsvc(alt, originOrStream) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n \n     let stream = 0;\n     let origin;\n \n     if (typeof originOrStream === 'string') {\n       origin = (new URL(originOrStream)).origin;\n       if (origin === 'null')\n-        throw new errors.TypeError('ERR_HTTP2_ALTSVC_INVALID_ORIGIN');\n+        throw new ERR_HTTP2_ALTSVC_INVALID_ORIGIN();\n     } else if (typeof originOrStream === 'number') {\n       if (originOrStream >>> 0 !== originOrStream || originOrStream === 0)\n-        throw new errors.RangeError('ERR_OUT_OF_RANGE', 'originOrStream');\n+        throw new ERR_OUT_OF_RANGE('originOrStream');\n       stream = originOrStream;\n     } else if (originOrStream !== undefined) {\n       // Allow origin to be passed a URL or object with origin property\n@@ -1288,21 +1316,21 @@ class ServerHttp2Session extends Http2Session {\n       // ensure they are doing the right thing or the payload data will\n       // be invalid.\n       if (typeof origin !== 'string') {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'originOrStream',\n-                                   ['string', 'number', 'URL', 'object']);\n+        throw new ERR_INVALID_ARG_TYPE('originOrStream',\n+                                       ['string', 'number', 'URL', 'object']);\n       } else if (origin === 'null' || origin.length === 0) {\n-        throw new errors.TypeError('ERR_HTTP2_ALTSVC_INVALID_ORIGIN');\n+        throw new ERR_HTTP2_ALTSVC_INVALID_ORIGIN();\n       }\n     }\n \n     if (typeof alt !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'alt', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('alt', 'string');\n     if (!kQuotedString.test(alt))\n-      throw new errors.TypeError('ERR_INVALID_CHAR', 'alt');\n+      throw new ERR_INVALID_CHAR('alt');\n \n     // Max length permitted for ALTSVC\n     if ((alt.length + (origin !== undefined ? origin.length : 0)) > 16382)\n-      throw new errors.TypeError('ERR_HTTP2_ALTSVC_LENGTH');\n+      throw new ERR_HTTP2_ALTSVC_LENGTH();\n \n     this[kHandle].altsvc(stream, origin || '', alt);\n   }\n@@ -1323,10 +1351,10 @@ class ClientHttp2Session extends Http2Session {\n     debug(`Http2Session ${sessionName(this[kType])}: initiating request`);\n \n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_SESSION');\n+      throw new ERR_HTTP2_INVALID_SESSION();\n \n     if (this.closed)\n-      throw new errors.Error('ERR_HTTP2_GOAWAY_SESSION');\n+      throw new ERR_HTTP2_GOAWAY_SESSION();\n \n     this[kUpdateTimer]();\n \n@@ -1350,11 +1378,11 @@ class ClientHttp2Session extends Http2Session {\n         headers[HTTP2_HEADER_PATH] = '/';\n     } else {\n       if (headers[HTTP2_HEADER_AUTHORITY] === undefined)\n-        throw new errors.Error('ERR_HTTP2_CONNECT_AUTHORITY');\n+        throw new ERR_HTTP2_CONNECT_AUTHORITY();\n       if (headers[HTTP2_HEADER_SCHEME] !== undefined)\n-        throw new errors.Error('ERR_HTTP2_CONNECT_SCHEME');\n+        throw new ERR_HTTP2_CONNECT_SCHEME();\n       if (headers[HTTP2_HEADER_PATH] !== undefined)\n-        throw new errors.Error('ERR_HTTP2_CONNECT_PATH');\n+        throw new ERR_HTTP2_CONNECT_PATH();\n     }\n \n     validatePriorityOptions(options);\n@@ -1365,16 +1393,12 @@ class ClientHttp2Session extends Http2Session {\n       // preference.\n       options.endStream = isPayloadMeaningless(headers[HTTP2_HEADER_METHOD]);\n     } else if (typeof options.endStream !== 'boolean') {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'endStream',\n-                                 options.endStream);\n+      throw new ERR_INVALID_OPT_VALUE('endStream', options.endStream);\n     }\n \n     if (options.getTrailers !== undefined &&\n       typeof options.getTrailers !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'getTrailers',\n-                                 options.getTrailers);\n+      throw new ERR_INVALID_OPT_VALUE('getTrailers', options.getTrailers);\n     }\n \n     const headersList = mapToHeaders(headers);\n@@ -1653,7 +1677,7 @@ class Http2Stream extends Duplex {\n     req.async = false;\n     const err = createWriteReq(req, handle, data, encoding);\n     if (err)\n-      throw errors.errnoException(err, 'write', req.error);\n+      throw errnoException(err, 'write', req.error);\n     trackWriteState(this, req.bytes);\n   }\n \n@@ -1696,7 +1720,7 @@ class Http2Stream extends Duplex {\n     }\n     const err = handle.writev(req, chunks);\n     if (err)\n-      throw errors.errnoException(err, 'write', req.error);\n+      throw errnoException(err, 'write', req.error);\n     trackWriteState(this, req.bytes);\n   }\n \n@@ -1731,7 +1755,7 @@ class Http2Stream extends Duplex {\n \n   priority(options) {\n     if (this.destroyed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n \n     assertIsObject(options, 'options');\n     options = Object.assign({}, options);\n@@ -1767,11 +1791,11 @@ class Http2Stream extends Duplex {\n   // but no DATA and HEADERS frames may be sent.\n   close(code = NGHTTP2_NO_ERROR, callback) {\n     if (typeof code !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'code', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('code', 'number');\n     if (code < 0 || code > kMaxInt)\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE', 'code');\n+      throw new ERR_OUT_OF_RANGE('code');\n     if (callback !== undefined && typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n \n     // Clear timeout and remove timeout listeners\n     this.setTimeout(0);\n@@ -1850,8 +1874,7 @@ class Http2Stream extends Duplex {\n     // abort and is already covered by aborted event, also allows more\n     // seamless compatibility with http1\n     if (err == null && code !== NGHTTP2_NO_ERROR && code !== NGHTTP2_CANCEL)\n-      err = new errors.Error('ERR_HTTP2_STREAM_ERROR',\n-                             nameForErrorCode[code] || code);\n+      err = new ERR_HTTP2_STREAM_ERROR(nameForErrorCode[code] || code);\n \n     this[kSession] = undefined;\n     this[kHandle] = undefined;\n@@ -1900,8 +1923,7 @@ function processHeaders(headers) {\n   // This will have an impact on the compatibility layer for anyone using\n   // non-standard, non-compliant status codes.\n   if (statusCode < 200 || statusCode > 599)\n-    throw new errors.RangeError('ERR_HTTP2_STATUS_INVALID',\n-                                headers[HTTP2_HEADER_STATUS]);\n+    throw new ERR_HTTP2_STATUS_INVALID(headers[HTTP2_HEADER_STATUS]);\n \n   return headers;\n }\n@@ -1947,7 +1969,7 @@ function doSendFD(session, options, fd, headers, streamOptions, err, stat) {\n   // In either case, we do not want to continue because the we are shutting\n   // down and should not attempt to send any data.\n   if (this.destroyed || this.closed) {\n-    this.destroy(new errors.Error('ERR_HTTP2_INVALID_STREAM'));\n+    this.destroy(new ERR_HTTP2_INVALID_STREAM());\n     return;\n   }\n \n@@ -1986,7 +2008,7 @@ function doSendFileFD(session, options, fd, headers, streamOptions, err, stat) {\n   }\n \n   if (!stat.isFile()) {\n-    const err = new errors.Error('ERR_HTTP2_SEND_FILE');\n+    const err = new ERR_HTTP2_SEND_FILE();\n     if (onError)\n       onError(err);\n     else\n@@ -1996,7 +2018,7 @@ function doSendFileFD(session, options, fd, headers, streamOptions, err, stat) {\n \n   if (this.destroyed || this.closed) {\n     tryClose(fd);\n-    this.destroy(new errors.Error('ERR_HTTP2_INVALID_STREAM'));\n+    this.destroy(new ERR_HTTP2_INVALID_STREAM());\n     return;\n   }\n \n@@ -2079,7 +2101,7 @@ class ServerHttp2Stream extends Http2Stream {\n   // Http2Stream for the push stream.\n   pushStream(headers, options, callback) {\n     if (!this.pushAllowed)\n-      throw new errors.Error('ERR_HTTP2_PUSH_DISABLED');\n+      throw new ERR_HTTP2_PUSH_DISABLED();\n \n     const session = this[kSession];\n \n@@ -2094,7 +2116,7 @@ class ServerHttp2Stream extends Http2Stream {\n     }\n \n     if (typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n \n     assertIsObject(options, 'options');\n     options = Object.assign({}, options);\n@@ -2128,10 +2150,10 @@ class ServerHttp2Stream extends Http2Stream {\n     if (typeof ret === 'number') {\n       switch (ret) {\n         case NGHTTP2_ERR_STREAM_ID_NOT_AVAILABLE:\n-          err = new errors.Error('ERR_HTTP2_OUT_OF_STREAMS');\n+          err = new ERR_HTTP2_OUT_OF_STREAMS();\n           break;\n         case NGHTTP2_ERR_STREAM_CLOSED:\n-          err = new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+          err = new ERR_HTTP2_INVALID_STREAM();\n           break;\n         default:\n           err = new NghttpError(ret);\n@@ -2157,9 +2179,9 @@ class ServerHttp2Stream extends Http2Stream {\n   // Initiate a response on this Http2Stream\n   respond(headers, options) {\n     if (this.destroyed || this.closed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n     if (this.headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     const state = this[kState];\n \n@@ -2179,9 +2201,7 @@ class ServerHttp2Stream extends Http2Stream {\n \n     if (options.getTrailers !== undefined) {\n       if (typeof options.getTrailers !== 'function') {\n-        throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                   'getTrailers',\n-                                   options.getTrailers);\n+        throw new ERR_INVALID_OPT_VALUE('getTrailers', options.getTrailers);\n       }\n       streamOptions |= STREAM_OPTION_GET_TRAILERS;\n       state.getTrailers = options.getTrailers;\n@@ -2224,46 +2244,37 @@ class ServerHttp2Stream extends Http2Stream {\n   // reset with an error code.\n   respondWithFD(fd, headers, options) {\n     if (this.destroyed || this.closed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n     if (this.headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     const session = this[kSession];\n \n     assertIsObject(options, 'options');\n     options = Object.assign({}, options);\n \n     if (options.offset !== undefined && typeof options.offset !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'offset',\n-                                 options.offset);\n+      throw new ERR_INVALID_OPT_VALUE('offset', options.offset);\n \n     if (options.length !== undefined && typeof options.length !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'length',\n-                                 options.length);\n+      throw new ERR_INVALID_OPT_VALUE('length', options.length);\n \n     if (options.statCheck !== undefined &&\n         typeof options.statCheck !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'statCheck',\n-                                 options.statCheck);\n+      throw new ERR_INVALID_OPT_VALUE('statCheck', options.statCheck);\n     }\n \n     let streamOptions = 0;\n     if (options.getTrailers !== undefined) {\n       if (typeof options.getTrailers !== 'function') {\n-        throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                   'getTrailers',\n-                                   options.getTrailers);\n+        throw new ERR_INVALID_OPT_VALUE('getTrailers', options.getTrailers);\n       }\n       streamOptions |= STREAM_OPTION_GET_TRAILERS;\n       this[kState].getTrailers = options.getTrailers;\n     }\n \n     if (typeof fd !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'fd', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('fd', 'number');\n \n     debug(`Http2Stream ${this[kID]} [Http2Session ` +\n           `${sessionName(session[kType])}]: initiating response`);\n@@ -2275,7 +2286,7 @@ class ServerHttp2Stream extends Http2Stream {\n     if (statusCode === HTTP_STATUS_NO_CONTENT ||\n         statusCode === HTTP_STATUS_RESET_CONTENT ||\n         statusCode === HTTP_STATUS_NOT_MODIFIED) {\n-      throw new errors.Error('ERR_HTTP2_PAYLOAD_FORBIDDEN', statusCode);\n+      throw new ERR_HTTP2_PAYLOAD_FORBIDDEN(statusCode);\n     }\n \n     if (options.statCheck !== undefined) {\n@@ -2300,36 +2311,28 @@ class ServerHttp2Stream extends Http2Stream {\n   // file details are sent.\n   respondWithFile(path, headers, options) {\n     if (this.destroyed || this.closed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n     if (this.headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_SENT');\n+      throw new ERR_HTTP2_HEADERS_SENT();\n \n     assertIsObject(options, 'options');\n     options = Object.assign({}, options);\n \n     if (options.offset !== undefined && typeof options.offset !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'offset',\n-                                 options.offset);\n+      throw new ERR_INVALID_OPT_VALUE('offset', options.offset);\n \n     if (options.length !== undefined && typeof options.length !== 'number')\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'length',\n-                                 options.length);\n+      throw new ERR_INVALID_OPT_VALUE('length', options.length);\n \n     if (options.statCheck !== undefined &&\n         typeof options.statCheck !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'statCheck',\n-                                 options.statCheck);\n+      throw new ERR_INVALID_OPT_VALUE('statCheck', options.statCheck);\n     }\n \n     let streamOptions = 0;\n     if (options.getTrailers !== undefined) {\n       if (typeof options.getTrailers !== 'function') {\n-        throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                   'getTrailers',\n-                                   options.getTrailers);\n+        throw new ERR_INVALID_OPT_VALUE('getTrailers', options.getTrailers);\n       }\n       streamOptions |= STREAM_OPTION_GET_TRAILERS;\n       this[kState].getTrailers = options.getTrailers;\n@@ -2347,7 +2350,7 @@ class ServerHttp2Stream extends Http2Stream {\n     if (statusCode === HTTP_STATUS_NO_CONTENT ||\n         statusCode === HTTP_STATUS_RESET_CONTENT ||\n         statusCode === HTTP_STATUS_NOT_MODIFIED) {\n-      throw new errors.Error('ERR_HTTP2_PAYLOAD_FORBIDDEN', statusCode);\n+      throw new ERR_HTTP2_PAYLOAD_FORBIDDEN(statusCode);\n     }\n \n     fs.open(path, 'r',\n@@ -2363,9 +2366,9 @@ class ServerHttp2Stream extends Http2Stream {\n   // headers are sent, or an error will be thrown.\n   additionalHeaders(headers) {\n     if (this.destroyed || this.closed)\n-      throw new errors.Error('ERR_HTTP2_INVALID_STREAM');\n+      throw new ERR_HTTP2_INVALID_STREAM();\n     if (this.headersSent)\n-      throw new errors.Error('ERR_HTTP2_HEADERS_AFTER_RESPOND');\n+      throw new ERR_HTTP2_HEADERS_AFTER_RESPOND();\n \n     assertIsObject(headers, 'headers');\n     headers = Object.assign(Object.create(null), headers);\n@@ -2377,10 +2380,9 @@ class ServerHttp2Stream extends Http2Stream {\n     if (headers[HTTP2_HEADER_STATUS] != null) {\n       const statusCode = headers[HTTP2_HEADER_STATUS] |= 0;\n       if (statusCode === HTTP_STATUS_SWITCHING_PROTOCOLS)\n-        throw new errors.Error('ERR_HTTP2_STATUS_101');\n+        throw new ERR_HTTP2_STATUS_101();\n       if (statusCode < 100 || statusCode >= 200) {\n-        throw new errors.RangeError('ERR_HTTP2_INVALID_INFO_STATUS',\n-                                    headers[HTTP2_HEADER_STATUS]);\n+        throw new ERR_HTTP2_INVALID_INFO_STATUS(headers[HTTP2_HEADER_STATUS]);\n       }\n     }\n \n@@ -2435,7 +2437,7 @@ const setTimeout = {\n     if (msecs === 0) {\n       if (callback !== undefined) {\n         if (typeof callback !== 'function')\n-          throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+          throw new ERR_INVALID_CALLBACK();\n         this.removeListener('timeout', callback);\n       }\n     } else {\n@@ -2444,7 +2446,7 @@ const setTimeout = {\n \n       if (callback !== undefined) {\n         if (typeof callback !== 'function')\n-          throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+          throw new ERR_INVALID_CALLBACK();\n         this.once('timeout', callback);\n       }\n     }\n@@ -2589,7 +2591,7 @@ class Http2SecureServer extends TLSServer {\n     this.timeout = msecs;\n     if (callback !== undefined) {\n       if (typeof callback !== 'function')\n-        throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+        throw new ERR_INVALID_CALLBACK();\n       this.on('timeout', callback);\n     }\n     return this;\n@@ -2610,7 +2612,7 @@ class Http2Server extends NETServer {\n     this.timeout = msecs;\n     if (callback !== undefined) {\n       if (typeof callback !== 'function')\n-        throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+        throw new ERR_INVALID_CALLBACK();\n       this.on('timeout', callback);\n     }\n     return this;\n@@ -2632,8 +2634,7 @@ function socketOnClose() {\n   const session = this[kSession];\n   if (session !== undefined) {\n     debug(`Http2Session ${sessionName(session[kType])}: socket closed`);\n-    const err = session.connecting ?\n-      new errors.Error('ERR_SOCKET_CLOSED') : null;\n+    const err = session.connecting ? new ERR_SOCKET_CLOSED() : null;\n     const state = session[kState];\n     state.streams.forEach((stream) => stream.close(NGHTTP2_CANCEL));\n     state.pendingStreams.forEach((stream) => stream.close(NGHTTP2_CANCEL));\n@@ -2673,7 +2674,7 @@ function connect(authority, options, listener) {\n         socket = tls.connect(port, host, initializeTLSOptions(options, host));\n         break;\n       default:\n-        throw new errors.Error('ERR_HTTP2_UNSUPPORTED_PROTOCOL', protocol);\n+        throw new ERR_HTTP2_UNSUPPORTED_PROTOCOL(protocol);\n     }\n   }\n \n@@ -2726,11 +2727,10 @@ function getPackedSettings(settings) {\n \n function getUnpackedSettings(buf, options = {}) {\n   if (!isArrayBufferView(buf)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'buf',\n-                               ['Buffer', 'TypedArray', 'DataView']);\n+    throw new ERR_INVALID_ARG_TYPE('buf', ['Buffer', 'TypedArray', 'DataView']);\n   }\n   if (buf.length % 6 !== 0)\n-    throw new errors.RangeError('ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH');\n+    throw new ERR_HTTP2_INVALID_PACKED_SETTINGS_LENGTH();\n   const settings = {};\n   let offset = 0;\n   while (offset < buf.length) {"
        },
        {
            "sha": "b9bd580af273f63c21ed0401060d4b530667a429",
            "filename": "lib/internal/http2/util.js",
            "status": "modified",
            "additions": 15,
            "deletions": 10,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fhttp2%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Futil.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,7 +1,13 @@\n 'use strict';\n \n const binding = process.binding('http2');\n-const errors = require('internal/errors');\n+const {\n+  ERR_HTTP2_HEADER_SINGLE_VALUE,\n+  ERR_HTTP2_INVALID_CONNECTION_HEADERS,\n+  ERR_HTTP2_INVALID_PSEUDOHEADER,\n+  ERR_HTTP2_INVALID_SETTING_VALUE,\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n \n const kSocket = Symbol('socket');\n \n@@ -382,22 +388,22 @@ function isIllegalConnectionSpecificHeader(name, value) {\n \n function assertValidPseudoHeader(key) {\n   if (!kValidPseudoHeaders.has(key)) {\n-    const err = new errors.Error('ERR_HTTP2_INVALID_PSEUDOHEADER', key);\n+    const err = new ERR_HTTP2_INVALID_PSEUDOHEADER(key);\n     Error.captureStackTrace(err, assertValidPseudoHeader);\n     return err;\n   }\n }\n \n function assertValidPseudoHeaderResponse(key) {\n   if (key !== ':status') {\n-    const err = new errors.Error('ERR_HTTP2_INVALID_PSEUDOHEADER', key);\n+    const err = new ERR_HTTP2_INVALID_PSEUDOHEADER(key);\n     Error.captureStackTrace(err, assertValidPseudoHeaderResponse);\n     return err;\n   }\n }\n \n function assertValidPseudoHeaderTrailer(key) {\n-  const err = new errors.Error('ERR_HTTP2_INVALID_PSEUDOHEADER', key);\n+  const err = new ERR_HTTP2_INVALID_PSEUDOHEADER(key);\n   Error.captureStackTrace(err, assertValidPseudoHeaderTrailer);\n   return err;\n }\n@@ -426,14 +432,14 @@ function mapToHeaders(map,\n           break;\n         default:\n           if (isSingleValueHeader)\n-            return new errors.Error('ERR_HTTP2_HEADER_SINGLE_VALUE', key);\n+            return new ERR_HTTP2_HEADER_SINGLE_VALUE(key);\n       }\n     } else {\n       value = String(value);\n     }\n     if (isSingleValueHeader) {\n       if (singles.has(key))\n-        return new errors.Error('ERR_HTTP2_HEADER_SINGLE_VALUE', key);\n+        return new ERR_HTTP2_HEADER_SINGLE_VALUE(key);\n       singles.add(key);\n     }\n     if (key[0] === ':') {\n@@ -444,7 +450,7 @@ function mapToHeaders(map,\n       count++;\n     } else {\n       if (isIllegalConnectionSpecificHeader(key, value)) {\n-        return new errors.Error('ERR_HTTP2_INVALID_CONNECTION_HEADERS', key);\n+        return new ERR_HTTP2_INVALID_CONNECTION_HEADERS(key);\n       }\n       if (isArray) {\n         for (var k = 0; k < value.length; k++) {\n@@ -476,7 +482,7 @@ function assertIsObject(value, name, types = 'Object') {\n       (value === null ||\n        typeof value !== 'object' ||\n        Array.isArray(value))) {\n-    const err = new errors.TypeError('ERR_INVALID_ARG_TYPE', name, types);\n+    const err = new ERR_INVALID_ARG_TYPE(name, types);\n     Error.captureStackTrace(err, assertIsObject);\n     throw err;\n   }\n@@ -485,8 +491,7 @@ function assertIsObject(value, name, types = 'Object') {\n function assertWithinRange(name, value, min = 0, max = Infinity) {\n   if (value !== undefined &&\n       (typeof value !== 'number' || value < min || value > max)) {\n-    const err = new errors.RangeError('ERR_HTTP2_INVALID_SETTING_VALUE',\n-                                      name, value);\n+    const err = new ERR_HTTP2_INVALID_SETTING_VALUE.RangeError(name, value);\n     err.min = min;\n     err.max = max;\n     err.actual = value;"
        },
        {
            "sha": "c561417bd162c0b9d852c5944bff65f4b7d3d7d9",
            "filename": "lib/internal/loader/DefaultResolve.js",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FDefaultResolve.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FDefaultResolve.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Floader%2FDefaultResolve.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -7,7 +7,11 @@ const { NativeModule, internalBinding } = require('internal/bootstrap_loaders');\n const { extname } = require('path');\n const { realpathSync } = require('fs');\n const preserveSymlinks = !!process.binding('config').preserveSymlinks;\n-const errors = require('internal/errors');\n+const {\n+  ERR_MISSING_MODULE,\n+  ERR_MODULE_RESOLUTION_LEGACY,\n+  ERR_UNKNOWN_FILE_EXTENSION\n+} = require('internal/errors').codes;\n const { resolve: moduleWrapResolve } = internalBinding('module_wrap');\n const StringStartsWith = Function.call.bind(String.prototype.startsWith);\n const { getURLFromFilePath, getPathFromURL } = require('internal/url');\n@@ -17,7 +21,7 @@ const realpathCache = new Map();\n function search(target, base) {\n   if (base === undefined) {\n     // We cannot search without a base.\n-    throw new errors.Error('ERR_MISSING_MODULE', target);\n+    throw new ERR_MISSING_MODULE(target);\n   }\n   try {\n     return moduleWrapResolve(target, base);\n@@ -30,8 +34,7 @@ function search(target, base) {\n       tmpMod.paths = CJSmodule._nodeModulePaths(\n         new URL('./', questionedBase).pathname);\n       const found = CJSmodule._resolveFilename(target, tmpMod);\n-      error = new errors.Error('ERR_MODULE_RESOLUTION_LEGACY', target,\n-                               base, found);\n+      error = new ERR_MODULE_RESOLUTION_LEGACY(target, base, found);\n     } catch (problemChecking) {\n       // ignore\n     }\n@@ -84,7 +87,7 @@ function resolve(specifier, parentURL) {\n     if (isMain)\n       format = 'cjs';\n     else\n-      throw new errors.Error('ERR_UNKNOWN_FILE_EXTENSION', url.pathname);\n+      throw new ERR_UNKNOWN_FILE_EXTENSION(url.pathname);\n   }\n \n   return { url: `${url}`, format };"
        },
        {
            "sha": "e4457cfd817ba1854b58bad91bbfb54bcf3eb032",
            "filename": "lib/internal/loader/Loader.js",
            "status": "modified",
            "additions": 12,
            "deletions": 7,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FLoader.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FLoader.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Floader%2FLoader.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,11 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_PROTOCOL,\n+  ERR_MISSING_DYNAMIC_INTSTANTIATE_HOOK,\n+  ERR_UNKNOWN_MODULE_FORMAT\n+} = require('internal/errors').codes;\n const ModuleMap = require('internal/loader/ModuleMap');\n const ModuleJob = require('internal/loader/ModuleJob');\n const defaultResolve = require('internal/loader/DefaultResolve');\n@@ -44,22 +49,22 @@ class Loader {\n   async resolve(specifier, parentURL) {\n     const isMain = parentURL === undefined;\n     if (!isMain && typeof parentURL !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'parentURL', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('parentURL', 'string');\n \n     const { url, format } =\n       await this._resolve(specifier, parentURL, defaultResolve);\n \n     if (typeof url !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'url', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('url', 'string');\n \n     if (typeof format !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'format', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('format', 'string');\n \n     if (format === 'builtin')\n       return { url: `node:${url}`, format };\n \n     if (format !== 'dynamic' && !url.startsWith('file:'))\n-      throw new errors.Error('ERR_INVALID_PROTOCOL', url, 'file:');\n+      throw new ERR_INVALID_PROTOCOL(url, 'file:');\n \n     return { url, format };\n   }\n@@ -87,7 +92,7 @@ class Loader {\n     let loaderInstance;\n     if (format === 'dynamic') {\n       if (typeof this._dynamicInstantiate !== 'function')\n-        throw new errors.Error('ERR_MISSING_DYNAMIC_INTSTANTIATE_HOOK');\n+        throw new ERR_MISSING_DYNAMIC_INTSTANTIATE_HOOK();\n \n       loaderInstance = async (url) => {\n         debug(`Translating dynamic ${url}`);\n@@ -99,7 +104,7 @@ class Loader {\n       };\n     } else {\n       if (!translators.has(format))\n-        throw new errors.RangeError('ERR_UNKNOWN_MODULE_FORMAT', format);\n+        throw new ERR_UNKNOWN_MODULE_FORMAT(format);\n \n       loaderInstance = translators.get(format);\n     }"
        },
        {
            "sha": "dce8f834ba6d1002bde636a3602fd5b5f5248ac2",
            "filename": "lib/internal/loader/ModuleMap.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FModuleMap.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Floader%2FModuleMap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Floader%2FModuleMap.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -3,29 +3,29 @@\n const ModuleJob = require('internal/loader/ModuleJob');\n const { SafeMap } = require('internal/safe_globals');\n const debug = require('util').debuglog('esm');\n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n \n // Tracks the state of the loader-level module cache\n class ModuleMap extends SafeMap {\n   get(url) {\n     if (typeof url !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'url', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('url', 'string');\n     }\n     return super.get(url);\n   }\n   set(url, job) {\n     if (typeof url !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'url', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('url', 'string');\n     }\n     if (job instanceof ModuleJob !== true) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'job', 'ModuleJob');\n+      throw new ERR_INVALID_ARG_TYPE('job', 'ModuleJob');\n     }\n     debug(`Storing ${url} in ModuleMap`);\n     return super.set(url, job);\n   }\n   has(url) {\n     if (typeof url !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'url', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('url', 'string');\n     }\n     return super.has(url);\n   }"
        },
        {
            "sha": "61565cc59325645aa8491c988e668f8de165c60d",
            "filename": "lib/internal/module.js",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fmodule.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fmodule.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodule.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n \n const {\n   CHAR_LINE_FEED,\n@@ -25,8 +25,7 @@ function makeRequireFunction(mod) {\n \n   function resolve(request, options) {\n     if (typeof request !== 'string') {\n-      throw new errors.Error('ERR_INVALID_ARG_TYPE',\n-                             'request', 'string', request);\n+      throw new ERR_INVALID_ARG_TYPE('request', 'string', request);\n     }\n     return Module._resolveFilename(request, mod, false, options);\n   }\n@@ -35,8 +34,7 @@ function makeRequireFunction(mod) {\n \n   function paths(request) {\n     if (typeof request !== 'string') {\n-      throw new errors.Error('ERR_INVALID_ARG_TYPE',\n-                             'request', 'string', request);\n+      throw new ERR_INVALID_ARG_TYPE('request', 'string', request);\n     }\n     return Module._resolveLookupPaths(request, mod, true);\n   }"
        },
        {
            "sha": "ba61928adcd6b566d9eb5128083903a3e00d5396",
            "filename": "lib/internal/process.js",
            "status": "modified",
            "additions": 23,
            "deletions": 18,
            "changes": 41,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,14 +1,24 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  errnoException,\n+  codes: {\n+    ERR_ASSERTION,\n+    ERR_CPU_USAGE,\n+    ERR_INVALID_ARG_TYPE,\n+    ERR_INVALID_ARRAY_LENGTH,\n+    ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET,\n+    ERR_UNKNOWN_SIGNAL\n+  }\n+} = require('internal/errors');\n const util = require('util');\n const constants = process.binding('constants').os.signals;\n const assert = require('assert').strict;\n const { deprecate } = require('internal/util');\n \n process.assert = deprecate(\n   function(x, msg) {\n-    if (!x) throw new errors.Error('ERR_ASSERTION', msg || 'assertion error');\n+    if (!x) throw new ERR_ASSERTION(msg || 'assertion error');\n   },\n   'process.assert() is deprecated. Please use the `assert` module instead.',\n   'DEP0100');\n@@ -31,20 +41,18 @@ function setup_cpuUsage() {\n     // If a previous value was passed in, ensure it has the correct shape.\n     if (prevValue) {\n       if (!previousValueIsValid(prevValue.user)) {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                   'preValue.user', 'number');\n+        throw new ERR_INVALID_ARG_TYPE('preValue.user', 'number');\n       }\n \n       if (!previousValueIsValid(prevValue.system)) {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                   'preValue.system', 'number');\n+        throw new ERR_INVALID_ARG_TYPE('preValue.system', 'number');\n       }\n     }\n \n     // Call the native function to get the current values.\n     const errmsg = _cpuUsage(cpuValues);\n     if (errmsg) {\n-      throw new errors.Error('ERR_CPU_USAGE', errmsg);\n+      throw new ERR_CPU_USAGE(errmsg);\n     }\n \n     // If a previous value was passed in, return diff of current from previous.\n@@ -83,12 +91,10 @@ function setup_hrtime() {\n \n     if (time !== undefined) {\n       if (!Array.isArray(time)) {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'time', 'Array',\n-                                   time);\n+        throw new ERR_INVALID_ARG_TYPE('time', 'Array', time);\n       }\n       if (time.length !== 2) {\n-        throw new errors.TypeError('ERR_INVALID_ARRAY_LENGTH', 'time', 2,\n-                                   time.length);\n+        throw new ERR_INVALID_ARRAY_LENGTH('time', 2, time.length);\n       }\n \n       const sec = (hrValues[0] * 0x100000000 + hrValues[1]) - time[0];\n@@ -158,7 +164,7 @@ function setupKillAndExit() {\n \n     // eslint-disable-next-line eqeqeq\n     if (pid != (pid | 0)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'pid', 'number');\n+      throw new ERR_INVALID_ARG_TYPE('pid', 'number');\n     }\n \n     // preserve null signal\n@@ -169,12 +175,12 @@ function setupKillAndExit() {\n       if (constants[sig]) {\n         err = process._kill(pid, constants[sig]);\n       } else {\n-        throw new errors.TypeError('ERR_UNKNOWN_SIGNAL', sig);\n+        throw new ERR_UNKNOWN_SIGNAL(sig);\n       }\n     }\n \n     if (err)\n-      throw errors.errnoException(err, 'kill');\n+      throw errnoException(err, 'kill');\n \n     return true;\n   };\n@@ -204,7 +210,7 @@ function setupSignalHandlers() {\n       const err = wrap.start(signum);\n       if (err) {\n         wrap.close();\n-        throw errors.errnoException(err, 'uv_signal_start');\n+        throw errnoException(err, 'uv_signal_start');\n       }\n \n       signalWraps[type] = wrap;\n@@ -256,11 +262,10 @@ function setupUncaughtExceptionCapture(exceptionHandlerState) {\n       return;\n     }\n     if (typeof fn !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'fn',\n-                                 ['Function', 'null']);\n+      throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'null']);\n     }\n     if (exceptionHandlerState.captureFn !== null) {\n-      throw new errors.Error('ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET');\n+      throw new ERR_UNCAUGHT_EXCEPTION_CAPTURE_ALREADY_SET();\n     }\n     exceptionHandlerState.captureFn = fn;\n     shouldAbortOnUncaughtToggle[0] = 0;"
        },
        {
            "sha": "39e5a6f8124c89189fdb0ebdcbc763724d7af1c9",
            "filename": "lib/internal/process/next_tick.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fnext_tick.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fnext_tick.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess%2Fnext_tick.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -17,7 +17,7 @@ function setupNextTick() {\n     symbols: { async_id_symbol, trigger_async_id_symbol }\n   } = require('internal/async_hooks');\n   const promises = require('internal/process/promises');\n-  const errors = require('internal/errors');\n+  const { ERR_INVALID_CALLBACK } = require('internal/errors').codes;\n   const { emitPromiseRejectionWarnings } = promises;\n \n   // tickInfo is used so that the C++ code in src/node.cc can\n@@ -146,7 +146,7 @@ function setupNextTick() {\n   // exit since the callback would not have a chance to be executed.\n   function nextTick(callback) {\n     if (typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n \n     if (process._exiting)\n       return;\n@@ -170,7 +170,7 @@ function setupNextTick() {\n   // about to exit since the callback would not have a chance to be executed.\n   function internalNextTick(triggerAsyncId, callback) {\n     if (typeof callback !== 'function')\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     // CHECK(Number.isSafeInteger(triggerAsyncId) || triggerAsyncId === null)\n     // CHECK(triggerAsyncId > 0 || triggerAsyncId === null)\n "
        },
        {
            "sha": "29aee7d09bdab90392b4d5274cdb2b655c7c0239",
            "filename": "lib/internal/process/stdio.js",
            "status": "modified",
            "additions": 10,
            "deletions": 5,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fstdio.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fstdio.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess%2Fstdio.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,11 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_STDERR_CLOSE,\n+  ERR_STDOUT_CLOSE,\n+  ERR_UNKNOWN_STDIN_TYPE,\n+  ERR_UNKNOWN_STREAM_TYPE\n+} = require('internal/errors').codes;\n \n exports.setup = setupStdio;\n \n@@ -15,7 +20,7 @@ function setupStdio() {\n     stdout.destroySoon = stdout.destroy;\n     stdout._destroy = function(er, cb) {\n       // Avoid errors if we already emitted\n-      er = er || new errors.Error('ERR_STDOUT_CLOSE');\n+      er = er || new ERR_STDOUT_CLOSE();\n       cb(er);\n     };\n     if (stdout.isTTY) {\n@@ -30,7 +35,7 @@ function setupStdio() {\n     stderr.destroySoon = stderr.destroy;\n     stderr._destroy = function(er, cb) {\n       // Avoid errors if we already emitted\n-      er = er || new errors.Error('ERR_STDERR_CLOSE');\n+      er = er || new ERR_STDERR_CLOSE();\n       cb(er);\n     };\n     if (stderr.isTTY) {\n@@ -87,7 +92,7 @@ function setupStdio() {\n \n       default:\n         // Probably an error on in uv_guess_handle()\n-        throw new errors.Error('ERR_UNKNOWN_STDIN_TYPE');\n+        throw new ERR_UNKNOWN_STDIN_TYPE();\n     }\n \n     // For supporting legacy API we put the FD here.\n@@ -171,7 +176,7 @@ function createWritableStdioStream(fd) {\n \n     default:\n       // Probably an error on in uv_guess_handle()\n-      throw new errors.Error('ERR_UNKNOWN_STREAM_TYPE');\n+      throw new ERR_UNKNOWN_STREAM_TYPE();\n   }\n \n   // For supporting legacy API we put the FD here."
        },
        {
            "sha": "df2d0c103b00926a43609fdb708218947af55314",
            "filename": "lib/internal/process/warning.js",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fwarning.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fprocess%2Fwarning.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess%2Fwarning.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -2,7 +2,7 @@\n \n const config = process.binding('config');\n const prefix = `(${process.release.name}:${process.pid}) `;\n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n \n exports.setup = setupProcessWarnings;\n \n@@ -122,9 +122,9 @@ function setupProcessWarnings() {\n       code = undefined;\n     }\n     if (code !== undefined && typeof code !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'code', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('code', 'string');\n     if (type !== undefined && typeof type !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'type', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('type', 'string');\n     if (warning === undefined || typeof warning === 'string') {\n       warning = new Error(warning);\n       warning.name = String(type || 'Warning');\n@@ -133,8 +133,7 @@ function setupProcessWarnings() {\n       Error.captureStackTrace(warning, ctor || process.emitWarning);\n     }\n     if (!(warning instanceof Error)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'warning', ['Error', 'string']);\n+      throw new ERR_INVALID_ARG_TYPE('warning', ['Error', 'string']);\n     }\n     if (warning.name === 'DeprecationWarning') {\n       if (process.noDeprecation)"
        },
        {
            "sha": "55077af1305121f148fd88146328bc2f6221d47f",
            "filename": "lib/internal/socket_list.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fsocket_list.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fsocket_list.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fsocket_list.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const { ERR_CHILD_CLOSED_BEFORE_REPLY } = require('internal/errors').codes;\n \n const EventEmitter = require('events');\n \n@@ -21,7 +21,7 @@ class SocketListSend extends EventEmitter {\n \n     function onclose() {\n       self.child.removeListener('internalMessage', onreply);\n-      callback(new errors.Error('ERR_CHILD_CLOSED_BEFORE_REPLY'));\n+      callback(new ERR_CHILD_CLOSED_BEFORE_REPLY());\n     }\n \n     function onreply(msg) {"
        },
        {
            "sha": "4a1b49d25cadba4658e4984f0d17402f90c11ec6",
            "filename": "lib/internal/streams/state.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fstreams%2Fstate.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fstreams%2Fstate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fstreams%2Fstate.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,18 +1,18 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const { ERR_INVALID_OPT_VALUE } = require('internal/errors').codes;\n \n function getHighWaterMark(state, options, duplexKey, isDuplex) {\n   let hwm = options.highWaterMark;\n   if (hwm != null) {\n     if (typeof hwm !== 'number' || !(hwm >= 0))\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'highWaterMark', hwm);\n+      throw new ERR_INVALID_OPT_VALUE('highWaterMark', hwm);\n     return Math.floor(hwm);\n   } else if (isDuplex) {\n     hwm = options[duplexKey];\n     if (hwm != null) {\n       if (typeof hwm !== 'number' || !(hwm >= 0))\n-        throw new errors.TypeError('ERR_INVALID_OPT_VALUE', duplexKey, hwm);\n+        throw new ERR_INVALID_OPT_VALUE(duplexKey, hwm);\n       return Math.floor(hwm);\n     }\n   }"
        },
        {
            "sha": "26fc3f941bb5f93722e2e06e3e58b671eccfd29e",
            "filename": "lib/internal/timers.js",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ftimers.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Ftimers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ftimers.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -10,7 +10,11 @@ const {\n const async_id_symbol = Symbol('asyncId');\n const trigger_async_id_symbol = Symbol('triggerId');\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n \n // Timeout values > TIMEOUT_MAX are set to 1.\n const TIMEOUT_MAX = 2 ** 31 - 1;\n@@ -94,7 +98,7 @@ Timeout.prototype[refreshFnSymbol] = function refresh() {\n function setUnrefTimeout(callback, after, arg1, arg2, arg3) {\n   // Type checking identical to setTimeout()\n   if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   let i, args;\n@@ -127,13 +131,11 @@ function setUnrefTimeout(callback, after, arg1, arg2, arg3) {\n // Type checking used by timers.enroll() and Socket#setTimeout()\n function validateTimerDuration(msecs) {\n   if (typeof msecs !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'msecs',\n-                               'number', msecs);\n+    throw new ERR_INVALID_ARG_TYPE('msecs', 'number', msecs);\n   }\n \n   if (msecs < 0 || !isFinite(msecs)) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'msecs',\n-                                'a non-negative finite number', msecs);\n+    throw new ERR_OUT_OF_RANGE('msecs', 'a non-negative finite number', msecs);\n   }\n \n   // Ensure that msecs fits into signed int32"
        },
        {
            "sha": "842d26c4aac9b6c04f16c956439ca4d8ab9d1529",
            "filename": "lib/internal/url.js",
            "status": "modified",
            "additions": 50,
            "deletions": 41,
            "changes": 91,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Furl.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Furl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Furl.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -7,7 +7,18 @@ const {\n } = require('internal/querystring');\n \n const { getConstructorOf, removeColors } = require('internal/util');\n-const errors = require('internal/errors');\n+const {\n+  ERR_ARG_NOT_ITERABLE,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_INVALID_FILE_URL_HOST,\n+  ERR_INVALID_FILE_URL_PATH,\n+  ERR_INVALID_THIS,\n+  ERR_INVALID_TUPLE,\n+  ERR_INVALID_URL,\n+  ERR_INVALID_URL_SCHEME,\n+  ERR_MISSING_ARGS\n+} = require('internal/errors').codes;\n const querystring = require('querystring');\n \n const { platform } = process;\n@@ -107,7 +118,7 @@ class URLSearchParams {\n         this[searchParams] = childParams.slice();\n       } else if (method !== null && method !== undefined) {\n         if (typeof method !== 'function') {\n-          throw new errors.TypeError('ERR_ARG_NOT_ITERABLE', 'Query pairs');\n+          throw new ERR_ARG_NOT_ITERABLE('Query pairs');\n         }\n \n         // sequence<sequence<USVString>>\n@@ -117,8 +128,7 @@ class URLSearchParams {\n           if ((typeof pair !== 'object' && typeof pair !== 'function') ||\n               pair === null ||\n               typeof pair[Symbol.iterator] !== 'function') {\n-            throw new errors.TypeError('ERR_INVALID_TUPLE', 'Each query pair',\n-                                       '[name, value]');\n+            throw new ERR_INVALID_TUPLE('Each query pair', '[name, value]');\n           }\n           const convertedPair = [];\n           for (const element of pair)\n@@ -129,8 +139,7 @@ class URLSearchParams {\n         this[searchParams] = [];\n         for (const pair of pairs) {\n           if (pair.length !== 2) {\n-            throw new errors.TypeError('ERR_INVALID_TUPLE', 'Each query pair',\n-                                       '[name, value]');\n+            throw new ERR_INVALID_TUPLE('Each query pair', '[name, value]');\n           }\n           this[searchParams].push(pair[0], pair[1]);\n         }\n@@ -162,7 +171,7 @@ class URLSearchParams {\n \n   [util.inspect.custom](recurseTimes, ctx) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n \n     if (typeof recurseTimes === 'number' && recurseTimes < 0)\n@@ -214,7 +223,7 @@ function onParseComplete(flags, protocol, username, password,\n }\n \n function onParseError(flags, input) {\n-  const error = new errors.TypeError('ERR_INVALID_URL', input);\n+  const error = new ERR_INVALID_URL(input);\n   error.input = input;\n   throw error;\n }\n@@ -328,7 +337,7 @@ class URL {\n   [util.inspect.custom](depth, opts) {\n     if (this == null ||\n         Object.getPrototypeOf(this[context]) !== URLContext.prototype) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URL');\n+      throw new ERR_INVALID_THIS('URL');\n     }\n \n     if (typeof depth === 'number' && depth < 0)\n@@ -370,7 +379,7 @@ Object.defineProperties(URL.prototype, {\n     // eslint-disable-next-line func-name-matching\n     value: function format(options) {\n       if (options && typeof options !== 'object')\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object');\n+        throw new ERR_INVALID_ARG_TYPE('options', 'Object');\n       options = util._extend({\n         fragment: true,\n         unicode: false,\n@@ -943,10 +952,10 @@ function merge(out, start, mid, end, lBuffer, rBuffer) {\n defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n   append(name, value) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 2) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name', 'value');\n+      throw new ERR_MISSING_ARGS('name', 'value');\n     }\n \n     name = toUSVString(name);\n@@ -957,10 +966,10 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n \n   delete(name) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 1) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name');\n+      throw new ERR_MISSING_ARGS('name');\n     }\n \n     const list = this[searchParams];\n@@ -978,10 +987,10 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n \n   get(name) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 1) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name');\n+      throw new ERR_MISSING_ARGS('name');\n     }\n \n     const list = this[searchParams];\n@@ -996,10 +1005,10 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n \n   getAll(name) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 1) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name');\n+      throw new ERR_MISSING_ARGS('name');\n     }\n \n     const list = this[searchParams];\n@@ -1015,10 +1024,10 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n \n   has(name) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 1) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name');\n+      throw new ERR_MISSING_ARGS('name');\n     }\n \n     const list = this[searchParams];\n@@ -1033,10 +1042,10 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n \n   set(name, value) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (arguments.length < 2) {\n-      throw new errors.TypeError('ERR_MISSING_ARGS', 'name', 'value');\n+      throw new ERR_MISSING_ARGS('name', 'value');\n     }\n \n     const list = this[searchParams];\n@@ -1120,18 +1129,18 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n   // must be set to `entries`.\n   entries() {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n \n     return createSearchParamsIterator(this, 'key+value');\n   },\n \n   forEach(callback, thisArg = undefined) {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n     if (typeof callback !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     }\n \n     let list = this[searchParams];\n@@ -1150,15 +1159,15 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n   // https://heycam.github.io/webidl/#es-iterable\n   keys() {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n \n     return createSearchParamsIterator(this, 'key');\n   },\n \n   values() {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n \n     return createSearchParamsIterator(this, 'value');\n@@ -1168,7 +1177,7 @@ defineIDLClass(URLSearchParams.prototype, 'URLSearchParams', {\n   // https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\n   toString() {\n     if (!this || !this[searchParams] || this[searchParams][searchParams]) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParams');\n+      throw new ERR_INVALID_THIS('URLSearchParams');\n     }\n \n     return serializeParams(this[searchParams]);\n@@ -1200,7 +1209,7 @@ defineIDLClass(URLSearchParamsIteratorPrototype, 'URLSearchParams Iterator', {\n   next() {\n     if (!this ||\n         Object.getPrototypeOf(this) !== URLSearchParamsIteratorPrototype) {\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParamsIterator');\n+      throw new ERR_INVALID_THIS('URLSearchParamsIterator');\n     }\n \n     const {\n@@ -1237,7 +1246,7 @@ defineIDLClass(URLSearchParamsIteratorPrototype, 'URLSearchParams Iterator', {\n   },\n   [util.inspect.custom](recurseTimes, ctx) {\n     if (this == null || this[context] == null || this[context].target == null)\n-      throw new errors.TypeError('ERR_INVALID_THIS', 'URLSearchParamsIterator');\n+      throw new ERR_INVALID_THIS('URLSearchParamsIterator');\n \n     if (typeof recurseTimes === 'number' && recurseTimes < 0)\n       return ctx.stylize('[Object]', 'special');\n@@ -1276,15 +1285,15 @@ defineIDLClass(URLSearchParamsIteratorPrototype, 'URLSearchParams Iterator', {\n \n function domainToASCII(domain) {\n   if (arguments.length < 1)\n-    throw new errors.TypeError('ERR_MISSING_ARGS', 'domain');\n+    throw new ERR_MISSING_ARGS('domain');\n \n   // toUSVString is not needed.\n   return _domainToASCII(`${domain}`);\n }\n \n function domainToUnicode(domain) {\n   if (arguments.length < 1)\n-    throw new errors.TypeError('ERR_MISSING_ARGS', 'domain');\n+    throw new ERR_MISSING_ARGS('domain');\n \n   // toUSVString is not needed.\n   return _domainToUnicode(`${domain}`);\n@@ -1320,9 +1329,9 @@ function getPathFromURLWin32(url) {\n       var third = pathname.codePointAt(n + 2) | 0x20;\n       if ((pathname[n + 1] === '2' && third === 102) || // 2f 2F /\n           (pathname[n + 1] === '5' && third === 99)) {  // 5c 5C \\\n-        throw new errors.TypeError(\n-          'ERR_INVALID_FILE_URL_PATH',\n-          'must not include encoded \\\\ or / characters');\n+        throw new ERR_INVALID_FILE_URL_PATH(\n+          'must not include encoded \\\\ or / characters'\n+        );\n       }\n     }\n   }\n@@ -1341,24 +1350,24 @@ function getPathFromURLWin32(url) {\n     var sep = pathname[2];\n     if (letter < 97 || letter > 122 ||   // a..z A..Z\n         (sep !== ':')) {\n-      throw new errors.TypeError('ERR_INVALID_FILE_URL_PATH',\n-                                 'must be absolute');\n+      throw new ERR_INVALID_FILE_URL_PATH('must be absolute');\n     }\n     return pathname.slice(1);\n   }\n }\n \n function getPathFromURLPosix(url) {\n   if (url.hostname !== '') {\n-    throw new errors.TypeError('ERR_INVALID_FILE_URL_HOST', platform);\n+    throw new ERR_INVALID_FILE_URL_HOST(platform);\n   }\n   var pathname = url.pathname;\n   for (var n = 0; n < pathname.length; n++) {\n     if (pathname[n] === '%') {\n       var third = pathname.codePointAt(n + 2) | 0x20;\n       if (pathname[n + 1] === '2' && third === 102) {\n-        throw new errors.TypeError('ERR_INVALID_FILE_URL_PATH',\n-                                   'must not include encoded / characters');\n+        throw new ERR_INVALID_FILE_URL_PATH(\n+          'must not include encoded / characters'\n+        );\n       }\n     }\n   }\n@@ -1371,7 +1380,7 @@ function getPathFromURL(path) {\n     return path;\n   }\n   if (path.protocol !== 'file:')\n-    throw new errors.TypeError('ERR_INVALID_URL_SCHEME', 'file');\n+    throw new ERR_INVALID_URL_SCHEME('file');\n   return isWindows ? getPathFromURLWin32(path) : getPathFromURLPosix(path);\n }\n "
        },
        {
            "sha": "d044f32ca5f685d60a49a298f3d8b563a7b3c998",
            "filename": "lib/internal/util.js",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -1,6 +1,10 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_NO_CRYPTO,\n+  ERR_UNKNOWN_SIGNAL\n+} = require('internal/errors').codes;\n const { signals } = process.binding('constants').os;\n \n const {\n@@ -45,7 +49,7 @@ function deprecate(fn, msg, code) {\n   }\n \n   if (code !== undefined && typeof code !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'code', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('code', 'string');\n \n   let warned = false;\n   function deprecated(...args) {\n@@ -93,7 +97,7 @@ function decorateErrorStack(err) {\n \n function assertCrypto() {\n   if (noCrypto)\n-    throw new errors.Error('ERR_NO_CRYPTO');\n+    throw new ERR_NO_CRYPTO();\n }\n \n // Return undefined if there is no match.\n@@ -225,7 +229,7 @@ function convertToValidSignal(signal) {\n     if (signalName) return signalName;\n   }\n \n-  throw new errors.TypeError('ERR_UNKNOWN_SIGNAL', signal);\n+  throw new ERR_UNKNOWN_SIGNAL(signal);\n }\n \n function getConstructorOf(obj) {\n@@ -290,15 +294,12 @@ const kCustomPromisifyArgsSymbol = Symbol('customPromisifyArgs');\n \n function promisify(original) {\n   if (typeof original !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'original', 'Function');\n+    throw new ERR_INVALID_ARG_TYPE('original', 'Function');\n \n   if (original[kCustomPromisifiedSymbol]) {\n     const fn = original[kCustomPromisifiedSymbol];\n     if (typeof fn !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'util.promisify.custom',\n-                                 'Function',\n-                                 fn);\n+      throw new ERR_INVALID_ARG_TYPE('util.promisify.custom', 'Function', fn);\n     }\n     Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n       value: fn, enumerable: false, writable: false, configurable: true"
        },
        {
            "sha": "6d8f7f76d8354bf169d291314c52216e8d5efcb5",
            "filename": "lib/internal/vm/Module.js",
            "status": "modified",
            "additions": 28,
            "deletions": 25,
            "changes": 53,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fvm%2FModule.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fvm%2FModule.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fvm%2FModule.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -4,7 +4,15 @@ const { internalBinding } = require('internal/bootstrap_loaders');\n const { emitExperimentalWarning } = require('internal/util');\n const { URL } = require('internal/url');\n const { kParsingContext, isContext } = process.binding('contextify');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_VM_MODULE_ALREADY_LINKED,\n+  ERR_VM_MODULE_DIFFERENT_CONTEXT,\n+  ERR_VM_MODULE_LINKING_ERRORED,\n+  ERR_VM_MODULE_NOT_LINKED,\n+  ERR_VM_MODULE_NOT_MODULE,\n+  ERR_VM_MODULE_STATUS\n+} = require('internal/errors').codes;\n const {\n   getConstructorOf,\n   customInspectSymbol,\n@@ -41,27 +49,23 @@ class Module {\n     emitExperimentalWarning('vm.Module');\n \n     if (typeof src !== 'string')\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE', 'src', 'string', src);\n+      throw new ERR_INVALID_ARG_TYPE('src', 'string', src);\n     if (typeof options !== 'object' || options === null)\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE', 'options', 'object', options);\n+      throw new ERR_INVALID_ARG_TYPE('options', 'object', options);\n \n     let context;\n     if (options.context !== undefined) {\n       if (isContext(options.context)) {\n         context = options.context;\n       } else {\n-        throw new errors.TypeError(\n-          'ERR_INVALID_ARG_TYPE', 'options.context', 'vm.Context');\n+        throw new ERR_INVALID_ARG_TYPE('options.context', 'vm.Context');\n       }\n     }\n \n     let url = options.url;\n     if (url !== undefined) {\n       if (typeof url !== 'string') {\n-        throw new errors.TypeError(\n-          'ERR_INVALID_ARG_TYPE', 'options.url', 'string', url);\n+        throw new ERR_INVALID_ARG_TYPE('options.url', 'string', url);\n       }\n       url = new URL(url).href;\n     } else if (context === undefined) {\n@@ -101,8 +105,9 @@ class Module {\n   get namespace() {\n     const wrap = wrapMap.get(this);\n     if (wrap.getStatus() < kInstantiated)\n-      throw new errors.Error('ERR_VM_MODULE_STATUS',\n-                             'must not be uninstantiated or instantiating');\n+      throw new ERR_VM_MODULE_STATUS(\n+        'must not be uninstantiated or instantiating'\n+      );\n     return wrap.namespace();\n   }\n \n@@ -120,31 +125,30 @@ class Module {\n   get error() {\n     const wrap = wrapMap.get(this);\n     if (wrap.getStatus() !== kErrored)\n-      throw new errors.Error('ERR_VM_MODULE_STATUS', 'must be errored');\n+      throw new ERR_VM_MODULE_STATUS('must be errored');\n     return wrap.getError();\n   }\n \n   async link(linker) {\n     if (typeof linker !== 'function')\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE', 'linker', 'function', linker);\n+      throw new ERR_INVALID_ARG_TYPE('linker', 'function', linker);\n     if (linkingStatusMap.get(this) !== 'unlinked')\n-      throw new errors.Error('ERR_VM_MODULE_ALREADY_LINKED');\n+      throw new ERR_VM_MODULE_ALREADY_LINKED();\n     const wrap = wrapMap.get(this);\n     if (wrap.getStatus() !== kUninstantiated)\n-      throw new errors.Error('ERR_VM_MODULE_STATUS', 'must be uninstantiated');\n+      throw new ERR_VM_MODULE_STATUS('must be uninstantiated');\n \n     linkingStatusMap.set(this, 'linking');\n \n     const promises = wrap.link(async (specifier) => {\n       const m = await linker(specifier, this);\n       if (!m || !wrapMap.has(m))\n-        throw new errors.Error('ERR_VM_MODULE_NOT_MODULE');\n+        throw new ERR_VM_MODULE_NOT_MODULE();\n       if (m.context !== this.context)\n-        throw new errors.Error('ERR_VM_MODULE_DIFFERENT_CONTEXT');\n+        throw new ERR_VM_MODULE_DIFFERENT_CONTEXT();\n       const childLinkingStatus = linkingStatusMap.get(m);\n       if (childLinkingStatus === 'errored')\n-        throw new errors.Error('ERR_VM_MODULE_LINKING_ERRORED');\n+        throw new ERR_VM_MODULE_LINKING_ERRORED();\n       if (childLinkingStatus === 'unlinked')\n         await m.link(linker);\n       return wrapMap.get(m);\n@@ -164,10 +168,9 @@ class Module {\n     const wrap = wrapMap.get(this);\n     const status = wrap.getStatus();\n     if (status === kInstantiating || status === kEvaluating)\n-      throw new errors.Error(\n-        'ERR_VM_MODULE_STATUS', 'must not be instantiating or evaluating');\n+      throw new ERR_VM_MODULE_STATUS('must not be instantiating or evaluating');\n     if (linkingStatusMap.get(this) !== 'linked')\n-      throw new errors.Error('ERR_VM_MODULE_NOT_LINKED');\n+      throw new ERR_VM_MODULE_NOT_LINKED();\n     wrap.instantiate();\n   }\n \n@@ -177,9 +180,9 @@ class Module {\n     if (status !== kInstantiated &&\n         status !== kEvaluated &&\n         status !== kErrored) {\n-      throw new errors.Error(\n-        'ERR_VM_MODULE_STATUS',\n-        'must be one of instantiated, evaluated, and errored');\n+      throw new ERR_VM_MODULE_STATUS(\n+        'must be one of instantiated, evaluated, and errored'\n+      );\n     }\n     const result = wrap.evaluate(options);\n     return { result, __proto__: null };"
        },
        {
            "sha": "9a7e9cd48ab3e8ff9d4af8eac6734daa6ce6a9fd",
            "filename": "lib/internal/wrap_js_stream.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fwrap_js_stream.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/lib%2Finternal%2Fwrap_js_stream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fwrap_js_stream.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -6,7 +6,7 @@ const { Socket } = require('net');\n const { JSStream } = process.binding('js_stream');\n const uv = process.binding('uv');\n const debug = util.debuglog('stream_wrap');\n-const errors = require('internal/errors');\n+const { ERR_STREAM_WRAP } = require('internal/errors').codes;\n \n const kCurrentWriteRequest = Symbol('kCurrentWriteRequest');\n const kCurrentShutdownRequest = Symbol('kCurrentShutdownRequest');\n@@ -53,7 +53,7 @@ class JSStreamWrap extends Socket {\n         stream.pause();\n         stream.removeListener('data', ondata);\n \n-        this.emit('error', new errors.Error('ERR_STREAM_WRAP'));\n+        this.emit('error', new ERR_STREAM_WRAP());\n         return;\n       }\n "
        },
        {
            "sha": "4a85ea93253a0cf2748a554f68177d9f539e6b4f",
            "filename": "test/es-module/test-esm-loader-search.js",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fes-module%2Ftest-esm-loader-search.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fes-module%2Ftest-esm-loader-search.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fes-module%2Ftest-esm-loader-search.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -6,13 +6,12 @@\n const common = require('../common');\n \n const { search } = require('internal/loader/DefaultResolve');\n-const errors = require('internal/errors');\n \n common.expectsError(\n   () => search('target', undefined),\n   {\n     code: 'ERR_MISSING_MODULE',\n-    type: errors.Error,\n+    type: Error,\n     message: 'Cannot find module target'\n   }\n );"
        },
        {
            "sha": "c409e6f48843535b90da9a21ad435c604189bc2a",
            "filename": "test/parallel/test-fs-null-bytes.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fparallel%2Ftest-fs-null-bytes.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fparallel%2Ftest-fs-null-bytes.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-null-bytes.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -36,7 +36,7 @@ function check(async, sync) {\n       },\n       {\n         code: 'ERR_INVALID_ARG_VALUE',\n-        type: Error,\n+        type: TypeError,\n       });\n   }\n \n@@ -47,7 +47,7 @@ function check(async, sync) {\n       },\n       {\n         code: 'ERR_INVALID_ARG_VALUE',\n-        type: Error\n+        type: TypeError\n       });\n   }\n }"
        },
        {
            "sha": "159fc0cc1b31eac5ddd5d2651850bcfb9f8ac08f",
            "filename": "test/parallel/test-fs-whatwg-url.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fparallel%2Ftest-fs-whatwg-url.js",
            "raw_url": "https://github.com/nodejs/node/raw/1d2fd8b65bacaf4401450edc8ed529106cbcfc67/test%2Fparallel%2Ftest-fs-whatwg-url.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-whatwg-url.js?ref=1d2fd8b65bacaf4401450edc8ed529106cbcfc67",
            "patch": "@@ -61,7 +61,7 @@ if (common.isWindows) {\n     },\n     {\n       code: 'ERR_INVALID_ARG_VALUE',\n-      type: Error,\n+      type: TypeError,\n       message: 'The argument \\'path\\' must be a string or Uint8Array without ' +\n                'null bytes. Received \\'c:/tmp/\\\\u0000test\\''\n     }\n@@ -95,7 +95,7 @@ if (common.isWindows) {\n     },\n     {\n       code: 'ERR_INVALID_ARG_VALUE',\n-      type: Error,\n+      type: TypeError,\n       message: 'The argument \\'path\\' must be a string or Uint8Array without ' +\n                'null bytes. Received \\'/tmp/\\\\u0000test\\''\n     }"
        }
    ],
    "stats": {
        "total": 1376,
        "additions": 761,
        "deletions": 615
    }
}