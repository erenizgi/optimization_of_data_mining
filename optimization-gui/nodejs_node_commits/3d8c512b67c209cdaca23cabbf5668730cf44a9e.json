{
    "author": "M1chaelChen",
    "message": "test: refactor functions to es6\n\nPR-URL: https://github.com/nodejs/node/pull/23510\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "3d8c512b67c209cdaca23cabbf5668730cf44a9e",
    "files": [
        {
            "sha": "b33acccd411a0a58117a499565d6704a6bb48799",
            "filename": "test/parallel/test-cluster-setup-master-multiple.js",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/3d8c512b67c209cdaca23cabbf5668730cf44a9e/test%2Fparallel%2Ftest-cluster-setup-master-multiple.js",
            "raw_url": "https://github.com/nodejs/node/raw/3d8c512b67c209cdaca23cabbf5668730cf44a9e/test%2Fparallel%2Ftest-cluster-setup-master-multiple.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-cluster-setup-master-multiple.js?ref=3d8c512b67c209cdaca23cabbf5668730cf44a9e",
            "patch": "@@ -30,14 +30,12 @@ assert(cluster.isMaster);\n // makes that unnecessary. This is to make the test less fragile if the\n // implementation ever changes such that cluster.settings is mutated instead of\n // replaced.\n-function cheapClone(obj) {\n-  return JSON.parse(JSON.stringify(obj));\n-}\n+const cheapClone = (obj) => JSON.parse(JSON.stringify(obj));\n \n const configs = [];\n \n // Capture changes\n-cluster.on('setup', function() {\n+cluster.on('setup', () => {\n   console.log('\"setup\" emitted', cluster.settings);\n   configs.push(cheapClone(cluster.settings));\n });\n@@ -48,7 +46,7 @@ const execs = [\n   'node-next-3',\n ];\n \n-process.on('exit', function assertTests() {\n+process.on('exit', () => {\n   // Tests that \"setup\" is emitted for every call to setupMaster\n   assert.strictEqual(configs.length, execs.length);\n \n@@ -58,14 +56,14 @@ process.on('exit', function assertTests() {\n });\n \n // Make changes to cluster settings\n-execs.forEach(function(v, i) {\n-  setTimeout(function() {\n+execs.forEach((v, i) => {\n+  setTimeout(() => {\n     cluster.setupMaster({ exec: v });\n   }, i * 100);\n });\n \n // cluster emits 'setup' asynchronously, so we must stay alive long\n // enough for that to happen\n-setTimeout(function() {\n+setTimeout(() => {\n   console.log('cluster setup complete');\n }, (execs.length + 1) * 100);"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 6,
        "deletions": 8
    }
}