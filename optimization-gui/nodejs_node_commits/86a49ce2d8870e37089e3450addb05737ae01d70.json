{
    "author": "Trott",
    "message": "test: move client renegotiation tests to parallel\n\n* Move client renegotiation limit tests from pummel to parallel.\n* Rename tests to more accurately reflect what they do.\n* Refactor to use  arrow functions for anonymouse callbacks and to be\n  consistent about trailing commas.\n\nPR-URL: https://github.com/nodejs/node/pull/25757\nReviewed-By: Beth Griggs <Bethany.Griggs@uk.ibm.com>\nReviewed-By: Sam Roberts <vieuxtech@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "86a49ce2d8870e37089e3450addb05737ae01d70",
    "files": [
        {
            "sha": "1fccc7bb5d16293eb17416598b40e199575054c2",
            "filename": "test/parallel/test-https-client-renegotiation-limit.js",
            "status": "renamed",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/86a49ce2d8870e37089e3450addb05737ae01d70/test%2Fparallel%2Ftest-https-client-renegotiation-limit.js",
            "raw_url": "https://github.com/nodejs/node/raw/86a49ce2d8870e37089e3450addb05737ae01d70/test%2Fparallel%2Ftest-https-client-renegotiation-limit.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-https-client-renegotiation-limit.js?ref=86a49ce2d8870e37089e3450addb05737ae01d70",
            "patch": "@@ -48,20 +48,20 @@ const LIMITS = [0, 1, 2, 3, 5, 10, 16];\n function test(next) {\n   const options = {\n     cert: fixtures.readSync('test_cert.pem'),\n-    key: fixtures.readSync('test_key.pem')\n+    key: fixtures.readSync('test_key.pem'),\n   };\n \n-  const server = https.createServer(options, function(req, res) {\n+  const server = https.createServer(options, (req, res) => {\n     const conn = req.connection;\n-    conn.on('error', function(err) {\n+    conn.on('error', (err) => {\n       console.error(`Caught exception: ${err}`);\n       assert(/TLS session renegotiation attack/.test(err));\n       conn.destroy();\n     });\n     res.end('ok');\n   });\n \n-  server.listen(0, function() {\n+  server.listen(0, () => {\n     const agent = https.Agent({\n       keepAlive: true,\n     });\n@@ -71,22 +71,22 @@ function test(next) {\n \n     const options = {\n       rejectUnauthorized: false,\n-      agent\n+      agent,\n     };\n \n     const { port } = server.address();\n \n     https.get(`https://localhost:${port}/`, options, (res) => {\n       client = res.socket;\n \n-      client.on('close', function(hadErr) {\n+      client.on('close', (hadErr) => {\n         assert.strictEqual(hadErr, false);\n         assert.strictEqual(renegs, tls.CLIENT_RENEG_LIMIT + 1);\n         server.close();\n         process.nextTick(next);\n       });\n \n-      client.on('error', function(err) {\n+      client.on('error', (err) => {\n         console.log('CLIENT ERR', err);\n         throw err;\n       });",
            "previous_filename": "test/pummel/test-https-ci-reneg-attack.js"
        },
        {
            "sha": "daae92eeb46d67d073a4f884bd49bd5f5a410f0d",
            "filename": "test/parallel/test-tls-client-renegotiation-limit.js",
            "status": "renamed",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/86a49ce2d8870e37089e3450addb05737ae01d70/test%2Fparallel%2Ftest-tls-client-renegotiation-limit.js",
            "raw_url": "https://github.com/nodejs/node/raw/86a49ce2d8870e37089e3450addb05737ae01d70/test%2Fparallel%2Ftest-tls-client-renegotiation-limit.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-client-renegotiation-limit.js?ref=86a49ce2d8870e37089e3450addb05737ae01d70",
            "patch": "@@ -47,40 +47,40 @@ const LIMITS = [0, 1, 2, 3, 5, 10, 16];\n function test(next) {\n   const options = {\n     cert: fixtures.readSync('test_cert.pem'),\n-    key: fixtures.readSync('test_key.pem')\n+    key: fixtures.readSync('test_key.pem'),\n   };\n \n-  const server = tls.createServer(options, function(conn) {\n-    conn.on('error', function(err) {\n+  const server = tls.createServer(options, (conn) => {\n+    conn.on('error', (err) => {\n       console.error(`Caught exception: ${err}`);\n       assert(/TLS session renegotiation attack/.test(err));\n       conn.destroy();\n     });\n     conn.pipe(conn);\n   });\n \n-  server.listen(0, function() {\n+  server.listen(0, () => {\n     const options = {\n       host: server.address().host,\n       port: server.address().port,\n-      rejectUnauthorized: false\n+      rejectUnauthorized: false,\n     };\n     const client = tls.connect(options, spam);\n \n     let renegs = 0;\n \n-    client.on('close', function() {\n+    client.on('close', () => {\n       assert.strictEqual(renegs, tls.CLIENT_RENEG_LIMIT + 1);\n       server.close();\n       process.nextTick(next);\n     });\n \n-    client.on('error', function(err) {\n+    client.on('error', (err) => {\n       console.log('CLIENT ERR', err);\n       throw err;\n     });\n \n-    client.on('close', function(hadErr) {\n+    client.on('close', (hadErr) => {\n       assert.strictEqual(hadErr, false);\n     });\n ",
            "previous_filename": "test/pummel/test-tls-ci-reneg-attack.js"
        }
    ],
    "stats": {
        "total": 30,
        "additions": 15,
        "deletions": 15
    }
}