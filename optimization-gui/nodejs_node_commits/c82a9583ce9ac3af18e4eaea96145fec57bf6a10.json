{
    "author": "Trott",
    "message": "test: use log only in test-child-process-fork-net\n\nWe are currently having issues with test-child-process-fork-net on\nWindows CI. Debugging is slightly hampered by the mix of `console.log()`\nand `console.error()` as our test runner does not interleave stdout and\nstderr, so the order of output is not preserved. Change the sole\ninstance of `console.error()` to `console.log()` to improve\ndebugability.\n\nWhile editing, I also took the opportunity to add capitalization and\npunctuation to comments (as that is a nit we see from time to time and\nthere is a potential ESLint rule to enforce the capitalization part).\n\nPR-URL: https://github.com/nodejs/node/pull/20873\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "c82a9583ce9ac3af18e4eaea96145fec57bf6a10",
    "files": [
        {
            "sha": "cfc8f564d2a03a8d407247fae534c5054a1f08b5",
            "filename": "test/parallel/test-child-process-fork-net.js",
            "status": "modified",
            "additions": 13,
            "deletions": 14,
            "changes": 27,
            "blob_url": "https://github.com/nodejs/node/blob/c82a9583ce9ac3af18e4eaea96145fec57bf6a10/test%2Fparallel%2Ftest-child-process-fork-net.js",
            "raw_url": "https://github.com/nodejs/node/raw/c82a9583ce9ac3af18e4eaea96145fec57bf6a10/test%2Fparallel%2Ftest-child-process-fork-net.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-child-process-fork-net.js?ref=c82a9583ce9ac3af18e4eaea96145fec57bf6a10",
            "patch": "@@ -25,7 +25,6 @@ const assert = require('assert');\n const fork = require('child_process').fork;\n const net = require('net');\n \n-// progress tracker\n function ProgressTracker(missing, callback) {\n   this.missing = missing;\n   this.callback = callback;\n@@ -54,7 +53,7 @@ if (process.argv[2] === 'child') {\n       socket.destroy();\n     });\n \n-    // start making connection from parent\n+    // Start making connection from parent.\n     console.log('CHILD: server listening');\n     process.send({ what: 'listening' });\n   });\n@@ -86,10 +85,10 @@ if (process.argv[2] === 'child') {\n     assert.strictEqual(code, 0, message);\n   }));\n \n-  // send net.Server to child and test by connecting\n+  // Send net.Server to child and test by connecting.\n   function testServer(callback) {\n \n-    // destroy server execute callback when done\n+    // Destroy server execute callback when done.\n     const progress = new ProgressTracker(2, function() {\n       server.on('close', function() {\n         console.log('PARENT: server closed');\n@@ -98,11 +97,11 @@ if (process.argv[2] === 'child') {\n       server.close();\n     });\n \n-    // we expect 4 connections and close events\n+    // We expect 4 connections and close events.\n     const connections = new ProgressTracker(4, progress.done.bind(progress));\n     const closed = new ProgressTracker(4, progress.done.bind(progress));\n \n-    // create server and send it to child\n+    // Create server and send it to child.\n     const server = net.createServer();\n     server.on('connection', function(socket) {\n       console.log('PARENT: got connection');\n@@ -115,11 +114,11 @@ if (process.argv[2] === 'child') {\n     });\n     server.listen(0);\n \n-    // handle client messages\n+    // Handle client messages.\n     function messageHandlers(msg) {\n \n       if (msg.what === 'listening') {\n-        // make connections\n+        // Make connections.\n         let socket;\n         for (let i = 0; i < 4; i++) {\n           socket = net.connect(server.address().port, function() {\n@@ -143,11 +142,11 @@ if (process.argv[2] === 'child') {\n     child.on('message', messageHandlers);\n   }\n \n-  // send net.Socket to child\n+  // Send net.Socket to child.\n   function testSocket(callback) {\n \n-    // create a new server and connect to it,\n-    // but the socket will be handled by the child\n+    // Create a new server and connect to it,\n+    // but the socket will be handled by the child.\n     const server = net.createServer();\n     server.on('connection', function(socket) {\n       socket.on('close', function() {\n@@ -159,14 +158,14 @@ if (process.argv[2] === 'child') {\n       console.log('PARENT: server closed');\n       callback();\n     });\n-    // don't listen on the same port, because SmartOS sometimes says\n+    // Don't listen on the same port, because SmartOS sometimes says\n     // that the server's fd is closed, but it still cannot listen\n     // on the same port again.\n     //\n     // An isolated test for this would be lovely, but for now, this\n     // will have to do.\n     server.listen(0, function() {\n-      console.error('testSocket, listening');\n+      console.log('testSocket, listening');\n       const connect = net.connect(server.address().port);\n       let store = '';\n       connect.on('data', function(chunk) {\n@@ -181,7 +180,7 @@ if (process.argv[2] === 'child') {\n     });\n   }\n \n-  // create server and send it to child\n+  // Create server and send it to child.\n   let serverSuccess = false;\n   let socketSuccess = false;\n   child.on('message', function onReady(msg) {"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 13,
        "deletions": 14
    }
}