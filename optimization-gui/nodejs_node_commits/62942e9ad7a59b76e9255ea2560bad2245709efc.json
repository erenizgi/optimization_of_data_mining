{
    "author": "Trott",
    "message": "lib: replace 'assert' with 'internal/assert' for many built-ins\n\nReplace large 'assert' module with tiny 'internal/assert' module for\nmany built-in uses.\n\nPR-URL: https://github.com/nodejs/node/pull/25956\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>",
    "sha": "62942e9ad7a59b76e9255ea2560bad2245709efc",
    "files": [
        {
            "sha": "b893a934fc740594fbb6a8f5ded3e3c11d43c455",
            "filename": "lib/_http_client.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_client.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_client.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_client.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -23,7 +23,7 @@\n \n const net = require('net');\n const url = require('url');\n-const assert = require('assert').ok;\n+const assert = require('internal/assert');\n const {\n   _checkIsHttpToken: checkIsHttpToken,\n   debug,"
        },
        {
            "sha": "eb889a6eff2106ec6b158eb1f6fa2d5ad83562bd",
            "filename": "lib/_http_outgoing.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_outgoing.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_outgoing.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_outgoing.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -21,7 +21,7 @@\n \n 'use strict';\n \n-const assert = require('assert').ok;\n+const assert = require('internal/assert');\n const Stream = require('stream');\n const util = require('util');\n const internalUtil = require('internal/util');"
        },
        {
            "sha": "8d39d468963be58b4a0ee23be26be6586c2383e3",
            "filename": "lib/_http_server.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_server.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_http_server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_server.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -23,7 +23,7 @@\n \n const util = require('util');\n const net = require('net');\n-const assert = require('assert').ok;\n+const assert = require('internal/assert');\n const {\n   parsers,\n   freeParser,"
        },
        {
            "sha": "182dab75843f8cc7183cd18eaab334c2b24ef5c9",
            "filename": "lib/_tls_wrap.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_tls_wrap.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2F_tls_wrap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_tls_wrap.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -23,7 +23,7 @@\n \n require('internal/util').assertCrypto();\n \n-const assert = require('assert');\n+const assert = require('internal/assert');\n const crypto = require('crypto');\n const net = require('net');\n const tls = require('tls');"
        },
        {
            "sha": "edbf396cf543d608662464ddd26c06bf294e602c",
            "filename": "lib/internal/child_process.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fchild_process.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -19,7 +19,7 @@ const EventEmitter = require('events');\n const net = require('net');\n const dgram = require('dgram');\n const util = require('util');\n-const assert = require('assert');\n+const assert = require('internal/assert');\n \n const { Process } = internalBinding('process_wrap');\n const {"
        },
        {
            "sha": "38d52948e56da3b1751f02efe8d23a0aec22e3d6",
            "filename": "lib/internal/cluster/child.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fchild.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fchild.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcluster%2Fchild.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -1,5 +1,5 @@\n 'use strict';\n-const assert = require('assert');\n+const assert = require('internal/assert');\n const path = require('path');\n const EventEmitter = require('events');\n const { owner_symbol } = require('internal/async_hooks').symbols;"
        },
        {
            "sha": "a0e194c63ef3c3dee934c8924e02d8be4da1ee4a",
            "filename": "lib/internal/cluster/master.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fmaster.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fmaster.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcluster%2Fmaster.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -1,5 +1,5 @@\n 'use strict';\n-const assert = require('assert');\n+const assert = require('internal/assert');\n const { fork } = require('child_process');\n const path = require('path');\n const EventEmitter = require('events');"
        },
        {
            "sha": "408657623b2e3b1390bcf39daa41787760022e8c",
            "filename": "lib/internal/cluster/shared_handle.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fshared_handle.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcluster%2Fshared_handle.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcluster%2Fshared_handle.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -1,5 +1,5 @@\n 'use strict';\n-const assert = require('assert');\n+const assert = require('internal/assert');\n const dgram = require('internal/dgram');\n const net = require('net');\n "
        },
        {
            "sha": "a2ede771ac3fa0f834b8ac8c2d66e85403fc9ca9",
            "filename": "lib/internal/crypto/cipher.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fcrypto%2Fcipher.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fcipher.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -34,7 +34,7 @@ const {\n   publicEncrypt: _publicEncrypt\n } = internalBinding('crypto');\n \n-const assert = require('assert');\n+const assert = require('internal/assert');\n const LazyTransform = require('internal/streams/lazy_transform');\n \n const { deprecate, normalizeEncoding } = require('internal/util');"
        },
        {
            "sha": "13a6194d0cb0160ed5f2cb521b2195851eed2fe4",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -208,7 +208,7 @@ function getMessage(key, args) {\n   const msg = messages.get(key);\n \n   if (util === undefined) util = require('util');\n-  if (assert === undefined) assert = require('assert');\n+  if (assert === undefined) assert = require('internal/assert');\n \n   if (typeof msg === 'function') {\n     assert("
        },
        {
            "sha": "32d660a594171cfc11000a3a6729fef583e81e47",
            "filename": "lib/internal/fs/watchers.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ffs%2Fwatchers.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ffs%2Fwatchers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ffs%2Fwatchers.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -19,7 +19,7 @@ const {\n const { toNamespacedPath } = require('path');\n const { validateUint32 } = require('internal/validators');\n const { toPathIfFileURL } = require('internal/url');\n-const assert = require('assert');\n+const assert = require('internal/assert');\n \n const kOldStatus = Symbol('kOldStatus');\n const kUseBigint = Symbol('kUseBigint');"
        },
        {
            "sha": "ae5958912ed05e1715f4c33de08af6467586b485",
            "filename": "lib/internal/http2/compat.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fhttp2%2Fcompat.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcompat.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -1,6 +1,6 @@\n 'use strict';\n \n-const assert = require('assert');\n+const assert = require('internal/assert');\n const Stream = require('stream');\n const Readable = Stream.Readable;\n const binding = internalBinding('http2');"
        },
        {
            "sha": "158dda2fdc04ee510faf06b3289855d4790c83ff",
            "filename": "lib/internal/modules/cjs/loader.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fcjs%2Floader.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -25,7 +25,7 @@ const { NativeModule } = require('internal/bootstrap/loaders');\n const { pathToFileURL } = require('internal/url');\n const util = require('util');\n const vm = require('vm');\n-const assert = require('assert').ok;\n+const assert = require('internal/assert');\n const fs = require('fs');\n const internalFS = require('internal/fs/utils');\n const path = require('path');"
        },
        {
            "sha": "016495096c3b33261681057bcf51567fcc892f8e",
            "filename": "lib/internal/modules/esm/module_job.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fmodules%2Fesm%2Fmodule_job.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -7,7 +7,7 @@ const {\n } = primordials;\n \n const { decorateErrorStack } = require('internal/util');\n-const assert = require('assert');\n+const assert = require('internal/assert');\n const resolvedPromise = SafePromise.resolve();\n \n function noop() {}"
        },
        {
            "sha": "0ce063f928974a5baf2bc91e811d33a36da95130",
            "filename": "lib/internal/process/main_thread_only.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fprocess%2Fmain_thread_only.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Fprocess%2Fmain_thread_only.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess%2Fmain_thread_only.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -153,7 +153,7 @@ function createSignalHandlers() {\n }\n \n function setupChildProcessIpcChannel() {\n-  const assert = require('assert').strict;\n+  const assert = require('internal/assert');\n \n   const fd = parseInt(process.env.NODE_CHANNEL_FD, 10);\n   assert(fd >= 0);"
        },
        {
            "sha": "52e00b9da5e136a6d1ab38ed04beb6a97a5a9890",
            "filename": "lib/internal/test/heap.js",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ftest%2Fheap.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Finternal%2Ftest%2Fheap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ftest%2Fheap.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -5,7 +5,7 @@ process.emitWarning(\n   'internal/test/heap');\n \n const { createHeapDump, buildEmbedderGraph } = internalBinding('heap_utils');\n-const assert = require('assert');\n+const assert = require('internal/assert');\n \n // This is not suitable for production code. It creates a full V8 heap dump,\n // parses it as JSON, and then creates complex objects from it, leading\n@@ -44,9 +44,10 @@ function createJSHeapDump() {\n     edgeIndex++;\n   }\n \n-  for (const node of nodes)\n-    assert.strictEqual(node.edge_count, node.outgoingEdges.length);\n-\n+  for (const node of nodes) {\n+    assert(node.edge_count === node.outgoingEdges.length,\n+           `${node.edge_count} !== ${node.outgoingEdges.length}`);\n+  }\n   return nodes;\n }\n "
        },
        {
            "sha": "2726e73272c73d53fabb4c0ceff9aa3afd8bd8a7",
            "filename": "lib/net.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Fnet.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Fnet.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fnet.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -33,7 +33,7 @@ const {\n   normalizedArgsSymbol,\n   makeSyncWrite\n } = require('internal/net');\n-const assert = require('assert');\n+const assert = require('internal/assert');\n const {\n   UV_EADDRINUSE,\n   UV_EINVAL"
        },
        {
            "sha": "b267fda4eab1d5a7b7824fb70a1713bf546827ea",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/62942e9ad7a59b76e9255ea2560bad2245709efc/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=62942e9ad7a59b76e9255ea2560bad2245709efc",
            "patch": "@@ -37,7 +37,7 @@ const {\n   }\n } = require('util');\n const binding = internalBinding('zlib');\n-const assert = require('assert').ok;\n+const assert = require('internal/assert');\n const {\n   Buffer,\n   kMaxLength"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 22,
        "deletions": 21
    }
}