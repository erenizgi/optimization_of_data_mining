{
    "author": "sam-github",
    "message": "src: const_cast is necessary for 1.1.1, not 0.9.7\n\nThe const_cast used to be necessary for SSL_get_app_data() in OpenSSL\n0.9.7, but node doesn't compile against OpenSSL versions that old.\nHowever, now it's needed for the recently introduced\nSSL_renegotiate_pending(), which is not const-correct as of 1.1.1a.\n\nPR-URL: https://github.com/nodejs/node/pull/25861\nReviewed-By: Fedor Indutny <fedor.indutny@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "cccc33b0b4b4ee719fedc5291934d490e50893c3",
    "files": [
        {
            "sha": "ff2f53f15c4ab53607a7071584eba19f9d9eba9d",
            "filename": "src/tls_wrap.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/cccc33b0b4b4ee719fedc5291934d490e50893c3/src%2Ftls_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/cccc33b0b4b4ee719fedc5291934d490e50893c3/src%2Ftls_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Ftls_wrap.cc?ref=cccc33b0b4b4ee719fedc5291934d490e50893c3",
            "patch": "@@ -210,10 +210,9 @@ void TLSWrap::SSLInfoCallback(const SSL* ssl_, int where, int ret) {\n   if (!(where & (SSL_CB_HANDSHAKE_START | SSL_CB_HANDSHAKE_DONE)))\n     return;\n \n-  // Be compatible with older versions of OpenSSL. SSL_get_app_data() wants\n-  // a non-const SSL* in OpenSSL <= 0.9.7e.\n+  // SSL_renegotiate_pending() should take `const SSL*`, but it does not.\n   SSL* ssl = const_cast<SSL*>(ssl_);\n-  TLSWrap* c = static_cast<TLSWrap*>(SSL_get_app_data(ssl));\n+  TLSWrap* c = static_cast<TLSWrap*>(SSL_get_app_data(ssl_));\n   Environment* env = c->env();\n   HandleScope handle_scope(env->isolate());\n   Context::Scope context_scope(env->context());"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 2,
        "deletions": 3
    }
}