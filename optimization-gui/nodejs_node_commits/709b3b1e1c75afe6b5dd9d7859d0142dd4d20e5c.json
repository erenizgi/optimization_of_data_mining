{
    "author": "addaleax",
    "message": "crypto: downgrade DEP0115 to `--pending-deprecation` only\n\nAliases are very cheap to maintain, so an unconditional runtime\ndeprecation that affects existing ecosystem code is not\na good idea. This commit turns the runtime deprecation into\na `--pending-deprecation` one.\n\nFixes: https://github.com/nodejs/node/issues/23013\n\nPR-URL: https://github.com/nodejs/node/pull/23017\nReviewed-By: Michaël Zasso <targos@protonmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Tobias Nießen <tniessen@tnie.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c",
    "files": [
        {
            "sha": "dc12efb9069f120764a01c0a67a656676ac7930f",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c",
            "patch": "@@ -2167,16 +2167,19 @@ of Node.js core and will be removed in the future.\n <!-- YAML\n changes:\n   - version: REPLACEME\n-    pr-url: https://github.com/nodejs/node/pull/22519\n-    description: Runtime deprecation.\n+    pr-url:\n+      - https://github.com/nodejs/node/pull/22519\n+      - https://github.com/nodejs/node/pull/23017\n+    description: Added documentation-only deprecation\n+                 with `--pending-deprecation` support.\n -->\n \n-Type: Runtime\n+Type: Documentation-only (supports [`--pending-deprecation`][])\n \n In recent versions of Node.js, there is no difference between\n [`crypto.randomBytes()`][] and `crypto.pseudoRandomBytes()`. The latter is\n deprecated along with the undocumented aliases `crypto.prng()` and\n-`crypto.rng()` in favor of [`crypto.randomBytes()`][] and will be removed in a\n+`crypto.rng()` in favor of [`crypto.randomBytes()`][] and may be removed in a\n future release.\n \n <a id=\"DEP0116\"></a>"
        },
        {
            "sha": "ed902272de4b4defa6d116a6b5d0aea9d5a49964",
            "filename": "lib/crypto.js",
            "status": "modified",
            "additions": 12,
            "deletions": 6,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/lib%2Fcrypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/lib%2Fcrypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fcrypto.js?ref=709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c",
            "patch": "@@ -36,6 +36,7 @@ const {\n   ERR_CRYPTO_FIPS_UNAVAILABLE\n } = require('internal/errors').codes;\n const constants = process.binding('constants').crypto;\n+const { pendingDeprecation } = process.binding('config');\n const {\n   fipsMode,\n   fipsForced\n@@ -243,19 +244,24 @@ Object.defineProperties(exports, {\n   },\n \n   // Aliases for randomBytes are deprecated.\n-  // The ecosystem needs those to exist for backwards compatibility with\n-  // ancient Node.js runtimes (0.10, 0.12).\n+  // The ecosystem needs those to exist for backwards compatibility.\n   prng: {\n     enumerable: false,\n-    value: deprecate(randomBytes, 'crypto.prng is deprecated.', 'DEP0115')\n+    value: pendingDeprecation ?\n+      deprecate(randomBytes, 'crypto.prng is deprecated.', 'DEP0115') :\n+      randomBytes\n   },\n   pseudoRandomBytes: {\n     enumerable: false,\n-    value: deprecate(randomBytes,\n-                     'crypto.pseudoRandomBytes is deprecated.', 'DEP0115')\n+    value: pendingDeprecation ?\n+      deprecate(randomBytes,\n+                'crypto.pseudoRandomBytes is deprecated.', 'DEP0115') :\n+      randomBytes\n   },\n   rng: {\n     enumerable: false,\n-    value: deprecate(randomBytes, 'crypto.rng is deprecated.', 'DEP0115')\n+    value: pendingDeprecation ?\n+      deprecate(randomBytes, 'crypto.rng is deprecated.', 'DEP0115') :\n+      randomBytes\n   }\n });"
        },
        {
            "sha": "df06134e4326f960f54651aeace2d5c256381e7b",
            "filename": "test/parallel/test-crypto-random.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/test%2Fparallel%2Ftest-crypto-random.js",
            "raw_url": "https://github.com/nodejs/node/raw/709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c/test%2Fparallel%2Ftest-crypto-random.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-random.js?ref=709b3b1e1c75afe6b5dd9d7859d0142dd4d20e5c",
            "patch": "@@ -19,6 +19,7 @@\n // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n // USE OR OTHER DEALINGS IN THE SOFTWARE.\n \n+// Flags: --pending-deprecation\n 'use strict';\n const common = require('../common');\n "
        }
    ],
    "stats": {
        "total": 30,
        "additions": 20,
        "deletions": 10
    }
}