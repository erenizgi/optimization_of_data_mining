{
    "author": "cjihrig",
    "message": "os: don't use getCheckedFunction() in userInfo()\n\nos.userInfo() takes an optional object as its first argument.\ngetCheckedFunction() adds a context object to the argument list\npassed to the binding layer. The context object has the potential\nto confuse the binding layer, particularly if an error occurs.\nThis commit makes userInfo() explicitly call into the binding\nlayer with two arguments.\n\nPR-URL: https://github.com/nodejs/node/pull/22609\nRefs: https://github.com/nodejs/node/pull/22599\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "e2b033ebc38d142217d40fbb39203d99bc9ff46a",
    "files": [
        {
            "sha": "ace39c8e120397e1dbd0e5a580278e6ce38ee3ce",
            "filename": "lib/os.js",
            "status": "modified",
            "additions": 15,
            "deletions": 3,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/e2b033ebc38d142217d40fbb39203d99bc9ff46a/lib%2Fos.js",
            "raw_url": "https://github.com/nodejs/node/raw/e2b033ebc38d142217d40fbb39203d99bc9ff46a/lib%2Fos.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fos.js?ref=e2b033ebc38d142217d40fbb39203d99bc9ff46a",
            "patch": "@@ -40,7 +40,7 @@ const {\n   getOSType: _getOSType,\n   getPriority: _getPriority,\n   getTotalMem,\n-  getUserInfo: _getUserInfo,\n+  getUserInfo,\n   getUptime,\n   isBigEndian,\n   setPriority: _setPriority\n@@ -64,7 +64,6 @@ const getHostname = getCheckedFunction(_getHostname);\n const getInterfaceAddresses = getCheckedFunction(_getInterfaceAddresses);\n const getOSRelease = getCheckedFunction(_getOSRelease);\n const getOSType = getCheckedFunction(_getOSType);\n-const getUserInfo = getCheckedFunction(_getUserInfo);\n \n getFreeMem[Symbol.toPrimitive] = () => getFreeMem();\n getHostname[Symbol.toPrimitive] = () => getHostname();\n@@ -239,6 +238,19 @@ function getPriority(pid) {\n   return priority;\n }\n \n+function userInfo(options) {\n+  if (typeof options !== 'object')\n+    options = null;\n+\n+  const ctx = {};\n+  const user = getUserInfo(options, ctx);\n+\n+  if (user === undefined)\n+    throw new ERR_SYSTEM_ERROR(ctx);\n+\n+  return user;\n+}\n+\n module.exports = {\n   arch,\n   cpus,\n@@ -255,7 +267,7 @@ module.exports = {\n   tmpdir,\n   totalmem: getTotalMem,\n   type: getOSType,\n-  userInfo: getUserInfo,\n+  userInfo,\n   uptime: getUptime,\n \n   // Deprecated APIs"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 15,
        "deletions": 3
    }
}