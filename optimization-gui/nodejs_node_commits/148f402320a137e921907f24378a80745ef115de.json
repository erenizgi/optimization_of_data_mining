{
    "author": "kfarnung",
    "message": "test: specify 'dir' for directory symlinks\n\nDirectory symlinks in Windows require the 'dir' flag to be passed to\ncreate the symlink correctly.\n\nPR-URL: https://github.com/nodejs/node/pull/19049\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Khaidi Chu <i@2333.moe>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "148f402320a137e921907f24378a80745ef115de",
    "files": [
        {
            "sha": "cbd01e938fe25f21e321cd966a818fb4b1e2b0fa",
            "filename": "test/addons/symlinked-module/test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/148f402320a137e921907f24378a80745ef115de/test%2Faddons%2Fsymlinked-module%2Ftest.js",
            "raw_url": "https://github.com/nodejs/node/raw/148f402320a137e921907f24378a80745ef115de/test%2Faddons%2Fsymlinked-module%2Ftest.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Faddons%2Fsymlinked-module%2Ftest.js?ref=148f402320a137e921907f24378a80745ef115de",
            "patch": "@@ -19,7 +19,7 @@ const addonPath = path.join(__dirname, 'build', common.buildType);\n const addonLink = path.join(tmpdir.path, 'addon');\n \n try {\n-  fs.symlinkSync(addonPath, addonLink);\n+  fs.symlinkSync(addonPath, addonLink, 'dir');\n } catch (err) {\n   if (err.code !== 'EPERM') throw err;\n   common.skip('module identity test (no privs for symlinks)');"
        },
        {
            "sha": "232925a52e3f641f68df9f1c111e50cee5b2a828",
            "filename": "test/es-module/test-esm-symlink.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/148f402320a137e921907f24378a80745ef115de/test%2Fes-module%2Ftest-esm-symlink.js",
            "raw_url": "https://github.com/nodejs/node/raw/148f402320a137e921907f24378a80745ef115de/test%2Fes-module%2Ftest-esm-symlink.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fes-module%2Ftest-esm-symlink.js?ref=148f402320a137e921907f24378a80745ef115de",
            "patch": "@@ -37,7 +37,7 @@ try {\n   fs.symlinkSync(real, link_absolute_path);\n   fs.symlinkSync(path.basename(real), link_relative_path);\n   fs.symlinkSync(real, link_ignore_extension);\n-  fs.symlinkSync(path.dirname(real), link_directory);\n+  fs.symlinkSync(path.dirname(real), link_directory, 'dir');\n } catch (err) {\n   if (err.code !== 'EPERM') throw err;\n   common.skip('insufficient privileges for symlinks');"
        },
        {
            "sha": "fb02a8a94d5d66e95fbcea80b2417938b4b2ebc0",
            "filename": "test/parallel/test-module-symlinked-peer-modules.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/148f402320a137e921907f24378a80745ef115de/test%2Fparallel%2Ftest-module-symlinked-peer-modules.js",
            "raw_url": "https://github.com/nodejs/node/raw/148f402320a137e921907f24378a80745ef115de/test%2Fparallel%2Ftest-module-symlinked-peer-modules.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-module-symlinked-peer-modules.js?ref=148f402320a137e921907f24378a80745ef115de",
            "patch": "@@ -42,7 +42,7 @@ fs.mkdirSync(moduleB);\n // Attempt to make the symlink. If this fails due to lack of sufficient\n // permissions, the test will bail out and be skipped.\n try {\n-  fs.symlinkSync(moduleA, moduleA_link);\n+  fs.symlinkSync(moduleA, moduleA_link, 'dir');\n } catch (err) {\n   if (err.code !== 'EPERM') throw err;\n   common.skip('insufficient privileges for symlinks');"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}