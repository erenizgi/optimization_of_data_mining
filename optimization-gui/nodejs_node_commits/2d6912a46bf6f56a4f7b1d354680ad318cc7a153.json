{
    "author": "shobhitchittora",
    "message": "tools: auto fix custom eslint rule\n\n1. Extends tests\n2. Refactors code\n3. Adds fixer\n\nRefs: #16636\n\nPR-URL: https://github.com/nodejs/node/pull/16652\nRefs: https://github.com/nodejs/node/issues/16636\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "2d6912a46bf6f56a4f7b1d354680ad318cc7a153",
    "files": [
        {
            "sha": "2d05a4851bf7811ba6234ae59dd04ac63be07dba",
            "filename": "test/parallel/test-eslint-prefer-assert-methods.js",
            "status": "modified",
            "additions": 26,
            "deletions": 11,
            "changes": 37,
            "blob_url": "https://github.com/nodejs/node/blob/2d6912a46bf6f56a4f7b1d354680ad318cc7a153/test%2Fparallel%2Ftest-eslint-prefer-assert-methods.js",
            "raw_url": "https://github.com/nodejs/node/raw/2d6912a46bf6f56a4f7b1d354680ad318cc7a153/test%2Fparallel%2Ftest-eslint-prefer-assert-methods.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-eslint-prefer-assert-methods.js?ref=2d6912a46bf6f56a4f7b1d354680ad318cc7a153",
            "patch": "@@ -7,31 +7,46 @@ const rule = require('../../tools/eslint-rules/prefer-assert-methods');\n \n new RuleTester().run('prefer-assert-methods', rule, {\n   valid: [\n-    'assert.strictEqual(foo, bar)',\n-    'assert(foo === bar && baz)'\n+    'assert.strictEqual(foo, bar);',\n+    'assert(foo === bar && baz);',\n+    'assert.notStrictEqual(foo, bar);',\n+    'assert(foo !== bar && baz);',\n+    'assert.equal(foo, bar);',\n+    'assert(foo == bar && baz);',\n+    'assert.notEqual(foo, bar);',\n+    'assert(foo != bar && baz);',\n+    'assert.ok(foo);',\n+    'assert.ok(foo != bar);',\n+    'assert.ok(foo === bar && baz);'\n   ],\n   invalid: [\n     {\n-      code: 'assert(foo == bar)',\n-      errors: [{ message: \"'assert.equal' should be used instead of '=='\" }]\n+      code: 'assert(foo == bar);',\n+      errors: [{\n+        message: \"'assert.equal' should be used instead of '=='\"\n+      }],\n+      output: 'assert.equal(foo, bar);'\n     },\n     {\n-      code: 'assert(foo === bar)',\n+      code: 'assert(foo === bar);',\n       errors: [{\n         message: \"'assert.strictEqual' should be used instead of '==='\"\n-      }]\n+      }],\n+      output: 'assert.strictEqual(foo, bar);'\n     },\n     {\n-      code: 'assert(foo != bar)',\n+      code: 'assert(foo != bar);',\n       errors: [{\n         message: \"'assert.notEqual' should be used instead of '!='\"\n-      }]\n+      }],\n+      output: 'assert.notEqual(foo, bar);'\n     },\n     {\n-      code: 'assert(foo !== bar)',\n+      code: 'assert(foo !== bar);',\n       errors: [{\n         message: \"'assert.notStrictEqual' should be used instead of '!=='\"\n-      }]\n-    },\n+      }],\n+      output: 'assert.notStrictEqual(foo, bar);'\n+    }\n   ]\n });"
        },
        {
            "sha": "2917d40de4081009624380e2ac05b7f408f04b37",
            "filename": "tools/eslint-rules/prefer-assert-methods.js",
            "status": "modified",
            "additions": 17,
            "deletions": 1,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/2d6912a46bf6f56a4f7b1d354680ad318cc7a153/tools%2Feslint-rules%2Fprefer-assert-methods.js",
            "raw_url": "https://github.com/nodejs/node/raw/2d6912a46bf6f56a4f7b1d354680ad318cc7a153/tools%2Feslint-rules%2Fprefer-assert-methods.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Feslint-rules%2Fprefer-assert-methods.js?ref=2d6912a46bf6f56a4f7b1d354680ad318cc7a153",
            "patch": "@@ -1,3 +1,7 @@\n+/**\n+ * @fileoverview Prohibit the use of assert operators ( ===, !==, ==, != )\n+ */\n+\n 'use strict';\n \n const astSelector = 'ExpressionStatement[expression.type=\"CallExpression\"]' +\n@@ -21,7 +25,19 @@ module.exports = function(context) {\n       const arg = node.expression.arguments[0];\n       const assertMethod = preferedAssertMethod[arg.operator];\n       if (assertMethod) {\n-        context.report(node, parseError(assertMethod, arg.operator));\n+        context.report({\n+          node,\n+          message: parseError(assertMethod, arg.operator),\n+          fix: (fixer) => {\n+            const sourceCode = context.getSourceCode();\n+            const left = sourceCode.getText(arg.left);\n+            const right = sourceCode.getText(arg.right);\n+            return fixer.replaceText(\n+              node,\n+              `assert.${assertMethod}(${left}, ${right});`\n+            );\n+          }\n+        });\n       }\n     }\n   };"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 43,
        "deletions": 12
    }
}