{
    "author": "BridgeAR",
    "message": "assert: improve error check\n\nMinor performance improvement.\n\nPR-URL: https://github.com/nodejs/node/pull/17574\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Jon Moss <me@jonathanmoss.me>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "b5825e125cf9a6c71c354eb006188c432414ee65",
    "files": [
        {
            "sha": "0fdf795433a4dc0287a966f3ea5d4b5326333c86",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/b5825e125cf9a6c71c354eb006188c432414ee65/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/b5825e125cf9a6c71c354eb006188c432414ee65/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=b5825e125cf9a6c71c354eb006188c432414ee65",
            "patch": "@@ -342,11 +342,14 @@ class AssertionError extends Error {\n         red = '\\u001b[31m';\n       }\n       const util = lazyUtil();\n-\n-      if (actual && actual.stack && actual instanceof Error)\n+      if (typeof actual === 'object' && actual !== null &&\n+        'stack' in actual && actual instanceof Error) {\n         actual = `${actual.name}: ${actual.message}`;\n-      if (expected && expected.stack && expected instanceof Error)\n+      }\n+      if (typeof expected === 'object' && expected !== null &&\n+        'stack' in expected && expected instanceof Error) {\n         expected = `${expected.name}: ${expected.message}`;\n+      }\n \n       if (errorDiff === 0) {\n         let res = util.inspect(actual);"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 6,
        "deletions": 3
    }
}