{
    "author": "addaleax",
    "message": "test,tracing: use close event to wait for stdio\n\nUse `'close'` rather than `'exit'` to make sure that all stdio\nhas been captured by the time that the event handler is run.\n\nPR-URL: https://github.com/nodejs/node/pull/25894\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Anto Aravinth <anto.aravinth.cse@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "8d63f4037e52eda125c5a70dafa602f47c13d0ad",
    "files": [
        {
            "sha": "f4b839dddced35b9bbb9f04c3674b61a4bcc1b4a",
            "filename": "test/parallel/test-trace-events-category-used.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/8d63f4037e52eda125c5a70dafa602f47c13d0ad/test%2Fparallel%2Ftest-trace-events-category-used.js",
            "raw_url": "https://github.com/nodejs/node/raw/8d63f4037e52eda125c5a70dafa602f47c13d0ad/test%2Fparallel%2Ftest-trace-events-category-used.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-trace-events-category-used.js?ref=8d63f4037e52eda125c5a70dafa602f47c13d0ad",
            "patch": "@@ -28,7 +28,7 @@ let procEnabledOutput = '';\n \n procEnabled.stdout.on('data', (data) => procEnabledOutput += data);\n procEnabled.stderr.pipe(process.stderr);\n-procEnabled.once('exit', common.mustCall(() => {\n+procEnabled.once('close', common.mustCall(() => {\n   assert.strictEqual(procEnabledOutput, 'true\\n');\n }));\n \n@@ -46,6 +46,6 @@ let procDisabledOutput = '';\n \n procDisabled.stdout.on('data', (data) => procDisabledOutput += data);\n procDisabled.stderr.pipe(process.stderr);\n-procDisabled.once('exit', common.mustCall(() => {\n+procDisabled.once('close', common.mustCall(() => {\n   assert.strictEqual(procDisabledOutput, 'false\\n');\n }));"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}