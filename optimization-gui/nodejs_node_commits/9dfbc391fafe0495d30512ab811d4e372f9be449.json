{
    "author": "addaleax",
    "message": "worker: improve JS-side debugging\n\nDo not print debug messages that indicate that a stdio stream\nhas drained; because `util.debuglog()` uses `console.log`, which\nin turn uses stdio streams, this would otherwise have lead to an\nendless loop.\n\nPR-URL: https://github.com/nodejs/node/pull/25312\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "9dfbc391fafe0495d30512ab811d4e372f9be449",
    "files": [
        {
            "sha": "ad8056b5b9108a46b735515a2adc5e7b6a01e398",
            "filename": "lib/internal/worker/io.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/9dfbc391fafe0495d30512ab811d4e372f9be449/lib%2Finternal%2Fworker%2Fio.js",
            "raw_url": "https://github.com/nodejs/node/raw/9dfbc391fafe0495d30512ab811d4e372f9be449/lib%2Finternal%2Fworker%2Fio.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fworker%2Fio.js?ref=9dfbc391fafe0495d30512ab811d4e372f9be449",
            "patch": "@@ -62,7 +62,8 @@ MessagePort.prototype.unref = MessagePortPrototype.unref;\n // .onmessage events, and a function used for sending data to a MessagePort\n // in some other thread.\n MessagePort.prototype[kOnMessageListener] = function onmessage(payload) {\n-  debug(`[${threadId}] received message`, payload);\n+  if (payload.type !== messageTypes.STDIO_WANTS_MORE_DATA)\n+    debug(`[${threadId}] received message`, payload);\n   // Emit the deserialized object to userland.\n   this.emit('message', payload);\n };"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}