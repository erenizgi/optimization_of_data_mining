{
    "author": "aduh95",
    "message": "crypto: remove deprecated legacy API\n\nThe `crypto.Credentials` legacy API has been Runtime deprecated since\nv0.11.13 and users had been adviced to use `tls.SecureContext` instead.\n\nPR-URL: https://github.com/nodejs/node/pull/21153\nFixes: https://github.com/nodejs/node/issues/20793\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "d2ee7d64aa3afd593ec8c0b14f497244403c5589",
    "files": [
        {
            "sha": "51fa99159fa1d7d8db348c82c56f6591d0e9da16",
            "filename": "doc/api/crypto.md",
            "status": "modified",
            "additions": 0,
            "deletions": 20,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/d2ee7d64aa3afd593ec8c0b14f497244403c5589/doc%2Fapi%2Fcrypto.md",
            "raw_url": "https://github.com/nodejs/node/raw/d2ee7d64aa3afd593ec8c0b14f497244403c5589/doc%2Fapi%2Fcrypto.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fcrypto.md?ref=d2ee7d64aa3afd593ec8c0b14f497244403c5589",
            "patch": "@@ -1415,25 +1415,6 @@ something has to be unpredictable and unique, but does not have to be secret;\n it is important to remember that an attacker must not be able to predict ahead\n of time what a given IV will be.\n \n-### crypto.createCredentials(details)\n-<!-- YAML\n-added: v0.1.92\n-deprecated: v0.11.13\n--->\n-\n-> Stability: 0 - Deprecated: Use [`tls.createSecureContext()`][] instead.\n-\n-- `details` {Object} Identical to [`tls.createSecureContext()`][].\n-- Returns: {tls.SecureContext}\n-\n-The `crypto.createCredentials()` method is a deprecated function for creating\n-and returning a `tls.SecureContext`. It should not be used. Replace it with\n-[`tls.createSecureContext()`][] which has the exact same arguments and return\n-value.\n-\n-Returns a `tls.SecureContext`, as-if [`tls.createSecureContext()`][] had been\n-called.\n-\n ### crypto.createDecipher(algorithm, password[, options])\n <!-- YAML\n added: v0.1.94\n@@ -2750,7 +2731,6 @@ the `crypto`, `tls`, and `https` modules and are generally specific to OpenSSL.\n [`sign.update()`]: #crypto_sign_update_data_inputencoding\n [`stream.transform` options]: stream.html#stream_new_stream_transform_options\n [`stream.Writable` options]: stream.html#stream_constructor_new_stream_writable_options\n-[`tls.createSecureContext()`]: tls.html#tls_tls_createsecurecontext_options\n [`verify.update()`]: #crypto_verify_update_data_inputencoding\n [`verify.verify()`]: #crypto_verify_verify_object_signature_signatureformat\n [AEAD algorithms]: https://en.wikipedia.org/wiki/Authenticated_encryption"
        },
        {
            "sha": "8d69c9a65fdb6c346cf1af44d9dedc86bffe3db0",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/d2ee7d64aa3afd593ec8c0b14f497244403c5589/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/d2ee7d64aa3afd593ec8c0b14f497244403c5589/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=d2ee7d64aa3afd593ec8c0b14f497244403c5589",
            "patch": "@@ -142,17 +142,17 @@ undefined `digest` will throw a `TypeError`.\n <a id=\"DEP0010\"></a>\n ### DEP0010: crypto.createCredentials\n \n-Type: Runtime\n+Type: End-of-Life\n \n-The [`crypto.createCredentials()`][] API is deprecated. Please use\n+The `crypto.createCredentials()` API was removed. Please use\n [`tls.createSecureContext()`][] instead.\n \n <a id=\"DEP0011\"></a>\n ### DEP0011: crypto.Credentials\n \n-Type: Runtime\n+Type: End-of-Life\n \n-The `crypto.Credentials` class is deprecated. Please use [`tls.SecureContext`][]\n+The `crypto.Credentials` class was removed. Please use [`tls.SecureContext`][]\n instead.\n \n <a id=\"DEP0012\"></a>\n@@ -1020,7 +1020,6 @@ The option `produceCachedData` has been deprecated. Use\n [`console.log()`]: console.html#console_console_log_data_args\n [`crypto.createCipher()`]: crypto.html#crypto_crypto_createcipher_algorithm_password_options\n [`crypto.createCipheriv()`]: crypto.html#crypto_crypto_createcipheriv_algorithm_key_iv_options\n-[`crypto.createCredentials()`]: crypto.html#crypto_crypto_createcredentials_details\n [`crypto.createDecipher()`]: crypto.html#crypto_crypto_createdecipher_algorithm_password_options\n [`crypto.createDecipheriv()`]: crypto.html#crypto_crypto_createdecipheriv_algorithm_key_iv_options\n [`crypto.DEFAULT_ENCODING`]: crypto.html#crypto_crypto_default_encoding"
        },
        {
            "sha": "b085f99f85e29bc5be6849faaf7f1ad69acf0715",
            "filename": "lib/crypto.js",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/d2ee7d64aa3afd593ec8c0b14f497244403c5589/lib%2Fcrypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/d2ee7d64aa3afd593ec8c0b14f497244403c5589/lib%2Fcrypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fcrypto.js?ref=d2ee7d64aa3afd593ec8c0b14f497244403c5589",
            "patch": "@@ -228,23 +228,5 @@ Object.defineProperties(exports, {\n     configurable: false,\n     enumerable: true,\n     value: constants\n-  },\n-\n-  // Legacy API\n-  createCredentials: {\n-    configurable: true,\n-    enumerable: true,\n-    get: deprecate(() => {\n-      return require('tls').createSecureContext;\n-    }, 'crypto.createCredentials is deprecated. ' +\n-      'Use tls.createSecureContext instead.', 'DEP0010')\n-  },\n-  Credentials: {\n-    configurable: true,\n-    enumerable: true,\n-    get: deprecate(function() {\n-      return require('tls').SecureContext;\n-    }, 'crypto.Credentials is deprecated. ' +\n-       'Use tls.SecureContext instead.', 'DEP0011')\n   }\n });"
        },
        {
            "sha": "ce4e2922de806276586796e2b3abdb885fc99840",
            "filename": "test/parallel/test-crypto-classes.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/d2ee7d64aa3afd593ec8c0b14f497244403c5589/test%2Fparallel%2Ftest-crypto-classes.js",
            "raw_url": "https://github.com/nodejs/node/raw/d2ee7d64aa3afd593ec8c0b14f497244403c5589/test%2Fparallel%2Ftest-crypto-classes.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-classes.js?ref=d2ee7d64aa3afd593ec8c0b14f497244403c5589",
            "patch": "@@ -19,7 +19,6 @@ const TEST_CASES = {\n   'DiffieHellman': [1024],\n   'DiffieHellmanGroup': ['modp5'],\n   'ECDH': ['prime256v1'],\n-  'Credentials': []\n };\n \n if (!common.hasFipsCrypto) {"
        },
        {
            "sha": "9ebdafbf8f4918cb3edafb9fc801064903277578",
            "filename": "test/parallel/test-crypto-deprecated.js",
            "status": "removed",
            "additions": 0,
            "deletions": 22,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/3950a3e0b1319c6cae49f674b7f82a491ea09093/test%2Fparallel%2Ftest-crypto-deprecated.js",
            "raw_url": "https://github.com/nodejs/node/raw/3950a3e0b1319c6cae49f674b7f82a491ea09093/test%2Fparallel%2Ftest-crypto-deprecated.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-deprecated.js?ref=3950a3e0b1319c6cae49f674b7f82a491ea09093",
            "patch": "@@ -1,22 +0,0 @@\n-'use strict';\n-const common = require('../common');\n-if (!common.hasCrypto)\n-  common.skip('missing crypto');\n-\n-const assert = require('assert');\n-const crypto = require('crypto');\n-const tls = require('tls');\n-\n-common.expectWarning('DeprecationWarning', [\n-  ['crypto.Credentials is deprecated. Use tls.SecureContext instead.',\n-   'DEP0011'],\n-  ['crypto.createCredentials is deprecated. Use tls.createSecureContext ' +\n-  'instead.', 'DEP0010']\n-]);\n-\n-// Accessing the deprecated function is enough to trigger the warning event.\n-// It does not need to be called. So the assert serves the purpose of both\n-// triggering the warning event and confirming that the deprecated function is\n-// mapped to the correct non-deprecated function.\n-assert.strictEqual(crypto.Credentials, tls.SecureContext);\n-assert.strictEqual(crypto.createCredentials, tls.createSecureContext);"
        }
    ],
    "stats": {
        "total": 70,
        "additions": 4,
        "deletions": 66
    }
}