{
    "author": "richardlau",
    "message": "test: use fs.copyFileSync()\n\nUse the potentially more efficient fs.copyFileSync() instead of reading\nthe whole file in and writing the whole file out in JavaScript.\n\nPR-URL: https://github.com/nodejs/node/pull/20340\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Khaidi Chu <i@2333.moe>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "b457ec8437e6f4960d7862fa5a81821bf967e698",
    "files": [
        {
            "sha": "cabd88934756309e4f618a360ebef7f5ccc291dd",
            "filename": "test/parallel/test-child-process-fork-exec-path.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/b457ec8437e6f4960d7862fa5a81821bf967e698/test%2Fparallel%2Ftest-child-process-fork-exec-path.js",
            "raw_url": "https://github.com/nodejs/node/raw/b457ec8437e6f4960d7862fa5a81821bf967e698/test%2Fparallel%2Ftest-child-process-fork-exec-path.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-child-process-fork-exec-path.js?ref=b457ec8437e6f4960d7862fa5a81821bf967e698",
            "patch": "@@ -23,6 +23,7 @@\n const common = require('../common');\n const assert = require('assert');\n const fs = require('fs');\n+const { COPYFILE_FICLONE } = fs.constants;\n const path = require('path');\n const tmpdir = require('../common/tmpdir');\n const msg = { test: 'this' };\n@@ -44,7 +45,7 @@ if (process.env.FORK) {\n   } catch (e) {\n     if (e.code !== 'ENOENT') throw e;\n   }\n-  fs.writeFileSync(copyPath, fs.readFileSync(nodePath));\n+  fs.copyFileSync(nodePath, copyPath, COPYFILE_FICLONE);\n   fs.chmodSync(copyPath, '0755');\n \n   // slow but simple"
        },
        {
            "sha": "284dbb0b3cd564625d7e7a72c1a311f4213d6742",
            "filename": "test/parallel/test-module-loading-globalpaths.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/b457ec8437e6f4960d7862fa5a81821bf967e698/test%2Fparallel%2Ftest-module-loading-globalpaths.js",
            "raw_url": "https://github.com/nodejs/node/raw/b457ec8437e6f4960d7862fa5a81821bf967e698/test%2Fparallel%2Ftest-module-loading-globalpaths.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-module-loading-globalpaths.js?ref=b457ec8437e6f4960d7862fa5a81821bf967e698",
            "patch": "@@ -4,6 +4,7 @@ const fixtures = require('../common/fixtures');\n const assert = require('assert');\n const path = require('path');\n const fs = require('fs');\n+const { COPYFILE_FICLONE } = fs.constants;\n const child_process = require('child_process');\n const pkgName = 'foo';\n const { addLibraryPath } = require('../common/shared-lib-util');\n@@ -28,7 +29,7 @@ if (process.argv[2] === 'child') {\n     testExecPath = path.join(prefixBinPath, path.basename(process.execPath));\n   }\n   const mode = fs.statSync(process.execPath).mode;\n-  fs.writeFileSync(testExecPath, fs.readFileSync(process.execPath));\n+  fs.copyFileSync(process.execPath, testExecPath, COPYFILE_FICLONE);\n   fs.chmodSync(testExecPath, mode);\n \n   const runTest = (expectedString, env) => {"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}