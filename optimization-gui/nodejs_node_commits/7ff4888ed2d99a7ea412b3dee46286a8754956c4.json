{
    "author": "Leko",
    "message": "src: allow --perf-(basic-)?prof in NODE_OPTIONS\n\nPR-URL: https://github.com/nodejs/node/pull/17600\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "7ff4888ed2d99a7ea412b3dee46286a8754956c4",
    "files": [
        {
            "sha": "6bae0a67c3d1011c657a3ceef1a41d308c5ab401",
            "filename": "doc/api/cli.md",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/7ff4888ed2d99a7ea412b3dee46286a8754956c4/doc%2Fapi%2Fcli.md",
            "raw_url": "https://github.com/nodejs/node/raw/7ff4888ed2d99a7ea412b3dee46286a8754956c4/doc%2Fapi%2Fcli.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fcli.md?ref=7ff4888ed2d99a7ea412b3dee46286a8754956c4",
            "patch": "@@ -475,6 +475,8 @@ Node options that are allowed are:\n V8 options that are allowed are:\n - `--abort-on-uncaught-exception`\n - `--max-old-space-size`\n+- `--perf-basic-prof`\n+- `--perf-prof`\n - `--stack-trace-limit`\n \n ### `NODE_PENDING_DEPRECATION=1`"
        },
        {
            "sha": "50bba93f1778c747c86d7f70cecdb81609726c7f",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/7ff4888ed2d99a7ea412b3dee46286a8754956c4/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/7ff4888ed2d99a7ea412b3dee46286a8754956c4/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=7ff4888ed2d99a7ea412b3dee46286a8754956c4",
            "patch": "@@ -3530,6 +3530,8 @@ static void CheckIfAllowedInEnv(const char* exe, bool is_env,\n     \"--icu-data-dir\",\n \n     // V8 options (define with '_', which allows '-' or '_')\n+    \"--perf_prof\",\n+    \"--perf_basic_prof\",\n     \"--abort_on_uncaught_exception\",\n     \"--max_old_space_size\",\n     \"--stack_trace_limit\","
        },
        {
            "sha": "c9f2d5eace022d7a8b54b3435f0afb79d3f8be4c",
            "filename": "test/parallel/test-cli-node-options.js",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/7ff4888ed2d99a7ea412b3dee46286a8754956c4/test%2Fparallel%2Ftest-cli-node-options.js",
            "raw_url": "https://github.com/nodejs/node/raw/7ff4888ed2d99a7ea412b3dee46286a8754956c4/test%2Fparallel%2Ftest-cli-node-options.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-cli-node-options.js?ref=7ff4888ed2d99a7ea412b3dee46286a8754956c4",
            "patch": "@@ -26,6 +26,15 @@ expect('--zero-fill-buffers', 'B\\n');\n expect('--v8-pool-size=10', 'B\\n');\n expect('--trace-event-categories node', 'B\\n');\n \n+if (!common.isWindows) {\n+  expect('--perf-basic-prof', 'B\\n');\n+}\n+\n+if (common.isLinux && ['arm', 'x64', 'mips'].includes(process.arch)) {\n+  // PerfJitLogger is only implemented in Linux.\n+  expect('--perf-prof', 'B\\n');\n+}\n+\n if (common.hasCrypto) {\n   expect('--use-openssl-ca', 'B\\n');\n   expect('--use-bundled-ca', 'B\\n');"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 13,
        "deletions": 0
    }
}