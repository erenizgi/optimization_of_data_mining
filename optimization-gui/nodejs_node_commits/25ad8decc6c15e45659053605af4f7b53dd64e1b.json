{
    "author": "gireeshpunathil",
    "message": "lib: rearm pre-existing signal event registrations\n\nprocess.on('somesignal', ...) semantics expect the process to catch the\nsignal and invoke the associated handler. `setupSignalHandlers` perform\nthe additional task of preparing the libuv signal handler and associate\nit with the event handler. It is possible that by the time this is\nsetup there could be pre-existing registrations that pre-date this setup\nin the boot sequence.\n\nSo rearm pre-existing signal event registrations to get upto speed.\n\nRef: https://github.com/nodejs/node/pull/22712#discussion_r232457318\n\nPR-URL: https://github.com/nodejs/node/pull/24651\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Franziska Hinkelmann <franziska.hinkelmann@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "25ad8decc6c15e45659053605af4f7b53dd64e1b",
    "files": [
        {
            "sha": "148dfdc0f7f9804bd4b0f1996006179a7e8249de",
            "filename": "lib/internal/process/main_thread_only.js",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/25ad8decc6c15e45659053605af4f7b53dd64e1b/lib%2Finternal%2Fprocess%2Fmain_thread_only.js",
            "raw_url": "https://github.com/nodejs/node/raw/25ad8decc6c15e45659053605af4f7b53dd64e1b/lib%2Finternal%2Fprocess%2Fmain_thread_only.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess%2Fmain_thread_only.js?ref=25ad8decc6c15e45659053605af4f7b53dd64e1b",
            "patch": "@@ -154,6 +154,13 @@ function setupSignalHandlers(internalBinding) {\n       delete signalWraps[type];\n     }\n   });\n+\n+  // re-arm pre-existing signal event registrations\n+  // with this signal wrap capabilities.\n+  process.eventNames().forEach((ev) => {\n+    if (isSignal(ev))\n+      process.emit('newListener', ev);\n+  });\n }\n \n function setupChildProcessIpcChannel() {"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 7,
        "deletions": 0
    }
}