{
    "author": "BridgeAR",
    "message": "console: fix timeEnd() not coercing the input\n\nThe input of console.timeEnd() was not coerced to a string. That way\nlabels were not found and the entry was not removed anymore.\n\nPR-URL: https://github.com/nodejs/node/pull/21779\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "7eeb7948b3a9f29334612a79f349178888df5f7e",
    "files": [
        {
            "sha": "665a2a6a2332fdc9a06b22e11b78c1fcf71b31ca",
            "filename": "lib/console.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/7eeb7948b3a9f29334612a79f349178888df5f7e/lib%2Fconsole.js",
            "raw_url": "https://github.com/nodejs/node/raw/7eeb7948b3a9f29334612a79f349178888df5f7e/lib%2Fconsole.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fconsole.js?ref=7eeb7948b3a9f29334612a79f349178888df5f7e",
            "patch": "@@ -236,20 +236,22 @@ Console.prototype.time = function time(label = 'default') {\n };\n \n Console.prototype.timeEnd = function timeEnd(label = 'default') {\n+  // Coerces everything other than Symbol to a string\n+  label = `${label}`;\n   const hasWarned = timeLogImpl(this, 'timeEnd', label);\n   if (!hasWarned) {\n     this._times.delete(label);\n   }\n };\n \n Console.prototype.timeLog = function timeLog(label, ...data) {\n+  // Coerces everything other than Symbol to a string\n+  label = `${label}`;\n   timeLogImpl(this, 'timeLog', label, data);\n };\n \n // Returns true if label was not found\n function timeLogImpl(self, name, label = 'default', data) {\n-  // Coerces everything other than Symbol to a string\n-  label = `${label}`;\n   const time = self._times.get(label);\n   if (!time) {\n     process.emitWarning(`No such label '${label}' for console.${name}()`);"
        },
        {
            "sha": "d6064016b5bb4796ead8b7dedf78aab07a001438",
            "filename": "test/parallel/test-console.js",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/7eeb7948b3a9f29334612a79f349178888df5f7e/test%2Fparallel%2Ftest-console.js",
            "raw_url": "https://github.com/nodejs/node/raw/7eeb7948b3a9f29334612a79f349178888df5f7e/test%2Fparallel%2Ftest-console.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-console.js?ref=7eeb7948b3a9f29334612a79f349178888df5f7e",
            "patch": "@@ -135,11 +135,14 @@ console.timeEnd('constructor');\n console.time('hasOwnProperty');\n console.timeEnd('hasOwnProperty');\n \n-// verify that values are coerced to strings\n+// Verify that values are coerced to strings.\n console.time([]);\n console.timeEnd([]);\n console.time({});\n console.timeEnd({});\n+// Repeat the object call to verify that everything really worked.\n+console.time({});\n+console.timeEnd({});\n console.time(null);\n console.timeEnd(null);\n console.time(undefined);\n@@ -224,6 +227,7 @@ assert.ok(/^hasOwnProperty: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n // verify that console.time() coerces label values to strings as expected\n assert.ok(/^: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n assert.ok(/^\\[object Object\\]: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n+assert.ok(/^\\[object Object\\]: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n assert.ok(/^null: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n assert.ok(/^default: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));\n assert.ok(/^default: \\d+\\.\\d{3}ms$/.test(strings.shift().trim()));"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 9,
        "deletions": 3
    }
}