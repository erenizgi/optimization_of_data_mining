{
    "author": "BridgeAR",
    "message": "test: improve inspect readability\n\nThe string escaping is hard to read. This changes all those escaped\nstrings to use double quotes instead so no escaping is necessary.\n\nPR-URL: https://github.com/nodejs/node/pull/21624\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "9c5019995c59f81f54719cefcc19c330fdf02635",
    "files": [
        {
            "sha": "0dc3f11bfe5d79b81df1e0faba52e49591a9e57e",
            "filename": "test/parallel/test-util-inspect.js",
            "status": "modified",
            "additions": 61,
            "deletions": 61,
            "changes": 122,
            "blob_url": "https://github.com/nodejs/node/blob/9c5019995c59f81f54719cefcc19c330fdf02635/test%2Fparallel%2Ftest-util-inspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/9c5019995c59f81f54719cefcc19c330fdf02635/test%2Fparallel%2Ftest-util-inspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inspect.js?ref=9c5019995c59f81f54719cefcc19c330fdf02635",
            "patch": "@@ -93,7 +93,7 @@ assert.strictEqual(\n     Object.assign(new String('hello'), { [Symbol('foo')]: 123 }),\n     { showHidden: true }\n   ),\n-  '{ [String: \\'hello\\'] [length]: 5, [Symbol(foo)]: 123 }'\n+  \"{ [String: 'hello'] [length]: 5, [Symbol(foo)]: 123 }\"\n );\n \n assert.strictEqual(util.inspect((new JSStream())._externalStream),\n@@ -265,7 +265,7 @@ assert.strictEqual(\n     name: { value: 'Tim', enumerable: true },\n     hidden: { value: 'secret' }\n   })),\n-  '{ name: \\'Tim\\' }'\n+  \"{ name: 'Tim' }\"\n );\n \n // Dynamic properties.\n@@ -308,7 +308,7 @@ assert.strictEqual(\n     }\n   );\n   assert.strictEqual(util.inspect(value),\n-                     '[ 1, 2, 3, growingLength: [Getter], \\'-1\\': -1 ]');\n+                     \"[ 1, 2, 3, growingLength: [Getter], '-1': -1 ]\");\n }\n \n // Array with inherited number properties.\n@@ -422,24 +422,24 @@ assert.strictEqual(util.inspect(-5e-324), '-5e-324');\n // Test for sparse array.\n {\n   const a = ['foo', 'bar', 'baz'];\n-  assert.strictEqual(util.inspect(a), '[ \\'foo\\', \\'bar\\', \\'baz\\' ]');\n+  assert.strictEqual(util.inspect(a), \"[ 'foo', 'bar', 'baz' ]\");\n   delete a[1];\n-  assert.strictEqual(util.inspect(a), '[ \\'foo\\', <1 empty item>, \\'baz\\' ]');\n+  assert.strictEqual(util.inspect(a), \"[ 'foo', <1 empty item>, 'baz' ]\");\n   assert.strictEqual(\n     util.inspect(a, true),\n-    '[ \\'foo\\', <1 empty item>, \\'baz\\', [length]: 3 ]'\n+    \"[ 'foo', <1 empty item>, 'baz', [length]: 3 ]\"\n   );\n   assert.strictEqual(util.inspect(new Array(5)), '[ <5 empty items> ]');\n   a[3] = 'bar';\n   a[100] = 'qux';\n   assert.strictEqual(\n     util.inspect(a, { breakLength: Infinity }),\n-    '[ \\'foo\\', <1 empty item>, \\'baz\\', \\'bar\\', <96 empty items>, \\'qux\\' ]'\n+    \"[ 'foo', <1 empty item>, 'baz', 'bar', <96 empty items>, 'qux' ]\"\n   );\n   delete a[3];\n   assert.strictEqual(\n     util.inspect(a, { maxArrayLength: 4 }),\n-    '[ \\'foo\\', <1 empty item>, \\'baz\\', <97 empty items>, ... 1 more item ]'\n+    \"[ 'foo', <1 empty item>, 'baz', <97 empty items>, ... 1 more item ]\"\n   );\n }\n \n@@ -630,13 +630,13 @@ assert.strictEqual(util.inspect(Object.create(Date.prototype)), 'Date {}');\n \n   assert.strictEqual(\n     util.inspect(w),\n-    '{ \\'\\\\\\\\\\': 1, \\'\\\\\\\\\\\\\\\\\\': 2, \\'\\\\\\\\\\\\\\\\\\\\\\\\\\': 3, ' +\n-    '\\'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\': 4, \\'\\\\n\\': 5, \\'\\\\r\\': 6 }'\n+    \"{ '\\\\\\\\': 1, '\\\\\\\\\\\\\\\\': 2, '\\\\\\\\\\\\\\\\\\\\\\\\': 3, \" +\n+    \"'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\': 4, '\\\\n': 5, '\\\\r': 6 }\"\n   );\n   assert.strictEqual(\n     util.inspect(y),\n-    '[ \\'a\\', \\'b\\', \\'c\\', \\'\\\\\\\\\\\\\\\\\\': \\'d\\', ' +\n-    '\\'\\\\n\\': \\'e\\', \\'\\\\r\\': \\'f\\' ]'\n+    \"[ 'a', 'b', 'c', '\\\\\\\\\\\\\\\\': 'd', \" +\n+    \"'\\\\n': 'e', '\\\\r': 'f' ]\"\n   );\n }\n \n@@ -733,7 +733,7 @@ util.inspect({ hasOwnProperty: null });\n   // A custom [util.inspect.custom]() should be able to return other Objects.\n   subject[util.inspect.custom] = () => ({ foo: 'bar' });\n \n-  assert.strictEqual(util.inspect(subject), '{ foo: \\'bar\\' }');\n+  assert.strictEqual(util.inspect(subject), \"{ foo: 'bar' }\");\n \n   subject[util.inspect.custom] = (depth, opts) => {\n     assert.strictEqual(opts.customInspectOptions, true);\n@@ -776,7 +776,7 @@ util.inspect({ hasOwnProperty: null });\n }\n \n // Test boxed primitives output the correct values.\n-assert.strictEqual(util.inspect(new String('test')), '[String: \\'test\\']');\n+assert.strictEqual(util.inspect(new String('test')), \"[String: 'test']\");\n assert.strictEqual(\n   util.inspect(Object(Symbol('test'))),\n   '[Symbol: Symbol(test)]'\n@@ -792,15 +792,15 @@ assert.strictEqual(util.inspect(new Number(13.37)), '[Number: 13.37]');\n {\n   const str = new String('baz');\n   str.foo = 'bar';\n-  assert.strictEqual(util.inspect(str), '{ [String: \\'baz\\'] foo: \\'bar\\' }');\n+  assert.strictEqual(util.inspect(str), \"{ [String: 'baz'] foo: 'bar' }\");\n \n   const bool = new Boolean(true);\n   bool.foo = 'bar';\n-  assert.strictEqual(util.inspect(bool), '{ [Boolean: true] foo: \\'bar\\' }');\n+  assert.strictEqual(util.inspect(bool), \"{ [Boolean: true] foo: 'bar' }\");\n \n   const num = new Number(13.37);\n   num.foo = 'bar';\n-  assert.strictEqual(util.inspect(num), '{ [Number: 13.37] foo: \\'bar\\' }');\n+  assert.strictEqual(util.inspect(num), \"{ [Number: 13.37] foo: 'bar' }\");\n }\n \n // Test es6 Symbol.\n@@ -829,7 +829,7 @@ if (typeof Symbol !== 'undefined') {\n   assert.strictEqual(util.inspect(subject), '{ [Symbol(symbol)]: 42 }');\n   assert.strictEqual(\n     util.inspect(subject, options),\n-    '{ [Symbol(symbol)]: 42, [Symbol()]: \\'non-enum\\' }'\n+    \"{ [Symbol(symbol)]: 42, [Symbol()]: 'non-enum' }\"\n   );\n \n   subject = [1, 2, 3];\n@@ -847,7 +847,7 @@ if (typeof Symbol !== 'undefined') {\n   set.bar = 42;\n   assert.strictEqual(\n     util.inspect(set, true),\n-    'Set { \\'foo\\', [size]: 1, bar: 42 }'\n+    \"Set { 'foo', [size]: 1, bar: 42 }\"\n   );\n }\n \n@@ -862,11 +862,11 @@ if (typeof Symbol !== 'undefined') {\n {\n   assert.strictEqual(util.inspect(new Map()), 'Map {}');\n   assert.strictEqual(util.inspect(new Map([[1, 'a'], [2, 'b'], [3, 'c']])),\n-                     'Map { 1 => \\'a\\', 2 => \\'b\\', 3 => \\'c\\' }');\n+                     \"Map { 1 => 'a', 2 => 'b', 3 => 'c' }\");\n   const map = new Map([['foo', null]]);\n   map.bar = 42;\n   assert.strictEqual(util.inspect(map, true),\n-                     'Map { \\'foo\\' => null, [size]: 1, bar: 42 }');\n+                     \"Map { 'foo' => null, [size]: 1, bar: 42 }\");\n }\n \n // Test circular Map.\n@@ -897,7 +897,7 @@ if (typeof Symbol !== 'undefined') {\n   const promiseWithProperty = Promise.resolve('foo');\n   promiseWithProperty.bar = 42;\n   assert.strictEqual(util.inspect(promiseWithProperty),\n-                     'Promise { \\'foo\\', bar: 42 }');\n+                     \"Promise { 'foo', bar: 42 }\");\n }\n \n // Make sure it doesn't choke on polyfills. Unlike Set/Map, there is no standard\n@@ -913,14 +913,14 @@ if (typeof Symbol !== 'undefined') {\n // Test Map iterators.\n {\n   const map = new Map([['foo', 'bar']]);\n-  assert.strictEqual(util.inspect(map.keys()), '[Map Iterator] { \\'foo\\' }');\n-  assert.strictEqual(util.inspect(map.values()), '[Map Iterator] { \\'bar\\' }');\n+  assert.strictEqual(util.inspect(map.keys()), \"[Map Iterator] { 'foo' }\");\n+  assert.strictEqual(util.inspect(map.values()), \"[Map Iterator] { 'bar' }\");\n   assert.strictEqual(util.inspect(map.entries()),\n-                     '[Map Iterator] { [ \\'foo\\', \\'bar\\' ] }');\n+                     \"[Map Iterator] { [ 'foo', 'bar' ] }\");\n   // Make sure the iterator doesn't get consumed.\n   const keys = map.keys();\n-  assert.strictEqual(util.inspect(keys), '[Map Iterator] { \\'foo\\' }');\n-  assert.strictEqual(util.inspect(keys), '[Map Iterator] { \\'foo\\' }');\n+  assert.strictEqual(util.inspect(keys), \"[Map Iterator] { 'foo' }\");\n+  assert.strictEqual(util.inspect(keys), \"[Map Iterator] { 'foo' }\");\n   keys.extra = true;\n   assert.strictEqual(\n     util.inspect(keys, { maxArrayLength: 0 }),\n@@ -995,7 +995,7 @@ if (typeof Symbol !== 'undefined') {\n   assert.strictEqual(util.inspect(new SetSubclass([1, 2, 3])),\n                      'SetSubclass [Set] { 1, 2, 3 }');\n   assert.strictEqual(util.inspect(new MapSubclass([['foo', 42]])),\n-                     'MapSubclass [Map] { \\'foo\\' => 42 }');\n+                     \"MapSubclass [Map] { 'foo' => 42 }\");\n   assert.strictEqual(util.inspect(new PromiseSubclass(() => {})),\n                      'PromiseSubclass [Promise] { <pending> }');\n   assert.strictEqual(\n@@ -1048,7 +1048,7 @@ if (typeof Symbol !== 'undefined') {\n {\n   const x = [];\n   x[''] = 1;\n-  assert.strictEqual(util.inspect(x), '[ \\'\\': 1 ]');\n+  assert.strictEqual(util.inspect(x), \"[ '': 1 ]\");\n }\n \n // The following maxArrayLength tests were introduced after v6.0.0 was released.\n@@ -1094,10 +1094,10 @@ if (typeof Symbol !== 'undefined') {\n   const breakpoint = oneLine.length - 5;\n   const twoLines = util.inspect(obj, { breakLength: breakpoint });\n \n-  assert.strictEqual(oneLine, '{ foo: \\'abc\\', bar: \\'xyz\\' }');\n+  assert.strictEqual(oneLine, \"{ foo: 'abc', bar: 'xyz' }\");\n   assert.strictEqual(oneLine,\n                      util.inspect(obj, { breakLength: breakpoint + 1 }));\n-  assert.strictEqual(twoLines, '{ foo: \\'abc\\',\\n  bar: \\'xyz\\' }');\n+  assert.strictEqual(twoLines, \"{ foo: 'abc',\\n  bar: 'xyz' }\");\n }\n \n // util.inspect.defaultOptions tests.\n@@ -1168,7 +1168,7 @@ util.inspect(process);\n {\n   // @@toStringTag\n   assert.strictEqual(util.inspect({ [Symbol.toStringTag]: 'a' }),\n-                     'Object [a] { [Symbol(Symbol.toStringTag)]: \\'a\\' }');\n+                     \"Object [a] { [Symbol(Symbol.toStringTag)]: 'a' }\");\n \n   class Foo {\n     constructor() {\n@@ -1184,17 +1184,17 @@ util.inspect(process);\n     Object.create(null, { [Symbol.toStringTag]: { value: 'foo' } })),\n                      '[foo] {}');\n \n-  assert.strictEqual(util.inspect(new Foo()), 'Foo [bar] { foo: \\'bar\\' }');\n+  assert.strictEqual(util.inspect(new Foo()), \"Foo [bar] { foo: 'bar' }\");\n \n   assert.strictEqual(\n     util.inspect(new (class extends Foo {})()),\n-    'Foo [bar] { foo: \\'bar\\' }');\n+    \"Foo [bar] { foo: 'bar' }\");\n \n   assert.strictEqual(\n     util.inspect(Object.create(Object.create(Foo.prototype), {\n       foo: { value: 'bar', enumerable: true }\n     })),\n-    'Foo [bar] { foo: \\'bar\\' }');\n+    \"Foo [bar] { foo: 'bar' }\");\n \n   class ThrowingClass {\n     get [Symbol.toStringTag]() {\n@@ -1246,69 +1246,69 @@ util.inspect(process);\n     '    2,',\n     '    [',\n     '      [',\n-    '        \\'Lorem ipsum dolor\\\\nsit amet,\\\\tconsectetur \\' +',\n-    '          \\'adipiscing elit, sed do eiusmod tempor \\' +',\n-    '          \\'incididunt ut labore et dolore magna \\' +',\n-    '          \\'aliqua.\\',',\n-    '        \\'test\\',',\n-    '        \\'foo\\'',\n+    \"        'Lorem ipsum dolor\\\\nsit amet,\\\\tconsectetur ' +\",\n+    \"          'adipiscing elit, sed do eiusmod tempor ' +\",\n+    \"          'incididunt ut labore et dolore magna ' +\",\n+    \"          'aliqua.',\",\n+    \"        'test',\",\n+    \"        'foo'\",\n     '      ]',\n     '    ],',\n     '    4',\n     '  ],',\n     '  b: Map {',\n-    '    \\'za\\' => 1,',\n-    '    \\'zb\\' => \\'test\\'',\n+    \"    'za' => 1,\",\n+    \"    'zb' => 'test'\",\n     '  }',\n     '}'\n   ].join('\\n');\n   assert.strictEqual(out, expect);\n \n   out = util.inspect(o.a[2][0][0], { compact: false, breakLength: 30 });\n   expect = [\n-    '\\'Lorem ipsum dolor\\\\nsit \\' +',\n-    '  \\'amet,\\\\tconsectetur \\' +',\n-    '  \\'adipiscing elit, sed do \\' +',\n-    '  \\'eiusmod tempor incididunt \\' +',\n-    '  \\'ut labore et dolore magna \\' +',\n-    '  \\'aliqua.\\''\n+    \"'Lorem ipsum dolor\\\\nsit ' +\",\n+    \"  'amet,\\\\tconsectetur ' +\",\n+    \"  'adipiscing elit, sed do ' +\",\n+    \"  'eiusmod tempor incididunt ' +\",\n+    \"  'ut labore et dolore magna ' +\",\n+    \"  'aliqua.'\"\n   ].join('\\n');\n   assert.strictEqual(out, expect);\n \n   out = util.inspect(\n     '12345678901234567890123456789012345678901234567890',\n     { compact: false, breakLength: 3 });\n-  expect = '\\'12345678901234567890123456789012345678901234567890\\'';\n+  expect = \"'12345678901234567890123456789012345678901234567890'\";\n   assert.strictEqual(out, expect);\n \n   out = util.inspect(\n     '12 45 78 01 34 67 90 23 56 89 123456789012345678901234567890',\n     { compact: false, breakLength: 3 });\n   expect = [\n-    '\\'12 45 78 01 34 \\' +',\n-    '  \\'67 90 23 56 89 \\' +',\n-    '  \\'123456789012345678901234567890\\''\n+    \"'12 45 78 01 34 ' +\",\n+    \"  '67 90 23 56 89 ' +\",\n+    \"  '123456789012345678901234567890'\"\n   ].join('\\n');\n   assert.strictEqual(out, expect);\n \n   out = util.inspect(\n     '12 45 78 01 34 67 90 23 56 89 1234567890123 0',\n     { compact: false, breakLength: 3 });\n   expect = [\n-    '\\'12 45 78 01 34 \\' +',\n-    '  \\'67 90 23 56 89 \\' +',\n-    '  \\'1234567890123 0\\''\n+    \"'12 45 78 01 34 ' +\",\n+    \"  '67 90 23 56 89 ' +\",\n+    \"  '1234567890123 0'\"\n   ].join('\\n');\n   assert.strictEqual(out, expect);\n \n   out = util.inspect(\n     '12 45 78 01 34 67 90 23 56 89 12345678901234567 0',\n     { compact: false, breakLength: 3 });\n   expect = [\n-    '\\'12 45 78 01 34 \\' +',\n-    '  \\'67 90 23 56 89 \\' +',\n-    '  \\'12345678901234567 \\' +',\n-    '  \\'0\\''\n+    \"'12 45 78 01 34 ' +\",\n+    \"  '67 90 23 56 89 ' +\",\n+    \"  '12345678901234567 ' +\",\n+    \"  '0'\"\n   ].join('\\n');\n   assert.strictEqual(out, expect);\n \n@@ -1347,7 +1347,7 @@ util.inspect(process);\n \n   o[util.inspect.custom] = () => ({ a: '12 45 78 01 34 67 90 23' });\n   out = util.inspect(o, { compact: false, breakLength: 3 });\n-  expect = '{\\n  a: \\'12 45 78 01 34 \\' +\\n    \\'67 90 23\\'\\n}';\n+  expect = \"{\\n  a: '12 45 78 01 34 ' +\\n    '67 90 23'\\n}\";\n   assert.strictEqual(out, expect);\n }\n "
        }
    ],
    "stats": {
        "total": 122,
        "additions": 61,
        "deletions": 61
    }
}