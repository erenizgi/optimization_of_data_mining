{
    "author": "BridgeAR",
    "message": "assert: provide info about actual error\n\nIn case a error is caught in `assert.doesNotThrow` or\n`assert.doesNotReject` it will now also indicate what the real\nerror message was.\n\nPR-URL: https://github.com/nodejs/node/pull/19884\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "2bee7996a57a44aec1f7ee3a07cd49a5b235ad78",
    "files": [
        {
            "sha": "385ec332a6f9997e06848815aaed3fc9da65b97a",
            "filename": "lib/assert.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/lib%2Fassert.js",
            "raw_url": "https://github.com/nodejs/node/raw/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/lib%2Fassert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fassert.js?ref=2bee7996a57a44aec1f7ee3a07cd49a5b235ad78",
            "patch": "@@ -510,7 +510,8 @@ function expectsNoError(stackStartFn, actual, error, message) {\n       actual,\n       expected: error,\n       operator: stackStartFn.name,\n-      message: `Got unwanted ${fnType}${details}\\n${actual && actual.message}`,\n+      message: `Got unwanted ${fnType}${details}\\n` +\n+               `Actual message: \"${actual && actual.message}\"`,\n       stackStartFn\n     });\n   }"
        },
        {
            "sha": "cc557d504ac6f23c8befad20675a203be9c58a55",
            "filename": "test/parallel/test-assert-async.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/test%2Fparallel%2Ftest-assert-async.js",
            "raw_url": "https://github.com/nodejs/node/raw/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/test%2Fparallel%2Ftest-assert-async.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert-async.js?ref=2bee7996a57a44aec1f7ee3a07cd49a5b235ad78",
            "patch": "@@ -34,7 +34,8 @@ common.crashOnUnhandledRejection();\n         assert(err instanceof assert.AssertionError,\n                `${err.name} is not instance of AssertionError`);\n         assert.strictEqual(err.code, 'ERR_ASSERTION');\n-        assert(/^Got unwanted rejection\\.\\n$/.test(err.message));\n+        assert.strictEqual(err.message,\n+                           'Got unwanted rejection.\\nActual message: \"\"');\n         assert.strictEqual(err.operator, 'doesNotReject');\n         assert.ok(!err.stack.includes('at Function.doesNotReject'));\n         return true;"
        },
        {
            "sha": "4115167d4b48fda30b307d4cb8cb6f72c9309f6f",
            "filename": "test/parallel/test-assert.js",
            "status": "modified",
            "additions": 9,
            "deletions": 16,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/test%2Fparallel%2Ftest-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/2bee7996a57a44aec1f7ee3a07cd49a5b235ad78/test%2Fparallel%2Ftest-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert.js?ref=2bee7996a57a44aec1f7ee3a07cd49a5b235ad78",
            "patch": "@@ -124,29 +124,22 @@ assert.throws(() => thrower(TypeError));\n   assert.ok(threw, 'a.doesNotThrow is not catching type matching errors');\n }\n \n-common.expectsError(\n+assert.throws(\n   () => a.doesNotThrow(() => thrower(Error), 'user message'),\n   {\n-    type: a.AssertionError,\n+    name: 'AssertionError [ERR_ASSERTION]',\n     code: 'ERR_ASSERTION',\n     operator: 'doesNotThrow',\n-    message: 'Got unwanted exception: user message\\n[object Object]'\n+    message: 'Got unwanted exception: user message\\n' +\n+             'Actual message: \"[object Object]\"'\n   }\n );\n \n-common.expectsError(\n-  () => a.doesNotThrow(() => thrower(Error), 'user message'),\n-  {\n-    code: 'ERR_ASSERTION',\n-    message: /Got unwanted exception: user message\\n\\[object Object\\]/\n-  }\n-);\n-\n-common.expectsError(\n+assert.throws(\n   () => a.doesNotThrow(() => thrower(Error)),\n   {\n     code: 'ERR_ASSERTION',\n-    message: /Got unwanted exception\\.\\n\\[object Object\\]/\n+    message: 'Got unwanted exception.\\nActual message: \"[object Object]\"'\n   }\n );\n \n@@ -833,13 +826,13 @@ common.expectsError(\n \n   // eslint-disable-next-line no-throw-literal\n   assert.throws(() => { throw undefined; }, /undefined/);\n-  common.expectsError(\n+  assert.throws(\n     // eslint-disable-next-line no-throw-literal\n     () => a.doesNotThrow(() => { throw undefined; }),\n     {\n-      type: assert.AssertionError,\n+      name: 'AssertionError [ERR_ASSERTION]',\n       code: 'ERR_ASSERTION',\n-      message: 'Got unwanted exception.\\nundefined'\n+      message: 'Got unwanted exception.\\nActual message: \"undefined\"'\n     }\n   );\n }"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 13,
        "deletions": 18
    }
}