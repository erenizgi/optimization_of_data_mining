{
    "author": "starkwang",
    "message": "test: remove test-buffer-bindingobj-no-zerofill.js\n\nPR-URL: https://github.com/nodejs/node/pull/23234\nRefs: https://github.com/nodejs/node/issues/22160\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "9930529805719b6df24a254889a1ae52e319d1e2",
    "files": [
        {
            "sha": "ab584c2597f66ca2f86b7e7205506255b17816e1",
            "filename": "test/parallel/test-buffer-bindingobj-no-zerofill.js",
            "status": "removed",
            "additions": 0,
            "deletions": 49,
            "changes": 49,
            "blob_url": "https://github.com/nodejs/node/blob/c9d9ddcbc99b04489ca378250c555a57af3aa050/test%2Fparallel%2Ftest-buffer-bindingobj-no-zerofill.js",
            "raw_url": "https://github.com/nodejs/node/raw/c9d9ddcbc99b04489ca378250c555a57af3aa050/test%2Fparallel%2Ftest-buffer-bindingobj-no-zerofill.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-bindingobj-no-zerofill.js?ref=c9d9ddcbc99b04489ca378250c555a57af3aa050",
            "patch": "@@ -1,49 +0,0 @@\n-'use strict';\n-\n-// Flags: --expose-internals\n-\n-// Confirm that if a custom ArrayBufferAllocator does not define a zeroFill\n-// property, that the buffer module will zero-fill when allocUnsafe() is called.\n-\n-require('../common');\n-\n-const assert = require('assert');\n-const buffer = require('buffer');\n-\n-// Monkey-patch setupBufferJS() to have an undefined zeroFill.\n-const internalBuffer = require('internal/buffer');\n-\n-const originalSetup = internalBuffer.setupBufferJS;\n-\n-internalBuffer.setupBufferJS = (proto, obj) => {\n-  originalSetup(proto, obj);\n-  assert.strictEqual(obj.zeroFill[0], 1);\n-  delete obj.zeroFill;\n-};\n-\n-const bindingObj = {};\n-\n-internalBuffer.setupBufferJS(Buffer.prototype, bindingObj);\n-assert.strictEqual(bindingObj.zeroFill, undefined);\n-\n-// Load from file system because internal buffer is already loaded and we're\n-// testing code that runs on first load only.\n-// Do not move this require() to top of file. It is important that\n-// `require('internal/buffer').setupBufferJS` be monkey-patched before this\n-// runs.\n-const monkeyPatchedBuffer = require('../../lib/buffer');\n-\n-// On unpatched buffer, allocUnsafe() should not zero fill memory. It's always\n-// possible that a segment of memory is already zeroed out, so try again and\n-// again until we succeed or we time out.\n-let uninitialized = buffer.Buffer.allocUnsafe(1024);\n-while (uninitialized.every((val) => val === 0))\n-  uninitialized = buffer.Buffer.allocUnsafe(1024);\n-\n-// On monkeypatched buffer, zeroFill property is undefined. allocUnsafe() should\n-// zero-fill in that case.\n-const zeroFilled = monkeyPatchedBuffer.Buffer.allocUnsafe(1024);\n-assert(zeroFilled.every((val) => val === 0));\n-\n-// setupBufferJS shouldn't still be exposed on the binding\n-assert(!('setupBufferJs' in process.binding('buffer')));"
        }
    ],
    "stats": {
        "total": 49,
        "additions": 0,
        "deletions": 49
    }
}