{
    "author": "mhdawson",
    "message": "test: enable marking of failing coverage tests\n\nEnable marking of coverage tests so that we can\nallow some tests to fail without blocking the generation\nof coverage data. This will later allow us to\nfail the coverage job if other kinds of errors occur and\nto capture which tests we believe are not running properly\nwith coverage enabled.\n\nPR-URL: https://github.com/nodejs/node/pull/25671\nReviewed-By: Ben Coe <bencoe@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Refael Ackermann <refack@gmail.com>",
    "sha": "c06653efdbee30cc3db5814af78ce2d824da2413",
    "files": [
        {
            "sha": "7ab4a3c70f6e7be8ed694deafdcc4f93b2a0e79f",
            "filename": "Makefile",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/c06653efdbee30cc3db5814af78ce2d824da2413/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/c06653efdbee30cc3db5814af78ce2d824da2413/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=c06653efdbee30cc3db5814af78ce2d824da2413",
            "patch": "@@ -226,7 +226,8 @@ coverage-test: coverage-build\n \t$(RM) out/$(BUILDTYPE)/obj.target/node_lib/gen/*.gcda\n \t$(RM) out/$(BUILDTYPE)/obj.target/node_lib/src/*.gcda\n \t$(RM) out/$(BUILDTYPE)/obj.target/node_lib/src/tracing/*.gcda\n-\t-NODE_V8_COVERAGE=out/$(BUILDTYPE)/.coverage $(MAKE) $(COVTESTS)\n+\t-NODE_V8_COVERAGE=out/$(BUILDTYPE)/.coverage \\\n+                TEST_CI_ARGS=\"$(TEST_CI_ARGS) --type=coverage\" $(MAKE) $(COVTESTS)\n \t$(MAKE) coverage-report-js\n \t-(cd out && \"../gcovr/scripts/gcovr\" --gcov-exclude='.*deps' \\\n \t\t--gcov-exclude='.*usr' -v -r Release/obj.target \\\n@@ -277,7 +278,7 @@ coverage-run-js:\n \t$(RM) -r out/$(BUILDTYPE)/.coverage\n \t$(MAKE) coverage-build-js\n \t-NODE_V8_COVERAGE=out/$(BUILDTYPE)/.coverage CI_SKIP_TESTS=$(COV_SKIP_TESTS) \\\n-\t  $(MAKE) jstest\n+\t        TEST_CI_ARGS=\"$(TEST_CI_ARGS) --type=coverage\" $(MAKE) jstest\n \t$(MAKE) coverage-report-js\n \n .PHONY: test"
        },
        {
            "sha": "6d5bc44491c310e68ad21f564be4d4aaf065d075",
            "filename": "test/root.status",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c06653efdbee30cc3db5814af78ce2d824da2413/test%2Froot.status",
            "raw_url": "https://github.com/nodejs/node/raw/c06653efdbee30cc3db5814af78ce2d824da2413/test%2Froot.status",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Froot.status?ref=c06653efdbee30cc3db5814af78ce2d824da2413",
            "patch": "@@ -159,3 +159,7 @@ sequential/test-inspector-port-cluster: SLOW\n sequential/test-net-bytes-per-incoming-chunk-overhead: SLOW\n sequential/test-pipe: SLOW\n sequential/test-util-debug: SLOW\n+\n+[$type==coverage]\n+js-native-api/test_function/test: PASS,FAIL,CRASH\n+js-native-api/test_general/testFinalizer: PASS,FAIL,CRASH"
        },
        {
            "sha": "4ac8d0e631ce166a57f27b6996b88ea358695f9e",
            "filename": "tools/test.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c06653efdbee30cc3db5814af78ce2d824da2413/tools%2Ftest.py",
            "raw_url": "https://github.com/nodejs/node/raw/c06653efdbee30cc3db5814af78ce2d824da2413/tools%2Ftest.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Ftest.py?ref=c06653efdbee30cc3db5814af78ce2d824da2413",
            "patch": "@@ -1391,7 +1391,7 @@ def BuildOptions():\n       help='Send SIGABRT instead of SIGTERM to kill processes that time out',\n       default=False, action=\"store_true\", dest=\"abort_on_timeout\")\n   result.add_option(\"--type\",\n-      help=\"Type of build (simple, fips)\",\n+      help=\"Type of build (simple, fips, coverage)\",\n       default=None)\n   return result\n "
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}