{
    "author": "addaleax",
    "message": "test: do not use uninitialized memory in common flags check\n\nOnly use the amount of data that was actually read from the test file.\nOtherwise, there is a small risk of getting false positives, and\ngenerally reading uninitialized memory makes using automated\nmemory error detection tools harder.\n\nPR-URL: https://github.com/nodejs/node/pull/25475\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "27f9a55cf66390195ad36eae0eb21fb4d07bb500",
    "files": [
        {
            "sha": "dd672900208ebfaae64904abe84acd33fa65df8f",
            "filename": "test/common/index.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/27f9a55cf66390195ad36eae0eb21fb4d07bb500/test%2Fcommon%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/27f9a55cf66390195ad36eae0eb21fb4d07bb500/test%2Fcommon%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Findex.js?ref=27f9a55cf66390195ad36eae0eb21fb4d07bb500",
            "patch": "@@ -57,9 +57,9 @@ if (process.argv.length === 2 &&\n   const bytesToRead = 1500;\n   const buffer = Buffer.allocUnsafe(bytesToRead);\n   const fd = fs.openSync(module.parent.filename, 'r');\n-  fs.readSync(fd, buffer, 0, bytesToRead);\n+  const bytesRead = fs.readSync(fd, buffer, 0, bytesToRead);\n   fs.closeSync(fd);\n-  const source = buffer.toString();\n+  const source = buffer.toString('utf8', 0, bytesRead);\n \n   const flagStart = source.indexOf('// Flags: --') + 10;\n   if (flagStart !== 9) {"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}