{
    "author": "daynin",
    "message": "path: replace duplicate conditions by functions\n\nIt will also remove useless \"code\" variables by inlining\npath.charCodeAt.\n\nPR-URL: https://github.com/nodejs/node/pull/18693\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Jon Moss <me@jonathanmoss.me>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "b404aa56c0e776c9722017ca020f9d04c7aa6de2",
    "files": [
        {
            "sha": "098416adfe1a3ad718e70d70f227325af4e7f07b",
            "filename": "lib/path.js",
            "status": "modified",
            "additions": 76,
            "deletions": 111,
            "changes": 187,
            "blob_url": "https://github.com/nodejs/node/blob/b404aa56c0e776c9722017ca020f9d04c7aa6de2/lib%2Fpath.js",
            "raw_url": "https://github.com/nodejs/node/raw/b404aa56c0e776c9722017ca020f9d04c7aa6de2/lib%2Fpath.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fpath.js?ref=b404aa56c0e776c9722017ca020f9d04c7aa6de2",
            "patch": "@@ -40,6 +40,15 @@ function assertPath(path) {\n   }\n }\n \n+function isPathSeparator(code) {\n+  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n+}\n+\n+function isWindowsDeviceRoot(code) {\n+  return code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z ||\n+         code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z;\n+}\n+\n // Resolves . and .. elements in a path with directory names\n function normalizeStringWin32(path, allowAboveRoot) {\n   var res = '';\n@@ -50,11 +59,12 @@ function normalizeStringWin32(path, allowAboveRoot) {\n   for (var i = 0; i <= path.length; ++i) {\n     if (i < path.length)\n       code = path.charCodeAt(i);\n-    else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+    else if (isPathSeparator(code))\n       break;\n     else\n       code = CHAR_FORWARD_SLASH;\n-    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+\n+    if (isPathSeparator(code)) {\n       if (lastSlash === i - 1 || dots === 1) {\n         // NOOP\n       } else if (lastSlash !== i - 1 && dots === 2) {\n@@ -228,28 +238,26 @@ const win32 = {\n \n       var len = path.length;\n       var rootEnd = 0;\n-      var code = path.charCodeAt(0);\n       var device = '';\n       var isAbsolute = false;\n+      const code = path.charCodeAt(0);\n \n       // Try to match a root\n       if (len > 1) {\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(code)) {\n           // Possible UNC root\n \n           // If we started with a separator, we know we at least have an\n           // absolute path of some kind (UNC or otherwise)\n           isAbsolute = true;\n \n-          code = path.charCodeAt(1);\n-          if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+          if (isPathSeparator(path.charCodeAt(1))) {\n             // Matched double path separator at beginning\n             var j = 2;\n             var last = j;\n             // Match 1 or more non-path separators\n             for (; j < len; ++j) {\n-              code = path.charCodeAt(j);\n-              if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+              if (isPathSeparator(path.charCodeAt(j)))\n                 break;\n             }\n             if (j < len && j !== last) {\n@@ -258,20 +266,15 @@ const win32 = {\n               last = j;\n               // Match 1 or more path separators\n               for (; j < len; ++j) {\n-                code = path.charCodeAt(j);\n-                if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n+                if (!isPathSeparator(path.charCodeAt(j)))\n                   break;\n               }\n               if (j < len && j !== last) {\n                 // Matched!\n                 last = j;\n                 // Match 1 or more non-path separators\n                 for (; j < len; ++j) {\n-                  code = path.charCodeAt(j);\n-                  const isPathSeparator =\n-                    code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n-\n-                  if (isPathSeparator)\n+                  if (isPathSeparator(path.charCodeAt(j)))\n                     break;\n                 }\n                 if (j === len) {\n@@ -290,16 +293,14 @@ const win32 = {\n           } else {\n             rootEnd = 1;\n           }\n-        } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-                   (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+        } else if (isWindowsDeviceRoot(code)) {\n           // Possible device root\n \n           if (path.charCodeAt(1) === CHAR_COLON) {\n             device = path.slice(0, 2);\n             rootEnd = 2;\n             if (len > 2) {\n-              code = path.charCodeAt(2);\n-              if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+              if (isPathSeparator(path.charCodeAt(2))) {\n                 // Treat separator following drive name as an absolute path\n                 // indicator\n                 isAbsolute = true;\n@@ -308,7 +309,7 @@ const win32 = {\n             }\n           }\n         }\n-      } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      } else if (isPathSeparator(code)) {\n         // `path` contains just a path separator\n         rootEnd = 1;\n         isAbsolute = true;\n@@ -351,28 +352,26 @@ const win32 = {\n     if (len === 0)\n       return '.';\n     var rootEnd = 0;\n-    var code = path.charCodeAt(0);\n     var device;\n     var isAbsolute = false;\n+    const code = path.charCodeAt(0);\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(code)) {\n         // Possible UNC root\n \n         // If we started with a separator, we know we at least have an absolute\n         // path of some kind (UNC or otherwise)\n         isAbsolute = true;\n \n-        code = path.charCodeAt(1);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(path.charCodeAt(1))) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n-            code = path.charCodeAt(j);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+            if (isPathSeparator(path.charCodeAt(j)))\n               break;\n           }\n           if (j < len && j !== last) {\n@@ -381,17 +380,15 @@ const win32 = {\n             last = j;\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n-              code = path.charCodeAt(j);\n-              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n+              if (!isPathSeparator(path.charCodeAt(j)))\n                 break;\n             }\n             if (j < len && j !== last) {\n               // Matched!\n               last = j;\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n-                code = path.charCodeAt(j);\n-                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+                if (isPathSeparator(path.charCodeAt(j)))\n                   break;\n               }\n               if (j === len) {\n@@ -411,16 +408,14 @@ const win32 = {\n         } else {\n           rootEnd = 1;\n         }\n-      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+      } else if (isWindowsDeviceRoot(code)) {\n         // Possible device root\n \n         if (path.charCodeAt(1) === CHAR_COLON) {\n           device = path.slice(0, 2);\n           rootEnd = 2;\n           if (len > 2) {\n-            code = path.charCodeAt(2);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+            if (isPathSeparator(path.charCodeAt(2))) {\n               // Treat separator following drive name as an absolute path\n               // indicator\n               isAbsolute = true;\n@@ -429,23 +424,20 @@ const win32 = {\n           }\n         }\n       }\n-    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+    } else if (isPathSeparator(code)) {\n       // `path` contains just a path separator, exit early to avoid unnecessary\n       // work\n       return '\\\\';\n     }\n \n-    code = path.charCodeAt(len - 1);\n-    var trailingSeparator =\n-      (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH);\n     var tail;\n     if (rootEnd < len)\n       tail = normalizeStringWin32(path.slice(rootEnd), !isAbsolute);\n     else\n       tail = '';\n     if (tail.length === 0 && !isAbsolute)\n       tail = '.';\n-    if (tail.length > 0 && trailingSeparator)\n+    if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1)))\n       tail += '\\\\';\n     if (device === undefined) {\n       if (isAbsolute) {\n@@ -476,16 +468,15 @@ const win32 = {\n     const len = path.length;\n     if (len === 0)\n       return false;\n-    var code = path.charCodeAt(0);\n-    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+\n+    const code = path.charCodeAt(0);\n+    if (isPathSeparator(code)) {\n       return true;\n-    } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-               (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+    } else if (isWindowsDeviceRoot(code)) {\n       // Possible device root\n \n       if (len > 2 && path.charCodeAt(1) === CHAR_COLON) {\n-        code = path.charCodeAt(2);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+        if (isPathSeparator(path.charCodeAt(2)))\n           return true;\n       }\n     }\n@@ -528,17 +519,14 @@ const win32 = {\n     //   path.join('//server', 'share') -> '\\\\\\\\server\\\\share\\\\')\n     var needsReplace = true;\n     var slashCount = 0;\n-    var code = firstPart.charCodeAt(0);\n-    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+    if (isPathSeparator(firstPart.charCodeAt(0))) {\n       ++slashCount;\n       const firstLen = firstPart.length;\n       if (firstLen > 1) {\n-        code = firstPart.charCodeAt(1);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(firstPart.charCodeAt(1))) {\n           ++slashCount;\n           if (firstLen > 2) {\n-            code = firstPart.charCodeAt(2);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+            if (isPathSeparator(firstPart.charCodeAt(2)))\n               ++slashCount;\n             else {\n               // We matched a UNC path in the first part\n@@ -551,8 +539,7 @@ const win32 = {\n     if (needsReplace) {\n       // Find any more consecutive slashes we need to replace\n       for (; slashCount < joined.length; ++slashCount) {\n-        code = joined.charCodeAt(slashCount);\n-        if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n+        if (!isPathSeparator(joined.charCodeAt(slashCount)))\n           break;\n       }\n \n@@ -699,19 +686,17 @@ const win32 = {\n     const resolvedPath = win32.resolve(path);\n \n     if (resolvedPath.length >= 3) {\n-      var code = resolvedPath.charCodeAt(0);\n-      if (code === CHAR_BACKWARD_SLASH) {\n+      if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH) {\n         // Possible UNC root\n \n         if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {\n-          code = resolvedPath.charCodeAt(2);\n+          const code = resolvedPath.charCodeAt(2);\n           if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {\n             // Matched non-long UNC root, convert the path to a long UNC path\n             return '\\\\\\\\?\\\\UNC\\\\' + resolvedPath.slice(2);\n           }\n         }\n-      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+      } else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0))) {\n         // Possible device root\n \n         if (resolvedPath.charCodeAt(1) === CHAR_COLON &&\n@@ -734,42 +719,38 @@ const win32 = {\n     var end = -1;\n     var matchedSlash = true;\n     var offset = 0;\n-    var code = path.charCodeAt(0);\n+    const code = path.charCodeAt(0);\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(code)) {\n         // Possible UNC root\n \n         rootEnd = offset = 1;\n \n-        code = path.charCodeAt(1);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(path.charCodeAt(1))) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n-            code = path.charCodeAt(j);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+            if (isPathSeparator(path.charCodeAt(j)))\n               break;\n           }\n           if (j < len && j !== last) {\n             // Matched!\n             last = j;\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n-              code = path.charCodeAt(j);\n-              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n+              if (!isPathSeparator(path.charCodeAt(j)))\n                 break;\n             }\n             if (j < len && j !== last) {\n               // Matched!\n               last = j;\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n-                code = path.charCodeAt(j);\n-                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+                if (isPathSeparator(path.charCodeAt(j)))\n                   break;\n               }\n               if (j === len) {\n@@ -786,28 +767,25 @@ const win32 = {\n             }\n           }\n         }\n-      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+      } else if (isWindowsDeviceRoot(code)) {\n         // Possible device root\n \n         if (path.charCodeAt(1) === CHAR_COLON) {\n           rootEnd = offset = 2;\n           if (len > 2) {\n-            code = path.charCodeAt(2);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+            if (isPathSeparator(path.charCodeAt(2)))\n               rootEnd = offset = 3;\n           }\n         }\n       }\n-    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+    } else if (isPathSeparator(code)) {\n       // `path` contains just a path separator, exit early to avoid\n       // unnecessary work\n       return path;\n     }\n \n     for (var i = len - 1; i >= offset; --i) {\n-      code = path.charCodeAt(i);\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(path.charCodeAt(i))) {\n         if (!matchedSlash) {\n           end = i;\n           break;\n@@ -842,8 +820,7 @@ const win32 = {\n     // disregarded\n     if (path.length >= 2) {\n       const drive = path.charCodeAt(0);\n-      if ((drive >= CHAR_UPPERCASE_A && drive <= CHAR_UPPERCASE_Z) ||\n-          (drive >= CHAR_LOWERCASE_A && drive <= CHAR_LOWERCASE_Z)) {\n+      if (isWindowsDeviceRoot(drive)) {\n         if (path.charCodeAt(1) === CHAR_COLON)\n           start = 2;\n       }\n@@ -856,7 +833,7 @@ const win32 = {\n       var firstNonSlashEnd = -1;\n       for (i = path.length - 1; i >= start; --i) {\n         const code = path.charCodeAt(i);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(code)) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -895,8 +872,7 @@ const win32 = {\n       return path.slice(start, end);\n     } else {\n       for (i = path.length - 1; i >= start; --i) {\n-        const code = path.charCodeAt(i);\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(path.charCodeAt(i))) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -932,18 +908,16 @@ const win32 = {\n     // Check for a drive letter prefix so as not to mistake the following\n     // path separator as an extra separator at the end of the path that can be\n     // disregarded\n-    if (path.length >= 2) {\n-      const code = path.charCodeAt(0);\n-      if (path.charCodeAt(1) === CHAR_COLON &&\n-          ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-           (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z))) {\n-        start = startPart = 2;\n-      }\n+\n+    if (path.length >= 2 &&\n+        path.charCodeAt(1) === CHAR_COLON &&\n+        isWindowsDeviceRoot(path.charCodeAt(0))) {\n+      start = startPart = 2;\n     }\n \n     for (var i = path.length - 1; i >= start; --i) {\n       const code = path.charCodeAt(i);\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(code)) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -1003,41 +977,37 @@ const win32 = {\n \n     var len = path.length;\n     var rootEnd = 0;\n-    var code = path.charCodeAt(0);\n+    let code = path.charCodeAt(0);\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(code)) {\n         // Possible UNC root\n \n-        code = path.charCodeAt(1);\n         rootEnd = 1;\n-        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+        if (isPathSeparator(path.charCodeAt(1))) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n-            code = path.charCodeAt(j);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+            if (isPathSeparator(path.charCodeAt(j)))\n               break;\n           }\n           if (j < len && j !== last) {\n             // Matched!\n             last = j;\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n-              code = path.charCodeAt(j);\n-              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n+              if (!isPathSeparator(path.charCodeAt(j)))\n                 break;\n             }\n             if (j < len && j !== last) {\n               // Matched!\n               last = j;\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n-                code = path.charCodeAt(j);\n-                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n+                if (isPathSeparator(path.charCodeAt(j)))\n                   break;\n               }\n               if (j === len) {\n@@ -1052,15 +1022,13 @@ const win32 = {\n             }\n           }\n         }\n-      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n-                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n+      } else if (isWindowsDeviceRoot(code)) {\n         // Possible device root\n \n         if (path.charCodeAt(1) === CHAR_COLON) {\n           rootEnd = 2;\n           if (len > 2) {\n-            code = path.charCodeAt(2);\n-            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+            if (isPathSeparator(path.charCodeAt(2))) {\n               if (len === 3) {\n                 // `path` contains just a drive root, exit early to avoid\n                 // unnecessary work\n@@ -1077,7 +1045,7 @@ const win32 = {\n           }\n         }\n       }\n-    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+    } else if (isPathSeparator(code)) {\n       // `path` contains just a path separator, exit early to avoid\n       // unnecessary work\n       ret.root = ret.dir = path;\n@@ -1100,7 +1068,7 @@ const win32 = {\n     // Get non-dir info\n     for (; i >= rootEnd; --i) {\n       code = path.charCodeAt(i);\n-      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n+      if (isPathSeparator(code)) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -1363,13 +1331,11 @@ const posix = {\n     assertPath(path);\n     if (path.length === 0)\n       return '.';\n-    var code = path.charCodeAt(0);\n-    var hasRoot = (code === CHAR_FORWARD_SLASH);\n+    const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n     var end = -1;\n     var matchedSlash = true;\n     for (var i = path.length - 1; i >= 1; --i) {\n-      code = path.charCodeAt(i);\n-      if (code === CHAR_FORWARD_SLASH) {\n+      if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n         if (!matchedSlash) {\n           end = i;\n           break;\n@@ -1534,8 +1500,7 @@ const posix = {\n     var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n     if (path.length === 0)\n       return ret;\n-    var code = path.charCodeAt(0);\n-    var isAbsolute = (code === CHAR_FORWARD_SLASH);\n+    var isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n     var start;\n     if (isAbsolute) {\n       ret.root = '/';\n@@ -1555,7 +1520,7 @@ const posix = {\n \n     // Get non-dir info\n     for (; i >= start; --i) {\n-      code = path.charCodeAt(i);\n+      const code = path.charCodeAt(i);\n       if (code === CHAR_FORWARD_SLASH) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now"
        }
    ],
    "stats": {
        "total": 187,
        "additions": 76,
        "deletions": 111
    }
}