{
    "author": "ChALkeR",
    "message": "fs: remove broken code in promises/write\n\nThat code expects the last argument to be a callback.\nWhen it's not a callback, it shifts arguments, defaulting\nencoding to 'utf-8', which is clearly broken.\n\nOld signature: (fd, string[, position[, encoding]], callback)\nNew signature: (fd, string[, position[, encoding]])\n\nPR-URL: https://github.com/nodejs/node/pull/20407\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Jamie Davis <davisjam@vt.edu>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>",
    "sha": "ca6b12e28df53110de7ee58699d5af099d036c67",
    "files": [
        {
            "sha": "eee08d1409f040b8b3b793aa9687dec9186fb002",
            "filename": "lib/internal/fs/promises.js",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/ca6b12e28df53110de7ee58699d5af099d036c67/lib%2Finternal%2Ffs%2Fpromises.js",
            "raw_url": "https://github.com/nodejs/node/raw/ca6b12e28df53110de7ee58699d5af099d036c67/lib%2Finternal%2Ffs%2Fpromises.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ffs%2Fpromises.js?ref=ca6b12e28df53110de7ee58699d5af099d036c67",
            "patch": "@@ -244,15 +244,6 @@ async function write(handle, buffer, offset, length, position) {\n \n   if (typeof buffer !== 'string')\n     buffer += '';\n-  if (typeof position !== 'function') {\n-    if (typeof offset === 'function') {\n-      position = offset;\n-      offset = null;\n-    } else {\n-      position = length;\n-    }\n-    length = 'utf8';\n-  }\n   const bytesWritten = (await binding.writeString(handle.fd, buffer, offset,\n                                                   length, kUsePromises)) || 0;\n   return { bytesWritten, buffer };"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 0,
        "deletions": 9
    }
}