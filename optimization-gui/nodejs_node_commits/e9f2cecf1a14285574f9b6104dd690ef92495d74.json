{
    "author": "BridgeAR",
    "message": "Revert \"fs: Revert throw on invalid callbacks\"\n\nThis reverts commit 8250bfd1e5188d5dada58aedf7a991e959d5eaa9.\n\nPR-URL: https://github.com/nodejs/node/pull/18668\nRefs: https://github.com/nodejs/node/pull/12562\nRefs: https://github.com/nodejs/node/pull/12976\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Gus Caplan <me@gus.host>",
    "sha": "e9f2cecf1a14285574f9b6104dd690ef92495d74",
    "files": [
        {
            "sha": "651e5d1cf98e7aae4a4c1334f028b98d52801698",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -162,9 +162,10 @@ explicitly via error event handlers set on the domain instead.\n <a id=\"DEP0013\"></a>\n ### DEP0013: fs asynchronous function without callback\n \n-Type: Runtime\n+Type: End-of-Life\n \n-Calling an asynchronous function without a callback is deprecated.\n+Calling an asynchronous function without a callback throws a `TypeError`\n+REPLACEME onwards. Refer: [PR 12562](https://github.com/nodejs/node/pull/12562)\n \n <a id=\"DEP0014\"></a>\n ### DEP0014: fs.read legacy String interface"
        },
        {
            "sha": "f33bbe47851b5844a82d40bb095c2a361d1fb1db",
            "filename": "doc/api/fs.md",
            "status": "modified",
            "additions": 150,
            "deletions": 30,
            "changes": 180,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/doc%2Fapi%2Ffs.md",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/doc%2Fapi%2Ffs.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Ffs.md?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -819,10 +819,14 @@ try {\n <!-- YAML\n added: v0.6.7\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7831\n     description: The passed `options` object will never be modified.\n@@ -935,14 +939,18 @@ try {\n <!-- YAML\n added: v0.1.30\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1018,14 +1026,18 @@ See also: chmod(2)\n <!-- YAML\n added: v0.1.97\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1062,10 +1074,14 @@ See also: chown(2)\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1444,10 +1460,14 @@ a callback.)\n <!-- YAML\n added: v0.4.7\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1472,10 +1492,14 @@ Synchronous fchmod(2). Returns `undefined`.\n <!-- YAML\n added: v0.4.7\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1502,10 +1526,14 @@ Synchronous fchown(2). Returns `undefined`.\n <!-- YAML\n added: v0.1.96\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1528,10 +1556,14 @@ Synchronous fdatasync(2). Returns `undefined`.\n <!-- YAML\n added: v0.1.95\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1557,10 +1589,14 @@ Synchronous fstat(2). Returns an instance of [`fs.Stats`][].\n <!-- YAML\n added: v0.1.96\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1583,10 +1619,14 @@ Synchronous fsync(2). Returns `undefined`.\n <!-- YAML\n added: v0.8.6\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -1652,10 +1692,14 @@ Synchronous ftruncate(2). Returns `undefined`.\n <!-- YAML\n added: v0.4.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v4.1.0\n     pr-url: https://github.com/nodejs/node/pull/2387\n     description: Numeric strings, `NaN` and `Infinity` are now allowed\n@@ -1694,10 +1738,14 @@ Synchronous version of [`fs.futimes()`][]. Returns `undefined`.\n <!-- YAML\n deprecated: v0.4.7\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1724,10 +1772,14 @@ Synchronous lchmod(2). Returns `undefined`.\n <!-- YAML\n deprecated: v0.4.7\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1754,6 +1806,10 @@ Synchronous lchown(2). Returns `undefined`.\n <!-- YAML\n added: v0.1.31\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `existingPath` and `newPath` parameters can be WHATWG\n@@ -1762,7 +1818,7 @@ changes:\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `existingPath` {string|Buffer|URL}\n@@ -1793,14 +1849,18 @@ Synchronous link(2). Returns `undefined`.\n <!-- YAML\n added: v0.1.30\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1832,14 +1892,18 @@ Synchronous lstat(2). Returns an instance of [`fs.Stats`][].\n <!-- YAML\n added: v0.1.8\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -1874,10 +1938,14 @@ See also: mkdir(2)\n <!-- YAML\n added: v5.10.0\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v6.2.1\n     pr-url: https://github.com/nodejs/node/pull/6828\n     description: The `callback` parameter is optional now.\n@@ -2130,14 +2198,18 @@ a Promise for an object with `bytesRead` and `buffer` properties.\n <!-- YAML\n added: v0.1.8\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v6.0.0\n     pr-url: https://github.com/nodejs/node/pull/5616\n     description: The `options` parameter was added.\n@@ -2186,14 +2258,18 @@ the filenames returned will be passed as `Buffer` objects.\n <!-- YAML\n added: v0.1.29\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v5.1.0\n     pr-url: https://github.com/nodejs/node/pull/3740\n     description: The `callback` will always be called with `null` as the `error`\n@@ -2296,14 +2372,18 @@ fs.readFileSync('<directory>'); // => null, <data>\n <!-- YAML\n added: v0.1.31\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -2365,6 +2445,10 @@ Synchronous version of [`fs.read()`][]. Returns the number of `bytesRead`.\n <!-- YAML\n added: v0.1.31\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v8.0.0\n     pr-url: https://github.com/nodejs/node/pull/13028\n     description: Pipe/Socket resolve support was added.\n@@ -2375,7 +2459,7 @@ changes:\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v6.4.0\n     pr-url: https://github.com/nodejs/node/pull/7899\n     description: Calling `realpath` now works again for various edge cases\n@@ -2518,6 +2602,10 @@ this restriction.\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `oldPath` and `newPath` parameters can be WHATWG `URL`\n@@ -2526,7 +2614,7 @@ changes:\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `oldPath` {string|Buffer|URL}\n@@ -2557,14 +2645,18 @@ Synchronous rename(2). Returns `undefined`.\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameters can be a WHATWG `URL` object using\n                  `file:` protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -2598,14 +2690,18 @@ on Windows and an `ENOTDIR` error on POSIX.\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -2694,10 +2790,14 @@ Synchronous symlink(2). Returns `undefined`.\n <!-- YAML\n added: v0.8.6\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -2730,14 +2830,18 @@ in the future.\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.6.0\n     pr-url: https://github.com/nodejs/node/pull/10739\n     description: The `path` parameter can be a WHATWG `URL` object using `file:`\n                  protocol. Support is currently still *experimental*.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `path` {string|Buffer|URL}\n@@ -2798,6 +2902,10 @@ and `fs.unwatchFile()` when possible.\n <!-- YAML\n added: v0.4.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v8.0.0\n     pr-url: https://github.com/nodejs/node/pull/11919\n     description: \"`NaN`, `Infinity`, and `-Infinity` are no longer valid time\n@@ -2809,7 +2917,7 @@ changes:\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v4.1.0\n     pr-url: https://github.com/nodejs/node/pull/2387\n     description: Numeric strings, `NaN` and `Infinity` are now allowed\n@@ -3031,6 +3139,10 @@ This happens when:\n <!-- YAML\n added: v0.0.2\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.4.0\n     pr-url: https://github.com/nodejs/node/pull/10382\n     description: The `buffer` parameter can now be a `Uint8Array`.\n@@ -3040,7 +3152,7 @@ changes:\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -3080,13 +3192,17 @@ the end of the file.\n <!-- YAML\n added: v0.11.5\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.2.0\n     pr-url: https://github.com/nodejs/node/pull/7856\n     description: The `position` parameter is optional now.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n -->\n \n * `fd` {integer}\n@@ -3127,13 +3243,17 @@ the end of the file.\n <!-- YAML\n added: v0.1.29\n changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/12562\n+    description: The `callback` parameter is no longer optional. Not passing\n+                 it will throw a `TypeError` at runtime.\n   - version: v7.4.0\n     pr-url: https://github.com/nodejs/node/pull/10382\n     description: The `data` parameter can now be a `Uint8Array`.\n   - version: v7.0.0\n     pr-url: https://github.com/nodejs/node/pull/7897\n     description: The `callback` parameter is no longer optional. Not passing\n-                 it will emit a deprecation warning.\n+                 it will emit a deprecation warning with id DEP0013.\n   - version: v5.0.0\n     pr-url: https://github.com/nodejs/node/pull/3163\n     description: The `file` parameter can be a file descriptor now."
        },
        {
            "sha": "abffde7b9ec9e67a7433c3509d5690042bc32250",
            "filename": "lib/fs.js",
            "status": "modified",
            "additions": 5,
            "deletions": 49,
            "changes": 54,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/lib%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/lib%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ffs.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -77,7 +77,6 @@ const { kMaxLength } = require('buffer');\n \n const isWindows = process.platform === 'win32';\n \n-const DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n const errnoException = errors.errnoException;\n \n let truncateWarn = true;\n@@ -106,46 +105,17 @@ function handleErrorFromBinding(ctx) {\n   }\n }\n \n-// TODO(joyeecheung): explore how the deprecation could be solved via linting\n-// rules. See https://github.com/nodejs/node/pull/12976\n-function rethrow() {\n-  process.emitWarning(\n-    'Calling an asynchronous function without callback is deprecated.',\n-    'DeprecationWarning', 'DEP0013', rethrow\n-  );\n-\n-  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n-  // is fairly slow to generate.\n-  if (DEBUG) {\n-    var backtrace = new Error();\n-    return function(err) {\n-      if (err) {\n-        backtrace.stack = `${err.name}: ${err.message}` +\n-                          backtrace.stack.substr(backtrace.name.length);\n-        throw backtrace;\n-      }\n-    };\n-  }\n-\n-  return function(err) {\n-    if (err) {\n-      throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n-    }\n-  };\n-}\n-\n function maybeCallback(cb) {\n-  return typeof cb === 'function' ? cb : rethrow();\n+  if (typeof cb === 'function')\n+    return cb;\n+\n+  throw new errors.TypeError('ERR_INVALID_CALLBACK');\n }\n \n // Ensure that callbacks run in the global context. Only use this function\n // for callbacks that are passed to the binding layer, callbacks that are\n // invoked from JS already run in the proper scope.\n function makeCallback(cb) {\n-  if (cb === undefined) {\n-    return rethrow();\n-  }\n-\n   if (typeof cb !== 'function') {\n     throw new errors.TypeError('ERR_INVALID_CALLBACK');\n   }\n@@ -159,10 +129,6 @@ function makeCallback(cb) {\n // an optimization, since the data passed back to the callback needs to be\n // transformed anyway.\n function makeStatsCallback(cb) {\n-  if (cb === undefined) {\n-    return rethrow();\n-  }\n-\n   if (typeof cb !== 'function') {\n     throw new errors.TypeError('ERR_INVALID_CALLBACK');\n   }\n@@ -191,8 +157,6 @@ fs.access = function(path, mode, callback) {\n   if (typeof mode === 'function') {\n     callback = mode;\n     mode = fs.F_OK;\n-  } else if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n   }\n \n   path = getPathFromURL(path);\n@@ -218,16 +182,8 @@ fs.accessSync = function(path, mode) {\n   handleErrorFromBinding(ctx);\n };\n \n-// fs.exists never throws even when the arguments are invalid - if there is\n-// a callback it would invoke it with false, otherwise it emits a warning\n-// (see the comments of rethrow()).\n-// This is to bring it inline with fs.existsSync, which never throws.\n-// TODO(joyeecheung): deprecate the never-throw-on-invalid-arguments behavior\n fs.exists = function(path, callback) {\n-  if (typeof callback !== 'function') {\n-    rethrow();\n-    return;\n-  }\n+  maybeCallback(callback);\n \n   function suppressedCallback(err) {\n     callback(err ? false : true);"
        },
        {
            "sha": "9bac28f8efaabbcf2c1799f7eb22528bd5969abb",
            "filename": "test/fixtures/test-fs-readfile-error.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Ffixtures%2Ftest-fs-readfile-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Ffixtures%2Ftest-fs-readfile-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Ftest-fs-readfile-error.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -19,4 +19,4 @@\n // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n // USE OR OTHER DEALINGS IN THE SOFTWARE.\n \n-require('fs').readFile('/');  // throws EISDIR\n+require('fs').readFileSync('/');  // throws EISDIR"
        },
        {
            "sha": "81070286eba6bcb1d5b8c66c584b1aec1b5c2c2e",
            "filename": "test/parallel/test-fs-access.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-access.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-access.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-access.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -80,7 +80,8 @@ fs.access(readOnlyFile, fs.F_OK | fs.R_OK, common.mustCall((err) => {\n   assert.ifError(err);\n }));\n \n-fs.access(readOnlyFile, fs.W_OK, common.mustCall((err) => {\n+fs.access(readOnlyFile, fs.W_OK, common.mustCall(function(err) {\n+  assert.strictEqual(this, undefined);\n   if (hasWriteAccessForReadonlyFile) {\n     assert.ifError(err);\n   } else {"
        },
        {
            "sha": "29ae1b2f3b9e9a60bb1bd84fd27715740398fe28",
            "filename": "test/parallel/test-fs-append-file.js",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-append-file.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-append-file.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-append-file.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -146,12 +146,9 @@ fs.open(filename5, 'a+', function(e, fd) {\n   });\n });\n \n-// test that a missing callback emits a warning, even if the last argument is a\n-// function.\n-const filename6 = join(tmpdir.path, 'append6.txt');\n-const warn = 'Calling an asynchronous function without callback is deprecated.';\n-common.expectWarning('DeprecationWarning', warn);\n-fs.appendFile(filename6, console.log);\n+assert.throws(\n+  () => fs.appendFile(join(tmpdir.path, 'append6.txt'), console.log),\n+  { code: 'ERR_INVALID_CALLBACK' });\n \n process.on('exit', function() {\n   assert.strictEqual(12, ncallbacks);"
        },
        {
            "sha": "cd2d9a712f3f58e74fc50632d736df5b28d56059",
            "filename": "test/parallel/test-fs-exists.js",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-exists.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-exists.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-exists.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -26,10 +26,9 @@ const fs = require('fs');\n const { URL } = require('url');\n const f = __filename;\n \n-// Only warnings are emitted when the callback is invalid\n-fs.exists(f);\n-fs.exists();\n-fs.exists(f, {});\n+assert.throws(() => fs.exists(f), { code: 'ERR_INVALID_CALLBACK' });\n+assert.throws(() => fs.exists(), { code: 'ERR_INVALID_CALLBACK' });\n+assert.throws(() => fs.exists(f, {}), { code: 'ERR_INVALID_CALLBACK' });\n \n fs.exists(f, common.mustCall(function(y) {\n   assert.strictEqual(y, true);"
        },
        {
            "sha": "22e6a490c9ca5d66f227ee8065a9d7b72d8a44ea",
            "filename": "test/parallel/test-fs-fchmod.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-fchmod.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-fchmod.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-fchmod.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -44,7 +44,7 @@ const fs = require('fs');\n \n // Check for mode values range\n const modeUpperBoundaryValue = 0o777;\n-fs.fchmod(1, modeUpperBoundaryValue);\n+fs.fchmod(1, modeUpperBoundaryValue, common.mustCall());\n fs.fchmodSync(1, modeUpperBoundaryValue);\n \n // umask of 0o777 is equal to 775"
        },
        {
            "sha": "d3ff165513156cb4782d10053eaf1667e186936b",
            "filename": "test/parallel/test-fs-make-callback.js",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-make-callback.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-make-callback.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-make-callback.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -4,7 +4,6 @@ const fs = require('fs');\n const callbackThrowValues = [null, true, false, 0, 1, 'foo', /foo/, [], {}];\n \n const { sep } = require('path');\n-const warn = 'Calling an asynchronous function without callback is deprecated.';\n \n const tmpdir = require('../common/tmpdir');\n tmpdir.refresh();\n@@ -16,11 +15,6 @@ function testMakeCallback(cb) {\n   };\n }\n \n-common.expectWarning('DeprecationWarning', warn);\n-\n-// Passing undefined/nothing calls rethrow() internally, which emits a warning\n-testMakeCallback()();\n-\n function invalidCallbackThrowsTests() {\n   callbackThrowValues.forEach((value) => {\n     common.expectsError(testMakeCallback(value), {"
        },
        {
            "sha": "c8de29e407fec2f68168c690295a4ac37353f4f5",
            "filename": "test/parallel/test-fs-makeStatsCallback.js",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-makeStatsCallback.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-makeStatsCallback.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-makeStatsCallback.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -2,7 +2,6 @@\n const common = require('../common');\n const fs = require('fs');\n const callbackThrowValues = [null, true, false, 0, 1, 'foo', /foo/, [], {}];\n-const warn = 'Calling an asynchronous function without callback is deprecated.';\n \n function testMakeStatsCallback(cb) {\n   return function() {\n@@ -11,14 +10,9 @@ function testMakeStatsCallback(cb) {\n   };\n }\n \n-common.expectWarning('DeprecationWarning', warn);\n-\n // Verify the case where a callback function is provided\n testMakeStatsCallback(common.mustCall())();\n \n-// Passing undefined/nothing calls rethrow() internally, which emits a warning\n-testMakeStatsCallback()();\n-\n function invalidCallbackThrowsTests() {\n   callbackThrowValues.forEach((value) => {\n     common.expectsError(testMakeStatsCallback(value), {"
        },
        {
            "sha": "443dafa275630d58e11f8c5dd171f88ba7ca9060",
            "filename": "test/parallel/test-fs-mkdtemp.js",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-mkdtemp.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-mkdtemp.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-mkdtemp.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -29,8 +29,3 @@ fs.mkdtemp(path.join(tmpdir.path, 'bar.'), common.mustCall(handler));\n // Same test as above, but making sure that passing an options object doesn't\n // affect the way the callback function is handled.\n fs.mkdtemp(path.join(tmpdir.path, 'bar.'), {}, common.mustCall(handler));\n-\n-// Making sure that not passing a callback doesn't crash, as a default function\n-// is passed internally.\n-fs.mkdtemp(path.join(tmpdir.path, 'bar-'));\n-fs.mkdtemp(path.join(tmpdir.path, 'bar-'), {});"
        },
        {
            "sha": "97633c9a887accf6af8abf69ec298ad0340ca7fa",
            "filename": "test/parallel/test-fs-readfile-error.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-readfile-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-readfile-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-readfile-error.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -48,7 +48,7 @@ function test(env, cb) {\n \n test({ NODE_DEBUG: '' }, common.mustCall((data) => {\n   assert(/EISDIR/.test(data));\n-  assert(!/test-fs-readfile-error/.test(data));\n+  assert(/test-fs-readfile-error/.test(data));\n }));\n \n test({ NODE_DEBUG: 'fs' }, common.mustCall((data) => {\n@@ -57,7 +57,7 @@ test({ NODE_DEBUG: 'fs' }, common.mustCall((data) => {\n }));\n \n common.expectsError(\n-  () => { fs.readFile(() => {}); },\n+  () => { fs.readFile(() => {}, common.mustNotCall()); },\n   {\n     code: 'ERR_INVALID_ARG_TYPE',\n     message: 'The \"path\" argument must be one of type string, Buffer, or URL',"
        },
        {
            "sha": "576457203e698917f758e54769b8f97adb614969",
            "filename": "test/parallel/test-fs-write-no-fd.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-write-no-fd.js",
            "raw_url": "https://github.com/nodejs/node/raw/e9f2cecf1a14285574f9b6104dd690ef92495d74/test%2Fparallel%2Ftest-fs-write-no-fd.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-write-no-fd.js?ref=e9f2cecf1a14285574f9b6104dd690ef92495d74",
            "patch": "@@ -1,12 +1,12 @@\n 'use strict';\n-require('../common');\n+const common = require('../common');\n const fs = require('fs');\n const assert = require('assert');\n \n assert.throws(function() {\n-  fs.write(null, Buffer.allocUnsafe(1), 0, 1);\n+  fs.write(null, Buffer.allocUnsafe(1), 0, 1, common.mustNotCall());\n }, /TypeError/);\n \n assert.throws(function() {\n-  fs.write(null, '1', 0, 1);\n+  fs.write(null, '1', 0, 1, common.mustNotCall());\n }, /TypeError/);"
        }
    ],
    "stats": {
        "total": 289,
        "additions": 173,
        "deletions": 116
    }
}