{
    "author": "jvelezpo",
    "message": "test: verify the shell option works properly on execFile\n\nUseful for executing in a shell because it accepts arguments as\nan array instead of a string as exec does.\nDepending on the circumstances,\nthat can prove to be useful if the arguments are already prepared.\n\nPR-URL: https://github.com/nodejs/node/pull/18384\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "6f8de31cde682f9d90455433e8ee72fffa27a101",
    "files": [
        {
            "sha": "af69d685789d62db6b6d023bd817c875ab17f7cb",
            "filename": "test/parallel/test-child-process-execfile.js",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/6f8de31cde682f9d90455433e8ee72fffa27a101/test%2Fparallel%2Ftest-child-process-execfile.js",
            "raw_url": "https://github.com/nodejs/node/raw/6f8de31cde682f9d90455433e8ee72fffa27a101/test%2Fparallel%2Ftest-child-process-execfile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-child-process-execfile.js?ref=6f8de31cde682f9d90455433e8ee72fffa27a101",
            "patch": "@@ -7,6 +7,7 @@ const { getSystemErrorName } = require('util');\n const fixtures = require('../common/fixtures');\n \n const fixture = fixtures.path('exit.js');\n+const execOpts = { encoding: 'utf8', shell: true };\n \n {\n   execFile(\n@@ -39,3 +40,10 @@ const fixture = fixtures.path('exit.js');\n   child.kill();\n   child.emit('close', code, null);\n }\n+\n+{\n+  // Verify the shell option works properly\n+  execFile(process.execPath, [fixture, 0], execOpts, common.mustCall((err) => {\n+    assert.ifError(err);\n+  }));\n+}"
        },
        {
            "sha": "133217dcdf7c3f6a2d228ff77757de50afad4c51",
            "filename": "test/sequential/test-child-process-execsync.js",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6f8de31cde682f9d90455433e8ee72fffa27a101/test%2Fsequential%2Ftest-child-process-execsync.js",
            "raw_url": "https://github.com/nodejs/node/raw/6f8de31cde682f9d90455433e8ee72fffa27a101/test%2Fsequential%2Ftest-child-process-execsync.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-child-process-execsync.js?ref=6f8de31cde682f9d90455433e8ee72fffa27a101",
            "patch": "@@ -29,6 +29,7 @@ const TIMER = 200;\n const SLEEP = 2000;\n \n const start = Date.now();\n+const execOpts = { encoding: 'utf8', shell: true };\n let err;\n let caught = false;\n \n@@ -141,3 +142,8 @@ assert.strictEqual(ret, `${msg}\\n`);\n     return true;\n   });\n }\n+\n+// Verify the shell option works properly\n+assert.doesNotThrow(() => {\n+  execFileSync(process.execPath, [], execOpts);\n+});"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 14,
        "deletions": 0
    }
}