{
    "author": "unknown",
    "message": "src: change macro to fn\n\nChange base64_encoded_size and unbase64 to inline functions. The\nbase64_encoded_size is a constexpr to be used in function declarations.\n\nPR-URL: https://github.com/nodejs/node/pull/23603\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>",
    "sha": "17c35a6297e1b8b97bb0cddc1c69cc573fb7aed0",
    "files": [
        {
            "sha": "aedec375eba550cff3a3ac05d3e275b9e682fd1a",
            "filename": "src/base64.h",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/17c35a6297e1b8b97bb0cddc1c69cc573fb7aed0/src%2Fbase64.h",
            "raw_url": "https://github.com/nodejs/node/raw/17c35a6297e1b8b97bb0cddc1c69cc573fb7aed0/src%2Fbase64.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fbase64.h?ref=17c35a6297e1b8b97bb0cddc1c69cc573fb7aed0",
            "patch": "@@ -10,8 +10,9 @@\n \n namespace node {\n //// Base 64 ////\n-#define base64_encoded_size(size) ((size + 2 - ((size + 2) % 3)) / 3 * 4)\n-\n+static inline constexpr size_t base64_encoded_size(size_t size) {\n+  return ((size + 2 - ((size + 2) % 3)) / 3 * 4);\n+}\n \n // Doesn't check for padding at the end.  Can be 1-2 bytes over.\n static inline size_t base64_decoded_size_fast(size_t size) {\n@@ -48,8 +49,9 @@ size_t base64_decoded_size(const TypeName* src, size_t size) {\n extern const int8_t unbase64_table[256];\n \n \n-#define unbase64(x)                                                           \\\n-  static_cast<uint8_t>(unbase64_table[static_cast<uint8_t>(x)])\n+inline static int8_t unbase64(uint8_t x) {\n+  return unbase64_table[x];\n+}\n \n \n template <typename TypeName>"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 6,
        "deletions": 4
    }
}