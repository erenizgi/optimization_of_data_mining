{
    "author": "unknown",
    "message": "deps: Upgrade node-inspect to 1.11.5\n\nRemoves the prompt to report a bug when trying to launch the\ndebugger using a port that is already in use.\n\nChangeset generated via:\n\n```\nrm -rf deps/node-inspect node-inspect-* && \\\n  curl -sSL \"https://github.com/nodejs/node-inspect/archive/v1.11.5.tar.gz\" | \\\n  tar -xzvf - && mv node-inspect-* deps/node-inspect\n```\n\nPR-URL: https://github.com/nodejs/node/pull/21055\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>",
    "sha": "e11447a08b132906d9852e58ccb0433b17f65b0c",
    "files": [
        {
            "sha": "b6d45aa499655bf836e9275ed503df82d90adfc8",
            "filename": "deps/node-inspect/.eslintrc",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2F.eslintrc",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2F.eslintrc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2F.eslintrc?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -5,7 +5,7 @@ env:\n   es6: true\n \n parserOptions:\n-  ecmaVersion: 2016\n+  ecmaVersion: 2017\n \n rules:\n   # Possible Errors\n@@ -139,3 +139,9 @@ globals:\n   DTRACE_HTTP_SERVER_RESPONSE: false\n   DTRACE_NET_SERVER_CONNECTION: false\n   DTRACE_NET_STREAM_END: false\n+  LTTNG_HTTP_CLIENT_REQUEST: false\n+  LTTNG_HTTP_CLIENT_RESPONSE: false\n+  LTTNG_HTTP_SERVER_REQUEST: false\n+  LTTNG_HTTP_SERVER_RESPONSE: false\n+  LTTNG_NET_SERVER_CONNECTION: false\n+  LTTNG_NET_STREAM_END: false"
        },
        {
            "sha": "b7c8444fee52a68cc2c0b5bb813554a614ea1abc",
            "filename": "deps/node-inspect/.npmrc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2F.npmrc",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2F.npmrc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2F.npmrc?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -1 +1,2 @@\n registry=https://registry.npmjs.org\n+package-lock=false"
        },
        {
            "sha": "44ae510efefd906c45ae7679bf3fcefff758daa6",
            "filename": "deps/node-inspect/CHANGELOG.md",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2FCHANGELOG.md",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2FCHANGELOG.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2FCHANGELOG.md?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -1,3 +1,17 @@\n+### 1.11.5\n+\n+* Fix eslint issues - **[@jkrems](https://github.com/jkrems)** [#63](https://github.com/nodejs/node-inspect/pull/63)\n+  - [`2adadbc`](https://github.com/nodejs/node-inspect/commit/2adadbc1086d2e374c425acbf96260a122705db2) **style:** Fix eslint issues\n+  - [`a6d2f88`](https://github.com/nodejs/node-inspect/commit/a6d2f882c026409696a1b063ff40ceba7e1ddb86) **doc:** Remove redundant newline at the end\n+\n+\n+### 1.11.4\n+\n+* Handle blocked port - **[@jkrems](https://github.com/jkrems)** [#62](https://github.com/nodejs/node-inspect/pull/62)\n+  - [`3388969`](https://github.com/nodejs/node-inspect/commit/3388969d0032a78ff0cdb8146f170b978ec13b7b) **chore:** Disable package-lock\n+  - [`d278b23`](https://github.com/nodejs/node-inspect/commit/d278b233ae5e11a2b62d01ccbaae594f39b32a96) **fix:** Stop asking to report a blocked port - see: [#60](https://github.com/nodejs/node-inspect/issues/60)\n+\n+\n ### 1.11.3\n \n * [`93caa0f`](https://github.com/nodejs/node-inspect/commit/93caa0f5267c7ab452b258d3b03329a0bb5ac7f7) **docs:** Add missing oc in protocol"
        },
        {
            "sha": "305e49915a467b1f8d99d1b575d8c3e0200f21a9",
            "filename": "deps/node-inspect/lib/_inspect.js",
            "status": "modified",
            "additions": 16,
            "deletions": 5,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Flib%2F_inspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Flib%2F_inspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2Flib%2F_inspect.js?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -42,6 +42,13 @@ const [ InspectClient, createRepl ] =\n \n const debuglog = util.debuglog('inspect');\n \n+class StartupError extends Error {\n+  constructor(message) {\n+    super(message);\n+    this.name = 'StartupError';\n+  }\n+}\n+\n function portIsFree(host, port, timeout = 2000) {\n   if (port === 0) return Promise.resolve();  // Binding to a random port.\n \n@@ -51,7 +58,7 @@ function portIsFree(host, port, timeout = 2000) {\n   return new Promise((resolve, reject) => {\n     setTimeout(() => {\n       didTimeOut = true;\n-      reject(new Error(\n+      reject(new StartupError(\n         `Timeout (${timeout}) waiting for ${host}:${port} to be free`));\n     }, timeout);\n \n@@ -346,10 +353,14 @@ function startInspect(argv = process.argv.slice(2),\n   stdin.resume();\n \n   function handleUnexpectedError(e) {\n-    console.error('There was an internal error in node-inspect. ' +\n-                  'Please report this bug.');\n-    console.error(e.message);\n-    console.error(e.stack);\n+    if (!(e instanceof StartupError)) {\n+      console.error('There was an internal error in node-inspect. ' +\n+                    'Please report this bug.');\n+      console.error(e.message);\n+      console.error(e.stack);\n+    } else {\n+      console.error(e.message);\n+    }\n     if (inspector.child) inspector.child.kill();\n     process.exit(1);\n   }"
        },
        {
            "sha": "eddc14debc4066bdb5ec36ba9ab99ed31987636f",
            "filename": "deps/node-inspect/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Fpackage.json",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2Fpackage.json?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -1,6 +1,6 @@\n {\n   \"name\": \"node-inspect\",\n-  \"version\": \"1.11.3\",\n+  \"version\": \"1.11.5\",\n   \"description\": \"Node Inspect\",\n   \"license\": \"MIT\",\n   \"main\": \"lib/_inspect.js\","
        },
        {
            "sha": "c1aaeb6a9ce7504ff0f2f28145792f2218132d3c",
            "filename": "deps/node-inspect/test/cli/invalid-args.test.js",
            "status": "modified",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/nodejs/node/blob/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Ftest%2Fcli%2Finvalid-args.test.js",
            "raw_url": "https://github.com/nodejs/node/raw/e11447a08b132906d9852e58ccb0433b17f65b0c/deps%2Fnode-inspect%2Ftest%2Fcli%2Finvalid-args.test.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fnode-inspect%2Ftest%2Fcli%2Finvalid-args.test.js?ref=e11447a08b132906d9852e58ccb0433b17f65b0c",
            "patch": "@@ -1,4 +1,7 @@\n 'use strict';\n+const Path = require('path');\n+const { createServer } = require('net');\n+\n const { test } = require('tap');\n \n const startCLI = require('./start-cli');\n@@ -23,3 +26,29 @@ test('launch w/ invalid host:port', (t) => {\n       t.equal(code, 1, 'exits with non-zero exit code');\n     });\n });\n+\n+test('launch w/ unavailable port', async (t) => {\n+  const blocker = createServer((socket) => socket.end());\n+  const port = await new Promise((resolve, reject) => {\n+    blocker.on('error', reject);\n+    blocker.listen(0, '127.0.0.1', () => resolve(blocker.address().port));\n+  });\n+\n+  try {\n+    const script = Path.join('examples', 'three-lines.js');\n+    const cli = startCLI([`--port=${port}`, script]);\n+    const code = await cli.quit();\n+\n+    t.notMatch(\n+      cli.output,\n+      'report this bug',\n+      'Omits message about reporting this as a bug');\n+    t.match(\n+      cli.output,\n+      `waiting for 127.0.0.1:${port} to be free`,\n+      'Tells the user that the port wasn\\'t available');\n+    t.equal(code, 1, 'exits with non-zero exit code');\n+  } finally {\n+    blocker.close();\n+  }\n+});"
        }
    ],
    "stats": {
        "total": 75,
        "additions": 68,
        "deletions": 7
    }
}