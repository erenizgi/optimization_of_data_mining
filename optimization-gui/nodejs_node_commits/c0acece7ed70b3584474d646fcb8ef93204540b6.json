{
    "author": "danbev",
    "message": "test: use fipsMode instead of common.hasFipsCrypto\n\nCurrently, test-cli-node-print-help uses common.hasFipsCrypto to\ndetermine if the test should check for the existence of FIPS related\noptions (--enable-fips, and --force-fips). The FIPS options are\navailable when node has been compiled against an OpenSSL library with\nFIPS support in which case the test would verify that these  options\nare available. But by using crypto.fips (which uses crypto.getFips())\nthis would only be checked when fips has been enabled, but these\noptions are available regardless if FIPS is enabled or disabled.\n\nThis commit updates the test to use fipsMode from config to determine\nif the FIPS options existence should be checked.\n\nPR-URL: https://github.com/nodejs/node/pull/25510\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Sam Roberts <vieuxtech@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "c0acece7ed70b3584474d646fcb8ef93204540b6",
    "files": [
        {
            "sha": "433a95faf2054274e95f5abf2e60cea21375630b",
            "filename": "test/parallel/test-cli-node-print-help.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c0acece7ed70b3584474d646fcb8ef93204540b6/test%2Fparallel%2Ftest-cli-node-print-help.js",
            "raw_url": "https://github.com/nodejs/node/raw/c0acece7ed70b3584474d646fcb8ef93204540b6/test%2Fparallel%2Ftest-cli-node-print-help.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-cli-node-print-help.js?ref=c0acece7ed70b3584474d646fcb8ef93204540b6",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n 'use strict';\n \n const common = require('../common');\n@@ -7,6 +8,8 @@ const common = require('../common');\n \n const assert = require('assert');\n const { exec } = require('child_process');\n+const { internalBinding } = require('internal/test/binding');\n+const { fipsMode } = internalBinding('config');\n let stdOut;\n \n \n@@ -21,15 +24,14 @@ function startPrintHelpTest() {\n function validateNodePrintHelp() {\n   const config = process.config;\n   const HAVE_OPENSSL = common.hasCrypto;\n-  const NODE_FIPS_MODE = common.hasFipsCrypto;\n   const NODE_HAVE_I18N_SUPPORT = common.hasIntl;\n   const HAVE_INSPECTOR = config.variables.v8_enable_inspector === 1;\n \n   const cliHelpOptions = [\n     { compileConstant: HAVE_OPENSSL,\n       flags: [ '--openssl-config=...', '--tls-cipher-list=...',\n                '--use-bundled-ca', '--use-openssl-ca' ] },\n-    { compileConstant: NODE_FIPS_MODE,\n+    { compileConstant: fipsMode,\n       flags: [ '--enable-fips', '--force-fips' ] },\n     { compileConstant: NODE_HAVE_I18N_SUPPORT,\n       flags: [ '--icu-data-dir=...', 'NODE_ICU_DATA' ] },"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}