{
    "author": "mhdawson",
    "message": "doc: add clarification for exception behaviour\n\nDocument current behaviour where some methods can be called\nwhen an exception is pending, while others cannot and explain\nthe behaviour.\n\nPR-URL: https://github.com/nodejs/node/pull/25339\nRefs: https://github.com/nodejs/abi-stable-node/issues/356\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "b406c9c4e95e6e90c43df843512a4c761ad9affa",
    "files": [
        {
            "sha": "bcda526f875f0c1026904216b652f6e2ab2a23a2",
            "filename": "doc/api/n-api.md",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/b406c9c4e95e6e90c43df843512a4c761ad9affa/doc%2Fapi%2Fn-api.md",
            "raw_url": "https://github.com/nodejs/node/raw/b406c9c4e95e6e90c43df843512a4c761ad9affa/doc%2Fapi%2Fn-api.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fn-api.md?ref=b406c9c4e95e6e90c43df843512a4c761ad9affa",
            "patch": "@@ -527,6 +527,15 @@ exception is pending and no additional action is required. If the\n instead of simply returning immediately, [`napi_is_exception_pending`][]\n must be called in order to determine if an exception is pending or not.\n \n+In many cases when an N-API function is called and an exception is\n+already pending, the function will return immediately with a\n+`napi_status` of `napi_pending_exception`. However, this is not the case\n+for all functions. N-API allows a subset of the functions to be\n+called to allow for some minimal cleanup before returning to JavaScript.\n+In that case, `napi_status` will reflect the status for the function. It\n+will not reflect previous pending exceptions. To avoid confusion, check\n+the error status after every function call.\n+\n When an exception is pending one of two approaches can be employed.\n \n The first approach is to do any appropriate cleanup and then return so that"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}