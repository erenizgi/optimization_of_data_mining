{
    "author": "refack",
    "message": "tools,gyp: cosmetic change to GYP `make` generator outputs\n\nPuts the compilation target upfront for easy reading.\n\nPR-URL: https://github.com/nodejs/node/pull/23156\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "731a72f3871cf177c683ee82d0a28523aa67d683",
    "files": [
        {
            "sha": "e98d93ab233ff8bcd42c1bdaa33a2f2f2f8f771f",
            "filename": "tools/gyp/pylib/gyp/generator/make.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/731a72f3871cf177c683ee82d0a28523aa67d683/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py",
            "raw_url": "https://github.com/nodejs/node/raw/731a72f3871cf177c683ee82d0a28523aa67d683/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py?ref=731a72f3871cf177c683ee82d0a28523aa67d683",
            "patch": "@@ -147,7 +147,7 @@ def CalculateGeneratorInputInfo(params):\n # special \"figure out circular dependencies\" flags around the entire\n # input list during linking.\n quiet_cmd_link = LINK($(TOOLSET)) $@\n-cmd_link = $(LINK.$(TOOLSET)) $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -o $@ -Wl,--start-group $(LD_INPUTS) $(LIBS) -Wl,--end-group\n+cmd_link = $(LINK.$(TOOLSET)) -o $@ $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,--start-group $(LD_INPUTS) $(LIBS) -Wl,--end-group\n \n # We support two kinds of shared objects (.so):\n # 1) shared_library, which is just bundling together many dependent libraries\n@@ -166,10 +166,10 @@ def CalculateGeneratorInputInfo(params):\n # - Set SONAME to the library filename so our binaries don't reference\n # the local, absolute paths used on the link command-line.\n quiet_cmd_solink = SOLINK($(TOOLSET)) $@\n-cmd_solink = $(LINK.$(TOOLSET)) -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -o $@ -Wl,--whole-archive $(LD_INPUTS) -Wl,--no-whole-archive $(LIBS)\n+cmd_solink = $(LINK.$(TOOLSET)) -o $@ -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -Wl,--whole-archive $(LD_INPUTS) -Wl,--no-whole-archive $(LIBS)\n \n quiet_cmd_solink_module = SOLINK_MODULE($(TOOLSET)) $@\n-cmd_solink_module = $(LINK.$(TOOLSET)) -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -o $@ -Wl,--start-group $(filter-out FORCE_DO_CMD, $^) -Wl,--end-group $(LIBS)\n+cmd_solink_module = $(LINK.$(TOOLSET)) -o $@ -shared $(GYP_LDFLAGS) $(LDFLAGS.$(TOOLSET)) -Wl,-soname=$(@F) -Wl,--start-group $(filter-out FORCE_DO_CMD, $^) -Wl,--end-group $(LIBS)\n \"\"\"\n \n LINK_COMMANDS_MAC = \"\"\"\\\n@@ -360,10 +360,10 @@ def CalculateGeneratorInputInfo(params):\n # - quiet_cmd_foo is the brief-output summary of the command.\n \n quiet_cmd_cc = CC($(TOOLSET)) $@\n-cmd_cc = $(CC.$(TOOLSET)) $(GYP_CFLAGS) $(DEPFLAGS) $(CFLAGS.$(TOOLSET)) -c -o $@ $<\n+cmd_cc = $(CC.$(TOOLSET)) -o $@ $< $(GYP_CFLAGS) $(DEPFLAGS) $(CFLAGS.$(TOOLSET)) -c\n \n quiet_cmd_cxx = CXX($(TOOLSET)) $@\n-cmd_cxx = $(CXX.$(TOOLSET)) $(GYP_CXXFLAGS) $(DEPFLAGS) $(CXXFLAGS.$(TOOLSET)) -c -o $@ $<\n+cmd_cxx = $(CXX.$(TOOLSET)) -o $@ $< $(GYP_CXXFLAGS) $(DEPFLAGS) $(CXXFLAGS.$(TOOLSET)) -c\n %(extra_commands)s\n quiet_cmd_touch = TOUCH $@\n cmd_touch = touch $@\n@@ -1756,7 +1756,7 @@ def WriteMakeRule(self, outputs, inputs, actions=None, comment=None,\n       cmddigest = hashlib.sha1(command if command else self.target).hexdigest()\n       intermediate = \"%s.intermediate\" % (cmddigest)\n       self.WriteLn('%s: %s' % (' '.join(outputs), intermediate))\n-      self.WriteLn('\\t%s' % '@:');\n+      self.WriteLn('\\t%s' % '@:')\n       self.WriteLn('%s: %s' % ('.INTERMEDIATE', intermediate))\n       self.WriteLn('%s: %s%s' %\n                    (intermediate, ' '.join(inputs), force_append))"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}