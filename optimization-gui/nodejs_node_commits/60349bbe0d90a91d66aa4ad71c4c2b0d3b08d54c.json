{
    "author": "cjihrig",
    "message": "deps: upgrade to libuv 1.20.3\n\nRefs: https://github.com/nodejs/node/pull/19377\nPR-URL: https://github.com/nodejs/node/pull/20585\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
    "files": [
        {
            "sha": "b605a0f3bc1544463e7bc0c5756331765da9cefb",
            "filename": "deps/uv/AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FAUTHORS",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FAUTHORS",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2FAUTHORS?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -337,3 +337,4 @@ Thomas Versteeg <thomasversteeg@gmx.com>\n zzzjim <zzzjim@users.noreply.github.com>\n Alex Arslan <ararslan@comcast.net>\n Kyle Farnung <kfarnung@microsoft.com>\n+ssrlive <30760636+ssrlive@users.noreply.github.com>"
        },
        {
            "sha": "0ec1488412d63040e43dfdada7f08a361cc278a7",
            "filename": "deps/uv/ChangeLog",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FChangeLog",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FChangeLog",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2FChangeLog?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -1,3 +1,22 @@\n+2018.05.08, Version 1.20.3 (Stable), 8cfd67e59195251dff793ee47c185c9d6a8f3818\n+\n+Changes since version 1.20.2:\n+\n+* win: add Windows XP support to uv_if_indextoname() (ssrlive)\n+\n+* win: fix `'floor' undefined` compiler warning (ssrlive)\n+\n+* win, pipe: stop read for overlapped pipe (Bartosz Sosnowski)\n+\n+* build: fix utf-8 name of copyright holder (Jérémy Lal)\n+\n+* zos: initialize pollfd revents (jBarz)\n+\n+* zos,doc: add system V message queue note (jBarz)\n+\n+* linux: don't use uv__nonblock_ioctl() on sparc (Ben Noordhuis)\n+\n+\n 2018.04.23, Version 1.20.2 (Stable), c51fd3f66bbb386a1efdeba6812789f35a372d1e\n \n Changes since version 1.20.1:"
        },
        {
            "sha": "d42ada56a8267e7f9fb6ebcc47a28468cfaf7a24",
            "filename": "deps/uv/README.md",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FREADME.md",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2FREADME.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2FREADME.md?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -322,6 +322,13 @@ describes the package in more detail.\n \n AIX support for filesystem events is not compiled when building with `gyp`.\n \n+### z/OS Notes\n+\n+z/OS creates System V semaphores and message queues. These persist on the system\n+after the process terminates unless the event loop is closed.\n+\n+Use the `ipcrm` command to manually clear up System V resources.\n+\n ## Patches\n \n See the [guidelines for contributing][]."
        },
        {
            "sha": "5178c60ba1938e2f704e1c85b0e4c75348b22120",
            "filename": "deps/uv/configure.ac",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fconfigure.ac",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fconfigure.ac",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fconfigure.ac?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -13,7 +13,7 @@\n # OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n \n AC_PREREQ(2.57)\n-AC_INIT([libuv], [1.20.2], [https://github.com/libuv/libuv/issues])\n+AC_INIT([libuv], [1.20.3], [https://github.com/libuv/libuv/issues])\n AC_CONFIG_MACRO_DIR([m4])\n m4_include([m4/libuv-extra-automake-flags.m4])\n m4_include([m4/as_case.m4])"
        },
        {
            "sha": "75f2940cd46b3e252d1a1442188c0d3f23744f5f",
            "filename": "deps/uv/include/uv-version.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Finclude%2Fuv-version.h",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Finclude%2Fuv-version.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Finclude%2Fuv-version.h?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -32,7 +32,7 @@\n \n #define UV_VERSION_MAJOR 1\n #define UV_VERSION_MINOR 20\n-#define UV_VERSION_PATCH 2\n+#define UV_VERSION_PATCH 3\n #define UV_VERSION_IS_RELEASE 1\n #define UV_VERSION_SUFFIX \"\"\n "
        },
        {
            "sha": "e347056ae2ef2c4689be5214de2905df5a433a3e",
            "filename": "deps/uv/m4/libuv-check-flags.m4",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fm4%2Flibuv-check-flags.m4",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fm4%2Flibuv-check-flags.m4",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fm4%2Flibuv-check-flags.m4?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -1,5 +1,5 @@\n dnl Macros to check the presence of generic (non-typed) symbols.\n-dnl Copyright (c) 2006-2008 Diego PettenÃ <flameeyes gmail com>\n+dnl Copyright (c) 2006-2008 Diego Pettenò <flameeyes gmail com>\n dnl Copyright (c) 2006-2008 xine project\n dnl\n dnl This program is free software; you can redistribute it and/or modify\n@@ -316,4 +316,4 @@ AC_DEFUN([CC_ATTRIBUTE_ALIGNED], [\n      AC_DEFINE_UNQUOTED([ATTRIBUTE_ALIGNED_MAX], [$cc_cv_attribute_aligned],\n        [Define the highest alignment supported])\n   fi\n-])\n\\ No newline at end of file\n+])"
        },
        {
            "sha": "63e478fd98124bfb73b53c524070ee783c3e4c6f",
            "filename": "deps/uv/src/unix/internal.h",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Funix%2Finternal.h",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Funix%2Finternal.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Funix%2Finternal.h?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -185,6 +185,18 @@ struct uv__stream_queued_fds_s {\n #define uv__nonblock uv__nonblock_fcntl\n #endif\n \n+/* On Linux, uv__nonblock_fcntl() and uv__nonblock_ioctl() do not commute\n+ * when O_NDELAY is not equal to O_NONBLOCK.  Case in point: linux/sparc32\n+ * and linux/sparc64, where O_NDELAY is O_NONBLOCK + another bit.\n+ *\n+ * Libuv uses uv__nonblock_fcntl() directly sometimes so ensure that it\n+ * commutes with uv__nonblock().\n+ */\n+#if defined(__linux__) && O_NDELAY != O_NONBLOCK\n+#undef uv__nonblock\n+#define uv__nonblock uv__nonblock_fcntl\n+#endif\n+\n /* core */\n int uv__cloexec_ioctl(int fd, int set);\n int uv__cloexec_fcntl(int fd, int set);"
        },
        {
            "sha": "a5dd34426de96996930049ff4893dd503ce00efd",
            "filename": "deps/uv/src/unix/os390-syscalls.c",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Funix%2Fos390-syscalls.c",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Funix%2Fos390-syscalls.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Funix%2Fos390-syscalls.c?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -215,6 +215,7 @@ uv__os390_epoll* epoll_create1(int flags) {\n     maybe_resize(lst, 1);\n     lst->items[lst->size - 1].fd = lst->msg_queue;\n     lst->items[lst->size - 1].events = POLLIN;\n+    lst->items[lst->size - 1].revents = 0;\n     uv_once(&once, epoll_init);\n     uv_mutex_lock(&global_epoll_lock);\n     QUEUE_INSERT_TAIL(&global_epoll_queue, &lst->member);\n@@ -252,6 +253,7 @@ int epoll_ctl(uv__os390_epoll* lst,\n     }\n     lst->items[fd].fd = fd;\n     lst->items[fd].events = event->events;\n+    lst->items[fd].revents = 0;\n   } else if (op == EPOLL_CTL_MOD) {\n     if (fd >= lst->size || lst->items[fd].fd == -1) {\n       uv_mutex_unlock(&global_epoll_lock);"
        },
        {
            "sha": "5adc7663bd6b687cef2878ed31e4a678b56f26cd",
            "filename": "deps/uv/src/win/getaddrinfo.c",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fgetaddrinfo.c",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fgetaddrinfo.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Fwin%2Fgetaddrinfo.c?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -392,15 +392,21 @@ int uv_if_indextoname(unsigned int ifindex, char* buffer, size_t* size) {\n   DWORD bufsize;\n   int r;\n \n+  uv__once_init();\n+\n   if (buffer == NULL || size == NULL || *size == 0)\n     return UV_EINVAL;\n \n-  r = ConvertInterfaceIndexToLuid(ifindex, &luid);\n+  if (pConvertInterfaceIndexToLuid == NULL)\n+    return UV_ENOSYS;\n+  r = pConvertInterfaceIndexToLuid(ifindex, &luid);\n \n   if (r != 0)\n     return uv_translate_sys_error(r);\n \n-  r = ConvertInterfaceLuidToNameW(&luid, wname, ARRAY_SIZE(wname));\n+  if (pConvertInterfaceLuidToNameW == NULL)\n+    return UV_ENOSYS;\n+  r = pConvertInterfaceLuidToNameW(&luid, wname, ARRAY_SIZE(wname));\n \n   if (r != 0)\n     return uv_translate_sys_error(r);"
        },
        {
            "sha": "83ee4f99ca363d8d5a8741d36ef85365b0ada2fb",
            "filename": "deps/uv/src/win/pipe.c",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fpipe.c",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fpipe.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Fwin%2Fpipe.c?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -735,6 +735,13 @@ void uv__pipe_unpause_read(uv_pipe_t* handle) {\n \n \n void uv__pipe_stop_read(uv_pipe_t* handle) {\n+  if (pCancelIoEx &&\n+      !(handle->flags & UV_HANDLE_NON_OVERLAPPED_PIPE) &&\n+      !(handle->flags & UV_HANDLE_EMULATE_IOCP) &&\n+      handle->flags & UV_HANDLE_READING &&\n+      handle->read_req.type == UV_READ) {\n+    pCancelIoEx(handle->handle, &handle->read_req.u.io.overlapped);\n+  }\n   handle->flags &= ~UV_HANDLE_READING;\n   uv__pipe_pause_read((uv_pipe_t*)handle);\n   uv__pipe_unpause_read((uv_pipe_t*)handle);"
        },
        {
            "sha": "49b5bc72061c30f8e6b80020db5f60a288be019d",
            "filename": "deps/uv/src/win/util.c",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Futil.c",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Futil.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Fwin%2Futil.c?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -37,7 +37,7 @@\n #include <tlhelp32.h>\n #include <windows.h>\n #include <userenv.h>\n-\n+#include <math.h>\n \n /*\n  * Max title length; the only thing MSDN tells us about the maximum length"
        },
        {
            "sha": "c3307861427884c2a41d15073fa3325461d7f4e6",
            "filename": "deps/uv/src/win/winapi.c",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.c",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.c",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.c?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -55,12 +55,16 @@ sPowerRegisterSuspendResumeNotification pPowerRegisterSuspendResumeNotification;\n /* User32.dll function pointer */\n sSetWinEventHook pSetWinEventHook;\n \n+/* iphlpapi.dll function pointer */\n+sConvertInterfaceIndexToLuid pConvertInterfaceIndexToLuid = NULL;\n+sConvertInterfaceLuidToNameW pConvertInterfaceLuidToNameW = NULL;\n \n void uv_winapi_init(void) {\n   HMODULE ntdll_module;\n   HMODULE kernel32_module;\n   HMODULE powrprof_module;\n   HMODULE user32_module;\n+  HMODULE iphlpapi_module;\n \n   ntdll_module = GetModuleHandleA(\"ntdll.dll\");\n   if (ntdll_module == NULL) {\n@@ -166,4 +170,11 @@ void uv_winapi_init(void) {\n       GetProcAddress(user32_module, \"SetWinEventHook\");\n   }\n \n+  iphlpapi_module = LoadLibraryA(\"iphlpapi.dll\");\n+  if (iphlpapi_module != NULL) {\n+    pConvertInterfaceIndexToLuid = (sConvertInterfaceIndexToLuid)\n+      GetProcAddress(iphlpapi_module, \"ConvertInterfaceIndexToLuid\");\n+    pConvertInterfaceLuidToNameW = (sConvertInterfaceLuidToNameW)\n+      GetProcAddress(iphlpapi_module, \"ConvertInterfaceLuidToNameW\");\n+  }\n }"
        },
        {
            "sha": "38570c2ffa7598ccb98b75de5ad13c907dad71ae",
            "filename": "deps/uv/src/win/winapi.h",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.h",
            "raw_url": "https://github.com/nodejs/node/raw/60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.h",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fuv%2Fsrc%2Fwin%2Fwinapi.h?ref=60349bbe0d90a91d66aa4ad71c4c2b0d3b08d54c",
            "patch": "@@ -4775,4 +4775,19 @@ extern sPowerRegisterSuspendResumeNotification pPowerRegisterSuspendResumeNotifi\n /* User32.dll function pointer */\n extern sSetWinEventHook pSetWinEventHook;\n \n+/* iphlpapi.dll function pointer */\n+union _NET_LUID_LH;\n+typedef DWORD (WINAPI *sConvertInterfaceIndexToLuid)(\n+    ULONG InterfaceIndex,\n+    union _NET_LUID_LH *InterfaceLuid);\n+\n+typedef DWORD (WINAPI *sConvertInterfaceLuidToNameW)(\n+    const union _NET_LUID_LH *InterfaceLuid,\n+    PWSTR InterfaceName,\n+    size_t Length);\n+\n+extern sConvertInterfaceIndexToLuid pConvertInterfaceIndexToLuid;\n+extern sConvertInterfaceLuidToNameW pConvertInterfaceLuidToNameW;\n+\n+\n #endif /* UV_WIN_WINAPI_H_ */"
        }
    ],
    "stats": {
        "total": 94,
        "additions": 87,
        "deletions": 7
    }
}