{
    "author": "unknown",
    "message": "doc: add blurb about implications of ABI stability\n\nMention that ABI stability can be achieved only by linking to ABI-\nstable parts of Node.js and to other libraries which are ABI-stable.\n\nPR-URL: https://github.com/nodejs/node/pull/22508\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "7033fc771a1832d678cbcd7ec48b848f7acc647c",
    "files": [
        {
            "sha": "bba4820ca9c084f23486a205dbb136e6c1e7c943",
            "filename": "doc/api/addons.md",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/7033fc771a1832d678cbcd7ec48b848f7acc647c/doc%2Fapi%2Faddons.md",
            "raw_url": "https://github.com/nodejs/node/raw/7033fc771a1832d678cbcd7ec48b848f7acc647c/doc%2Fapi%2Faddons.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Faddons.md?ref=7033fc771a1832d678cbcd7ec48b848f7acc647c",
            "patch": "@@ -367,6 +367,10 @@ set of APIs that are used by the native code. Instead of using the V8\n or [Native Abstractions for Node.js][] APIs, the functions available\n in the N-API are used.\n \n+Creating and maintaining an addon that benefits from the ABI stability\n+provided by N-API carries with it certain\n+[implementation considerations](n-api.html#n_api_implications_of_abi_stability).\n+\n To use N-API in the above \"Hello world\" example, replace the content of\n `hello.cc` with the following. All other instructions remain the same.\n "
        },
        {
            "sha": "4f27d8c55223d6a83252bf69161bd69fbb474a29",
            "filename": "doc/api/n-api.md",
            "status": "modified",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/7033fc771a1832d678cbcd7ec48b848f7acc647c/doc%2Fapi%2Fn-api.md",
            "raw_url": "https://github.com/nodejs/node/raw/7033fc771a1832d678cbcd7ec48b848f7acc647c/doc%2Fapi%2Fn-api.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fn-api.md?ref=7033fc771a1832d678cbcd7ec48b848f7acc647c",
            "patch": "@@ -42,6 +42,36 @@ for the N-API C based functions exported by Node.js. These wrappers are not\n part of N-API, nor will they be maintained as part of Node.js. One such\n example is: [node-addon-api](https://github.com/nodejs/node-addon-api).\n \n+## Implications of ABI Stability\n+\n+Although N-API provides an ABI stability guarantee, other parts of Node.js do\n+not, and any external libraries used from the addon may not. In particular,\n+none of the following APIs provide an ABI stability guarantee across major\n+versions:\n+* the Node.js C++ APIs available via any of\n+    ```C++\n+    #include <node.h>\n+    #include <node_buffer.h>\n+    #include <node_version.h>\n+    #include <node_object_wrap.h>\n+    ```\n+* the libuv APIs which are also included with Node.js and available via\n+    ```C++\n+    #include <uv.h>\n+    ```\n+* the V8 API available via\n+    ```C++\n+    #include <v8.h>\n+    ```\n+\n+Thus, for an addon to remain ABI-compatible across Node.js major versions, it\n+must make use exclusively of N-API by restricting itself to using\n+```C\n+#include <node_api.h>\n+```\n+and by checking, for all external libraries that it uses, that the external\n+library makes ABI stability guarantees similar to N-API.\n+\n ## Usage\n \n In order to use the N-API functions, include the file"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 34,
        "deletions": 0
    }
}