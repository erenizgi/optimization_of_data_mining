{
    "author": "jasnell",
    "message": "src: move process.binding('uv') to internalBinding\n\nPR-URL: https://github.com/nodejs/node/pull/22163\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Jon Moss <me@jonathanmoss.me>",
    "sha": "c7962dcba46f44b888686e6a76bcc6fef2eb7760",
    "files": [
        {
            "sha": "c34bc996de96640342439a5d149b9e7bf230e1c2",
            "filename": "lib/internal/child_process.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fchild_process.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -36,6 +36,8 @@ const { HTTPParser } = process.binding('http_parser');\n const { freeParser } = require('_http_common');\n const { kStateSymbol } = require('internal/dgram');\n \n+const { internalBinding } = require('internal/bootstrap/loaders');\n+\n const {\n   UV_EACCES,\n   UV_EAGAIN,\n@@ -45,7 +47,7 @@ const {\n   UV_ENOENT,\n   UV_ENOSYS,\n   UV_ESRCH\n-} = process.binding('uv');\n+} = internalBinding('uv');\n \n const { SocketListSend, SocketListReceive } = SocketList;\n "
        },
        {
            "sha": "e351f433ab8c7e1298628daa3dfe14891630493e",
            "filename": "lib/internal/cluster/round_robin_handle.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fcluster%2Fround_robin_handle.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fcluster%2Fround_robin_handle.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcluster%2Fround_robin_handle.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -3,7 +3,8 @@ const assert = require('assert');\n const net = require('net');\n const { sendHelper } = require('internal/cluster/utils');\n const getOwnPropertyNames = Object.getOwnPropertyNames;\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/bootstrap/loaders');\n+const uv = internalBinding('uv');\n \n module.exports = RoundRobinHandle;\n "
        },
        {
            "sha": "e01b0d782fdab6ea69c2f5b333da6fab18d30d5c",
            "filename": "lib/internal/dgram.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fdgram.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fdgram.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fdgram.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -3,7 +3,8 @@ const { codes } = require('internal/errors');\n const { UDP } = process.binding('udp_wrap');\n const { isInt32 } = require('internal/validators');\n const TTYWrap = process.binding('tty_wrap');\n-const { UV_EINVAL } = process.binding('uv');\n+const { internalBinding } = require('internal/bootstrap/loaders');\n+const { UV_EINVAL } = internalBinding('uv');\n const { ERR_INVALID_ARG_TYPE, ERR_SOCKET_BAD_TYPE } = codes;\n const kStateSymbol = Symbol('state symbol');\n let dns;  // Lazy load for startup performance."
        },
        {
            "sha": "6062c0b7d9bac9094057d39727127058803b0f71",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -15,11 +15,12 @@ const kInfo = Symbol('info');\n const messages = new Map();\n const codes = {};\n \n+const { internalBinding } = require('internal/bootstrap/loaders');\n const {\n   errmap,\n   UV_EAI_NODATA,\n   UV_EAI_NONAME\n-} = process.binding('uv');\n+} = internalBinding('uv');\n const { kMaxLength } = process.binding('buffer');\n const { defineProperty } = Object;\n "
        },
        {
            "sha": "fe738bb4d60cc30ca514937b8365aefb22a1e793",
            "filename": "lib/internal/http2/core.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fhttp2%2Fcore.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fhttp2%2Fcore.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fhttp2%2Fcore.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -114,7 +114,7 @@ const { isArrayBufferView } = require('internal/util/types');\n const { FileHandle } = process.binding('fs');\n const binding = process.binding('http2');\n const { ShutdownWrap } = process.binding('stream_wrap');\n-const { UV_EOF } = process.binding('uv');\n+const { UV_EOF } = internalBinding('uv');\n \n const { StreamPipe } = internalBinding('stream_pipe');\n const { _connectionListener: httpConnectionListener } = http;"
        },
        {
            "sha": "bf8f9c26cf6e9acadeb93d70e7f0767497d4bdc3",
            "filename": "lib/internal/util.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -13,7 +13,9 @@ const {\n   arrow_message_private_symbol: kArrowMessagePrivateSymbolIndex,\n   decorated_private_symbol: kDecoratedPrivateSymbolIndex\n } = process.binding('util');\n-const { errmap } = process.binding('uv');\n+\n+const { internalBinding } = require('internal/bootstrap/loaders');\n+const { errmap } = internalBinding('uv');\n \n const noCrypto = !process.versions.openssl;\n "
        },
        {
            "sha": "5ffdd23a7db3bf580fa29aa0d1cce5dbdff97361",
            "filename": "lib/internal/wrap_js_stream.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fwrap_js_stream.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Finternal%2Fwrap_js_stream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fwrap_js_stream.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -4,7 +4,8 @@ const assert = require('assert');\n const util = require('util');\n const { Socket } = require('net');\n const { JSStream } = process.binding('js_stream');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/bootstrap/loaders');\n+const uv = internalBinding('uv');\n const debug = util.debuglog('stream_wrap');\n const { owner_symbol } = require('internal/async_hooks').symbols;\n const { ERR_STREAM_WRAP } = require('internal/errors').codes;"
        },
        {
            "sha": "b7b91a71f17659a6c6c1fedcd5002cb4aea5a191",
            "filename": "lib/net.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Fnet.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/lib%2Fnet.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fnet.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -34,11 +34,12 @@ const {\n   makeSyncWrite\n } = require('internal/net');\n const assert = require('assert');\n+const { internalBinding } = require('internal/bootstrap/loaders');\n const {\n   UV_EADDRINUSE,\n   UV_EINVAL,\n   UV_EOF\n-} = process.binding('uv');\n+} = internalBinding('uv');\n \n const { Buffer } = require('buffer');\n const TTYWrap = process.binding('tty_wrap');"
        },
        {
            "sha": "45791b28a935f059f98dffad534296c67cff1604",
            "filename": "src/uv.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/src%2Fuv.cc",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/src%2Fuv.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fuv.cc?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -82,4 +82,4 @@ void Initialize(Local<Object> target,\n }  // anonymous namespace\n }  // namespace node\n \n-NODE_BUILTIN_MODULE_CONTEXT_AWARE(uv, node::Initialize)\n+NODE_MODULE_CONTEXT_AWARE_INTERNAL(uv, node::Initialize)"
        },
        {
            "sha": "fb338da97271230e2f4a9a6f43915f5d65221946",
            "filename": "test/parallel/test-dgram-cluster-bind-error.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-cluster-bind-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-cluster-bind-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dgram-cluster-bind-error.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,9 +1,11 @@\n+// Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n const cluster = require('cluster');\n const dgram = require('dgram');\n-const { UV_UNKNOWN } = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_UNKNOWN } = internalBinding('uv');\n \n if (cluster.isMaster) {\n   cluster.fork();"
        },
        {
            "sha": "f6d37f2c8181124626b074064c89b12ddb4ef333",
            "filename": "test/parallel/test-dgram-send-error.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-send-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-send-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dgram-send-error.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -3,6 +3,8 @@\n const common = require('../common');\n const assert = require('assert');\n const dgram = require('dgram');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_UNKNOWN } = internalBinding('uv');\n const { kStateSymbol } = require('internal/dgram');\n const mockError = new Error('mock DNS error');\n \n@@ -45,7 +47,6 @@ getSocket((socket) => {\n \n   socket.bind(common.mustCall(() => {\n     const port = socket.address().port;\n-    const errCode = process.binding('uv').UV_UNKNOWN;\n     const callback = common.mustCall((err) => {\n       socket.close();\n       assert.strictEqual(err.code, 'UNKNOWN');\n@@ -60,7 +61,7 @@ getSocket((socket) => {\n     });\n \n     socket[kStateSymbol].handle.send = function() {\n-      return errCode;\n+      return UV_UNKNOWN;\n     };\n \n     socket.send('foo', port, common.localhostIPv4, callback);"
        },
        {
            "sha": "c2936ba8fd91b0f40f5baf3cdf984b31ff7d9783",
            "filename": "test/parallel/test-dgram-socket-buffer-size.js",
            "status": "modified",
            "additions": 10,
            "deletions": 5,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-socket-buffer-size.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dgram-socket-buffer-size.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dgram-socket-buffer-size.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,17 +1,22 @@\n-'use strict';\n // Flags: --expose-internals\n+'use strict';\n \n const common = require('../common');\n const assert = require('assert');\n const dgram = require('dgram');\n const { SystemError } = require('internal/errors');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const {\n+  UV_EBADF,\n+  UV_EINVAL,\n+  UV_ENOTSOCK\n+} = internalBinding('uv');\n \n function getExpectedError(type) {\n   const code = common.isWindows ? 'ENOTSOCK' : 'EBADF';\n   const message = common.isWindows ?\n     'socket operation on non-socket' : 'bad file descriptor';\n-  const errno = common.isWindows ? uv.UV_ENOTSOCK : uv.UV_EBADF;\n+  const errno = common.isWindows ? UV_ENOTSOCK : UV_EBADF;\n   const syscall = `uv_${type}_buffer_size`;\n   const suffix = common.isWindows ?\n     'ENOTSOCK (socket operation on non-socket)' : 'EBADF (bad file descriptor)';\n@@ -105,7 +110,7 @@ function getExpectedError(type) {\n   const info = {\n     code: 'EINVAL',\n     message: 'invalid argument',\n-    errno: uv.UV_EINVAL,\n+    errno: UV_EINVAL,\n     syscall: 'uv_recv_buffer_size'\n   };\n   const errorObj = {\n@@ -128,7 +133,7 @@ function getExpectedError(type) {\n   const info = {\n     code: 'EINVAL',\n     message: 'invalid argument',\n-    errno: uv.UV_EINVAL,\n+    errno: UV_EINVAL,\n     syscall: 'uv_send_buffer_size'\n   };\n   const errorObj = {"
        },
        {
            "sha": "99378ce01e918a37586ce931681d1ec0b2f935b2",
            "filename": "test/parallel/test-dns-lookup.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dns-lookup.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dns-lookup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns-lookup.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,12 +1,15 @@\n+// Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n const assert = require('assert');\n const cares = process.binding('cares_wrap');\n const dns = require('dns');\n const dnsPromises = dns.promises;\n \n+const { internalBinding } = require('internal/test/binding');\n+\n // Stub `getaddrinfo` to *always* error.\n-cares.getaddrinfo = () => process.binding('uv').UV_ENOENT;\n+cares.getaddrinfo = () => internalBinding('uv').UV_ENOENT;\n \n {\n   const err = {"
        },
        {
            "sha": "29907fb1dbfd5e54696906d147335c26420a973c",
            "filename": "test/parallel/test-dns-memory-error.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dns-memory-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-dns-memory-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns-memory-error.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -8,8 +8,9 @@ require('../common');\n \n const assert = require('assert');\n const errors = require('internal/errors');\n+const { internalBinding } = require('internal/test/binding');\n \n-const { UV_EAI_MEMORY } = process.binding('uv');\n+const { UV_EAI_MEMORY } = internalBinding('uv');\n const memoryError = errors.dnsException(UV_EAI_MEMORY, 'fhqwhgads');\n \n assert.strictEqual(memoryError.code, 'EAI_MEMORY');"
        },
        {
            "sha": "02e9356275dbc73e4bc29815fe8fa48de1129482",
            "filename": "test/parallel/test-fs-access.js",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-access.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-access.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-access.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n 'use strict';\n \n // This tests that fs.access and fs.accessSync works as expected\n@@ -8,7 +9,8 @@ const assert = require('assert');\n const fs = require('fs');\n const path = require('path');\n \n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_ENOENT } = internalBinding('uv');\n \n const tmpdir = require('../common/tmpdir');\n const doesNotExist = path.join(tmpdir.path, '__this_should_not_exist');\n@@ -161,7 +163,7 @@ assert.throws(\n     );\n     assert.strictEqual(err.constructor, Error);\n     assert.strictEqual(err.syscall, 'access');\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     return true;\n   }\n );\n@@ -177,7 +179,7 @@ assert.throws(\n     );\n     assert.strictEqual(err.constructor, Error);\n     assert.strictEqual(err.syscall, 'access');\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     return true;\n   }\n );"
        },
        {
            "sha": "90e7c7009d168097c6d67b633b08c88e6050e837",
            "filename": "test/parallel/test-fs-copyfile.js",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-copyfile.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-copyfile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-copyfile.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,10 +1,15 @@\n+// Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n const fixtures = require('../common/fixtures');\n const tmpdir = require('../common/tmpdir');\n const assert = require('assert');\n const fs = require('fs');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const {\n+  UV_ENOENT,\n+  UV_EEXIST\n+} = internalBinding('uv');\n const path = require('path');\n const src = fixtures.path('a.js');\n const dest = path.join(tmpdir.path, 'copyfile.out');\n@@ -81,14 +86,14 @@ fs.copyFile(src, dest, common.mustCall((err) => {\n       assert.strictEqual(err.message,\n                          'ENOENT: no such file or directory, copyfile ' +\n                          `'${src}' -> '${dest}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOENT);\n+      assert.strictEqual(err.errno, UV_ENOENT);\n       assert.strictEqual(err.code, 'ENOENT');\n       assert.strictEqual(err.syscall, 'copyfile');\n     } else {\n       assert.strictEqual(err.message,\n                          'EEXIST: file already exists, copyfile ' +\n                          `'${src}' -> '${dest}'`);\n-      assert.strictEqual(err.errno, uv.UV_EEXIST);\n+      assert.strictEqual(err.errno, UV_EEXIST);\n       assert.strictEqual(err.code, 'EEXIST');\n       assert.strictEqual(err.syscall, 'copyfile');\n     }"
        },
        {
            "sha": "4ca9fb2ef9c21cf8fc6b4be801bbb9d7f650fca2",
            "filename": "test/parallel/test-fs-error-messages.js",
            "status": "modified",
            "additions": 51,
            "deletions": 41,
            "changes": 92,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-error-messages.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-error-messages.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-error-messages.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n // Copyright Joyent, Inc. and other Node contributors.\n //\n // Permission is hereby granted, free of charge, to any person obtaining a\n@@ -35,7 +36,16 @@ const existingFile2 = fixtures.path('create-file.js');\n const existingDir = tmpdir.path;\n const existingDir2 = fixtures.path('keys');\n const { COPYFILE_EXCL } = fs.constants;\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const {\n+  UV_EBADF,\n+  UV_EEXIST,\n+  UV_EINVAL,\n+  UV_ENOENT,\n+  UV_ENOTDIR,\n+  UV_ENOTEMPTY,\n+  UV_EPERM\n+} = internalBinding('uv');\n \n // Template tag function for escaping special characters in strings so that:\n // new RegExp(re`${str}`).test(str) === true\n@@ -56,7 +66,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, stat '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'stat');\n     return true;\n@@ -77,7 +87,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, lstat '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'lstat');\n     return true;\n@@ -94,7 +104,7 @@ function re(literals, ...values) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, fstat');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'fstat');\n     return true;\n@@ -117,7 +127,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, lstat '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'lstat');\n     return true;\n@@ -138,7 +148,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, realpath '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'realpath');\n     return true;\n@@ -159,7 +169,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, readlink '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'readlink');\n     return true;\n@@ -184,7 +194,7 @@ function re(literals, ...values) {\n                               re`'${nonexistentFile}' -> ` + '\\'.*foo\\'');\n     assert.ok(regexp.test(err.message),\n               `Expect ${err.message} to match ${regexp}`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'link');\n     return true;\n@@ -207,7 +217,7 @@ function re(literals, ...values) {\n       err.message,\n       `EEXIST: file already exists, link '${existingFile}' -> ` +\n       `'${existingFile2}'`);\n-    assert.strictEqual(err.errno, uv.UV_EEXIST);\n+    assert.strictEqual(err.errno, UV_EEXIST);\n     assert.strictEqual(err.code, 'EEXIST');\n     assert.strictEqual(err.syscall, 'link');\n     return true;\n@@ -230,7 +240,7 @@ function re(literals, ...values) {\n       err.message,\n       `EEXIST: file already exists, symlink '${existingFile}' -> ` +\n       `'${existingFile2}'`);\n-    assert.strictEqual(err.errno, uv.UV_EEXIST);\n+    assert.strictEqual(err.errno, UV_EEXIST);\n     assert.strictEqual(err.code, 'EEXIST');\n     assert.strictEqual(err.syscall, 'symlink');\n     return true;\n@@ -251,7 +261,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, unlink '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'unlink');\n     return true;\n@@ -276,7 +286,7 @@ function re(literals, ...values) {\n                               re`'${nonexistentFile}' -> ` + '\\'.*foo\\'');\n     assert.ok(regexp.test(err.message),\n               `Expect ${err.message} to match ${regexp}`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'rename');\n     return true;\n@@ -302,7 +312,7 @@ function re(literals, ...values) {\n         err.message,\n         `ENOTEMPTY: directory not empty, rename '${existingDir}' -> ` +\n         `'${existingDir2}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOTEMPTY);\n+      assert.strictEqual(err.errno, UV_ENOTEMPTY);\n     } else if (err.code === 'EXDEV') {  // not on the same mounted filesystem\n       assert.strictEqual(\n         err.message,\n@@ -313,13 +323,13 @@ function re(literals, ...values) {\n         err.message,\n         `EEXIST: file already exists, rename '${existingDir}' -> ` +\n         `'${existingDir2}'`);\n-      assert.strictEqual(err.errno, uv.UV_EEXIST);\n+      assert.strictEqual(err.errno, UV_EEXIST);\n     } else {  // windows\n       assert.strictEqual(\n         err.message,\n         `EPERM: operation not permitted, rename '${existingDir}' -> ` +\n         `'${existingDir2}'`);\n-      assert.strictEqual(err.errno, uv.UV_EPERM);\n+      assert.strictEqual(err.errno, UV_EPERM);\n       assert.strictEqual(err.code, 'EPERM');\n     }\n     return true;\n@@ -340,7 +350,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, rmdir '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'rmdir');\n     return true;\n@@ -363,12 +373,12 @@ function re(literals, ...values) {\n       assert.strictEqual(\n         err.message,\n         `ENOTDIR: not a directory, rmdir '${existingFile}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOTDIR);\n+      assert.strictEqual(err.errno, UV_ENOTDIR);\n     } else {  // windows\n       assert.strictEqual(\n         err.message,\n         `ENOENT: no such file or directory, rmdir '${existingFile}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOENT);\n+      assert.strictEqual(err.errno, UV_ENOENT);\n       assert.strictEqual(err.code, 'ENOENT');\n     }\n     return true;\n@@ -389,7 +399,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `EEXIST: file already exists, mkdir '${existingFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_EEXIST);\n+    assert.strictEqual(err.errno, UV_EEXIST);\n     assert.strictEqual(err.code, 'EEXIST');\n     assert.strictEqual(err.syscall, 'mkdir');\n     return true;\n@@ -410,7 +420,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, chmod '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'chmod');\n     return true;\n@@ -431,7 +441,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, open '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'open');\n     return true;\n@@ -450,7 +460,7 @@ function re(literals, ...values) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, close');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'close');\n     return true;\n@@ -473,7 +483,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, open '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'open');\n     return true;\n@@ -494,7 +504,7 @@ function re(literals, ...values) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, scandir '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'scandir');\n     return true;\n@@ -515,10 +525,10 @@ function re(literals, ...values) {\n     // Could be EBADF or EINVAL, depending on the platform\n     if (err.code === 'EBADF') {\n       assert.strictEqual(err.message, 'EBADF: bad file descriptor, ftruncate');\n-      assert.strictEqual(err.errno, uv.UV_EBADF);\n+      assert.strictEqual(err.errno, UV_EBADF);\n     } else {\n       assert.strictEqual(err.message, 'EINVAL: invalid argument, ftruncate');\n-      assert.strictEqual(err.errno, uv.UV_EINVAL);\n+      assert.strictEqual(err.errno, UV_EINVAL);\n       assert.strictEqual(err.code, 'EINVAL');\n     }\n     return true;\n@@ -538,7 +548,7 @@ function re(literals, ...values) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, fdatasync');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'fdatasync');\n     return true;\n@@ -558,7 +568,7 @@ function re(literals, ...values) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, fsync');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'fsync');\n     return true;\n@@ -581,7 +591,7 @@ if (!common.isWindows) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, chown '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'chown');\n     return true;\n@@ -604,7 +614,7 @@ if (!common.isAIX) {\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, utime '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'utime');\n     return true;\n@@ -631,7 +641,7 @@ if (!common.isAIX) {\n     assert(prefix.test(err.message),\n            `Expect ${err.message} to match ${prefix}`);\n \n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'mkdtemp');\n     return true;\n@@ -650,7 +660,7 @@ if (!common.isAIX) {\n   const validateError = {\n     // TODO: Make sure the error message always also contains the src.\n     message: `EINVAL: invalid argument, copyfile -> '${nonexistentFile}'`,\n-    errno: uv.UV_EINVAL,\n+    errno: UV_EINVAL,\n     code: 'EINVAL',\n     syscall: 'copyfile'\n   };\n@@ -673,14 +683,14 @@ if (!common.isAIX) {\n       assert.strictEqual(err.message,\n                          'ENOENT: no such file or directory, copyfile ' +\n                          `'${existingFile}' -> '${existingFile2}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOENT);\n+      assert.strictEqual(err.errno, UV_ENOENT);\n       assert.strictEqual(err.code, 'ENOENT');\n       assert.strictEqual(err.syscall, 'copyfile');\n     } else {\n       assert.strictEqual(err.message,\n                          'EEXIST: file already exists, copyfile ' +\n                          `'${existingFile}' -> '${existingFile2}'`);\n-      assert.strictEqual(err.errno, uv.UV_EEXIST);\n+      assert.strictEqual(err.errno, UV_EEXIST);\n       assert.strictEqual(err.code, 'EEXIST');\n       assert.strictEqual(err.syscall, 'copyfile');\n     }\n@@ -702,7 +712,7 @@ if (!common.isAIX) {\n     assert.strictEqual(err.message,\n                        'ENOENT: no such file or directory, copyfile ' +\n                        `'${nonexistentFile}' -> '${existingFile2}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'copyfile');\n     return true;\n@@ -721,7 +731,7 @@ if (!common.isAIX) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, read');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'read');\n     return true;\n@@ -742,7 +752,7 @@ if (!common.isAIX) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, fchmod');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'fchmod');\n     return true;\n@@ -762,7 +772,7 @@ if (!common.isAIX) {\n if (!common.isWindows) {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, fchown');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'fchown');\n     return true;\n@@ -783,7 +793,7 @@ if (!common.isWindows) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, write');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'write');\n     return true;\n@@ -804,7 +814,7 @@ if (!common.isWindows) {\n {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, write');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'write');\n     return true;\n@@ -825,7 +835,7 @@ if (!common.isWindows) {\n if (!common.isAIX) {\n   const validateError = (err) => {\n     assert.strictEqual(err.message, 'EBADF: bad file descriptor, futime');\n-    assert.strictEqual(err.errno, uv.UV_EBADF);\n+    assert.strictEqual(err.errno, UV_EBADF);\n     assert.strictEqual(err.code, 'EBADF');\n     assert.strictEqual(err.syscall, 'futime');\n     return true;"
        },
        {
            "sha": "ee2e0355ec7aab83cd3584082e277ab5f04cc629",
            "filename": "test/parallel/test-fs-sync-fd-leak.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-sync-fd-leak.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-sync-fd-leak.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-sync-fd-leak.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n // Copyright Joyent, Inc. and other Node contributors.\n //\n // Permission is hereby granted, free of charge, to any person obtaining a\n@@ -23,7 +24,8 @@\n require('../common');\n const assert = require('assert');\n const fs = require('fs');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_EBADF } = internalBinding('uv');\n \n // ensure that (read|write|append)FileSync() closes the file descriptor\n fs.openSync = function() {\n@@ -41,7 +43,7 @@ fs.writeSync = function() {\n };\n \n process.binding('fs').fstat = function(fd, bigint, _, ctx) {\n-  ctx.errno = uv.UV_EBADF;\n+  ctx.errno = UV_EBADF;\n   ctx.syscall = 'fstat';\n };\n "
        },
        {
            "sha": "1ed9f2ed641f198a22fab1eca7dfb8c49f9c5b66",
            "filename": "test/parallel/test-fs-watch-enoent.js",
            "status": "modified",
            "additions": 10,
            "deletions": 5,
            "changes": 15,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-watch-enoent.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-fs-watch-enoent.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-watch-enoent.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n 'use strict';\n \n // This verifies the error thrown by fs.watch.\n@@ -8,7 +9,11 @@ const fs = require('fs');\n const tmpdir = require('../common/tmpdir');\n const path = require('path');\n const nonexistentFile = path.join(tmpdir.path, 'non-existent');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const {\n+  UV_ENODEV,\n+  UV_ENOENT\n+} = internalBinding('uv');\n \n tmpdir.refresh();\n \n@@ -21,13 +26,13 @@ tmpdir.refresh();\n       assert.strictEqual(\n         err.message,\n         `ENOENT: no such file or directory, watch '${nonexistentFile}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENOENT);\n+      assert.strictEqual(err.errno, UV_ENOENT);\n       assert.strictEqual(err.code, 'ENOENT');\n     } else {  // AIX\n       assert.strictEqual(\n         err.message,\n         `ENODEV: no such device, watch '${nonexistentFile}'`);\n-      assert.strictEqual(err.errno, uv.UV_ENODEV);\n+      assert.strictEqual(err.errno, UV_ENODEV);\n       assert.strictEqual(err.code, 'ENODEV');\n     }\n     return true;\n@@ -50,7 +55,7 @@ tmpdir.refresh();\n     assert.strictEqual(\n       err.message,\n       `ENOENT: no such file or directory, watch '${nonexistentFile}'`);\n-    assert.strictEqual(err.errno, uv.UV_ENOENT);\n+    assert.strictEqual(err.errno, UV_ENOENT);\n     assert.strictEqual(err.code, 'ENOENT');\n     assert.strictEqual(err.syscall, 'watch');\n     fs.unlinkSync(file);\n@@ -60,5 +65,5 @@ tmpdir.refresh();\n   watcher.on('error', common.mustCall(validateError));\n \n   // Simulate the invocation from the binding\n-  watcher._handle.onchange(uv.UV_ENOENT, 'ENOENT', nonexistentFile);\n+  watcher._handle.onchange(UV_ENOENT, 'ENOENT', nonexistentFile);\n }"
        },
        {
            "sha": "ff29ad72bd8585441d498659ede6142dfaa77567",
            "filename": "test/parallel/test-http-client-immediate-error.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-http-client-immediate-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-http-client-immediate-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-client-immediate-error.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -8,7 +8,8 @@ const common = require('../common');\n const assert = require('assert');\n const net = require('net');\n const http = require('http');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_ENETUNREACH } = internalBinding('uv');\n const {\n   newAsyncId,\n   symbols: { async_id_symbol }\n@@ -21,7 +22,7 @@ agent.createConnection = common.mustCall((cfg) => {\n   // Fake the handle so we can enforce returning an immediate error\n   sock._handle = {\n     connect: common.mustCall((req, addr, port) => {\n-      return uv.UV_ENETUNREACH;\n+      return UV_ENETUNREACH;\n     }),\n     readStart() {},\n     close() {}"
        },
        {
            "sha": "c0705da9d089e43ce2b97f04816f298676d526d9",
            "filename": "test/parallel/test-net-end-close.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-net-end-close.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-net-end-close.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-end-close.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,14 +1,16 @@\n+// Flags: --expose-internals\n 'use strict';\n require('../common');\n const assert = require('assert');\n const net = require('net');\n \n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_EOF } = internalBinding('uv');\n \n const s = new net.Socket({\n   handle: {\n     readStart: function() {\n-      setImmediate(() => this.onread(uv.UV_EOF, null));\n+      setImmediate(() => this.onread(UV_EOF, null));\n     },\n     close: (cb) => setImmediate(cb)\n   },"
        },
        {
            "sha": "f6a54a012b80cc11950181343b270cb18ff16759",
            "filename": "test/parallel/test-tcp-wrap.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-tcp-wrap.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-tcp-wrap.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tcp-wrap.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n // Copyright Joyent, Inc. and other Node contributors.\n //\n // Permission is hereby granted, free of charge, to any person obtaining a\n@@ -24,7 +25,8 @@ require('../common');\n const assert = require('assert');\n \n const { TCP, constants: TCPConstants } = process.binding('tcp_wrap');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const { UV_EINVAL } = internalBinding('uv');\n \n const handle = new TCP(TCPConstants.SOCKET);\n \n@@ -36,6 +38,6 @@ assert.strictEqual(err, 0);\n const out = {};\n handle.getsockname(out);\n err = handle.bind('0.0.0.0', out.port);\n-assert.strictEqual(err, uv.UV_EINVAL);\n+assert.strictEqual(err, UV_EINVAL);\n \n handle.close();"
        },
        {
            "sha": "30c3cd2bc48a4a25f752473be4beb57fcad4c699",
            "filename": "test/parallel/test-ttywrap-invalid-fd.js",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-ttywrap-invalid-fd.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-ttywrap-invalid-fd.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-ttywrap-invalid-fd.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,8 +1,13 @@\n+// Flags: --expose-internals\n 'use strict';\n \n const common = require('../common');\n const tty = require('tty');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const {\n+  UV_EBADF,\n+  UV_EINVAL\n+} = internalBinding('uv');\n const assert = require('assert');\n \n assert.throws(\n@@ -18,7 +23,7 @@ assert.throws(\n   const info = {\n     code: common.isWindows ? 'EBADF' : 'EINVAL',\n     message: common.isWindows ? 'bad file descriptor' : 'invalid argument',\n-    errno: common.isWindows ? uv.UV_EBADF : uv.UV_EINVAL,\n+    errno: common.isWindows ? UV_EBADF : UV_EINVAL,\n     syscall: 'uv_tty_init'\n   };\n "
        },
        {
            "sha": "11d9f6aa09cfd1913c0e03893240c131b2f35c67",
            "filename": "test/parallel/test-uv-binding-constant.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-uv-binding-constant.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-uv-binding-constant.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-uv-binding-constant.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,10 +1,12 @@\n+// Flags: --expose-internals\n 'use strict';\n \n require('../common');\n const assert = require('assert');\n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const uv = internalBinding('uv');\n \n-// Ensures that the `UV_...` values in process.binding('uv')\n+// Ensures that the `UV_...` values in internalBinding('uv')\n // are constants.\n \n const keys = Object.keys(uv);"
        },
        {
            "sha": "078db29adce923748992480a4582140a12260d56",
            "filename": "test/parallel/test-uv-errno.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-uv-errno.js",
            "raw_url": "https://github.com/nodejs/node/raw/c7962dcba46f44b888686e6a76bcc6fef2eb7760/test%2Fparallel%2Ftest-uv-errno.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-uv-errno.js?ref=c7962dcba46f44b888686e6a76bcc6fef2eb7760",
            "patch": "@@ -1,3 +1,4 @@\n+// Flags: --expose-internals\n 'use strict';\n \n const common = require('../common');\n@@ -7,7 +8,8 @@ const {\n   _errnoException\n } = require('util');\n \n-const uv = process.binding('uv');\n+const { internalBinding } = require('internal/test/binding');\n+const uv = internalBinding('uv');\n const keys = Object.keys(uv);\n \n keys.forEach((key) => {"
        }
    ],
    "stats": {
        "total": 227,
        "additions": 143,
        "deletions": 84
    }
}