{
    "author": "sam-github",
    "message": "test: end tls gracefully, rather than destroy\n\nThe timing of destroy between client/server is undefined, but end is\nguaranteed to occur.\n\nPR-URL: https://github.com/nodejs/node/pull/25508\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5",
    "files": [
        {
            "sha": "3a6a231b477f5d09edcce9d7b7ef73c16dd16ead",
            "filename": "test/parallel/test-tls-sni-option.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5/test%2Fparallel%2Ftest-tls-sni-option.js",
            "raw_url": "https://github.com/nodejs/node/raw/1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5/test%2Fparallel%2Ftest-tls-sni-option.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-sni-option.js?ref=1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5",
            "patch": "@@ -115,6 +115,7 @@ let clientError;\n \n const server = tls.createServer(serverOptions, function(c) {\n   serverResults.push({ sni: c.servername, authorized: c.authorized });\n+  c.end();\n });\n \n server.on('tlsClientError', function(err) {\n@@ -135,7 +136,6 @@ function startTest() {\n       clientResults.push(\n         client.authorizationError &&\n          (client.authorizationError === 'ERR_TLS_CERT_ALTNAME_INVALID'));\n-      client.destroy();\n \n       next();\n     });"
        },
        {
            "sha": "8ab025667ea68a6cf92d4cf8750ef3ceb6fa076f",
            "filename": "test/parallel/test-tls-sni-server-client.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5/test%2Fparallel%2Ftest-tls-sni-server-client.js",
            "raw_url": "https://github.com/nodejs/node/raw/1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5/test%2Fparallel%2Ftest-tls-sni-server-client.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-sni-server-client.js?ref=1bd42833d7ac3b5cc9737c6cc7dc8d69a4102ba5",
            "patch": "@@ -86,6 +86,7 @@ const clientResults = [];\n \n const server = tls.createServer(serverOptions, function(c) {\n   serverResults.push(c.servername);\n+  c.end();\n });\n \n server.addContext('a.example.com', SNIContexts['a.example.com']);\n@@ -107,7 +108,6 @@ function startTest() {\n       clientResults.push(\n         client.authorizationError &&\n         (client.authorizationError === 'ERR_TLS_CERT_ALTNAME_INVALID'));\n-      client.destroy();\n \n       // Continue\n       start();"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}