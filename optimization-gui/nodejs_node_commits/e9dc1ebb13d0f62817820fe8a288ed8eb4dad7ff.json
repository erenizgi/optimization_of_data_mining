{
    "author": "refack",
    "message": "build: configure default v8_optimized_debug\n\nUnder the assumption that debugging is more often focused on node core\nsource. This setting compiles V8 with only partial optimizations,\nDCHECKS, and debug symbols, so it is still very much debuggable,\nbut it is much faster.\n\nIt does disable SLOW_DCHECKS, but at the advice of the V8 team, those\nare more important for deep V8 debugging.\n\nOverride is configurable with `./configure --v8-non-optimized-debug`.\n\nPR-URL: https://github.com/nodejs/node/pull/23704\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>",
    "sha": "e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff",
    "files": [
        {
            "sha": "d9a0ac67278ce69157eef48d8479ee7a76cabe7a",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff",
            "patch": "@@ -28,9 +28,6 @@\n \n     'openssl_fips%': '',\n \n-    # Default to -O0 for debug builds.\n-    'v8_optimized_debug%': 0,\n-\n     # Reset this number to 0 on major V8 upgrades.\n     # Increment by one for each non-official patch applied to deps/v8.\n     'v8_embedder_string': '-node.7',"
        },
        {
            "sha": "05a7fbc4cc93a04089d806b10632f1577b9bc71c",
            "filename": "configure.py",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff/configure.py",
            "raw_url": "https://github.com/nodejs/node/raw/e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff/configure.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/configure.py?ref=e9dc1ebb13d0f62817820fe8a288ed8eb4dad7ff",
            "patch": "@@ -566,6 +566,12 @@\n     default=False,\n     help='get more output from this script')\n \n+parser.add_option('--v8-non-optimized-debug',\n+    action='store_true',\n+    dest='v8_non_optimized_debug',\n+    default=False,\n+    help='compile V8 with minimal optimizations and with runtime checks')\n+\n # Create compile_commands.json in out/Debug and out/Release.\n parser.add_option('-C',\n     action='store_true',\n@@ -1138,7 +1144,7 @@ def configure_library(lib, output):\n def configure_v8(o):\n   o['variables']['v8_enable_gdbjit'] = 1 if options.gdb else 0\n   o['variables']['v8_no_strict_aliasing'] = 1  # Work around compiler bugs.\n-  o['variables']['v8_optimized_debug'] = 0  # Compile with -O0 in debug builds.\n+  o['variables']['v8_optimized_debug'] = 0 if options.v8_non_optimized_debug else 1\n   o['variables']['v8_random_seed'] = 0  # Use a random seed for hash tables.\n   o['variables']['v8_promise_internal_field_count'] = 1 # Add internal field to promises for async hooks.\n   o['variables']['v8_use_snapshot'] = 'false' if options.without_snapshot else 'true'"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 7,
        "deletions": 4
    }
}