{
    "author": "Leko",
    "message": "test: try to connect after server was closed\n\nPR-URL: https://github.com/nodejs/node/pull/18257\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "befe675af8a136abe7e5b62d2ec2549abaa4fdaf",
    "files": [
        {
            "sha": "3c7310b4752d72ee7c03b22fa31b8922f7080474",
            "filename": "test/parallel/test-net-connect-handle-econnrefused.js",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/befe675af8a136abe7e5b62d2ec2549abaa4fdaf/test%2Fparallel%2Ftest-net-connect-handle-econnrefused.js",
            "raw_url": "https://github.com/nodejs/node/raw/befe675af8a136abe7e5b62d2ec2549abaa4fdaf/test%2Fparallel%2Ftest-net-connect-handle-econnrefused.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-connect-handle-econnrefused.js?ref=befe675af8a136abe7e5b62d2ec2549abaa4fdaf",
            "patch": "@@ -27,11 +27,10 @@ const assert = require('assert');\n const server = net.createServer();\n server.listen(0);\n const port = server.address().port;\n-const c = net.createConnection(port);\n-\n-c.on('connect', common.mustNotCall());\n-\n-c.on('error', common.mustCall((e) => {\n-  assert.strictEqual('ECONNREFUSED', e.code);\n+server.close(common.mustCall(() => {\n+  const c = net.createConnection(port);\n+  c.on('connect', common.mustNotCall());\n+  c.on('error', common.mustCall((e) => {\n+    assert.strictEqual('ECONNREFUSED', e.code);\n+  }));\n }));\n-server.close();"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 6,
        "deletions": 7
    }
}