{
    "author": "Flarna",
    "message": "doc: improve http.setHeader and getHeader typeinfo\n\nhttp.setHeader() coerces input values.\nhttp.getHeader() returns the type as passed to setHeader().\n\nPR-URL: https://github.com/nodejs/node/pull/19902\nFixes: https://github.com/nodejs/node/issues/13825\nReviewed-By: Chen Gang <gangc.cxy@foxmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "50e9f8df62e2d8a7f05ec6c2fbd01528a96f3468",
    "files": [
        {
            "sha": "e7d4d3b4ac9604af836ba6d9c89e81ded620440c",
            "filename": "doc/api/http.md",
            "status": "modified",
            "additions": 36,
            "deletions": 7,
            "changes": 43,
            "blob_url": "https://github.com/nodejs/node/blob/50e9f8df62e2d8a7f05ec6c2fbd01528a96f3468/doc%2Fapi%2Fhttp.md",
            "raw_url": "https://github.com/nodejs/node/raw/50e9f8df62e2d8a7f05ec6c2fbd01528a96f3468/doc%2Fapi%2Fhttp.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fhttp.md?ref=50e9f8df62e2d8a7f05ec6c2fbd01528a96f3468",
            "patch": "@@ -587,13 +587,24 @@ added: v1.6.0\n -->\n \n * `name` {string}\n-* Returns: {string}\n+* Returns: {any}\n \n Reads out a header on the request. Note that the name is case insensitive.\n+The type of the return value depends on the arguments provided to\n+[`request.setHeader()`][].\n \n Example:\n ```js\n+request.setHeader('content-type', 'text/html');\n+request.setHeader('Content-Length', Buffer.byteLength(body));\n+request.setHeader('Set-Cookie', ['type=ninja', 'language=javascript']);\n const contentType = request.getHeader('Content-Type');\n+// contentType is 'text/html'\n+const contentLength = request.getHeader('Content-Length');\n+// contentLength is of type number\n+const setCookie = request.getHeader('set-cookie');\n+// setCookie is of type string[]\n+\n ```\n \n ### request.removeHeader(name)\n@@ -616,11 +627,14 @@ added: v1.6.0\n -->\n \n * `name` {string}\n-* `value` {string}\n+* `value` {any}\n \n Sets a single header value for headers object. If this header already exists in\n the to-be-sent headers, its value will be replaced. Use an array of strings\n-here to send multiple headers with the same name.\n+here to send multiple headers with the same name. Non-string values will be\n+stored without modification. Therefore, [`request.getHeader()`][] may return\n+non-string values. However, the non-string values will be converted to strings\n+for network transmission.\n \n Example:\n ```js\n@@ -1085,15 +1099,24 @@ added: v0.4.0\n -->\n \n * `name` {string}\n-* Returns: {string}\n+* Returns: {any}\n \n Reads out a header that's already been queued but not sent to the client.\n-Note that the name is case insensitive.\n+Note that the name is case insensitive. The type of the return value depends\n+on the arguments provided to [`response.setHeader()`][].\n \n Example:\n \n ```js\n+response.setHeader('Content-Type', 'text/html');\n+response.setHeader('Content-Length', Buffer.byteLength(body));\n+response.setHeader('Set-Cookie', ['type=ninja', 'language=javascript']);\n const contentType = response.getHeader('content-type');\n+// contentType is 'text/html'\n+const contentLength = response.getHeader('Content-Length');\n+// contentLength is of type number\n+const setCookie = response.getHeader('set-cookie');\n+// setCookie is of type string[]\n ```\n \n ### response.getHeaderNames()\n@@ -1204,11 +1227,14 @@ added: v0.4.0\n -->\n \n * `name` {string}\n-* `value` {string | string[]}\n+* `value` {any}\n \n Sets a single header value for implicit headers. If this header already exists\n in the to-be-sent headers, its value will be replaced. Use an array of strings\n-here to send multiple headers with the same name.\n+here to send multiple headers with the same name. Non-string values will be\n+stored without modification. Therefore, [`response.getHeader()`][] may return\n+non-string values. However, the non-string values will be converted to strings\n+for network transmission.\n \n Example:\n \n@@ -2013,11 +2039,14 @@ not abort the request or do anything besides add a `'timeout'` event.\n [`net.createConnection()`]: net.html#net_net_createconnection_options_connectlistener\n [`removeHeader(name)`]: #http_request_removeheader_name\n [`request.end()`]: #http_request_end_data_encoding_callback\n+[`request.getHeader()`]: #http_request_getheader_name\n+[`request.setHeader()`]: #http_request_setheader_name_value\n [`request.setTimeout()`]: #http_request_settimeout_timeout_callback\n [`request.socket`]: #http_request_socket\n [`request.socket.getPeerCertificate()`]: tls.html#tls_tlssocket_getpeercertificate_detailed\n [`request.write(data, encoding)`]: #http_request_write_chunk_encoding_callback\n [`response.end()`]: #http_response_end_data_encoding_callback\n+[`response.getHeader()`]: #http_response_getheader_name\n [`response.setHeader()`]: #http_response_setheader_name_value\n [`response.socket`]: #http_response_socket\n [`response.write()`]: #http_response_write_chunk_encoding_callback"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 36,
        "deletions": 7
    }
}