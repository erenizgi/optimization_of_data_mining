{
    "author": "jasnell",
    "message": "test: move common.isCPPSymbolsNotMapped to tick-processor tests\n\n`common.isCPPSymbolsNotMapped` is used only by the tests in the\n`test/tick-processor` folder. Move it local to those to get it\nout of `common`.\n\nPR-URL: https://github.com/nodejs/node/pull/22459\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>",
    "sha": "6bb96a1183d9492a34a745a5d1bb48552a4eef24",
    "files": [
        {
            "sha": "36f3afb5c9a4656d8ac59f10c24540e7e8a9c660",
            "filename": "test/common/README.md",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2FREADME.md",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2FREADME.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2FREADME.md?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -224,11 +224,6 @@ Platform check for Windows.\n \n Platform check for Windows 32-bit on Windows 64-bit.\n \n-### isCPPSymbolsNotMapped\n-* [&lt;boolean>]\n-\n-Platform check for C++ symbols are mapped or not.\n-\n ### leakedGlobals()\n * return [&lt;Array>]\n "
        },
        {
            "sha": "ad2a82f3ac8880b4966207aa795dd48cc3f3667a",
            "filename": "test/common/index.js",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Findex.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -799,9 +799,3 @@ exports.runWithInvalidFD = function(func) {\n \n   exports.printSkipMessage('Could not generate an invalid fd');\n };\n-\n-exports.isCPPSymbolsNotMapped = exports.isWindows ||\n-                                exports.isSunOS ||\n-                                exports.isAIX ||\n-                                exports.isLinuxPPCBE ||\n-                                exports.isFreeBSD;"
        },
        {
            "sha": "c8e6295b5ca1c6e602a09c9580cd2537553173ed",
            "filename": "test/common/index.mjs",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2Findex.mjs",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Fcommon%2Findex.mjs",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fcommon%2Findex.mjs?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -51,8 +51,7 @@ const {\n   getBufferSources,\n   disableCrashOnUnhandledRejection,\n   getTTYfd,\n-  runWithInvalidFD,\n-  isCPPSymbolsNotMapped\n+  runWithInvalidFD\n } = common;\n \n export {\n@@ -104,6 +103,5 @@ export {\n   getBufferSources,\n   disableCrashOnUnhandledRejection,\n   getTTYfd,\n-  runWithInvalidFD,\n-  isCPPSymbolsNotMapped\n+  runWithInvalidFD\n };"
        },
        {
            "sha": "1f38abe08c32e21806ded49bbf3d820a7c15f6bc",
            "filename": "test/tick-processor/test-tick-processor-builtin.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-builtin.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-builtin.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ftick-processor%2Ftest-tick-processor-builtin.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -1,10 +1,11 @@\n 'use strict';\n const common = require('../common');\n+const { isCPPSymbolsNotMapped } = require('./util');\n \n if (!common.enoughTestCpu)\n   common.skip('test is CPU-intensive');\n \n-if (common.isCPPSymbolsNotMapped) {\n+if (isCPPSymbolsNotMapped) {\n   common.skip('C++ symbols are not mapped for this os.');\n }\n "
        },
        {
            "sha": "e76d99ab09db7bf97d6c2ac54b5c5a522201768a",
            "filename": "test/tick-processor/test-tick-processor-cpp-core.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-cpp-core.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-cpp-core.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ftick-processor%2Ftest-tick-processor-cpp-core.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -1,10 +1,11 @@\n 'use strict';\n const common = require('../common');\n+const { isCPPSymbolsNotMapped } = require('./util');\n \n if (!common.enoughTestCpu)\n   common.skip('test is CPU-intensive');\n \n-if (common.isCPPSymbolsNotMapped) {\n+if (isCPPSymbolsNotMapped) {\n   common.skip('C++ symbols are not mapped for this os.');\n }\n "
        },
        {
            "sha": "d0a6eb9f81806e3d6f0af19877c00d605dcac7e6",
            "filename": "test/tick-processor/test-tick-processor-polyfill-brokenfile.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-polyfill-brokenfile.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-polyfill-brokenfile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ftick-processor%2Ftest-tick-processor-polyfill-brokenfile.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -1,12 +1,13 @@\n 'use strict';\n const common = require('../common');\n+const { isCPPSymbolsNotMapped } = require('./util');\n const tmpdir = require('../common/tmpdir');\n tmpdir.refresh();\n \n if (!common.enoughTestCpu)\n   common.skip('test is CPU-intensive');\n \n-if (common.isCPPSymbolsNotMapped) {\n+if (isCPPSymbolsNotMapped) {\n   common.skip('C++ symbols are not mapped for this OS.');\n }\n "
        },
        {
            "sha": "8b1ec9920f47eda07f36b0dd5b9bdfae6f9b0961",
            "filename": "test/tick-processor/test-tick-processor-preprocess-flag.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-preprocess-flag.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Ftest-tick-processor-preprocess-flag.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ftick-processor%2Ftest-tick-processor-preprocess-flag.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -1,10 +1,11 @@\n 'use strict';\n const common = require('../common');\n+const { isCPPSymbolsNotMapped } = require('./util');\n \n if (!common.enoughTestCpu)\n   common.skip('test is CPU-intensive');\n \n-if (common.isCPPSymbolsNotMapped) {\n+if (isCPPSymbolsNotMapped) {\n   common.skip('C++ symbols are not mapped for this os.');\n }\n "
        },
        {
            "sha": "d25a2a7dcb132e1c91498c2215da7b2a0bdcb4bf",
            "filename": "test/tick-processor/util.js",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/6bb96a1183d9492a34a745a5d1bb48552a4eef24/test%2Ftick-processor%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ftick-processor%2Futil.js?ref=6bb96a1183d9492a34a745a5d1bb48552a4eef24",
            "patch": "@@ -0,0 +1,18 @@\n+'use strict';\n+\n+// Utilities for the tick-processor tests\n+const {\n+  isWindows,\n+  isSunOS,\n+  isAIX,\n+  isLinuxPPCBE,\n+  isFreeBSD\n+} = require('../common');\n+\n+module.exports = {\n+  isCPPSymbolsNotMapped: isWindows ||\n+                         isSunOS ||\n+                         isAIX ||\n+                         isLinuxPPCBE ||\n+                         isFreeBSD\n+};"
        }
    ],
    "stats": {
        "total": 47,
        "additions": 28,
        "deletions": 19
    }
}