{
    "author": "amitzur",
    "message": "crypto: include 'Buffer' in error output of Hash.update method\n\nFixes: https://github.com/nodejs/node/issues/25487\n\nPR-URL: https://github.com/nodejs/node/pull/25533\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: Sam Roberts <vieuxtech@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>",
    "sha": "e0a3d741352001d3254adc290763b1bdcbad3ad3",
    "files": [
        {
            "sha": "5e67efe6c5c257c2ca97dabe691c11f6070b8297",
            "filename": "lib/internal/crypto/hash.js",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/e0a3d741352001d3254adc290763b1bdcbad3ad3/lib%2Finternal%2Fcrypto%2Fhash.js",
            "raw_url": "https://github.com/nodejs/node/raw/e0a3d741352001d3254adc290763b1bdcbad3ad3/lib%2Finternal%2Fcrypto%2Fhash.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fhash.js?ref=e0a3d741352001d3254adc290763b1bdcbad3ad3",
            "patch": "@@ -62,7 +62,11 @@ Hash.prototype.update = function update(data, encoding) {\n \n   if (typeof data !== 'string' && !isArrayBufferView(data)) {\n     throw new ERR_INVALID_ARG_TYPE('data',\n-                                   ['string', 'TypedArray', 'DataView'], data);\n+                                   ['string',\n+                                    'Buffer',\n+                                    'TypedArray',\n+                                    'DataView'],\n+                                   data);\n   }\n \n   if (!this[kHandle].update(data, encoding || getDefaultEncoding()))"
        },
        {
            "sha": "60904cf08fec3dfe4a6073ddaf2bb1c4504feac3",
            "filename": "test/parallel/test-crypto-hash.js",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/e0a3d741352001d3254adc290763b1bdcbad3ad3/test%2Fparallel%2Ftest-crypto-hash.js",
            "raw_url": "https://github.com/nodejs/node/raw/e0a3d741352001d3254adc290763b1bdcbad3ad3/test%2Fparallel%2Ftest-crypto-hash.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-hash.js?ref=e0a3d741352001d3254adc290763b1bdcbad3ad3",
            "patch": "@@ -122,6 +122,17 @@ common.expectsError(\n     message: 'boom'\n   });\n \n+// Issue https://github.com/nodejs/node/issues/25487: error message for invalid\n+// arg type to update method should include all possible types\n+common.expectsError(\n+  () => crypto.createHash('sha256').update(),\n+  {\n+    code: 'ERR_INVALID_ARG_TYPE',\n+    type: TypeError,\n+    message: 'The \"data\" argument must be one of type string, Buffer, ' +\n+      'TypedArray, or DataView. Received type undefined'\n+  });\n+\n // Default UTF-8 encoding\n const hutf8 = crypto.createHash('sha512').update('УТФ-8 text').digest('hex');\n assert.strictEqual("
        }
    ],
    "stats": {
        "total": 17,
        "additions": 16,
        "deletions": 1
    }
}