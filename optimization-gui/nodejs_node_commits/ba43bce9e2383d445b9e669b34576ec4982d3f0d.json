{
    "author": "addaleax",
    "message": "test: fix flaky parallel/test-fs-write-file-typedarrays\n\nUsing the same filename for different async tests could lead\nto race conditions.\n\nExample failure: https://travis-ci.com/nodejs/node/jobs/143351655\n\nRefs: https://github.com/nodejs/node/pull/22150\n\nPR-URL: https://github.com/nodejs/node/pull/22659\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>",
    "sha": "ba43bce9e2383d445b9e669b34576ec4982d3f0d",
    "files": [
        {
            "sha": "eca22750f6f903e399372eb721355157bfdb1879",
            "filename": "test/parallel/test-fs-write-file-typedarrays.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/ba43bce9e2383d445b9e669b34576ec4982d3f0d/test%2Fparallel%2Ftest-fs-write-file-typedarrays.js",
            "raw_url": "https://github.com/nodejs/node/raw/ba43bce9e2383d445b9e669b34576ec4982d3f0d/test%2Fparallel%2Ftest-fs-write-file-typedarrays.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-write-file-typedarrays.js?ref=ba43bce9e2383d445b9e669b34576ec4982d3f0d",
            "patch": "@@ -32,10 +32,11 @@ for (const expectView of common.getArrayBufferViews(inputBuffer)) {\n \n for (const expectView of common.getArrayBufferViews(inputBuffer)) {\n   console.log('Async test for ', expectView[Symbol.toStringTag]);\n-  fs.writeFile(filename, expectView, common.mustCall((e) => {\n+  const file = `${filename}-${expectView[Symbol.toStringTag]}`;\n+  fs.writeFile(file, expectView, common.mustCall((e) => {\n     assert.ifError(e);\n \n-    fs.readFile(filename, 'utf8', common.mustCall((err, data) => {\n+    fs.readFile(file, 'utf8', common.mustCall((err, data) => {\n       assert.ifError(err);\n       assert.strictEqual(data, inputBuffer.toString('utf8'));\n     }));"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}