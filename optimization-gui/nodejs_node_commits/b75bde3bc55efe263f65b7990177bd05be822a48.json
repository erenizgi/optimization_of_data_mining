{
    "author": "aduh95",
    "message": "test: add support for NODE_TEST_DIR on a separate mount point\n\nLinux permits a filesystem to be mounted at multiple points, but\n`fs.renameSync` does not work across different mount points, even if the\nsame filesystem is mounted on both.\nThis fixes failing tests when NODE_TEST_DIR mount point is different\nfrom the one on which the tests are executed (E.G. on a separate\npartition).\n\nRef: http://man7.org/linux/man-pages/man2/rename.2.html\n\nPR-URL: https://github.com/nodejs/node/pull/21552\nRefs: http://man7.org/linux/man-pages/man2/rename.2.html\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Ben Coe <bencoe@gmail.com>",
    "sha": "b75bde3bc55efe263f65b7990177bd05be822a48",
    "files": [
        {
            "sha": "f001535598bbebd8a96c45ce85b5b51c4803dcfa",
            "filename": "test/parallel/test-fs-copyfile.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/b75bde3bc55efe263f65b7990177bd05be822a48/test%2Fparallel%2Ftest-fs-copyfile.js",
            "raw_url": "https://github.com/nodejs/node/raw/b75bde3bc55efe263f65b7990177bd05be822a48/test%2Fparallel%2Ftest-fs-copyfile.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-copyfile.js?ref=b75bde3bc55efe263f65b7990177bd05be822a48",
            "patch": "@@ -64,7 +64,7 @@ try {\n } catch (err) {\n   assert.strictEqual(err.syscall, 'copyfile');\n   assert(err.code === 'ENOTSUP' || err.code === 'ENOTTY' ||\n-    err.code === 'ENOSYS');\n+    err.code === 'ENOSYS' || err.code === 'EXDEV');\n   assert.strictEqual(err.path, src);\n   assert.strictEqual(err.dest, dest);\n }"
        },
        {
            "sha": "8ef009e8128b0d94638b315e87fb411bd33ea2b8",
            "filename": "test/parallel/test-fs-error-messages.js",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/b75bde3bc55efe263f65b7990177bd05be822a48/test%2Fparallel%2Ftest-fs-error-messages.js",
            "raw_url": "https://github.com/nodejs/node/raw/b75bde3bc55efe263f65b7990177bd05be822a48/test%2Fparallel%2Ftest-fs-error-messages.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-error-messages.js?ref=b75bde3bc55efe263f65b7990177bd05be822a48",
            "patch": "@@ -303,6 +303,11 @@ function re(literals, ...values) {\n         `ENOTEMPTY: directory not empty, rename '${existingDir}' -> ` +\n         `'${existingDir2}'`);\n       assert.strictEqual(err.errno, uv.UV_ENOTEMPTY);\n+    } else if (err.code === 'EXDEV') {  // not on the same mounted filesystem\n+      assert.strictEqual(\n+        err.message,\n+        `EXDEV: cross-device link not permitted, rename '${existingDir}' -> ` +\n+            `'${existingDir2}'`);\n     } else if (err.code === 'EEXIST') {  // smartos and aix\n       assert.strictEqual(\n         err.message,"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}