{
    "author": "BridgeAR",
    "message": "benchmark: improve assert benchmarks\n\nThis reduces the runtime and makes sure the strict and loose options\ncan be tested individually.\n\nBesides that a couple of redundant cases were removed.\n\nPR-URL: https://github.com/nodejs/node/pull/22211\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "5442c28b651a79c2269bf2b931e81cd553171656",
    "files": [
        {
            "sha": "baf3e1766c15f5d9285bd7076337c32cdd6e1b42",
            "filename": "benchmark/assert/deepequal-buffer.js",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-buffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-buffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-buffer.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -3,17 +3,16 @@ const common = require('../common.js');\n const assert = require('assert');\n \n const bench = common.createBenchmark(main, {\n-  n: [1e5],\n-  len: [1e2, 1e4],\n+  n: [2e4],\n+  len: [1e2, 1e3],\n+  strict: [0, 1],\n   method: [\n     'deepEqual',\n-    'deepStrictEqual',\n-    'notDeepEqual',\n-    'notDeepStrictEqual'\n+    'notDeepEqual'\n   ]\n });\n \n-function main({ len, n, method }) {\n+function main({ len, n, method, strict }) {\n   if (!method)\n     method = 'deepEqual';\n   const data = Buffer.allocUnsafe(len + 1);\n@@ -24,6 +23,9 @@ function main({ len, n, method }) {\n   data.copy(expected);\n   data.copy(expectedWrong);\n \n+  if (strict) {\n+    method = method.replace('eep', 'eepStrict');\n+  }\n   const fn = assert[method];\n   const value2 = method.includes('not') ? expectedWrong : expected;\n "
        },
        {
            "sha": "c15e1c9a360c3be468900fc7d2af5cb97f777c3b",
            "filename": "benchmark/assert/deepequal-map.js",
            "status": "modified",
            "additions": 9,
            "deletions": 57,
            "changes": 66,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-map.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-map.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-map.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -7,21 +7,14 @@ const { deepEqual, deepStrictEqual, notDeepEqual, notDeepStrictEqual } =\n const bench = common.createBenchmark(main, {\n   n: [5e2],\n   len: [5e2],\n+  strict: [0, 1],\n   method: [\n     'deepEqual_primitiveOnly',\n-    'deepStrictEqual_primitiveOnly',\n     'deepEqual_objectOnly',\n-    'deepStrictEqual_objectOnly',\n     'deepEqual_mixed',\n-    'deepStrictEqual_mixed',\n-    'deepEqual_looseMatches',\n     'notDeepEqual_primitiveOnly',\n-    'notDeepStrictEqual_primitiveOnly',\n     'notDeepEqual_objectOnly',\n-    'notDeepStrictEqual_objectOnly',\n-    'notDeepEqual_mixed',\n-    'notDeepStrictEqual_mixed',\n-    'notDeepEqual_looseMatches',\n+    'notDeepEqual_mixed'\n   ]\n });\n \n@@ -37,7 +30,7 @@ function benchmark(method, n, values, values2) {\n   bench.end(n);\n }\n \n-function main({ n, len, method }) {\n+function main({ n, len, method, strict }) {\n   const array = Array(len).fill(1);\n   var values, values2;\n \n@@ -46,74 +39,33 @@ function main({ n, len, method }) {\n       // Empty string falls through to next line as default, mostly for tests.\n     case 'deepEqual_primitiveOnly':\n       values = array.map((_, i) => [`str_${i}`, 123]);\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_primitiveOnly':\n-      values = array.map((_, i) => [`str_${i}`, 123]);\n-      benchmark(deepStrictEqual, n, values);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'deepEqual_objectOnly':\n       values = array.map((_, i) => [[`str_${i}`, 1], 123]);\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_objectOnly':\n-      values = array.map((_, i) => [[`str_${i}`, 1], 123]);\n-      benchmark(deepStrictEqual, n, values);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'deepEqual_mixed':\n       values = array.map((_, i) => [i % 2 ? [`str_${i}`, 1] : `str_${i}`, 123]);\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_mixed':\n-      values = array.map((_, i) => [i % 2 ? [`str_${i}`, 1] : `str_${i}`, 123]);\n-      benchmark(deepStrictEqual, n, values);\n-      break;\n-    case 'deepEqual_looseMatches':\n-      values = array.map((_, i) => [i, i]);\n-      values2 = values.slice().map((v) => [String(v[0]), String(v[1])]);\n-      benchmark(deepEqual, n, values, values2);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'notDeepEqual_primitiveOnly':\n       values = array.map((_, i) => [`str_${i}`, 123]);\n       values2 = values.slice(0);\n       values2[Math.floor(len / 2)] = ['w00t', 123];\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_primitiveOnly':\n-      values = array.map((_, i) => [`str_${i}`, 123]);\n-      values2 = values.slice(0);\n-      values2[Math.floor(len / 2)] = ['w00t', 123];\n-      benchmark(notDeepStrictEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     case 'notDeepEqual_objectOnly':\n       values = array.map((_, i) => [[`str_${i}`, 1], 123]);\n       values2 = values.slice(0);\n       values2[Math.floor(len / 2)] = [['w00t'], 123];\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_objectOnly':\n-      values = array.map((_, i) => [[`str_${i}`, 1], 123]);\n-      values2 = values.slice(0);\n-      values2[Math.floor(len / 2)] = [['w00t'], 123];\n-      benchmark(notDeepStrictEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     case 'notDeepEqual_mixed':\n       values = array.map((_, i) => [i % 2 ? [`str_${i}`, 1] : `str_${i}`, 123]);\n       values2 = values.slice(0);\n       values2[0] = ['w00t', 123];\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_mixed':\n-      values = array.map((_, i) => [i % 2 ? [`str_${i}`, 1] : `str_${i}`, 123]);\n-      values2 = values.slice(0);\n-      values2[0] = ['w00t', 123];\n-      benchmark(notDeepStrictEqual, n, values, values2);\n-      break;\n-    case 'notDeepEqual_looseMatches':\n-      values = array.map((_, i) => [i, i]);\n-      values2 = values.slice().map((v) => [String(v[0]), String(v[1])]);\n-      values2[len - 1] = [String(len + 1), String(len + 1)];\n-      benchmark(notDeepEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     default:\n       throw new Error(`Unsupported method ${method}`);"
        },
        {
            "sha": "1a9c826a00d4c1dd2018781ea68d055ee3f83e90",
            "filename": "benchmark/assert/deepequal-object.js",
            "status": "modified",
            "additions": 12,
            "deletions": 8,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-object.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-object.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-object.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -4,13 +4,12 @@ const common = require('../common.js');\n const assert = require('assert');\n \n const bench = common.createBenchmark(main, {\n-  n: [1e6],\n-  size: [1e2, 1e3, 1e4],\n+  n: [5e3],\n+  size: [1e2, 1e3, 5e4],\n+  strict: [0, 1],\n   method: [\n     'deepEqual',\n-    'deepStrictEqual',\n-    'notDeepEqual',\n-    'notDeepStrictEqual'\n+    'notDeepEqual'\n   ]\n });\n \n@@ -20,14 +19,16 @@ function createObj(source, add = '') {\n     nope: {\n       bar: `123${add}`,\n       a: [1, 2, 3],\n-      baz: n\n+      baz: n,\n+      c: {},\n+      b: []\n     }\n   }));\n }\n \n-function main({ size, n, method }) {\n+function main({ size, n, method, strict }) {\n   // TODO: Fix this \"hack\". `n` should not be manipulated.\n-  n = n / size;\n+  n = Math.min(Math.ceil(n / size), 20);\n \n   if (!method)\n     method = 'deepEqual';\n@@ -37,6 +38,9 @@ function main({ size, n, method }) {\n   const expected = createObj(source);\n   const expectedWrong = createObj(source, '4');\n \n+  if (strict) {\n+    method = method.replace('eep', 'eepStrict');\n+  }\n   const fn = assert[method];\n   const value2 = method.includes('not') ? expectedWrong : expected;\n "
        },
        {
            "sha": "71637c28cea999199a75b24dd736111132ed77c0",
            "filename": "benchmark/assert/deepequal-prims-and-objs-big-array-set.js",
            "status": "modified",
            "additions": 10,
            "deletions": 28,
            "changes": 38,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-array-set.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-array-set.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-array-set.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -5,29 +5,22 @@ const { deepEqual, deepStrictEqual, notDeepEqual, notDeepStrictEqual } =\n   require('assert');\n \n const primValues = {\n-  'null': null,\n-  'undefined': undefined,\n   'string': 'a',\n   'number': 1,\n-  'boolean': true,\n   'object': { 0: 'a' },\n-  'array': [1, 2, 3],\n-  'new-array': new Array([1, 2, 3])\n+  'array': [1, 2, 3]\n };\n \n const bench = common.createBenchmark(main, {\n   primitive: Object.keys(primValues),\n   n: [25],\n-  len: [1e5],\n+  len: [2e4],\n+  strict: [0, 1],\n   method: [\n     'deepEqual_Array',\n-    'deepStrictEqual_Array',\n     'notDeepEqual_Array',\n-    'notDeepStrictEqual_Array',\n     'deepEqual_Set',\n-    'deepStrictEqual_Set',\n-    'notDeepEqual_Set',\n-    'notDeepStrictEqual_Set'\n+    'notDeepEqual_Set'\n   ]\n });\n \n@@ -39,7 +32,7 @@ function run(fn, n, actual, expected) {\n   bench.end(n);\n }\n \n-function main({ n, len, primitive, method }) {\n+function main({ n, len, primitive, method, strict }) {\n   const prim = primValues[primitive];\n   const actual = [];\n   const expected = [];\n@@ -62,28 +55,17 @@ function main({ n, len, primitive, method }) {\n     // Empty string falls through to next line as default, mostly for tests.\n     case '':\n     case 'deepEqual_Array':\n-      run(deepEqual, n, actual, expected);\n-      break;\n-    case 'deepStrictEqual_Array':\n-      run(deepStrictEqual, n, actual, expected);\n+      run(strict ? deepStrictEqual : deepEqual, n, actual, expected);\n       break;\n     case 'notDeepEqual_Array':\n-      run(notDeepEqual, n, actual, expectedWrong);\n-      break;\n-    case 'notDeepStrictEqual_Array':\n-      run(notDeepStrictEqual, n, actual, expectedWrong);\n+      run(strict ? notDeepStrictEqual : notDeepEqual, n, actual, expectedWrong);\n       break;\n     case 'deepEqual_Set':\n-      run(deepEqual, n, actualSet, expectedSet);\n-      break;\n-    case 'deepStrictEqual_Set':\n-      run(deepStrictEqual, n, actualSet, expectedSet);\n+      run(strict ? deepStrictEqual : deepEqual, n, actualSet, expectedSet);\n       break;\n     case 'notDeepEqual_Set':\n-      run(notDeepEqual, n, actualSet, expectedWrongSet);\n-      break;\n-    case 'notDeepStrictEqual_Set':\n-      run(notDeepStrictEqual, n, actualSet, expectedWrongSet);\n+      run(strict ? notDeepStrictEqual : notDeepEqual,\n+          n, actualSet, expectedWrongSet);\n       break;\n     default:\n       throw new Error(`Unsupported method \"${method}\"`);"
        },
        {
            "sha": "13abaf107fdfb94159c35f95b3e5c6f72f9d0e34",
            "filename": "benchmark/assert/deepequal-prims-and-objs-big-loop.js",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-loop.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-loop.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-prims-and-objs-big-loop.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -3,35 +3,33 @@ const common = require('../common.js');\n const assert = require('assert');\n \n const primValues = {\n-  'null': null,\n-  'undefined': undefined,\n   'string': 'a',\n   'number': 1,\n-  'boolean': true,\n   'object': { 0: 'a' },\n-  'array': [1, 2, 3],\n-  'new-array': new Array([1, 2, 3])\n+  'array': [1, 2, 3]\n };\n \n const bench = common.createBenchmark(main, {\n   primitive: Object.keys(primValues),\n-  n: [1e6],\n+  n: [2e4],\n+  strict: [0, 1],\n   method: [\n     'deepEqual',\n-    'deepStrictEqual',\n     'notDeepEqual',\n-    'notDeepStrictEqual'\n   ]\n });\n \n-function main({ n, primitive, method }) {\n+function main({ n, primitive, method, strict }) {\n   if (!method)\n     method = 'deepEqual';\n   const prim = primValues[primitive];\n   const actual = prim;\n   const expected = prim;\n   const expectedWrong = 'b';\n \n+  if (strict) {\n+    method = method.replace('eep', 'eepStrict');\n+  }\n   const fn = assert[method];\n   const value2 = method.includes('not') ? expectedWrong : expected;\n "
        },
        {
            "sha": "1f4061afb2a30039ddeac766f1d77b1251ca6265",
            "filename": "benchmark/assert/deepequal-set.js",
            "status": "modified",
            "additions": 9,
            "deletions": 61,
            "changes": 70,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-set.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-set.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-set.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -7,21 +7,14 @@ const { deepEqual, deepStrictEqual, notDeepEqual, notDeepStrictEqual } =\n const bench = common.createBenchmark(main, {\n   n: [5e2],\n   len: [5e2],\n+  strict: [0, 1],\n   method: [\n     'deepEqual_primitiveOnly',\n-    'deepStrictEqual_primitiveOnly',\n     'deepEqual_objectOnly',\n-    'deepStrictEqual_objectOnly',\n     'deepEqual_mixed',\n-    'deepStrictEqual_mixed',\n-    'deepEqual_looseMatches',\n     'notDeepEqual_primitiveOnly',\n-    'notDeepStrictEqual_primitiveOnly',\n     'notDeepEqual_objectOnly',\n-    'notDeepStrictEqual_objectOnly',\n-    'notDeepEqual_mixed',\n-    'notDeepStrictEqual_mixed',\n-    'notDeepEqual_looseMatches',\n+    'notDeepEqual_mixed'\n   ]\n });\n \n@@ -37,7 +30,7 @@ function benchmark(method, n, values, values2) {\n   bench.end(n);\n }\n \n-function main({ n, len, method }) {\n+function main({ n, len, method, strict }) {\n   const array = Array(len).fill(1);\n \n   var values, values2;\n@@ -47,82 +40,37 @@ function main({ n, len, method }) {\n       // Empty string falls through to next line as default, mostly for tests.\n     case 'deepEqual_primitiveOnly':\n       values = array.map((_, i) => `str_${i}`);\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_primitiveOnly':\n-      values = array.map((_, i) => `str_${i}`);\n-      benchmark(deepStrictEqual, n, values);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'deepEqual_objectOnly':\n       values = array.map((_, i) => [`str_${i}`, null]);\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_objectOnly':\n-      values = array.map((_, i) => [`str_${i}`, null]);\n-      benchmark(deepStrictEqual, n, values);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'deepEqual_mixed':\n       values = array.map((_, i) => {\n         return i % 2 ? [`str_${i}`, null] : `str_${i}`;\n       });\n-      benchmark(deepEqual, n, values);\n-      break;\n-    case 'deepStrictEqual_mixed':\n-      values = array.map((_, i) => {\n-        return i % 2 ? [`str_${i}`, null] : `str_${i}`;\n-      });\n-      benchmark(deepStrictEqual, n, values);\n-      break;\n-    case 'deepEqual_looseMatches':\n-      values = array.map((_, i) => i);\n-      values2 = values.slice().map((v) => String(v));\n-      benchmark(deepEqual, n, values, values2);\n+      benchmark(strict ? deepStrictEqual : deepEqual, n, values);\n       break;\n     case 'notDeepEqual_primitiveOnly':\n       values = array.map((_, i) => `str_${i}`);\n       values2 = values.slice(0);\n       values2[Math.floor(len / 2)] = 'w00t';\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_primitiveOnly':\n-      values = array.map((_, i) => `str_${i}`);\n-      values2 = values.slice(0);\n-      values2[Math.floor(len / 2)] = 'w00t';\n-      benchmark(notDeepStrictEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     case 'notDeepEqual_objectOnly':\n       values = array.map((_, i) => [`str_${i}`, null]);\n       values2 = values.slice(0);\n       values2[Math.floor(len / 2)] = ['w00t'];\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_objectOnly':\n-      values = array.map((_, i) => [`str_${i}`, null]);\n-      values2 = values.slice(0);\n-      values2[Math.floor(len / 2)] = ['w00t'];\n-      benchmark(notDeepStrictEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     case 'notDeepEqual_mixed':\n       values = array.map((_, i) => {\n         return i % 2 ? [`str_${i}`, null] : `str_${i}`;\n       });\n       values2 = values.slice();\n       values2[0] = 'w00t';\n-      benchmark(notDeepEqual, n, values, values2);\n-      break;\n-    case 'notDeepStrictEqual_mixed':\n-      values = array.map((_, i) => {\n-        return i % 2 ? [`str_${i}`, null] : `str_${i}`;\n-      });\n-      values2 = values.slice();\n-      values2[0] = 'w00t';\n-      benchmark(notDeepStrictEqual, n, values, values2);\n-      break;\n-    case 'notDeepEqual_looseMatches':\n-      values = array.map((_, i) => i);\n-      values2 = values.slice().map((v) => String(v));\n-      values2[len - 1] = String(len + 1);\n-      benchmark(notDeepEqual, n, values, values2);\n+      benchmark(strict ? notDeepStrictEqual : notDeepEqual, n, values, values2);\n       break;\n     default:\n       throw new Error(`Unsupported method \"${method}\"`);"
        },
        {
            "sha": "9f9c68a67312547bea3ac669d70b708e067efc6a",
            "filename": "benchmark/assert/deepequal-typedarrays.js",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-typedarrays.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fdeepequal-typedarrays.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fdeepequal-typedarrays.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -6,39 +6,39 @@ const bench = common.createBenchmark(main, {\n   type: [\n     'Int8Array',\n     'Uint8Array',\n-    'Int16Array',\n-    'Uint16Array',\n-    'Int32Array',\n-    'Uint32Array',\n     'Float32Array',\n     'Float64Array',\n     'Uint8ClampedArray',\n   ],\n-  n: [1],\n+  n: [5e2],\n+  strict: [0, 1],\n   method: [\n     'deepEqual',\n-    'deepStrictEqual',\n     'notDeepEqual',\n-    'notDeepStrictEqual'\n   ],\n-  len: [1e6]\n+  len: [1e2, 5e3]\n });\n \n-function main({ type, n, len, method }) {\n+function main({ type, n, len, method, strict }) {\n   if (!method)\n     method = 'deepEqual';\n   const clazz = global[type];\n   const actual = new clazz(len);\n   const expected = new clazz(len);\n-  const expectedWrong = Buffer.alloc(len);\n+  const expectedWrong = new clazz(len);\n   const wrongIndex = Math.floor(len / 2);\n   expectedWrong[wrongIndex] = 123;\n \n+  if (strict) {\n+    method = method.replace('eep', 'eepStrict');\n+  }\n   const fn = assert[method];\n   const value2 = method.includes('not') ? expectedWrong : expected;\n \n   bench.start();\n   for (var i = 0; i < n; ++i) {\n+    actual[0] = i;\n+    value2[0] = i;\n     fn(actual, value2);\n   }\n   bench.end(n);"
        },
        {
            "sha": "4869a9de69c319b4c761755f090939b655798bbc",
            "filename": "benchmark/assert/ok.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fok.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fok.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fok.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -4,7 +4,7 @@ const common = require('../common.js');\n const assert = require('assert');\n \n const bench = common.createBenchmark(main, {\n-  n: [1e9]\n+  n: [1e5]\n });\n \n function main({ n }) {"
        },
        {
            "sha": "1788630cb2f992cd799f781af8079507c0cf2fd2",
            "filename": "benchmark/assert/throws.js",
            "status": "modified",
            "additions": 1,
            "deletions": 9,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fthrows.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/benchmark%2Fassert%2Fthrows.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fthrows.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -4,10 +4,9 @@ const common = require('../common.js');\n const { throws, doesNotThrow } = require('assert');\n \n const bench = common.createBenchmark(main, {\n-  n: [1e6],\n+  n: [1e4],\n   method: [\n     'doesNotThrow',\n-    'throws',\n     'throws_TypeError',\n     'throws_RegExp'\n   ]\n@@ -30,13 +29,6 @@ function main({ n, method }) {\n       }\n       bench.end(n);\n       break;\n-    case 'throws':\n-      bench.start();\n-      for (i = 0; i < n; ++i) {\n-        throws(throwError);\n-      }\n-      bench.end(n);\n-      break;\n     case 'throws_TypeError':\n       bench.start();\n       for (i = 0; i < n; ++i) {"
        },
        {
            "sha": "8a8ba0244489e5ae18bbb70e2000104066718a4e",
            "filename": "test/parallel/test-benchmark-assert.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/5442c28b651a79c2269bf2b931e81cd553171656/test%2Fparallel%2Ftest-benchmark-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/5442c28b651a79c2269bf2b931e81cd553171656/test%2Fparallel%2Ftest-benchmark-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-benchmark-assert.js?ref=5442c28b651a79c2269bf2b931e81cd553171656",
            "patch": "@@ -10,6 +10,7 @@ const runBenchmark = require('../common/benchmark');\n runBenchmark(\n   'assert',\n   [\n+    'strict=1',\n     'len=1',\n     'method=',\n     'n=1',"
        }
    ],
    "stats": {
        "total": 257,
        "additions": 68,
        "deletions": 189
    }
}