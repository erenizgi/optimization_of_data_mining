{
    "author": "cjihrig",
    "message": "test: disable colors in test-assert.js\n\nWhen test/parallel/test-assert.js is run with a TTY as stdout,\ncolor codes in assertion messages cause the test to fail. This\ncommit disables colors when stdout is a TTY.\n\nFixes: https://github.com/nodejs/node/issues/18967\nPR-URL: https://github.com/nodejs/node/pull/20695\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "b5704859d043baeeda916ee4e435c06f5e2569e6",
    "files": [
        {
            "sha": "bf9d6c6eb48ce006ed22d53b1ac11db3c9bede7c",
            "filename": "test/parallel/test-assert.js",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/b5704859d043baeeda916ee4e435c06f5e2569e6/test%2Fparallel%2Ftest-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/b5704859d043baeeda916ee4e435c06f5e2569e6/test%2Fparallel%2Ftest-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert.js?ref=b5704859d043baeeda916ee4e435c06f5e2569e6",
            "patch": "@@ -34,6 +34,12 @@ const { writeFileSync, unlinkSync } = require('fs');\n const { inspect } = require('util');\n const a = assert;\n \n+// Disable colored output to prevent color codes from breaking assertion\n+// message comparisons. This should only be an issue when process.stdout\n+// is a TTY.\n+if (process.stdout.isTTY)\n+  process.env.NODE_DISABLE_COLORS = '1';\n+\n const start = 'Input A expected to strictly deep-equal input B:';\n const actExp = '+ expected - actual';\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}