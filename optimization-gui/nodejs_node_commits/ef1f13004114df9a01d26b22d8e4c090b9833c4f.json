{
    "author": "hristijankiko",
    "message": "test: improve assert error messages\n\nImprove the assert error message so it includes actual value in\nthe error message.\n\nPR-URL: https://github.com/nodejs/node/pull/21160\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Yuta Hiroto <hello@hiroppy.me>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "ef1f13004114df9a01d26b22d8e4c090b9833c4f",
    "files": [
        {
            "sha": "53cf54940d34e1b5298a06a9d2980af9e65921d1",
            "filename": "test/parallel/test-stream-pipe-await-drain.js",
            "status": "modified",
            "additions": 14,
            "deletions": 6,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/ef1f13004114df9a01d26b22d8e4c090b9833c4f/test%2Fparallel%2Ftest-stream-pipe-await-drain.js",
            "raw_url": "https://github.com/nodejs/node/raw/ef1f13004114df9a01d26b22d8e4c090b9833c4f/test%2Fparallel%2Ftest-stream-pipe-await-drain.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-pipe-await-drain.js?ref=ef1f13004114df9a01d26b22d8e4c090b9833c4f",
            "patch": "@@ -23,8 +23,12 @@ writer1._write = common.mustCall(function(chunk, encoding, cb) {\n }, 1);\n \n writer1.once('chunk-received', function() {\n-  assert.strictEqual(reader._readableState.awaitDrain, 0,\n-                     'initial value is not 0');\n+  assert.strictEqual(\n+    reader._readableState.awaitDrain,\n+    0,\n+    'awaitDrain initial value should be 0, actual is ' +\n+    reader._readableState.awaitDrain\n+  );\n   setImmediate(function() {\n     // This one should *not* get through to writer1 because writer2 is not\n     // \"done\" processing.\n@@ -35,8 +39,10 @@ writer1.once('chunk-received', function() {\n // A \"slow\" consumer:\n writer2._write = common.mustCall(function(chunk, encoding, cb) {\n   assert.strictEqual(\n-    reader._readableState.awaitDrain, 1,\n-    'awaitDrain isn\\'t 1 after first push'\n+    reader._readableState.awaitDrain,\n+    1,\n+    'awaitDrain should be 1 after first push, actual is ' +\n+    reader._readableState.awaitDrain\n   );\n   // Not calling cb here to \"simulate\" slow stream.\n   // This should be called exactly once, since the first .write() call\n@@ -45,8 +51,10 @@ writer2._write = common.mustCall(function(chunk, encoding, cb) {\n \n writer3._write = common.mustCall(function(chunk, encoding, cb) {\n   assert.strictEqual(\n-    reader._readableState.awaitDrain, 2,\n-    'awaitDrain isn\\'t 2 after second push'\n+    reader._readableState.awaitDrain,\n+    2,\n+    'awaitDrain should be 2 after second push, actual is ' +\n+    reader._readableState.awaitDrain\n   );\n   // Not calling cb here to \"simulate\" slow stream.\n   // This should be called exactly once, since the first .write() call"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 14,
        "deletions": 6
    }
}