{
    "author": "refack",
    "message": "build,win: exclude warning 4244 only for deps\n\n* also unify warning exclusion directive\n\nPR-URL: https://github.com/nodejs/node/pull/22698\nReviewed-By: Jo√£o Reis <reis@janeasystems.com>",
    "sha": "54e76fb873027cc6089bf8d7359d188d3687909e",
    "files": [
        {
            "sha": "cba83cc8cf79acce53966cf828dc0c2c50aaa7b0",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 14,
            "deletions": 13,
            "changes": 27,
            "blob_url": "https://github.com/nodejs/node/blob/54e76fb873027cc6089bf8d7359d188d3687909e/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/54e76fb873027cc6089bf8d7359d188d3687909e/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=54e76fb873027cc6089bf8d7359d188d3687909e",
            "patch": "@@ -274,18 +274,6 @@\n         'BufferSecurityCheck': 'true',\n         'ExceptionHandling': 0, # /EHsc\n         'SuppressStartupBanner': 'true',\n-        # Disable warnings:\n-        # - \"C4251: class needs to have dll-interface\"\n-        # - \"C4275: non-DLL-interface used as base for DLL-interface\"\n-        #   Over 10k of these warnings are generated when compiling node,\n-        #   originating from v8.h. Most of them are false positives.\n-        #   See also: https://github.com/nodejs/node/pull/15570\n-        #   TODO: re-enable when Visual Studio fixes these upstream.\n-        #\n-        # - \"C4267: conversion from 'size_t' to 'int'\"\n-        #   Many any originate from our dependencies, and their sheer number\n-        #   drowns out other, more legitimate warnings.\n-        'DisableSpecificWarnings': ['4251', '4275', '4267'],\n         'WarnAsError': 'false',\n       },\n       'VCLinkerTool': {\n@@ -316,7 +304,20 @@\n         'SuppressStartupBanner': 'true',\n       },\n     },\n-    'msvs_disabled_warnings': [4351, 4355, 4800],\n+    # Disable warnings:\n+    # - \"C4251: class needs to have dll-interface\"\n+    # - \"C4275: non-DLL-interface used as base for DLL-interface\"\n+    #   Over 10k of these warnings are generated when compiling node,\n+    #   originating from v8.h. Most of them are false positives.\n+    #   See also: https://github.com/nodejs/node/pull/15570\n+    #   TODO: re-enable when Visual Studio fixes these upstream.\n+    #\n+    # - \"C4267: conversion from 'size_t' to 'int'\"\n+    #   Many any originate from our dependencies, and their sheer number\n+    #   drowns out other, more legitimate warnings.\n+    # - \"C4244: conversion from 'type1' to 'type2', possible loss of data\"\n+    #   Ususaly safe. Disable for `dep`, enable for `src`\n+    'msvs_disabled_warnings': [4351, 4355, 4800, 4251, 4275, 4244, 4267],\n     'conditions': [\n       ['asan == 1 and OS != \"mac\"', {\n         'cflags+': ["
        },
        {
            "sha": "3f71e154b989580d32a23437676fbb35aa36ddb4",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/54e76fb873027cc6089bf8d7359d188d3687909e/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/54e76fb873027cc6089bf8d7359d188d3687909e/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=54e76fb873027cc6089bf8d7359d188d3687909e",
            "patch": "@@ -239,6 +239,11 @@\n         'src',\n         'deps/v8/include',\n       ],\n+\n+      # - \"C4244: conversion from 'type1' to 'type2', possible loss of data\"\n+      #   Ususaly safe. Disable for `dep`, enable for `src`\n+      'msvs_disabled_warnings!': [4244],\n+\n       'conditions': [\n         [ 'node_intermediate_lib_type==\"static_library\" and '\n             'node_shared==\"true\" and OS==\"aix\"', {\n@@ -472,6 +477,11 @@\n         'V8_DEPRECATION_WARNINGS=1',\n         'NODE_OPENSSL_SYSTEM_CERT_PATH=\"<(openssl_system_ca_path)\"',\n       ],\n+\n+      # - \"C4244: conversion from 'type1' to 'type2', possible loss of data\"\n+      #   Ususaly safe. Disable for `dep`, enable for `src`\n+      'msvs_disabled_warnings!': [4244],\n+\n       'conditions': [\n         [ 'node_code_cache_path!=\"\"', {\n           'sources': [ '<(node_code_cache_path)' ]"
        }
    ],
    "stats": {
        "total": 37,
        "additions": 24,
        "deletions": 13
    }
}