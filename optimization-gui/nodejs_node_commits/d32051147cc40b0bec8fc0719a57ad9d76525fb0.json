{
    "author": "refack",
    "message": "build: use `npm ci`\n\n* remove obsolete `node_modules/js-yaml/package.json` target\n* remove `@touch` since `npm ci` is always destructive\n\nPR-URL: https://github.com/nodejs/node/pull/22399\nRefs: https://github.com/nodejs/node/pull/21802\nRefs: https://github.com/nodejs/node/pull/21490\nReviewed-By: Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\nReviewed-By: Sam Ruby <rubys@intertwingly.net>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Daijiro Wachi <daijiro.wachi@gmail.com>",
    "sha": "d32051147cc40b0bec8fc0719a57ad9d76525fb0",
    "files": [
        {
            "sha": "2452244fc25967ee7c58688c32b85bd413ea2bd6",
            "filename": "Makefile",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/d32051147cc40b0bec8fc0719a57ad9d76525fb0/Makefile",
            "raw_url": "https://github.com/nodejs/node/raw/d32051147cc40b0bec8fc0719a57ad9d76525fb0/Makefile",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/Makefile?ref=d32051147cc40b0bec8fc0719a57ad9d76525fb0",
            "patch": "@@ -642,12 +642,8 @@ out/doc/api/assets/%: doc/api_assets/% out/doc/api/assets\n \t@cp $< $@\n \n \n-run-npm-install = $(PWD)/$(NPM) install --production --no-package-lock\n run-npm-ci = $(PWD)/$(NPM) ci\n \n-tools/doc/node_modules/js-yaml/package.json:\n-\tcd tools/doc && $(call available-node,$(run-npm-install))\n-\n gen-api = tools/doc/generate.js --node-version=$(FULLVERSION) \\\n \t\t--analytics=$(DOCS_ANALYTICS) $< --output-directory=out/doc/api\n \n@@ -1074,8 +1070,7 @@ lint-md-build: tools/remark-cli/node_modules \\\n \n tools/doc/node_modules: tools/doc/package.json\n ifeq ($(node_use_openssl),true)\n-\tcd tools/doc && $(call available-node,$(run-npm-install))\n-\t@touch $@\n+\tcd tools/doc && $(call available-node,$(run-npm-ci))\n else\n \t@echo \"Skipping tools/doc/node_modules (no crypto)\"\n endif\n@@ -1184,7 +1179,7 @@ LINT_CPP_FILES = $(filter-out $(LINT_CPP_EXCLUDE), $(wildcard \\\n ADDON_DOC_LINT_FLAGS=-whitespace/ending_newline,-build/header_guard\n \n format-cpp-build:\n-\tcd tools/clang-format && $(call available-node,$(run-npm-install))\n+\tcd tools/clang-format && $(call available-node,$(run-npm-ci))\n \n format-cpp-clean:\n \t$(RM) -r tools/clang-format/node_modules"
        },
        {
            "sha": "fd98867a12a46c90f4c9e6ce861cb87e1b3ee678",
            "filename": "vcbuild.bat",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/d32051147cc40b0bec8fc0719a57ad9d76525fb0/vcbuild.bat",
            "raw_url": "https://github.com/nodejs/node/raw/d32051147cc40b0bec8fc0719a57ad9d76525fb0/vcbuild.bat",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/vcbuild.bat?ref=d32051147cc40b0bec8fc0719a57ad9d76525fb0",
            "patch": "@@ -439,7 +439,7 @@ if not defined doc (\n if exist \"tools\\doc\\node_modules\\unified\\package.json\" goto skip-install-doctools\n SETLOCAL\n cd tools\\doc\n-%npm_exe% install\n+%npm_exe% ci\n cd ..\\..\n if errorlevel 1 goto exit\n ENDLOCAL"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 3,
        "deletions": 8
    }
}