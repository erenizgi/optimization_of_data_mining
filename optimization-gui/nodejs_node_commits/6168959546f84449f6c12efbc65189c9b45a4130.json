{
    "author": "Trott",
    "message": "test: run crypto benchmark only once in tests\n\nPrevent crypto benchmark files from running more than one benchmark\nduring tests.\n\nPR-URL: https://github.com/nodejs/node/pull/21032\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>",
    "sha": "6168959546f84449f6c12efbc65189c9b45a4130",
    "files": [
        {
            "sha": "cd8f29c8c7d7b2ae5b2f3d20e2b902ee1eb57c46",
            "filename": "benchmark/crypto/aes-gcm-throughput.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6168959546f84449f6c12efbc65189c9b45a4130/benchmark%2Fcrypto%2Faes-gcm-throughput.js",
            "raw_url": "https://github.com/nodejs/node/raw/6168959546f84449f6c12efbc65189c9b45a4130/benchmark%2Fcrypto%2Faes-gcm-throughput.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fcrypto%2Faes-gcm-throughput.js?ref=6168959546f84449f6c12efbc65189c9b45a4130",
            "patch": "@@ -9,6 +9,9 @@ const bench = common.createBenchmark(main, {\n });\n \n function main({ n, len, cipher }) {\n+  // Default cipher for tests.\n+  if (cipher === '')\n+    cipher = 'aes-128-gcm';\n   const message = Buffer.alloc(len, 'b');\n   const key = crypto.randomBytes(keylen[cipher]);\n   const iv = crypto.randomBytes(12);"
        },
        {
            "sha": "9f986dfb36b60d69b7180ac78c3c3fd258767b94",
            "filename": "benchmark/crypto/cipher-stream.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/6168959546f84449f6c12efbc65189c9b45a4130/benchmark%2Fcrypto%2Fcipher-stream.js",
            "raw_url": "https://github.com/nodejs/node/raw/6168959546f84449f6c12efbc65189c9b45a4130/benchmark%2Fcrypto%2Fcipher-stream.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fcrypto%2Fcipher-stream.js?ref=6168959546f84449f6c12efbc65189c9b45a4130",
            "patch": "@@ -10,6 +10,9 @@ const bench = common.createBenchmark(main, {\n });\n \n function main({ api, cipher, type, len, writes }) {\n+  // Default cipher for tests.\n+  if (cipher === '')\n+    cipher = 'AES192';\n   if (api === 'stream' && /^v0\\.[0-8]\\./.test(process.version)) {\n     console.error('Crypto streams not available until v0.10');\n     // use the legacy, just so that we can compare them."
        },
        {
            "sha": "f24edf675f92f021de2af4a07f8c5c22c29f7fd5",
            "filename": "test/parallel/test-benchmark-crypto.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/6168959546f84449f6c12efbc65189c9b45a4130/test%2Fparallel%2Ftest-benchmark-crypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/6168959546f84449f6c12efbc65189c9b45a4130/test%2Fparallel%2Ftest-benchmark-crypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-benchmark-crypto.js?ref=6168959546f84449f6c12efbc65189c9b45a4130",
            "patch": "@@ -12,14 +12,15 @@ const runBenchmark = require('../common/benchmark');\n \n runBenchmark('crypto',\n              [\n-               'n=1',\n                'algo=sha256',\n                'api=stream',\n+               'cipher=',\n                'keylen=1024',\n                'len=1',\n+               'n=1',\n                'out=buffer',\n                'type=buf',\n                'v=crypto',\n-               'writes=1'\n+               'writes=1',\n              ],\n              { NODEJS_BENCHMARK_ZERO_ALLOWED: 1 });"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 9,
        "deletions": 2
    }
}