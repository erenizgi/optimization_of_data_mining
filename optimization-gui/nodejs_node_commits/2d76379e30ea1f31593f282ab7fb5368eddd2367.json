{
    "author": "danbev",
    "message": "src: fix deprecation warning in node_perf.cc\n\nCurrently the following deprecation warning is produced when compiling\nnode_perf.cc:\n\n./src/node_perf.cc:91:11:\nwarning: 'MakeCallback' is deprecated: Use MakeCallback(...,\n      async_context) [-Wdeprecated-declarations]\n    node::MakeCallback(env->isolate(),\n          ^\n../src/node.h:172:50:\nnote: 'MakeCallback' has been explicitly marked deprecated here\n                NODE_EXTERN v8::Local<v8::Value> MakeCallback(\n                                                 ^\n1 warning generated.\n\nThis commit adds an async_context to the call and checks the maybe\nresult.\n\nPR-URL: https://github.com/nodejs/node/pull/18877\nReviewed-By: Ali Ijaz Sheikh <ofrobots@google.com>",
    "sha": "2d76379e30ea1f31593f282ab7fb5368eddd2367",
    "files": [
        {
            "sha": "8ee805a8382c4ec15962adab26a5fb96ca3fddd7",
            "filename": "src/node_perf.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/2d76379e30ea1f31593f282ab7fb5368eddd2367/src%2Fnode_perf.cc",
            "raw_url": "https://github.com/nodejs/node/raw/2d76379e30ea1f31593f282ab7fb5368eddd2367/src%2Fnode_perf.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_perf.cc?ref=2d76379e30ea1f31593f282ab7fb5368eddd2367",
            "patch": "@@ -91,7 +91,8 @@ void PerformanceEntry::Notify(Environment* env,\n     node::MakeCallback(env->isolate(),\n                        env->process_object(),\n                        env->performance_entry_callback(),\n-                       1, &object);\n+                       1, &object,\n+                       node::async_context{0, 0}).ToLocalChecked();\n   }\n }\n "
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}