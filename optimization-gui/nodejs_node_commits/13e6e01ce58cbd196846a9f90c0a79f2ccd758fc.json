{
    "author": "TomCoded",
    "message": "test: add module require tests for certain package.json errors\n\ntest for unusual error cases: verify that module require()\nfalls back to index if package.json names a missing file and\nthrows an error if package.json is unparseable.\n\nPR-URL: https://github.com/nodejs/node/pull/23285\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "13e6e01ce58cbd196846a9f90c0a79f2ccd758fc",
    "files": [
        {
            "sha": "c361a6dc8d1950f824bc8d176ea5771fcd9be9f6",
            "filename": "test/fixtures/packages/missing-main/index.js",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Fmissing-main%2Findex.js",
            "raw_url": "https://github.com/nodejs/node/raw/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Fmissing-main%2Findex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fpackages%2Fmissing-main%2Findex.js?ref=13e6e01ce58cbd196846a9f90c0a79f2ccd758fc",
            "patch": "@@ -0,0 +1,22 @@\n+// Copyright Joyent, Inc. and other Node contributors.\n+//\n+// Permission is hereby granted, free of charge, to any person obtaining a\n+// copy of this software and associated documentation files (the\n+// \"Software\"), to deal in the Software without restriction, including\n+// without limitation the rights to use, copy, modify, merge, publish,\n+// distribute, sublicense, and/or sell copies of the Software, and to permit\n+// persons to whom the Software is furnished to do so, subject to the\n+// following conditions:\n+//\n+// The above copyright notice and this permission notice shall be included\n+// in all copies or substantial portions of the Software.\n+//\n+// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n+// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n+// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n+// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n+// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n+// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n+// USE OR OTHER DEALINGS IN THE SOFTWARE.\n+\n+exports.ok = 'ok';"
        },
        {
            "sha": "feb846703ff796c9def35e9e50a5af734430f9b4",
            "filename": "test/fixtures/packages/missing-main/package.json",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Fmissing-main%2Fpackage.json",
            "raw_url": "https://github.com/nodejs/node/raw/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Fmissing-main%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fpackages%2Fmissing-main%2Fpackage.json?ref=13e6e01ce58cbd196846a9f90c0a79f2ccd758fc",
            "patch": "@@ -0,0 +1,4 @@\n+{\n+  \"name\": \"missingmain\",\n+  \"main\": \"doesnotexist.js\"\n+}"
        },
        {
            "sha": "2017a68ecc415c49f0876fb646a2df8583f3c52e",
            "filename": "test/fixtures/packages/unparseable/package.json",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Funparseable%2Fpackage.json",
            "raw_url": "https://github.com/nodejs/node/raw/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Ffixtures%2Fpackages%2Funparseable%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Ffixtures%2Fpackages%2Funparseable%2Fpackage.json?ref=13e6e01ce58cbd196846a9f90c0a79f2ccd758fc",
            "patch": "@@ -0,0 +1,3 @@\n+{\n+    \"main\": \"therain\" \"inspain\"\n+}"
        },
        {
            "sha": "42916a7903c3445b5778336033027209a0bac85a",
            "filename": "test/sequential/test-module-loading.js",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Fsequential%2Ftest-module-loading.js",
            "raw_url": "https://github.com/nodejs/node/raw/13e6e01ce58cbd196846a9f90c0a79f2ccd758fc/test%2Fsequential%2Ftest-module-loading.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fsequential%2Ftest-module-loading.js?ref=13e6e01ce58cbd196846a9f90c0a79f2ccd758fc",
            "patch": "@@ -104,6 +104,12 @@ const d2 = require('../fixtures/b/d');\n assert.strictEqual(require('../fixtures/packages/index').ok, 'ok');\n assert.strictEqual(require('../fixtures/packages/main').ok, 'ok');\n assert.strictEqual(require('../fixtures/packages/main-index').ok, 'ok');\n+assert.strictEqual(require('../fixtures/packages/missing-main').ok, 'ok');\n+\n+assert.throws(\n+  function() { require('../fixtures/packages/unparseable'); },\n+  /^SyntaxError: Error parsing/\n+);\n \n {\n   console.error('test cycles containing a .. path');\n@@ -267,6 +273,7 @@ try {\n     'fixtures/packages/index/index.js': {},\n     'fixtures/packages/main/package-main-module.js': {},\n     'fixtures/packages/main-index/package-main-module/index.js': {},\n+    'fixtures/packages/missing-main/index.js': {},\n     'fixtures/cycles/root.js': {\n       'fixtures/cycles/folder/foo.js': {}\n     },"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 36,
        "deletions": 0
    }
}