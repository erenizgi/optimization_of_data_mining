{
    "author": "tniessen",
    "message": "crypto: deprecate _toBuf\n\nPR-URL: https://github.com/nodejs/node/pull/22501\nFixes: https://github.com/nodejs/node/issues/22425\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Benjamin Gruenbaum <benjamingr@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>",
    "sha": "50aa85dc9bf47c7fad280aba40401a14c81a1aac",
    "files": [
        {
            "sha": "7aa8ac01ba6bd42a5cab0136a1d5669136c4f77e",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/50aa85dc9bf47c7fad280aba40401a14c81a1aac/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/50aa85dc9bf47c7fad280aba40401a14c81a1aac/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=50aa85dc9bf47c7fad280aba40401a14c81a1aac",
            "patch": "@@ -1031,6 +1031,14 @@ With the current crypto API, having `Cipher.setAuthTag()` and\n when called. They have never been documented and will be removed in a future\n release.\n \n+<a id=\"DEP0114\"></a>\n+### DEP0114: crypto._toBuf()\n+\n+Type: Runtime\n+\n+The `crypto._toBuf()` function was not designed to be used by modules outside\n+of Node.js core and will be removed in the future.\n+\n [`--pending-deprecation`]: cli.html#cli_pending_deprecation\n [`Buffer.allocUnsafeSlow(size)`]: buffer.html#buffer_class_method_buffer_allocunsafeslow_size\n [`Buffer.from(array)`]: buffer.html#buffer_class_method_buffer_from_array"
        },
        {
            "sha": "c2d3eb38cff0ddc24b9ffd50a2c0ef82ad6f96e9",
            "filename": "lib/crypto.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/50aa85dc9bf47c7fad280aba40401a14c81a1aac/lib%2Fcrypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/50aa85dc9bf47c7fad280aba40401a14c81a1aac/lib%2Fcrypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fcrypto.js?ref=50aa85dc9bf47c7fad280aba40401a14c81a1aac",
            "patch": "@@ -137,7 +137,7 @@ function createVerify(algorithm, options) {\n \n module.exports = exports = {\n   // Methods\n-  _toBuf: toBuf,\n+  _toBuf: deprecate(toBuf, 'crypto._toBuf is deprecated.', 'DEP0114'),\n   createCipheriv,\n   createDecipheriv,\n   createDiffieHellman,"
        },
        {
            "sha": "1f02c07b02eb2f02c0a6c934d2a9db4cd9ba218f",
            "filename": "test/parallel/test-crypto.js",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/50aa85dc9bf47c7fad280aba40401a14c81a1aac/test%2Fparallel%2Ftest-crypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/50aa85dc9bf47c7fad280aba40401a14c81a1aac/test%2Fparallel%2Ftest-crypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto.js?ref=50aa85dc9bf47c7fad280aba40401a14c81a1aac",
            "patch": "@@ -25,6 +25,13 @@ const common = require('../common');\n if (!common.hasCrypto)\n   common.skip('missing crypto');\n \n+common.expectWarning({\n+  DeprecationWarning: [\n+    ['crypto.createCipher is deprecated.', 'DEP0106'],\n+    ['crypto._toBuf is deprecated.', 'DEP0114']\n+  ]\n+});\n+\n const assert = require('assert');\n const crypto = require('crypto');\n const tls = require('tls');\n@@ -294,3 +301,8 @@ testEncoding({\n testEncoding({\n   defaultEncoding: 'latin1'\n }, assertionHashLatin1);\n+\n+{\n+  // Test that the exported _toBuf function is deprecated.\n+  crypto._toBuf(Buffer.alloc(0));\n+}"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 21,
        "deletions": 1
    }
}