{
    "author": "BridgeAR",
    "message": "process: deprecate process.assert()\n\nThis was never documented and the `assert` module should be used\ninstead.\n\nPR-URL: https://github.com/nodejs/node/pull/18666\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: Сковорода Никита Андреевич <chalkerx@gmail.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "703e37cf3fb163a4630a10f32bf5d5ec35142019",
    "files": [
        {
            "sha": "cf1e97397ab6257b48c19e6c51b70b0720192745",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/703e37cf3fb163a4630a10f32bf5d5ec35142019/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/703e37cf3fb163a4630a10f32bf5d5ec35142019/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=703e37cf3fb163a4630a10f32bf5d5ec35142019",
            "patch": "@@ -902,11 +902,21 @@ Certain versions of `node::MakeCallback` APIs available to native modules are\n deprecated. Please use the versions of the API that accept an `async_context`\n parameter.\n \n+<a id=\"DEP0100\"></a>\n+### DEP0100: process.assert()\n+\n+Type: Runtime\n+\n+`process.assert()` is deprecated. Please use the [`assert`][] module instead.\n+\n+This was never a documented feature.\n+\n [`--pending-deprecation`]: cli.html#cli_pending_deprecation\n [`Buffer.allocUnsafeSlow(size)`]: buffer.html#buffer_class_method_buffer_allocunsafeslow_size\n [`Buffer.from(array)`]: buffer.html#buffer_class_method_buffer_from_array\n [`Buffer.from(buffer)`]: buffer.html#buffer_class_method_buffer_from_buffer\n [`Buffer.isBuffer()`]: buffer.html#buffer_class_method_buffer_isbuffer_obj\n+[`assert`]: assert.html\n [`clearInterval()`]: timers.html#timers_clearinterval_timeout\n [`clearTimeout()`]: timers.html#timers_cleartimeout_timeout\n [`EventEmitter.listenerCount(emitter, eventName)`]: events.html#events_eventemitter_listenercount_emitter_eventname"
        },
        {
            "sha": "371281dfd4404198481fdefe57da43671fe3a86c",
            "filename": "lib/internal/process.js",
            "status": "modified",
            "additions": 9,
            "deletions": 5,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/703e37cf3fb163a4630a10f32bf5d5ec35142019/lib%2Finternal%2Fprocess.js",
            "raw_url": "https://github.com/nodejs/node/raw/703e37cf3fb163a4630a10f32bf5d5ec35142019/lib%2Finternal%2Fprocess.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess.js?ref=703e37cf3fb163a4630a10f32bf5d5ec35142019",
            "patch": "@@ -3,11 +3,15 @@\n const errors = require('internal/errors');\n const util = require('util');\n const constants = process.binding('constants').os.signals;\n-\n-const assert = process.assert = function(x, msg) {\n-  if (!x) throw new errors.Error('ERR_ASSERTION', msg || 'assertion error');\n-};\n-\n+const assert = require('assert').strict;\n+const { deprecate } = require('internal/util');\n+\n+process.assert = deprecate(\n+  function(x, msg) {\n+    if (!x) throw new errors.Error('ERR_ASSERTION', msg || 'assertion error');\n+  },\n+  'process.assert() is deprecated. Please use the `assert` module instead.',\n+  'DEP0100');\n \n function setup_performance() {\n   require('perf_hooks');"
        },
        {
            "sha": "74792eebb7bd2f20bc9af65bace2bf2240d5c087",
            "filename": "test/parallel/test-process-assert.js",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/703e37cf3fb163a4630a10f32bf5d5ec35142019/test%2Fparallel%2Ftest-process-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/703e37cf3fb163a4630a10f32bf5d5ec35142019/test%2Fparallel%2Ftest-process-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-process-assert.js?ref=703e37cf3fb163a4630a10f32bf5d5ec35142019",
            "patch": "@@ -2,20 +2,24 @@\n const common = require('../common');\n const assert = require('assert');\n \n+common.expectWarning(\n+  'DeprecationWarning',\n+  'process.assert() is deprecated. Please use the `assert` module instead.',\n+  'DEP0100'\n+);\n+\n assert.strictEqual(process.assert(1, 'error'), undefined);\n common.expectsError(() => {\n   process.assert(undefined, 'errorMessage');\n }, {\n   code: 'ERR_ASSERTION',\n   type: Error,\n   message: 'errorMessage'\n-}\n-);\n+});\n common.expectsError(() => {\n   process.assert(false);\n }, {\n   code: 'ERR_ASSERTION',\n   type: Error,\n   message: 'assertion error'\n-}\n-);\n+});"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 27,
        "deletions": 9
    }
}