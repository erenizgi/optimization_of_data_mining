{
    "author": "Trott",
    "message": "test: improve debug output in trace-events test\n\ntest-trace-events-fs-sync is swallowing useful information when it\nfails. This change results in more information being displayed.\n\nPR-URL: https://github.com/nodejs/node/pull/21120\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Lance Ball <lball@redhat.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "75e91659887012f743aa4487d6d4ce3d765c028a",
    "files": [
        {
            "sha": "7ab480f14a2e9ec3b7fbc4c959a2a8dda217f02a",
            "filename": "test/parallel/test-trace-events-fs-sync.js",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/75e91659887012f743aa4487d6d4ce3d765c028a/test%2Fparallel%2Ftest-trace-events-fs-sync.js",
            "raw_url": "https://github.com/nodejs/node/raw/75e91659887012f743aa4487d6d4ce3d765c028a/test%2Fparallel%2Ftest-trace-events-fs-sync.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-trace-events-fs-sync.js?ref=75e91659887012f743aa4487d6d4ce3d765c028a",
            "patch": "@@ -3,6 +3,7 @@ const common = require('../common');\n const assert = require('assert');\n const cp = require('child_process');\n const fs = require('fs');\n+const util = require('util');\n \n if (!common.isMainThread)\n   common.skip('process.chdir is not available in Workers');\n@@ -121,7 +122,8 @@ for (const tr in tests) {\n   const proc = cp.spawnSync(process.execPath,\n                             [ '--trace-events-enabled',\n                               '--trace-event-categories', 'node.fs.sync',\n-                              '-e', tests[tr] ]);\n+                              '-e', tests[tr] ],\n+                            { encoding: 'utf8' });\n   // Some AIX versions don't support futimes or utimes, so skip.\n   if (common.isAIX && proc.status !== 0 && tr === 'fs.sync.futimes') {\n     continue;\n@@ -131,7 +133,7 @@ for (const tr in tests) {\n   }\n \n   // Make sure the operation is successful.\n-  assert.strictEqual(proc.status, 0, tr + ': ' + proc.stderr);\n+  assert.strictEqual(proc.status, 0, `${tr}:\\n${util.inspect(proc)}`);\n \n   // Confirm that trace log file is created.\n   assert(common.fileExists(traceFile));"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}