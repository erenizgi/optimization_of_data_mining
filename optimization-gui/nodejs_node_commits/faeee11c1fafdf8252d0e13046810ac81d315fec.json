{
    "author": "unknown",
    "message": "stream: readable continues to read when `push('')`\n\nPR-URL: https://github.com/nodejs/node/pull/18211\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "faeee11c1fafdf8252d0e13046810ac81d315fec",
    "files": [
        {
            "sha": "9678d77f6c64349f728d3ba23ceea9d2f893caf4",
            "filename": "lib/_stream_readable.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/faeee11c1fafdf8252d0e13046810ac81d315fec/lib%2F_stream_readable.js",
            "raw_url": "https://github.com/nodejs/node/raw/faeee11c1fafdf8252d0e13046810ac81d315fec/lib%2F_stream_readable.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_stream_readable.js?ref=faeee11c1fafdf8252d0e13046810ac81d315fec",
            "patch": "@@ -250,6 +250,7 @@ function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n       }\n     } else if (!addToFront) {\n       state.reading = false;\n+      maybeReadMore(stream, state);\n     }\n   }\n "
        },
        {
            "sha": "33b912e71ec98f3cd00cc968ea6c867ce2f29091",
            "filename": "test/parallel/test-stream-readable-event.js",
            "status": "modified",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/nodejs/node/blob/faeee11c1fafdf8252d0e13046810ac81d315fec/test%2Fparallel%2Ftest-stream-readable-event.js",
            "raw_url": "https://github.com/nodejs/node/raw/faeee11c1fafdf8252d0e13046810ac81d315fec/test%2Fparallel%2Ftest-stream-readable-event.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-stream-readable-event.js?ref=faeee11c1fafdf8252d0e13046810ac81d315fec",
            "patch": "@@ -83,3 +83,33 @@ const Readable = require('stream').Readable;\n     r.on('readable', common.mustCall());\n   }, 1);\n }\n+\n+{\n+  // pushing a empty string in non-objectMode should\n+  // trigger next `read()`.\n+  const underlyingData = ['', 'x', 'y', '', 'z'];\n+  const expected = underlyingData.filter((data) => data);\n+  const result = [];\n+\n+  const r = new Readable({\n+    encoding: 'utf8',\n+  });\n+  r._read = function() {\n+    process.nextTick(() => {\n+      if (!underlyingData.length) {\n+        this.push(null);\n+      } else {\n+        this.push(underlyingData.shift());\n+      }\n+    });\n+  };\n+\n+  r.on('readable', () => {\n+    const data = r.read();\n+    if (data !== null) result.push(data);\n+  });\n+\n+  r.on('end', common.mustCall(() => {\n+    assert.deepStrictEqual(result, expected);\n+  }));\n+}"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 31,
        "deletions": 0
    }
}