{
    "author": "cjihrig",
    "message": "buffer: stop alloc() uninitialized memory return\n\nCVE-2018-7166\nDiscovered by ChALkeR - Сковорода Никита Андреевич\n\nPrevent Buffer.alloc(size, fill, number) from returning uninitialized memory.\n\nFixes: https://github.com/nodejs-private/security/issues/202\nPR-URL: https://github.com/nodejs-private/node-private/pull/137\nReviewed-By: Rod Vagg <rod@vagg.org>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Evan Lucas <evanlucas@me.com>\nReviewed-By: Сковорода Никита Андреевич <chalkerx@gmail.com>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "40a7beeddac9b9ec9ef5b49157daaf8470648b08",
    "files": [
        {
            "sha": "e025b322f0c7910dd3de3174ea59c6be2532fa36",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/40a7beeddac9b9ec9ef5b49157daaf8470648b08/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/40a7beeddac9b9ec9ef5b49157daaf8470648b08/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=40a7beeddac9b9ec9ef5b49157daaf8470648b08",
            "patch": "@@ -278,7 +278,8 @@ function assertSize(size) {\n Buffer.alloc = function alloc(size, fill, encoding) {\n   assertSize(size);\n   if (fill !== undefined && fill !== 0 && size > 0) {\n-    return _fill(createUnsafeBuffer(size), fill, encoding);\n+    const buf = createUnsafeBuffer(size);\n+    return _fill(buf, fill, 0, buf.length, encoding);\n   }\n   return new FastBuffer(size);\n };"
        },
        {
            "sha": "f89e25fdbb2f925e6dab5143ff6e05751ba8de68",
            "filename": "test/parallel/test-buffer-alloc.js",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/nodejs/node/blob/40a7beeddac9b9ec9ef5b49157daaf8470648b08/test%2Fparallel%2Ftest-buffer-alloc.js",
            "raw_url": "https://github.com/nodejs/node/raw/40a7beeddac9b9ec9ef5b49157daaf8470648b08/test%2Fparallel%2Ftest-buffer-alloc.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-buffer-alloc.js?ref=40a7beeddac9b9ec9ef5b49157daaf8470648b08",
            "patch": "@@ -1039,3 +1039,10 @@ common.expectsError(() => {\n   code: 'ERR_INVALID_ARG_VALUE',\n   type: TypeError\n });\n+\n+common.expectsError(() => {\n+  Buffer.alloc(40, 'x', 20);\n+}, {\n+  code: 'ERR_INVALID_ARG_TYPE',\n+  type: TypeError\n+});"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}