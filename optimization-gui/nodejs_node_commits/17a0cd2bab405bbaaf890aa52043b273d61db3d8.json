{
    "author": "thefourtheye",
    "message": "Revert \"tools,gyp: don't force build actions with multiple outputs\"\n\nThis reverts commit 5d8373a498a50b1387464391402ef22636439303.\n\nFixes: https://github.com/nodejs/node/issues/23255\n\nPR-URL: https://github.com/nodejs/node/pull/23257\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "17a0cd2bab405bbaaf890aa52043b273d61db3d8",
    "files": [
        {
            "sha": "e98d93ab233ff8bcd42c1bdaa33a2f2f2f8f771f",
            "filename": "tools/gyp/pylib/gyp/generator/make.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/17a0cd2bab405bbaaf890aa52043b273d61db3d8/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py",
            "raw_url": "https://github.com/nodejs/node/raw/17a0cd2bab405bbaaf890aa52043b273d61db3d8/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/tools%2Fgyp%2Fpylib%2Fgyp%2Fgenerator%2Fmake.py?ref=17a0cd2bab405bbaaf890aa52043b273d61db3d8",
            "patch": "@@ -1758,10 +1758,8 @@ def WriteMakeRule(self, outputs, inputs, actions=None, comment=None,\n       self.WriteLn('%s: %s' % (' '.join(outputs), intermediate))\n       self.WriteLn('\\t%s' % '@:')\n       self.WriteLn('%s: %s' % ('.INTERMEDIATE', intermediate))\n-      # Don't add `force_append` (FORCE_DO_CMD) to the intermediate sentinal.\n-      # Adding it makes the action run alway, even when there are no changes.\n-      # (refack): AFAICT because `*.intermediate` files don't have build rules.\n-      self.WriteLn('%s: %s' % (intermediate, ' '.join(inputs)))\n+      self.WriteLn('%s: %s%s' %\n+                   (intermediate, ' '.join(inputs), force_append))\n       actions.insert(0, '$(call do_cmd,touch)')\n \n     if actions:"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 2,
        "deletions": 4
    }
}