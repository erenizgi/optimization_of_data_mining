{
    "author": "BridgeAR",
    "message": "lib,test: minor refactoring\n\nThis refactors a couple tests to have upper case first characters\nin comments and to use `input` instead of `i`.\nIt also adds a few TODOs and rewrites a few lines to use default\narguments and to prevent function recreation when unnecessary.\n\nPR-URL: https://github.com/nodejs/node/pull/19445\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "c1278e53293a49c925451987d906f7b00977f4d4",
    "files": [
        {
            "sha": "b767c8a3226008a2db16bb23f23e3fd81ace17e2",
            "filename": "lib/fs.js",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ffs.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -751,6 +751,10 @@ fs.ftruncate = function(fd, len = 0, callback) {\n     len = 0;\n   }\n   validateUint32(fd, 'fd');\n+  // TODO(BridgeAR): This does not seem right.\n+  // There does not seem to be any validation before and if there is any, it\n+  // should work similar to validateUint32 or not have a upper cap at all.\n+  // This applies to all usage of `validateLen`.\n   validateLen(len);\n   len = Math.max(0, len);\n   const req = new FSReqWrap();\n@@ -1012,7 +1016,7 @@ fs.fchmod = function(fd, mode, callback) {\n   mode = modeNum(mode);\n   validateUint32(fd, 'fd');\n   validateUint32(mode, 'mode');\n-  // values for mode < 0 are already checked via the validateUint32 function\n+  // Values for mode < 0 are already checked via the validateUint32 function\n   if (mode > 0o777)\n     throw new ERR_OUT_OF_RANGE('mode');\n \n@@ -1025,7 +1029,8 @@ fs.fchmodSync = function(fd, mode) {\n   mode = modeNum(mode);\n   validateUint32(fd, 'fd');\n   validateUint32(mode, 'mode');\n-  if (mode < 0 || mode > 0o777)\n+  // Values for mode < 0 are already checked via the validateUint32 function\n+  if (mode > 0o777)\n     throw new ERR_OUT_OF_RANGE('mode');\n   const ctx = {};\n   binding.fchmod(fd, mode, undefined, ctx);"
        },
        {
            "sha": "8587321464c751e7ad2c15aee492496a716d9690",
            "filename": "lib/fs/promises.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Ffs%2Fpromises.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Ffs%2Fpromises.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ffs%2Fpromises.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -369,7 +369,7 @@ async function fchmod(handle, mode) {\n   mode = modeNum(mode);\n   validateFileHandle(handle);\n   validateUint32(mode, 'mode');\n-  if (mode < 0 || mode > 0o777)\n+  if (mode > 0o777)\n     throw new ERR_OUT_OF_RANGE('mode');\n   return binding.fchmod(handle.fd, mode, kUsePromises);\n }"
        },
        {
            "sha": "329add6d4d7cd52bc71ae6fc1c8c44807ebf9ebe",
            "filename": "lib/internal/crypto/diffiehellman.js",
            "status": "modified",
            "additions": 5,
            "deletions": 7,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fcrypto%2Fdiffiehellman.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -39,13 +39,11 @@ function DiffieHellman(sizeOrKey, keyEncoding, generator, genEncoding) {\n     );\n   }\n \n-  if (keyEncoding) {\n-    if (typeof keyEncoding !== 'string' ||\n-        (!Buffer.isEncoding(keyEncoding) && keyEncoding !== 'buffer')) {\n-      genEncoding = generator;\n-      generator = keyEncoding;\n-      keyEncoding = false;\n-    }\n+  if (keyEncoding && !Buffer.isEncoding(keyEncoding) &&\n+      keyEncoding !== 'buffer') {\n+    genEncoding = generator;\n+    generator = keyEncoding;\n+    keyEncoding = false;\n   }\n \n   const encoding = getDefaultEncoding();"
        },
        {
            "sha": "7c87dd57d26ba36eae4fa0939218c251f1675bae",
            "filename": "lib/internal/errors.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Ferrors.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Ferrors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ferrors.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -752,7 +752,7 @@ E('ERR_INVALID_ARG_VALUE', (name, value, reason = 'is invalid') => {\n     inspected = inspected.slice(0, 128) + '...';\n   }\n   return `The argument '${name}' ${reason}. Received ${inspected}`;\n-}, TypeError, RangeError); // Some are currently falsy implemented as \"Error\"\n+}, TypeError, RangeError);\n E('ERR_INVALID_ARRAY_LENGTH',\n   (name, len, actual) => {\n     internalAssert(typeof actual === 'number', 'actual must be a number');\n@@ -762,7 +762,7 @@ E('ERR_INVALID_ASYNC_ID', 'Invalid %s value: %s', RangeError);\n E('ERR_INVALID_BUFFER_SIZE',\n   'Buffer size must be a multiple of %s', RangeError);\n E('ERR_INVALID_CALLBACK', 'Callback must be a function', TypeError);\n-E('ERR_INVALID_CHAR', invalidChar, TypeError); //Check falsy \"Error\" entries.\n+E('ERR_INVALID_CHAR', invalidChar, TypeError);\n \n // This should probably be a `TypeError`.\n E('ERR_INVALID_CURSOR_POS',"
        },
        {
            "sha": "bcbb199ec32e42e57073df23143ba28e35df7778",
            "filename": "lib/internal/fs.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Ffs.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -372,13 +372,9 @@ function validateOffsetLengthWrite(offset, length, byteLength) {\n   }\n }\n \n-function validatePath(path, propName) {\n+function validatePath(path, propName = 'path') {\n   let err;\n \n-  if (propName === undefined) {\n-    propName = 'path';\n-  }\n-\n   if (typeof path !== 'string' && !isUint8Array(path)) {\n     err = new ERR_INVALID_ARG_TYPE(propName, ['string', 'Buffer', 'URL'], path);\n   } else {"
        },
        {
            "sha": "375fb314cbd7817c62af5f8eee958c8117ab4e75",
            "filename": "lib/internal/process.js",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Fprocess.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Finternal%2Fprocess.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fprocess.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -68,15 +68,15 @@ function setup_cpuUsage() {\n       user: cpuValues[0],\n       system: cpuValues[1]\n     };\n-\n-    // Ensure that a previously passed in value is valid. Currently, the native\n-    // implementation always returns numbers <= Number.MAX_SAFE_INTEGER.\n-    function previousValueIsValid(num) {\n-      return Number.isFinite(num) &&\n-          num <= Number.MAX_SAFE_INTEGER &&\n-          num >= 0;\n-    }\n   };\n+\n+  // Ensure that a previously passed in value is valid. Currently, the native\n+  // implementation always returns numbers <= Number.MAX_SAFE_INTEGER.\n+  function previousValueIsValid(num) {\n+    return Number.isFinite(num) &&\n+        num <= Number.MAX_SAFE_INTEGER &&\n+        num >= 0;\n+  }\n }\n \n // The 3 entries filled in by the original process.hrtime contains"
        },
        {
            "sha": "317fd83ce0f5f293ceb1d15f07f25c3808a4853c",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -169,12 +169,16 @@ function flushCallback(level, strategy, callback) {\n // 4. Throws ERR_OUT_OF_RANGE for infinite numbers\n function checkFiniteNumber(number, name) {\n   // Common case\n-  if (number === undefined || Number.isNaN(number)) {\n+  if (number === undefined) {\n     return false;\n   }\n \n   if (Number.isFinite(number)) {\n-    return true;  // is a valid number\n+    return true; // Is a valid number\n+  }\n+\n+  if (Number.isNaN(number)) {\n+    return false;\n   }\n \n   // Other non-numbers"
        },
        {
            "sha": "886d560d2f33aa4e6262681c89f5fffbfa9013f2",
            "filename": "test/parallel/test-crypto-random.js",
            "status": "modified",
            "additions": 26,
            "deletions": 84,
            "changes": 110,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-crypto-random.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-crypto-random.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-random.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -80,43 +80,18 @@ process.setMaxListeners(256);\n }\n \n {\n-  const buf = new Uint16Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFillSync(buf);\n-  const after = Buffer.from(buf.buffer).toString('hex');\n-  assert.notStrictEqual(before, after);\n-}\n-\n-{\n-  const buf = new Uint32Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFillSync(buf);\n-  const after = Buffer.from(buf.buffer).toString('hex');\n-  assert.notStrictEqual(before, after);\n-}\n-\n-{\n-  const buf = new Float32Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFillSync(buf);\n-  const after = Buffer.from(buf.buffer).toString('hex');\n-  assert.notStrictEqual(before, after);\n-}\n-\n-{\n-  const buf = new Float64Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFillSync(buf);\n-  const after = Buffer.from(buf.buffer).toString('hex');\n-  assert.notStrictEqual(before, after);\n-}\n-\n-{\n-  const buf = new DataView(new ArrayBuffer(10));\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFillSync(buf);\n-  const after = Buffer.from(buf.buffer).toString('hex');\n-  assert.notStrictEqual(before, after);\n+  [\n+    new Uint16Array(10),\n+    new Uint32Array(10),\n+    new Float32Array(10),\n+    new Float64Array(10),\n+    new DataView(new ArrayBuffer(10))\n+  ].forEach((buf) => {\n+    const before = Buffer.from(buf.buffer).toString('hex');\n+    crypto.randomFillSync(buf);\n+    const after = Buffer.from(buf.buffer).toString('hex');\n+    assert.notStrictEqual(before, after);\n+  });\n }\n \n {\n@@ -140,53 +115,20 @@ process.setMaxListeners(256);\n }\n \n {\n-  const buf = new Uint16Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFill(buf, common.mustCall((err, buf) => {\n-    assert.ifError(err);\n-    const after = Buffer.from(buf.buffer).toString('hex');\n-    assert.notStrictEqual(before, after);\n-  }));\n-}\n-\n-{\n-  const buf = new Uint32Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFill(buf, common.mustCall((err, buf) => {\n-    assert.ifError(err);\n-    const after = Buffer.from(buf.buffer).toString('hex');\n-    assert.notStrictEqual(before, after);\n-  }));\n-}\n-\n-{\n-  const buf = new Float32Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFill(buf, common.mustCall((err, buf) => {\n-    assert.ifError(err);\n-    const after = Buffer.from(buf.buffer).toString('hex');\n-    assert.notStrictEqual(before, after);\n-  }));\n-}\n-\n-{\n-  const buf = new Float64Array(10);\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFill(buf, common.mustCall((err, buf) => {\n-    assert.ifError(err);\n-    const after = Buffer.from(buf.buffer).toString('hex');\n-    assert.notStrictEqual(before, after);\n-  }));\n-}\n-\n-{\n-  const buf = new DataView(new ArrayBuffer(10));\n-  const before = Buffer.from(buf.buffer).toString('hex');\n-  crypto.randomFill(buf, common.mustCall((err, buf) => {\n-    assert.ifError(err);\n-    const after = Buffer.from(buf.buffer).toString('hex');\n-    assert.notStrictEqual(before, after);\n-  }));\n+  [\n+    new Uint16Array(10),\n+    new Uint32Array(10),\n+    new Float32Array(10),\n+    new Float64Array(10),\n+    new DataView(new ArrayBuffer(10))\n+  ].forEach((buf) => {\n+    const before = Buffer.from(buf.buffer).toString('hex');\n+    crypto.randomFill(buf, common.mustCall((err, buf) => {\n+      assert.ifError(err);\n+      const after = Buffer.from(buf.buffer).toString('hex');\n+      assert.notStrictEqual(before, after);\n+    }));\n+  });\n }\n \n {"
        },
        {
            "sha": "20448ffde6c6eabe5e58bbecb4f0e8659da28945",
            "filename": "test/parallel/test-fs-access.js",
            "status": "modified",
            "additions": 3,
            "deletions": 11,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-access.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-access.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-access.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -62,24 +62,16 @@ assert.strictEqual(typeof fs.R_OK, 'number');\n assert.strictEqual(typeof fs.W_OK, 'number');\n assert.strictEqual(typeof fs.X_OK, 'number');\n \n-fs.access(__filename, common.mustCall((err) => {\n-  assert.ifError(err);\n-}));\n-\n-fs.access(__filename, fs.R_OK, common.mustCall((err) => {\n-  assert.ifError(err);\n-}));\n+fs.access(__filename, common.mustCall(assert.ifError));\n+fs.access(__filename, fs.R_OK, common.mustCall(assert.ifError));\n+fs.access(readOnlyFile, fs.F_OK | fs.R_OK, common.mustCall(assert.ifError));\n \n fs.access(doesNotExist, common.mustCall((err) => {\n   assert.notStrictEqual(err, null, 'error should exist');\n   assert.strictEqual(err.code, 'ENOENT');\n   assert.strictEqual(err.path, doesNotExist);\n }));\n \n-fs.access(readOnlyFile, fs.F_OK | fs.R_OK, common.mustCall((err) => {\n-  assert.ifError(err);\n-}));\n-\n fs.access(readOnlyFile, fs.W_OK, common.mustCall(function(err) {\n   assert.strictEqual(this, undefined);\n   if (hasWriteAccessForReadonlyFile) {"
        },
        {
            "sha": "fca491de4a23e875cd9fae32a98cb6e27133f998",
            "filename": "test/parallel/test-fs-truncate.js",
            "status": "modified",
            "additions": 5,
            "deletions": 9,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-truncate.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-truncate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-truncate.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -36,7 +36,7 @@ let stat;\n const msg = 'Using fs.truncate with a file descriptor is deprecated.' +\n             ' Please use fs.ftruncate with a file descriptor instead.';\n \n-// truncateSync\n+// Check truncateSync\n fs.writeFileSync(filename, data);\n stat = fs.statSync(filename);\n assert.strictEqual(stat.size, 1024 * 16);\n@@ -49,7 +49,7 @@ fs.truncateSync(filename);\n stat = fs.statSync(filename);\n assert.strictEqual(stat.size, 0);\n \n-// ftruncateSync\n+// Check ftruncateSync\n fs.writeFileSync(filename, data);\n const fd = fs.openSync(filename, 'r+');\n \n@@ -64,18 +64,16 @@ fs.ftruncateSync(fd);\n stat = fs.statSync(filename);\n assert.strictEqual(stat.size, 0);\n \n-// truncateSync\n+// Check truncateSync\n common.expectWarning('DeprecationWarning', msg);\n fs.truncateSync(fd);\n \n fs.closeSync(fd);\n \n-// async tests\n+// Async tests\n testTruncate(common.mustCall(function(er) {\n   assert.ifError(er);\n-  testFtruncate(common.mustCall(function(er) {\n-    assert.ifError(er);\n-  }));\n+  testFtruncate(common.mustCall(assert.ifError));\n }));\n \n function testTruncate(cb) {\n@@ -105,7 +103,6 @@ function testTruncate(cb) {\n   });\n }\n \n-\n function testFtruncate(cb) {\n   fs.writeFile(filename, data, function(er) {\n     if (er) return cb(er);\n@@ -136,7 +133,6 @@ function testFtruncate(cb) {\n   });\n }\n \n-\n // Make sure if the size of the file is smaller than the length then it is\n // filled with zeroes.\n "
        },
        {
            "sha": "be2d1d24dfae3052fe7909e3b5ac30318127336c",
            "filename": "test/parallel/test-fs-utimes.js",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-utimes.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-utimes.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-utimes.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -111,10 +111,10 @@ function testIt(atime, mtime, callback) {\n   //\n   // test async code paths\n   //\n-  fs.utimes(tmpdir.path, atime, mtime, common.mustCall(function(err) {\n+  fs.utimes(tmpdir.path, atime, mtime, common.mustCall((err) => {\n     expect_ok('utimes', tmpdir.path, err, atime, mtime);\n \n-    fs.utimes('foobarbaz', atime, mtime, common.mustCall(function(err) {\n+    fs.utimes('foobarbaz', atime, mtime, common.mustCall((err) => {\n       expect_errno('utimes', 'foobarbaz', err, 'ENOENT');\n \n       // don't close this fd\n@@ -124,7 +124,7 @@ function testIt(atime, mtime, callback) {\n         fd = fs.openSync(tmpdir.path, 'r');\n       }\n \n-      fs.futimes(fd, atime, mtime, common.mustCall(function(err) {\n+      fs.futimes(fd, atime, mtime, common.mustCall((err) => {\n         expect_ok('futimes', fd, err, atime, mtime);\n \n         common.expectsError(\n@@ -148,19 +148,19 @@ function testIt(atime, mtime, callback) {\n \n const stats = fs.statSync(tmpdir.path);\n \n-// run tests\n+// Run tests\n const runTest = common.mustCall(testIt, 1);\n \n-runTest(new Date('1982-09-10 13:37'), new Date('1982-09-10 13:37'), function() {\n-  runTest(new Date(), new Date(), function() {\n-    runTest(123456.789, 123456.789, function() {\n-      runTest(stats.mtime, stats.mtime, function() {\n-        runTest('123456', -1, function() {\n+runTest(new Date('1982-09-10 13:37'), new Date('1982-09-10 13:37'), () => {\n+  runTest(new Date(), new Date(), () => {\n+    runTest(123456.789, 123456.789, () => {\n+      runTest(stats.mtime, stats.mtime, () => {\n+        runTest('123456', -1, () => {\n           runTest(\n             new Date('2017-04-08T17:59:38.008Z'),\n             new Date('2017-04-08T17:59:38.008Z'),\n-            common.mustCall(function() {\n-              // done\n+            common.mustCall(() => {\n+              // Done\n             })\n           );\n         });\n@@ -169,7 +169,7 @@ runTest(new Date('1982-09-10 13:37'), new Date('1982-09-10 13:37'), function() {\n   });\n });\n \n-process.on('exit', function() {\n+process.on('exit', () => {\n   assert.strictEqual(tests_ok, tests_run - 2);\n });\n "
        },
        {
            "sha": "94a81799e5a4f1f18ab1fdf5a99fb3b6c3a31f5f",
            "filename": "test/parallel/test-fs-watch.js",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-watch.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-fs-watch.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-watch.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -1,7 +1,7 @@\n 'use strict';\n const common = require('../common');\n \n-// tests if `filename` is provided to watcher on supported platforms\n+// Tests if `filename` is provided to watcher on supported platforms\n \n const fs = require('fs');\n const assert = require('assert');\n@@ -41,7 +41,7 @@ tmpdir.refresh();\n for (const testCase of cases) {\n   if (testCase.shouldSkip) continue;\n   fs.mkdirSync(testCase.dirPath);\n-  // long content so it's actually flushed.\n+  // Long content so it's actually flushed.\n   const content1 = Date.now() + testCase.fileName.toLowerCase().repeat(1e4);\n   fs.writeFileSync(testCase.filePath, content1);\n \n@@ -65,13 +65,13 @@ for (const testCase of cases) {\n       assert.strictEqual(eventType, 'change');\n     assert.strictEqual(argFilename, testCase.fileName);\n \n-    watcher.start();  // starting a started watcher should be a noop\n-    // end of test case\n+    watcher.start(); // Starting a started watcher should be a noop\n+    // End of test case\n     watcher.close();\n-    watcher.close(); // closing a closed watcher should be a noop\n+    watcher.close(); // Closing a closed watcher should be a noop\n   }));\n \n-  // long content so it's actually flushed. toUpperCase so there's real change.\n+  // Long content so it's actually flushed. toUpperCase so there's real change.\n   const content2 = Date.now() + testCase.fileName.toUpperCase().repeat(1e4);\n   interval = setInterval(() => {\n     fs.writeFileSync(testCase.filePath, '');"
        },
        {
            "sha": "71120fa594273f19f080dca2595ca4b626714223",
            "filename": "test/parallel/test-http2-compat-serverrequest-headers.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-compat-serverrequest-headers.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-compat-serverrequest-headers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-compat-serverrequest-headers.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -41,7 +41,7 @@ server.listen(0, common.mustCall(function() {\n     request.url = '/one';\n     assert.strictEqual(request.url, '/one');\n \n-    // third-party plugins for packages like express use query params to\n+    // Third-party plugins for packages like express use query params to\n     // change the request method\n     request.method = 'POST';\n     assert.strictEqual(request.method, 'POST');"
        },
        {
            "sha": "afb74af827b86020ea0a4becba9d28783553b284",
            "filename": "test/parallel/test-http2-ping.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-ping.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-ping.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-ping.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -79,7 +79,7 @@ server.listen(0, common.mustCall(() => {\n       message: 'HTTP2 ping cancelled'\n     })));\n \n-    // should throw if payload is not of type ArrayBufferView\n+    // Should throw if payload is not of type ArrayBufferView\n     {\n       [1, true, {}, []].forEach((payload) =>\n         common.expectsError(\n@@ -94,7 +94,7 @@ server.listen(0, common.mustCall(() => {\n       );\n     }\n \n-    // should throw if payload length is not 8\n+    // Should throw if payload length is not 8\n     {\n       const shortPayload = Buffer.from('abcdefg');\n       const longPayload = Buffer.from('abcdefghi');\n@@ -110,7 +110,7 @@ server.listen(0, common.mustCall(() => {\n       );\n     }\n \n-    // should throw error is callback is not of type function\n+    // Should throw error is callback is not of type function\n     {\n       const payload = Buffer.from('abcdefgh');\n       [1, true, {}, []].forEach((invalidCallback) =>"
        },
        {
            "sha": "136c76cc049cdd7bb0775c40b60a38e068aa38c9",
            "filename": "test/parallel/test-http2-util-asserts.js",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-util-asserts.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-http2-util-asserts.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http2-util-asserts.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -13,8 +13,8 @@ const {\n   Object.create(null),\n   new Date(),\n   new (class Foo {})()\n-].forEach((i) => {\n-  assertIsObject(i, 'foo', 'Object');\n+].forEach((input) => {\n+  assertIsObject(input, 'foo', 'Object');\n });\n \n [\n@@ -39,5 +39,5 @@ assertWithinRange('foo', 1, 0, 2);\n common.expectsError(() => assertWithinRange('foo', 1, 2, 3),\n                     {\n                       code: 'ERR_HTTP2_INVALID_SETTING_VALUE',\n-                      message: /^Invalid value for setting \"foo\": 1$/\n+                      message: 'Invalid value for setting \"foo\": 1'\n                     });"
        },
        {
            "sha": "d37cb6bf8b73e40a7071883ef1d2aceaaadaf31a",
            "filename": "test/parallel/test-util-inherits.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-util-inherits.js",
            "raw_url": "https://github.com/nodejs/node/raw/c1278e53293a49c925451987d906f7b00977f4d4/test%2Fparallel%2Ftest-util-inherits.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inherits.js?ref=c1278e53293a49c925451987d906f7b00977f4d4",
            "patch": "@@ -2,15 +2,15 @@\n \n const common = require('../common');\n const assert = require('assert');\n-const inherits = require('util').inherits;\n+const { inherits } = require('util');\n \n-// super constructor\n+// Super constructor\n function A() {\n   this._a = 'a';\n }\n A.prototype.a = function() { return this._a; };\n \n-// one level of inheritance\n+// One level of inheritance\n function B(value) {\n   A.call(this);\n   this._b = value;\n@@ -25,7 +25,7 @@ assert.strictEqual(b.a(), 'a');\n assert.strictEqual(b.b(), 'b');\n assert.strictEqual(b.constructor, B);\n \n-// two levels of inheritance\n+// Two levels of inheritance\n function C() {\n   B.call(this, 'b');\n   this._c = 'c';\n@@ -40,7 +40,7 @@ const c = new C();\n assert.strictEqual(c.getValue(), 'abc');\n assert.strictEqual(c.constructor, C);\n \n-// inherits can be called after setting prototype properties\n+// Inherits can be called after setting prototype properties\n function D() {\n   C.call(this);\n   this._d = 'd';"
        }
    ],
    "stats": {
        "total": 255,
        "additions": 94,
        "deletions": 161
    }
}