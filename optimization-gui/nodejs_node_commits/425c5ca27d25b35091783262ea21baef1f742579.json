{
    "author": "shigeki",
    "message": "test: remove openssl -no_rand_screen opts\n\nThis option was made from the floating patch of d269e07.\nIt is no longer needed because the issue was resolved in\nOpenSSL-1.1.0.\n\nFixes: https://github.com/nodejs/node/issues/4270\nPR-URL: https://github.com/nodejs/node/pull/19794\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Rod Vagg <rod@vagg.org>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>",
    "sha": "425c5ca27d25b35091783262ea21baef1f742579",
    "files": [
        {
            "sha": "4e1a8fbc4c6b30a50868f9556364c5aad5ebee9b",
            "filename": "test/parallel/test-https-foafssl.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-https-foafssl.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-https-foafssl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-https-foafssl.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -72,10 +72,6 @@ server.listen(0, function() {\n                 '-cert', fixtures.path('foafssl.crt'),\n                 '-key', fixtures.path('foafssl.key')];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args);\n \n   client.stdout.on('data', function(data) {"
        },
        {
            "sha": "5847f9ce9ad6844069fae515d75e4deba39a2812",
            "filename": "test/parallel/test-tls-alert.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-alert.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-alert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-alert.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -46,10 +46,6 @@ const server = tls.Server({\n   const args = ['s_client', '-quiet', '-tls1_1',\n                 '-connect', `127.0.0.1:${this.address().port}`];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args);\n   let out = '';\n   client.stderr.setEncoding('utf8');"
        },
        {
            "sha": "86130aff262ab59c88726fe98631f8533b3bdc08",
            "filename": "test/parallel/test-tls-dhe.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-dhe.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-dhe.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-dhe.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -72,10 +72,6 @@ function test(keylen, expectedCipher, cb) {\n     const args = ['s_client', '-connect', `127.0.0.1:${this.address().port}`,\n                   '-cipher', ciphers];\n \n-    // for the performance and stability issue in s_client on Windows\n-    if (common.isWindows)\n-      args.push('-no_rand_screen');\n-\n     const client = spawn(common.opensslCli, args);\n     let out = '';\n     client.stdout.setEncoding('utf8');"
        },
        {
            "sha": "21aecad6cdc0d507323920d716271da874ee88ec",
            "filename": "test/parallel/test-tls-ecdh-auto.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-auto.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-auto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-ecdh-auto.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -39,10 +39,6 @@ server.listen(0, function() {\n                 '-cipher', `${options.ciphers}`,\n                 '-connect', `127.0.0.1:${this.address().port}`];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args);\n \n   client.stdout.on('data', function(data) {"
        },
        {
            "sha": "f06063200c5f36de8c161f553d6fbbd7c80b9b64",
            "filename": "test/parallel/test-tls-ecdh-disable.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-disable.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-disable.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-ecdh-disable.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -54,13 +54,9 @@ common.expectWarning('DeprecationWarning',\n const server = tls.createServer(options, common.mustNotCall());\n \n server.listen(0, '127.0.0.1', common.mustCall(function() {\n-  let cmd = `\"${common.opensslCli}\" s_client -cipher ${\n+  const cmd = `\"${common.opensslCli}\" s_client -cipher ${\n     options.ciphers} -connect 127.0.0.1:${this.address().port}`;\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    cmd += ' -no_rand_screen';\n-\n   exec(cmd, common.mustCall(function(err, stdout, stderr) {\n     // Old versions of openssl will still exit with 0 so we\n     // can't just check if err is not null."
        },
        {
            "sha": "5dea61e20fbad4c741ab376b539fbca1ccc75f0b",
            "filename": "test/parallel/test-tls-ecdh-multiple.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-multiple.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh-multiple.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-ecdh-multiple.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -39,10 +39,6 @@ server.listen(0, function() {\n                 '-cipher', `${options.ciphers}`,\n                 '-connect', `127.0.0.1:${this.address().port}`];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args);\n \n   client.stdout.on('data', function(data) {"
        },
        {
            "sha": "e7d986cc9aec094411e4fcb05154e6ffbbbd7801",
            "filename": "test/parallel/test-tls-ecdh.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-ecdh.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-ecdh.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -48,13 +48,9 @@ const server = tls.createServer(options, common.mustCall(function(conn) {\n }));\n \n server.listen(0, '127.0.0.1', common.mustCall(function() {\n-  let cmd = `\"${common.opensslCli}\" s_client -cipher ${\n+  const cmd = `\"${common.opensslCli}\" s_client -cipher ${\n     options.ciphers} -connect 127.0.0.1:${this.address().port}`;\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    cmd += ' -no_rand_screen';\n-\n   exec(cmd, common.mustCall(function(err, stdout, stderr) {\n     assert.ifError(err);\n     assert(stdout.includes(reply));"
        },
        {
            "sha": "4cbb62e3d595f140d24917911d8f153a5afa399a",
            "filename": "test/parallel/test-tls-no-sslv3.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-no-sslv3.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-no-sslv3.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-no-sslv3.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -23,10 +23,6 @@ server.listen(0, '127.0.0.1', function() {\n                 '-ssl3',\n                 '-connect', address];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args, { stdio: 'pipe' });\n   client.stdout.pipe(process.stdout);\n   client.stderr.pipe(process.stderr);"
        },
        {
            "sha": "994e037c05a5e5e55301e56ec58445b3cc70cf24",
            "filename": "test/parallel/test-tls-securepair-server.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-securepair-server.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-securepair-server.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-securepair-server.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -113,10 +113,6 @@ server.listen(0, common.mustCall(function() {\n \n   const args = ['s_client', '-connect', `127.0.0.1:${this.address().port}`];\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   const client = spawn(common.opensslCli, args);\n \n "
        },
        {
            "sha": "6039d13e8216c5d49f4ef318d43a4f828cf27dd5",
            "filename": "test/parallel/test-tls-server-verify.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-server-verify.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-server-verify.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-server-verify.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -149,10 +149,6 @@ function runClient(prefix, port, options, cb) {\n \n   const args = ['s_client', '-connect', `127.0.0.1:${port}`];\n \n-  // for the performance issue in s_client on Windows\n-  if (common.isWindows)\n-    args.push('-no_rand_screen');\n-\n   console.log(`${prefix}  connecting with`, options.name);\n \n   switch (options.name) {"
        },
        {
            "sha": "55dd92e81d259c1481777e4fe08c8718fa679ef9",
            "filename": "test/parallel/test-tls-session-cache.js",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-session-cache.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-session-cache.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-session-cache.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -105,10 +105,6 @@ function doTest(testOptions, callback) {\n       '-reconnect'\n     ].concat(testOptions.tickets ? [] : '-no_ticket');\n \n-    // for the performance and stability issue in s_client on Windows\n-    if (common.isWindows)\n-      args.push('-no_rand_screen');\n-\n     function spawnClient() {\n       const client = spawn(common.opensslCli, args, {\n         stdio: [ 0, 1, 'pipe' ]"
        },
        {
            "sha": "ef2c2543517e5f5d1b71e4ce4694d6e19db67c7a",
            "filename": "test/parallel/test-tls-set-ciphers.js",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-set-ciphers.js",
            "raw_url": "https://github.com/nodejs/node/raw/425c5ca27d25b35091783262ea21baef1f742579/test%2Fparallel%2Ftest-tls-set-ciphers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-tls-set-ciphers.js?ref=425c5ca27d25b35091783262ea21baef1f742579",
            "patch": "@@ -51,13 +51,9 @@ const server = tls.createServer(options, common.mustCall(function(conn) {\n }));\n \n server.listen(0, '127.0.0.1', function() {\n-  let cmd = `\"${common.opensslCli}\" s_client -cipher ${\n+  const cmd = `\"${common.opensslCli}\" s_client -cipher ${\n     options.ciphers} -connect 127.0.0.1:${this.address().port}`;\n \n-  // for the performance and stability issue in s_client on Windows\n-  if (common.isWindows)\n-    cmd += ' -no_rand_screen';\n-\n   exec(cmd, function(err, stdout, stderr) {\n     assert.ifError(err);\n     response = stdout;"
        }
    ],
    "stats": {
        "total": 54,
        "additions": 3,
        "deletions": 51
    }
}