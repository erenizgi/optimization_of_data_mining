{
    "author": "danbev",
    "message": "stream: only check options once in Duplex ctor\n\nThis commit updates the Duplex constructor adding an if statement\nchecking if options is undefined, and removes the check from the\nfollowing three if statements.\n\nPR-URL: https://github.com/nodejs/node/pull/20353\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "65021c5632df10e40b102c29f2a5711b9acbcb01",
    "files": [
        {
            "sha": "7059757dbd44b1a680c02f8de63f36f6b621728a",
            "filename": "lib/_stream_duplex.js",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/65021c5632df10e40b102c29f2a5711b9acbcb01/lib%2F_stream_duplex.js",
            "raw_url": "https://github.com/nodejs/node/raw/65021c5632df10e40b102c29f2a5711b9acbcb01/lib%2F_stream_duplex.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_stream_duplex.js?ref=65021c5632df10e40b102c29f2a5711b9acbcb01",
            "patch": "@@ -50,17 +50,19 @@ function Duplex(options) {\n \n   Readable.call(this, options);\n   Writable.call(this, options);\n+  this.allowHalfOpen = true;\n \n-  if (options && options.readable === false)\n-    this.readable = false;\n+  if (options) {\n+    if (options.readable === false)\n+      this.readable = false;\n \n-  if (options && options.writable === false)\n-    this.writable = false;\n+    if (options.writable === false)\n+      this.writable = false;\n \n-  this.allowHalfOpen = true;\n-  if (options && options.allowHalfOpen === false) {\n-    this.allowHalfOpen = false;\n-    this.once('end', onend);\n+    if (options.allowHalfOpen === false) {\n+      this.allowHalfOpen = false;\n+      this.once('end', onend);\n+    }\n   }\n }\n "
        }
    ],
    "stats": {
        "total": 18,
        "additions": 10,
        "deletions": 8
    }
}