{
    "author": "Trott",
    "message": "test: make url-parse-invalid-input engine agnostic\n\ntest-url-parse-invalid-input checks the message of an error that is\ngenerated by the JavaScript engine. Error messages that change in the\nunderlying JavaScript engine should not be breaking changes in Node.js\nand therefore should not cause tests to fail. Remove the message check\nand replace it with a check of the type of the Error object along with\nthe absence of a `code` property. (If a `code` property were present, it\nwould indicate that the error was coming from Node.js rather than the\nJavaScript engine.)\n\nThis also makes this test usable without modification in the ChakraCore\nfork of Node.js.\n\nPR-URL: https://github.com/nodejs/node/pull/21132\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "44d1a46a4277083803024eed2fb37d70c7d2bbcc",
    "files": [
        {
            "sha": "aad8462bfc263330738f90980fdd7e791b9c65a1",
            "filename": "test/parallel/test-url-parse-invalid-input.js",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/44d1a46a4277083803024eed2fb37d70c7d2bbcc/test%2Fparallel%2Ftest-url-parse-invalid-input.js",
            "raw_url": "https://github.com/nodejs/node/raw/44d1a46a4277083803024eed2fb37d70c7d2bbcc/test%2Fparallel%2Ftest-url-parse-invalid-input.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-url-parse-invalid-input.js?ref=44d1a46a4277083803024eed2fb37d70c7d2bbcc",
            "patch": "@@ -26,4 +26,12 @@ const url = require('url');\n });\n \n assert.throws(() => { url.parse('http://%E0%A4%A@fail'); },\n-              /^URIError: URI malformed$/);\n+              (e) => {\n+                // The error should be a URIError.\n+                if (!(e instanceof URIError))\n+                  return false;\n+\n+                // The error should be from the JS engine and not from Node.js.\n+                // JS engine errors do not have the `code` property.\n+                return e.code === undefined;\n+              });"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}