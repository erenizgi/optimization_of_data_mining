{
    "author": "unknown",
    "message": "test: add tests for Socket.setNoDelay\n\nPR-URL: https://github.com/nodejs/node/pull/24250\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "12554e01f5ec3e19c96c0cd7f01296058edb58cf",
    "files": [
        {
            "sha": "be5c8ffc8524dc3279dbfec985772d97c08f5bce",
            "filename": "test/parallel/test-net-socket-setnodelay.js",
            "status": "added",
            "additions": 43,
            "deletions": 0,
            "changes": 43,
            "blob_url": "https://github.com/nodejs/node/blob/12554e01f5ec3e19c96c0cd7f01296058edb58cf/test%2Fparallel%2Ftest-net-socket-setnodelay.js",
            "raw_url": "https://github.com/nodejs/node/raw/12554e01f5ec3e19c96c0cd7f01296058edb58cf/test%2Fparallel%2Ftest-net-socket-setnodelay.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-socket-setnodelay.js?ref=12554e01f5ec3e19c96c0cd7f01296058edb58cf",
            "patch": "@@ -0,0 +1,43 @@\n+'use strict';\n+\n+const common = require('../common');\n+const assert = require('assert');\n+const net = require('net');\n+\n+const truthyValues = [true, 1, 'true', {}, []];\n+const falseyValues = [false, 0, ''];\n+const genSetNoDelay = (desiredArg) => (enable) => {\n+  assert.strictEqual(enable, desiredArg);\n+};\n+\n+// setNoDelay should default to true\n+let socket = new net.Socket({\n+  handle: {\n+    setNoDelay: common.mustCall(genSetNoDelay(true))\n+  }\n+});\n+socket.setNoDelay();\n+\n+socket = new net.Socket({\n+  handle: {\n+    setNoDelay: common.mustCall(genSetNoDelay(true), truthyValues.length)\n+  }\n+});\n+truthyValues.forEach((testVal) => socket.setNoDelay(testVal));\n+\n+socket = new net.Socket({\n+  handle: {\n+    setNoDelay: common.mustCall(genSetNoDelay(false), falseyValues.length)\n+  }\n+});\n+falseyValues.forEach((testVal) => socket.setNoDelay(testVal));\n+\n+// if a handler doesn't have a setNoDelay function it shouldn't be called.\n+// In the case below, if it is called an exception will be thrown\n+socket = new net.Socket({\n+  handle: {\n+    setNoDelay: null\n+  }\n+});\n+const returned = socket.setNoDelay(true);\n+assert.ok(returned instanceof net.Socket);"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 43,
        "deletions": 0
    }
}