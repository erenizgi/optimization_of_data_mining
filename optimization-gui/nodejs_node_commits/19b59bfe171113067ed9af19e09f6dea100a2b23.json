{
    "author": "sam-github",
    "message": "tls: re-define max supported version as 1.2\n\nSeveral secureProtocol strings allow any supported TLS version as the\nmaximum, but our maximum supported protocol version is TLSv1.2 even if\nsomeone configures a build against an OpenSSL that supports TLSv1.3.\n\nFixes: https://github.com/nodejs/node/issues/24658\n\nPR-URL: https://github.com/nodejs/node/pull/25024\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Daniel Bevenius <daniel.bevenius@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "19b59bfe171113067ed9af19e09f6dea100a2b23",
    "files": [
        {
            "sha": "c8401bec54b8f109c2f48061d34d3e1acdc75d98",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/19b59bfe171113067ed9af19e09f6dea100a2b23/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/19b59bfe171113067ed9af19e09f6dea100a2b23/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=19b59bfe171113067ed9af19e09f6dea100a2b23",
            "patch": "@@ -518,6 +518,12 @@ void SecureContext::Init(const FunctionCallbackInfo<Value>& args) {\n                                  SSL_SESS_CACHE_NO_AUTO_CLEAR);\n \n   SSL_CTX_set_min_proto_version(sc->ctx_.get(), min_version);\n+\n+  if (max_version == 0) {\n+    // Selecting some secureProtocol methods allows the TLS version to be \"any\n+    // supported\", but we don't support TLSv1.3, even if OpenSSL does.\n+    max_version = TLS1_2_VERSION;\n+  }\n   SSL_CTX_set_max_proto_version(sc->ctx_.get(), max_version);\n \n   // OpenSSL 1.1.0 changed the ticket key size, but the OpenSSL 1.0.x size was"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}