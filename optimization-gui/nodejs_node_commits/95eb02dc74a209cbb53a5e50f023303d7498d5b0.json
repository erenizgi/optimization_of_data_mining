{
    "author": "jvelezpo",
    "message": "doc: shell option for the execFile and execFileSync functions\n\nUseful for executing in a shell because it accepts arguments as\nan array instead of a string as exec does.\nDepending on the circumstances,\nthat can prove to be useful if the arguments are already prepared.\n\nPR-URL: https://github.com/nodejs/node/pull/18237\nFixes: https://github.com/nodejs/node/issues/18199\nReviewed-By: Julian Duque <julianduquej@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Adrian Estrada <edsadr@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "95eb02dc74a209cbb53a5e50f023303d7498d5b0",
    "files": [
        {
            "sha": "715eb9d269c38dc3c1e53a980c0db46975403295",
            "filename": "doc/api/child_process.md",
            "status": "modified",
            "additions": 19,
            "deletions": 3,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/95eb02dc74a209cbb53a5e50f023303d7498d5b0/doc%2Fapi%2Fchild_process.md",
            "raw_url": "https://github.com/nodejs/node/raw/95eb02dc74a209cbb53a5e50f023303d7498d5b0/doc%2Fapi%2Fchild_process.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fchild_process.md?ref=95eb02dc74a209cbb53a5e50f023303d7498d5b0",
            "patch": "@@ -44,7 +44,7 @@ implemented on top of [`child_process.spawn()`][] or [`child_process.spawnSync()\n   * [`child_process.exec()`][]: spawns a shell and runs a command within that shell,\n     passing the `stdout` and `stderr` to a callback function when complete.\n   * [`child_process.execFile()`][]: similar to [`child_process.exec()`][] except that\n-    it spawns the command directly without first spawning a shell.\n+    it spawns the command directly without first spawning a shell by default.\n   * [`child_process.fork()`][]: spawns a new Node.js process and invokes a\n     specified module with an IPC communication channel established that allows\n     sending messages between parent and child.\n@@ -78,7 +78,7 @@ when the child process terminates.\n The importance of the distinction between [`child_process.exec()`][] and\n [`child_process.execFile()`][] can vary based on platform. On Unix-type operating\n systems (Unix, Linux, macOS) [`child_process.execFile()`][] can be more efficient\n-because it does not spawn a shell. On Windows, however, `.bat` and `.cmd`\n+because it does not spawn a shell by default. On Windows, however, `.bat` and `.cmd`\n files are not executable on their own without a terminal, and therefore cannot\n be launched using [`child_process.execFile()`][]. When running on Windows, `.bat`\n and `.cmd` files can be invoked using [`child_process.spawn()`][] with the `shell`\n@@ -266,14 +266,18 @@ changes:\n     normally be created on Windows systems. **Default:** `false`.\n   * `windowsVerbatimArguments` {boolean} No quoting or escaping of arguments is\n     done on Windows. Ignored on Unix. **Default:** `false`.\n+  * `shell` {boolean|string} If `true`, runs `command` inside of a shell. Uses\n+    `'/bin/sh'` on UNIX, and `process.env.ComSpec` on Windows. A different\n+    shell can be specified as a string. See [Shell Requirements][] and\n+    [Default Windows Shell][]. **Default:** `false` (no shell).\n * `callback` {Function} Called with the output when process terminates.\n   * `error` {Error}\n   * `stdout` {string|Buffer}\n   * `stderr` {string|Buffer}\n * Returns: {ChildProcess}\n \n The `child_process.execFile()` function is similar to [`child_process.exec()`][]\n-except that it does not spawn a shell. Rather, the specified executable `file`\n+except that it does not spawn a shell by default. Rather, the specified executable `file`\n is spawned directly as a new process making it slightly more efficient than\n [`child_process.exec()`][].\n \n@@ -312,6 +316,10 @@ async function getVersion() {\n getVersion();\n ```\n \n+*Note*: If the `shell` option is enabled, do not pass unsanitized user input\n+to this function. Any input containing shell metacharacters may be used to\n+trigger arbitrary command execution.\n+\n ### child_process.fork(modulePath[, args][, options])\n <!-- YAML\n added: v0.5.0\n@@ -705,6 +713,10 @@ changes:\n   * `encoding` {string} The encoding used for all stdio inputs and outputs. **Default:** `'buffer'`\n   * `windowsHide` {boolean} Hide the subprocess console window that would\n     normally be created on Windows systems. **Default:** `false`.\n+  * `shell` {boolean|string} If `true`, runs `command` inside of a shell. Uses\n+    `'/bin/sh'` on UNIX, and `process.env.ComSpec` on Windows. A different\n+    shell can be specified as a string. See [Shell Requirements][] and\n+    [Default Windows Shell][]. **Default:** `false` (no shell).\n * Returns: {Buffer|string} The stdout from the command.\n \n The `child_process.execFileSync()` method is generally identical to\n@@ -721,6 +733,10 @@ If the process times out or has a non-zero exit code, this method ***will***\n throw an [`Error`][] that will include the full result of the underlying\n [`child_process.spawnSync()`][].\n \n+*Note*: If the `shell` option is enabled, do not pass unsanitized user input\n+to this function. Any input containing shell metacharacters may be used to\n+trigger arbitrary command execution.\n+\n ### child_process.execSync(command[, options])\n <!-- YAML\n added: v0.11.12"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 19,
        "deletions": 3
    }
}