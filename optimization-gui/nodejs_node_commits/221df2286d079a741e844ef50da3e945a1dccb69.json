{
    "author": "tniessen",
    "message": "crypto: deprecate aliases for randomBytes\n\nPR-URL: https://github.com/nodejs/node/pull/22519\nReviewed-By: MichaÃ«l Zasso <targos@protonmail.com>\nReviewed-By: Ujjwal Sharma <usharma1998@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "221df2286d079a741e844ef50da3e945a1dccb69",
    "files": [
        {
            "sha": "10ffa49f4d520713541bec2558c2ebc22cd94e7d",
            "filename": "doc/api/deprecations.md",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/221df2286d079a741e844ef50da3e945a1dccb69/doc%2Fapi%2Fdeprecations.md",
            "raw_url": "https://github.com/nodejs/node/raw/221df2286d079a741e844ef50da3e945a1dccb69/doc%2Fapi%2Fdeprecations.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fdeprecations.md?ref=221df2286d079a741e844ef50da3e945a1dccb69",
            "patch": "@@ -1039,6 +1039,17 @@ Type: Runtime\n The `crypto._toBuf()` function was not designed to be used by modules outside\n of Node.js core and will be removed in the future.\n \n+<a id=\"DEP0115\"></a>\n+### DEP0115: crypto.prng(), crypto.pseudoRandomBytes(), crypto.rng()\n+\n+Type: Runtime\n+\n+In recent versions of Node.js, there is no difference between\n+[`crypto.randomBytes()`][] and `crypto.pseudoRandomBytes()`. The latter is\n+deprecated along with the undocumented aliases `crypto.prng()` and\n+`crypto.rng()` in favor of [`crypto.randomBytes()`][] and will be removed in a\n+future release.\n+\n [`--pending-deprecation`]: cli.html#cli_pending_deprecation\n [`Buffer.allocUnsafeSlow(size)`]: buffer.html#buffer_class_method_buffer_allocunsafeslow_size\n [`Buffer.from(array)`]: buffer.html#buffer_class_method_buffer_from_array\n@@ -1065,6 +1076,7 @@ of Node.js core and will be removed in the future.\n [`crypto.DEFAULT_ENCODING`]: crypto.html#crypto_crypto_default_encoding\n [`crypto.fips`]: crypto.html#crypto_crypto_fips\n [`crypto.pbkdf2()`]: crypto.html#crypto_crypto_pbkdf2_password_salt_iterations_keylen_digest_callback\n+[`crypto.randomBytes()`]: crypto.html#crypto_crypto_randombytes_size_callback\n [`crypto.scrypt()`]: crypto.html#crypto_crypto_scrypt_password_salt_keylen_options_callback\n [`decipher.final()`]: crypto.html#crypto_decipher_final_outputencoding\n [`decipher.setAuthTag()`]: crypto.html#crypto_decipher_setauthtag_buffer"
        },
        {
            "sha": "ecf0c4d10b696ce15ee8ca7ff6e23ddb469633e4",
            "filename": "lib/crypto.js",
            "status": "modified",
            "additions": 17,
            "deletions": 3,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/221df2286d079a741e844ef50da3e945a1dccb69/lib%2Fcrypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/221df2286d079a741e844ef50da3e945a1dccb69/lib%2Fcrypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fcrypto.js?ref=221df2286d079a741e844ef50da3e945a1dccb69",
            "patch": "@@ -155,14 +155,11 @@ module.exports = exports = {\n   pbkdf2Sync,\n   privateDecrypt,\n   privateEncrypt,\n-  prng: randomBytes,\n-  pseudoRandomBytes: randomBytes,\n   publicDecrypt,\n   publicEncrypt,\n   randomBytes,\n   randomFill,\n   randomFillSync,\n-  rng: randomBytes,\n   scrypt,\n   scryptSync,\n   setEngine,\n@@ -234,5 +231,22 @@ Object.defineProperties(exports, {\n     configurable: false,\n     enumerable: true,\n     value: constants\n+  },\n+\n+  // Aliases for randomBytes are deprecated.\n+  // The ecosystem needs those to exist for backwards compatibility with\n+  // ancient Node.js runtimes (0.10, 0.12).\n+  prng: {\n+    enumerable: false,\n+    value: deprecate(randomBytes, 'crypto.prng is deprecated.', 'DEP0115')\n+  },\n+  pseudoRandomBytes: {\n+    enumerable: false,\n+    value: deprecate(randomBytes,\n+                     'crypto.pseudoRandomBytes is deprecated.', 'DEP0115')\n+  },\n+  rng: {\n+    enumerable: false,\n+    value: deprecate(randomBytes, 'crypto.rng is deprecated.', 'DEP0115')\n   }\n });"
        },
        {
            "sha": "fe7b24b485414441e9a94d7e9eb1122edd7220d0",
            "filename": "test/parallel/test-crypto-random.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/221df2286d079a741e844ef50da3e945a1dccb69/test%2Fparallel%2Ftest-crypto-random.js",
            "raw_url": "https://github.com/nodejs/node/raw/221df2286d079a741e844ef50da3e945a1dccb69/test%2Fparallel%2Ftest-crypto-random.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-crypto-random.js?ref=221df2286d079a741e844ef50da3e945a1dccb69",
            "patch": "@@ -35,6 +35,9 @@ const kMaxPossibleLength = Math.min(kMaxLength, kMaxUint32);\n // bump, we register a lot of exit listeners\n process.setMaxListeners(256);\n \n+common.expectWarning('DeprecationWarning',\n+                     'crypto.pseudoRandomBytes is deprecated.', 'DEP0115');\n+\n {\n   [crypto.randomBytes, crypto.pseudoRandomBytes].forEach((f) => {\n     [undefined, null, false, true, {}, []].forEach((value) => {"
        }
    ],
    "stats": {
        "total": 35,
        "additions": 32,
        "deletions": 3
    }
}