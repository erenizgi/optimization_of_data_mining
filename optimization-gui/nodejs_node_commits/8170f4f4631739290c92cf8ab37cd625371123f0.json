{
    "author": "ThePrez",
    "message": "build: add support for IBM i platform\n\nPR-URL: https://github.com/nodejs/node/pull/19667\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "8170f4f4631739290c92cf8ab37cd625371123f0",
    "files": [
        {
            "sha": "65ba80a15d21fa7d448d3fa014ee0df78e7b57ef",
            "filename": "common.gypi",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/8170f4f4631739290c92cf8ab37cd625371123f0/common.gypi",
            "raw_url": "https://github.com/nodejs/node/raw/8170f4f4631739290c92cf8ab37cd625371123f0/common.gypi",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/common.gypi?ref=8170f4f4631739290c92cf8ab37cd625371123f0",
            "patch": "@@ -94,8 +94,17 @@\n             'msvs_configuration_platform': 'x64',\n           }],\n           ['OS==\"aix\"', {\n+            'variables': {'real_os_name': '<!(uname -s)',},\n             'cflags': [ '-gxcoff' ],\n             'ldflags': [ '-Wl,-bbigtoc' ],\n+            'conditions': [\n+              ['\"<(real_os_name)\"==\"OS400\"', {\n+                'ldflags': [\n+                  '-Wl,-blibpath:/QOpenSys/pkgs/lib:/QOpenSys/usr/lib',\n+                  '-Wl,-brtl',\n+                ],\n+              }],\n+            ],\n           }],\n           ['OS == \"android\"', {\n             'cflags': [ '-fPIE' ],\n@@ -345,6 +354,7 @@\n             'ldflags!': [ '-pthread' ],\n           }],\n           [ 'OS==\"aix\"', {\n+            'variables': {'real_os_name': '<!(uname -s)',},\n             'conditions': [\n               [ 'target_arch==\"ppc\"', {\n                 'ldflags': [ '-Wl,-bmaxdata:0x60000000/dsa' ],\n@@ -353,6 +363,12 @@\n                 'cflags': [ '-maix64' ],\n                 'ldflags': [ '-maix64' ],\n               }],\n+              ['\"<(real_os_name)\"==\"OS400\"', {\n+                'ldflags': [\n+                  '-Wl,-blibpath:/QOpenSys/pkgs/lib:/QOpenSys/usr/lib',\n+                  '-Wl,-brtl',\n+                ],\n+              }],\n             ],\n             'ldflags': [ '-Wl,-bbigtoc' ],\n             'ldflags!': [ '-rdynamic' ],"
        },
        {
            "sha": "e2e6842c4f38c6db239ced9b2cd7e253c483eedb",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/8170f4f4631739290c92cf8ab37cd625371123f0/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/8170f4f4631739290c92cf8ab37cd625371123f0/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=8170f4f4631739290c92cf8ab37cd625371123f0",
            "patch": "@@ -970,6 +970,7 @@\n \n   'conditions': [\n     [ 'OS==\"aix\" and node_shared==\"true\"', {\n+      'variables': {'real_os_name': '<!(uname -s)',},\n       'targets': [\n         {\n           'target_name': 'node_aix_shared',\n@@ -988,7 +989,14 @@\n               'ldflags': [\n                 '-Wl,-blibpath:/usr/lib:/lib:/opt/freeware/lib/pthread'\n               ],\n-            }]\n+            }],\n+            ['\"<(real_os_name)\"==\"OS400\"', {\n+              'ldflags': [\n+                '-Wl,-blibpath:/QOpenSys/pkgs/lib:/QOpenSys/usr/lib',\n+                '-Wl,-bbigtoc',\n+                '-Wl,-brtl',\n+              ],\n+            }],\n           ],\n           'includes': [\n             'node.gypi'"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 25,
        "deletions": 1
    }
}