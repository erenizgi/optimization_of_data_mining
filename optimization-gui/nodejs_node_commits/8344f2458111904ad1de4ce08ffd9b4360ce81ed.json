{
    "author": "drewfish",
    "message": "test: validate fs.rename() when NODE_TEST_DIR on separate mount\n\nWhen testing fs.rename() of an non-existent file, use a destination path\nwhich is in the same directory. Otherwise we might trigger an `EXDEV`\nerror if NODE_TEST_DIR is a separate device than the current working\ndirectory.\n\nFixes: https://github.com/nodejs/node/issues/21669\n\nPR-URL: https://github.com/nodejs/node/pull/24707\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>",
    "sha": "8344f2458111904ad1de4ce08ffd9b4360ce81ed",
    "files": [
        {
            "sha": "dd5438c44bfce936f1a65f57170bd4c9ccfbc214",
            "filename": "test/parallel/test-fs-error-messages.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/8344f2458111904ad1de4ce08ffd9b4360ce81ed/test%2Fparallel%2Ftest-fs-error-messages.js",
            "raw_url": "https://github.com/nodejs/node/raw/8344f2458111904ad1de4ce08ffd9b4360ce81ed/test%2Fparallel%2Ftest-fs-error-messages.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-error-messages.js?ref=8344f2458111904ad1de4ce08ffd9b4360ce81ed",
            "patch": "@@ -299,10 +299,11 @@ function re(literals, ...values) {\n     return true;\n   };\n \n-  fs.rename(nonexistentFile, 'foo', common.mustCall(validateError));\n+  const destFile = path.join(tmpdir.path, 'foo');\n+  fs.rename(nonexistentFile, destFile, common.mustCall(validateError));\n \n   assert.throws(\n-    () => fs.renameSync(nonexistentFile, 'foo'),\n+    () => fs.renameSync(nonexistentFile, destFile),\n     validateError\n   );\n }"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}