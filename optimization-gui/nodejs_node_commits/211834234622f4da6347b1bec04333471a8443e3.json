{
    "author": "unknown",
    "message": "test: add tests for dnsPromises.lookup\n\nAdded tests for dnsPromises.lookup to increase coverage and test\n`onlookup()` and `onlookupall()` methods.\n\nPR-URL: https://github.com/nodejs/node/pull/21559\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "211834234622f4da6347b1bec04333471a8443e3",
    "files": [
        {
            "sha": "b45393718a3ccd25f29b5ce9190286651613af1b",
            "filename": "test/parallel/test-dns-lookup.js",
            "status": "modified",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/211834234622f4da6347b1bec04333471a8443e3/test%2Fparallel%2Ftest-dns-lookup.js",
            "raw_url": "https://github.com/nodejs/node/raw/211834234622f4da6347b1bec04333471a8443e3/test%2Fparallel%2Ftest-dns-lookup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns-lookup.js?ref=211834234622f4da6347b1bec04333471a8443e3",
            "patch": "@@ -1,6 +1,7 @@\n // Flags: --expose-internals\n 'use strict';\n const common = require('../common');\n+const { addresses } = require('../common/internet');\n const assert = require('assert');\n const cares = process.binding('cares_wrap');\n const dns = require('dns');\n@@ -95,6 +96,30 @@ common.expectsError(() => {\n     all: false\n   });\n   assert.deepStrictEqual(res, { address: '127.0.0.1', family: 4 });\n+\n+  assert.rejects(\n+    dnsPromises.lookup(addresses.INVALID_HOST, {\n+      hints: 0,\n+      family: 0,\n+      all: false\n+    }),\n+    {\n+      code: 'ENOTFOUND',\n+      message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n+    }\n+  );\n+\n+  assert.rejects(\n+    dnsPromises.lookup(addresses.INVALID_HOST, {\n+      hints: 0,\n+      family: 0,\n+      all: true\n+    }),\n+    {\n+      code: 'ENOTFOUND',\n+      message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n+    }\n+  );\n })();\n \n dns.lookup(false, {"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 25,
        "deletions": 0
    }
}