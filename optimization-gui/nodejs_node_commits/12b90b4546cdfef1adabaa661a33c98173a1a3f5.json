{
    "author": "ilsotov",
    "message": "test: improve http res write and end dont take array\n\nPR-URL: https://github.com/nodejs/node/pull/20199\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>",
    "sha": "12b90b4546cdfef1adabaa661a33c98173a1a3f5",
    "files": [
        {
            "sha": "fbe71bd6fcbb67815fcedc5541b1bb56cdc6d2ff",
            "filename": "test/parallel/test-http-res-write-end-dont-take-array.js",
            "status": "modified",
            "additions": 17,
            "deletions": 6,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/12b90b4546cdfef1adabaa661a33c98173a1a3f5/test%2Fparallel%2Ftest-http-res-write-end-dont-take-array.js",
            "raw_url": "https://github.com/nodejs/node/raw/12b90b4546cdfef1adabaa661a33c98173a1a3f5/test%2Fparallel%2Ftest-http-res-write-end-dont-take-array.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-http-res-write-end-dont-take-array.js?ref=12b90b4546cdfef1adabaa661a33c98173a1a3f5",
            "patch": "@@ -35,15 +35,26 @@ server.once('request', common.mustCall((req, res) => {\n   // write should accept buffer\n   res.write(Buffer.from('asdf'));\n \n+  const expectedError = {\n+    code: 'ERR_INVALID_ARG_TYPE',\n+    name: 'TypeError [ERR_INVALID_ARG_TYPE]',\n+  };\n+\n   // write should not accept an Array\n-  assert.throws(function() {\n-    res.write(['array']);\n-  }, TypeError, 'first argument must be a string or Buffer');\n+  assert.throws(\n+    () => {\n+      res.write(['array']);\n+    },\n+    expectedError\n+  );\n \n   // end should not accept an Array\n-  assert.throws(function() {\n-    res.end(['moo']);\n-  }, TypeError, 'first argument must be a string or Buffer');\n+  assert.throws(\n+    () => {\n+      res.end(['moo']);\n+    },\n+    expectedError\n+  );\n \n   // end should accept string\n   res.end('string');"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 17,
        "deletions": 6
    }
}