{
    "author": "unknown",
    "message": "test: add tests to check error in dns.lookupService.\n\nAdded tests to check error in dns.lookupService to\nincrease coverage.\n\nPR-URL: https://github.com/nodejs/node/pull/22908\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "0623aabbe12cd288d82ef330654193a5edfcc3fa",
    "files": [
        {
            "sha": "92fce6cbd3f189ee5782491c0b8b076f5b5f93ff",
            "filename": "test/parallel/test-dns-lookupService.js",
            "status": "added",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/0623aabbe12cd288d82ef330654193a5edfcc3fa/test%2Fparallel%2Ftest-dns-lookupService.js",
            "raw_url": "https://github.com/nodejs/node/raw/0623aabbe12cd288d82ef330654193a5edfcc3fa/test%2Fparallel%2Ftest-dns-lookupService.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-dns-lookupService.js?ref=0623aabbe12cd288d82ef330654193a5edfcc3fa",
            "patch": "@@ -0,0 +1,20 @@\n+// Flags: --expose-internals\n+'use strict';\n+const common = require('../common');\n+const assert = require('assert');\n+const { internalBinding } = require('internal/test/binding');\n+const cares = internalBinding('cares_wrap');\n+const { UV_ENOENT } = internalBinding('uv');\n+const dns = require('dns');\n+\n+// Stub `getnameinfo` to *always* error.\n+cares.getnameinfo = () => UV_ENOENT;\n+\n+assert.throws(\n+  () => dns.lookupService('127.0.0.1', 80, common.mustNotCall()),\n+  {\n+    code: 'ENOENT',\n+    message: 'getnameinfo ENOENT 127.0.0.1',\n+    syscall: 'getnameinfo'\n+  }\n+);"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 20,
        "deletions": 0
    }
}