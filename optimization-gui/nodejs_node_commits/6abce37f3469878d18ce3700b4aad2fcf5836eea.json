{
    "author": "daynin",
    "message": "path: replace \"magic\" numbers by readable constants\n\nPR-URL: https://github.com/nodejs/node/pull/18654\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anatoli Papirovski <apapirovski@mac.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Kyle Farnung <kfarnung@microsoft.com>\nReviewed-By: Jeremiah Senkpiel <fishrock123@rocketmail.com>",
    "sha": "6abce37f3469878d18ce3700b4aad2fcf5836eea",
    "files": [
        {
            "sha": "f0ffec7a4475292845031f157f18cdee6923865f",
            "filename": "lib/internal/constants.js",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/nodejs/node/blob/6abce37f3469878d18ce3700b4aad2fcf5836eea/lib%2Finternal%2Fconstants.js",
            "raw_url": "https://github.com/nodejs/node/raw/6abce37f3469878d18ce3700b4aad2fcf5836eea/lib%2Finternal%2Fconstants.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fconstants.js?ref=6abce37f3469878d18ce3700b4aad2fcf5836eea",
            "patch": "@@ -0,0 +1,16 @@\n+'use strict';\n+\n+module.exports = {\n+  // Alphabet chars.\n+  CHAR_UPPERCASE_A: 65, /*A*/\n+  CHAR_LOWERCASE_A: 97, /*a*/\n+  CHAR_UPPERCASE_Z: 90, /*Z*/\n+  CHAR_LOWERCASE_Z: 122, /*z*/\n+\n+  // Non-alphabetic chars.\n+  CHAR_DOT: 46, /*.*/\n+  CHAR_FORWARD_SLASH: 47, /*/*/\n+  CHAR_BACKWARD_SLASH: 92, /*\\*/\n+  CHAR_COLON: 58, /*:*/\n+  CHAR_QUESTION_MARK: 63, /*?*/\n+};"
        },
        {
            "sha": "248809b2e2f70b4f8a6d3f7e1832102d8512caba",
            "filename": "lib/path.js",
            "status": "modified",
            "additions": 127,
            "deletions": 111,
            "changes": 238,
            "blob_url": "https://github.com/nodejs/node/blob/6abce37f3469878d18ce3700b4aad2fcf5836eea/lib%2Fpath.js",
            "raw_url": "https://github.com/nodejs/node/raw/6abce37f3469878d18ce3700b4aad2fcf5836eea/lib%2Fpath.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fpath.js?ref=6abce37f3469878d18ce3700b4aad2fcf5836eea",
            "patch": "@@ -22,6 +22,17 @@\n 'use strict';\n \n const errors = require('internal/errors');\n+const {\n+  CHAR_UPPERCASE_A,\n+  CHAR_LOWERCASE_A,\n+  CHAR_UPPERCASE_Z,\n+  CHAR_LOWERCASE_Z,\n+  CHAR_DOT,\n+  CHAR_FORWARD_SLASH,\n+  CHAR_BACKWARD_SLASH,\n+  CHAR_COLON,\n+  CHAR_QUESTION_MARK,\n+} = require('internal/constants');\n \n function assertPath(path) {\n   if (typeof path !== 'string') {\n@@ -39,17 +50,17 @@ function normalizeStringWin32(path, allowAboveRoot) {\n   for (var i = 0; i <= path.length; ++i) {\n     if (i < path.length)\n       code = path.charCodeAt(i);\n-    else if (code === 47/*/*/ || code === 92/*\\*/)\n+    else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n       break;\n     else\n-      code = 47/*/*/;\n-    if (code === 47/*/*/ || code === 92/*\\*/) {\n+      code = CHAR_FORWARD_SLASH;\n+    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       if (lastSlash === i - 1 || dots === 1) {\n         // NOOP\n       } else if (lastSlash !== i - 1 && dots === 2) {\n         if (res.length < 2 || lastSegmentLength !== 2 ||\n-            res.charCodeAt(res.length - 1) !== 46/*.*/ ||\n-            res.charCodeAt(res.length - 2) !== 46/*.*/) {\n+            res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n+            res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n           if (res.length > 2) {\n             const lastSlashIndex = res.lastIndexOf('\\\\');\n             if (lastSlashIndex !== res.length - 1) {\n@@ -88,7 +99,7 @@ function normalizeStringWin32(path, allowAboveRoot) {\n       }\n       lastSlash = i;\n       dots = 0;\n-    } else if (code === 46/*.*/ && dots !== -1) {\n+    } else if (code === CHAR_DOT && dots !== -1) {\n       ++dots;\n     } else {\n       dots = -1;\n@@ -107,17 +118,17 @@ function normalizeStringPosix(path, allowAboveRoot) {\n   for (var i = 0; i <= path.length; ++i) {\n     if (i < path.length)\n       code = path.charCodeAt(i);\n-    else if (code === 47/*/*/)\n+    else if (code === CHAR_FORWARD_SLASH)\n       break;\n     else\n-      code = 47/*/*/;\n-    if (code === 47/*/*/) {\n+      code = CHAR_FORWARD_SLASH;\n+    if (code === CHAR_FORWARD_SLASH) {\n       if (lastSlash === i - 1 || dots === 1) {\n         // NOOP\n       } else if (lastSlash !== i - 1 && dots === 2) {\n         if (res.length < 2 || lastSegmentLength !== 2 ||\n-            res.charCodeAt(res.length - 1) !== 46/*.*/ ||\n-            res.charCodeAt(res.length - 2) !== 46/*.*/) {\n+            res.charCodeAt(res.length - 1) !== CHAR_DOT ||\n+            res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n           if (res.length > 2) {\n             const lastSlashIndex = res.lastIndexOf('/');\n             if (lastSlashIndex !== res.length - 1) {\n@@ -156,7 +167,7 @@ function normalizeStringPosix(path, allowAboveRoot) {\n       }\n       lastSlash = i;\n       dots = 0;\n-    } else if (code === 46/*.*/ && dots !== -1) {\n+    } else if (code === CHAR_DOT && dots !== -1) {\n       ++dots;\n     } else {\n       dots = -1;\n@@ -223,22 +234,22 @@ const win32 = {\n \n       // Try to match a root\n       if (len > 1) {\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // Possible UNC root\n \n           // If we started with a separator, we know we at least have an\n           // absolute path of some kind (UNC or otherwise)\n           isAbsolute = true;\n \n           code = path.charCodeAt(1);\n-          if (code === 47/*/*/ || code === 92/*\\*/) {\n+          if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n             // Matched double path separator at beginning\n             var j = 2;\n             var last = j;\n             // Match 1 or more non-path separators\n             for (; j < len; ++j) {\n               code = path.charCodeAt(j);\n-              if (code === 47/*/*/ || code === 92/*\\*/)\n+              if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n                 break;\n             }\n             if (j < len && j !== last) {\n@@ -248,7 +259,7 @@ const win32 = {\n               // Match 1 or more path separators\n               for (; j < len; ++j) {\n                 code = path.charCodeAt(j);\n-                if (code !== 47/*/*/ && code !== 92/*\\*/)\n+                if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n                   break;\n               }\n               if (j < len && j !== last) {\n@@ -257,7 +268,10 @@ const win32 = {\n                 // Match 1 or more non-path separators\n                 for (; j < len; ++j) {\n                   code = path.charCodeAt(j);\n-                  if (code === 47/*/*/ || code === 92/*\\*/)\n+                  const isPathSeparator =\n+                    code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n+\n+                  if (isPathSeparator)\n                     break;\n                 }\n                 if (j === len) {\n@@ -276,16 +290,16 @@ const win32 = {\n           } else {\n             rootEnd = 1;\n           }\n-        } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-                   (code >= 97/*a*/ && code <= 122/*z*/)) {\n+        } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+                   (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n           // Possible device root\n \n-          if (path.charCodeAt(1) === 58/*:*/) {\n+          if (path.charCodeAt(1) === CHAR_COLON) {\n             device = path.slice(0, 2);\n             rootEnd = 2;\n             if (len > 2) {\n               code = path.charCodeAt(2);\n-              if (code === 47/*/*/ || code === 92/*\\*/) {\n+              if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n                 // Treat separator following drive name as an absolute path\n                 // indicator\n                 isAbsolute = true;\n@@ -294,7 +308,7 @@ const win32 = {\n             }\n           }\n         }\n-      } else if (code === 47/*/*/ || code === 92/*\\*/) {\n+      } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // `path` contains just a path separator\n         rootEnd = 1;\n         isAbsolute = true;\n@@ -343,22 +357,22 @@ const win32 = {\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // Possible UNC root\n \n         // If we started with a separator, we know we at least have an absolute\n         // path of some kind (UNC or otherwise)\n         isAbsolute = true;\n \n         code = path.charCodeAt(1);\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n             code = path.charCodeAt(j);\n-            if (code === 47/*/*/ || code === 92/*\\*/)\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n               break;\n           }\n           if (j < len && j !== last) {\n@@ -368,7 +382,7 @@ const win32 = {\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n               code = path.charCodeAt(j);\n-              if (code !== 47/*/*/ && code !== 92/*\\*/)\n+              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n                 break;\n             }\n             if (j < len && j !== last) {\n@@ -377,7 +391,7 @@ const win32 = {\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n                 code = path.charCodeAt(j);\n-                if (code === 47/*/*/ || code === 92/*\\*/)\n+                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n                   break;\n               }\n               if (j === len) {\n@@ -397,16 +411,16 @@ const win32 = {\n         } else {\n           rootEnd = 1;\n         }\n-      } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-                 (code >= 97/*a*/ && code <= 122/*z*/)) {\n+      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n         // Possible device root\n \n-        if (path.charCodeAt(1) === 58/*:*/) {\n+        if (path.charCodeAt(1) === CHAR_COLON) {\n           device = path.slice(0, 2);\n           rootEnd = 2;\n           if (len > 2) {\n             code = path.charCodeAt(2);\n-            if (code === 47/*/*/ || code === 92/*\\*/) {\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n               // Treat separator following drive name as an absolute path\n               // indicator\n               isAbsolute = true;\n@@ -415,14 +429,15 @@ const win32 = {\n           }\n         }\n       }\n-    } else if (code === 47/*/*/ || code === 92/*\\*/) {\n+    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       // `path` contains just a path separator, exit early to avoid unnecessary\n       // work\n       return '\\\\';\n     }\n \n     code = path.charCodeAt(len - 1);\n-    var trailingSeparator = (code === 47/*/*/ || code === 92/*\\*/);\n+    var trailingSeparator =\n+      (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH);\n     var tail;\n     if (rootEnd < len)\n       tail = normalizeStringWin32(path.slice(rootEnd), !isAbsolute);\n@@ -462,15 +477,15 @@ const win32 = {\n     if (len === 0)\n       return false;\n     var code = path.charCodeAt(0);\n-    if (code === 47/*/*/ || code === 92/*\\*/) {\n+    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       return true;\n-    } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-               (code >= 97/*a*/ && code <= 122/*z*/)) {\n+    } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+               (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n       // Possible device root\n \n-      if (len > 2 && path.charCodeAt(1) === 58/*:*/) {\n+      if (len > 2 && path.charCodeAt(1) === CHAR_COLON) {\n         code = path.charCodeAt(2);\n-        if (code === 47/*/*/ || code === 92/*\\*/)\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n           return true;\n       }\n     }\n@@ -514,16 +529,16 @@ const win32 = {\n     var needsReplace = true;\n     var slashCount = 0;\n     var code = firstPart.charCodeAt(0);\n-    if (code === 47/*/*/ || code === 92/*\\*/) {\n+    if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       ++slashCount;\n       const firstLen = firstPart.length;\n       if (firstLen > 1) {\n         code = firstPart.charCodeAt(1);\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           ++slashCount;\n           if (firstLen > 2) {\n             code = firstPart.charCodeAt(2);\n-            if (code === 47/*/*/ || code === 92/*\\*/)\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n               ++slashCount;\n             else {\n               // We matched a UNC path in the first part\n@@ -537,7 +552,7 @@ const win32 = {\n       // Find any more consecutive slashes we need to replace\n       for (; slashCount < joined.length; ++slashCount) {\n         code = joined.charCodeAt(slashCount);\n-        if (code !== 47/*/*/ && code !== 92/*\\*/)\n+        if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n           break;\n       }\n \n@@ -576,27 +591,27 @@ const win32 = {\n     // Trim any leading backslashes\n     var fromStart = 0;\n     for (; fromStart < from.length; ++fromStart) {\n-      if (from.charCodeAt(fromStart) !== 92/*\\*/)\n+      if (from.charCodeAt(fromStart) !== CHAR_BACKWARD_SLASH)\n         break;\n     }\n     // Trim trailing backslashes (applicable to UNC paths only)\n     var fromEnd = from.length;\n     for (; fromEnd - 1 > fromStart; --fromEnd) {\n-      if (from.charCodeAt(fromEnd - 1) !== 92/*\\*/)\n+      if (from.charCodeAt(fromEnd - 1) !== CHAR_BACKWARD_SLASH)\n         break;\n     }\n     var fromLen = (fromEnd - fromStart);\n \n     // Trim any leading backslashes\n     var toStart = 0;\n     for (; toStart < to.length; ++toStart) {\n-      if (to.charCodeAt(toStart) !== 92/*\\*/)\n+      if (to.charCodeAt(toStart) !== CHAR_BACKWARD_SLASH)\n         break;\n     }\n     // Trim trailing backslashes (applicable to UNC paths only)\n     var toEnd = to.length;\n     for (; toEnd - 1 > toStart; --toEnd) {\n-      if (to.charCodeAt(toEnd - 1) !== 92/*\\*/)\n+      if (to.charCodeAt(toEnd - 1) !== CHAR_BACKWARD_SLASH)\n         break;\n     }\n     var toLen = (toEnd - toStart);\n@@ -608,7 +623,7 @@ const win32 = {\n     for (; i <= length; ++i) {\n       if (i === length) {\n         if (toLen > length) {\n-          if (to.charCodeAt(toStart + i) === 92/*\\*/) {\n+          if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH) {\n             // We get here if `from` is the exact base path for `to`.\n             // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo\\\\bar\\\\baz'\n             return toOrig.slice(toStart + i + 1);\n@@ -619,7 +634,7 @@ const win32 = {\n           }\n         }\n         if (fromLen > length) {\n-          if (from.charCodeAt(fromStart + i) === 92/*\\*/) {\n+          if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH) {\n             // We get here if `to` is the exact base path for `from`.\n             // For example: from='C:\\\\foo\\\\bar'; to='C:\\\\foo'\n             lastCommonSep = i;\n@@ -635,7 +650,7 @@ const win32 = {\n       var toCode = to.charCodeAt(toStart + i);\n       if (fromCode !== toCode)\n         break;\n-      else if (fromCode === 92/*\\*/)\n+      else if (fromCode === CHAR_BACKWARD_SLASH)\n         lastCommonSep = i;\n     }\n \n@@ -651,7 +666,7 @@ const win32 = {\n     // Generate the relative path based on the path difference between `to` and\n     // `from`\n     for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n-      if (i === fromEnd || from.charCodeAt(i) === 92/*\\*/) {\n+      if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH) {\n         if (out.length === 0)\n           out += '..';\n         else\n@@ -665,7 +680,7 @@ const win32 = {\n       return out + toOrig.slice(toStart + lastCommonSep, toEnd);\n     else {\n       toStart += lastCommonSep;\n-      if (toOrig.charCodeAt(toStart) === 92/*\\*/)\n+      if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH)\n         ++toStart;\n       return toOrig.slice(toStart, toEnd);\n     }\n@@ -685,22 +700,22 @@ const win32 = {\n \n     if (resolvedPath.length >= 3) {\n       var code = resolvedPath.charCodeAt(0);\n-      if (code === 92/*\\*/) {\n+      if (code === CHAR_BACKWARD_SLASH) {\n         // Possible UNC root\n \n-        if (resolvedPath.charCodeAt(1) === 92/*\\*/) {\n+        if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {\n           code = resolvedPath.charCodeAt(2);\n-          if (code !== 63/*?*/ && code !== 46/*.*/) {\n+          if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {\n             // Matched non-long UNC root, convert the path to a long UNC path\n             return '\\\\\\\\?\\\\UNC\\\\' + resolvedPath.slice(2);\n           }\n         }\n-      } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-                 (code >= 97/*a*/ && code <= 122/*z*/)) {\n+      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n         // Possible device root\n \n-        if (resolvedPath.charCodeAt(1) === 58/*:*/ &&\n-            resolvedPath.charCodeAt(2) === 92/*\\*/) {\n+        if (resolvedPath.charCodeAt(1) === CHAR_COLON &&\n+            resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH) {\n           // Matched device root, convert the path to a long UNC path\n           return '\\\\\\\\?\\\\' + resolvedPath;\n         }\n@@ -723,20 +738,20 @@ const win32 = {\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // Possible UNC root\n \n         rootEnd = offset = 1;\n \n         code = path.charCodeAt(1);\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n             code = path.charCodeAt(j);\n-            if (code === 47/*/*/ || code === 92/*\\*/)\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n               break;\n           }\n           if (j < len && j !== last) {\n@@ -745,7 +760,7 @@ const win32 = {\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n               code = path.charCodeAt(j);\n-              if (code !== 47/*/*/ && code !== 92/*\\*/)\n+              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n                 break;\n             }\n             if (j < len && j !== last) {\n@@ -754,7 +769,7 @@ const win32 = {\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n                 code = path.charCodeAt(j);\n-                if (code === 47/*/*/ || code === 92/*\\*/)\n+                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n                   break;\n               }\n               if (j === len) {\n@@ -771,28 +786,28 @@ const win32 = {\n             }\n           }\n         }\n-      } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-                 (code >= 97/*a*/ && code <= 122/*z*/)) {\n+      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n         // Possible device root\n \n-        if (path.charCodeAt(1) === 58/*:*/) {\n+        if (path.charCodeAt(1) === CHAR_COLON) {\n           rootEnd = offset = 2;\n           if (len > 2) {\n             code = path.charCodeAt(2);\n-            if (code === 47/*/*/ || code === 92/*\\*/)\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n               rootEnd = offset = 3;\n           }\n         }\n       }\n-    } else if (code === 47/*/*/ || code === 92/*\\*/) {\n+    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       // `path` contains just a path separator, exit early to avoid\n       // unnecessary work\n       return path;\n     }\n \n     for (var i = len - 1; i >= offset; --i) {\n       code = path.charCodeAt(i);\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         if (!matchedSlash) {\n           end = i;\n           break;\n@@ -827,9 +842,9 @@ const win32 = {\n     // disregarded\n     if (path.length >= 2) {\n       const drive = path.charCodeAt(0);\n-      if ((drive >= 65/*A*/ && drive <= 90/*Z*/) ||\n-          (drive >= 97/*a*/ && drive <= 122/*z*/)) {\n-        if (path.charCodeAt(1) === 58/*:*/)\n+      if ((drive >= CHAR_UPPERCASE_A && drive <= CHAR_UPPERCASE_Z) ||\n+          (drive >= CHAR_LOWERCASE_A && drive <= CHAR_LOWERCASE_Z)) {\n+        if (path.charCodeAt(1) === CHAR_COLON)\n           start = 2;\n       }\n     }\n@@ -841,7 +856,7 @@ const win32 = {\n       var firstNonSlashEnd = -1;\n       for (i = path.length - 1; i >= start; --i) {\n         const code = path.charCodeAt(i);\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -881,7 +896,7 @@ const win32 = {\n     } else {\n       for (i = path.length - 1; i >= start; --i) {\n         const code = path.charCodeAt(i);\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -919,16 +934,16 @@ const win32 = {\n     // disregarded\n     if (path.length >= 2) {\n       const code = path.charCodeAt(0);\n-      if (path.charCodeAt(1) === 58/*:*/ &&\n-          ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-           (code >= 97/*a*/ && code <= 122/*z*/))) {\n+      if (path.charCodeAt(1) === CHAR_COLON &&\n+          ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+           (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z))) {\n         start = startPart = 2;\n       }\n     }\n \n     for (var i = path.length - 1; i >= start; --i) {\n       const code = path.charCodeAt(i);\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -943,7 +958,7 @@ const win32 = {\n         matchedSlash = false;\n         end = i + 1;\n       }\n-      if (code === 46/*.*/) {\n+      if (code === CHAR_DOT) {\n         // If this is our first dot, mark it as the start of our extension\n         if (startDot === -1)\n           startDot = i;\n@@ -992,19 +1007,19 @@ const win32 = {\n \n     // Try to match a root\n     if (len > 1) {\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // Possible UNC root\n \n         code = path.charCodeAt(1);\n         rootEnd = 1;\n-        if (code === 47/*/*/ || code === 92/*\\*/) {\n+        if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n           // Matched double path separator at beginning\n           var j = 2;\n           var last = j;\n           // Match 1 or more non-path separators\n           for (; j < len; ++j) {\n             code = path.charCodeAt(j);\n-            if (code === 47/*/*/ || code === 92/*\\*/)\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n               break;\n           }\n           if (j < len && j !== last) {\n@@ -1013,7 +1028,7 @@ const win32 = {\n             // Match 1 or more path separators\n             for (; j < len; ++j) {\n               code = path.charCodeAt(j);\n-              if (code !== 47/*/*/ && code !== 92/*\\*/)\n+              if (code !== CHAR_FORWARD_SLASH && code !== CHAR_BACKWARD_SLASH)\n                 break;\n             }\n             if (j < len && j !== last) {\n@@ -1022,7 +1037,7 @@ const win32 = {\n               // Match 1 or more non-path separators\n               for (; j < len; ++j) {\n                 code = path.charCodeAt(j);\n-                if (code === 47/*/*/ || code === 92/*\\*/)\n+                if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH)\n                   break;\n               }\n               if (j === len) {\n@@ -1037,15 +1052,15 @@ const win32 = {\n             }\n           }\n         }\n-      } else if ((code >= 65/*A*/ && code <= 90/*Z*/) ||\n-                 (code >= 97/*a*/ && code <= 122/*z*/)) {\n+      } else if ((code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z) ||\n+                 (code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z)) {\n         // Possible device root\n \n-        if (path.charCodeAt(1) === 58/*:*/) {\n+        if (path.charCodeAt(1) === CHAR_COLON) {\n           rootEnd = 2;\n           if (len > 2) {\n             code = path.charCodeAt(2);\n-            if (code === 47/*/*/ || code === 92/*\\*/) {\n+            if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n               if (len === 3) {\n                 // `path` contains just a drive root, exit early to avoid\n                 // unnecessary work\n@@ -1062,7 +1077,7 @@ const win32 = {\n           }\n         }\n       }\n-    } else if (code === 47/*/*/ || code === 92/*\\*/) {\n+    } else if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n       // `path` contains just a path separator, exit early to avoid\n       // unnecessary work\n       ret.root = ret.dir = path;\n@@ -1085,7 +1100,7 @@ const win32 = {\n     // Get non-dir info\n     for (; i >= rootEnd; --i) {\n       code = path.charCodeAt(i);\n-      if (code === 47/*/*/ || code === 92/*\\*/) {\n+      if (code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -1100,7 +1115,7 @@ const win32 = {\n         matchedSlash = false;\n         end = i + 1;\n       }\n-      if (code === 46/*.*/) {\n+      if (code === CHAR_DOT) {\n         // If this is our first dot, mark it as the start of our extension\n         if (startDot === -1)\n           startDot = i;\n@@ -1174,7 +1189,7 @@ const posix = {\n       }\n \n       resolvedPath = path + '/' + resolvedPath;\n-      resolvedAbsolute = path.charCodeAt(0) === 47/*/*/;\n+      resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n     }\n \n     // At this point the path should be resolved to a full absolute path, but\n@@ -1202,8 +1217,9 @@ const posix = {\n     if (path.length === 0)\n       return '.';\n \n-    const isAbsolute = path.charCodeAt(0) === 47/*/*/;\n-    const trailingSeparator = path.charCodeAt(path.length - 1) === 47/*/*/;\n+    const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n+    const trailingSeparator =\n+      path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;\n \n     // Normalize the path\n     path = normalizeStringPosix(path, !isAbsolute);\n@@ -1221,7 +1237,7 @@ const posix = {\n \n   isAbsolute: function isAbsolute(path) {\n     assertPath(path);\n-    return path.length > 0 && path.charCodeAt(0) === 47/*/*/;\n+    return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n   },\n \n \n@@ -1261,7 +1277,7 @@ const posix = {\n     // Trim any leading backslashes\n     var fromStart = 1;\n     for (; fromStart < from.length; ++fromStart) {\n-      if (from.charCodeAt(fromStart) !== 47/*/*/)\n+      if (from.charCodeAt(fromStart) !== CHAR_FORWARD_SLASH)\n         break;\n     }\n     var fromEnd = from.length;\n@@ -1270,7 +1286,7 @@ const posix = {\n     // Trim any leading backslashes\n     var toStart = 1;\n     for (; toStart < to.length; ++toStart) {\n-      if (to.charCodeAt(toStart) !== 47/*/*/)\n+      if (to.charCodeAt(toStart) !== CHAR_FORWARD_SLASH)\n         break;\n     }\n     var toEnd = to.length;\n@@ -1283,7 +1299,7 @@ const posix = {\n     for (; i <= length; ++i) {\n       if (i === length) {\n         if (toLen > length) {\n-          if (to.charCodeAt(toStart + i) === 47/*/*/) {\n+          if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {\n             // We get here if `from` is the exact base path for `to`.\n             // For example: from='/foo/bar'; to='/foo/bar/baz'\n             return to.slice(toStart + i + 1);\n@@ -1293,7 +1309,7 @@ const posix = {\n             return to.slice(toStart + i);\n           }\n         } else if (fromLen > length) {\n-          if (from.charCodeAt(fromStart + i) === 47/*/*/) {\n+          if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {\n             // We get here if `to` is the exact base path for `from`.\n             // For example: from='/foo/bar/baz'; to='/foo/bar'\n             lastCommonSep = i;\n@@ -1309,15 +1325,15 @@ const posix = {\n       var toCode = to.charCodeAt(toStart + i);\n       if (fromCode !== toCode)\n         break;\n-      else if (fromCode === 47/*/*/)\n+      else if (fromCode === CHAR_FORWARD_SLASH)\n         lastCommonSep = i;\n     }\n \n     var out = '';\n     // Generate the relative path based on the path difference between `to`\n     // and `from`\n     for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n-      if (i === fromEnd || from.charCodeAt(i) === 47/*/*/) {\n+      if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n         if (out.length === 0)\n           out += '..';\n         else\n@@ -1331,7 +1347,7 @@ const posix = {\n       return out + to.slice(toStart + lastCommonSep);\n     else {\n       toStart += lastCommonSep;\n-      if (to.charCodeAt(toStart) === 47/*/*/)\n+      if (to.charCodeAt(toStart) === CHAR_FORWARD_SLASH)\n         ++toStart;\n       return to.slice(toStart);\n     }\n@@ -1348,12 +1364,12 @@ const posix = {\n     if (path.length === 0)\n       return '.';\n     var code = path.charCodeAt(0);\n-    var hasRoot = (code === 47/*/*/);\n+    var hasRoot = (code === CHAR_FORWARD_SLASH);\n     var end = -1;\n     var matchedSlash = true;\n     for (var i = path.length - 1; i >= 1; --i) {\n       code = path.charCodeAt(i);\n-      if (code === 47/*/*/) {\n+      if (code === CHAR_FORWARD_SLASH) {\n         if (!matchedSlash) {\n           end = i;\n           break;\n@@ -1389,7 +1405,7 @@ const posix = {\n       var firstNonSlashEnd = -1;\n       for (i = path.length - 1; i >= 0; --i) {\n         const code = path.charCodeAt(i);\n-        if (code === 47/*/*/) {\n+        if (code === CHAR_FORWARD_SLASH) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -1428,7 +1444,7 @@ const posix = {\n       return path.slice(start, end);\n     } else {\n       for (i = path.length - 1; i >= 0; --i) {\n-        if (path.charCodeAt(i) === 47/*/*/) {\n+        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {\n           // If we reached a path separator that was not part of a set of path\n           // separators at the end of the string, stop now\n           if (!matchedSlash) {\n@@ -1461,7 +1477,7 @@ const posix = {\n     var preDotState = 0;\n     for (var i = path.length - 1; i >= 0; --i) {\n       const code = path.charCodeAt(i);\n-      if (code === 47/*/*/) {\n+      if (code === CHAR_FORWARD_SLASH) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -1476,7 +1492,7 @@ const posix = {\n         matchedSlash = false;\n         end = i + 1;\n       }\n-      if (code === 46/*.*/) {\n+      if (code === CHAR_DOT) {\n         // If this is our first dot, mark it as the start of our extension\n         if (startDot === -1)\n           startDot = i;\n@@ -1519,7 +1535,7 @@ const posix = {\n     if (path.length === 0)\n       return ret;\n     var code = path.charCodeAt(0);\n-    var isAbsolute = (code === 47/*/*/);\n+    var isAbsolute = (code === CHAR_FORWARD_SLASH);\n     var start;\n     if (isAbsolute) {\n       ret.root = '/';\n@@ -1540,7 +1556,7 @@ const posix = {\n     // Get non-dir info\n     for (; i >= start; --i) {\n       code = path.charCodeAt(i);\n-      if (code === 47/*/*/) {\n+      if (code === CHAR_FORWARD_SLASH) {\n         // If we reached a path separator that was not part of a set of path\n         // separators at the end of the string, stop now\n         if (!matchedSlash) {\n@@ -1555,7 +1571,7 @@ const posix = {\n         matchedSlash = false;\n         end = i + 1;\n       }\n-      if (code === 46/*.*/) {\n+      if (code === CHAR_DOT) {\n         // If this is our first dot, mark it as the start of our extension\n         if (startDot === -1)\n           startDot = i;"
        },
        {
            "sha": "826543a9d17ce1846803ae5a3f4825d56e20e35b",
            "filename": "node.gyp",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/6abce37f3469878d18ce3700b4aad2fcf5836eea/node.gyp",
            "raw_url": "https://github.com/nodejs/node/raw/6abce37f3469878d18ce3700b4aad2fcf5836eea/node.gyp",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/node.gyp?ref=6abce37f3469878d18ce3700b4aad2fcf5836eea",
            "patch": "@@ -95,6 +95,7 @@\n       'lib/internal/crypto/random.js',\n       'lib/internal/crypto/sig.js',\n       'lib/internal/crypto/util.js',\n+      'lib/internal/constants.js',\n       'lib/internal/encoding.js',\n       'lib/internal/errors.js',\n       'lib/internal/freelist.js',"
        }
    ],
    "stats": {
        "total": 255,
        "additions": 144,
        "deletions": 111
    }
}