{
    "author": "bnoordhuis",
    "message": "build: remove mips support\n\nUpstream V8 is dropping support for mips/mipsel/mips64/mips64el.\nThis commit removes the build flags from the configure script\nand some loose ends from the documentation.\n\nPR-URL: https://github.com/nodejs/node/pull/26192\nFixes: https://github.com/nodejs/node/issues/26179\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Yang Guo <yangguo@chromium.org>\nReviewed-By: Refael Ackermann <refack@gmail.com>\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "9334e45aa0ed815c2745bcc2bb606d91be64998d",
    "files": [
        {
            "sha": "a3f885c0fd0d8f03a19634430d3735f8ca540a07",
            "filename": "configure.py",
            "status": "modified",
            "additions": 1,
            "deletions": 44,
            "changes": 45,
            "blob_url": "https://github.com/nodejs/node/blob/9334e45aa0ed815c2745bcc2bb606d91be64998d/configure.py",
            "raw_url": "https://github.com/nodejs/node/raw/9334e45aa0ed815c2745bcc2bb606d91be64998d/configure.py",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/configure.py?ref=9334e45aa0ed815c2745bcc2bb606d91be64998d",
            "patch": "@@ -45,13 +45,10 @@\n \n valid_os = ('win', 'mac', 'solaris', 'freebsd', 'openbsd', 'linux',\n             'android', 'aix', 'cloudabi')\n-valid_arch = ('arm', 'arm64', 'ia32', 'mips', 'mipsel', 'mips64el', 'ppc',\n+valid_arch = ('arm', 'arm64', 'ia32', 'ppc',\n               'ppc64', 'x32','x64', 'x86', 'x86_64', 's390', 's390x')\n valid_arm_float_abi = ('soft', 'softfp', 'hard')\n valid_arm_fpu = ('vfp', 'vfpv3', 'vfpv3-d16', 'neon')\n-valid_mips_arch = ('loongson', 'r1', 'r2', 'r6', 'rx')\n-valid_mips_fpu = ('fp32', 'fp64', 'fpxx')\n-valid_mips_float_abi = ('soft', 'hard')\n valid_intl_modes = ('none', 'small-icu', 'full-icu', 'system-icu')\n with open ('tools/icu/icu_versions.json') as f:\n   icu_versions = json.load(f)\n@@ -368,30 +365,6 @@\n     help='ARM FPU mode ({0}) [default: %default]'.format(\n         ', '.join(valid_arm_fpu)))\n \n-parser.add_option('--with-mips-arch-variant',\n-    action='store',\n-    dest='mips_arch_variant',\n-    default='r2',\n-    choices=valid_mips_arch,\n-    help='MIPS arch variant ({0}) [default: %default]'.format(\n-        ', '.join(valid_mips_arch)))\n-\n-parser.add_option('--with-mips-fpu-mode',\n-    action='store',\n-    dest='mips_fpu_mode',\n-    default='fp32',\n-    choices=valid_mips_fpu,\n-    help='MIPS FPU mode ({0}) [default: %default]'.format(\n-        ', '.join(valid_mips_fpu)))\n-\n-parser.add_option('--with-mips-float-abi',\n-    action='store',\n-    dest='mips_float_abi',\n-    default='hard',\n-    choices=valid_mips_float_abi,\n-    help='MIPS floating-point ABI ({0}) [default: %default]'.format(\n-        ', '.join(valid_mips_float_abi)))\n-\n parser.add_option('--with-dtrace',\n     action='store_true',\n     dest='with_dtrace',\n@@ -851,8 +824,6 @@ def host_arch_cc():\n     '__aarch64__' : 'arm64',\n     '__arm__'     : 'arm',\n     '__i386__'    : 'ia32',\n-    '__MIPSEL__'  : 'mipsel',\n-    '__mips__'    : 'mips',\n     '__PPC64__'   : 'ppc64',\n     '__PPC__'     : 'ppc64',\n     '__x86_64__'  : 'x64',\n@@ -868,9 +839,6 @@ def host_arch_cc():\n       if rtn != 's390':\n         break\n \n-  if rtn == 'mipsel' and '_LP64' in k:\n-    rtn = 'mips64el'\n-\n   return rtn\n \n \n@@ -884,7 +852,6 @@ def host_arch_win():\n     'AMD64'  : 'x64',\n     'x86'    : 'ia32',\n     'arm'    : 'arm',\n-    'mips'   : 'mips',\n   }\n \n   return matchup.get(arch, 'ia32')\n@@ -916,14 +883,6 @@ def configure_arm(o):\n   o['variables']['arm_fpu'] = options.arm_fpu or arm_fpu\n \n \n-def configure_mips(o):\n-  can_use_fpu_instructions = (options.mips_float_abi != 'soft')\n-  o['variables']['v8_can_use_fpu_instructions'] = b(can_use_fpu_instructions)\n-  o['variables']['v8_use_mips_abi_hardfloat'] = b(can_use_fpu_instructions)\n-  o['variables']['mips_arch_variant'] = options.mips_arch_variant\n-  o['variables']['mips_fpu_mode'] = options.mips_fpu_mode\n-\n-\n def gcc_version_ge(version_checked):\n   for compiler in [(CC, 'c'), (CXX, 'c++')]:\n     ok, is_clang, clang_version, compiler_version = \\\n@@ -963,8 +922,6 @@ def configure_node(o):\n \n   if target_arch == 'arm':\n     configure_arm(o)\n-  elif target_arch in ('mips', 'mipsel', 'mips64el'):\n-    configure_mips(o)\n \n   if flavor == 'aix':\n     o['variables']['node_target_type'] = 'static_library'"
        },
        {
            "sha": "124812802f363af6d378f513b501384616069a96",
            "filename": "doc/api/process.md",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/9334e45aa0ed815c2745bcc2bb606d91be64998d/doc%2Fapi%2Fprocess.md",
            "raw_url": "https://github.com/nodejs/node/raw/9334e45aa0ed815c2745bcc2bb606d91be64998d/doc%2Fapi%2Fprocess.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fprocess.md?ref=9334e45aa0ed815c2745bcc2bb606d91be64998d",
            "patch": "@@ -528,8 +528,8 @@ added: v0.5.0\n The `process.arch` property returns a string identifying the operating system\n CPU architecture for which the Node.js binary was compiled.\n \n-The current possible values are: `'arm'`, `'arm64'`, `'ia32'`, `'mips'`,\n-`'mipsel'`, `'ppc'`, `'ppc64'`, `'s390'`, `'s390x'`, `'x32'`, and `'x64'`.\n+The current possible values are: `'arm'`, `'arm64'`, `'ia32'`,\n+`'ppc'`, `'ppc64'`, `'s390'`, `'s390x'`, `'x32'`, and `'x64'`.\n \n ```js\n console.log(`This processor architecture is ${process.arch}`);"
        },
        {
            "sha": "07463a9b279e7faedc9f518596988fc9f2ab285a",
            "filename": "doc/onboarding-extras.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/9334e45aa0ed815c2745bcc2bb606d91be64998d/doc%2Fonboarding-extras.md",
            "raw_url": "https://github.com/nodejs/node/raw/9334e45aa0ed815c2745bcc2bb606d91be64998d/doc%2Fonboarding-extras.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fonboarding-extras.md?ref=9334e45aa0ed815c2745bcc2bb606d91be64998d",
            "patch": "@@ -81,5 +81,5 @@ need to be attached anymore, as only important bugfixes will be included.\n   * `macos`, `windows`, `smartos`, `aix`\n   * No linux, linux is the implied default\n * Architecture labels\n-  * `arm`, `mips`, `s390`, `ppc`\n+  * `arm`, `s390`, `ppc`\n   * No x86{_64}, since that is the implied default"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 4,
        "deletions": 47
    }
}