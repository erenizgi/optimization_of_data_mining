{
    "author": "unknown",
    "message": "test: add dns.onlookupall() to increase coverage\n\nAdded test that callback should be called when error occurs\nin dns.lookupall().\n\nPR-URL: https://github.com/nodejs/node/pull/22985\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "a58f37720d389fe921b35daf45afb1c4e2c02274",
    "files": [
        {
            "sha": "df5ccf99a56fc3c307ae46e83946505da6089665",
            "filename": "test/internet/test-dns-lookup.js",
            "status": "modified",
            "additions": 17,
            "deletions": 1,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/a58f37720d389fe921b35daf45afb1c4e2c02274/test%2Finternet%2Ftest-dns-lookup.js",
            "raw_url": "https://github.com/nodejs/node/raw/a58f37720d389fe921b35daf45afb1c4e2c02274/test%2Finternet%2Ftest-dns-lookup.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Finternet%2Ftest-dns-lookup.js?ref=a58f37720d389fe921b35daf45afb1c4e2c02274",
            "patch": "@@ -1,7 +1,9 @@\n 'use strict';\n \n require('../common');\n-const dnsPromises = require('dns').promises;\n+const common = require('../common');\n+const dns = require('dns');\n+const dnsPromises = dns.promises;\n const { addresses } = require('../common/internet');\n const assert = require('assert');\n \n@@ -28,3 +30,17 @@ assert.rejects(\n     message: `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n   }\n );\n+\n+dns.lookup(addresses.INVALID_HOST, {\n+  hints: 0,\n+  family: 0,\n+  all: true\n+}, common.mustCall((error) => {\n+  assert.strictEqual(error.code, 'ENOTFOUND');\n+  assert.strictEqual(\n+    error.message,\n+    `getaddrinfo ENOTFOUND ${addresses.INVALID_HOST}`\n+  );\n+  assert.strictEqual(error.syscall, 'getaddrinfo');\n+  assert.strictEqual(error.hostname, addresses.INVALID_HOST);\n+}));"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 17,
        "deletions": 1
    }
}