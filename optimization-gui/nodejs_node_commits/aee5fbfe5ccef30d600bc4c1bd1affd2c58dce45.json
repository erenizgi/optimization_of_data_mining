{
    "author": "unknown",
    "message": "deps: fix asm build error of openssl in x86_win32\n\nSee\nhttps://mta.openssl.org/pipermail/openssl-dev/2015-February/000651.html\n\niojs needs to stop using masm and move to nasm or yasm on Win32.\n\nBackport-PR-URL: https://github.com/nodejs/node/pull/19638\nFixes: https://github.com/iojs/io.js/issues/589\nPR-URL: https://github.com/iojs/io.js/pull/1389\nReviewed-By: Fedor Indutny <fedor@indutny.com>\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>",
    "sha": "aee5fbfe5ccef30d600bc4c1bd1affd2c58dce45",
    "files": [
        {
            "sha": "b7f49d1c41dc16d4069d0411250f9886cad627ca",
            "filename": "deps/openssl/openssl/crypto/perlasm/x86masm.pl",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/nodejs/node/blob/aee5fbfe5ccef30d600bc4c1bd1affd2c58dce45/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2Fx86masm.pl",
            "raw_url": "https://github.com/nodejs/node/raw/aee5fbfe5ccef30d600bc4c1bd1affd2c58dce45/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2Fx86masm.pl",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/deps%2Fopenssl%2Fopenssl%2Fcrypto%2Fperlasm%2Fx86masm.pl?ref=aee5fbfe5ccef30d600bc4c1bd1affd2c58dce45",
            "patch": "@@ -18,10 +18,10 @@ sub ::generic\n \n     if ($opcode =~ /lea/ && @arg[1] =~ s/.*PTR\\s+(\\(.*\\))$/OFFSET $1/)\t# no []\n     {\t$opcode=\"mov\";\t}\n-    elsif ($opcode !~ /movq/)\n+    elsif ($opcode !~ /mov[dq]$/)\n     {\t# fix xmm references\n-\t$arg[0] =~ s/\\b[A-Z]+WORD\\s+PTR/XMMWORD PTR/i if ($arg[1]=~/\\bxmm[0-7]\\b/i);\n-\t$arg[1] =~ s/\\b[A-Z]+WORD\\s+PTR/XMMWORD PTR/i if ($arg[0]=~/\\bxmm[0-7]\\b/i);\n+\t$arg[0] =~ s/\\b[A-Z]+WORD\\s+PTR/XMMWORD PTR/i if ($arg[-1]=~/\\bxmm[0-7]\\b/i);\n+\t$arg[-1] =~ s/\\b[A-Z]+WORD\\s+PTR/XMMWORD PTR/i if ($arg[0]=~/\\bxmm[0-7]\\b/i);\n     }\n \n     &::emit($opcode,@arg);\n@@ -160,13 +160,13 @@ sub ::public_label\n {   push(@out,\"PUBLIC\\t\".&::LABEL($_[0],$nmdecor.$_[0]).\"\\n\");   }\n \n sub ::data_byte\n-{   push(@out,(\"DB\\t\").join(',',@_).\"\\n\");\t}\n+{   push(@out,(\"DB\\t\").join(',',splice(@_,0,16)).\"\\n\") while(@_);\t}\n \n sub ::data_short\n-{   push(@out,(\"DW\\t\").join(',',@_).\"\\n\");\t}\n+{   push(@out,(\"DW\\t\").join(',',splice(@_,0,8)).\"\\n\") while(@_);\t}\n \n sub ::data_word\n-{   push(@out,(\"DD\\t\").join(',',@_).\"\\n\");\t}\n+{   push(@out,(\"DD\\t\").join(',',splice(@_,0,4)).\"\\n\") while(@_);\t}\n \n sub ::align\n {   push(@out,\"ALIGN\\t$_[0]\\n\");\t}"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}