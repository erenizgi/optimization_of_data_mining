{
    "author": "addaleax",
    "message": "zlib: throw TypeError if callback is missing\n\nGet a proper stack trace when no callback is passed.\n\nPR-URL: https://github.com/nodejs/node/pull/24929\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Franziska Hinkelmann <franziska.hinkelmann@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Denys Otrishko <shishugi@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "9a2654601e58cb738463ea4a195400dd0cdd37ad",
    "files": [
        {
            "sha": "183ff7bfcf4b5c6e9b6350b127c9e0f8fc9848c9",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/9a2654601e58cb738463ea4a195400dd0cdd37ad/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/9a2654601e58cb738463ea4a195400dd0cdd37ad/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=9a2654601e58cb738463ea4a195400dd0cdd37ad",
            "patch": "@@ -73,6 +73,8 @@ for (var ck = 0; ck < ckeys.length; ck++) {\n }\n \n function zlibBuffer(engine, buffer, callback) {\n+  if (typeof callback !== 'function')\n+    throw new ERR_INVALID_ARG_TYPE('callback', 'function', callback);\n   // Streams do not support non-Buffer ArrayBufferViews yet. Convert it to a\n   // Buffer without copying.\n   if (isArrayBufferView(buffer) &&"
        },
        {
            "sha": "5b7699f429efe79f0d71e96409be2a0b5bc0a4e1",
            "filename": "test/parallel/test-zlib-convenience-methods.js",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/9a2654601e58cb738463ea4a195400dd0cdd37ad/test%2Fparallel%2Ftest-zlib-convenience-methods.js",
            "raw_url": "https://github.com/nodejs/node/raw/9a2654601e58cb738463ea4a195400dd0cdd37ad/test%2Fparallel%2Ftest-zlib-convenience-methods.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-zlib-convenience-methods.js?ref=9a2654601e58cb738463ea4a195400dd0cdd37ad",
            "patch": "@@ -119,3 +119,13 @@ for (const [type, expect] of [\n     }\n   }\n }\n+\n+common.expectsError(\n+  () => zlib.gzip('abc'),\n+  {\n+    code: 'ERR_INVALID_ARG_TYPE',\n+    type: TypeError,\n+    message: 'The \"callback\" argument must be of type function. ' +\n+             'Received type undefined'\n+  }\n+);"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 12,
        "deletions": 0
    }
}