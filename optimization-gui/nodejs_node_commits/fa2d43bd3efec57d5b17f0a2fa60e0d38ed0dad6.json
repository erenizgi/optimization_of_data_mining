{
    "author": "lpinca",
    "message": "url: make urlToOptions() handle IPv6 literals\n\nStrip the enclosing square brackets from the parsed hostname.\n\nPR-URL: https://github.com/nodejs/node/pull/19720\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>",
    "sha": "fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6",
    "files": [
        {
            "sha": "cff94e6b7d2b5b1a09cbd448f3073d9a4372fd54",
            "filename": "lib/internal/url.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6/lib%2Finternal%2Furl.js",
            "raw_url": "https://github.com/nodejs/node/raw/fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6/lib%2Finternal%2Furl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Furl.js?ref=fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6",
            "patch": "@@ -1314,7 +1314,9 @@ function domainToUnicode(domain) {\n function urlToOptions(url) {\n   var options = {\n     protocol: url.protocol,\n-    hostname: url.hostname,\n+    hostname: url.hostname.startsWith('[') ?\n+      url.hostname.slice(1, -1) :\n+      url.hostname,\n     hash: url.hash,\n     search: url.search,\n     pathname: url.pathname,"
        },
        {
            "sha": "230315a70efdfcee33f5543ab562097e03cd378f",
            "filename": "test/parallel/test-whatwg-url-properties.js",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6/test%2Fparallel%2Ftest-whatwg-url-properties.js",
            "raw_url": "https://github.com/nodejs/node/raw/fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6/test%2Fparallel%2Ftest-whatwg-url-properties.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-whatwg-url-properties.js?ref=fa2d43bd3efec57d5b17f0a2fa60e0d38ed0dad6",
            "patch": "@@ -143,6 +143,9 @@ assert.strictEqual(url.searchParams, oldParams);\n   assert.strictEqual(opts.pathname, '/aaa/zzz');\n   assert.strictEqual(opts.search, '?l=24');\n   assert.strictEqual(opts.hash, '#test');\n+\n+  const { hostname } = urlToOptions(new URL('http://[::1]:21'));\n+  assert.strictEqual(hostname, '::1');\n }\n \n // Test special origins"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}