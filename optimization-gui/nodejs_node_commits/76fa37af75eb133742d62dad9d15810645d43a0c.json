{
    "author": "BridgeAR",
    "message": "util: code cleanup\n\nRemove some dead code plus some minor refactoring for readability.\nThe constructor can not be an empty string anymore, so just remove\nthat check.\n\nPR-URL: https://github.com/nodejs/node/pull/25255\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "76fa37af75eb133742d62dad9d15810645d43a0c",
    "files": [
        {
            "sha": "ac6eb4fca1c2997e4bdd4fe52089ef28669c2f3e",
            "filename": "lib/internal/util/inspect.js",
            "status": "modified",
            "additions": 30,
            "deletions": 40,
            "changes": 70,
            "blob_url": "https://github.com/nodejs/node/blob/76fa37af75eb133742d62dad9d15810645d43a0c/lib%2Finternal%2Futil%2Finspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/76fa37af75eb133742d62dad9d15810645d43a0c/lib%2Finternal%2Futil%2Finspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Futil%2Finspect.js?ref=76fa37af75eb133742d62dad9d15810645d43a0c",
            "patch": "@@ -211,34 +211,34 @@ Object.defineProperty(inspect, 'defaultOptions', {\n \n // http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n inspect.colors = Object.assign(Object.create(null), {\n-  'bold': [1, 22],\n-  'italic': [3, 23],\n-  'underline': [4, 24],\n-  'inverse': [7, 27],\n-  'white': [37, 39],\n-  'grey': [90, 39],\n-  'black': [30, 39],\n-  'blue': [34, 39],\n-  'cyan': [36, 39],\n-  'green': [32, 39],\n-  'magenta': [35, 39],\n-  'red': [31, 39],\n-  'yellow': [33, 39]\n+  bold: [1, 22],\n+  italic: [3, 23],\n+  underline: [4, 24],\n+  inverse: [7, 27],\n+  white: [37, 39],\n+  grey: [90, 39],\n+  black: [30, 39],\n+  blue: [34, 39],\n+  cyan: [36, 39],\n+  green: [32, 39],\n+  magenta: [35, 39],\n+  red: [31, 39],\n+  yellow: [33, 39]\n });\n \n // Don't use 'blue' not visible on cmd.exe\n inspect.styles = Object.assign(Object.create(null), {\n-  'special': 'cyan',\n-  'number': 'yellow',\n-  'bigint': 'yellow',\n-  'boolean': 'yellow',\n-  'undefined': 'grey',\n-  'null': 'bold',\n-  'string': 'green',\n-  'symbol': 'green',\n-  'date': 'magenta',\n+  special: 'cyan',\n+  number: 'yellow',\n+  bigint: 'yellow',\n+  boolean: 'yellow',\n+  undefined: 'grey',\n+  null: 'bold',\n+  string: 'green',\n+  symbol: 'green',\n+  date: 'magenta',\n   // \"name\": intentionally not styling\n-  'regexp': 'red'\n+  regexp: 'red'\n });\n \n function addQuotes(str, quotes) {\n@@ -358,14 +358,10 @@ function getPrefix(constructor, tag, fallback) {\n     return `[${fallback}: null prototype] `;\n   }\n \n-  if (constructor !== '') {\n-    if (tag !== '' && constructor !== tag) {\n-      return `${constructor} [${tag}] `;\n-    }\n-    return `${constructor} `;\n+  if (tag !== '' && constructor !== tag) {\n+    return `${constructor} [${tag}] `;\n   }\n-\n-  return '';\n+  return `${constructor} `;\n }\n \n const getBoxedValue = formatPrimitive.bind(null, stylizeNoColor);\n@@ -619,16 +615,12 @@ function formatRaw(ctx, value, recurseTimes, typedArray) {\n     braces = ['{', '}'];\n     if (constructor === 'Object') {\n       if (isArgumentsObject(value)) {\n-        if (keys.length === 0)\n-          return '[Arguments] {}';\n         braces[0] = '[Arguments] {';\n       } else if (tag !== '') {\n         braces[0] = `${getPrefix(constructor, tag, 'Object')}{`;\n-        if (keys.length === 0) {\n-          return `${braces[0]}}`;\n-        }\n-      } else if (keys.length === 0) {\n-        return '{}';\n+      }\n+      if (keys.length === 0) {\n+        return `${braces[0]}}`;\n       }\n     } else if (typeof value === 'function') {\n       const type = constructor || tag || 'Function';\n@@ -822,9 +814,7 @@ function handleMaxCallStackSize(ctx, err, constructor, tag, indentationLvl) {\n \n function formatNumber(fn, value) {\n   // Format -0 as '-0'. Checking `value === -0` won't distinguish 0 from -0.\n-  if (Object.is(value, -0))\n-    return fn('-0', 'number');\n-  return fn(`${value}`, 'number');\n+  return fn(Object.is(value, -0) ? '-0' : `${value}`, 'number');\n }\n \n function formatBigInt(fn, value) {"
        },
        {
            "sha": "c9ca8f5787735aab6c7ab60957ce890ffa8a0d3c",
            "filename": "test/parallel/test-util-inspect.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/76fa37af75eb133742d62dad9d15810645d43a0c/test%2Fparallel%2Ftest-util-inspect.js",
            "raw_url": "https://github.com/nodejs/node/raw/76fa37af75eb133742d62dad9d15810645d43a0c/test%2Fparallel%2Ftest-util-inspect.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-util-inspect.js?ref=76fa37af75eb133742d62dad9d15810645d43a0c",
            "patch": "@@ -1853,7 +1853,6 @@ assert.strictEqual(\n     util.inspect(new StorageObject()),\n     '<[Object: null prototype] {}> {}'\n   );\n-\n }\n \n // Check that the fallback always works."
        }
    ],
    "stats": {
        "total": 71,
        "additions": 30,
        "deletions": 41
    }
}