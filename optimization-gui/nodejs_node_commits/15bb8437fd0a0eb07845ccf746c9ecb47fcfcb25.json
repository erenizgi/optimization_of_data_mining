{
    "author": "BridgeAR",
    "message": "tools: add assert.doesNotThrow eslint rule\n\nProhibit the usage of `assert.doesNotThrow()`.\n\nPR-URL: https://github.com/nodejs/node/pull/18669\nReviewed-By: Ben Noordhuis <info@bnoordhuis.nl>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25",
    "files": [
        {
            "sha": "377f615e8a1d20a873929a223e7b0a951d616397",
            "filename": ".eslintrc.yaml",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/.eslintrc.yaml",
            "raw_url": "https://github.com/nodejs/node/raw/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/.eslintrc.yaml",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/.eslintrc.yaml?ref=15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25",
            "patch": "@@ -135,8 +135,11 @@ rules:\n   no-mixed-spaces-and-tabs: error\n   no-multiple-empty-lines: [error, {max: 2, maxEOF: 0, maxBOF: 0}]\n   no-restricted-syntax: [error, {\n+    selector: \"CallExpression[callee.object.name='assert'][callee.property.name='doesNotThrow']\",\n+    message: \"Please replace `assert.doesNotThrow()` and add a comment next to the code instead.\"\n+  }, {\n     selector: \"CallExpression[callee.object.name='assert'][callee.property.name='throws'][arguments.1.type='Literal']:not([arguments.1.regex])\",\n-    message: \"use a regular expression for second argument of assert.throws()\"\n+    message: \"Use a regular expression for second argument of assert.throws()\"\n   }, {\n     selector: \"CallExpression[callee.object.name='assert'][callee.property.name='throws'][arguments.length<2]\",\n     message: \"assert.throws() must be invoked with at least two arguments.\""
        },
        {
            "sha": "2409d19206e35393890464b4c38efa9ae7556fbc",
            "filename": "benchmark/assert/throws.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/nodejs/node/blob/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/benchmark%2Fassert%2Fthrows.js",
            "raw_url": "https://github.com/nodejs/node/raw/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/benchmark%2Fassert%2Fthrows.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/benchmark%2Fassert%2Fthrows.js?ref=15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25",
            "patch": "@@ -26,6 +26,7 @@ function main({ n, method }) {\n     case 'doesNotThrow':\n       bench.start();\n       for (i = 0; i < n; ++i) {\n+        // eslint-disable-next-line no-restricted-syntax\n         assert.doesNotThrow(doesNotThrow);\n       }\n       bench.end(n);"
        },
        {
            "sha": "cedbc14d427b9ae522b40d5f05689a0da020290e",
            "filename": "doc/api/assert.md",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/doc%2Fapi%2Fassert.md",
            "raw_url": "https://github.com/nodejs/node/raw/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/doc%2Fapi%2Fassert.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fassert.md?ref=15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25",
            "patch": "@@ -341,6 +341,7 @@ to the caller.\n The following, for instance, will throw the [`TypeError`][] because there is no\n matching error type in the assertion:\n \n+<!-- eslint-disable no-restricted-syntax -->\n ```js\n assert.doesNotThrow(\n   () => {\n@@ -353,6 +354,7 @@ assert.doesNotThrow(\n However, the following will result in an `AssertionError` with the message\n 'Got unwanted exception (TypeError)..':\n \n+<!-- eslint-disable no-restricted-syntax -->\n ```js\n assert.doesNotThrow(\n   () => {\n@@ -366,6 +368,7 @@ If an `AssertionError` is thrown and a value is provided for the `message`\n parameter, the value of `message` will be appended to the `AssertionError`\n message:\n \n+<!-- eslint-disable no-restricted-syntax -->\n ```js\n assert.doesNotThrow(\n   () => {"
        },
        {
            "sha": "c5a2bfe8561fdba6c43cad00910b1139a643a6c8",
            "filename": "test/parallel/test-assert.js",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/test%2Fparallel%2Ftest-assert.js",
            "raw_url": "https://github.com/nodejs/node/raw/15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25/test%2Fparallel%2Ftest-assert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-assert.js?ref=15bb8437fd0a0eb07845ccf746c9ecb47fcfcb25",
            "patch": "@@ -121,7 +121,7 @@ assert.throws(() => thrower(TypeError));\n }\n \n common.expectsError(\n-  () => assert.doesNotThrow(() => thrower(Error), 'user message'),\n+  () => a.doesNotThrow(() => thrower(Error), 'user message'),\n   {\n     type: a.AssertionError,\n     code: 'ERR_ASSERTION',\n@@ -131,15 +131,15 @@ common.expectsError(\n );\n \n common.expectsError(\n-  () => assert.doesNotThrow(() => thrower(Error), 'user message'),\n+  () => a.doesNotThrow(() => thrower(Error), 'user message'),\n   {\n     code: 'ERR_ASSERTION',\n     message: /Got unwanted exception: user message\\n\\[object Object\\]/\n   }\n );\n \n common.expectsError(\n-  () => assert.doesNotThrow(() => thrower(Error)),\n+  () => a.doesNotThrow(() => thrower(Error)),\n   {\n     code: 'ERR_ASSERTION',\n     message: /Got unwanted exception\\.\\n\\[object Object\\]/\n@@ -292,7 +292,7 @@ try {\n \n   // Verify AssertionError is the result from doesNotThrow with custom Error.\n   try {\n-    assert.doesNotThrow(() => {\n+    a.doesNotThrow(() => {\n       throw new TypeError('wrong type');\n     }, TypeError, rangeError);\n   } catch (e) {\n@@ -760,7 +760,6 @@ common.expectsError(\n \n   errObj.code = '404';\n   common.expectsError(\n-  // eslint-disable-next-line no-restricted-syntax\n     () => assert.throws(errFn, errObj),\n     {\n       code: 'ERR_ASSERTION',\n@@ -772,7 +771,6 @@ common.expectsError(\n   errObj.code = 404;\n   errObj.foo = 'bar';\n   common.expectsError(\n-  // eslint-disable-next-line no-restricted-syntax\n     () => assert.throws(errFn, errObj),\n     {\n       code: 'ERR_ASSERTION',\n@@ -791,7 +789,7 @@ common.expectsError(\n   );\n \n   common.expectsError(\n-    () => assert.doesNotThrow(() => { throw new Error(); }, { foo: 'bar' }),\n+    () => a.doesNotThrow(() => { throw new Error(); }, { foo: 'bar' }),\n     {\n       type: TypeError,\n       code: 'ERR_INVALID_ARG_TYPE',\n@@ -822,7 +820,7 @@ common.expectsError(\n   assert.throws(() => { throw undefined; }, /undefined/);\n   common.expectsError(\n     // eslint-disable-next-line no-throw-literal\n-    () => assert.doesNotThrow(() => { throw undefined; }),\n+    () => a.doesNotThrow(() => { throw undefined; }),\n     {\n       type: assert.AssertionError,\n       code: 'ERR_ASSERTION',"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 14,
        "deletions": 9
    }
}