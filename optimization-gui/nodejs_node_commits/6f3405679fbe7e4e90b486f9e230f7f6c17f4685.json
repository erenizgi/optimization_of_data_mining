{
    "author": "danbev",
    "message": "src: use unqualified names in node_crypto.cc\n\nThis commit removes the usage of qualified names for consistency.\n\nPR-URL: https://github.com/nodejs/node/pull/20799\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Tobias Nie√üen <tniessen@tnie.de>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>",
    "sha": "6f3405679fbe7e4e90b486f9e230f7f6c17f4685",
    "files": [
        {
            "sha": "d23dad748c6873d936c6717852abebc8567e2f87",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 19,
            "changes": 33,
            "blob_url": "https://github.com/nodejs/node/blob/6f3405679fbe7e4e90b486f9e230f7f6c17f4685/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/6f3405679fbe7e4e90b486f9e230f7f6c17f4685/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=6f3405679fbe7e4e90b486f9e230f7f6c17f4685",
            "patch": "@@ -311,7 +311,7 @@ bool EntropySource(unsigned char* buffer, size_t length) {\n \n \n void SecureContext::Initialize(Environment* env, Local<Object> target) {\n-  Local<FunctionTemplate> t = env->NewFunctionTemplate(SecureContext::New);\n+  Local<FunctionTemplate> t = env->NewFunctionTemplate(New);\n   t->InstanceTemplate()->SetInternalFieldCount(1);\n   Local<String> secureContextString =\n       FIXED_ONE_BYTE_STRING(env->isolate(), \"SecureContext\");\n@@ -464,8 +464,7 @@ void SecureContext::Init(const FunctionCallbackInfo<Value>& args) {\n       RAND_bytes(sc->ticket_key_aes_, sizeof(sc->ticket_key_aes_)) <= 0) {\n     return env->ThrowError(\"Error generating ticket keys\");\n   }\n-  SSL_CTX_set_tlsext_ticket_key_cb(sc->ctx_.get(),\n-                                   SecureContext::TicketCompatibilityCallback);\n+  SSL_CTX_set_tlsext_ticket_key_cb(sc->ctx_.get(), TicketCompatibilityCallback);\n }\n \n \n@@ -1916,8 +1915,7 @@ void SSLWrap<Base>::SetSession(const FunctionCallbackInfo<Value>& args) {\n     sbuf.assign(p, p + slen);\n \n   const unsigned char* p = reinterpret_cast<const unsigned char*>(sbuf.data());\n-  SSLSessionPointer sess(\n-      d2i_SSL_SESSION(nullptr, &p, slen));\n+  SSLSessionPointer sess(d2i_SSL_SESSION(nullptr, &p, slen));\n \n   if (sess == nullptr)\n     return;\n@@ -2020,8 +2018,7 @@ void SSLWrap<Base>::NewSessionDone(const FunctionCallbackInfo<Value>& args) {\n \n \n template <class Base>\n-void SSLWrap<Base>::SetOCSPResponse(\n-    const v8::FunctionCallbackInfo<v8::Value>& args) {\n+void SSLWrap<Base>::SetOCSPResponse(const FunctionCallbackInfo<Value>& args) {\n #ifdef NODE__HAVE_TLSEXT_STATUS_CB\n   Base* w;\n   ASSIGN_OR_RETURN_UNWRAP(&w, args.Holder());\n@@ -2038,8 +2035,7 @@ void SSLWrap<Base>::SetOCSPResponse(\n \n \n template <class Base>\n-void SSLWrap<Base>::RequestOCSP(\n-    const v8::FunctionCallbackInfo<v8::Value>& args) {\n+void SSLWrap<Base>::RequestOCSP(const FunctionCallbackInfo<Value>& args) {\n #ifdef NODE__HAVE_TLSEXT_STATUS_CB\n   Base* w;\n   ASSIGN_OR_RETURN_UNWRAP(&w, args.Holder());\n@@ -2051,7 +2047,7 @@ void SSLWrap<Base>::RequestOCSP(\n \n template <class Base>\n void SSLWrap<Base>::GetEphemeralKeyInfo(\n-    const v8::FunctionCallbackInfo<v8::Value>& args) {\n+    const FunctionCallbackInfo<Value>& args) {\n   Base* w;\n   ASSIGN_OR_RETURN_UNWRAP(&w, args.Holder());\n   Environment* env = Environment::GetCurrent(args);\n@@ -2111,7 +2107,7 @@ void SSLWrap<Base>::GetEphemeralKeyInfo(\n #ifdef SSL_set_max_send_fragment\n template <class Base>\n void SSLWrap<Base>::SetMaxSendFragment(\n-    const v8::FunctionCallbackInfo<v8::Value>& args) {\n+    const FunctionCallbackInfo<Value>& args) {\n   CHECK(args.Length() >= 1 && args[0]->IsNumber());\n \n   Base* w;\n@@ -2265,7 +2261,7 @@ int SSLWrap<Base>::SelectALPNCallback(SSL* s,\n \n template <class Base>\n void SSLWrap<Base>::GetALPNNegotiatedProto(\n-    const FunctionCallbackInfo<v8::Value>& args) {\n+    const FunctionCallbackInfo<Value>& args) {\n #ifdef TLSEXT_TYPE_application_layer_protocol_negotiation\n   Base* w;\n   ASSIGN_OR_RETURN_UNWRAP(&w, args.Holder());\n@@ -2285,8 +2281,7 @@ void SSLWrap<Base>::GetALPNNegotiatedProto(\n \n \n template <class Base>\n-void SSLWrap<Base>::SetALPNProtocols(\n-    const FunctionCallbackInfo<v8::Value>& args) {\n+void SSLWrap<Base>::SetALPNProtocols(const FunctionCallbackInfo<Value>& args) {\n #ifdef TLSEXT_TYPE_application_layer_protocol_negotiation\n   Base* w;\n   ASSIGN_OR_RETURN_UNWRAP(&w, args.Holder());\n@@ -3156,7 +3151,7 @@ void CipherBase::Final(const FunctionCallbackInfo<Value>& args) {\n }\n \n \n-void Hmac::Initialize(Environment* env, v8::Local<v8::Object> target) {\n+void Hmac::Initialize(Environment* env, v8::Local<Object> target) {\n   Local<FunctionTemplate> t = env->NewFunctionTemplate(New);\n \n   t->InstanceTemplate()->SetInternalFieldCount(1);\n@@ -3276,7 +3271,7 @@ void Hmac::HmacDigest(const FunctionCallbackInfo<Value>& args) {\n }\n \n \n-void Hash::Initialize(Environment* env, v8::Local<v8::Object> target) {\n+void Hash::Initialize(Environment* env, v8::Local<Object> target) {\n   Local<FunctionTemplate> t = env->NewFunctionTemplate(New);\n \n   t->InstanceTemplate()->SetInternalFieldCount(1);\n@@ -3468,7 +3463,7 @@ static bool ApplyRSAOptions(const EVPKeyPointer& pkey,\n \n \n \n-void Sign::Initialize(Environment* env, v8::Local<v8::Object> target) {\n+void Sign::Initialize(Environment* env, v8::Local<Object> target) {\n   Local<FunctionTemplate> t = env->NewFunctionTemplate(New);\n \n   t->InstanceTemplate()->SetInternalFieldCount(1);\n@@ -3634,7 +3629,7 @@ void Sign::SignFinal(const FunctionCallbackInfo<Value>& args) {\n }\n \n \n-void Verify::Initialize(Environment* env, v8::Local<v8::Object> target) {\n+void Verify::Initialize(Environment* env, v8::Local<Object> target) {\n   Local<FunctionTemplate> t = env->NewFunctionTemplate(New);\n \n   t->InstanceTemplate()->SetInternalFieldCount(1);\n@@ -4214,7 +4209,7 @@ void DiffieHellman::ComputeSecret(const FunctionCallbackInfo<Value>& args) {\n       Buffer::New(env->isolate(), data.release(), data.size).ToLocalChecked());\n }\n \n-void DiffieHellman::SetKey(const v8::FunctionCallbackInfo<v8::Value>& args,\n+void DiffieHellman::SetKey(const v8::FunctionCallbackInfo<Value>& args,\n                            int (*set_field)(DH*, BIGNUM*), const char* what) {\n   Environment* env = Environment::GetCurrent(args);\n "
        }
    ],
    "stats": {
        "total": 33,
        "additions": 14,
        "deletions": 19
    }
}