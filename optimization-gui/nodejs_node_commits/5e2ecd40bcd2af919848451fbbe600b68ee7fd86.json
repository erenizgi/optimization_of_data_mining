{
    "author": "addaleax",
    "message": "src: simplify LibuvStreamWrap::DoWrite\n\nPR-URL: https://github.com/nodejs/node/pull/24588\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>",
    "sha": "5e2ecd40bcd2af919848451fbbe600b68ee7fd86",
    "files": [
        {
            "sha": "0435ae3ac1e9064d1f4fc0bee4313084554184d2",
            "filename": "src/stream_wrap.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 19,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/5e2ecd40bcd2af919848451fbbe600b68ee7fd86/src%2Fstream_wrap.cc",
            "raw_url": "https://github.com/nodejs/node/raw/5e2ecd40bcd2af919848451fbbe600b68ee7fd86/src%2Fstream_wrap.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fstream_wrap.cc?ref=5e2ecd40bcd2af919848451fbbe600b68ee7fd86",
            "patch": "@@ -359,25 +359,12 @@ int LibuvStreamWrap::DoWrite(WriteWrap* req_wrap,\n                              size_t count,\n                              uv_stream_t* send_handle) {\n   LibuvWriteWrap* w = static_cast<LibuvWriteWrap*>(req_wrap);\n-  int r;\n-  if (send_handle == nullptr) {\n-    r = w->Dispatch(uv_write, stream(), bufs, count, AfterUvWrite);\n-  } else {\n-    r = w->Dispatch(uv_write2,\n-                    stream(),\n-                    bufs,\n-                    count,\n-                    send_handle,\n-                    AfterUvWrite);\n-  }\n-\n-  if (!r) {\n-    size_t bytes = 0;\n-    for (size_t i = 0; i < count; i++)\n-      bytes += bufs[i].len;\n-  }\n-\n-  return r;\n+  return w->Dispatch(uv_write2,\n+                     stream(),\n+                     bufs,\n+                     count,\n+                     send_handle,\n+                     AfterUvWrite);\n }\n \n "
        }
    ],
    "stats": {
        "total": 25,
        "additions": 6,
        "deletions": 19
    }
}