{
    "author": "BridgeAR",
    "message": "doc: update collaborator guide\n\nThis also updates some parts of the onboarding. It is mainly about\nhow to handle pull requests, how and when to start a CI, when to add\nthe `ready` label and some other minor changes.\n\nPR-URL: https://github.com/nodejs/node/pull/19116\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: Minwoo Jung <minwoo@nodesource.com>\nReviewed-By: Gus Caplan <me@gus.host>\nReviewed-By: Chen Gang <gangc.cxy@foxmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: Glen Keane <glenkeane.94@gmail.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Anna Henningsen <anna@addaleax.net>",
    "sha": "1b8746fb9558ca15bd7e514ddc9f4fe052768efe",
    "files": [
        {
            "sha": "941694ced34d1cf15a5e80a6d67ce48ef952fc94",
            "filename": "COLLABORATOR_GUIDE.md",
            "status": "modified",
            "additions": 123,
            "deletions": 71,
            "changes": 194,
            "blob_url": "https://github.com/nodejs/node/blob/1b8746fb9558ca15bd7e514ddc9f4fe052768efe/COLLABORATOR_GUIDE.md",
            "raw_url": "https://github.com/nodejs/node/raw/1b8746fb9558ca15bd7e514ddc9f4fe052768efe/COLLABORATOR_GUIDE.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/COLLABORATOR_GUIDE.md?ref=1b8746fb9558ca15bd7e514ddc9f4fe052768efe",
            "patch": "@@ -1,13 +1,16 @@\n # Node.js Collaborator Guide\n \n-**Contents**\n+## Contents\n \n * [Issues and Pull Requests](#issues-and-pull-requests)\n   - [Managing Issues and Pull Requests](#managing-issues-and-pull-requests)\n   - [Welcoming First-Time Contributors](#welcoming-first-time-contributors)\n   - [Closing Issues and Pull Requests](#closing-issues-and-pull-requests)\n+  - [Author ready pull requests](#author-ready-pull-requests)\n+  - [Handling own pull requests](#handling-own-pull-requests)\n * [Accepting Modifications](#accepting-modifications)\n-  - [Code Reviews and Consensus Seeking](#code-reviews-and-consensus-seeking)\n+  - [Code Reviews](#code-reviews)\n+  - [Consensus Seeking](#consensus-seeking)\n   - [Waiting for Approvals](#waiting-for-approvals)\n   - [Testing and CI](#testing-and-ci)\n     - [Useful CI Jobs](#useful-ci-jobs)\n@@ -45,19 +48,19 @@ understand the project governance model as outlined in\n \n ### Managing Issues and Pull Requests\n \n-Collaborators should feel free to take full responsibility for\n-managing issues and pull requests they feel qualified to handle, as\n-long as this is done while being mindful of these guidelines, the\n-opinions of other Collaborators and guidance of the [TSC][]. They\n-may also notify other qualified parties for more input on an issue\n-or a pull request.\n+Collaborators should take full responsibility for managing issues and pull\n+requests they feel qualified to handle. Make sure this is done while being\n+mindful of these guidelines, the opinions of other Collaborators, and guidance\n+of the [TSC][]. They may also notify other qualified parties for more input on\n+an issue or a pull request.\n [See \"Who to CC in issues\"](./doc/onboarding-extras.md#who-to-cc-in-issues)\n \n ### Welcoming First-Time Contributors\n \n Courtesy should always be shown to individuals submitting issues and pull\n requests to the Node.js project. Be welcoming to first-time contributors,\n-identified by the GitHub ![First-time contributor](./doc/first_timer_badge.png) badge.\n+identified by the GitHub ![First-time contributor](./doc/first_timer_badge.png)\n+badge.\n \n For first-time contributors, check if the commit author is the same as the\n pull request author, and ask if they have configured their git\n@@ -75,47 +78,88 @@ Collaborators or additional evidence that the issue has relevance, the\n issue may be closed. Remember that issues can always be re-opened if\n necessary.\n \n+### Author ready pull requests\n+\n+A pull request that is still awaiting the minimum review time is considered\n+`author-ready` as soon as the CI has been started, it has at least one approval,\n+and it has no outstanding review comments. Please always make sure to add the\n+appropriate `author-ready` label to the PR in that case and remove it again as\n+soon as that condition is not met anymore.\n+\n+### Handling own pull requests\n+\n+If you as a Collaborator open a pull request, it is recommended to start a CI\n+right after (see [testing and CI](#testing-and-ci) for further information on\n+how to do that) and to post the link to it as well. Starting a new CI after each\n+update is also recommended (due to e.g., a change request in a review or due to\n+rebasing).\n+\n+As soon as the PR is ready to land, please go ahead and do so on your own.\n+Landing your own pull requests distributes the work load for each Collaborator\n+equally. If it is still awaiting the\n+[minimum time to land](#waiting-for-approvals), please add the `author-ready`\n+label to it so it is obvious that the PR can land as soon as the time ends.\n+\n ## Accepting Modifications\n \n-All modifications to the Node.js code and documentation should be\n-performed via GitHub pull requests, including modifications by\n-Collaborators and TSC members. A pull request must be reviewed, and usually\n-must also be tested with CI, before being landed into the codebase.\n+All modifications to the Node.js code and documentation should be performed via\n+GitHub pull requests, including modifications by Collaborators and TSC members.\n+A pull request must be reviewed, and must also be tested with CI, before being\n+landed into the codebase. There may be exception to the latter (the changed code\n+can not be tested with a CI or similar). If that is the case, please leave a\n+comment that explains why the PR does not require a CI run.\n \n-### Code Reviews and Consensus Seeking\n+### Code Reviews\n \n All pull requests must be reviewed and accepted by a Collaborator with\n sufficient expertise who is able to take full responsibility for the\n change. In the case of pull requests proposed by an existing\n Collaborator, an additional Collaborator is required for sign-off.\n \n-In some cases, it may be necessary to summon a qualified Collaborator\n-or a GitHub team to a pull request for review by @-mention.\n-[See \"Who to CC in issues\"](./doc/onboarding-extras.md#who-to-cc-in-issues)\n+In some cases, it may be necessary to summon a GitHub team to a pull request for\n+review by @-mention.\n+[See \"Who to CC in issues\"](./doc/onboarding-extras.md#who-to-cc-in-issues).\n \n If you are unsure about the modification and are not prepared to take\n full responsibility for the change, defer to another Collaborator.\n \n+If you are the first Collaborator to approve a pull request that has no CI yet,\n+please start one (see [testing and CI](#testing-and-ci) for further information\n+on how to do that) and post the link to the CI in the PR. Please also start a\n+new CI in case the PR creator pushed new code since the last CI run (due to\n+e.g., an addressed review comment or a rebase).\n+\n+In case there are already enough approvals (`LGTM`), a CI run, and the PR is\n+open longer than the minimum waiting time without any open comments, please do\n+not (only) add another approval. Instead go ahead and land the PR after checking\n+the CI outcome.\n+\n+### Consensus Seeking\n+\n+If there is no disagreement amongst Collaborators, a pull request should be\n+landed given appropriate review, a green CI, and the minimum\n+[waiting time](#waiting-for-approvals) for a PR. If it is still awaiting the\n+[minimum time to land](#waiting-for-approvals), please add the `author-ready`\n+label to it so it is obvious that the PR can land as soon as the time ends.\n+\n+Where there is discussion amongst Collaborators, consensus should be sought if\n+possible. The lack of consensus may indicate the need to elevate discussion to\n+the TSC for resolution.\n+\n If any Collaborator objects to a change *without giving any additional\n explanation or context*, and the objecting Collaborator fails to respond to\n explicit requests for explanation or context within a reasonable period of\n time, the objection may be dismissed. Note that this does not apply to\n objections that are explained.\n \n-For non-breaking changes, if there is no disagreement amongst\n-Collaborators, a pull request may be landed given appropriate review.\n-Where there is discussion amongst Collaborators, consensus should be\n-sought if possible. The lack of consensus may indicate the need to\n-elevate discussion to the TSC for resolution (see below).\n-\n-Breaking changes (that is, pull requests that require an increase in\n-the major version number, known as `semver-major` changes) must be\n-[elevated for review by the TSC](#involving-the-tsc).\n-This does not necessarily mean that the PR must be put onto the TSC meeting\n-agenda. If multiple TSC members approve (`LGTM`) the PR and no Collaborators\n-oppose the PR, it can be landed. Where there is disagreement among TSC members\n-or objections from one or more Collaborators, `semver-major` pull requests\n-should be put on the TSC meeting agenda.\n+Note that breaking changes (that is, pull requests that require an increase in\n+the major version number, known as `semver-major` changes) must be [elevated for\n+review by the TSC](#involving-the-tsc). This does not necessarily mean that the\n+PR must be put onto the TSC meeting agenda. If multiple TSC members approve\n+(`LGTM`) the PR and no Collaborators oppose the PR, it should be landed. Where\n+there is disagreement among TSC members or objections from one or more\n+Collaborators, `semver-major` pull requests may be put on the TSC meeting\n+agenda.\n \n #### Helpful resources\n \n@@ -147,10 +191,10 @@ CI testing is done.\n All bugfixes require a test case which demonstrates the defect. The\n test should *fail* before the change, and *pass* after the change.\n \n-All pull requests that modify executable code should be subjected to\n-continuous integration tests on the\n-[project CI server](https://ci.nodejs.org/).\n-The pull request should have a CI status indicator if possible.\n+All pull requests that modify executable code should also include a test case\n+and be subjected to continuous integration tests on the\n+[project CI server](https://ci.nodejs.org/). The pull request should have a CI\n+status indicator if possible.\n \n #### Useful CI Jobs\n \n@@ -262,7 +306,7 @@ backward-incompatible way) without a deprecation.\n Exceptions to this rule may be made in the following cases:\n \n * Adding or removing errors thrown or reported by a Public API;\n-* Changing error messages;\n+* Changing error messages for errors without error code;\n * Altering the timing and non-internal side effects of the Public API.\n \n Such changes *must* be handled as semver-major changes but MAY be landed\n@@ -432,28 +476,33 @@ The TSC should serve as the final arbiter where required.\n \n ## Landing Pull Requests\n \n-* Please never use GitHub's green [\"Merge Pull Request\"](https://help.github.com/articles/merging-a-pull-request/#merging-a-pull-request-on-github) button.\n-  * If you do, please force-push removing the merge.\n-  * Reasons for not using the web interface button:\n-    * The merge method will add an unnecessary merge commit.\n-    * The squash & merge method has been known to add metadata to the\n-    commit title (the PR #).\n-    * If more than one author has contributed to the PR, keep the most recent\n-      author when squashing.\n-\n-Review the commit message to ensure that it adheres to the guidelines outlined\n-in the [contributing](./doc/guides/contributing/pull-requests.md#commit-message-guidelines) guide.\n-\n-Add all necessary [metadata](#metadata) to commit messages before landing.\n-\n-See the commit log for examples such as\n-[this one](https://github.com/nodejs/node/commit/b636ba8186) if unsure\n-exactly how to format your commit messages.\n+1. Never use GitHub's green [\"Merge Pull Request\"][] button. Reasons for not\n+   using the web interface button:\n+   * The merge method will add an unnecessary merge commit.\n+   * The squash & merge method has been known to add metadata to the commit\n+     title (the PR #).\n+   * If more than one author has contributed to the PR, keep the most recent\n+     author when squashing.\n+1. Make sure the CI is done and the result is green. If the CI is not green,\n+   check for flaky tests and infrastructure failures. Please check if those were\n+   already reported in the appropriate repository ([node][flaky tests] and\n+   [build](https://github.com/nodejs/build/issues)) or not and open new issues\n+   in case they are not. If no CI was run or the run is outdated because code\n+   was pushed after the last run, please first start a new CI and wait for the\n+   result. If no CI is required, please leave a comment in case none is already\n+   present.\n+1. Review the commit message to ensure that it adheres to the guidelines\n+   outlined in the [contributing][] guide.\n+1. Add all necessary [metadata](#metadata) to commit messages before landing.\n+   See the commit log for examples such as [this\n+   one](https://github.com/nodejs/node/commit/b636ba8186) if unsure exactly how\n+   to format your commit messages.\n \n Additionally:\n-- Double check PRs to make sure the person's _full name_ and email\n+\n+* Double check PRs to make sure the person's _full name_ and email\n   address are correct before merging.\n-- All commits should be self-contained (meaning every commit should pass all\n+* All commits should be self-contained (meaning every commit should pass all\n   tests). This makes it much easier when bisecting to find a breaking change.\n \n ### Using `git-node`\n@@ -542,7 +591,7 @@ This will open a screen like this (in the default shell editor):\n ```text\n pick 6928fc1 crypto: add feature A\n pick 8120c4c add test for feature A\n-pick 51759dc feature B\n+pick 51759dc crypto: feature B\n pick 7d6f433 test for feature B\n \n # Rebase f9456a2..7d6f433 onto f9456a2\n@@ -570,7 +619,7 @@ previous commit:\n ```text\n pick 6928fc1 crypto: add feature A\n fixup 8120c4c add test for feature A\n-pick 51759dc feature B\n+pick 51759dc crypto: feature B\n fixup 7d6f433 test for feature B\n ```\n \n@@ -579,7 +628,7 @@ Replace `pick` with `reword` to change the commit message:\n ```text\n reword 6928fc1 crypto: add feature A\n fixup 8120c4c add test for feature A\n-reword 51759dc feature B\n+reword 51759dc crypto: feature B\n fixup 7d6f433 test for feature B\n ```\n \n@@ -656,12 +705,12 @@ hint: See the 'Note about fast-forwards' in 'git push --help' for details.\n ```\n \n That means a commit has landed since your last rebase against `upstream/master`.\n-To fix this, fetch, rebase, run the tests again (to make sure no interactions\n-between your changes and the new changes cause any problems), and push again:\n+To fix this, pull with rebase from upstream and run the tests again (to make\n+sure no interactions between your changes and the new changes cause any\n+problems), and push again:\n \n ```sh\n-git fetch upstream\n-git rebase upstream/master\n+git pull upstream master --rebase\n make -j4 test\n git push upstream master\n ```\n@@ -715,15 +764,15 @@ and impact of the changes on the code, the risk to ecosystem stability\n incurred by accepting the change, and the expected benefit that landing the\n commit will have for the ecosystem.\n \n-Any collaborator who feels a semver-minor commit should be landed in an LTS\n+Any Collaborator who feels a semver-minor commit should be landed in an LTS\n branch should attach the `lts-agenda` label to the pull request. The LTS WG\n will discuss the issue and, if necessary, will escalate the issue up to the\n TSC for further discussion.\n \n #### How are LTS Branches Managed?\n \n-There are currently two LTS branches: `v6.x` and `v4.x`. Each of these is paired\n-with a staging branch: `v6.x-staging` and `v4.x-staging`.\n+There are multiple LTS branches, e.g. `v8.x` and `v6.x`. Each of these is paired\n+with a staging branch: `v8.x-staging` and `v6.x-staging`.\n \n As commits land on the master branch, they are cherry-picked back to each\n staging branch as appropriate. If the commit applies only to the LTS branch, the\n@@ -732,16 +781,16 @@ pulled from the staging branch into the LTS branch only when a release is\n being prepared and may be pulled into the LTS branch in a different order\n than they were landed in staging.\n \n-Any collaborator may land commits into a staging branch, but only the release\n+Any Collaborator may land commits into a staging branch, but only the release\n team should land commits into the LTS branch while preparing a new\n LTS release.\n \n #### How can I help?\n \n-When you send your pull request, consider including information about\n-whether your change is breaking. If you think your patch can be backported,\n-please feel free to include that information in the PR thread. For more\n-information on backporting, please see the [backporting guide][].\n+When you send your pull request, please include information about whether your\n+change is breaking. If you think your patch can be backported, please include\n+that information in the PR thread or your PR description. For more information\n+on backporting, please see the [backporting guide][].\n \n Several LTS related issue and PR labels have been provided:\n \n@@ -754,7 +803,7 @@ Several LTS related issue and PR labels have been provided:\n * `land-on-v4.x` - tells the release team that the commit should be landed\n   in a future v4.x release\n \n-Any collaborator can attach these labels to any PR/issue. As commits are\n+Any Collaborator can attach these labels to any PR/issue. As commits are\n landed into the staging branches, the `lts-watch-` label will be removed.\n Likewise, as commits are landed in a LTS release, the `land-on-` label will\n be removed.\n@@ -770,6 +819,7 @@ release. This process of making a release will be a collaboration between the\n LTS working group and the Release team.\n \n [backporting guide]: doc/guides/backporting-to-release-lines.md\n+[contributing]: ./doc/guides/contributing/pull-requests.md#commit-message-guidelines\n [Stability Index]: doc/api/documentation.md#stability-index\n [Enhancement Proposal]: https://github.com/nodejs/node-eps\n [`--pending-deprecation`]: doc/api/cli.md#--pending-deprecation\n@@ -780,3 +830,5 @@ LTS working group and the Release team.\n [TSC]: https://github.com/nodejs/TSC\n [node-core-utils-issues]: https://github.com/nodejs/node-core-utils/issues\n [node-core-utils-credentials]: https://github.com/nodejs/node-core-utils#setting-up-credentials\n+[\"Merge Pull Request\"]: https://help.github.com/articles/merging-a-pull-request/#merging-a-pull-request-on-github\n+[flaky tests]: https://github.com/nodejs/node/issues?q=is%3Aopen+is%3Aissue+label%3A%22CI+%2F+flaky+test%22"
        },
        {
            "sha": "421511874f135d3286a115a197bf8779a70f8c37",
            "filename": "doc/onboarding.md",
            "status": "modified",
            "additions": 12,
            "deletions": 8,
            "changes": 20,
            "blob_url": "https://github.com/nodejs/node/blob/1b8746fb9558ca15bd7e514ddc9f4fe052768efe/doc%2Fonboarding.md",
            "raw_url": "https://github.com/nodejs/node/raw/1b8746fb9558ca15bd7e514ddc9f4fe052768efe/doc%2Fonboarding.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fonboarding.md?ref=1b8746fb9558ca15bd7e514ddc9f4fe052768efe",
            "patch": "@@ -91,6 +91,10 @@ onboarding session.\n       `semver-major` label\n     * When adding a `semver-*` label, add a comment explaining why you're adding\n       it. Do it right away so you don't forget!\n+  * Please add the `author-ready` label for PRs where:\n+    * the CI has been started (not necessarily finished),\n+    * no outstanding review comments exist and\n+    * at least one collaborator approved the PR.\n \n * [**See \"Who to CC in issues\"**][who-to-cc]\n   * This will come more naturally over time\n@@ -112,11 +116,11 @@ onboarding session.\n \n * The primary goal is for the codebase to improve.\n * Secondary (but not far off) is for the person submitting code to succeed. A\n-    pull request from a new contributor is an opportunity to grow the community.\n+  pull request from a new contributor is an opportunity to grow the community.\n * Review a bit at a time. Do not overwhelm new contributors.\n   * It is tempting to micro-optimize. Don't succumb to that temptation. We\n-      change V8 often. Techniques that provide improved performance today may be\n-      unnecessary in the future.\n+    change V8 often. Techniques that provide improved performance today may be\n+    unnecessary in the future.\n * Be aware: Your opinion carries a lot of weight!\n * Nits (requests for small changes that are not essential) are fine, but try to\n   avoid stalling the pull request.\n@@ -127,15 +131,15 @@ onboarding session.\n   by tools but are not, consider implementing the necessary tooling.\n * Minimum wait for comments time\n   * There is a minimum waiting time which we try to respect for non-trivial\n-      changes so that people who may have important input in such a distributed\n-      project are able to respond.\n+    changes so that people who may have important input in such a distributed\n+    project are able to respond.\n   * For non-trivial changes, leave the pull request open for at least 48 hours\n-      (72 hours on a weekend).\n+    (72 hours on a weekend).\n   * If a pull request is abandoned, check if they'd mind if you took it over\n-      (especially if it just has nits left).\n+    (especially if it just has nits left).\n * Approving a change\n   * Collaborators indicate that they have reviewed and approve of the changes in\n-      a pull request using Github’s approval interface\n+    a pull request using Github’s approval interface\n   * Some people like to comment `LGTM` (“Looks Good To Me”)\n   * You have the authority to approve any other collaborator’s work.\n   * You cannot approve your own pull requests."
        }
    ],
    "stats": {
        "total": 214,
        "additions": 135,
        "deletions": 79
    }
}