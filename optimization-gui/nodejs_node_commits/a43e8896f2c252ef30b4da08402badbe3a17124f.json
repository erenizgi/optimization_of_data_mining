{
    "author": "willhayslett",
    "message": "doc, src: sort + fill up cli options and env vars\n\n* Alphabetize the command line options and environment\n  variables in doc/api/cli.md for consistency and readability.\n\n* Update doc/api/cli.md to include command line options\n  being printed in the `node.PrintHelp()` function in src/node.cc\n  but weren't otherwise documented in the cli spec. Options added\n  include:\n\n  --napi-modules\n  --v8-pool-size=num\n  --experimental-modules\n  --experimental-vm-modules\n\n* ASCII sort the node man page command line options.\n  This change brings sort order consistency between the\n  cli options displayed in doc/node.1 and the cli options\n  enumerated in other areas of the project.\n\n  Also rearrange the language for `--use-bundled-ca`, `--use-openssl-ca`\n  to correspond with the order of the options as displayed.\n\n* Update `node.PrintHelp()` function to return command line options\n  and environment variables sorted in ASCII order. Additionally,\n  add missing options as sourced from doc/api/cli.md. Options\n  added include `--`, `--help` and the `NODE_PRESERVE_SYMLINKS`\n  environment variable.\n\n  Also update the comments in the `node.PrintHelp()` method\n  to C++ style.\n\n* Create tests to validate that the newly ASCII sorted\n  cli options in the `node.PrintHelp()` function are being\n  returned according to build configurations as expected.\n\nPR-URL: https://github.com/nodejs/node/pull/19878\nRefs: https://github.com/nodejs/node/issues/19814\nReviewed-By: Vse Mozhet Byt <vsemozhetbyt@gmail.com>\nReviewed-By: Khaidi Chu <i@2333.moe>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "a43e8896f2c252ef30b4da08402badbe3a17124f",
    "files": [
        {
            "sha": "ed18c69c894004b8cec70686349c3290021d4265",
            "filename": "doc/api/cli.md",
            "status": "modified",
            "additions": 259,
            "deletions": 194,
            "changes": 453,
            "blob_url": "https://github.com/nodejs/node/blob/a43e8896f2c252ef30b4da08402badbe3a17124f/doc%2Fapi%2Fcli.md",
            "raw_url": "https://github.com/nodejs/node/raw/a43e8896f2c252ef30b4da08402badbe3a17124f/doc%2Fapi%2Fcli.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fcli.md?ref=a43e8896f2c252ef30b4da08402badbe3a17124f",
            "patch": "@@ -24,95 +24,79 @@ _For more info about `node debug`, please see the [debugger][] documentation._\n \n ## Options\n \n-### `-v`, `--version`\n+### `-`\n <!-- YAML\n-added: v0.1.3\n+added: v8.0.0\n -->\n \n-Print node's version.\n+Alias for stdin, analogous to the use of - in other command line utilities,\n+meaning that the script will be read from stdin, and the rest of the options\n+are passed to that script.\n \n \n-### `-h`, `--help`\n+### `--`\n <!-- YAML\n-added: v0.1.3\n+added: v6.11.0\n -->\n \n-Print node command line options.\n-The output of this option is less detailed than this document.\n+Indicate the end of node options. Pass the rest of the arguments to the script.\n+If no script filename or eval/print script is supplied prior to this, then\n+the next argument will be used as a script filename.\n \n \n-### `-e`, `--eval \"script\"`\n+### `--abort-on-uncaught-exception`\n <!-- YAML\n-added: v0.5.2\n-changes:\n-  - version: v5.11.0\n-    pr-url: https://github.com/nodejs/node/pull/5348\n-    description: Built-in libraries are now available as predefined variables.\n+added: v0.10\n -->\n \n-Evaluate the following argument as JavaScript. The modules which are\n-predefined in the REPL can also be used in `script`.\n+Aborting instead of exiting causes a core file to be generated for post-mortem\n+analysis using a debugger (such as `lldb`, `gdb`, and `mdb`).\n \n-On Windows, using `cmd.exe` a single quote will not work correctly because it\n-only recognizes double `\"` for quoting. In Powershell or Git bash, both `'`\n-and `\"` are usable.\n+If this flag is passed, the behavior can still be set to not abort through\n+[`process.setUncaughtExceptionCaptureCallback()`][] (and through usage of the\n+`domain` module that uses it).\n \n \n-### `-p`, `--print \"script\"`\n+### `--enable-fips`\n <!-- YAML\n-added: v0.6.4\n-changes:\n-  - version: v5.11.0\n-    pr-url: https://github.com/nodejs/node/pull/5348\n-    description: Built-in libraries are now available as predefined variables.\n+added: v6.0.0\n -->\n \n-Identical to `-e` but prints the result.\n+Enable FIPS-compliant crypto at startup. (Requires Node.js to be built with\n+`./configure --openssl-fips`)\n \n \n-### `-c`, `--check`\n+### `--experimental-modules`\n <!-- YAML\n-added:\n-  - v5.0.0\n-  - v4.2.0\n-changes:\n-  - version: REPLACEME\n-    pr-url: https://github.com/nodejs/node/pull/19600\n-    description: The `--require` option is now supported when checking a file.\n+added: v8.5.0\n -->\n \n-Syntax check the script without executing.\n+Enable experimental ES module support and caching modules.\n \n \n-### `-i`, `--interactive`\n+### `--experimental-vm-modules`\n <!-- YAML\n-added: v0.7.7\n+added: v9.6.0\n -->\n \n-Opens the REPL even if stdin does not appear to be a terminal.\n+Enable experimental ES Module support in the `vm` module.\n \n \n-### `-r`, `--require module`\n+### `--force-fips`\n <!-- YAML\n-added: v1.6.0\n+added: v6.0.0\n -->\n \n-Preload the specified module at startup.\n-\n-Follows `require()`'s module resolution\n-rules. `module` may be either a path to a file, or a node module name.\n+Force FIPS-compliant crypto on startup. (Cannot be disabled from script code.)\n+(Same requirements as `--enable-fips`)\n \n \n-### `--inspect[=[host:]port]`\n+### `--icu-data-dir=file`\n <!-- YAML\n-added: v6.3.0\n+added: v0.11.15\n -->\n \n-Activate inspector on host:port. Default is 127.0.0.1:9229.\n-\n-V8 inspector integration allows tools such as Chrome DevTools and IDEs to debug\n-and profile Node.js instances. The tools attach to Node.js instances via a\n-tcp port and communicate using the [Chrome Debugging Protocol][].\n+Specify ICU data load path. (overrides `NODE_ICU_DATA`)\n \n \n ### `--inspect-brk[=[host:]port]`\n@@ -135,6 +119,27 @@ Useful when activating the inspector by sending the `SIGUSR1` signal.\n Default host is 127.0.0.1.\n \n \n+### `--inspect[=[host:]port]`\n+<!-- YAML\n+added: v6.3.0\n+-->\n+\n+Activate inspector on host:port. Default is 127.0.0.1:9229.\n+\n+V8 inspector integration allows tools such as Chrome DevTools and IDEs to debug\n+and profile Node.js instances. The tools attach to Node.js instances via a\n+tcp port and communicate using the [Chrome Debugging Protocol][].\n+\n+\n+### `--napi-modules`\n+<!-- YAML\n+added: v7.10.0\n+-->\n+\n+Enable loading native modules compiled with the ABI-stable Node.js API (N-API)\n+(experimental).\n+\n+\n ### `--no-deprecation`\n <!-- YAML\n added: v0.8.0\n@@ -143,20 +148,32 @@ added: v0.8.0\n Silence deprecation warnings.\n \n \n-### `--trace-deprecation`\n+### `--no-force-async-hooks-checks`\n <!-- YAML\n-added: v0.8.0\n+added: v9.0.0\n -->\n \n-Print stack traces for deprecations.\n+Disables runtime checks for `async_hooks`. These will still be enabled\n+dynamically when `async_hooks` is enabled.\n \n \n-### `--throw-deprecation`\n+### `--no-warnings`\n <!-- YAML\n-added: v0.11.14\n+added: v6.0.0\n -->\n \n-Throw errors for deprecations.\n+Silence all process warnings (including deprecations).\n+\n+\n+### `--openssl-config=file`\n+<!-- YAML\n+added: v6.9.0\n+-->\n+\n+Load an OpenSSL configuration file on startup. Among other uses, this can be\n+used to enable FIPS-compliant crypto if Node.js is built with\n+`./configure --openssl-fips`.\n+\n \n ### `--pending-deprecation`\n <!-- YAML\n@@ -172,31 +189,55 @@ unless either the `--pending-deprecation` command line flag, or the\n are used to provide a kind of selective \"early warning\" mechanism that\n developers may leverage to detect deprecated API usage.\n \n-### `--no-warnings`\n+\n+### `--preserve-symlinks`\n <!-- YAML\n-added: v6.0.0\n+added: v6.3.0\n -->\n \n-Silence all process warnings (including deprecations).\n+Instructs the module loader to preserve symbolic links when resolving and\n+caching modules.\n \n-### `--abort-on-uncaught-exception`\n-<!-- YAML\n-added: v0.10\n--->\n+By default, when Node.js loads a module from a path that is symbolically linked\n+to a different on-disk location, Node.js will dereference the link and use the\n+actual on-disk \"real path\" of the module as both an identifier and as a root\n+path to locate other dependency modules. In most cases, this default behavior\n+is acceptable. However, when using symbolically linked peer dependencies, as\n+illustrated in the example below, the default behavior causes an exception to\n+be thrown if `moduleA` attempts to require `moduleB` as a peer dependency:\n \n-Aborting instead of exiting causes a core file to be generated for post-mortem\n-analysis using a debugger (such as `lldb`, `gdb`, and `mdb`).\n+```text\n+{appDir}\n+ ├── app\n+ │   ├── index.js\n+ │   └── node_modules\n+ │       ├── moduleA -> {appDir}/moduleA\n+ │       └── moduleB\n+ │           ├── index.js\n+ │           └── package.json\n+ └── moduleA\n+     ├── index.js\n+     └── package.json\n+```\n \n-If this flag is passed, the behavior can still be set to not abort through\n-[`process.setUncaughtExceptionCaptureCallback()`][] (and through usage of the\n-`domain` module that uses it).\n+The `--preserve-symlinks` command line flag instructs Node.js to use the\n+symlink path for modules as opposed to the real path, allowing symbolically\n+linked peer dependencies to be found.\n \n-### `--trace-warnings`\n+Note, however, that using `--preserve-symlinks` can have other side effects.\n+Specifically, symbolically linked *native* modules can fail to load if those\n+are linked from more than one location in the dependency tree (Node.js would\n+see those as two separate modules and would attempt to load the module multiple\n+times, causing an exception to be thrown).\n+\n+\n+### `--prof-process`\n <!-- YAML\n-added: v6.0.0\n+added: v5.2.0\n -->\n \n-Print stack traces for process warnings (including deprecations).\n+Process V8 profiler output generated using the V8 option `--prof`.\n+\n \n ### `--redirect-warnings=file`\n <!-- YAML\n@@ -208,28 +249,31 @@ file will be created if it does not exist, and will be appended to if it does.\n If an error occurs while attempting to write the warning to the file, the\n warning will be written to stderr instead.\n \n-### `--trace-sync-io`\n+\n+### `--throw-deprecation`\n <!-- YAML\n-added: v2.1.0\n+added: v0.11.14\n -->\n \n-Prints a stack trace whenever synchronous I/O is detected after the first turn\n-of the event loop.\n+Throw errors for deprecations.\n \n-### `--no-force-async-hooks-checks`\n+\n+### `--tls-cipher-list=list`\n <!-- YAML\n-added: v9.0.0\n+added: v4.0.0\n -->\n \n-Disables runtime checks for `async_hooks`. These will still be enabled\n-dynamically when `async_hooks` is enabled.\n+Specify an alternative default TLS cipher list. (Requires Node.js to be built\n+with crypto support. (Default))\n \n-### `--trace-events-enabled`\n+\n+### `--trace-deprecation`\n <!-- YAML\n-added: v7.7.0\n+added: v0.8.0\n -->\n \n-Enables the collection of trace event tracing information.\n+Print stack traces for deprecations.\n+\n \n ### `--trace-event-categories`\n <!-- YAML\n@@ -239,6 +283,7 @@ added: v7.7.0\n A comma separated list of categories that should be traced when trace event\n tracing is enabled using `--trace-events-enabled`.\n \n+\n ### `--trace-event-file-pattern`\n <!-- YAML\n added: v9.8.0\n@@ -247,54 +292,31 @@ added: v9.8.0\n Template string specifying the filepath for the trace event data, it\n supports `${rotation}` and `${pid}`.\n \n-### `--zero-fill-buffers`\n+\n+### `--trace-events-enabled`\n <!-- YAML\n-added: v6.0.0\n+added: v7.7.0\n -->\n \n-Automatically zero-fills all newly allocated [Buffer][] and [SlowBuffer][]\n-instances.\n+Enables the collection of trace event tracing information.\n \n \n-### `--preserve-symlinks`\n+### `--trace-sync-io`\n <!-- YAML\n-added: v6.3.0\n+added: v2.1.0\n -->\n \n-Instructs the module loader to preserve symbolic links when resolving and\n-caching modules.\n+Prints a stack trace whenever synchronous I/O is detected after the first turn\n+of the event loop.\n \n-By default, when Node.js loads a module from a path that is symbolically linked\n-to a different on-disk location, Node.js will dereference the link and use the\n-actual on-disk \"real path\" of the module as both an identifier and as a root\n-path to locate other dependency modules. In most cases, this default behavior\n-is acceptable. However, when using symbolically linked peer dependencies, as\n-illustrated in the example below, the default behavior causes an exception to\n-be thrown if `moduleA` attempts to require `moduleB` as a peer dependency:\n \n-```text\n-{appDir}\n- ├── app\n- │   ├── index.js\n- │   └── node_modules\n- │       ├── moduleA -> {appDir}/moduleA\n- │       └── moduleB\n- │           ├── index.js\n- │           └── package.json\n- └── moduleA\n-     ├── index.js\n-     └── package.json\n-```\n+### `--trace-warnings`\n+<!-- YAML\n+added: v6.0.0\n+-->\n \n-The `--preserve-symlinks` command line flag instructs Node.js to use the\n-symlink path for modules as opposed to the real path, allowing symbolically\n-linked peer dependencies to be found.\n+Print stack traces for process warnings (including deprecations).\n \n-Note, however, that using `--preserve-symlinks` can have other side effects.\n-Specifically, symbolically linked *native* modules can fail to load if those\n-are linked from more than one location in the dependency tree (Node.js would\n-see those as two separate modules and would attempt to load the module multiple\n-times, causing an exception to be thrown).\n \n ### `--track-heap-objects`\n <!-- YAML\n@@ -304,12 +326,25 @@ added: v2.4.0\n Track heap object allocations for heap snapshots.\n \n \n-### `--prof-process`\n+### `--use-bundled-ca`, `--use-openssl-ca`\n <!-- YAML\n-added: v5.2.0\n+added: v6.11.0\n -->\n \n-Process V8 profiler output generated using the V8 option `--prof`.\n+Use bundled Mozilla CA store as supplied by current Node.js version\n+or use OpenSSL's default CA store. The default store is selectable\n+at build-time.\n+\n+The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store\n+that is fixed at release time. It is identical on all supported platforms.\n+\n+Using OpenSSL store allows for external modifications of the store. For most\n+Linux and BSD distributions, this store is maintained by the distribution\n+maintainers and system administrators. OpenSSL CA store location is dependent on\n+configuration of the OpenSSL library but this can be altered at runtime using\n+environment variables.\n+\n+See `SSL_CERT_DIR` and `SSL_CERT_FILE`.\n \n \n ### `--v8-options`\n@@ -324,87 +359,107 @@ underscores (`_`).\n \n For example, `--stack-trace-limit` is equivalent to `--stack_trace_limit`.\n \n-### `--tls-cipher-list=list`\n+\n+### `--v8-pool-size=num`\n <!-- YAML\n-added: v4.0.0\n+added: v5.10.0\n -->\n \n-Specify an alternative default TLS cipher list. (Requires Node.js to be built\n-with crypto support. (Default))\n+Set V8's thread pool size which will be used to allocate background jobs.\n \n+If set to `0` then V8 will choose an appropriate size of the thread pool based\n+on the number of online processors.\n \n-### `--enable-fips`\n+If the value provided is larger than V8's maximum, then the largest value\n+will be chosen.\n+\n+\n+### `--zero-fill-buffers`\n <!-- YAML\n added: v6.0.0\n -->\n \n-Enable FIPS-compliant crypto at startup. (Requires Node.js to be built with\n-`./configure --openssl-fips`)\n+Automatically zero-fills all newly allocated [Buffer][] and [SlowBuffer][]\n+instances.\n \n \n-### `--force-fips`\n+### `-c`, `--check`\n <!-- YAML\n-added: v6.0.0\n+added:\n+  - v5.0.0\n+  - v4.2.0\n+changes:\n+  - version: REPLACEME\n+    pr-url: https://github.com/nodejs/node/pull/19600\n+    description: The `--require` option is now supported when checking a file.\n -->\n \n-Force FIPS-compliant crypto on startup. (Cannot be disabled from script code.)\n-(Same requirements as `--enable-fips`)\n+Syntax check the script without executing.\n \n \n-### `--openssl-config=file`\n+### `-e`, `--eval \"script\"`\n <!-- YAML\n-added: v6.9.0\n+added: v0.5.2\n+changes:\n+  - version: v5.11.0\n+    pr-url: https://github.com/nodejs/node/pull/5348\n+    description: Built-in libraries are now available as predefined variables.\n -->\n \n-Load an OpenSSL configuration file on startup. Among other uses, this can be\n-used to enable FIPS-compliant crypto if Node.js is built with\n-`./configure --openssl-fips`.\n+Evaluate the following argument as JavaScript. The modules which are\n+predefined in the REPL can also be used in `script`.\n \n-### `--use-openssl-ca`, `--use-bundled-ca`\n+On Windows, using `cmd.exe` a single quote will not work correctly because it\n+only recognizes double `\"` for quoting. In Powershell or Git bash, both `'`\n+and `\"` are usable.\n+\n+\n+### `-h`, `--help`\n <!-- YAML\n-added: v6.11.0\n+added: v0.1.3\n -->\n \n-Use OpenSSL's default CA store or use bundled Mozilla CA store as supplied by\n-current Node.js version. The default store is selectable at build-time.\n+Print node command line options.\n+The output of this option is less detailed than this document.\n \n-Using OpenSSL store allows for external modifications of the store. For most\n-Linux and BSD distributions, this store is maintained by the distribution\n-maintainers and system administrators. OpenSSL CA store location is dependent on\n-configuration of the OpenSSL library but this can be altered at runtime using\n-environment variables.\n \n-The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store\n-that is fixed at release time. It is identical on all supported platforms.\n+### `-i`, `--interactive`\n+<!-- YAML\n+added: v0.7.7\n+-->\n \n-See `SSL_CERT_DIR` and `SSL_CERT_FILE`.\n+Opens the REPL even if stdin does not appear to be a terminal.\n \n-### `--icu-data-dir=file`\n+\n+### `-p`, `--print \"script\"`\n <!-- YAML\n-added: v0.11.15\n+added: v0.6.4\n+changes:\n+  - version: v5.11.0\n+    pr-url: https://github.com/nodejs/node/pull/5348\n+    description: Built-in libraries are now available as predefined variables.\n -->\n \n-Specify ICU data load path. (overrides `NODE_ICU_DATA`)\n+Identical to `-e` but prints the result.\n \n \n-### `-`\n+### `-r`, `--require module`\n <!-- YAML\n-added: v8.0.0\n+added: v1.6.0\n -->\n \n-Alias for stdin, analogous to the use of - in other command line utilities,\n-meaning that the script will be read from stdin, and the rest of the options\n-are passed to that script.\n+Preload the specified module at startup.\n+\n+Follows `require()`'s module resolution\n+rules. `module` may be either a path to a file, or a node module name.\n \n \n-### `--`\n+### `-v`, `--version`\n <!-- YAML\n-added: v6.11.0\n+added: v0.1.3\n -->\n \n-Indicate the end of node options. Pass the rest of the arguments to the script.\n-If no script filename or eval/print script is supplied prior to this, then\n-the next argument will be used as a script filename.\n+Print node's version.\n \n ## Environment Variables\n \n@@ -416,22 +471,27 @@ added: v0.1.32\n `','`-separated list of core modules that should print debug information.\n \n \n-### `NODE_PATH=path[:…]`\n+### `NODE_DISABLE_COLORS=1`\n <!-- YAML\n-added: v0.1.32\n+added: v0.3.0\n -->\n \n-`':'`-separated list of directories prefixed to the module search path.\n-\n-On Windows, this is a `';'`-separated list instead.\n+When set to `1` colors will not be used in the REPL.\n \n \n-### `NODE_DISABLE_COLORS=1`\n+### `NODE_EXTRA_CA_CERTS=file`\n <!-- YAML\n-added: v0.3.0\n+added: v7.3.0\n -->\n \n-When set to `1` colors will not be used in the REPL.\n+When set, the well known \"root\" CAs (like VeriSign) will be extended with the\n+extra certificates in `file`. The file should consist of one or more trusted\n+certificates in PEM format. A message will be emitted (once) with\n+[`process.emitWarning()`][emit_warning] if the file is missing or\n+malformed, but any errors are otherwise ignored.\n+\n+Note that neither the well known nor extra certificates are used when the `ca`\n+options property is explicitly specified for a TLS or HTTPS client or server.\n \n \n ### `NODE_ICU_DATA=file`\n@@ -442,13 +502,15 @@ added: v0.11.15\n Data path for ICU (Intl object) data. Will extend linked-in data when compiled\n with small-icu support.\n \n+\n ### `NODE_NO_WARNINGS=1`\n <!-- YAML\n added: v6.11.0\n -->\n \n When set to `1`, process warnings are silenced.\n \n+\n ### `NODE_OPTIONS=options...`\n <!-- YAML\n added: v8.0.0\n@@ -492,6 +554,17 @@ V8 options that are allowed are:\n - `--perf-prof`\n - `--stack-trace-limit`\n \n+\n+### `NODE_PATH=path[:…]`\n+<!-- YAML\n+added: v0.1.32\n+-->\n+\n+`':'`-separated list of directories prefixed to the module search path.\n+\n+On Windows, this is a `';'`-separated list instead.\n+\n+\n ### `NODE_PENDING_DEPRECATION=1`\n <!-- YAML\n added: v8.0.0\n@@ -506,6 +579,7 @@ unless either the `--pending-deprecation` command line flag, or the\n are used to provide a kind of selective \"early warning\" mechanism that\n developers may leverage to detect deprecated API usage.\n \n+\n ### `NODE_PRESERVE_SYMLINKS=1`\n <!-- YAML\n added: v7.1.0\n@@ -514,29 +588,28 @@ added: v7.1.0\n When set to `1`, instructs the module loader to preserve symbolic links when\n resolving and caching modules.\n \n-### `NODE_REPL_HISTORY=file`\n+\n+### `NODE_REDIRECT_WARNINGS=file`\n <!-- YAML\n-added: v3.0.0\n+added: v8.0.0\n -->\n \n-Path to the file used to store the persistent REPL history. The default path is\n-`~/.node_repl_history`, which is overridden by this variable. Setting the value\n-to an empty string (`''` or `' '`) disables persistent REPL history.\n+When set, process warnings will be emitted to the given file instead of\n+printing to stderr. The file will be created if it does not exist, and will be\n+appended to if it does. If an error occurs while attempting to write the\n+warning to the file, the warning will be written to stderr instead. This is\n+equivalent to using the `--redirect-warnings=file` command-line flag.\n \n \n-### `NODE_EXTRA_CA_CERTS=file`\n+### `NODE_REPL_HISTORY=file`\n <!-- YAML\n-added: v7.3.0\n+added: v3.0.0\n -->\n \n-When set, the well known \"root\" CAs (like VeriSign) will be extended with the\n-extra certificates in `file`. The file should consist of one or more trusted\n-certificates in PEM format. A message will be emitted (once) with\n-[`process.emitWarning()`][emit_warning] if the file is missing or\n-malformed, but any errors are otherwise ignored.\n+Path to the file used to store the persistent REPL history. The default path is\n+`~/.node_repl_history`, which is overridden by this variable. Setting the value\n+to an empty string (`''` or `' '`) disables persistent REPL history.\n \n-Note that neither the well known nor extra certificates are used when the `ca`\n-options property is explicitly specified for a TLS or HTTPS client or server.\n \n ### `OPENSSL_CONF=file`\n <!-- YAML\n@@ -550,6 +623,7 @@ used to enable FIPS-compliant crypto if Node.js is built with `./configure\n If the [`--openssl-config`][] command line option is used, the environment\n variable is ignored.\n \n+\n ### `SSL_CERT_DIR=dir`\n <!-- YAML\n added: v7.7.0\n@@ -562,6 +636,7 @@ Be aware that unless the child environment is explicitly set, this environment\n variable will be inherited by any child processes, and if they use OpenSSL, it\n may cause them to trust the same CAs as node.\n \n+\n ### `SSL_CERT_FILE=file`\n <!-- YAML\n added: v7.7.0\n@@ -574,16 +649,6 @@ Be aware that unless the child environment is explicitly set, this environment\n variable will be inherited by any child processes, and if they use OpenSSL, it\n may cause them to trust the same CAs as node.\n \n-### `NODE_REDIRECT_WARNINGS=file`\n-<!-- YAML\n-added: v8.0.0\n--->\n-\n-When set, process warnings will be emitted to the given file instead of\n-printing to stderr. The file will be created if it does not exist, and will be\n-appended to if it does. If an error occurs while attempting to write the\n-warning to the file, the warning will be written to stderr instead. This is\n-equivalent to using the `--redirect-warnings=file` command-line flag.\n \n ### `UV_THREADPOOL_SIZE=size`\n "
        },
        {
            "sha": "e1b0bf03265ed998bbbf24a481796c4916e423fd",
            "filename": "doc/node.1",
            "status": "modified",
            "additions": 119,
            "deletions": 120,
            "changes": 239,
            "blob_url": "https://github.com/nodejs/node/blob/a43e8896f2c252ef30b4da08402badbe3a17124f/doc%2Fnode.1",
            "raw_url": "https://github.com/nodejs/node/raw/a43e8896f2c252ef30b4da08402badbe3a17124f/doc%2Fnode.1",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fnode.1?ref=a43e8896f2c252ef30b4da08402badbe3a17124f",
            "patch": "@@ -61,46 +61,41 @@ without arguments to start a REPL.\n .\n .Sh OPTIONS\n .Bl -tag -width 6n\n-.It Fl v , Fl -version\n-Print node's version.\n+.It Sy \\-\n+Alias for stdin, analogous to the use of - in other command-line utilities.\n+The executed script is read from stdin, and remaining arguments are passed to the script.\n .\n-.It Fl h , Fl -help\n-Print node command line options.\n-The output of this option is less detailed than this document.\n+.It Fl \\-\n+Indicate the end of node options.\n+Pass the rest of the arguments to the script.\n+.Pp\n+If no script filename or eval/print script is supplied prior to this, then\n+the next argument will be used as a script filename.\n .\n-.It Fl e , Fl -eval Ar string\n-Evaluate\n-.Ar string\n-as JavaScript.\n+.It Fl -abort-on-uncaught-exception\n+Aborting instead of exiting causes a core file to be generated for analysis.\n .\n-.It Fl p , Fl -print Ar string\n-Identical to\n-.Fl e ,\n-but prints the result.\n+.It Fl -enable-fips\n+Enable FIPS-compliant crypto at startup.\n+Requires Node.js to be built with\n+.Sy ./configure --openssl-fips .\n .\n-.It Fl c , Fl -check\n-Check the script's syntax without executing it.\n-Exits with an error code if script is invalid.\n+.It Fl \\-experimental-modules\n+Enable experimental ES module support and caching modules.\n .\n-.It Fl i , Fl -interactive\n-Open the REPL even if stdin does not appear to be a terminal.\n+.It Fl \\-experimental-vm-modules\n+Enable experimental ES module support in VM module.\n .\n-.It Fl r , Fl -require Ar module\n-Preload the specified\n-.Ar module\n-at startup.\n-Follows `require()`'s module resolution rules.\n-.Ar module\n-may be either a path to a file, or a node module name.\n+.It Fl -force-fips\n+Force FIPS-compliant crypto on startup\n+(Cannot be disabled from script code).\n+Same requirements as\n+.Fl -enable-fips .\n .\n-.It Fl -inspect Ns = Ns Ar [host:]port\n-Activate inspector on\n-.Ar host:port .\n-Default is\n-.Sy 127.0.0.1:9229 .\n-.Pp\n-V8 Inspector integration allows attaching Chrome DevTools and IDEs to Node.js instances for debugging and profiling.\n-It uses the Chrome Debugging Protocol.\n+.It Fl -icu-data-dir Ns = Ns Ar file\n+Specify ICU data load path.\n+Overrides\n+.Ev NODE_ICU_DATA .\n .\n .It Fl -inspect-brk Ns = Ns Ar [host:]port\n Activate inspector on\n@@ -112,45 +107,58 @@ Set the\n .Ar host:port\n to be used when the inspector is activated.\n .\n-.It Fl -no-deprecation\n-Silence deprecation warnings.\n+.It Fl -inspect Ns = Ns Ar [host:]port\n+Activate inspector on\n+.Ar host:port .\n+Default is\n+.Sy 127.0.0.1:9229 .\n+.Pp\n+V8 Inspector integration allows attaching Chrome DevTools and IDEs to Node.js instances for debugging and profiling.\n+It uses the Chrome Debugging Protocol.\n .\n-.It Fl -trace-deprecation\n-Print stack traces for deprecations.\n+.It Fl -napi-modules\n+Enable loading native modules compiled with the ABI-stable Node.js API (N-API)\n+(experimental).\n .\n-.It Fl -throw-deprecation\n-Throw errors for deprecations.\n+.It Fl -no-deprecation\n+Silence deprecation warnings.\n .\n-.It Fl -pending-deprecation\n-Emit pending deprecation warnings.\n+.It Fl -no-force-async-hooks-checks\n+Disable runtime checks for `async_hooks`.\n+These will still be enabled dynamically when `async_hooks` is enabled.\n .\n .It Fl -no-warnings\n Silence all process warnings (including deprecations).\n .\n-.It Fl -napi-modules\n-Enable loading native modules compiled with the ABI-stable Node.js API (N-API)\n-(experimental).\n+.It Fl -openssl-config Ns = Ns Ar file\n+Load an OpenSSL configuration file on startup.\n+Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with\n+.Sy ./configure --openssl-fips .\n .\n-.It Fl -abort-on-uncaught-exception\n-Aborting instead of exiting causes a core file to be generated for analysis.\n+.It Fl -pending-deprecation\n+Emit pending deprecation warnings.\n .\n-.It Fl -trace-warnings\n-Print stack traces for process warnings (including deprecations).\n+.It Fl -preserve-symlinks\n+Instructs the module loader to preserve symbolic links when resolving and caching modules.\n+.\n+.It Fl -prof-process\n+Process V8 profiler output generated using the V8 option\n+.Fl -prof .\n .\n .It Fl -redirect-warnings Ns = Ns Ar file\n Write process warnings to the given\n .Ar file\n instead of printing to stderr.\n .\n-.It Fl -trace-sync-io\n-Print a stack trace whenever synchronous I/O is detected after the first turn of the event loop.\n+.It Fl -throw-deprecation\n+Throw errors for deprecations.\n .\n-.It Fl -no-force-async-hooks-checks\n-Disable runtime checks for `async_hooks`.\n-These will still be enabled dynamically when `async_hooks` is enabled.\n+.It Fl -tls-cipher-list Ns = Ns Ar list\n+Specify an alternative default TLS cipher list.\n+Requires Node.js to be built with crypto support. (Default)\n .\n-.It Fl -trace-events-enabled\n-Enable the collection of trace event tracing information.\n+.It Fl -trace-deprecation\n+Print stack traces for deprecations.\n .\n .It Fl -trace-event-categories Ar categories\n A comma-separated list of categories that should be traced when trace event tracing is enabled using\n@@ -160,18 +168,33 @@ A comma-separated list of categories that should be traced when trace event trac\n Template string specifying the filepath for the trace event data, it\n supports \\fB${rotation}\\fR and \\fB${pid}\\fR.\n .\n-.It Fl -zero-fill-buffers\n-Automatically zero-fills all newly allocated Buffer and SlowBuffer instances.\n+.It Fl -trace-events-enabled\n+Enable the collection of trace event tracing information.\n .\n-.It Fl -preserve-symlinks\n-Instructs the module loader to preserve symbolic links when resolving and caching modules.\n+.It Fl -trace-sync-io\n+Print a stack trace whenever synchronous I/O is detected after the first turn of the event loop.\n+.\n+.It Fl -trace-warnings\n+Print stack traces for process warnings (including deprecations).\n .\n .It Fl -track-heap-objects\n Track heap object allocations for heap snapshots.\n .\n-.It Fl -prof-process\n-Process V8 profiler output generated using the V8 option\n-.Fl -prof .\n+.It Fl -use-bundled\\-ca, Fl -use-openssl-ca\n+Use bundled Mozilla CA store as supplied by current Node.js version or use OpenSSL's default CA store.\n+The default store is selectable at build-time.\n+.Pp\n+The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time.\n+It is identical on all supported platforms.\n+.Pp\n+Using OpenSSL store allows for external modifications of the store.\n+For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators.\n+OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.\n+.Pp\n+See\n+.Ev SSL_CERT_DIR\n+and\n+.Ev SSL_CERT_FILE .\n .\n .It Fl -v8-options\n Print V8 command-line options.\n@@ -188,63 +211,40 @@ Set V8's thread pool size which will be used to allocate background jobs.\n If set to 0 then V8 will choose an appropriate size of the thread pool based on the number of online processors.\n If the value provided is larger than V8's maximum, then the largest value will be chosen.\n .\n-.It Fl -tls-cipher-list Ns = Ns Ar list\n-Specify an alternative default TLS cipher list.\n-Requires Node.js to be built with crypto support. (Default)\n-.\n-.It Fl -enable-fips\n-Enable FIPS-compliant crypto at startup.\n-Requires Node.js to be built with\n-.Sy ./configure --openssl-fips .\n-.\n-.It Fl -force-fips\n-Force FIPS-compliant crypto on startup\n-(Cannot be disabled from script code).\n-Same requirements as\n-.Fl -enable-fips .\n+.It Fl -zero-fill-buffers\n+Automatically zero-fills all newly allocated Buffer and SlowBuffer instances.\n .\n-.It Fl -openssl-config Ns = Ns Ar file\n-Load an OpenSSL configuration file on startup.\n-Among other uses, this can be used to enable FIPS-compliant crypto if Node.js is built with\n-.Sy ./configure --openssl-fips .\n+.It Fl c , Fl -check\n+Check the script's syntax without executing it.\n+Exits with an error code if script is invalid.\n .\n-.It Fl -use-openssl-ca , Fl -use-bundled\\-ca\n-Use OpenSSL's default CA store or use bundled Mozilla CA store as supplied by current Node.js version.\n-The default store is selectable at build-time.\n-.Pp\n-Using OpenSSL store allows for external modifications of the store.\n-For most Linux and BSD distributions, this store is maintained by the distribution maintainers and system administrators.\n-OpenSSL CA store location is dependent on configuration of the OpenSSL library but this can be altered at runtime using environment variables.\n-.Pp\n-The bundled CA store, as supplied by Node.js, is a snapshot of Mozilla CA store that is fixed at release time.\n-It is identical on all supported platforms.\n-.Pp\n-See\n-.Ev SSL_CERT_DIR\n-and\n-.Ev SSL_CERT_FILE .\n+.It Fl e , Fl -eval Ar string\n+Evaluate\n+.Ar string\n+as JavaScript.\n .\n-.It Fl -icu-data-dir Ns = Ns Ar file\n-Specify ICU data load path.\n-Overrides\n-.Ev NODE_ICU_DATA .\n+.It Fl h , Fl -help\n+Print node command line options.\n+The output of this option is less detailed than this document.\n .\n-.It Fl \\-experimental-modules\n-Enable experimental ES module support and caching modules.\n+.It Fl i , Fl -interactive\n+Open the REPL even if stdin does not appear to be a terminal.\n .\n-.It Fl \\-experimental-vm-modules\n-Enable experimental ES module support in VM module.\n+.It Fl p , Fl -print Ar string\n+Identical to\n+.Fl e ,\n+but prints the result.\n .\n-.It Sy \\-\n-Alias for stdin, analogous to the use of - in other command-line utilities.\n-The executed script is read from stdin, and remaining arguments are passed to the script.\n+.It Fl r , Fl -require Ar module\n+Preload the specified\n+.Ar module\n+at startup.\n+Follows `require()`'s module resolution rules.\n+.Ar module\n+may be either a path to a file, or a node module name.\n .\n-.It Fl \\-\n-Indicate the end of node options.\n-Pass the rest of the arguments to the script.\n-.Pp\n-If no script filename or eval/print script is supplied prior to this, then\n-the next argument will be used as a script filename.\n+.It Fl v , Fl -version\n+Print node's version.\n .El\n .\n .\\\" =====================================================================\n@@ -298,6 +298,13 @@ When set to\n .Ar 1 ,\n emit pending deprecation warnings.\n .\n+.It Ev NODE_REDIRECT_WARNINGS Ar file\n+Write process warnings to the given\n+.Ar file\n+instead of printing to stderr.\n+Equivalent to passing\n+.Fl -redirect-warnings Ar file\n+on command-line.\n .It Ev NODE_REPL_HISTORY Ar file\n Path to the\n .Ar file\n@@ -325,14 +332,6 @@ is enabled, this overrides and sets OpenSSL's directory containing trusted certi\n If\n .Fl -use-openssl-ca\n is enabled, this overrides and sets OpenSSL's file containing trusted certificates.\n-.\n-.It Ev NODE_REDIRECT_WARNINGS Ar file\n-Write process warnings to the given\n-.Ar file\n-instead of printing to stderr.\n-Equivalent to passing\n-.Fl -redirect-warnings Ar file\n-on command-line.\n .El\n .\n .\\\"====================================================================="
        },
        {
            "sha": "335764c30256da0ec876090344a78fd0c51e9ea5",
            "filename": "src/node.cc",
            "status": "modified",
            "additions": 100,
            "deletions": 82,
            "changes": 182,
            "blob_url": "https://github.com/nodejs/node/blob/a43e8896f2c252ef30b4da08402badbe3a17124f/src%2Fnode.cc",
            "raw_url": "https://github.com/nodejs/node/raw/a43e8896f2c252ef30b4da08402badbe3a17124f/src%2Fnode.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode.cc?ref=a43e8896f2c252ef30b4da08402badbe3a17124f",
            "patch": "@@ -3445,62 +3445,79 @@ static void PrintHelp() {\n          \"       node inspect script.js [arguments]\\n\"\n          \"\\n\"\n          \"Options:\\n\"\n-         \"  -v, --version              print Node.js version\\n\"\n-         \"  -e, --eval script          evaluate script\\n\"\n-         \"  -p, --print                evaluate script and print result\\n\"\n-         \"  -c, --check                syntax check script without executing\\n\"\n-         \"  -i, --interactive          always enter the REPL even if stdin\\n\"\n-         \"                             does not appear to be a terminal\\n\"\n-         \"  -r, --require              module to preload (option can be \"\n-         \"repeated)\\n\"\n-         \"  -                          script read from stdin (default; \"\n-         \"interactive mode if a tty)\\n\"\n+         \"  -                          script read from stdin (default; \\n\"\n+         \"                             interactive mode if a tty)\\n\"\n+         \"  --                         indicate the end of node options\\n\"\n+         \"  --abort-on-uncaught-exception\\n\"\n+         \"                             aborting instead of exiting causes a\\n\"\n+         \"                             core file to be generated for analysis\\n\"\n+#if HAVE_OPENSSL && NODE_FIPS_MODE\n+         \"  --enable-fips              enable FIPS crypto at startup\\n\"\n+#endif  // NODE_FIPS_MODE && NODE_FIPS_MODE\n+#if defined(NODE_HAVE_I18N_SUPPORT)\n+         \"  --experimental-modules     experimental ES Module support\\n\"\n+         \"                             and caching modules\\n\"\n+         \"  --experimental-vm-modules  experimental ES Module support\\n\"\n+         \"                             in vm module\\n\"\n+#endif  // defined(NODE_HAVE_I18N_SUPPORT)\n+#if HAVE_OPENSSL && NODE_FIPS_MODE\n+         \"  --force-fips               force FIPS crypto (cannot be disabled)\\n\"\n+#endif  // HAVE_OPENSSL && NODE_FIPS_MODE\n+#if defined(NODE_HAVE_I18N_SUPPORT)\n+         \"  --icu-data-dir=dir         set ICU data load path to dir\\n\"\n+         \"                             (overrides NODE_ICU_DATA)\\n\"\n+#if !defined(NODE_HAVE_SMALL_ICU)\n+         \"                             note: linked-in ICU data is present\\n\"\n+#endif\n+#endif  // defined(NODE_HAVE_I18N_SUPPORT)\n #if HAVE_INSPECTOR\n-         \"  --inspect[=[host:]port]    activate inspector on host:port\\n\"\n-         \"                             (default: 127.0.0.1:9229)\\n\"\n          \"  --inspect-brk[=[host:]port]\\n\"\n          \"                             activate inspector on host:port\\n\"\n          \"                             and break at start of user script\\n\"\n          \"  --inspect-port=[host:]port\\n\"\n          \"                             set host:port for inspector\\n\"\n-#endif\n-         \"  --no-deprecation           silence deprecation warnings\\n\"\n-         \"  --trace-deprecation        show stack traces on deprecations\\n\"\n-         \"  --throw-deprecation        throw an exception on deprecations\\n\"\n-         \"  --pending-deprecation      emit pending deprecation warnings\\n\"\n-         \"  --no-warnings              silence all process warnings\\n\"\n+         \"  --inspect[=[host:]port]    activate inspector on host:port\\n\"\n+         \"                             (default: 127.0.0.1:9229)\\n\"\n+#endif  // HAVE_INSPECTOR\n          \"  --napi-modules             load N-API modules (no-op - option\\n\"\n          \"                             kept for compatibility)\\n\"\n-         \"  --abort-on-uncaught-exception\\n\"\n-         \"                             aborting instead of exiting causes a\\n\"\n-         \"                             core file to be generated for analysis\\n\"\n-         \"  --trace-warnings           show stack traces on process warnings\\n\"\n+         \"  --no-deprecation           silence deprecation warnings\\n\"\n+         \"  --no-force-async-hooks-checks\\n\"\n+         \"                             disable checks for async_hooks\\n\"\n+         \"  --no-warnings              silence all process warnings\\n\"\n+#if HAVE_OPENSSL\n+         \"  --openssl-config=file      load OpenSSL configuration from the\\n\"\n+         \"                             specified file (overrides\\n\"\n+         \"                             OPENSSL_CONF)\\n\"\n+#endif  // HAVE_OPENSSL\n+         \"  --pending-deprecation      emit pending deprecation warnings\\n\"\n+#if defined(NODE_HAVE_I18N_SUPPORT)\n+         \"  --preserve-symlinks        preserve symbolic links when resolving\\n\"\n+#endif\n+         \"  --prof-process             process v8 profiler output generated\\n\"\n+         \"                             using --prof\\n\"\n          \"  --redirect-warnings=file\\n\"\n          \"                             write warnings to file instead of\\n\"\n          \"                             stderr\\n\"\n-         \"  --trace-sync-io            show stack trace when use of sync IO\\n\"\n-         \"                             is detected after the first tick\\n\"\n-         \"  --no-force-async-hooks-checks\\n\"\n-         \"                             disable checks for async_hooks\\n\"\n-         \"  --trace-events-enabled     track trace events\\n\"\n+         \"  --throw-deprecation        throw an exception on deprecations\\n\"\n+#if HAVE_OPENSSL\n+         \"  --tls-cipher-list=val      use an alternative default TLS cipher \"\n+         \"list\\n\"\n+#endif  // HAVE_OPENSSL\n+         \"  --trace-deprecation        show stack traces on deprecations\\n\"\n          \"  --trace-event-categories   comma separated list of trace event\\n\"\n          \"                             categories to record\\n\"\n          \"  --trace-event-file-pattern Template string specifying the\\n\"\n          \"                             filepath for the trace-events data, it\\n\"\n          \"                             supports ${rotation} and ${pid}\\n\"\n          \"                             log-rotation id. %%2$u is the pid.\\n\"\n+         \"  --trace-events-enabled     track trace events\\n\"\n+         \"  --trace-sync-io            show stack trace when use of sync IO\\n\"\n+         \"                             is detected after the first tick\\n\"\n+         \"  --trace-warnings           show stack traces on process warnings\\n\"\n          \"  --track-heap-objects       track heap object allocations for heap \"\n          \"snapshots\\n\"\n-         \"  --prof-process             process v8 profiler output generated\\n\"\n-         \"                             using --prof\\n\"\n-         \"  --zero-fill-buffers        automatically zero-fill all newly \"\n-         \"allocated\\n\"\n-         \"                             Buffer and SlowBuffer instances\\n\"\n-         \"  --v8-options               print v8 command line options\\n\"\n-         \"  --v8-pool-size=num         set v8's thread pool size\\n\"\n #if HAVE_OPENSSL\n-         \"  --tls-cipher-list=val      use an alternative default TLS cipher \"\n-         \"list\\n\"\n          \"  --use-bundled-ca           use bundled CA store\"\n #if !defined(NODE_OPENSSL_CERT_STORE)\n          \" (default)\"\n@@ -3510,27 +3527,23 @@ static void PrintHelp() {\n #if defined(NODE_OPENSSL_CERT_STORE)\n          \" (default)\"\n #endif\n+#endif  // HAVE_OPENSSL\n          \"\\n\"\n-#if NODE_FIPS_MODE\n-         \"  --enable-fips              enable FIPS crypto at startup\\n\"\n-         \"  --force-fips               force FIPS crypto (cannot be disabled)\\n\"\n-#endif  /* NODE_FIPS_MODE */\n-         \"  --openssl-config=file      load OpenSSL configuration from the\\n\"\n-         \"                             specified file (overrides\\n\"\n-         \"                             OPENSSL_CONF)\\n\"\n-#endif /* HAVE_OPENSSL */\n-#if defined(NODE_HAVE_I18N_SUPPORT)\n-         \"  --icu-data-dir=dir         set ICU data load path to dir\\n\"\n-         \"                             (overrides NODE_ICU_DATA)\\n\"\n-#if !defined(NODE_HAVE_SMALL_ICU)\n-         \"                             note: linked-in ICU data is present\\n\"\n-#endif\n-         \"  --preserve-symlinks        preserve symbolic links when resolving\\n\"\n-         \"  --experimental-modules     experimental ES Module support\\n\"\n-         \"                             and caching modules\\n\"\n-         \"  --experimental-vm-modules  experimental ES Module support\\n\"\n-         \"                             in vm module\\n\"\n-#endif\n+         \"  --v8-options               print v8 command line options\\n\"\n+         \"  --v8-pool-size=num         set v8's thread pool size\\n\"\n+         \"  --zero-fill-buffers        automatically zero-fill all newly \"\n+         \"allocated\\n\"\n+         \"                             Buffer and SlowBuffer instances\\n\"\n+         \"  -c, --check                syntax check script without executing\\n\"\n+         \"  -e, --eval script          evaluate script\\n\"\n+         \"  -h, --help                 print node command line options\\n\"\n+         \"  -i, --interactive          always enter the REPL even if stdin\\n\"\n+         \"                             does not appear to be a terminal\\n\"\n+         \"  -p, --print                evaluate script and print result\\n\"\n+         \"  -r, --require              module to preload (option can be \"\n+         \"repeated)\\n\"\n+         \"  -v, --version              print Node.js version\\n\"\n+\n          \"\\n\"\n          \"Environment variables:\\n\"\n          \"NODE_DEBUG                   ','-separated list of core modules\\n\"\n@@ -3543,12 +3556,12 @@ static void PrintHelp() {\n #if !defined(NODE_HAVE_SMALL_ICU)\n          \"                             (will extend linked-in data)\\n\"\n #endif\n-#endif\n+#endif  // defined(NODE_HAVE_I18N_SUPPORT)\n          \"NODE_NO_WARNINGS             set to 1 to silence process warnings\\n\"\n #if !defined(NODE_WITHOUT_NODE_OPTIONS)\n          \"NODE_OPTIONS                 set CLI options in the environment\\n\"\n          \"                             via a space-separated list\\n\"\n-#endif\n+#endif  // !defined(NODE_WITHOUT_NODE_OPTIONS)\n #ifdef _WIN32\n          \"NODE_PATH                    ';'-separated list of directories\\n\"\n #else\n@@ -3557,10 +3570,14 @@ static void PrintHelp() {\n          \"                             prefixed to the module search path\\n\"\n          \"NODE_PENDING_DEPRECATION     set to 1 to emit pending deprecation\\n\"\n          \"                             warnings\\n\"\n-         \"NODE_REPL_HISTORY            path to the persistent REPL history\\n\"\n-         \"                             file\\n\"\n+#if defined(NODE_HAVE_I18N_SUPPORT)\n+         \"NODE_PRESERVE_SYMLINKS       set to 1 to preserve symbolic links\\n\"\n+         \"                             when resolving and caching modules\\n\"\n+#endif\n          \"NODE_REDIRECT_WARNINGS       write warnings to path instead of\\n\"\n          \"                             stderr\\n\"\n+         \"NODE_REPL_HISTORY            path to the persistent REPL history\\n\"\n+         \"                             file\\n\"\n          \"OPENSSL_CONF                 load OpenSSL configuration from file\\n\"\n          \"\\n\"\n          \"Documentation can be found at https://nodejs.org/\\n\");\n@@ -3597,43 +3614,44 @@ static void CheckIfAllowedInEnv(const char* exe, bool is_env,\n \n   static const char* whitelist[] = {\n     // Node options, sorted in `node --help` order for ease of comparison.\n-    \"--require\", \"-r\",\n+    \"--enable-fips\",\n+    \"--experimental-modules\",\n+    \"--experimental-vm-modules\",\n+    \"--expose-http2\",   // keep as a non-op through v9.x\n+    \"--force-fips\",\n+    \"--icu-data-dir\",\n     \"--inspect\",\n     \"--inspect-brk\",\n     \"--inspect-port\",\n+    \"--loader\",\n+    \"--napi-modules\",\n     \"--no-deprecation\",\n-    \"--trace-deprecation\",\n-    \"--throw-deprecation\",\n-    \"--pending-deprecation\",\n+    \"--no-force-async-hooks-checks\",\n     \"--no-warnings\",\n-    \"--napi-modules\",\n-    \"--expose-http2\",   // keep as a non-op through v9.x\n-    \"--experimental-modules\",\n-    \"--experimental-vm-modules\",\n-    \"--loader\",\n-    \"--trace-warnings\",\n+    \"--openssl-config\",\n+    \"--pending-deprecation\",\n     \"--redirect-warnings\",\n-    \"--trace-sync-io\",\n-    \"--no-force-async-hooks-checks\",\n-    \"--trace-events-enabled\",\n+    \"--require\",\n+    \"--throw-deprecation\",\n+    \"--tls-cipher-list\",\n+    \"--trace-deprecation\",\n     \"--trace-event-categories\",\n     \"--trace-event-file-pattern\",\n+    \"--trace-events-enabled\",\n+    \"--trace-sync-io\",\n+    \"--trace-warnings\",\n     \"--track-heap-objects\",\n-    \"--zero-fill-buffers\",\n-    \"--v8-pool-size\",\n-    \"--tls-cipher-list\",\n     \"--use-bundled-ca\",\n     \"--use-openssl-ca\",\n-    \"--enable-fips\",\n-    \"--force-fips\",\n-    \"--openssl-config\",\n-    \"--icu-data-dir\",\n+    \"--v8-pool-size\",\n+    \"--zero-fill-buffers\",\n+    \"-r\",\n \n     // V8 options (define with '_', which allows '-' or '_')\n-    \"--perf_prof\",\n-    \"--perf_basic_prof\",\n     \"--abort_on_uncaught_exception\",\n     \"--max_old_space_size\",\n+    \"--perf_basic_prof\",\n+    \"--perf_prof\",\n     \"--stack_trace_limit\",\n   };\n "
        },
        {
            "sha": "7e21f01b69c0d8a8c0e08826736269ca0f3dece8",
            "filename": "test/parallel/test-cli-node-print-help.js",
            "status": "added",
            "additions": 58,
            "deletions": 0,
            "changes": 58,
            "blob_url": "https://github.com/nodejs/node/blob/a43e8896f2c252ef30b4da08402badbe3a17124f/test%2Fparallel%2Ftest-cli-node-print-help.js",
            "raw_url": "https://github.com/nodejs/node/raw/a43e8896f2c252ef30b4da08402badbe3a17124f/test%2Fparallel%2Ftest-cli-node-print-help.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-cli-node-print-help.js?ref=a43e8896f2c252ef30b4da08402badbe3a17124f",
            "patch": "@@ -0,0 +1,58 @@\n+'use strict';\n+\n+const common = require('../common');\n+\n+// The following tests assert that the node.cc PrintHelp() function\n+// returns the proper set of cli options when invoked\n+\n+const assert = require('assert');\n+const { exec } = require('child_process');\n+let stdOut;\n+\n+\n+function startPrintHelpTest() {\n+  exec(`${process.execPath} --help`, common.mustCall((err, stdout, stderr) => {\n+    assert.ifError(err);\n+    stdOut = stdout;\n+    validateNodePrintHelp();\n+  }));\n+}\n+\n+function validateNodePrintHelp() {\n+  const config = process.config;\n+  const HAVE_OPENSSL = common.hasCrypto;\n+  const NODE_FIPS_MODE = common.hasFipsCrypto;\n+  const NODE_HAVE_I18N_SUPPORT = common.hasIntl;\n+  const HAVE_INSPECTOR = config.variables.v8_enable_inspector === 1;\n+\n+  const cliHelpOptions = [\n+    { compileConstant: HAVE_OPENSSL,\n+      flags: [ '--openssl-config=file', '--tls-cipher-list=val',\n+               '--use-bundled-ca', '--use-openssl-ca' ] },\n+    { compileConstant: NODE_FIPS_MODE,\n+      flags: [ '--enable-fips', '--force-fips' ] },\n+    { compileConstant: NODE_HAVE_I18N_SUPPORT,\n+      flags: [ '--experimental-modules', '--experimental-vm-modules',\n+               '--icu-data-dir=dir', '--preserve-symlinks',\n+               'NODE_ICU_DATA', 'NODE_PRESERVE_SYMLINKS' ] },\n+    { compileConstant: HAVE_INSPECTOR,\n+      flags: [ '--inspect-brk[=[host:]port]', '--inspect-port=[host:]port',\n+               '--inspect[=[host:]port]' ] },\n+  ];\n+\n+  cliHelpOptions.forEach(testForSubstring);\n+}\n+\n+function testForSubstring(options) {\n+  if (options.compileConstant) {\n+    options.flags.forEach((flag) => {\n+      assert.strictEqual(stdOut.indexOf(flag) !== -1, true);\n+    });\n+  } else {\n+    options.flags.forEach((flag) => {\n+      assert.strictEqual(stdOut.indexOf(flag), -1);\n+    });\n+  }\n+}\n+\n+startPrintHelpTest();"
        }
    ],
    "stats": {
        "total": 932,
        "additions": 536,
        "deletions": 396
    }
}