{
    "author": "targos",
    "message": "lib: port errors to new system\n\nThis is a first batch of updates that touches non-underscored modules in\nlib.\n\nPR-URL: https://github.com/nodejs/node/pull/19034\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>",
    "sha": "1e8d110e640c658e4f6ed7540db62d063269ba6c",
    "files": [
        {
            "sha": "7d894518b107d25666d996834a789b3c06f84b8a",
            "filename": "lib/assert.js",
            "status": "modified",
            "additions": 12,
            "deletions": 9,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fassert.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fassert.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fassert.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -25,7 +25,13 @@ const {\n   isDeepEqual,\n   isDeepStrictEqual\n } = require('internal/util/comparisons');\n-const { AssertionError, TypeError, errorCache } = require('internal/errors');\n+const {\n+  AssertionError,\n+  errorCache,\n+  codes: {\n+    ERR_INVALID_ARG_TYPE\n+  }\n+} = require('internal/errors');\n const { openSync, closeSync, readSync } = require('fs');\n const { parseExpressionAt } = require('internal/deps/acorn/dist/acorn');\n const { inspect } = require('util');\n@@ -380,8 +386,9 @@ function expectedException(actual, expected, msg) {\n       return expected.test(actual);\n     // assert.doesNotThrow does not accept objects.\n     if (arguments.length === 2) {\n-      throw new TypeError('ERR_INVALID_ARG_TYPE', 'expected',\n-                          ['Function', 'RegExp'], expected);\n+      throw new ERR_INVALID_ARG_TYPE(\n+        'expected', ['Function', 'RegExp'], expected\n+      );\n     }\n     // The name and message could be non enumerable. Therefore test them\n     // explicitly.\n@@ -408,8 +415,7 @@ function expectedException(actual, expected, msg) {\n \n function getActual(block) {\n   if (typeof block !== 'function') {\n-    throw new TypeError('ERR_INVALID_ARG_TYPE', 'block', 'Function',\n-                        block);\n+    throw new ERR_INVALID_ARG_TYPE('block', 'Function', block);\n   }\n   try {\n     block();\n@@ -425,10 +431,7 @@ assert.throws = function throws(block, error, message) {\n \n   if (typeof error === 'string') {\n     if (arguments.length === 3)\n-      throw new TypeError('ERR_INVALID_ARG_TYPE',\n-                          'error',\n-                          ['Function', 'RegExp'],\n-                          error);\n+      throw new ERR_INVALID_ARG_TYPE('error', ['Function', 'RegExp'], error);\n \n     message = error;\n     error = null;"
        },
        {
            "sha": "0c425e694584eb23b7d1b38f31b55bae793898af",
            "filename": "lib/async_hooks.js",
            "status": "modified",
            "additions": 12,
            "deletions": 10,
            "changes": 22,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fasync_hooks.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fasync_hooks.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fasync_hooks.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -1,6 +1,10 @@\n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_ASYNC_CALLBACK,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_ASYNC_ID\n+} = require('internal/errors').codes;\n const async_wrap = process.binding('async_wrap');\n const internal_async_hooks = require('internal/async_hooks');\n \n@@ -41,15 +45,15 @@ const {\n class AsyncHook {\n   constructor({ init, before, after, destroy, promiseResolve }) {\n     if (init !== undefined && typeof init !== 'function')\n-      throw new errors.TypeError('ERR_ASYNC_CALLBACK', 'hook.init');\n+      throw new ERR_ASYNC_CALLBACK('hook.init');\n     if (before !== undefined && typeof before !== 'function')\n-      throw new errors.TypeError('ERR_ASYNC_CALLBACK', 'hook.before');\n+      throw new ERR_ASYNC_CALLBACK('hook.before');\n     if (after !== undefined && typeof after !== 'function')\n-      throw new errors.TypeError('ERR_ASYNC_CALLBACK', 'hook.after');\n+      throw new ERR_ASYNC_CALLBACK('hook.after');\n     if (destroy !== undefined && typeof destroy !== 'function')\n-      throw new errors.TypeError('ERR_ASYNC_CALLBACK', 'hook.destroy');\n+      throw new ERR_ASYNC_CALLBACK('hook.destroy');\n     if (promiseResolve !== undefined && typeof promiseResolve !== 'function')\n-      throw new errors.TypeError('ERR_ASYNC_CALLBACK', 'hook.promiseResolve');\n+      throw new ERR_ASYNC_CALLBACK('hook.promiseResolve');\n \n     this[init_symbol] = init;\n     this[before_symbol] = before;\n@@ -140,7 +144,7 @@ function showEmitBeforeAfterWarning() {\n class AsyncResource {\n   constructor(type, opts = {}) {\n     if (typeof type !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'type', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('type', 'string');\n \n     if (typeof opts === 'number') {\n       opts = { triggerAsyncId: opts, requireManualDestroy: false };\n@@ -152,9 +156,7 @@ class AsyncResource {\n     // triggerAsyncId.\n     const triggerAsyncId = opts.triggerAsyncId;\n     if (!Number.isSafeInteger(triggerAsyncId) || triggerAsyncId < -1) {\n-      throw new errors.RangeError('ERR_INVALID_ASYNC_ID',\n-                                  'triggerAsyncId',\n-                                  triggerAsyncId);\n+      throw new ERR_INVALID_ASYNC_ID('triggerAsyncId', triggerAsyncId);\n     }\n \n     this[async_id_symbol] = newAsyncId();"
        },
        {
            "sha": "fc42f771c2403328dfe17d1eed941c18d36f2daf",
            "filename": "lib/buffer.js",
            "status": "modified",
            "additions": 48,
            "deletions": 61,
            "changes": 109,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fbuffer.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fbuffer.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fbuffer.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -57,7 +57,16 @@ const {\n const {\n   pendingDeprecation\n } = process.binding('config');\n-const errors = require('internal/errors');\n+const {\n+  ERR_BUFFER_OUT_OF_BOUNDS,\n+  ERR_INDEX_OUT_OF_RANGE,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_ARG_VALUE,\n+  ERR_INVALID_BUFFER_SIZE,\n+  ERR_INVALID_OPT_VALUE,\n+  ERR_NO_LONGER_SUPPORTED,\n+  ERR_UNKNOWN_ENCODING\n+} = require('internal/errors').codes;\n \n const internalBuffer = require('internal/buffer');\n \n@@ -166,9 +175,7 @@ function Buffer(arg, encodingOrOffset, length) {\n   // Common case.\n   if (typeof arg === 'number') {\n     if (typeof encodingOrOffset === 'string') {\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE', 'string', 'string', arg\n-      );\n+      throw new ERR_INVALID_ARG_TYPE('string', 'string', arg);\n     }\n     return Buffer.alloc(arg);\n   }\n@@ -197,18 +204,15 @@ Buffer.from = function from(value, encodingOrOffset, length) {\n     return fromArrayBuffer(value, encodingOrOffset, length);\n \n   if (value === null || value === undefined) {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE',\n+    throw new ERR_INVALID_ARG_TYPE(\n       'first argument',\n       ['string', 'Buffer', 'ArrayBuffer', 'Array', 'Array-like Object'],\n       value\n     );\n   }\n \n   if (typeof value === 'number') {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', 'value', 'not number', value\n-    );\n+    throw new ERR_INVALID_ARG_TYPE('value', 'not number', value);\n   }\n \n   const valueOf = value.valueOf && value.valueOf();\n@@ -225,8 +229,7 @@ Buffer.from = function from(value, encodingOrOffset, length) {\n                        length);\n   }\n \n-  throw new errors.TypeError(\n-    'ERR_INVALID_ARG_TYPE',\n+  throw new ERR_INVALID_ARG_TYPE(\n     'first argument',\n     ['string', 'Buffer', 'ArrayBuffer', 'Array', 'Array-like Object'],\n     value\n@@ -242,9 +245,9 @@ function assertSize(size) {\n   let err = null;\n \n   if (typeof size !== 'number') {\n-    err = new errors.TypeError('ERR_INVALID_ARG_TYPE', 'size', 'number', size);\n+    err = new ERR_INVALID_ARG_TYPE('size', 'number', size);\n   } else if (size < 0 || size > kMaxLength) {\n-    err = new errors.RangeError('ERR_INVALID_OPT_VALUE', 'size', size);\n+    err = new ERR_INVALID_OPT_VALUE.RangeError('size', size);\n   }\n \n   if (err !== null) {\n@@ -323,7 +326,7 @@ function fromString(string, encoding) {\n   } else {\n     length = byteLength(string, encoding, true);\n     if (length === -1)\n-      throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+      throw new ERR_UNKNOWN_ENCODING(encoding);\n     if (string.length === 0)\n       return new FastBuffer();\n   }\n@@ -365,7 +368,7 @@ function fromArrayBuffer(obj, byteOffset, length) {\n   const maxLength = obj.byteLength - byteOffset;\n \n   if (maxLength < 0)\n-    throw new errors.RangeError('ERR_BUFFER_OUT_OF_BOUNDS', 'offset');\n+    throw new ERR_BUFFER_OUT_OF_BOUNDS('offset');\n \n   if (length === undefined) {\n     length = maxLength;\n@@ -374,7 +377,7 @@ function fromArrayBuffer(obj, byteOffset, length) {\n     length = +length;\n     if (length > 0) {\n       if (length > maxLength)\n-        throw new errors.RangeError('ERR_BUFFER_OUT_OF_BOUNDS', 'length');\n+        throw new ERR_BUFFER_OUT_OF_BOUNDS('length');\n     } else {\n       length = 0;\n     }\n@@ -414,9 +417,7 @@ Buffer.isBuffer = function isBuffer(b) {\n \n Buffer.compare = function compare(a, b) {\n   if (!isUint8Array(a) || !isUint8Array(b)) {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', ['buf1', 'buf2'], ['Buffer', 'Uint8Array']\n-    );\n+    throw new ERR_INVALID_ARG_TYPE(['buf1', 'buf2'], ['Buffer', 'Uint8Array']);\n   }\n \n   if (a === b) {\n@@ -435,9 +436,7 @@ Buffer[kIsEncodingSymbol] = Buffer.isEncoding;\n Buffer.concat = function concat(list, length) {\n   var i;\n   if (!Array.isArray(list)) {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', 'list', ['Array', 'Buffer', 'Uint8Array']\n-    );\n+    throw new ERR_INVALID_ARG_TYPE('list', ['Array', 'Buffer', 'Uint8Array']);\n   }\n \n   if (list.length === 0)\n@@ -456,9 +455,7 @@ Buffer.concat = function concat(list, length) {\n   for (i = 0; i < list.length; i++) {\n     var buf = list[i];\n     if (!isUint8Array(buf)) {\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE', 'list', ['Array', 'Buffer', 'Uint8Array']\n-      );\n+      throw new ERR_INVALID_ARG_TYPE('list', ['Array', 'Buffer', 'Uint8Array']);\n     }\n     _copy(buf, buffer, pos);\n     pos += buf.length;\n@@ -492,9 +489,8 @@ function byteLength(string, encoding) {\n       return string.byteLength;\n     }\n \n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', 'string',\n-      ['string', 'Buffer', 'ArrayBuffer'], string\n+    throw new ERR_INVALID_ARG_TYPE(\n+      'string', ['string', 'Buffer', 'ArrayBuffer'], string\n     );\n   }\n \n@@ -609,7 +605,7 @@ function stringSlice(buf, encoding, start, end) {\n         return buf.ucs2Slice(start, end);\n       break;\n   }\n-  throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+  throw new ERR_UNKNOWN_ENCODING(encoding);\n }\n \n Buffer.prototype.copy =\n@@ -650,10 +646,7 @@ Buffer.prototype.toString = function toString(encoding, start, end) {\n \n Buffer.prototype.equals = function equals(b) {\n   if (!isUint8Array(b)) {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', 'otherBuffer',\n-      ['Buffer', 'Uint8Array'], b\n-    );\n+    throw new ERR_INVALID_ARG_TYPE('otherBuffer', ['Buffer', 'Uint8Array'], b);\n   }\n   if (this === b)\n     return true;\n@@ -678,39 +671,36 @@ Buffer.prototype.compare = function compare(target,\n                                             thisStart,\n                                             thisEnd) {\n   if (!isUint8Array(target)) {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE', 'target',\n-      ['Buffer', 'Uint8Array'], target\n-    );\n+    throw new ERR_INVALID_ARG_TYPE('target', ['Buffer', 'Uint8Array'], target);\n   }\n   if (arguments.length === 1)\n     return _compare(this, target);\n \n   if (start === undefined)\n     start = 0;\n   else if (start < 0)\n-    throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+    throw new ERR_INDEX_OUT_OF_RANGE();\n   else\n     start >>>= 0;\n \n   if (end === undefined)\n     end = target.length;\n   else if (end > target.length)\n-    throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+    throw new ERR_INDEX_OUT_OF_RANGE();\n   else\n     end >>>= 0;\n \n   if (thisStart === undefined)\n     thisStart = 0;\n   else if (thisStart < 0)\n-    throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+    throw new ERR_INDEX_OUT_OF_RANGE();\n   else\n     thisStart >>>= 0;\n \n   if (thisEnd === undefined)\n     thisEnd = this.length;\n   else if (thisEnd > this.length)\n-    throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+    throw new ERR_INDEX_OUT_OF_RANGE();\n   else\n     thisEnd >>>= 0;\n \n@@ -759,9 +749,8 @@ function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n     return indexOfNumber(buffer, val, byteOffset, dir);\n   }\n \n-  throw new errors.TypeError(\n-    'ERR_INVALID_ARG_TYPE', 'value',\n-    ['string', 'Buffer', 'Uint8Array'], val\n+  throw new ERR_INVALID_ARG_TYPE(\n+    'value', ['string', 'Buffer', 'Uint8Array'], val\n   );\n }\n \n@@ -787,7 +776,7 @@ function slowIndexOf(buffer, val, byteOffset, encoding, dir) {\n \n       default:\n         if (loweredCase) {\n-          throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+          throw new ERR_UNKNOWN_ENCODING(encoding);\n         }\n \n         encoding = ('' + encoding).toLowerCase();\n@@ -830,10 +819,9 @@ function _fill(buf, val, start, end, encoding) {\n     const normalizedEncoding = normalizeEncoding(encoding);\n     if (normalizedEncoding === undefined) {\n       if (typeof encoding !== 'string') {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'encoding', 'string',\n-                                   encoding);\n+        throw new ERR_INVALID_ARG_TYPE('encoding', 'string', encoding);\n       }\n-      throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+      throw new ERR_UNKNOWN_ENCODING(encoding);\n     }\n \n     if (val.length === 0) {\n@@ -861,11 +849,11 @@ function _fill(buf, val, start, end, encoding) {\n     // Invalid ranges are not set to a default, so can range check early.\n     if (end === undefined) {\n       if (start < 0)\n-        throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+        throw new ERR_INDEX_OUT_OF_RANGE();\n       end = buf.length;\n     } else {\n       if (start < 0 || end > buf.length || end < 0)\n-        throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+        throw new ERR_INDEX_OUT_OF_RANGE();\n       end = end >>> 0;\n     }\n     start = start >>> 0;\n@@ -876,8 +864,8 @@ function _fill(buf, val, start, end, encoding) {\n   const res = bindingFill(buf, val, start, end, encoding);\n   if (res < 0) {\n     if (res === -1)\n-      throw new errors.TypeError('ERR_INVALID_ARG_VALUE', 'value', val);\n-    throw new errors.RangeError('ERR_INDEX_OUT_OF_RANGE');\n+      throw new ERR_INVALID_ARG_VALUE('value', val);\n+    throw new ERR_INDEX_OUT_OF_RANGE();\n   }\n \n   return buf;\n@@ -909,13 +897,12 @@ Buffer.prototype.write = function write(string, offset, length, encoding) {\n       length = remaining;\n \n     if (string.length > 0 && (length < 0 || offset < 0))\n-      throw new errors.RangeError('ERR_BUFFER_OUT_OF_BOUNDS', 'length', true);\n+      throw new ERR_BUFFER_OUT_OF_BOUNDS('length', true);\n   } else {\n     // if someone is still calling the obsolete form of write(), tell them.\n     // we don't want eg buf.write(\"foo\", \"utf8\", 10) to silently turn into\n     // buf.write(\"foo\", \"utf8\"), so we can't ignore extra args\n-    throw new errors.Error(\n-      'ERR_NO_LONGER_SUPPORTED',\n+    throw new ERR_NO_LONGER_SUPPORTED(\n       'Buffer.write(string, encoding, offset[, length])'\n     );\n   }\n@@ -964,7 +951,7 @@ Buffer.prototype.write = function write(string, offset, length, encoding) {\n         return this.hexWrite(string, offset, length);\n       break;\n   }\n-  throw new errors.TypeError('ERR_UNKNOWN_ENCODING', encoding);\n+  throw new ERR_UNKNOWN_ENCODING(encoding);\n };\n \n Buffer.prototype.toJSON = function toJSON() {\n@@ -1015,7 +1002,7 @@ Buffer.prototype.swap16 = function swap16() {\n   // dropping down to the native code is faster.\n   const len = this.length;\n   if (len % 2 !== 0)\n-    throw new errors.RangeError('ERR_INVALID_BUFFER_SIZE', '16-bits');\n+    throw new ERR_INVALID_BUFFER_SIZE('16-bits');\n   if (len < 128) {\n     for (var i = 0; i < len; i += 2)\n       swap(this, i, i + 1);\n@@ -1030,7 +1017,7 @@ Buffer.prototype.swap32 = function swap32() {\n   // dropping down to the native code is faster.\n   const len = this.length;\n   if (len % 4 !== 0)\n-    throw new errors.RangeError('ERR_INVALID_BUFFER_SIZE', '32-bits');\n+    throw new ERR_INVALID_BUFFER_SIZE('32-bits');\n   if (len < 192) {\n     for (var i = 0; i < len; i += 4) {\n       swap(this, i, i + 3);\n@@ -1047,7 +1034,7 @@ Buffer.prototype.swap64 = function swap64() {\n   // dropping down to the native code is faster.\n   const len = this.length;\n   if (len % 8 !== 0)\n-    throw new errors.RangeError('ERR_INVALID_BUFFER_SIZE', '64-bits');\n+    throw new ERR_INVALID_BUFFER_SIZE('64-bits');\n   if (len < 192) {\n     for (var i = 0; i < len; i += 8) {\n       swap(this, i, i + 7);\n@@ -1073,8 +1060,8 @@ if (process.binding('config').hasIntl) {\n   // Buffer instance.\n   transcode = function transcode(source, fromEncoding, toEncoding) {\n     if (!isUint8Array(source)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'source',\n-                                 ['Buffer', 'Uint8Array'], source);\n+      throw new ERR_INVALID_ARG_TYPE('source',\n+                                     ['Buffer', 'Uint8Array'], source);\n     }\n     if (source.length === 0) return Buffer.alloc(0);\n "
        },
        {
            "sha": "c18329554a46b92d87e75ff8a2e091e904cca74a",
            "filename": "lib/child_process.js",
            "status": "modified",
            "additions": 40,
            "deletions": 63,
            "changes": 103,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fchild_process.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fchild_process.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fchild_process.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -31,7 +31,14 @@ const { createPromise,\n const debug = util.debuglog('child_process');\n const { Buffer } = require('buffer');\n const { Pipe, constants: PipeConstants } = process.binding('pipe_wrap');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_VALUE,\n+  ERR_CHILD_PROCESS_IPC_REQUIRED,\n+  ERR_CHILD_PROCESS_STDIO_MAXBUFFER,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_OPT_VALUE,\n+  ERR_OUT_OF_RANGE\n+} = require('internal/errors').codes;\n const child_process = require('internal/child_process');\n const {\n   _validateStdio,\n@@ -48,7 +55,7 @@ function stdioStringToArray(option) {\n     case 'inherit':\n       return [option, option, option, 'ipc'];\n     default:\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'stdio', option);\n+      throw new ERR_INVALID_OPT_VALUE('stdio', option);\n   }\n }\n \n@@ -65,9 +72,7 @@ exports.fork = function(modulePath /*, args, options*/) {\n \n   if (pos < arguments.length && arguments[pos] != null) {\n     if (typeof arguments[pos] !== 'object') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_VALUE',\n-                                 `arguments[${pos}]`,\n-                                 arguments[pos]);\n+      throw new ERR_INVALID_ARG_VALUE(`arguments[${pos}]`, arguments[pos]);\n     }\n \n     options = util._extend({}, arguments[pos++]);\n@@ -95,8 +100,7 @@ exports.fork = function(modulePath /*, args, options*/) {\n     options.stdio = options.silent ? stdioStringToArray('pipe') :\n       stdioStringToArray('inherit');\n   } else if (options.stdio.indexOf('ipc') === -1) {\n-    throw new errors.Error('ERR_CHILD_PROCESS_IPC_REQUIRED',\n-                           'options.stdio');\n+    throw new ERR_CHILD_PROCESS_IPC_REQUIRED('options.stdio');\n   }\n \n   options.execPath = options.execPath || process.execPath;\n@@ -200,7 +204,7 @@ exports.execFile = function(file /*, args, options, callback*/) {\n   }\n \n   if (!callback && pos < arguments.length && arguments[pos] != null) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_VALUE', 'args', arguments[pos]);\n+    throw new ERR_INVALID_ARG_VALUE('args', arguments[pos]);\n   }\n \n   // Validate the timeout, if present.\n@@ -327,8 +331,7 @@ exports.execFile = function(file /*, args, options, callback*/) {\n       stdoutLen += encoding ? Buffer.byteLength(chunk, encoding) : chunk.length;\n \n       if (stdoutLen > options.maxBuffer) {\n-        ex = new errors.RangeError('ERR_CHILD_PROCESS_STDIO_MAXBUFFER',\n-                                   'stdout');\n+        ex = new ERR_CHILD_PROCESS_STDIO_MAXBUFFER('stdout');\n         kill();\n       } else if (encoding) {\n         _stdout += chunk;\n@@ -346,8 +349,7 @@ exports.execFile = function(file /*, args, options, callback*/) {\n       stderrLen += encoding ? Buffer.byteLength(chunk, encoding) : chunk.length;\n \n       if (stderrLen > options.maxBuffer) {\n-        ex = new errors.RangeError('ERR_CHILD_PROCESS_STDIO_MAXBUFFER',\n-                                   'stderr');\n+        ex = new ERR_CHILD_PROCESS_STDIO_MAXBUFFER('stderr');\n         kill();\n       } else if (encoding) {\n         _stderr += chunk;\n@@ -384,13 +386,13 @@ function _convertCustomFds(options) {\n \n function normalizeSpawnArguments(file, args, options) {\n   if (typeof file !== 'string' || file.length === 0)\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'file', 'string', file);\n+    throw new ERR_INVALID_ARG_TYPE('file', 'string', file);\n \n   if (Array.isArray(args)) {\n     args = args.slice(0);\n   } else if (args !== undefined &&\n              (args === null || typeof args !== 'object')) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'args', 'object', args);\n+    throw new ERR_INVALID_ARG_TYPE('args', 'object', args);\n   } else {\n     options = args;\n     args = [];\n@@ -399,77 +401,58 @@ function normalizeSpawnArguments(file, args, options) {\n   if (options === undefined)\n     options = {};\n   else if (options === null || typeof options !== 'object')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options',\n-                               'object',\n-                               options);\n+    throw new ERR_INVALID_ARG_TYPE('options', 'object', options);\n \n   // Validate the cwd, if present.\n   if (options.cwd != null &&\n       typeof options.cwd !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.cwd',\n-                               'string',\n-                               options.cwd);\n+    throw new ERR_INVALID_ARG_TYPE('options.cwd', 'string', options.cwd);\n   }\n \n   // Validate detached, if present.\n   if (options.detached != null &&\n       typeof options.detached !== 'boolean') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.detached',\n-                               'boolean',\n-                               options.detached);\n+    throw new ERR_INVALID_ARG_TYPE('options.detached',\n+                                   'boolean', options.detached);\n   }\n \n   // Validate the uid, if present.\n   if (options.uid != null && !Number.isInteger(options.uid)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.uid',\n-                               'integer',\n-                               options.uid);\n+    throw new ERR_INVALID_ARG_TYPE('options.uid', 'integer', options.uid);\n   }\n \n   // Validate the gid, if present.\n   if (options.gid != null && !Number.isInteger(options.gid)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.gid',\n-                               'integer',\n-                               options.gid);\n+    throw new ERR_INVALID_ARG_TYPE('options.gid', 'integer', options.gid);\n   }\n \n   // Validate the shell, if present.\n   if (options.shell != null &&\n       typeof options.shell !== 'boolean' &&\n       typeof options.shell !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.shell',\n-                               ['boolean', 'string'],\n-                               options.shell);\n+    throw new ERR_INVALID_ARG_TYPE('options.shell',\n+                                   ['boolean', 'string'], options.shell);\n   }\n \n   // Validate argv0, if present.\n   if (options.argv0 != null &&\n       typeof options.argv0 !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.argv0',\n-                               'string',\n-                               options.argv0);\n+    throw new ERR_INVALID_ARG_TYPE('options.argv0', 'string', options.argv0);\n   }\n \n   // Validate windowsHide, if present.\n   if (options.windowsHide != null &&\n       typeof options.windowsHide !== 'boolean') {\n-    throw new TypeError('\"windowsHide\" must be a boolean');\n+    throw new ERR_INVALID_ARG_TYPE('options.windowsHide',\n+                                   'boolean', options.windowsHide);\n   }\n \n   // Validate windowsVerbatimArguments, if present.\n   if (options.windowsVerbatimArguments != null &&\n       typeof options.windowsVerbatimArguments !== 'boolean') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.windowsVerbatimArguments',\n-                               'boolean',\n-                               options.windowsVerbatimArguments);\n+    throw new ERR_INVALID_ARG_TYPE('options.windowsVerbatimArguments',\n+                                   'boolean',\n+                                   options.windowsVerbatimArguments);\n   }\n \n   // Make a shallow copy so we don't clobber the user's options object.\n@@ -584,10 +567,9 @@ function spawnSync(/*file, args, options*/) {\n       } else if (typeof input === 'string') {\n         pipe.input = Buffer.from(input, options.encoding);\n       } else {\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                   ('options.stdio[' + i + ']'),\n-                                   ['Buffer', 'Uint8Array', 'string'],\n-                                   input);\n+        throw new ERR_INVALID_ARG_TYPE(`options.stdio[${i}]`,\n+                                       ['Buffer', 'Uint8Array', 'string'],\n+                                       input);\n       }\n     }\n   }\n@@ -655,20 +637,16 @@ exports.execSync = execSync;\n \n function validateTimeout(timeout) {\n   if (timeout != null && !(Number.isInteger(timeout) && timeout >= 0)) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                'timeout',\n-                                'an unsigned integer',\n-                                timeout);\n+    throw new ERR_OUT_OF_RANGE('timeout', 'an unsigned integer', timeout);\n   }\n }\n \n \n function validateMaxBuffer(maxBuffer) {\n   if (maxBuffer != null && !(typeof maxBuffer === 'number' && maxBuffer >= 0)) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                'options.maxBuffer',\n-                                'a positive number',\n-                                maxBuffer);\n+    throw new ERR_OUT_OF_RANGE('options.maxBuffer',\n+                               'a positive number',\n+                               maxBuffer);\n   }\n }\n \n@@ -677,9 +655,8 @@ function sanitizeKillSignal(killSignal) {\n   if (typeof killSignal === 'string' || typeof killSignal === 'number') {\n     return convertToValidSignal(killSignal);\n   } else if (killSignal != null) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.killSignal',\n-                               ['string', 'number'],\n-                               killSignal);\n+    throw new ERR_INVALID_ARG_TYPE('options.killSignal',\n+                                   ['string', 'number'],\n+                                   killSignal);\n   }\n }"
        },
        {
            "sha": "d22ffea9700ee63d0b75db5f42fdd0a722baaba5",
            "filename": "lib/crypto.js",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fcrypto.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fcrypto.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fcrypto.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -30,7 +30,10 @@ const {\n } = require('internal/util');\n assertCrypto();\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_CRYPTO_FIPS_FORCED,\n+  ERR_CRYPTO_FIPS_UNAVAILABLE\n+} = require('internal/errors').codes;\n const constants = process.binding('constants').crypto;\n const {\n   fipsMode,\n@@ -183,12 +186,12 @@ module.exports = exports = {\n };\n \n function setFipsDisabled() {\n-  throw new errors.Error('ERR_CRYPTO_FIPS_UNAVAILABLE');\n+  throw new ERR_CRYPTO_FIPS_UNAVAILABLE();\n }\n \n function setFipsForced(val) {\n   if (val) return;\n-  throw new errors.Error('ERR_CRYPTO_FIPS_FORCED');\n+  throw new ERR_CRYPTO_FIPS_FORCED();\n }\n \n function getFipsDisabled() {"
        },
        {
            "sha": "78730635cbe2688e598421970fdd47be436e9874",
            "filename": "lib/dgram.js",
            "status": "modified",
            "additions": 35,
            "deletions": 32,
            "changes": 67,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdgram.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdgram.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdgram.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -23,6 +23,17 @@\n \n const assert = require('assert');\n const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_MISSING_ARGS,\n+  ERR_SOCKET_ALREADY_BOUND,\n+  ERR_SOCKET_BAD_BUFFER_SIZE,\n+  ERR_SOCKET_BAD_PORT,\n+  ERR_SOCKET_BAD_TYPE,\n+  ERR_SOCKET_BUFFER_SIZE,\n+  ERR_SOCKET_CANNOT_SEND,\n+  ERR_SOCKET_DGRAM_NOT_RUNNING\n+} = errors.codes;\n const { Buffer } = require('buffer');\n const dns = require('dns');\n const util = require('util');\n@@ -65,7 +76,7 @@ function newHandle(type, lookup) {\n   if (lookup === undefined)\n     lookup = dns.lookup;\n   else if (typeof lookup !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'lookup', 'Function');\n+    throw new ERR_INVALID_ARG_TYPE('lookup', 'Function');\n \n   if (type === 'udp4') {\n     const handle = new UDP();\n@@ -81,7 +92,7 @@ function newHandle(type, lookup) {\n     return handle;\n   }\n \n-  throw new errors.TypeError('ERR_SOCKET_BAD_TYPE');\n+  throw new ERR_SOCKET_BAD_TYPE();\n }\n \n \n@@ -173,13 +184,12 @@ function replaceHandle(self, newHandle) {\n \n function bufferSize(self, size, buffer) {\n   if (size >>> 0 !== size)\n-    throw new errors.TypeError('ERR_SOCKET_BAD_BUFFER_SIZE');\n+    throw new ERR_SOCKET_BAD_BUFFER_SIZE();\n \n   const ctx = {};\n   const ret = self._handle.bufferSize(size, buffer, ctx);\n   if (ret === undefined) {\n-    throw new errors.Error('ERR_SOCKET_BUFFER_SIZE',\n-                           new errors.SystemError(ctx));\n+    throw new ERR_SOCKET_BUFFER_SIZE(new errors.SystemError(ctx));\n   }\n   return ret;\n }\n@@ -190,7 +200,7 @@ Socket.prototype.bind = function(port_, address_ /*, callback*/) {\n   this._healthCheck();\n \n   if (this._bindState !== BIND_STATE_UNBOUND)\n-    throw new errors.Error('ERR_SOCKET_ALREADY_BOUND');\n+    throw new ERR_SOCKET_ALREADY_BOUND();\n \n   this._bindState = BIND_STATE_BINDING;\n \n@@ -290,19 +300,19 @@ Socket.prototype.sendto = function(buffer,\n                                    address,\n                                    callback) {\n   if (typeof offset !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'offset', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('offset', 'number');\n   }\n \n   if (typeof length !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'length', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('length', 'number');\n   }\n \n   if (typeof port !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'port', 'number');\n+    throw new ERR_INVALID_ARG_TYPE('port', 'number');\n   }\n \n   if (typeof address !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'address', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('address', 'string');\n   }\n \n   this.send(buffer, offset, length, port, address, callback);\n@@ -313,9 +323,8 @@ function sliceBuffer(buffer, offset, length) {\n   if (typeof buffer === 'string') {\n     buffer = Buffer.from(buffer);\n   } else if (!isUint8Array(buffer)) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'buffer',\n-                               ['Buffer', 'Uint8Array', 'string']);\n+    throw new ERR_INVALID_ARG_TYPE('buffer',\n+                                   ['Buffer', 'Uint8Array', 'string']);\n   }\n \n   offset = offset >>> 0;\n@@ -363,7 +372,7 @@ function onListenSuccess() {\n function onListenError(err) {\n   this.removeListener('listening', onListenSuccess);\n   this._queue = undefined;\n-  this.emit('error', new errors.Error('ERR_SOCKET_CANNOT_SEND'));\n+  this.emit('error', new ERR_SOCKET_CANNOT_SEND());\n }\n \n \n@@ -406,21 +415,19 @@ Socket.prototype.send = function(buffer,\n     if (typeof buffer === 'string') {\n       list = [ Buffer.from(buffer) ];\n     } else if (!isUint8Array(buffer)) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'buffer',\n-                                 ['Buffer', 'Uint8Array', 'string']);\n+      throw new ERR_INVALID_ARG_TYPE('buffer',\n+                                     ['Buffer', 'Uint8Array', 'string']);\n     } else {\n       list = [ buffer ];\n     }\n   } else if (!(list = fixBufferList(buffer))) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'buffer list arguments',\n-                               ['Buffer', 'string']);\n+    throw new ERR_INVALID_ARG_TYPE('buffer list arguments',\n+                                   ['Buffer', 'string']);\n   }\n \n   port = port >>> 0;\n   if (port === 0 || port > 65535)\n-    throw new errors.RangeError('ERR_SOCKET_BAD_PORT', port);\n+    throw new ERR_SOCKET_BAD_PORT(port);\n \n   // Normalize callback so it's either a function or undefined but not anything\n   // else.\n@@ -431,9 +438,7 @@ Socket.prototype.send = function(buffer,\n     callback = address;\n     address = undefined;\n   } else if (address && typeof address !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'address',\n-                               ['string', 'falsy']);\n+    throw new ERR_INVALID_ARG_TYPE('address', ['string', 'falsy']);\n   }\n \n   this._healthCheck();\n@@ -555,7 +560,7 @@ Socket.prototype.setBroadcast = function(arg) {\n \n Socket.prototype.setTTL = function(ttl) {\n   if (typeof ttl !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'ttl', 'number', ttl);\n+    throw new ERR_INVALID_ARG_TYPE('ttl', 'number', ttl);\n   }\n \n   var err = this._handle.setTTL(ttl);\n@@ -569,7 +574,7 @@ Socket.prototype.setTTL = function(ttl) {\n \n Socket.prototype.setMulticastTTL = function(ttl) {\n   if (typeof ttl !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'ttl', 'number', ttl);\n+    throw new ERR_INVALID_ARG_TYPE('ttl', 'number', ttl);\n   }\n \n   var err = this._handle.setMulticastTTL(ttl);\n@@ -595,9 +600,7 @@ Socket.prototype.setMulticastInterface = function(interfaceAddress) {\n   this._healthCheck();\n \n   if (typeof interfaceAddress !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'interfaceAddress',\n-                               'string');\n+    throw new ERR_INVALID_ARG_TYPE('interfaceAddress', 'string');\n   }\n \n   const err = this._handle.setMulticastInterface(interfaceAddress);\n@@ -611,7 +614,7 @@ Socket.prototype.addMembership = function(multicastAddress,\n   this._healthCheck();\n \n   if (!multicastAddress) {\n-    throw new errors.TypeError('ERR_MISSING_ARGS', 'multicastAddress');\n+    throw new ERR_MISSING_ARGS('multicastAddress');\n   }\n \n   var err = this._handle.addMembership(multicastAddress, interfaceAddress);\n@@ -626,7 +629,7 @@ Socket.prototype.dropMembership = function(multicastAddress,\n   this._healthCheck();\n \n   if (!multicastAddress) {\n-    throw new errors.TypeError('ERR_MISSING_ARGS', 'multicastAddress');\n+    throw new ERR_MISSING_ARGS('multicastAddress');\n   }\n \n   var err = this._handle.dropMembership(multicastAddress, interfaceAddress);\n@@ -639,7 +642,7 @@ Socket.prototype.dropMembership = function(multicastAddress,\n Socket.prototype._healthCheck = function() {\n   if (!this._handle) {\n     // Error message from dgram_legacy.js.\n-    throw new errors.Error('ERR_SOCKET_DGRAM_NOT_RUNNING');\n+    throw new ERR_SOCKET_DGRAM_NOT_RUNNING();\n   }\n };\n "
        },
        {
            "sha": "cb8b2ca0beb4cd68eecb0f553a8de69d386c84b4",
            "filename": "lib/dns.js",
            "status": "modified",
            "additions": 23,
            "deletions": 17,
            "changes": 40,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdns.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdns.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdns.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -25,6 +25,15 @@ const cares = process.binding('cares_wrap');\n const { isIP, isIPv4, isLegalPort } = require('internal/net');\n const { customPromisifyArgs } = require('internal/util');\n const errors = require('internal/errors');\n+const {\n+  ERR_DNS_SET_SERVERS_FAILED,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_INVALID_IP_ADDRESS,\n+  ERR_INVALID_OPT_VALUE,\n+  ERR_MISSING_ARGS,\n+  ERR_SOCKET_BAD_PORT\n+} = errors.codes;\n \n const {\n   GetAddrInfoReqWrap,\n@@ -76,13 +85,12 @@ function lookup(hostname, options, callback) {\n \n   // Parse arguments\n   if (hostname && typeof hostname !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'hostname',\n-                               ['string', 'falsy'], hostname);\n+    throw new ERR_INVALID_ARG_TYPE('hostname', ['string', 'falsy'], hostname);\n   } else if (typeof options === 'function') {\n     callback = options;\n     family = 0;\n   } else if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   } else if (options !== null && typeof options === 'object') {\n     hints = options.hints >>> 0;\n     family = options.family >>> 0;\n@@ -93,14 +101,14 @@ function lookup(hostname, options, callback) {\n         hints !== cares.AI_ADDRCONFIG &&\n         hints !== cares.AI_V4MAPPED &&\n         hints !== (cares.AI_ADDRCONFIG | cares.AI_V4MAPPED)) {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'hints', hints);\n+      throw new ERR_INVALID_OPT_VALUE('hints', hints);\n     }\n   } else {\n     family = options >>> 0;\n   }\n \n   if (family !== 0 && family !== 4 && family !== 6)\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'family', family);\n+    throw new ERR_INVALID_OPT_VALUE('family', family);\n \n   if (!hostname) {\n     if (all) {\n@@ -151,16 +159,16 @@ function onlookupservice(err, host, service) {\n // lookupService(address, port, callback)\n function lookupService(host, port, callback) {\n   if (arguments.length !== 3)\n-    throw new errors.TypeError('ERR_MISSING_ARGS', 'host', 'port', 'callback');\n+    throw new ERR_MISSING_ARGS('host', 'port', 'callback');\n \n   if (isIP(host) === 0)\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'host', host);\n+    throw new ERR_INVALID_OPT_VALUE('host', host);\n \n   if (!isLegalPort(port))\n-    throw new errors.RangeError('ERR_SOCKET_BAD_PORT', port);\n+    throw new ERR_SOCKET_BAD_PORT(port);\n \n   if (typeof callback !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n \n   port = +port;\n \n@@ -209,10 +217,9 @@ function resolver(bindingName) {\n     }\n \n     if (typeof name !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'name',\n-                                 'string', name);\n+      throw new ERR_INVALID_ARG_TYPE('name', 'string', name);\n     } else if (typeof callback !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     }\n \n     var req = new QueryReqWrap();\n@@ -253,14 +260,13 @@ function resolve(hostname, rrtype, callback) {\n     resolver = resolveMap.A;\n     callback = rrtype;\n   } else {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'rrtype',\n-                               'string', rrtype);\n+    throw new ERR_INVALID_ARG_TYPE('rrtype', 'string', rrtype);\n   }\n \n   if (typeof resolver === 'function') {\n     return resolver.call(this, hostname, callback);\n   } else {\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'rrtype', rrtype);\n+    throw new ERR_INVALID_OPT_VALUE('rrtype', rrtype);\n   }\n }\n \n@@ -310,7 +316,7 @@ function setServers(servers) {\n       return newSet.push([ipVersion, s, parseInt(p)]);\n     }\n \n-    throw new errors.Error('ERR_INVALID_IP_ADDRESS', serv);\n+    throw new ERR_INVALID_IP_ADDRESS.Error(serv);\n   });\n \n   const errorNumber = this._handle.setServers(newSet);\n@@ -320,7 +326,7 @@ function setServers(servers) {\n     this._handle.setServers(orig.join(','));\n \n     var err = cares.strerror(errorNumber);\n-    throw new errors.Error('ERR_DNS_SET_SERVERS_FAILED', err, servers);\n+    throw new ERR_DNS_SET_SERVERS_FAILED(err, servers);\n   }\n }\n "
        },
        {
            "sha": "360896d16a06e395be11407e8667c425177dbf7e",
            "filename": "lib/domain.js",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdomain.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fdomain.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fdomain.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -28,7 +28,11 @@\n \n const util = require('util');\n const EventEmitter = require('events');\n-const errors = require('internal/errors');\n+const {\n+  ERR_DOMAIN_CALLBACK_NOT_AVAILABLE,\n+  ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE,\n+  ERR_UNHANDLED_ERROR\n+} = require('internal/errors').codes;\n const { createHook } = require('async_hooks');\n \n // overwrite process.domain with a getter/setter that will allow for more\n@@ -80,16 +84,15 @@ const asyncHook = createHook({\n // When domains are in use, they claim full ownership of the\n // uncaught exception capture callback.\n if (process.hasUncaughtExceptionCaptureCallback()) {\n-  throw new errors.Error('ERR_DOMAIN_CALLBACK_NOT_AVAILABLE');\n+  throw new ERR_DOMAIN_CALLBACK_NOT_AVAILABLE();\n }\n \n // Get the stack trace at the point where `domain` was required.\n const domainRequireStack = new Error('require(`domain`) at this point').stack;\n \n const { setUncaughtExceptionCaptureCallback } = process;\n process.setUncaughtExceptionCaptureCallback = function(fn) {\n-  const err =\n-      new errors.Error('ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE');\n+  const err = new ERR_DOMAIN_CANNOT_SET_UNCAUGHT_EXCEPTION_CAPTURE();\n   err.stack = err.stack + '\\n' + '-'.repeat(40) + '\\n' + domainRequireStack;\n   throw err;\n };\n@@ -439,7 +442,7 @@ EventEmitter.prototype.emit = function emit(...args) {\n \n   if (type === 'error') {\n     const er = args.length > 1 && args[1] ?\n-      args[1] : new errors.Error('ERR_UNHANDLED_ERROR');\n+      args[1] : new ERR_UNHANDLED_ERROR();\n \n     if (typeof er === 'object') {\n       er.domainEmitter = this;"
        },
        {
            "sha": "2a8cf60c91cb782466674f9ae8720a5a1064477d",
            "filename": "lib/events.js",
            "status": "modified",
            "additions": 10,
            "deletions": 14,
            "changes": 24,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fevents.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fevents.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fevents.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -44,7 +44,7 @@ var defaultMaxListeners = 10;\n var errors;\n function lazyErrors() {\n   if (errors === undefined)\n-    errors = require('internal/errors');\n+    errors = require('internal/errors').codes;\n   return errors;\n }\n \n@@ -56,10 +56,9 @@ Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n   set: function(arg) {\n     if (typeof arg !== 'number' || arg < 0 || Number.isNaN(arg)) {\n       const errors = lazyErrors();\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                  'defaultMaxListeners',\n-                                  'a non-negative number',\n-                                  arg);\n+      throw new errors.ERR_OUT_OF_RANGE('defaultMaxListeners',\n+                                        'a non-negative number',\n+                                        arg);\n     }\n     defaultMaxListeners = arg;\n   }\n@@ -81,8 +80,7 @@ EventEmitter.init = function() {\n EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n   if (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {\n     const errors = lazyErrors();\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'n',\n-                                'a non-negative number', n);\n+    throw new errors.ERR_OUT_OF_RANGE('n', 'a non-negative number', n);\n   }\n   this._maxListeners = n;\n   return this;\n@@ -170,7 +168,7 @@ EventEmitter.prototype.emit = function emit(type, ...args) {\n     }\n     // At least give some kind of context to the user\n     const errors = lazyErrors();\n-    const err = new errors.Error('ERR_UNHANDLED_ERROR', er);\n+    const err = new errors.ERR_UNHANDLED_ERROR(er);\n     err.context = er;\n     throw err; // Unhandled 'error' event\n   }\n@@ -199,7 +197,7 @@ function _addListener(target, type, listener, prepend) {\n \n   if (typeof listener !== 'function') {\n     const errors = lazyErrors();\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'listener', 'Function');\n+    throw new errors.ERR_INVALID_ARG_TYPE('listener', 'Function');\n   }\n \n   events = target._events;\n@@ -288,7 +286,7 @@ function _onceWrap(target, type, listener) {\n EventEmitter.prototype.once = function once(type, listener) {\n   if (typeof listener !== 'function') {\n     const errors = lazyErrors();\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'listener', 'Function');\n+    throw new errors.ERR_INVALID_ARG_TYPE('listener', 'Function');\n   }\n   this.on(type, _onceWrap(this, type, listener));\n   return this;\n@@ -298,8 +296,7 @@ EventEmitter.prototype.prependOnceListener =\n     function prependOnceListener(type, listener) {\n       if (typeof listener !== 'function') {\n         const errors = lazyErrors();\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'listener',\n-                                   'Function');\n+        throw new errors.ERR_INVALID_ARG_TYPE('listener', 'Function');\n       }\n       this.prependListener(type, _onceWrap(this, type, listener));\n       return this;\n@@ -312,8 +309,7 @@ EventEmitter.prototype.removeListener =\n \n       if (typeof listener !== 'function') {\n         const errors = lazyErrors();\n-        throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'listener',\n-                                   'Function');\n+        throw new errors.ERR_INVALID_ARG_TYPE('listener', 'Function');\n       }\n \n       events = this._events;"
        },
        {
            "sha": "3771efad10d76233bac51e6f52ff297c9f0ad204",
            "filename": "lib/fs.js",
            "status": "modified",
            "additions": 20,
            "deletions": 42,
            "changes": 62,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ffs.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ffs.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ffs.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -35,6 +35,11 @@ const binding = process.binding('fs');\n const fs = exports;\n const { Buffer } = require('buffer');\n const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK,\n+  ERR_OUT_OF_RANGE\n+} = errors.codes;\n const { Readable, Writable } = require('stream');\n const EventEmitter = require('events');\n const { FSReqWrap, statValues } = binding;\n@@ -109,15 +114,15 @@ function maybeCallback(cb) {\n   if (typeof cb === 'function')\n     return cb;\n \n-  throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+  throw new ERR_INVALID_CALLBACK();\n }\n \n // Ensure that callbacks run in the global context. Only use this function\n // for callbacks that are passed to the binding layer, callbacks that are\n // invoked from JS already run in the proper scope.\n function makeCallback(cb) {\n   if (typeof cb !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   return function(...args) {\n@@ -130,7 +135,7 @@ function makeCallback(cb) {\n // transformed anyway.\n function makeStatsCallback(cb) {\n   if (typeof cb !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   return function(err) {\n@@ -1000,7 +1005,7 @@ fs.fchmod = function(fd, mode, callback) {\n   validateUint32(mode, 'mode');\n   // values for mode < 0 are already checked via the validateUint32 function\n   if (mode > 0o777)\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'mode');\n+    throw new ERR_OUT_OF_RANGE('mode');\n \n   const req = new FSReqWrap();\n   req.oncomplete = makeCallback(callback);\n@@ -1012,7 +1017,7 @@ fs.fchmodSync = function(fd, mode) {\n   validateUint32(fd, 'fd');\n   validateUint32(mode, 'mode');\n   if (mode < 0 || mode > 0o777)\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'mode');\n+    throw new ERR_OUT_OF_RANGE('mode');\n   const ctx = {};\n   binding.fchmod(fd, mode, undefined, ctx);\n   handleErrorFromBinding(ctx);\n@@ -1457,10 +1462,7 @@ fs.watchFile = function(filename, options, listener) {\n   }\n \n   if (typeof listener !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'listener',\n-                               'Function',\n-                               listener);\n+    throw new ERR_INVALID_ARG_TYPE('listener', 'Function', listener);\n   }\n \n   stat = statWatchers.get(filename);\n@@ -1835,10 +1837,7 @@ fs.mkdtemp = function(prefix, options, callback) {\n   callback = makeCallback(typeof options === 'function' ? options : callback);\n   options = getOptions(options, {});\n   if (!prefix || typeof prefix !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'prefix',\n-                               'string',\n-                               prefix);\n+    throw new ERR_INVALID_ARG_TYPE('prefix', 'string', prefix);\n   }\n   nullCheck(prefix, 'prefix');\n   var req = new FSReqWrap();\n@@ -1850,10 +1849,7 @@ fs.mkdtemp = function(prefix, options, callback) {\n fs.mkdtempSync = function(prefix, options) {\n   options = getOptions(options, {});\n   if (!prefix || typeof prefix !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'prefix',\n-                               'string',\n-                               prefix);\n+    throw new ERR_INVALID_ARG_TYPE('prefix', 'string', prefix);\n   }\n   nullCheck(prefix, 'prefix');\n   const path = `${prefix}XXXXXX`;\n@@ -1876,7 +1872,7 @@ fs.copyFile = function(src, dest, flags, callback) {\n     callback = flags;\n     flags = 0;\n   } else if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   src = getPathFromURL(src);\n@@ -1951,26 +1947,17 @@ function ReadStream(path, options) {\n \n   if (this.start !== undefined) {\n     if (typeof this.start !== 'number') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'start',\n-                                 'number',\n-                                 this.start);\n+      throw new ERR_INVALID_ARG_TYPE('start', 'number', this.start);\n     }\n     if (this.end === undefined) {\n       this.end = Infinity;\n     } else if (typeof this.end !== 'number') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'end',\n-                                 'number',\n-                                 this.end);\n+      throw new ERR_INVALID_ARG_TYPE('end', 'number', this.end);\n     }\n \n     if (this.start > this.end) {\n       const errVal = `{start: ${this.start}, end: ${this.end}}`;\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                  'start',\n-                                  '<= \"end\"',\n-                                  errVal);\n+      throw new ERR_OUT_OF_RANGE('start', '<= \"end\"', errVal);\n     }\n \n     this.pos = this.start;\n@@ -2113,17 +2100,11 @@ function WriteStream(path, options) {\n \n   if (this.start !== undefined) {\n     if (typeof this.start !== 'number') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'start',\n-                                 'number',\n-                                 this.start);\n+      throw new ERR_INVALID_ARG_TYPE('start', 'number', this.start);\n     }\n     if (this.start < 0) {\n       const errVal = `{start: ${this.start}}`;\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE',\n-                                  'start',\n-                                  '>= 0',\n-                                  errVal);\n+      throw new ERR_OUT_OF_RANGE('start', '>= 0', errVal);\n     }\n \n     this.pos = this.start;\n@@ -2164,10 +2145,7 @@ WriteStream.prototype.open = function() {\n \n WriteStream.prototype._write = function(data, encoding, cb) {\n   if (!(data instanceof Buffer)) {\n-    const err = new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                     'data',\n-                                     'Buffer',\n-                                     data);\n+    const err = new ERR_INVALID_ARG_TYPE('data', 'Buffer', data);\n     return this.emit('error', err);\n   }\n "
        },
        {
            "sha": "b9e2d56492dbec81e7bbe85b925e295d2c08fd47",
            "filename": "lib/https.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fhttps.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fhttps.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fhttps.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -35,7 +35,7 @@ const { ClientRequest } = require('_http_client');\n const { inherits } = util;\n const debug = util.debuglog('https');\n const { urlToOptions, searchParamsSymbol } = require('internal/url');\n-const errors = require('internal/errors');\n+const { ERR_INVALID_DOMAIN_NAME } = require('internal/errors').codes;\n const { IncomingMessage, ServerResponse } = require('http');\n const { kIncomingMessage } = require('_http_common');\n const { kServerResponse } = require('_http_server');\n@@ -262,7 +262,7 @@ function request(options, cb) {\n   if (typeof options === 'string') {\n     options = url.parse(options);\n     if (!options.hostname) {\n-      throw new errors.Error('ERR_INVALID_DOMAIN_NAME');\n+      throw new ERR_INVALID_DOMAIN_NAME();\n     }\n   } else if (options && options[searchParamsSymbol] &&\n              options[searchParamsSymbol][searchParamsSymbol]) {"
        },
        {
            "sha": "157ca2863268643154c383da35978b837df899de",
            "filename": "lib/inspector.js",
            "status": "modified",
            "additions": 15,
            "deletions": 10,
            "changes": 25,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Finspector.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Finspector.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finspector.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -1,12 +1,19 @@\n 'use strict';\n \n const EventEmitter = require('events');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INSPECTOR_ALREADY_CONNECTED,\n+  ERR_INSPECTOR_CLOSED,\n+  ERR_INSPECTOR_NOT_AVAILABLE,\n+  ERR_INSPECTOR_NOT_CONNECTED,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CALLBACK\n+} = require('internal/errors').codes;\n const util = require('util');\n const { Connection, open, url } = process.binding('inspector');\n \n if (!Connection)\n-  throw new errors.Error('ERR_INSPECTOR_NOT_AVAILABLE');\n+  throw new ERR_INSPECTOR_NOT_AVAILABLE();\n \n const connectionSymbol = Symbol('connectionProperty');\n const messageCallbacksSymbol = Symbol('messageCallbacks');\n@@ -23,7 +30,7 @@ class Session extends EventEmitter {\n \n   connect() {\n     if (this[connectionSymbol])\n-      throw new errors.Error('ERR_INSPECTOR_ALREADY_CONNECTED');\n+      throw new ERR_INSPECTOR_ALREADY_CONNECTED();\n     this[connectionSymbol] =\n         new Connection((message) => this[onMessageSymbol](message));\n   }\n@@ -47,23 +54,21 @@ class Session extends EventEmitter {\n \n   post(method, params, callback) {\n     if (typeof method !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'method', 'string', method);\n+      throw new ERR_INVALID_ARG_TYPE('method', 'string', method);\n     }\n     if (!callback && util.isFunction(params)) {\n       callback = params;\n       params = null;\n     }\n     if (params && typeof params !== 'object') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'params', 'Object', params);\n+      throw new ERR_INVALID_ARG_TYPE('params', 'Object', params);\n     }\n     if (callback && typeof callback !== 'function') {\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new ERR_INVALID_CALLBACK();\n     }\n \n     if (!this[connectionSymbol]) {\n-      throw new errors.Error('ERR_INSPECTOR_NOT_CONNECTED');\n+      throw new ERR_INSPECTOR_NOT_CONNECTED();\n     }\n     const id = this[nextIdSymbol]++;\n     const message = { id, method };\n@@ -83,7 +88,7 @@ class Session extends EventEmitter {\n     this[connectionSymbol] = null;\n     const remainingCallbacks = this[messageCallbacksSymbol].values();\n     for (const callback of remainingCallbacks) {\n-      process.nextTick(callback, new errors.Error('ERR_INSPECTOR_CLOSED'));\n+      process.nextTick(callback, new ERR_INSPECTOR_CLOSED());\n     }\n     this[messageCallbacksSymbol].clear();\n     this[nextIdSymbol] = 1;"
        },
        {
            "sha": "8d1002a3839468adb658991dab5aa9e41d4d547f",
            "filename": "lib/module.js",
            "status": "modified",
            "additions": 9,
            "deletions": 5,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fmodule.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fmodule.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fmodule.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -39,7 +39,11 @@ const internalModule = require('internal/module');\n const preserveSymlinks = !!process.binding('config').preserveSymlinks;\n const experimentalModules = !!process.binding('config').experimentalModules;\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_ARG_VALUE,\n+  ERR_REQUIRE_ESM\n+} = require('internal/errors').codes;\n \n module.exports = Module;\n \n@@ -605,11 +609,11 @@ Module.prototype.load = function(filename) {\n // `exports` property.\n Module.prototype.require = function(id) {\n   if (typeof id !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'id', 'string', id);\n+    throw new ERR_INVALID_ARG_TYPE('id', 'string', id);\n   }\n   if (id === '') {\n-    throw new errors.Error('ERR_INVALID_ARG_VALUE',\n-                           'id', id, 'must be a non-empty string');\n+    throw new ERR_INVALID_ARG_VALUE('id', id,\n+                                    'must be a non-empty string');\n   }\n   return Module._load(id, this, /* isMain */ false);\n };\n@@ -697,7 +701,7 @@ Module._extensions['.node'] = function(module, filename) {\n \n if (experimentalModules) {\n   Module._extensions['.mjs'] = function(module, filename) {\n-    throw new errors.Error('ERR_REQUIRE_ESM', filename);\n+    throw new ERR_REQUIRE_ESM(filename);\n   };\n }\n "
        },
        {
            "sha": "7583fcb27d1064103e14023c365d4b18e42974e7",
            "filename": "lib/net.js",
            "status": "modified",
            "additions": 25,
            "deletions": 30,
            "changes": 55,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fnet.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fnet.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fnet.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -54,6 +54,16 @@ const {\n } = require('internal/async_hooks');\n const { nextTick } = require('internal/process/next_tick');\n const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_FD_TYPE,\n+  ERR_INVALID_IP_ADDRESS,\n+  ERR_INVALID_OPT_VALUE,\n+  ERR_SERVER_ALREADY_LISTEN,\n+  ERR_SERVER_NOT_RUNNING,\n+  ERR_SOCKET_BAD_PORT,\n+  ERR_SOCKET_CLOSED\n+} = errors.codes;\n const dns = require('dns');\n \n const kLastWriteQueueSize = Symbol('lastWriteQueueSize');\n@@ -88,7 +98,7 @@ function createHandle(fd, is_server) {\n     );\n   }\n \n-  throw new errors.TypeError('ERR_INVALID_FD_TYPE', type);\n+  throw new ERR_INVALID_FD_TYPE(type);\n }\n \n \n@@ -724,7 +734,7 @@ Socket.prototype._writeGeneric = function(writev, data, encoding, cb) {\n   this._unrefTimer();\n \n   if (!this._handle) {\n-    this.destroy(new errors.Error('ERR_SOCKET_CLOSED'), cb);\n+    this.destroy(new ERR_SOCKET_CLOSED(), cb);\n     return false;\n   }\n \n@@ -1011,10 +1021,7 @@ Socket.prototype.connect = function(...args) {\n \n   if (pipe) {\n     if (typeof path !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'options.path',\n-                                 'string',\n-                                 path);\n+      throw new ERR_INVALID_ARG_TYPE('options.path', 'string', path);\n     }\n     defaultTriggerAsyncIdScope(\n       this[async_id_symbol], internalConnect, this, path\n@@ -1033,25 +1040,20 @@ function lookupAndConnect(self, options) {\n   var localPort = options.localPort;\n \n   if (localAddress && !isIP(localAddress)) {\n-    throw new errors.TypeError('ERR_INVALID_IP_ADDRESS', localAddress);\n+    throw new ERR_INVALID_IP_ADDRESS(localAddress);\n   }\n \n   if (localPort && typeof localPort !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.localPort',\n-                               'number',\n-                               localPort);\n+    throw new ERR_INVALID_ARG_TYPE('options.localPort', 'number', localPort);\n   }\n \n   if (typeof port !== 'undefined') {\n     if (typeof port !== 'number' && typeof port !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'options.port',\n-                                 ['number', 'string'],\n-                                 port);\n+      throw new ERR_INVALID_ARG_TYPE('options.port',\n+                                     ['number', 'string'], port);\n     }\n     if (!isLegalPort(port)) {\n-      throw new errors.RangeError('ERR_SOCKET_BAD_PORT', port);\n+      throw new ERR_SOCKET_BAD_PORT(port);\n     }\n   }\n   port |= 0;\n@@ -1071,10 +1073,8 @@ function lookupAndConnect(self, options) {\n   }\n \n   if (options.lookup && typeof options.lookup !== 'function')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options.lookup',\n-                               'Function',\n-                               options.lookup);\n+    throw new ERR_INVALID_ARG_TYPE('options.lookup',\n+                                   'Function', options.lookup);\n \n   var dnsopts = {\n     family: options.family,\n@@ -1223,10 +1223,7 @@ function Server(options, connectionListener) {\n       this.on('connection', connectionListener);\n     }\n   } else {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'options',\n-                               'Object',\n-                               options);\n+    throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n   }\n \n   this._connections = 0;\n@@ -1443,7 +1440,7 @@ Server.prototype.listen = function(...args) {\n   var cb = normalized[1];\n \n   if (this._handle) {\n-    throw new errors.Error('ERR_SERVER_ALREADY_LISTEN');\n+    throw new ERR_SERVER_ALREADY_LISTEN();\n   }\n \n   var hasCallback = (cb !== null);\n@@ -1484,7 +1481,7 @@ Server.prototype.listen = function(...args) {\n   var backlog;\n   if (typeof options.port === 'number' || typeof options.port === 'string') {\n     if (!isLegalPort(options.port)) {\n-      throw new errors.RangeError('ERR_SOCKET_BAD_PORT', options.port);\n+      throw new ERR_SOCKET_BAD_PORT(options.port);\n     }\n     backlog = options.backlog || backlogFromArgs;\n     // start TCP server listening on host:port\n@@ -1509,9 +1506,7 @@ Server.prototype.listen = function(...args) {\n     return this;\n   }\n \n-  throw new errors.Error('ERR_INVALID_OPT_VALUE',\n-                         'options',\n-                         util.inspect(options));\n+  throw new ERR_INVALID_OPT_VALUE('options', util.inspect(options));\n };\n \n function lookupAndListen(self, port, address, backlog, exclusive) {\n@@ -1622,7 +1617,7 @@ Server.prototype.close = function(cb) {\n   if (typeof cb === 'function') {\n     if (!this._handle) {\n       this.once('close', function close() {\n-        cb(new errors.Error('ERR_SERVER_NOT_RUNNING'));\n+        cb(new ERR_SERVER_NOT_RUNNING());\n       });\n     } else {\n       this.once('close', cb);"
        },
        {
            "sha": "9f33cb87bc5b794d14ae287fed41c24fae96d63d",
            "filename": "lib/path.js",
            "status": "modified",
            "additions": 6,
            "deletions": 8,
            "changes": 14,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fpath.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fpath.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fpath.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -21,7 +21,7 @@\n \n 'use strict';\n \n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n const {\n   CHAR_UPPERCASE_A,\n   CHAR_LOWERCASE_A,\n@@ -36,7 +36,7 @@ const {\n \n function assertPath(path) {\n   if (typeof path !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'path', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('path', 'string');\n   }\n }\n \n@@ -808,7 +808,7 @@ const win32 = {\n \n   basename: function basename(path, ext) {\n     if (ext !== undefined && typeof ext !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'ext', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('ext', 'string');\n     assertPath(path);\n     var start = 0;\n     var end = -1;\n@@ -961,8 +961,7 @@ const win32 = {\n \n   format: function format(pathObject) {\n     if (pathObject === null || typeof pathObject !== 'object') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'pathObject', 'Object',\n-                                 pathObject);\n+      throw new ERR_INVALID_ARG_TYPE('pathObject', 'Object', pathObject);\n     }\n     return _format('\\\\', pathObject);\n   },\n@@ -1356,7 +1355,7 @@ const posix = {\n \n   basename: function basename(path, ext) {\n     if (ext !== undefined && typeof ext !== 'string')\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'ext', 'string');\n+      throw new ERR_INVALID_ARG_TYPE('ext', 'string');\n     assertPath(path);\n \n     var start = 0;\n@@ -1487,8 +1486,7 @@ const posix = {\n \n   format: function format(pathObject) {\n     if (pathObject === null || typeof pathObject !== 'object') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'pathObject', 'Object',\n-                                 pathObject);\n+      throw new ERR_INVALID_ARG_TYPE('pathObject', 'Object', pathObject);\n     }\n     return _format('/', pathObject);\n   },"
        },
        {
            "sha": "8b3c57d0637c29f0fc3ba477ef9a9109d8c655ab",
            "filename": "lib/perf_hooks.js",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fperf_hooks.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fperf_hooks.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fperf_hooks.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -137,7 +137,7 @@ function collectHttp2Stats(entry) {\n let errors;\n function lazyErrors() {\n   if (errors === undefined)\n-    errors = require('internal/errors');\n+    errors = require('internal/errors').codes;\n   return errors;\n }\n \n@@ -322,7 +322,7 @@ class PerformanceObserver extends AsyncResource {\n   constructor(callback) {\n     if (typeof callback !== 'function') {\n       const errors = lazyErrors();\n-      throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+      throw new errors.ERR_INVALID_CALLBACK();\n     }\n     super('PerformanceObserver');\n     Object.defineProperties(this, {\n@@ -370,15 +370,14 @@ class PerformanceObserver extends AsyncResource {\n   observe(options) {\n     const errors = lazyErrors();\n     if (typeof options !== 'object' || options == null) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object');\n+      throw new errors.ERR_INVALID_ARG_TYPE('options', 'Object');\n     }\n     if (!Array.isArray(options.entryTypes)) {\n-      throw new errors.TypeError('ERR_INVALID_OPT_VALUE',\n-                                 'entryTypes', options);\n+      throw new errors.ERR_INVALID_OPT_VALUE('entryTypes', options);\n     }\n     const entryTypes = options.entryTypes.filter(filterTypes).map(mapTypes);\n     if (entryTypes.length === 0) {\n-      throw new errors.Error('ERR_VALID_PERFORMANCE_ENTRY_TYPE');\n+      throw new errors.ERR_VALID_PERFORMANCE_ENTRY_TYPE();\n     }\n     this.disconnect();\n     this[kBuffer][kEntries] = [];\n@@ -408,7 +407,7 @@ class Performance extends PerformanceObserverEntryList {\n   set maxEntries(val) {\n     if (typeof val !== 'number' || val >>> 0 !== val) {\n       const errors = lazyErrors();\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'val', 'number');\n+      throw new errors.ERR_INVALID_ARG_TYPE('val', 'number');\n     }\n     this[kMaxCount] = Math.max(1, val >>> 0);\n   }\n@@ -488,7 +487,7 @@ class Performance extends PerformanceObserverEntryList {\n     const marks = this[kIndex][kMarks];\n     if (!marks.has(endMark) && !(endMark in nodeTiming)) {\n       const errors = lazyErrors();\n-      throw new errors.Error('ERR_INVALID_PERFORMANCE_MARK', endMark);\n+      throw new errors.ERR_INVALID_PERFORMANCE_MARK(endMark);\n     }\n     _measure(name, startMark, endMark);\n   }\n@@ -521,7 +520,7 @@ class Performance extends PerformanceObserverEntryList {\n   timerify(fn) {\n     if (typeof fn !== 'function') {\n       const errors = lazyErrors();\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'fn', 'Function');\n+      throw new errors.ERR_INVALID_ARG_TYPE('fn', 'Function');\n     }\n     if (fn[kTimerified])\n       return fn[kTimerified];"
        },
        {
            "sha": "3bedd493f4b34fafc8a7909478d0d073104d3977",
            "filename": "lib/querystring.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fquerystring.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fquerystring.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fquerystring.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -24,7 +24,7 @@\n 'use strict';\n \n const { Buffer } = require('buffer');\n-const errors = require('internal/errors');\n+const { ERR_INVALID_URI } = require('internal/errors').codes;\n const {\n   hexTable,\n   isHexTable\n@@ -177,7 +177,7 @@ function qsEscape(str) {\n     ++i;\n \n     if (i >= str.length)\n-      throw new errors.URIError('ERR_INVALID_URI');\n+      throw new ERR_INVALID_URI();\n \n     var c2 = str.charCodeAt(i) & 0x3FF;\n "
        },
        {
            "sha": "124fc8111b2f09fc48e178939fce050368291ca8",
            "filename": "lib/readline.js",
            "status": "modified",
            "additions": 9,
            "deletions": 14,
            "changes": 23,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Freadline.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Freadline.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Freadline.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -27,7 +27,11 @@\n \n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_CURSOR_POS,\n+  ERR_INVALID_OPT_VALUE\n+} = require('internal/errors').codes;\n const { debug, inherits } = require('util');\n const { Buffer } = require('buffer');\n const EventEmitter = require('events');\n@@ -95,7 +99,7 @@ function Interface(input, output, completer, terminal) {\n   }\n \n   if (completer && typeof completer !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_OPT_VALUE', 'completer', completer);\n+    throw new ERR_INVALID_OPT_VALUE('completer', completer);\n   }\n \n   if (historySize === undefined) {\n@@ -105,11 +109,7 @@ function Interface(input, output, completer, terminal) {\n   if (typeof historySize !== 'number' ||\n       Number.isNaN(historySize) ||\n       historySize < 0) {\n-    throw new errors.RangeError(\n-      'ERR_INVALID_OPT_VALUE',\n-      'historySize',\n-      historySize\n-    );\n+    throw new ERR_INVALID_OPT_VALUE.RangeError('historySize', historySize);\n   }\n \n   // backwards compat; check the isTTY prop of the output stream\n@@ -288,12 +288,7 @@ Interface.prototype._onLine = function(line) {\n \n Interface.prototype._writeToOutput = function _writeToOutput(stringToWrite) {\n   if (typeof stringToWrite !== 'string') {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE',\n-      'stringToWrite',\n-      'string',\n-      stringToWrite\n-    );\n+    throw new ERR_INVALID_ARG_TYPE('stringToWrite', 'string', stringToWrite);\n   }\n \n   if (this.output !== null && this.output !== undefined) {\n@@ -1067,7 +1062,7 @@ function cursorTo(stream, x, y) {\n     return;\n \n   if (typeof x !== 'number')\n-    throw new errors.Error('ERR_INVALID_CURSOR_POS');\n+    throw new ERR_INVALID_CURSOR_POS();\n \n   if (typeof y !== 'number') {\n     stream.write(CSI`${x + 1}G`);"
        },
        {
            "sha": "7645988752e7950da4f4b438e8bf5c4fe3012e04",
            "filename": "lib/repl.js",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Frepl.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Frepl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Frepl.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -58,7 +58,12 @@ const { Console } = require('console');\n const Module = require('module');\n const domain = require('domain');\n const debug = util.debuglog('repl');\n-const errors = require('internal/errors');\n+const {\n+  ERR_CANNOT_WATCH_SIGINT,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_INVALID_REPL_EVAL_CONFIG,\n+  ERR_SCRIPT_EXECUTION_INTERRUPTED\n+} = require('internal/errors').codes;\n const { sendInspectorCommand } = require('internal/util/inspector');\n \n const parentModule = module;\n@@ -145,7 +150,7 @@ function REPLServer(prompt,\n   if (breakEvalOnSigint && eval_) {\n     // Allowing this would not reflect user expectations.\n     // breakEvalOnSigint affects only the behavior of the default eval().\n-    throw new errors.Error('ERR_INVALID_REPL_EVAL_CONFIG');\n+    throw new ERR_INVALID_REPL_EVAL_CONFIG();\n   }\n \n   var self = this;\n@@ -287,7 +292,7 @@ function REPLServer(prompt,\n         // Start the SIGINT watchdog before entering raw mode so that a very\n         // quick Ctrl+C doesn't lead to aborting the process completely.\n         if (!utilBinding.startSigintWatchdog())\n-          throw new errors.Error('ERR_CANNOT_WATCH_SIGINT');\n+          throw new ERR_CANNOT_WATCH_SIGINT();\n         previouslyInRawMode = self._setRawMode(false);\n       }\n \n@@ -338,7 +343,7 @@ function REPLServer(prompt,\n         if (self.breakEvalOnSigint) {\n           const interrupt = new Promise((resolve, reject) => {\n             sigintListener = () => {\n-              reject(new errors.Error('ERR_SCRIPT_EXECUTION_INTERRUPTED'));\n+              reject(new ERR_SCRIPT_EXECUTION_INTERRUPTED());\n             };\n             prioritizedSigintQueue.add(sigintListener);\n           });\n@@ -1246,10 +1251,7 @@ REPLServer.prototype.defineCommand = function(keyword, cmd) {\n   if (typeof cmd === 'function') {\n     cmd = { action: cmd };\n   } else if (typeof cmd.action !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                               'action',\n-                               'Function',\n-                               cmd.action);\n+    throw new ERR_INVALID_ARG_TYPE('action', 'Function', cmd.action);\n   }\n   this.commands[keyword] = cmd;\n };"
        },
        {
            "sha": "a2b7cf7de27b49e713f3d4b5637dcb04fe0da550",
            "filename": "lib/string_decoder.js",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fstring_decoder.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fstring_decoder.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fstring_decoder.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -34,7 +34,10 @@ const {\n   encodings\n } = internalBinding('string_decoder');\n const internalUtil = require('internal/util');\n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_UNKNOWN_ENCODING\n+} = require('internal/errors').codes;\n const isEncoding = Buffer[internalUtil.kIsEncodingSymbol];\n \n const kNativeDecoder = Symbol('kNativeDecoder');\n@@ -45,7 +48,7 @@ function normalizeEncoding(enc) {\n   const nenc = internalUtil.normalizeEncoding(enc);\n   if (nenc === undefined) {\n     if (Buffer.isEncoding === isEncoding || !Buffer.isEncoding(enc))\n-      throw new errors.TypeError('ERR_UNKNOWN_ENCODING', enc);\n+      throw new ERR_UNKNOWN_ENCODING(enc);\n     return enc;\n   }\n   return nenc;\n@@ -68,8 +71,8 @@ StringDecoder.prototype.write = function write(buf) {\n   if (typeof buf === 'string')\n     return buf;\n   if (!ArrayBuffer.isView(buf))\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'buf',\n-                               ['Buffer', 'Uint8Array', 'ArrayBufferView']);\n+    throw new ERR_INVALID_ARG_TYPE('buf',\n+                                   ['Buffer', 'Uint8Array', 'ArrayBufferView']);\n   return decode(this[kNativeDecoder], buf);\n };\n "
        },
        {
            "sha": "32f6ccb00cd4c6dc58d7d089f1acffeb9a345aa3",
            "filename": "lib/timers.js",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftimers.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftimers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ftimers.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -37,7 +37,7 @@ const internalUtil = require('internal/util');\n const { createPromise, promiseResolve } = process.binding('util');\n const assert = require('assert');\n const util = require('util');\n-const errors = require('internal/errors');\n+const { ERR_INVALID_CALLBACK } = require('internal/errors').codes;\n const debug = util.debuglog('timer');\n const {\n   destroyHooksExist,\n@@ -375,7 +375,7 @@ exports.enroll = util.deprecate(enroll,\n \n function setTimeout(callback, after, arg1, arg2, arg3) {\n   if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   var i, args;\n@@ -466,7 +466,7 @@ const clearTimeout = exports.clearTimeout = function(timer) {\n \n exports.setInterval = function(callback, repeat, arg1, arg2, arg3) {\n   if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   var i, args;\n@@ -739,7 +739,7 @@ const Immediate = class Immediate {\n \n function setImmediate(callback, arg1, arg2, arg3) {\n   if (typeof callback !== 'function') {\n-    throw new errors.TypeError('ERR_INVALID_CALLBACK');\n+    throw new ERR_INVALID_CALLBACK();\n   }\n \n   var i, args;"
        },
        {
            "sha": "5d7999f1fb61ada213e1ca817803694df0324fcf",
            "filename": "lib/tls.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftls.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftls.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ftls.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -21,7 +21,7 @@\n \n 'use strict';\n \n-const errors = require('internal/errors');\n+const { ERR_TLS_CERT_ALTNAME_INVALID } = require('internal/errors').codes;\n const internalUtil = require('internal/util');\n const internalTLS = require('internal/tls');\n internalUtil.assertCrypto();\n@@ -224,7 +224,7 @@ exports.checkServerIdentity = function checkServerIdentity(host, cert) {\n   }\n \n   if (!valid) {\n-    const err = new errors.Error('ERR_TLS_CERT_ALTNAME_INVALID', reason);\n+    const err = new ERR_TLS_CERT_ALTNAME_INVALID(reason);\n     err.reason = reason;\n     err.host = host;\n     err.cert = cert;"
        },
        {
            "sha": "51ec1cf89810bdd4ca9f993a9b43d69c79b248c3",
            "filename": "lib/tty.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftty.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Ftty.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Ftty.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -25,6 +25,7 @@ const { inherits, _extend } = require('util');\n const net = require('net');\n const { TTY, isTTY } = process.binding('tty_wrap');\n const errors = require('internal/errors');\n+const { ERR_INVALID_FD } = errors.codes;\n const readline = require('readline');\n const { release } = require('os');\n \n@@ -43,7 +44,7 @@ function ReadStream(fd, options) {\n   if (!(this instanceof ReadStream))\n     return new ReadStream(fd, options);\n   if (fd >> 0 !== fd || fd < 0)\n-    throw new errors.RangeError('ERR_INVALID_FD', fd);\n+    throw new ERR_INVALID_FD(fd);\n \n   const ctx = {};\n   const tty = new TTY(fd, true, ctx);\n@@ -75,7 +76,7 @@ function WriteStream(fd) {\n   if (!(this instanceof WriteStream))\n     return new WriteStream(fd);\n   if (fd >> 0 !== fd || fd < 0)\n-    throw new errors.RangeError('ERR_INVALID_FD', fd);\n+    throw new ERR_INVALID_FD(fd);\n \n   const ctx = {};\n   const tty = new TTY(fd, false, ctx);"
        },
        {
            "sha": "bb6637809adb70e1aae88344f3b443ef5627d3e6",
            "filename": "lib/url.js",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Furl.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Furl.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Furl.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -26,7 +26,9 @@ const { toASCII } = process.binding('config').hasIntl ?\n \n const { hexTable } = require('internal/querystring');\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_INVALID_ARG_TYPE\n+} = require('internal/errors').codes;\n \n const { spliceOne } = require('internal/util');\n \n@@ -103,7 +105,7 @@ function urlParse(url, parseQueryString, slashesDenoteHost) {\n \n Url.prototype.parse = function parse(url, parseQueryString, slashesDenoteHost) {\n   if (typeof url !== 'string') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'url', 'string', url);\n+    throw new ERR_INVALID_ARG_TYPE('url', 'string', url);\n   }\n \n   // Copy chrome, IE, opera backslash-handling behavior.\n@@ -493,8 +495,8 @@ function urlFormat(urlObject, options) {\n   if (typeof urlObject === 'string') {\n     urlObject = urlParse(urlObject);\n   } else if (typeof urlObject !== 'object' || urlObject === null) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'urlObject',\n-                               ['Object', 'string'], urlObject);\n+    throw new ERR_INVALID_ARG_TYPE('urlObject',\n+                                   ['Object', 'string'], urlObject);\n   } else if (!(urlObject instanceof Url)) {\n     var format = urlObject[formatSymbol];\n     return format ?"
        },
        {
            "sha": "70a76ccdcf813fd0a982e7106e16b81bfe5ce397",
            "filename": "lib/util.js",
            "status": "modified",
            "additions": 14,
            "deletions": 17,
            "changes": 31,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Futil.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Futil.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Futil.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -22,6 +22,11 @@\n 'use strict';\n \n const errors = require('internal/errors');\n+const {\n+  ERR_FALSY_VALUE_REJECTION,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_OUT_OF_RANGE\n+} = errors.codes;\n const { TextDecoder, TextEncoder } = require('internal/encoding');\n const { isBuffer } = require('buffer').Buffer;\n \n@@ -317,7 +322,7 @@ Object.defineProperty(inspect, 'defaultOptions', {\n   },\n   set(options) {\n     if (options === null || typeof options !== 'object') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options', 'Object');\n+      throw new ERR_INVALID_ARG_TYPE('options', 'Object');\n     }\n     return _extend(inspectDefaultOptions, options);\n   }\n@@ -1012,14 +1017,13 @@ function log() {\n function inherits(ctor, superCtor) {\n \n   if (ctor === undefined || ctor === null)\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'ctor', 'Function');\n+    throw new ERR_INVALID_ARG_TYPE('ctor', 'Function');\n \n   if (superCtor === undefined || superCtor === null)\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'superCtor', 'Function');\n+    throw new ERR_INVALID_ARG_TYPE('superCtor', 'Function');\n \n   if (superCtor.prototype === undefined) {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'superCtor.prototype',\n-                               'Function');\n+    throw new ERR_INVALID_ARG_TYPE('superCtor.prototype', 'Function');\n   }\n   ctor.super_ = superCtor;\n   Object.setPrototypeOf(ctor.prototype, superCtor.prototype);\n@@ -1067,7 +1071,7 @@ function callbackifyOnRejected(reason, cb) {\n   // occurred\", we error-wrap so the callback consumer can distinguish between\n   // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n   if (!reason) {\n-    const newReason = new errors.Error('ERR_FALSY_VALUE_REJECTION');\n+    const newReason = new ERR_FALSY_VALUE_REJECTION();\n     newReason.reason = reason;\n     reason = newReason;\n     Error.captureStackTrace(reason, callbackifyOnRejected);\n@@ -1077,10 +1081,7 @@ function callbackifyOnRejected(reason, cb) {\n \n function callbackify(original) {\n   if (typeof original !== 'function') {\n-    throw new errors.TypeError(\n-      'ERR_INVALID_ARG_TYPE',\n-      'original',\n-      'Function');\n+    throw new ERR_INVALID_ARG_TYPE('original', 'Function');\n   }\n \n   // We DO NOT return the promise as it gives the user a false sense that\n@@ -1089,10 +1090,7 @@ function callbackify(original) {\n   function callbackified(...args) {\n     const maybeCb = args.pop();\n     if (typeof maybeCb !== 'function') {\n-      throw new errors.TypeError(\n-        'ERR_INVALID_ARG_TYPE',\n-        'last argument',\n-        'Function');\n+      throw new ERR_INVALID_ARG_TYPE('last argument', 'Function');\n     }\n     const cb = (...args) => { Reflect.apply(maybeCb, this, args); };\n     // In true node style we process the callback on `nextTick` with all the\n@@ -1110,11 +1108,10 @@ function callbackify(original) {\n \n function getSystemErrorName(err) {\n   if (typeof err !== 'number') {\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'err', 'number', err);\n+    throw new ERR_INVALID_ARG_TYPE('err', 'number', err);\n   }\n   if (err >= 0 || !Number.isSafeInteger(err)) {\n-    throw new errors.RangeError('ERR_OUT_OF_RANGE', 'err',\n-                                'a negative integer', err);\n+    throw new ERR_OUT_OF_RANGE('err', 'a negative integer', err);\n   }\n   return internalErrorName(err);\n }"
        },
        {
            "sha": "0e2a6533dc87cc2688aa4b923dbc568ba3901a75",
            "filename": "lib/v8.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fv8.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fv8.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fv8.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -15,7 +15,7 @@\n 'use strict';\n \n const { Buffer } = require('buffer');\n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n const {\n   Serializer: _Serializer,\n   Deserializer: _Deserializer\n@@ -67,7 +67,7 @@ const heapSpaceStatisticsBuffer =\n \n function setFlagsFromString(flags) {\n   if (typeof flags !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'flags', 'string');\n+    throw new ERR_INVALID_ARG_TYPE('flags', 'string');\n   _setFlagsFromString(flags);\n }\n "
        },
        {
            "sha": "554aff8bfcc1b09055905d9a375d7b2ac16fc1c8",
            "filename": "lib/vm.js",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fvm.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fvm.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fvm.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -29,7 +29,7 @@ const {\n   isContext,\n } = process.binding('contextify');\n \n-const errors = require('internal/errors');\n+const { ERR_INVALID_ARG_TYPE } = require('internal/errors').codes;\n \n // The binding provides a few useful primitives:\n // - Script(code, { filename = \"evalmachine.anonymous\",\n@@ -81,8 +81,7 @@ Script.prototype.runInNewContext = function(sandbox, options) {\n \n function validateString(prop, propName) {\n   if (prop !== undefined && typeof prop !== 'string')\n-    throw new errors.TypeError('ERR_INVALID_ARG_TYPE', propName,\n-                               'string', prop);\n+    throw new ERR_INVALID_ARG_TYPE(propName, 'string', prop);\n }\n \n function getContextOptions(options) {\n@@ -108,8 +107,7 @@ function createContext(sandbox, options) {\n \n   if (options !== undefined) {\n     if (typeof options !== 'object' || options === null) {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options',\n-                                 'object', options);\n+      throw new ERR_INVALID_ARG_TYPE('options', 'object', options);\n     }\n     options = {\n       name: options.name,\n@@ -118,8 +116,7 @@ function createContext(sandbox, options) {\n     if (options.name === undefined) {\n       options.name = `VM Context ${defaultContextNameIndex++}`;\n     } else if (typeof options.name !== 'string') {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE', 'options.name',\n-                                 'string', options.name);\n+      throw new ERR_INVALID_ARG_TYPE('options.name', 'string', options.name);\n     }\n     validateString(options.origin, 'options.origin');\n   } else {"
        },
        {
            "sha": "93f878712add0884e95f4aaee2f564bf1e8dfd37",
            "filename": "lib/zlib.js",
            "status": "modified",
            "additions": 25,
            "deletions": 20,
            "changes": 45,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fzlib.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/lib%2Fzlib.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Fzlib.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -21,7 +21,13 @@\n \n 'use strict';\n \n-const errors = require('internal/errors');\n+const {\n+  ERR_BUFFER_TOO_LARGE,\n+  ERR_INVALID_ARG_TYPE,\n+  ERR_OUT_OF_RANGE,\n+  ERR_ZLIB_BINDING_CLOSED,\n+  ERR_ZLIB_INITIALIZATION_FAILED\n+} = require('internal/errors').codes;\n const Transform = require('_stream_transform');\n const { _extend } = require('util');\n const { isAnyArrayBuffer } = process.binding('util');\n@@ -97,7 +103,7 @@ function zlibBufferOnEnd() {\n   var buf;\n   var err;\n   if (this.nread >= kMaxLength) {\n-    err = new errors.RangeError('ERR_BUFFER_TOO_LARGE');\n+    err = new ERR_BUFFER_TOO_LARGE();\n   } else if (this.nread === 0) {\n     buf = Buffer.alloc(0);\n   } else {\n@@ -120,10 +126,10 @@ function zlibBufferSync(engine, buffer) {\n     if (isAnyArrayBuffer(buffer)) {\n       buffer = Buffer.from(buffer);\n     } else {\n-      throw new errors.TypeError('ERR_INVALID_ARG_TYPE',\n-                                 'buffer',\n-                                 ['string', 'Buffer', 'TypedArray', 'DataView',\n-                                  'ArrayBuffer']);\n+      throw new ERR_INVALID_ARG_TYPE(\n+        'buffer',\n+        ['string', 'Buffer', 'TypedArray', 'DataView', 'ArrayBuffer']\n+      );\n     }\n   }\n   buffer = processChunkSync(engine, buffer, engine._finishFlushFlag);\n@@ -172,15 +178,13 @@ function checkFiniteNumber(number, name) {\n \n   // Other non-numbers\n   if (typeof number !== 'number') {\n-    const err = new errors.TypeError('ERR_INVALID_ARG_TYPE', name,\n-                                     'number', number);\n+    const err = new ERR_INVALID_ARG_TYPE(name, 'number', number);\n     Error.captureStackTrace(err, checkFiniteNumber);\n     throw err;\n   }\n \n   // Infinite numbers\n-  const err = new errors.RangeError('ERR_OUT_OF_RANGE', name,\n-                                    'a finite number', number);\n+  const err = new ERR_OUT_OF_RANGE(name, 'a finite number', number);\n   Error.captureStackTrace(err, checkFiniteNumber);\n   throw err;\n }\n@@ -194,8 +198,8 @@ function checkRangesOrGetDefault(number, name, lower, upper, def) {\n     return def;\n   }\n   if (number < lower || number > upper) {\n-    const err = new errors.RangeError('ERR_OUT_OF_RANGE', name,\n-                                      `>= ${lower} and <= ${upper}`, number);\n+    const err = new ERR_OUT_OF_RANGE(name,\n+                                     `>= ${lower} and <= ${upper}`, number);\n     Error.captureStackTrace(err, checkRangesOrGetDefault);\n     throw err;\n   }\n@@ -226,8 +230,8 @@ function Zlib(opts, mode) {\n     if (!checkFiniteNumber(chunkSize, 'options.chunkSize')) {\n       chunkSize = Z_DEFAULT_CHUNK;\n     } else if (chunkSize < Z_MIN_CHUNK) {\n-      throw new errors.RangeError('ERR_OUT_OF_RANGE', 'options.chunkSize',\n-                                  `>= ${Z_MIN_CHUNK}`, chunkSize);\n+      throw new ERR_OUT_OF_RANGE('options.chunkSize',\n+                                 `>= ${Z_MIN_CHUNK}`, chunkSize);\n     }\n \n     flush = checkRangesOrGetDefault(\n@@ -259,10 +263,11 @@ function Zlib(opts, mode) {\n       if (isAnyArrayBuffer(dictionary)) {\n         dictionary = Buffer.from(dictionary);\n       } else {\n-        throw new errors.TypeError(\n-          'ERR_INVALID_ARG_TYPE', 'options.dictionary',\n+        throw new ERR_INVALID_ARG_TYPE(\n+          'options.dictionary',\n           ['Buffer', 'TypedArray', 'DataView', 'ArrayBuffer'],\n-          dictionary);\n+          dictionary\n+        );\n       }\n     }\n \n@@ -288,7 +293,7 @@ function Zlib(opts, mode) {\n                          this._writeState,\n                          processCallback,\n                          dictionary)) {\n-    throw new errors.Error('ERR_ZLIB_INITIALIZATION_FAILED');\n+    throw new ERR_ZLIB_INITIALIZATION_FAILED();\n   }\n \n   this._outBuffer = Buffer.allocUnsafe(chunkSize);\n@@ -491,7 +496,7 @@ function processChunkSync(self, chunk, flushFlag) {\n \n   if (nread >= kMaxLength) {\n     _close(self);\n-    throw new errors.RangeError('ERR_BUFFER_TOO_LARGE');\n+    throw new ERR_BUFFER_TOO_LARGE();\n   }\n \n   _close(self);\n@@ -505,7 +510,7 @@ function processChunkSync(self, chunk, flushFlag) {\n function processChunk(self, chunk, flushFlag, cb) {\n   var handle = self._handle;\n   if (!handle)\n-    return cb(new errors.Error('ERR_ZLIB_BINDING_CLOSED'));\n+    return cb(new ERR_ZLIB_BINDING_CLOSED());\n \n   handle.buffer = chunk;\n   handle.cb = cb;"
        },
        {
            "sha": "802acad103137428dcd410c0e1ab26ccc884c3c9",
            "filename": "test/parallel/test-child-process-spawnsync-validation-errors.js",
            "status": "modified",
            "additions": 8,
            "deletions": 10,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-child-process-spawnsync-validation-errors.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-child-process-spawnsync-validation-errors.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-child-process-spawnsync-validation-errors.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -8,10 +8,10 @@ let invalidArgTypeError;\n \n if (common.isWindows) {\n   invalidArgTypeError =\n-    common.expectsError({ code: 'ERR_INVALID_ARG_TYPE', type: TypeError }, 36);\n+    common.expectsError({ code: 'ERR_INVALID_ARG_TYPE', type: TypeError }, 42);\n } else {\n   invalidArgTypeError =\n-    common.expectsError({ code: 'ERR_INVALID_ARG_TYPE', type: TypeError }, 56);\n+    common.expectsError({ code: 'ERR_INVALID_ARG_TYPE', type: TypeError }, 62);\n }\n \n const invalidRangeError =\n@@ -127,18 +127,16 @@ if (!common.isWindows) {\n \n {\n   // Validate the windowsHide option\n-  const err = /^TypeError: \"windowsHide\" must be a boolean$/;\n-\n   pass('windowsHide', undefined);\n   pass('windowsHide', null);\n   pass('windowsHide', true);\n   pass('windowsHide', false);\n-  fail('windowsHide', 0, err);\n-  fail('windowsHide', 1, err);\n-  fail('windowsHide', __dirname, err);\n-  fail('windowsHide', [], err);\n-  fail('windowsHide', {}, err);\n-  fail('windowsHide', common.mustNotCall(), err);\n+  fail('windowsHide', 0, invalidArgTypeError);\n+  fail('windowsHide', 1, invalidArgTypeError);\n+  fail('windowsHide', __dirname, invalidArgTypeError);\n+  fail('windowsHide', [], invalidArgTypeError);\n+  fail('windowsHide', {}, invalidArgTypeError);\n+  fail('windowsHide', common.mustNotCall(), invalidArgTypeError);\n }\n \n {"
        },
        {
            "sha": "86932bd759d20c92d442e6ac92ae46256eb1ec62",
            "filename": "test/parallel/test-module-loading-error.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-module-loading-error.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-module-loading-error.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-module-loading-error.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -74,7 +74,7 @@ const re = /^The \"id\" argument must be of type string\\. Received type \\w+$/;\n common.expectsError(\n   () => { require(''); },\n   {\n-    type: Error,\n+    type: TypeError,\n     code: 'ERR_INVALID_ARG_VALUE',\n     message: 'The argument \\'id\\' must be a non-empty string. Received \\'\\''\n   });"
        },
        {
            "sha": "4f7a6bd28f561a7f48fd75e2511b8c66eae5510b",
            "filename": "test/parallel/test-net-server-listen-options.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-net-server-listen-options.js",
            "raw_url": "https://github.com/nodejs/node/raw/1e8d110e640c658e4f6ed7540db62d063269ba6c/test%2Fparallel%2Ftest-net-server-listen-options.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-net-server-listen-options.js?ref=1e8d110e640c658e4f6ed7540db62d063269ba6c",
            "patch": "@@ -60,7 +60,7 @@ const listenOnPort = [\n     common.expectsError(block,\n                         {\n                           code: 'ERR_INVALID_OPT_VALUE',\n-                          type: Error,\n+                          type: TypeError,\n                           message: /^The value \"{.*}\" is invalid for option \"options\"$/\n                         });\n   }"
        }
    ],
    "stats": {
        "total": 795,
        "additions": 377,
        "deletions": 418
    }
}