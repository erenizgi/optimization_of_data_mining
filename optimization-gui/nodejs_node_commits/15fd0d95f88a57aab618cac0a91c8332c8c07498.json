{
    "author": "danbev",
    "message": "src: fix node_crypto.cc compiler warnings\n\nCurrently the following compiler warnings are issued by clang:\n\n../src/node_crypto.cc:2801:56:\nwarning: '&&' within '||' [-Wlogical-op-parentheses]\nreturn tag_len == 4 || tag_len == 8 || tag_len >= 12 && tag_len <= 16;\n                                    ~~ ~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~\n../src/node_crypto.cc:2801:56:\nnote: place parentheses around the '&&' expression to silence this\nwarning\nreturn tag_len == 4 || tag_len == 8 || tag_len >= 12 && tag_len <= 16;\n                                                     ^\n../src/node_crypto.cc:2925:51:\nwarning: '&&' within '||' [-Wlogical-op-parentheses]\n    if (cipher->auth_tag_len_ != kNoAuthTagLength &&\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~\n../src/node_crypto.cc:2925:51:\nnote: place parentheses around the '&&' expression to silence this\nwarning\n    if (cipher->auth_tag_len_ != kNoAuthTagLength &&\n                                                  ^\n\nThis commit adds parenthesis around these expressions to silence the\nwarnings.\n\nPR-URL: https://github.com/nodejs/node/pull/20216\nReviewed-By: Richard Lau <riclau@uk.ibm.com>\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "15fd0d95f88a57aab618cac0a91c8332c8c07498",
    "files": [
        {
            "sha": "04a5924c0972961e0f30f279c82e336ff3411ee4",
            "filename": "src/node_crypto.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/nodejs/node/blob/15fd0d95f88a57aab618cac0a91c8332c8c07498/src%2Fnode_crypto.cc",
            "raw_url": "https://github.com/nodejs/node/raw/15fd0d95f88a57aab618cac0a91c8332c8c07498/src%2Fnode_crypto.cc",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/src%2Fnode_crypto.cc?ref=15fd0d95f88a57aab618cac0a91c8332c8c07498",
            "patch": "@@ -2798,7 +2798,7 @@ void CipherBase::InitIv(const FunctionCallbackInfo<Value>& args) {\n \n \n static bool IsValidGCMTagLength(unsigned int tag_len) {\n-  return tag_len == 4 || tag_len == 8 || tag_len >= 12 && tag_len <= 16;\n+  return tag_len == 4 || tag_len == 8 || (tag_len >= 12 && tag_len <= 16);\n }\n \n bool CipherBase::InitAuthenticated(const char *cipher_type, int iv_len,\n@@ -2922,8 +2922,8 @@ void CipherBase::SetAuthTag(const FunctionCallbackInfo<Value>& args) {\n   unsigned int tag_len = Buffer::Length(args[0]);\n   const int mode = EVP_CIPHER_CTX_mode(cipher->ctx_);\n   if (mode == EVP_CIPH_GCM_MODE) {\n-    if (cipher->auth_tag_len_ != kNoAuthTagLength &&\n-        cipher->auth_tag_len_ != tag_len ||\n+    if ((cipher->auth_tag_len_ != kNoAuthTagLength &&\n+        cipher->auth_tag_len_ != tag_len) ||\n         !IsValidGCMTagLength(tag_len)) {\n       char msg[50];\n       snprintf(msg, sizeof(msg),"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}