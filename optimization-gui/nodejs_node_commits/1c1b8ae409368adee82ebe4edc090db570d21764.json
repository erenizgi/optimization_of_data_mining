{
    "author": "cjihrig",
    "message": "lib: support ranges in validateInt32()\n\nThis commit adds minimum and maximum value checks to the\nvalidateInt32() validator.\n\nPR-URL: https://github.com/nodejs/node/pull/20588\nFixes: https://github.com/nodejs/node/issues/20498\nReviewed-By: Joyee Cheung <joyeec9h3@gmail.com>\nReviewed-By: Weijia Wang <starkwang@126.com>\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "1c1b8ae409368adee82ebe4edc090db570d21764",
    "files": [
        {
            "sha": "7fea1bdf84c1736e2f35ddd9604864f9a55f1f28",
            "filename": "lib/internal/validators.js",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/nodejs/node/blob/1c1b8ae409368adee82ebe4edc090db570d21764/lib%2Finternal%2Fvalidators.js",
            "raw_url": "https://github.com/nodejs/node/raw/1c1b8ae409368adee82ebe4edc090db570d21764/lib%2Finternal%2Fvalidators.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2Finternal%2Fvalidators.js?ref=1c1b8ae409368adee82ebe4edc090db570d21764",
            "patch": "@@ -48,19 +48,23 @@ function validateAndMaskMode(value, name, def) {\n   throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc);\n }\n \n-function validateInt32(value, name) {\n+function validateInt32(value, name, min = -2147483648, max = 2147483647) {\n+  // The defaults for min and max correspond to the limits of 32-bit integers.\n   if (!isInt32(value)) {\n     let err;\n     if (typeof value !== 'number') {\n       err = new ERR_INVALID_ARG_TYPE(name, 'number', value);\n     } else if (!Number.isInteger(value)) {\n       err = new ERR_OUT_OF_RANGE(name, 'an integer', value);\n     } else {\n-      // 2 ** 31 === 2147483648\n-      err = new ERR_OUT_OF_RANGE(name, '> -2147483649 && < 2147483648', value);\n+      err = new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value);\n     }\n     Error.captureStackTrace(err, validateInt32);\n     throw err;\n+  } else if (value < min || value > max) {\n+    const err = new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value);\n+    Error.captureStackTrace(err, validateInt32);\n+    throw err;\n   }\n }\n "
        },
        {
            "sha": "eb469b8e271aed18179fd6721d27f1f7343cfd16",
            "filename": "test/parallel/test-fs-truncate.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/nodejs/node/blob/1c1b8ae409368adee82ebe4edc090db570d21764/test%2Fparallel%2Ftest-fs-truncate.js",
            "raw_url": "https://github.com/nodejs/node/raw/1c1b8ae409368adee82ebe4edc090db570d21764/test%2Fparallel%2Ftest-fs-truncate.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-fs-truncate.js?ref=1c1b8ae409368adee82ebe4edc090db570d21764",
            "patch": "@@ -210,7 +210,7 @@ function testFtruncate(cb) {\n         code: 'ERR_OUT_OF_RANGE',\n         name: 'RangeError [ERR_OUT_OF_RANGE]',\n         message: 'The value of \"len\" is out of range. It must be ' +\n-                  `> -2147483649 && < 2147483648. Received ${input}`\n+                  `>= -2147483648 && <= 2147483647. Received ${input}`\n       }\n     );\n   });"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 8,
        "deletions": 4
    }
}