{
    "author": "unknown",
    "message": "test: remove obsolete domain test\n\ntest-microtask-queue-run-immediate-domain.js tests that the behavior of\nanother test, test-microtask-queue-run-immediate.js, is still\nconsistent when the core domain module is loaded.\n\nThis was needed because before the changes in\nhttps://github.com/nodejs/node/pull/1622 were merged, the core domain\nmodule would replace the function that would call nextTick callbacks\nwith a different implementation.\n\nThis is no longer the case, and as such that test is no longer needed.\n\nR-URL: https://github.com/nodejs/node/pull/23252\nRefs: https://github.com/nodejs/node/pull/16222\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: Ruben Bridgewater <ruben@bridgewater.de>\nReviewed-By: Anna Henningsen <anna@addaleax.net>\nReviewed-By: Michael Dawson <michael_dawson@ca.ibm.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "a8526cb5a46df0cd8052ca1a13cab78e0e0c6a4b",
    "files": [
        {
            "sha": "60b17bc38c2670a60083e82761b97a8e2eec662b",
            "filename": "test/parallel/test-microtask-queue-run-immediate-domain.js",
            "status": "removed",
            "additions": 0,
            "deletions": 66,
            "changes": 66,
            "blob_url": "https://github.com/nodejs/node/blob/2cf6a9483978c987351c5469d89bba6c37f95535/test%2Fparallel%2Ftest-microtask-queue-run-immediate-domain.js",
            "raw_url": "https://github.com/nodejs/node/raw/2cf6a9483978c987351c5469d89bba6c37f95535/test%2Fparallel%2Ftest-microtask-queue-run-immediate-domain.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-microtask-queue-run-immediate-domain.js?ref=2cf6a9483978c987351c5469d89bba6c37f95535",
            "patch": "@@ -1,66 +0,0 @@\n-// Copyright Joyent, Inc. and other Node contributors.\n-//\n-// Permission is hereby granted, free of charge, to any person obtaining a\n-// copy of this software and associated documentation files (the\n-// \"Software\"), to deal in the Software without restriction, including\n-// without limitation the rights to use, copy, modify, merge, publish,\n-// distribute, sublicense, and/or sell copies of the Software, and to permit\n-// persons to whom the Software is furnished to do so, subject to the\n-// following conditions:\n-//\n-// The above copyright notice and this permission notice shall be included\n-// in all copies or substantial portions of the Software.\n-//\n-// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n-// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n-// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n-// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n-// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n-// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n-// USE OR OTHER DEALINGS IN THE SOFTWARE.\n-\n-'use strict';\n-require('../common');\n-const assert = require('assert');\n-\n-// Requiring the domain module here changes the function that is used by node to\n-// call process.nextTick's callbacks to a variant that specifically handles\n-// domains. We want to test this specific variant in this test, and so even if\n-// the domain module is not used, this require call is needed and must not be\n-// removed.\n-require('domain');\n-\n-function enqueueMicrotask(fn) {\n-  Promise.resolve().then(fn);\n-}\n-\n-let done = 0;\n-\n-process.on('exit', function() {\n-  assert.strictEqual(done, 2);\n-});\n-\n-// no nextTick, microtask\n-setImmediate(function() {\n-  enqueueMicrotask(function() {\n-    done++;\n-  });\n-});\n-\n-\n-// no nextTick, microtask with nextTick\n-setImmediate(function() {\n-  let called = false;\n-\n-  enqueueMicrotask(function() {\n-    process.nextTick(function() {\n-      called = true;\n-    });\n-  });\n-\n-  setImmediate(function() {\n-    if (called)\n-      done++;\n-  });\n-\n-});"
        }
    ],
    "stats": {
        "total": 66,
        "additions": 0,
        "deletions": 66
    }
}