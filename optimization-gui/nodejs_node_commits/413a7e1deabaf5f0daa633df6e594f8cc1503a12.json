{
    "author": "antsmartian",
    "message": "http: adding doc and debug for calling empty string on write function\n\nPR-URL: https://github.com/nodejs/node/pull/22118\nReviewed-By: Rich Trott <rtrott@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>\nReviewed-By: Trivikram Kamat <trivikr.dev@gmail.com>\nReviewed-By: Matteo Collina <matteo.collina@gmail.com>",
    "sha": "413a7e1deabaf5f0daa633df6e594f8cc1503a12",
    "files": [
        {
            "sha": "e781d63ac44b57631f5720ea0347da5c125eca46",
            "filename": "doc/api/http.md",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/nodejs/node/blob/413a7e1deabaf5f0daa633df6e594f8cc1503a12/doc%2Fapi%2Fhttp.md",
            "raw_url": "https://github.com/nodejs/node/raw/413a7e1deabaf5f0daa633df6e594f8cc1503a12/doc%2Fapi%2Fhttp.md",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/doc%2Fapi%2Fhttp.md?ref=413a7e1deabaf5f0daa633df6e594f8cc1503a12",
            "patch": "@@ -750,6 +750,9 @@ Returns `true` if the entire data was flushed successfully to the kernel\n buffer. Returns `false` if all or part of the data was queued in user memory.\n `'drain'` will be emitted when the buffer is free again.\n \n+When `write` function is called with empty string or buffer, it does\n+nothing and waits for more input.\n+\n ## Class: http.Server\n <!-- YAML\n added: v0.1.17"
        },
        {
            "sha": "67d0090d7dabf72e90196b95e33f655f1cbb1361",
            "filename": "lib/_http_outgoing.js",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/nodejs/node/blob/413a7e1deabaf5f0daa633df6e594f8cc1503a12/lib%2F_http_outgoing.js",
            "raw_url": "https://github.com/nodejs/node/raw/413a7e1deabaf5f0daa633df6e594f8cc1503a12/lib%2F_http_outgoing.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/lib%2F_http_outgoing.js?ref=413a7e1deabaf5f0daa633df6e594f8cc1503a12",
            "patch": "@@ -599,7 +599,10 @@ function write_(msg, chunk, encoding, callback, fromEnd) {\n \n   // If we get an empty string or buffer, then just do nothing, and\n   // signal the user to keep writing.\n-  if (chunk.length === 0) return true;\n+  if (chunk.length === 0) {\n+    debug('received empty string or buffer and waiting for more input');\n+    return true;\n+  }\n \n   if (!fromEnd && msg.connection && !msg[kIsCorked]) {\n     msg.connection.cork();"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}