{
    "author": "addaleax",
    "message": "test: add test for `worker.terminate()` + timeout fns\n\nPR-URL: https://github.com/nodejs/node/pull/25735\nReviewed-By: Gireesh Punathil <gpunathi@in.ibm.com>\nReviewed-By: Colin Ihrig <cjihrig@gmail.com>\nReviewed-By: James M Snell <jasnell@gmail.com>",
    "sha": "ef307bfd17410fb52e241e80392b5876a8aadd27",
    "files": [
        {
            "sha": "62360a6cdbfc189ef3cd3c562362d90225471545",
            "filename": "test/parallel/test-worker-terminate-timers.js",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/nodejs/node/blob/ef307bfd17410fb52e241e80392b5876a8aadd27/test%2Fparallel%2Ftest-worker-terminate-timers.js",
            "raw_url": "https://github.com/nodejs/node/raw/ef307bfd17410fb52e241e80392b5876a8aadd27/test%2Fparallel%2Ftest-worker-terminate-timers.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-worker-terminate-timers.js?ref=ef307bfd17410fb52e241e80392b5876a8aadd27",
            "patch": "@@ -0,0 +1,18 @@\n+'use strict';\n+const common = require('../common');\n+const { Worker } = require('worker_threads');\n+\n+// Test that calling .terminate() during a timer callback works fine.\n+\n+for (const fn of ['setTimeout', 'setImmediate', 'setInterval']) {\n+  const worker = new Worker(`\n+  const { parentPort } = require('worker_threads');\n+  ${fn}(() => {\n+    require('worker_threads').parentPort.postMessage({});\n+    while (true);\n+  });`, { eval: true });\n+\n+  worker.on('message', common.mustCallAtLeast(() => {\n+    worker.terminate();\n+  }));\n+}"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}