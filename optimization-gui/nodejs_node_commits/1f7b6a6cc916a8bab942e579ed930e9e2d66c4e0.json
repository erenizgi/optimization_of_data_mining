{
    "author": "cjihrig",
    "message": "test: terminate cluster worker in infinite loop\n\nVerify that worker.process.kill() can terminate a cluster worker\nstuck in an infinite loop.\n\nPR-URL: https://github.com/nodejs/node/pull/23165\nFixes: https://github.com/nodejs/node/issues/22703\nReviewed-By: Luigi Pinca <luigipinca@gmail.com>\nReviewed-By: Sakthipriyan Vairamani <thechargingvolcano@gmail.com>",
    "sha": "1f7b6a6cc916a8bab942e579ed930e9e2d66c4e0",
    "files": [
        {
            "sha": "f53e6e3976ec28524b27aab18c7daa2a84f1ccc0",
            "filename": "test/parallel/test-cluster-kill-infinite-loop.js",
            "status": "added",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/nodejs/node/blob/1f7b6a6cc916a8bab942e579ed930e9e2d66c4e0/test%2Fparallel%2Ftest-cluster-kill-infinite-loop.js",
            "raw_url": "https://github.com/nodejs/node/raw/1f7b6a6cc916a8bab942e579ed930e9e2d66c4e0/test%2Fparallel%2Ftest-cluster-kill-infinite-loop.js",
            "contents_url": "https://api.github.com/repos/nodejs/node/contents/test%2Fparallel%2Ftest-cluster-kill-infinite-loop.js?ref=1f7b6a6cc916a8bab942e579ed930e9e2d66c4e0",
            "patch": "@@ -0,0 +1,21 @@\n+'use strict';\n+const common = require('../common');\n+const cluster = require('cluster');\n+const assert = require('assert');\n+\n+if (cluster.isMaster) {\n+  const worker = cluster.fork();\n+\n+  worker.on('online', common.mustCall(() => {\n+    // Use worker.process.kill() instead of worker.kill() because the latter\n+    // waits for a graceful disconnect, which will never happen.\n+    worker.process.kill();\n+  }));\n+\n+  worker.on('exit', common.mustCall((code, signal) => {\n+    assert.strictEqual(code, null);\n+    assert.strictEqual(signal, 'SIGTERM');\n+  }));\n+} else {\n+  while (true) {}\n+}"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 21,
        "deletions": 0
    }
}