{
    "author": "claudep",
    "message": "Separated GIS installation docs in sections",
    "sha": "3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
    "files": [
        {
            "sha": "6a1402bfab75713e46900462803a448e688c634a",
            "filename": "docs/ref/contrib/gis/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Findex.txt?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "patch": "@@ -15,7 +15,7 @@ of spatially enabled data.\n    :maxdepth: 2\n \n    tutorial\n-   install\n+   install/index\n    model-api\n    db-api\n    geoquerysets"
        },
        {
            "sha": "355fb55a47f660b19783110b28c3ee58b717bee5",
            "filename": "docs/ref/contrib/gis/install.txt",
            "status": "removed",
            "additions": 0,
            "deletions": 1311,
            "changes": 1311,
            "blob_url": "https://github.com/django/django/blob/7a908747a52f7cc12d7006058daad6a6c973c462/docs%2Fref%2Fcontrib%2Fgis%2Finstall.txt",
            "raw_url": "https://github.com/django/django/raw/7a908747a52f7cc12d7006058daad6a6c973c462/docs%2Fref%2Fcontrib%2Fgis%2Finstall.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall.txt?ref=7a908747a52f7cc12d7006058daad6a6c973c462",
            "patch": "@@ -1,1311 +0,0 @@\n-.. _ref-gis-install:\n-\n-======================\n-GeoDjango Installation\n-======================\n-\n-.. highlight:: console\n-\n-Overview\n-========\n-In general, GeoDjango installation requires:\n-\n-1. :ref:`Python and Django <django>`\n-2. :ref:`spatial_database`\n-3. :ref:`geospatial_libs`\n-\n-Details for each of the requirements and installation instructions\n-are provided in the sections below.   In addition, platform-specific\n-instructions are available for:\n-\n-* :ref:`macosx`\n-* :ref:`ubuntudebian`\n-* :ref:`windows`\n-\n-.. admonition:: Use the Source\n-\n-    Because GeoDjango takes advantage of the latest in the open source geospatial\n-    software technology, recent versions of the libraries are necessary.\n-    If binary packages aren't available for your platform,\n-    :ref:`installation from source <build_from_source>`\n-    may be required. When compiling the libraries from source, please follow the\n-    directions closely, especially if you're a beginner.\n-\n-Requirements\n-============\n-\n-.. _django:\n-\n-Python and Django\n------------------\n-\n-Because GeoDjango is included with Django, please refer to Django's\n-:ref:`installation instructions <installing-official-release>` for details on\n-how to install.\n-\n-\n-.. _spatial_database:\n-\n-Spatial database\n-----------------\n-PostgreSQL (with PostGIS), MySQL, Oracle, and SQLite (with SpatiaLite) are\n-the spatial databases currently supported.\n-\n-.. note::\n-\n-    PostGIS is recommended, because it is the most mature and feature-rich\n-    open source spatial database.\n-\n-The geospatial libraries required for a GeoDjango installation depends\n-on the spatial database used.  The following lists the library requirements,\n-supported versions, and any notes for each of the supported database backends:\n-\n-==================  ==============================  ==================  =========================================\n-Database            Library Requirements            Supported Versions  Notes\n-==================  ==============================  ==================  =========================================\n-PostgreSQL          GEOS, PROJ.4, PostGIS           8.2+                Requires PostGIS.\n-MySQL               GEOS                            5.x                 Not OGC-compliant; limited functionality.\n-Oracle              GEOS                            10.2, 11            XE not supported; not tested with 9.\n-SQLite              GEOS, GDAL, PROJ.4, SpatiaLite  3.6.+               Requires SpatiaLite 2.3+, pysqlite2 2.5+\n-==================  ==============================  ==================  =========================================\n-\n-See also `this comparison matrix`__ on the OSGeo Wiki for\n-PostgreSQL/PostGIS/GEOS/GDAL possible combinations.\n-\n-__ http://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS\n-\n-.. _geospatial_libs:\n-\n-Geospatial libraries\n---------------------\n-GeoDjango uses and/or provides interfaces for the following open source\n-geospatial libraries:\n-\n-========================  ====================================  ================================  ==========================\n-Program                   Description                           Required                          Supported Versions\n-========================  ====================================  ================================  ==========================\n-:ref:`GEOS <ref-geos>`    Geometry Engine Open Source           Yes                               3.3, 3.2, 3.1, 3.0\n-`PROJ.4`_                 Cartographic Projections library      Yes (PostgreSQL and SQLite only)  4.8, 4.7, 4.6, 4.5, 4.4\n-:ref:`GDAL <ref-gdal>`    Geospatial Data Abstraction Library   No (but, required for SQLite)     1.9, 1.8, 1.7, 1.6, 1.5\n-:ref:`GeoIP <ref-geoip>`  IP-based geolocation library          No                                1.4\n-`PostGIS`__               Spatial extensions for PostgreSQL     Yes (PostgreSQL only)             2.0, 1.5, 1.4, 1.3\n-`SpatiaLite`__            Spatial extensions for SQLite         Yes (SQLite only)                 3.0, 2.4, 2.3\n-========================  ====================================  ================================  ==========================\n-\n-.. admonition::  Install GDAL\n-\n-    While :ref:`gdalbuild` is technically not required, it is *recommended*.\n-    Important features of GeoDjango (including the :ref:`ref-layermapping`,\n-    geometry reprojection, and the geographic admin) depend on its\n-    functionality.\n-\n-.. note::\n-\n-    The GeoDjango interfaces to GEOS, GDAL, and GeoIP may be used\n-    independently of Django.  In other words, no database or settings file\n-    required -- just import them as normal from :mod:`django.contrib.gis`.\n-\n-.. _PROJ.4: http://trac.osgeo.org/proj/\n-__ http://postgis.refractions.net/\n-__ http://www.gaia-gis.it/gaia-sins/\n-\n-.. _build_from_source:\n-\n-Building from source\n-====================\n-\n-When installing from source on UNIX and GNU/Linux systems, please follow\n-the installation instructions carefully, and install the libraries in the\n-given order.  If using MySQL or Oracle as the spatial database, only GEOS\n-is required.\n-\n-.. note::\n-\n-   On Linux platforms, it may be necessary to run the ``ldconfig``\n-   command after installing each library.  For example::\n-\n-       $ sudo make install\n-       $ sudo ldconfig\n-\n-.. note::\n-\n-    OS X users are required to install `Apple Developer Tools`_ in order\n-    to compile software from source.  This is typically included on your\n-    OS X installation DVDs.\n-\n-.. _Apple Developer Tools: https://developer.apple.com/technologies/tools/\n-\n-.. _geosbuild:\n-\n-GEOS\n-----\n-\n-GEOS is a C++ library for performing geometric operations, and is the default\n-internal geometry representation used by GeoDjango (it's behind the \"lazy\"\n-geometries).  Specifically, the C API library is called (e.g., ``libgeos_c.so``)\n-directly from Python using ctypes.\n-\n-First, download GEOS 3.3.5 from the refractions Web site and untar the source\n-archive::\n-\n-    $ wget http://download.osgeo.org/geos/geos-3.3.5.tar.bz2\n-    $ tar xjf geos-3.3.5.tar.bz2\n-\n-Next, change into the directory where GEOS was unpacked, run the configure\n-script, compile, and install::\n-\n-    $ cd geos-3.3.5\n-    $ ./configure\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-Troubleshooting\n-^^^^^^^^^^^^^^^\n-\n-Can't find GEOS library\n-~~~~~~~~~~~~~~~~~~~~~~~\n-\n-When GeoDjango can't find GEOS, this error is raised:\n-\n-.. code-block:: text\n-\n-    ImportError: Could not find the GEOS library (tried \"geos_c\"). Try setting GEOS_LIBRARY_PATH in your settings.\n-\n-The most common solution is to properly configure your :ref:`libsettings` *or* set\n-:ref:`geoslibrarypath` in your settings.\n-\n-If using a binary package of GEOS (e.g., on Ubuntu), you may need to :ref:`binutils`.\n-\n-.. _geoslibrarypath:\n-\n-``GEOS_LIBRARY_PATH``\n-~~~~~~~~~~~~~~~~~~~~~\n-\n-If your GEOS library is in a non-standard location, or you don't want to\n-modify the system's library path then the :setting:`GEOS_LIBRARY_PATH`\n-setting may be added to your Django settings file with the full path to the\n-GEOS C library.  For example:\n-\n-.. code-block:: python\n-\n-    GEOS_LIBRARY_PATH = '/home/bob/local/lib/libgeos_c.so'\n-\n-.. note::\n-\n-    The setting must be the *full* path to the **C** shared library; in\n-    other words you want to use ``libgeos_c.so``, not ``libgeos.so``.\n-\n-See also :ref:`My logs are filled with GEOS-related errors <geos-exceptions-in-logfile>`.\n-\n-.. _proj4:\n-\n-PROJ.4\n-------\n-\n-`PROJ.4`_ is a library for converting geospatial data to different coordinate\n-reference systems.\n-\n-First, download the PROJ.4 source code and datum shifting files [#]_::\n-\n-    $ wget http://download.osgeo.org/proj/proj-4.8.0.tar.gz\n-    $ wget http://download.osgeo.org/proj/proj-datumgrid-1.5.tar.gz\n-\n-Next, untar the source code archive, and extract the datum shifting files in the\n-``nad`` subdirectory.  This must be done *prior* to configuration::\n-\n-    $ tar xzf proj-4.8.0.tar.gz\n-    $ cd proj-4.8.0/nad\n-    $ tar xzf ../../proj-datumgrid-1.5.tar.gz\n-    $ cd ..\n-\n-Finally, configure, make and install PROJ.4::\n-\n-    $ ./configure\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-.. _gdalbuild:\n-\n-GDAL\n-----\n-\n-`GDAL`__ is an excellent open source geospatial library that has support for\n-reading most vector and raster spatial data formats.  Currently, GeoDjango only\n-supports :ref:`GDAL's vector data <ref-gdal>` capabilities [#]_.\n-:ref:`geosbuild` and :ref:`proj4` should be installed prior to building GDAL.\n-\n-First download the latest GDAL release version and untar the archive::\n-\n-    $ wget http://download.osgeo.org/gdal/gdal-1.9.1.tar.gz\n-    $ tar xzf gdal-1.9.1.tar.gz\n-    $ cd gdal-1.9.1\n-\n-Configure, make and install::\n-\n-    $ ./configure\n-    $ make # Go get some coffee, this takes a while.\n-    $ sudo make install\n-    $ cd ..\n-\n-.. note::\n-\n-   Because GeoDjango has it's own Python interface, the preceding instructions\n-   do not build GDAL's own Python bindings.  The bindings may be built by\n-   adding the ``--with-python`` flag when running ``configure``.  See\n-   `GDAL/OGR In Python`__ for more information on GDAL's bindings.\n-\n-If you have any problems, please see the troubleshooting section below for\n-suggestions and solutions.\n-\n-__ http://trac.osgeo.org/gdal/\n-__ http://trac.osgeo.org/gdal/wiki/GdalOgrInPython\n-\n-.. _gdaltrouble:\n-\n-Troubleshooting\n-^^^^^^^^^^^^^^^\n-\n-Can't find GDAL library\n-~~~~~~~~~~~~~~~~~~~~~~~\n-\n-When GeoDjango can't find the GDAL library, the ``HAS_GDAL`` flag\n-will be false:\n-\n-.. code-block:: pycon\n-\n-    >>> from django.contrib.gis import gdal\n-    >>> gdal.HAS_GDAL\n-    False\n-\n-The solution is to properly configure your :ref:`libsettings` *or* set\n-:ref:`gdallibrarypath` in your settings.\n-\n-.. _gdallibrarypath:\n-\n-``GDAL_LIBRARY_PATH``\n-~~~~~~~~~~~~~~~~~~~~~\n-\n-If your GDAL library is in a non-standard location, or you don't want to\n-modify the system's library path then the :setting:`GDAL_LIBRARY_PATH`\n-setting may be added to your Django settings file with the full path to\n-the GDAL library.  For example:\n-\n-.. code-block:: python\n-\n-    GDAL_LIBRARY_PATH = '/home/sue/local/lib/libgdal.so'\n-\n-.. _gdaldata:\n-\n-Can't find GDAL data files (``GDAL_DATA``)\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-\n-When installed from source, GDAL versions 1.5.1 and below have an autoconf bug\n-that places data in the wrong location. [#]_   This can lead to error messages\n-like this:\n-\n-.. code-block:: text\n-\n-    ERROR 4: Unable to open EPSG support file gcs.csv.\n-    ...\n-    OGRException: OGR failure.\n-\n-The solution is to set the ``GDAL_DATA`` environment variable to the location of the\n-GDAL data files before invoking Python  (typically ``/usr/local/share``; use\n-``gdal-config --datadir`` to find out). For example::\n-\n-    $ export GDAL_DATA=`gdal-config --datadir`\n-    $ python manage.py shell\n-\n-If using Apache, you may need to add this environment variable to your configuration\n-file:\n-\n-.. code-block:: apache\n-\n-    SetEnv GDAL_DATA /usr/local/share\n-\n-.. _postgis:\n-\n-PostGIS\n--------\n-\n-`PostGIS`__ adds geographic object support to PostgreSQL, turning it\n-into a spatial database. :ref:`geosbuild`, :ref:`proj4` and\n-:ref:`gdalbuild` should be installed prior to building PostGIS. You\n-might also need additional libraries, see `PostGIS requirements`_.\n-\n-.. note::\n-\n-    The `psycopg2`_ module is required for use as the database adaptor\n-    when using GeoDjango with PostGIS.\n-\n-.. _psycopg2: http://initd.org/psycopg/\n-.. _PostGIS requirements: http://www.postgis.org/documentation/manual-2.0/postgis_installation.html#id2711662\n-\n-First download the source archive, and extract::\n-\n-    $ wget http://postgis.refractions.net/download/postgis-2.0.1.tar.gz\n-    $ tar xzf postgis-2.0.1.tar.gz\n-    $ cd postgis-2.0.1\n-\n-Next, configure, make and install PostGIS::\n-\n-    $ ./configure\n-\n-Finally, make and install::\n-\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-.. note::\n-\n-    GeoDjango does not automatically create a spatial database.  Please consult\n-    the section on :ref:`spatialdb_template91` or\n-    :ref:`spatialdb_template_earlier` for more information.\n-\n-__ http://postgis.refractions.net/\n-\n-.. _spatialite:\n-\n-SpatiaLite\n-----------\n-\n-.. note::\n-\n-   Mac OS X users should follow the instructions in the :ref:`kyngchaos` section,\n-   as it is much easier than building from source.\n-\n-`SpatiaLite`__ adds spatial support to SQLite, turning it into a full-featured\n-spatial database.  Because SpatiaLite has special requirements, it typically\n-requires SQLite and pysqlite2 (the Python SQLite DB-API adaptor) to be built from\n-source.  :ref:`geosbuild` and :ref:`proj4` should be installed prior to building\n-SpatiaLite.\n-\n-After installation is complete, don't forget to read the post-installation\n-docs on :ref:`create_spatialite_db`.\n-\n-__ http://www.gaia-gis.it/gaia-sins/\n-\n-.. _sqlite:\n-\n-SQLite\n-^^^^^^\n-\n-Typically, SQLite packages are not compiled to include the `R*Tree module`__ --\n-thus it must be compiled from source.  First download the latest amalgamation\n-source archive from the `SQLite download page`__, and extract::\n-\n-    $ wget http://sqlite.org/sqlite-amalgamation-3.6.23.1.tar.gz\n-    $ tar xzf sqlite-amalgamation-3.6.23.1.tar.gz\n-    $ cd sqlite-3.6.23.1\n-\n-Next, run the ``configure`` script -- however the ``CFLAGS`` environment variable\n-needs to be customized so that SQLite knows to build the R*Tree module::\n-\n-    $ CFLAGS=\"-DSQLITE_ENABLE_RTREE=1\" ./configure\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-.. note::\n-\n-    If using Ubuntu, installing a newer SQLite from source can be very difficult\n-    because it links to the existing ``libsqlite3.so`` in ``/usr/lib`` which\n-    many other packages depend on.  Unfortunately, the best solution at this time\n-    is to overwrite the existing library by adding ``--prefix=/usr`` to the\n-    ``configure`` command.\n-\n-__ http://www.sqlite.org/rtree.html\n-__ http://www.sqlite.org/download.html\n-\n-.. _spatialitebuild :\n-\n-SpatiaLite library (``libspatialite``) and tools (``spatialite``)\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-After SQLite has been built with the R*Tree module enabled, get the latest\n-SpatiaLite library source and tools bundle from the `download page`__::\n-\n-    $ wget http://www.gaia-gis.it/gaia-sins/libspatialite-sources/libspatialite-amalgamation-2.3.1.tar.gz\n-    $ wget http://www.gaia-gis.it/gaia-sins/spatialite-tools-sources/spatialite-tools-2.3.1.tar.gz\n-    $ tar xzf libspatialite-amalgamation-2.3.1.tar.gz\n-    $ tar xzf spatialite-tools-2.3.1.tar.gz\n-\n-Prior to attempting to build, please read the important notes below to see if\n-customization of the ``configure`` command is necessary.  If not, then run the\n-``configure`` script, make, and install for the SpatiaLite library::\n-\n-    $ cd libspatialite-amalgamation-2.3.1\n-    $ ./configure # May need to modified, see notes below.\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-Finally, do the same for the SpatiaLite tools::\n-\n-    $ cd spatialite-tools-2.3.1\n-    $ ./configure # May need to modified, see notes below.\n-    $ make\n-    $ sudo make install\n-    $ cd ..\n-\n-.. note::\n-\n-    If you've installed GEOS and PROJ.4 from binary packages, you will have to specify\n-    their paths when running the ``configure`` scripts for *both* the library and the\n-    tools (the configure scripts look, by default, in ``/usr/local``).  For example,\n-    on Debian/Ubuntu distributions that have GEOS and PROJ.4 packages, the command would be::\n-\n-       $ ./configure --with-proj-include=/usr/include --with-proj-lib=/usr/lib --with-geos-include=/usr/include --with-geos-lib=/usr/lib\n-\n-.. note::\n-\n-    For Mac OS X users building from source, the SpatiaLite library *and* tools\n-    need to have their ``target`` configured::\n-\n-        $ ./configure --target=macosx\n-\n-__ http://www.gaia-gis.it/gaia-sins/libspatialite-sources/\n-\n-.. _pysqlite2:\n-\n-pysqlite2\n-^^^^^^^^^\n-\n-Because SpatiaLite must be loaded as an external extension, it requires the\n-``enable_load_extension`` method, which is only available in versions 2.5+ of\n-pysqlite2. Thus, download pysqlite2 2.6, and untar::\n-\n-    $ wget http://pysqlite.googlecode.com/files/pysqlite-2.6.0.tar.gz\n-    $ tar xzf pysqlite-2.6.0.tar.gz\n-    $ cd pysqlite-2.6.0\n-\n-Next, use a text editor (e.g., ``emacs`` or ``vi``) to edit the ``setup.cfg`` file\n-to look like the following:\n-\n-.. code-block:: ini\n-\n-    [build_ext]\n-    #define=\n-    include_dirs=/usr/local/include\n-    library_dirs=/usr/local/lib\n-    libraries=sqlite3\n-    #define=SQLITE_OMIT_LOAD_EXTENSION\n-\n-.. note::\n-\n-    The important thing here is to make sure you comment out the\n-    ``define=SQLITE_OMIT_LOAD_EXTENSION`` flag and that the ``include_dirs``\n-    and ``library_dirs`` settings are uncommented and set to the appropriate\n-    path if the SQLite header files and libraries are not in ``/usr/include``\n-    and ``/usr/lib``, respectively.\n-\n-After modifying ``setup.cfg`` appropriately, then run the ``setup.py`` script\n-to build and install::\n-\n-    $ sudo python setup.py install\n-\n-Post-installation\n-=================\n-\n-.. _spatialdb_template:\n-.. _spatialdb_template91:\n-\n-Creating a spatial database with PostGIS 2.0 and PostgreSQL 9.1\n----------------------------------------------------------------\n-\n-PostGIS 2 includes an extension for Postgres 9.1 that can be used to enable\n-spatial functionality::\n-\n-    $ createdb  <db name>\n-    $ psql <db name>\n-    > CREATE EXTENSION postgis;\n-    > CREATE EXTENSION postgis_topology;\n-\n-No PostGIS topology functionalities are yet available from GeoDjango, so the\n-creation of the ``postgis_topology`` extension is entirely optional.\n-\n-.. _spatialdb_template_earlier:\n-\n-Creating a spatial database template for earlier versions\n----------------------------------------------------------\n-\n-If you have an earlier version of PostGIS or PostgreSQL, the CREATE\n-EXTENSION isn't available and you need to create the spatial database\n-using the following instructions.\n-\n-Creating a spatial database with PostGIS is different than normal because\n-additional SQL must be loaded to enable spatial functionality.  Because of\n-the steps in this process, it's better to create a database template that\n-can be reused later.\n-\n-First, you need to be able to execute the commands as a privileged database\n-user.  For example, you can use the following to become the ``postgres`` user::\n-\n-    $ sudo su - postgres\n-\n-.. note::\n-\n-   The location *and* name of the PostGIS SQL files (e.g., from\n-   ``POSTGIS_SQL_PATH`` below) depends on the version of PostGIS.\n-   PostGIS versions 1.3 and below use ``<pg_sharedir>/contrib/lwpostgis.sql``;\n-   whereas version 1.4 uses ``<sharedir>/contrib/postgis.sql`` and\n-   version 1.5 uses ``<sharedir>/contrib/postgis-1.5/postgis.sql``.\n-\n-   To complicate matters, :ref:`ubuntudebian` distributions have their\n-   own separate directory naming system that changes each release.\n-\n-   The example below assumes PostGIS 1.5, thus you may need to modify\n-   ``POSTGIS_SQL_PATH`` and the name of the SQL file for the specific\n-   version of PostGIS you are using.\n-\n-Once you're a database super user, then you may execute the following commands\n-to create a PostGIS spatial database template::\n-\n-    $ POSTGIS_SQL_PATH=`pg_config --sharedir`/contrib/postgis-2.0\n-    # Creating the template spatial database.\n-    $ createdb -E UTF8 template_postgis\n-    $ createlang -d template_postgis plpgsql # Adding PLPGSQL language support.\n-    # Allows non-superusers the ability to create from this template\n-    $ psql -d postgres -c \"UPDATE pg_database SET datistemplate='true' WHERE datname='template_postgis';\"\n-    # Loading the PostGIS SQL routines\n-    $ psql -d template_postgis -f $POSTGIS_SQL_PATH/postgis.sql\n-    $ psql -d template_postgis -f $POSTGIS_SQL_PATH/spatial_ref_sys.sql\n-    # Enabling users to alter spatial tables.\n-    $ psql -d template_postgis -c \"GRANT ALL ON geometry_columns TO PUBLIC;\"\n-    $ psql -d template_postgis -c \"GRANT ALL ON geography_columns TO PUBLIC;\"\n-    $ psql -d template_postgis -c \"GRANT ALL ON spatial_ref_sys TO PUBLIC;\"\n-\n-These commands may be placed in a shell script for later use; for convenience\n-the following scripts are available:\n-\n-===============  =============================================\n-PostGIS version  Bash shell script\n-===============  =============================================\n-1.3              :download:`create_template_postgis-1.3.sh`\n-1.4              :download:`create_template_postgis-1.4.sh`\n-1.5              :download:`create_template_postgis-1.5.sh`\n-Debian/Ubuntu    :download:`create_template_postgis-debian.sh`\n-===============  =============================================\n-\n-Afterwards, you may create a spatial database by simply specifying\n-``template_postgis`` as the template to use (via the ``-T`` option)::\n-\n-    $ createdb -T template_postgis <db name>\n-\n-.. note::\n-\n-    While the ``createdb`` command does not require database super-user privileges,\n-    it must be executed by a database user that has permissions to create databases.\n-    You can create such a user with the following command::\n-\n-        $ createuser --createdb <user>\n-\n-.. _create_spatialite_db:\n-\n-Creating a spatial database for SpatiaLite\n-------------------------------------------\n-\n-After you've installed SpatiaLite, you'll need to create a number of spatial\n-metadata tables in your database in order to perform spatial queries.\n-\n-If you're using SpatiaLite 2.4 or newer, use the ``spatialite`` utility to\n-call the ``InitSpatialMetaData()`` function, like this::\n-\n-   $ spatialite geodjango.db \"SELECT InitSpatialMetaData();\"\n-   the SPATIAL_REF_SYS table already contains some row(s)\n-    InitSpatiaMetaData ()error:\"table spatial_ref_sys already exists\"\n-   0\n-\n-You can safely ignore the error messages shown. When you've done this, you can\n-skip the rest of this section.\n-\n-If you're using SpatiaLite 2.3, you'll need to download a\n-database-initialization file and execute its SQL queries in your database.\n-\n-First, get it from the `SpatiaLite Resources`__ page::\n-\n-   $ wget http://www.gaia-gis.it/spatialite-2.3.1/init_spatialite-2.3.sql.gz\n-   $ gunzip init_spatialite-2.3.sql.gz\n-\n-Then, use the ``spatialite`` command to initialize a spatial database::\n-\n-   $ spatialite geodjango.db < init_spatialite-2.3.sql\n-\n-.. note::\n-\n-    The parameter ``geodjango.db`` is the *filename* of the SQLite database\n-    you want to use.  Use the same in the :setting:`DATABASES` ``\"name\"`` key\n-    inside your ``settings.py``.\n-\n-__ http://www.gaia-gis.it/spatialite-2.3.1/resources.html\n-\n-Add ``django.contrib.gis`` to :setting:`INSTALLED_APPS`\n--------------------------------------------------------\n-\n-Like other Django contrib applications, you will *only* need to add\n-:mod:`django.contrib.gis` to :setting:`INSTALLED_APPS` in your settings.\n-This is the so that ``gis`` templates can be located -- if not done, then\n-features such as the geographic admin or KML sitemaps will not function properly.\n-\n-.. _addgoogleprojection:\n-\n-Add Google projection to ``spatial_ref_sys`` table\n---------------------------------------------------\n-\n-.. note::\n-\n-    If you're running PostGIS 1.4 or above, you can skip this step. The entry\n-    is already included in the default ``spatial_ref_sys`` table.\n-\n-In order to conduct database transformations to the so-called \"Google\"\n-projection (a spherical mercator projection used by Google Maps),\n-an entry must be added to your spatial database's ``spatial_ref_sys`` table.\n-Invoke the Django shell from your project and execute the\n-``add_srs_entry`` function:\n-\n-.. code-block:: pycon\n-\n-    $ python manage shell\n-    >>> from django.contrib.gis.utils import add_srs_entry\n-    >>> add_srs_entry(900913)\n-\n-This adds an entry for the 900913 SRID to the ``spatial_ref_sys`` (or equivalent)\n-table, making it possible for the spatial database to transform coordinates in\n-this projection.  You only need to execute this command *once* per spatial database.\n-\n-Troubleshooting\n-===============\n-\n-If you can't find the solution to your problem here then participate in the\n-community!  You can:\n-\n-* Join the ``#geodjango`` IRC channel on FreeNode. Please be patient and polite\n-  -- while you may not get an immediate response, someone will attempt to answer\n-  your question as soon as they see it.\n-* Ask your question on the `GeoDjango`__ mailing list.\n-* File a ticket on the `Django trac`__ if you think there's a bug.  Make\n-  sure to provide a complete description of the problem, versions used,\n-  and specify the component as \"GIS\".\n-\n-__ http://groups.google.com/group/geodjango\n-__ https://code.djangoproject.com/newticket\n-\n-.. _libsettings:\n-\n-Library environment settings\n-----------------------------\n-\n-By far, the most common problem when installing GeoDjango is that the\n-external shared libraries (e.g., for GEOS and GDAL) cannot be located. [#]_\n-Typically, the cause of this problem is that the operating system isn't aware\n-of the directory where the libraries built from source were installed.\n-\n-In general, the library path may be set on a per-user basis by setting\n-an environment variable, or by configuring the library path for the entire\n-system.\n-\n-``LD_LIBRARY_PATH`` environment variable\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-A user may set this environment variable to customize the library paths\n-they want to use.  The typical library directory for software\n-built from source is ``/usr/local/lib``.  Thus, ``/usr/local/lib`` needs\n-to be included in the ``LD_LIBRARY_PATH`` variable.  For example, the user\n-could place the following in their bash profile::\n-\n-    export LD_LIBRARY_PATH=/usr/local/lib\n-\n-Setting system library path\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-On GNU/Linux systems, there is typically a file in ``/etc/ld.so.conf``, which may include\n-additional paths from files in another directory, such as ``/etc/ld.so.conf.d``.\n-As the root user, add the custom library path (like ``/usr/local/lib``) on a\n-new line in ``ld.so.conf``.  This is *one* example of how to do so::\n-\n-    $ sudo echo /usr/local/lib >> /etc/ld.so.conf\n-    $ sudo ldconfig\n-\n-For OpenSolaris users, the system library path may be modified using the\n-``crle`` utility.  Run ``crle`` with no options to see the current configuration\n-and use ``crle -l`` to set with the new library path.  Be *very* careful when\n-modifying the system library path::\n-\n-    # crle -l $OLD_PATH:/usr/local/lib\n-\n-.. _binutils:\n-\n-Install ``binutils``\n-^^^^^^^^^^^^^^^^^^^^\n-\n-GeoDjango uses the ``find_library`` function (from the ``ctypes.util`` Python\n-module) to discover libraries.  The ``find_library`` routine uses a program\n-called ``objdump`` (part of the ``binutils`` package) to verify a shared\n-library on GNU/Linux systems.  Thus, if ``binutils`` is not installed on your\n-Linux system then Python's ctypes may not be able to find your library even if\n-your library path is set correctly and geospatial libraries were built perfectly.\n-\n-The ``binutils`` package may be installed on Debian and Ubuntu systems using the\n-following command::\n-\n-    $ sudo apt-get install binutils\n-\n-Similarly, on Red Hat and CentOS systems::\n-\n-    $ sudo yum install binutils\n-\n-PostgreSQL's createdb fails\n----------------------------\n-\n-When the PostgreSQL cluster uses a non-UTF8 encoding, the\n-:file:`create_template_postgis-*.sh` script will fail when executing\n-``createdb``::\n-\n-    createdb: database creation failed: ERROR:  new encoding (UTF8) is incompatible\n-      with the encoding of the template database (SQL_ASCII)\n-\n-The `current workaround`__ is to re-create the cluster using UTF8 (back up any\n-databases before dropping the cluster).\n-\n-__ http://jacobian.org/writing/pg-encoding-ubuntu/\n-\n-Platform-specific instructions\n-==============================\n-\n-.. _macosx:\n-\n-Mac OS X\n---------\n-\n-Because of the variety of packaging systems available for OS X, users have\n-several different options for installing GeoDjango. These options are:\n-\n-* :ref:`homebrew`\n-* :ref:`kyngchaos`\n-* :ref:`fink`\n-* :ref:`macports`\n-* :ref:`build_from_source`\n-\n-.. note::\n-\n-    Currently, the easiest and recommended approach for installing GeoDjango\n-    on OS X is to use the KyngChaos packages.\n-\n-This section also includes instructions for installing an upgraded version\n-of :ref:`macosx_python` from packages provided by the Python Software\n-Foundation, however, this is not required.\n-\n-.. _macosx_python:\n-\n-Python\n-^^^^^^\n-\n-Although OS X comes with Python installed, users can use framework\n-installers (`2.6`__ and `2.7`__ are available) provided by\n-the Python Software Foundation.  An advantage to using the installer is\n-that OS X's Python will remain \"pristine\" for internal operating system\n-use.\n-\n-__ http://python.org/ftp/python/2.6.6/python-2.6.6-macosx10.3.dmg\n-__ http://python.org/ftp/python/2.7.3/\n-\n-.. note::\n-\n-    You will need to modify the ``PATH`` environment variable in your\n-    ``.profile`` file so that the new version of Python is used when\n-    ``python`` is entered at the command-line::\n-\n-        export PATH=/Library/Frameworks/Python.framework/Versions/Current/bin:$PATH\n-\n-.. _homebrew:\n-\n-Homebrew\n-^^^^^^^^\n-\n-`Homebrew`__ provides \"recipes\" for building binaries and packages from source.\n-It provides recipes for the GeoDjango prerequisites on Macintosh computers\n-running OS X. Because Homebrew still builds the software from source, the\n-`Apple Developer Tools`_ are required.\n-\n-Summary::\n-\n-    $ brew install postgresql\n-    $ brew install postgis\n-    $ brew install gdal\n-    $ brew install libgeoip\n-\n-__ http://mxcl.github.com/homebrew/\n-\n-.. _kyngchaos:\n-\n-KyngChaos packages\n-^^^^^^^^^^^^^^^^^^\n-\n-William Kyngesburye provides a number of `geospatial library binary packages`__\n-that make it simple to get GeoDjango installed on OS X without compiling\n-them from source.  However, the `Apple Developer Tools`_ are still necessary\n-for compiling the Python database adapters :ref:`psycopg2_kyngchaos` (for PostGIS)\n-and :ref:`pysqlite2_kyngchaos` (for SpatiaLite).\n-\n-.. note::\n-\n-    SpatiaLite users should consult the :ref:`spatialite_kyngchaos` section\n-    after installing the packages for additional instructions.\n-\n-Download the framework packages for:\n-\n-* UnixImageIO\n-* PROJ\n-* GEOS\n-* SQLite3 (includes the SpatiaLite library)\n-* GDAL\n-\n-Install the packages in the order they are listed above, as the GDAL and SQLite\n-packages require the packages listed before them.\n-\n-Afterwards, you can also install the KyngChaos binary packages for `PostgreSQL\n-and PostGIS`__.\n-\n-After installing the binary packages, you'll want to add the following to\n-your ``.profile`` to be able to run the package programs from the command-line::\n-\n-    export PATH=/Library/Frameworks/UnixImageIO.framework/Programs:$PATH\n-    export PATH=/Library/Frameworks/PROJ.framework/Programs:$PATH\n-    export PATH=/Library/Frameworks/GEOS.framework/Programs:$PATH\n-    export PATH=/Library/Frameworks/SQLite3.framework/Programs:$PATH\n-    export PATH=/Library/Frameworks/GDAL.framework/Programs:$PATH\n-    export PATH=/usr/local/pgsql/bin:$PATH\n-\n-__ http://www.kyngchaos.com/software/frameworks\n-__ http://www.kyngchaos.com/software/postgres\n-\n-.. _psycopg2_kyngchaos:\n-\n-psycopg2\n-~~~~~~~~\n-\n-After you've installed the KyngChaos binaries and modified your ``PATH``, as\n-described above, ``psycopg2`` may be installed using the following command::\n-\n-    $ sudo pip install psycopg2\n-\n-.. note::\n-\n-    If you don't have ``pip``, follow the the :ref:`installation instructions\n-    <installing-official-release>` to install it.\n-\n-.. _pysqlite2_kyngchaos:\n-\n-pysqlite2\n-~~~~~~~~~\n-\n-Follow the :ref:`pysqlite2` source install instructions, however,\n-when editing the ``setup.cfg`` use the following instead:\n-\n-.. code-block:: ini\n-\n-    [build_ext]\n-    #define=\n-    include_dirs=/Library/Frameworks/SQLite3.framework/unix/include\n-    library_dirs=/Library/Frameworks/SQLite3.framework/unix/lib\n-    libraries=sqlite3\n-    #define=SQLITE_OMIT_LOAD_EXTENSION\n-\n-.. _spatialite_kyngchaos:\n-\n-SpatiaLite\n-~~~~~~~~~~\n-\n-When :ref:`create_spatialite_db`, the ``spatialite`` program is required.\n-However, instead of attempting to compile the SpatiaLite tools from source,\n-download the `SpatiaLite Binaries`__ for OS X, and install ``spatialite`` in a\n-location available in your ``PATH``.  For example::\n-\n-    $ curl -O http://www.gaia-gis.it/spatialite/spatialite-tools-osx-x86-2.3.1.tar.gz\n-    $ tar xzf spatialite-tools-osx-x86-2.3.1.tar.gz\n-    $ cd spatialite-tools-osx-x86-2.3.1/bin\n-    $ sudo cp spatialite /Library/Frameworks/SQLite3.framework/Programs\n-\n-Finally, for GeoDjango to be able to find the KyngChaos SpatiaLite library,\n-add the following to your ``settings.py``:\n-\n-.. code-block:: python\n-\n-    SPATIALITE_LIBRARY_PATH='/Library/Frameworks/SQLite3.framework/SQLite3'\n-\n-__ http://www.gaia-gis.it/spatialite-2.3.1/binaries.html\n-\n-.. _fink:\n-\n-Fink\n-^^^^\n-\n-`Kurt Schwehr`__ has been gracious enough to create GeoDjango packages for users\n-of the `Fink`__ package system.  The following packages are available, depending\n-on which version of Python you want to use:\n-\n-* ``django-gis-py26``\n-* ``django-gis-py25``\n-* ``django-gis-py24``\n-\n-__ http://schwehr.org/blog/\n-__ http://www.finkproject.org/\n-\n-.. _macports:\n-\n-MacPorts\n-^^^^^^^^\n-\n-`MacPorts`__ may be used to install GeoDjango prerequisites on Macintosh\n-computers running OS X.  Because MacPorts still builds the software from source,\n-the `Apple Developer Tools`_ are required.\n-\n-Summary::\n-\n-    $ sudo port install postgresql83-server\n-    $ sudo port install geos\n-    $ sudo port install proj\n-    $ sudo port install postgis\n-    $ sudo port install gdal +geos\n-    $ sudo port install libgeoip\n-\n-.. note::\n-\n-    You will also have to modify the ``PATH`` in your ``.profile`` so\n-    that the MacPorts programs are accessible from the command-line::\n-\n-        export PATH=/opt/local/bin:/opt/local/lib/postgresql83/bin\n-\n-    In addition, add the ``DYLD_FALLBACK_LIBRARY_PATH`` setting so that\n-    the libraries can be found by Python::\n-\n-        export DYLD_FALLBACK_LIBRARY_PATH=/opt/local/lib:/opt/local/lib/postgresql83\n-\n-__ http://www.macports.org/\n-\n-.. _ubuntudebian:\n-\n-Ubuntu & Debian GNU/Linux\n--------------------------\n-\n-.. note::\n-\n-    The PostGIS SQL files are not placed in the PostgreSQL share directory in\n-    the Debian and Ubuntu packages. Instead, they're located in a special\n-    directory depending on the release. In this case, use the\n-    :download:`create_template_postgis-debian.sh` script\n-\n-.. _ubuntu:\n-\n-Ubuntu\n-^^^^^^\n-\n-11.10 through 12.04\n-~~~~~~~~~~~~~~~~~~~\n-\n-In Ubuntu 11.10, PostgreSQL was upgraded to 9.1. The installation command is:\n-\n-.. code-block:: bash\n-\n-    $ sudo apt-get install binutils gdal-bin libproj-dev \\\n-         postgresql-9.1-postgis postgresql-server-dev-9.1 python-psycopg2\n-\n-.. _ubuntu10:\n-\n-10.04 through 11.04\n-~~~~~~~~~~~~~~~~~~~\n-\n-In Ubuntu 10.04, PostgreSQL was upgraded to 8.4 and GDAL was upgraded to 1.6.\n-Ubuntu 10.04 uses PostGIS 1.4, while Ubuntu 10.10 uses PostGIS 1.5 (with\n-geography support).  The installation command is:\n-\n-.. code-block:: bash\n-\n-    $ sudo apt-get install binutils gdal-bin libproj-dev postgresql-8.4-postgis \\\n-         postgresql-server-dev-8.4 python-psycopg2\n-\n-.. _ibex:\n-\n-8.10\n-~~~~\n-\n-Use the synaptic package manager to install the following packages:\n-\n-.. code-block:: bash\n-\n-    $ sudo apt-get install binutils gdal-bin postgresql-8.3-postgis \\\n-        postgresql-server-dev-8.3 python-psycopg2\n-\n-That's it!  For the curious, the required binary prerequisites packages are:\n-\n-* ``binutils``: for ctypes to find libraries\n-* ``postgresql-8.3``\n-* ``postgresql-server-dev-8.3``: for ``pg_config``\n-* ``postgresql-8.3-postgis``: for PostGIS 1.3.3\n-* ``libgeos-3.0.0``, and ``libgeos-c1``: for GEOS 3.0.0\n-* ``libgdal1-1.5.0``: for GDAL 1.5.0 library\n-* ``proj``: for PROJ 4.6.0 -- but no datum shifting files, see note below\n-* ``python-psycopg2``\n-\n-Optional packages to consider:\n-\n-* ``libgeoip1``: for :ref:`GeoIP <ref-geoip>` support\n-* ``gdal-bin``: for GDAL command line programs like ``ogr2ogr``\n-* ``python-gdal`` for GDAL's own Python bindings -- includes interfaces for raster manipulation\n-\n-.. note::\n-\n-    On this version of Ubuntu the ``proj`` package does not come with the\n-    datum shifting files installed, which will cause problems with the\n-    geographic admin because the ``null`` datum grid is not available for\n-    transforming geometries to the spherical mercator projection. A solution\n-    is to download the datum-shifting files, create the grid file, and\n-    install it yourself:\n-\n-    .. code-block:: bash\n-\n-        $ wget http://download.osgeo.org/proj/proj-datumgrid-1.4.tar.gz\n-        $ mkdir nad\n-        $ cd nad\n-        $ tar xzf ../proj-datumgrid-1.4.tar.gz\n-        $ nad2bin null < null.lla\n-        $ sudo cp null /usr/share/proj\n-\n-    Otherwise, the Ubuntu ``proj`` package is fine for general use as long as you\n-    do not plan on doing any database transformation of geometries to the\n-    Google projection (900913).\n-\n-.. _debian:\n-\n-Debian\n-------\n-\n-.. _lenny:\n-\n-5.0 (Lenny)\n-^^^^^^^^^^^\n-\n-This version is comparable to Ubuntu :ref:`ibex`, so the command\n-is very similar:\n-\n-.. code-block:: bash\n-\n-    $ sudo apt-get install binutils libgdal1-1.5.0 postgresql-8.3 \\\n-        postgresql-8.3-postgis postgresql-server-dev-8.3 \\\n-        python-psycopg2 python-setuptools\n-\n-This assumes that you are using PostgreSQL version 8.3. Else, replace ``8.3``\n-in the above command with the appropriate PostgreSQL version.\n-\n-.. note::\n-\n-   Please read the note in the Ubuntu :ref:`ibex` install documentation\n-   about the ``proj`` package -- it also applies here because the package does\n-   not include the datum shifting files.\n-\n-.. _post_install:\n-\n-Post-installation notes\n-~~~~~~~~~~~~~~~~~~~~~~~\n-\n-If the PostgreSQL database cluster was not initiated after installing, then it\n-can be created (and started) with the following command:\n-\n-.. code-block:: bash\n-\n-    $ sudo pg_createcluster --start 8.3 main\n-\n-Afterwards, the ``/etc/init.d/postgresql-8.3`` script should be used to manage\n-the starting and stopping of PostgreSQL.\n-\n-In addition, the SQL files for PostGIS are placed in a different location on\n-Debian 5.0 . Thus when :ref:`spatialdb_template_earlier` either:\n-\n-* Create a symbolic link to these files:\n-\n-  .. code-block:: bash\n-\n-    $ sudo ln -s /usr/share/postgresql-8.3-postgis/{lwpostgis,spatial_ref_sys}.sql \\\n-        /usr/share/postgresql/8.3\n-\n-  If not running PostgreSQL 8.3, then  replace ``8.3`` in the command above with\n-  the correct version.\n-\n-* Or use the :download:`create_template_postgis-debian.sh` to create the spatial database.\n-\n-.. _windows:\n-\n-Windows\n--------\n-\n-Proceed through the following sections sequentially in order to install\n-GeoDjango on Windows.\n-\n-.. note::\n-\n-    These instructions assume that you are using 32-bit versions of\n-    all programs.  While 64-bit versions of Python and PostgreSQL 9.0\n-    are available, 64-bit versions of spatial libraries, like\n-    GEOS and GDAL, are not yet provided by the :ref:`OSGeo4W` installer.\n-\n-Python\n-^^^^^^\n-\n-First, download the latest `Python 2.7 installer`__ from the Python Web site.\n-Next, run the installer and keep the defaults -- for example, keep\n-'Install for all users' checked and the installation path set as\n-``C:\\Python27``.\n-\n-.. note::\n-\n-    You may already have a version of Python installed in ``C:\\python`` as ESRI\n-    products sometimes install a copy there.  *You should still install a\n-    fresh version of Python 2.7.*\n-\n-__ http://python.org/download/\n-\n-PostgreSQL\n-^^^^^^^^^^\n-\n-First, download the latest `PostgreSQL 9.0 installer`__ from the\n-`EnterpriseDB`__ Web site.  After downloading, simply run the installer,\n-follow the on-screen directions, and keep the default options unless\n-you know the consequences of changing them.\n-\n-.. note::\n-\n-    The PostgreSQL installer creates both a new Windows user to be the\n-    'postgres service account' and a ``postgres`` database superuser\n-    You will be prompted once to set the password for both accounts --\n-    make sure to remember it!\n-\n-When the installer completes, it will ask to launch the Application Stack\n-Builder (ASB) on exit -- keep this checked, as it is necessary to\n-install :ref:`postgisasb`.\n-\n-.. note::\n-\n-    If installed successfully, the PostgreSQL server will run in the\n-    background each time the system as started as a Windows service.\n-    A :menuselection:`PostgreSQL 9.0` start menu group will created\n-    and contains shortcuts for the ASB as well as the 'SQL Shell',\n-    which will launch a ``psql`` command window.\n-\n-__ http://www.enterprisedb.com/products-services-training/pgdownload\n-__ http://www.enterprisedb.com\n-\n-.. _postgisasb:\n-\n-PostGIS\n-^^^^^^^\n-\n-From within the Application Stack Builder (to run outside of the installer,\n-:menuselection:`Start --> Programs --> PostgreSQL 9.0`), select\n-:menuselection:`PostgreSQL Database Server 9.0 on port 5432` from the drop down\n-menu.  Next, expand the :menuselection:`Categories --> Spatial Extensions` menu\n-tree and select :menuselection:`PostGIS 1.5 for PostgreSQL 9.0`.\n-\n-After clicking next, you will be prompted to select your mirror, PostGIS\n-will be downloaded, and the PostGIS installer will begin.  Select only the\n-default options during install (e.g., do not uncheck the option to create a\n-default PostGIS database).\n-\n-.. note::\n-\n-    You will be prompted to enter your ``postgres`` database superuser\n-    password in the 'Database Connection Information' dialog.\n-\n-psycopg2\n-^^^^^^^^\n-\n-The ``psycopg2`` Python module provides the interface between Python and the\n-PostgreSQL database.  Download the latest `Windows installer`__ for your version\n-of Python and PostgreSQL and run using the default settings. [#]_\n-\n-__ http://www.stickpeople.com/projects/python/win-psycopg/\n-\n-.. _osgeo4w:\n-\n-OSGeo4W\n-^^^^^^^\n-\n-The `OSGeo4W installer`_ makes it simple to install the PROJ.4, GDAL, and GEOS\n-libraries required by GeoDjango.  First, download the `OSGeo4W installer`_,\n-and run it.  Select :menuselection:`Express Web-GIS Install` and click next.\n-In the 'Select Packages' list, ensure that GDAL is selected; MapServer and\n-Apache are also enabled by default, but are not required by GeoDjango and\n-may be unchecked safely.  After clicking next, the packages will be\n-automatically downloaded and installed, after which you may exit the\n-installer.\n-\n-.. _OSGeo4W installer: http://trac.osgeo.org/osgeo4w/\n-\n-Modify Windows environment\n-^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-In order to use GeoDjango, you will need to add your Python and OSGeo4W\n-directories to your Windows system ``Path``, as well as create ``GDAL_DATA``\n-and ``PROJ_LIB`` environment variables.  The following set of commands,\n-executable with ``cmd.exe``, will set this up:\n-\n-.. code-block:: bat\n-\n-     set OSGEO4W_ROOT=C:\\OSGeo4W\n-     set PYTHON_ROOT=C:\\Python27\n-     set GDAL_DATA=%OSGEO4W_ROOT%\\share\\gdal\n-     set PROJ_LIB=%OSGEO4W_ROOT%\\share\\proj\n-     set PATH=%PATH%;%PYTHON_ROOT%;%OSGEO4W_ROOT%\\bin\n-     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v Path /t REG_EXPAND_SZ /f /d \"%PATH%\"\n-     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v GDAL_DATA /t REG_EXPAND_SZ /f /d \"%GDAL_DATA%\"\n-     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v PROJ_LIB /t REG_EXPAND_SZ /f /d \"%PROJ_LIB%\"\n-\n-For your convenience, these commands are available in the executable batch\n-script, :download:`geodjango_setup.bat`.\n-\n-.. note::\n-\n-    Administrator privileges are required to execute these commands.\n-    To do this, right-click on :download:`geodjango_setup.bat` and select\n-    :menuselection:`Run as administrator`. You need to log out and log back in again\n-    for the settings to take effect.\n-\n-.. note::\n-\n-    If you customized the Python or OSGeo4W installation directories,\n-    then you will need to modify the ``OSGEO4W_ROOT`` and/or ``PYTHON_ROOT``\n-    variables accordingly.\n-\n-Install Django and set up database\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-Finally, :ref:`install Django <installing-official-release>` on your system.\n-You do not need to create a spatial database template, as one named\n-``template_postgis`` is created for you when installing PostGIS.\n-\n-To administer the database, you can either use the pgAdmin III program\n-(:menuselection:`Start --> PostgreSQL 9.0 --> pgAdmin III`) or the\n-SQL Shell (:menuselection:`Start --> PostgreSQL 9.0 --> SQL Shell`).\n-For example, to create a ``geodjango`` spatial database and user, the following\n-may be executed from the SQL Shell as the ``postgres`` user::\n-\n-    postgres# CREATE USER geodjango PASSWORD 'my_passwd';\n-    postgres# CREATE DATABASE geodjango OWNER geodjango TEMPLATE template_postgis ENCODING 'utf8';\n-\n-.. rubric:: Footnotes\n-.. [#] The datum shifting files are needed for converting data to and from\n-       certain projections.\n-       For example, the PROJ.4 string for the `Google projection (900913 or 3857)\n-       <http://spatialreference.org/ref/sr-org/6864/prj/>`_ requires the\n-       ``null`` grid file only included in the extra datum shifting files.\n-       It is easier to install the shifting files now, then to have debug a\n-       problem caused by their absence later.\n-.. [#] Specifically, GeoDjango provides support for the `OGR\n-       <http://gdal.org/ogr>`_ library, a component of GDAL.\n-.. [#] See `GDAL ticket #2382 <http://trac.osgeo.org/gdal/ticket/2382>`_.\n-.. [#] GeoDjango uses the :func:`~ctypes.util.find_library` routine from\n-       :mod:`ctypes.util` to locate shared libraries.\n-.. [#] The ``psycopg2`` Windows installers are packaged and maintained by\n-       `Jason Erickson <http://www.stickpeople.com/projects/python/win-psycopg/>`_."
        },
        {
            "sha": "c9ab4fcebfbe26c401485ff83371db99b89a0871",
            "filename": "docs/ref/contrib/gis/install/create_template_postgis-1.3.sh",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.3.sh",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.3.sh",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.3.sh?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "previous_filename": "docs/ref/contrib/gis/create_template_postgis-1.3.sh"
        },
        {
            "sha": "57a1373f9604053ae2ca4df72e4eff74991dbe40",
            "filename": "docs/ref/contrib/gis/install/create_template_postgis-1.4.sh",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.4.sh",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.4.sh",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.4.sh?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "previous_filename": "docs/ref/contrib/gis/create_template_postgis-1.4.sh"
        },
        {
            "sha": "081b5f2656e5b96ff7a56fd043a936ea35c23466",
            "filename": "docs/ref/contrib/gis/install/create_template_postgis-1.5.sh",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.5.sh",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.5.sh",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-1.5.sh?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "previous_filename": "docs/ref/contrib/gis/create_template_postgis-1.5.sh"
        },
        {
            "sha": "3e621837fa69c6856c3fa02d339e274541b4dba4",
            "filename": "docs/ref/contrib/gis/install/create_template_postgis-debian.sh",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "previous_filename": "docs/ref/contrib/gis/create_template_postgis-debian.sh"
        },
        {
            "sha": "b3e6cc6822ac78d2c51f1a7e4f83b638bd9f9ec5",
            "filename": "docs/ref/contrib/gis/install/geodjango_setup.bat",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeodjango_setup.bat",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeodjango_setup.bat",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeodjango_setup.bat?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "previous_filename": "docs/ref/contrib/gis/geodjango_setup.bat"
        },
        {
            "sha": "c78f0c0e629f21a812f01b5ef31b27334e92521d",
            "filename": "docs/ref/contrib/gis/install/geolibs.txt",
            "status": "added",
            "additions": 282,
            "deletions": 0,
            "changes": 282,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeolibs.txt",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeolibs.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fgeolibs.txt?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "patch": "@@ -0,0 +1,282 @@\n+.. _geospatial_libs:\n+\n+===============================\n+Installing Geospatial libraries\n+===============================\n+\n+GeoDjango uses and/or provides interfaces for the following open source\n+geospatial libraries:\n+\n+========================  ====================================  ================================  ==========================\n+Program                   Description                           Required                          Supported Versions\n+========================  ====================================  ================================  ==========================\n+:ref:`GEOS <ref-geos>`    Geometry Engine Open Source           Yes                               3.3, 3.2, 3.1, 3.0\n+`PROJ.4`_                 Cartographic Projections library      Yes (PostgreSQL and SQLite only)  4.8, 4.7, 4.6, 4.5, 4.4\n+:ref:`GDAL <ref-gdal>`    Geospatial Data Abstraction Library   No (but, required for SQLite)     1.9, 1.8, 1.7, 1.6, 1.5\n+:ref:`GeoIP <ref-geoip>`  IP-based geolocation library          No                                1.4\n+`PostGIS`__               Spatial extensions for PostgreSQL     Yes (PostgreSQL only)             2.0, 1.5, 1.4, 1.3\n+`SpatiaLite`__            Spatial extensions for SQLite         Yes (SQLite only)                 3.0, 2.4, 2.3\n+========================  ====================================  ================================  ==========================\n+\n+.. admonition::  Install GDAL\n+\n+    While :ref:`gdalbuild` is technically not required, it is *recommended*.\n+    Important features of GeoDjango (including the :ref:`ref-layermapping`,\n+    geometry reprojection, and the geographic admin) depend on its\n+    functionality.\n+\n+.. note::\n+\n+    The GeoDjango interfaces to GEOS, GDAL, and GeoIP may be used\n+    independently of Django.  In other words, no database or settings file\n+    required -- just import them as normal from :mod:`django.contrib.gis`.\n+\n+.. _PROJ.4: http://trac.osgeo.org/proj/\n+__ http://postgis.refractions.net/\n+__ http://www.gaia-gis.it/gaia-sins/\n+\n+\n+On Debian/Ubuntu, you are advised to install the following packages which will\n+install, directly or by dependency, the required geospatial libraries:\n+\n+.. code-block:: bash\n+\n+    $ sudo apt-get install binutils libproj-dev gdal-bin\n+\n+Optional packages to consider:\n+\n+* ``libgeoip1``: for :ref:`GeoIP <ref-geoip>` support\n+* ``gdal-bin``: for GDAL command line programs like ``ogr2ogr``\n+* ``python-gdal`` for GDAL's own Python bindings -- includes interfaces for raster manipulation\n+\n+Please also consult platform-specific instructions if you are on :ref:`macosx`\n+or :ref:`windows`.\n+\n+.. _build_from_source:\n+\n+Building from source\n+====================\n+\n+When installing from source on UNIX and GNU/Linux systems, please follow\n+the installation instructions carefully, and install the libraries in the\n+given order.  If using MySQL or Oracle as the spatial database, only GEOS\n+is required.\n+\n+.. note::\n+\n+   On Linux platforms, it may be necessary to run the ``ldconfig``\n+   command after installing each library.  For example::\n+\n+       $ sudo make install\n+       $ sudo ldconfig\n+\n+.. note::\n+\n+    OS X users are required to install `Apple Developer Tools`_ in order\n+    to compile software from source.  This is typically included on your\n+    OS X installation DVDs.\n+\n+.. _Apple Developer Tools: https://developer.apple.com/technologies/tools/\n+\n+.. _geosbuild:\n+\n+GEOS\n+----\n+\n+GEOS is a C++ library for performing geometric operations, and is the default\n+internal geometry representation used by GeoDjango (it's behind the \"lazy\"\n+geometries).  Specifically, the C API library is called (e.g., ``libgeos_c.so``)\n+directly from Python using ctypes.\n+\n+First, download GEOS 3.3.5 from the refractions Web site and untar the source\n+archive::\n+\n+    $ wget http://download.osgeo.org/geos/geos-3.3.5.tar.bz2\n+    $ tar xjf geos-3.3.5.tar.bz2\n+\n+Next, change into the directory where GEOS was unpacked, run the configure\n+script, compile, and install::\n+\n+    $ cd geos-3.3.5\n+    $ ./configure\n+    $ make\n+    $ sudo make install\n+    $ cd ..\n+\n+Troubleshooting\n+^^^^^^^^^^^^^^^\n+\n+Can't find GEOS library\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When GeoDjango can't find GEOS, this error is raised:\n+\n+.. code-block:: text\n+\n+    ImportError: Could not find the GEOS library (tried \"geos_c\"). Try setting GEOS_LIBRARY_PATH in your settings.\n+\n+The most common solution is to properly configure your :ref:`libsettings` *or* set\n+:ref:`geoslibrarypath` in your settings.\n+\n+If using a binary package of GEOS (e.g., on Ubuntu), you may need to :ref:`binutils`.\n+\n+.. _geoslibrarypath:\n+\n+``GEOS_LIBRARY_PATH``\n+~~~~~~~~~~~~~~~~~~~~~\n+\n+If your GEOS library is in a non-standard location, or you don't want to\n+modify the system's library path then the :setting:`GEOS_LIBRARY_PATH`\n+setting may be added to your Django settings file with the full path to the\n+GEOS C library.  For example:\n+\n+.. code-block:: python\n+\n+    GEOS_LIBRARY_PATH = '/home/bob/local/lib/libgeos_c.so'\n+\n+.. note::\n+\n+    The setting must be the *full* path to the **C** shared library; in\n+    other words you want to use ``libgeos_c.so``, not ``libgeos.so``.\n+\n+See also :ref:`My logs are filled with GEOS-related errors <geos-exceptions-in-logfile>`.\n+\n+.. _proj4:\n+\n+PROJ.4\n+------\n+\n+`PROJ.4`_ is a library for converting geospatial data to different coordinate\n+reference systems.\n+\n+First, download the PROJ.4 source code and datum shifting files [#]_::\n+\n+    $ wget http://download.osgeo.org/proj/proj-4.8.0.tar.gz\n+    $ wget http://download.osgeo.org/proj/proj-datumgrid-1.5.tar.gz\n+\n+Next, untar the source code archive, and extract the datum shifting files in the\n+``nad`` subdirectory.  This must be done *prior* to configuration::\n+\n+    $ tar xzf proj-4.8.0.tar.gz\n+    $ cd proj-4.8.0/nad\n+    $ tar xzf ../../proj-datumgrid-1.5.tar.gz\n+    $ cd ..\n+\n+Finally, configure, make and install PROJ.4::\n+\n+    $ ./configure\n+    $ make\n+    $ sudo make install\n+    $ cd ..\n+\n+.. _gdalbuild:\n+\n+GDAL\n+----\n+\n+`GDAL`__ is an excellent open source geospatial library that has support for\n+reading most vector and raster spatial data formats.  Currently, GeoDjango only\n+supports :ref:`GDAL's vector data <ref-gdal>` capabilities [#]_.\n+:ref:`geosbuild` and :ref:`proj4` should be installed prior to building GDAL.\n+\n+First download the latest GDAL release version and untar the archive::\n+\n+    $ wget http://download.osgeo.org/gdal/gdal-1.9.1.tar.gz\n+    $ tar xzf gdal-1.9.1.tar.gz\n+    $ cd gdal-1.9.1\n+\n+Configure, make and install::\n+\n+    $ ./configure\n+    $ make # Go get some coffee, this takes a while.\n+    $ sudo make install\n+    $ cd ..\n+\n+.. note::\n+\n+   Because GeoDjango has it's own Python interface, the preceding instructions\n+   do not build GDAL's own Python bindings.  The bindings may be built by\n+   adding the ``--with-python`` flag when running ``configure``.  See\n+   `GDAL/OGR In Python`__ for more information on GDAL's bindings.\n+\n+If you have any problems, please see the troubleshooting section below for\n+suggestions and solutions.\n+\n+__ http://trac.osgeo.org/gdal/\n+__ http://trac.osgeo.org/gdal/wiki/GdalOgrInPython\n+\n+.. _gdaltrouble:\n+\n+Troubleshooting\n+^^^^^^^^^^^^^^^\n+\n+Can't find GDAL library\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When GeoDjango can't find the GDAL library, the ``HAS_GDAL`` flag\n+will be false:\n+\n+.. code-block:: pycon\n+\n+    >>> from django.contrib.gis import gdal\n+    >>> gdal.HAS_GDAL\n+    False\n+\n+The solution is to properly configure your :ref:`libsettings` *or* set\n+:ref:`gdallibrarypath` in your settings.\n+\n+.. _gdallibrarypath:\n+\n+``GDAL_LIBRARY_PATH``\n+~~~~~~~~~~~~~~~~~~~~~\n+\n+If your GDAL library is in a non-standard location, or you don't want to\n+modify the system's library path then the :setting:`GDAL_LIBRARY_PATH`\n+setting may be added to your Django settings file with the full path to\n+the GDAL library.  For example:\n+\n+.. code-block:: python\n+\n+    GDAL_LIBRARY_PATH = '/home/sue/local/lib/libgdal.so'\n+\n+.. _gdaldata:\n+\n+Can't find GDAL data files (``GDAL_DATA``)\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When installed from source, GDAL versions 1.5.1 and below have an autoconf bug\n+that places data in the wrong location. [#]_   This can lead to error messages\n+like this:\n+\n+.. code-block:: text\n+\n+    ERROR 4: Unable to open EPSG support file gcs.csv.\n+    ...\n+    OGRException: OGR failure.\n+\n+The solution is to set the ``GDAL_DATA`` environment variable to the location of the\n+GDAL data files before invoking Python  (typically ``/usr/local/share``; use\n+``gdal-config --datadir`` to find out). For example::\n+\n+    $ export GDAL_DATA=`gdal-config --datadir`\n+    $ python manage.py shell\n+\n+If using Apache, you may need to add this environment variable to your configuration\n+file:\n+\n+.. code-block:: apache\n+\n+    SetEnv GDAL_DATA /usr/local/share\n+\n+.. rubric:: Footnotes\n+.. [#] The datum shifting files are needed for converting data to and from\n+       certain projections.\n+       For example, the PROJ.4 string for the `Google projection (900913 or 3857)\n+       <http://spatialreference.org/ref/sr-org/6864/prj/>`_ requires the\n+       ``null`` grid file only included in the extra datum shifting files.\n+       It is easier to install the shifting files now, then to have debug a\n+       problem caused by their absence later.\n+.. [#] Specifically, GeoDjango provides support for the `OGR\n+       <http://gdal.org/ogr>`_ library, a component of GDAL.\n+.. [#] See `GDAL ticket #2382 <http://trac.osgeo.org/gdal/ticket/2382>`_.\n+"
        },
        {
            "sha": "c710866813faa1d429830e7443c228979211527a",
            "filename": "docs/ref/contrib/gis/install/index.txt",
            "status": "added",
            "additions": 535,
            "deletions": 0,
            "changes": 535,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "patch": "@@ -0,0 +1,535 @@\n+.. _ref-gis-install:\n+\n+======================\n+GeoDjango Installation\n+======================\n+\n+.. highlight:: console\n+\n+Overview\n+========\n+In general, GeoDjango installation requires:\n+\n+1. :ref:`Python and Django <django>`\n+2. :ref:`spatial_database`\n+3. :ref:`geospatial_libs`\n+\n+Details for each of the requirements and installation instructions\n+are provided in the sections below. In addition, platform-specific\n+instructions are available for:\n+\n+* :ref:`macosx`\n+* :ref:`windows`\n+\n+.. admonition:: Use the Source\n+\n+    Because GeoDjango takes advantage of the latest in the open source geospatial\n+    software technology, recent versions of the libraries are necessary.\n+    If binary packages aren't available for your platform, installation from\n+    source may be required. When compiling the libraries from source, please\n+    follow the directions closely, especially if you're a beginner.\n+\n+Requirements\n+============\n+\n+.. _django:\n+\n+Python and Django\n+-----------------\n+\n+Because GeoDjango is included with Django, please refer to Django's\n+:ref:`installation instructions <installing-official-release>` for details on\n+how to install.\n+\n+\n+.. _spatial_database:\n+\n+Spatial database\n+----------------\n+PostgreSQL (with PostGIS), MySQL, Oracle, and SQLite (with SpatiaLite) are\n+the spatial databases currently supported.\n+\n+.. note::\n+\n+    PostGIS is recommended, because it is the most mature and feature-rich\n+    open source spatial database.\n+\n+The geospatial libraries required for a GeoDjango installation depends\n+on the spatial database used.  The following lists the library requirements,\n+supported versions, and any notes for each of the supported database backends:\n+\n+==================  ==============================  ==================  =========================================\n+Database            Library Requirements            Supported Versions  Notes\n+==================  ==============================  ==================  =========================================\n+PostgreSQL          GEOS, PROJ.4, PostGIS           8.2+                Requires PostGIS.\n+MySQL               GEOS                            5.x                 Not OGC-compliant; limited functionality.\n+Oracle              GEOS                            10.2, 11            XE not supported; not tested with 9.\n+SQLite              GEOS, GDAL, PROJ.4, SpatiaLite  3.6.+               Requires SpatiaLite 2.3+, pysqlite2 2.5+\n+==================  ==============================  ==================  =========================================\n+\n+See also `this comparison matrix`__ on the OSGeo Wiki for\n+PostgreSQL/PostGIS/GEOS/GDAL possible combinations.\n+\n+__ http://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS\n+\n+Installation\n+============\n+\n+Geospatial libraries\n+--------------------\n+\n+.. toctree::\n+   :maxdepth: 1\n+\n+   geolibs\n+\n+Database installation\n+---------------------\n+\n+.. toctree::\n+   :maxdepth: 1\n+\n+   postgis\n+   spatialite\n+\n+Add ``django.contrib.gis`` to :setting:`INSTALLED_APPS`\n+-------------------------------------------------------\n+\n+Like other Django contrib applications, you will *only* need to add\n+:mod:`django.contrib.gis` to :setting:`INSTALLED_APPS` in your settings.\n+This is the so that ``gis`` templates can be located -- if not done, then\n+features such as the geographic admin or KML sitemaps will not function properly.\n+\n+.. _addgoogleprojection:\n+\n+Add Google projection to ``spatial_ref_sys`` table\n+--------------------------------------------------\n+\n+.. note::\n+\n+    If you're running PostGIS 1.4 or above, you can skip this step. The entry\n+    is already included in the default ``spatial_ref_sys`` table.\n+\n+In order to conduct database transformations to the so-called \"Google\"\n+projection (a spherical mercator projection used by Google Maps),\n+an entry must be added to your spatial database's ``spatial_ref_sys`` table.\n+Invoke the Django shell from your project and execute the\n+``add_srs_entry`` function:\n+\n+.. code-block:: pycon\n+\n+    $ python manage shell\n+    >>> from django.contrib.gis.utils import add_srs_entry\n+    >>> add_srs_entry(900913)\n+\n+This adds an entry for the 900913 SRID to the ``spatial_ref_sys`` (or equivalent)\n+table, making it possible for the spatial database to transform coordinates in\n+this projection.  You only need to execute this command *once* per spatial database.\n+\n+Troubleshooting\n+===============\n+\n+If you can't find the solution to your problem here then participate in the\n+community!  You can:\n+\n+* Join the ``#geodjango`` IRC channel on FreeNode. Please be patient and polite\n+  -- while you may not get an immediate response, someone will attempt to answer\n+  your question as soon as they see it.\n+* Ask your question on the `GeoDjango`__ mailing list.\n+* File a ticket on the `Django trac`__ if you think there's a bug.  Make\n+  sure to provide a complete description of the problem, versions used,\n+  and specify the component as \"GIS\".\n+\n+__ http://groups.google.com/group/geodjango\n+__ https://code.djangoproject.com/newticket\n+\n+.. _libsettings:\n+\n+Library environment settings\n+----------------------------\n+\n+By far, the most common problem when installing GeoDjango is that the\n+external shared libraries (e.g., for GEOS and GDAL) cannot be located. [#]_\n+Typically, the cause of this problem is that the operating system isn't aware\n+of the directory where the libraries built from source were installed.\n+\n+In general, the library path may be set on a per-user basis by setting\n+an environment variable, or by configuring the library path for the entire\n+system.\n+\n+``LD_LIBRARY_PATH`` environment variable\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+A user may set this environment variable to customize the library paths\n+they want to use.  The typical library directory for software\n+built from source is ``/usr/local/lib``.  Thus, ``/usr/local/lib`` needs\n+to be included in the ``LD_LIBRARY_PATH`` variable.  For example, the user\n+could place the following in their bash profile::\n+\n+    export LD_LIBRARY_PATH=/usr/local/lib\n+\n+Setting system library path\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+On GNU/Linux systems, there is typically a file in ``/etc/ld.so.conf``, which may include\n+additional paths from files in another directory, such as ``/etc/ld.so.conf.d``.\n+As the root user, add the custom library path (like ``/usr/local/lib``) on a\n+new line in ``ld.so.conf``.  This is *one* example of how to do so::\n+\n+    $ sudo echo /usr/local/lib >> /etc/ld.so.conf\n+    $ sudo ldconfig\n+\n+For OpenSolaris users, the system library path may be modified using the\n+``crle`` utility.  Run ``crle`` with no options to see the current configuration\n+and use ``crle -l`` to set with the new library path.  Be *very* careful when\n+modifying the system library path::\n+\n+    # crle -l $OLD_PATH:/usr/local/lib\n+\n+.. _binutils:\n+\n+Install ``binutils``\n+^^^^^^^^^^^^^^^^^^^^\n+\n+GeoDjango uses the ``find_library`` function (from the ``ctypes.util`` Python\n+module) to discover libraries.  The ``find_library`` routine uses a program\n+called ``objdump`` (part of the ``binutils`` package) to verify a shared\n+library on GNU/Linux systems.  Thus, if ``binutils`` is not installed on your\n+Linux system then Python's ctypes may not be able to find your library even if\n+your library path is set correctly and geospatial libraries were built perfectly.\n+\n+The ``binutils`` package may be installed on Debian and Ubuntu systems using the\n+following command::\n+\n+    $ sudo apt-get install binutils\n+\n+Similarly, on Red Hat and CentOS systems::\n+\n+    $ sudo yum install binutils\n+\n+Platform-specific instructions\n+==============================\n+\n+.. _macosx:\n+\n+Mac OS X\n+--------\n+\n+Because of the variety of packaging systems available for OS X, users have\n+several different options for installing GeoDjango. These options are:\n+\n+* :ref:`homebrew`\n+* :ref:`kyngchaos`\n+* :ref:`fink`\n+* :ref:`macports`\n+* :ref:`build_from_source`\n+\n+.. note::\n+\n+    Currently, the easiest and recommended approach for installing GeoDjango\n+    on OS X is to use the KyngChaos packages.\n+\n+This section also includes instructions for installing an upgraded version\n+of :ref:`macosx_python` from packages provided by the Python Software\n+Foundation, however, this is not required.\n+\n+.. _macosx_python:\n+\n+Python\n+^^^^^^\n+\n+Although OS X comes with Python installed, users can use framework\n+installers (`2.6`__ and `2.7`__ are available) provided by\n+the Python Software Foundation.  An advantage to using the installer is\n+that OS X's Python will remain \"pristine\" for internal operating system\n+use.\n+\n+__ http://python.org/ftp/python/2.6.6/python-2.6.6-macosx10.3.dmg\n+__ http://python.org/ftp/python/2.7.3/\n+\n+.. note::\n+\n+    You will need to modify the ``PATH`` environment variable in your\n+    ``.profile`` file so that the new version of Python is used when\n+    ``python`` is entered at the command-line::\n+\n+        export PATH=/Library/Frameworks/Python.framework/Versions/Current/bin:$PATH\n+\n+.. _homebrew:\n+\n+Homebrew\n+^^^^^^^^\n+\n+`Homebrew`__ provides \"recipes\" for building binaries and packages from source.\n+It provides recipes for the GeoDjango prerequisites on Macintosh computers\n+running OS X. Because Homebrew still builds the software from source, the\n+`Apple Developer Tools`_ are required.\n+\n+Summary::\n+\n+    $ brew install postgresql\n+    $ brew install postgis\n+    $ brew install gdal\n+    $ brew install libgeoip\n+\n+__ http://mxcl.github.com/homebrew/\n+.. _Apple Developer Tools: https://developer.apple.com/technologies/tools/\n+\n+.. _kyngchaos:\n+\n+KyngChaos packages\n+^^^^^^^^^^^^^^^^^^\n+\n+William Kyngesburye provides a number of `geospatial library binary packages`__\n+that make it simple to get GeoDjango installed on OS X without compiling\n+them from source.  However, the `Apple Developer Tools`_ are still necessary\n+for compiling the Python database adapters :ref:`psycopg2_kyngchaos` (for PostGIS)\n+and :ref:`pysqlite2` (for SpatiaLite).\n+\n+.. note::\n+\n+    SpatiaLite users should consult the :ref:`spatialite_macosx` section\n+    after installing the packages for additional instructions.\n+\n+Download the framework packages for:\n+\n+* UnixImageIO\n+* PROJ\n+* GEOS\n+* SQLite3 (includes the SpatiaLite library)\n+* GDAL\n+\n+Install the packages in the order they are listed above, as the GDAL and SQLite\n+packages require the packages listed before them.\n+\n+Afterwards, you can also install the KyngChaos binary packages for `PostgreSQL\n+and PostGIS`__.\n+\n+After installing the binary packages, you'll want to add the following to\n+your ``.profile`` to be able to run the package programs from the command-line::\n+\n+    export PATH=/Library/Frameworks/UnixImageIO.framework/Programs:$PATH\n+    export PATH=/Library/Frameworks/PROJ.framework/Programs:$PATH\n+    export PATH=/Library/Frameworks/GEOS.framework/Programs:$PATH\n+    export PATH=/Library/Frameworks/SQLite3.framework/Programs:$PATH\n+    export PATH=/Library/Frameworks/GDAL.framework/Programs:$PATH\n+    export PATH=/usr/local/pgsql/bin:$PATH\n+\n+__ http://www.kyngchaos.com/software/frameworks\n+__ http://www.kyngchaos.com/software/postgres\n+\n+.. _psycopg2_kyngchaos:\n+\n+psycopg2\n+~~~~~~~~\n+\n+After you've installed the KyngChaos binaries and modified your ``PATH``, as\n+described above, ``psycopg2`` may be installed using the following command::\n+\n+    $ sudo pip install psycopg2\n+\n+.. note::\n+\n+    If you don't have ``pip``, follow the the :ref:`installation instructions\n+    <installing-official-release>` to install it.\n+\n+.. _fink:\n+\n+Fink\n+^^^^\n+\n+`Kurt Schwehr`__ has been gracious enough to create GeoDjango packages for users\n+of the `Fink`__ package system.  The following packages are available, depending\n+on which version of Python you want to use:\n+\n+* ``django-gis-py26``\n+* ``django-gis-py25``\n+* ``django-gis-py24``\n+\n+__ http://schwehr.org/blog/\n+__ http://www.finkproject.org/\n+\n+.. _macports:\n+\n+MacPorts\n+^^^^^^^^\n+\n+`MacPorts`__ may be used to install GeoDjango prerequisites on Macintosh\n+computers running OS X.  Because MacPorts still builds the software from source,\n+the `Apple Developer Tools`_ are required.\n+\n+Summary::\n+\n+    $ sudo port install postgresql83-server\n+    $ sudo port install geos\n+    $ sudo port install proj\n+    $ sudo port install postgis\n+    $ sudo port install gdal +geos\n+    $ sudo port install libgeoip\n+\n+.. note::\n+\n+    You will also have to modify the ``PATH`` in your ``.profile`` so\n+    that the MacPorts programs are accessible from the command-line::\n+\n+        export PATH=/opt/local/bin:/opt/local/lib/postgresql83/bin\n+\n+    In addition, add the ``DYLD_FALLBACK_LIBRARY_PATH`` setting so that\n+    the libraries can be found by Python::\n+\n+        export DYLD_FALLBACK_LIBRARY_PATH=/opt/local/lib:/opt/local/lib/postgresql83\n+\n+__ http://www.macports.org/\n+\n+.. _windows:\n+\n+Windows\n+-------\n+\n+Proceed through the following sections sequentially in order to install\n+GeoDjango on Windows.\n+\n+.. note::\n+\n+    These instructions assume that you are using 32-bit versions of\n+    all programs.  While 64-bit versions of Python and PostgreSQL 9.0\n+    are available, 64-bit versions of spatial libraries, like\n+    GEOS and GDAL, are not yet provided by the :ref:`OSGeo4W` installer.\n+\n+Python\n+^^^^^^\n+\n+First, download the latest `Python 2.7 installer`__ from the Python Web site.\n+Next, run the installer and keep the defaults -- for example, keep\n+'Install for all users' checked and the installation path set as\n+``C:\\Python27``.\n+\n+.. note::\n+\n+    You may already have a version of Python installed in ``C:\\python`` as ESRI\n+    products sometimes install a copy there.  *You should still install a\n+    fresh version of Python 2.7.*\n+\n+__ http://python.org/download/\n+\n+PostgreSQL\n+^^^^^^^^^^\n+\n+First, download the latest `PostgreSQL 9.0 installer`__ from the\n+`EnterpriseDB`__ Web site.  After downloading, simply run the installer,\n+follow the on-screen directions, and keep the default options unless\n+you know the consequences of changing them.\n+\n+.. note::\n+\n+    The PostgreSQL installer creates both a new Windows user to be the\n+    'postgres service account' and a ``postgres`` database superuser\n+    You will be prompted once to set the password for both accounts --\n+    make sure to remember it!\n+\n+When the installer completes, it will ask to launch the Application Stack\n+Builder (ASB) on exit -- keep this checked, as it is necessary to\n+install :ref:`postgisasb`.\n+\n+.. note::\n+\n+    If installed successfully, the PostgreSQL server will run in the\n+    background each time the system as started as a Windows service.\n+    A :menuselection:`PostgreSQL 9.0` start menu group will created\n+    and contains shortcuts for the ASB as well as the 'SQL Shell',\n+    which will launch a ``psql`` command window.\n+\n+__ http://www.enterprisedb.com/products-services-training/pgdownload\n+__ http://www.enterprisedb.com\n+\n+.. _postgisasb:\n+\n+PostGIS\n+^^^^^^^\n+\n+From within the Application Stack Builder (to run outside of the installer,\n+:menuselection:`Start --> Programs --> PostgreSQL 9.0`), select\n+:menuselection:`PostgreSQL Database Server 9.0 on port 5432` from the drop down\n+menu.  Next, expand the :menuselection:`Categories --> Spatial Extensions` menu\n+tree and select :menuselection:`PostGIS 1.5 for PostgreSQL 9.0`.\n+\n+After clicking next, you will be prompted to select your mirror, PostGIS\n+will be downloaded, and the PostGIS installer will begin.  Select only the\n+default options during install (e.g., do not uncheck the option to create a\n+default PostGIS database).\n+\n+.. note::\n+\n+    You will be prompted to enter your ``postgres`` database superuser\n+    password in the 'Database Connection Information' dialog.\n+\n+psycopg2\n+^^^^^^^^\n+\n+The ``psycopg2`` Python module provides the interface between Python and the\n+PostgreSQL database.  Download the latest `Windows installer`__ for your version\n+of Python and PostgreSQL and run using the default settings. [#]_\n+\n+__ http://www.stickpeople.com/projects/python/win-psycopg/\n+\n+.. _osgeo4w:\n+\n+OSGeo4W\n+^^^^^^^\n+\n+The `OSGeo4W installer`_ makes it simple to install the PROJ.4, GDAL, and GEOS\n+libraries required by GeoDjango.  First, download the `OSGeo4W installer`_,\n+and run it.  Select :menuselection:`Express Web-GIS Install` and click next.\n+In the 'Select Packages' list, ensure that GDAL is selected; MapServer and\n+Apache are also enabled by default, but are not required by GeoDjango and\n+may be unchecked safely.  After clicking next, the packages will be\n+automatically downloaded and installed, after which you may exit the\n+installer.\n+\n+.. _OSGeo4W installer: http://trac.osgeo.org/osgeo4w/\n+\n+Modify Windows environment\n+^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+In order to use GeoDjango, you will need to add your Python and OSGeo4W\n+directories to your Windows system ``Path``, as well as create ``GDAL_DATA``\n+and ``PROJ_LIB`` environment variables.  The following set of commands,\n+executable with ``cmd.exe``, will set this up:\n+\n+.. code-block:: bat\n+\n+     set OSGEO4W_ROOT=C:\\OSGeo4W\n+     set PYTHON_ROOT=C:\\Python27\n+     set GDAL_DATA=%OSGEO4W_ROOT%\\share\\gdal\n+     set PROJ_LIB=%OSGEO4W_ROOT%\\share\\proj\n+     set PATH=%PATH%;%PYTHON_ROOT%;%OSGEO4W_ROOT%\\bin\n+     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v Path /t REG_EXPAND_SZ /f /d \"%PATH%\"\n+     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v GDAL_DATA /t REG_EXPAND_SZ /f /d \"%GDAL_DATA%\"\n+     reg ADD \"HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment\" /v PROJ_LIB /t REG_EXPAND_SZ /f /d \"%PROJ_LIB%\"\n+\n+For your convenience, these commands are available in the executable batch\n+script, :download:`geodjango_setup.bat`.\n+\n+.. note::\n+\n+    Administrator privileges are required to execute these commands.\n+    To do this, right-click on :download:`geodjango_setup.bat` and select\n+    :menuselection:`Run as administrator`. You need to log out and log back in again\n+    for the settings to take effect.\n+\n+.. note::\n+\n+    If you customized the Python or OSGeo4W installation directories,\n+    then you will need to modify the ``OSGEO4W_ROOT`` and/or ``PYTHON_ROOT``\n+    variables accordingly.\n+\n+Install Django and set up database\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Finally, :ref:`install Django <installing-official-release>` on your system.\n+\n+.. rubric:: Footnotes\n+.. [#] GeoDjango uses the :func:`~ctypes.util.find_library` routine from\n+       :mod:`ctypes.util` to locate shared libraries.\n+.. [#] The ``psycopg2`` Windows installers are packaged and maintained by\n+       `Jason Erickson <http://www.stickpeople.com/projects/python/win-psycopg/>`_."
        },
        {
            "sha": "6d7fe88203e269c21e759e0c1feffe7cd2ff9222",
            "filename": "docs/ref/contrib/gis/install/postgis.txt",
            "status": "added",
            "additions": 175,
            "deletions": 0,
            "changes": 175,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fpostgis.txt",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fpostgis.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fpostgis.txt?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "patch": "@@ -0,0 +1,175 @@\n+.. _postgis:\n+\n+==================\n+Installing PostGIS\n+==================\n+\n+`PostGIS`__ adds geographic object support to PostgreSQL, turning it\n+into a spatial database. :ref:`geosbuild`, :ref:`proj4` and\n+:ref:`gdalbuild` should be installed prior to building PostGIS. You\n+might also need additional libraries, see `PostGIS requirements`_.\n+\n+.. note::\n+\n+    The `psycopg2`_ module is required for use as the database adaptor\n+    when using GeoDjango with PostGIS.\n+\n+.. _psycopg2: http://initd.org/psycopg/\n+.. _PostGIS requirements: http://www.postgis.org/documentation/manual-2.0/postgis_installation.html#id2711662\n+\n+On Debian/Ubuntu, you are advised to install the following packages:\n+postgresql-x.x, postgresql-x.x-postgis, postgresql-server-dev-x.x,\n+python-psycopg2 (x.x matching the PostgreSQL version you want to install).\n+Please also consult platform-specific instructions if you are on :ref:`macosx`\n+or :ref:`windows`.\n+\n+Building from source\n+====================\n+\n+First download the source archive, and extract::\n+\n+    $ wget http://postgis.refractions.net/download/postgis-2.0.1.tar.gz\n+    $ tar xzf postgis-2.0.1.tar.gz\n+    $ cd postgis-2.0.1\n+\n+Next, configure, make and install PostGIS::\n+\n+    $ ./configure\n+\n+Finally, make and install::\n+\n+    $ make\n+    $ sudo make install\n+    $ cd ..\n+\n+.. note::\n+\n+    GeoDjango does not automatically create a spatial database.  Please consult\n+    the section on :ref:`spatialdb_template91` or\n+    :ref:`spatialdb_template_earlier` for more information.\n+\n+__ http://postgis.refractions.net/\n+\n+Post-installation\n+=================\n+\n+.. _spatialdb_template:\n+.. _spatialdb_template91:\n+\n+Creating a spatial database with PostGIS 2.0 and PostgreSQL 9.1\n+---------------------------------------------------------------\n+\n+PostGIS 2 includes an extension for Postgres 9.1 that can be used to enable\n+spatial functionality::\n+\n+    $ createdb  <db name>\n+    $ psql <db name>\n+    > CREATE EXTENSION postgis;\n+    > CREATE EXTENSION postgis_topology;\n+\n+No PostGIS topology functionalities are yet available from GeoDjango, so the\n+creation of the ``postgis_topology`` extension is entirely optional.\n+\n+.. _spatialdb_template_earlier:\n+\n+Creating a spatial database template for earlier versions\n+---------------------------------------------------------\n+\n+If you have an earlier version of PostGIS or PostgreSQL, the CREATE\n+EXTENSION isn't available and you need to create the spatial database\n+using the following instructions.\n+\n+Creating a spatial database with PostGIS is different than normal because\n+additional SQL must be loaded to enable spatial functionality.  Because of\n+the steps in this process, it's better to create a database template that\n+can be reused later.\n+\n+First, you need to be able to execute the commands as a privileged database\n+user.  For example, you can use the following to become the ``postgres`` user::\n+\n+    $ sudo su - postgres\n+\n+.. note::\n+\n+   The location *and* name of the PostGIS SQL files (e.g., from\n+   ``POSTGIS_SQL_PATH`` below) depends on the version of PostGIS.\n+   PostGIS versions 1.3 and below use ``<pg_sharedir>/contrib/lwpostgis.sql``;\n+   whereas version 1.4 uses ``<sharedir>/contrib/postgis.sql`` and\n+   version 1.5 uses ``<sharedir>/contrib/postgis-1.5/postgis.sql``.\n+\n+   To complicate matters, Debian/Ubuntu distributions have their own separate\n+   directory naming system that might change with time. In this case, use the\n+   :download:`create_template_postgis-debian.sh` script.\n+\n+   The example below assumes PostGIS 1.5, thus you may need to modify\n+   ``POSTGIS_SQL_PATH`` and the name of the SQL file for the specific\n+   version of PostGIS you are using.\n+\n+Once you're a database super user, then you may execute the following commands\n+to create a PostGIS spatial database template::\n+\n+    $ POSTGIS_SQL_PATH=`pg_config --sharedir`/contrib/postgis-2.0\n+    # Creating the template spatial database.\n+    $ createdb -E UTF8 template_postgis\n+    $ createlang -d template_postgis plpgsql # Adding PLPGSQL language support.\n+    # Allows non-superusers the ability to create from this template\n+    $ psql -d postgres -c \"UPDATE pg_database SET datistemplate='true' WHERE datname='template_postgis';\"\n+    # Loading the PostGIS SQL routines\n+    $ psql -d template_postgis -f $POSTGIS_SQL_PATH/postgis.sql\n+    $ psql -d template_postgis -f $POSTGIS_SQL_PATH/spatial_ref_sys.sql\n+    # Enabling users to alter spatial tables.\n+    $ psql -d template_postgis -c \"GRANT ALL ON geometry_columns TO PUBLIC;\"\n+    $ psql -d template_postgis -c \"GRANT ALL ON geography_columns TO PUBLIC;\"\n+    $ psql -d template_postgis -c \"GRANT ALL ON spatial_ref_sys TO PUBLIC;\"\n+\n+These commands may be placed in a shell script for later use; for convenience\n+the following scripts are available:\n+\n+===============  =============================================\n+PostGIS version  Bash shell script\n+===============  =============================================\n+1.3              :download:`create_template_postgis-1.3.sh`\n+1.4              :download:`create_template_postgis-1.4.sh`\n+1.5              :download:`create_template_postgis-1.5.sh`\n+Debian/Ubuntu    :download:`create_template_postgis-debian.sh`\n+===============  =============================================\n+\n+Afterwards, you may create a spatial database by simply specifying\n+``template_postgis`` as the template to use (via the ``-T`` option)::\n+\n+    $ createdb -T template_postgis <db name>\n+\n+.. note::\n+\n+    While the ``createdb`` command does not require database super-user privileges,\n+    it must be executed by a database user that has permissions to create databases.\n+    You can create such a user with the following command::\n+\n+        $ createuser --createdb <user>\n+\n+PostgreSQL's createdb fails\n+---------------------------\n+\n+When the PostgreSQL cluster uses a non-UTF8 encoding, the\n+:file:`create_template_postgis-*.sh` script will fail when executing\n+``createdb``::\n+\n+    createdb: database creation failed: ERROR:  new encoding (UTF8) is incompatible\n+      with the encoding of the template database (SQL_ASCII)\n+\n+The `current workaround`__ is to re-create the cluster using UTF8 (back up any\n+databases before dropping the cluster).\n+\n+__ http://jacobian.org/writing/pg-encoding-ubuntu/\n+\n+Managing the database\n+---------------------\n+\n+To administer the database, you can either use the pgAdmin III program\n+(:menuselection:`Start --> PostgreSQL 9.0 --> pgAdmin III`) or the\n+SQL Shell (:menuselection:`Start --> PostgreSQL 9.0 --> SQL Shell`).\n+For example, to create a ``geodjango`` spatial database and user, the following\n+may be executed from the SQL Shell as the ``postgres`` user::\n+\n+    postgres# CREATE USER geodjango PASSWORD 'my_passwd';\n+    postgres# CREATE DATABASE geodjango OWNER geodjango TEMPLATE template_postgis ENCODING 'utf8';"
        },
        {
            "sha": "941d55927285e79a1a3498716d02caee2fea36e6",
            "filename": "docs/ref/contrib/gis/install/spatialite.txt",
            "status": "added",
            "additions": 222,
            "deletions": 0,
            "changes": 222,
            "blob_url": "https://github.com/django/django/blob/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fspatialite.txt",
            "raw_url": "https://github.com/django/django/raw/3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fspatialite.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fspatialite.txt?ref=3084b1cfd6110e2ef57f1a67f8b7dbda309e2e13",
            "patch": "@@ -0,0 +1,222 @@\n+.. _spatialite:\n+\n+=====================\n+Installing Spatialite\n+=====================\n+\n+`SpatiaLite`__ adds spatial support to SQLite, turning it into a full-featured\n+spatial database.\n+\n+Check first if you can install Spatialite from system packages or binaries. For\n+example, on Debian-based distributions, try to install the ``spatialite-bin``\n+package. For Mac OS X, follow the\n+:ref:`specific instructions below<spatialite_macosx>`. For Windows, you may\n+find binaries on `Gaia-SINS`__ home page. In any case, you should always\n+be able to :ref:`install from source<spatialite_source>`.\n+\n+When you are done with the installation process, skip to :ref:`create_spatialite_db`.\n+\n+__ https://www.gaia-gis.it/fossil/libspatialite\n+__ http://www.gaia-gis.it/gaia-sins/\n+\n+.. _spatialite_source:\n+\n+Installing from source\n+~~~~~~~~~~~~~~~~~~~~~~\n+\n+:ref:`GEOS and PROJ.4<geospatial_libs>` should be installed prior to building\n+SpatiaLite.\n+\n+SQLite\n+^^^^^^\n+\n+Check first if SQLite is compiled with the `R*Tree module`__. Run the sqlite3\n+command line interface and enter the following query::\n+\n+    sqlite> CREATE VIRTUAL TABLE testrtree USING rtree(id,minX,maxX,minY,maxY);\n+\n+If you obtain an error, you will have to recompile SQLite from source. Otherwise,\n+just skip this section.\n+\n+To install from sources, download the latest amalgamation source archive from\n+the `SQLite download page`__, and extract::\n+\n+    $ wget http://sqlite.org/sqlite-amalgamation-3.6.23.1.tar.gz\n+    $ tar xzf sqlite-amalgamation-3.6.23.1.tar.gz\n+    $ cd sqlite-3.6.23.1\n+\n+Next, run the ``configure`` script -- however the ``CFLAGS`` environment variable\n+needs to be customized so that SQLite knows to build the R*Tree module::\n+\n+    $ CFLAGS=\"-DSQLITE_ENABLE_RTREE=1\" ./configure\n+    $ make\n+    $ sudo make install\n+    $ cd ..\n+\n+__ http://www.sqlite.org/rtree.html\n+__ http://www.sqlite.org/download.html\n+\n+.. _spatialitebuild :\n+\n+SpatiaLite library (``libspatialite``) and tools (``spatialite``)\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Get the latest SpatiaLite library source and tools bundle from the\n+`download page`__::\n+\n+    $ wget http://www.gaia-gis.it/gaia-sins/libspatialite-sources/libspatialite-amalgamation-2.4.0-5.tar.gz\n+    $ wget http://www.gaia-gis.it/gaia-sins/spatialite-tools-sources/spatialite-tools-2.4.0-5.tar.gz\n+    $ tar xzf libspatialite-amalgamation-2.4.0-5.tar.gz\n+    $ tar xzf spatialite-tools-2.4.0-5.tar.gz\n+\n+Prior to attempting to build, please read the important notes below to see if\n+customization of the ``configure`` command is necessary.  If not, then run the\n+``configure`` script, make, and install for the SpatiaLite library::\n+\n+    $ cd libspatialite-amalgamation-2.3.1\n+    $ ./configure # May need to modified, see notes below.\n+    $ make\n+    $ sudo make install\n+    $ cd .... _spatialite\n+\n+Finally, do the same for the SpatiaLite tools::\n+\n+    $ cd spatialite-tools-2.3.1\n+    $ ./configure # May need to modified, see notes below.\n+    $ make\n+    $ sudo make install\n+    $ cd ..\n+\n+.. note::\n+\n+    If you've installed GEOS and PROJ.4 from binary packages, you will have to specify\n+    their paths when running the ``configure`` scripts for *both* the library and the\n+    tools (the configure scripts look, by default, in ``/usr/local``).  For example,\n+    on Debian/Ubuntu distributions that have GEOS and PROJ.4 packages, the command would be::\n+\n+       $ ./configure --with-proj-include=/usr/include --with-proj-lib=/usr/lib --with-geos-include=/usr/include --with-geos-lib=/usr/lib\n+\n+.. note::\n+\n+    For Mac OS X users building from source, the SpatiaLite library *and* tools\n+    need to have their ``target`` configured::\n+\n+        $ ./configure --target=macosx\n+\n+__ http://www.gaia-gis.it/gaia-sins/libspatialite-sources/\n+\n+.. _pysqlite2:\n+\n+pysqlite2\n+^^^^^^^^^\n+\n+If you are on Python 2.6, you will also have to compile pysqlite2, because\n+``SpatiaLite`` must be loaded as an external extension, and the required\n+``enable_load_extension`` method is only available in versions 2.5+ of\n+pysqlite2. Thus, download pysqlite2 2.6, and untar::\n+\n+    $ wget http://pysqlite.googlecode.com/files/pysqlite-2.6.3.tar.gz\n+    $ tar xzf pysqlite-2.6.3.tar.gz\n+    $ cd pysqlite-2.6.3\n+\n+Next, use a text editor (e.g., ``emacs`` or ``vi``) to edit the ``setup.cfg`` file\n+to look like the following:\n+\n+.. code-block:: ini\n+\n+    [build_ext]\n+    #define=\n+    include_dirs=/usr/local/include\n+    library_dirs=/usr/local/lib\n+    libraries=sqlite3\n+    #define=SQLITE_OMIT_LOAD_EXTENSION\n+\n+or if you are on Mac OS X:\n+\n+.. code-block:: ini\n+\n+    [build_ext]\n+    #define=\n+    include_dirs=/Library/Frameworks/SQLite3.framework/unix/include\n+    library_dirs=/Library/Frameworks/SQLite3.framework/unix/lib\n+    libraries=sqlite3\n+    #define=SQLITE_OMIT_LOAD_EXTENSION\n+\n+.. note::\n+\n+    The important thing here is to make sure you comment out the\n+    ``define=SQLITE_OMIT_LOAD_EXTENSION`` flag and that the ``include_dirs``\n+    and ``library_dirs`` settings are uncommented and set to the appropriate\n+    path if the SQLite header files and libraries are not in ``/usr/include``\n+    and ``/usr/lib``, respectively.\n+\n+After modifying ``setup.cfg`` appropriately, then run the ``setup.py`` script\n+to build and install::\n+\n+    $ sudo python setup.py install\n+\n+.. _spatialite_macosx:\n+\n+Mac OS X-specific instructions\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Mac OS X users should follow the instructions in the :ref:`kyngchaos` section,\n+as it is much easier than building from source.\n+\n+When :ref:`create_spatialite_db`, the ``spatialite`` program is required.\n+However, instead of attempting to compile the SpatiaLite tools from source,\n+download the `SpatiaLite Binaries`__ for OS X, and install ``spatialite`` in a\n+location available in your ``PATH``.  For example::\n+\n+    $ curl -O http://www.gaia-gis.it/spatialite/spatialite-tools-osx-x86-2.3.1.tar.gz\n+    $ tar xzf spatialite-tools-osx-x86-2.3.1.tar.gz\n+    $ cd spatialite-tools-osx-x86-2.3.1/bin\n+    $ sudo cp spatialite /Library/Frameworks/SQLite3.framework/Programs\n+\n+Finally, for GeoDjango to be able to find the KyngChaos SpatiaLite library,\n+add the following to your ``settings.py``:\n+\n+.. code-block:: python\n+\n+    SPATIALITE_LIBRARY_PATH='/Library/Frameworks/SQLite3.framework/SQLite3'\n+\n+__ http://www.gaia-gis.it/spatialite-2.3.1/binaries.html\n+\n+.. _create_spatialite_db:\n+\n+Creating a spatial database for SpatiaLite\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+After you've installed SpatiaLite, you'll need to create a number of spatial\n+metadata tables in your database in order to perform spatial queries.\n+\n+If you're using SpatiaLite 2.4 or newer, use the ``spatialite`` utility to\n+call the ``InitSpatialMetaData()`` function, like this::\n+\n+   $ spatialite geodjango.db \"SELECT InitSpatialMetaData();\"\n+   the SPATIAL_REF_SYS table already contains some row(s)\n+    InitSpatiaMetaData ()error:\"table spatial_ref_sys already exists\"\n+   0\n+\n+You can safely ignore the error messages shown. When you've done this, you can\n+skip the rest of this section.\n+\n+If you're using SpatiaLite 2.3, you'll need to download a\n+database-initialization file and execute its SQL queries in your database.\n+\n+First, get it from the `SpatiaLite Resources`__ page::\n+\n+   $ wget http://www.gaia-gis.it/spatialite-2.3.1/init_spatialite-2.3.sql.gz\n+   $ gunzip init_spatialite-2.3.sql.gz\n+\n+Then, use the ``spatialite`` command to initialize a spatial database::\n+\n+   $ spatialite geodjango.db < init_spatialite-2.3.sql\n+\n+.. note::\n+\n+    The parameter ``geodjango.db`` is the *filename* of the SQLite database\n+    you want to use.  Use the same in the :setting:`DATABASES` ``\"name\"`` key\n+    inside your ``settings.py``.\n+\n+__ http://www.gaia-gis.it/spatialite-2.3.1/resources.html"
        }
    ],
    "stats": {
        "total": 2527,
        "additions": 1215,
        "deletions": 1312
    }
}