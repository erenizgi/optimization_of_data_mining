{
    "author": "jbronn",
    "message": "Added comment in `geoapp` tests about PostGIS 2.0 change in ST_NumGeometries.",
    "sha": "db78086b4540f968620ffe465174d7094267f04b",
    "files": [
        {
            "sha": "1712eb5fe8821a74226f1007792b7e4a58839d58",
            "filename": "django/contrib/gis/tests/geoapp/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/db78086b4540f968620ffe465174d7094267f04b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/db78086b4540f968620ffe465174d7094267f04b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py?ref=db78086b4540f968620ffe465174d7094267f04b",
            "patch": "@@ -575,10 +575,13 @@ def test_make_line(self):\n     def test_num_geom(self):\n         \"Testing the `num_geom` GeoQuerySet method.\"\n         # Both 'countries' only have two geometries.\n-        for c in Country.objects.num_geom(): self.assertEqual(2, c.num_geom)\n+        for c in Country.objects.num_geom():\n+            self.assertEqual(2, c.num_geom)\n+\n         for c in City.objects.filter(point__isnull=False).num_geom():\n-            # Oracle will return 1 for the number of geometries on non-collections,\n-            # whereas PostGIS will return None.\n+            # Oracle and PostGIS 2.0+ will return 1 for the number of\n+            # geometries on non-collections, whereas PostGIS < 2.0.0\n+            # will return None.\n             if postgis and connection.ops.spatial_version < (2, 0, 0):\n                 self.assertIsNone(c.num_geom)\n             else:"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 6,
        "deletions": 3
    }
}