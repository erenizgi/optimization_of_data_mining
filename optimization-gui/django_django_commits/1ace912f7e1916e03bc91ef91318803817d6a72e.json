{
    "author": "jphalip",
    "message": "Fixed #18477 -- Fixed colspan value when a TabularInline form contains validation errors. Thanks to yedpodtrzitko for the report and patch.",
    "sha": "1ace912f7e1916e03bc91ef91318803817d6a72e",
    "files": [
        {
            "sha": "c11af82f76afe56088bf5a824d5a98e772aebe62",
            "filename": "django/contrib/admin/static/admin/js/inlines.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/1ace912f7e1916e03bc91ef91318803817d6a72e/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.js",
            "raw_url": "https://github.com/django/django/raw/1ace912f7e1916e03bc91ef91318803817d6a72e/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.js?ref=1ace912f7e1916e03bc91ef91318803817d6a72e",
            "patch": "@@ -44,7 +44,7 @@\n \t\t\tif ($(this).attr(\"tagName\") == \"TR\") {\n \t\t\t\t// If forms are laid out as table rows, insert the\n \t\t\t\t// \"add\" button in a new table row:\n-\t\t\t\tvar numCols = this.eq(0).children().length;\n+\t\t\t\tvar numCols = this.eq(-1).children().length;\n \t\t\t\t$(this).parent().append('<tr class=\"' + options.addCssClass + '\"><td colspan=\"' + numCols + '\"><a href=\"javascript:void(0)\">' + options.addText + \"</a></tr>\");\n \t\t\t\taddButton = $(this).parent().find(\"tr:last a\");\n \t\t\t} else {"
        },
        {
            "sha": "e4a675407e8e22c14328e4662bcff43e280c1cb3",
            "filename": "django/contrib/admin/static/admin/js/inlines.min.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/1ace912f7e1916e03bc91ef91318803817d6a72e/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.min.js",
            "raw_url": "https://github.com/django/django/raw/1ace912f7e1916e03bc91ef91318803817d6a72e/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.min.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Finlines.min.js?ref=1ace912f7e1916e03bc91ef91318803817d6a72e",
            "patch": "@@ -1,5 +1,5 @@\n (function(b){b.fn.formset=function(c){var a=b.extend({},b.fn.formset.defaults,c),j=function(a,f,d){var e=RegExp(\"(\"+f+\"-(\\\\d+|__prefix__))\"),f=f+\"-\"+d;b(a).attr(\"for\")&&b(a).attr(\"for\",b(a).attr(\"for\").replace(e,f));a.id&&(a.id=a.id.replace(e,f));a.name&&(a.name=a.name.replace(e,f))},c=b(\"#id_\"+a.prefix+\"-TOTAL_FORMS\").attr(\"autocomplete\",\"off\"),h=parseInt(c.val(),10),g=b(\"#id_\"+a.prefix+\"-MAX_NUM_FORMS\").attr(\"autocomplete\",\"off\"),c=\"\"===g.val()||0<g.val()-c.val();b(this).each(function(){b(this).not(\".\"+\n-a.emptyCssClass).addClass(a.formCssClass)});if(b(this).length&&c){var i;\"TR\"==b(this).attr(\"tagName\")?(c=this.eq(0).children().length,b(this).parent().append('<tr class=\"'+a.addCssClass+'\"><td colspan=\"'+c+'\"><a href=\"javascript:void(0)\">'+a.addText+\"</a></tr>\"),i=b(this).parent().find(\"tr:last a\")):(b(this).filter(\":last\").after('<div class=\"'+a.addCssClass+'\"><a href=\"javascript:void(0)\">'+a.addText+\"</a></div>\"),i=b(this).filter(\":last\").next().find(\"a\"));i.click(function(c){c.preventDefault();\n+a.emptyCssClass).addClass(a.formCssClass)});if(b(this).length&&c){var i;\"TR\"==b(this).attr(\"tagName\")?(c=this.eq(-1).children().length,b(this).parent().append('<tr class=\"'+a.addCssClass+'\"><td colspan=\"'+c+'\"><a href=\"javascript:void(0)\">'+a.addText+\"</a></tr>\"),i=b(this).parent().find(\"tr:last a\")):(b(this).filter(\":last\").after('<div class=\"'+a.addCssClass+'\"><a href=\"javascript:void(0)\">'+a.addText+\"</a></div>\"),i=b(this).filter(\":last\").next().find(\"a\"));i.click(function(c){c.preventDefault();\n var f=b(\"#id_\"+a.prefix+\"-TOTAL_FORMS\"),c=b(\"#\"+a.prefix+\"-empty\"),d=c.clone(true);d.removeClass(a.emptyCssClass).addClass(a.formCssClass).attr(\"id\",a.prefix+\"-\"+h);d.is(\"tr\")?d.children(\":last\").append('<div><a class=\"'+a.deleteCssClass+'\" href=\"javascript:void(0)\">'+a.deleteText+\"</a></div>\"):d.is(\"ul\")||d.is(\"ol\")?d.append('<li><a class=\"'+a.deleteCssClass+'\" href=\"javascript:void(0)\">'+a.deleteText+\"</a></li>\"):d.children(\":first\").append('<span><a class=\"'+a.deleteCssClass+'\" href=\"javascript:void(0)\">'+\n a.deleteText+\"</a></span>\");d.find(\"*\").each(function(){j(this,a.prefix,f.val())});d.insertBefore(b(c));b(f).val(parseInt(f.val(),10)+1);h=h+1;g.val()!==\"\"&&g.val()-f.val()<=0&&i.parent().hide();d.find(\"a.\"+a.deleteCssClass).click(function(e){e.preventDefault();e=b(this).parents(\".\"+a.formCssClass);e.remove();h=h-1;a.removed&&a.removed(e);e=b(\".\"+a.formCssClass);b(\"#id_\"+a.prefix+\"-TOTAL_FORMS\").val(e.length);(g.val()===\"\"||g.val()-e.length>0)&&i.parent().show();for(var c=0,d=e.length;c<d;c++){j(b(e).get(c),\n a.prefix,c);b(e.get(c)).find(\"*\").each(function(){j(this,a.prefix,c)})}});a.added&&a.added(d)})}return this};b.fn.formset.defaults={prefix:\"form\",addText:\"add another\",deleteText:\"remove\",addCssClass:\"add-row\",deleteCssClass:\"delete-row\",emptyCssClass:\"empty-row\",formCssClass:\"dynamic-form\",added:null,removed:null}})(django.jQuery);"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}