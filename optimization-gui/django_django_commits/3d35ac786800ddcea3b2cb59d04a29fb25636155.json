{
    "author": "jezdez",
    "message": "Fixed #14158 -- Fixed SelectMultiple._has_changed to not assume same order of data anymore. Thanks, akaariai and dmoisset.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14887 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "3d35ac786800ddcea3b2cb59d04a29fb25636155",
    "files": [
        {
            "sha": "6ee857a9fdde43c6c21eac3ce2ef9e31a7d80b87",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/3d35ac786800ddcea3b2cb59d04a29fb25636155/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/3d35ac786800ddcea3b2cb59d04a29fb25636155/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=3d35ac786800ddcea3b2cb59d04a29fb25636155",
            "patch": "@@ -595,10 +595,9 @@ def _has_changed(self, initial, data):\n             data = []\n         if len(initial) != len(data):\n             return True\n-        for value1, value2 in zip(initial, data):\n-            if force_unicode(value1) != force_unicode(value2):\n-                return True\n-        return False\n+        initial_set = set([force_unicode(value) for value in initial])\n+        data_set = set([force_unicode(value) for value in data])\n+        return data_set != initial_set\n \n class RadioInput(StrAndUnicode):\n     \"\"\""
        },
        {
            "sha": "7eda26adb852d89fc6e0f070c18d2a1ed77ee27e",
            "filename": "tests/regressiontests/forms/tests/widgets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/3d35ac786800ddcea3b2cb59d04a29fb25636155/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/3d35ac786800ddcea3b2cb59d04a29fb25636155/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py?ref=3d35ac786800ddcea3b2cb59d04a29fb25636155",
            "patch": "@@ -824,6 +824,7 @@ def get_choices():\n         self.assertFalse(w._has_changed([1, 2], [u'1', u'2']))\n         self.assertTrue(w._has_changed([1, 2], [u'1']))\n         self.assertTrue(w._has_changed([1, 2], [u'1', u'3']))\n+        self.assertFalse(w._has_changed([2, 1], [u'1', u'2']))\n \n         # Unicode choices are correctly rendered as HTML\n         self.assertEqual(w.render('nums', ['ŠĐĆŽćžšđ'], choices=[('ŠĐĆŽćžšđ', 'ŠĐabcĆŽćžšđ'), ('ćžšđ', 'abcćžšđ')]), u'<ul>\\n<li><label><input type=\"checkbox\" name=\"nums\" value=\"1\" /> 1</label></li>\\n<li><label><input type=\"checkbox\" name=\"nums\" value=\"2\" /> 2</label></li>\\n<li><label><input type=\"checkbox\" name=\"nums\" value=\"3\" /> 3</label></li>\\n<li><label><input checked=\"checked\" type=\"checkbox\" name=\"nums\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" /> \\u0160\\u0110abc\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111</label></li>\\n<li><label><input type=\"checkbox\" name=\"nums\" value=\"\\u0107\\u017e\\u0161\\u0111\" /> abc\\u0107\\u017e\\u0161\\u0111</label></li>\\n</ul>')"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}