{
    "author": "aaugustin",
    "message": "[py3] Removed longs.",
    "sha": "56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
    "files": [
        {
            "sha": "1d43585fcd54b07b797a6f25d9dbef7a7e75fc9e",
            "filename": "django/contrib/admin/util.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fadmin%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fadmin%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Futil.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -13,6 +13,7 @@\n from django.utils.text import capfirst\n from django.utils import timezone\n from django.utils.encoding import force_unicode, smart_unicode, smart_str\n+from django.utils import six\n from django.utils.translation import ungettext\n from django.core.urlresolvers import reverse\n \n@@ -349,7 +350,7 @@ def display_for_value(value, boolean=False):\n         return formats.localize(timezone.template_localtime(value))\n     elif isinstance(value, (datetime.date, datetime.time)):\n         return formats.localize(value)\n-    elif isinstance(value, (decimal.Decimal, float, int, long)):\n+    elif isinstance(value, six.integer_types + (decimal.Decimal, float)):\n         return formats.number_format(value)\n     else:\n         return smart_unicode(value)"
        },
        {
            "sha": "3a189ea1fe0c6852080b703f96096008311bdf77",
            "filename": "django/contrib/gis/db/backends/oracle/operations.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -16,6 +16,7 @@\n from django.contrib.gis.db.backends.util import SpatialFunction\n from django.contrib.gis.geometry.backend import Geometry\n from django.contrib.gis.measure import Distance\n+from django.utils import six\n \n class SDOOperation(SpatialFunction):\n     \"Base class for SDO* Oracle operations.\"\n@@ -65,7 +66,7 @@ def __init__(self, mask):\n         super(SDORelate, self).__init__(self.relate_func, mask=mask)\n \n # Valid distance types and substitutions\n-dtypes = (Decimal, Distance, float, int, long)\n+dtypes = (Decimal, Distance, float) + six.integer_types\n \n class OracleOperations(DatabaseOperations, BaseSpatialOperations):\n     compiler_module = \"django.contrib.gis.db.backends.oracle.compiler\""
        },
        {
            "sha": "8f190882e1d423bce06d25e40a6fa9e6411c0fe4",
            "filename": "django/contrib/gis/db/backends/postgis/operations.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -10,6 +10,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.db.backends.postgresql_psycopg2.base import DatabaseOperations\n from django.db.utils import DatabaseError\n+from django.utils import six\n \n #### Classes used in constructing PostGIS spatial SQL ####\n class PostGISOperator(SpatialOperation):\n@@ -165,7 +166,7 @@ def __init__(self, connection):\n             }\n \n         # Valid distance types and substitutions\n-        dtypes = (Decimal, Distance, float, int, long)\n+        dtypes = (Decimal, Distance, float) + six.integer_types\n         def get_dist_ops(operator):\n             \"Returns operations for both regular and spherical distances.\"\n             return {'cartesian' : PostGISDistance(prefix, operator),"
        },
        {
            "sha": "ffd7d33dad08e96db3c9517b3347494f07cae8fe",
            "filename": "django/contrib/gis/db/backends/spatialite/operations.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -9,6 +9,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.db.backends.sqlite3.base import DatabaseOperations\n from django.db.utils import DatabaseError\n+from django.utils import six\n \n class SpatiaLiteOperator(SpatialOperation):\n     \"For SpatiaLite operators (e.g. `&&`, `~`).\"\n@@ -42,7 +43,7 @@ def __init__(self, pattern):\n         super(SpatiaLiteRelate, self).__init__('Relate')\n \n # Valid distance types and substitutions\n-dtypes = (Decimal, Distance, float, int, long)\n+dtypes = (Decimal, Distance, float) + six.integer_types\n def get_dist_ops(operator):\n     \"Returns operations for regular distances; spherical distances are not currently supported.\"\n     return (SpatiaLiteDistance(operator),)"
        },
        {
            "sha": "a11b1213f42abb2c31fd622a513a7f9b0440563c",
            "filename": "django/contrib/gis/db/models/query.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -6,6 +6,7 @@\n from django.contrib.gis.db.models.sql import AreaField, DistanceField, GeomField, GeoQuery\n from django.contrib.gis.geometry.backend import Geometry\n from django.contrib.gis.measure import Area, Distance\n+from django.utils import six\n \n class GeoQuerySet(QuerySet):\n     \"The Geographic QuerySet.\"\n@@ -144,7 +145,7 @@ def geojson(self, precision=8, crs=False, bbox=False, **kwargs):\n         if not backend.geojson:\n             raise NotImplementedError('Only PostGIS 1.3.4+ supports GeoJSON serialization.')\n \n-        if not isinstance(precision, (int, long)):\n+        if not isinstance(precision, six.integer_types):\n             raise TypeError('Precision keyword must be set with an integer.')\n \n         # Setting the options flag -- which depends on which version of\n@@ -173,7 +174,7 @@ def geohash(self, precision=20, **kwargs):\n         The `precision` keyword may be used to custom the number of\n         _characters_ used in the output GeoHash, the default is 20.\n         \"\"\"\n-        s = {'desc' : 'GeoHash', \n+        s = {'desc' : 'GeoHash',\n              'procedure_args': {'precision': precision},\n              'procedure_fmt': '%(geo_col)s,%(precision)s',\n              }\n@@ -309,7 +310,7 @@ def snap_to_grid(self, *args, **kwargs):\n           - 2 arguments: X and Y sizes to snap the grid to.\n           - 4 arguments: X, Y sizes and the X, Y origins.\n         \"\"\"\n-        if False in [isinstance(arg, (float, int, long)) for arg in args]:\n+        if False in [isinstance(arg, (float,) + six.integer_types) for arg in args]:\n             raise TypeError('Size argument(s) for the grid must be a float or integer values.')\n \n         nargs = len(args)\n@@ -349,7 +350,7 @@ def svg(self, relative=False, precision=8, **kwargs):\n                         digits used in output (defaults to 8).\n         \"\"\"\n         relative = int(bool(relative))\n-        if not isinstance(precision, (int, long)):\n+        if not isinstance(precision, six.integer_types):\n             raise TypeError('SVG precision keyword argument must be an integer.')\n         s = {'desc' : 'SVG',\n              'procedure_fmt' : '%(geo_col)s,%(rel)s,%(precision)s',\n@@ -390,7 +391,7 @@ def transform(self, srid=4326, **kwargs):\n         Transforms the given geometry field to the given SRID.  If no SRID is\n         provided, the transformation will default to using 4326 (WGS84).\n         \"\"\"\n-        if not isinstance(srid, (int, long)):\n+        if not isinstance(srid, six.integer_types):\n             raise TypeError('An integer SRID must be provided.')\n         field_name = kwargs.get('field_name', None)\n         tmp, geo_field = self._spatial_setup('transform', field_name=field_name)"
        },
        {
            "sha": "e86277e95ef07cd05aae94de70e554e71e76a14c",
            "filename": "django/contrib/gis/gdal/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -1,6 +1,7 @@\n from ctypes import c_void_p\n \n from django.contrib.gis.gdal.error import GDALException\n+from django.utils import six\n \n class GDALBase(object):\n     \"\"\"\n@@ -24,7 +25,7 @@ def _get_ptr(self):\n     def _set_ptr(self, ptr):\n         # Only allow the pointer to be set with pointers of the\n         # compatible type or None (NULL).\n-        if isinstance(ptr, (int, long)):\n+        if isinstance(ptr, six.integer_types):\n             self._ptr = self.ptr_type(ptr)\n         elif ptr is None or isinstance(ptr, self.ptr_type):\n             self._ptr = ptr"
        },
        {
            "sha": "617c4acef466ea5b309ca87256e129b859dd1106",
            "filename": "django/contrib/gis/gdal/geometries.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fgeometries.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fgeometries.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Fgeometries.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -57,6 +57,8 @@\n # For recognizing geometry input.\n from django.contrib.gis.geometry.regex import hex_regex, wkt_regex, json_regex\n \n+from django.utils import six\n+\n # For more information, see the OGR C API source code:\n #  http://www.gdal.org/ogr/ogr__api_8h.html\n #\n@@ -281,7 +283,7 @@ def _set_srs(self, srs):\n         # (decremented) when this geometry's destructor is called.\n         if isinstance(srs, SpatialReference):\n             srs_ptr = srs.ptr\n-        elif isinstance(srs, (int, long, basestring)):\n+        elif isinstance(srs, six.integer_types + (basestring,)):\n             sr = SpatialReference(srs)\n             srs_ptr = sr.ptr\n         else:\n@@ -297,7 +299,7 @@ def _get_srid(self):\n         return None\n \n     def _set_srid(self, srid):\n-        if isinstance(srid, (int, long)):\n+        if isinstance(srid, six.integer_types):\n             self.srs = srid\n         else:\n             raise TypeError('SRID must be set with an integer.')\n@@ -410,7 +412,7 @@ def transform(self, coord_trans, clone=False):\n             capi.geom_transform(self.ptr, coord_trans.ptr)\n         elif isinstance(coord_trans, SpatialReference):\n             capi.geom_transform_to(self.ptr, coord_trans.ptr)\n-        elif isinstance(coord_trans, (int, long, basestring)):\n+        elif isinstance(coord_trans, six.integer_types + (basestring,)):\n             sr = SpatialReference(coord_trans)\n             capi.geom_transform_to(self.ptr, sr.ptr)\n         else:"
        },
        {
            "sha": "e3aebeeda5463748d82bb004dc72699c0042a6cf",
            "filename": "django/contrib/gis/gdal/layer.py",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Flayer.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Flayer.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Flayer.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -14,6 +14,8 @@\n # GDAL ctypes function prototypes.\n from django.contrib.gis.gdal.prototypes import ds as capi, geom as geom_api, srs as srs_api\n \n+from django.utils import six\n+\n # For more information, see the OGR C API source code:\n #  http://www.gdal.org/ogr/ogr__api_8h.html\n #\n@@ -25,8 +27,8 @@ class Layer(GDALBase):\n     def __init__(self, layer_ptr, ds):\n         \"\"\"\n         Initializes on an OGR C pointer to the Layer and the `DataSource` object\n-        that owns this layer.  The `DataSource` object is required so that a \n-        reference to it is kept with this Layer.  This prevents garbage \n+        that owns this layer.  The `DataSource` object is required so that a\n+        reference to it is kept with this Layer.  This prevents garbage\n         collection of the `DataSource` while this Layer is still active.\n         \"\"\"\n         if not layer_ptr:\n@@ -39,7 +41,7 @@ def __init__(self, layer_ptr, ds):\n \n     def __getitem__(self, index):\n         \"Gets the Feature at the specified index.\"\n-        if isinstance(index, (int, long)):\n+        if isinstance(index, six.integer_types):\n             # An integer index was given -- we cannot do a check based on the\n             # number of features because the beginning and ending feature IDs\n             # are not guaranteed to be 0 and len(layer)-1, respectively.\n@@ -85,7 +87,7 @@ def _make_feature(self, feat_id):\n             # each feature until the given feature ID is encountered.\n             for feat in self:\n                 if feat.fid == feat_id: return feat\n-        # Should have returned a Feature, raise an OGRIndexError.    \n+        # Should have returned a Feature, raise an OGRIndexError.\n         raise OGRIndexError('Invalid feature id: %s.' % feat_id)\n \n     #### Layer properties ####\n@@ -131,9 +133,9 @@ def fields(self):\n         Returns a list of string names corresponding to each of the Fields\n         available in this Layer.\n         \"\"\"\n-        return [capi.get_field_name(capi.get_field_defn(self._ldefn, i)) \n+        return [capi.get_field_name(capi.get_field_defn(self._ldefn, i))\n                 for i in xrange(self.num_fields) ]\n-    \n+\n     @property\n     def field_types(self):\n         \"\"\"\n@@ -145,13 +147,13 @@ def field_types(self):\n         return [OGRFieldTypes[capi.get_field_type(capi.get_field_defn(self._ldefn, i))]\n                 for i in xrange(self.num_fields)]\n \n-    @property \n+    @property\n     def field_widths(self):\n         \"Returns a list of the maximum field widths for the features.\"\n         return [capi.get_field_width(capi.get_field_defn(self._ldefn, i))\n                 for i in xrange(self.num_fields)]\n \n-    @property \n+    @property\n     def field_precisions(self):\n         \"Returns the field precisions for the features.\"\n         return [capi.get_field_precision(capi.get_field_defn(self._ldefn, i))"
        },
        {
            "sha": "d8ff1c7dcf6011bed9d137c892d383be25f3c388",
            "filename": "django/contrib/gis/gdal/prototypes/errcheck.py",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fprototypes%2Ferrcheck.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fprototypes%2Ferrcheck.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Fprototypes%2Ferrcheck.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -5,9 +5,10 @@\n from ctypes import c_void_p, string_at\n from django.contrib.gis.gdal.error import check_err, OGRException, SRSException\n from django.contrib.gis.gdal.libgdal import lgdal\n+from django.utils import six\n \n-# Helper routines for retrieving pointers and/or values from \n-# arguments passed in by reference. \n+# Helper routines for retrieving pointers and/or values from\n+# arguments passed in by reference.\n def arg_byref(args, offset=-1):\n     \"Returns the pointer argument's by-refernece value.\"\n     return args[offset]._obj.value\n@@ -53,7 +54,7 @@ def check_string(result, func, cargs, offset=-1, str_result=False):\n         ptr = ptr_byref(cargs, offset)\n         # Getting the string value\n         s = ptr.value\n-    # Correctly freeing the allocated memory beind GDAL pointer \n+    # Correctly freeing the allocated memory beind GDAL pointer\n     # w/the VSIFree routine.\n     if ptr: lgdal.VSIFree(ptr)\n     return s\n@@ -71,9 +72,9 @@ def check_geom(result, func, cargs):\n     \"Checks a function that returns a geometry.\"\n     # OGR_G_Clone may return an integer, even though the\n     # restype is set to c_void_p\n-    if isinstance(result, (int, long)):\n+    if isinstance(result, six.integer_types):\n         result = c_void_p(result)\n-    if not result: \n+    if not result:\n         raise OGRException('Invalid geometry pointer returned from \"%s\".' % func.__name__)\n     return result\n \n@@ -85,7 +86,7 @@ def check_geom_offset(result, func, cargs, offset=-1):\n \n ### Spatial Reference error-checking routines ###\n def check_srs(result, func, cargs):\n-    if isinstance(result, (int, long)):\n+    if isinstance(result, six.integer_types):\n         result = c_void_p(result)\n     if not result:\n         raise SRSException('Invalid spatial reference pointer returned from \"%s\".' % func.__name__)\n@@ -109,11 +110,11 @@ def check_errcode(result, func, cargs):\n \n def check_pointer(result, func, cargs):\n     \"Makes sure the result pointer is valid.\"\n-    if isinstance(result, (int, long)):\n+    if isinstance(result, six.integer_types):\n         result = c_void_p(result)\n-    if bool(result): \n+    if bool(result):\n         return result\n-    else: \n+    else:\n         raise OGRException('Invalid pointer returned from \"%s\"' % func.__name__)\n \n def check_str_arg(result, func, cargs):"
        },
        {
            "sha": "ad07ed27b827b0aed8e9f7058b9ba3662214f8b5",
            "filename": "django/contrib/gis/gdal/srs.py",
            "status": "modified",
            "additions": 14,
            "deletions": 12,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fsrs.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgdal%2Fsrs.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Fsrs.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -33,20 +33,22 @@\n from django.contrib.gis.gdal.error import SRSException\n from django.contrib.gis.gdal.prototypes import srs as capi\n \n+from django.utils import six\n+\n #### Spatial Reference class. ####\n class SpatialReference(GDALBase):\n     \"\"\"\n     A wrapper for the OGRSpatialReference object.  According to the GDAL Web site,\n-    the SpatialReference object \"provide[s] services to represent coordinate \n+    the SpatialReference object \"provide[s] services to represent coordinate\n     systems (projections and datums) and to transform between them.\"\n     \"\"\"\n \n     #### Python 'magic' routines ####\n     def __init__(self, srs_input=''):\n         \"\"\"\n         Creates a GDAL OSR Spatial Reference object from the given input.\n-        The input may be string of OGC Well Known Text (WKT), an integer \n-        EPSG code, a PROJ.4 string, and/or a projection \"well known\" shorthand \n+        The input may be string of OGC Well Known Text (WKT), an integer\n+        EPSG code, a PROJ.4 string, and/or a projection \"well known\" shorthand\n         string (one of 'WGS84', 'WGS72', 'NAD27', 'NAD83').\n         \"\"\"\n         buf = c_char_p('')\n@@ -63,7 +65,7 @@ def __init__(self, srs_input=''):\n                 srs_input = 'EPSG:%d' % srid\n             except ValueError:\n                 pass\n-        elif isinstance(srs_input, (int, long)):\n+        elif isinstance(srs_input, six.integer_types):\n             # EPSG integer code was input.\n             srs_type = 'epsg'\n         elif isinstance(srs_input, self.ptr_type):\n@@ -97,8 +99,8 @@ def __del__(self):\n \n     def __getitem__(self, target):\n         \"\"\"\n-        Returns the value of the given string attribute node, None if the node \n-        doesn't exist.  Can also take a tuple as a parameter, (target, child), \n+        Returns the value of the given string attribute node, None if the node\n+        doesn't exist.  Can also take a tuple as a parameter, (target, child),\n         where child is the index of the attribute in the WKT.  For example:\n \n         >>> wkt = 'GEOGCS[\"WGS 84\", DATUM[\"WGS_1984, ... AUTHORITY[\"EPSG\",\"4326\"]]')\n@@ -140,7 +142,7 @@ def attr_value(self, target, index=0):\n     def auth_name(self, target):\n         \"Returns the authority name for the given string target node.\"\n         return capi.get_auth_name(self.ptr, target)\n-    \n+\n     def auth_code(self, target):\n         \"Returns the authority code for the given string target node.\"\n         return capi.get_auth_code(self.ptr, target)\n@@ -167,7 +169,7 @@ def to_esri(self):\n     def validate(self):\n         \"Checks to see if the given spatial reference is valid.\"\n         capi.srs_validate(self.ptr)\n-    \n+\n     #### Name & SRID properties ####\n     @property\n     def name(self):\n@@ -184,7 +186,7 @@ def srid(self):\n             return int(self.attr_value('AUTHORITY', 1))\n         except (TypeError, ValueError):\n             return None\n-        \n+\n     #### Unit Properties ####\n     @property\n     def linear_name(self):\n@@ -213,7 +215,7 @@ def angular_units(self):\n     @property\n     def units(self):\n         \"\"\"\n-        Returns a 2-tuple of the units value and the units name, \n+        Returns a 2-tuple of the units value and the units name,\n         and will automatically determines whether to return the linear\n         or angular units.\n         \"\"\"\n@@ -252,7 +254,7 @@ def inverse_flattening(self):\n     @property\n     def geographic(self):\n         \"\"\"\n-        Returns True if this SpatialReference is geographic \n+        Returns True if this SpatialReference is geographic\n          (root node is GEOGCS).\n         \"\"\"\n         return bool(capi.isgeographic(self.ptr))\n@@ -265,7 +267,7 @@ def local(self):\n     @property\n     def projected(self):\n         \"\"\"\n-        Returns True if this SpatialReference is a projected coordinate system \n+        Returns True if this SpatialReference is a projected coordinate system\n          (root node is PROJCS).\n         \"\"\"\n         return bool(capi.isprojected(self.ptr))"
        },
        {
            "sha": "ea5571ad4c889e6c112c6f618e93d91e963833e4",
            "filename": "django/contrib/gis/geos/mutable_list.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -9,6 +9,7 @@\n Author: Aryeh Leib Taurog.\n \"\"\"\n from django.utils.functional import total_ordering\n+from django.utils import six\n \n @total_ordering\n class ListMixin(object):\n@@ -82,12 +83,12 @@ def __getitem__(self, index):\n \n     def __delitem__(self, index):\n         \"Delete the item(s) at the specified index/slice.\"\n-        if not isinstance(index, (int, long, slice)):\n+        if not isinstance(index, six.integer_types + (slice,)):\n             raise TypeError(\"%s is not a legal index\" % index)\n \n         # calculate new length and dimensions\n         origLen     = len(self)\n-        if isinstance(index, (int, long)):\n+        if isinstance(index, six.integer_types):\n             index = self._checkindex(index)\n             indexRange  = [index]\n         else:\n@@ -195,7 +196,7 @@ def extend(self, vals):\n \n     def insert(self, index, val):\n         \"Standard list insert method\"\n-        if not isinstance(index, (int, long)):\n+        if not isinstance(index, six.integer_types):\n             raise TypeError(\"%s is not a legal index\" % index)\n         self[index:index] = [val]\n "
        },
        {
            "sha": "6ba5800d4a3dcac67264dd5567e1061bba481f8c",
            "filename": "django/contrib/gis/geos/point.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fpoint.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fpoint.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fpoint.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -2,6 +2,7 @@\n from django.contrib.gis.geos.error import GEOSException\n from django.contrib.gis.geos.geometry import GEOSGeometry\n from django.contrib.gis.geos import prototypes as capi\n+from django.utils import six\n \n class Point(GEOSGeometry):\n     _minlength = 2\n@@ -20,9 +21,9 @@ def __init__(self, x, y=None, z=None, srid=None):\n             # Here a tuple or list was passed in under the `x` parameter.\n             ndim = len(x)\n             coords = x\n-        elif isinstance(x, (int, float, long)) and isinstance(y, (int, float, long)):\n+        elif isinstance(x, six.integer_types + (float,)) and isinstance(y, six.integer_types + (float,)):\n             # Here X, Y, and (optionally) Z were passed in individually, as parameters.\n-            if isinstance(z, (int, float, long)):\n+            if isinstance(z, six.integer_types + (float,)):\n                 ndim = 3\n                 coords = [x, y, z]\n             else:"
        },
        {
            "sha": "bb02689c81e825387816346fe12007f7d2db8740",
            "filename": "django/contrib/gis/geos/polygon.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -3,6 +3,7 @@\n from django.contrib.gis.geos.libgeos import get_pointer_arr, GEOM_PTR\n from django.contrib.gis.geos.linestring import LinearRing\n from django.contrib.gis.geos import prototypes as capi\n+from django.utils import six\n \n class Polygon(GEOSGeometry):\n     _minlength = 1\n@@ -56,7 +57,7 @@ def from_bbox(cls, bbox):\n         \"Constructs a Polygon from a bounding box (4-tuple).\"\n         x0, y0, x1, y1 = bbox\n         for z in bbox:\n-            if not isinstance(z, (int, long, float)):\n+            if not isinstance(z, six.integer_types + (float,)):\n                 return GEOSGeometry('POLYGON((%s %s, %s %s, %s %s, %s %s, %s %s))' %\n                                     (x0, y0, x0, y1, x1, y1, x1, y0, x0, y0))\n         return Polygon(((x0, y0), (x0, y1), (x1, y1), (x1, y0), (x0, y0)))"
        },
        {
            "sha": "cd174d7cfa3bb763e92bb10f64bac19f82a10f44",
            "filename": "django/contrib/gis/geos/tests/test_mutable_list.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_mutable_list.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_mutable_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_mutable_list.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -4,6 +4,7 @@\n # Modified from original contribution by Aryeh Leib Taurog, which was\n # released under the New BSD license.\n from django.contrib.gis.geos.mutable_list import ListMixin\n+from django.utils import six\n from django.utils import unittest\n \n \n@@ -267,7 +268,7 @@ def removefcn(x, v): return x.remove(v)\n     def test07_allowed_types(self):\n         'Type-restricted list'\n         pl, ul = self.lists_of_len()\n-        ul._allowed = (int, long)\n+        ul._allowed = six.integer_types\n         ul[1] = 50\n         ul[:2] = [60, 70, 80]\n         def setfcn(x, i, v): x[i] = v"
        },
        {
            "sha": "24e8075cabd326e6d635db8111611067b1b1bdb9",
            "filename": "django/contrib/gis/measure.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fmeasure.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fcontrib%2Fgis%2Fmeasure.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fmeasure.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -39,8 +39,9 @@\n from decimal import Decimal\n \n from django.utils.functional import total_ordering\n+from django.utils import six\n \n-NUMERIC_TYPES = (int, float, long, Decimal)\n+NUMERIC_TYPES = six.integer_types + (float, Decimal)\n AREA_PREFIX = \"sq_\"\n \n def pretty_name(obj):"
        },
        {
            "sha": "fcc6ab75841c6c64f4b914571a3e4411a1a3665c",
            "filename": "django/db/backends/creation.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Fcreation.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Fcreation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fcreation.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -26,7 +26,7 @@ def _digest(self, *args):\n         Generates a 32-bit digest of a set of arguments that can be used to\n         shorten identifying names.\n         \"\"\"\n-        return '%x' % (abs(hash(args)) % 4294967296L)  # 2**32\n+        return '%x' % (abs(hash(args)) % 4294967296)    # 2**32\n \n     def sql_create_model(self, model, style, known_models=set()):\n         \"\"\""
        },
        {
            "sha": "a7668dec494484a979eaf362cab15e5c44aa3ad7",
            "filename": "django/db/backends/mysql/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -243,7 +243,7 @@ def last_executed_query(self, cursor, sql, params):\n \n     def no_limit_value(self):\n         # 2**64 - 1, as recommended by the MySQL documentation\n-        return 18446744073709551615L\n+        return 18446744073709551615\n \n     def quote_name(self, name):\n         if name.startswith(\"`\") and name.endswith(\"`\"):"
        },
        {
            "sha": "e093f7e84eb463fc8ad71110868fd84f798b23ae",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -209,7 +209,7 @@ def drop_sequence_sql(self, table):\n         return \"DROP SEQUENCE %s;\" % self.quote_name(self._get_sequence_name(table))\n \n     def fetch_returned_insert_id(self, cursor):\n-        return long(cursor._insert_id_var.getvalue())\n+        return int(cursor._insert_id_var.getvalue())\n \n     def field_cast_sql(self, db_type):\n         if db_type and db_type.endswith('LOB'):"
        },
        {
            "sha": "8b6b42b7b1be447e8e4f7b50661493f307f77489",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -169,7 +169,7 @@ def __getitem__(self, k):\n         \"\"\"\n         Retrieves an item or slice from the set of results.\n         \"\"\"\n-        if not isinstance(k, (slice, int, long)):\n+        if not isinstance(k, (slice,) + six.integer_types):\n             raise TypeError\n         assert ((not isinstance(k, slice) and (k >= 0))\n                 or (isinstance(k, slice) and (k.start is None or k.start >= 0)"
        },
        {
            "sha": "8c9649eef1e460acddb13b9432477cd78983a3b1",
            "filename": "django/utils/crypto.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fcrypto.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fcrypto.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fcrypto.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -98,7 +98,7 @@ def _bin_to_long(x):\n \n     This is a clever optimization for fast xor vector math\n     \"\"\"\n-    return long(x.encode('hex'), 16)\n+    return int(x.encode('hex'), 16)\n \n \n def _long_to_bin(x, hex_format_string):"
        },
        {
            "sha": "30665480f6ca43cdbeab8b1fab1e926417a64480",
            "filename": "django/utils/encoding.py",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fencoding.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fencoding.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fencoding.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -7,6 +7,7 @@\n from decimal import Decimal\n \n from django.utils.functional import Promise\n+from django.utils import six\n \n class DjangoUnicodeDecodeError(UnicodeDecodeError):\n     def __init__(self, obj, *args):\n@@ -45,12 +46,8 @@ def is_protected_type(obj):\n     Objects of protected types are preserved as-is when passed to\n     force_unicode(strings_only=True).\n     \"\"\"\n-    return isinstance(obj, (\n-        type(None),\n-        int, long,\n-        datetime.datetime, datetime.date, datetime.time,\n-        float, Decimal)\n-    )\n+    return isinstance(obj, six.integer_types + (type(None), float, Decimal,\n+        datetime.datetime, datetime.date, datetime.time))\n \n def force_unicode(s, encoding='utf-8', strings_only=False, errors='strict'):\n     \"\"\""
        },
        {
            "sha": "d3afc727292b8150dcc097ee2e2b2a5494804661",
            "filename": "django/utils/formats.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/django%2Futils%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fformats.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -7,6 +7,7 @@\n from django.utils.encoding import smart_str\n from django.utils.functional import lazy\n from django.utils.safestring import mark_safe\n+from django.utils import six\n from django.utils.translation import get_language, to_locale, check_for_language\n \n # format_cache is a mapping from (format_type, lang) to the format string.\n@@ -139,7 +140,7 @@ def localize(value, use_l10n=None):\n     \"\"\"\n     if isinstance(value, bool):\n         return mark_safe(unicode(value))\n-    elif isinstance(value, (decimal.Decimal, float, int, long)):\n+    elif isinstance(value, (decimal.Decimal, float) + six.integer_types):\n         return number_format(value, use_l10n=use_l10n)\n     elif isinstance(value, datetime.datetime):\n         return date_format(value, 'DATETIME_FORMAT', use_l10n=use_l10n)\n@@ -155,7 +156,7 @@ def localize_input(value, default=None):\n     Checks if an input value is a localizable type and returns it\n     formatted with the appropriate formatting string of the current locale.\n     \"\"\"\n-    if isinstance(value, (decimal.Decimal, float, int, long)):\n+    if isinstance(value, (decimal.Decimal, float) + six.integer_types):\n         return number_format(value)\n     elif isinstance(value, datetime.datetime):\n         value = datetime_safe.new_datetime(value)"
        },
        {
            "sha": "d96c60bbe87e3f00002da12d364bfaa4b4cf622b",
            "filename": "tests/modeltests/basic/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 11,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fbasic%2Ftests.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -5,6 +5,7 @@\n from django.core.exceptions import ObjectDoesNotExist\n from django.db.models.fields import Field, FieldDoesNotExist\n from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n+from django.utils.six import PY3\n from django.utils.translation import ugettext_lazy\n \n from .models import Article\n@@ -321,17 +322,18 @@ def test_object_creation(self):\n             [\"<Article: Area man programs in Python>\",\n              \"<Article: Third article>\"])\n \n-        # Slicing works with longs.\n-        self.assertEqual(Article.objects.all()[0L], a)\n-        self.assertQuerysetEqual(Article.objects.all()[1L:3L],\n-            [\"<Article: Second article>\", \"<Article: Third article>\"])\n-        self.assertQuerysetEqual((s1 | s2 | s3)[::2L],\n-            [\"<Article: Area man programs in Python>\",\n-             \"<Article: Third article>\"])\n-\n-        # And can be mixed with ints.\n-        self.assertQuerysetEqual(Article.objects.all()[1:3L],\n-            [\"<Article: Second article>\", \"<Article: Third article>\"])\n+        # Slicing works with longs (Python 2 only -- Python 3 doesn't have longs).\n+        if not PY3:\n+            self.assertEqual(Article.objects.all()[long(0)], a)\n+            self.assertQuerysetEqual(Article.objects.all()[long(1):long(3)],\n+                [\"<Article: Second article>\", \"<Article: Third article>\"])\n+            self.assertQuerysetEqual((s1 | s2 | s3)[::long(2)],\n+                [\"<Article: Area man programs in Python>\",\n+                \"<Article: Third article>\"])\n+\n+            # And can be mixed with ints.\n+            self.assertQuerysetEqual(Article.objects.all()[1:long(3)],\n+                [\"<Article: Second article>\", \"<Article: Third article>\"])\n \n         # Slices (without step) are lazy:\n         self.assertQuerysetEqual(Article.objects.all()[0:5].filter(),"
        },
        {
            "sha": "5d9b45610ec1f186ad731c6cdad067c567e2a4c2",
            "filename": "tests/modeltests/field_defaults/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fmodeltests%2Ffield_defaults%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fmodeltests%2Ffield_defaults%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_defaults%2Ftests.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -3,6 +3,7 @@\n from datetime import datetime\n \n from django.test import TestCase\n+from django.utils import six\n \n from .models import Article\n \n@@ -13,6 +14,6 @@ def test_field_defaults(self):\n         now = datetime.now()\n         a.save()\n \n-        self.assertTrue(isinstance(a.id, (int, long)))\n+        self.assertTrue(isinstance(a.id, six.integer_types))\n         self.assertEqual(a.headline, \"Default headline\")\n         self.assertTrue((now - a.pub_date).seconds < 5)"
        },
        {
            "sha": "69260edb0af45548c85b9e298a15d0f61d46d1cf",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -19,6 +19,7 @@\n from django.utils.importlib import import_module\n from django.utils.numberformat import format as nformat\n from django.utils.safestring import mark_safe, SafeString, SafeUnicode\n+from django.utils.six import PY3\n from django.utils.translation import (ugettext, ugettext_lazy, activate,\n     deactivate, gettext_lazy, pgettext, npgettext, to_locale,\n     get_language_info, get_language, get_language_from_request)\n@@ -309,7 +310,7 @@ def setUp(self):\n         self.d = datetime.date(2009, 12, 31)\n         self.dt = datetime.datetime(2009, 12, 31, 20, 50)\n         self.t = datetime.time(10, 15, 48)\n-        self.l = 10000L\n+        self.l = 10000 if PY3 else long(10000)\n         self.ctxt = Context({\n             'n': self.n,\n             't': self.t,"
        },
        {
            "sha": "e86159463dde1aaee9eece7f07b28785b102f60f",
            "filename": "tests/regressiontests/model_fields/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py?ref=56dbe924a6e700cefbfd34f1a5aa6c1ee01478dc",
            "patch": "@@ -8,6 +8,7 @@\n from django.core.exceptions import ValidationError\n from django.db import models\n from django.db.models.fields.files import FieldFile\n+from django.utils import six\n from django.utils import unittest\n \n from .models import (Foo, Bar, Whiz, BigD, BigS, Image, BigInt, Post,\n@@ -303,11 +304,11 @@ def test_limits(self):\n \n     def test_types(self):\n         b = BigInt(value = 0)\n-        self.assertTrue(isinstance(b.value, (int, long)))\n+        self.assertTrue(isinstance(b.value, six.integer_types))\n         b.save()\n-        self.assertTrue(isinstance(b.value, (int, long)))\n+        self.assertTrue(isinstance(b.value, six.integer_types))\n         b = BigInt.objects.all()[0]\n-        self.assertTrue(isinstance(b.value, (int, long)))\n+        self.assertTrue(isinstance(b.value, six.integer_types))\n \n     def test_coercing(self):\n         BigInt.objects.create(value ='10')"
        }
    ],
    "stats": {
        "total": 179,
        "additions": 100,
        "deletions": 79
    }
}