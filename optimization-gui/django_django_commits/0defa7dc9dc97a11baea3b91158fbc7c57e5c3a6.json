{
    "author": "ramiro",
    "message": "Fixed #15848 -- Fixed regression introduced in [15882] in makemessages management command when processing multi-line comments that contain non-ASCCI characters in templates. Thanks for the report Denis Drescher.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16038 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6",
    "files": [
        {
            "sha": "b497d9e354beb4ecd8862cd2b7391e64e37ffa9f",
            "filename": "django/utils/translation/trans_real.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "raw_url": "https://github.com/django/django/raw/0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2Ftrans_real.py?ref=0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6",
            "patch": "@@ -435,16 +435,16 @@ def templatize(src, origin=None):\n     for t in Lexer(src, origin).tokenize():\n         if incomment:\n             if t.token_type == TOKEN_BLOCK and t.contents == 'endcomment':\n-                content = u''.join(comment)\n+                content = ''.join(comment)\n                 translators_comment_start = None\n                 for lineno, line in enumerate(content.splitlines(True)):\n                     if line.lstrip().startswith(TRANSLATOR_COMMENT_MARK):\n                         translators_comment_start = lineno\n                 for lineno, line in enumerate(content.splitlines(True)):\n                     if translators_comment_start is not None and lineno >= translators_comment_start:\n-                        out.write(u' # %s' % line)\n+                        out.write(' # %s' % line)\n                     else:\n-                        out.write(u' #\\n')\n+                        out.write(' #\\n')\n                 incomment = False\n                 comment = []\n             else:"
        },
        {
            "sha": "b5d705c1327fbbd21fdd8bf9fdf8acd11da54e7a",
            "filename": "tests/regressiontests/i18n/commands/templates/test.html",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftemplates%2Ftest.html",
            "raw_url": "https://github.com/django/django/raw/0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftemplates%2Ftest.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftemplates%2Ftest.html?ref=0defa7dc9dc97a11baea3b91158fbc7c57e5c3a6",
            "patch": "@@ -50,3 +50,10 @@\n {% comment %}  Translators: Two-line translator comment #4\n continued here.{% endcomment %}\n {% trans \"Translatable literal #4b\" %}\n+\n+{% comment %} Translators: One-line translator comment #5 -- with non ASCII characters: áéíóúö{% endcomment %}\n+{% trans \"Translatable literal #5a\" %}\n+\n+{% comment %}  Translators: Two-line translator comment #5 -- with non ASCII characters: áéíóúö\n+continued here.{% endcomment %}\n+{% trans \"Translatable literal #6b\" %}"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 10,
        "deletions": 3
    }
}