{
    "author": "aaugustin",
    "message": "Fixed #17229 -- Allow 'True', 'False' and 'None' to resolve to the corresponding Python objects in templates.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17894 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "93240b7d903af86e135c3b1724a81d2daf31441f",
    "files": [
        {
            "sha": "8a5f0d3c5498e8bbac1052e15f81a014e9540757",
            "filename": "django/template/context.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/93240b7d903af86e135c3b1724a81d2daf31441f/django%2Ftemplate%2Fcontext.py",
            "raw_url": "https://github.com/django/django/raw/93240b7d903af86e135c3b1724a81d2daf31441f/django%2Ftemplate%2Fcontext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fcontext.py?ref=93240b7d903af86e135c3b1724a81d2daf31441f",
            "patch": "@@ -18,7 +18,10 @@ def __init__(self, dict_=None):\n         self._reset_dicts(dict_)\n \n     def _reset_dicts(self, value=None):\n-        self.dicts = [value or {}]\n+        builtins = {'True': True, 'False': False, 'None': None}\n+        if value:\n+            builtins.update(value)\n+        self.dicts = [builtins]\n \n     def __copy__(self):\n         duplicate = copy(super(BaseContext, self))"
        },
        {
            "sha": "605f0a5698db3945a010bba8b472dae245677ca6",
            "filename": "docs/ref/templates/api.txt",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Fref%2Ftemplates%2Fapi.txt",
            "raw_url": "https://github.com/django/django/raw/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Fref%2Ftemplates%2Fapi.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ftemplates%2Fapi.txt?ref=93240b7d903af86e135c3b1724a81d2daf31441f",
            "patch": "@@ -111,6 +111,9 @@ template::\n     >>> t.render(c)\n     \"My name is Dolores.\"\n \n+Variables and lookups\n+~~~~~~~~~~~~~~~~~~~~~\n+\n Variable names must consist of any letter (A-Z), any digit (0-9), an underscore\n (but they must not start with an underscore) or a dot.\n \n@@ -225,7 +228,6 @@ straight lookups. Here are some things to keep in mind:\n      if your variable is not callable (allowing you to access attributes of\n      the callable, for example).\n \n-\n .. _invalid-template-variables:\n \n How invalid variables are handled\n@@ -263,6 +265,16 @@ be replaced with the name of the invalid variable.\n     in order to debug a specific template problem, then cleared\n     once debugging is complete.\n \n+Builtin variables\n+~~~~~~~~~~~~~~~~~\n+\n+Every context contains ``True``, ``False`` and ``None``. As you would expect,\n+these variables resolve to the corresponding Python objects.\n+\n+.. versionadded:: 1.5\n+    Before Django 1.5, these variables weren't a special case, and they\n+    resolved to ``None`` unless you defined them in the context.\n+\n Playing with Context objects\n ----------------------------\n "
        },
        {
            "sha": "91a61648dfb8ad4fdaff6b03c4b26d52915d44a4",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=93240b7d903af86e135c3b1724a81d2daf31441f",
            "patch": "@@ -33,6 +33,14 @@ Django 1.5 does not run on Jython.\n What's new in Django 1.5\n ========================\n \n+Minor features\n+~~~~~~~~~~~~~~\n+\n+Django 1.5 also includes several smaller improvements worth noting:\n+\n+* The template engine now interprets ``True``, ``False`` and ``None`` as the\n+  corresponding Python objects.\n+\n Backwards incompatible changes in 1.5\n =====================================\n "
        },
        {
            "sha": "093f120644c93dd6b2b0a6989b28418aaabe66c6",
            "filename": "docs/topics/i18n/timezones.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Ftopics%2Fi18n%2Ftimezones.txt",
            "raw_url": "https://github.com/django/django/raw/93240b7d903af86e135c3b1724a81d2daf31441f/docs%2Ftopics%2Fi18n%2Ftimezones.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fi18n%2Ftimezones.txt?ref=93240b7d903af86e135c3b1724a81d2daf31441f",
            "patch": "@@ -307,12 +307,6 @@ time zone is unset, the default time zone applies.\n         Server time: {{ value }}\n     {% endtimezone %}\n \n-.. note::\n-\n-    In the second block, ``None`` resolves to the Python object ``None``\n-    because it isn't defined in the template context, not because it's the\n-    string ``None``.\n-\n .. templatetag:: get_current_timezone\n \n get_current_timezone"
        },
        {
            "sha": "3f230f8c13631b4e562f09977f7d826d31cd3aae",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/93240b7d903af86e135c3b1724a81d2daf31441f/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/93240b7d903af86e135c3b1724a81d2daf31441f/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=93240b7d903af86e135c3b1724a81d2daf31441f",
            "patch": "@@ -372,13 +372,11 @@ def test_url_reverse_no_settings_module(self):\n         with self.assertRaises(urlresolvers.NoReverseMatch):\n             t.render(c)\n \n-\n-    @override_settings(DEBUG=True, TEMPLATE_DEBUG = True)\n+    @override_settings(DEBUG=True, TEMPLATE_DEBUG=True)\n     def test_no_wrapped_exception(self):\n         \"\"\"\n         The template system doesn't wrap exceptions, but annotates them.\n         Refs #16770\n-\n         \"\"\"\n         c = Context({\"coconuts\": lambda: 42 / 0})\n         t = Template(\"{{ coconuts }}\")\n@@ -387,7 +385,6 @@ def test_no_wrapped_exception(self):\n \n         self.assertEqual(cm.exception.django_template_source[1], (0, 14))\n \n-\n     def test_invalid_block_suggestion(self):\n         # See #7876\n         from django.template import Template, TemplateSyntaxError\n@@ -610,6 +607,10 @@ def get_template_tests(self):\n             # Call methods returned from dictionary lookups\n             'basic-syntax38': ('{{ var.callable }}', {\"var\": {\"callable\": lambda: \"foo bar\"}}, \"foo bar\"),\n \n+            'builtins01': ('{{ True }}', {}, \"True\"),\n+            'builtins02': ('{{ False }}', {}, \"False\"),\n+            'builtins03': ('{{ None }}', {}, \"None\"),\n+\n             # List-index syntax allows a template to access a certain item of a subscriptable object.\n             'list-index01': (\"{{ var.1 }}\", {\"var\": [\"first item\", \"second item\"]}, \"second item\"),\n "
        }
    ],
    "stats": {
        "total": 42,
        "additions": 30,
        "deletions": 12
    }
}