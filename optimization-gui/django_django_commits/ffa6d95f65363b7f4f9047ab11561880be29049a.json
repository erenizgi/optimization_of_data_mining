{
    "author": "gabejackson",
    "message": "Fixed #18154 -- Documentation on closing File objects and best practices",
    "sha": "ffa6d95f65363b7f4f9047ab11561880be29049a",
    "files": [
        {
            "sha": "c9b4327941f67bdace837ace86797f8c1df16054",
            "filename": "docs/topics/files.txt",
            "status": "modified",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/ffa6d95f65363b7f4f9047ab11561880be29049a/docs%2Ftopics%2Ffiles.txt",
            "raw_url": "https://github.com/django/django/raw/ffa6d95f65363b7f4f9047ab11561880be29049a/docs%2Ftopics%2Ffiles.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Ffiles.txt?ref=ffa6d95f65363b7f4f9047ab11561880be29049a",
            "patch": "@@ -75,6 +75,29 @@ using a Python built-in ``file`` object::\n Now you can use any of the documented attributes and methods\n of the :class:`~django.core.files.File` class.\n \n+Be aware that files created in this way are not automatically closed.\n+The following approach may be used to close files automatically::\n+\n+    >>> from django.core.files import File\n+\n+    # Create a Python file object using open() and the with statement\n+    >>> with open('/tmp/hello.world', 'w') as f:\n+    >>>     myfile = File(f)\n+    >>>     for line in myfile:\n+    >>>         print line\n+    >>> myfile.closed\n+    True\n+    >>> f.closed\n+    True\n+\n+Closing files is especially important when accessing file fields in a loop\n+over a large number of objects:: If files are not manually closed after\n+accessing them, the risk of running out of file descriptors may arise. This\n+may lead to the following error:\n+\n+    IOError: [Errno 24] Too many open files\n+\n+\n File storage\n ============\n "
        }
    ],
    "stats": {
        "total": 23,
        "additions": 23,
        "deletions": 0
    }
}