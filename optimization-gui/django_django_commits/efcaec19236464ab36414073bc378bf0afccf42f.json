{
    "author": "ramiro",
    "message": "Fixed #11414 -- Made sure the calendar and clock popup windows in the admin don't have a negative vertical position. Thanks uipko for the report and fix.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15143 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "efcaec19236464ab36414073bc378bf0afccf42f",
    "files": [
        {
            "sha": "a4293b305bb42da9562ff310010de82ed3f11531",
            "filename": "django/contrib/admin/media/js/admin/DateTimeShortcuts.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/efcaec19236464ab36414073bc378bf0afccf42f/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fadmin%2FDateTimeShortcuts.js",
            "raw_url": "https://github.com/django/django/raw/efcaec19236464ab36414073bc378bf0afccf42f/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fadmin%2FDateTimeShortcuts.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fadmin%2FDateTimeShortcuts.js?ref=efcaec19236464ab36414073bc378bf0afccf42f",
            "patch": "@@ -94,7 +94,7 @@ var DateTimeShortcuts = {\n     openClock: function(num) {\n         var clock_box = document.getElementById(DateTimeShortcuts.clockDivName+num)\n         var clock_link = document.getElementById(DateTimeShortcuts.clockLinkName+num)\n-    \n+\n         // Recalculate the clockbox position\n         // is it left-to-right or right-to-left layout ?\n         if (getStyle(document.body,'direction')!='rtl') {\n@@ -107,8 +107,8 @@ var DateTimeShortcuts = {\n             //       (it returns as it was left aligned), needs to be fixed.\n             clock_box.style.left = findPosX(clock_link) - 110 + 'px';\n         }\n-        clock_box.style.top = findPosY(clock_link) - 30 + 'px';\n-    \n+        clock_box.style.top = Math.max(0, findPosY(clock_link) - 30) + 'px';\n+\n         // Show the clock box\n         clock_box.style.display = 'block';\n         addEvent(window.document, 'click', function() { DateTimeShortcuts.dismissClock(num); return true; });\n@@ -224,8 +224,8 @@ var DateTimeShortcuts = {\n             //       (it returns as it was left aligned), needs to be fixed.\n             cal_box.style.left = findPosX(cal_link) - 180 + 'px';\n         }\n-        cal_box.style.top = findPosY(cal_link) - 75 + 'px';\n-    \n+        cal_box.style.top = Math.max(0, findPosY(cal_link) - 75) + 'px';\n+\n         cal_box.style.display = 'block';\n         addEvent(window.document, 'click', function() { DateTimeShortcuts.dismissCalendar(num); return true; });\n     },"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}