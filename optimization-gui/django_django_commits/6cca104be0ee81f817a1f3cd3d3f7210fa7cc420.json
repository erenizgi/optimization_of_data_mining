{
    "author": "adrianholovaty",
    "message": "Fixed some failing tests due to creation of HttpRequest._is_secure() methods in [17209]\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17212 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "6cca104be0ee81f817a1f3cd3d3f7210fa7cc420",
    "files": [
        {
            "sha": "6e6c87a1126523ce03e0c6e59a159df7bbe68396",
            "filename": "tests/regressiontests/csrf_tests/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/6cca104be0ee81f817a1f3cd3d3f7210fa7cc420/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6cca104be0ee81f817a1f3cd3d3f7210fa7cc420/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py?ref=6cca104be0ee81f817a1f3cd3d3f7210fa7cc420",
            "patch": "@@ -43,7 +43,7 @@ class TestingHttpRequest(HttpRequest):\n     more easily\n     \"\"\"\n     def is_secure(self):\n-        return getattr(self, '_is_secure', False)\n+        return getattr(self, '_is_secure_override', False)\n \n class CsrfViewMiddlewareTest(TestCase):\n     # The csrf token is potentially from an untrusted source, so could have\n@@ -259,7 +259,7 @@ def test_https_bad_referer(self):\n         Test that a POST HTTPS request with a bad referer is rejected\n         \"\"\"\n         req = self._get_POST_request_with_token()\n-        req._is_secure = True\n+        req._is_secure_override = True\n         req.META['HTTP_HOST'] = 'www.example.com'\n         req.META['HTTP_REFERER'] = 'https://www.evil.org/somepage'\n         req2 = CsrfViewMiddleware().process_view(req, post_form_view, (), {})\n@@ -271,7 +271,7 @@ def test_https_good_referer(self):\n         Test that a POST HTTPS request with a good referer is accepted\n         \"\"\"\n         req = self._get_POST_request_with_token()\n-        req._is_secure = True\n+        req._is_secure_override = True\n         req.META['HTTP_HOST'] = 'www.example.com'\n         req.META['HTTP_REFERER'] = 'https://www.example.com/somepage'\n         req2 = CsrfViewMiddleware().process_view(req, post_form_view, (), {})\n@@ -284,7 +284,7 @@ def test_https_good_referer_2(self):\n         \"\"\"\n         # See ticket #15617\n         req = self._get_POST_request_with_token()\n-        req._is_secure = True\n+        req._is_secure_override = True\n         req.META['HTTP_HOST'] = 'www.example.com'\n         req.META['HTTP_REFERER'] = 'https://www.example.com'\n         req2 = CsrfViewMiddleware().process_view(req, post_form_view, (), {})"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}