{
    "author": "claudep",
    "message": "Removed escaping test of query content\n\nAs the content of last_executed_query() is not under Django's control\nfor most backends, it is useless to test too specific aspects of it.",
    "sha": "a2022dae7ff70b00ab61e2ca2da0980a7747824b",
    "files": [
        {
            "sha": "c6d28ab13526a0f06afa1bd5d6b4d6189c6edef4",
            "filename": "tests/regressiontests/backends/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 21,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/a2022dae7ff70b00ab61e2ca2da0980a7747824b/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/a2022dae7ff70b00ab61e2ca2da0980a7747824b/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Ftests.py?ref=a2022dae7ff70b00ab61e2ca2da0980a7747824b",
            "patch": "@@ -127,28 +127,12 @@ def test_django_extract(self):\n \n \n class LastExecutedQueryTest(TestCase):\n-    # There are no escaping tests for the sqlite backend because it does not\n-    # implement paramater escaping. See #14091.\n-\n-    @unittest.skipUnless(connection.vendor in ('oracle', 'postgresql'),\n-                         \"These backends use the standard parameter escaping rules\")\n-    @override_settings(DEBUG=True)\n-    def test_parameter_escaping(self):\n-        # check that both numbers and string are properly quoted\n-        list(models.Tag.objects.filter(name=\"special:\\\\\\\"':\", object_id=12))\n-        sql = connection.queries[-1]['sql']\n-        self.assertTrue(\"= 'special:\\\\\\\"'':' \" in sql)\n-        self.assertTrue(\"= 12 \" in sql)\n-\n-    @unittest.skipUnless(connection.vendor == 'mysql',\n-                         \"MySQL uses backslashes to escape parameters.\")\n     @override_settings(DEBUG=True)\n-    def test_parameter_escaping(self):\n-        list(models.Tag.objects.filter(name=\"special:\\\\\\\"':\", object_id=12))\n-        sql = connection.queries[-1]['sql']\n-        # only this line is different from the test above\n-        self.assertTrue(\"= 'special:\\\\\\\\\\\\\\\"\\\\':' \" in sql)\n-        self.assertTrue(\"= 12 \" in sql)\n+    def test_debug_sql(self):\n+        list(models.Tag.objects.filter(name=\"test\"))\n+        sql = connection.queries[-1]['sql'].lower()\n+        self.assertTrue(sql.startswith(\"select\"))\n+        self.assertIn(models.Tag._meta.db_table, sql)\n \n     def test_query_encoding(self):\n         \"\"\""
        }
    ],
    "stats": {
        "total": 26,
        "additions": 5,
        "deletions": 21
    }
}