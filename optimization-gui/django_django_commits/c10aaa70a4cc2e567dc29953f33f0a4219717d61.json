{
    "author": "dbrgn",
    "message": "Fixed #19370 -- Made date filter properly handle midnight value",
    "sha": "c10aaa70a4cc2e567dc29953f33f0a4219717d61",
    "files": [
        {
            "sha": "dac4e5ddb41a227a0803bf270f4401dbfe53eda1",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c10aaa70a4cc2e567dc29953f33f0a4219717d61/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/c10aaa70a4cc2e567dc29953f33f0a4219717d61/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=c10aaa70a4cc2e567dc29953f33f0a4219717d61",
            "patch": "@@ -704,7 +704,7 @@ def get_digit(value, arg):\n @register.filter(expects_localtime=True, is_safe=False)\n def date(value, arg=None):\n     \"\"\"Formats a date according to the given format.\"\"\"\n-    if not value:\n+    if value in (None, ''):\n         return ''\n     if arg is None:\n         arg = settings.DATE_FORMAT"
        },
        {
            "sha": "7ba1681fd58a62d6b39272a0e90b02b360e04d3a",
            "filename": "tests/regressiontests/templates/filters.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/c10aaa70a4cc2e567dc29953f33f0a4219717d61/tests%2Fregressiontests%2Ftemplates%2Ffilters.py",
            "raw_url": "https://github.com/django/django/raw/c10aaa70a4cc2e567dc29953f33f0a4219717d61/tests%2Fregressiontests%2Ftemplates%2Ffilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ffilters.py?ref=c10aaa70a4cc2e567dc29953f33f0a4219717d61",
            "patch": "@@ -8,7 +8,7 @@\n \"\"\"\n from __future__ import unicode_literals\n \n-from datetime import date, datetime, timedelta\n+from datetime import date, datetime, time, timedelta\n \n from django.test.utils import str_prefix\n from django.utils.tzinfo import LocalTimezone, FixedOffset\n@@ -356,6 +356,9 @@ def get_filter_tests():\n         # Timezone name\n         'date06': (r'{{ d|date:\"e\" }}', {'d': datetime(2009, 3, 12, tzinfo=FixedOffset(30))}, '+0030'),\n         'date07': (r'{{ d|date:\"e\" }}', {'d': datetime(2009, 3, 12)}, ''),\n+        # Ticket 19370: Make sure |date doesn't blow up on a midnight time object\n+        'date08': (r'{{ t|date:\"H:i\" }}', {'t': time(0, 1)}, '00:01'),\n+        'date09': (r'{{ t|date:\"H:i\" }}', {'t': time(0, 0)}, '00:00'),\n \n          # Tests for #11687 and #16676\n          'add01': (r'{{ i|add:\"5\" }}', {'i': 2000}, '2005'),"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}