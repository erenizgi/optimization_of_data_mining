{
    "author": "aaugustin",
    "message": "Reverted parts of r17359 that could cause false positives in URL detection, especially on file names.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17364 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "62766f42482f5071e7af1a806ae5c287f2332921",
    "files": [
        {
            "sha": "c4be281e7d3f5990473d3f9150f2080f68208d41",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/62766f42482f5071e7af1a806ae5c287f2332921/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/62766f42482f5071e7af1a806ae5c287f2332921/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=62766f42482f5071e7af1a806ae5c287f2332921",
            "patch": "@@ -21,7 +21,7 @@\n unquoted_percents_re = re.compile(r'%(?![0-9A-Fa-f]{2})')\n word_split_re = re.compile(r'(\\s+)')\n simple_url_re = re.compile(r'^https?://\\w')\n-simple_url_2_re = re.compile(r'^www\\.|^(?!http)\\w[^@]+\\.(com|edu|gov|int|mil|net|org|[a-z]{2})$')\n+simple_url_2_re = re.compile(r'^www\\.|^(?!http)\\w[^@]+\\.(com|edu|gov|int|mil|net|org)$')\n simple_email_re = re.compile(r'^\\S+@\\S+\\.\\S+$')\n link_target_attribute_re = re.compile(r'(<a [^>]*?)target=[^\\s>]+')\n html_gunk_re = re.compile(r'(?:<br clear=\"all\">|<i><\\/i>|<b><\\/b>|<em><\\/em>|<strong><\\/strong>|<\\/?smallcaps>|<\\/?uppercase>)', re.IGNORECASE)\n@@ -125,10 +125,9 @@ def urlize(text, trim_url_limit=None, nofollow=False, autoescape=False):\n     Converts any URLs in text into clickable links.\n \n     Works on http://, https://, www. links, and also on links ending in one of\n-    the original seven gTLDs (.com, .edu, .gov, .int, .mil, .net, and .org) or\n-    a two-letter ccTLD. Links can have trailing punctuation (periods, commas,\n-    close-parens) and leading punctuation (opening parens) and it'll still do\n-    the right thing.\n+    the original seven gTLDs (.com, .edu, .gov, .int, .mil, .net, and .org).\n+    Links can have trailing punctuation (periods, commas, close-parens) and\n+    leading punctuation (opening parens) and it'll still do the right thing.\n \n     If trim_url_limit is not None, the URLs in link text longer than this limit\n     will truncated to trim_url_limit-3 characters and appended with an elipsis."
        },
        {
            "sha": "85d43ceb51e84e3b953c1a60e8ffd43b281d9abe",
            "filename": "docs/ref/templates/builtins.txt",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/62766f42482f5071e7af1a806ae5c287f2332921/docs%2Fref%2Ftemplates%2Fbuiltins.txt",
            "raw_url": "https://github.com/django/django/raw/62766f42482f5071e7af1a806ae5c287f2332921/docs%2Fref%2Ftemplates%2Fbuiltins.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ftemplates%2Fbuiltins.txt?ref=62766f42482f5071e7af1a806ae5c287f2332921",
            "patch": "@@ -2226,15 +2226,13 @@ urlize\n \n Converts URLs in text into clickable links.\n \n-This template tag works on several kinds of links:\n-\n-- links prefixed with ``http://``, ``https://``, or ``www.``. For example,\n-  ``http://goo.gl/aia1t`` will get converted but ``goo.gl/aia1t`` won't.\n-- domain-only links ending in one of the original top level domains\n-  (``.com``, ``.edu``, ``.gov``, ``.int``, ``.mil``, ``.net``, and\n-  ``.org``). For example, ``djangoproject.com`` also gets converted.\n-- domain-only links ending in a dot followed by two letters. This covers\n-  most country codes. For example, ``djangocon.eu`` still gets converted.\n+This template tag works on links prefixed with ``http://``, ``https://``, or\n+``www.``. For example, ``http://goo.gl/aia1t`` will get converted but\n+``goo.gl/aia1t`` won't.\n+\n+It also supports domain-only links ending in one of the original top level\n+domains (``.com``, ``.edu``, ``.gov``, ``.int``, ``.mil``, ``.net``, and\n+``.org``). For example, ``djangoproject.com`` gets converted too.\n \n .. versionchanged:: 1.4\n "
        },
        {
            "sha": "b44aa97704436ccd315d3de281260605decd6549",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/62766f42482f5071e7af1a806ae5c287f2332921/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/62766f42482f5071e7af1a806ae5c287f2332921/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=62766f42482f5071e7af1a806ae5c287f2332921",
            "patch": "@@ -287,8 +287,6 @@ def test_urlize(self):\n         # Check urlize accepts more TLDs - see #16656\n         self.assertEqual(urlize('usa.gov'),\n             u'<a href=\"http://usa.gov\" rel=\"nofollow\">usa.gov</a>')\n-        self.assertEqual(urlize('europa.eu'),\n-            u'<a href=\"http://europa.eu\" rel=\"nofollow\">europa.eu</a>')\n \n     def test_wordcount(self):\n         self.assertEqual(wordcount(''), 0)"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 11,
        "deletions": 16
    }
}