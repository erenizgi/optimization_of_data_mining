{
    "author": "apollo13",
    "message": "Merge branch 'ticket15695'",
    "sha": "6a6f589bfe4d03c3de04753330c307832cd2dcbe",
    "files": [
        {
            "sha": "23572465cfdf930bb9b99d57dd07eb329d0f0cd7",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -95,14 +95,15 @@ def get_response(self, request):\n                         break\n \n                 if response is None:\n-                    if hasattr(request, \"urlconf\"):\n+                    if hasattr(request, 'urlconf'):\n                         # Reset url resolver with a custom urlconf.\n                         urlconf = request.urlconf\n                         urlresolvers.set_urlconf(urlconf)\n                         resolver = urlresolvers.RegexURLResolver(r'^/', urlconf)\n \n-                    callback, callback_args, callback_kwargs = resolver.resolve(\n-                            request.path_info)\n+                    resolver_match = resolver.resolve(request.path_info)\n+                    callback, callback_args, callback_kwargs = resolver_match\n+                    request.resolver_match = resolver_match\n \n                     # Apply view middleware\n                     for middleware_method in self._view_middleware:"
        },
        {
            "sha": "ff929014c05fbe342ff1f7a98945874a18f4cbcd",
            "filename": "docs/ref/request-response.txt",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/docs%2Fref%2Frequest-response.txt",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/docs%2Fref%2Frequest-response.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Frequest-response.txt?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -190,6 +190,17 @@ All attributes should be considered read-only, unless stated otherwise below.\n     URLconf for the current request, overriding the :setting:`ROOT_URLCONF`\n     setting. See :ref:`how-django-processes-a-request` for details.\n \n+.. attribute:: HttpRequest.resolver_match\n+\n+    .. versionadded:: 1.5\n+\n+    An instance of :class:`~django.core.urlresolvers.ResolverMatch` representing\n+    the resolved url. This attribute is only set after url resolving took place,\n+    which means it's available in all views but not in middleware methods which\n+    are executed before url resolving takes place (like ``process_request``, you\n+    can use ``process_view`` instead).\n+\n+\n Methods\n -------\n "
        },
        {
            "sha": "c25858b5a63e7c23e9e1de8f99274200ae374456",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -161,14 +161,17 @@ Django 1.5 also includes several smaller improvements worth noting:\n   :func:`~django.contrib.auth.decorators.login_required` documentation.\n \n * Django now provides a mod_wsgi :doc:`auth handler\n-  </howto/deployment/wsgi/apache-auth>`\n+  </howto/deployment/wsgi/apache-auth>`.\n \n * The :meth:`QuerySet.delete() <django.db.models.query.QuerySet.delete>`\n   and :meth:`Model.delete() <django.db.models.Model.delete()>` can now take\n   fast-path in some cases. The fast-path allows for less queries and less\n   objects fetched into memory. See :meth:`QuerySet.delete()\n   <django.db.models.query.QuerySet.delete>` for details.\n \n+* An instance of :class:`~django.core.urlresolvers.ResolverMatch` is stored on\n+  the request as ``resolver_match``.\n+\n Backwards incompatible changes in 1.5\n =====================================\n "
        },
        {
            "sha": "ab2e77af24c31ca960fbc32c7e4bb600b23b1aef",
            "filename": "tests/regressiontests/urlpatterns_reverse/namespace_urls.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -28,6 +28,7 @@ def urls(self):\n urlpatterns = patterns('regressiontests.urlpatterns_reverse.views',\n     url(r'^normal/$', 'empty_view', name='normal-view'),\n     url(r'^normal/(?P<arg1>\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='normal-view'),\n+    url(r'^resolver_match/$', 'pass_resolver_match_view', name='test-resolver-match'),\n \n     url(r'^\\+\\\\\\$\\*/$', 'empty_view', name='special-view'),\n "
        },
        {
            "sha": "234897d2673705db57273963217e1ef4b12179d3",
            "filename": "tests/regressiontests/urlpatterns_reverse/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -512,6 +512,11 @@ def test_urlpattern_resolve(self):\n             self.assertEqual(match[1], args)\n             self.assertEqual(match[2], kwargs)\n \n+    def test_resolver_match_on_request(self):\n+        response = self.client.get('/resolver_match/')\n+        resolver_match = response.resolver_match\n+        self.assertEqual(resolver_match.url_name, 'test-resolver-match')\n+\n class ErroneousViewTests(TestCase):\n     urls = 'regressiontests.urlpatterns_reverse.erroneous_urls'\n "
        },
        {
            "sha": "88d169a11828442dc3ac6cba89085aca42013691",
            "filename": "tests/regressiontests/urlpatterns_reverse/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/6a6f589bfe4d03c3de04753330c307832cd2dcbe/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py?ref=6a6f589bfe4d03c3de04753330c307832cd2dcbe",
            "patch": "@@ -19,6 +19,11 @@ def defaults_view(request, arg1, arg2):\n def erroneous_view(request):\n     import non_existent\n \n+def pass_resolver_match_view(request, *args, **kwargs):\n+    response = HttpResponse('')\n+    response.resolver_match = request.resolver_match\n+    return response\n+\n uncallable = \"Can I be a view? Pleeeease?\"\n \n class ViewClass(object):"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 30,
        "deletions": 4
    }
}