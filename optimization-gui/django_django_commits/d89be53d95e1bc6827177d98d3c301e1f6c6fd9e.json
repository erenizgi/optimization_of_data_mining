{
    "author": "carljm",
    "message": "Fixed #17099 -- Removed an out-of-date warning and some unused code, now that startapp doesn't require creating app inside project. Thanks ptone for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17030 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d89be53d95e1bc6827177d98d3c301e1f6c6fd9e",
    "files": [
        {
            "sha": "f1d826355043a68877e5afddbf1d010e2c345f64",
            "filename": "django/core/management/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/d89be53d95e1bc6827177d98d3c301e1f6c6fd9e/django%2Fcore%2Fmanagement%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d89be53d95e1bc6827177d98d3c301e1f6c6fd9e/django%2Fcore%2Fmanagement%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fbase.py?ref=d89be53d95e1bc6827177d98d3c301e1f6c6fd9e",
            "patch": "@@ -357,7 +357,7 @@ def handle_noargs(self, **options):\n         \"\"\"\n         raise NotImplementedError()\n \n-def copy_helper(style, app_or_project, name, directory, other_name=''):\n+def copy_helper(style, app_or_project, name, directory):\n     \"\"\"\n     Copies either a Django application layout template or a Django project\n     layout template into the specified directory.\n@@ -367,11 +367,9 @@ def copy_helper(style, app_or_project, name, directory, other_name=''):\n     # app_or_project -- The string 'app' or 'project'.\n     # name -- The name of the application or project.\n     # directory -- The directory to which the layout template should be copied.\n-    # other_name -- When copying an application layout, this should be the name\n-    #               of the project.\n     import re\n     import shutil\n-    other = {'project': 'app', 'app': 'project'}[app_or_project]\n+\n     if not re.search(r'^[_a-zA-Z]\\w*$', name): # If it's not a valid directory name.\n         # Provide a smart error message, depending on the error.\n         if not re.search(r'^[_a-zA-Z]', name):\n@@ -406,7 +404,7 @@ def copy_helper(style, app_or_project, name, directory, other_name=''):\n             path_new = os.path.join(top_dir, relative_dir, f.replace('%s_name' % app_or_project, name))\n             fp_old = open(path_old, 'r')\n             fp_new = open(path_new, 'w')\n-            fp_new.write(fp_old.read().replace('{{ %s_name }}' % app_or_project, name).replace('{{ %s_name }}' % other, other_name))\n+            fp_new.write(fp_old.read().replace('{{ %s_name }}' % app_or_project, name))\n             fp_old.close()\n             fp_new.close()\n             try:"
        },
        {
            "sha": "2999a33ed480f655a67a59f154c4500cb8288586",
            "filename": "django/core/management/commands/startapp.py",
            "status": "modified",
            "additions": 1,
            "deletions": 20,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/d89be53d95e1bc6827177d98d3c301e1f6c6fd9e/django%2Fcore%2Fmanagement%2Fcommands%2Fstartapp.py",
            "raw_url": "https://github.com/django/django/raw/d89be53d95e1bc6827177d98d3c301e1f6c6fd9e/django%2Fcore%2Fmanagement%2Fcommands%2Fstartapp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fstartapp.py?ref=d89be53d95e1bc6827177d98d3c301e1f6c6fd9e",
            "patch": "@@ -17,14 +17,6 @@ def handle_label(self, app_name, directory=None, **options):\n         if directory is None:\n             directory = os.getcwd()\n \n-        # Determine the project_name by using the basename of directory,\n-        # which should be the full path of the project directory (or the\n-        # current directory if no directory was passed).\n-        project_name = os.path.basename(directory)\n-        if app_name == project_name:\n-            raise CommandError(\"You cannot create an app with the same name\"\n-                               \" (%r) as your project.\" % app_name)\n-\n         # Check that the app_name cannot be imported.\n         try:\n             import_module(app_name)\n@@ -33,15 +25,4 @@ def handle_label(self, app_name, directory=None, **options):\n         else:\n             raise CommandError(\"%r conflicts with the name of an existing Python module and cannot be used as an app name. Please try another name.\" % app_name)\n \n-        copy_helper(self.style, 'app', app_name, directory, project_name)\n-\n-class ProjectCommand(Command):\n-    help = (\"Creates a Django app directory structure for the given app name\"\n-            \" in this project's directory.\")\n-\n-    def __init__(self, project_directory):\n-        super(ProjectCommand, self).__init__()\n-        self.project_directory = project_directory\n-\n-    def handle_label(self, app_name, **options):\n-        super(ProjectCommand, self).handle_label(app_name, self.project_directory, **options)\n+        copy_helper(self.style, 'app', app_name, directory)"
        }
    ],
    "stats": {
        "total": 29,
        "additions": 4,
        "deletions": 25
    }
}