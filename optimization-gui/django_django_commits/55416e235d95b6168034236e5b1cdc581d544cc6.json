{
    "author": "aaugustin",
    "message": "Fixed #19589 -- assertRegexpMatches is deprecated in Python 3.3.",
    "sha": "55416e235d95b6168034236e5b1cdc581d544cc6",
    "files": [
        {
            "sha": "b93dc5b16421a3f699f94805453c4b6e44efdb33",
            "filename": "django/utils/six.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/django%2Futils%2Fsix.py",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/django%2Futils%2Fsix.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fsix.py?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -393,9 +393,11 @@ def with_metaclass(meta, base=object):\n if PY3:\n     _iterlists = \"lists\"\n     _assertRaisesRegex = \"assertRaisesRegex\"\n+    _assertRegex = \"assertRegex\"\n else:\n     _iterlists = \"iterlists\"\n     _assertRaisesRegex = \"assertRaisesRegexp\"\n+    _assertRegex = \"assertRegexpMatches\"\n \n \n def iterlists(d):\n@@ -407,5 +409,9 @@ def assertRaisesRegex(self, *args, **kwargs):\n     return getattr(self, _assertRaisesRegex)(*args, **kwargs)\n \n \n+def assertRegex(self, *args, **kwargs):\n+    return getattr(self, _assertRegex)(*args, **kwargs)\n+\n+\n add_move(MovedModule(\"_dummy_thread\", \"dummy_thread\"))\n add_move(MovedModule(\"_thread\", \"thread\"))"
        },
        {
            "sha": "b1f3fa3277e1d84766a5d2ca8d9a95972f13405e",
            "filename": "docs/topics/python3.txt",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/docs%2Ftopics%2Fpython3.txt",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/docs%2Ftopics%2Fpython3.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fpython3.txt?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -402,7 +402,13 @@ The version of six bundled with Django includes one extra function:\n \n     This replaces ``testcase.assertRaisesRegexp`` on Python 2, and\n     ``testcase.assertRaisesRegex`` on Python 3. ``assertRaisesRegexp`` still\n-    exists in current Python3 versions, but issues a warning.\n+    exists in current Python 3 versions, but issues a warning.\n+\n+.. function:: assertRegex(testcase, *args, **kwargs)\n+\n+    This replaces ``testcase.assertRegexpMatches`` on Python 2, and\n+    ``testcase.assertRegex`` on Python 3. ``assertRegexpMatches`` still\n+    exists in current Python 3 versions, but issues a warning.\n \n \n In addition to six' defaults moves, Django's version provides ``thread`` as"
        },
        {
            "sha": "4ae6bbd6a82b28dc69b978340b2be129458dcd72",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -506,7 +506,7 @@ def assert_xml_contains_datetime(self, xml, dt):\n \n     def assert_yaml_contains_datetime(self, yaml, dt):\n         # Depending on the yaml dumper, '!timestamp' might be absent\n-        self.assertRegexpMatches(yaml,\n+        six.assertRegex(self, yaml,\n             r\"- fields: {dt: !(!timestamp)? '%s'}\" % re.escape(dt))\n \n     def test_naive_datetime(self):"
        },
        {
            "sha": "d7d01e6a92ca80269f3e687fe231d38407cf0ce7",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -1263,7 +1263,7 @@ def test_nesting(self):\n         \"\"\"\n         pattern = re.compile(br\"\"\"<li>Plot: <a href=\".+/admin_views/plot/1/\">World Domination</a>\\s*<ul>\\s*<li>Plot details: <a href=\".+/admin_views/plotdetails/1/\">almost finished</a>\"\"\")\n         response = self.client.get('/test_admin/admin/admin_views/villain/%s/delete/' % quote(1))\n-        self.assertRegexpMatches(response.content, pattern)\n+        six.assertRegex(self, response.content, pattern)\n \n     def test_cyclic(self):\n         \"\"\""
        },
        {
            "sha": "ac8d8c1a09f60c62ff3363bbbb39976f42825e7c",
            "filename": "tests/regressiontests/i18n/commands/extraction.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -9,6 +9,7 @@\n from django.test import SimpleTestCase\n from django.utils.encoding import force_text\n from django.utils._os import upath\n+from django.utils import six\n from django.utils.six import StringIO\n \n \n@@ -112,7 +113,7 @@ def test_extraction_error(self):\n         self.assertRaises(SyntaxError, management.call_command, 'makemessages', locale=LOCALE, extensions=['tpl'], verbosity=0)\n         with self.assertRaises(SyntaxError) as context_manager:\n             management.call_command('makemessages', locale=LOCALE, extensions=['tpl'], verbosity=0)\n-        self.assertRegexpMatches(str(context_manager.exception),\n+        six.assertRegex(self, str(context_manager.exception),\n                 r'Translation blocks must not include other block tags: blocktrans \\(file templates[/\\\\]template_with_error\\.tpl, line 3\\)'\n             )\n         # Check that the temporary file was cleaned up"
        },
        {
            "sha": "64621a5cb6d426432be3515280fde198f5b820a0",
            "filename": "tests/regressiontests/version/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fversion%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/55416e235d95b6168034236e5b1cdc581d544cc6/tests%2Fregressiontests%2Fversion%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fversion%2Ftests.py?ref=55416e235d95b6168034236e5b1cdc581d544cc6",
            "patch": "@@ -1,6 +1,7 @@\n import re\n \n from django import get_version\n+from django.utils import six\n from django.utils.unittest import TestCase\n \n class VersionTests(TestCase):\n@@ -10,7 +11,7 @@ def test_development(self):\n         # This will return a different result when it's run within or outside\n         # of a git clone: 1.4.devYYYYMMDDHHMMSS or 1.4.\n         ver_string = get_version(ver_tuple)\n-        self.assertRegexpMatches(ver_string, r'1\\.4(\\.dev\\d+)?')\n+        six.assertRegex(self, ver_string, r'1\\.4(\\.dev\\d+)?')\n \n     def test_releases(self):\n         tuples_to_strings = ("
        }
    ],
    "stats": {
        "total": 24,
        "additions": 19,
        "deletions": 5
    }
}