{
    "author": "jphalip",
    "message": "Fixed #13211 -- Added the `Group` API reference and a `Permission` API example to the `contrib.auth` documentation. Thanks to b14ck for the report and to jpaulett and CrazyGir for the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16849 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "9316671effabcd42c7af81cb9dac9838d07c082a",
    "files": [
        {
            "sha": "3c7ad36f683abf9b09459b9167347ee633f5b132",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 46,
            "deletions": 7,
            "changes": 53,
            "blob_url": "https://github.com/django/django/blob/9316671effabcd42c7af81cb9dac9838d07c082a/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/9316671effabcd42c7af81cb9dac9838d07c082a/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=9316671effabcd42c7af81cb9dac9838d07c082a",
            "patch": "@@ -131,7 +131,7 @@ Methods\n .. class:: models.User\n \n     :class:`~django.contrib.auth.models.User` objects have two many-to-many\n-    fields: models.User. ``groups`` and ``user_permissions``.\n+    fields: ``groups`` and ``user_permissions``.\n     :class:`~django.contrib.auth.models.User` objects can access their related\n     objects in the same way as any other :doc:`Django model\n     </topics/db/models>`:\n@@ -1403,12 +1403,7 @@ API reference\n \n .. currentmodule:: django.contrib.auth.models\n \n-.. class:: Permission\n-\n-    Just like users, permissions are implemented in a Django model that lives\n-    in `django/contrib/auth/models.py`_.\n-\n-.. _django/contrib/auth/models.py: http://code.djangoproject.com/browser/django/trunk/django/contrib/auth/models.py\n+.. class:: models.Permission\n \n Fields\n ~~~~~~\n@@ -1437,6 +1432,26 @@ data-access methods like any other :doc:`Django model </ref/models/instances>`.\n \n .. currentmodule:: django.contrib.auth\n \n+Programmatically creating permissions\n+-------------------------------------\n+\n+While custom permissions can be defined within a model's ``Meta`` class, you\n+can also create permissions directly. For example, you can create the\n+``can_publish`` permission for a ``BlogPost`` model in ``myapp``::\n+\n+    from django.contrib.auth.models import Group, Permission\n+    from django.contrib.contenttypes.models import ContentType\n+\n+    content_type = ContentType.objects.get(app_label='myapp', model='BlogPost')\n+    permission = Permission.objects.create(codename='can_publish',\n+                                           name='Can Publish Posts',\n+                                           content_type=content_type)\n+\n+The permission can then be assigned to a\n+:class:`~django.contrib.auth.models.User` via its ``user_permissions``\n+attribute or to a :class:`~django.contrib.auth.models.Group` via its\n+``permissions`` attribute.\n+\n Authentication data in templates\n ================================\n \n@@ -1529,6 +1544,30 @@ group ``'Special users'``, and you could write code that could, say, give them\n access to a members-only portion of your site, or send them members-only email\n messages.\n \n+API reference\n+-------------\n+\n+.. class:: models.Group\n+\n+Fields\n+~~~~~~\n+\n+:class:`~django.contrib.auth.models.Group` objects have the following fields:\n+\n+.. attribute:: Group.name\n+\n+    Required. 80 characters or fewer. Any characters are permitted. Example:\n+    ``'Awesome Users'``.\n+\n+.. attribute:: Group.permissions\n+\n+    Many-to-many field to :class:`~django.contrib.auth.models.Permissions`::\n+\n+        group.permissions = [permission_list]\n+        group.permissions.add(permission, permission, ...)\n+        group.permissions.remove(permission, permission, ...)\n+        group.permissions.clear()\n+\n .. _authentication-backends:\n \n Other authentication sources"
        }
    ],
    "stats": {
        "total": 53,
        "additions": 46,
        "deletions": 7
    }
}