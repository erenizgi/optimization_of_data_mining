{
    "author": "claudep",
    "message": "[py3] Fed strftime with unicode on Python 3",
    "sha": "9cb80356fc4cff7b8ecda91877755d6e361667c4",
    "files": [
        {
            "sha": "adb9c16fed9292857c04cf3903c8a500fc099fca",
            "filename": "django/db/models/fields/files.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/9cb80356fc4cff7b8ecda91877755d6e361667c4/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py",
            "raw_url": "https://github.com/django/django/raw/9cb80356fc4cff7b8ecda91877755d6e361667c4/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py?ref=9cb80356fc4cff7b8ecda91877755d6e361667c4",
            "patch": "@@ -8,7 +8,7 @@\n from django.core.files.storage import default_storage\n from django.core.files.images import ImageFile\n from django.db.models import signals\n-from django.utils.encoding import force_text, smart_bytes\n+from django.utils.encoding import force_text, smart_str\n from django.utils import six\n from django.utils.translation import ugettext_lazy as _\n \n@@ -280,7 +280,7 @@ def contribute_to_class(self, cls, name):\n         setattr(cls, self.name, self.descriptor_class(self))\n \n     def get_directory_name(self):\n-        return os.path.normpath(force_text(datetime.datetime.now().strftime(smart_bytes(self.upload_to))))\n+        return os.path.normpath(force_text(datetime.datetime.now().strftime(smart_str(self.upload_to))))\n \n     def get_filename(self, filename):\n         return os.path.normpath(self.storage.get_valid_name(os.path.basename(filename)))"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}