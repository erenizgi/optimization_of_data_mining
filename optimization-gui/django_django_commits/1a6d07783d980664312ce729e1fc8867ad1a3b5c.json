{
    "author": "andrewgodwin",
    "message": "Do cheaper check for column having a type.",
    "sha": "1a6d07783d980664312ce729e1fc8867ad1a3b5c",
    "files": [
        {
            "sha": "2e064909cb441e1d4e93f51580e55bca514c7bf0",
            "filename": "django/db/backends/schema.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/1a6d07783d980664312ce729e1fc8867ad1a3b5c/django%2Fdb%2Fbackends%2Fschema.py",
            "raw_url": "https://github.com/django/django/raw/1a6d07783d980664312ce729e1fc8867ad1a3b5c/django%2Fdb%2Fbackends%2Fschema.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fschema.py?ref=1a6d07783d980664312ce729e1fc8867ad1a3b5c",
            "patch": "@@ -347,11 +347,11 @@ def delete_field(self, model, field):\n         # Special-case implicit M2M tables\n         if isinstance(field, ManyToManyField) and field.rel.through._meta.auto_created:\n             return self.delete_model(field.rel.through)\n-        # Get the column's definition\n-        definition, params = self.column_sql(model, field)\n         # It might not actually have a column behind it\n-        if definition is None:\n+        if field.db_parameters(connection=self.connection)['type'] is None:\n             return\n+        # Get the column's definition\n+        definition, params = self.column_sql(model, field)\n         # Delete the column\n         sql = self.sql_delete_column % {\n             \"table\": self.quote_name(model._meta.db_table),"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}