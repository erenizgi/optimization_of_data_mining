{
    "author": "aaugustin",
    "message": "Avoided mixing dates and datetimes in the examples.\n\nRefs #16023.",
    "sha": "e69348b4e7f07ef927edaecc7126901fc91c79d0",
    "files": [
        {
            "sha": "69965b66e18954cfc0fb774a8e32809aa07ebd13",
            "filename": "docs/faq/models.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ffaq%2Fmodels.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ffaq%2Fmodels.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ffaq%2Fmodels.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -11,7 +11,7 @@ Then, just do this::\n \n     >>> from django.db import connection\n     >>> connection.queries\n-    [{'sql': 'SELECT polls_polls.id,polls_polls.question,polls_polls.pub_date FROM polls_polls',\n+    [{'sql': 'SELECT polls_polls.id, polls_polls.question, polls_polls.pub_date FROM polls_polls',\n     'time': '0.002'}]\n \n ``connection.queries`` is only available if :setting:`DEBUG` is ``True``."
        },
        {
            "sha": "4d5a86f82b9d715c06e2ff7578b54989e8b35c59",
            "filename": "docs/intro/overview.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fintro%2Foverview.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fintro%2Foverview.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fintro%2Foverview.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -31,7 +31,7 @@ the file ``mysite/news/models.py``::\n             return self.full_name\n \n     class Article(models.Model):\n-        pub_date = models.DateTimeField()\n+        pub_date = models.DateField()\n         headline = models.CharField(max_length=200)\n         content = models.TextField()\n         reporter = models.ForeignKey(Reporter)\n@@ -96,8 +96,8 @@ access your data. The API is created on the fly, no code generation necessary::\n     DoesNotExist: Reporter matching query does not exist. Lookup parameters were {'id': 2}\n \n     # Create an article.\n-    >>> from datetime import datetime\n-    >>> a = Article(pub_date=datetime.now(), headline='Django is cool',\n+    >>> from datetime import date\n+    >>> a = Article(pub_date=date.today(), headline='Django is cool',\n     ...     content='Yeah.', reporter=r)\n     >>> a.save()\n \n@@ -140,7 +140,7 @@ as registering your model in the admin site::\n     from django.db import models\n \n     class Article(models.Model):\n-        pub_date = models.DateTimeField()\n+        pub_date = models.DateField()\n         headline = models.CharField(max_length=200)\n         content = models.TextField()\n         reporter = models.ForeignKey(Reporter)"
        },
        {
            "sha": "f03c7fda0d5f1ae8234523a0372972ddcf5cdb1a",
            "filename": "docs/ref/contrib/comments/moderation.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fcontrib%2Fcomments%2Fmoderation.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fcontrib%2Fcomments%2Fmoderation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fcomments%2Fmoderation.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -32,11 +32,11 @@ A simple example is the best illustration of this. Suppose we have the\n following model, which would represent entries in a Weblog::\n \n     from django.db import models\n-    \n+\n     class Entry(models.Model):\n         title = models.CharField(maxlength=250)\n         body = models.TextField()\n-        pub_date = models.DateTimeField()\n+        pub_date = models.DateField()\n         enable_comments = models.BooleanField()\n \n Now, suppose that we want the following steps to be applied whenever a\n@@ -55,11 +55,11 @@ Accomplishing this is fairly straightforward and requires very little\n code::\n \n     from django.contrib.comments.moderation import CommentModerator, moderator\n-    \n+\n     class EntryModerator(CommentModerator):\n         email_notification = True\n         enable_field = 'enable_comments'\n-    \n+\n     moderator.register(Entry, EntryModerator)\n \n The :class:`CommentModerator` class pre-defines a number of useful moderation"
        },
        {
            "sha": "190c0037ca78a83334745bc06db4b83529a53ea6",
            "filename": "docs/ref/models/fields.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Ffields.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -983,10 +983,10 @@ define the details of how the relation works.\n     this with functions from the Python ``datetime`` module to limit choices of\n     objects by date. For example::\n \n-        limit_choices_to = {'pub_date__lte': datetime.now}\n+        limit_choices_to = {'pub_date__lte': datetime.date.today}\n \n     only allows the choice of related objects with a ``pub_date`` before the\n-    current date/time to be chosen.\n+    current date to be chosen.\n \n     Instead of a dictionary this can also be a :class:`~django.db.models.Q`\n     object for more :ref:`complex queries <complex-lookups-with-q>`. However,"
        },
        {
            "sha": "2fdc87df8c7ef634d0ce6167680e653dc7d327d2",
            "filename": "docs/ref/models/instances.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Finstances.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Finstances.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Finstances.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -135,7 +135,7 @@ access to more than a single field::\n             raise ValidationError('Draft entries may not have a publication date.')\n         # Set the pub_date for published items if it hasn't been set already.\n         if self.status == 'published' and self.pub_date is None:\n-            self.pub_date = datetime.datetime.now()\n+            self.pub_date = datetime.date.today()\n \n Any :exc:`~django.core.exceptions.ValidationError` exceptions raised by\n ``Model.clean()`` will be stored in a special key error dictionary key,"
        },
        {
            "sha": "96fa5c9f26c56cf7028a184dba31f9f2f71297b1",
            "filename": "docs/ref/models/querysets.txt",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Fquerysets.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -1945,6 +1945,17 @@ SQL equivalent::\n You can use ``range`` anywhere you can use ``BETWEEN`` in SQL â€” for dates,\n numbers and even characters.\n \n+.. warning::\n+\n+    Filtering a ``DateTimeField`` with dates won't include items on the last\n+    day, because the bounds are interpreted as \"0am on the given date\". If\n+    ``pub_date`` was a ``DateTimeField``, the above expression would be turned\n+    into this SQL::\n+\n+        SELECT ... WHERE pub_date BETWEEN '2005-01-01 00:00:00' and '2005-03-31 00:00:00';\n+\n+    Generally speaking, you can't mix dates and datetimes.\n+\n .. fieldlookup:: year\n \n year\n@@ -1958,7 +1969,7 @@ Example::\n \n SQL equivalent::\n \n-    SELECT ... WHERE pub_date BETWEEN '2005-01-01' AND '2005-12-31 23:59:59.999999';\n+    SELECT ... WHERE pub_date BETWEEN '2005-01-01' AND '2005-12-31';\n \n (The exact SQL syntax varies for each database engine.)\n "
        },
        {
            "sha": "c869362d16e98f4d679516733b3d45a80d92e12e",
            "filename": "docs/topics/db/examples/many_to_one.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ftopics%2Fdb%2Fexamples%2Fmany_to_one.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ftopics%2Fdb%2Fexamples%2Fmany_to_one.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fexamples%2Fmany_to_one.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -42,8 +42,8 @@ Create a few Reporters::\n \n Create an Article::\n \n-    >>> from datetime import datetime\n-    >>> a = Article(id=None, headline=\"This is a test\", pub_date=datetime(2005, 7, 27), reporter=r)\n+    >>> from datetime import date\n+    >>> a = Article(id=None, headline=\"This is a test\", pub_date=date(2005, 7, 27), reporter=r)\n     >>> a.save()\n \n     >>> a.reporter.id\n@@ -65,7 +65,7 @@ database, which always returns unicode strings)::\n \n Create an Article via the Reporter object::\n \n-    >>> new_article = r.article_set.create(headline=\"John's second story\", pub_date=datetime(2005, 7, 29))\n+    >>> new_article = r.article_set.create(headline=\"John's second story\", pub_date=date(2005, 7, 29))\n     >>> new_article\n     <Article: John's second story>\n     >>> new_article.reporter\n@@ -75,7 +75,7 @@ Create an Article via the Reporter object::\n \n Create a new article, and add it to the article set::\n \n-    >>> new_article2 = Article(headline=\"Paul's story\", pub_date=datetime(2006, 1, 17))\n+    >>> new_article2 = Article(headline=\"Paul's story\", pub_date=date(2006, 1, 17))\n     >>> r.article_set.add(new_article2)\n     >>> new_article2.reporter\n     <Reporter: John Smith>"
        },
        {
            "sha": "5385b2a72d2d1804eac62c19543d65cf44140925",
            "filename": "docs/topics/db/queries.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ftopics%2Fdb%2Fqueries.txt",
            "raw_url": "https://github.com/django/django/raw/e69348b4e7f07ef927edaecc7126901fc91c79d0/docs%2Ftopics%2Fdb%2Fqueries.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fqueries.txt?ref=e69348b4e7f07ef927edaecc7126901fc91c79d0",
            "patch": "@@ -35,8 +35,8 @@ models, which comprise a Weblog application:\n         blog = models.ForeignKey(Blog)\n         headline = models.CharField(max_length=255)\n         body_text = models.TextField()\n-        pub_date = models.DateTimeField()\n-        mod_date = models.DateTimeField()\n+        pub_date = models.DateField()\n+        mod_date = models.DateField()\n         authors = models.ManyToManyField(Author)\n         n_comments = models.IntegerField()\n         n_pingbacks = models.IntegerField()\n@@ -233,7 +233,7 @@ refinements together. For example::\n     >>> Entry.objects.filter(\n     ...     headline__startswith='What'\n     ... ).exclude(\n-    ...     pub_date__gte=datetime.now()\n+    ...     pub_date__gte=datetime.date.today()\n     ... ).filter(\n     ...     pub_date__gte=datetime(2005, 1, 30)\n     ... )\n@@ -258,8 +258,8 @@ stored, used and reused.\n Example::\n \n     >> q1 = Entry.objects.filter(headline__startswith=\"What\")\n-    >> q2 = q1.exclude(pub_date__gte=datetime.now())\n-    >> q3 = q1.filter(pub_date__gte=datetime.now())\n+    >> q2 = q1.exclude(pub_date__gte=datetime.date.today())\n+    >> q3 = q1.filter(pub_date__gte=datetime.date.today())\n \n These three ``QuerySets`` are separate. The first is a base\n :class:`~django.db.models.query.QuerySet` containing all entries that contain a\n@@ -282,7 +282,7 @@ actually run the query until the :class:`~django.db.models.query.QuerySet` is\n *evaluated*. Take a look at this example::\n \n     >>> q = Entry.objects.filter(headline__startswith=\"What\")\n-    >>> q = q.filter(pub_date__lte=datetime.now())\n+    >>> q = q.filter(pub_date__lte=datetime.date.today())\n     >>> q = q.exclude(body_text__icontains=\"food\")\n     >>> print(q)\n "
        }
    ],
    "stats": {
        "total": 57,
        "additions": 34,
        "deletions": 23
    }
}