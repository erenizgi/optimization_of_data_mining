{
    "author": "claudep",
    "message": "Cleaned up locale-related encoding issues",
    "sha": "35f9c2c07a8ed29b278db21a61f5b87581024258",
    "files": [
        {
            "sha": "213e5b363f55fb0f2bbd6c16f6f8b028369ac37e",
            "filename": "django/conf/locale/ar/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fconf%2Flocale%2Far%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fconf%2Flocale%2Far%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Far%2Fformats.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "5682c410e2f3292624f94b422fd9e43388e57c53",
            "filename": "django/conf/locale/fa/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fconf%2Flocale%2Ffa%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fconf%2Flocale%2Ffa%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Ffa%2Fformats.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "daa40044f9c07cbf6a7e96cf6943361986a55533",
            "filename": "django/contrib/localflavor/ca/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -79,9 +79,9 @@ def clean(self, value):\n             pass\n         else:\n             # Load data in memory only when it is required, see also #17275\n-            from django.contrib.localflavor.ca.ca_provinces import PROVINCES_NORMALIZED\n+            from .ca_provinces import PROVINCES_NORMALIZED\n             try:\n-                return PROVINCES_NORMALIZED[value.strip().lower()].decode('ascii')\n+                return PROVINCES_NORMALIZED[value.strip().lower()]\n             except KeyError:\n                 pass\n         raise ValidationError(self.error_messages['invalid'])\n@@ -93,7 +93,7 @@ class CAProvinceSelect(Select):\n     \"\"\"\n     def __init__(self, attrs=None):\n         # Load data in memory only when it is required, see also #17275\n-        from django.contrib.localflavor.ca.ca_provinces import PROVINCE_CHOICES\n+        from .ca_provinces import PROVINCE_CHOICES\n         super(CAProvinceSelect, self).__init__(attrs, choices=PROVINCE_CHOICES)\n \n class CASocialInsuranceNumberField(Field):"
        },
        {
            "sha": "da0769d2a06185150441b28971f19d9c72a9f0cd",
            "filename": "django/contrib/localflavor/es/forms.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -3,7 +3,7 @@\n Spanish-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n "
        },
        {
            "sha": "edad74710d61b59b33279ec09a820dba2e1717ea",
            "filename": "django/contrib/localflavor/tr/tr_provinces.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Ftr%2Ftr_provinces.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Ftr%2Ftr_provinces.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ftr%2Ftr_provinces.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -3,6 +3,7 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n PROVINCE_CHOICES = (\n     ('01', ('Adana')),"
        },
        {
            "sha": "ef565163cd91c576cfa58f54c67b16044b20a9c6",
            "filename": "django/contrib/localflavor/us/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -93,7 +93,7 @@ class USStateField(Field):\n     }\n \n     def clean(self, value):\n-        from django.contrib.localflavor.us.us_states import STATES_NORMALIZED\n+        from .us_states import STATES_NORMALIZED\n         super(USStateField, self).clean(value)\n         if value in EMPTY_VALUES:\n             return ''\n@@ -103,7 +103,7 @@ def clean(self, value):\n             pass\n         else:\n             try:\n-                return STATES_NORMALIZED[value.strip().lower()].decode('ascii')\n+                return STATES_NORMALIZED[value.strip().lower()]\n             except KeyError:\n                 pass\n         raise ValidationError(self.error_messages['invalid'])\n@@ -113,7 +113,7 @@ class USStateSelect(Select):\n     A Select widget that uses a list of U.S. states/territories as its choices.\n     \"\"\"\n     def __init__(self, attrs=None):\n-        from django.contrib.localflavor.us.us_states import STATE_CHOICES\n+        from .us_states import STATE_CHOICES\n         super(USStateSelect, self).__init__(attrs, choices=STATE_CHOICES)\n \n class USPSSelect(Select):\n@@ -122,5 +122,5 @@ class USPSSelect(Select):\n     choices.\n     \"\"\"\n     def __init__(self, attrs=None):\n-        from django.contrib.localflavor.us.us_states import USPS_CHOICES\n+        from .us_states import USPS_CHOICES\n         super(USPSSelect, self).__init__(attrs, choices=USPS_CHOICES)"
        },
        {
            "sha": "dbf4c2b2d9bcf21838160ca5eb0fa7ed6d20a92e",
            "filename": "tests/regressiontests/localflavor/mk/tests.py",
            "status": "modified",
            "additions": 28,
            "deletions": 28,
            "changes": 56,
            "blob_url": "https://github.com/django/django/blob/35f9c2c07a8ed29b278db21a61f5b87581024258/tests%2Fregressiontests%2Flocalflavor%2Fmk%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/35f9c2c07a8ed29b278db21a61f5b87581024258/tests%2Fregressiontests%2Flocalflavor%2Fmk%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Fmk%2Ftests.py?ref=35f9c2c07a8ed29b278db21a61f5b87581024258",
            "patch": "@@ -92,11 +92,11 @@ def test_field_blank_option(self):\n         \"\"\"\n         Test that the empty option is there.\n         \"\"\"\n-        municipality_select_html = b\"\"\"\\\n+        municipality_select_html = \"\"\"\\\n <select name=\"municipality\" id=\"id_municipality\">\n <option value=\"\">---------</option>\n <option value=\"AD\">Aerodrom</option>\n-<option value=\"AR\">Ara\\xc4\\x8dinovo</option>\n+<option value=\"AR\">Aračinovo</option>\n <option value=\"BR\">Berovo</option>\n <option value=\"TL\">Bitola</option>\n <option value=\"BG\">Bogdanci</option>\n@@ -106,44 +106,44 @@ def test_field_blank_option(self):\n <option value=\"BU\">Butel</option>\n <option value=\"VA\">Valandovo</option>\n <option value=\"VL\">Vasilevo</option>\n-<option value=\"VV\">Vev\\xc4\\x8dani</option>\n+<option value=\"VV\">Vevčani</option>\n <option value=\"VE\">Veles</option>\n <option value=\"NI\">Vinica</option>\n-<option value=\"VC\">Vrane\\xc5\\xa1tica</option>\n-<option value=\"VH\">Vrap\\xc4\\x8di\\xc5\\xa1te</option>\n+<option value=\"VC\">Vraneštica</option>\n+<option value=\"VH\">Vrapčište</option>\n <option value=\"GB\">Gazi Baba</option>\n <option value=\"GV\">Gevgelija</option>\n <option value=\"GT\">Gostivar</option>\n <option value=\"GR\">Gradsko</option>\n <option value=\"DB\">Debar</option>\n <option value=\"DA\">Debarca</option>\n-<option value=\"DL\">Del\\xc4\\x8devo</option>\n+<option value=\"DL\">Delčevo</option>\n <option value=\"DK\">Demir Kapija</option>\n <option value=\"DM\">Demir Hisar</option>\n <option value=\"DE\">Dolneni</option>\n <option value=\"DR\">Drugovo</option>\n-<option value=\"GP\">Gjor\\xc4\\x8de Petrov</option>\n-<option value=\"ZE\">\\xc5\\xbdelino</option>\n+<option value=\"GP\">Gjorče Petrov</option>\n+<option value=\"ZE\">Želino</option>\n <option value=\"ZA\">Zajas</option>\n <option value=\"ZK\">Zelenikovo</option>\n <option value=\"ZR\">Zrnovci</option>\n <option value=\"IL\">Ilinden</option>\n <option value=\"JG\">Jegunovce</option>\n <option value=\"AV\">Kavadarci</option>\n <option value=\"KB\">Karbinci</option>\n-<option value=\"KX\">Karpo\\xc5\\xa1</option>\n+<option value=\"KX\">Karpoš</option>\n <option value=\"VD\">Kisela Voda</option>\n-<option value=\"KH\">Ki\\xc4\\x8devo</option>\n-<option value=\"KN\">Kon\\xc4\\x8de</option>\n-<option value=\"OC\">Ko\\xc4\\x87ani</option>\n+<option value=\"KH\">Kičevo</option>\n+<option value=\"KN\">Konče</option>\n+<option value=\"OC\">Koćani</option>\n <option value=\"KY\">Kratovo</option>\n <option value=\"KZ\">Kriva Palanka</option>\n-<option value=\"KG\">Krivoga\\xc5\\xa1tani</option>\n-<option value=\"KS\">Kru\\xc5\\xa1evo</option>\n+<option value=\"KG\">Krivogaštani</option>\n+<option value=\"KS\">Kruševo</option>\n <option value=\"UM\">Kumanovo</option>\n <option value=\"LI\">Lipkovo</option>\n <option value=\"LO\">Lozovo</option>\n-<option value=\"MR\">Mavrovo i Rostu\\xc5\\xa1a</option>\n+<option value=\"MR\">Mavrovo i Rostuša</option>\n <option value=\"MK\">Makedonska Kamenica</option>\n <option value=\"MD\">Makedonski Brod</option>\n <option value=\"MG\">Mogila</option>\n@@ -153,32 +153,32 @@ def test_field_blank_option(self):\n <option value=\"OS\">Oslomej</option>\n <option value=\"OD\" selected=\"selected\">Ohrid</option>\n <option value=\"PE\">Petrovec</option>\n-<option value=\"PH\">Peh\\xc4\\x8devo</option>\n+<option value=\"PH\">Pehčevo</option>\n <option value=\"PN\">Plasnica</option>\n <option value=\"PP\">Prilep</option>\n-<option value=\"PT\">Probi\\xc5\\xa1tip</option>\n-<option value=\"RV\">Radovi\\xc5\\xa1</option>\n+<option value=\"PT\">Probištip</option>\n+<option value=\"RV\">Radoviš</option>\n <option value=\"RN\">Rankovce</option>\n <option value=\"RE\">Resen</option>\n <option value=\"RO\">Rosoman</option>\n <option value=\"AJ\">Saraj</option>\n <option value=\"SL\">Sveti Nikole</option>\n-<option value=\"SS\">Sopi\\xc5\\xa1te</option>\n+<option value=\"SS\">Sopište</option>\n <option value=\"SD\">Star Dojran</option>\n-<option value=\"NA\">Staro Nagori\\xc4\\x8dane</option>\n+<option value=\"NA\">Staro Nagoričane</option>\n <option value=\"UG\">Struga</option>\n <option value=\"RU\">Strumica</option>\n-<option value=\"SU\">Studeni\\xc4\\x8dani</option>\n+<option value=\"SU\">Studeničani</option>\n <option value=\"TR\">Tearce</option>\n <option value=\"ET\">Tetovo</option>\n <option value=\"CE\">Centar</option>\n-<option value=\"CZ\">Centar-\\xc5\\xbdupa</option>\n-<option value=\"CI\">\\xc4\\x8cair</option>\n-<option value=\"CA\">\\xc4\\x8ca\\xc5\\xa1ka</option>\n-<option value=\"CH\">\\xc4\\x8ce\\xc5\\xa1inovo-Oble\\xc5\\xa1evo</option>\n-<option value=\"CS\">\\xc4\\x8cu\\xc4\\x8der-Sandevo</option>\n-<option value=\"ST\">\\xc5\\xa0tip</option>\n-<option value=\"SO\">\\xc5\\xa0uto Orizari</option>\n+<option value=\"CZ\">Centar-Župa</option>\n+<option value=\"CI\">Čair</option>\n+<option value=\"CA\">Čaška</option>\n+<option value=\"CH\">Češinovo-Obleševo</option>\n+<option value=\"CS\">Čučer-Sandevo</option>\n+<option value=\"ST\">Štip</option>\n+<option value=\"SO\">Šuto Orizari</option>\n </select>\"\"\"\n         self.assertHTMLEqual(str(self.form['municipality']), municipality_select_html)\n "
        }
    ],
    "stats": {
        "total": 75,
        "additions": 39,
        "deletions": 36
    }
}