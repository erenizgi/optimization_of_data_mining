{
    "author": "dhepper",
    "message": "Fixed #18444 -- Replace hard coded \"View on Site\" URLs",
    "sha": "aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
    "files": [
        {
            "sha": "515cc33eca6d57c202c82e81cc98a7ddf6c3ae15",
            "filename": "django/contrib/admin/sites.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Fsites.py",
            "raw_url": "https://github.com/django/django/raw/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Fsites.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fsites.py?ref=aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
            "patch": "@@ -231,7 +231,8 @@ def wrapper(*args, **kwargs):\n                 wrap(self.i18n_javascript, cacheable=True),\n                 name='jsi18n'),\n             url(r'^r/(?P<content_type_id>\\d+)/(?P<object_id>.+)/$',\n-                wrap(contenttype_views.shortcut)),\n+                wrap(contenttype_views.shortcut),\n+                name='view_on_site'),\n             url(r'^(?P<app_label>\\w+)/$',\n                 wrap(self.app_index),\n                 name='app_list')"
        },
        {
            "sha": "82d7296c8584585d661ea654db57f48f725b88bd",
            "filename": "django/contrib/admin/templates/admin/change_form.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fchange_form.html",
            "raw_url": "https://github.com/django/django/raw/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fchange_form.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fchange_form.html?ref=aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
            "patch": "@@ -30,7 +30,7 @@\n   <ul class=\"object-tools\">\n     {% block object-tools-items %}\n     <li><a href=\"history/\" class=\"historylink\">{% trans \"History\" %}</a></li>\n-    {% if has_absolute_url %}<li><a href=\"../../../r/{{ content_type_id }}/{{ original.pk }}/\" class=\"viewsitelink\">{% trans \"View on site\" %}</a></li>{% endif%}\n+    {% if has_absolute_url %}<li><a href=\"{% url 'admin:view_on_site' content_type_id original.pk %}\" class=\"viewsitelink\">{% trans \"View on site\" %}</a></li>{% endif%}\n     {% endblock %}\n   </ul>\n {% endif %}{% endif %}"
        },
        {
            "sha": "d57d3dad491d1c58a1199b46bcf2b3e1192e185f",
            "filename": "django/contrib/admin/templates/admin/edit_inline/stacked.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Fstacked.html",
            "raw_url": "https://github.com/django/django/raw/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Fstacked.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Fstacked.html?ref=aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
            "patch": "@@ -6,7 +6,7 @@ <h2>{{ inline_admin_formset.opts.verbose_name_plural|title }}</h2>\n \n {% for inline_admin_form in inline_admin_formset %}<div class=\"inline-related{% if forloop.last %} empty-form last-related{% endif %}\" id=\"{{ inline_admin_formset.formset.prefix }}-{% if not forloop.last %}{{ forloop.counter0 }}{% else %}empty{% endif %}\">\n   <h3><b>{{ inline_admin_formset.opts.verbose_name|title }}:</b>&nbsp;<span class=\"inline_label\">{% if inline_admin_form.original %}{{ inline_admin_form.original }}{% else %}#{{ forloop.counter }}{% endif %}</span>\n-    {% if inline_admin_form.show_url %}<a href=\"../../../r/{{ inline_admin_form.original_content_type_id }}/{{ inline_admin_form.original.pk }}/\">{% trans \"View on site\" %}</a>{% endif %}\n+    {% if inline_admin_form.show_url %}<a href=\"{% url 'admin:view_on_site' inline_admin_form.original_content_type_id inline_admin_form.original.pk %}\">{% trans \"View on site\" %}</a>{% endif %}\n     {% if inline_admin_formset.formset.can_delete and inline_admin_form.original %}<span class=\"delete\">{{ inline_admin_form.deletion_field.field }} {{ inline_admin_form.deletion_field.label_tag }}</span>{% endif %}\n   </h3>\n   {% if inline_admin_form.form.non_field_errors %}{{ inline_admin_form.form.non_field_errors }}{% endif %}"
        },
        {
            "sha": "4f4915381999d5031458ae6c270089281910f8a9",
            "filename": "django/contrib/admin/templates/admin/edit_inline/tabular.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Ftabular.html",
            "raw_url": "https://github.com/django/django/raw/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Ftabular.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fedit_inline%2Ftabular.html?ref=aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
            "patch": "@@ -27,7 +27,7 @@ <h2>{{ inline_admin_formset.opts.verbose_name_plural|capfirst }}</h2>\n         <td class=\"original\">\n           {% if inline_admin_form.original or inline_admin_form.show_url %}<p>\n           {% if inline_admin_form.original %} {{ inline_admin_form.original }}{% endif %}\n-          {% if inline_admin_form.show_url %}<a href=\"../../../r/{{ inline_admin_form.original_content_type_id }}/{{ inline_admin_form.original.pk }}/\">{% trans \"View on site\" %}</a>{% endif %}\n+          {% if inline_admin_form.show_url %}<a href=\"{% url 'admin:view_on_site' inline_admin_form.original_content_type_id inline_admin_form.original.pk %}\">{% trans \"View on site\" %}</a>{% endif %}\n             </p>{% endif %}\n           {% if inline_admin_form.has_auto_field %}{{ inline_admin_form.pk_field.field }}{% endif %}\n           {{ inline_admin_form.fk_field.field }}"
        },
        {
            "sha": "7aca0981c335f39e45558dfa6a8e96ded4f040b0",
            "filename": "docs/ref/contrib/admin/index.txt",
            "status": "modified",
            "additions": 11,
            "deletions": 10,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/aee9eecb920cf281e8339a5f7edadc6f2dd04fea/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt?ref=aee9eecb920cf281e8339a5f7edadc6f2dd04fea",
            "patch": "@@ -1948,16 +1948,17 @@ accessible using Django's :ref:`URL reversing system <naming-url-patterns>`.\n \n The :class:`AdminSite` provides the following named URL patterns:\n \n-======================  ========================  =============\n-Page                    URL name                  Parameters\n-======================  ========================  =============\n-Index                   ``index``\n-Logout                  ``logout``\n-Password change         ``password_change``\n-Password change done    ``password_change_done``\n-i18n javascript         ``jsi18n``\n-Application index page  ``app_list``              ``app_label``\n-======================  ========================  =============\n+=========================  ========================  ==================================\n+Page                       URL name                  Parameters\n+=========================  ========================  ==================================\n+Index                      ``index``\n+Logout                     ``logout``\n+Password change            ``password_change``\n+Password change done       ``password_change_done``\n+i18n javascript            ``jsi18n``\n+Application index page     ``app_list``              ``app_label``\n+Redirect to object's page  ``view_on_site``          ``content_type_id``, ``object_id``\n+=========================  ========================  ==================================\n \n Each :class:`ModelAdmin` instance provides an additional set of named URLs:\n "
        }
    ],
    "stats": {
        "total": 30,
        "additions": 16,
        "deletions": 14
    }
}