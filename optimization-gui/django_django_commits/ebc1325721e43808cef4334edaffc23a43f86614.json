{
    "author": "apollo13",
    "message": "[py3] Always pass bytes to hashlib.md5.",
    "sha": "ebc1325721e43808cef4334edaffc23a43f86614",
    "files": [
        {
            "sha": "e431f99d0d736f35bff31908302d744814ee9f98",
            "filename": "django/templatetags/cache.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ebc1325721e43808cef4334edaffc23a43f86614/django%2Ftemplatetags%2Fcache.py",
            "raw_url": "https://github.com/django/django/raw/ebc1325721e43808cef4334edaffc23a43f86614/django%2Ftemplatetags%2Fcache.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Fcache.py?ref=ebc1325721e43808cef4334edaffc23a43f86614",
            "patch": "@@ -4,6 +4,7 @@\n from django.template import Library, Node, TemplateSyntaxError, Variable, VariableDoesNotExist\n from django.template import resolve_variable\n from django.core.cache import cache\n+from django.utils.encoding import smart_bytes\n from django.utils.http import urlquote\n \n register = Library()\n@@ -24,8 +25,9 @@ def render(self, context):\n             expire_time = int(expire_time)\n         except (ValueError, TypeError):\n             raise TemplateSyntaxError('\"cache\" tag got a non-integer timeout value: %r' % expire_time)\n-        # Build a unicode key for this fragment and all vary-on's.\n-        args = hashlib.md5(':'.join([urlquote(resolve_variable(var, context)) for var in self.vary_on]))\n+        # Build a key for this fragment and all vary-on's.\n+        key = smart_bytes(':'.join([urlquote(resolve_variable(var, context)) for var in self.vary_on]))\n+        args = hashlib.md5(key)\n         cache_key = 'template.cache.%s.%s' % (self.fragment_name, args.hexdigest())\n         value = cache.get(cache_key)\n         if value is None:"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}