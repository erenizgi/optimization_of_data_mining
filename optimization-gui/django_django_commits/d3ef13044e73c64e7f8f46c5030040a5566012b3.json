{
    "author": "adrianholovaty",
    "message": "Edited doc changes from [17244]\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17302 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d3ef13044e73c64e7f8f46c5030040a5566012b3",
    "files": [
        {
            "sha": "11e23c02504e676dace2b94c0b2e78c74e286ef4",
            "filename": "docs/ref/models/querysets.txt",
            "status": "modified",
            "additions": 16,
            "deletions": 10,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "raw_url": "https://github.com/django/django/raw/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Fquerysets.txt?ref=d3ef13044e73c64e7f8f46c5030040a5566012b3",
            "patch": "@@ -376,20 +376,26 @@ query spans multiple tables, it's possible to get duplicate results when a\n \n .. versionadded:: 1.4\n \n-The possibility to pass positional arguments (``*fields``) is new in Django 1.4.\n-They are names of fields to which the ``DISTINCT`` should be limited. This\n-translates to a ``SELECT DISTINCT ON`` SQL query. A ``DISTINCT ON`` query eliminates\n-duplicate rows not by comparing all fields in a row, but by comparing only the given\n-fields.\n+As of Django 1.4, you can pass positional arguments (``*fields``) in order to\n+specify the names of fields to which the ``DISTINCT`` should apply. This\n+translates to a ``SELECT DISTINCT ON`` SQL query.\n+\n+Here's the difference. For a normal ``distinct()`` call, the database compares\n+*each* field in each row when determining which rows are distinct. For a\n+``distinct()`` call with specified field names, the database will only compare\n+the specified field names.\n \n .. note::\n-    Note that the ability to specify field names is only available in PostgreSQL.\n+    This ability to specify field names is only available in PostgreSQL.\n \n .. note::\n-    When using the ``DISTINCT ON`` functionality it is required that the columns given\n-    to :meth:`distinct` match the first :meth:`order_by` columns. For example ``SELECT\n-    DISTINCT ON (a)`` gives you the first row for each value in column ``a``. If you\n-    don't specify an order, then you'll get some arbitrary row.\n+    When you specify field names, you *must* provide an ``order_by()`` in the\n+    QuerySet, and the fields in ``order_by()`` must start with the fields in\n+    ``distinct()``, in the same order.\n+\n+    For example, ``SELECT DISTINCT ON (a)`` gives you the first row for each\n+    value in column ``a``. If you don't specify an order, you'll get some\n+    arbitrary row.\n \n Examples::\n "
        },
        {
            "sha": "52c8e752664012c386f39a46f4ae59b5be0c4523",
            "filename": "docs/releases/1.4-alpha-1.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Freleases%2F1.4-alpha-1.txt",
            "raw_url": "https://github.com/django/django/raw/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Freleases%2F1.4-alpha-1.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4-alpha-1.txt?ref=d3ef13044e73c64e7f8f46c5030040a5566012b3",
            "patch": "@@ -548,10 +548,9 @@ Django 1.4 also includes several smaller improvements worth noting:\n * Added support in the ORM for generating ``SELECT`` queries containing\n   ``DISTINCT ON``.\n \n-  The ``distinct()`` ``Queryset`` method now accepts an optional list of model\n+  The ``distinct()`` ``QuerySet`` method now accepts an optional list of model\n   field names. If specified, then the ``DISTINCT`` statement is limited to these\n-  fields. PostgreSQL is the only database backend shipped with Django that\n-  supports this new functionality.\n+  fields. This is only supported in PostgreSQL.\n \n   For more details, see the documentation for\n   :meth:`~django.db.models.query.QuerySet.distinct`."
        },
        {
            "sha": "e228bc0b2951548ee3439c999a3c30b26cb698fd",
            "filename": "docs/releases/1.4.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Freleases%2F1.4.txt",
            "raw_url": "https://github.com/django/django/raw/d3ef13044e73c64e7f8f46c5030040a5566012b3/docs%2Freleases%2F1.4.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.txt?ref=d3ef13044e73c64e7f8f46c5030040a5566012b3",
            "patch": "@@ -538,10 +538,9 @@ Django 1.4 also includes several smaller improvements worth noting:\n * Added support in the ORM for generating ``SELECT`` queries containing\n   ``DISTINCT ON``.\n \n-  The ``distinct()`` ``Queryset`` method now accepts an optional list of model\n+  The ``distinct()`` ``QuerySet`` method now accepts an optional list of model\n   field names. If specified, then the ``DISTINCT`` statement is limited to these\n-  fields. PostgreSQL is the only database backend shipped with Django that\n-  supports this new functionality.\n+  fields. This is only supported in PostgreSQL.\n \n   For more details, see the documentation for\n   :meth:`~django.db.models.query.QuerySet.distinct`."
        }
    ],
    "stats": {
        "total": 36,
        "additions": 20,
        "deletions": 16
    }
}