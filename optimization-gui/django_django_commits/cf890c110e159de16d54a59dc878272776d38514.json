{
    "author": "timgraham",
    "message": "Added an example of \"default\" database dictionary left blank; refs #19775.\n\nThanks wsmith323 for the patch.",
    "sha": "cf890c110e159de16d54a59dc878272776d38514",
    "files": [
        {
            "sha": "8150e498deaa797421d783b4bbe4404084d819cd",
            "filename": "docs/topics/db/multi-db.txt",
            "status": "modified",
            "additions": 24,
            "deletions": 5,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/cf890c110e159de16d54a59dc878272776d38514/docs%2Ftopics%2Fdb%2Fmulti-db.txt",
            "raw_url": "https://github.com/django/django/raw/cf890c110e159de16d54a59dc878272776d38514/docs%2Ftopics%2Fdb%2Fmulti-db.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fmulti-db.txt?ref=cf890c110e159de16d54a59dc878272776d38514",
            "patch": "@@ -20,11 +20,7 @@ documentation.\n \n Databases can have any alias you choose. However, the alias\n ``default`` has special significance. Django uses the database with\n-the alias of ``default`` when no other database has been selected. If\n-the concept of a ``default`` database doesn't make sense in the context\n-of your project, you need to be careful to always specify the database\n-that you want to use. Django requires that a ``default`` database entry\n-be defined, but the parameters can be left blank if it will not be used.\n+the alias of ``default`` when no other database has been selected.\n \n The following is an example ``settings.py`` snippet defining two\n databases -- a default PostgreSQL database and a MySQL database called\n@@ -47,6 +43,29 @@ databases -- a default PostgreSQL database and a MySQL database called\n         }\n     }\n \n+If the concept of a ``default`` database doesn't make sense in the context\n+of your project, you need to be careful to always specify the database\n+that you want to use. Django requires that a ``default`` database entry\n+be defined, but the parameters dictionary can be left blank if it will not be\n+used. The following is an example ``settings.py`` snippet defining two\n+non-default databases, with the ``default`` entry intentionally left empty::\n+\n+    DATABASES = {\n+        'default': {},\n+        'users': {\n+            'NAME': 'user_data',\n+            'ENGINE': 'django.db.backends.mysql',\n+            'USER': 'mysql_user',\n+            'PASSWORD': 'superS3cret'\n+        },\n+        'customers': {\n+            'NAME': 'customer_data',\n+            'ENGINE': 'django.db.backends.mysql',\n+            'USER': 'mysql_cust',\n+            'PASSWORD': 'veryPriv@ate'\n+        }\n+    }\n+\n If you attempt to access a database that you haven't defined in your\n :setting:`DATABASES` setting, Django will raise a\n ``django.db.utils.ConnectionDoesNotExist`` exception."
        }
    ],
    "stats": {
        "total": 29,
        "additions": 24,
        "deletions": 5
    }
}