{
    "author": "andrewgodwin",
    "message": "Merge pull request #289 from mjtamlyn/slugify-real-function\n\nFixed bug in 212b982 -- Removed duplicate code in removetags",
    "sha": "bf12c663d9c2e42d62baa9c7212a18ed2fdc1aa3",
    "files": [
        {
            "sha": "1bfb6270239e9f78f6535d2d3e0a30d331bea298",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/bf12c663d9c2e42d62baa9c7212a18ed2fdc1aa3/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/bf12c663d9c2e42d62baa9c7212a18ed2fdc1aa3/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=bf12c663d9c2e42d62baa9c7212a18ed2fdc1aa3",
            "patch": "@@ -468,13 +468,8 @@ def safeseq(value):\n @stringfilter\n def removetags(value, tags):\n     \"\"\"Removes a space separated list of [X]HTML tags from the output.\"\"\"\n-    tags = [re.escape(tag) for tag in tags.split()]\n-    tags_re = '(%s)' % '|'.join(tags)\n-    starttag_re = re.compile(r'<%s(/?>|(\\s+[^>]*>))' % tags_re, re.U)\n-    endtag_re = re.compile('</%s>' % tags_re)\n-    value = starttag_re.sub('', value)\n-    value = endtag_re.sub('', value)\n-    return value\n+    from django.utils.html import remove_tags\n+    return remove_tags(value, tags)\n \n @register.filter(is_safe=True)\n @stringfilter"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 2,
        "deletions": 7
    }
}