{
    "author": "jphalip",
    "message": "Fixed #17050 -- Added some CSS class names to the admin index pages to facilitate per-app or per-model style customizations. Thanks to scytale for the report and to H0ff1 and thiderman for their work on the patch.",
    "sha": "2e2c4968f6b9b57354af7229687d179941ed74c5",
    "files": [
        {
            "sha": "94d86026c4283adcb48e49959b1f70757f084e1d",
            "filename": "django/contrib/admin/sites.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/2e2c4968f6b9b57354af7229687d179941ed74c5/django%2Fcontrib%2Fadmin%2Fsites.py",
            "raw_url": "https://github.com/django/django/raw/2e2c4968f6b9b57354af7229687d179941ed74c5/django%2Fcontrib%2Fadmin%2Fsites.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fsites.py?ref=2e2c4968f6b9b57354af7229687d179941ed74c5",
            "patch": "@@ -354,6 +354,7 @@ def index(self, request, extra_context=None):\n                     info = (app_label, model._meta.module_name)\n                     model_dict = {\n                         'name': capfirst(model._meta.verbose_name_plural),\n+                        'object_name': model._meta.object_name,\n                         'perms': perms,\n                     }\n                     if perms.get('change', False):\n@@ -371,6 +372,7 @@ def index(self, request, extra_context=None):\n                     else:\n                         app_dict[app_label] = {\n                             'name': app_label.title(),\n+                            'app_label': app_label,\n                             'app_url': reverse('admin:app_list', kwargs={'app_label': app_label}, current_app=self.name),\n                             'has_module_perms': has_module_perms,\n                             'models': [model_dict],\n@@ -408,6 +410,7 @@ def app_index(self, request, app_label, extra_context=None):\n                         info = (app_label, model._meta.module_name)\n                         model_dict = {\n                             'name': capfirst(model._meta.verbose_name_plural),\n+                            'object_name': model._meta.object_name,\n                             'perms': perms,\n                         }\n                         if perms.get('change', False):\n@@ -428,6 +431,7 @@ def app_index(self, request, app_label, extra_context=None):\n                             # information.\n                             app_dict = {\n                                 'name': app_label.title(),\n+                                'app_label': app_label,\n                                 'app_url': '',\n                                 'has_module_perms': has_module_perms,\n                                 'models': [model_dict],"
        },
        {
            "sha": "961e4823e014a2f4e6cc70947940b843617c1e97",
            "filename": "django/contrib/admin/templates/admin/index.html",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/2e2c4968f6b9b57354af7229687d179941ed74c5/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html",
            "raw_url": "https://github.com/django/django/raw/2e2c4968f6b9b57354af7229687d179941ed74c5/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html?ref=2e2c4968f6b9b57354af7229687d179941ed74c5",
            "patch": "@@ -14,15 +14,15 @@\n \n {% if app_list %}\n     {% for app in app_list %}\n-        <div class=\"module\">\n+        <div class=\"app-{{ app.app_label }} module\">\n         <table>\n         <caption>\n             <a href=\"{{ app.app_url }}\" class=\"section\" title=\"{% blocktrans with name=app.name %}Models in the {{ name }} application{% endblocktrans %}\">\n                 {% blocktrans with name=app.name %}{{ name }}{% endblocktrans %}\n             </a>\n         </caption>\n         {% for model in app.models %}\n-            <tr>\n+            <tr class=\"model-{{ model.object_name|lower }}\">\n             {% if model.admin_url %}\n                 <th scope=\"row\"><a href=\"{{ model.admin_url }}\">{{ model.name }}</a></th>\n             {% else %}"
        },
        {
            "sha": "6c95e1b6f9d824f5e460ebe115745ef899dd8ba2",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 22,
            "deletions": 1,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/2e2c4968f6b9b57354af7229687d179941ed74c5/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2e2c4968f6b9b57354af7229687d179941ed74c5/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=2e2c4968f6b9b57354af7229687d179941ed74c5",
            "patch": "@@ -3391,7 +3391,11 @@ def setUp(self):\n     def tearDown(self):\n         self.client.logout()\n \n-    def test_css_classes(self):\n+    def test_field_prefix_css_classes(self):\n+        \"\"\"\n+        Ensure that fields have a CSS class name with a 'field-' prefix.\n+        Refs #16371.\n+        \"\"\"\n         response = self.client.get('/test_admin/admin/admin_views/post/add/')\n \n         # The main form\n@@ -3407,6 +3411,23 @@ def test_css_classes(self):\n         self.assertContains(response, '<td class=\"field-url\">')\n         self.assertContains(response, '<td class=\"field-posted\">')\n \n+    def test_index_css_classes(self):\n+        \"\"\"\n+        Ensure that CSS class names are used for each app and model on the\n+        admin index pages.\n+        Refs #17050.\n+        \"\"\"\n+        # General index page\n+        response = self.client.get(\"/test_admin/admin/\")\n+        self.assertContains(response, '<div class=\"app-admin_views module\">')\n+        self.assertContains(response, '<tr class=\"model-actor\">')\n+        self.assertContains(response, '<tr class=\"model-album\">')\n+\n+        # App index page\n+        response = self.client.get(\"/test_admin/admin/admin_views/\")\n+        self.assertContains(response, '<div class=\"app-admin_views module\">')\n+        self.assertContains(response, '<tr class=\"model-actor\">')\n+        self.assertContains(response, '<tr class=\"model-album\">')\n \n try:\n     import docutils"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 28,
        "deletions": 3
    }
}