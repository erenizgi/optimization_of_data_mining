{
    "author": "alex",
    "message": "Kill some more dead code.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16795 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
    "files": [
        {
            "sha": "b7c0ff8c5c7a4cfea4fffc924fbf05b510c79303",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -152,7 +152,7 @@ def get_response(self, request):\n                         try:\n                             response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n                         finally:\n-                            receivers = signals.got_request_exception.send(sender=self.__class__, request=request)\n+                            signals.got_request_exception.send(sender=self.__class__, request=request)\n             except exceptions.PermissionDenied:\n                 logger.warning(\n                     'Forbidden (Permission denied): %s' % request.path,\n@@ -168,14 +168,14 @@ def get_response(self, request):\n                         response = self.handle_uncaught_exception(request,\n                             resolver, sys.exc_info())\n                     finally:\n-                        receivers = signals.got_request_exception.send(\n+                        signals.got_request_exception.send(\n                             sender=self.__class__, request=request)\n             except SystemExit:\n                 # Allow sys.exit() to actually exit. See tickets #1023 and #4701\n                 raise\n             except: # Handle everything else, including SuspiciousOperation, etc.\n                 # Get the exception info now, in case another exception is thrown later.\n-                receivers = signals.got_request_exception.send(sender=self.__class__, request=request)\n+                signals.got_request_exception.send(sender=self.__class__, request=request)\n                 response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n         finally:\n             # Reset URLconf for this thread on the way out for complete\n@@ -188,7 +188,7 @@ def get_response(self, request):\n                 response = middleware_method(request, response)\n             response = self.apply_response_fixes(request, response)\n         except: # Any exception should be gathered and handled\n-            receivers = signals.got_request_exception.send(sender=self.__class__, request=request)\n+            signals.got_request_exception.send(sender=self.__class__, request=request)\n             response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n \n         return response"
        },
        {
            "sha": "ea494c7f0a101c475f630d3511aee4ba9044b1b0",
            "filename": "django/core/management/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2F__init__.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -420,7 +420,7 @@ def setup_environ(settings_mod, original_settings_path=None):\n     # Import the project module. We add the parent directory to PYTHONPATH to\n     # avoid some of the path errors new users can have.\n     sys.path.append(os.path.join(project_directory, os.pardir))\n-    project_module = import_module(project_name)\n+    import_module(project_name)\n     sys.path.pop()\n \n     return project_directory"
        },
        {
            "sha": "0426d19aacfcb5010f285c06009cbde4628ebc9e",
            "filename": "django/core/management/commands/dumpdata.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -1,7 +1,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.core.management.base import BaseCommand, CommandError\n from django.core import serializers\n-from django.db import connections, router, DEFAULT_DB_ALIAS\n+from django.db import router, DEFAULT_DB_ALIAS\n from django.utils.datastructures import SortedDict\n \n from optparse import make_option\n@@ -28,12 +28,11 @@ class Command(BaseCommand):\n     args = '[appname appname.ModelName ...]'\n \n     def handle(self, *app_labels, **options):\n-        from django.db.models import get_app, get_apps, get_models, get_model\n+        from django.db.models import get_app, get_apps, get_model\n \n         format = options.get('format','json')\n         indent = options.get('indent',None)\n         using = options.get('database', DEFAULT_DB_ALIAS)\n-        connection = connections[using]\n         excludes = options.get('exclude',[])\n         show_traceback = options.get('traceback', False)\n         use_natural_keys = options.get('use_natural_keys', False)"
        },
        {
            "sha": "a8c9456e632546d1ddb93a11b8eda6a02d798342",
            "filename": "django/core/management/commands/shell.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fcommands%2Fshell.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fcommands%2Fshell.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fshell.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -44,7 +44,7 @@ def handle_noargs(self, **options):\n         # XXX: (Temporary) workaround for ticket #1796: force early loading of all\n         # models from installed apps.\n         from django.db.models.loading import get_models\n-        loaded_models = get_models()\n+        get_models()\n \n         use_plain = options.get('plain', False)\n \n@@ -72,12 +72,12 @@ def handle_noargs(self, **options):\n \n             # We want to honor both $PYTHONSTARTUP and .pythonrc.py, so follow system\n             # conventions and get $PYTHONSTARTUP first then import user.\n-            if not use_plain: \n-                pythonrc = os.environ.get(\"PYTHONSTARTUP\") \n-                if pythonrc and os.path.isfile(pythonrc): \n-                    try: \n-                        execfile(pythonrc) \n-                    except NameError: \n+            if not use_plain:\n+                pythonrc = os.environ.get(\"PYTHONSTARTUP\")\n+                if pythonrc and os.path.isfile(pythonrc):\n+                    try:\n+                        execfile(pythonrc)\n+                    except NameError:\n                         pass\n                 # This will import .pythonrc.py as a side-effect\n                 import user"
        },
        {
            "sha": "19b7ec2cd71ed120a4ba6615a5e8d0c48f4ba9fc",
            "filename": "django/core/management/sql.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fmanagement%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fsql.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -127,7 +127,6 @@ def sql_custom(app, style, connection):\n     output = []\n \n     app_models = get_models(app)\n-    app_dir = os.path.normpath(os.path.join(os.path.dirname(app.__file__), 'sql'))\n \n     for model in app_models:\n         output.extend(custom_sql_for_model(model, style, connection))"
        },
        {
            "sha": "51ea82fba25251c742faf6bdfb9fbc5f5ad76a1f",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -51,7 +51,7 @@ class URLValidator(RegexValidator):\n         r'(?::\\d+)?' # optional port\n         r'(?:/?|[/?]\\S+)$', re.IGNORECASE)\n \n-    def __init__(self, verify_exists=False, \n+    def __init__(self, verify_exists=False,\n                  validator_user_agent=URL_VALIDATOR_USER_AGENT):\n         super(URLValidator, self).__init__()\n         self.verify_exists = verify_exists\n@@ -99,7 +99,7 @@ def __call__(self, value):\n                 req.get_method = lambda: 'HEAD'\n                 #Create an opener that does not support local file access\n                 opener = urllib2.OpenerDirector()\n-                \n+\n                 #Don't follow redirects, but don't treat them as errors either\n                 error_nop = lambda *args, **kwargs: True\n                 http_error_processor = urllib2.HTTPErrorProcessor()\n@@ -114,10 +114,11 @@ def __call__(self, value):\n                             http_error_processor]\n                 try:\n                     import ssl\n-                    handlers.append(urllib2.HTTPSHandler())\n-                except:\n-                    #Python isn't compiled with SSL support\n+                except ImportError:\n+                    # Python isn't compiled with SSL support\n                     pass\n+                else:\n+                    handlers.append(urllib2.HTTPSHandler())\n                 map(opener.add_handler, handlers)\n                 opener.http_error_301 = lambda: True\n                 if platform.python_version_tuple() >= (2, 6):\n@@ -133,7 +134,7 @@ def __call__(self, value):\n def validate_integer(value):\n     try:\n         int(value)\n-    except (ValueError, TypeError), e:\n+    except (ValueError, TypeError):\n         raise ValidationError('')\n \n class EmailValidator(RegexValidator):\n@@ -145,7 +146,6 @@ def __call__(self, value):\n             # Trivial case failed. Try for possible IDN domain-part\n             if value and u'@' in value:\n                 parts = value.split(u'@')\n-                domain_part = parts[-1]\n                 try:\n                     parts[-1] = parts[-1].encode('idna')\n                 except UnicodeError:"
        },
        {
            "sha": "3606942add3b885c4604c673452a88f8e0b5aff8",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -607,7 +607,8 @@ def convert_old_style_list(list_):\n         if second_item == []:\n             return [first_item], True\n         try:\n-            it = iter(second_item)  # see if second item is iterable\n+            # see if second item is iterable\n+            iter(second_item)\n         except TypeError:\n             return list_, False\n         old_style_list = True"
        },
        {
            "sha": "06838cf21c2ee8f8dbd1ba27662b96d361cb8a80",
            "filename": "django/template/defaulttags.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Ftemplate%2Fdefaulttags.py",
            "raw_url": "https://github.com/django/django/raw/8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad/django%2Ftemplate%2Fdefaulttags.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaulttags.py?ref=8e1226b4a00a0d26752b26d0ebf21ff8c5a247ad",
            "patch": "@@ -51,7 +51,7 @@ def token_kwargs(bits, parser, support_legacy=False):\n \n     kwargs = {}\n     while bits:\n-        if kwarg_format: \n+        if kwarg_format:\n             match = kwarg_re.match(bits[0])\n             if not match or not match.group(1):\n                 return kwargs\n@@ -276,7 +276,6 @@ def render(self, context):\n             compare_to = None\n \n         if compare_to != self._last_seen:\n-            firstloop = (self._last_seen == None)\n             self._last_seen = compare_to\n             content = self.nodelist_true.render(context)\n             return content"
        }
    ],
    "stats": {
        "total": 50,
        "additions": 24,
        "deletions": 26
    }
}