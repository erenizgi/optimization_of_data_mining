{
    "author": "claudep",
    "message": "Fixed #18013 -- Use the new 'as' syntax for exceptions.\n\nThanks Clueless for the initial patch.\nNote that unittest has been purposely left out (external package only used by Python 2.6).",
    "sha": "3904b74a3f2f92fefe1d39281ed683c52f2fef03",
    "files": [
        {
            "sha": "6a2485bd4bffe8d13dd3c4ea39535b4aa47b8591",
            "filename": "django/conf/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fconf%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fconf%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -91,7 +91,7 @@ def __init__(self, settings_module):\n \n         try:\n             mod = importlib.import_module(self.SETTINGS_MODULE)\n-        except ImportError, e:\n+        except ImportError as e:\n             raise ImportError(\"Could not import settings '%s' (Is it on sys.path?): %s\" % (self.SETTINGS_MODULE, e))\n \n         # Settings that should be converted into tuples if they're mistakenly entered"
        },
        {
            "sha": "eaf1c8600c12a1152000146cb0d4c9a653399b1b",
            "filename": "django/contrib/admin/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -14,7 +14,7 @@ def setUpClass(cls):\n             mod = import_module(module)\n             WebDriver = getattr(mod, attr)\n             cls.selenium = WebDriver()\n-        except Exception, e:\n+        except Exception as e:\n             raise SkipTest('Selenium webdriver \"%s\" not installed or not '\n                            'operational: %s' % (cls.webdriver_class, str(e)))\n         super(AdminSeleniumWebDriverTestCase, cls).setUpClass()"
        },
        {
            "sha": "9611b000501885bb879f0a1c31f222938ff362b7",
            "filename": "django/contrib/admin/util.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Futil.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -156,7 +156,7 @@ def collect(self, objs, source_attr=None, **kwargs):\n                 self.add_edge(None, obj)\n         try:\n             return super(NestedObjects, self).collect(objs, source_attr=source_attr, **kwargs)\n-        except models.ProtectedError, e:\n+        except models.ProtectedError as e:\n             self.protected.update(e.protected_objects)\n \n     def related_objects(self, related, objs):"
        },
        {
            "sha": "bc158da80a66284b0d5129e9e3fd5247f36a024a",
            "filename": "django/contrib/admin/views/main.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -139,7 +139,7 @@ def get_filters(self, request):\n                 use_distinct = (use_distinct or\n                                 lookup_needs_distinct(self.lookup_opts, key))\n             return filter_specs, bool(filter_specs), lookup_params, use_distinct\n-        except FieldDoesNotExist, e:\n+        except FieldDoesNotExist as e:\n             raise IncorrectLookupParameters(e)\n \n     def get_query_string(self, new_params=None, remove=None):\n@@ -316,7 +316,7 @@ def get_query_set(self, request):\n             # Allow certain types of errors to be re-raised as-is so that the\n             # caller can treat them in a special way.\n             raise\n-        except Exception, e:\n+        except Exception as e:\n             # Every other error is caught with a naked except, because we don't\n             # have any other way of validating lookup parameters. They might be\n             # invalid if the keyword arguments are incorrect, or if the values"
        },
        {
            "sha": "aad698836e2bbd17c28220fad037d9ab2b053f6a",
            "filename": "django/contrib/admindocs/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmindocs%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fadmindocs%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmindocs%2Fviews.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -318,7 +318,7 @@ def load_all_installed_template_libraries():\n         for library_name in libraries:\n             try:\n                 lib = template.get_library(library_name)\n-            except template.InvalidTemplateLibrary, e:\n+            except template.InvalidTemplateLibrary:\n                 pass\n \n def get_return_data_type(func_name):"
        },
        {
            "sha": "0b3ccf7d8c4a714dbed45ed1ceb86577227ec914",
            "filename": "django/contrib/auth/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fauth%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fauth%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -11,9 +11,9 @@ def load_backend(path):\n     module, attr = path[:i], path[i+1:]\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('Error importing authentication backend %s: \"%s\"' % (path, e))\n-    except ValueError, e:\n+    except ValueError:\n         raise ImproperlyConfigured('Error importing authentication backends. Is AUTHENTICATION_BACKENDS a correctly defined list or tuple?')\n     try:\n         cls = getattr(mod, attr)"
        },
        {
            "sha": "c9a11606b33a44b7664b20fd139411ac005286d9",
            "filename": "django/contrib/comments/views/comments.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fcomments%2Fviews%2Fcomments.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fcomments%2Fviews%2Fcomments.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fviews%2Fcomments.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -66,7 +66,7 @@ def post_comment(request, next=None, using=None):\n         return CommentPostBadRequest(\n             \"No object matching content-type %r and object PK %r exists.\" % \\\n                 (escape(ctype), escape(object_pk)))\n-    except (ValueError, ValidationError), e:\n+    except (ValueError, ValidationError) as e:\n         return CommentPostBadRequest(\n             \"Attempting go get content-type %r and object PK %r exists raised %s\" % \\\n                 (escape(ctype), escape(object_pk), e.__class__.__name__))"
        },
        {
            "sha": "f2293c93a34b2b3a2d3e7cb7d2eed063512e1882",
            "filename": "django/contrib/formtools/wizard/storage/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -10,7 +10,7 @@ def get_storage(path, *args, **kwargs):\n     module, attr = path[:i], path[i+1:]\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise MissingStorageModule(\n             'Error loading storage %s: \"%s\"' % (module, e))\n     try:"
        },
        {
            "sha": "26e97622a8509c725faff1f7878e33bab351bae6",
            "filename": "django/contrib/gis/db/backends/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -164,13 +164,13 @@ def srs(self):\n                 try:\n                     self._srs = gdal.SpatialReference(self.wkt)\n                     return self.srs\n-                except Exception, msg:\n+                except Exception as msg:\n                     pass\n \n                 try:\n                     self._srs = gdal.SpatialReference(self.proj4text)\n                     return self.srs\n-                except Exception, msg:\n+                except Exception as msg:\n                     pass\n \n                 raise Exception('Could not get OSR SpatialReference from WKT: %s\\nError:\\n%s' % (self.wkt, msg))"
        },
        {
            "sha": "716f318d242b1fae53234aa7b63e71e1f891ff34",
            "filename": "django/contrib/gis/db/backends/oracle/introspection.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fintrospection.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fintrospection.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fintrospection.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -16,7 +16,7 @@ def get_geometry_type(self, table_name, geo_col):\n                 cursor.execute('SELECT \"DIMINFO\", \"SRID\" FROM \"USER_SDO_GEOM_METADATA\" WHERE \"TABLE_NAME\"=%s AND \"COLUMN_NAME\"=%s',\n                                (table_name.upper(), geo_col.upper()))\n                 row = cursor.fetchone()\n-            except Exception, msg:\n+            except Exception as msg:\n                 raise Exception('Could not find entry in USER_SDO_GEOM_METADATA corresponding to \"%s\".\"%s\"\\n'\n                                 'Error message: %s.' % (table_name, geo_col, msg))\n "
        },
        {
            "sha": "964be8de0eef61c59e5b9b2611299827ad5c0d96",
            "filename": "django/contrib/gis/db/backends/postgis/operations.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -107,9 +107,7 @@ def __init__(self, connection):\n                                        'Was the database created from a spatial database '\n                                        'template?' % self.connection.settings_dict['NAME']\n                                        )\n-        except Exception, e:\n-            # TODO: Raise helpful exceptions as they become known.\n-            raise\n+        # TODO: Raise helpful exceptions as they become known.\n \n         # PostGIS-specific operators. The commented descriptions of these\n         # operators come from Section 7.6 of the PostGIS 1.4 documentation."
        },
        {
            "sha": "b447d1d9ffe484c26b26993f36d8a3e8e098fb67",
            "filename": "django/contrib/gis/db/backends/spatialite/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -56,7 +56,7 @@ def _cursor(self):\n             cur = self.connection.cursor(factory=SQLiteCursorWrapper)\n             try:\n                 cur.execute(\"SELECT load_extension(%s)\", (self.spatialite_lib,))\n-            except Exception, msg:\n+            except Exception as msg:\n                 raise ImproperlyConfigured('Unable to load the SpatiaLite library extension '\n                                            '\"%s\" because: %s' % (self.spatialite_lib, msg))\n             return cur"
        },
        {
            "sha": "6adcdc5275e7a452b72940a919af9efefeb25fe5",
            "filename": "django/contrib/gis/db/backends/spatialite/operations.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -122,7 +122,7 @@ def __init__(self, connection):\n             self.spatial_version = version\n         except ImproperlyConfigured:\n             raise\n-        except Exception, msg:\n+        except Exception as msg:\n             raise ImproperlyConfigured('Cannot determine the SpatiaLite version for the \"%s\" '\n                                        'database (error was \"%s\").  Was the SpatiaLite initialization '\n                                        'SQL loaded on this database?' %"
        },
        {
            "sha": "d9f30bb256237418e0a33417913bb11a777604da",
            "filename": "django/contrib/gis/geometry/backend/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fgeometry%2Fbackend%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fgeometry%2Fbackend%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeometry%2Fbackend%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -6,10 +6,10 @@\n \n try:\n     module = import_module('.%s' % geom_backend, 'django.contrib.gis.geometry.backend')\n-except ImportError, e:\n+except ImportError:\n     try:\n         module = import_module(geom_backend)\n-    except ImportError, e_user:\n+    except ImportError:\n         raise ImproperlyConfigured('Could not import user-defined GEOMETRY_BACKEND '\n                                    '\"%s\".' % geom_backend)\n "
        },
        {
            "sha": "6037cc7ea62ff65af224d61ab52816143396265c",
            "filename": "django/contrib/gis/management/commands/ogrinspect.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fmanagement%2Fcommands%2Fogrinspect.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Fmanagement%2Fcommands%2Fogrinspect.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fmanagement%2Fcommands%2Fogrinspect.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -87,7 +87,7 @@ def handle(self, *args, **options):\n         # Getting the OGR DataSource from the string parameter.\n         try:\n             ds = gdal.DataSource(data_source)\n-        except gdal.OGRException, msg:\n+        except gdal.OGRException as msg:\n             raise CommandError(msg)\n \n         # Whether the user wants to generate the LayerMapping dictionary as well."
        },
        {
            "sha": "72482da3532dd96dea444218ef8f5dc841e82cf7",
            "filename": "django/contrib/gis/tests/test_measure.py",
            "status": "modified",
            "additions": 15,
            "deletions": 60,
            "changes": 75,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Ftests%2Ftest_measure.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Ftests%2Ftest_measure.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Ftest_measure.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -62,32 +62,20 @@ def testAddition(self):\n         d4 -= d1\n         self.assertEqual(d4.m, -200)\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d5 = d1 + 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance + number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d5 = d1 - 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance - number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d1 += 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance += number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d1 -= 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance -= number should raise TypeError')\n \n     def testMultiplication(self):\n@@ -110,25 +98,16 @@ def testMultiplication(self):\n         self.assertTrue(isinstance(a5, Area))\n         self.assertEqual(a5.sq_m, 100*10)\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d1 *= D(m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance *= Distance should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d5 = d1 / D(m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance / Distance should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             d1 /= D(m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Distance /= Distance should raise TypeError')\n \n     def testUnitConversions(self):\n@@ -217,32 +196,20 @@ def testAddition(self):\n         a4 -= a1\n         self.assertEqual(a4.sq_m, -200)\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a5 = a1 + 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area + number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a5 = a1 - 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area - number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a1 += 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area += number should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a1 -= 1\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area -= number should raise TypeError')\n \n     def testMultiplication(self):\n@@ -261,32 +228,20 @@ def testMultiplication(self):\n         a4 /= 5\n         self.assertEqual(a4.sq_m, 10)\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a5 = a1 * A(sq_m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area * Area should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a1 *= A(sq_m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area *= Area should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a5 = a1 / A(sq_m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area / Area should raise TypeError')\n \n-        try:\n+        with self.assertRaises(TypeError):\n             a1 /= A(sq_m=1)\n-        except TypeError, e:\n-            pass\n-        else:\n             self.fail('Area /= Area should raise TypeError')\n \n     def testUnitConversions(self):"
        },
        {
            "sha": "ea3f3d7861831f28456b190a0f80d5641dc0fa5b",
            "filename": "django/contrib/gis/utils/layermapping.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -430,7 +430,7 @@ def coord_transform(self):\n \n             # Creating the CoordTransform object\n             return CoordTransform(self.source_srs, target_srs)\n-        except Exception, msg:\n+        except Exception as msg:\n             raise LayerMapError('Could not translate between the data source and model geometry: %s' % msg)\n \n     def geometry_field(self):\n@@ -514,7 +514,7 @@ def _save(feat_range=default_range, num_feat=0, num_saved=0):\n                 # Getting the keyword arguments\n                 try:\n                     kwargs = self.feature_kwargs(feat)\n-                except LayerMapError, msg:\n+                except LayerMapError as msg:\n                     # Something borked the validation\n                     if strict: raise\n                     elif not silent:\n@@ -553,7 +553,7 @@ def _save(feat_range=default_range, num_feat=0, num_saved=0):\n                         if verbose: stream.write('%s: %s\\n' % (is_update and 'Updated' or 'Saved', m))\n                     except SystemExit:\n                         raise\n-                    except Exception, msg:\n+                    except Exception as msg:\n                         if self.transaction_mode == 'autocommit':\n                             # Rolling back the transaction so that other model saves\n                             # will work."
        },
        {
            "sha": "7b050ace823e392bcd925256bc36252e17e95eab",
            "filename": "django/contrib/markup/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fmarkup%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fmarkup%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmarkup%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -87,7 +87,7 @@ def test_docutils(self):\n             # Docutils v0.4 and earlier\n             self.assertEqual(rendered, \"\"\"<p>Paragraph 1</p>\n <p>Paragraph 2 with a <a class=\"reference\" href=\"http://www.example.com/\">link</a></p>\"\"\")\n-        except AssertionError, e:\n+        except AssertionError:\n             # Docutils from SVN (which will become 0.5)\n             self.assertEqual(rendered, \"\"\"<p>Paragraph 1</p>\n <p>Paragraph 2 with a <a class=\"reference external\" href=\"http://www.example.com/\">link</a></p>\"\"\")"
        },
        {
            "sha": "a584acca1c7399cad5312cf20e1a98d0299ae302",
            "filename": "django/contrib/messages/storage/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -15,7 +15,7 @@ def get_storage(import_path):\n     module, classname = import_path[:dot], import_path[dot + 1:]\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('Error importing module %s: \"%s\"' %\n                                    (module, e))\n     try:"
        },
        {
            "sha": "cb81534586a260579e1a71e55be077a389486f84",
            "filename": "django/contrib/sessions/backends/file.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fsessions%2Fbackends%2Ffile.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fsessions%2Fbackends%2Ffile.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsessions%2Fbackends%2Ffile.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -90,7 +90,7 @@ def save(self, must_create=False):\n             fd = os.open(session_file_name, flags)\n             os.close(fd)\n \n-        except OSError, e:\n+        except OSError as e:\n             if must_create and e.errno == errno.EEXIST:\n                 raise CreateError\n             raise"
        },
        {
            "sha": "766687cf7dd6fe8ae832e5f765f65943bf31f3b6",
            "filename": "django/contrib/staticfiles/finders.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Ffinders.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -260,7 +260,7 @@ def _get_finder(import_path):\n     module, attr = import_path.rsplit('.', 1)\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('Error importing module %s: \"%s\"' %\n                                    (module, e))\n     try:"
        },
        {
            "sha": "f475b22d9cbe1bc21480073d008b581cea61ac40",
            "filename": "django/contrib/staticfiles/handlers.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -56,7 +56,7 @@ def get_response(self, request):\n         if self._should_handle(request.path):\n             try:\n                 return self.serve(request)\n-            except Http404, e:\n+            except Http404 as e:\n                 if settings.DEBUG:\n                     from django.views import debug\n                     return debug.technical_404_response(request, e)"
        },
        {
            "sha": "2a9e1a700bfae0172eb92e7bfe266bb085605532",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -128,7 +128,7 @@ def get_cache(backend, **kwargs):\n             mod_path, cls_name = backend.rsplit('.', 1)\n             mod = importlib.import_module(mod_path)\n             backend_cls = getattr(mod, cls_name)\n-    except (AttributeError, ImportError), e:\n+    except (AttributeError, ImportError) as e:\n         raise InvalidCacheBackendError(\n             \"Could not find backend '%s': %s\" % (backend, e))\n     cache = backend_cls(location, params)"
        },
        {
            "sha": "4778228ccd067dbaf51c864395a1d6ff402d3269",
            "filename": "django/core/files/move.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fmove.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fmove.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fmove.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -79,7 +79,7 @@ def file_move_safe(old_file_name, new_file_name, chunk_size = 1024*64, allow_ove\n \n     try:\n         os.remove(old_file_name)\n-    except OSError, e:\n+    except OSError as e:\n         # Certain operating systems (Cygwin and Windows) \n         # fail when deleting opened files, ignore it.  (For the \n         # systems where this happens, temporary files will be auto-deleted"
        },
        {
            "sha": "6b724b402867ee45a5a661b335c8cfaaf0d2cf08",
            "filename": "django/core/files/storage.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fstorage.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -166,7 +166,7 @@ def _save(self, name, content):\n         if not os.path.exists(directory):\n             try:\n                 os.makedirs(directory)\n-            except OSError, e:\n+            except OSError as e:\n                 if e.errno != errno.EEXIST:\n                     raise\n         if not os.path.isdir(directory):\n@@ -197,7 +197,7 @@ def _save(self, name, content):\n                     finally:\n                         locks.unlock(fd)\n                         os.close(fd)\n-            except OSError, e:\n+            except OSError as e:\n                 if e.errno == errno.EEXIST:\n                     # Ooops, the file exists. We need a new file name.\n                     name = self.get_available_name(name)\n@@ -222,7 +222,7 @@ def delete(self, name):\n         if os.path.exists(name):\n             try:\n                 os.remove(name)\n-            except OSError, e:\n+            except OSError as e:\n                 if e.errno != errno.ENOENT:\n                     raise\n \n@@ -273,7 +273,7 @@ def get_storage_class(import_path=None):\n     module, classname = import_path[:dot], import_path[dot+1:]\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('Error importing storage module %s: \"%s\"' % (module, e))\n     try:\n         return getattr(mod, classname)"
        },
        {
            "sha": "1dcd9aeeb0ddfcb8cbacc7347217766afacb7423",
            "filename": "django/core/files/uploadedfile.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fuploadedfile.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fuploadedfile.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fuploadedfile.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -75,7 +75,7 @@ def temporary_file_path(self):\n     def close(self):\n         try:\n             return self.file.close()\n-        except OSError, e:\n+        except OSError as e:\n             if e.errno != 2:\n                 # Means the file was moved or deleted before the tempfile\n                 # could unlink it.  Still sets self.file.close_called and"
        },
        {
            "sha": "4316fddf43a8ddcacf0e218b80fbd70e16631cec",
            "filename": "django/core/files/uploadhandler.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fuploadhandler.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -204,10 +204,11 @@ def load_handler(path, *args, **kwargs):\n     module, attr = path[:i], path[i+1:]\n     try:\n         mod = importlib.import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('Error importing upload handler module %s: \"%s\"' % (module, e))\n-    except ValueError, e:\n-        raise ImproperlyConfigured('Error importing upload handler module. Is FILE_UPLOAD_HANDLERS a correctly defined list or tuple?')\n+    except ValueError:\n+        raise ImproperlyConfigured('Error importing upload handler module.'\n+            'Is FILE_UPLOAD_HANDLERS a correctly defined list or tuple?')\n     try:\n         cls = getattr(mod, attr)\n     except AttributeError:"
        },
        {
            "sha": "4c9dfc07bc5caa2959586770c13ebaa5d32872d1",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -43,7 +43,7 @@ def load_middleware(self):\n                 raise exceptions.ImproperlyConfigured('%s isn\\'t a middleware module' % middleware_path)\n             try:\n                 mod = import_module(mw_module)\n-            except ImportError, e:\n+            except ImportError as e:\n                 raise exceptions.ImproperlyConfigured('Error importing middleware %s: \"%s\"' % (mw_module, e))\n             try:\n                 mw_class = getattr(mod, mw_classname)\n@@ -109,7 +109,7 @@ def get_response(self, request):\n                 if response is None:\n                     try:\n                         response = callback(request, *callback_args, **callback_kwargs)\n-                    except Exception, e:\n+                    except Exception as e:\n                         # If the view raised an exception, run it through exception\n                         # middleware, and if the exception middleware returns a\n                         # response, use that. Otherwise, reraise the exception.\n@@ -135,7 +135,7 @@ def get_response(self, request):\n                         response = middleware_method(request, response)\n                     response = response.render()\n \n-            except http.Http404, e:\n+            except http.Http404 as e:\n                 logger.warning('Not Found: %s', request.path,\n                             extra={\n                                 'status_code': 404,"
        },
        {
            "sha": "1bee0cac9fd7b162e49481676687451cb799be6d",
            "filename": "django/core/mail/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmail%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmail%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -30,7 +30,7 @@ def get_connection(backend=None, fail_silently=False, **kwds):\n     try:\n         mod_name, klass_name = path.rsplit('.', 1)\n         mod = import_module(mod_name)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured(('Error importing email backend module %s: \"%s\"'\n                                     % (mod_name, e)))\n     try:"
        },
        {
            "sha": "674ca32f3f2fe33b31a6886df51f7e603dba6195",
            "filename": "django/core/mail/backends/filebased.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmail%2Fbackends%2Ffilebased.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmail%2Fbackends%2Ffilebased.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2Fbackends%2Ffilebased.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -25,7 +25,7 @@ def __init__(self, *args, **kwargs):\n         elif not os.path.exists(self.file_path):\n             try:\n                 os.makedirs(self.file_path)\n-            except OSError, err:\n+            except OSError as err:\n                 raise ImproperlyConfigured('Could not create directory for saving email messages: %s (%s)' % (self.file_path, err))\n         # Make sure that self.file_path is writable.\n         if not os.access(self.file_path, os.W_OK):"
        },
        {
            "sha": "840a3b74df23b6ca5e3c0e8c34b8e0783c1e325f",
            "filename": "django/core/management/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -51,7 +51,7 @@ def find_management_module(app_name):\n     # of the app_name but the project directory itself isn't on the path.\n     try:\n         f, path, descr = imp.find_module(part,path)\n-    except ImportError,e:\n+    except ImportError as e:\n         if os.path.basename(os.getcwd()) != part:\n             raise e\n "
        },
        {
            "sha": "2a04c25228113fbe5f2afa88bcbd20842e360787",
            "filename": "django/core/management/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -214,7 +214,7 @@ def execute(self, *args, **options):\n                 from django.utils import translation\n                 saved_lang = translation.get_language()\n                 translation.activate('en-us')\n-            except ImportError, e:\n+            except ImportError as e:\n                 # If settings should be available, but aren't,\n                 # raise the error and quit.\n                 if show_traceback:\n@@ -240,7 +240,7 @@ def execute(self, *args, **options):\n                 self.stdout.write(output)\n                 if self.output_transaction:\n                     self.stdout.write('\\n' + self.style.SQL_KEYWORD(\"COMMIT;\") + '\\n')\n-        except CommandError, e:\n+        except CommandError as e:\n             if show_traceback:\n                 traceback.print_exc()\n             else:\n@@ -297,7 +297,7 @@ def handle(self, *app_labels, **options):\n             raise CommandError('Enter at least one appname.')\n         try:\n             app_list = [models.get_app(app_label) for app_label in app_labels]\n-        except (ImproperlyConfigured, ImportError), e:\n+        except (ImproperlyConfigured, ImportError) as e:\n             raise CommandError(\"%s. Are you sure your INSTALLED_APPS setting is correct?\" % e)\n         output = []\n         for app in app_list:"
        },
        {
            "sha": "82a126b0fa414f84ea662c56dff92dedaf8e0200",
            "filename": "django/core/management/commands/createcachetable.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -54,7 +54,7 @@ def handle_label(self, tablename, **options):\n         curs = connection.cursor()\n         try:\n             curs.execute(\"\\n\".join(full_statement))\n-        except DatabaseError, e:\n+        except DatabaseError as e:\n             self.stderr.write(\n                 self.style.ERROR(\"Cache table '%s' could not be created.\\nThe error was: %s.\\n\" %\n                     (tablename, e)))"
        },
        {
            "sha": "71d6fa74f15ade52c9cd67245f49e7c5192ad72e",
            "filename": "django/core/management/commands/dumpdata.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -111,7 +111,7 @@ def handle(self, *app_labels, **options):\n         try:\n             return serializers.serialize(format, objects, indent=indent,\n                         use_natural_keys=use_natural_keys)\n-        except Exception, e:\n+        except Exception as e:\n             if show_traceback:\n                 raise\n             raise CommandError(\"Unable to serialize database: %s\" % e)"
        },
        {
            "sha": "ce3c6e856bddcba60b2ae3b8863148c5825736aa",
            "filename": "django/core/management/commands/flush.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -55,7 +55,7 @@ def handle_noargs(self, **options):\n                 cursor = connection.cursor()\n                 for sql in sql_list:\n                     cursor.execute(sql)\n-            except Exception, e:\n+            except Exception as e:\n                 transaction.rollback_unless_managed(using=db)\n                 raise CommandError(\"\"\"Database %s couldn't be flushed. Possible reasons:\n   * The database isn't running or isn't configured correctly."
        },
        {
            "sha": "848b63705acc28229c6587c5c8750f9344d3b5c8",
            "filename": "django/core/management/commands/loaddata.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -190,7 +190,7 @@ def read(self):\n                                             models.add(obj.object.__class__)\n                                             try:\n                                                 obj.save(using=using)\n-                                            except (DatabaseError, IntegrityError), e:\n+                                            except (DatabaseError, IntegrityError) as e:\n                                                 msg = \"Could not load %(app_label)s.%(object_name)s(pk=%(pk)s): %(error_msg)s\" % {\n                                                         'app_label': obj.object._meta.app_label,\n                                                         'object_name': obj.object._meta.object_name,"
        },
        {
            "sha": "e6182198ecf50a4746697f95245e6e49198c87de",
            "filename": "django/core/management/commands/runserver.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -109,7 +109,7 @@ def inner_run(self, *args, **options):\n             handler = self.get_handler(*args, **options)\n             run(self.addr, int(self.port), handler,\n                 ipv6=self.use_ipv6, threading=threading)\n-        except WSGIServerException, e:\n+        except WSGIServerException as e:\n             # Use helpful error messages instead of ugly tracebacks.\n             ERRORS = {\n                 13: \"You don't have permission to access that port.\","
        },
        {
            "sha": "91f0aeca300adc561a35feffdf2cf1838f0e993d",
            "filename": "django/core/management/commands/syncdb.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -37,7 +37,7 @@ def handle_noargs(self, **options):\n         for app_name in settings.INSTALLED_APPS:\n             try:\n                 import_module('.management', app_name)\n-            except ImportError, exc:\n+            except ImportError as exc:\n                 # This is slightly hackish. We want to ignore ImportErrors\n                 # if the \"management\" module itself is missing -- but we don't\n                 # want to ignore the exception if the management module exists\n@@ -125,7 +125,7 @@ def model_installed(model):\n                         try:\n                             for sql in custom_sql:\n                                 cursor.execute(sql)\n-                        except Exception, e:\n+                        except Exception as e:\n                             self.stderr.write(\"Failed to install custom SQL for %s.%s model: %s\\n\" % \\\n                                                 (app_name, model._meta.object_name, e))\n                             if show_traceback:\n@@ -150,7 +150,7 @@ def model_installed(model):\n                         try:\n                             for sql in index_sql:\n                                 cursor.execute(sql)\n-                        except Exception, e:\n+                        except Exception as e:\n                             self.stderr.write(\"Failed to install index for %s.%s model: %s\\n\" % \\\n                                                 (app_name, model._meta.object_name, e))\n                             transaction.rollback_unless_managed(using=db)"
        },
        {
            "sha": "735e29ad7fe686e7a12a927d30262925997fc381",
            "filename": "django/core/management/templates.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Ftemplates.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -81,7 +81,7 @@ def handle(self, app_or_project, name, target=None, **options):\n             top_dir = path.join(os.getcwd(), name)\n             try:\n                 os.makedirs(top_dir)\n-            except OSError, e:\n+            except OSError as e:\n                 if e.errno == errno.EEXIST:\n                     message = \"'%s' already exists\" % top_dir\n                 else:\n@@ -231,7 +231,7 @@ def cleanup_url(url):\n         try:\n             the_path, info = urllib.urlretrieve(url,\n                                                 path.join(tempdir, filename))\n-        except IOError, e:\n+        except IOError as e:\n             raise CommandError(\"couldn't download URL %s to %s: %s\" %\n                                (url, filename, e))\n \n@@ -286,7 +286,7 @@ def extract(self, filename):\n         try:\n             archive.extract(filename, tempdir)\n             return tempdir\n-        except (archive.ArchiveException, IOError), e:\n+        except (archive.ArchiveException, IOError) as e:\n             raise CommandError(\"couldn't extract file %s to %s: %s\" %\n                                (filename, tempdir, e))\n "
        },
        {
            "sha": "eb9fcfbacd4d758023d097cee096c3904e3a076b",
            "filename": "django/core/serializers/json.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fserializers%2Fjson.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fserializers%2Fjson.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fjson.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -45,7 +45,7 @@ def Deserializer(stream_or_string, **options):\n             yield obj\n     except GeneratorExit:\n         raise\n-    except Exception, e:\n+    except Exception as e:\n         # Map to deserializer error\n         raise DeserializationError(e)\n "
        },
        {
            "sha": "dc884a66c7351d682497ac9965c772cad5ea866e",
            "filename": "django/core/serializers/pyyaml.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpyyaml.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -57,6 +57,6 @@ def Deserializer(stream_or_string, **options):\n             yield obj\n     except GeneratorExit:\n         raise\n-    except Exception, e:\n+    except Exception as e:\n         # Map to deserializer error\n         raise DeserializationError(e)"
        },
        {
            "sha": "82c5aca149133b35f05ca2fdb724dffacd3497f4",
            "filename": "django/core/servers/basehttp.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fservers%2Fbasehttp.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fservers%2Fbasehttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Fbasehttp.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -48,13 +48,13 @@ def get_internal_wsgi_application():\n     module_name, attr = app_path.rsplit('.', 1)\n     try:\n         mod = import_module(module_name)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured(\n             \"WSGI application '%s' could not be loaded; \"\n             \"could not import module '%s': %s\" % (app_path, module_name, e))\n     try:\n         app = getattr(mod, attr)\n-    except AttributeError, e:\n+    except AttributeError as e:\n         raise ImproperlyConfigured(\n             \"WSGI application '%s' could not be loaded; \"\n             \"can't find '%s' in module '%s': %s\"\n@@ -118,7 +118,7 @@ def server_bind(self):\n         \"\"\"Override server_bind to store the server name.\"\"\"\n         try:\n             super(WSGIServer, self).server_bind()\n-        except Exception, e:\n+        except Exception as e:\n             raise WSGIServerException(e)\n         self.setup_environ()\n "
        },
        {
            "sha": "9c652a74ef98384cd3b117cf1f65c463f13b411a",
            "filename": "django/core/servers/fastcgi.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fservers%2Ffastcgi.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fservers%2Ffastcgi.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Ffastcgi.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -102,7 +102,7 @@ def runfastcgi(argset=[], **kwargs):\n \n     try:\n         import flup\n-    except ImportError, e:\n+    except ImportError as e:\n         print >> sys.stderr, \"ERROR: %s\" % e\n         print >> sys.stderr, \"  Unable to load the flup package.  In order to run django\"\n         print >> sys.stderr, \"  as a FastCGI application, you will need to get flup from\""
        },
        {
            "sha": "cd9759e536ca1e11cb52ef157b6bdcb191f7149c",
            "filename": "django/core/signing.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fsigning.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fsigning.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fsigning.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -77,12 +77,12 @@ def get_cookie_signer(salt='django.core.signing.get_cookie_signer'):\n     module, attr = modpath.rsplit('.', 1)\n     try:\n         mod = import_module(module)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured(\n             'Error importing cookie signer %s: \"%s\"' % (modpath, e))\n     try:\n         Signer = getattr(mod, attr)\n-    except AttributeError, e:\n+    except AttributeError as e:\n         raise ImproperlyConfigured(\n             'Error importing cookie signer %s: \"%s\"' % (modpath, e))\n     return Signer('django.http.cookies' + settings.SECRET_KEY, salt=salt)"
        },
        {
            "sha": "aadd290c339c790f603bbd44709352b834c99f5d",
            "filename": "django/core/urlresolvers.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Furlresolvers.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Furlresolvers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Furlresolvers.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -298,7 +298,7 @@ def resolve(self, path):\n             for pattern in self.url_patterns:\n                 try:\n                     sub_match = pattern.resolve(new_path)\n-                except Resolver404, e:\n+                except Resolver404 as e:\n                     sub_tried = e.args[0].get('tried')\n                     if sub_tried is not None:\n                         tried.extend([[pattern] + t for t in sub_tried])\n@@ -358,7 +358,7 @@ def _reverse_with_prefix(self, lookup_view, _prefix, *args, **kwargs):\n             raise ValueError(\"Don't mix *args and **kwargs in call to reverse()!\")\n         try:\n             lookup_view = get_callable(lookup_view, True)\n-        except (ImportError, AttributeError), e:\n+        except (ImportError, AttributeError) as e:\n             raise NoReverseMatch(\"Error importing '%s': %s.\" % (lookup_view, e))\n         possibilities = self.reverse_dict.getlist(lookup_view)\n         prefix_norm, prefix_args = normalize(_prefix)[0]\n@@ -462,7 +462,7 @@ def reverse(viewname, urlconf=None, args=None, kwargs=None, prefix=None, current\n                 extra, resolver = resolver.namespace_dict[ns]\n                 resolved_path.append(ns)\n                 ns_pattern = ns_pattern + extra\n-            except KeyError, key:\n+            except KeyError as key:\n                 if resolved_path:\n                     raise NoReverseMatch(\n                         \"%s is not a registered namespace inside '%s'\" %"
        },
        {
            "sha": "3d4bcc86c8f411bde3cfb50f4d5e2f5162fd6509",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -45,7 +45,7 @@ class URLValidator(RegexValidator):\n     def __call__(self, value):\n         try:\n             super(URLValidator, self).__call__(value)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             # Trivial case failed. Try for possible IDN domain\n             if value:\n                 value = smart_unicode(value)\n@@ -73,7 +73,7 @@ class EmailValidator(RegexValidator):\n     def __call__(self, value):\n         try:\n             super(EmailValidator, self).__call__(value)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             # Trivial case failed. Try for possible IDN domain-part\n             if value and u'@' in value:\n                 parts = value.split(u'@')"
        },
        {
            "sha": "e672253009bc3ceaf93d402c9d0c10d43153f688",
            "filename": "django/db/backends/creation.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fcreation.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fcreation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fcreation.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -329,7 +329,7 @@ def _create_test_db(self, verbosity, autoclobber):\n         try:\n             cursor.execute(\n                 \"CREATE DATABASE %s %s\" % (qn(test_database_name), suffix))\n-        except Exception, e:\n+        except Exception as e:\n             sys.stderr.write(\n                 \"Got an error creating the test database: %s\\n\" % e)\n             if not autoclobber:\n@@ -346,7 +346,7 @@ def _create_test_db(self, verbosity, autoclobber):\n                     cursor.execute(\n                         \"CREATE DATABASE %s %s\" % (qn(test_database_name),\n                                                    suffix))\n-                except Exception, e:\n+                except Exception as e:\n                     sys.stderr.write(\n                         \"Got an error recreating the test database: %s\\n\" % e)\n                     sys.exit(2)"
        },
        {
            "sha": "ecbb02f31dd77c2d5edca3e4e94aad07813cce5a",
            "filename": "django/db/backends/mysql/base.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -11,7 +11,7 @@\n \n try:\n     import MySQLdb as Database\n-except ImportError, e:\n+except ImportError as e:\n     from django.core.exceptions import ImproperlyConfigured\n     raise ImproperlyConfigured(\"Error loading MySQLdb module: %s\" % e)\n \n@@ -114,29 +114,29 @@ def __init__(self, cursor):\n     def execute(self, query, args=None):\n         try:\n             return self.cursor.execute(query, args)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.OperationalError, e:\n+        except Database.OperationalError as e:\n             # Map some error codes to IntegrityError, since they seem to be\n             # misclassified and Django would prefer the more logical place.\n             if e[0] in self.codes_for_integrityerror:\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def executemany(self, query, args):\n         try:\n             return self.cursor.executemany(query, args)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.OperationalError, e:\n+        except Database.OperationalError as e:\n             # Map some error codes to IntegrityError, since they seem to be\n             # misclassified and Django would prefer the more logical place.\n             if e[0] in self.codes_for_integrityerror:\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def __getattr__(self, attr):"
        },
        {
            "sha": "9c91baaca72bdb4fdf99895875cd438c86b4aacd",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -18,7 +18,7 @@ def _setup_environment(environ):\n     if platform.system().upper().startswith('CYGWIN'):\n         try:\n             import ctypes\n-        except ImportError, e:\n+        except ImportError as e:\n             from django.core.exceptions import ImproperlyConfigured\n             raise ImproperlyConfigured(\"Error loading ctypes: %s; \"\n                                        \"the Oracle backend requires ctypes to \"\n@@ -41,7 +41,7 @@ def _setup_environment(environ):\n \n try:\n     import cx_Oracle as Database\n-except ImportError, e:\n+except ImportError as e:\n     from django.core.exceptions import ImproperlyConfigured\n     raise ImproperlyConfigured(\"Error loading cx_Oracle module: %s\" % e)\n \n@@ -532,11 +532,11 @@ def _commit(self):\n         if self.connection is not None:\n             try:\n                 return self.connection.commit()\n-            except Database.IntegrityError, e:\n+            except Database.IntegrityError as e:\n                 # In case cx_Oracle implements (now or in a future version)\n                 # raising this specific exception\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-            except Database.DatabaseError, e:\n+            except Database.DatabaseError as e:\n                 # cx_Oracle 5.0.4 raises a cx_Oracle.DatabaseError exception\n                 # with the following attributes and values:\n                 #  code = 2091\n@@ -673,9 +673,9 @@ def execute(self, query, params=None):\n         self._guess_input_sizes([params])\n         try:\n             return self.cursor.execute(query, self._param_generator(params))\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             # cx_Oracle <= 4.4.0 wrongly raises a DatabaseError for ORA-01400.\n             if hasattr(e.args[0], 'code') and e.args[0].code == 1400 and not isinstance(e, IntegrityError):\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n@@ -702,9 +702,9 @@ def executemany(self, query, params=None):\n         try:\n             return self.cursor.executemany(query,\n                                 [self._param_generator(p) for p in formatted])\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             # cx_Oracle <= 4.4.0 wrongly raises a DatabaseError for ORA-01400.\n             if hasattr(e.args[0], 'code') and e.args[0].code == 1400 and not isinstance(e, IntegrityError):\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]"
        },
        {
            "sha": "758c9ecd4afda7bb27307736a544bfc5b77e33f0",
            "filename": "django/db/backends/oracle/creation.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -62,7 +62,7 @@ def _create_test_db(self, verbosity=1, autoclobber=False):\n         if self._test_database_create():\n             try:\n                 self._execute_test_db_creation(cursor, parameters, verbosity)\n-            except Exception, e:\n+            except Exception as e:\n                 sys.stderr.write(\"Got an error creating the test database: %s\\n\" % e)\n                 if not autoclobber:\n                     confirm = raw_input(\"It appears the test database, %s, already exists. Type 'yes' to delete it, or 'no' to cancel: \" % TEST_NAME)\n@@ -72,7 +72,7 @@ def _create_test_db(self, verbosity=1, autoclobber=False):\n                             print \"Destroying old test database '%s'...\" % self.connection.alias\n                         self._execute_test_db_destruction(cursor, parameters, verbosity)\n                         self._execute_test_db_creation(cursor, parameters, verbosity)\n-                    except Exception, e:\n+                    except Exception as e:\n                         sys.stderr.write(\"Got an error recreating the test database: %s\\n\" % e)\n                         sys.exit(2)\n                 else:\n@@ -84,7 +84,7 @@ def _create_test_db(self, verbosity=1, autoclobber=False):\n                 print \"Creating test user...\"\n             try:\n                 self._create_test_user(cursor, parameters, verbosity)\n-            except Exception, e:\n+            except Exception as e:\n                 sys.stderr.write(\"Got an error creating the test user: %s\\n\" % e)\n                 if not autoclobber:\n                     confirm = raw_input(\"It appears the test user, %s, already exists. Type 'yes' to delete it, or 'no' to cancel: \" % TEST_USER)\n@@ -96,7 +96,7 @@ def _create_test_db(self, verbosity=1, autoclobber=False):\n                         if verbosity >= 1:\n                             print \"Creating test user...\"\n                         self._create_test_user(cursor, parameters, verbosity)\n-                    except Exception, e:\n+                    except Exception as e:\n                         sys.stderr.write(\"Got an error recreating the test user: %s\\n\" % e)\n                         sys.exit(2)\n                 else:\n@@ -197,7 +197,7 @@ def _execute_statements(self, cursor, statements, parameters, verbosity):\n                 print stmt\n             try:\n                 cursor.execute(stmt)\n-            except Exception, err:\n+            except Exception as err:\n                 sys.stderr.write(\"Failed (%s)\\n\" % (err))\n                 raise\n "
        },
        {
            "sha": "61be680d838456f0ae5e572c9b21d335a6ae8078",
            "filename": "django/db/backends/postgresql_psycopg2/base.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -20,7 +20,7 @@\n try:\n     import psycopg2 as Database\n     import psycopg2.extensions\n-except ImportError, e:\n+except ImportError as e:\n     from django.core.exceptions import ImproperlyConfigured\n     raise ImproperlyConfigured(\"Error loading psycopg2 module: %s\" % e)\n \n@@ -50,17 +50,17 @@ def __init__(self, cursor):\n     def execute(self, query, args=None):\n         try:\n             return self.cursor.execute(query, args)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def executemany(self, query, args):\n         try:\n             return self.cursor.executemany(query, args)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def __getattr__(self, attr):\n@@ -233,5 +233,5 @@ def _commit(self):\n         if self.connection is not None:\n             try:\n                 return self.connection.commit()\n-            except Database.IntegrityError, e:\n+            except Database.IntegrityError as e:\n                 raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]"
        },
        {
            "sha": "7ce9dd38eb75e980b4fbebca3cc0d74a0d8c070b",
            "filename": "django/db/backends/sqlite3/base.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -24,9 +24,9 @@\n try:\n     try:\n         from pysqlite2 import dbapi2 as Database\n-    except ImportError, e1:\n+    except ImportError:\n         from sqlite3 import dbapi2 as Database\n-except ImportError, exc:\n+except ImportError as exc:\n     from django.core.exceptions import ImproperlyConfigured\n     raise ImproperlyConfigured(\"Error loading either pysqlite2 or sqlite3 modules (tried in that order): %s\" % exc)\n \n@@ -335,18 +335,18 @@ def execute(self, query, params=()):\n         query = self.convert_query(query)\n         try:\n             return Database.Cursor.execute(self, query, params)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def executemany(self, query, param_list):\n         query = self.convert_query(query)\n         try:\n             return Database.Cursor.executemany(self, query, param_list)\n-        except Database.IntegrityError, e:\n+        except Database.IntegrityError as e:\n             raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-        except Database.DatabaseError, e:\n+        except Database.DatabaseError as e:\n             raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n \n     def convert_query(self, query):"
        },
        {
            "sha": "9e660fa387dfed2c6c386ea30048b62b5afbccd3",
            "filename": "django/db/backends/sqlite3/creation.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fsqlite3%2Fcreation.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fbackends%2Fsqlite3%2Fcreation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fcreation.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -57,7 +57,7 @@ def _create_test_db(self, verbosity, autoclobber):\n                 if autoclobber or confirm == 'yes':\n                   try:\n                       os.remove(test_database_name)\n-                  except Exception, e:\n+                  except Exception as e:\n                       sys.stderr.write(\"Got an error deleting the old test database: %s\\n\" % e)\n                       sys.exit(2)\n                 else:"
        },
        {
            "sha": "7df4f6d7321d8240717942c25165e083ecb6b596",
            "filename": "django/db/models/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -805,14 +805,14 @@ def full_clean(self, exclude=None):\n \n         try:\n             self.clean_fields(exclude=exclude)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             errors = e.update_error_dict(errors)\n \n         # Form.clean() is run even if other validation fails, so do the\n         # same with Model.clean() for consistency.\n         try:\n             self.clean()\n-        except ValidationError, e:\n+        except ValidationError as e:\n             errors = e.update_error_dict(errors)\n \n         # Run unique checks, but only for fields that passed validation.\n@@ -821,7 +821,7 @@ def full_clean(self, exclude=None):\n                 exclude.append(name)\n         try:\n             self.validate_unique(exclude=exclude)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             errors = e.update_error_dict(errors)\n \n         if errors:\n@@ -846,7 +846,7 @@ def clean_fields(self, exclude=None):\n                 continue\n             try:\n                 setattr(self, f.attname, f.clean(raw_value, self))\n-            except ValidationError, e:\n+            except ValidationError as e:\n                 errors[f.name] = e.messages\n \n         if errors:"
        },
        {
            "sha": "3e97f6cb013c783baf76ca53a818c637c74845d9",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -147,7 +147,7 @@ def run_validators(self, value):\n         for v in self.validators:\n             try:\n                 v(value)\n-            except exceptions.ValidationError, e:\n+            except exceptions.ValidationError as e:\n                 if hasattr(e, 'code') and e.code in self.error_messages:\n                     message = self.error_messages[e.code]\n                     if e.params:"
        },
        {
            "sha": "e3c55766901c1d0e6b07ee08516abc5d0a2c5494",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -206,7 +206,7 @@ def __getitem__(self, k):\n             qs = self._clone()\n             qs.query.set_limits(k, k + 1)\n             return list(qs)[0]\n-        except self.model.DoesNotExist, e:\n+        except self.model.DoesNotExist as e:\n             raise IndexError(e.args)\n \n     def __and__(self, other):\n@@ -454,7 +454,7 @@ def get_or_create(self, **kwargs):\n                 obj.save(force_insert=True, using=self.db)\n                 transaction.savepoint_commit(sid, using=self.db)\n                 return obj, True\n-            except IntegrityError, e:\n+            except IntegrityError as e:\n                 transaction.savepoint_rollback(sid, using=self.db)\n                 exc_info = sys.exc_info()\n                 try:"
        },
        {
            "sha": "497cdb9f60fbb455f597cff1f94f69fc3e7e4321",
            "filename": "django/db/models/sql/query.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fquery.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -1112,7 +1112,7 @@ def add_filter(self, filter_expr, connector=AND, negate=False, trim=False,\n                     parts, opts, alias, True, allow_many, allow_explicit_fk=True,\n                     can_reuse=can_reuse, negate=negate,\n                     process_extras=process_extras)\n-        except MultiJoin, e:\n+        except MultiJoin as e:\n             self.split_exclude(filter_expr, LOOKUP_SEP.join(parts[:e.level]),\n                     can_reuse)\n             return"
        },
        {
            "sha": "2b6ae2cf2e938726b47f573c9585e49baec01b31",
            "filename": "django/db/utils.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdb%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Futils.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -22,7 +22,7 @@ def load_backend(backend_name):\n     # Look for a fully qualified database backend name\n     try:\n         return import_module('.base', backend_name)\n-    except ImportError, e_user:\n+    except ImportError as e_user:\n         # The database backend wasn't found. Display a helpful error message\n         # listing all possible (built-in) database backends.\n         backend_dir = os.path.join(os.path.dirname(__file__), 'backends')\n@@ -112,7 +112,7 @@ def __init__(self, routers):\n                 try:\n                     module_name, klass_name = r.rsplit('.', 1)\n                     module = import_module(module_name)\n-                except ImportError, e:\n+                except ImportError as e:\n                     raise ImproperlyConfigured('Error importing database router %s: \"%s\"' % (klass_name, e))\n                 try:\n                     router_class = getattr(module, klass_name)"
        },
        {
            "sha": "0903c3a8a9edb1e987ac60d1da1c1ecf6fd5c684",
            "filename": "django/dispatch/dispatcher.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdispatch%2Fdispatcher.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdispatch%2Fdispatcher.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdispatch%2Fdispatcher.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -205,7 +205,7 @@ def send_robust(self, sender, **named):\n         for receiver in self._live_receivers(_make_id(sender)):\n             try:\n                 response = receiver(signal=self, sender=sender, **named)\n-            except Exception, err:\n+            except Exception as err:\n                 responses.append((receiver, err))\n             else:\n                 responses.append((receiver, response))"
        },
        {
            "sha": "364c13e43b84428157954f67f8e8f046342e2e3d",
            "filename": "django/dispatch/saferef.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdispatch%2Fsaferef.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fdispatch%2Fsaferef.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdispatch%2Fsaferef.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -119,10 +119,10 @@ def remove(weak, self=self):\n                 try:\n                     if callable( function ):\n                         function( self )\n-                except Exception, e:\n+                except Exception as e:\n                     try:\n                         traceback.print_exc()\n-                    except AttributeError, err:\n+                    except AttributeError as err:\n                         print '''Exception during saferef %s cleanup function %s: %s'''%(\n                             self, function, e\n                         )"
        },
        {
            "sha": "39f8f9c846a57fc6e1559c53b4b042ab780b3bf5",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -132,7 +132,7 @@ def run_validators(self, value):\n         for v in self.validators:\n             try:\n                 v(value)\n-            except ValidationError, e:\n+            except ValidationError as e:\n                 if hasattr(e, 'code') and e.code in self.error_messages:\n                     message = self.error_messages[e.code]\n                     if e.params:\n@@ -884,7 +884,7 @@ def clean(self, value):\n                 raise ValidationError(self.error_messages['required'])\n             try:\n                 clean_data.append(field.clean(field_value))\n-            except ValidationError, e:\n+            except ValidationError as e:\n                 # Collect all validation errors in a single list, which we'll\n                 # raise at the end of clean(), rather than raising a single\n                 # exception for the first error we encounter."
        },
        {
            "sha": "09663d173c32b661c98f819d02062dfde5b0c9f1",
            "filename": "django/forms/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fforms.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -289,15 +289,15 @@ def _clean_fields(self):\n                 if hasattr(self, 'clean_%s' % name):\n                     value = getattr(self, 'clean_%s' % name)()\n                     self.cleaned_data[name] = value\n-            except ValidationError, e:\n+            except ValidationError as e:\n                 self._errors[name] = self.error_class(e.messages)\n                 if name in self.cleaned_data:\n                     del self.cleaned_data[name]\n \n     def _clean_form(self):\n         try:\n             self.cleaned_data = self.clean()\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self._errors[NON_FIELD_ERRORS] = self.error_class(e.messages)\n \n     def _post_clean(self):"
        },
        {
            "sha": "739a9d44e37a403b4927e2aebe9fbedc72133f37",
            "filename": "django/forms/formsets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fformsets.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -291,7 +291,7 @@ def full_clean(self):\n         # Give self.clean() a chance to do cross-form validation.\n         try:\n             self.clean()\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self._non_form_errors = self.error_class(e.messages)\n \n     def clean(self):"
        },
        {
            "sha": "ea80f8d8556d81ab2b0890810864b027ea1e7c5c",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -324,13 +324,13 @@ def _post_clean(self):\n         # Clean the model instance's fields.\n         try:\n             self.instance.clean_fields(exclude=exclude)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self._update_errors(e.message_dict)\n \n         # Call the model instance's clean method.\n         try:\n             self.instance.clean()\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self._update_errors({NON_FIELD_ERRORS: e.messages})\n \n         # Validate uniqueness if needed.\n@@ -345,7 +345,7 @@ def validate_unique(self):\n         exclude = self._get_validation_exclusions()\n         try:\n             self.instance.validate_unique(exclude=exclude)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self._update_errors(e.message_dict)\n \n     def save(self, commit=True):"
        },
        {
            "sha": "66904425346b1c9afd95bf909ca83a812766b19c",
            "filename": "django/forms/util.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fforms%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Futil.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -66,7 +66,7 @@ def from_current_timezone(value):\n         current_timezone = timezone.get_current_timezone()\n         try:\n             return timezone.make_aware(value, current_timezone)\n-        except Exception, e:\n+        except Exception:\n             raise ValidationError(_('%(datetime)s couldn\\'t be interpreted '\n                                     'in time zone %(current_timezone)s; it '\n                                     'may be ambiguous or it may not exist.')"
        },
        {
            "sha": "382f3c3f172717a2fa83f56aa719e8fcf08f114c",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -290,7 +290,7 @@ def body(self):\n                 raise Exception(\"You cannot access body after reading from request's data stream\")\n             try:\n                 self._body = self.read()\n-            except IOError, e:\n+            except IOError as e:\n                 raise UnreadablePostError, e, sys.exc_traceback\n             self._stream = StringIO(self._body)\n         return self._body\n@@ -556,7 +556,7 @@ def _convert_to_ascii(self, *values):\n             if isinstance(value, unicode):\n                 try:\n                     value = value.encode('us-ascii')\n-                except UnicodeError, e:\n+                except UnicodeError as e:\n                     e.reason += ', HTTP response headers must be in US-ASCII format'\n                     raise\n             else:"
        },
        {
            "sha": "024e11a09c37dd1fc82efb7cd6adc1340ac9a2d1",
            "filename": "django/http/multipartparser.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fhttp%2Fmultipartparser.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fhttp%2Fmultipartparser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2Fmultipartparser.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -196,7 +196,7 @@ def parse(self):\n                                 # We only special-case base64 transfer encoding\n                                 try:\n                                     chunk = str(chunk).decode('base64')\n-                                except Exception, e:\n+                                except Exception as e:\n                                     # Since this is only a chunk, any error is an unfixable error.\n                                     raise MultiPartParserError(\"Could not decode base64 data: %r\" % e)\n \n@@ -209,7 +209,7 @@ def parse(self):\n                                     # If the chunk received by the handler is None, then don't continue.\n                                     break\n \n-                    except SkipFile, e:\n+                    except SkipFile:\n                         # Just use up the rest of this file...\n                         exhaust(field_stream)\n                     else:\n@@ -218,7 +218,7 @@ def parse(self):\n                 else:\n                     # If this is neither a FIELD or a FILE, just exhaust the stream.\n                     exhaust(stream)\n-        except StopUpload, e:\n+        except StopUpload as e:\n             if not e.connection_reset:\n                 exhaust(self._input_data)\n         else:"
        },
        {
            "sha": "16b0934aca7b34f4fa266c97fb91f44120b32640",
            "filename": "django/template/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fbase.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -265,7 +265,7 @@ def parse(self, parse_until=None):\n                     self.invalid_block_tag(token, command, parse_until)\n                 try:\n                     compiled_result = compile_func(self, token)\n-                except TemplateSyntaxError, e:\n+                except TemplateSyntaxError as e:\n                     if not self.compile_function_error(token, e):\n                         raise\n                 self.extend_nodelist(nodelist, compiled_result, token)\n@@ -774,7 +774,7 @@ def _resolve_lookup(self, context):\n                             # GOTCHA: This will also catch any TypeError\n                             # raised in the function itself.\n                             current = settings.TEMPLATE_STRING_IF_INVALID  # invalid method call\n-        except Exception, e:\n+        except Exception as e:\n             if getattr(e, 'silent_variable_failure', False):\n                 current = settings.TEMPLATE_STRING_IF_INVALID\n             else:\n@@ -1237,7 +1237,7 @@ def import_library(taglib_module):\n     \"\"\"\n     try:\n         mod = import_module(taglib_module)\n-    except ImportError, e:\n+    except ImportError as e:\n         # If the ImportError is because the taglib submodule does not exist,\n         # that's not an error that should be raised. If the submodule exists\n         # and raised an ImportError on the attempt to load it, that we want"
        },
        {
            "sha": "81aa1944471089c710c172d1c2b87bc50492b219",
            "filename": "django/template/context.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fcontext.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fcontext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fcontext.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -150,7 +150,7 @@ def get_standard_processors():\n             module, attr = path[:i], path[i+1:]\n             try:\n                 mod = import_module(module)\n-            except ImportError, e:\n+            except ImportError as e:\n                 raise ImproperlyConfigured('Error importing request processor module %s: \"%s\"' % (module, e))\n             try:\n                 func = getattr(mod, attr)"
        },
        {
            "sha": "61674034d62dd40a9bcd3d7f51895a99673f0ac8",
            "filename": "django/template/debug.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdebug.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -72,7 +72,7 @@ class DebugNodeList(NodeList):\n     def render_node(self, node, context):\n         try:\n             return node.render(context)\n-        except Exception, e:\n+        except Exception as e:\n             if not hasattr(e, 'django_template_source'):\n                 e.django_template_source = node.source\n             raise\n@@ -87,7 +87,7 @@ def render(self, context):\n             output = force_unicode(output)\n         except UnicodeDecodeError:\n             return ''\n-        except Exception, e:\n+        except Exception as e:\n             if not hasattr(e, 'django_template_source'):\n                 e.django_template_source = self.source\n             raise"
        },
        {
            "sha": "55aa10d29d74258a7061040bf8b8a675ae016a30",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -892,5 +892,5 @@ def pprint(value):\n     \"\"\"A wrapper around pprint.pprint -- for debugging, really.\"\"\"\n     try:\n         return pformat(value)\n-    except Exception, e:\n+    except Exception as e:\n         return u\"Error in formatting: %s\" % force_unicode(e, errors=\"replace\")"
        },
        {
            "sha": "5644c17055c902dd4bdfc55d2fbe9bf5ac4befdd",
            "filename": "django/template/defaulttags.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdefaulttags.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Fdefaulttags.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaulttags.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -183,7 +183,7 @@ def render(self, context):\n                 for node in self.nodelist_loop:\n                     try:\n                         nodelist.append(node.render(context))\n-                    except Exception, e:\n+                    except Exception as e:\n                         if not hasattr(e, 'django_template_source'):\n                             e.django_template_source = node.source\n                         raise\n@@ -337,7 +337,7 @@ def render(self, context):\n             try:\n                 t = Template(output, name=filepath)\n                 return t.render(context)\n-            except TemplateSyntaxError, e:\n+            except TemplateSyntaxError as e:\n                 if settings.DEBUG:\n                     return \"[Included template had syntax error: %s]\" % e\n                 else:\n@@ -403,7 +403,7 @@ def render(self, context):\n         url = ''\n         try:\n             url = reverse(view_name, args=args, kwargs=kwargs, current_app=context.current_app)\n-        except NoReverseMatch, e:\n+        except NoReverseMatch as e:\n             if settings.SETTINGS_MODULE:\n                 project_name = settings.SETTINGS_MODULE.split('.')[0]\n                 try:\n@@ -1005,7 +1005,7 @@ def load(parser, token):\n         try:\n             taglib = bits[-1]\n             lib = get_library(taglib)\n-        except InvalidTemplateLibrary, e:\n+        except InvalidTemplateLibrary as e:\n             raise TemplateSyntaxError(\"'%s' is not a valid tag library: %s\" %\n                                       (taglib, e))\n         else:\n@@ -1028,7 +1028,7 @@ def load(parser, token):\n             try:\n                 lib = get_library(taglib)\n                 parser.add_library(lib)\n-            except InvalidTemplateLibrary, e:\n+            except InvalidTemplateLibrary as e:\n                 raise TemplateSyntaxError(\"'%s' is not a valid tag library: %s\" %\n                                           (taglib, e))\n     return LoadNode()"
        },
        {
            "sha": "b6d62cc2b00010aea457b3a32495e24c2bd1f6f7",
            "filename": "django/template/loader.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Floader.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Floader.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Floader.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -93,11 +93,11 @@ def find_template_loader(loader):\n         module, attr = loader.rsplit('.', 1)\n         try:\n             mod = import_module(module)\n-        except ImportError, e:\n+        except ImportError as e:\n             raise ImproperlyConfigured('Error importing template source loader %s: \"%s\"' % (loader, e))\n         try:\n             TemplateLoader = getattr(mod, attr)\n-        except AttributeError, e:\n+        except AttributeError as e:\n             raise ImproperlyConfigured('Error importing template source loader %s: \"%s\"' % (loader, e))\n \n         if hasattr(TemplateLoader, 'load_template_source'):\n@@ -185,7 +185,7 @@ def select_template(template_name_list):\n     for template_name in template_name_list:\n         try:\n             return get_template(template_name)\n-        except TemplateDoesNotExist, e:\n+        except TemplateDoesNotExist as e:\n             if e.args[0] not in not_found:\n                 not_found.append(e.args[0])\n             continue"
        },
        {
            "sha": "1ddb18e06a7490e19e286c02032e2d8074769fff",
            "filename": "django/template/loaders/app_directories.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Floaders%2Fapp_directories.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftemplate%2Floaders%2Fapp_directories.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Floaders%2Fapp_directories.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -19,7 +19,7 @@\n for app in settings.INSTALLED_APPS:\n     try:\n         mod = import_module(app)\n-    except ImportError, e:\n+    except ImportError as e:\n         raise ImproperlyConfigured('ImportError %s: %s' % (app, e.args[0]))\n     template_dir = os.path.join(os.path.dirname(mod.__file__), 'templates')\n     if os.path.isdir(template_dir):"
        },
        {
            "sha": "af2f409e328fdfd6cbb02d77ffe81403a003abee",
            "filename": "django/test/_doctest.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2F_doctest.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2F_doctest.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2F_doctest.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -1626,7 +1626,7 @@ class DebugRunner(DocTestRunner):\n          ...                                    {}, 'foo', 'foo.py', 0)\n          >>> try:\n          ...     runner.run(test)\n-         ... except UnexpectedException, failure:\n+         ... except UnexpectedException as failure:\n          ...     pass\n \n          >>> failure.test is test\n@@ -1654,7 +1654,7 @@ class DebugRunner(DocTestRunner):\n \n          >>> try:\n          ...    runner.run(test)\n-         ... except DocTestFailure, failure:\n+         ... except DocTestFailure as failure:\n          ...    pass\n \n        DocTestFailure objects provide access to the test:\n@@ -2164,7 +2164,7 @@ def debug(self):\n              >>> case = DocTestCase(test)\n              >>> try:\n              ...     case.debug()\n-             ... except UnexpectedException, failure:\n+             ... except UnexpectedException as failure:\n              ...     pass\n \n            The UnexpectedException contains the test, the example, and\n@@ -2193,7 +2193,7 @@ def debug(self):\n \n              >>> try:\n              ...    case.debug()\n-             ... except DocTestFailure, failure:\n+             ... except DocTestFailure as failure:\n              ...    pass\n \n            DocTestFailure objects provide access to the test:"
        },
        {
            "sha": "807b4cc55e809b5f64f44a91fd6efa8729de5054",
            "filename": "django/test/client.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2Fclient.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2Fclient.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fclient.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -378,7 +378,7 @@ def request(self, **request):\n \n             try:\n                 response = self.handler(environ)\n-            except TemplateDoesNotExist, e:\n+            except TemplateDoesNotExist as e:\n                 # If the view raises an exception, Django will attempt to show\n                 # the 500.html template. If that template is not available,\n                 # we should ignore the error in favor of re-raising the"
        },
        {
            "sha": "c9fe1b3a864f71a6f8bf272eff79f8532434277f",
            "filename": "django/test/testcases.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2Ftestcases.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Ftest%2Ftestcases.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Ftestcases.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -84,7 +84,7 @@ def restore_transaction_methods():\n def assert_and_parse_html(self, html, user_msg, msg):\n     try:\n         dom = parse_html(html)\n-    except HTMLParseError, e:\n+    except HTMLParseError as e:\n         standardMsg = u'%s\\n%s' % (msg, e.msg)\n         self.fail(self._formatMessage(user_msg, standardMsg))\n     return dom\n@@ -1035,7 +1035,7 @@ def run(self):\n                 try:\n                     self.httpd = StoppableWSGIServer(\n                         (self.host, port), QuietWSGIRequestHandler)\n-                except WSGIServerException, e:\n+                except WSGIServerException as e:\n                     if (index + 1 < len(self.possible_ports) and\n                         e.args[0].errno == errno.EADDRINUSE):\n                         # This port is already in use, so we go on and try with\n@@ -1054,7 +1054,7 @@ def run(self):\n             self.httpd.set_app(handler)\n             self.is_ready.set()\n             self.httpd.serve_forever()\n-        except Exception, e:\n+        except Exception as e:\n             self.error = e\n             self.is_ready.set()\n "
        },
        {
            "sha": "a9d5128b338321fe07008dae5337e8f4037674c6",
            "filename": "django/utils/daemonize.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdaemonize.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdaemonize.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdaemonize.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -9,7 +9,7 @@ def become_daemon(our_home_dir='.', out_log='/dev/null',\n         try:\n             if os.fork() > 0:\n                 sys.exit(0)     # kill off parent\n-        except OSError, e:\n+        except OSError as e:\n             sys.stderr.write(\"fork #1 failed: (%d) %s\\n\" % (e.errno, e.strerror))\n             sys.exit(1)\n         os.setsid()\n@@ -20,7 +20,7 @@ def become_daemon(our_home_dir='.', out_log='/dev/null',\n         try:\n             if os.fork() > 0:\n                 os._exit(0)\n-        except OSError, e:\n+        except OSError as e:\n             sys.stderr.write(\"fork #2 failed: (%d) %s\\n\" % (e.errno, e.strerror))\n             os._exit(1)\n "
        },
        {
            "sha": "e653a736afb344abc3d668384cc1c77e70531bfe",
            "filename": "django/utils/decorators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdecorators.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdecorators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdecorators.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -89,7 +89,7 @@ def _wrapped_view(request, *args, **kwargs):\n                         return result\n                 try:\n                     response = view_func(request, *args, **kwargs)\n-                except Exception, e:\n+                except Exception as e:\n                     if hasattr(middleware, 'process_exception'):\n                         result = middleware.process_exception(request, e)\n                         if result is not None:"
        },
        {
            "sha": "ae797afcc526a0d75ce417b9a2ac446fd839b1ab",
            "filename": "django/utils/dictconfig.py",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdictconfig.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fdictconfig.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdictconfig.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -297,21 +297,21 @@ def configure(self):\n                                 level = handler_config.get('level', None)\n                                 if level:\n                                     handler.setLevel(_checkLevel(level))\n-                            except StandardError, e:\n+                            except StandardError as e:\n                                 raise ValueError('Unable to configure handler '\n                                                  '%r: %s' % (name, e))\n                 loggers = config.get('loggers', EMPTY_DICT)\n                 for name in loggers:\n                     try:\n                         self.configure_logger(name, loggers[name], True)\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure logger '\n                                          '%r: %s' % (name, e))\n                 root = config.get('root', None)\n                 if root:\n                     try:\n                         self.configure_root(root, True)\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure root '\n                                          'logger: %s' % e)\n             else:\n@@ -326,15 +326,15 @@ def configure(self):\n                     try:\n                         formatters[name] = self.configure_formatter(\n                                                             formatters[name])\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure '\n                                          'formatter %r: %s' % (name, e))\n                 # Next, do filters - they don't refer to anything else, either\n                 filters = config.get('filters', EMPTY_DICT)\n                 for name in filters:\n                     try:\n                         filters[name] = self.configure_filter(filters[name])\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure '\n                                          'filter %r: %s' % (name, e))\n \n@@ -347,7 +347,7 @@ def configure(self):\n                         handler = self.configure_handler(handlers[name])\n                         handler.name = name\n                         handlers[name] = handler\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure handler '\n                                          '%r: %s' % (name, e))\n                 # Next, do loggers - they refer to handlers and filters\n@@ -386,7 +386,7 @@ def configure(self):\n                         existing.remove(name)\n                     try:\n                         self.configure_logger(name, loggers[name])\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure logger '\n                                          '%r: %s' % (name, e))\n \n@@ -409,7 +409,7 @@ def configure(self):\n                 if root:\n                     try:\n                         self.configure_root(root)\n-                    except StandardError, e:\n+                    except StandardError as e:\n                         raise ValueError('Unable to configure root '\n                                          'logger: %s' % e)\n         finally:\n@@ -421,7 +421,7 @@ def configure_formatter(self, config):\n             factory = config['()'] # for use in exception handler\n             try:\n                 result = self.configure_custom(config)\n-            except TypeError, te:\n+            except TypeError as te:\n                 if \"'format'\" not in str(te):\n                     raise\n                 #Name of parameter changed from fmt to format.\n@@ -451,7 +451,7 @@ def add_filters(self, filterer, filters):\n         for f in filters:\n             try:\n                 filterer.addFilter(self.config['filters'][f])\n-            except StandardError, e:\n+            except StandardError as e:\n                 raise ValueError('Unable to add filter %r: %s' % (f, e))\n \n     def configure_handler(self, config):\n@@ -460,7 +460,7 @@ def configure_handler(self, config):\n         if formatter:\n             try:\n                 formatter = self.config['formatters'][formatter]\n-            except StandardError, e:\n+            except StandardError as e:\n                 raise ValueError('Unable to set formatter '\n                                  '%r: %s' % (formatter, e))\n         level = config.pop('level', None)\n@@ -477,7 +477,7 @@ def configure_handler(self, config):\n                 'target' in config:\n                 try:\n                     config['target'] = self.config['handlers'][config['target']]\n-                except StandardError, e:\n+                except StandardError as e:\n                     raise ValueError('Unable to set target handler '\n                                      '%r: %s' % (config['target'], e))\n             elif issubclass(klass, logging.handlers.SMTPHandler) and\\\n@@ -490,7 +490,7 @@ def configure_handler(self, config):\n         kwargs = dict([(k, config[k]) for k in config if valid_ident(k)])\n         try:\n             result = factory(**kwargs)\n-        except TypeError, te:\n+        except TypeError as te:\n             if \"'stream'\" not in str(te):\n                 raise\n             #The argument name changed from strm to stream\n@@ -512,7 +512,7 @@ def add_handlers(self, logger, handlers):\n         for h in handlers:\n             try:\n                 logger.addHandler(self.config['handlers'][h])\n-            except StandardError, e:\n+            except StandardError as e:\n                 raise ValueError('Unable to add handler %r: %s' % (h, e))\n \n     def common_logger_config(self, logger, config, incremental=False):"
        },
        {
            "sha": "d9b59448a9cede2a6ba4cc8d41436cf188346201",
            "filename": "django/utils/encoding.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fencoding.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Futils%2Fencoding.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fencoding.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -88,7 +88,7 @@ def force_unicode(s, encoding='utf-8', strings_only=False, errors='strict'):\n             # errors), so that if s is a SafeString, it ends up being a\n             # SafeUnicode at the end.\n             s = s.decode(encoding, errors)\n-    except UnicodeDecodeError, e:\n+    except UnicodeDecodeError as e:\n         if not isinstance(s, Exception):\n             raise DjangoUnicodeDecodeError(s, *e.args)\n         else:"
        },
        {
            "sha": "14a151f45674f8f9e29efda94908048c4570f98e",
            "filename": "django/views/debug.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fviews%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/django%2Fviews%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdebug.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -77,7 +77,7 @@ def get_exception_reporter_filter(request):\n         modname, classname = modpath.rsplit('.', 1)\n         try:\n             mod = import_module(modname)\n-        except ImportError, e:\n+        except ImportError as e:\n             raise ImproperlyConfigured(\n             'Error importing default exception reporter filter %s: \"%s\"' % (modpath, e))\n         try:"
        },
        {
            "sha": "8eaf946825b6b59d549229d2f323fd7bda56d038",
            "filename": "docs/ref/models/instances.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/docs%2Fref%2Fmodels%2Finstances.txt",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/docs%2Fref%2Fmodels%2Finstances.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Finstances.txt?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -72,7 +72,7 @@ Example::\n \n     try:\n         article.full_clean()\n-    except ValidationError, e:\n+    except ValidationError as e:\n         # Do something based on the errors contained in e.message_dict.\n         # Display them to a user, or handle them programatically.\n \n@@ -112,7 +112,7 @@ instead of to a specific field::\n     from django.core.exceptions import ValidationError, NON_FIELD_ERRORS\n     try:\n         article.full_clean()\n-    except ValidationError, e:\n+    except ValidationError as e:\n         non_field_errors = e.message_dict[NON_FIELD_ERRORS]\n \n Finally, ``full_clean()`` will check any unique constraints on your model."
        },
        {
            "sha": "0e13163b4f7e82f208c7e591cba0bbe0e7020a18",
            "filename": "extras/csrf_migration_helper.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/extras%2Fcsrf_migration_helper.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/extras%2Fcsrf_migration_helper.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/extras%2Fcsrf_migration_helper.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -173,7 +173,7 @@ def content(self):\n             fd = open(self.absolute_filename)\n             try:\n                 content = fd.read().decode(TEMPLATE_ENCODING)\n-            except UnicodeDecodeError, e:\n+            except UnicodeDecodeError as e:\n                 message = '%s in %s' % (\n                     e[4], self.absolute_filename.encode('UTF-8', 'ignore'))\n                 raise UnicodeDecodeError(*(e.args[:4] + (message,)))"
        },
        {
            "sha": "fc1f593c1332466517400e19aebc9482e539c64e",
            "filename": "tests/modeltests/basic/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fbasic%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -384,25 +384,25 @@ def test_object_creation(self):\n         try:\n             Article.objects.all()[0:1] & Article.objects.all()[4:5]\n             self.fail('Should raise an AssertionError')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertEqual(str(e), \"Cannot combine queries once a slice has been taken.\")\n-        except Exception, e:\n+        except Exception as e:\n             self.fail('Should raise an AssertionError, not %s' % e)\n \n         # Negative slices are not supported, due to database constraints.\n         # (hint: inverting your ordering might do what you need).\n         try:\n             Article.objects.all()[-1]\n             self.fail('Should raise an AssertionError')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertEqual(str(e), \"Negative indexing is not supported.\")\n-        except Exception, e:\n+        except Exception as e:\n             self.fail('Should raise an AssertionError, not %s' % e)\n \n         error = None\n         try:\n             Article.objects.all()[0:-5]\n-        except Exception, e:\n+        except Exception as e:\n             error = e\n         self.assertTrue(isinstance(error, AssertionError))\n         self.assertEqual(str(error), \"Negative indexing is not supported.\")"
        },
        {
            "sha": "1e300fbb4d336b471a2bdebcd0fa1e57dd0a44a3",
            "filename": "tests/modeltests/get_or_create/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fget_or_create%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fget_or_create%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fget_or_create%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -60,7 +60,7 @@ def test_get_or_create(self):\n         # the actual traceback. Refs #16340.\n         try:\n             ManualPrimaryKeyTest.objects.get_or_create(id=1, data=\"Different\")\n-        except IntegrityError, e:\n+        except IntegrityError as e:\n             formatted_traceback = traceback.format_exc()\n             self.assertIn('obj.save', formatted_traceback)\n "
        },
        {
            "sha": "dfc6199624e377b1c1d8e9757506c101a8bdd2cd",
            "filename": "tests/modeltests/invalid_models/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Finvalid_models%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Finvalid_models%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Finvalid_models%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -35,7 +35,7 @@ def test_invalid_models(self):\n \n         try:\n             module = load_app(\"modeltests.invalid_models.invalid_models\")\n-        except Exception, e:\n+        except Exception:\n             self.fail('Unable to load invalid model module')\n \n         count = get_validation_errors(self.stdout, module)"
        },
        {
            "sha": "502e0d5f2b898a30b77df73cf07bc7f14b846557",
            "filename": "tests/modeltests/lookup/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Flookup%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Flookup%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Flookup%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -468,13 +468,13 @@ def test_error_messages(self):\n         try:\n             Article.objects.filter(pub_date_year='2005').count()\n             self.fail('FieldError not raised')\n-        except FieldError, ex:\n+        except FieldError as ex:\n             self.assertEqual(str(ex), \"Cannot resolve keyword 'pub_date_year' \"\n                              \"into field. Choices are: author, headline, id, pub_date, tag\")\n         try:\n             Article.objects.filter(headline__starts='Article')\n             self.fail('FieldError not raised')\n-        except FieldError, ex:\n+        except FieldError as ex:\n             self.assertEqual(str(ex), \"Join on field 'headline' not permitted. \"\n                              \"Did you misspell 'starts' for the lookup type?\")\n "
        },
        {
            "sha": "0587e11a3a1c9e4482336c85fc138daedd159a73",
            "filename": "tests/modeltests/select_for_update/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -169,10 +169,8 @@ def run_select_for_update(self, status, nowait=False):\n             people[0].name = 'Fred'\n             people[0].save()\n             transaction.commit()\n-        except DatabaseError, e:\n+        except DatabaseError as e:\n             status.append(e)\n-        except Exception, e:\n-            raise\n         finally:\n             # This method is run in a separate thread. It uses its own\n             # database connection. Close it without waiting for the GC.\n@@ -246,7 +244,7 @@ def raw(status):\n                         )\n                     )\n                 )\n-            except DatabaseError, e:\n+            except DatabaseError as e:\n                 status.append(e)\n             finally:\n                 # This method is run in a separate thread. It uses its own"
        },
        {
            "sha": "1a6fdd7c16c63ed6d5fafecde8739b1fd258bc50",
            "filename": "tests/modeltests/validation/models.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Fmodels.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -99,6 +99,6 @@ class GenericIPAddrUnpackUniqueTest(models.Model):\n     class MultipleAutoFields(models.Model):\n         auto1 = models.AutoField(primary_key=True)\n         auto2 = models.AutoField(primary_key=True)\n-except AssertionError, assertion_error:\n+except AssertionError as assertion_error:\n     pass # Fail silently\n assert str(assertion_error) == u\"A model can't have more than one AutoField.\""
        },
        {
            "sha": "04ad7aadf7df436929055803d119fb9f66194b84",
            "filename": "tests/modeltests/validation/test_error_messages.py",
            "status": "modified",
            "additions": 16,
            "deletions": 16,
            "changes": 32,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -10,29 +10,29 @@ def test_autofield_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [u\"'foo' value must be an integer.\"])\n         # primary_key must be True. Refs #12467.\n         self.assertRaises(AssertionError, models.AutoField, 'primary_key', False)\n         try:\n             models.AutoField(primary_key=False)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertEqual(str(e), \"AutoFields must have primary_key=True.\")\n \n     def test_integer_field_raises_error_message(self):\n         f = models.IntegerField()\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [u\"'foo' value must be an integer.\"])\n \n     def test_boolean_field_raises_error_message(self):\n         f = models.BooleanField()\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages,\n                         [u\"'foo' value must be either True or False.\"])\n \n@@ -41,15 +41,15 @@ def test_float_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [u\"'foo' value must be a float.\"])\n \n     def test_decimal_field_raises_error_message(self):\n         f = models.DecimalField()\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages,\n                         [u\"'foo' value must be a decimal number.\"])\n \n@@ -58,7 +58,7 @@ def test_null_boolean_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages,\n                         [u\"'foo' value must be either None, True or False.\"])\n \n@@ -67,31 +67,31 @@ def test_date_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'foo' value has an invalid date format. \"\n                 u\"It must be in YYYY-MM-DD format.\"])\n \n         self.assertRaises(ValidationError, f.clean, 'aaaa-10-10', None)\n         try:\n             f.clean('aaaa-10-10', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'aaaa-10-10' value has an invalid date format. \"\n                 u\"It must be in YYYY-MM-DD format.\"])\n \n         self.assertRaises(ValidationError, f.clean, '2011-13-10', None)\n         try:\n             f.clean('2011-13-10', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'2011-13-10' value has the correct format (YYYY-MM-DD) \"\n                 u\"but it is an invalid date.\"])\n \n         self.assertRaises(ValidationError, f.clean, '2011-10-32', None)\n         try:\n             f.clean('2011-10-32', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'2011-10-32' value has the correct format (YYYY-MM-DD) \"\n                 u\"but it is an invalid date.\"])\n@@ -102,7 +102,7 @@ def test_datetime_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'foo' value has an invalid format. It must be \"\n                 u\"in YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ] format.\"])\n@@ -111,7 +111,7 @@ def test_datetime_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, '2011-10-32', None)\n         try:\n             f.clean('2011-10-32', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'2011-10-32' value has the correct format \"\n                 u\"(YYYY-MM-DD) but it is an invalid date.\"])\n@@ -120,7 +120,7 @@ def test_datetime_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, '2011-10-32 10:10', None)\n         try:\n             f.clean('2011-10-32 10:10', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'2011-10-32 10:10' value has the correct format \"\n                 u\"(YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ]) \"\n@@ -132,15 +132,15 @@ def test_time_field_raises_error_message(self):\n         self.assertRaises(ValidationError, f.clean, 'foo', None)\n         try:\n             f.clean('foo', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'foo' value has an invalid format. It must be in \"\n                 u\"HH:MM[:ss[.uuuuuu]] format.\"])\n         # Correct format but invalid time\n         self.assertRaises(ValidationError, f.clean, '25:50', None)\n         try:\n             f.clean('25:50', None)\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, [\n                 u\"'25:50' value has the correct format \"\n                 u\"(HH:MM[:ss[.uuuuuu]]) but it is an invalid time.\"])"
        },
        {
            "sha": "8f819b9d9c8a47b12ab68576aa77bbe6fd733edb",
            "filename": "tests/modeltests/validation/test_unique.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -115,19 +115,19 @@ def test_unique_for_date_with_nullable_date(self):\n         p = FlexibleDatePost(title=\"Django 1.0 is released\")\n         try:\n             p.full_clean()\n-        except ValidationError, e:\n+        except ValidationError:\n             self.fail(\"unique_for_date checks shouldn't trigger when the associated DateField is None.\")\n \n         p = FlexibleDatePost(slug=\"Django 1.0\")\n         try:\n             p.full_clean()\n-        except ValidationError, e:\n+        except ValidationError:\n             self.fail(\"unique_for_year checks shouldn't trigger when the associated DateField is None.\")\n \n         p = FlexibleDatePost(subtitle=\"Finally\")\n         try:\n             p.full_clean()\n-        except ValidationError, e:\n+        except ValidationError:\n             self.fail(\"unique_for_month checks shouldn't trigger when the associated DateField is None.\")\n \n     def test_unique_errors(self):"
        },
        {
            "sha": "0e66a5aad35de6d327c898fe611ea9c3b0fbdaa1",
            "filename": "tests/regressiontests/app_loading/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fapp_loading%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fapp_loading%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fapp_loading%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -61,7 +61,7 @@ def test_egg5(self):\n         self.assertRaises(ImportError, load_app, 'broken_app')\n         try:\n             load_app('broken_app')\n-        except ImportError, e:\n+        except ImportError as e:\n             # Make sure the message is indicating the actual\n             # problem in the broken app.\n             self.assertTrue(\"modelz\" in e.args[0])"
        },
        {
            "sha": "038f652698b969785459d78f1b726c8ee4e8c78e",
            "filename": "tests/regressiontests/backends/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -569,7 +569,7 @@ def runner(main_thread_connection):\n                 connections['default'] = main_thread_connection\n                 try:\n                     models.Person.objects.get(first_name=\"John\", last_name=\"Doe\")\n-                except DatabaseError, e:\n+                except DatabaseError as e:\n                     exceptions.append(e)\n             t = threading.Thread(target=runner, args=[connections['default']])\n             t.start()\n@@ -607,7 +607,7 @@ def runner1():\n             def runner2(other_thread_connection):\n                 try:\n                     other_thread_connection.close()\n-                except DatabaseError, e:\n+                except DatabaseError as e:\n                     exceptions.add(e)\n             t2 = threading.Thread(target=runner2, args=[connections['default']])\n             t2.start()\n@@ -624,7 +624,7 @@ def runner1():\n             def runner2(other_thread_connection):\n                 try:\n                     other_thread_connection.close()\n-                except DatabaseError, e:\n+                except DatabaseError as e:\n                     exceptions.add(e)\n             # Enable thread sharing\n             connections['default'].allow_thread_sharing = True"
        },
        {
            "sha": "a461ce17027ab731dc7893445f84ffd61c788704",
            "filename": "tests/regressiontests/file_uploads/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -304,20 +304,20 @@ def handle_uncaught_exception(self, request, resolver, exc_info):\n         # it raises when there is an attempt to read more than the available bytes:\n         try:\n             client.FakePayload('a').read(2)\n-        except Exception, reference_error:\n+        except Exception as reference_error:\n             pass\n \n         # install the custom handler that tries to access request.POST\n         self.client.handler = POSTAccessingHandler()\n \n         try:\n             response = self.client.post('/file_uploads/upload_errors/', post_data)\n-        except reference_error.__class__, err:\n+        except reference_error.__class__ as err:\n             self.failIf(\n                 str(err) == str(reference_error),\n                 \"Caught a repeated exception that'll cause an infinite loop in file uploads.\"\n             )\n-        except Exception, err:\n+        except Exception as err:\n             # CustomUploadError is the error that should have been raised\n             self.assertEqual(err.__class__, uploadhandler.CustomUploadError)\n \n@@ -374,9 +374,9 @@ def test_readonly_root(self):\n         os.chmod(temp_storage.location, 0500)\n         try:\n             self.obj.testfile.save('foo.txt', SimpleUploadedFile('foo.txt', 'x'))\n-        except OSError, err:\n+        except OSError as err:\n             self.assertEqual(err.errno, errno.EACCES)\n-        except Exception, err:\n+        except Exception:\n             self.fail(\"OSError [Errno %s] not raised.\" % errno.EACCES)\n \n     def test_not_a_directory(self):\n@@ -386,7 +386,7 @@ def test_not_a_directory(self):\n         fd.close()\n         try:\n             self.obj.testfile.save('foo.txt', SimpleUploadedFile('foo.txt', 'x'))\n-        except IOError, err:\n+        except IOError as err:\n             # The test needs to be done on a specific string as IOError\n             # is raised even without the patch (just not early enough)\n             self.assertEqual(err.args[0],"
        },
        {
            "sha": "7153a3b0a6dabd11f0af01cf14cd78a6034bf8de",
            "filename": "tests/regressiontests/forms/tests/error_messages.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -13,7 +13,7 @@ def assertFormErrors(self, expected, the_callable, *args, **kwargs):\n         try:\n             the_callable(*args, **kwargs)\n             self.fail(\"Testing the 'clean' method on %s failed to raise a ValidationError.\")\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(e.messages, expected)\n \n class FormsErrorMessagesTestCase(TestCase, AssertFormErrorsMixin):"
        },
        {
            "sha": "a4cb3248158c8e281e12e917fef31f338c89b6ad",
            "filename": "tests/regressiontests/forms/tests/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fforms%2Ftests%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fforms%2Ftests%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fvalidators.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -12,5 +12,5 @@ def test_all_errors_get_reported(self):\n         self.assertRaises(ValidationError, field.clean, 'not int nor mail')\n         try:\n             field.clean('not int nor mail')\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.assertEqual(2, len(e.messages))"
        },
        {
            "sha": "47fca03ba3a2fcf1ac1de63f402a1ff070140add",
            "filename": "tests/regressiontests/middleware/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmiddleware%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmiddleware%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmiddleware%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -88,7 +88,7 @@ def test_append_slash_no_redirect_on_POST_in_DEBUG(self):\n             request)\n         try:\n             CommonMiddleware().process_request(request)\n-        except RuntimeError, e:\n+        except RuntimeError as e:\n             self.assertTrue('end in a slash' in str(e))\n         settings.DEBUG = False\n \n@@ -202,7 +202,7 @@ def test_append_slash_no_redirect_on_POST_in_DEBUG_custom_urlconf(self):\n           request)\n       try:\n           CommonMiddleware().process_request(request)\n-      except RuntimeError, e:\n+      except RuntimeError as e:\n           self.assertTrue('end in a slash' in str(e))\n       settings.DEBUG = False\n "
        },
        {
            "sha": "586aa0f0040750aff54b2d878bdcbd268b826bd7",
            "filename": "tests/regressiontests/middleware_exceptions/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmiddleware_exceptions%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmiddleware_exceptions%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmiddleware_exceptions%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -118,13 +118,13 @@ def _add_middleware(self, middleware):\n     def assert_exceptions_handled(self, url, errors, extra_error=None):\n         try:\n             response = self.client.get(url)\n-        except TestException, e:\n+        except TestException:\n             # Test client intentionally re-raises any exceptions being raised\n             # during request handling. Hence actual testing that exception was\n             # properly handled is done by relying on got_request_exception\n             # signal being sent.\n             pass\n-        except Exception, e:\n+        except Exception as e:\n             if type(extra_error) != type(e):\n                 self.fail(\"Unexpected exception: %s\" % e)\n         self.assertEqual(len(self.exceptions), len(errors))"
        },
        {
            "sha": "ea1e1c7d99a37aa76eda064c6461b53d986ebd7a",
            "filename": "tests/regressiontests/model_fields/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -44,7 +44,7 @@ def test_nullbooleanfield_blank(self):\n         nullboolean = NullBooleanModel(nbfield=None)\n         try:\n             nullboolean.full_clean()\n-        except ValidationError, e:\n+        except ValidationError as e:\n             self.fail(\"NullBooleanField failed validation with value of None: %s\" % e.messages)\n \n     def test_field_repr(self):"
        },
        {
            "sha": "09da9737a88354f6c93c4ba2d40a819d2dcd54b5",
            "filename": "tests/regressiontests/model_forms_regress/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -333,7 +333,7 @@ class ExtraPersonForm(forms.ModelForm):\n                 class Meta:\n                     model = Person\n                     fields = ('name', 'no-field')\n-        except FieldError, e:\n+        except FieldError as e:\n             # Make sure the exception contains some reference to the\n             # field responsible for the problem.\n             self.assertTrue('no-field' in e.args[0])"
        },
        {
            "sha": "c3def1577155bce517c2d93a9fd09d9c5c26cd28",
            "filename": "tests/regressiontests/servers/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fservers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fservers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fservers%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -102,7 +102,7 @@ def test_404(self):\n         \"\"\"\n         try:\n             self.urlopen('/')\n-        except urllib2.HTTPError, err:\n+        except urllib2.HTTPError as err:\n             self.assertEquals(err.code, 404, 'Expected 404 response')\n         else:\n             self.fail('Expected 404 response')"
        },
        {
            "sha": "493ee8021d1db4357b458e1c424c3d457fdc7fac",
            "filename": "tests/regressiontests/settings_tests/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -62,7 +62,7 @@ def test_max_recursion_error(self):\n         \"\"\"\n         try:\n             super(ClassDecoratedTestCase, self).test_max_recursion_error()\n-        except RuntimeError, e:\n+        except RuntimeError:\n             self.fail()\n \n "
        },
        {
            "sha": "97aa5af6a7c3b5a167a0f53f266aa8512b2aa96d",
            "filename": "tests/regressiontests/templates/nodelist.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftemplates%2Fnodelist.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftemplates%2Fnodelist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Fnodelist.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -52,7 +52,7 @@ def test_correct_exception_index(self):\n             template = get_template_from_string(source)\n             try:\n                 template.render(context)\n-            except (RuntimeError, TypeError), e:\n+            except (RuntimeError, TypeError) as e:\n                 error_source_index = e.django_template_source[1]\n                 self.assertEqual(error_source_index,\n                                  expected_error_source_index)"
        },
        {
            "sha": "7de27a08a9075372ae2ab1f9dd1318bc76a05dea",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -41,7 +41,7 @@\n \n try:\n     from .loaders import RenderToStringTest, EggLoaderTest\n-except ImportError, e:\n+except ImportError as e:\n     if \"pkg_resources\" in e.message:\n         pass # If setuptools isn't installed, that's fine. Just move on.\n     else:\n@@ -274,7 +274,7 @@ def test_include_missing_template(self):\n             try:\n                 tmpl = loader.select_template([load_name])\n                 r = tmpl.render(template.Context({}))\n-            except template.TemplateDoesNotExist, e:\n+            except template.TemplateDoesNotExist as e:\n                 settings.TEMPLATE_DEBUG = old_td\n                 self.assertEqual(e.args[0], 'missing.html')\n             self.assertEqual(r, None, 'Template rendering unexpectedly succeeded, produced: ->%r<-' % r)\n@@ -307,7 +307,7 @@ def test_extends_include_missing_baseloader(self):\n             r = None\n             try:\n                 r = tmpl.render(template.Context({}))\n-            except template.TemplateDoesNotExist, e:\n+            except template.TemplateDoesNotExist as e:\n                 settings.TEMPLATE_DEBUG = old_td\n                 self.assertEqual(e.args[0], 'missing.html')\n             self.assertEqual(r, None, 'Template rendering unexpectedly succeeded, produced: ->%r<-' % r)\n@@ -334,7 +334,7 @@ def test_extends_include_missing_cachedloader(self):\n             r = None\n             try:\n                 r = tmpl.render(template.Context({}))\n-            except template.TemplateDoesNotExist, e:\n+            except template.TemplateDoesNotExist as e:\n                 self.assertEqual(e.args[0], 'missing.html')\n             self.assertEqual(r, None, 'Template rendering unexpectedly succeeded, produced: ->%r<-' % r)\n \n@@ -343,7 +343,7 @@ def test_extends_include_missing_cachedloader(self):\n             tmpl = loader.get_template(load_name)\n             try:\n                 tmpl.render(template.Context({}))\n-            except template.TemplateDoesNotExist, e:\n+            except template.TemplateDoesNotExist as e:\n                 self.assertEqual(e.args[0], 'missing.html')\n             self.assertEqual(r, None, 'Template rendering unexpectedly succeeded, produced: ->%r<-' % r)\n         finally:\n@@ -384,7 +384,7 @@ def test_invalid_block_suggestion(self):\n         from django.template import Template, TemplateSyntaxError\n         try:\n             t = Template(\"{% if 1 %}lala{% endblock %}{% endif %}\")\n-        except TemplateSyntaxError, e:\n+        except TemplateSyntaxError as e:\n             self.assertEqual(e.args[0], \"Invalid block tag: 'endblock', expected 'elif', 'else' or 'endif'\")\n \n     def test_templates(self):\n@@ -1638,7 +1638,7 @@ def test_load_error(self):\n         self.assertRaises(template.TemplateSyntaxError, template.Template, ttext)\n         try:\n             template.Template(ttext)\n-        except template.TemplateSyntaxError, e:\n+        except template.TemplateSyntaxError as e:\n             self.assertTrue('ImportError' in e.args[0])\n             self.assertTrue('Xtemplate' in e.args[0])\n \n@@ -1650,7 +1650,7 @@ def test_load_error_egg(self):\n         self.assertRaises(template.TemplateSyntaxError, template.Template, ttext)\n         try:\n             template.Template(ttext)\n-        except template.TemplateSyntaxError, e:\n+        except template.TemplateSyntaxError as e:\n             self.assertTrue('ImportError' in e.args[0])\n             self.assertTrue('Xtemplate' in e.args[0])\n "
        },
        {
            "sha": "ab4e59223948da6fdd9203ca7f7eb4afa087e7ad",
            "filename": "tests/regressiontests/test_client_regress/models.py",
            "status": "modified",
            "additions": 50,
            "deletions": 50,
            "changes": 100,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftest_client_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Ftest_client_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftest_client_regress%2Fmodels.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -38,83 +38,83 @@ def test_contains(self):\n \n         try:\n             self.assertContains(response, 'text', status_code=999)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Couldn't retrieve content: Response code was 200 (expected 999)\", str(e))\n         try:\n             self.assertContains(response, 'text', status_code=999, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Couldn't retrieve content: Response code was 200 (expected 999)\", str(e))\n \n         try:\n             self.assertNotContains(response, 'text', status_code=999)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Couldn't retrieve content: Response code was 200 (expected 999)\", str(e))\n         try:\n             self.assertNotContains(response, 'text', status_code=999, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Couldn't retrieve content: Response code was 200 (expected 999)\", str(e))\n \n         try:\n             self.assertNotContains(response, 'once')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response should not contain 'once'\", str(e))\n         try:\n             self.assertNotContains(response, 'once', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Response should not contain 'once'\", str(e))\n \n         try:\n             self.assertContains(response, 'never', 1)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Found 0 instances of 'never' in response (expected 1)\", str(e))\n         try:\n             self.assertContains(response, 'never', 1, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Found 0 instances of 'never' in response (expected 1)\", str(e))\n \n         try:\n             self.assertContains(response, 'once', 0)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Found 1 instances of 'once' in response (expected 0)\", str(e))\n         try:\n             self.assertContains(response, 'once', 0, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Found 1 instances of 'once' in response (expected 0)\", str(e))\n \n         try:\n             self.assertContains(response, 'once', 2)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Found 1 instances of 'once' in response (expected 2)\", str(e))\n         try:\n             self.assertContains(response, 'once', 2, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Found 1 instances of 'once' in response (expected 2)\", str(e))\n \n         try:\n             self.assertContains(response, 'twice', 1)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Found 2 instances of 'twice' in response (expected 1)\", str(e))\n         try:\n             self.assertContains(response, 'twice', 1, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Found 2 instances of 'twice' in response (expected 1)\", str(e))\n \n         try:\n             self.assertContains(response, 'thrice')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Couldn't find 'thrice' in response\", str(e))\n         try:\n             self.assertContains(response, 'thrice', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Couldn't find 'thrice' in response\", str(e))\n \n         try:\n             self.assertContains(response, 'thrice', 3)\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Found 0 instances of 'thrice' in response (expected 3)\", str(e))\n         try:\n             self.assertContains(response, 'thrice', 3, msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Found 0 instances of 'thrice' in response (expected 3)\", str(e))\n \n     def test_unicode_contains(self):\n@@ -175,12 +175,12 @@ def test_no_context(self):\n \n         try:\n             self.assertTemplateUsed(response, 'GET Template')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"No templates used to render the response\", str(e))\n \n         try:\n             self.assertTemplateUsed(response, 'GET Template', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: No templates used to render the response\", str(e))\n \n     def test_single_context(self):\n@@ -189,22 +189,22 @@ def test_single_context(self):\n \n         try:\n             self.assertTemplateNotUsed(response, 'Empty GET Template')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Template 'Empty GET Template' was used unexpectedly in rendering the response\", str(e))\n \n         try:\n             self.assertTemplateNotUsed(response, 'Empty GET Template', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Template 'Empty GET Template' was used unexpectedly in rendering the response\", str(e))\n \n         try:\n             self.assertTemplateUsed(response, 'Empty POST Template')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Template 'Empty POST Template' was not a template used to render the response. Actual template(s) used: Empty GET Template\", str(e))\n \n         try:\n             self.assertTemplateUsed(response, 'Empty POST Template', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Template 'Empty POST Template' was not a template used to render the response. Actual template(s) used: Empty GET Template\", str(e))\n \n     def test_multiple_context(self):\n@@ -220,17 +220,17 @@ def test_multiple_context(self):\n         self.assertContains(response, 'POST data OK')\n         try:\n             self.assertTemplateNotUsed(response, \"form_view.html\")\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Template 'form_view.html' was used unexpectedly in rendering the response\", str(e))\n \n         try:\n             self.assertTemplateNotUsed(response, 'base.html')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Template 'base.html' was used unexpectedly in rendering the response\", str(e))\n \n         try:\n             self.assertTemplateUsed(response, \"Valid POST Template\")\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Template 'Valid POST Template' was not a template used to render the response. Actual template(s) used: form_view.html, base.html\", str(e))\n \n class AssertRedirectsTests(TestCase):\n@@ -240,25 +240,25 @@ def test_redirect_page(self):\n         response = self.client.get('/test_client/permanent_redirect_view/')\n         try:\n             self.assertRedirects(response, '/test_client/get_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response didn't redirect as expected: Response code was 301 (expected 302)\", str(e))\n \n         try:\n             self.assertRedirects(response, '/test_client/get_view/', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Response didn't redirect as expected: Response code was 301 (expected 302)\", str(e))\n \n     def test_lost_query(self):\n         \"An assertion is raised if the redirect location doesn't preserve GET parameters\"\n         response = self.client.get('/test_client/redirect_view/', {'var': 'value'})\n         try:\n             self.assertRedirects(response, '/test_client/get_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response redirected to 'http://testserver/test_client/get_view/?var=value', expected 'http://testserver/test_client/get_view/'\", str(e))\n \n         try:\n             self.assertRedirects(response, '/test_client/get_view/', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Response redirected to 'http://testserver/test_client/get_view/?var=value', expected 'http://testserver/test_client/get_view/'\", str(e))\n \n     def test_incorrect_target(self):\n@@ -267,7 +267,7 @@ def test_incorrect_target(self):\n         try:\n             # Should redirect to get_view\n             self.assertRedirects(response, '/test_client/some_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response didn't redirect as expected: Response code was 301 (expected 302)\", str(e))\n \n     def test_target_page(self):\n@@ -276,13 +276,13 @@ def test_target_page(self):\n         try:\n             # The redirect target responds with a 301 code, not 200\n             self.assertRedirects(response, 'http://testserver/test_client/permanent_redirect_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Couldn't retrieve redirection page '/test_client/permanent_redirect_view/': response code was 301 (expected 200)\", str(e))\n \n         try:\n             # The redirect target responds with a 301 code, not 200\n             self.assertRedirects(response, 'http://testserver/test_client/permanent_redirect_view/', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Couldn't retrieve redirection page '/test_client/permanent_redirect_view/': response code was 301 (expected 200)\", str(e))\n \n     def test_redirect_chain(self):\n@@ -385,12 +385,12 @@ def test_redirect_chain_on_non_redirect_page(self):\n         response = self.client.get('/test_client/get_view/', follow=True)\n         try:\n             self.assertRedirects(response, '/test_client/get_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response didn't redirect as expected: Response code was 200 (expected 302)\", str(e))\n \n         try:\n             self.assertRedirects(response, '/test_client/get_view/', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Response didn't redirect as expected: Response code was 200 (expected 302)\", str(e))\n \n     def test_redirect_on_non_redirect_page(self):\n@@ -399,12 +399,12 @@ def test_redirect_on_non_redirect_page(self):\n         response = self.client.get('/test_client/get_view/')\n         try:\n             self.assertRedirects(response, '/test_client/get_view/')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"Response didn't redirect as expected: Response code was 200 (expected 302)\", str(e))\n \n         try:\n             self.assertRedirects(response, '/test_client/get_view/', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: Response didn't redirect as expected: Response code was 200 (expected 302)\", str(e))\n \n \n@@ -424,11 +424,11 @@ def test_unknown_form(self):\n \n         try:\n             self.assertFormError(response, 'wrong_form', 'some_field', 'Some error.')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"The form 'wrong_form' was not used to render the response\", str(e))\n         try:\n             self.assertFormError(response, 'wrong_form', 'some_field', 'Some error.', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: The form 'wrong_form' was not used to render the response\", str(e))\n \n     def test_unknown_field(self):\n@@ -446,11 +446,11 @@ def test_unknown_field(self):\n \n         try:\n             self.assertFormError(response, 'form', 'some_field', 'Some error.')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"The form 'form' in context 0 does not contain the field 'some_field'\", str(e))\n         try:\n             self.assertFormError(response, 'form', 'some_field', 'Some error.', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: The form 'form' in context 0 does not contain the field 'some_field'\", str(e))\n \n     def test_noerror_field(self):\n@@ -468,11 +468,11 @@ def test_noerror_field(self):\n \n         try:\n             self.assertFormError(response, 'form', 'value', 'Some error.')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"The field 'value' on form 'form' in context 0 contains no errors\", str(e))\n         try:\n             self.assertFormError(response, 'form', 'value', 'Some error.', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: The field 'value' on form 'form' in context 0 contains no errors\", str(e))\n \n     def test_unknown_error(self):\n@@ -490,11 +490,11 @@ def test_unknown_error(self):\n \n         try:\n             self.assertFormError(response, 'form', 'email', 'Some error.')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"The field 'email' on form 'form' in context 0 does not contain the error 'Some error.' (actual errors: [u'Enter a valid e-mail address.'])\", str(e))\n         try:\n             self.assertFormError(response, 'form', 'email', 'Some error.', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: The field 'email' on form 'form' in context 0 does not contain the error 'Some error.' (actual errors: [u'Enter a valid e-mail address.'])\", str(e))\n \n     def test_unknown_nonfield_error(self):\n@@ -515,11 +515,11 @@ def test_unknown_nonfield_error(self):\n \n         try:\n             self.assertFormError(response, 'form', None, 'Some error.')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"The form 'form' in context 0 does not contain the non-field error 'Some error.' (actual errors: )\", str(e))\n         try:\n             self.assertFormError(response, 'form', None, 'Some error.', msg_prefix='abc')\n-        except AssertionError, e:\n+        except AssertionError as e:\n             self.assertIn(\"abc: The form 'form' in context 0 does not contain the non-field error 'Some error.' (actual errors: )\", str(e))\n \n class LoginTests(TestCase):\n@@ -676,7 +676,7 @@ def test_single_context(self):\n         try:\n             response.context['does-not-exist']\n             self.fail('Should not be able to retrieve non-existent key')\n-        except KeyError, e:\n+        except KeyError as e:\n             self.assertEqual(e.args[0], 'does-not-exist')\n \n     def test_inherited_context(self):\n@@ -692,7 +692,7 @@ def test_inherited_context(self):\n         try:\n             response.context['does-not-exist']\n             self.fail('Should not be able to retrieve non-existent key')\n-        except KeyError, e:\n+        except KeyError as e:\n             self.assertEqual(e.args[0], 'does-not-exist')\n \n     def test_15368(self):"
        },
        {
            "sha": "bb25806830a77d6db53530bc8c86a2fc591e3229",
            "filename": "tests/regressiontests/urlpatterns_reverse/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3904b74a3f2f92fefe1d39281ed683c52f2fef03/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py?ref=3904b74a3f2f92fefe1d39281ed683c52f2fef03",
            "patch": "@@ -161,7 +161,7 @@ def test_urlpattern_reverse(self):\n         for name, expected, args, kwargs in test_data:\n             try:\n                 got = reverse(name, args=args, kwargs=kwargs)\n-            except NoReverseMatch, e:\n+            except NoReverseMatch:\n                 self.assertEqual(expected, NoReverseMatch)\n             else:\n                 self.assertEqual(got, expected)\n@@ -207,7 +207,7 @@ def test_404_tried_urls_have_names(self):\n         try:\n             resolve('/included/non-existent-url', urlconf=urls)\n             self.fail('resolve did not raise a 404')\n-        except Resolver404, e:\n+        except Resolver404 as e:\n             # make sure we at least matched the root ('/') url resolver:\n             self.assertTrue('tried' in e.args[0])\n             tried = e.args[0]['tried']"
        }
    ],
    "stats": {
        "total": 660,
        "additions": 306,
        "deletions": 354
    }
}