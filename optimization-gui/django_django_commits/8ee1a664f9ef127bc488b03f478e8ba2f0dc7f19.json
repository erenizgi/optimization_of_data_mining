{
    "author": "akaariai",
    "message": "Fixed #18318 -- Changed some tests to be 3rd party DB friendly\n\nThanks to manfre for report and patch.",
    "sha": "8ee1a664f9ef127bc488b03f478e8ba2f0dc7f19",
    "files": [
        {
            "sha": "ecb16df53a000d9b2937ff9b08e4e7704a0a7a1c",
            "filename": "tests/regressiontests/admin_scripts/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/8ee1a664f9ef127bc488b03f478e8ba2f0dc7f19/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/8ee1a664f9ef127bc488b03f478e8ba2f0dc7f19/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py?ref=8ee1a664f9ef127bc488b03f478e8ba2f0dc7f19",
            "patch": "@@ -13,13 +13,12 @@\n \n from django import conf, bin, get_version\n from django.conf import settings\n+from django.db import connection\n from django.test.simple import DjangoTestSuiteRunner\n from django.utils import unittest\n from django.test import LiveServerTestCase\n \n test_dir = os.path.dirname(os.path.dirname(__file__))\n-expected_query_re = re.compile(r'CREATE TABLE [`\"]admin_scripts_article[`\"]', re.IGNORECASE)\n-\n \n class AdminScriptTestCase(unittest.TestCase):\n     def write_settings(self, filename, apps=None, is_dir=False, sdict=None):\n@@ -859,14 +858,18 @@ def test_builtin_with_settings(self):\n         \"alternate: manage.py builtin commands work with settings provided as argument\"\n         args = ['sqlall', '--settings=alternate_settings', 'admin_scripts']\n         out, err = self.run_manage(args)\n-        self.assertRegexpMatches(out, expected_query_re)\n+        expected = ('create table %s'\n+                    % connection.ops.quote_name('admin_scripts_article'))\n+        self.assertTrue(expected.lower() in out.lower())\n         self.assertNoOutput(err)\n \n     def test_builtin_with_environment(self):\n         \"alternate: manage.py builtin commands work if settings are provided in the environment\"\n         args = ['sqlall', 'admin_scripts']\n         out, err = self.run_manage(args, 'alternate_settings')\n-        self.assertRegexpMatches(out, expected_query_re)\n+        expected = ('create table %s'\n+                    % connection.ops.quote_name('admin_scripts_article'))\n+        self.assertTrue(expected.lower() in out.lower())\n         self.assertNoOutput(err)\n \n     def test_builtin_with_bad_settings(self):"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 7,
        "deletions": 4
    }
}