{
    "author": "claudep",
    "message": "Replaced types.NoneType occurrences\n\nIn Python 3, types.NoneType is no more available.",
    "sha": "817535d73e57d0930fd5294387fca17bc0257515",
    "files": [
        {
            "sha": "36c03eb51e8f3c04793c21ba887c9ab37b87ff79",
            "filename": "django/contrib/gis/gdal/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/817535d73e57d0930fd5294387fca17bc0257515/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/817535d73e57d0930fd5294387fca17bc0257515/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Fbase.py?ref=817535d73e57d0930fd5294387fca17bc0257515",
            "patch": "@@ -1,5 +1,5 @@\n from ctypes import c_void_p\n-from types import NoneType\n+\n from django.contrib.gis.gdal.error import GDALException\n \n class GDALBase(object):\n@@ -26,7 +26,7 @@ def _set_ptr(self, ptr):\n         # compatible type or None (NULL).\n         if isinstance(ptr, (int, long)):\n             self._ptr = self.ptr_type(ptr)\n-        elif isinstance(ptr, (self.ptr_type, NoneType)):\n+        elif ptr is None or isinstance(ptr, self.ptr_type):\n             self._ptr = ptr\n         else:\n             raise TypeError('Incompatible pointer type')"
        },
        {
            "sha": "754bcce7ad6698b980b9dddf44536334007c1ba0",
            "filename": "django/contrib/gis/geos/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/817535d73e57d0930fd5294387fca17bc0257515/django%2Fcontrib%2Fgis%2Fgeos%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/817535d73e57d0930fd5294387fca17bc0257515/django%2Fcontrib%2Fgis%2Fgeos%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fbase.py?ref=817535d73e57d0930fd5294387fca17bc0257515",
            "patch": "@@ -1,5 +1,5 @@\n from ctypes import c_void_p\n-from types import NoneType\n+\n from django.contrib.gis.geos.error import GEOSException\n \n # Trying to import GDAL libraries, if available.  Have to place in\n@@ -41,7 +41,7 @@ def _get_ptr(self):\n     def _set_ptr(self, ptr):\n         # Only allow the pointer to be set with pointers of the\n         # compatible type or None (NULL).\n-        if isinstance(ptr, (self.ptr_type, NoneType)):\n+        if ptr is None or isinstance(ptr, self.ptr_type):\n             self._ptr = ptr\n         else:\n             raise TypeError('Incompatible pointer type')"
        },
        {
            "sha": "6b246ac59bb77a3d8381514da37bb96e92f50f6b",
            "filename": "django/utils/encoding.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/817535d73e57d0930fd5294387fca17bc0257515/django%2Futils%2Fencoding.py",
            "raw_url": "https://github.com/django/django/raw/817535d73e57d0930fd5294387fca17bc0257515/django%2Futils%2Fencoding.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fencoding.py?ref=817535d73e57d0930fd5294387fca17bc0257515",
            "patch": "@@ -1,4 +1,3 @@\n-import types\n import urllib\n import locale\n import datetime\n@@ -45,7 +44,7 @@ def is_protected_type(obj):\n     force_unicode(strings_only=True).\n     \"\"\"\n     return isinstance(obj, (\n-        types.NoneType,\n+        type(None),\n         int, long,\n         datetime.datetime, datetime.date, datetime.time,\n         float, Decimal)\n@@ -107,7 +106,7 @@ def smart_str(s, encoding='utf-8', strings_only=False, errors='strict'):\n \n     If strings_only is True, don't convert (some) non-string-like objects.\n     \"\"\"\n-    if strings_only and isinstance(s, (types.NoneType, int)):\n+    if strings_only and (s is None or isinstance(s, int)):\n         return s\n     if isinstance(s, Promise):\n         return unicode(s).encode(encoding, errors)"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 6,
        "deletions": 7
    }
}