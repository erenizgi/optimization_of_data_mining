{
    "author": "claudep",
    "message": "Fixed #18537 -- Fixed CUIT calculation in ar localflavor\n\nThanks mmoya at 8ksoft.com.ar for the report and Kevin Shaul for the\ninitial patch.",
    "sha": "1d2982362df1dbd9b08ffcc1d2506b2e3789250e",
    "files": [
        {
            "sha": "ffc2d177c066341b2ee22fa336959d2341ce29b2",
            "filename": "django/contrib/localflavor/ar/forms.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/1d2982362df1dbd9b08ffcc1d2506b2e3789250e/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/1d2982362df1dbd9b08ffcc1d2506b2e3789250e/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py?ref=1d2982362df1dbd9b08ffcc1d2506b2e3789250e",
            "patch": "@@ -105,9 +105,16 @@ def _canon(self, cuit):\n         return cuit[:-1], cuit[-1]\n \n     def _calc_cd(self, cuit):\n+        # Calculation code based on:\n+        # http://es.wikipedia.org/wiki/C%C3%B3digo_%C3%9Anico_de_Identificaci%C3%B3n_Tributaria\n         mults = (5, 4, 3, 2, 7, 6, 5, 4, 3, 2)\n         tmp = sum([m * int(cuit[idx]) for idx, m in enumerate(mults)])\n-        return str(11 - tmp % 11)\n+        result = 11 - (tmp % 11)\n+        if result == 11:\n+            result = 0\n+        elif result == 10:\n+            result = 9\n+        return str(result)\n \n     def _format(self, cuit, check_digit=None):\n         if check_digit == None:"
        },
        {
            "sha": "efc2025fd270f4146ec5a7857b0da6b9d8d159dc",
            "filename": "tests/regressiontests/localflavor/ar/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/1d2982362df1dbd9b08ffcc1d2506b2e3789250e/tests%2Fregressiontests%2Flocalflavor%2Far%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/1d2982362df1dbd9b08ffcc1d2506b2e3789250e/tests%2Fregressiontests%2Flocalflavor%2Far%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Far%2Ftests.py?ref=1d2982362df1dbd9b08ffcc1d2506b2e3789250e",
            "patch": "@@ -87,6 +87,7 @@ def test_ARCUITField(self):\n             '27-10345678-4': '27-10345678-4',\n             '20101234569': '20-10123456-9',\n             '27103456784': '27-10345678-4',\n+            '30011111110': '30-01111111-0',\n         }\n         invalid = {\n             '2-10123456-9': error_format,"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}