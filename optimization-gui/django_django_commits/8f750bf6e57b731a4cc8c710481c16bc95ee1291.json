{
    "author": "jphalip",
    "message": "Fixed #16897 -- Fixed some docstrings and help texts for the `makemessages` management command. Thanks, Simon Meers.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16864 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "8f750bf6e57b731a4cc8c710481c16bc95ee1291",
    "files": [
        {
            "sha": "2c6e17131659c940b02a6bdbee545a915f01e123",
            "filename": "django/core/management/commands/makemessages.py",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/8f750bf6e57b731a4cc8c710481c16bc95ee1291/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "raw_url": "https://github.com/django/django/raw/8f750bf6e57b731a4cc8c710481c16bc95ee1291/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py?ref=8f750bf6e57b731a4cc8c710481c16bc95ee1291",
            "patch": "@@ -15,27 +15,26 @@\n \n def handle_extensions(extensions=('html',)):\n     \"\"\"\n-    organizes multiple extensions that are separated with commas or passed by\n-    using --extension/-e multiple times.\n+    Organizes multiple extensions that are separated with commas or passed by\n+    using --extension/-e multiple times. Note that the .py extension is ignored\n+    here because of the way non-*.py files are handled in make_messages() (they\n+    are copied to file.ext.py files to trick xgettext to parse them as Python\n+    files).\n \n-    for example: running 'django-admin makemessages -e js,txt -e xhtml -a'\n-    would result in a extension list: ['.js', '.txt', '.xhtml']\n+    For example: running 'django-admin makemessages -e js,txt -e xhtml -a'\n+    would result in an extension list: ['.js', '.txt', '.xhtml']\n \n     >>> handle_extensions(['.html', 'html,js,py,py,py,.py', 'py,.py'])\n-    ['.html', '.js']\n+    set(['.html', '.js'])\n     >>> handle_extensions(['.html, txt,.tpl'])\n-    ['.html', '.tpl', '.txt']\n+    set(['.html', '.tpl', '.txt'])\n     \"\"\"\n     ext_list = []\n     for ext in extensions:\n         ext_list.extend(ext.replace(' ','').split(','))\n     for i, ext in enumerate(ext_list):\n         if not ext.startswith('.'):\n             ext_list[i] = '.%s' % ext_list[i]\n-\n-    # we don't want *.py files here because of the way non-*.py files\n-    # are handled in make_messages() (they are copied to file.ext.py files to\n-    # trick xgettext to parse them as Python files)\n     return set([x for x in ext_list if x != '.py'])\n \n def _popen(cmd):\n@@ -318,7 +317,7 @@ class Command(NoArgsCommand):\n         make_option('--all', '-a', action='store_true', dest='all',\n             default=False, help='Updates the message files for all existing locales.'),\n         make_option('--extension', '-e', dest='extensions',\n-            help='The file extension(s) to examine (default: \".html\", separate multiple extensions with commas, or use -e multiple times)',\n+            help='The file extension(s) to examine (default: \"html,txt\", or \"js\" if the domain is \"djangojs\"). Separate multiple extensions with commas, or use -e multiple times.',\n             action='append'),\n         make_option('--symlinks', '-s', action='store_true', dest='symlinks',\n             default=False, help='Follows symlinks to directories when examining source code and templates for translation strings.'),"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 10,
        "deletions": 11
    }
}