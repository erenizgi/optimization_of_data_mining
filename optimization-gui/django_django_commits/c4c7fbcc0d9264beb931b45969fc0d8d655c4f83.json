{
    "author": "jezdez",
    "message": "Fixed #18451 -- Vastly improved class based view documentation.\n\nMany thanks to Daniel Greenfeld, James Aylett, Marc Tamlyn, Simon Williams, Danilo Bargen and Luke Plant for their work on this.",
    "sha": "c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
    "files": [
        {
            "sha": "ea23ca45d01851486f12ffbe3916c65d8d02f81f",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -51,6 +51,7 @@ answer newbie questions, and generally made Django that much better:\n     Antoni Aloy\n     Daniel Alves Barbosa de Oliveira Vaz <danielvaz@gmail.com>\n     AgarFu <heaven@croasanaso.sytes.net>\n+    James Aylett\n     Dagur Páll Ammendrup <dagurp@gmail.com>\n     Collin Anderson <cmawebsite@gmail.com>\n     Jeff Anderson <jefferya@programmerq.net>\n@@ -85,6 +86,7 @@ answer newbie questions, and generally made Django that much better:\n     Esdras Beleza <linux@esdrasbeleza.com>\n     Chris Bennett <chrisrbennett@yahoo.com>\n     James Bennett\n+    Danilo Bargen\n     Shai Berger <shai@platonix.com>\n     Julian Bez\n     Arvis Bickovskis <viestards.lists@gmail.com>\n@@ -222,6 +224,7 @@ answer newbie questions, and generally made Django that much better:\n     pradeep.gowda@gmail.com\n     Collin Grady <collin@collingrady.com>\n     Gabriel Grant <g@briel.ca>\n+    Daniel Greenfeld\n     Simon Greenhill <dev@simon.net.nz>\n     Owen Griffiths\n     Espen Grindhaug <http://grindhaug.org/>\n@@ -507,6 +510,7 @@ answer newbie questions, and generally made Django that much better:\n     Aaron Swartz <http://www.aaronsw.com/>\n     Ville Säävuori <http://www.unessa.net/>\n     Mart Sõmermaa <http://mrts.pri.ee/>\n+    Marc Tamlyn\n     Christian Tanzer <tanzer@swing.co.at>\n     Tyler Tarabula <tyler.tarabula@gmail.com>\n     Tyson Tate <tyson@fallingbullets.com>\n@@ -555,6 +559,7 @@ answer newbie questions, and generally made Django that much better:\n     Mike Wiacek <mjwiacek@google.com>\n     Frank Wierzbicki\n     charly.wilhelm@gmail.com\n+    Simon Williams\n     Derek Willis <http://blog.thescoop.org/>\n     Rachel Willmer <http://www.willmer.com/kb/>\n     Jakub Wilk <ubanus@users.sf.net>"
        },
        {
            "sha": "69751727bbf8e23b6ebe1dd7a332d726a2a45d78",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -90,6 +90,9 @@ def http_method_not_allowed(self, request, *args, **kwargs):\n         return http.HttpResponseNotAllowed(self._allowed_methods())\n \n     def options(self, request, *args, **kwargs):\n+        \"\"\"\n+        Handles responding to requests for the OPTIONS HTTP verb.\n+        \"\"\"\n         response = http.HttpResponse()\n         response['Allow'] = ', '.join(self._allowed_methods())\n         response['Content-Length'] = 0\n@@ -108,7 +111,11 @@ class TemplateResponseMixin(object):\n \n     def render_to_response(self, context, **response_kwargs):\n         \"\"\"\n-        Returns a response with a template rendered with the given context.\n+        Returns a response, using the `response_class` for this\n+        view, with a template rendered with the given context.\n+\n+        If any keyword arguments are provided, they will be\n+        passed to the constructor of the response class.\n         \"\"\"\n         return self.response_class(\n             request = self.request,"
        },
        {
            "sha": "22a72bc43321685eee4b12968b87492ece4ff5f4",
            "filename": "django/views/generic/dates.py",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fdates.py",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fdates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdates.py?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -14,6 +14,9 @@\n from django.views.generic.list import MultipleObjectMixin, MultipleObjectTemplateResponseMixin\n \n class YearMixin(object):\n+    \"\"\"\n+    Mixin for views manipulating year-based data.\n+    \"\"\"\n     year_format = '%Y'\n     year = None\n \n@@ -67,6 +70,9 @@ def _get_current_year(self, date):\n \n \n class MonthMixin(object):\n+    \"\"\"\n+    Mixin for views manipulating month-based data.\n+    \"\"\"\n     month_format = '%b'\n     month = None\n \n@@ -123,6 +129,9 @@ def _get_current_month(self, date):\n \n \n class DayMixin(object):\n+    \"\"\"\n+    Mixin for views manipulating day-based data.\n+    \"\"\"\n     day_format = '%d'\n     day = None\n \n@@ -176,6 +185,9 @@ def _get_current_day(self, date):\n \n \n class WeekMixin(object):\n+    \"\"\"\n+    Mixin for views manipulating week-based data.\n+    \"\"\"\n     week_format = '%U'\n     week = None\n \n@@ -312,7 +324,7 @@ def _make_single_date_lookup(self, date):\n \n class BaseDateListView(MultipleObjectMixin, DateMixin, View):\n     \"\"\"\n-    Abstract base class for date-based views display a list of objects.\n+    Abstract base class for date-based views displaying a list of objects.\n     \"\"\"\n     allow_empty = False\n "
        },
        {
            "sha": "cc0b44512ea820c68615348efbdc10c3addcc5ce",
            "filename": "django/views/generic/detail.py",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fdetail.py",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fdetail.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdetail.py?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -48,6 +48,7 @@ def get_object(self, queryset=None):\n                                  % self.__class__.__name__)\n \n         try:\n+            # Get the single item from the filtered queryset\n             obj = queryset.get()\n         except ObjectDoesNotExist:\n             raise Http404(_(\"No %(verbose_name)s found matching the query\") %\n@@ -88,6 +89,9 @@ def get_context_object_name(self, obj):\n             return None\n \n     def get_context_data(self, **kwargs):\n+        \"\"\"\n+        Insert the single object into the context dict.\n+        \"\"\"\n         context = {}\n         context_object_name = self.get_context_object_name(self.object)\n         if context_object_name:\n@@ -97,6 +101,9 @@ def get_context_data(self, **kwargs):\n \n \n class BaseDetailView(SingleObjectMixin, View):\n+    \"\"\"\n+    A base view for displaying a single object\n+    \"\"\"\n     def get(self, request, *args, **kwargs):\n         self.object = self.get_object()\n         context = self.get_context_data(object=self.object)\n@@ -109,8 +116,13 @@ class SingleObjectTemplateResponseMixin(TemplateResponseMixin):\n \n     def get_template_names(self):\n         \"\"\"\n-        Return a list of template names to be used for the request. Must return\n-        a list. May not be called if render_to_response is overridden.\n+        Return a list of template names to be used for the request. May not be\n+        called if render_to_response is overridden. Returns the following list:\n+\n+        * the value of ``template_name`` on the view (if provided)\n+        * the contents of the ``template_name_field`` field on the\n+          object instance that the view is operating upon (if available)\n+        * ``<app_label>/<object_name><template_name_suffix>.html``        \n         \"\"\"\n         try:\n             names = super(SingleObjectTemplateResponseMixin, self).get_template_names()"
        },
        {
            "sha": "e51cdf5a3d5ab840059850f1e96b34ea09bcaf3c",
            "filename": "django/views/generic/edit.py",
            "status": "modified",
            "additions": 35,
            "deletions": 4,
            "changes": 39,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fedit.py",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Fedit.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fedit.py?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -46,6 +46,9 @@ def get_form_kwargs(self):\n         return kwargs\n \n     def get_success_url(self):\n+        \"\"\"\n+        Returns the supplied success URL.\n+        \"\"\"\n         if self.success_url:\n             url = self.success_url\n         else:\n@@ -54,9 +57,16 @@ def get_success_url(self):\n         return url\n \n     def form_valid(self, form):\n+        \"\"\"\n+        If the form is valid, redirect to the supplied URL.\n+        \"\"\"\n         return HttpResponseRedirect(self.get_success_url())\n \n     def form_invalid(self, form):\n+        \"\"\"\n+        If the form is invalid, re-render the context data with the\n+        data-filled form and errors.\n+        \"\"\"\n         return self.render_to_response(self.get_context_data(form=form))\n \n \n@@ -67,7 +77,7 @@ class ModelFormMixin(FormMixin, SingleObjectMixin):\n \n     def get_form_class(self):\n         \"\"\"\n-        Returns the form class to use in this view\n+        Returns the form class to use in this view.\n         \"\"\"\n         if self.form_class:\n             return self.form_class\n@@ -94,6 +104,9 @@ def get_form_kwargs(self):\n         return kwargs\n \n     def get_success_url(self):\n+        \"\"\"\n+        Returns the supplied URL.\n+        \"\"\"\n         if self.success_url:\n             url = self.success_url % self.object.__dict__\n         else:\n@@ -106,10 +119,17 @@ def get_success_url(self):\n         return url\n \n     def form_valid(self, form):\n+        \"\"\"\n+        If the form is valid, save the associated model.\n+        \"\"\"\n         self.object = form.save()\n         return super(ModelFormMixin, self).form_valid(form)\n \n     def get_context_data(self, **kwargs):\n+        \"\"\"\n+        If an object has been supplied, inject it into the context with the\n+        supplied context_object_name name.\n+        \"\"\"\n         context = {}\n         if self.object:\n             context['object'] = self.object\n@@ -122,14 +142,21 @@ def get_context_data(self, **kwargs):\n \n class ProcessFormView(View):\n     \"\"\"\n-    A mixin that processes a form on POST.\n+    A mixin that renders a form on GET and processes it on POST.\n     \"\"\"\n     def get(self, request, *args, **kwargs):\n+        \"\"\"\n+        Handles GET requests and instantiates a blank version of the form.\n+        \"\"\"\n         form_class = self.get_form_class()\n         form = self.get_form(form_class)\n         return self.render_to_response(self.get_context_data(form=form))\n \n     def post(self, request, *args, **kwargs):\n+        \"\"\"\n+        Handles POST requests, instantiating a form instance with the passed\n+        POST variables and then checked for validity.\n+        \"\"\"\n         form_class = self.get_form_class()\n         form = self.get_form(form_class)\n         if form.is_valid():\n@@ -172,7 +199,7 @@ def post(self, request, *args, **kwargs):\n \n class CreateView(SingleObjectTemplateResponseMixin, BaseCreateView):\n     \"\"\"\n-    View for creating an new object instance,\n+    View for creating a new object instance,\n     with a response rendered by template.\n     \"\"\"\n     template_name_suffix = '_form'\n@@ -196,7 +223,7 @@ def post(self, request, *args, **kwargs):\n class UpdateView(SingleObjectTemplateResponseMixin, BaseUpdateView):\n     \"\"\"\n     View for updating an object,\n-    with a response rendered by template..\n+    with a response rendered by template.\n     \"\"\"\n     template_name_suffix = '_form'\n \n@@ -208,6 +235,10 @@ class DeletionMixin(object):\n     success_url = None\n \n     def delete(self, request, *args, **kwargs):\n+        \"\"\"\n+        Calls the delete() method on the fetched object and then\n+        redirects to the success URL.\n+        \"\"\"\n         self.object = self.get_object()\n         self.object.delete()\n         return HttpResponseRedirect(self.get_success_url())"
        },
        {
            "sha": "ec30c58f294a2ae404bb56dedf4e7db94dbf13d8",
            "filename": "django/views/generic/list.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Flist.py",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/django%2Fviews%2Fgeneric%2Flist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Flist.py?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -8,6 +8,9 @@\n \n \n class MultipleObjectMixin(ContextMixin):\n+    \"\"\"\n+    A mixin for views manipulating multiple objects.\n+    \"\"\"\n     allow_empty = True\n     queryset = None\n     model = None\n@@ -111,6 +114,9 @@ def get_context_data(self, **kwargs):\n \n \n class BaseListView(MultipleObjectMixin, View):\n+    \"\"\"\n+    A base view for displaying a list of objects.\n+    \"\"\"\n     def get(self, request, *args, **kwargs):\n         self.object_list = self.get_queryset()\n         allow_empty = self.get_allow_empty()\n@@ -132,6 +138,9 @@ def get(self, request, *args, **kwargs):\n \n \n class MultipleObjectTemplateResponseMixin(TemplateResponseMixin):\n+    \"\"\"\n+    Mixin for responding with a template and list of objects.\n+    \"\"\"\n     template_name_suffix = '_list'\n \n     def get_template_names(self):"
        },
        {
            "sha": "138b5d1cfc393dcd5c734f3875778c280731e99c",
            "filename": "docs/glossary.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fglossary.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fglossary.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fglossary.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -16,7 +16,7 @@ Glossary\n         A higher-order :term:`view` function that provides an abstract/generic\n         implementation of a common idiom or pattern found in view development.\n \n-        See :doc:`/ref/class-based-views`.\n+        See :doc:`/topics/class-based-views/index`.\n \n     model\n         Models store your application's data."
        },
        {
            "sha": "f8c591891de573c64a62baed3156a2fe4c8570e0",
            "filename": "docs/howto/static-files.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fhowto%2Fstatic-files.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fhowto%2Fstatic-files.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fstatic-files.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -175,7 +175,7 @@ using :class:`~django.template.RequestContext` when rendering the template.\n As a brief refresher, context processors add variables into the contexts of\n every template. However, context processors require that you use\n :class:`~django.template.RequestContext` when rendering templates. This happens\n-automatically if you're using a :doc:`generic view </ref/class-based-views>`,\n+automatically if you're using a :doc:`generic view </ref/class-based-views/index>`,\n but in views written by hand you'll need to explicitly use ``RequestContext``\n To see how that works, and to read more details, check out\n :ref:`subclassing-context-requestcontext`."
        },
        {
            "sha": "50e8471b147fede7eccbfa648a130709c7dc58af",
            "filename": "docs/index.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -105,9 +105,10 @@ The view layer\n   :doc:`Managing files <topics/files>` |\n   :doc:`Custom storage <howto/custom-file-storage>`\n \n-* **Generic views:**\n-  :doc:`Overview<topics/class-based-views>` |\n-  :doc:`Built-in generic views<ref/class-based-views>`\n+* **Class-based views:**\n+  :doc:`Overview<topics/class-based-views/index>` |\n+  :doc:`Built-in class-based views<ref/class-based-views/index>` |\n+  :doc:`Built-in view mixins<ref/class-based-views/mixins>`\n \n * **Advanced:**\n   :doc:`Generating CSV <howto/outputting-csv>` |"
        },
        {
            "sha": "342ef5266aef31d25aed4c9fc1839800cac54056",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -134,7 +134,7 @@ these changes.\n \n * The function-based generic view modules will be removed in favor of their\n   class-based equivalents, outlined :doc:`here\n-  </topics/class-based-views>`:\n+  </topics/class-based-views/index>`:\n \n * The :class:`~django.core.servers.basehttp.AdminMediaHandler` will be\n   removed.  In its place use\n@@ -221,7 +221,7 @@ these changes.\n   the 1.4 release. They will be removed.\n \n * The :doc:`form wizard </ref/contrib/formtools/form-wizard>` has been\n-  refactored to use class based views with pluggable backends in 1.4.\n+  refactored to use class-based views with pluggable backends in 1.4.\n   The previous implementation will be removed.\n \n * Legacy ways of calling"
        },
        {
            "sha": "44b9c16c2a0cf80369651b9b86196d2c126076e0",
            "filename": "docs/intro/tutorial04.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fintro%2Ftutorial04.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fintro%2Ftutorial04.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fintro%2Ftutorial04.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -320,7 +320,7 @@ function anymore -- generic views can be (and are) used multiple times\n Run the server, and use your new polling app based on generic views.\n \n For full details on generic views, see the :doc:`generic views documentation\n-</topics/class-based-views>`.\n+</topics/class-based-views/index>`.\n \n Coming soon\n ==========="
        },
        {
            "sha": "2839ee3594ab29b52230743383a4ebb227af0eb8",
            "filename": "docs/misc/api-stability.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fmisc%2Fapi-stability.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fmisc%2Fapi-stability.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fmisc%2Fapi-stability.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -54,7 +54,7 @@ of 1.0. This includes these APIs:\n - :doc:`HTTP request/response handling </topics/http/index>`, including file\n   uploads, middleware, sessions, URL resolution, view, and shortcut APIs.\n \n-- :doc:`Generic views </topics/class-based-views>`.\n+- :doc:`Generic views </topics/class-based-views/index>`.\n \n - :doc:`Internationalization </topics/i18n/index>`.\n "
        },
        {
            "sha": "acd9db2d6650e07033e9ef5361c5b457aeadfbcc",
            "filename": "docs/ref/class-based-views.txt",
            "status": "removed",
            "additions": 0,
            "deletions": 1367,
            "changes": 1367,
            "blob_url": "https://github.com/django/django/blob/1a10a06b9f510f796beb2ffef39c7885cba2ad67/docs%2Fref%2Fclass-based-views.txt",
            "raw_url": "https://github.com/django/django/raw/1a10a06b9f510f796beb2ffef39c7885cba2ad67/docs%2Fref%2Fclass-based-views.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views.txt?ref=1a10a06b9f510f796beb2ffef39c7885cba2ad67",
            "patch": "@@ -1,1367 +0,0 @@\n-=========================\n-Class-based generic views\n-=========================\n-\n-.. versionadded:: 1.3\n-\n-.. note::\n-    Prior to Django 1.3, generic views were implemented as functions. The\n-    function-based implementation has been removed in favor of the\n-    class-based approach described here.\n-\n-Writing Web applications can be monotonous, because we repeat certain patterns\n-again and again. Django tries to take away some of that monotony at the model\n-and template layers, but Web developers also experience this boredom at the view\n-level.\n-\n-A general introduction to class-based generic views can be found in the\n-:doc:`topic guide </topics/class-based-views>`.\n-\n-This reference contains details of Django's built-in generic views, along with\n-a list of the keyword arguments that each generic view expects. Remember that\n-arguments may either come from the URL pattern or from the ``extra_context``\n-additional-information dictionary.\n-\n-Most generic views require the ``queryset`` key, which is a ``QuerySet``\n-instance; see :doc:`/topics/db/queries` for more information about ``QuerySet``\n-objects.\n-\n-Mixins\n-======\n-\n-A mixin class is a way of using the inheritance capabilities of\n-classes to compose a class out of smaller pieces of behavior. Django's\n-class-based generic views are constructed by composing mixins into\n-usable generic views.\n-\n-For example, the :class:`~django.views.generic.base.detail.DetailView`\n-is composed from:\n-\n-* :class:`~django.db.views.generic.base.View`, which provides the\n-  basic class-based behavior\n-* :class:`~django.db.views.generic.detail.SingleObjectMixin`, which\n-  provides the utilities for retrieving and displaying a single object\n-* :class:`~django.db.views.generic.detail.SingleObjectTemplateResponseMixin`,\n-  which provides the tools for rendering a single object into a\n-  template-based response.\n-\n-When combined, these mixins provide all the pieces necessary to\n-provide a view over a single object that renders a template to produce\n-a response.\n-\n-Django provides a range of mixins. If you want to write your own\n-generic views, you can build classes that compose these mixins in\n-interesting ways. Alternatively, you can just use the pre-mixed\n-`Generic views`_ that Django provides.\n-\n-.. note::\n-\n-    When the documentation for a view gives the list of mixins, that view\n-    inherits all the properties and methods of that mixin.\n-\n-Simple mixins\n--------------\n-\n-.. currentmodule:: django.views.generic.base\n-\n-TemplateResponseMixin\n-~~~~~~~~~~~~~~~~~~~~~\n-.. class:: TemplateResponseMixin()\n-\n-    .. attribute:: template_name\n-\n-        The path to the template to use when rendering the view.\n-\n-    .. attribute:: response_class\n-\n-        The response class to be returned by ``render_to_response`` method.\n-        Default is\n-        :class:`TemplateResponse <django.template.response.TemplateResponse>`.\n-        The template and context of ``TemplateResponse`` instances can be\n-        altered later (e.g. in\n-        :ref:`template response middleware <template-response-middleware>`).\n-\n-        If you need custom template loading or custom context object\n-        instantiation, create a ``TemplateResponse`` subclass and assign it to\n-        ``response_class``.\n-\n-    .. method:: render_to_response(context, **response_kwargs)\n-\n-        Returns a ``self.response_class`` instance.\n-\n-        If any keyword arguments are provided, they will be\n-        passed to the constructor of the response class.\n-\n-        Calls :meth:`~TemplateResponseMixin.get_template_names()` to obtain the\n-        list of template names that will be searched looking for an existent\n-        template.\n-\n-    .. method:: get_template_names()\n-\n-        Returns a list of template names to search for when rendering the\n-        template.\n-\n-        If :attr:`TemplateResponseMixin.template_name` is specified, the\n-        default implementation will return a list containing\n-        :attr:`TemplateResponseMixin.template_name` (if it is specified).\n-\n-\n-Single object mixins\n---------------------\n-\n-.. currentmodule:: django.views.generic.detail\n-\n-SingleObjectMixin\n-~~~~~~~~~~~~~~~~~\n-.. class:: SingleObjectMixin()\n-\n-    .. attribute:: model\n-\n-        The model that this view will display data for. Specifying ``model\n-        = Foo`` is effectively the same as specifying ``queryset =\n-        Foo.objects.all()``.\n-\n-    .. attribute:: queryset\n-\n-        A ``QuerySet`` that represents the objects. If provided, the value of\n-        :attr:`SingleObjectMixin.queryset` supersedes the value provided for\n-        :attr:`SingleObjectMixin.model`.\n-\n-    .. attribute:: slug_field\n-\n-        The name of the field on the model that contains the slug. By default,\n-        ``slug_field`` is ``'slug'``.\n-\n-    .. attribute:: slug_url_kwarg\n-\n-        .. versionadded:: 1.4\n-\n-        The name of the URLConf keyword argument that contains the slug. By\n-        default, ``slug_url_kwarg`` is ``'slug'``.\n-\n-    .. attribute:: pk_url_kwarg\n-\n-        .. versionadded:: 1.4\n-\n-        The name of the URLConf keyword argument that contains the primary key.\n-        By default, ``pk_url_kwarg`` is ``'pk'``.\n-\n-    .. attribute:: context_object_name\n-\n-        Designates the name of the variable to use in the context.\n-\n-    .. method:: get_object(queryset=None)\n-\n-        Returns the single object that this view will display. If\n-        ``queryset`` is provided, that queryset will be used as the\n-        source of objects; otherwise,\n-        :meth:`~SingleObjectMixin.get_queryset` will be used.\n-        ``get_object()`` looks for a\n-        :attr:`SingleObjectMixin.pk_url_kwarg` argument in the arguments\n-        to the view; if this argument is found, this method performs a\n-        primary-key based lookup using that value. If this argument is not\n-        found, it looks for a :attr:`SingleObjectMixin.slug_url_kwarg`\n-        argument, and performs a slug lookup using the\n-        :attr:`SingleObjectMixin.slug_field`.\n-\n-    .. method:: get_queryset()\n-\n-        Returns the queryset that will be used to retrieve the object that\n-        this view will display. By default,\n-        :meth:`~SingleObjectMixin.get_queryset` returns the value of the\n-        :attr:`~SingleObjectMixin.queryset` attribute if it is set, otherwise\n-        it constructs a :class:`QuerySet` by calling the `all()` method on the\n-        :attr:`~SingleObjectMixin.model` attribute's default manager.\n-\n-    .. method:: get_context_object_name(obj)\n-\n-        Return the context variable name that will be used to contain the\n-        data that this view is manipulating. If\n-        :attr:`~SingleObjectMixin.context_object_name` is not set, the context\n-        name will be constructed from the ``object_name`` of the model that\n-        the queryset is composed from. For example, the model ``Article``\n-        would have context object named ``'article'``.\n-\n-    .. method:: get_context_data(**kwargs)\n-\n-        Returns context data for displaying the list of objects.\n-\n-    **Context**\n-\n-    * ``object``: The object that this view is displaying. If\n-      ``context_object_name`` is specified, that variable will also be\n-      set in the context, with the same value as ``object``.\n-\n-SingleObjectTemplateResponseMixin\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-\n-.. class:: SingleObjectTemplateResponseMixin()\n-\n-    A mixin class that performs template-based response rendering for views\n-    that operate upon a single object instance. Requires that the view it is\n-    mixed with provides ``self.object``, the object instance that the view is\n-    operating on. ``self.object`` will usually be, but is not required to be,\n-    an instance of a Django model. It may be ``None`` if the view is in the\n-    process of constructing a new instance.\n-\n-    **Extends**\n-\n-    * :class:`~django.views.generic.base.TemplateResponseMixin`\n-\n-    .. attribute:: template_name_field\n-\n-        The field on the current object instance that can be used to determine\n-        the name of a candidate template. If either ``template_name_field`` or\n-        the value of the ``template_name_field`` on the current object instance\n-        is ``None``, the object will not be interrogated for a candidate\n-        template name.\n-\n-    .. attribute:: template_name_suffix\n-\n-        The suffix to append to the auto-generated candidate template name.\n-        Default suffix is ``_detail``.\n-\n-    .. method:: get_template_names()\n-\n-        Returns a list of candidate template names. Returns the following list:\n-\n-        * the value of ``template_name`` on the view (if provided)\n-        * the contents of the ``template_name_field`` field on the\n-          object instance that the view is operating upon (if available)\n-        * ``<app_label>/<object_name><template_name_suffix>.html``\n-\n-Multiple object mixins\n-----------------------\n-\n-.. currentmodule:: django.views.generic.list\n-\n-MultipleObjectMixin\n-~~~~~~~~~~~~~~~~~~~\n-.. class:: MultipleObjectMixin()\n-\n-    A mixin that can be used to display a list of objects.\n-\n-    If ``paginate_by`` is specified, Django will paginate the results returned\n-    by this. You can specify the page number in the URL in one of two ways:\n-\n-    * Use the ``page`` parameter in the URLconf. For example, this is what\n-      your URLconf might look like::\n-\n-        (r'^objects/page(?P<page>[0-9]+)/$', PaginatedView.as_view())\n-\n-    * Pass the page number via the ``page`` query-string parameter. For\n-      example, a URL would look like this::\n-\n-        /objects/?page=3\n-\n-    These values and lists are 1-based, not 0-based, so the first page would be\n-    represented as page ``1``.\n-\n-    For more on pagination, read the :doc:`pagination documentation\n-    </topics/pagination>`.\n-\n-    As a special case, you are also permitted to use ``last`` as a value for\n-    ``page``::\n-\n-        /objects/?page=last\n-\n-    This allows you to access the final page of results without first having to\n-    determine how many pages there are.\n-\n-    Note that ``page`` *must* be either a valid page number or the value\n-    ``last``; any other value for ``page`` will result in a 404 error.\n-\n-    .. attribute:: allow_empty\n-\n-        A boolean specifying whether to display the page if no objects are\n-        available. If this is ``False`` and no objects are available, the view\n-        will raise a 404 instead of displaying an empty page. By default, this\n-        is ``True``.\n-\n-    .. attribute:: model\n-\n-        The model that this view will display data for. Specifying ``model\n-        = Foo`` is effectively the same as specifying ``queryset =\n-        Foo.objects.all()``.\n-\n-    .. attribute:: queryset\n-\n-        A ``QuerySet`` that represents the objects. If provided, the value of\n-        :attr:`MultipleObjectMixin.queryset` supersedes the value provided for\n-        :attr:`MultipleObjectMixin.model`.\n-\n-    .. attribute:: paginate_by\n-\n-        An integer specifying how many objects should be displayed per page. If\n-        this is given, the view will paginate objects with\n-        :attr:`MultipleObjectMixin.paginate_by` objects per page. The view will\n-        expect either a ``page`` query string parameter (via ``GET``) or a\n-        ``page`` variable specified in the URLconf.\n-\n-    .. attribute:: paginator_class\n-\n-       The paginator class to be used for pagination. By default,\n-       :class:`django.core.paginator.Paginator` is used. If the custom paginator\n-       class doesn't have the same constructor interface as\n-       :class:`django.core.paginator.Paginator`, you will also need to\n-       provide an implementation for :meth:`MultipleObjectMixin.get_paginator`.\n-\n-    .. attribute:: context_object_name\n-\n-        Designates the name of the variable to use in the context.\n-\n-    .. method:: get_queryset()\n-\n-        Returns the queryset that represents the data this view will display.\n-\n-    .. method:: paginate_queryset(queryset, page_size)\n-\n-        Returns a 4-tuple containing (``paginator``, ``page``, ``object_list``,\n-        ``is_paginated``).\n-\n-        Constructed by paginating ``queryset`` into pages of size ``page_size``.\n-        If the request contains a ``page`` argument, either as a captured URL\n-        argument or as a GET argument, ``object_list`` will correspond to the\n-        objects from that page.\n-\n-    .. method:: get_paginate_by(queryset)\n-\n-        Returns the number of items to paginate by, or ``None`` for no\n-        pagination. By default this simply returns the value of\n-        :attr:`MultipleObjectMixin.paginate_by`.\n-\n-    .. method:: get_paginator(queryset, per_page, orphans=0, allow_empty_first_page=True)\n-\n-        Returns an instance of the paginator to use for this view. By default,\n-        instantiates an instance of :attr:`paginator_class`.\n-\n-    .. method:: get_allow_empty()\n-\n-        Return a boolean specifying whether to display the page if no objects\n-        are available. If this method returns ``False`` and no objects are\n-        available, the view will raise a 404 instead of displaying an empty\n-        page. By default, this is ``True``.\n-\n-    .. method:: get_context_object_name(object_list)\n-\n-        Return the context variable name that will be used to contain\n-        the list of data that this view is manipulating. If\n-        ``object_list`` is a queryset of Django objects and\n-        :attr:`~MultipleObjectMixin.context_object_name` is not set,\n-        the context name will be the ``object_name`` of the model that\n-        the queryset is composed from, with postfix ``'_list'``\n-        appended. For example, the model ``Article`` would have a\n-        context object named ``article_list``.\n-\n-    .. method:: get_context_data(**kwargs)\n-\n-        Returns context data for displaying the list of objects.\n-\n-    **Context**\n-\n-    * ``object_list``: The list of objects that this view is displaying. If\n-      ``context_object_name`` is specified, that variable will also be set\n-      in the context, with the same value as ``object_list``.\n-\n-    * ``is_paginated``: A boolean representing whether the results are\n-      paginated. Specifically, this is set to ``False`` if no page size has\n-      been specified, or if the available objects do not span multiple\n-      pages.\n-\n-    * ``paginator``: An instance of\n-      :class:`django.core.paginator.Paginator`. If the page is not\n-      paginated, this context variable will be ``None``.\n-\n-    * ``page_obj``: An instance of\n-      :class:`django.core.paginator.Page`. If the page is not paginated,\n-      this context variable will be ``None``.\n-\n-MultipleObjectTemplateResponseMixin\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-.. class:: MultipleObjectTemplateResponseMixin()\n-\n-    A mixin class that performs template-based response rendering for views\n-    that operate upon a list of object instances. Requires that the view it is\n-    mixed with provides ``self.object_list``, the list of object instances that\n-    the view is operating on. ``self.object_list`` may be, but is not required\n-    to be, a :class:`~django.db.models.query.QuerySet`.\n-\n-    **Extends**\n-\n-    * :class:`~django.views.generic.base.TemplateResponseMixin`\n-\n-    .. attribute:: template_name_suffix\n-\n-        The suffix to append to the auto-generated candidate template name.\n-        Default suffix is ``_list``.\n-\n-    .. method:: get_template_names()\n-\n-        Returns a list of candidate template names. Returns the following list:\n-\n-        * the value of ``template_name`` on the view (if provided)\n-        * ``<app_label>/<object_name><template_name_suffix>.html``\n-\n-Editing mixins\n---------------\n-\n-.. currentmodule:: django.views.generic.edit\n-\n-FormMixin\n-~~~~~~~~~\n-.. class:: FormMixin()\n-\n-    A mixin class that provides facilities for creating and displaying forms.\n-\n-    .. attribute:: initial\n-\n-        A dictionary containing initial data for the form.\n-\n-    .. attribute:: form_class\n-\n-        The form class to instantiate.\n-\n-    .. attribute:: success_url\n-\n-        The URL to redirect to when the form is successfully processed.\n-\n-    .. method:: get_initial()\n-\n-        Retrieve initial data for the form. By default, returns a copy of\n-        :attr:`.initial`.\n-\n-    .. admonition:: Changed in 1.4\n-\n-        In Django 1.3, this method was returning the :attr:`initial` class\n-        variable itself.\n-\n-    .. method:: get_form_class()\n-\n-        Retrieve the form class to instantiate. By default\n-        :attr:`.form_class`.\n-\n-    .. method:: get_form(form_class)\n-\n-        Instantiate an instance of ``form_class`` using\n-        :meth:`.get_form_kwargs`.\n-\n-    .. method:: get_form_kwargs()\n-\n-        Build the keyword arguments required to instantiate the form.\n-\n-        The ``initial`` argument is set to :meth:`.get_initial`. If the\n-        request is a ``POST`` or ``PUT``, the request data (``request.POST``\n-        and ``request.FILES``) will also be provided.\n-\n-    .. method:: get_success_url()\n-\n-        Determine the URL to redirect to when the form is successfully\n-        validated. Returns :attr:`.success_url` by default.\n-\n-    .. method:: form_valid(form)\n-\n-        Redirects to :meth:`.get_success_url`.\n-\n-    .. method:: form_invalid(form)\n-\n-        Renders a response, providing the invalid form as context.\n-\n-    .. method:: get_context_data(**kwargs)\n-\n-        Populates a context containing the contents of ``kwargs``.\n-\n-    **Context**\n-\n-    * ``form``: The form instance that was generated for the view.\n-\n-    .. note::\n-\n-        Views mixing :class:`FormMixin` must\n-        provide an implementation of :meth:`.form_valid` and\n-        :meth:`.form_invalid`.\n-\n-ModelFormMixin\n-~~~~~~~~~~~~~~\n-.. class:: ModelFormMixin()\n-\n-    A form mixin that works on ModelForms, rather than a standalone form.\n-\n-    Since this is a subclass of\n-    :class:`~django.views.generic.detail.SingleObjectMixin`, instances of this\n-    mixin have access to the :attr:`~SingleObjectMixin.model` and\n-    :attr:`~SingleObjectMixin.queryset` attributes, describing the type of\n-    object that the ModelForm is manipulating. The view also provides\n-    ``self.object``, the instance being manipulated. If the instance is being\n-    created, ``self.object`` will be ``None``.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.edit.FormMixin`\n-    * :class:`django.views.generic.detail.SingleObjectMixin`\n-\n-    .. attribute:: success_url\n-\n-        The URL to redirect to when the form is successfully processed.\n-\n-        ``success_url`` may contain dictionary string formatting, which\n-        will be interpolated against the object's field attributes. For\n-        example, you could use ``success_url=\"/polls/%(slug)s/\"`` to\n-        redirect to a URL composed out of the ``slug`` field on a model.\n-\n-    .. method:: get_form_class()\n-\n-        Retrieve the form class to instantiate. If\n-        :attr:`FormMixin.form_class` is provided, that class will be used.\n-        Otherwise, a ModelForm will be instantiated using the model associated\n-        with the :attr:`~SingleObjectMixin.queryset`, or with the\n-        :attr:`~SingleObjectMixin.model`, depending on which attribute is\n-        provided.\n-\n-    .. method:: get_form_kwargs()\n-\n-        Add the current instance (``self.object``) to the standard\n-        :meth:`FormMixin.get_form_kwargs`.\n-\n-    .. method:: get_success_url()\n-\n-        Determine the URL to redirect to when the form is successfully\n-        validated. Returns :attr:`FormMixin.success_url` if it is provided;\n-        otherwise, attempts to use the ``get_absolute_url()`` of the object.\n-\n-    .. method:: form_valid(form)\n-\n-        Saves the form instance, sets the current object for the view, and\n-        redirects to :meth:`.get_success_url`.\n-\n-    .. method:: form_invalid()\n-\n-        Renders a response, providing the invalid form as context.\n-\n-ProcessFormView\n-~~~~~~~~~~~~~~~\n-.. class:: ProcessFormView()\n-\n-    A mixin that provides basic HTTP GET and POST workflow.\n-\n-    .. method:: get(request, *args, **kwargs)\n-\n-        Constructs a form, then renders a response using a context that\n-        contains that form.\n-\n-    .. method:: post(request, *args, **kwargs)\n-\n-        Constructs a form, checks the form for validity, and handles it\n-        accordingly.\n-\n-    The PUT action is also handled, as an analog of POST.\n-\n-DeletionMixin\n-~~~~~~~~~~~~~\n-.. class:: DeletionMixin()\n-\n-    Enables handling of the ``DELETE`` http action.\n-\n-    .. attribute:: success_url\n-\n-        The url to redirect to when the nominated object has been\n-        successfully deleted.\n-\n-    .. method:: get_success_url(obj)\n-\n-        Returns the url to redirect to when the nominated object has been\n-        successfully deleted. Returns\n-        :attr:`~django.views.generic.edit.DeletionMixin.success_url` by\n-        default.\n-\n-Date-based mixins\n------------------\n-\n-.. currentmodule:: django.views.generic.dates\n-\n-YearMixin\n-~~~~~~~~~\n-.. class:: YearMixin()\n-\n-    A mixin that can be used to retrieve and provide parsing information for a\n-    year component of a date.\n-\n-    .. attribute:: year_format\n-\n-        The :func:`~time.strftime` format to use when parsing the year.\n-        By default, this is ``'%Y'``.\n-\n-    .. attribute:: year\n-\n-        **Optional** The value for the year (as a string). By default, set to\n-        ``None``, which means the year will be determined using other means.\n-\n-    .. method:: get_year_format()\n-\n-        Returns the :func:`~time.strftime` format to use when parsing the year. Returns\n-        :attr:`YearMixin.year_format` by default.\n-\n-    .. method:: get_year()\n-\n-        Returns the year for which this view will display data. Tries the\n-        following sources, in order:\n-\n-        * The value of the :attr:`YearMixin.year` attribute.\n-        * The value of the `year` argument captured in the URL pattern\n-        * The value of the `year` GET query argument.\n-\n-        Raises a 404 if no valid year specification can be found.\n-\n-MonthMixin\n-~~~~~~~~~~\n-.. class:: MonthMixin()\n-\n-    A mixin that can be used to retrieve and provide parsing information for a\n-    month component of a date.\n-\n-    .. attribute:: month_format\n-\n-        The :func:`~time.strftime` format to use when parsing the month. By default, this is\n-        ``'%b'``.\n-\n-    .. attribute:: month\n-\n-        **Optional** The value for the month (as a string). By default, set to\n-        ``None``, which means the month will be determined using other means.\n-\n-    .. method:: get_month_format()\n-\n-        Returns the :func:`~time.strftime` format to use when parsing the month. Returns\n-        :attr:`MonthMixin.month_format` by default.\n-\n-    .. method:: get_month()\n-\n-        Returns the month for which this view will display data. Tries the\n-        following sources, in order:\n-\n-        * The value of the :attr:`MonthMixin.month` attribute.\n-        * The value of the `month` argument captured in the URL pattern\n-        * The value of the `month` GET query argument.\n-\n-        Raises a 404 if no valid month specification can be found.\n-\n-    .. method:: get_next_month(date)\n-\n-        Returns a date object containing the first day of the month after the\n-        date provided. Returns ``None`` if mixed with a view that sets\n-        ``allow_future = False``, and the next month is in the future. If\n-        ``allow_empty = False``, returns the next month that contains data.\n-\n-    .. method:: get_prev_month(date)\n-\n-        Returns a date object containing the first day of the month before the\n-        date provided. If ``allow_empty = False``, returns the previous month\n-        that contained data.\n-\n-DayMixin\n-~~~~~~~~~\n-.. class:: DayMixin()\n-\n-    A mixin that can be used to retrieve and provide parsing information for a\n-    day component of a date.\n-\n-    .. attribute:: day_format\n-\n-        The :func:`~time.strftime` format to use when parsing the day. By default, this is\n-        ``'%d'``.\n-\n-    .. attribute:: day\n-\n-        **Optional** The value for the day (as a string). By default, set to\n-        ``None``, which means the day will be determined using other means.\n-\n-    .. method:: get_day_format()\n-\n-        Returns the :func:`~time.strftime` format to use when parsing the day. Returns\n-        :attr:`DayMixin.day_format` by default.\n-\n-    .. method:: get_day()\n-\n-        Returns the day for which this view will display data. Tries the\n-        following sources, in order:\n-\n-        * The value of the :attr:`DayMixin.day` attribute.\n-        * The value of the `day` argument captured in the URL pattern\n-        * The value of the `day` GET query argument.\n-\n-        Raises a 404 if no valid day specification can be found.\n-\n-    .. method:: get_next_day(date)\n-\n-        Returns a date object containing the next day after the date provided.\n-        Returns ``None`` if mixed with a view that sets ``allow_future = False``,\n-        and the next day is in the future. If ``allow_empty = False``, returns\n-        the next day that contains data.\n-\n-    .. method:: get_prev_day(date)\n-\n-        Returns a date object containing the previous day. If\n-        ``allow_empty = False``, returns the previous day that contained data.\n-\n-WeekMixin\n-~~~~~~~~~\n-.. class:: WeekMixin()\n-\n-    A mixin that can be used to retrieve and provide parsing information for a\n-    week component of a date.\n-\n-    .. attribute:: week_format\n-\n-        The :func:`~time.strftime` format to use when parsing the week. By default, this is\n-        ``'%U'``.\n-\n-    .. attribute:: week\n-\n-        **Optional** The value for the week (as a string). By default, set to\n-        ``None``, which means the week will be determined using other means.\n-\n-    .. method:: get_week_format()\n-\n-        Returns the :func:`~time.strftime` format to use when parsing the week. Returns\n-        :attr:`WeekMixin.week_format` by default.\n-\n-    .. method:: get_week()\n-\n-        Returns the week for which this view will display data. Tries the\n-        following sources, in order:\n-\n-        * The value of the :attr:`WeekMixin.week` attribute.\n-        * The value of the `week` argument captured in the URL pattern\n-        * The value of the `week` GET query argument.\n-\n-        Raises a 404 if no valid week specification can be found.\n-\n-\n-DateMixin\n-~~~~~~~~~\n-.. class:: DateMixin()\n-\n-    A mixin class providing common behavior for all date-based views.\n-\n-    .. attribute:: date_field\n-\n-        The name of the ``DateField`` or ``DateTimeField`` in the\n-        ``QuerySet``'s model that the date-based archive should use to\n-        determine the objects on the page.\n-\n-        When :doc:`time zone support </topics/i18n/timezones>` is enabled and\n-        ``date_field`` is a ``DateTimeField``, dates are assumed to be in the\n-        current time zone. Otherwise, the queryset could include objects from\n-        the previous or the next day in the end user's time zone.\n-\n-        .. warning::\n-\n-            In this situation, if you have implemented per-user time zone\n-            selection, the same URL may show a different set of objects,\n-            depending on the end user's time zone. To avoid this, you should\n-            use a ``DateField`` as the ``date_field`` attribute.\n-\n-    .. attribute:: allow_future\n-\n-        A boolean specifying whether to include \"future\" objects on this page,\n-        where \"future\" means objects in which the field specified in\n-        ``date_field`` is greater than the current date/time. By default, this\n-        is ``False``.\n-\n-    .. method:: get_date_field()\n-\n-        Returns the name of the field that contains the date data that this\n-        view will operate on. Returns :attr:`DateMixin.date_field` by default.\n-\n-    .. method:: get_allow_future()\n-\n-        Determine whether to include \"future\" objects on this page, where\n-        \"future\" means objects in which the field specified in ``date_field``\n-        is greater than the current date/time. Returns\n-        :attr:`DateMixin.allow_future` by default.\n-\n-BaseDateListView\n-~~~~~~~~~~~~~~~~\n-.. class:: BaseDateListView()\n-\n-    A base class that provides common behavior for all date-based views. There\n-    won't normally be a reason to instantiate\n-    :class:`~django.views.generic.dates.BaseDateListView`; instantiate one of\n-    the subclasses instead.\n-\n-    While this view (and it's subclasses) are executing, ``self.object_list``\n-    will contain the list of objects that the view is operating upon, and\n-    ``self.date_list`` will contain the list of dates for which data is\n-    available.\n-\n-    **Mixins**\n-\n-    * :class:`~django.views.generic.dates.DateMixin`\n-    * :class:`~django.views.generic.list.MultipleObjectMixin`\n-\n-    .. attribute:: allow_empty\n-\n-        A boolean specifying whether to display the page if no objects are\n-        available. If this is ``True`` and no objects are available, the view\n-        will display an empty page instead of raising a 404. By default, this\n-        is ``False``.\n-\n-    .. method:: get_dated_items():\n-\n-        Returns a 3-tuple containing (``date_list``, ``object_list``,\n-        ``extra_context``).\n-\n-        ``date_list`` is the list of dates for which data is available.\n-        ``object_list`` is the list of objects. ``extra_context`` is a\n-        dictionary of context data that will be added to any context data\n-        provided by the\n-        :class:`~django.views.generic.list.MultipleObjectMixin`.\n-\n-    .. method:: get_dated_queryset(**lookup)\n-\n-        Returns a queryset, filtered using the query arguments defined by\n-        ``lookup``. Enforces any restrictions on the queryset, such as\n-        ``allow_empty`` and ``allow_future``.\n-\n-    .. method:: get_date_list(queryset, date_type)\n-\n-        Returns the list of dates of type ``date_type`` for which\n-        ``queryset`` contains entries. For example, ``get_date_list(qs,\n-        'year')`` will return the list of years for which ``qs`` has entries.\n-        See :meth:`~django.db.models.query.QuerySet.dates()` for the\n-        ways that the ``date_type`` argument can be used.\n-\n-\n-Generic views\n-=============\n-\n-Simple generic views\n---------------------\n-\n-.. currentmodule:: django.views.generic.base\n-\n-View\n-~~~~\n-.. class:: View()\n-\n-    The master class-based base view. All other generic class-based views\n-    inherit from this base class.\n-\n-    Each request served by a :class:`~django.views.generic.base.View` has an\n-    independent state; therefore, it is safe to store state variables on the\n-    instance (i.e., ``self.foo = 3`` is a thread-safe operation).\n-\n-    A class-based view is deployed into a URL pattern using the\n-    :meth:`~View.as_view()` classmethod::\n-\n-        urlpatterns = patterns('',\n-                (r'^view/$', MyView.as_view(size=42)),\n-            )\n-\n-    Any argument passed into :meth:`~View.as_view()` will be assigned onto the\n-    instance that is used to service a request. Using the previous example,\n-    this means that every request on ``MyView`` is able to interrogate\n-    ``self.size``.\n-\n-    .. admonition:: Thread safety with view arguments\n-\n-        Arguments passed to a view are shared between every instance of a view.\n-        This means that you shoudn't use a list, dictionary, or any other\n-        variable object as an argument to a view. If you did, the actions of\n-        one user visiting your view could have an effect on subsequent users\n-        visiting the same view.\n-\n-    .. method:: dispatch(request, *args, **kwargs)\n-\n-        The ``view`` part of the view -- the method that accepts a ``request``\n-        argument plus arguments, and returns a HTTP response.\n-\n-        The default implementation will inspect the HTTP method and attempt to\n-        delegate to a method that matches the HTTP method; a ``GET`` will be\n-        delegated to :meth:`~View.get()`, a ``POST`` to :meth:`~View.post()`,\n-        and so on.\n-\n-        The default implementation also sets ``request``, ``args`` and\n-        ``kwargs`` as instance variables, so any method on the view can know\n-        the full details of the request that was made to invoke the view.\n-\n-    .. method:: http_method_not_allowed(request, *args, **kwargs)\n-\n-        If the view was called with HTTP method it doesn't support, this method\n-        is called instead.\n-\n-        The default implementation returns ``HttpResponseNotAllowed`` with list\n-        of allowed methods in plain text.\n-\n-TemplateView\n-~~~~~~~~~~~~\n-.. class:: TemplateView()\n-\n-    Renders a given template, passing it a ``{{ params }}`` template variable,\n-    which is a dictionary of the parameters captured in the URL.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.base.TemplateResponseMixin`\n-\n-    .. attribute:: template_name\n-\n-        The full name of a template to use.\n-\n-    .. method:: get_context_data(**kwargs)\n-\n-        Return a context data dictionary consisting of the contents of\n-        ``kwargs`` stored in the context variable ``params``.\n-\n-    **Context**\n-\n-    * ``params``: The dictionary of keyword arguments captured from the URL\n-      pattern that served the view.\n-\n-RedirectView\n-~~~~~~~~~~~~\n-.. class:: RedirectView()\n-\n-    Redirects to a given URL.\n-\n-    The given URL may contain dictionary-style string formatting, which will be\n-    interpolated against the parameters captured in the URL. Because keyword\n-    interpolation is *always* done (even if no arguments are passed in), any\n-    ``\"%\"`` characters in the URL must be written as ``\"%%\"`` so that Python\n-    will convert them to a single percent sign on output.\n-\n-    If the given URL is ``None``, Django will return an ``HttpResponseGone``\n-    (410).\n-\n-    .. attribute:: url\n-\n-        The URL to redirect to, as a string. Or ``None`` to raise a 410 (Gone)\n-        HTTP error.\n-\n-    .. attribute:: permanent\n-\n-        Whether the redirect should be permanent. The only difference here is\n-        the HTTP status code returned. If ``True``, then the redirect will use\n-        status code 301. If ``False``, then the redirect will use status code\n-        302. By default, ``permanent`` is ``True``.\n-\n-    .. attribute:: query_string\n-\n-        Whether to pass along the GET query string to the new location. If\n-        ``True``, then the query string is appended to the URL. If ``False``,\n-        then the query string is discarded. By default, ``query_string`` is\n-        ``False``.\n-\n-    .. method:: get_redirect_url(**kwargs)\n-\n-        Constructs the target URL for redirection.\n-\n-        The default implementation uses :attr:`~RedirectView.url` as a starting\n-        string, performs expansion of ``%`` parameters in that string, as well\n-        as the appending of query string if requested by\n-        :attr:`~RedirectView.query_string`. Subclasses may implement any\n-        behavior they wish, as long as the method returns a redirect-ready URL\n-        string.\n-\n-Detail views\n-------------\n-\n-.. currentmodule:: django.views.generic.detail\n-\n-DetailView\n-~~~~~~~~~~\n-.. class:: BaseDetailView()\n-.. class:: DetailView()\n-\n-    A page representing an individual object.\n-\n-    While this view is executing, ``self.object`` will contain the object that\n-    the view is operating upon.\n-\n-    :class:`~django.views.generic.base.BaseDetailView` implements the same\n-    behavior as :class:`~django.views.generic.base.DetailView`, but doesn't\n-    include the\n-    :class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.detail.SingleObjectMixin`\n-    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n-\n-List views\n-----------\n-\n-.. currentmodule:: django.views.generic.list\n-\n-ListView\n-~~~~~~~~\n-.. class:: BaseListView()\n-.. class:: ListView()\n-\n-    A page representing a list of objects.\n-\n-    While this view is executing, ``self.object_list`` will contain the list of\n-    objects (usually, but not necessarily a queryset) that the view is\n-    operating upon.\n-\n-    :class:`~django.views.generic.list.BaseListView` implements the same\n-    behavior as :class:`~django.views.generic.list.ListView`, but doesn't\n-    include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectMixin`\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-\n-\n-Editing views\n--------------\n-\n-.. currentmodule:: django.views.generic.edit\n-\n-FormView\n-~~~~~~~~\n-.. class:: BaseFormView()\n-.. class:: FormView()\n-\n-    A view that displays a form. On error, redisplays the form with validation\n-    errors; on success, redirects to a new URL.\n-\n-    :class:`~django.views.generic.edit.BaseFormView` implements the same\n-    behavior as :class:`~django.views.generic.edit.FormView`, but doesn't\n-    include the :class:`~django.views.generic.base.TemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.edit.FormMixin`\n-    * :class:`django.views.generic.edit.ProcessFormView`\n-\n-CreateView\n-~~~~~~~~~~\n-.. class:: BaseCreateView()\n-.. class:: CreateView()\n-\n-    A view that displays a form for creating an object, redisplaying the form\n-    with validation errors (if there are any) and saving the object.\n-\n-    :class:`~django.views.generic.edit.BaseCreateView` implements the same\n-    behavior as :class:`~django.views.generic.edit.CreateView`, but doesn't\n-    include the :class:`~django.views.generic.base.TemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.edit.ModelFormMixin`\n-    * :class:`django.views.generic.edit.ProcessFormView`\n-\n-UpdateView\n-~~~~~~~~~~\n-.. class:: BaseUpdateView()\n-.. class:: UpdateView()\n-\n-    A view that displays a form for editing an existing object, redisplaying\n-    the form with validation errors (if there are any) and saving changes to\n-    the object. This uses a form automatically generated from the object's\n-    model class (unless a form class is manually specified).\n-\n-    :class:`~django.views.generic.edit.BaseUpdateView` implements the same\n-    behavior as :class:`~django.views.generic.edit.UpdateView`, but doesn't\n-    include the :class:`~django.views.generic.base.TemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.edit.ModelFormMixin`\n-    * :class:`django.views.generic.edit.ProcessFormView`\n-\n-DeleteView\n-~~~~~~~~~~\n-.. class:: BaseDeleteView()\n-.. class:: DeleteView()\n-\n-    A view that displays a confirmation page and deletes an existing object.\n-    The given object will only be deleted if the request method is ``POST``. If\n-    this view is fetched via ``GET``, it will display a confirmation page that\n-    should contain a form that POSTs to the same URL.\n-\n-    :class:`~django.views.generic.edit.BaseDeleteView` implements the same\n-    behavior as :class:`~django.views.generic.edit.DeleteView`, but doesn't\n-    include the :class:`~django.views.generic.base.TemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.edit.DeletionMixin`\n-    * :class:`django.views.generic.detail.BaseDetailView`\n-\n-    **Notes**\n-\n-    * The delete confirmation page displayed to a GET request uses a\n-      ``template_name_suffix`` of ``'_confirm_delete'``.\n-\n-Date-based views\n-----------------\n-\n-Date-based generic views (in the module :mod:`django.views.generic.dates`)\n-are views for displaying drilldown pages for date-based data.\n-\n-.. currentmodule:: django.views.generic.dates\n-\n-ArchiveIndexView\n-~~~~~~~~~~~~~~~~\n-.. class:: BaseArchiveIndexView()\n-.. class:: ArchiveIndexView()\n-\n-    A top-level index page showing the \"latest\" objects, by date. Objects with\n-    a date in the *future* are not included unless you set ``allow_future`` to\n-    ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseArchiveIndexView` implements the\n-    same behavior as :class:`~django.views.generic.dates.ArchiveIndexView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.dates.BaseDateListView`\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-\n-    **Notes**\n-\n-    * Uses a default ``context_object_name`` of ``latest``.\n-    * Uses a default ``template_name_suffix`` of ``_archive``.\n-\n-YearArchiveView\n-~~~~~~~~~~~~~~~\n-.. class:: BaseYearArchiveView()\n-.. class:: YearArchiveView()\n-\n-    A yearly archive page showing all available months in a given year. Objects\n-    with a date in the *future* are not displayed unless you set\n-    ``allow_future`` to ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseYearArchiveView` implements the\n-    same behavior as :class:`~django.views.generic.dates.YearArchiveView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.dates.YearMixin`\n-    * :class:`django.views.generic.dates.BaseDateListView`\n-\n-    .. attribute:: make_object_list\n-\n-        A boolean specifying whether to retrieve the full list of objects for\n-        this year and pass those to the template. If ``True``, the list of\n-        objects will be made available to the context. By default, this is\n-        ``False``.\n-\n-    .. method:: get_make_object_list()\n-\n-        Determine if an object list will be returned as part of the context. If\n-        ``False``, the ``None`` queryset will be used as the object list.\n-\n-    **Context**\n-\n-    In addition to the context provided by\n-    :class:`django.views.generic.list.MultipleObjectMixin` (via\n-    :class:`django.views.generic.dates.BaseDateListView`), the template's\n-    context will be:\n-\n-    * ``date_list``: A ``DateQuerySet`` object containing all months that\n-      have objects available according to ``queryset``, represented as\n-      ``datetime.datetime`` objects, in ascending order.\n-\n-    * ``year``: A ``datetime.date`` object representing the given year.\n-\n-    * ``next_year``: A ``datetime.date`` object representing the first day\n-      of the next year. If the next year is in the future, this will be\n-      ``None``.\n-\n-    * ``previous_year``: A ``datetime.date`` object representing the first\n-      day of the previous year. Unlike ``next_year``, this will never be\n-      ``None``.\n-\n-    **Notes**\n-\n-    * Uses a default ``template_name_suffix`` of ``_archive_year``.\n-\n-MonthArchiveView\n-~~~~~~~~~~~~~~~~\n-.. class:: BaseMonthArchiveView()\n-.. class:: MonthArchiveView()\n-\n-    A monthly archive page showing all objects in a given month. Objects with a\n-    date in the *future* are not displayed unless you set ``allow_future`` to\n-    ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseMonthArchiveView` implements\n-    the same behavior as\n-    :class:`~django.views.generic.dates.MonthArchiveView`, but doesn't\n-    include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.dates.YearMixin`\n-    * :class:`django.views.generic.dates.MonthMixin`\n-    * :class:`django.views.generic.dates.BaseDateListView`\n-\n-    **Context**\n-\n-    In addition to the context provided by\n-    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n-    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n-    context will be:\n-\n-    * ``date_list``: A ``DateQuerySet`` object containing all days that\n-      have objects available in the given month, according to ``queryset``,\n-      represented as ``datetime.datetime`` objects, in ascending order.\n-\n-    * ``month``: A ``datetime.date`` object representing the given month.\n-\n-    * ``next_month``: A ``datetime.date`` object representing the first day\n-      of the next month. If the next month is in the future, this will be\n-      ``None``.\n-\n-    * ``previous_month``: A ``datetime.date`` object representing the first\n-      day of the previous month. Unlike ``next_month``, this will never be\n-      ``None``.\n-\n-    **Notes**\n-\n-    * Uses a default ``template_name_suffix`` of ``_archive_month``.\n-\n-WeekArchiveView\n-~~~~~~~~~~~~~~~\n-.. class:: BaseWeekArchiveView()\n-.. class:: WeekArchiveView()\n-\n-    A weekly archive page showing all objects in a given week. Objects with a\n-    date in the *future* are not displayed unless you set ``allow_future`` to\n-    ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseWeekArchiveView` implements the\n-    same behavior as :class:`~django.views.generic.dates.WeekArchiveView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.dates.YearMixin`\n-    * :class:`django.views.generic.dates.MonthMixin`\n-    * :class:`django.views.generic.dates.BaseDateListView`\n-\n-    **Context**\n-\n-    In addition to the context provided by\n-    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n-    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n-    context will be:\n-\n-    * ``week``: A ``datetime.date`` object representing the first day of\n-      the given week.\n-\n-    * ``next_week``: A ``datetime.date`` object representing the first day\n-      of the next week. If the next week is in the future, this will be\n-      ``None``.\n-\n-    * ``previous_week``: A ``datetime.date`` object representing the first\n-      day of the previous week. Unlike ``next_week``, this will never be\n-      ``None``.\n-\n-    **Notes**\n-\n-    * Uses a default ``template_name_suffix`` of ``_archive_week``.\n-\n-DayArchiveView\n-~~~~~~~~~~~~~~\n-.. class:: BaseDayArchiveView()\n-.. class:: DayArchiveView()\n-\n-    A day archive page showing all objects in a given day. Days in the future\n-    throw a 404 error, regardless of whether any objects exist for future days,\n-    unless you set ``allow_future`` to ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseDayArchiveView` implements the same\n-    behavior as :class:`~django.views.generic.dates.DayArchiveView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.dates.YearMixin`\n-    * :class:`django.views.generic.dates.MonthMixin`\n-    * :class:`django.views.generic.dates.DayMixin`\n-    * :class:`django.views.generic.dates.BaseDateListView`\n-\n-    **Context**\n-\n-    In addition to the context provided by\n-    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n-    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n-    context will be:\n-\n-    * ``day``: A ``datetime.date`` object representing the given day.\n-\n-    * ``next_day``: A ``datetime.date`` object representing the next day.\n-      If the next day is in the future, this will be ``None``.\n-\n-    * ``previous_day``: A ``datetime.date`` object representing the\n-      previous day. Unlike ``next_day``, this will never be ``None``.\n-\n-    * ``next_month``: A ``datetime.date`` object representing the first day\n-      of the next month. If the next month is in the future, this will be\n-      ``None``.\n-\n-    * ``previous_month``: A ``datetime.date`` object representing the first\n-      day of the previous month. Unlike ``next_month``, this will never be\n-      ``None``.\n-\n-    **Notes**\n-\n-    * Uses a default ``template_name_suffix`` of ``_archive_day``.\n-\n-TodayArchiveView\n-~~~~~~~~~~~~~~~~\n-.. class:: BaseTodayArchiveView()\n-.. class:: TodayArchiveView()\n-\n-    A day archive page showing all objects for *today*. This is exactly the\n-    same as :class:`django.views.generic.dates.DayArchiveView`, except today's\n-    date is used instead of the ``year``/``month``/``day`` arguments.\n-\n-    :class:`~django.views.generic.dates.BaseTodayArchiveView` implements the\n-    same behavior as :class:`~django.views.generic.dates.TodayArchiveView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.dates.BaseDayArchiveView`\n-\n-DateDetailView\n-~~~~~~~~~~~~~~\n-.. class:: BaseDateDetailView()\n-.. class:: DateDetailView()\n-\n-    A page representing an individual object. If the object has a date value in\n-    the future, the view will throw a 404 error by default, unless you set\n-    ``allow_future`` to ``True``.\n-\n-    :class:`~django.views.generic.dates.BaseDateDetailView` implements the same\n-    behavior as :class:`~django.views.generic.dates.DateDetailView`, but\n-    doesn't include the\n-    :class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`.\n-\n-    **Mixins**\n-\n-    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n-    * :class:`django.views.generic.detail.BaseDetailView`\n-    * :class:`django.views.generic.dates.DateMixin`\n-    * :class:`django.views.generic.dates.YearMixin`\n-    * :class:`django.views.generic.dates.MonthMixin`\n-    * :class:`django.views.generic.dates.DayMixin`"
        },
        {
            "sha": "5e0360c88f07762ce86da9bc1566ddac9268c56d",
            "filename": "docs/ref/class-based-views/base.txt",
            "status": "added",
            "additions": 224,
            "deletions": 0,
            "changes": 224,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fbase.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fbase.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fbase.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,224 @@\n+==========\n+Base views\n+==========\n+\n+The following three classes provide much of the functionality needed to create\n+Django views. You may think of them as *parent* views, which can be used by\n+themselves or inherited from. They may not provide all the capabilities\n+required for projects, in which case there are Mixins and Generic class-based\n+views.\n+\n+.. class:: django.views.generic.base.View\n+\n+    The master class-based base view. All other class-based views inherit from\n+    this base class.\n+\n+    **Method Flowchart**\n+\n+    1. :meth:`dispatch()`\n+    2. :meth:`http_method_not_allowed()`\n+\n+    **Example views.py**::\n+\n+        from django.http import HttpResponse\n+        from django.views.generic import View\n+\n+        class MyView(View):\n+\n+            def get(self, request, *args, **kwargs):\n+                return HttpResponse('Hello, World!')\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+        \n+        from myapp.views import MyView\n+        \n+        urlpatterns = patterns('',\n+            url(r'^mine/$', MyView.as_view(), name='my-view'),\n+        )\n+        \n+    **Methods**\n+\n+    .. method:: dispatch(request, *args, **kwargs)\n+\n+        The ``view`` part of the view -- the method that accepts a ``request``\n+        argument plus arguments, and returns a HTTP response.\n+\n+        The default implementation will inspect the HTTP method and attempt to\n+        delegate to a method that matches the HTTP method; a ``GET`` will be\n+        delegated to :meth:`~View.get()`, a ``POST`` to :meth:`~View.post()`,\n+        and so on.\n+\n+        The default implementation also sets ``request``, ``args`` and\n+        ``kwargs`` as instance variables, so any method on the view can know\n+        the full details of the request that was made to invoke the view.\n+\n+    .. method:: http_method_not_allowed(request, *args, **kwargs)\n+\n+        If the view was called with a HTTP method it doesn't support, this\n+        method is called instead.\n+\n+        The default implementation returns ``HttpResponseNotAllowed`` with list\n+        of allowed methods in plain text.\n+        \n+    .. note:: \n+\n+        Documentation on class-based views is a work in progress. As yet, only the\n+        methods defined directly on the class are documented here, not methods\n+        defined on superclasses.\n+\n+.. class:: django.views.generic.base.TemplateView\n+\n+    Renders a given template, passing it a ``{{ params }}`` template variable,\n+    which is a dictionary of the parameters captured in the URL.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.base.TemplateView`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Method Flowchart**\n+\n+    1. :meth:`dispatch()`\n+    2. :meth:`http_method_not_allowed()`\n+    3. :meth:`get_context_data()`\n+      \n+    **Example views.py**::\n+\n+        from django.views.generic.base import TemplateView\n+        \n+        from articles.models import Article\n+\n+        class HomePageView(TemplateView):\n+\n+            template_name = \"home.html\"\n+            \n+            def get_context_data(self, **kwargs):\n+                context = super(HomePageView, self).get_context_data(**kwargs)\n+                context['latest_articles'] = Article.objects.all()[:5]\n+                return context\n+                \n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import HomePageView\n+\n+        urlpatterns = patterns('',\n+            url(r'^$', HomePageView.as_view(), name='home'),\n+        )\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: template_name\n+\n+        The full name of a template to use.\n+\n+    .. method:: get_context_data(**kwargs)\n+\n+        Return a context data dictionary consisting of the contents of\n+        ``kwargs`` stored in the context variable ``params``.\n+\n+    **Context**\n+\n+    * ``params``: The dictionary of keyword arguments captured from the URL\n+      pattern that served the view.\n+\n+    .. note:: \n+\n+        Documentation on class-based views is a work in progress. As yet, only the\n+        methods defined directly on the class are documented here, not methods\n+        defined on superclasses.\n+\n+.. class:: django.views.generic.base.RedirectView\n+\n+    Redirects to a given URL.\n+\n+    The given URL may contain dictionary-style string formatting, which will be\n+    interpolated against the parameters captured in the URL. Because keyword\n+    interpolation is *always* done (even if no arguments are passed in), any\n+    ``\"%\"`` characters in the URL must be written as ``\"%%\"`` so that Python\n+    will convert them to a single percent sign on output.\n+\n+    If the given URL is ``None``, Django will return an ``HttpResponseGone``\n+    (410).\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.base.View`\n+\n+    **Method Flowchart**\n+\n+    1. :meth:`dispatch()`\n+    2. :meth:`http_method_not_allowed()`\n+    3. :meth:`get_redirect_url()`\n+\n+    **Example views.py**::\n+\n+        from django.shortcuts import get_object_or_404\n+        from django.views.generic.base import RedirectView\n+        \n+        from articles.models import Article\n+\n+        class ArticleCounterRedirectView(RedirectView):\n+\n+            permanent = False\n+            query_string = True\n+\n+            def get_redirect_url(self, pk):\n+                article = get_object_or_404(Article, pk=pk)\n+                article.update_counter()\n+                return reverse('product_detail', args=(pk,))\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+        from django.views.generic.base import RedirectView\n+        \n+        from article.views import ArticleCounterRedirectView\n+\n+        urlpatterns = patterns('',\n+\n+            url(r'r^(?P<pk>\\d+)/$', ArticleCounterRedirectView.as_view(), name='article-counter'),\n+            url(r'^go-to-django/$', RedirectView.as_view(url='http://djangoproject.com'), name='go-to-django'),\n+        )\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: url\n+\n+        The URL to redirect to, as a string. Or ``None`` to raise a 410 (Gone)\n+        HTTP error.\n+\n+    .. attribute:: permanent\n+\n+        Whether the redirect should be permanent. The only difference here is\n+        the HTTP status code returned. If ``True``, then the redirect will use\n+        status code 301. If ``False``, then the redirect will use status code\n+        302. By default, ``permanent`` is ``True``.\n+\n+    .. attribute:: query_string\n+\n+        Whether to pass along the GET query string to the new location. If\n+        ``True``, then the query string is appended to the URL. If ``False``,\n+        then the query string is discarded. By default, ``query_string`` is\n+        ``False``.\n+\n+    .. method:: get_redirect_url(**kwargs)\n+\n+        Constructs the target URL for redirection.\n+\n+        The default implementation uses :attr:`~RedirectView.url` as a starting\n+        string, performs expansion of ``%`` parameters in that string, as well\n+        as the appending of query string if requested by\n+        :attr:`~RedirectView.query_string`. Subclasses may implement any\n+        behavior they wish, as long as the method returns a redirect-ready URL\n+        string.\n+\n+    .. note:: \n+\n+        Documentation on class-based views is a work in progress. As yet, only the\n+        methods defined directly on the class are documented here, not methods\n+        defined on superclasses."
        },
        {
            "sha": "69a98df77be43c4514c08db4f5b875f6b33bf2b6",
            "filename": "docs/ref/class-based-views/generic-date-based.txt",
            "status": "added",
            "additions": 273,
            "deletions": 0,
            "changes": 273,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,273 @@\n+==================\n+Generic date views\n+==================\n+\n+Date-based generic views (in the module :mod:`django.views.generic.dates`)\n+are views for displaying drilldown pages for date-based data.\n+\n+.. class:: django.views.generic.dates.ArchiveIndexView\n+\n+    A top-level index page showing the \"latest\" objects, by date. Objects with\n+    a date in the *future* are not included unless you set ``allow_future`` to\n+    ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.ArchiveIndexView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseArchiveIndexView`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+    \n+    **Notes**\n+\n+    * Uses a default ``context_object_name`` of ``latest``.\n+    * Uses a default ``template_name_suffix`` of ``_archive``.\n+\n+.. class:: django.views.generic.dates.YearArchiveView\n+\n+    A yearly archive page showing all available months in a given year. Objects\n+    with a date in the *future* are not displayed unless you set\n+    ``allow_future`` to ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.YearArchiveView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseYearArchiveView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    .. attribute:: make_object_list\n+\n+        A boolean specifying whether to retrieve the full list of objects for\n+        this year and pass those to the template. If ``True``, the list of\n+        objects will be made available to the context. By default, this is\n+        ``False``.\n+\n+    .. method:: get_make_object_list()\n+\n+        Determine if an object list will be returned as part of the context. If\n+        ``False``, the ``None`` queryset will be used as the object list.\n+\n+    **Context**\n+\n+    In addition to the context provided by\n+    :class:`django.views.generic.list.MultipleObjectMixin` (via\n+    :class:`django.views.generic.dates.BaseDateListView`), the template's\n+    context will be:\n+\n+    * ``date_list``: A\n+      :meth:`DateQuerySet<django.db.models.query.QuerySet.dates>` object object\n+      containing all months that have objects available according to\n+      ``queryset``, represented as\n+      :class:`datetime.datetime<python:datetime.datetime>` objects, in\n+      ascending order.\n+\n+    * ``year``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the given year.\n+\n+    * ``next_year``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the next year. If the next year is in the\n+      future, this will be ``None``.\n+\n+    * ``previous_year``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the previous year. Unlike ``next_year``,\n+      this will never be ``None``.\n+\n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_archive_year``.\n+\n+.. class:: django.views.generic.dates.MonthArchiveView\n+\n+    A monthly archive page showing all objects in a given month. Objects with a\n+    date in the *future* are not displayed unless you set ``allow_future`` to\n+    ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.MonthArchiveView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseMonthArchiveView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.MonthMixin`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Context**\n+\n+    In addition to the context provided by\n+    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n+    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n+    context will be:\n+\n+    * ``date_list``: A\n+      :meth:`DateQuerySet<django.db.models.query.QuerySet.dates>` object\n+      containing all days that have objects available in the given month,\n+      according to ``queryset``, represented as\n+      :class:`datetime.datetime<python:datetime.datetime>` objects, in\n+      ascending order.\n+\n+    * ``month``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the given month.\n+\n+    * ``next_month``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the next month. If the next month is in the\n+      future, this will be ``None``.\n+\n+    * ``previous_month``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the previous month. Unlike ``next_month``,\n+      this will never be ``None``.\n+\n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_archive_month``.\n+\n+.. class:: django.views.generic.dates.WeekArchiveView\n+\n+    A weekly archive page showing all objects in a given week. Objects with a\n+    date in the *future* are not displayed unless you set ``allow_future`` to\n+    ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.WeekArchiveView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseWeekArchiveView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.WeekMixin`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Context**\n+\n+    In addition to the context provided by\n+    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n+    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n+    context will be:\n+\n+    * ``week``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the given week.\n+\n+    * ``next_week``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the next week. If the next week is in the\n+      future, this will be ``None``.\n+\n+    * ``previous_week``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the previous week. Unlike ``next_week``,\n+      this will never be ``None``.\n+\n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_archive_week``.\n+\n+.. class:: django.views.generic.dates.DayArchiveView\n+\n+    A day archive page showing all objects in a given day. Days in the future\n+    throw a 404 error, regardless of whether any objects exist for future days,\n+    unless you set ``allow_future`` to ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.DayArchiveView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseDayArchiveView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.MonthMixin`\n+    * :class:`django.views.generic.dates.DayMixin`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Context**\n+\n+    In addition to the context provided by\n+    :class:`~django.views.generic.list.MultipleObjectMixin` (via\n+    :class:`~django.views.generic.dates.BaseDateListView`), the template's\n+    context will be:\n+\n+    * ``day``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the given day.\n+\n+    * ``next_day``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the next day. If the next day is in the future, this will be\n+      ``None``.\n+\n+    * ``previous_day``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the previous day. Unlike ``next_day``, this will never be\n+      ``None``.\n+\n+    * ``next_month``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the next month. If the next month is in the\n+      future, this will be ``None``.\n+\n+    * ``previous_month``: A :class:`datetime.date<python:datetime.date>` object\n+      representing the first day of the previous month. Unlike ``next_month``,\n+      this will never be ``None``.\n+\n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_archive_day``.\n+\n+.. class:: django.views.generic.dates.TodayArchiveView\n+\n+    A day archive page showing all objects for *today*. This is exactly the\n+    same as :class:`django.views.generic.dates.DayArchiveView`, except today's\n+    date is used instead of the ``year``/``month``/``day`` arguments.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.TodayArchiveView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseTodayArchiveView`\n+    * :class:`django.views.generic.dates.BaseDayArchiveView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.MonthMixin`\n+    * :class:`django.views.generic.dates.DayMixin`\n+    * :class:`django.views.generic.dates.BaseDateListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+.. class:: django.views.generic.dates.DateDetailView\n+\n+    A page representing an individual object. If the object has a date value in\n+    the future, the view will throw a 404 error by default, unless you set\n+    ``allow_future`` to ``True``.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.dates.DateDetailView`\n+    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.dates.BaseDateDetailView`\n+    * :class:`django.views.generic.dates.YearMixin`\n+    * :class:`django.views.generic.dates.MonthMixin`\n+    * :class:`django.views.generic.dates.DayMixin`\n+    * :class:`django.views.generic.dates.DateMixin`\n+    * :class:`django.views.generic.detail.BaseDetailView`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+.. note::\n+\n+    All of the generic views listed above have matching Base* views that only\n+    differ in that the they do not include the\n+    :class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`."
        },
        {
            "sha": "8ec66a8cc17899bfff79f8cb218173ade4fcd352",
            "filename": "docs/ref/class-based-views/generic-display.txt",
            "status": "added",
            "additions": 86,
            "deletions": 0,
            "changes": 86,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-display.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-display.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fgeneric-display.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,86 @@\n+=====================\n+Generic display views\n+=====================\n+\n+The two following generic class-based views are designed to display data. On\n+many projects they are typically the most commonly used views.\n+\n+.. class:: django.views.generic.detail.DetailView\n+\n+    While this view is executing, ``self.object`` will contain the object that\n+    the view is operating upon.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.detail.BaseDetailView`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Method Flowchart**\n+\n+    1. :meth:`dispatch()`\n+    2. :meth:`http_method_not_allowed()`\n+    3. :meth:`get_template_names()`\n+    4. :meth:`get_slug_field()`\n+    5. :meth:`get_queryset()`\n+    6. :meth:`get_object()`\n+    7. :meth:`get_context_object_name()`\n+    8. :meth:`get_context_data()`\n+    9. :meth:`get()`\n+    10. :meth:`render_to_response()`\n+\n+    **Example views.py**::\n+\n+        from django.views.generic.detail import DetailView\n+        from django.utils import timezone\n+\n+        from articles.models import Article\n+\n+        class ArticleDetailView(DetailView):\n+        \n+            model = Article\n+\n+            def get_context_data(self, **kwargs):\n+                context = super(ArticleDetailView, self).get_context_data(**kwargs)\n+                context['now'] = timezone.now()\n+                return context\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from article.views import ArticleDetailView\n+\n+        urlpatterns = patterns('',\n+            url(r'^(?P<slug>[-_\\w]+)/$', ArticleDetailView.as_view(), 'article-detail'),\n+        )    \n+\n+.. class:: django.views.generic.list.ListView\n+\n+    A page representing a list of objects.\n+\n+    While this view is executing, ``self.object_list`` will contain the list of\n+    objects (usually, but not necessarily a queryset) that the view is\n+    operating upon.\n+\n+    **Mixins**\n+\n+    * :class:`django.views.generic.list.ListView`\n+    * :class:`django.views.generic.list.MultipleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.list.BaseListView`\n+    * :class:`django.views.generic.list.MultipleObjectMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Method Flowchart**\n+\n+    1. :meth:`dispatch():`\n+    2. :meth:`http_method_not_allowed():`\n+    3. :meth:`get_template_names():`\n+    4. :meth:`get_queryset():`\n+    5. :meth:`get_objects():`\n+    6. :meth:`get_context_data():`\n+    7. :meth:`get():`\n+    8. :meth:`render_to_response():`"
        },
        {
            "sha": "d5df369fb3007beb89411ac65bc62bf7d9291f6d",
            "filename": "docs/ref/class-based-views/generic-editing.txt",
            "status": "added",
            "additions": 78,
            "deletions": 0,
            "changes": 78,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,78 @@\n+=====================\n+Generic editing views\n+=====================\n+\n+The views described here provide a foundation for editing content.\n+\n+.. class:: django.views.generic.edit.FormView\n+\n+    A view that displays a form. On error, redisplays the form with validation\n+    errors; on success, redirects to a new URL.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.edit.FormView`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.edit.BaseFormView`\n+    * :class:`django.views.generic.edit.FormMixin`\n+    * :class:`django.views.generic.edit.ProcessFormView`\n+    * :class:`django.views.generic.base.View`\n+\n+.. class:: django.views.generic.edit.CreateView\n+\n+    A view that displays a form for creating an object, redisplaying the form\n+    with validation errors (if there are any) and saving the object.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.edit.CreateView`\n+    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.edit.BaseCreateView`\n+    * :class:`django.views.generic.edit.ModelFormMixin`\n+    * :class:`django.views.generic.edit.FormMixin`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+    * :class:`django.views.generic.edit.ProcessFormView`\n+    * :class:`django.views.generic.base.View`\n+\n+.. class:: django.views.generic.edit.UpdateView\n+\n+    A view that displays a form for editing an existing object, redisplaying\n+    the form with validation errors (if there are any) and saving changes to\n+    the object. This uses a form automatically generated from the object's\n+    model class (unless a form class is manually specified).\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.edit.UpdateView`\n+    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.edit.BaseUpdateView`\n+    * :class:`django.views.generic.edit.ModelFormMixin`\n+    * :class:`django.views.generic.edit.FormMixin`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+    * :class:`django.views.generic.edit.ProcessFormView`\n+    * :class:`django.views.generic.base.View`\n+\n+.. class:: django.views.generic.edit.DeleteView\n+\n+    A view that displays a confirmation page and deletes an existing object.\n+    The given object will only be deleted if the request method is ``POST``. If\n+    this view is fetched via ``GET``, it will display a confirmation page that\n+    should contain a form that POSTs to the same URL.\n+\n+    **Ancestors (MRO)**\n+\n+    * :class:`django.views.generic.edit.DeleteView`\n+    * :class:`django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    * :class:`django.views.generic.base.TemplateResponseMixin`\n+    * :class:`django.views.generic.edit.BaseDeleteView`\n+    * :class:`django.views.generic.edit.DeletionMixin`\n+    * :class:`django.views.generic.detail.BaseDetailView`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+    * :class:`django.views.generic.base.View`\n+\n+    **Notes**\n+\n+    * The delete confirmation page displayed to a GET request uses a\n+      ``template_name_suffix`` of ``'_confirm_delete'``."
        },
        {
            "sha": "c10e66b39694acb7897d7f9a2343b14e9376dcd4",
            "filename": "docs/ref/class-based-views/index.txt",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,59 @@\n+=================\n+Class-based views\n+=================\n+\n+Class-based views API reference. For introductory material, see\n+:doc:`/topics/class-based-views/index`.\n+\n+.. toctree::\n+   :maxdepth: 1\n+\n+   base\n+   generic-display\n+   generic-editing\n+   generic-date-based\n+   mixins\n+\n+Specification\n+-------------\n+\n+Each request served by a class-based view has an independent state; therefore,\n+it is safe to store state variables on the instance (i.e., ``self.foo = 3`` is\n+a thread-safe operation).\n+\n+A class-based view is deployed into a URL pattern using the\n+:meth:`~View.as_view()` classmethod::\n+\n+    urlpatterns = patterns('',\n+        (r'^view/$', MyView.as_view(size=42)),\n+    )\n+\n+.. admonition:: Thread safety with view arguments\n+\n+    Arguments passed to a view are shared between every instance of a view.\n+    This means that you shoudn't use a list, dictionary, or any other\n+    variable object as an argument to a view. If you did, the actions of\n+    one user visiting your view could have an effect on subsequent users\n+    visiting the same view.\n+\n+Any argument passed into :meth:`~View.as_view()` will be assigned onto the\n+instance that is used to service a request. Using the previous example,\n+this means that every request on ``MyView`` is able to use ``self.size``.\n+\n+Base vs Generic views\n+---------------------\n+\n+Base class-based views can be thought of as *parent* views, which can be\n+used by themselves or inherited from. They may not provide all the\n+capabilities required for projects, in which case there are Mixins which\n+extend what base views can do.\n+\n+Django’s generic views are built off of those base views, and were developed\n+as a shortcut for common usage patterns such as displaying the details of an\n+object. They take certain common idioms and patterns found in view\n+development and abstract them so that you can quickly write common views of\n+data without having to repeat yourself.\n+\n+Most generic views require the ``queryset`` key, which is a ``QuerySet``\n+instance; see :doc:`/topics/db/queries` for more information about ``QuerySet``\n+objects."
        },
        {
            "sha": "a65471e68d702ce6795288d568aadafe04678dd3",
            "filename": "docs/ref/class-based-views/mixins-date-based.txt",
            "status": "added",
            "additions": 256,
            "deletions": 0,
            "changes": 256,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-date-based.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-date-based.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-date-based.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,256 @@\n+=================\n+Date-based mixins\n+=================\n+\n+\n+.. class:: django.views.generic.dates.YearMixin\n+\n+    A mixin that can be used to retrieve and provide parsing information for a\n+    year component of a date.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: year_format\n+\n+        The :func:`~time.strftime` format to use when parsing the year.\n+        By default, this is ``'%Y'``.\n+\n+    .. attribute:: year\n+\n+        **Optional** The value for the year (as a string). By default, set to\n+        ``None``, which means the year will be determined using other means.\n+\n+    .. method:: get_year_format()\n+\n+        Returns the :func:`~time.strftime` format to use when parsing the year. Returns\n+        :attr:`YearMixin.year_format` by default.\n+\n+    .. method:: get_year()\n+\n+        Returns the year for which this view will display data. Tries the\n+        following sources, in order:\n+\n+        * The value of the :attr:`YearMixin.year` attribute.\n+        * The value of the `year` argument captured in the URL pattern\n+        * The value of the `year` GET query argument.\n+\n+        Raises a 404 if no valid year specification can be found.\n+\n+.. class:: django.views.generic.dates.MonthMixin\n+\n+    A mixin that can be used to retrieve and provide parsing information for a\n+    month component of a date.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: month_format\n+\n+        The :func:`~time.strftime` format to use when parsing the month. By default, this is\n+        ``'%b'``.\n+\n+    .. attribute:: month\n+\n+        **Optional** The value for the month (as a string). By default, set to\n+        ``None``, which means the month will be determined using other means.\n+\n+    .. method:: get_month_format()\n+\n+        Returns the :func:`~time.strftime` format to use when parsing the month. Returns\n+        :attr:`MonthMixin.month_format` by default.\n+\n+    .. method:: get_month()\n+\n+        Returns the month for which this view will display data. Tries the\n+        following sources, in order:\n+\n+        * The value of the :attr:`MonthMixin.month` attribute.\n+        * The value of the `month` argument captured in the URL pattern\n+        * The value of the `month` GET query argument.\n+\n+        Raises a 404 if no valid month specification can be found.\n+\n+    .. method:: get_next_month(date)\n+\n+        Returns a date object containing the first day of the month after the\n+        date provided. Returns ``None`` if mixed with a view that sets\n+        ``allow_future = False``, and the next month is in the future. If\n+        ``allow_empty = False``, returns the next month that contains data.\n+\n+    .. method:: get_prev_month(date)\n+\n+        Returns a date object containing the first day of the month before the\n+        date provided. If ``allow_empty = False``, returns the previous month\n+        that contained data.\n+\n+.. class:: django.views.generic.dates.DayMixin\n+\n+    A mixin that can be used to retrieve and provide parsing information for a\n+    day component of a date.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: day_format\n+\n+        The :func:`~time.strftime` format to use when parsing the day. By default, this is\n+        ``'%d'``.\n+\n+    .. attribute:: day\n+\n+        **Optional** The value for the day (as a string). By default, set to\n+        ``None``, which means the day will be determined using other means.\n+\n+    .. method:: get_day_format()\n+\n+        Returns the :func:`~time.strftime` format to use when parsing the day. Returns\n+        :attr:`DayMixin.day_format` by default.\n+\n+    .. method:: get_day()\n+\n+        Returns the day for which this view will display data. Tries the\n+        following sources, in order:\n+\n+        * The value of the :attr:`DayMixin.day` attribute.\n+        * The value of the `day` argument captured in the URL pattern\n+        * The value of the `day` GET query argument.\n+\n+        Raises a 404 if no valid day specification can be found.\n+\n+    .. method:: get_next_day(date)\n+\n+        Returns a date object containing the next day after the date provided.\n+        Returns ``None`` if mixed with a view that sets ``allow_future = False``,\n+        and the next day is in the future. If ``allow_empty = False``, returns\n+        the next day that contains data.\n+\n+    .. method:: get_prev_day(date)\n+\n+        Returns a date object containing the previous day. If\n+        ``allow_empty = False``, returns the previous day that contained data.\n+\n+.. class:: django.views.generic.dates.WeekMixin\n+\n+    A mixin that can be used to retrieve and provide parsing information for a\n+    week component of a date.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: week_format\n+\n+        The :func:`~time.strftime` format to use when parsing the week. By default, this is\n+        ``'%U'``.\n+\n+    .. attribute:: week\n+\n+        **Optional** The value for the week (as a string). By default, set to\n+        ``None``, which means the week will be determined using other means.\n+\n+    .. method:: get_week_format()\n+\n+        Returns the :func:`~time.strftime` format to use when parsing the week. Returns\n+        :attr:`WeekMixin.week_format` by default.\n+\n+    .. method:: get_week()\n+\n+        Returns the week for which this view will display data. Tries the\n+        following sources, in order:\n+\n+        * The value of the :attr:`WeekMixin.week` attribute.\n+        * The value of the `week` argument captured in the URL pattern\n+        * The value of the `week` GET query argument.\n+\n+        Raises a 404 if no valid week specification can be found.\n+\n+\n+.. class:: django.views.generic.dates.DateMixin\n+\n+    A mixin class providing common behavior for all date-based views.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: date_field\n+\n+        The name of the ``DateField`` or ``DateTimeField`` in the\n+        ``QuerySet``'s model that the date-based archive should use to\n+        determine the objects on the page.\n+\n+        When :doc:`time zone support </topics/i18n/timezones>` is enabled and\n+        ``date_field`` is a ``DateTimeField``, dates are assumed to be in the\n+        current time zone. Otherwise, the queryset could include objects from\n+        the previous or the next day in the end user's time zone.\n+\n+        .. warning::\n+\n+            In this situation, if you have implemented per-user time zone\n+            selection, the same URL may show a different set of objects,\n+            depending on the end user's time zone. To avoid this, you should\n+            use a ``DateField`` as the ``date_field`` attribute.\n+\n+    .. attribute:: allow_future\n+\n+        A boolean specifying whether to include \"future\" objects on this page,\n+        where \"future\" means objects in which the field specified in\n+        ``date_field`` is greater than the current date/time. By default, this\n+        is ``False``.\n+\n+    .. method:: get_date_field()\n+\n+        Returns the name of the field that contains the date data that this\n+        view will operate on. Returns :attr:`DateMixin.date_field` by default.\n+\n+    .. method:: get_allow_future()\n+\n+        Determine whether to include \"future\" objects on this page, where\n+        \"future\" means objects in which the field specified in ``date_field``\n+        is greater than the current date/time. Returns\n+        :attr:`DateMixin.allow_future` by default.\n+\n+.. class:: django.views.generic.dates.BaseDateListView\n+\n+    A base class that provides common behavior for all date-based views. There\n+    won't normally be a reason to instantiate\n+    :class:`~django.views.generic.dates.BaseDateListView`; instantiate one of\n+    the subclasses instead.\n+\n+    While this view (and it's subclasses) are executing, ``self.object_list``\n+    will contain the list of objects that the view is operating upon, and\n+    ``self.date_list`` will contain the list of dates for which data is\n+    available.\n+\n+    **Mixins**\n+\n+    * :class:`~django.views.generic.dates.DateMixin`\n+    * :class:`~django.views.generic.list.MultipleObjectMixin`\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: allow_empty\n+\n+        A boolean specifying whether to display the page if no objects are\n+        available. If this is ``True`` and no objects are available, the view\n+        will display an empty page instead of raising a 404. By default, this\n+        is ``False``.\n+\n+    .. method:: get_dated_items():\n+\n+        Returns a 3-tuple containing (``date_list``, ``object_list``,\n+        ``extra_context``).\n+\n+        ``date_list`` is the list of dates for which data is available.\n+        ``object_list`` is the list of objects. ``extra_context`` is a\n+        dictionary of context data that will be added to any context data\n+        provided by the\n+        :class:`~django.views.generic.list.MultipleObjectMixin`.\n+\n+    .. method:: get_dated_queryset(**lookup)\n+\n+        Returns a queryset, filtered using the query arguments defined by\n+        ``lookup``. Enforces any restrictions on the queryset, such as\n+        ``allow_empty`` and ``allow_future``.\n+\n+    .. method:: get_date_list(queryset, date_type)\n+\n+        Returns the list of dates of type ``date_type`` for which\n+        ``queryset`` contains entries. For example, ``get_date_list(qs,\n+        'year')`` will return the list of years for which ``qs`` has entries.\n+        See :meth:`~django.db.models.query.QuerySet.dates()` for the\n+        ways that the ``date_type`` argument can be used."
        },
        {
            "sha": "7258893d63a2888cddaa7684f4a9cf8ca9358e84",
            "filename": "docs/ref/class-based-views/mixins-editing.txt",
            "status": "added",
            "additions": 183,
            "deletions": 0,
            "changes": 183,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-editing.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-editing.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-editing.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,183 @@\n+==============\n+Editing mixins\n+==============\n+\n+.. class:: django.views.generic.edit.FormMixin\n+\n+    A mixin class that provides facilities for creating and displaying forms.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: initial\n+\n+        A dictionary containing initial data for the form.\n+\n+    .. attribute:: form_class\n+\n+        The form class to instantiate.\n+\n+    .. attribute:: success_url\n+\n+        The URL to redirect to when the form is successfully processed.\n+\n+    .. method:: get_initial()\n+\n+        Retrieve initial data for the form. By default, returns a copy of\n+        :attr:`~django.views.generic.edit.FormMixin.initial`.\n+\n+        .. versionchanged:: 1.4\n+            In Django 1.3, this method was returning the\n+            :attr:`~django.views.generic.edit.FormMixin.initial` class variable\n+            itself.\n+\n+    .. method:: get_form_class()\n+\n+        Retrieve the form class to instantiate. By default\n+        :attr:`.form_class`.\n+\n+    .. method:: get_form(form_class)\n+\n+        Instantiate an instance of ``form_class`` using\n+        :meth:`~django.views.generic.edit.FormMixin.get_form_kwargs`.\n+\n+    .. method:: get_form_kwargs()\n+\n+        Build the keyword arguments required to instantiate the form.\n+\n+        The ``initial`` argument is set to :meth:`.get_initial`. If the\n+        request is a ``POST`` or ``PUT``, the request data (``request.POST``\n+        and ``request.FILES``) will also be provided.\n+\n+    .. method:: get_success_url()\n+\n+        Determine the URL to redirect to when the form is successfully\n+        validated. Returns\n+        :attr:`~django.views.generic.edit.FormMixin.success_url` by default.\n+\n+    .. method:: form_valid(form)\n+\n+        Redirects to\n+        :meth:`~django.views.generic.edit.FormMixin.get_success_url`.\n+\n+    .. method:: form_invalid(form)\n+\n+        Renders a response, providing the invalid form as context.\n+\n+    .. method:: get_context_data(**kwargs)\n+\n+        Populates a context containing the contents of ``kwargs``.\n+\n+    **Context**\n+\n+    * ``form``: The form instance that was generated for the view.\n+\n+    .. note::\n+\n+        Views mixing :class:`FormMixin` must provide an implementation of\n+        :meth:`~django.views.generic.FormMixin.form_valid` and\n+        :meth:`~django.views.generic.FormMixin.form_invalid`.\n+\n+\n+.. class:: django.views.generic.edit.ModelFormMixin\n+\n+    A form mixin that works on ModelForms, rather than a standalone form.\n+\n+    Since this is a subclass of\n+    :class:`~django.views.generic.detail.SingleObjectMixin`, instances of this\n+    mixin have access to the :attr:`~SingleObjectMixin.model` and\n+    :attr:`~SingleObjectMixin.queryset` attributes, describing the type of\n+    object that the ModelForm is manipulating. The view also provides\n+    ``self.object``, the instance being manipulated. If the instance is being\n+    created, ``self.object`` will be ``None``.\n+\n+    **Mixins**\n+\n+    * :class:`django.views.generic.edit.FormMixin`\n+    * :class:`django.views.generic.detail.SingleObjectMixin`\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: success_url\n+\n+        The URL to redirect to when the form is successfully processed.\n+\n+        ``success_url`` may contain dictionary string formatting, which\n+        will be interpolated against the object's field attributes. For\n+        example, you could use ``success_url=\"/polls/%(slug)s/\"`` to\n+        redirect to a URL composed out of the ``slug`` field on a model.\n+\n+    .. method:: get_form_class()\n+\n+        Retrieve the form class to instantiate. If\n+        :attr:`FormMixin.form_class` is provided, that class will be used.\n+        Otherwise, a ModelForm will be instantiated using the model associated\n+        with the :attr:`~SingleObjectMixin.queryset`, or with the\n+        :attr:`~SingleObjectMixin.model`, depending on which attribute is\n+        provided.\n+\n+    .. method:: get_form_kwargs()\n+\n+        Add the current instance (``self.object``) to the standard\n+        :meth:`FormMixin.get_form_kwargs`.\n+\n+    .. method:: get_success_url()\n+\n+        Determine the URL to redirect to when the form is successfully\n+        validated. Returns :attr:`ModelFormMixin.success_url` if it is provided;\n+        otherwise, attempts to use the ``get_absolute_url()`` of the object.\n+\n+    .. method:: form_valid(form)\n+\n+        Saves the form instance, sets the current object for the view, and\n+        redirects to\n+        :meth:`~django.views.generic.edit.FormMixin.get_success_url`.\n+\n+    .. method:: form_invalid()\n+\n+        Renders a response, providing the invalid form as context.\n+            \n+.. class:: django.views.generic.edit.ProcessFormView\n+\n+    A mixin that provides basic HTTP GET and POST workflow.\n+\n+    .. note:: \n+\n+        This is named 'ProcessFormView' and inherits directly from\n+        :class:`django.views.generic.base.View`, but breaks if used\n+        independently, so it is more of a mixin.\n+\n+    **Extends**\n+\n+    * :class:`django.views.generic.base.View`\n+\n+    **Methods and Attributes**\n+\n+    .. method:: get(request, *args, **kwargs)\n+\n+        Constructs a form, then renders a response using a context that\n+        contains that form.\n+\n+    .. method:: post(request, *args, **kwargs)\n+\n+        Constructs a form, checks the form for validity, and handles it\n+        accordingly.\n+\n+    The PUT action is also handled, as an analog of POST.\n+\n+.. class:: django.views.generic.edit.DeletionMixin\n+\n+    Enables handling of the ``DELETE`` http action.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: success_url\n+\n+        The url to redirect to when the nominated object has been\n+        successfully deleted.\n+\n+    .. method:: get_success_url(obj)\n+\n+        Returns the url to redirect to when the nominated object has been\n+        successfully deleted. Returns\n+        :attr:`~django.views.generic.edit.DeletionMixin.success_url` by\n+        default."
        },
        {
            "sha": "b414355c6bfe920fb72331155c6e38b9d0a45578",
            "filename": "docs/ref/class-based-views/mixins-multiple-object.txt",
            "status": "added",
            "additions": 175,
            "deletions": 0,
            "changes": 175,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,175 @@\n+======================\n+Multiple object mixins\n+======================\n+\n+.. class:: django.views.generic.list.MultipleObjectMixin\n+\n+    A mixin that can be used to display a list of objects.\n+\n+    If ``paginate_by`` is specified, Django will paginate the results returned\n+    by this. You can specify the page number in the URL in one of two ways:\n+\n+    * Use the ``page`` parameter in the URLconf. For example, this is what\n+      your URLconf might look like::\n+\n+        (r'^objects/page(?P<page>[0-9]+)/$', PaginatedView.as_view())\n+\n+    * Pass the page number via the ``page`` query-string parameter. For\n+      example, a URL would look like this::\n+\n+        /objects/?page=3\n+\n+    These values and lists are 1-based, not 0-based, so the first page would be\n+    represented as page ``1``.\n+\n+    For more on pagination, read the :doc:`pagination documentation\n+    </topics/pagination>`.\n+\n+    As a special case, you are also permitted to use ``last`` as a value for\n+    ``page``::\n+\n+        /objects/?page=last\n+\n+    This allows you to access the final page of results without first having to\n+    determine how many pages there are.\n+\n+    Note that ``page`` *must* be either a valid page number or the value\n+    ``last``; any other value for ``page`` will result in a 404 error.\n+\n+    **Extends**\n+\n+    * :class:`django.views.generic.base.ContextMixin`\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: allow_empty\n+\n+        A boolean specifying whether to display the page if no objects are\n+        available. If this is ``False`` and no objects are available, the view\n+        will raise a 404 instead of displaying an empty page. By default, this\n+        is ``True``.\n+\n+    .. attribute:: model\n+\n+        The model that this view will display data for. Specifying ``model\n+        = Foo`` is effectively the same as specifying ``queryset =\n+        Foo.objects.all()``.\n+\n+    .. attribute:: queryset\n+\n+        A ``QuerySet`` that represents the objects. If provided, the value of\n+        :attr:`MultipleObjectMixin.queryset` supersedes the value provided for\n+        :attr:`MultipleObjectMixin.model`.\n+\n+    .. attribute:: paginate_by\n+\n+        An integer specifying how many objects should be displayed per page. If\n+        this is given, the view will paginate objects with\n+        :attr:`MultipleObjectMixin.paginate_by` objects per page. The view will\n+        expect either a ``page`` query string parameter (via ``GET``) or a\n+        ``page`` variable specified in the URLconf.\n+\n+    .. attribute:: paginator_class\n+\n+       The paginator class to be used for pagination. By default,\n+       :class:`django.core.paginator.Paginator` is used. If the custom paginator\n+       class doesn't have the same constructor interface as\n+       :class:`django.core.paginator.Paginator`, you will also need to\n+       provide an implementation for :meth:`MultipleObjectMixin.get_paginator`.\n+\n+    .. attribute:: context_object_name\n+\n+        Designates the name of the variable to use in the context.\n+\n+    .. method:: get_queryset()\n+\n+        Returns the queryset that represents the data this view will display.\n+\n+    .. method:: paginate_queryset(queryset, page_size)\n+\n+        Returns a 4-tuple containing (``paginator``, ``page``, ``object_list``,\n+        ``is_paginated``).\n+\n+        Constructed by paginating ``queryset`` into pages of size ``page_size``.\n+        If the request contains a ``page`` argument, either as a captured URL\n+        argument or as a GET argument, ``object_list`` will correspond to the\n+        objects from that page.\n+\n+    .. method:: get_paginate_by(queryset)\n+\n+        Returns the number of items to paginate by, or ``None`` for no\n+        pagination. By default this simply returns the value of\n+        :attr:`MultipleObjectMixin.paginate_by`.\n+\n+    .. method:: get_paginator(queryset, per_page, orphans=0, allow_empty_first_page=True)\n+\n+        Returns an instance of the paginator to use for this view. By default,\n+        instantiates an instance of :attr:`paginator_class`.\n+\n+    .. method:: get_allow_empty()\n+\n+        Return a boolean specifying whether to display the page if no objects\n+        are available. If this method returns ``False`` and no objects are\n+        available, the view will raise a 404 instead of displaying an empty\n+        page. By default, this is ``True``.\n+\n+    .. method:: get_context_object_name(object_list)\n+\n+        Return the context variable name that will be used to contain\n+        the list of data that this view is manipulating. If\n+        ``object_list`` is a queryset of Django objects and\n+        :attr:`~MultipleObjectMixin.context_object_name` is not set,\n+        the context name will be the ``object_name`` of the model that\n+        the queryset is composed from, with postfix ``'_list'``\n+        appended. For example, the model ``Article`` would have a\n+        context object named ``article_list``.\n+\n+    .. method:: get_context_data(**kwargs)\n+\n+        Returns context data for displaying the list of objects.\n+\n+    **Context**\n+\n+    * ``object_list``: The list of objects that this view is displaying. If\n+      ``context_object_name`` is specified, that variable will also be set\n+      in the context, with the same value as ``object_list``.\n+\n+    * ``is_paginated``: A boolean representing whether the results are\n+      paginated. Specifically, this is set to ``False`` if no page size has\n+      been specified, or if the available objects do not span multiple\n+      pages.\n+\n+    * ``paginator``: An instance of\n+      :class:`django.core.paginator.Paginator`. If the page is not\n+      paginated, this context variable will be ``None``.\n+\n+    * ``page_obj``: An instance of\n+      :class:`django.core.paginator.Page`. If the page is not paginated,\n+      this context variable will be ``None``.\n+\n+\n+.. class:: django.views.generic.list.MultipleObjectTemplateResponseMixin\n+\n+    A mixin class that performs template-based response rendering for views\n+    that operate upon a list of object instances. Requires that the view it is\n+    mixed with provides ``self.object_list``, the list of object instances that\n+    the view is operating on. ``self.object_list`` may be, but is not required\n+    to be, a :class:`~django.db.models.query.QuerySet`.\n+\n+    **Extends**\n+\n+    * :class:`~django.views.generic.base.TemplateResponseMixin`\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: template_name_suffix\n+\n+        The suffix to append to the auto-generated candidate template name.\n+        Default suffix is ``_list``.\n+\n+    .. method:: get_template_names()\n+\n+        Returns a list of candidate template names. Returns the following list:\n+\n+        * the value of ``template_name`` on the view (if provided)\n+        * ``<app_label>/<object_name><template_name_suffix>.html``"
        },
        {
            "sha": "33d0db3134642eeeb8a5c7c0f609ce925bbc93e8",
            "filename": "docs/ref/class-based-views/mixins-simple.txt",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,60 @@\n+=============\n+Simple mixins\n+=============\n+\n+.. class:: django.views.generic.base.ContextMixin\n+\n+    .. versionadded:: 1.5\n+\n+    **classpath**\n+\n+    ``django.views.generic.base.ContextMixin``\n+\n+    **Methods**\n+\n+    .. method:: get_context_data(**kwargs)\n+\n+        Returns a dictionary representing the template context. The\n+        keyword arguments provided will make up the returned context.\n+\n+.. class:: django.views.generic.base.TemplateResponseMixin\n+\n+    Provides a mechanism to construct a\n+    :class:`~django.template.response.TemplateResponse`, given\n+    suitable context. The template to use is configurable and can be\n+    further customized by subclasses.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: response_class\n+\n+        The response class to be returned by ``render_to_response`` method.\n+        Default is\n+        :class:`TemplateResponse <django.template.response.TemplateResponse>`.\n+        The template and context of ``TemplateResponse`` instances can be\n+        altered later (e.g. in\n+        :ref:`template response middleware <template-response-middleware>`).\n+\n+        If you need custom template loading or custom context object\n+        instantiation, create a ``TemplateResponse`` subclass and assign it to\n+        ``response_class``.\n+\n+    .. method:: render_to_response(context, **response_kwargs)\n+\n+        Returns a ``self.response_class`` instance.\n+\n+        If any keyword arguments are provided, they will be\n+        passed to the constructor of the response class.\n+\n+        Calls :meth:`~TemplateResponseMixin.get_template_names()` to obtain the\n+        list of template names that will be searched looking for an existent\n+        template.\n+\n+    .. method:: get_template_names()\n+\n+        Returns a list of template names to search for when rendering the\n+        template.\n+\n+        If :attr:`TemplateResponseMixin.template_name` is specified, the\n+        default implementation will return a list containing\n+        :attr:`TemplateResponseMixin.template_name` (if it is specified)."
        },
        {
            "sha": "a31608dbd420db849c3363c470924a0fdc03e29d",
            "filename": "docs/ref/class-based-views/mixins-single-object.txt",
            "status": "added",
            "additions": 124,
            "deletions": 0,
            "changes": 124,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-single-object.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins-single-object.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-single-object.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,124 @@\n+====================\n+Single object mixins\n+====================\n+\n+.. class:: django.views.generic.detail.SingleObjectMixin\n+\n+    Provides a mechanism for looking up an object associated with the\n+    current HTTP request.\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: model\n+\n+        The model that this view will display data for. Specifying ``model\n+        = Foo`` is effectively the same as specifying ``queryset =\n+        Foo.objects.all()``.\n+\n+    .. attribute:: queryset\n+\n+        A ``QuerySet`` that represents the objects. If provided, the value of\n+        :attr:`SingleObjectMixin.queryset` supersedes the value provided for\n+        :attr:`SingleObjectMixin.model`.\n+\n+    .. attribute:: slug_field\n+\n+        The name of the field on the model that contains the slug. By default,\n+        ``slug_field`` is ``'slug'``.\n+\n+    .. attribute:: slug_url_kwarg\n+\n+        .. versionadded:: 1.4\n+\n+        The name of the URLConf keyword argument that contains the slug. By\n+        default, ``slug_url_kwarg`` is ``'slug'``.\n+\n+    .. attribute:: pk_url_kwarg\n+\n+        .. versionadded:: 1.4\n+\n+        The name of the URLConf keyword argument that contains the primary key.\n+        By default, ``pk_url_kwarg`` is ``'pk'``.\n+\n+    .. attribute:: context_object_name\n+\n+        Designates the name of the variable to use in the context.\n+\n+    .. method:: get_object(queryset=None)\n+\n+        Returns the single object that this view will display. If\n+        ``queryset`` is provided, that queryset will be used as the\n+        source of objects; otherwise,\n+        :meth:`~SingleObjectMixin.get_queryset` will be used.\n+        ``get_object()`` looks for a\n+        :attr:`SingleObjectMixin.pk_url_kwarg` argument in the arguments\n+        to the view; if this argument is found, this method performs a\n+        primary-key based lookup using that value. If this argument is not\n+        found, it looks for a :attr:`SingleObjectMixin.slug_url_kwarg`\n+        argument, and performs a slug lookup using the\n+        :attr:`SingleObjectMixin.slug_field`.\n+\n+    .. method:: get_queryset()\n+\n+        Returns the queryset that will be used to retrieve the object that\n+        this view will display. By default,\n+        :meth:`~SingleObjectMixin.get_queryset` returns the value of the\n+        :attr:`~SingleObjectMixin.queryset` attribute if it is set, otherwise\n+        it constructs a :class:`QuerySet` by calling the `all()` method on the\n+        :attr:`~SingleObjectMixin.model` attribute's default manager.\n+\n+    .. method:: get_context_object_name(obj)\n+\n+        Return the context variable name that will be used to contain the\n+        data that this view is manipulating. If\n+        :attr:`~SingleObjectMixin.context_object_name` is not set, the context\n+        name will be constructed from the ``object_name`` of the model that\n+        the queryset is composed from. For example, the model ``Article``\n+        would have context object named ``'article'``.\n+\n+    .. method:: get_context_data(**kwargs)\n+\n+        Returns context data for displaying the list of objects.\n+\n+    **Context**\n+\n+    * ``object``: The object that this view is displaying. If\n+      ``context_object_name`` is specified, that variable will also be\n+      set in the context, with the same value as ``object``.\n+\n+.. class:: django.views.generic.detail.SingleObjectTemplateResponseMixin\n+\n+    A mixin class that performs template-based response rendering for views\n+    that operate upon a single object instance. Requires that the view it is\n+    mixed with provides ``self.object``, the object instance that the view is\n+    operating on. ``self.object`` will usually be, but is not required to be,\n+    an instance of a Django model. It may be ``None`` if the view is in the\n+    process of constructing a new instance.\n+\n+    **Extends**\n+\n+    * :class:`~django.views.generic.base.TemplateResponseMixin`\n+\n+    **Methods and Attributes**\n+\n+    .. attribute:: template_name_field\n+\n+        The field on the current object instance that can be used to determine\n+        the name of a candidate template. If either ``template_name_field``\n+        itself or the value of the ``template_name_field`` on the current\n+        object instance is ``None``, the object will not be used for a\n+        candidate template name.\n+\n+    .. attribute:: template_name_suffix\n+\n+        The suffix to append to the auto-generated candidate template name.\n+        Default suffix is ``_detail``.\n+\n+    .. method:: get_template_names()\n+\n+        Returns a list of candidate template names. Returns the following list:\n+\n+        * the value of ``template_name`` on the view (if provided)\n+        * the contents of the ``template_name_field`` field on the\n+          object instance that the view is operating upon (if available)\n+        * ``<app_label>/<object_name><template_name_suffix>.html``"
        },
        {
            "sha": "661454f74d4d7dc9805b57e1392c5e5354e8ee11",
            "filename": "docs/ref/class-based-views/mixins.txt",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Fclass-based-views%2Fmixins.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,14 @@\n+========================\n+Class-based views mixins\n+========================\n+\n+Class-based views API reference. For introductory material, see :doc:`/topics/class-based-views/mixins`.\n+\n+.. toctree::\n+   :maxdepth: 1\n+\n+   mixins-simple\n+   mixins-single-object\n+   mixins-multiple-object\n+   mixins-editing\n+   mixins-date-based"
        },
        {
            "sha": "01a8ab22d176fa85485b4049a1b469d8ab11b59b",
            "filename": "docs/ref/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Fref%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -6,14 +6,14 @@ API Reference\n    :maxdepth: 1\n \n    authbackends\n+   class-based-views/index   \n    clickjacking\n    contrib/index\n    databases\n    django-admin\n    exceptions\n    files/index\n    forms/index\n-   class-based-views\n    middleware\n    models/index\n    request-response"
        },
        {
            "sha": "2f5124e52bbb4386036339b7aa9ebc254bde88f5",
            "filename": "docs/releases/1.3-alpha-1.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Freleases%2F1.3-alpha-1.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Freleases%2F1.3-alpha-1.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.3-alpha-1.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -39,7 +39,7 @@ along with a completely generic view base class that can be used as\n the basis for reusable applications that can be easily extended.\n \n See :doc:`the documentation on Class-based Generic Views\n-</topics/class-based-views>` for more details. There is also a document to\n+</topics/class-based-views/index>` for more details. There is also a document to\n help you `convert your function-based generic views to class-based\n views <https://docs.djangoproject.com/en/1.4/topics/generic-views-migration/>`_.\n "
        },
        {
            "sha": "a2b54474763083edc6232ce6bfbb63eaa246e62a",
            "filename": "docs/releases/1.3.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Freleases%2F1.3.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Freleases%2F1.3.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.3.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -80,7 +80,7 @@ provided, along with a completely generic view base class that can be\n used as the basis for reusable applications that can be easily\n extended.\n \n-See :doc:`the documentation on class-based generic views</topics/class-based-views>`\n+See :doc:`the documentation on class-based generic views</topics/class-based-views/index>`\n for more details. There is also a document to help you `convert\n your function-based generic views to class-based\n views <https://docs.djangoproject.com/en/1.4/topics/generic-views-migration/>`_."
        },
        {
            "sha": "c0e56dbba06df62173d6acb00f3fde10ccc77129",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -1450,9 +1450,10 @@ The permission_required decorator\n Limiting access to generic views\n --------------------------------\n \n-To limit access to a :doc:`class-based generic view </ref/class-based-views>`,\n-decorate the :meth:`View.dispatch <django.views.generic.base.View.dispatch>`\n-method on the class. See :ref:`decorating-class-based-views` for details.\n+To limit access to a :doc:`class-based generic view \n+</ref/class-based-views/index>`, decorate the :meth:`View.dispatch\n+<django.views.generic.base.View.dispatch>` method on the class. See\n+:ref:`decorating-class-based-views` for details.\n \n .. _permissions:\n "
        },
        {
            "sha": "13c2b994e4796cdc0e4c009213702c34741765be",
            "filename": "docs/topics/class-based-views.txt",
            "status": "removed",
            "additions": 0,
            "deletions": 624,
            "changes": 624,
            "blob_url": "https://github.com/django/django/blob/1a10a06b9f510f796beb2ffef39c7885cba2ad67/docs%2Ftopics%2Fclass-based-views.txt",
            "raw_url": "https://github.com/django/django/raw/1a10a06b9f510f796beb2ffef39c7885cba2ad67/docs%2Ftopics%2Fclass-based-views.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views.txt?ref=1a10a06b9f510f796beb2ffef39c7885cba2ad67",
            "patch": "@@ -1,624 +0,0 @@\n-=========================\n-Class-based generic views\n-=========================\n-\n-.. versionadded:: 1.3\n-\n-.. note::\n-    Prior to Django 1.3, generic views were implemented as functions. The\n-    function-based implementation has been removed in favor of the\n-    class-based approach described here.\n-\n-Writing Web applications can be monotonous, because we repeat certain patterns\n-again and again. Django tries to take away some of that monotony at the model\n-and template layers, but Web developers also experience this boredom at the view\n-level.\n-\n-Django's *generic views* were developed to ease that pain. They take certain\n-common idioms and patterns found in view development and abstract them so that\n-you can quickly write common views of data without having to write too much\n-code.\n-\n-We can recognize certain common tasks, like displaying a list of objects, and\n-write code that displays a list of *any* object. Then the model in question can\n-be passed as an extra argument to the URLconf.\n-\n-Django ships with generic views to do the following:\n-\n-* Perform common \"simple\" tasks: redirect to a different page and\n-  render a given template.\n-\n-* Display list and detail pages for a single object. If we were creating an\n-  application to manage conferences then a ``TalkListView`` and a\n-  ``RegisteredUserListView`` would be examples of list views. A single\n-  talk page is an example of what we call a \"detail\" view.\n-\n-* Present date-based objects in year/month/day archive pages,\n-  associated detail, and \"latest\" pages.\n-\n-* Allow users to create, update, and delete objects -- with or\n-  without authorization.\n-\n-Taken together, these views provide easy interfaces to perform the most common\n-tasks developers encounter.\n-\n-\n-Simple usage\n-============\n-\n-Class-based generic views (and any class-based views that inherit from\n-the base classes Django provides) can be configured in two\n-ways: subclassing, or passing in arguments directly in the URLconf.\n-\n-When you subclass a class-based view, you can override attributes\n-(such as the ``template_name``) or methods (such as ``get_context_data``)\n-in your subclass to provide new values or methods. Consider, for example,\n-a view that just displays one template, ``about.html``. Django has a\n-generic view to do this - :class:`~django.views.generic.base.TemplateView` -\n-so we can just subclass it, and override the template name::\n-\n-    # some_app/views.py\n-    from django.views.generic import TemplateView\n-\n-    class AboutView(TemplateView):\n-        template_name = \"about.html\"\n-\n-Then, we just need to add this new view into our URLconf. As the class-based\n-views themselves are classes, we point the URL to the ``as_view`` class method\n-instead, which is the entry point for class-based views::\n-\n-    # urls.py\n-    from django.conf.urls import patterns, url, include\n-    from some_app.views import AboutView\n-\n-    urlpatterns = patterns('',\n-        (r'^about/', AboutView.as_view()),\n-    )\n-\n-Alternatively, if you're only changing a few simple attributes on a\n-class-based view, you can simply pass the new attributes into the ``as_view``\n-method call itself::\n-\n-    from django.conf.urls import patterns, url, include\n-    from django.views.generic import TemplateView\n-\n-    urlpatterns = patterns('',\n-        (r'^about/', TemplateView.as_view(template_name=\"about.html\")),\n-    )\n-\n-A similar overriding pattern can be used for the ``url`` attribute on\n-:class:`~django.views.generic.base.RedirectView`, another simple\n-generic view.\n-\n-\n-Generic views of objects\n-========================\n-\n-:class:`~django.views.generic.base.TemplateView` certainly is useful,\n-but Django's generic views really shine when it comes to presenting\n-views of your database content. Because it's such a common task,\n-Django comes with a handful of built-in generic views that make\n-generating list and detail views of objects incredibly easy.\n-\n-Let's take a look at one of these generic views: the \"object list\" view. We'll\n-be using these models::\n-\n-    # models.py\n-    from django.db import models\n-\n-    class Publisher(models.Model):\n-        name = models.CharField(max_length=30)\n-        address = models.CharField(max_length=50)\n-        city = models.CharField(max_length=60)\n-        state_province = models.CharField(max_length=30)\n-        country = models.CharField(max_length=50)\n-        website = models.URLField()\n-\n-        class Meta:\n-            ordering = [\"-name\"]\n-\n-        def __unicode__(self):\n-            return self.name\n-\n-    class Book(models.Model):\n-        title = models.CharField(max_length=100)\n-        authors = models.ManyToManyField('Author')\n-        publisher = models.ForeignKey(Publisher)\n-        publication_date = models.DateField()\n-\n-To build a list page of all publishers, we'd use a URLconf along these lines::\n-\n-    from django.conf.urls import patterns, url, include\n-    from django.views.generic import ListView\n-    from books.models import Publisher\n-\n-    urlpatterns = patterns('',\n-        (r'^publishers/$', ListView.as_view(\n-            model=Publisher,\n-        )),\n-    )\n-\n-That's all the Python code we need to write. We still need to write a template,\n-however. We could explicitly tell the view which template to use\n-by including a ``template_name`` key in the arguments to as_view, but in\n-the absence of an explicit template Django will infer one from the object's\n-name. In this case, the inferred template will be\n-``\"books/publisher_list.html\"`` -- the \"books\" part comes from the name of the\n-app that defines the model, while the \"publisher\" bit is just the lowercased\n-version of the model's name.\n-\n-.. note::\n-    Thus, when (for example) the :class:`django.template.loaders.app_directories.Loader`\n-    template loader is enabled in :setting:`TEMPLATE_LOADERS`, the template\n-    location would be::\n-\n-        /path/to/project/books/templates/books/publisher_list.html\n-\n-.. highlightlang:: html+django\n-\n-This template will be rendered against a context containing a variable called\n-``object_list`` that contains all the publisher objects. A very simple template\n-might look like the following::\n-\n-    {% extends \"base.html\" %}\n-\n-    {% block content %}\n-        <h2>Publishers</h2>\n-        <ul>\n-            {% for publisher in object_list %}\n-                <li>{{ publisher.name }}</li>\n-            {% endfor %}\n-        </ul>\n-    {% endblock %}\n-\n-That's really all there is to it. All the cool features of generic views come\n-from changing the \"info\" dictionary passed to the generic view. The\n-:doc:`generic views reference</ref/class-based-views>` documents all the generic\n-views and their options in detail; the rest of this document will consider\n-some of the common ways you might customize and extend generic views.\n-\n-\n-Extending generic views\n-=======================\n-\n-.. highlightlang:: python\n-\n-There's no question that using generic views can speed up development\n-substantially. In most projects, however, there comes a moment when the\n-generic views no longer suffice. Indeed, the most common question asked by new\n-Django developers is how to make generic views handle a wider array of\n-situations.\n-\n-This is one of the reasons generic views were redesigned for the 1.3 release -\n-previously, they were just view functions with a bewildering array of options;\n-now, rather than passing in a large amount of configuration in the URLconf,\n-the recommended way to extend generic views is to subclass them, and override\n-their attributes or methods.\n-\n-\n-Making \"friendly\" template contexts\n------------------------------------\n-\n-You might have noticed that our sample publisher list template stores\n-all the publishers in a variable named ``object_list``. While this\n-works just fine, it isn't all that \"friendly\" to template authors:\n-they have to \"just know\" that they're dealing with publishers here.\n-\n-Well, if you're dealing with a model object, this is already done for\n-you. When you are dealing with an object or queryset, Django is able\n-to populate the context using the verbose name (or the plural verbose\n-name, in the case of a list of objects) of the object being displayed.\n-This is provided in addition to the default ``object_list`` entry, but\n-contains exactly the same data.\n-\n-If the verbose name (or plural verbose name) still isn't a good match,\n-you can manually set the name of the context variable. The\n-``context_object_name`` attribute on a generic view specifies the\n-context variable to use. In this example, we'll override it in the\n-URLconf, since it's a simple change:\n-\n-.. parsed-literal::\n-\n-    urlpatterns = patterns('',\n-        (r'^publishers/$', ListView.as_view(\n-            model=Publisher,\n-            **context_object_name=\"publisher_list\",**\n-        )),\n-    )\n-\n-Providing a useful ``context_object_name`` is always a good idea. Your\n-coworkers who design templates will thank you.\n-\n-\n-Adding extra context\n---------------------\n-\n-Often you simply need to present some extra information beyond that\n-provided by the generic view. For example, think of showing a list of\n-all the books on each publisher detail page. The\n-:class:`~django.views.generic.detail.DetailView` generic view provides\n-the publisher to the context, but it seems there's no way to get\n-additional information in that template.\n-\n-However, there is; you can subclass\n-:class:`~django.views.generic.detail.DetailView` and provide your own\n-implementation of the ``get_context_data`` method. The default\n-implementation of this that comes with\n-:class:`~django.views.generic.detail.DetailView` simply adds in the\n-object being displayed to the template, but you can override it to show\n-more::\n-\n-    from django.views.generic import DetailView\n-    from books.models import Publisher, Book\n-\n-    class PublisherDetailView(DetailView):\n-\n-        context_object_name = \"publisher\"\n-        model = Publisher\n-\n-        def get_context_data(self, **kwargs):\n-            # Call the base implementation first to get a context\n-            context = super(PublisherDetailView, self).get_context_data(**kwargs)\n-            # Add in a QuerySet of all the books\n-            context['book_list'] = Book.objects.all()\n-            return context\n-\n-.. note::\n-\n-    Generally, get_context_data will merge the context data of all parent classes\n-    with those of the current class.  To preserve this behavior in your own classes\n-    where you want to alter the context, you should be sure to call\n-    get_context_data on the super class. When no two classes try to define the same\n-    key, this will give the expected results. However if any class attempts to\n-    override a key after parent classes have set it (after the call to super), any\n-    children of that class will also need to explictly set it after super if they\n-    want to be sure to override all parents.\n-\n-Viewing subsets of objects\n---------------------------\n-\n-Now let's take a closer look at the ``model`` argument we've been\n-using all along. The ``model`` argument, which specifies the database\n-model that the view will operate upon, is available on all the\n-generic views that operate on a single object or a collection of\n-objects. However, the ``model`` argument is not the only way to\n-specify the objects that the view will operate upon -- you can also\n-specify the list of objects using the ``queryset`` argument::\n-\n-    from django.views.generic import DetailView\n-    from books.models import Publisher, Book\n-\n-    class PublisherDetailView(DetailView):\n-\n-        context_object_name = \"publisher\"\n-        queryset = Publisher.objects.all()\n-\n-Specifying ``model = Publisher`` is really just shorthand for saying\n-``queryset = Publisher.objects.all()``. However, by using ``queryset``\n-to define a filtered list of objects you can be more specific about the\n-objects that will be visible in the view (see :doc:`/topics/db/queries`\n-for more information about :class:`QuerySet` objects, and see the\n-:doc:`class-based views reference </ref/class-based-views>` for the complete\n-details).\n-\n-To pick a simple example, we might want to order a list of books by\n-publication date, with the most recent first::\n-\n-    urlpatterns = patterns('',\n-        (r'^publishers/$', ListView.as_view(\n-            queryset=Publisher.objects.all(),\n-            context_object_name=\"publisher_list\",\n-        )),\n-        (r'^books/$', ListView.as_view(\n-            queryset=Book.objects.order_by(\"-publication_date\"),\n-            context_object_name=\"book_list\",\n-        )),\n-    )\n-\n-\n-That's a pretty simple example, but it illustrates the idea nicely. Of course,\n-you'll usually want to do more than just reorder objects. If you want to\n-present a list of books by a particular publisher, you can use the same\n-technique (here, illustrated using subclassing rather than by passing arguments\n-in the URLconf)::\n-\n-    from django.views.generic import ListView\n-    from books.models import Book\n-\n-    class AcmeBookListView(ListView):\n-\n-        context_object_name = \"book_list\"\n-        queryset = Book.objects.filter(publisher__name=\"Acme Publishing\")\n-        template_name = \"books/acme_list.html\"\n-\n-Notice that along with a filtered ``queryset``, we're also using a custom\n-template name. If we didn't, the generic view would use the same template as the\n-\"vanilla\" object list, which might not be what we want.\n-\n-Also notice that this isn't a very elegant way of doing publisher-specific\n-books. If we want to add another publisher page, we'd need another handful of\n-lines in the URLconf, and more than a few publishers would get unreasonable.\n-We'll deal with this problem in the next section.\n-\n-.. note::\n-\n-    If you get a 404 when requesting ``/books/acme/``, check to ensure you\n-    actually have a Publisher with the name 'ACME Publishing'.  Generic\n-    views have an ``allow_empty`` parameter for this case.  See the\n-    :doc:`class-based-views reference</ref/class-based-views>` for more details.\n-\n-\n-Dynamic filtering\n------------------\n-\n-Another common need is to filter down the objects given in a list page by some\n-key in the URL. Earlier we hard-coded the publisher's name in the URLconf, but\n-what if we wanted to write a view that displayed all the books by some arbitrary\n-publisher?\n-\n-Handily, the ``ListView`` has a\n-:meth:`~django.views.generic.detail.ListView.get_queryset` method we can\n-override. Previously, it has just been returning the value of the ``queryset``\n-attribute, but now we can add more logic.\n-\n-The key part to making this work is that when class-based views are called,\n-various useful things are stored on ``self``; as well as the request\n-(``self.request``) this includes the positional (``self.args``) and name-based\n-(``self.kwargs``) arguments captured according to the URLconf.\n-\n-Here, we have a URLconf with a single captured group::\n-\n-    from books.views import PublisherBookListView\n-\n-    urlpatterns = patterns('',\n-        (r'^books/(\\w+)/$', PublisherBookListView.as_view()),\n-    )\n-\n-Next, we'll write the ``PublisherBookListView`` view itself::\n-\n-    from django.shortcuts import get_object_or_404\n-    from django.views.generic import ListView\n-    from books.models import Book, Publisher\n-\n-    class PublisherBookListView(ListView):\n-\n-        context_object_name = \"book_list\"\n-        template_name = \"books/books_by_publisher.html\"\n-\n-        def get_queryset(self):\n-            publisher = get_object_or_404(Publisher, name__iexact=self.args[0])\n-            return Book.objects.filter(publisher=publisher)\n-\n-As you can see, it's quite easy to add more logic to the queryset selection;\n-if we wanted, we could use ``self.request.user`` to filter using the current\n-user, or other more complex logic.\n-\n-We can also add the publisher into the context at the same time, so we can\n-use it in the template::\n-\n-    class PublisherBookListView(ListView):\n-\n-        context_object_name = \"book_list\"\n-        template_name = \"books/books_by_publisher.html\"\n-\n-        def get_queryset(self):\n-            self.publisher = get_object_or_404(Publisher, name__iexact=self.args[0])\n-            return Book.objects.filter(publisher=self.publisher)\n-\n-        def get_context_data(self, **kwargs):\n-            # Call the base implementation first to get a context\n-            context = super(PublisherBookListView, self).get_context_data(**kwargs)\n-            # Add in the publisher\n-            context['publisher'] = self.publisher\n-            return context\n-\n-Performing extra work\n----------------------\n-\n-The last common pattern we'll look at involves doing some extra work before\n-or after calling the generic view.\n-\n-Imagine we had a ``last_accessed`` field on our ``Author`` object that we were\n-using to keep track of the last time anybody looked at that author::\n-\n-    # models.py\n-\n-    class Author(models.Model):\n-        salutation = models.CharField(max_length=10)\n-        first_name = models.CharField(max_length=30)\n-        last_name = models.CharField(max_length=40)\n-        email = models.EmailField()\n-        headshot = models.ImageField(upload_to='/tmp')\n-        last_accessed = models.DateTimeField()\n-\n-The generic ``DetailView`` class, of course, wouldn't know anything about this\n-field, but once again we could easily write a custom view to keep that field\n-updated.\n-\n-First, we'd need to add an author detail bit in the URLconf to point to a\n-custom view:\n-\n-.. parsed-literal::\n-\n-    from books.views import AuthorDetailView\n-\n-    urlpatterns = patterns('',\n-        #...\n-        **(r'^authors/(?P<pk>\\\\d+)/$', AuthorDetailView.as_view()),**\n-    )\n-\n-Then we'd write our new view -- ``get_object`` is the method that retrieves the\n-object -- so we simply override it and wrap the call::\n-\n-    import datetime\n-    from books.models import Author\n-    from django.views.generic import DetailView\n-    from django.shortcuts import get_object_or_404\n-\n-    class AuthorDetailView(DetailView):\n-\n-        queryset = Author.objects.all()\n-\n-        def get_object(self):\n-            # Call the superclass\n-            object = super(AuthorDetailView, self).get_object()\n-            # Record the last accessed date\n-            object.last_accessed = datetime.datetime.now()\n-            object.save()\n-            # Return the object\n-            return object\n-\n-.. note::\n-\n-    This code won't actually work unless you create a\n-    ``books/author_detail.html`` template.\n-\n-.. note::\n-\n-    The URLconf here uses the named group ``pk`` - this name is the default\n-    name that ``DetailView`` uses to find the value of the primary key used to\n-    filter the queryset.\n-\n-    If you want to change it, you'll need to do your own ``get()`` call\n-    on ``self.queryset`` using the new named parameter from ``self.kwargs``.\n-\n-More than just HTML\n--------------------\n-\n-So far, we've been focusing on rendering templates to generate\n-responses. However, that's not all generic views can do.\n-\n-Each generic view is composed out of a series of mixins, and each\n-mixin contributes a little piece of the entire view. Some of these\n-mixins -- such as\n-:class:`~django.views.generic.base.TemplateResponseMixin` -- are\n-specifically designed for rendering content to an HTML response using a\n-template. However, you can write your own mixins that perform\n-different rendering behavior.\n-\n-For example, a simple JSON mixin might look something like this::\n-\n-    import json\n-    from django import http\n-\n-    class JSONResponseMixin(object):\n-        def render_to_response(self, context):\n-            \"Returns a JSON response containing 'context' as payload\"\n-            return self.get_json_response(self.convert_context_to_json(context))\n-\n-        def get_json_response(self, content, **httpresponse_kwargs):\n-            \"Construct an `HttpResponse` object.\"\n-            return http.HttpResponse(content,\n-                                     content_type='application/json',\n-                                     **httpresponse_kwargs)\n-\n-        def convert_context_to_json(self, context):\n-            \"Convert the context dictionary into a JSON object\"\n-            # Note: This is *EXTREMELY* naive; in reality, you'll need\n-            # to do much more complex handling to ensure that arbitrary\n-            # objects -- such as Django model instances or querysets\n-            # -- can be serialized as JSON.\n-            return json.dumps(context)\n-\n-Then, you could build a JSON-returning\n-:class:`~django.views.generic.detail.DetailView` by mixing your\n-:class:`JSONResponseMixin` with the\n-:class:`~django.views.generic.detail.BaseDetailView` -- (the\n-:class:`~django.views.generic.detail.DetailView` before template\n-rendering behavior has been mixed in)::\n-\n-    class JSONDetailView(JSONResponseMixin, BaseDetailView):\n-        pass\n-\n-This view can then be deployed in the same way as any other\n-:class:`~django.views.generic.detail.DetailView`, with exactly the\n-same behavior -- except for the format of the response.\n-\n-If you want to be really adventurous, you could even mix a\n-:class:`~django.views.generic.detail.DetailView` subclass that is able\n-to return *both* HTML and JSON content, depending on some property of\n-the HTTP request, such as a query argument or a HTTP header. Just mix\n-in both the :class:`JSONResponseMixin` and a\n-:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`,\n-and override the implementation of :func:`render_to_response()` to defer\n-to the appropriate subclass depending on the type of response that the user\n-requested::\n-\n-    class HybridDetailView(JSONResponseMixin, SingleObjectTemplateResponseMixin, BaseDetailView):\n-        def render_to_response(self, context):\n-            # Look for a 'format=json' GET argument\n-            if self.request.GET.get('format','html') == 'json':\n-                return JSONResponseMixin.render_to_response(self, context)\n-            else:\n-                return SingleObjectTemplateResponseMixin.render_to_response(self, context)\n-\n-Because of the way that Python resolves method overloading, the local\n-``render_to_response()`` implementation will override the versions provided by\n-:class:`JSONResponseMixin` and\n-:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`.\n-\n-Decorating class-based views\n-============================\n-\n-.. highlightlang:: python\n-\n-The extension of class-based views isn't limited to using mixins. You\n-can use also use decorators.\n-\n-Decorating in URLconf\n----------------------\n-\n-The simplest way of decorating class-based views is to decorate the\n-result of the :meth:`~django.views.generic.base.View.as_view` method.\n-The easiest place to do this is in the URLconf where you deploy your\n-view::\n-\n-    from django.contrib.auth.decorators import login_required, permission_required\n-    from django.views.generic import TemplateView\n-\n-    from .views import VoteView\n-\n-    urlpatterns = patterns('',\n-        (r'^about/', login_required(TemplateView.as_view(template_name=\"secret.html\"))),\n-        (r'^vote/', permission_required('polls.can_vote')(VoteView.as_view())),\n-    )\n-\n-This approach applies the decorator on a per-instance basis. If you\n-want every instance of a view to be decorated, you need to take a\n-different approach.\n-\n-.. _decorating-class-based-views:\n-\n-Decorating the class\n---------------------\n-\n-To decorate every instance of a class-based view, you need to decorate\n-the class definition itself. To do this you apply the decorator to the\n-:meth:`~django.views.generic.base.View.dispatch` method of the class.\n-\n-A method on a class isn't quite the same as a standalone function, so\n-you can't just apply a function decorator to the method -- you need to\n-transform it into a method decorator first. The ``method_decorator``\n-decorator transforms a function decorator into a method decorator so\n-that it can be used on an instance method. For example::\n-\n-    from django.contrib.auth.decorators import login_required\n-    from django.utils.decorators import method_decorator\n-    from django.views.generic import TemplateView\n-\n-    class ProtectedView(TemplateView):\n-        template_name = 'secret.html'\n-\n-        @method_decorator(login_required)\n-        def dispatch(self, *args, **kwargs):\n-            return super(ProtectedView, self).dispatch(*args, **kwargs)\n-\n-In this example, every instance of ``ProtectedView`` will have\n-login protection.\n-\n-.. note::\n-\n-    ``method_decorator`` passes ``*args`` and ``**kwargs``\n-    as parameters to the decorated method on the class. If your method\n-    does not accept a compatible set of parameters it will raise a\n-    ``TypeError`` exception."
        },
        {
            "sha": "39fb41df0433fe56a991b148fe099b15504671a2",
            "filename": "docs/topics/class-based-views/generic-display.txt",
            "status": "added",
            "additions": 432,
            "deletions": 0,
            "changes": 432,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fgeneric-display.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fgeneric-display.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views%2Fgeneric-display.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,432 @@\n+.. _Generic views:\n+\n+=========================\n+Class-based generic views\n+=========================\n+\n+.. note::\n+    Prior to Django 1.3, generic views were implemented as functions. The\n+    function-based implementation has been removed in favor of the\n+    class-based approach described here.\n+\n+Writing Web applications can be monotonous, because we repeat certain patterns\n+again and again. Django tries to take away some of that monotony at the model\n+and template layers, but Web developers also experience this boredom at the view\n+level.\n+\n+Django's *generic views* were developed to ease that pain. They take certain\n+common idioms and patterns found in view development and abstract them so that\n+you can quickly write common views of data without having to write too much\n+code.\n+\n+We can recognize certain common tasks, like displaying a list of objects, and\n+write code that displays a list of *any* object. Then the model in question can\n+be passed as an extra argument to the URLconf.\n+\n+Django ships with generic views to do the following:\n+\n+* Display list and detail pages for a single object. If we were creating an\n+  application to manage conferences then a ``TalkListView`` and a\n+  ``RegisteredUserListView`` would be examples of list views. A single\n+  talk page is an example of what we call a \"detail\" view.\n+\n+* Present date-based objects in year/month/day archive pages,\n+  associated detail, and \"latest\" pages.\n+\n+* Allow users to create, update, and delete objects -- with or\n+  without authorization.\n+\n+Taken together, these views provide easy interfaces to perform the most common\n+tasks developers encounter.\n+\n+\n+Extending generic views\n+=======================\n+\n+There's no question that using generic views can speed up development\n+substantially. In most projects, however, there comes a moment when the\n+generic views no longer suffice. Indeed, the most common question asked by new\n+Django developers is how to make generic views handle a wider array of\n+situations.\n+\n+This is one of the reasons generic views were redesigned for the 1.3 release -\n+previously, they were just view functions with a bewildering array of options;\n+now, rather than passing in a large amount of configuration in the URLconf,\n+the recommended way to extend generic views is to subclass them, and override\n+their attributes or methods.\n+\n+That said, generic views will have a limit. If you find you're struggling to\n+implement your view as a subclass of a generic view, then you may find it more\n+effective to write just the code you need, using your own class-based or\n+functional views.\n+\n+More examples of generic views are available in some third party applications,\n+or you could write your own as needed.\n+\n+\n+Generic views of objects\n+========================\n+\n+:class:`~django.views.generic.base.TemplateView` certainly is useful, but\n+Django's generic views really shine when it comes to presenting views of your\n+database content. Because it's such a common task, Django comes with a handful\n+of built-in generic views that make generating list and detail views of objects\n+incredibly easy.\n+\n+Let's start by looking at some examples of showing a list of objects or an\n+individual object.\n+\n+.. comment: link here to the other topic pages (form handling, date based, mixins)\n+\n+We'll be using these models::\n+\n+    # models.py\n+    from django.db import models\n+\n+    class Publisher(models.Model):\n+        name = models.CharField(max_length=30)\n+        address = models.CharField(max_length=50)\n+        city = models.CharField(max_length=60)\n+        state_province = models.CharField(max_length=30)\n+        country = models.CharField(max_length=50)\n+        website = models.URLField()\n+\n+        class Meta:\n+            ordering = [\"-name\"]\n+\n+        def __unicode__(self):\n+            return self.name\n+\n+    class Book(models.Model):\n+        title = models.CharField(max_length=100)\n+        authors = models.ManyToManyField('Author')\n+        publisher = models.ForeignKey(Publisher)\n+        publication_date = models.DateField()\n+\n+Now we need to define a view::\n+\n+    # views.py\n+    from django.views.generic import ListView\n+    from books.models import Publisher\n+\n+    class PublisherList(ListView):\n+        model = Publisher\n+\n+Finally hook that view into your urls::\n+\n+    # urls.py\n+    from django.conf.urls import patterns, url, include\n+    from books.views import PublisherList\n+\n+    urlpatterns = patterns('',\n+        url(r'^publishers/$', PublisherList.as_view()),\n+    )\n+\n+That's all the Python code we need to write. We still need to write a template,\n+however. We could explicitly tell the view which template to use by adding a\n+``template_name`` attribute to the view, but in the absence of an explicit\n+template Django will infer one from the object's name. In this case, the\n+inferred template will be ``\"books/publisher_list.html\"`` -- the \"books\" part\n+comes from the name of the app that defines the model, while the \"publisher\"\n+bit is just the lowercased version of the model's name.\n+\n+.. note::\n+\n+    Thus, when (for example) the\n+    :class:`django.template.loaders.app_directories.Loader` template loader is\n+    enabled in :setting:`TEMPLATE_LOADERS`, a template location could be:\n+    /path/to/project/books/templates/books/publisher_list.html\n+\n+.. highlightlang:: html+django\n+\n+This template will be rendered against a context containing a variable called\n+``object_list`` that contains all the publisher objects. A very simple template\n+might look like the following::\n+\n+    {% extends \"base.html\" %}\n+\n+    {% block content %}\n+        <h2>Publishers</h2>\n+        <ul>\n+            {% for publisher in object_list %}\n+                <li>{{ publisher.name }}</li>\n+            {% endfor %}\n+        </ul>\n+    {% endblock %}\n+\n+That's really all there is to it. All the cool features of generic views come\n+from changing the attributes set on the generic view. The\n+:doc:`generic views reference</ref/class-based-views/index>` documents all the\n+generic views and their options in detail; the rest of this document will \n+consider some of the common ways you might customize and extend generic views.\n+\n+\n+Making \"friendly\" template contexts\n+-----------------------------------\n+\n+.. highlightlang:: python\n+\n+You might have noticed that our sample publisher list template stores all the\n+publishers in a variable named ``object_list``. While this works just fine, it\n+isn't all that \"friendly\" to template authors: they have to \"just know\" that\n+they're dealing with publishers here.\n+\n+Well, if you're dealing with a model object, this is already done for you. When\n+you are dealing with an object or queryset, Django is able to populate the\n+context using the lower cased version of the model class' name. This is\n+provided in addition to the default ``object_list`` entry, but contains exactly\n+the same data, i.e. ``publisher_list``.\n+\n+If the this still isn't a good match, you can manually set the name of the\n+context variable. The ``context_object_name`` attribute on a generic view\n+specifies the context variable to use::\n+\n+    # views.py\n+    from django.views.generic import ListView\n+    from books.models import Publisher\n+\n+    class PublisherList(ListView):\n+        model = Publisher\n+        context_object_name = 'my_favourite_publishers'\n+\n+Providing a useful ``context_object_name`` is always a good idea. Your\n+coworkers who design templates will thank you.\n+\n+\n+Adding extra context\n+--------------------\n+\n+Often you simply need to present some extra information beyond that\n+provided by the generic view. For example, think of showing a list of\n+all the books on each publisher detail page. The\n+:class:`~django.views.generic.detail.DetailView` generic view provides\n+the publisher to the context, but how do we get additional information\n+in that template.\n+\n+However, there is; you can subclass\n+:class:`~django.views.generic.detail.DetailView` and provide your own\n+implementation of the ``get_context_data`` method. The default\n+implementation of this that comes with\n+:class:`~django.views.generic.detail.DetailView` simply adds in the\n+object being displayed to the template, but you can override it to send\n+more::\n+\n+    from django.views.generic import DetailView\n+    from books.models import Publisher, Book\n+\n+    class PublisherDetail(DetailView):\n+\n+        model = Publisher\n+\n+        def get_context_data(self, **kwargs):\n+            # Call the base implementation first to get a context\n+            context = super(PublisherDetailView, self).get_context_data(**kwargs)\n+            # Add in a QuerySet of all the books\n+            context['book_list'] = Book.objects.all()\n+            return context\n+\n+.. note::\n+\n+    Generally, get_context_data will merge the context data of all parent\n+    classes with those of the current class. To preserve this behavior in your\n+    own classes where you want to alter the context, you should be sure to call\n+    get_context_data on the super class. When no two classes try to define the\n+    same key, this will give the expected results. However if any class\n+    attempts to override a key after parent classes have set it (after the call\n+    to super), any children of that class will also need to explictly set it\n+    after super if they want to be sure to override all parents. If you're\n+    having trouble, review the method resolution order of your view.\n+\n+.. _generic-views-list-subsets:\n+\n+Viewing subsets of objects\n+--------------------------\n+\n+Now let's take a closer look at the ``model`` argument we've been\n+using all along. The ``model`` argument, which specifies the database\n+model that the view will operate upon, is available on all the\n+generic views that operate on a single object or a collection of\n+objects. However, the ``model`` argument is not the only way to\n+specify the objects that the view will operate upon -- you can also\n+specify the list of objects using the ``queryset`` argument::\n+\n+    from django.views.generic import DetailView\n+    from books.models import Publisher, Book\n+\n+    class PublisherDetail(DetailView):\n+\n+        context_object_name = 'publisher'\n+        queryset = Publisher.objects.all()\n+\n+Specifying ``model = Publisher`` is really just shorthand for saying\n+``queryset = Publisher.objects.all()``. However, by using ``queryset``\n+to define a filtered list of objects you can be more specific about the\n+objects that will be visible in the view (see :doc:`/topics/db/queries`\n+for more information about :class:`QuerySet` objects, and see the\n+:doc:`class-based views reference </ref/class-based-views/index>` for the\n+complete details).\n+\n+To pick a simple example, we might want to order a list of books by\n+publication date, with the most recent first::\n+\n+    from django.views.generic import ListView\n+    from books.models import Book\n+\n+    class BookList(ListView):\n+        queryset = Book.objects.order_by('-publication_date')\n+        context_object_name = 'book_list'\n+\n+That's a pretty simple example, but it illustrates the idea nicely. Of course,\n+you'll usually want to do more than just reorder objects. If you want to\n+present a list of books by a particular publisher, you can use the same\n+technique::\n+\n+    from django.views.generic import ListView\n+    from books.models import Book\n+\n+    class AcmeBookListView(ListView):\n+\n+        context_object_name = 'book_list'\n+        queryset = Book.objects.filter(publisher__name='Acme Publishing')\n+        template_name = 'books/acme_list.html'\n+\n+Notice that along with a filtered ``queryset``, we're also using a custom\n+template name. If we didn't, the generic view would use the same template as the\n+\"vanilla\" object list, which might not be what we want.\n+\n+Also notice that this isn't a very elegant way of doing publisher-specific\n+books. If we want to add another publisher page, we'd need another handful of\n+lines in the URLconf, and more than a few publishers would get unreasonable.\n+We'll deal with this problem in the next section.\n+\n+.. note::\n+\n+    If you get a 404 when requesting ``/books/acme/``, check to ensure you\n+    actually have a Publisher with the name 'ACME Publishing'.  Generic\n+    views have an ``allow_empty`` parameter for this case.  See the\n+    :doc:`class-based-views reference</ref/class-based-views/index>` for more\n+    details.\n+\n+\n+Dynamic filtering\n+-----------------\n+\n+Another common need is to filter down the objects given in a list page by some\n+key in the URL. Earlier we hard-coded the publisher's name in the URLconf, but\n+what if we wanted to write a view that displayed all the books by some arbitrary\n+publisher?\n+\n+Handily, the ``ListView`` has a\n+:meth:`~django.views.generic.detail.ListView.get_queryset` method we can\n+override. Previously, it has just been returning the value of the ``queryset``\n+attribute, but now we can add more logic.\n+\n+The key part to making this work is that when class-based views are called,\n+various useful things are stored on ``self``; as well as the request\n+(``self.request``) this includes the positional (``self.args``) and name-based\n+(``self.kwargs``) arguments captured according to the URLconf.\n+\n+Here, we have a URLconf with a single captured group::\n+\n+    # urls.py\n+    from books.views import PublisherBookList\n+\n+    urlpatterns = patterns('',\n+        (r'^books/([\\w-]+)/$', PublisherBookList.as_view()),\n+    )\n+\n+Next, we'll write the ``PublisherBookList`` view itself::\n+\n+    # views.py\n+    from django.shortcuts import get_object_or_404\n+    from django.views.generic import ListView\n+    from books.models import Book, Publisher\n+\n+    class PublisherBookList(ListView):\n+\n+        template_name = 'books/books_by_publisher.html'\n+\n+        def get_queryset(self):\n+            self.publisher = get_object_or_404(Publisher, name=self.args[0])\n+            return Book.objects.filter(publisher=self.publisher)\n+\n+As you can see, it's quite easy to add more logic to the queryset selection;\n+if we wanted, we could use ``self.request.user`` to filter using the current\n+user, or other more complex logic.\n+\n+We can also add the publisher into the context at the same time, so we can\n+use it in the template::\n+\n+        # ...\n+\n+        def get_context_data(self, **kwargs):\n+            # Call the base implementation first to get a context\n+            context = super(PublisherBookListView, self).get_context_data(**kwargs)\n+            # Add in the publisher\n+            context['publisher'] = self.publisher\n+            return context\n+\n+.. _generic-views-extra-work:\n+\n+Performing extra work\n+---------------------\n+\n+The last common pattern we'll look at involves doing some extra work before\n+or after calling the generic view.\n+\n+Imagine we had a ``last_accessed`` field on our ``Author`` object that we were\n+using to keep track of the last time anybody looked at that author::\n+\n+    # models.py\n+\n+    class Author(models.Model):\n+        salutation = models.CharField(max_length=10)\n+        name = models.CharField(max_length=200)\n+        email = models.EmailField()\n+        headshot = models.ImageField(upload_to='/tmp')\n+        last_accessed = models.DateTimeField()\n+\n+The generic ``DetailView`` class, of course, wouldn't know anything about this\n+field, but once again we could easily write a custom view to keep that field\n+updated.\n+\n+First, we'd need to add an author detail bit in the URLconf to point to a\n+custom view::\n+\n+    from books.views import AuthorDetailView\n+\n+    urlpatterns = patterns('',\n+        #...\n+        url(r'^authors/(?P<pk>\\\\d+)/$', AuthorDetailView.as_view(), name='author-detail'),\n+    )\n+\n+Then we'd write our new view -- ``get_object`` is the method that retrieves the\n+object -- so we simply override it and wrap the call::\n+\n+    from django.views.generic import DetailView\n+    from django.shortcuts import get_object_or_404\n+    from django.utils import timezone\n+    from books.models import Author\n+\n+    class AuthorDetailView(DetailView):\n+\n+        queryset = Author.objects.all()\n+\n+        def get_object(self):\n+            # Call the superclass\n+            object = super(AuthorDetailView, self).get_object()\n+            # Record the last accessed date\n+            object.last_accessed = timezone.now()\n+            object.save()\n+            # Return the object\n+            return object\n+\n+.. note::\n+\n+    The URLconf here uses the named group ``pk`` - this name is the default\n+    name that ``DetailView`` uses to find the value of the primary key used to\n+    filter the queryset.\n+\n+    If you want to call the group something else, you can set ``pk_url_kwarg``\n+    on the view. More details can be found in the reference for\n+    :class:`~django.views.generic.detail.DetailView`"
        },
        {
            "sha": "23d346a32a8f31718c53c08a058edf956025a931",
            "filename": "docs/topics/class-based-views/generic-editing.txt",
            "status": "added",
            "additions": 205,
            "deletions": 0,
            "changes": 205,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fgeneric-editing.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fgeneric-editing.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views%2Fgeneric-editing.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,205 @@\n+Form handling with class-based views\n+====================================\n+\n+Form processing generally has 3 paths:\n+\n+* Initial GET (blank or prepopulated form)\n+* POST with invalid data (typically redisplay form with errors)\n+* POST with valid data (process the data and typically redirect)\n+\n+Implementing this yourself often results in a lot of repeated\n+boilerplate code (see :ref:`Using a form in a\n+view<using-a-form-in-a-view>`). To help avoid this, Django provides a\n+collection of generic class-based views for form processing.\n+\n+Basic Forms\n+-----------\n+\n+Given a simple contact form::\n+\n+    # forms.py\n+    from django import forms\n+\n+    class ContactForm(forms.Form):\n+        name = forms.CharField()\n+        message = forms.CharField(widget=forms.Textarea)\n+\n+        def send_email(self):\n+            # send email using the self.cleaned_data dictionary\n+            pass\n+\n+The view can be constructed using a FormView::\n+\n+    # views.py\n+    from myapp.forms import ContactForm\n+    from django.views.generic.edit import FormView\n+\n+    class ContactView(FormView):\n+        template_name = 'contact.html'\n+        form_class = ContactForm\n+        success_url = '/thanks/'\n+\n+        def form_valid(self, form):\n+            # This method is called when valid form data has been POSTed.\n+            # It should return an HttpResponse.\n+            form.send_email()\n+            return super(ContactView, self).form_valid(form)\n+\n+Notes:\n+\n+* FormView inherits\n+  :class:`~django.views.generic.base.TemplateResponseMixin` so\n+  :attr:`~django.views.generic.base.TemplateResponseMixin.template_name`\n+  can be used here\n+* The default implementation for\n+  :meth:`~django.views.generic.edit.FormView.form_valid` simply\n+  redirects to the :attr:`success_url`\n+\n+Model Forms\n+-----------\n+\n+Generic views really shine when working with models.  These generic\n+views will automatically create a :class:`ModelForm`, so long as they\n+can work out which model class to use:\n+\n+* If the :attr:`model` attribute is given, that model class will be used\n+* If :meth:`get_object()` returns an object, the class of that object\n+  will be used\n+* If a :attr:`queryset` is given, the model for that queryset will be used\n+\n+Model form views provide a :meth:`form_valid()` implementation that\n+saves the model automatically.  You can override this if you have any\n+special requirements; see below for examples.\n+\n+You don't even need to provide a attr:`success_url` for\n+:class:`~django.views.generic.edit.CreateView` or\n+:class:`~django.views.generic.edit.UpdateView` - they will use\n+:meth:`get_absolute_url()` on the model object if available.\n+\n+If you want to use a custom :class:`ModelForm` (for instance to add\n+extra validation) simply set\n+:attr:`~django.views.generic.edit.FormMixin.form_class` on your view.\n+\n+.. note::\n+    When specifying a custom form class, you must still specify the model,\n+    even though the :attr:`form_class` may be a :class:`ModelForm`.\n+\n+First we need to add :meth:`get_absolute_url()` to our :class:`Author`\n+class:\n+\n+.. code-block:: python\n+\n+    # models.py\n+    from django import models\n+    from django.core.urlresolvers import reverse\n+\n+    class Author(models.Model):\n+        name = models.CharField(max_length=200)\n+\n+        def get_absolute_url(self):\n+            return reverse('author-detail', kwargs={'pk': self.pk})\n+\n+Then we can use :class:`CreateView` and friends to do the actual\n+work. Notice how we're just configuring the generic class-based views\n+here; we don't have to write any logic ourselves::\n+   \n+    # views.py\n+    from django.views.generic.edit import CreateView, UpdateView, DeleteView\n+    from django.core.urlresolvers import reverse_lazy\n+    from myapp.models import Author\n+\n+    class AuthorCreate(CreateView):\n+        model = Author\n+\n+    class AuthorUpdate(UpdateView):\n+        model = Author\n+\n+    class AuthorDelete(DeleteView):\n+        model = Author\n+        success_url = reverse_lazy('author-list')\n+\n+.. note::\n+    We have to use :func:`~django.core.urlresolvers.reverse_lazy` here, not\n+    just ``reverse`` as the urls are not loaded when the file is imported.\n+\n+Finally, we hook these new views into the URLconf::\n+\n+    # urls.py\n+    from django.conf.urls import patterns, url\n+    from myapp.views import AuthorCreate, AuthorUpdate, AuthorDelete\n+\n+    urlpatterns = patterns('',\n+        # ...\n+        url(r'author/add/$', AuthorCreate.as_view(), name='author_add'),\n+        url(r'author/(?P<pk>\\d+)/$', AuthorUpdate.as_view(), name='author_update'),\n+        url(r'author/(?P<pk>\\d+)/delete/$', AuthorDelete.as_view(), name='author_delete'),\n+    )\n+        \n+.. note::\n+\n+    These views inherit :class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    which uses :attr:`~django.views.generic.detail.SingleObjectTemplateResponseMixin.template_name_prefix`\n+    to construct the\n+    :attr:`~django.views.generic.base.TemplateResponseMixin.template_name`\n+    based on the model.\n+\n+    In this example:\n+\n+    * :class:`CreateView` and :class:`UpdateView` use ``myapp/author_form.html``\n+    * :class:`DeleteView` uses ``myapp/author_confirm_delete.html``\n+\n+    If you wish to have separate templates for :class:`CreateView` and\n+    :class:1UpdateView`, you can set either :attr:`template_name` or\n+    :attr:`template_name_suffix` on your view class.\n+\n+Models and request.user\n+-----------------------\n+\n+To track the user that created an object using a :class:`CreateView`,\n+you can use a custom :class:`ModelForm` to do this. First, add the\n+foreign key relation to the model::\n+\n+    # models.py\n+    from django import models\n+    from django.contrib.auth import User\n+\n+    class Author(models.Model):\n+        name = models.CharField(max_length=200)\n+        created_by = models.ForeignKey(User)\n+\n+        # ...\n+\n+Create a custom :class:`ModelForm` in order to exclude the\n+``created_by`` field and prevent the user from editing it:\n+\n+.. code-block:: python\n+\n+    # forms.py\n+    from django import forms\n+    from myapp.models import Author\n+    \n+    class AuthorForm(forms.ModelForm):\n+        class Meta:\n+            model = Author\n+            exclude = ('created_by',)\n+\n+In the view, use the custom :attr:`form_class` and override\n+:meth:`form_valid()` to add the user::\n+\n+    # views.py\n+    from django.views.generic.edit import CreateView\n+    from myapp.models import Author\n+    from myapp.forms import AuthorForm\n+    \n+    class AuthorCreate(CreateView):\n+        form_class = AuthorForm\n+        model = Author\n+\n+        def form_valid(self, form):\n+            form.instance.created_by = self.request.user\n+            return super(AuthorCreate, self).form_valid(form)\n+\n+Note that you'll need to :ref:`decorate this\n+view<decorating-class-based-views>` using\n+:func:`~django.contrib.auth.decorators.login_required`, or\n+alternatively handle unauthorised users in the :meth:`form_valid()`."
        },
        {
            "sha": "bdf649da48c0c9bf323f708185c84287b8f1cdc6",
            "filename": "docs/topics/class-based-views/index.txt",
            "status": "added",
            "additions": 233,
            "deletions": 0,
            "changes": 233,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,233 @@\n+=================\n+Class-based views\n+=================\n+\n+.. versionadded:: 1.3\n+\n+A view is a callable which takes a request and returns a\n+response. This can be more than just a function, and Django provides\n+an example of some classes which can be used as views. These allow you\n+to structure your views and reuse code by harnessing inheritance and\n+mixins. There are also some generic views for simple tasks which we'll\n+get to later, but you may want to design your own structure of\n+reusable views which suits your use case. For full details, see the\n+:doc:`class-based views reference\n+documentation</ref/class-based-views/index>`.\n+\n+.. toctree::\n+   :maxdepth: 1\n+\n+   generic-display\n+   generic-editing\n+   mixins\n+\n+Basic examples\n+==============\n+\n+Django provides base view classes which will suit a wide range of applications.\n+All views inherit from the :class:`~django.views.generic.base.View` class, which\n+handles linking the view in to the URLs, HTTP method dispatching and other\n+simple features. :class:`~django.views.generic.base.RedirectView` is for a simple HTTP\n+redirect, and :class:`~django.views.generic.base.TemplateView` extends the base class\n+to make it also render a template.\n+\n+\n+Simple usage\n+============\n+\n+Class-based generic views (and any class-based views that inherit from\n+the base classes Django provides) can be configured in two\n+ways: subclassing, or passing in arguments directly in the URLconf.\n+\n+When you subclass a class-based view, you can override attributes\n+(such as the ``template_name``) or methods (such as ``get_context_data``)\n+in your subclass to provide new values or methods. Consider, for example,\n+a view that just displays one template, ``about.html``. Django has a\n+generic view to do this - :class:`~django.views.generic.base.TemplateView` -\n+so we can just subclass it, and override the template name::\n+\n+    # some_app/views.py\n+    from django.views.generic import TemplateView\n+\n+    class AboutView(TemplateView):\n+        template_name = \"about.html\"\n+\n+Then, we just need to add this new view into our URLconf. As the class-based\n+views themselves are classes, we point the URL to the ``as_view`` class method\n+instead, which is the entry point for class-based views::\n+\n+    # urls.py\n+    from django.conf.urls import patterns, url, include\n+    from some_app.views import AboutView\n+\n+    urlpatterns = patterns('',\n+        (r'^about/', AboutView.as_view()),\n+    )\n+\n+Alternatively, if you're only changing a few simple attributes on a\n+class-based view, you can simply pass the new attributes into the ``as_view``\n+method call itself::\n+\n+    from django.conf.urls import patterns, url, include\n+    from django.views.generic import TemplateView\n+\n+    urlpatterns = patterns('',\n+        (r'^about/', TemplateView.as_view(template_name=\"about.html\")),\n+    )\n+\n+A similar overriding pattern can be used for the ``url`` attribute on\n+:class:`~django.views.generic.base.RedirectView`.\n+\n+.. _jsonresponsemixin-example:\n+\n+More than just HTML\n+-------------------\n+\n+Where class based views shine is when you want to do the same thing many times.\n+Suppose you're writing an API, and every view should return JSON instead of\n+rendered HTML.\n+\n+We can use create a mixin class to use in all of our views, handling the\n+conversion to JSON once.\n+\n+For example, a simple JSON mixin might look something like this::\n+\n+    import json\n+    from django import http\n+\n+    class JSONResponseMixin(object):\n+        \"\"\"\n+        A mixin that can be used to render a JSON response.\n+        \"\"\"\n+        reponse_class = HTTPResponse\n+\n+        def render_to_response(self, context, **response_kwargs):\n+            \"\"\"\n+            Returns a JSON response, transforming 'context' to make the payload.\n+            \"\"\"\n+            response_kwargs['content_type'] = 'application/json'\n+            return self.response_class(\n+                self.convert_context_to_json(context),\n+                **response_kwargs\n+            )\n+\n+        def convert_context_to_json(self, context):\n+            \"Convert the context dictionary into a JSON object\"\n+            # Note: This is *EXTREMELY* naive; in reality, you'll need\n+            # to do much more complex handling to ensure that arbitrary\n+            # objects -- such as Django model instances or querysets\n+            # -- can be serialized as JSON.\n+            return json.dumps(context)\n+\n+Now we mix this into the base view::\n+\n+    from django.views.generic import View\n+\n+    class JSONView(JSONResponseMixin, View):\n+        pass\n+\n+Equally we could use our mixin with one of the generic views. We can make our\n+own version of :class:`~django.views.generic.detail.DetailView` by mixing\n+:class:`JSONResponseMixin` with the\n+:class:`~django.views.generic.detail.BaseDetailView` -- (the\n+:class:`~django.views.generic.detail.DetailView` before template\n+rendering behavior has been mixed in)::\n+\n+    class JSONDetailView(JSONResponseMixin, BaseDetailView):\n+        pass\n+\n+This view can then be deployed in the same way as any other\n+:class:`~django.views.generic.detail.DetailView`, with exactly the\n+same behavior -- except for the format of the response.\n+\n+If you want to be really adventurous, you could even mix a\n+:class:`~django.views.generic.detail.DetailView` subclass that is able\n+to return *both* HTML and JSON content, depending on some property of\n+the HTTP request, such as a query argument or a HTTP header. Just mix\n+in both the :class:`JSONResponseMixin` and a\n+:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`,\n+and override the implementation of :func:`render_to_response()` to defer\n+to the appropriate subclass depending on the type of response that the user\n+requested::\n+\n+    class HybridDetailView(JSONResponseMixin, SingleObjectTemplateResponseMixin, BaseDetailView):\n+        def render_to_response(self, context):\n+            # Look for a 'format=json' GET argument\n+            if self.request.GET.get('format','html') == 'json':\n+                return JSONResponseMixin.render_to_response(self, context)\n+            else:\n+                return SingleObjectTemplateResponseMixin.render_to_response(self, context)\n+\n+Because of the way that Python resolves method overloading, the local\n+``render_to_response()`` implementation will override the versions provided by\n+:class:`JSONResponseMixin` and\n+:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`.\n+\n+For more information on how to use the built in generic views, consult the next\n+topic on :doc:`generic class based views</topics/class-based-views/generic-display>`.\n+\n+Decorating class-based views\n+============================\n+\n+.. highlightlang:: python\n+\n+The extension of class-based views isn't limited to using mixins. You\n+can use also use decorators.\n+\n+Decorating in URLconf\n+---------------------\n+\n+The simplest way of decorating class-based views is to decorate the\n+result of the :meth:`~django.views.generic.base.View.as_view` method.\n+The easiest place to do this is in the URLconf where you deploy your\n+view::\n+\n+    from django.contrib.auth.decorators import login_required, permission_required\n+    from django.views.generic import TemplateView\n+\n+    from .views import VoteView\n+\n+    urlpatterns = patterns('',\n+        (r'^about/', login_required(TemplateView.as_view(template_name=\"secret.html\"))),\n+        (r'^vote/', permission_required('polls.can_vote')(VoteView.as_view())),\n+    )\n+\n+This approach applies the decorator on a per-instance basis. If you\n+want every instance of a view to be decorated, you need to take a\n+different approach.\n+\n+.. _decorating-class-based-views:\n+\n+Decorating the class\n+--------------------\n+\n+To decorate every instance of a class-based view, you need to decorate\n+the class definition itself. To do this you apply the decorator to the\n+:meth:`~django.views.generic.base.View.dispatch` method of the class.\n+\n+A method on a class isn't quite the same as a standalone function, so\n+you can't just apply a function decorator to the method -- you need to\n+transform it into a method decorator first. The ``method_decorator``\n+decorator transforms a function decorator into a method decorator so\n+that it can be used on an instance method. For example::\n+\n+    from django.contrib.auth.decorators import login_required\n+    from django.utils.decorators import method_decorator\n+    from django.views.generic import TemplateView\n+\n+    class ProtectedView(TemplateView):\n+        template_name = 'secret.html'\n+\n+        @method_decorator(login_required)\n+        def dispatch(self, *args, **kwargs):\n+            return super(ProtectedView, self).dispatch(*args, **kwargs)\n+\n+In this example, every instance of ``ProtectedView`` will have\n+login protection.\n+\n+.. note::\n+\n+    ``method_decorator`` passes ``*args`` and ``**kwargs``\n+    as parameters to the decorated method on the class. If your method\n+    does not accept a compatible set of parameters it will raise a\n+    ``TypeError`` exception."
        },
        {
            "sha": "0c19d60e35059e94ce6ad10e7bcf7cbfab9d4834",
            "filename": "docs/topics/class-based-views/mixins.txt",
            "status": "added",
            "additions": 605,
            "deletions": 0,
            "changes": 605,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fmixins.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fclass-based-views%2Fmixins.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views%2Fmixins.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -0,0 +1,605 @@\n+===================================\n+Using mixins with class-based views\n+===================================\n+\n+.. versionadded:: 1.3\n+\n+.. caution::\n+\n+    This is an advanced topic. A working knowledge of :doc:`Django's\n+    class-based views<index>` is advised before exploring these\n+    techniques.\n+\n+Django's built-in class-based views provide a lot of functionality,\n+but some of it you may want to use separately. For instance, you may\n+want to write a view that renders a template to make the HTTP\n+response, but you can't use\n+:class:`~django.views.generic.base.TemplateView`; perhaps you need to\n+render a template only on `POST`, with `GET` doing something else\n+entirely. While you could use\n+:class:`~django.template.response.TemplateResponse` directly, this\n+will likely result in duplicate code.\n+\n+For this reason, Django also provides a number of mixins that provide\n+more discrete functionality. Template rendering, for instance, is\n+encapsulated in the\n+:class:`~django.views.generic.base.TemplateResponseMixin`. The Django\n+reference documentation contains :doc:`full documentation of all the\n+mixins</ref/class-based-views/mixins>`.\n+\n+Context and template responses\n+==============================\n+\n+Two central mixins are provided that help in providing a consistent\n+interface to working with templates in class-based views.\n+\n+:class:`~django.views.generic.base.TemplateResponseMixin`\n+    Every built in view which returns a\n+    :class:`~django.template.response.TemplateResponse` will call the\n+    :meth:`~django.views.generic.base.TemplateResponseMixin.render_to_response`\n+    method that :class:`TemplateResponseMixin` provides. Most of the time this\n+    will be called for you (for instance, it is called by the ``get()`` method\n+    implemented by both :class:`~django.views.generic.base.TemplateView` and\n+    :class:`~django.views.generic.base.DetailView`); similarly, it's unlikely\n+    that you'll need to override it, although if you want your response to\n+    return something not rendered via a Django template then you'll want to do\n+    it. For an example of this, see the :ref:`JSONResponseMixin example\n+    <jsonresponsemixin-example>`.\n+\n+    ``render_to_response`` itself calls\n+    :meth:`~django.views.generic.base.TemplateResponseMixin.get_template_names`,\n+    which by default will just look up\n+    :attr:`~django.views.generic.base.TemplateResponseMixin.template_name` on\n+    the class-based view; two other mixins\n+    (:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`\n+    and\n+    :class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`)\n+    override this to provide more flexible defaults when dealing with actual\n+    objects.\n+\n+.. versionadded:: 1.5\n+\n+:class:`~django.views.generic.base.ContextMixin`\n+    Every built in view which needs context data, such as for rendering a\n+    template (including :class:`TemplateResponseMixin` above), should call\n+    :meth:`~django.views.generic.base.ContextMixin.get_context_data` passing\n+    any data they want to ensure is in there as keyword arguments.\n+    ``get_context_data`` returns a dictionary; in :class:`ContextMixin` it\n+    simply returns its keyword arguments, but it is common to override this to\n+    add more members to the dictionary.\n+\n+Building up Django's generic class-based views\n+===============================================\n+\n+Let's look at how two of Django's generic class-based views are built\n+out of mixins providing discrete functionality. We'll consider\n+:class:`~django.views.generic.detail.DetailView`, which renders a\n+\"detail\" view of an object, and\n+:class:`~django.views.generic.list.ListView`, which will render a list\n+of objects, typically from a queryset, and optionally paginate\n+them. This will introduce us to four mixins which between them provide\n+useful functionality when working with either a single Django object,\n+or multiple objects.\n+\n+There are also mixins involved in the generic edit views\n+(:class:`~django.views.generic.edit.FormView`, and the model-specific\n+views :class:`~django.views.generic.edit.CreateView`,\n+:class:`~django.views.generic.edit.UpdateView` and\n+:class:`~django.views.generic.edit.DeleteView`), and in the\n+date-based generic views. These are\n+covered in the :doc:`mixin reference\n+documentation</ref/class-based-views/mixins>`.\n+\n+DetailView: working with a single Django object\n+-----------------------------------------------\n+\n+To show the detail of an object, we basically need to do two things:\n+we need to look up the object and then we need to make a\n+:class:`TemplateResponse` with a suitable template, and that object as\n+context.\n+\n+To get the object, :class:`~django.views.generic.detail.DetailView`\n+relies on :class:`~django.views.generic.detail.SingleObjectMixin`,\n+which provides a\n+:meth:`~django.views.generic.detail.SingleObjectMixin.get_object`\n+method that figures out the object based on the URL of the request (it\n+looks for ``pk`` and ``slug`` keyword arguments as declared in the\n+URLConf, and looks the object up either from the\n+:attr:`~django.views.generic.detail.SingleObjectMixin.model` attribute\n+on the view, or the\n+:attr:`~django.views.generic.detail.SingleObjectMixin.queryset`\n+attribute if that's provided). :class:`SingleObjectMixin` also overrides\n+:meth:`~django.views.generic.base.ContextMixin.get_context_data`,\n+which is used across all Django's built in class-based views to supply\n+context data for template renders.\n+\n+To then make a :class:`TemplateResponse`, :class:`DetailView` uses\n+:class:`~django.views.generic.detail.SingleObjectTemplateResponseMixin`,\n+which extends\n+:class:`~django.views.generic.base.TemplateResponseMixin`, overriding\n+:meth:`get_template_names()` as discussed above. It actually provides\n+a fairly sophisticated set of options, but the main one that most\n+people are going to use is\n+``<app_label>/<object_name>_detail.html``. The ``_detail`` part can be\n+changed by setting\n+:attr:`~django.views.generic.detail.SingleObjectTemplateResponseMixin.template_name_suffix`\n+on a subclass to something else. (For instance, the :doc:`generic edit\n+views<generic-editing>` use ``_form`` for create and update views, and\n+``_confirm_delete`` for delete views.)\n+\n+ListView: working with many Django objects\n+------------------------------------------\n+\n+Lists of objects follow roughly the same pattern: we need a (possibly\n+paginated) list of objects, typically a :class:`QuerySet`, and then we need\n+to make a :class:`TemplateResponse` with a suitable template using\n+that list of objects.\n+\n+To get the objects, :class:`~django.views.generic.list.ListView` uses\n+:class:`~django.views.generic.list.MultipleObjectMixin`, which\n+provides both\n+:meth:`~django.views.generic.list.MultipleObjectMixin.get_queryset`\n+and\n+:meth:`~django.views.generic.list.MultipleObjectMixin.paginate_queryset`. Unlike\n+with :class:`SingleObjectMixin`, there's no need to key off parts of\n+the URL to figure out the queryset to work with, so the default just\n+uses the\n+:attr:`~django.views.generic.list.MultipleObjectMixin.queryset` or\n+:attr:`~django.views.generic.list.MultipleObjectMixin.model` attribute\n+on the view class. A common reason to override\n+:meth:`~django.views.generic.list.MultipleObjectMixin.get_queryset`\n+here would be to dynamically vary the objects, such as depending on\n+the current user or to exclude posts in the future for a blog.\n+\n+:class:`MultipleObjectMixin` also overrides\n+:meth:`~django.views.generic.base.ContextMixin.get_context_data` to\n+include appropriate context variables for pagination (providing\n+dummies if pagination is disabled). It relies on ``object_list`` being\n+passed in as a keyword argument, which :class:`ListView` arranges for\n+it.\n+\n+To make a :class:`TemplateResponse`, :class:`ListView` then uses\n+:class:`~django.views.generic.list.MultipleObjectTemplateResponseMixin`;\n+as with :class:`SingleObjectTemplateResponseMixin` above, this\n+overrides :meth:`get_template_names()` to provide :meth:`a range of\n+options\n+<~django.views.generic.list.MultipleObjectTempalteResponseMixin>`,\n+with the most commonly-used being\n+``<app_label>/<object_name>_list.html``, with the ``_list`` part again\n+being taken from the\n+:attr:`~django.views.generic.list.MultipleObjectTemplateResponseMixin.template_name_suffix`\n+attribute. (The date based generic views use suffixes such as ``_archive``,\n+``_archive_year`` and so on to use different templates for the various\n+specialised date-based list views.)\n+\n+Using Django's class-based view mixins\n+======================================\n+\n+Now we've seen how Django's generic class-based views use the provided\n+mixins, let's look at other ways we can combine them. Of course we're\n+still going to be combining them with either built-in class-based\n+views, or other generic class-based views, but there are a range of\n+rarer problems you can solve than are provided for by Django out of\n+the box.\n+\n+.. warning::\n+\n+    Not all mixins can be used together, and not all generic class\n+    based views can be used with all other mixins. Here we present a\n+    few examples that do work; if you want to bring together other\n+    functionality then you'll have to consider interactions between\n+    attributes and methods that overlap between the different classes\n+    you're using, and how `method resolution order`_ will affect which\n+    versions of the methods will be called in what order.\n+\n+    The reference documentation for Django's :doc:`class-based\n+    views</ref/class-based-views/index>` and :doc:`class-based view\n+    mixins</ref/class-based-views/mixins>` will help you in\n+    understanding which attributes and methods are likely to cause\n+    conflict between different classes and mixins.\n+\n+    If in doubt, it's often better to back off and base your work on\n+    :class:`View` or :class:`TemplateView`, perhaps with\n+    :class:`SimpleObjectMixin` and\n+    :class:`MultipleObjectMixin`. Although you will probably end up\n+    writing more code, it is more likely to be clearly understandable\n+    to someone else coming to it later, and with fewer interactions to\n+    worry about you will save yourself some thinking. (Of course, you\n+    can always dip into Django's implementation of the generic class\n+    based views for inspiration on how to tackle problems.)\n+\n+.. _method resolution order: http://www.python.org/download/releases/2.3/mro/\n+\n+\n+Using SingleObjectMixin with View\n+---------------------------------\n+\n+If we want to write a simple class-based view that responds only to\n+``POST``, we'll subclass :class:`~django.views.generic.base.View` and\n+write a ``post()`` method in the subclass. However if we want our\n+processing to work on a particular object, identified from the URL,\n+we'll want the functionality provided by\n+:class:`~django.views.generic.detail.SingleObjectMixin`.\n+\n+We'll demonstrate this with the publisher modelling we used in the\n+:doc:`generic class-based views\n+introduction<generic-display>`.\n+\n+.. code-block:: python\n+\n+    # views.py\n+    from django.http import HttpResponseForbidden, HttpResponseRedirect\n+    from django.core.urlresolvers import reverse\n+    from django.views.generic import View\n+    from django.views.generic.detail import SingleObjectMixin\n+    from books.models import Author\n+    \n+    class RecordInterest(View, SingleObjectMixin):\n+        \"\"\"Records the current user's interest in an author.\"\"\"\n+        model = Author\n+    \n+        def post(self, request, *args, **kwargs):\n+            if not request.user.is_authenticated():\n+                return HttpResponseForbidden()\n+\n+            # Look up the author we're interested in.\n+            self.object = self.get_object()\n+            # Actually record interest somehow here!\n+\n+            return HttpResponseRedirect(reverse('author-detail', kwargs={'pk': self.object.pk}))\n+\n+In practice you'd probably want to record the interest in a key-value\n+store rather than in a relational database, so we've left that bit\n+out. The only bit of the view that needs to worry about using\n+:class:`SingleObjectMixin` is where we want to look up the author\n+we're interested in, which it just does with a simple call to\n+``self.get_object()``. Everything else is taken care of for us by the\n+mixin.\n+\n+We can hook this into our URLs easily enough:\n+\n+.. code-block:: python\n+\n+    # urls.py\n+    from books.views import RecordInterest\n+\n+    urlpatterns = patterns('',\n+        #...\n+        url(r'^author/(?P<pk>\\d+)/interest/$', RecordInterest.as_view(), name='author-interest'),\n+    )\n+\n+Note the ``pk`` named group, which\n+:meth:`~django.views.generic.detail.SingleObjectMixin.get_object` uses\n+to look up the :class:`Author` instance. You could also use a slug, or\n+any of the other features of :class:`SingleObjectMixin`.\n+\n+Using SingleObjectMixin with ListView\n+-------------------------------------\n+\n+:class:`~django.views.generic.list.ListView` provides built-in\n+pagination, but you might want to paginate a list of objects that are\n+all linked (by a foreign key) to another object. In our publishing\n+example, you might want to paginate through all the books by a\n+particular publisher.\n+\n+One way to do this is to combine :class:`ListView` with\n+:class:`SingleObjectMixin`, so that the queryset for the paginated\n+list of books can hang off the publisher found as the single\n+object. In order to do this, we need to have two different querysets:\n+\n+**Publisher queryset for use in get_object**\n+    We'll set that up directly when we call :meth:`get_object()`.\n+\n+**Book queryset for use by ListView**\n+    We'll figure that out ourselves in :meth:`get_queryset()` so we\n+    can take into account the Publisher we're looking at.\n+\n+.. highlightlang:: python\n+\n+.. note::\n+\n+    We have to think carefully about :meth:`get_context_data()`.\n+    Since both :class:`SingleObjectMixin` and :class:`ListView` will\n+    put things in the context data under the value of\n+    :attr:`context_object_name` if it's set, we'll instead explictly\n+    ensure the Publisher is in the context data. :class:`ListView`\n+    will add in the suitable ``page_obj`` and ``paginator`` for us\n+    providing we remember to call ``super()``.\n+\n+Now we can write a new :class:`PublisherDetail`::\n+\n+    from django.views.generic import ListView\n+    from django.views.generic.detail import SingleObjectMixin\n+    from books.models import Publisher\n+    \n+    class PublisherDetail(SingleObjectMixin, ListView):\n+        paginate_by = 2\n+        template_name = \"books/publisher_detail.html\"\n+    \n+        def get_context_data(self, **kwargs):\n+            kwargs['publisher'] = self.object\n+            return super(PublisherDetail, self).get_context_data(**kwargs)\n+    \n+        def get_queryset(self):\n+            self.object = self.get_object(Publisher.objects.all())\n+            return self.object.book_set.all()\n+\n+Notice how we set ``self.object`` within :meth:`get_queryset` so we\n+can use it again later in :meth:`get_context_data`. If you don't set\n+:attr:`template_name`, the template will default to the normal\n+:class:`ListView` choice, which in this case would be\n+``\"books/book_list.html\"`` because it's a list of books;\n+:class:`ListView` knows nothing about :class:`SingleObjectMixin`, so\n+it doesn't have any clue this view is anything to do with a Publisher.\n+\n+.. highlightlang:: html+django\n+\n+The ``paginate_by`` is deliberately small in the example so you don't\n+have to create lots of books to see the pagination working! Here's the\n+template you'd want to use::\n+\n+    {% extends \"base.html\" %}\n+    \n+    {% block content %}\n+        <h2>Publisher {{ publisher.name }}</h2>\n+        \n+        <ol>\n+          {% for book in page_obj %}\n+            <li>{{ book.title }}</li>\n+          {% endfor %}\n+        </ol>\n+        \n+        <div class=\"pagination\">\n+            <span class=\"step-links\">\n+                {% if page_obj.has_previous %}\n+                    <a href=\"?page={{ page_obj.previous_page_number }}\">previous</a>\n+                {% endif %}\n+        \n+                <span class=\"current\">\n+                    Page {{ page_obj.number }} of {{ paginator.num_pages }}.\n+                </span>\n+        \n+                {% if page_obj.has_next %}\n+                    <a href=\"?page={{ page_obj.next_page_number }}\">next</a>\n+                {% endif %}\n+            </span>\n+        </div>\n+    {% endblock %}\n+\n+Avoid anything more complex\n+===========================\n+\n+Generally you can use\n+:class:`~django.views.generic.base.TemplateResponseMixin` and\n+:class:`~django.views.generic.detail.SingleObjectMixin` when you need\n+their functionality. As shown above, with a bit of care you can even\n+combine :class:`SingleObjectMixin` with\n+:class:`~django.views.generic.list.ListView`. However things get\n+increasingly complex as you try to do so, and a good rule of thumb is:\n+\n+.. hint::\n+\n+    Each of your views should use only mixins or views from one of the\n+    groups of generic class-based views: :doc:`detail,\n+    list<generic-display>`, :doc:`editing<generic-editing>` and\n+    date. For example it's fine to combine\n+    :class:`TemplateView` (built in view) with\n+    :class:`MultipleObjectMixin` (generic list), but you're likely to\n+    have problems combining :class:`SingleObjectMixin` (generic\n+    detail) with :class:`MultipleObjectMixin` (generic list).\n+\n+To show what happens when you try to get more sophisticated, we show\n+an example that sacrifices readability and maintainability when there\n+is a simpler solution. First, let's look at a naive attempt to combine\n+:class:`~django.views.generic.detail.DetailView` with\n+:class:`~django.views.generic.edit.FormMixin` to enable use to\n+``POST`` a Django :class:`Form` to the same URL as we're displaying an\n+object using :class:`DetailView`.\n+\n+Using FormMixin with DetailView\n+-------------------------------\n+\n+Think back to our earlier example of using :class:`View` and\n+:class:`SingleObjectMixin` together. We were recording a user's\n+interest in a particular author; say now that we want to let them\n+leave a message saying why they like them. Again, let's assume we're\n+not going to store this in a relational database but instead in\n+something more esoteric that we won't worry about here.\n+\n+At this point it's natural to reach for a :class:`Form` to encapsulate\n+the information sent from the user's browser to Django. Say also that\n+we're heavily invested in `REST`_, so we want to use the same URL for\n+displaying the author as for capturing the message from the\n+user. Let's rewrite our :class:`AuthorDetailView` to do that.\n+\n+.. _REST: http://en.wikipedia.org/wiki/Representational_state_transfer\n+\n+We'll keep the ``GET`` handling from :class:`DetailView`, although\n+we'll have to add a :class:`Form` into the context data so we can\n+render it in the template. We'll also want to pull in form processing\n+from :class:`~django.views.generic.edit.FormMixin`, and write a bit of\n+code so that on ``POST`` the form gets called appropriately.\n+\n+.. note::\n+\n+    We use :class:`FormMixin` and implement :meth:`post()` ourselves\n+    rather than try to mix :class:`DetailView` with :class:`FormView`\n+    (which provides a suitable :meth:`post()` already) because both of\n+    the views implement :meth:`get()`, and things would get much more\n+    confusing.\n+\n+Our new :class:`AuthorDetail` looks like this:\n+\n+.. code-block:: python\n+\n+    # CAUTION: you almost certainly do not want to do this.\n+    # It is provided as part of a discussion of problems you can\n+    # run into when combining different generic class-based view\n+    # functionality that is not designed to be used together.\n+\n+    from django import forms\n+    from django.http import HttpResponseForbidden\n+    from django.core.urlresolvers import reverse\n+    from django.views.generic import DetailView\n+    from django.views.generic.edit import FormMixin\n+\n+    class AuthorInterestForm(forms.Form):\n+        message = forms.CharField()\n+\n+    class AuthorDetail(DetailView, FormMixin):\n+        model = Author\n+        form_class = AuthorInterestForm\n+\n+        def get_success_url(self):\n+            return reverse(\n+                'author-detail',\n+                kwargs = {'pk': self.object.pk},\n+            )\n+    \n+        def get_context_data(self, **kwargs):\n+            form_class = self.get_form_class()\n+            form = self.get_form(form_class)\n+            context = {\n+                'form': form\n+            }\n+            context.update(kwargs)\n+            return super(AuthorDetail, self).get_context_data(**context)\n+    \n+        def post(self, request, *args, **kwargs):\n+            form_class = self.get_form_class()\n+            form = self.get_form(form_class)\n+            if form.is_valid():\n+                return self.form_valid(form)\n+            else:\n+                return self.form_invalid(form)\n+    \n+        def form_valid(self, form):\n+            if not self.request.user.is_authenticated():\n+                return HttpResponseForbidden()\n+            self.object = self.get_object()\n+            # record the interest using the message in form.cleaned_data\n+            return super(AuthorDetail, self).form_valid(form)\n+    \n+:meth:`get_success_url()` is just providing somewhere to redirect to,\n+which gets used in the default implementation of\n+:meth:`form_valid()`. We have to provide our own :meth:`post()` as\n+noted earlier, and override :meth:`get_context_data()` to make the\n+:class:`Form` available in the context data.\n+\n+A better solution\n+-----------------\n+\n+It should be obvious that the number of subtle interactions between\n+:class:`FormMixin` and :class:`DetailView` is already testing our\n+ability to manage things. It's unlikely you'd want to write this kind\n+of class yourself.\n+\n+In this case, it would be fairly easy to just write the :meth:`post()`\n+method yourself, keeping :class:`DetailView` as the only generic\n+functionality, although writing :class:`Form` handling code involves a\n+lot of duplication.\n+\n+Alternatively, it would still be easier than the above approach to\n+have a separate view for processing the form, which could use\n+:class:`~django.views.generic.edit.FormView` distinct from\n+:class:`DetailView` without concerns.\n+\n+An alternative better solution\n+------------------------------\n+\n+What we're really trying to do here is to use two different class\n+based views from the same URL. So why not do just that? We have a very\n+clear division here: ``GET`` requests should get the\n+:class:`DetailView` (with the :class:`Form` added to the context\n+data), and ``POST`` requests should get the :class:`FormView`. Let's\n+set up those views first.\n+\n+The :class:`AuthorDisplay` view is almost the same as :ref:`when we\n+first introduced AuthorDetail<generic-views-extra-work>`; we have to\n+write our own :meth:`get_context_data()` to make the\n+:class:`AuthorInterestForm` available to the template. We'll skip the\n+:meth:`get_object()` override from before for clarity.\n+\n+.. code-block:: python\n+\n+    from django.views.generic import DetailView\n+    from django import forms\n+    from books.models import Author\n+    \n+    class AuthorInterestForm(forms.Form):\n+        message = forms.CharField()\n+    \n+    class AuthorDisplay(DetailView):\n+    \n+        queryset = Author.objects.all()\n+    \n+        def get_context_data(self, **kwargs):\n+            context = {\n+                'form': AuthorInterestForm(),\n+            }\n+            context.update(kwargs)\n+            return super(AuthorDisplay, self).get_context_data(**context)\n+    \n+Then the :class:`AuthorInterest` is a simple :class:`FormView`, but we\n+have to bring in :class:`SingleObjectMixin` so we can find the author\n+we're talking about, and we have to remember to set\n+:attr:`template_name` to ensure that form errors will render the same\n+template as :class:`AuthorDisplay` is using on ``GET``.\n+\n+.. code-block:: python\n+\n+    from django.views.generic import FormView\n+    from django.views.generic.detail import SingleObjectMixin\n+    \n+    class AuthorInterest(FormView, SingleObjectMixin):\n+        template_name = 'books/author_detail.html'\n+        form_class = AuthorInterestForm\n+        model = Author\n+\n+        def get_context_data(self, **kwargs):\n+            context = {\n+                'object': self.get_object(),\n+            }\n+            return super(AuthorInterest, self).get_context_data(**context)\n+    \n+        def get_success_url(self):\n+            return reverse(\n+                'author-detail',\n+                kwargs = {'pk': self.object.pk},\n+            )\n+    \n+        def form_valid(self, form):\n+            if not self.request.user.is_authenticated():\n+                return HttpResponseForbidden()\n+            self.object = self.get_object()\n+            # record the interest using the message in form.cleaned_data\n+            return super(AuthorInterest, self).form_valid(form)\n+\n+Finally we bring this together in a new :class:`AuthorDetail` view. We\n+already know that calling :meth:`as_view()` on a class-based view\n+gives us something that behaves exactly like a function based view, so\n+we can do that at the point we choose between the two subviews.\n+\n+You can of course pass through keyword arguments to :meth:`as_view()`\n+in the same way you would in your URLconf, such as if you wanted the\n+:class:`AuthorInterest` behaviour to also appear at another URL but\n+using a different template.\n+\n+.. code-block:: python\n+\n+    from django.views.generic import View\n+    \n+    class AuthorDetail(View):\n+    \n+        def get(self, request, *args, **kwargs):\n+            view = AuthorDisplay.as_view()\n+            return view(request, *args, **kwargs)\n+    \n+        def post(self, request, *args, **kwargs):\n+            view = AuthorInterest.as_view()\n+            return view(request, *args, **kwargs)\n+\n+This approach can also be used with any other generic class-based\n+views or your own class-based views inheriting directly from\n+:class:`View` or :class:`TemplateView`, as it keeps the different\n+views as separate as possible."
        },
        {
            "sha": "b843107871349ab7a6cb7d50ceba84c2be769dc2",
            "filename": "docs/topics/forms/index.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fforms%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fforms%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fforms%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -82,6 +82,8 @@ If your form is going to be used to directly add or edit a Django model, you can\n use a :doc:`ModelForm </topics/forms/modelforms>` to avoid duplicating your model\n description.\n \n+.. _using-a-form-in-a-view:\n+\n Using a form in a view\n ----------------------\n "
        },
        {
            "sha": "afdd014411b9caf3885ba149ac6e093b14ec5df0",
            "filename": "docs/topics/http/generic-views.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fhttp%2Fgeneric-views.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Fhttp%2Fgeneric-views.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fhttp%2Fgeneric-views.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -2,4 +2,4 @@\n Generic views\n =============\n \n-See :doc:`/ref/class-based-views`.\n+See :doc:`/ref/class-based-views/index`."
        },
        {
            "sha": "72f5090b1501ecb28dff1c308e1de625dbed7a67",
            "filename": "docs/topics/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c4c7fbcc0d9264beb931b45969fc0d8d655c4f83/docs%2Ftopics%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Findex.txt?ref=c4c7fbcc0d9264beb931b45969fc0d8d655c4f83",
            "patch": "@@ -11,7 +11,7 @@ Introductions to all the key parts of Django you'll need to know:\n    http/index\n    forms/index\n    templates\n-   class-based-views\n+   class-based-views/index\n    files\n    testing\n    auth"
        }
    ],
    "stats": {
        "total": 5128,
        "additions": 3112,
        "deletions": 2016
    }
}