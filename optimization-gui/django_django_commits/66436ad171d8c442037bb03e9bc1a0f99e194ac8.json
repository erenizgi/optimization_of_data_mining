{
    "author": "spookylukey",
    "message": "Fixed #16166 - `EmailField` does not comply with SMTP standard\n\nThanks to qqq1one@yahoo.com for the report, and samufuentes for the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16355 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "66436ad171d8c442037bb03e9bc1a0f99e194ac8",
    "files": [
        {
            "sha": "0f6adf8fdad165cfed6c5d3ae5391eb26c236f92",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/66436ad171d8c442037bb03e9bc1a0f99e194ac8/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/66436ad171d8c442037bb03e9bc1a0f99e194ac8/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=66436ad171d8c442037bb03e9bc1a0f99e194ac8",
            "patch": "@@ -135,7 +135,8 @@ def __call__(self, value):\n email_re = re.compile(\n     r\"(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*\"  # dot-atom\n     r'|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-011\\013\\014\\016-\\177])*\"' # quoted-string\n-    r')@(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,6}\\.?$', re.IGNORECASE)  # domain\n+    r')@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,6}\\.?$)'  # domain\n+    r'|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$', re.IGNORECASE)  # literal form, ipv4 address (SMTP 4.1.3)\n validate_email = EmailValidator(email_re, _(u'Enter a valid e-mail address.'), 'invalid')\n \n slug_re = re.compile(r'^[-\\w]+$')"
        },
        {
            "sha": "cfb7b4b7934f305c3b5f6057ca5bc2e16f5db781",
            "filename": "tests/modeltests/validators/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/66436ad171d8c442037bb03e9bc1a0f99e194ac8/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/66436ad171d8c442037bb03e9bc1a0f99e194ac8/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidators%2Ftests.py?ref=66436ad171d8c442037bb03e9bc1a0f99e194ac8",
            "patch": "@@ -22,12 +22,14 @@\n \n     (validate_email, 'email@here.com', None),\n     (validate_email, 'weirder-email@here.and.there.com', None),\n+    (validate_email, 'email@[127.0.0.1]', None),\n \n     (validate_email, None, ValidationError),\n     (validate_email, '', ValidationError),\n     (validate_email, 'abc', ValidationError),\n     (validate_email, 'a @x.cz', ValidationError),\n     (validate_email, 'something@@somewhere.com', ValidationError),\n+    (validate_email, 'email@127.0.0.1', ValidationError),\n \n     (validate_slug, 'slug-ok', None),\n     (validate_slug, 'longer-slug-still-ok', None),"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}