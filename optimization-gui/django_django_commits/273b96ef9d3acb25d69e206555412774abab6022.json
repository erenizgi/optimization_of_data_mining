{
    "author": "claudep",
    "message": "Fixed #17867 -- Made email validation pass with IDN domains\n\nThanks Pierre Matri for the report and the initial patch.",
    "sha": "273b96ef9d3acb25d69e206555412774abab6022",
    "files": [
        {
            "sha": "251b5d88560fd142ecbd7fe3f1dff8866e97f1d3",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/273b96ef9d3acb25d69e206555412774abab6022/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/273b96ef9d3acb25d69e206555412774abab6022/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=273b96ef9d3acb25d69e206555412774abab6022",
            "patch": "@@ -99,7 +99,7 @@ def __call__(self, value):\n     r\"(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*\"  # dot-atom\n     # quoted-string, see also http://tools.ietf.org/html/rfc2822#section-3.2.5\n     r'|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\"'\n-    r')@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,6}\\.?$)'  # domain\n+    r')@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}\\.?|[A-Z0-9-]{2,}\\.?)$)'  # domain\n     r'|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$', re.IGNORECASE)  # literal form, ipv4 address (SMTP 4.1.3)\n validate_email = EmailValidator(email_re, _('Enter a valid email address.'), 'invalid')\n "
        },
        {
            "sha": "0174a606df6185e22ac83de24d226b185c2e1e82",
            "filename": "tests/modeltests/validators/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/273b96ef9d3acb25d69e206555412774abab6022/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/273b96ef9d3acb25d69e206555412774abab6022/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidators%2Ftests.py?ref=273b96ef9d3acb25d69e206555412774abab6022",
            "patch": "@@ -28,6 +28,7 @@\n     (validate_email, 'email@[127.0.0.1]', None),\n     (validate_email, 'example@valid-----hyphens.com', None),\n     (validate_email, 'example@valid-with-hyphens.com', None),\n+    (validate_email, 'test@domain.with.idn.tld.उदाहरण.परीक्षा', None),\n \n     (validate_email, None, ValidationError),\n     (validate_email, '', ValidationError),"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}