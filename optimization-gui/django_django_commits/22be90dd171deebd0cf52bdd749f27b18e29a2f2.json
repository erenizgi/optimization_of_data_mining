{
    "author": "claudep",
    "message": "Fixed #19989 -- Suppressed UnicodeWarning during BinaryField validation\n\nThanks Aymeric Augustin for the report and Simon Charette for the\nreview.",
    "sha": "22be90dd171deebd0cf52bdd749f27b18e29a2f2",
    "files": [
        {
            "sha": "f9f913bc1b0081a2ddd7439c838bd8a6b8cd4ace",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/22be90dd171deebd0cf52bdd749f27b18e29a2f2/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/22be90dd171deebd0cf52bdd749f27b18e29a2f2/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=22be90dd171deebd0cf52bdd749f27b18e29a2f2",
            "patch": "@@ -57,6 +57,7 @@ class Field(object):\n     # Designates whether empty strings fundamentally are allowed at the\n     # database level.\n     empty_strings_allowed = True\n+    empty_values = list(validators.EMPTY_VALUES)\n \n     # These track each time a Field instance is created. Used to retain order.\n     # The auto_creation_counter is used for fields that Django implicitly\n@@ -157,7 +158,7 @@ def to_python(self, value):\n         return value\n \n     def run_validators(self, value):\n-        if value in validators.EMPTY_VALUES:\n+        if value in self.empty_values:\n             return\n \n         errors = []\n@@ -184,7 +185,7 @@ def validate(self, value, model_instance):\n             # Skip validation for non-editable fields.\n             return\n \n-        if self._choices and value not in validators.EMPTY_VALUES:\n+        if self._choices and value not in self.empty_values:\n             for option_key, option_value in self.choices:\n                 if isinstance(option_value, (list, tuple)):\n                     # This is an optgroup, so look inside the group for\n@@ -200,7 +201,7 @@ def validate(self, value, model_instance):\n         if value is None and not self.null:\n             raise exceptions.ValidationError(self.error_messages['null'])\n \n-        if not self.blank and value in validators.EMPTY_VALUES:\n+        if not self.blank and value in self.empty_values:\n             raise exceptions.ValidationError(self.error_messages['blank'])\n \n     def clean(self, value, model_instance):\n@@ -1295,6 +1296,7 @@ def formfield(self, **kwargs):\n \n class BinaryField(Field):\n     description = _(\"Raw binary data\")\n+    empty_values = [None, b'']\n \n     def __init__(self, *args, **kwargs):\n         kwargs['editable'] = False"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}