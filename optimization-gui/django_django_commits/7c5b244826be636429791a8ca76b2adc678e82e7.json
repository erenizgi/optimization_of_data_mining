{
    "author": "claudep",
    "message": "Fixed #17061 -- Factored out importing object from a dotted path\n\nThanks Carl Meyer for the report.",
    "sha": "7c5b244826be636429791a8ca76b2adc678e82e7",
    "files": [
        {
            "sha": "efb56b287186e41286aae797cc3eea22e8e571d5",
            "filename": "django/conf/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fconf%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fconf%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -15,6 +15,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.utils.functional import LazyObject, empty\n from django.utils import importlib\n+from django.utils.module_loading import import_by_path\n from django.utils import six\n \n ENVIRONMENT_VARIABLE = \"DJANGO_SETTINGS_MODULE\"\n@@ -68,9 +69,7 @@ def _configure_logging(self):\n         if self.LOGGING_CONFIG:\n             from django.utils.log import DEFAULT_LOGGING\n             # First find the logging configuration function ...\n-            logging_config_path, logging_config_func_name = self.LOGGING_CONFIG.rsplit('.', 1)\n-            logging_config_module = importlib.import_module(logging_config_path)\n-            logging_config_func = getattr(logging_config_module, logging_config_func_name)\n+            logging_config_func = import_by_path(self.LOGGING_CONFIG)\n \n             logging_config_func(DEFAULT_LOGGING)\n "
        },
        {
            "sha": "4daa6ec6d872449502e2cb1c27552cce3e16e56f",
            "filename": "django/contrib/admin/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fadmin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fadmin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftests.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,5 +1,5 @@\n from django.test import LiveServerTestCase\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n from django.utils.unittest import SkipTest\n from django.utils.translation import ugettext as _\n \n@@ -9,11 +9,7 @@ class AdminSeleniumWebDriverTestCase(LiveServerTestCase):\n     @classmethod\n     def setUpClass(cls):\n         try:\n-            # Import and start the WebDriver class.\n-            module, attr = cls.webdriver_class.rsplit('.', 1)\n-            mod = import_module(module)\n-            WebDriver = getattr(mod, attr)\n-            cls.selenium = WebDriver()\n+            cls.selenium = import_by_path(cls.webdriver_class)()\n         except Exception as e:\n             raise SkipTest('Selenium webdriver \"%s\" not installed or not '\n                            'operational: %s' % (cls.webdriver_class, str(e)))"
        },
        {
            "sha": "ef9066657d1f2d2db25500a4918d8901917da24e",
            "filename": "django/contrib/auth/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 15,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fauth%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fauth%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,28 +1,16 @@\n import re\n \n-from django.core.exceptions import ImproperlyConfigured, PermissionDenied\n-from django.utils.importlib import import_module\n from django.contrib.auth.signals import user_logged_in, user_logged_out, user_login_failed\n+from django.core.exceptions import ImproperlyConfigured, PermissionDenied\n+from django.utils.module_loading import import_by_path\n \n SESSION_KEY = '_auth_user_id'\n BACKEND_SESSION_KEY = '_auth_user_backend'\n REDIRECT_FIELD_NAME = 'next'\n \n \n def load_backend(path):\n-    i = path.rfind('.')\n-    module, attr = path[:i], path[i + 1:]\n-    try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured('Error importing authentication backend %s: \"%s\"' % (path, e))\n-    except ValueError:\n-        raise ImproperlyConfigured('Error importing authentication backends. Is AUTHENTICATION_BACKENDS a correctly defined list or tuple?')\n-    try:\n-        cls = getattr(mod, attr)\n-    except AttributeError:\n-        raise ImproperlyConfigured('Module \"%s\" does not define a \"%s\" authentication backend' % (module, attr))\n-    return cls()\n+    return import_by_path(path)()\n \n \n def get_backends():"
        },
        {
            "sha": "bd760cd3cc7382d0ffeaaae08be13b426d7adcb9",
            "filename": "django/contrib/auth/hashers.py",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fauth%2Fhashers.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fauth%2Fhashers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fhashers.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -12,6 +12,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.utils.crypto import (\n     pbkdf2, constant_time_compare, get_random_string)\n+from django.utils.module_loading import import_by_path\n from django.utils.translation import ugettext_noop as _\n \n \n@@ -84,13 +85,7 @@ def load_hashers(password_hashers=None):\n     if not password_hashers:\n         password_hashers = settings.PASSWORD_HASHERS\n     for backend in password_hashers:\n-        try:\n-            mod_path, cls_name = backend.rsplit('.', 1)\n-            mod = importlib.import_module(mod_path)\n-            hasher_cls = getattr(mod, cls_name)\n-        except (AttributeError, ImportError, ValueError):\n-            raise ImproperlyConfigured(\"hasher not found: %s\" % backend)\n-        hasher = hasher_cls()\n+        hasher = import_by_path(backend)()\n         if not getattr(hasher, 'algorithm'):\n             raise ImproperlyConfigured(\"hasher doesn't specify an \"\n                                        \"algorithm name: %s\" % backend)"
        },
        {
            "sha": "bb0b06eecfdb52b0bd332d535c759bc3b608b8b5",
            "filename": "django/contrib/formtools/tests/wizard/loadstorage.py",
            "status": "modified",
            "additions": 4,
            "deletions": 8,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Floadstorage.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Floadstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Floadstorage.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,8 +1,6 @@\n from django.test import TestCase\n \n-from django.contrib.formtools.wizard.storage import (get_storage,\n-                                                     MissingStorageModule,\n-                                                     MissingStorageClass)\n+from django.contrib.formtools.wizard.storage import get_storage, MissingStorage\n from django.contrib.formtools.wizard.storage.base import BaseStorage\n \n \n@@ -12,11 +10,9 @@ def test_load_storage(self):\n             type(get_storage('django.contrib.formtools.wizard.storage.base.BaseStorage', 'wizard1')),\n             BaseStorage)\n \n-    def test_missing_module(self):\n-        self.assertRaises(MissingStorageModule, get_storage,\n+    def test_missing_storage(self):\n+        self.assertRaises(MissingStorage, get_storage,\n             'django.contrib.formtools.wizard.storage.idontexist.IDontExistStorage', 'wizard1')\n-\n-    def test_missing_class(self):\n-        self.assertRaises(MissingStorageClass, get_storage,\n+        self.assertRaises(MissingStorage, get_storage,\n             'django.contrib.formtools.wizard.storage.base.IDontExistStorage', 'wizard1')\n "
        },
        {
            "sha": "8f57605ec5ef51c0961952b6b106d85ba775863c",
            "filename": "django/contrib/formtools/wizard/storage/__init__.py",
            "status": "modified",
            "additions": 6,
            "deletions": 14,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,22 +1,14 @@\n-from django.utils.importlib import import_module\n+from django.core.exceptions import ImproperlyConfigured\n+from django.utils.module_loading import import_by_path\n \n from django.contrib.formtools.wizard.storage.base import BaseStorage\n from django.contrib.formtools.wizard.storage.exceptions import (\n-    MissingStorageModule, MissingStorageClass, NoFileStorageConfigured)\n+    MissingStorage, NoFileStorageConfigured)\n \n \n def get_storage(path, *args, **kwargs):\n-    i = path.rfind('.')\n-    module, attr = path[:i], path[i+1:]\n     try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise MissingStorageModule(\n-            'Error loading storage %s: \"%s\"' % (module, e))\n-    try:\n-        storage_class = getattr(mod, attr)\n-    except AttributeError:\n-        raise MissingStorageClass(\n-            'Module \"%s\" does not define a storage named \"%s\"' % (module, attr))\n+        storage_class = import_by_path(path)\n+    except ImproperlyConfigured as e:\n+        raise MissingStorage('Error loading storage: %s' % e)\n     return storage_class(*args, **kwargs)\n-"
        },
        {
            "sha": "e273a8654b412af7a1b8093ea787cc351214b5b0",
            "filename": "django/contrib/formtools/wizard/storage/exceptions.py",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fexceptions.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fexceptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fexceptions.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,9 +1,6 @@\n from django.core.exceptions import ImproperlyConfigured\n \n-class MissingStorageModule(ImproperlyConfigured):\n-    pass\n-\n-class MissingStorageClass(ImproperlyConfigured):\n+class MissingStorage(ImproperlyConfigured):\n     pass\n \n class NoFileStorageConfigured(ImproperlyConfigured):"
        },
        {
            "sha": "9a09aff0075b59fb8f9a474ad6dbc44be78be279",
            "filename": "django/contrib/messages/storage/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 24,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Fstorage%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,28 +1,5 @@\n from django.conf import settings\n-from django.core.exceptions import ImproperlyConfigured\n-from django.utils.importlib import import_module\n-\n-\n-def get_storage(import_path):\n-    \"\"\"\n-    Imports the message storage class described by import_path, where\n-    import_path is the full Python path to the class.\n-    \"\"\"\n-    try:\n-        dot = import_path.rindex('.')\n-    except ValueError:\n-        raise ImproperlyConfigured(\"%s isn't a Python path.\" % import_path)\n-    module, classname = import_path[:dot], import_path[dot + 1:]\n-    try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured('Error importing module %s: \"%s\"' %\n-                                   (module, e))\n-    try:\n-        return getattr(mod, classname)\n-    except AttributeError:\n-        raise ImproperlyConfigured('Module \"%s\" does not define a \"%s\" '\n-                                   'class.' % (module, classname))\n+from django.utils.module_loading import import_by_path as get_storage\n \n \n # Callable with the same interface as the storage classes i.e.  accepts a"
        },
        {
            "sha": "8631570e79a8255858533657131ef1380d4d4cf7",
            "filename": "django/contrib/staticfiles/finders.py",
            "status": "modified",
            "additions": 2,
            "deletions": 12,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Ffinders.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -4,7 +4,7 @@\n from django.core.files.storage import default_storage, Storage, FileSystemStorage\n from django.utils.datastructures import SortedDict\n from django.utils.functional import empty, memoize, LazyObject\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n from django.utils._os import safe_join\n from django.utils import six\n \n@@ -258,17 +258,7 @@ def _get_finder(import_path):\n     Imports the staticfiles finder class described by import_path, where\n     import_path is the full Python path to the class.\n     \"\"\"\n-    module, attr = import_path.rsplit('.', 1)\n-    try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured('Error importing module %s: \"%s\"' %\n-                                   (module, e))\n-    try:\n-        Finder = getattr(mod, attr)\n-    except AttributeError:\n-        raise ImproperlyConfigured('Module \"%s\" does not define a \"%s\" '\n-                                   'class.' % (module, attr))\n+    Finder = import_by_path(import_path)\n     if not issubclass(Finder, BaseFinder):\n         raise ImproperlyConfigured('Finder \"%s\" is not a subclass of \"%s\"' %\n                                    (Finder, BaseFinder))"
        },
        {
            "sha": "1242372dcf3481160fc57532976f31701ccb937d",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -25,6 +25,8 @@\n     InvalidCacheBackendError, CacheKeyWarning, BaseCache)\n from django.core.exceptions import ImproperlyConfigured\n from django.utils import importlib\n+from django.utils.module_loading import import_by_path\n+\n \n __all__ = [\n     'get_cache', 'cache', 'DEFAULT_CACHE_ALIAS'\n@@ -86,11 +88,10 @@ def parse_backend_conf(backend, **kwargs):\n     else:\n         try:\n             # Trying to import the given backend, in case it's a dotted path\n-            mod_path, cls_name = backend.rsplit('.', 1)\n-            mod = importlib.import_module(mod_path)\n-            backend_cls = getattr(mod, cls_name)\n-        except (AttributeError, ImportError, ValueError):\n-            raise InvalidCacheBackendError(\"Could not find backend '%s'\" % backend)\n+            backend_cls = import_by_path(backend)\n+        except ImproperlyConfigured as e:\n+            raise InvalidCacheBackendError(\"Could not find backend '%s': %s\" % (\n+                backend, e))\n         location = kwargs.pop('LOCATION', '')\n         return backend, location, kwargs\n \n@@ -126,10 +127,8 @@ def get_cache(backend, **kwargs):\n             backend_cls = mod.CacheClass\n         else:\n             backend, location, params = parse_backend_conf(backend, **kwargs)\n-            mod_path, cls_name = backend.rsplit('.', 1)\n-            mod = importlib.import_module(mod_path)\n-            backend_cls = getattr(mod, cls_name)\n-    except (AttributeError, ImportError) as e:\n+            backend_cls = import_by_path(backend)\n+    except (AttributeError, ImportError, ImproperlyConfigured) as e:\n         raise InvalidCacheBackendError(\n             \"Could not find backend '%s': %s\" % (backend, e))\n     cache = backend_cls(location, params)"
        },
        {
            "sha": "53b0270a5774893e93c89ebd9151c4ab82e66242",
            "filename": "django/core/cache/backends/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fcache%2Fbackends%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fcache%2Fbackends%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Fbase.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -4,7 +4,7 @@\n import warnings\n \n from django.core.exceptions import ImproperlyConfigured, DjangoRuntimeWarning\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n \n \n class InvalidCacheBackendError(ImproperlyConfigured):\n@@ -40,9 +40,7 @@ def get_key_func(key_func):\n         if callable(key_func):\n             return key_func\n         else:\n-            key_func_module_path, key_func_name = key_func.rsplit('.', 1)\n-            key_func_module = import_module(key_func_module_path)\n-            return getattr(key_func_module, key_func_name)\n+            return import_by_path(key_func)\n     return default_key_func\n \n "
        },
        {
            "sha": "0b623fe7c2fc3209dc27187dc50687ce20e95679",
            "filename": "django/core/files/storage.py",
            "status": "modified",
            "additions": 3,
            "deletions": 17,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Ffiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Ffiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fstorage.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -8,12 +8,12 @@\n from datetime import datetime\n \n from django.conf import settings\n-from django.core.exceptions import ImproperlyConfigured, SuspiciousOperation\n+from django.core.exceptions import SuspiciousOperation\n from django.core.files import locks, File\n from django.core.files.move import file_move_safe\n from django.utils.encoding import force_text, filepath_to_uri\n from django.utils.functional import LazyObject\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n from django.utils.text import get_valid_filename\n from django.utils._os import safe_join, abspathu\n \n@@ -277,21 +277,7 @@ def modified_time(self, name):\n         return datetime.fromtimestamp(os.path.getmtime(self.path(name)))\n \n def get_storage_class(import_path=None):\n-    if import_path is None:\n-        import_path = settings.DEFAULT_FILE_STORAGE\n-    try:\n-        dot = import_path.rindex('.')\n-    except ValueError:\n-        raise ImproperlyConfigured(\"%s isn't a storage module.\" % import_path)\n-    module, classname = import_path[:dot], import_path[dot+1:]\n-    try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured('Error importing storage module %s: \"%s\"' % (module, e))\n-    try:\n-        return getattr(mod, classname)\n-    except AttributeError:\n-        raise ImproperlyConfigured('Storage module \"%s\" does not define a \"%s\" class.' % (module, classname))\n+    return import_by_path(import_path or settings.DEFAULT_FILE_STORAGE)\n \n class DefaultStorage(LazyObject):\n     def _setup(self):"
        },
        {
            "sha": "f5e95cf2fd2e8a0c129ad8ec557e9ab8ca48c9b1",
            "filename": "django/core/files/uploadhandler.py",
            "status": "modified",
            "additions": 2,
            "deletions": 16,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fuploadhandler.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -7,10 +7,9 @@\n from io import BytesIO\n \n from django.conf import settings\n-from django.core.exceptions import ImproperlyConfigured\n from django.core.files.uploadedfile import TemporaryUploadedFile, InMemoryUploadedFile\n-from django.utils import importlib\n from django.utils.encoding import python_2_unicode_compatible\n+from django.utils.module_loading import import_by_path\n \n __all__ = ['UploadFileException','StopUpload', 'SkipFile', 'FileUploadHandler',\n            'TemporaryFileUploadHandler', 'MemoryFileUploadHandler',\n@@ -201,17 +200,4 @@ def load_handler(path, *args, **kwargs):\n         <TemporaryFileUploadHandler object at 0x...>\n \n     \"\"\"\n-    i = path.rfind('.')\n-    module, attr = path[:i], path[i+1:]\n-    try:\n-        mod = importlib.import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured('Error importing upload handler module %s: \"%s\"' % (module, e))\n-    except ValueError:\n-        raise ImproperlyConfigured('Error importing upload handler module.'\n-            'Is FILE_UPLOAD_HANDLERS a correctly defined list or tuple?')\n-    try:\n-        cls = getattr(mod, attr)\n-    except AttributeError:\n-        raise ImproperlyConfigured('Module \"%s\" does not define a \"%s\" upload handler backend' % (module, attr))\n-    return cls(*args, **kwargs)\n+    return import_by_path(path)(*args, **kwargs)"
        },
        {
            "sha": "0dcd9794c7198ebec0b3c7293d4473ddd5427941",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 15,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -9,8 +9,9 @@\n from django.core import exceptions\n from django.core import urlresolvers\n from django.core import signals\n+from django.core.exceptions import MiddlewareNotUsed, PermissionDenied\n from django.utils.encoding import force_text\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n from django.utils import six\n from django.views import debug\n \n@@ -43,21 +44,10 @@ def load_middleware(self):\n \n         request_middleware = []\n         for middleware_path in settings.MIDDLEWARE_CLASSES:\n-            try:\n-                mw_module, mw_classname = middleware_path.rsplit('.', 1)\n-            except ValueError:\n-                raise exceptions.ImproperlyConfigured('%s isn\\'t a middleware module' % middleware_path)\n-            try:\n-                mod = import_module(mw_module)\n-            except ImportError as e:\n-                raise exceptions.ImproperlyConfigured('Error importing middleware %s: \"%s\"' % (mw_module, e))\n-            try:\n-                mw_class = getattr(mod, mw_classname)\n-            except AttributeError:\n-                raise exceptions.ImproperlyConfigured('Middleware module \"%s\" does not define a \"%s\" class' % (mw_module, mw_classname))\n+            mw_class = import_by_path(middleware_path)\n             try:\n                 mw_instance = mw_class()\n-            except exceptions.MiddlewareNotUsed:\n+            except MiddlewareNotUsed:\n                 continue\n \n             if hasattr(mw_instance, 'process_request'):\n@@ -154,7 +144,7 @@ def get_response(self, request):\n                     except:\n                         signals.got_request_exception.send(sender=self.__class__, request=request)\n                         response = self.handle_uncaught_exception(request, resolver, sys.exc_info())\n-            except exceptions.PermissionDenied:\n+            except PermissionDenied:\n                 logger.warning(\n                     'Forbidden (Permission denied): %s', request.path,\n                     extra={"
        },
        {
            "sha": "fcff80337616b08fa63068ff0742b12836caae9a",
            "filename": "django/core/mail/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 14,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fmail%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fmail%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2F__init__.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -4,8 +4,7 @@\n from __future__ import unicode_literals\n \n from django.conf import settings\n-from django.core.exceptions import ImproperlyConfigured\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n \n # Imported for backwards compatibility, and for the sake\n # of a cleaner namespace. These symbols used to be in\n@@ -27,18 +26,7 @@ def get_connection(backend=None, fail_silently=False, **kwds):\n     Both fail_silently and other keyword arguments are used in the\n     constructor of the backend.\n     \"\"\"\n-    path = backend or settings.EMAIL_BACKEND\n-    try:\n-        mod_name, klass_name = path.rsplit('.', 1)\n-        mod = import_module(mod_name)\n-    except ImportError as e:\n-        raise ImproperlyConfigured(('Error importing email backend module %s: \"%s\"'\n-                                    % (mod_name, e)))\n-    try:\n-        klass = getattr(mod, klass_name)\n-    except AttributeError:\n-        raise ImproperlyConfigured(('Module \"%s\" does not define a '\n-                                    '\"%s\" class' % (mod_name, klass_name)))\n+    klass = import_by_path(backend or settings.EMAIL_BACKEND)\n     return klass(fail_silently=fail_silently, **kwds)\n \n "
        },
        {
            "sha": "89ec2b35f2885d92b2c73bde60abfcd25edad52a",
            "filename": "django/core/servers/basehttp.py",
            "status": "modified",
            "additions": 6,
            "deletions": 19,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fservers%2Fbasehttp.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fservers%2Fbasehttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Fbasehttp.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -21,11 +21,9 @@\n from wsgiref import simple_server\n from wsgiref.util import FileWrapper   # for backwards compatibility\n \n-import django\n-from django.core.exceptions import ImproperlyConfigured\n from django.core.management.color import color_style\n from django.core.wsgi import get_wsgi_application\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n \n __all__ = ['WSGIServer', 'WSGIRequestHandler']\n \n@@ -49,22 +47,11 @@ def get_internal_wsgi_application():\n     app_path = getattr(settings, 'WSGI_APPLICATION')\n     if app_path is None:\n         return get_wsgi_application()\n-    module_name, attr = app_path.rsplit('.', 1)\n-    try:\n-        mod = import_module(module_name)\n-    except ImportError as e:\n-        raise ImproperlyConfigured(\n-            \"WSGI application '%s' could not be loaded; \"\n-            \"could not import module '%s': %s\" % (app_path, module_name, e))\n-    try:\n-        app = getattr(mod, attr)\n-    except AttributeError as e:\n-        raise ImproperlyConfigured(\n-            \"WSGI application '%s' could not be loaded; \"\n-            \"can't find '%s' in module '%s': %s\"\n-            % (app_path, attr, module_name, e))\n-\n-    return app\n+\n+    return import_by_path(\n+        app_path,\n+        error_prefix=\"WSGI application '%s' could not be loaded; \" % app_path\n+    )\n \n \n class WSGIServerException(Exception):"
        },
        {
            "sha": "bbe53aafe3e874035425519704c9bf690bd77eac",
            "filename": "django/core/signing.py",
            "status": "modified",
            "additions": 2,
            "deletions": 14,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fsigning.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fcore%2Fsigning.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fsigning.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -41,11 +41,10 @@\n import zlib\n \n from django.conf import settings\n-from django.core.exceptions import ImproperlyConfigured\n from django.utils import baseconv\n from django.utils.crypto import constant_time_compare, salted_hmac\n from django.utils.encoding import force_bytes, force_str, force_text\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n \n \n class BadSignature(Exception):\n@@ -76,18 +75,7 @@ def base64_hmac(salt, value, key):\n \n \n def get_cookie_signer(salt='django.core.signing.get_cookie_signer'):\n-    modpath = settings.SIGNING_BACKEND\n-    module, attr = modpath.rsplit('.', 1)\n-    try:\n-        mod = import_module(module)\n-    except ImportError as e:\n-        raise ImproperlyConfigured(\n-            'Error importing cookie signer %s: \"%s\"' % (modpath, e))\n-    try:\n-        Signer = getattr(mod, attr)\n-    except AttributeError as e:\n-        raise ImproperlyConfigured(\n-            'Error importing cookie signer %s: \"%s\"' % (modpath, e))\n+    Signer = import_by_path(settings.SIGNING_BACKEND)\n     return Signer('django.http.cookies' + settings.SECRET_KEY, salt=salt)\n \n "
        },
        {
            "sha": "91fa774ed44ec97bcceebbfc48b813e3121bf5bd",
            "filename": "django/db/utils.py",
            "status": "modified",
            "additions": 2,
            "deletions": 11,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fdb%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fdb%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Futils.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -5,6 +5,7 @@\n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured\n from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n from django.utils._os import upath\n from django.utils import six\n \n@@ -110,17 +111,7 @@ def __init__(self, routers):\n         self.routers = []\n         for r in routers:\n             if isinstance(r, six.string_types):\n-                try:\n-                    module_name, klass_name = r.rsplit('.', 1)\n-                    module = import_module(module_name)\n-                except ImportError as e:\n-                    raise ImproperlyConfigured('Error importing database router %s: \"%s\"' % (klass_name, e))\n-                try:\n-                    router_class = getattr(module, klass_name)\n-                except AttributeError:\n-                    raise ImproperlyConfigured('Module \"%s\" does not define a database router name \"%s\"' % (module, klass_name))\n-                else:\n-                    router = router_class()\n+                router = import_by_path(r)()\n             else:\n                 router = r\n             self.routers.append(router)"
        },
        {
            "sha": "1ef7e889bc19ae92774716b5e64617f053d1aebd",
            "filename": "django/template/context.py",
            "status": "modified",
            "additions": 2,
            "deletions": 12,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Ftemplate%2Fcontext.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Ftemplate%2Fcontext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fcontext.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -1,6 +1,5 @@\n from copy import copy\n-from django.core.exceptions import ImproperlyConfigured\n-from django.utils.importlib import import_module\n+from django.utils.module_loading import import_by_path\n \n # Cache of actual callables.\n _standard_context_processors = None\n@@ -146,16 +145,7 @@ def get_standard_processors():\n         collect.extend(_builtin_context_processors)\n         collect.extend(settings.TEMPLATE_CONTEXT_PROCESSORS)\n         for path in collect:\n-            i = path.rfind('.')\n-            module, attr = path[:i], path[i+1:]\n-            try:\n-                mod = import_module(module)\n-            except ImportError as e:\n-                raise ImproperlyConfigured('Error importing request processor module %s: \"%s\"' % (module, e))\n-            try:\n-                func = getattr(mod, attr)\n-            except AttributeError:\n-                raise ImproperlyConfigured('Module \"%s\" does not define a \"%s\" callable request processor' % (module, attr))\n+            func = import_by_path(path)\n             processors.append(func)\n         _standard_context_processors = tuple(processors)\n     return _standard_context_processors"
        },
        {
            "sha": "6df4e43c4f03f5104d76d1b0cd9237a951ee362f",
            "filename": "django/template/loader.py",
            "status": "modified",
            "additions": 2,
            "deletions": 10,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Ftemplate%2Floader.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Ftemplate%2Floader.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Floader.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -27,8 +27,8 @@\n \n from django.core.exceptions import ImproperlyConfigured\n from django.template.base import Origin, Template, Context, TemplateDoesNotExist, add_to_builtins\n-from django.utils.importlib import import_module\n from django.conf import settings\n+from django.utils.module_loading import import_by_path\n from django.utils import six\n \n template_source_loaders = None\n@@ -91,15 +91,7 @@ def find_template_loader(loader):\n     else:\n         args = []\n     if isinstance(loader, six.string_types):\n-        module, attr = loader.rsplit('.', 1)\n-        try:\n-            mod = import_module(module)\n-        except ImportError as e:\n-            raise ImproperlyConfigured('Error importing template source loader %s: \"%s\"' % (loader, e))\n-        try:\n-            TemplateLoader = getattr(mod, attr)\n-        except AttributeError as e:\n-            raise ImproperlyConfigured('Error importing template source loader %s: \"%s\"' % (loader, e))\n+        TemplateLoader = import_by_path(loader)\n \n         if hasattr(TemplateLoader, 'load_template_source'):\n             func = TemplateLoader(*args)"
        },
        {
            "sha": "01996743cd24d495232eda331a7cf3dec5d76a44",
            "filename": "django/utils/module_loading.py",
            "status": "modified",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Futils%2Fmodule_loading.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Futils%2Fmodule_loading.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fmodule_loading.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -2,6 +2,32 @@\n import os\n import sys\n \n+from django.core.exceptions import ImproperlyConfigured\n+from django.utils.importlib import import_module\n+\n+\n+def import_by_path(dotted_path, error_prefix=''):\n+    \"\"\"\n+    Import a dotted module path and return the attribute/class designated by the\n+    last name in the path. Raise ImproperlyConfigured if something goes wrong.\n+    \"\"\"\n+    try:\n+        module_path, class_name = dotted_path.rsplit('.', 1)\n+    except ValueError:\n+        raise ImproperlyConfigured(\"%s%s doesn't look like a module path\" % (\n+            error_prefix, dotted_path))\n+    try:\n+        module = import_module(module_path)\n+    except ImportError as e:\n+        raise ImproperlyConfigured('%sError importing module %s: \"%s\"' % (\n+            error_prefix, module_path, e))\n+    try:\n+        attr = getattr(module, class_name)\n+    except AttributeError:\n+        raise ImproperlyConfigured('%sModule \"%s\" does not define a \"%s\" attribute/class' % (\n+            error_prefix, module_path, class_name))\n+    return attr\n+\n \n def module_has_submodule(package, module_name):\n     \"\"\"See if 'module' is in 'package'.\"\"\""
        },
        {
            "sha": "1c331d68032e12d278f28e029f665df346a53f5d",
            "filename": "django/views/debug.py",
            "status": "modified",
            "additions": 3,
            "deletions": 12,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fviews%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/django%2Fviews%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdebug.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -13,8 +13,8 @@\n from django.template import Template, Context, TemplateDoesNotExist\n from django.template.defaultfilters import force_escape, pprint\n from django.utils.html import escape\n-from django.utils.importlib import import_module\n from django.utils.encoding import force_bytes, smart_text\n+from django.utils.module_loading import import_by_path\n from django.utils import six\n \n HIDDEN_SETTINGS = re.compile('API|TOKEN|KEY|SECRET|PASS|PROFANITIES_LIST|SIGNATURE')\n@@ -76,17 +76,8 @@ def get_exception_reporter_filter(request):\n     global default_exception_reporter_filter\n     if default_exception_reporter_filter is None:\n         # Load the default filter for the first time and cache it.\n-        modpath = settings.DEFAULT_EXCEPTION_REPORTER_FILTER\n-        modname, classname = modpath.rsplit('.', 1)\n-        try:\n-            mod = import_module(modname)\n-        except ImportError as e:\n-            raise ImproperlyConfigured(\n-            'Error importing default exception reporter filter %s: \"%s\"' % (modpath, e))\n-        try:\n-            default_exception_reporter_filter = getattr(mod, classname)()\n-        except AttributeError:\n-            raise ImproperlyConfigured('Default exception reporter filter module \"%s\" does not define a \"%s\" class' % (modname, classname))\n+        default_exception_reporter_filter = import_by_path(\n+            settings.DEFAULT_EXCEPTION_REPORTER_FILTER)()\n     if request:\n         return getattr(request, 'exception_reporter_filter', default_exception_reporter_filter)\n     else:"
        },
        {
            "sha": "6ab7f90ee7a621e9222fc1673119f9583f2a2d63",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -57,18 +57,18 @@ def test_get_invalid_storage_module(self):\n         \"\"\"\n         self.assertRaisesMessage(\n             ImproperlyConfigured,\n-            \"NonExistingStorage isn't a storage module.\",\n+            \"Error importing module storage: \\\"No module named storage\\\"\",\n             get_storage_class,\n-            'NonExistingStorage')\n+            'storage.NonExistingStorage')\n \n     def test_get_nonexisting_storage_class(self):\n         \"\"\"\n         get_storage_class raises an error if the requested class don't exist.\n         \"\"\"\n         self.assertRaisesMessage(\n             ImproperlyConfigured,\n-            'Storage module \"django.core.files.storage\" does not define a '\\\n-                '\"NonExistingStorage\" class.',\n+            'Module \"django.core.files.storage\" does not define a '\n+            '\"NonExistingStorage\" attribute/class',\n             get_storage_class,\n             'django.core.files.storage.NonExistingStorage')\n \n@@ -79,8 +79,8 @@ def test_get_nonexisting_storage_module(self):\n         # Error message may or may not be the fully qualified path.\n         six.assertRaisesRegex(self,\n             ImproperlyConfigured,\n-            ('Error importing storage module django.core.files.non_existing_'\n-                'storage: \"No module named .*non_existing_storage'),\n+            'Error importing module django.core.files.non_existing_storage: '\n+            '\"No module named non_existing_storage\"',\n             get_storage_class,\n             'django.core.files.non_existing_storage.NonExistingStorage'\n         )"
        },
        {
            "sha": "a9e3706bb9b6fdff1b83bb2e0685e8a2195794bb",
            "filename": "tests/regressiontests/utils/module_loading.py",
            "status": "modified",
            "additions": 19,
            "deletions": 1,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Futils%2Fmodule_loading.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Futils%2Fmodule_loading.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fmodule_loading.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -3,9 +3,10 @@\n import imp\n from zipimport import zipimporter\n \n+from django.core.exceptions import ImproperlyConfigured\n from django.utils import unittest\n from django.utils.importlib import import_module\n-from django.utils.module_loading import module_has_submodule\n+from django.utils.module_loading import import_by_path, module_has_submodule\n from django.utils._os import upath\n \n \n@@ -103,6 +104,23 @@ def test_deep_loader(self):\n         self.assertFalse(module_has_submodule(egg_module, 'no_such_module'))\n         self.assertRaises(ImportError, import_module, 'egg_module.sub1.sub2.no_such_module')\n \n+\n+class ModuleImportTestCase(unittest.TestCase):\n+    def test_import_by_path(self):\n+        cls = import_by_path(\n+            'django.utils.module_loading.import_by_path')\n+        self.assertEqual(cls, import_by_path)\n+\n+        # Test exceptions raised\n+        for path in ('no_dots_in_path', 'unexistent.path',\n+                'tests.regressiontests.utils.unexistent'):\n+            self.assertRaises(ImproperlyConfigured, import_by_path, path)\n+\n+        with self.assertRaises(ImproperlyConfigured) as cm:\n+            import_by_path('unexistent.module.path', error_prefix=\"Foo\")\n+        self.assertTrue(str(cm.exception).startswith('Foo'))\n+\n+\n class ProxyFinder(object):\n     def __init__(self):\n         self._cache = {}"
        },
        {
            "sha": "726df3d979c3d28af899e1aa9cdc3780f40ca338",
            "filename": "tests/regressiontests/utils/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Futils%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Futils%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Ftests.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -20,7 +20,8 @@\n from .http import TestUtilsHttp, ETagProcessingTests, HttpDateProcessingTests\n from .ipv6 import TestUtilsIPv6\n from .jslex import JsToCForGettextTest, JsTokensTest\n-from .module_loading import CustomLoader, DefaultLoader, EggLoader\n+from .module_loading import (CustomLoader, DefaultLoader, EggLoader,\n+    ModuleImportTestCase)\n from .numberformat import TestNumberFormat\n from .os_utils import SafeJoinTests\n from .regex_helper import NormalizeTests"
        },
        {
            "sha": "0b8c9d2b67b43bc866597d02118c7d2250837ef6",
            "filename": "tests/regressiontests/wsgi/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Fwsgi%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7c5b244826be636429791a8ca76b2adc678e82e7/tests%2Fregressiontests%2Fwsgi%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fwsgi%2Ftests.py?ref=7c5b244826be636429791a8ca76b2adc678e82e7",
            "patch": "@@ -85,7 +85,7 @@ def mock_get_wsgi_app():\n     def test_bad_module(self):\n         with six.assertRaisesRegex(self,\n             ImproperlyConfigured,\n-            r\"^WSGI application 'regressiontests.wsgi.noexist.app' could not be loaded; could not import module 'regressiontests.wsgi.noexist':\"):\n+            r\"^WSGI application 'regressiontests.wsgi.noexist.app' could not be loaded; Error importing.*\"):\n \n             get_internal_wsgi_application()\n \n@@ -94,6 +94,6 @@ def test_bad_module(self):\n     def test_bad_name(self):\n         with six.assertRaisesRegex(self,\n             ImproperlyConfigured,\n-            r\"^WSGI application 'regressiontests.wsgi.wsgi.noexist' could not be loaded; can't find 'noexist' in module 'regressiontests.wsgi.wsgi':\"):\n+            r\"^WSGI application 'regressiontests.wsgi.wsgi.noexist' could not be loaded; Module.*\"):\n \n             get_internal_wsgi_application()"
        }
    ],
    "stats": {
        "total": 373,
        "additions": 117,
        "deletions": 256
    }
}