{
    "author": "aaugustin",
    "message": "Deprecated django.views.defaults.shortcut.",
    "sha": "3f2befc93163e0666dcc4f745288b98306de4b8e",
    "files": [
        {
            "sha": "c00d176ad6ab441b7e6b29c50e10cc89e9d08bf1",
            "filename": "django/conf/urls/shortcut.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/django%2Fconf%2Furls%2Fshortcut.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/django%2Fconf%2Furls%2Fshortcut.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Furls%2Fshortcut.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -1,5 +1,10 @@\n+import warnings\n+\n from django.conf.urls import patterns\n \n+warnings.warn(\"django.conf.urls.shortcut will be removed in Django 1.8.\",\n+    PendingDeprecationWarning)\n+\n urlpatterns = patterns('django.views',\n     (r'^(?P<content_type_id>\\d+)/(?P<object_id>.*)/$', 'defaults.shortcut'),\n )"
        },
        {
            "sha": "89228c50c92cd580e41ec7f32d9071640514b010",
            "filename": "django/views/defaults.py",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/django%2Fviews%2Fdefaults.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/django%2Fviews%2Fdefaults.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdefaults.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -1,3 +1,5 @@\n+import warnings\n+\n from django import http\n from django.template import (Context, RequestContext,\n                              loader, Template, TemplateDoesNotExist)\n@@ -63,12 +65,9 @@ def permission_denied(request, template_name='403.html'):\n \n \n def shortcut(request, content_type_id, object_id):\n-    # TODO: Remove this in Django 2.0.\n-    # This is a legacy view that depends on the contenttypes framework.\n-    # The core logic was moved to django.contrib.contenttypes.views after\n-    # Django 1.0, but this remains here for backwards compatibility.\n-    # Note that the import is *within* this function, rather than being at\n-    # module level, because we don't want to assume people have contenttypes\n-    # installed.\n+    warnings.warn(\n+        \"django.views.defaults.shortcut will be removed in Django 1.8. \"\n+        \"Import it from django.contrib.contenttypes.views instead.\",\n+        PendingDeprecationWarning, stacklevel=2)\n     from django.contrib.contenttypes.views import shortcut as real_shortcut\n     return real_shortcut(request, content_type_id, object_id)"
        },
        {
            "sha": "c0863278b531529b83f53b484c04d0a7fbe62e93",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -362,6 +362,9 @@ these changes.\n * Remove the backward compatible shims introduced to rename the attributes\n   ``ChangeList.root_query_set`` and ``ChangeList.query_set``.\n \n+* ``django.conf.urls.shortcut`` and ``django.views.defaults.shortcut`` will be\n+  removed.\n+\n * The following private APIs will be removed:\n \n   - ``django.db.close_connection()``"
        },
        {
            "sha": "b4c3b70c63fd6be027b999407b5ec0d4ef81f90d",
            "filename": "docs/releases/1.6.txt",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Freleases%2F1.6.txt",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Freleases%2F1.6.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.6.txt?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -352,3 +352,20 @@ private API, it will go through a regular deprecation path.\n \n Methods that return a ``QuerySet`` such as ``Manager.get_query_set`` or\n ``ModelAdmin.queryset`` have been renamed to ``get_queryset``.\n+\n+``shortcut`` view and URLconf\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The ``shortcut`` view was moved from ``django.views.defaults`` to\n+``django.contrib.contentypes.views`` shortly after the 1.0 release, but the\n+old location was never deprecated. This oversight was corrected in Django 1.6\n+and you should now use the new location.\n+\n+The URLconf ``django.conf.urls.shortcut`` was also deprecated. If you're\n+including it in an URLconf, simply replace::\n+\n+    (r'^prefix/', include('django.conf.urls.shortcut')),\n+\n+with::\n+\n+    (r'^prefix/(?P<content_type_id>\\d+)/(?P<object_id>.*)/$', 'django.contrib.contentypes.views'),"
        },
        {
            "sha": "c1c52f578166554a4f928c937b1e9a01f1f8bfa9",
            "filename": "docs/topics/http/urls.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Ftopics%2Fhttp%2Furls.txt",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/docs%2Ftopics%2Fhttp%2Furls.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fhttp%2Furls.txt?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -330,7 +330,6 @@ itself. It includes a number of other URLconfs::\n         (r'^comments/', include('django.contrib.comments.urls')),\n         (r'^community/', include('django_website.aggregator.urls')),\n         (r'^contact/', include('django_website.contact.urls')),\n-        (r'^r/', include('django.conf.urls.shortcut')),\n         # ... snip ...\n     )\n "
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "tests/contenttypes_tests/__init__.py",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcontenttypes_tests%2F__init__.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e"
        },
        {
            "sha": "52510bfe905ca7d040f4145d9d6eb2a07cec681f",
            "filename": "tests/contenttypes_tests/fixtures/testdata.json",
            "status": "added",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Ffixtures%2Ftestdata.json",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Ffixtures%2Ftestdata.json",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcontenttypes_tests%2Ffixtures%2Ftestdata.json?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -0,0 +1,47 @@\n+[\n+    {\n+        \"pk\": 1,\n+        \"model\": \"contenttypes_tests.author\",\n+        \"fields\": {\n+            \"name\": \"Boris\"\n+        }\n+    },\n+    {\n+        \"pk\": 1,\n+        \"model\": \"contenttypes_tests.article\",\n+        \"fields\": {\n+            \"author\": 1,\n+            \"title\": \"Old Article\",\n+            \"slug\": \"old_article\",\n+            \"date_created\": \"2001-01-01 21:22:23\"\n+        }\n+    },\n+    {\n+        \"pk\": 2,\n+        \"model\": \"contenttypes_tests.article\",\n+        \"fields\": {\n+            \"author\": 1,\n+            \"title\": \"Current Article\",\n+            \"slug\": \"current_article\",\n+            \"date_created\": \"2007-09-17 21:22:23\"\n+        }\n+    },\n+    {\n+        \"pk\": 3,\n+        \"model\": \"contenttypes_tests.article\",\n+        \"fields\": {\n+            \"author\": 1,\n+            \"title\": \"Future Article\",\n+            \"slug\": \"future_article\",\n+            \"date_created\": \"3000-01-01 21:22:23\"\n+        }\n+    },\n+    {\n+        \"pk\": 1,\n+        \"model\": \"sites.site\",\n+        \"fields\": {\n+            \"domain\": \"testserver\",\n+            \"name\": \"testserver\"\n+        }\n+    }\n+]"
        },
        {
            "sha": "3c6685687a6ad9413bb0b59cd60cb365bbb45553",
            "filename": "tests/contenttypes_tests/models.py",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcontenttypes_tests%2Fmodels.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -0,0 +1,24 @@\n+from __future__ import absolute_import, unicode_literals\n+\n+from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n+\n+@python_2_unicode_compatible\n+class Author(models.Model):\n+    name = models.CharField(max_length=100)\n+\n+    def __str__(self):\n+        return self.name\n+\n+    def get_absolute_url(self):\n+        return '/views/authors/%s/' % self.id\n+\n+@python_2_unicode_compatible\n+class Article(models.Model):\n+    title = models.CharField(max_length=100)\n+    slug = models.SlugField()\n+    author = models.ForeignKey(Author)\n+    date_created = models.DateTimeField()\n+\n+    def __str__(self):\n+        return self.title"
        },
        {
            "sha": "b39e118ec6fa8242dd856674a63e139ee0d8d450",
            "filename": "tests/contenttypes_tests/tests.py",
            "status": "added",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcontenttypes_tests%2Ftests.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -0,0 +1,47 @@\n+from __future__ import absolute_import, unicode_literals\n+\n+from django.contrib.contenttypes.models import ContentType\n+from django.test import TestCase\n+\n+from .models import Author, Article\n+\n+class ContentTypesViewsTests(TestCase):\n+    fixtures = ['testdata.json']\n+    urls = 'contenttypes_tests.urls'\n+\n+    def test_shortcut_with_absolute_url(self):\n+        \"Can view a shortcut for an Author object that has a get_absolute_url method\"\n+        for obj in Author.objects.all():\n+            short_url = '/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, obj.pk)\n+            response = self.client.get(short_url)\n+            self.assertRedirects(response, 'http://testserver%s' % obj.get_absolute_url(),\n+                                 status_code=302, target_status_code=404)\n+\n+    def test_shortcut_no_absolute_url(self):\n+        \"Shortcuts for an object that has no get_absolute_url method raises 404\"\n+        for obj in Article.objects.all():\n+            short_url = '/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Article).id, obj.pk)\n+            response = self.client.get(short_url)\n+            self.assertEqual(response.status_code, 404)\n+\n+    def test_wrong_type_pk(self):\n+        short_url = '/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, 'nobody/expects')\n+        response = self.client.get(short_url)\n+        self.assertEqual(response.status_code, 404)\n+\n+    def test_shortcut_bad_pk(self):\n+        short_url = '/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, '42424242')\n+        response = self.client.get(short_url)\n+        self.assertEqual(response.status_code, 404)\n+\n+    def test_nonint_content_type(self):\n+        an_author = Author.objects.all()[0]\n+        short_url = '/shortcut/%s/%s/' % ('spam', an_author.pk)\n+        response = self.client.get(short_url)\n+        self.assertEqual(response.status_code, 404)\n+\n+    def test_bad_content_type(self):\n+        an_author = Author.objects.all()[0]\n+        short_url = '/shortcut/%s/%s/' % (42424242, an_author.pk)\n+        response = self.client.get(short_url)\n+        self.assertEqual(response.status_code, 404)"
        },
        {
            "sha": "2cfc90b0244f4bb95cd5f72aa8c0d53c30d18106",
            "filename": "tests/contenttypes_tests/urls.py",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fcontenttypes_tests%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcontenttypes_tests%2Furls.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -0,0 +1,7 @@\n+from __future__ import absolute_import, unicode_literals\n+\n+from django.conf.urls import patterns\n+\n+urlpatterns = patterns('',\n+    (r'^shortcut/(\\d+)/(.*)/$', 'django.contrib.contenttypes.views.shortcut'),\n+)"
        },
        {
            "sha": "5efd338d345cf12b75131d02195af99139370b01",
            "filename": "tests/view_tests/tests/defaults.py",
            "status": "modified",
            "additions": 0,
            "deletions": 37,
            "changes": 37,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fview_tests%2Ftests%2Fdefaults.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fview_tests%2Ftests%2Fdefaults.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fview_tests%2Ftests%2Fdefaults.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -13,43 +13,6 @@ class DefaultsTests(TestCase):\n     non_existing_urls = ['/views/non_existing_url/', # this is in urls.py\n                          '/views/other_non_existing_url/'] # this NOT in urls.py\n \n-    def test_shortcut_with_absolute_url(self):\n-        \"Can view a shortcut for an Author object that has a get_absolute_url method\"\n-        for obj in Author.objects.all():\n-            short_url = '/views/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, obj.pk)\n-            response = self.client.get(short_url)\n-            self.assertRedirects(response, 'http://testserver%s' % obj.get_absolute_url(),\n-                                 status_code=302, target_status_code=404)\n-\n-    def test_shortcut_no_absolute_url(self):\n-        \"Shortcuts for an object that has no get_absolute_url method raises 404\"\n-        for obj in Article.objects.all():\n-            short_url = '/views/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Article).id, obj.pk)\n-            response = self.client.get(short_url)\n-            self.assertEqual(response.status_code, 404)\n-\n-    def test_wrong_type_pk(self):\n-        short_url = '/views/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, 'nobody/expects')\n-        response = self.client.get(short_url)\n-        self.assertEqual(response.status_code, 404)\n-\n-    def test_shortcut_bad_pk(self):\n-        short_url = '/views/shortcut/%s/%s/' % (ContentType.objects.get_for_model(Author).id, '42424242')\n-        response = self.client.get(short_url)\n-        self.assertEqual(response.status_code, 404)\n-\n-    def test_nonint_content_type(self):\n-        an_author = Author.objects.all()[0]\n-        short_url = '/views/shortcut/%s/%s/' % ('spam', an_author.pk)\n-        response = self.client.get(short_url)\n-        self.assertEqual(response.status_code, 404)\n-\n-    def test_bad_content_type(self):\n-        an_author = Author.objects.all()[0]\n-        short_url = '/views/shortcut/%s/%s/' % (42424242, an_author.pk)\n-        response = self.client.get(short_url)\n-        self.assertEqual(response.status_code, 404)\n-\n     def test_page_not_found(self):\n         \"A 404 status is returned by the page_not_found view\"\n         for url in self.non_existing_urls:"
        },
        {
            "sha": "52e2eb474e7d66bcf332303ef10f3070df8a9d3b",
            "filename": "tests/view_tests/urls.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fview_tests%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/3f2befc93163e0666dcc4f745288b98306de4b8e/tests%2Fview_tests%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fview_tests%2Furls.py?ref=3f2befc93163e0666dcc4f745288b98306de4b8e",
            "patch": "@@ -42,7 +42,6 @@\n     (r'^$', views.index_page),\n \n     # Default views\n-    (r'^shortcut/(\\d+)/(.*)/$', 'django.views.defaults.shortcut'),\n     (r'^non_existing_url/', 'django.views.defaults.page_not_found'),\n     (r'^server_error/', 'django.views.defaults.server_error'),\n "
        }
    ],
    "stats": {
        "total": 202,
        "additions": 156,
        "deletions": 46
    }
}