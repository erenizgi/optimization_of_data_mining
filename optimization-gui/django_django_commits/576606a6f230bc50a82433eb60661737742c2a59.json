{
    "author": "freakboy3742",
    "message": "Advanced deprecations in core.cache.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15977 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "576606a6f230bc50a82433eb60661737742c2a59",
    "files": [
        {
            "sha": "bb10e01c65f3f569e355338f005bb2cda1ff3dcb",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/576606a6f230bc50a82433eb60661737742c2a59/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/576606a6f230bc50a82433eb60661737742c2a59/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=576606a6f230bc50a82433eb60661737742c2a59",
            "patch": "@@ -80,7 +80,7 @@ def parse_backend_uri(backend_uri):\n         import warnings\n         warnings.warn(\n             \"settings.CACHE_* is deprecated; use settings.CACHES instead.\",\n-            PendingDeprecationWarning\n+            DeprecationWarning\n         )\n     else:\n         # The default cache setting is put here so that we"
        },
        {
            "sha": "6cca2f8c7c032f26c62b74cf7b75ee27208cb74d",
            "filename": "django/core/cache/backends/memcached.py",
            "status": "modified",
            "additions": 9,
            "deletions": 15,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/576606a6f230bc50a82433eb60661737742c2a59/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "raw_url": "https://github.com/django/django/raw/576606a6f230bc50a82433eb60661737742c2a59/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py?ref=576606a6f230bc50a82433eb60661737742c2a59",
            "patch": "@@ -126,24 +126,18 @@ def delete_many(self, keys, version=None):\n     def clear(self):\n         self._cache.flush_all()\n \n-# For backwards compatibility -- the default cache class tries a\n-# cascading lookup of cmemcache, then memcache.\n class CacheClass(BaseMemcachedCache):\n     def __init__(self, server, params):\n+        warnings.warn(\n+            \"memcached.CacheClass has been split into memcached.MemcachedCache and memcached.PyLibMCCache. Please update your cache backend setting.\",\n+            PendingDeprecationWarning\n+        )\n         try:\n-            import cmemcache as memcache\n-            import warnings\n-            warnings.warn(\n-                \"Support for the 'cmemcache' library has been deprecated. Please use python-memcached or pyblimc instead.\",\n-                DeprecationWarning\n-            )\n-        except ImportError:\n-            try:\n-                import memcache\n-            except:\n-                raise InvalidCacheBackendError(\n-                    \"Memcached cache backend requires either the 'memcache' or 'cmemcache' library\"\n-                    )\n+            import memcache\n+        except:\n+            raise InvalidCacheBackendError(\n+                \"Memcached cache backend requires either the 'memcache' or 'cmemcache' library\"\n+                )\n         super(CacheClass, self).__init__(server, params,\n                                          library=memcache,\n                                          value_not_found_exception=ValueError)"
        },
        {
            "sha": "32f4b2d0b1672b093224a485f116adf3dc13f26a",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/576606a6f230bc50a82433eb60661737742c2a59/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/576606a6f230bc50a82433eb60661737742c2a59/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=576606a6f230bc50a82433eb60661737742c2a59",
            "patch": "@@ -186,6 +186,12 @@ their deprecation, as per the :ref:`Django deprecation policy\n           synonym for ``django.views.decorators.csrf.csrf_exempt``, which should\n           be used to replace it.\n \n+        * The :class:`~django.core.cache.backends.memcached.CacheClass` backend\n+          was split into two in Django 1.3 in order to introduce support for\n+          PyLibMC. The historical :class:`~django.core.cache.backends.memcached.CacheClass`\n+          is now an alias for :class:`~django.core.cache.backends.memcached.MemcachedCache`.\n+          In Django 1.6, the historical alias will be removed.\n+\n     * 2.0\n         * ``django.views.defaults.shortcut()``. This function has been moved\n           to ``django.contrib.contenttypes.views.shortcut()`` as part of the"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 16,
        "deletions": 16
    }
}