{
    "author": "aaugustin",
    "message": "Fixed tests that relied on MANAGERS not being empty.\n\nRegression in d0561242.",
    "sha": "f8a634afa2b5810a7bfc17868ca216d277f0f24b",
    "files": [
        {
            "sha": "f2f7f4df66640c671b19fce5a36e20cd4ce54f6e",
            "filename": "tests/middleware/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 4,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/f8a634afa2b5810a7bfc17868ca216d277f0f24b/tests%2Fmiddleware%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f8a634afa2b5810a7bfc17868ca216d277f0f24b/tests%2Fmiddleware%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmiddleware%2Ftests.py?ref=f8a634afa2b5810a7bfc17868ca216d277f0f24b",
            "patch": "@@ -245,7 +245,8 @@ def test_prepend_www_append_slash_slashless_custom_urlconf(self):\n     # Legacy tests for the 404 error reporting via email (to be removed in 1.8)\n \n     @override_settings(IGNORABLE_404_URLS=(re.compile(r'foo'),),\n-                       SEND_BROKEN_LINK_EMAILS=True)\n+                       SEND_BROKEN_LINK_EMAILS=True,\n+                       MANAGERS=('PHB@dilbert.com',))\n     def test_404_error_reporting(self):\n         request = self._get_request('regular_url/that/does/not/exist')\n         request.META['HTTP_REFERER'] = '/another/url/'\n@@ -257,7 +258,8 @@ def test_404_error_reporting(self):\n         self.assertIn('Broken', mail.outbox[0].subject)\n \n     @override_settings(IGNORABLE_404_URLS=(re.compile(r'foo'),),\n-                       SEND_BROKEN_LINK_EMAILS=True)\n+                       SEND_BROKEN_LINK_EMAILS=True,\n+                       MANAGERS=('PHB@dilbert.com',))\n     def test_404_error_reporting_no_referer(self):\n         request = self._get_request('regular_url/that/does/not/exist')\n         with warnings.catch_warnings():\n@@ -267,7 +269,8 @@ def test_404_error_reporting_no_referer(self):\n         self.assertEqual(len(mail.outbox), 0)\n \n     @override_settings(IGNORABLE_404_URLS=(re.compile(r'foo'),),\n-                       SEND_BROKEN_LINK_EMAILS=True)\n+                       SEND_BROKEN_LINK_EMAILS=True,\n+                       MANAGERS=('PHB@dilbert.com',))\n     def test_404_error_reporting_ignored_url(self):\n         request = self._get_request('foo_url/that/does/not/exist/either')\n         request.META['HTTP_REFERER'] = '/another/url/'\n@@ -287,7 +290,10 @@ def test_non_ascii_query_string_does_not_crash(self):\n         self.assertEqual(response.status_code, 301)\n \n \n-@override_settings(IGNORABLE_404_URLS=(re.compile(r'foo'),))\n+@override_settings(\n+    IGNORABLE_404_URLS=(re.compile(r'foo'),),\n+    MANAGERS=('PHB@dilbert.com',),\n+)\n class BrokenLinkEmailsMiddlewareTest(TestCase):\n \n     def setUp(self):"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 10,
        "deletions": 4
    }
}