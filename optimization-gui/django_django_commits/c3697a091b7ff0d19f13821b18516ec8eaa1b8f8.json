{
    "author": "aaugustin",
    "message": "Fixed #10756 -- Error in the formats accepted by PLNIPField. Thanks remik for the report, michalm for the patch and claudep for the review.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17346 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c3697a091b7ff0d19f13821b18516ec8eaa1b8f8",
    "files": [
        {
            "sha": "3e8d73f0f25bb3282238381381a80994263010d3",
            "filename": "django/contrib/localflavor/pl/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py?ref=c3697a091b7ff0d19f13821b18516ec8eaa1b8f8",
            "patch": "@@ -122,18 +122,18 @@ def has_valid_checksum(self, number):\n class PLNIPField(RegexField):\n     \"\"\"\n     A form field that validates as Polish Tax Number (NIP).\n-    Valid forms are: XXX-XXX-YY-YY or XX-XX-YYY-YYY.\n+    Valid forms are: XXX-YYY-YY-YY, XXX-YY-YY-YYY or XXXYYYYYYY.\n \n     Checksum algorithm based on documentation at\n     http://wipos.p.lodz.pl/zylla/ut/nip-rego.html\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a tax number field (NIP) in the format XXX-XXX-XX-XX or XX-XX-XXX-XXX.'),\n+        'invalid': _(u'Enter a tax number field (NIP) in the format XXX-XXX-XX-XX, XXX-XX-XX-XXX or XXXXXXXXXX.'),\n         'checksum': _(u'Wrong checksum for the Tax Number (NIP).'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n-        super(PLNIPField, self).__init__(r'^\\d{3}-\\d{3}-\\d{2}-\\d{2}$|^\\d{2}-\\d{2}-\\d{3}-\\d{3}$',\n+        super(PLNIPField, self).__init__(r'^\\d{3}-\\d{3}-\\d{2}-\\d{2}$|^\\d{3}-\\d{2}-\\d{2}-\\d{3}$|^\\d{10}$',\n             max_length, min_length, *args, **kwargs)\n \n     def clean(self,value):"
        },
        {
            "sha": "1593598ba37596be9352f033c19790f86bbcea26",
            "filename": "docs/ref/contrib/localflavor.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "raw_url": "https://github.com/django/django/raw/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Flocalflavor.txt?ref=c3697a091b7ff0d19f13821b18516ec8eaa1b8f8",
            "patch": "@@ -960,8 +960,8 @@ Poland (``pl``)\n \n .. class:: pl.forms.PLNIPField\n \n-    A form field that validates input as a Polish Tax Number (NIP). Valid\n-    formats are XXX-XXX-XX-XX or XX-XX-XXX-XXX. The checksum algorithm used\n+    A form field that validates input as a Polish Tax Number (NIP). Valid formats\n+    are XXX-XXX-XX-XX, XXX-XX-XX-XXX or XXXXXXXXXX. The checksum algorithm used\n     for NIPs is documented at http://wipos.p.lodz.pl/zylla/ut/nip-rego.html.\n \n .. class:: pl.forms.PLCountySelect"
        },
        {
            "sha": "52154f8804b3874e3a6a2f936d119bf41552f03e",
            "filename": "tests/regressiontests/localflavor/pl/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/tests%2Fregressiontests%2Flocalflavor%2Fpl%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c3697a091b7ff0d19f13821b18516ec8eaa1b8f8/tests%2Fregressiontests%2Flocalflavor%2Fpl%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Fpl%2Ftests.py?ref=c3697a091b7ff0d19f13821b18516ec8eaa1b8f8",
            "patch": "@@ -420,14 +420,16 @@ def test_PLPostalCodeField(self):\n         self.assertFieldOutput(PLPostalCodeField, valid, invalid)\n \n     def test_PLNIPField(self):\n-        error_format = [u'Enter a tax number field (NIP) in the format XXX-XXX-XX-XX or XX-XX-XXX-XXX.']\n+        error_format = [u'Enter a tax number field (NIP) in the format XXX-XXX-XX-XX, XXX-XX-XX-XXX or XXXXXXXXXX.']\n         error_checksum = [u'Wrong checksum for the Tax Number (NIP).']\n         valid = {\n-            '64-62-414-124': '6462414124',\n             '646-241-41-24': '6462414124',\n+            '646-24-14-124': '6462414124',\n+            '6462414124': '6462414124',\n         }\n         invalid = {\n             '43-343-234-323': error_format,\n+\t    '64-62-414-124': error_format,\n             '646-241-41-23': error_checksum,\n         }\n         self.assertFieldOutput(PLNIPField, valid, invalid)"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 9,
        "deletions": 7
    }
}