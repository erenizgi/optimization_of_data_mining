{
    "author": "claudep",
    "message": "[py3] Replaced __nonzero__ by __bool__\n\nOf course, __nonzero__ alias has been kept for Python 2 compatibility.",
    "sha": "576ec12f8e7024679202b6213b8664ccd8b451b7",
    "files": [
        {
            "sha": "1b6c2eedd0cac12e6c4f8c5b7973d011fcd7171a",
            "filename": "django/contrib/auth/context_processors.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fcontrib%2Fauth%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fcontrib%2Fauth%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fcontext_processors.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -11,8 +11,9 @@ def __repr__(self):\n     def __getitem__(self, perm_name):\n         return self.user.has_perm(\"%s.%s\" % (self.module_name, perm_name))\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         return self.user.has_module_perms(self.module_name)\n+    __nonzero__ = __bool__ # Python 2\n \n \n class PermWrapper(object):"
        },
        {
            "sha": "d0b25250a5afc2b2e66643dca9d1e874b7bc0407",
            "filename": "django/core/files/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fcore%2Ffiles%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fcore%2Ffiles%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fbase.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -26,8 +26,9 @@ def __unicode__(self):\n     def __repr__(self):\n         return \"<%s: %s>\" % (self.__class__.__name__, self or \"None\")\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         return bool(self.name)\n+    __nonzero__ = __bool__ # Python 2\n \n     def __len__(self):\n         return self.size\n@@ -135,8 +136,9 @@ def __init__(self, content, name=None):\n     def __str__(self):\n         return 'Raw content'\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         return True\n+    __nonzero__ = __bool__ # Python 2\n \n     def open(self, mode=None):\n         self.seek(0)"
        },
        {
            "sha": "4441c1a4ef4de70e203721d98ac8ffed6e2fbf83",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -120,7 +120,7 @@ def _result_iter(self):\n             if len(self._result_cache) <= pos:\n                 self._fill_cache()\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         if self._prefetch_related_lookups and not self._prefetch_done:\n             # We need all the results in order to be able to do the prefetch\n             # in one go. To minimize code duplication, we use the __len__\n@@ -134,6 +134,7 @@ def __nonzero__(self):\n         except StopIteration:\n             return False\n         return True\n+    __nonzero__ = __bool__ # Python 2\n \n     def __contains__(self, val):\n         # The 'in' operator works without this method, due to __iter__. This"
        },
        {
            "sha": "d8728e219a4948868423321d78f4b6f66117506b",
            "filename": "django/dispatch/saferef.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fdispatch%2Fsaferef.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fdispatch%2Fsaferef.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdispatch%2Fsaferef.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -152,9 +152,10 @@ def __str__(self):\n     \n     __repr__ = __str__\n     \n-    def __nonzero__( self ):\n+    def __bool__( self ):\n         \"\"\"Whether we are still a valid reference\"\"\"\n         return self() is not None\n+    __nonzero__ = __bool__ # Python 2\n \n     def __eq__(self, other):\n         \"\"\"Compare with another reference\"\"\""
        },
        {
            "sha": "4ea8dc4ca92036f5fa37d2caecb71506393bdb65",
            "filename": "django/forms/formsets.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fforms%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Fforms%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fformsets.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -65,9 +65,10 @@ def __getitem__(self, index):\n     def __len__(self):\n         return len(self.forms)\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         \"\"\"All formsets have a management form which is not included in the length\"\"\"\n         return True\n+    __nonzero__ = __bool__ # Python 2\n \n     def _management_form(self):\n         \"\"\"Returns the ManagementForm instance for this FormSet.\"\"\""
        },
        {
            "sha": "717181d2b99f9c5aab9026dbcc1e79020272aa69",
            "filename": "django/utils/tree.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Futils%2Ftree.py",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/django%2Futils%2Ftree.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftree.py?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -68,11 +68,12 @@ def __len__(self):\n         \"\"\"\n         return len(self.children)\n \n-    def __nonzero__(self):\n+    def __bool__(self):\n         \"\"\"\n         For truth value testing.\n         \"\"\"\n         return bool(self.children)\n+    __nonzero__ = __bool__ # Python 2\n \n     def __contains__(self, other):\n         \"\"\""
        },
        {
            "sha": "772792d39d98dd2e3d8ccf605d1c468c70584e81",
            "filename": "docs/topics/db/optimization.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/576ec12f8e7024679202b6213b8664ccd8b451b7/docs%2Ftopics%2Fdb%2Foptimization.txt",
            "raw_url": "https://github.com/django/django/raw/576ec12f8e7024679202b6213b8664ccd8b451b7/docs%2Ftopics%2Fdb%2Foptimization.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Foptimization.txt?ref=576ec12f8e7024679202b6213b8664ccd8b451b7",
            "patch": "@@ -230,7 +230,7 @@ It is optimal because:\n #. Use of :ttag:`with` means that we store ``user.emails.all`` in a variable\n    for later use, allowing its cache to be re-used.\n \n-#. The line ``{% if emails %}`` causes ``QuerySet.__nonzero__()`` to be called,\n+#. The line ``{% if emails %}`` causes ``QuerySet.__bool__()`` to be called,\n    which causes the ``user.emails.all()`` query to be run on the database, and\n    at the least the first line to be turned into an ORM object. If there aren't\n    any results, it will return False, otherwise True."
        }
    ],
    "stats": {
        "total": 23,
        "additions": 15,
        "deletions": 8
    }
}