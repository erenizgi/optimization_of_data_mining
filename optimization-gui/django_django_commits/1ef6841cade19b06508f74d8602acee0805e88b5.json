{
    "author": "jphalip",
    "message": "Fixed #17162 -- Removed the useless `WizardView.get_wizard_name()` method. Thanks, Bradley Ayers and Stephan Jaekel.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17234 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1ef6841cade19b06508f74d8602acee0805e88b5",
    "files": [
        {
            "sha": "c5fab17f07303b48a9bfe71d5b6c23375cda48a4",
            "filename": "django/contrib/formtools/wizard/views.py",
            "status": "modified",
            "additions": 12,
            "deletions": 7,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/1ef6841cade19b06508f74d8602acee0805e88b5/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/1ef6841cade19b06508f74d8602acee0805e88b5/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py?ref=1ef6841cade19b06508f74d8602acee0805e88b5",
            "patch": "@@ -14,6 +14,15 @@\n \n \n def normalize_name(name):\n+    \"\"\"\n+    Converts camel-case style names into underscore seperated words. Example::\n+\n+        >>> normalize_name('oneTwoThree')\n+        'one_two_three'\n+        >>> normalize_name('FourFiveSix')\n+        'four_five_six'\n+\n+    \"\"\"\n     new = re.sub('(((?<=[a-z])[A-Z])|([A-Z](?![A-Z]|$)))', '_\\\\1', name)\n     return new.lower().strip('_')\n \n@@ -169,12 +178,9 @@ def get_initkwargs(cls, form_list, initial_dict=None,\n         kwargs['form_list'] = init_form_list\n         return kwargs\n \n-    def get_wizard_name(self):\n-        return normalize_name(self.__class__.__name__)\n-\n-    def get_prefix(self):\n+    def get_prefix(self, *args, **kwargs):\n         # TODO: Add some kind of unique id to prefix\n-        return self.wizard_name\n+        return normalize_name(self.__class__.__name__)\n \n     def get_form_list(self):\n         \"\"\"\n@@ -210,8 +216,7 @@ def dispatch(self, request, *args, **kwargs):\n         response gets updated by the storage engine (for example add cookies).\n         \"\"\"\n         # add the storage engine to the current formwizard instance\n-        self.wizard_name = self.get_wizard_name()\n-        self.prefix = self.get_prefix()\n+        self.prefix = self.get_prefix(*args, **kwargs)\n         self.storage = get_storage(self.storage_name, self.prefix, request,\n             getattr(self, 'file_storage', None))\n         self.steps = StepsHelper(self)"
        },
        {
            "sha": "58cb0e28d27b98c2110c68b1d612c1e1773aed99",
            "filename": "docs/ref/contrib/formtools/form-wizard.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 15,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/1ef6841cade19b06508f74d8602acee0805e88b5/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt",
            "raw_url": "https://github.com/django/django/raw/1ef6841cade19b06508f74d8602acee0805e88b5/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt?ref=1ef6841cade19b06508f74d8602acee0805e88b5",
            "patch": "@@ -314,28 +314,21 @@ Advanced ``WizardView`` methods\n                 context.update({'another_var': True})\n             return context\n \n-.. method:: WizardView.get_wizard_name()\n+.. method:: WizardView.get_prefix(*args, **kwargs)\n \n-    This method can be used to change the wizard's internal name.\n-\n-    Default implementation::\n-\n-        def get_wizard_name(self):\n-            return normalize_name(self.__class__.__name__)\n-\n-.. method:: WizardView.get_prefix()\n-\n-    This method returns a prefix for the storage backends. These backends use\n-    the prefix to fetch the correct data for the wizard. (Multiple wizards\n-    could save their data in one session)\n+    This method returns a prefix for use by the storage backends. Backends use\n+    the prefix as a mechanism to allow data to be stored separately for each\n+    wizard. This allows wizards to store their data in a single backend\n+    without overwriting each other.\n \n     You can change this method to make the wizard data prefix more unique to,\n     e.g. have multiple instances of one wizard in one session.\n \n     Default implementation::\n \n-        def get_prefix(self):\n-            return self.wizard_name\n+        def get_prefix(self, *args, **kwargs):\n+            # use the lowercase underscore version of the class name\n+            return normalize_name(self.__class__.__name__)\n \n .. method:: WizardView.get_form(step=None, data=None, files=None)\n "
        }
    ],
    "stats": {
        "total": 42,
        "additions": 20,
        "deletions": 22
    }
}