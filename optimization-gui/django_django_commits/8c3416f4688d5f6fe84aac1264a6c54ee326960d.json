{
    "author": "ramiro",
    "message": "Changed strategy used to force evaluation of django.utils.translation in tests added in r15508 and r15513 to not use reload(). Thanks Alex for reporting it caused problems.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15554 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "8c3416f4688d5f6fe84aac1264a6c54ee326960d",
    "files": [
        {
            "sha": "72255e2faf562e7ced91ec01ad8e5496b9789dad",
            "filename": "tests/regressiontests/i18n/test_warnings.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/8c3416f4688d5f6fe84aac1264a6c54ee326960d/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py",
            "raw_url": "https://github.com/django/django/raw/8c3416f4688d5f6fe84aac1264a6c54ee326960d/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py?ref=8c3416f4688d5f6fe84aac1264a6c54ee326960d",
            "patch": "@@ -4,6 +4,7 @@\n import django\n from django.conf import settings\n from django.test.utils import get_warnings_state, restore_warnings_state\n+from django.utils.translation import _trans\n from django.utils.unittest import TestCase\n \n \n@@ -26,7 +27,7 @@ def test_warn_if_project_has_locale_subdir(self):\n         warnings.filterwarnings('error',\n                 \"Translations in the project directory aren't supported anymore\\. Use the LOCALE_PATHS setting instead\\.\",\n                 PendingDeprecationWarning)\n-        reload(django.utils.translation)\n+        _trans.__dict__ = {}\n         self.assertRaises(PendingDeprecationWarning, django.utils.translation.ugettext, 'Time')\n \n     def test_no_warn_if_project_and_locale_paths_overlap(self):\n@@ -36,7 +37,7 @@ def test_no_warn_if_project_and_locale_paths_overlap(self):\n         warnings.filterwarnings('error',\n                 \"Translations in the project directory aren't supported anymore\\. Use the LOCALE_PATHS setting instead\\.\",\n                 PendingDeprecationWarning)\n-        reload(django.utils.translation)\n+        _trans.__dict__ = {}\n         try:\n             django.utils.translation.ugettext('Time')\n         except PendingDeprecationWarning:"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}