{
    "author": "aaugustin",
    "message": "[py3] Used six.reraise wherever necessary.",
    "sha": "d796c94b03ffbe90895ec68c5041806907cb9577",
    "files": [
        {
            "sha": "7fd7d19c4a829df3ac3273dfaef2a5c4d849de8d",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -7,6 +7,7 @@\n from django.utils.encoding import force_unicode\n from django.utils.importlib import import_module\n from django.utils.log import getLogger\n+from django.utils import six\n \n logger = getLogger('django.request')\n \n@@ -224,7 +225,7 @@ def handle_uncaught_exception(self, request, resolver, exc_info):\n \n         # If Http500 handler is not installed, re-raise last exception\n         if resolver.urlconf_module is None:\n-            raise exc_info[1], None, exc_info[2]\n+            six.reraise(exc_info[1], None, exc_info[2])\n         # Return an HttpResponse that displays a friendly error message.\n         callback, param_dict = resolver.resolve500()\n         return callback(request, **param_dict)"
        },
        {
            "sha": "201fed66a6e53e6405274f0d933cd477daf475ae",
            "filename": "django/db/backends/mysql/base.py",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -39,6 +39,7 @@\n from django.db.backends.mysql.validation import DatabaseValidation\n from django.utils.functional import cached_property\n from django.utils.safestring import SafeString, SafeUnicode\n+from django.utils import six\n from django.utils import timezone\n \n # Raise exceptions for database warnings if DEBUG is on\n@@ -117,29 +118,29 @@ def execute(self, query, args=None):\n         try:\n             return self.cursor.execute(query, args)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.OperationalError as e:\n             # Map some error codes to IntegrityError, since they seem to be\n             # misclassified and Django would prefer the more logical place.\n             if e[0] in self.codes_for_integrityerror:\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def executemany(self, query, args):\n         try:\n             return self.cursor.executemany(query, args)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.OperationalError as e:\n             # Map some error codes to IntegrityError, since they seem to be\n             # misclassified and Django would prefer the more logical place.\n             if e[0] in self.codes_for_integrityerror:\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def __getattr__(self, attr):\n         if attr in self.__dict__:"
        },
        {
            "sha": "705ae30ccc675d4182062df911a79c20be9345c3",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -53,6 +53,7 @@ def _setup_environment(environ):\n from django.db.backends.oracle.creation import DatabaseCreation\n from django.db.backends.oracle.introspection import DatabaseIntrospection\n from django.utils.encoding import smart_str, force_unicode\n+from django.utils import six\n from django.utils import timezone\n \n DatabaseError = Database.DatabaseError\n@@ -549,7 +550,7 @@ def _commit(self):\n             except Database.IntegrityError as e:\n                 # In case cx_Oracle implements (now or in a future version)\n                 # raising this specific exception\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n             except Database.DatabaseError as e:\n                 # cx_Oracle 5.0.4 raises a cx_Oracle.DatabaseError exception\n                 # with the following attributes and values:\n@@ -561,8 +562,8 @@ def _commit(self):\n                 x = e.args[0]\n                 if hasattr(x, 'code') and hasattr(x, 'message') \\\n                    and x.code == 2091 and 'ORA-02291' in x.message:\n-                    raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-                raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+                    six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n+                six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n \n class OracleParam(object):\n@@ -688,12 +689,12 @@ def execute(self, query, params=None):\n         try:\n             return self.cursor.execute(query, self._param_generator(params))\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n             # cx_Oracle <= 4.4.0 wrongly raises a DatabaseError for ORA-01400.\n             if hasattr(e.args[0], 'code') and e.args[0].code == 1400 and not isinstance(e, IntegrityError):\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def executemany(self, query, params=None):\n         # cx_Oracle doesn't support iterators, convert them to lists\n@@ -717,12 +718,12 @@ def executemany(self, query, params=None):\n             return self.cursor.executemany(query,\n                                 [self._param_generator(p) for p in formatted])\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n             # cx_Oracle <= 4.4.0 wrongly raises a DatabaseError for ORA-01400.\n             if hasattr(e.args[0], 'code') and e.args[0].code == 1400 and not isinstance(e, IntegrityError):\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def fetchone(self):\n         row = self.cursor.fetchone()"
        },
        {
            "sha": "8b21b8ceb88f72d9a41700781f4433f3c82bf934",
            "filename": "django/db/backends/postgresql_psycopg2/base.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -15,6 +15,7 @@\n from django.db.backends.postgresql_psycopg2.introspection import DatabaseIntrospection\n from django.utils.log import getLogger\n from django.utils.safestring import SafeUnicode, SafeString\n+from django.utils import six\n from django.utils.timezone import utc\n \n try:\n@@ -51,17 +52,17 @@ def execute(self, query, args=None):\n         try:\n             return self.cursor.execute(query, args)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def executemany(self, query, args):\n         try:\n             return self.cursor.executemany(query, args)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def __getattr__(self, attr):\n         if attr in self.__dict__:\n@@ -236,4 +237,4 @@ def _commit(self):\n             try:\n                 return self.connection.commit()\n             except Database.IntegrityError as e:\n-                raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+                six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])"
        },
        {
            "sha": "4c7b881e110b649c77b349463c425656b3aec7c4",
            "filename": "django/db/backends/sqlite3/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -21,6 +21,7 @@\n from django.utils.dateparse import parse_date, parse_datetime, parse_time\n from django.utils.functional import cached_property\n from django.utils.safestring import SafeString\n+from django.utils import six\n from django.utils import timezone\n \n try:\n@@ -348,18 +349,18 @@ def execute(self, query, params=()):\n         try:\n             return Database.Cursor.execute(self, query, params)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def executemany(self, query, param_list):\n         query = self.convert_query(query)\n         try:\n             return Database.Cursor.executemany(self, query, param_list)\n         except Database.IntegrityError as e:\n-            raise utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e)), sys.exc_info()[2])\n         except Database.DatabaseError as e:\n-            raise utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2]\n+            six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e)), sys.exc_info()[2])\n \n     def convert_query(self, query):\n         return FORMAT_QMARK_REGEX.sub('?', query).replace('%%','%')"
        },
        {
            "sha": "f9e757d9f1a556e7ac0a8ae164d387e008a126f0",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -14,6 +14,7 @@\n from django.db.models.deletion import Collector\n from django.db.models import sql\n from django.utils.functional import partition\n+from django.utils import six\n \n # Used to control how many objects are worked with at once in some cases (e.g.\n # when deleting objects).\n@@ -470,7 +471,7 @@ def get_or_create(self, **kwargs):\n                     return self.get(**lookup), False\n                 except self.model.DoesNotExist:\n                     # Re-raise the IntegrityError with its original traceback.\n-                    raise exc_info[1], None, exc_info[2]\n+                    six.reraise(exc_info[1], None, exc_info[2])\n \n     def latest(self, field_name=None):\n         \"\"\""
        },
        {
            "sha": "da1f9edc63caebf184dcdf1baf5db43a4205dfc6",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -84,6 +84,7 @@ def _BaseCookie__set(self, key, real_value, coded_value):\n from django.utils.datastructures import MultiValueDict, ImmutableList\n from django.utils.encoding import smart_str, iri_to_uri, force_unicode\n from django.utils.http import cookie_date\n+from django.utils import six\n from django.utils import timezone\n \n RESERVED_CHARS=\"!*'();:@&=+$,/?%#[]\"\n@@ -290,7 +291,7 @@ def body(self):\n             try:\n                 self._body = self.read()\n             except IOError as e:\n-                raise UnreadablePostError, e, sys.exc_traceback\n+                six.reraise(UnreadablePostError, e, sys.exc_traceback)\n             self._stream = BytesIO(self._body)\n         return self._body\n "
        },
        {
            "sha": "74e11a0efd7662091d563a83390be17011152c25",
            "filename": "django/test/client.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Ftest%2Fclient.py",
            "raw_url": "https://github.com/django/django/raw/d796c94b03ffbe90895ec68c5041806907cb9577/django%2Ftest%2Fclient.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fclient.py?ref=d796c94b03ffbe90895ec68c5041806907cb9577",
            "patch": "@@ -20,6 +20,7 @@\n from django.utils.http import urlencode\n from django.utils.importlib import import_module\n from django.utils.itercompat import is_iterable\n+from django.utils import six\n from django.db import close_connection\n from django.test.utils import ContextList\n \n@@ -381,7 +382,7 @@ def request(self, **request):\n             if self.exc_info:\n                 exc_info = self.exc_info\n                 self.exc_info = None\n-                raise exc_info[1], None, exc_info[2]\n+                six.reraise(exc_info[1], None, exc_info[2])\n \n             # Save the client and request that stimulated the response.\n             response.client = self"
        }
    ],
    "stats": {
        "total": 68,
        "additions": 38,
        "deletions": 30
    }
}