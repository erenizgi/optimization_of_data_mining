{
    "author": "spookylukey",
    "message": "Fixed #15688 - Generic views should provide a HEAD implementation\n\nThanks to j4mie for the report and patch!\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16095 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f4c808b7f50d6906d96593626ccdd016b0b1b96b",
    "files": [
        {
            "sha": "4e28b5280d440b9f4deff3ddaa67a3be3bb9212e",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/f4c808b7f50d6906d96593626ccdd016b0b1b96b/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/f4c808b7f50d6906d96593626ccdd016b0b1b96b/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=f4c808b7f50d6906d96593626ccdd016b0b1b96b",
            "patch": "@@ -44,6 +44,8 @@ def as_view(cls, **initkwargs):\n \n         def view(request, *args, **kwargs):\n             self = cls(**initkwargs)\n+            if hasattr(self, 'get') and not hasattr(self, 'head'):\n+                self.head = self.get\n             return self.dispatch(request, *args, **kwargs)\n \n         # take name and docstring from class"
        },
        {
            "sha": "fc5cf62e439ac00fbd9864354b409daadb0a5c00",
            "filename": "tests/regressiontests/generic_views/base.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/f4c808b7f50d6906d96593626ccdd016b0b1b96b/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/f4c808b7f50d6906d96593626ccdd016b0b1b96b/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py?ref=f4c808b7f50d6906d96593626ccdd016b0b1b96b",
            "patch": "@@ -101,6 +101,14 @@ def test_get_only(self):\n             self.rf.get('/', REQUEST_METHOD='FAKE')\n         ).status_code, 405)\n \n+    def test_get_and_head(self):\n+        \"\"\"\n+        Test a view which supplies a GET method also responds correctly to HEAD\n+        \"\"\"\n+        self._assert_simple(SimpleView.as_view()(self.rf.get('/')))\n+        response = SimpleView.as_view()(self.rf.head('/'))\n+        self.assertEqual(response.status_code, 200)\n+\n     def test_get_and_post(self):\n         \"\"\"\n         Test a view which only allows both GET and POST.\n@@ -167,6 +175,13 @@ def test_get(self):\n         \"\"\"\n         self._assert_about(AboutTemplateView.as_view()(self.rf.get('/about/')))\n \n+    def test_head(self):\n+        \"\"\"\n+        Test a TemplateView responds correctly to HEAD\n+        \"\"\"\n+        response = AboutTemplateView.as_view()(self.rf.head('/about/'))\n+        self.assertEqual(response.status_code, 200)\n+\n     def test_get_template_attribute(self):\n         \"\"\"\n         Test a view that renders a template on GET with the template name as"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 17,
        "deletions": 0
    }
}