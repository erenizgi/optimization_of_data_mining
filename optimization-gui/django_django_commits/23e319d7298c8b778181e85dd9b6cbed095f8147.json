{
    "author": "aaugustin",
    "message": "Fixed #19076 -- Added content_type attribute to TemplateView.\n\nThanks Gavin Wahl.",
    "sha": "23e319d7298c8b778181e85dd9b6cbed095f8147",
    "files": [
        {
            "sha": "d50d6bbc5590767ef7dc5ceb5133d03bf3b099ee",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/23e319d7298c8b778181e85dd9b6cbed095f8147/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/23e319d7298c8b778181e85dd9b6cbed095f8147/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=23e319d7298c8b778181e85dd9b6cbed095f8147",
            "patch": "@@ -113,6 +113,7 @@ class TemplateResponseMixin(object):\n     \"\"\"\n     template_name = None\n     response_class = TemplateResponse\n+    content_type = None\n \n     def render_to_response(self, context, **response_kwargs):\n         \"\"\"\n@@ -122,6 +123,7 @@ def render_to_response(self, context, **response_kwargs):\n         If any keyword arguments are provided, they will be\n         passed to the constructor of the response class.\n         \"\"\"\n+        response_kwargs.setdefault('content_type', self.content_type)\n         return self.response_class(\n             request = self.request,\n             template = self.get_template_names(),"
        },
        {
            "sha": "b98a35634e8b5c39d03182eb8c90f17e711baf80",
            "filename": "docs/ref/class-based-views/flattened-index.txt",
            "status": "modified",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/23e319d7298c8b778181e85dd9b6cbed095f8147/docs%2Fref%2Fclass-based-views%2Fflattened-index.txt",
            "raw_url": "https://github.com/django/django/raw/23e319d7298c8b778181e85dd9b6cbed095f8147/docs%2Fref%2Fclass-based-views%2Fflattened-index.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fflattened-index.txt?ref=23e319d7298c8b778181e85dd9b6cbed095f8147",
            "patch": "@@ -32,6 +32,7 @@ TemplateView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.base.View.http_method_names`\n * :attr:`~django.views.generic.base.TemplateResponseMixin.response_class`\n * :attr:`~django.views.generic.base.TemplateResponseMixin.template_name` [:meth:`~django.views.generic.base.TemplateResponseMixin.get_template_names`]\n@@ -79,6 +80,7 @@ DetailView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.context_object_name` [:meth:`~django.views.generic.detail.SingleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.model`\n@@ -112,6 +114,7 @@ ListView\n **Attributes** (with optional accessor):\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.model`\n@@ -144,6 +147,7 @@ FormView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.edit.FormMixin.form_class` [:meth:`~django.views.generic.edit.FormMixin.get_form_class`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n * :attr:`~django.views.generic.edit.FormMixin.initial` [:meth:`~django.views.generic.edit.FormMixin.get_initial`]\n@@ -173,6 +177,7 @@ CreateView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.context_object_name` [:meth:`~django.views.generic.detail.SingleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.edit.FormMixin.form_class` [:meth:`~django.views.generic.edit.FormMixin.get_form_class`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -211,6 +216,7 @@ UpdateView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.context_object_name` [:meth:`~django.views.generic.detail.SingleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.edit.FormMixin.form_class` [:meth:`~django.views.generic.edit.FormMixin.get_form_class`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -249,6 +255,7 @@ DeleteView\n \n **Attributes** (with optional accessor):\n \n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.context_object_name` [:meth:`~django.views.generic.detail.SingleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.model`\n@@ -286,6 +293,7 @@ ArchiveIndexView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -321,6 +329,7 @@ YearArchiveView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -359,6 +368,7 @@ MonthArchiveView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -400,6 +410,7 @@ WeekArchiveView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.base.View.http_method_names`\n@@ -439,6 +450,7 @@ DayArchiveView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.dates.DayMixin.day` [:meth:`~django.views.generic.dates.DayMixin.get_day`]\n@@ -484,6 +496,7 @@ TodayArchiveView\n \n * :attr:`~django.views.generic.list.MultipleObjectMixin.allow_empty` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_allow_empty`]\n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.list.MultipleObjectMixin.context_object_name` [:meth:`~django.views.generic.list.MultipleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.dates.DayMixin.day` [:meth:`~django.views.generic.dates.DayMixin.get_day`]\n@@ -528,6 +541,7 @@ DateDetailView\n **Attributes** (with optional accessor):\n \n * :attr:`~django.views.generic.dates.DateMixin.allow_future` [:meth:`~django.views.generic.dates.DateMixin.get_allow_future`]\n+* :attr:`~django.views.generic.base.TemplateResponseMixin.content_type`\n * :attr:`~django.views.generic.detail.SingleObjectMixin.context_object_name` [:meth:`~django.views.generic.detail.SingleObjectMixin.get_context_object_name`]\n * :attr:`~django.views.generic.dates.DateMixin.date_field` [:meth:`~django.views.generic.dates.DateMixin.get_date_field`]\n * :attr:`~django.views.generic.dates.DayMixin.day` [:meth:`~django.views.generic.dates.DayMixin.get_day`]"
        },
        {
            "sha": "f1ec0482d029e8cb862ee11beeed1716544a3fe3",
            "filename": "docs/ref/class-based-views/mixins-simple.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/23e319d7298c8b778181e85dd9b6cbed095f8147/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt",
            "raw_url": "https://github.com/django/django/raw/23e319d7298c8b778181e85dd9b6cbed095f8147/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-simple.txt?ref=23e319d7298c8b778181e85dd9b6cbed095f8147",
            "patch": "@@ -64,6 +64,15 @@ TemplateResponseMixin\n         instantiation, create a ``TemplateResponse`` subclass and assign it to\n         ``response_class``.\n \n+    .. attribute:: content_type\n+\n+        .. versionadded:: 1.6\n+            The ``content_type`` attribute was added.\n+\n+        The content type to use for the response. ``content_type`` is passed\n+        as a keyword argument to ``response_class``. Default is ``None`` --\n+        meaning that Django uses :setting:`DEFAULT_CONTENT_TYPE`.\n+\n     **Methods**\n \n     .. method:: render_to_response(context, **response_kwargs)"
        },
        {
            "sha": "fd2abb0aa7ad9b11470e2ce09b6a3726c48a7f56",
            "filename": "tests/regressiontests/generic_views/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/23e319d7298c8b778181e85dd9b6cbed095f8147/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/23e319d7298c8b778181e85dd9b6cbed095f8147/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py?ref=23e319d7298c8b778181e85dd9b6cbed095f8147",
            "patch": "@@ -312,6 +312,11 @@ def test_cached_views(self):\n \n         self.assertNotEqual(response.content, response2.content)\n \n+    def test_content_type(self):\n+        response = self.client.get('/template/content_type/')\n+        self.assertEqual(response['Content-Type'], 'text/plain')\n+\n+\n class RedirectViewTest(unittest.TestCase):\n     rf = RequestFactory()\n "
        },
        {
            "sha": "57309053d32ea441d2fdb275f71429696df5b293",
            "filename": "tests/regressiontests/generic_views/urls.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/23e319d7298c8b778181e85dd9b6cbed095f8147/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/23e319d7298c8b778181e85dd9b6cbed095f8147/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Furls.py?ref=23e319d7298c8b778181e85dd9b6cbed095f8147",
            "patch": "@@ -20,6 +20,8 @@\n         TemplateView.as_view(template_name='generic_views/about.html')),\n     (r'^template/custom/(?P<foo>\\w+)/$',\n         views.CustomTemplateView.as_view(template_name='generic_views/about.html')),\n+    (r'^template/content_type/$',\n+        TemplateView.as_view(template_name='generic_views/robots.txt', content_type='text/plain')),\n \n     (r'^template/cached/(?P<foo>\\w+)/$',\n         cache_page(2.0)(TemplateView.as_view(template_name='generic_views/about.html'))),"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 32,
        "deletions": 0
    }
}