{
    "author": "jezdez",
    "message": "Fixed #5672 -- Allow the separator in the get_text_list utility function to be translated. Thanks, Claude.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14876 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "462d3115a32ca2f2dfb28231495bc9a42e828e47",
    "files": [
        {
            "sha": "9234d63ce35f2e4c8bfd0af09ee0c43d1a5708d3",
            "filename": "django/conf/locale/ar/LC_MESSAGES/django.mo",
            "status": "modified",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.mo",
            "raw_url": "https://github.com/django/django/raw/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.mo",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.mo?ref=462d3115a32ca2f2dfb28231495bc9a42e828e47"
        },
        {
            "sha": "2095a358739830a6b2fc74e89d0174a06a0bd3cc",
            "filename": "django/conf/locale/ar/LC_MESSAGES/django.po",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.po",
            "raw_url": "https://github.com/django/django/raw/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.po",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Far%2FLC_MESSAGES%2Fdjango.po?ref=462d3115a32ca2f2dfb28231495bc9a42e828e47",
            "patch": "@@ -5022,6 +5022,11 @@ msgstr \"ديسمبر\"\n msgid \"or\"\n msgstr \"أو\"\n \n+#. Translators: This string is used as a separator between list elements\n+#: utils/text.py:153\n+msgid \", \"\n+msgstr \"، \"\n+\n #: utils/timesince.py:21\n msgid \"year\"\n msgid_plural \"years\""
        },
        {
            "sha": "00c999c5d556d98b86108364d44da0b77fc48e50",
            "filename": "django/utils/text.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Futils%2Ftext.py",
            "raw_url": "https://github.com/django/django/raw/462d3115a32ca2f2dfb28231495bc9a42e828e47/django%2Futils%2Ftext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftext.py?ref=462d3115a32ca2f2dfb28231495bc9a42e828e47",
            "patch": "@@ -1,7 +1,7 @@\n import re\n from django.utils.encoding import force_unicode\n from django.utils.functional import allow_lazy\n-from django.utils.translation import ugettext_lazy\n+from django.utils.translation import ugettext_lazy, ugettext as _\n from htmlentitydefs import name2codepoint\n \n # Capitalizes the first letter of a string.\n@@ -148,7 +148,10 @@ def get_text_list(list_, last_word=ugettext_lazy(u'or')):\n     \"\"\"\n     if len(list_) == 0: return u''\n     if len(list_) == 1: return force_unicode(list_[0])\n-    return u'%s %s %s' % (', '.join([force_unicode(i) for i in list_][:-1]), force_unicode(last_word), force_unicode(list_[-1]))\n+    return u'%s %s %s' % (\n+        # Translators: This string is used as a separator between list elements\n+        _(', ').join([force_unicode(i) for i in list_][:-1]),\n+        force_unicode(last_word), force_unicode(list_[-1]))\n get_text_list = allow_lazy(get_text_list, unicode)\n \n def normalize_newlines(text):"
        },
        {
            "sha": "3036f8ec2eabf052827e429794d42ef33d3c93e7",
            "filename": "tests/regressiontests/text/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/462d3115a32ca2f2dfb28231495bc9a42e828e47/tests%2Fregressiontests%2Ftext%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/462d3115a32ca2f2dfb28231495bc9a42e828e47/tests%2Fregressiontests%2Ftext%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftext%2Ftests.py?ref=462d3115a32ca2f2dfb28231495bc9a42e828e47",
            "patch": "@@ -4,12 +4,23 @@\n from django.utils.text import *\n from django.utils.http import urlquote, urlquote_plus, cookie_date, http_date\n from django.utils.encoding import iri_to_uri\n+from django.utils.translation import activate, deactivate\n \n class TextTests(TestCase):\n     \"\"\"\n     Tests for stuff in django.utils.text and other text munging util functions.\n     \"\"\"\n \n+    def test_get_text_list(self):\n+        self.assertEqual(get_text_list(['a', 'b', 'c', 'd']), u'a, b, c or d')\n+        self.assertEqual(get_text_list(['a', 'b', 'c'], 'and'), u'a, b and c')\n+        self.assertEqual(get_text_list(['a', 'b'], 'and'), u'a and b')\n+        self.assertEqual(get_text_list(['a']), u'a')\n+        self.assertEqual(get_text_list([]), u'')\n+        activate('ar')\n+        self.assertEqual(get_text_list(['a', 'b', 'c']), u\"a، b أو c\")\n+        deactivate()\n+\n     def test_smart_split(self):\n \n         self.assertEquals(list(smart_split(r'''This is \"a person\" test.''')),"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 21,
        "deletions": 2
    }
}