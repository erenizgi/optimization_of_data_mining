{
    "author": "ramiro",
    "message": "Fixed stability of data input/output L10N format modules priority order. Thanks tonnzor for the report and fix.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15402 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "987fd511769a3e1342fe8678a0b183f2831adb60",
    "files": [
        {
            "sha": "3c43f52f2f1e7cb4157a4a520521b2594d530bcf",
            "filename": "django/utils/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/987fd511769a3e1342fe8678a0b183f2831adb60/django%2Futils%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/987fd511769a3e1342fe8678a0b183f2831adb60/django%2Futils%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fformats.py?ref=987fd511769a3e1342fe8678a0b183f2831adb60",
            "patch": "@@ -36,12 +36,12 @@ def iter_format_modules(lang):\n \n def get_format_modules(reverse=False):\n     \"\"\"\n-    Returns an iterator over the format modules found\n+    Returns a list of the format modules found\n     \"\"\"\n     lang = get_language()\n     modules = _format_modules_cache.setdefault(lang, list(iter_format_modules(lang)))\n     if reverse:\n-        modules.reverse()\n+        return list(reversed(modules))\n     return modules\n \n def get_format(format_type, lang=None, use_l10n=None):"
        },
        {
            "sha": "d023462311ed3f8a142e05575558601a0efca0ed",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 1,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/987fd511769a3e1342fe8678a0b183f2831adb60/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/987fd511769a3e1342fe8678a0b183f2831adb60/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=987fd511769a3e1342fe8678a0b183f2831adb60",
            "patch": "@@ -9,7 +9,7 @@\n from django.conf import settings\n from django.template import Template, Context\n from django.utils.formats import (get_format, date_format, time_format,\n-    localize, localize_input, iter_format_modules)\n+    localize, localize_input, iter_format_modules, get_format_modules)\n from django.utils.importlib import import_module\n from django.utils.numberformat import format as nformat\n from django.utils.safestring import mark_safe, SafeString, SafeUnicode\n@@ -495,6 +495,19 @@ def test_iter_format_modules_stability(self):\n         finally:\n             settings.USE_L10N = old_l10n\n \n+    def test_get_format_modules_stability(self):\n+        activate('de')\n+        old_format_module_path = settings.FORMAT_MODULE_PATH\n+        settings.FORMAT_MODULE_PATH = 'regressiontests.i18n.other.locale'\n+        try:\n+            settings.USE_L10N = True\n+            old = \"%r\" % get_format_modules(reverse=True)\n+            new = \"%r\" % get_format_modules(reverse=True) # second try\n+            self.assertEqual(new, old, 'Value returned by get_formats_modules() must be preserved between calls.')\n+        finally:\n+            settings.FORMAT_MODULE_PATH = old_format_module_path\n+            deactivate()\n+\n     def test_localize_templatetag_and_filter(self):\n         \"\"\"\n         Tests the {% localize %} templatetag"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 16,
        "deletions": 3
    }
}