{
    "author": "claudep",
    "message": "Fixed #18002 -- Fixed typo in attribute name in ReverseSingleRelatedObjectDescriptor.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17904 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "2cd516002d43cdc09741618f0a0db047ee6d78fd",
    "files": [
        {
            "sha": "a16f9553c68f227091aef720a842ecebc1b1d961",
            "filename": "django/db/models/fields/related.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/2cd516002d43cdc09741618f0a0db047ee6d78fd/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "raw_url": "https://github.com/django/django/raw/2cd516002d43cdc09741618f0a0db047ee6d78fd/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2Frelated.py?ref=2cd516002d43cdc09741618f0a0db047ee6d78fd",
            "patch": "@@ -364,7 +364,7 @@ def __get__(self, instance, instance_type=None):\n \n     def __set__(self, instance, value):\n         if instance is None:\n-            raise AttributeError(\"%s must be accessed via instance\" % self._field.name)\n+            raise AttributeError(\"%s must be accessed via instance\" % self.field.name)\n \n         # If null=True, we can assign null here, but otherwise the value needs\n         # to be an instance of the related class."
        },
        {
            "sha": "481a03713948edaec23e721ff66f06c6832fc145",
            "filename": "tests/regressiontests/many_to_one_regress/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/2cd516002d43cdc09741618f0a0db047ee6d78fd/tests%2Fregressiontests%2Fmany_to_one_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2cd516002d43cdc09741618f0a0db047ee6d78fd/tests%2Fregressiontests%2Fmany_to_one_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmany_to_one_regress%2Ftests.py?ref=2cd516002d43cdc09741618f0a0db047ee6d78fd",
            "patch": "@@ -58,6 +58,10 @@ def test_fk_assignment_and_related_object_cache(self):\n         self.assertRaises(ValueError, Child, name='xyzzy', parent=None)\n         self.assertRaises(ValueError, Child.objects.create, name='xyzzy', parent=None)\n \n+        # Trying to assign to unbound attribute raises AttributeError\n+        self.assertRaisesRegexp(AttributeError, \"must be accessed via instance\",\n+            Child.parent.__set__, None, p)\n+\n         # Creation using keyword argument should cache the related object.\n         p = Parent.objects.get(name=\"Parent\")\n         c = Child(parent=p)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}