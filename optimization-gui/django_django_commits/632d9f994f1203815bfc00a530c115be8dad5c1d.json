{
    "author": "jezdez",
    "message": "Fixed #15237 -- Always set charset of Atom1 feeds to UTF-8. Thanks, Simon and jasonkotenko.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15505 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "632d9f994f1203815bfc00a530c115be8dad5c1d",
    "files": [
        {
            "sha": "dbb9eee4abac139f594d99828b9f2987e46c0dea",
            "filename": "django/contrib/syndication/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/632d9f994f1203815bfc00a530c115be8dad5c1d/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/632d9f994f1203815bfc00a530c115be8dad5c1d/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Fviews.py?ref=632d9f994f1203815bfc00a530c115be8dad5c1d",
            "patch": "@@ -1,9 +1,8 @@\n-import datetime\n from django.conf import settings\n from django.contrib.sites.models import get_current_site\n from django.core.exceptions import ImproperlyConfigured, ObjectDoesNotExist\n from django.http import HttpResponse, Http404\n-from django.template import loader, Template, TemplateDoesNotExist, RequestContext\n+from django.template import loader, TemplateDoesNotExist, RequestContext\n from django.utils import feedgenerator, tzinfo\n from django.utils.encoding import force_unicode, iri_to_uri, smart_unicode\n from django.utils.html import escape"
        },
        {
            "sha": "a49e16be5cfa5212d6d1e5e6024225a02cb9e097",
            "filename": "django/utils/feedgenerator.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/632d9f994f1203815bfc00a530c115be8dad5c1d/django%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/632d9f994f1203815bfc00a530c115be8dad5c1d/django%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffeedgenerator.py?ref=632d9f994f1203815bfc00a530c115be8dad5c1d",
            "patch": "@@ -291,7 +291,7 @@ def add_item_elements(self, handler, item):\n \n class Atom1Feed(SyndicationFeed):\n     # Spec: http://atompub.org/2005/07/11/draft-ietf-atompub-format-10.html\n-    mime_type = 'application/atom+xml'\n+    mime_type = 'application/atom+xml; charset=utf8'\n     ns = u\"http://www.w3.org/2005/Atom\"\n \n     def write(self, outfile, encoding):"
        },
        {
            "sha": "26c60ea420abee4f549bce8f0b5fffe7a2f5c8ec",
            "filename": "tests/regressiontests/utils/feedgenerator.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/632d9f994f1203815bfc00a530c115be8dad5c1d/tests%2Fregressiontests%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/632d9f994f1203815bfc00a530c115be8dad5c1d/tests%2Fregressiontests%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Ffeedgenerator.py?ref=632d9f994f1203815bfc00a530c115be8dad5c1d",
            "patch": "@@ -60,3 +60,12 @@ def test_rfc3339_date_with_timezone(self):\n             \"2008-11-14T13:37:00+02:00\"\n         )\n \n+    def test_atom1_mime_type(self):\n+        \"\"\"\n+        Test to make sure Atom MIME type has UTF8 Charset parameter set\n+        \"\"\"\n+        atom_feed = feedgenerator.Atom1Feed(\"title\", \"link\", \"description\")\n+        self.assertEqual(\n+            atom_feed.mime_type, \"application/atom+xml; charset=utf8\"\n+        )\n+"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 11,
        "deletions": 3
    }
}