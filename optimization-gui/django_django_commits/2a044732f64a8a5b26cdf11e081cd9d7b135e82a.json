{
    "author": "aaugustin",
    "message": "Fixed #16971 - Made the parsing of javascript files by 'makemessages' much faster. Thanks Antti Haapala for the implementation and Ned Batchelder for the patch.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16924 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "2a044732f64a8a5b26cdf11e081cd9d7b135e82a",
    "files": [
        {
            "sha": "8b0f51a75f16e7417f113b16cd067b577c5b6de0",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/2a044732f64a8a5b26cdf11e081cd9d7b135e82a/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/2a044732f64a8a5b26cdf11e081cd9d7b135e82a/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=2a044732f64a8a5b26cdf11e081cd9d7b135e82a",
            "patch": "@@ -222,6 +222,7 @@ answer newbie questions, and generally made Django that much better:\n     Janos Guljas\n     Thomas GÃ¼ttler <hv@tbz-pariv.de>\n     Horst Gutmann <zerok@zerokspot.com>\n+    Antti Haapala <antti@industrialwebandmagic.com>\n     Scot Hacker <shacker@birdhouse.org>\n     dAniel hAhler\n     hambaloney"
        },
        {
            "sha": "c46564700153f17e4fe8ef74d4b7b1b0ddc73964",
            "filename": "django/utils/jslex.py",
            "status": "modified",
            "additions": 18,
            "deletions": 12,
            "changes": 30,
            "blob_url": "https://github.com/django/django/blob/2a044732f64a8a5b26cdf11e081cd9d7b135e82a/django%2Futils%2Fjslex.py",
            "raw_url": "https://github.com/django/django/raw/2a044732f64a8a5b26cdf11e081cd9d7b135e82a/django%2Futils%2Fjslex.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fjslex.py?ref=2a044732f64a8a5b26cdf11e081cd9d7b135e82a",
            "patch": "@@ -51,19 +51,25 @@ def lex(self, text):\n \n         Yields pairs (`name`, `tokentext`).\n         \"\"\"\n-        while text:\n-            eaten = 0\n-            for match in self.regexes[self.state].finditer(text):\n-                for name, toktext in match.groupdict().iteritems():\n-                    if toktext is not None:\n-                        tok = self.toks[name]\n-                        new_state = tok.next\n-                        eaten += len(toktext)\n-                        yield (tok.name, toktext)\n-                if new_state:\n-                    self.state = new_state\n+        end = len(text)\n+        state = self.state\n+        regexes = self.regexes\n+        toks = self.toks\n+        start = 0\n+\n+        while start < end:\n+            for match in regexes[state].finditer(text, start):\n+                name = match.lastgroup\n+                tok = toks[name]\n+                toktext = match.group(name)\n+                start += len(toktext)\n+                yield (tok.name, toktext)\n+\n+                if tok.next:\n+                    state = tok.next\n                     break\n-            text = text[eaten:]\n+\n+        self.state = state\n \n \n class JsLexer(Lexer):"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 19,
        "deletions": 12
    }
}