{
    "author": "claudep",
    "message": "Fixed #18029 -- Removed mod_python as of deprecation process. Thanks Aymeric Augustin for the review.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17835 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "a1ffb021072026ad58546609cd2c34f737fd26cc",
    "files": [
        {
            "sha": "d8095d4e517a62e07f2e86a4ecb6856bfa539b29",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -14,19 +14,15 @@\n \n See docs/topics/cache.txt for information on the public API.\n \"\"\"\n+from urlparse import parse_qsl\n+\n from django.conf import settings\n from django.core import signals\n from django.core.cache.backends.base import (\n     InvalidCacheBackendError, CacheKeyWarning, BaseCache)\n from django.core.exceptions import ImproperlyConfigured\n from django.utils import importlib\n \n-try:\n-    # The mod_python version is more efficient, so try importing it first.\n-    from mod_python.util import parse_qsl\n-except ImportError:\n-    from urlparse import parse_qsl\n-\n __all__ = [\n     'get_cache', 'cache', 'DEFAULT_CACHE_ALIAS'\n ]"
        },
        {
            "sha": "2f3392f449c8f5e7573833d0054a971c9611248b",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -9,16 +9,11 @@\n \n from pprint import pformat\n from urllib import urlencode, quote\n-from urlparse import urljoin\n+from urlparse import urljoin, parse_qsl\n try:\n     from cStringIO import StringIO\n except ImportError:\n     from StringIO import StringIO\n-try:\n-    # The mod_python version is more efficient, so try importing it first.\n-    from mod_python.util import parse_qsl\n-except ImportError:\n-    from urlparse import parse_qsl\n \n import Cookie\n # Some versions of Python 2.7 and later won't need this encoding bug fix:\n@@ -348,7 +343,7 @@ def _load_post_and_files(self):\n     ## File-like and iterator interface.\n     ##\n     ## Expects self._stream to be set to an appropriate source of bytes by\n-    ## a corresponding request subclass (WSGIRequest or ModPythonRequest).\n+    ## a corresponding request subclass (e.g. WSGIRequest).\n     ## Also when request data has already been read by request.POST or\n     ## request.body, self._stream points to a StringIO instance\n     ## containing that data."
        },
        {
            "sha": "151454398dfaf51bde5f5d9027e6210aae49fc03",
            "filename": "docs/faq/usage.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Ffaq%2Fusage.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Ffaq%2Fusage.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ffaq%2Fusage.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -13,15 +13,6 @@ Make sure that:\n \n * The module doesn't contain syntax errors (of course).\n \n-* If you're using mod_python but *not* using Django's request handler,\n-  you'll need to work around a mod_python bug related to the use of\n-  ``SetEnv``; before you import anything from Django you'll need to do\n-  the following::\n-\n-        os.environ.update(req.subprocess_env)\n-\n-  (where ``req`` is the mod_python request object).\n-\n I can't stand your template language. Do I have to use it?\n ----------------------------------------------------------\n "
        },
        {
            "sha": "719fbc176949ed4bf6e9017b34e1cb44c64ae8d6",
            "filename": "docs/howto/apache-auth.txt",
            "status": "modified",
            "additions": 14,
            "deletions": 96,
            "changes": 110,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fapache-auth.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fapache-auth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fapache-auth.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -2,17 +2,10 @@\n Authenticating against Django's user database from Apache\n =========================================================\n \n-.. warning::\n-\n-    Support for mod_python has been deprecated within Django. At that\n-    time, this method of authentication will no longer be provided by\n-    Django. The community is welcome to offer its own alternate\n-    solutions using WSGI middleware or other approaches.\n-\n Since keeping multiple authentication databases in sync is a common problem when\n dealing with Apache, you can configuring Apache to authenticate against Django's\n-:doc:`authentication system </topics/auth>` directly. For example, you\n-could:\n+:doc:`authentication system </topics/auth>` directly. This requires Apache\n+version >= 2.2 and mod_wsgi >= 2.0. For example, you could:\n \n * Serve static/media files directly from Apache only to authenticated users.\n \n@@ -22,106 +15,31 @@ could:\n * Allow certain users to connect to a WebDAV share created with mod_dav_.\n \n .. _Subversion: http://subversion.tigris.org/\n-.. _mod_dav: http://httpd.apache.org/docs/2.0/mod/mod_dav.html\n+.. _mod_dav: http://httpd.apache.org/docs/2.2/mod/mod_dav.html\n \n Configuring Apache\n ==================\n \n To check against Django's authorization database from a Apache configuration\n-file, you'll need to use mod_python's ``PythonAuthenHandler`` directive along\n-with the standard ``Auth*`` and ``Require`` directives:\n+file, you'll need to set 'wsgi' as the value of ``AuthBasicProvider`` or\n+``AuthDigestProvider`` directive and then use the ``WSGIAuthUserScript``\n+directive to set the path to your authentification script:\n \n .. code-block:: apache\n \n     <Location /example/>\n         AuthType Basic\n         AuthName \"example.com\"\n+        AuthBasicProvider wsgi\n+        WSGIAuthUserScript /usr/local/wsgi/scripts/auth.wsgi\n         Require valid-user\n-\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-        PythonAuthenHandler django.contrib.auth.handlers.modpython\n     </Location>\n \n-.. admonition:: Using the authentication handler with Apache 2.2\n-\n-    If you're using Apache 2.2, you'll need to take a couple extra steps.\n-\n-    You'll need to ensure that ``mod_auth_basic`` and ``mod_authz_user``\n-    are loaded. These might be compiled statically into Apache, or you might\n-    need to use ``LoadModule`` to load them dynamically (as shown in the\n-    example at the bottom of this note).\n-\n-    You'll also need to insert configuration directives that prevent Apache\n-    from trying to use other authentication modules, as well as specifying\n-    the ``AuthUserFile`` directive and pointing it to ``/dev/null``. Depending\n-    on which other authentication modules you have loaded, you might need one\n-    or more of the following directives:\n-\n-    .. code-block:: apache\n-\n-        AuthBasicAuthoritative Off\n-        AuthDefaultAuthoritative Off\n-        AuthzLDAPAuthoritative Off\n-        AuthzDBMAuthoritative Off\n-        AuthzDefaultAuthoritative Off\n-        AuthzGroupFileAuthoritative Off\n-        AuthzOwnerAuthoritative Off\n-        AuthzUserAuthoritative Off\n-\n-    A complete configuration, with differences between Apache 2.0 and\n-    Apache 2.2 marked in bold, would look something like:\n-\n-    .. parsed-literal::\n-\n-        **LoadModule auth_basic_module modules/mod_auth_basic.so**\n-        **LoadModule authz_user_module modules/mod_authz_user.so**\n-\n-        ...\n-\n-        <Location /example/>\n-            AuthType Basic\n-            AuthName \"example.com\"\n-            **AuthUserFile /dev/null**\n-            **AuthBasicAuthoritative Off**\n-            Require valid-user\n-\n-            SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-            PythonAuthenHandler django.contrib.auth.handlers.modpython\n-        </Location>\n-\n-By default, the authentication handler will limit access to the ``/example/``\n-location to users marked as staff members.  You can use a set of\n-``PythonOption`` directives to modify this behavior:\n-\n-================================  =========================================\n-``PythonOption``                  Explanation\n-================================  =========================================\n-``DjangoRequireStaffStatus``      If set to ``on`` only \"staff\" users (i.e.\n-                                  those with the ``is_staff`` flag set)\n-                                  will be allowed.\n-\n-                                  Defaults to ``on``.\n-\n-``DjangoRequireSuperuserStatus``  If set to ``on`` only superusers (i.e.\n-                                  those with the ``is_superuser`` flag set)\n-                                  will be allowed.\n-\n-                                  Defaults to ``off``.\n-\n-``DjangoPermissionName``          The name of a permission to require for\n-                                  access. See :ref:`custom permissions\n-                                  <custom-permissions>` for more\n-                                  information.\n-\n-                                  By default no specific permission will be\n-                                  required.\n-================================  =========================================\n+Your auth.wsgi script will have to implement either a\n+``check_password(environ, user, password)`` function (for ``AuthBasicProvider``)\n+or a ``get_realm_hash(environ, user, realm)`` function (for ``AuthDigestProvider``).\n \n-Note that sometimes ``SetEnv`` doesn't play well in this mod_python\n-configuration, for reasons unknown. If you're having problems getting\n-mod_python to recognize your ``DJANGO_SETTINGS_MODULE``, you can set it using\n-``PythonOption`` instead of ``SetEnv``. Therefore, these two Apache directives\n-are equivalent::\n+See the `mod_wsgi documentation`_ for more details about the implementation\n+of such a solution.\n \n-    SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-    PythonOption DJANGO_SETTINGS_MODULE mysite.settings\n+.. _mod_wsgi documentation: http://code.google.com/p/modwsgi/wiki/AccessControlMechanisms#Apache_Authentication_Provider"
        },
        {
            "sha": "8e27a031d5eedb3fd1ec19e52bfcb1bf479b763d",
            "filename": "docs/howto/deployment/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fdeployment%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fdeployment%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fdeployment%2Findex.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -11,7 +11,6 @@ ways to easily deploy Django:\n \n    wsgi/index\n    fastcgi\n-   mod_python (deprecated) <modpython>\n \n If you're new to deploying Django and/or Python, we'd recommend you try\n :doc:`mod_wsgi </howto/deployment/wsgi/modwsgi>` first. In most cases it'll be\n@@ -22,6 +21,6 @@ the easiest, fastest, and most stable deployment choice.\n     * `Chapter 12 of the Django Book (second edition)`_ discusses deployment\n       and especially scaling in more detail. However, note that this edition\n       was written against Django version 1.1 and has not been updated since\n-      :doc:`mod_python </howto/deployment/modpython>` was deprecated.\n+      `mod_python` was first deprecated, then completely removed in Django 1.5.\n \n .. _chapter 12 of the django book (second edition): http://djangobook.com/en/2.0/chapter12/"
        },
        {
            "sha": "8398f12eb795dc66c3a0e05e80c7235e264d5fae",
            "filename": "docs/howto/deployment/wsgi/modwsgi.txt",
            "status": "modified",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fdeployment%2Fwsgi%2Fmodwsgi.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fhowto%2Fdeployment%2Fwsgi%2Fmodwsgi.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fdeployment%2Fwsgi%2Fmodwsgi.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -176,3 +176,24 @@ other approaches:\n \n 3. Copy the admin static files so that they live within your Apache\n    document root.\n+\n+If you get a UnicodeEncodeError\n+===============================\n+\n+If you're taking advantage of the internationalization features of Django (see\n+:doc:`/topics/i18n/index`) and you intend to allow users to upload files, you must\n+ensure that the environment used to start Apache is configured to accept\n+non-ASCII file names. If your environment is not correctly configured, you\n+will trigger ``UnicodeEncodeError`` exceptions when calling functions like\n+``os.path()`` on filenames that contain non-ASCII characters.\n+\n+To avoid these problems, the environment used to start Apache should contain\n+settings analogous to the following::\n+\n+    export LANG='en_US.UTF-8'\n+    export LC_ALL='en_US.UTF-8'\n+\n+Consult the documentation for your operating system for the appropriate syntax\n+and location to put these configuration items; ``/etc/apache2/envvars`` is a\n+common location on Unix platforms. Once you have added these statements\n+to your environment, restart Apache."
        },
        {
            "sha": "66c8e73a0c3bb1feb8e649fadfff27749e82fecb",
            "filename": "docs/index.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Findex.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -156,7 +156,6 @@ The development process\n   :doc:`Overview <howto/deployment/index>` |\n   :doc:`WSGI servers <howto/deployment/wsgi/index>` |\n   :doc:`FastCGI/SCGI/AJP <howto/deployment/fastcgi>` |\n-  :doc:`Apache/mod_python (deprecated) <howto/deployment/modpython>` |\n   :doc:`Apache authentication <howto/apache-auth>` |\n   :doc:`Handling static files <howto/static-files>` |\n   :doc:`Tracking code errors by email <howto/error-reporting>`"
        },
        {
            "sha": "d98fc51837ad7128663841da4c347bce96989c69",
            "filename": "docs/ref/contrib/gis/deployment.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 41,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fref%2Fcontrib%2Fgis%2Fdeployment.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fref%2Fcontrib%2Fgis%2Fdeployment.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Fdeployment.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -13,11 +13,9 @@ Deploying GeoDjango\n Apache\n ======\n In this section there are some example ``VirtualHost`` directives for\n-when deploying using either ``mod_python`` or ``mod_wsgi``.  At this\n-time, we recommend ``mod_wsgi``, as it is now officially recommended\n-way to deploy Django applications with Apache.  Moreover, if\n-``mod_python`` is used, then a prefork version of Apache must also be\n-used.  As long as ``mod_wsgi`` is configured correctly, it does not\n+when deploying using ``mod_wsgi``, which is now officially the recommended\n+way to deploy Django applications with Apache.\n+As long as ``mod_wsgi`` is configured correctly, it does not\n matter whether the version of Apache is prefork or worker.\n \n .. note::\n@@ -56,42 +54,6 @@ Example::\n For more information, please consult Django's\n :doc:`mod_wsgi documentation </howto/deployment/wsgi/modwsgi>`.\n \n-``mod_python``\n---------------\n-\n-.. warning::\n-    Support for mod_python will be deprecated in a future release of Django. If\n-    you are configuring a new deployment, you are strongly encouraged to\n-    consider using :doc:`mod_wsgi </howto/deployment/wsgi/modwsgi>` or any of\n-    the other :doc:`supported servers </howto/deployment/index>`.\n-\n-Example::\n-\n-    <VirtualHost *:80>\n-\n-      <Location \"/\">\n-        SetHandler mod_python\n-        PythonHandler django.core.handlers.modpython\n-        SetEnv DJANGO_SETTINGS_MODULE world.settings\n-        PythonDebug On\n-        PythonPath \"['/var/www/apps'] + sys.path\"\n-      </Location>\n-\n-      Alias /media/ \"/usr/lib/python2.6/site-packages/django/contrib/admin/media/\"\n-      <Location \"/media\">\n-        SetHandler None\n-      </Location>\n-\n-    </VirtualHost>\n-\n-.. warning::\n-\n-   When using ``mod_python`` you *must* be using a prefork version of Apache, or\n-   else your GeoDjango application may crash Apache.\n-\n-For more information, please consult Django's\n-:doc:`mod_python documentation </howto/deployment/modpython>`.\n-\n Lighttpd\n ========\n "
        },
        {
            "sha": "ae736b1c75879b7becc93c8734a109a1d678bb6a",
            "filename": "docs/ref/request-response.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fref%2Frequest-response.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Fref%2Frequest-response.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Frequest-response.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -56,15 +56,13 @@ All attributes except ``session`` should be considered read-only.\n .. attribute:: HttpRequest.path_info\n \n     Under some Web server configurations, the portion of the URL after the host\n-    name is split up into a script prefix portion and a path info portion\n-    (this happens, for example, when using the ``django.root`` option\n-    with the :doc:`modpython handler from Apache </howto/deployment/modpython>`).\n+    name is split up into a script prefix portion and a path info portion.\n     The ``path_info`` attribute always contains the path info portion of the\n     path, no matter what Web server is being used. Using this instead of\n     attr:`~HttpRequest.path` can make your code much easier to move between test\n     and deployment servers.\n \n-    For example, if the ``django.root`` for your application is set to\n+    For example, if the ``WSGIScriptAlias`` for your application is set to\n     ``\"/minfo\"``, then ``path`` might be ``\"/minfo/music/bands/the_beatles/\"``\n     and ``path_info`` would be ``\"/music/bands/the_beatles/\"``.\n "
        },
        {
            "sha": "73c06ca2ae9de4235896a74eb94bd2ddad4f72b9",
            "filename": "docs/topics/http/urls.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Ftopics%2Fhttp%2Furls.txt",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/docs%2Ftopics%2Fhttp%2Furls.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fhttp%2Furls.txt?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -1020,6 +1020,4 @@ find the base URL of the Django project within its Web server\n (normally, :func:`~django.core.urlresolvers.reverse` takes care of this for\n you). In that case, you can call ``get_script_prefix()``, which will return the\n script prefix portion of the URL for your Django project. If your Django\n-project is at the root of its Web server, this is always ``\"/\"``, but it can be\n-changed, for instance  by using ``django.root`` (see :doc:`How to use\n-Django with Apache and mod_python </howto/deployment/modpython>`).\n+project is at the root of its Web server, this is always ``\"/\"``."
        },
        {
            "sha": "5c3cf59eafd738b5c31f38c22ab5390dcf8fdd7f",
            "filename": "tests/regressiontests/requests/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 36,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/a1ffb021072026ad58546609cd2c34f737fd26cc/tests%2Fregressiontests%2Frequests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/a1ffb021072026ad58546609cd2c34f737fd26cc/tests%2Fregressiontests%2Frequests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Frequests%2Ftests.py?ref=a1ffb021072026ad58546609cd2c34f737fd26cc",
            "patch": "@@ -4,7 +4,6 @@\n from StringIO import StringIO\n \n from django.conf import settings\n-from django.core.handlers.modpython import ModPythonRequest\n from django.core.handlers.wsgi import WSGIRequest, LimitedStream\n from django.http import HttpRequest, HttpResponse, parse_cookie, build_request_repr, UnreadablePostError\n from django.test.utils import get_warnings_state, restore_warnings_state\n@@ -54,41 +53,6 @@ def test_wsgirequest_repr(self):\n         self.assertEqual(build_request_repr(request, path_override='/otherpath/', GET_override={u'a': u'b'}, POST_override={u'c': u'd'}, COOKIES_override={u'e': u'f'}, META_override={u'g': u'h'}),\n                          u\"<WSGIRequest\\npath:/otherpath/,\\nGET:{u'a': u'b'},\\nPOST:{u'c': u'd'},\\nCOOKIES:{u'e': u'f'},\\nMETA:{u'g': u'h'}>\")\n \n-    def test_modpythonrequest(self):\n-        class FakeModPythonRequest(ModPythonRequest):\n-           def __init__(self, *args, **kwargs):\n-               super(FakeModPythonRequest, self).__init__(*args, **kwargs)\n-               self._get = self._post = self._meta = self._cookies = {}\n-\n-        class Dummy:\n-            def get_options(self):\n-                return {}\n-\n-        req = Dummy()\n-        req.uri = 'bogus'\n-        request = FakeModPythonRequest(req)\n-        self.assertEqual(request.path, 'bogus')\n-        self.assertEqual(request.GET.keys(), [])\n-        self.assertEqual(request.POST.keys(), [])\n-        self.assertEqual(request.COOKIES.keys(), [])\n-        self.assertEqual(request.META.keys(), [])\n-\n-    def test_modpythonrequest_repr(self):\n-        class Dummy:\n-            def get_options(self):\n-                return {}\n-        req = Dummy()\n-        req.uri = '/somepath/'\n-        request = ModPythonRequest(req)\n-        request._get = {u'get-key': u'get-value'}\n-        request._post = {u'post-key': u'post-value'}\n-        request._cookies = {u'post-key': u'post-value'}\n-        request._meta = {u'post-key': u'post-value'}\n-        self.assertEqual(repr(request), u\"<ModPythonRequest\\npath:/somepath/,\\nGET:{u'get-key': u'get-value'},\\nPOST:{u'post-key': u'post-value'},\\nCOOKIES:{u'post-key': u'post-value'},\\nMETA:{u'post-key': u'post-value'}>\")\n-        self.assertEqual(build_request_repr(request), repr(request))\n-        self.assertEqual(build_request_repr(request, path_override='/otherpath/', GET_override={u'a': u'b'}, POST_override={u'c': u'd'}, COOKIES_override={u'e': u'f'}, META_override={u'g': u'h'}),\n-                         u\"<ModPythonRequest\\npath:/otherpath/,\\nGET:{u'a': u'b'},\\nPOST:{u'c': u'd'},\\nCOOKIES:{u'e': u'f'},\\nMETA:{u'g': u'h'}>\")\n-\n     def test_parse_cookie(self):\n         self.assertEqual(parse_cookie('invalid:key=true'), {})\n "
        }
    ],
    "stats": {
        "total": 251,
        "additions": 46,
        "deletions": 205
    }
}