{
    "author": "aaugustin",
    "message": "[py3] Switched to Python 3-compatible introspection.",
    "sha": "f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09",
    "files": [
        {
            "sha": "3c84f1f60c7caae9afd059a8605bfb44f5be5b1d",
            "filename": "django/contrib/syndication/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Fviews.py?ref=f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09",
            "patch": "@@ -60,14 +60,14 @@ def __get_dynamic_attr(self, attname, obj, default=None):\n         except AttributeError:\n             return default\n         if callable(attr):\n-            # Check func_code.co_argcount rather than try/excepting the\n+            # Check __code__.co_argcount rather than try/excepting the\n             # function and catching the TypeError, because something inside\n             # the function may raise the TypeError. This technique is more\n             # accurate.\n-            if hasattr(attr, 'func_code'):\n-                argcount = attr.func_code.co_argcount\n+            if hasattr(attr, '__code__'):\n+                argcount = attr.__code__.co_argcount\n             else:\n-                argcount = attr.__call__.func_code.co_argcount\n+                argcount = attr.__call__.__code__.co_argcount\n             if argcount == 2: # one argument is 'self'\n                 return attr(obj)\n             else:"
        },
        {
            "sha": "b5d5da970b0506feb41c9eda651fb8e2dc7ebcdf",
            "filename": "django/test/_doctest.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09/django%2Ftest%2F_doctest.py",
            "raw_url": "https://github.com/django/django/raw/f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09/django%2Ftest%2F_doctest.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2F_doctest.py?ref=f1d5dc81ac37fe9a7c7ca860900ee6a16150bb09",
            "patch": "@@ -861,7 +861,7 @@ def _from_module(self, module, object):\n         if module is None:\n             return True\n         elif inspect.isfunction(object):\n-            return module.__dict__ is object.func_globals\n+            return module.__dict__ is object.__globals__\n         elif inspect.isclass(object):\n             return module.__name__ == object.__module__\n         elif inspect.getmodule(object) is not None:\n@@ -926,7 +926,7 @@ def _find(self, tests, obj, name, module, source_lines, globs, seen):\n                 if isinstance(val, staticmethod):\n                     val = getattr(obj, valname)\n                 if isinstance(val, classmethod):\n-                    val = getattr(obj, valname).im_func\n+                    val = getattr(obj, valname).__func__\n \n                 # Recurse to methods, properties, and nested classes.\n                 if ((inspect.isfunction(val) or inspect.isclass(val) or\n@@ -998,8 +998,8 @@ def _find_lineno(self, obj, source_lines):\n                     break\n \n         # Find the line number for functions & methods.\n-        if inspect.ismethod(obj): obj = obj.im_func\n-        if inspect.isfunction(obj): obj = obj.func_code\n+        if inspect.ismethod(obj): obj = obj.__func__\n+        if inspect.isfunction(obj): obj = obj.__code__\n         if inspect.istraceback(obj): obj = obj.tb_frame\n         if inspect.isframe(obj): obj = obj.f_code\n         if inspect.iscode(obj):"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}