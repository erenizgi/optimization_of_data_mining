{
    "author": "adrianholovaty",
    "message": "Converted some of the built-in views to use content_type instead of mimetype HttpResponse argument. Refs #16519\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17223 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "8767439af45d94025210ea13d0d4be465553b855",
    "files": [
        {
            "sha": "1ca6bbb6453a1fa3faa76d786070dee866482e98",
            "filename": "django/contrib/gis/shortcuts.py",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fgis%2Fshortcuts.py",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fgis%2Fshortcuts.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fshortcuts.py?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -20,18 +20,17 @@ def compress_kml(kml):\n def render_to_kml(*args, **kwargs):\n     \"Renders the response as KML (using the correct MIME type).\"\n     return HttpResponse(loader.render_to_string(*args, **kwargs),\n-                        mimetype='application/vnd.google-earth.kml+xml')\n+        content_type='application/vnd.google-earth.kml+xml')\n \n def render_to_kmz(*args, **kwargs):\n     \"\"\"\n     Compresses the KML content and returns as KMZ (using the correct \n     MIME type).\n     \"\"\"\n     return HttpResponse(compress_kml(loader.render_to_string(*args, **kwargs)),\n-                        mimetype='application/vnd.google-earth.kmz')\n-\n+        content_type='application/vnd.google-earth.kmz')\n \n def render_to_text(*args, **kwargs):\n     \"Renders the response using the MIME type for plain text.\"\n     return HttpResponse(loader.render_to_string(*args, **kwargs),\n-                        mimetype='text/plain')\n+        content_type='text/plain')"
        },
        {
            "sha": "eb2454c38958c9220495dd48e3226e293a55ff74",
            "filename": "django/contrib/gis/sitemaps/views.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -30,7 +30,7 @@ def index(request, sitemaps):\n             for page in range(2, pages+1):\n                 sites.append('%s://%s%s?p=%s' % (protocol, current_site.domain, sitemap_url, page))\n     xml = loader.render_to_string('sitemap_index.xml', {'sitemaps': sites})\n-    return HttpResponse(xml, mimetype='application/xml')\n+    return HttpResponse(xml, content_type='application/xml')\n \n def sitemap(request, sitemaps, section=None):\n     \"\"\"\n@@ -58,7 +58,7 @@ def sitemap(request, sitemaps, section=None):\n         except PageNotAnInteger:\n             raise Http404(\"No page '%s'\" % page)\n     xml = smart_str(loader.render_to_string('gis/sitemaps/geo_sitemap.xml', {'urlset': urls}))\n-    return HttpResponse(xml, mimetype='application/xml')\n+    return HttpResponse(xml, content_type='application/xml')\n \n def kml(request, label, model, field_name=None, compress=False, using=DEFAULT_DB_ALIAS):\n     \"\"\""
        },
        {
            "sha": "14af5f1e4c80a547f0ec4d2f11478c6f466fb1d2",
            "filename": "django/contrib/sitemaps/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 8,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fsitemaps%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fsitemaps%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2Fviews.py?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -1,12 +1,10 @@\n+from django.contrib.sites.models import get_current_site\n from django.core import urlresolvers\n from django.core.paginator import EmptyPage, PageNotAnInteger\n from django.http import Http404\n from django.template.response import TemplateResponse\n \n-from django.contrib.sites.models import get_current_site\n-\n-def index(request, sitemaps,\n-        template_name='sitemap_index.xml', mimetype='application/xml'):\n+def index(request, sitemaps, template_name='sitemap_index.xml', mimetype='application/xml'):\n     current_site = get_current_site(request)\n     sites = []\n     protocol = request.is_secure() and 'https' or 'http'\n@@ -21,10 +19,9 @@ def index(request, sitemaps,\n         if pages > 1:\n             for page in range(2, pages+1):\n                 sites.append('%s://%s%s?p=%s' % (protocol, current_site.domain, sitemap_url, page))\n-    return TemplateResponse(request, template_name, {'sitemaps': sites}, mimetype=mimetype)\n+    return TemplateResponse(request, template_name, {'sitemaps': sites}, content_type=mimetype)\n \n-def sitemap(request, sitemaps, section=None,\n-        template_name='sitemap.xml', mimetype='application/xml'):\n+def sitemap(request, sitemaps, section=None, template_name='sitemap.xml', mimetype='application/xml'):\n     maps, urls = [], []\n     if section is not None:\n         if section not in sitemaps:\n@@ -43,4 +40,4 @@ def sitemap(request, sitemaps, section=None,\n             raise Http404(\"Page %s empty\" % page)\n         except PageNotAnInteger:\n             raise Http404(\"No page '%s'\" % page)\n-    return TemplateResponse(request, template_name, {'urlset': urls}, mimetype=mimetype)\n\\ No newline at end of file\n+    return TemplateResponse(request, template_name, {'urlset': urls}, content_type=mimetype)"
        },
        {
            "sha": "462b3e94cf027a21f7e79f5a4823285f32c5a0c4",
            "filename": "django/contrib/syndication/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Fviews.py?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -36,7 +36,7 @@ def __call__(self, request, *args, **kwargs):\n         except ObjectDoesNotExist:\n             raise Http404('Feed object does not exist.')\n         feedgen = self.get_feed(obj, request)\n-        response = HttpResponse(mimetype=feedgen.mime_type)\n+        response = HttpResponse(content_type=feedgen.mime_type)\n         feedgen.write(response, 'utf-8')\n         return response\n "
        },
        {
            "sha": "f7b4b1c2b117c5602a218bc665c1c7a069da19a8",
            "filename": "django/views/generic/simple.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/django%2Fviews%2Fgeneric%2Fsimple.py",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/django%2Fviews%2Fgeneric%2Fsimple.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fsimple.py?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -25,7 +25,7 @@ def direct_to_template(request, template, extra_context=None, mimetype=None, **k\n             dictionary[key] = value\n     c = RequestContext(request, dictionary)\n     t = loader.get_template(template)\n-    return HttpResponse(t.render(c), mimetype=mimetype)\n+    return HttpResponse(t.render(c), content_type=mimetype)\n \n def redirect_to(request, url, permanent=True, query_string=False, **kwargs):\n     \"\"\""
        },
        {
            "sha": "4bbfac4b5504b09ec819796bce0b99eb78738097",
            "filename": "docs/ref/request-response.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/8767439af45d94025210ea13d0d4be465553b855/docs%2Fref%2Frequest-response.txt",
            "raw_url": "https://github.com/django/django/raw/8767439af45d94025210ea13d0d4be465553b855/docs%2Fref%2Frequest-response.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Frequest-response.txt?ref=8767439af45d94025210ea13d0d4be465553b855",
            "patch": "@@ -538,7 +538,7 @@ Typical usage is to pass the contents of the page, as a string, to the\n \n     >>> from django.http import HttpResponse\n     >>> response = HttpResponse(\"Here's the text of the Web page.\")\n-    >>> response = HttpResponse(\"Text only, please.\", mimetype=\"text/plain\")\n+    >>> response = HttpResponse(\"Text only, please.\", content_type=\"text/plain\")\n \n But if you want to add content incrementally, you can use ``response`` as a\n file-like object::\n@@ -577,10 +577,10 @@ Telling the browser to treat the response as a file attachment\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n To tell the browser to treat the response as a file attachment, use the\n-``mimetype`` argument and set the ``Content-Disposition`` header. For example,\n+``content_type`` argument and set the ``Content-Disposition`` header. For example,\n this is how you might return a Microsoft Excel spreadsheet::\n \n-    >>> response = HttpResponse(my_data, mimetype='application/vnd.ms-excel')\n+    >>> response = HttpResponse(my_data, content_type='application/vnd.ms-excel')\n     >>> response['Content-Disposition'] = 'attachment; filename=foo.xls'\n \n There's nothing Django-specific about the ``Content-Disposition`` header, but"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 15,
        "deletions": 19
    }
}