{
    "author": "jezdez",
    "message": "Merge branch 'master' of github.com:django/django",
    "sha": "b88480234679085432ce091bec17bc2bb19bf23f",
    "files": [
        {
            "sha": "7e5448b3d3e8758b346e4096560452c383a61d1f",
            "filename": "docs/ref/contrib/sites.txt",
            "status": "modified",
            "additions": 22,
            "deletions": 7,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/b88480234679085432ce091bec17bc2bb19bf23f/docs%2Fref%2Fcontrib%2Fsites.txt",
            "raw_url": "https://github.com/django/django/raw/b88480234679085432ce091bec17bc2bb19bf23f/docs%2Fref%2Fcontrib%2Fsites.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fsites.txt?ref=b88480234679085432ce091bec17bc2bb19bf23f",
            "patch": "@@ -127,8 +127,10 @@ For example::\n     def my_view(request):\n         if settings.SITE_ID == 3:\n             # Do something.\n+            pass\n         else:\n             # Do something else.\n+            pass\n \n Of course, it's ugly to hard-code the site IDs like that. This sort of\n hard-coding is best for hackish fixes that you need done quickly. The\n@@ -141,11 +143,13 @@ domain::\n         current_site = get_current_site(request)\n         if current_site.domain == 'foo.com':\n             # Do something\n+            pass\n         else:\n             # Do something else.\n+            pass\n \n-This has also the advantage of checking if the sites framework is installed, and\n-return a :class:`RequestSite` instance if it is not.\n+This has also the advantage of checking if the sites framework is installed,\n+and return a :class:`RequestSite` instance if it is not.\n \n If you don't have access to the request object, you can use the\n ``get_current()`` method of the :class:`~django.contrib.sites.models.Site`\n@@ -158,8 +162,10 @@ the :setting:`SITE_ID` setting. This example is equivalent to the previous one::\n         current_site = Site.objects.get_current()\n         if current_site.domain == 'foo.com':\n             # Do something\n+            pass\n         else:\n             # Do something else.\n+            pass\n \n Getting the current domain for display\n --------------------------------------\n@@ -200,8 +206,8 @@ subscribing to LJWorld.com alerts.\" Same goes for the email's message body.\n \n Note that an even more flexible (but more heavyweight) way of doing this would\n be to use Django's template system. Assuming Lawrence.com and LJWorld.com have\n-different template directories (:setting:`TEMPLATE_DIRS`), you could simply farm out\n-to the template system like so::\n+different template directories (:setting:`TEMPLATE_DIRS`), you could simply\n+farm out to the template system like so::\n \n     from django.core.mail import send_mail\n     from django.template import loader, Context\n@@ -216,9 +222,9 @@ to the template system like so::\n \n         # ...\n \n-In this case, you'd have to create :file:`subject.txt` and :file:`message.txt` template\n-files for both the LJWorld.com and Lawrence.com template directories. That\n-gives you more flexibility, but it's also more complex.\n+In this case, you'd have to create :file:`subject.txt` and :file:`message.txt`\n+template files for both the LJWorld.com and Lawrence.com template directories.\n+That gives you more flexibility, but it's also more complex.\n \n It's a good idea to exploit the :class:`~django.contrib.sites.models.Site`\n objects as much as possible, to remove unneeded complexity and redundancy.\n@@ -240,6 +246,15 @@ To do this, you can use the sites framework. A simple example::\n     >>> 'http://%s%s' % (Site.objects.get_current().domain, obj.get_absolute_url())\n     'http://example.com/mymodel/objects/3/'\n \n+\n+Default site and ``syncdb``\n+===========================\n+\n+``django.contrib.sites`` registers a\n+:data:`~django.db.models.signals.post_syncdb` signal handler which creates a\n+default site named ``example.com`` with the domain ``example.com``. For\n+example, this site will be created after Django creates the test database.\n+\n Caching the current ``Site`` object\n ===================================\n "
        }
    ],
    "stats": {
        "total": 29,
        "additions": 22,
        "deletions": 7
    }
}