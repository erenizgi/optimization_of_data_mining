{
    "author": "kmtracey",
    "message": "Fixed #17462: Adjusted staticfiles CachedFilesMixin code so its tests pass on Windows.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17276 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "b04578372930431827019a821ff946b36db3256d",
    "files": [
        {
            "sha": "c0cc100ca8cc919f3c76cb7bc6c2abd8042cb9f5",
            "filename": "django/contrib/staticfiles/storage.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/b04578372930431827019a821ff946b36db3256d/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/b04578372930431827019a821ff946b36db3256d/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fstorage.py?ref=b04578372930431827019a821ff946b36db3256d",
            "patch": "@@ -102,7 +102,7 @@ def url(self, name, force=False):\n             cache_key = self.cache_key(name)\n             hashed_name = self.cache.get(cache_key)\n             if hashed_name is None:\n-                hashed_name = self.hashed_name(name)\n+                hashed_name = self.hashed_name(name).replace('\\\\', '/')\n                 # set the cache if there was a miss (e.g. if cache server goes down)\n                 self.cache.set(cache_key, hashed_name)\n         return unquote(super(CachedFilesMixin, self).url(hashed_name))\n@@ -121,7 +121,7 @@ def converter(matchobj):\n             # Completely ignore http(s) prefixed URLs\n             if url.startswith(('http', 'https')):\n                 return matched\n-            name_parts = name.split('/')\n+            name_parts = name.split(os.sep)\n             # Using posix normpath here to remove duplicates\n             url = posixpath.normpath(url)\n             url_parts = url.split('/')"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}