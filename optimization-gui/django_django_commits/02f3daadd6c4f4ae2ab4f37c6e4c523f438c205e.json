{
    "author": "aaugustin",
    "message": "Removed interpolation of post_url_continue in the admin.",
    "sha": "02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e",
    "files": [
        {
            "sha": "b0c2c4dcf9a28c53f2fefd5af8737d7fd8a43741",
            "filename": "django/contrib/admin/options.py",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/django%2Fcontrib%2Fadmin%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/django%2Fcontrib%2Fadmin%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Foptions.py?ref=02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e",
            "patch": "@@ -807,16 +807,6 @@ def response_add(self, request, obj, post_url_continue=None):\n                                             (opts.app_label, opts.module_name),\n                                             args=(pk_value,),\n                                             current_app=self.admin_site.name)\n-            else:\n-                try:\n-                    post_url_continue = post_url_continue % pk_value\n-                    warnings.warn(\n-                        \"The use of string formats for post_url_continue \"\n-                        \"in ModelAdmin.response_add() is deprecated. Provide \"\n-                        \"a pre-formatted url instead.\",\n-                        DeprecationWarning, stacklevel=2)\n-                except TypeError:\n-                    pass\n             if \"_popup\" in request.POST:\n                 post_url_continue += \"?_popup=1\"\n             return HttpResponseRedirect(post_url_continue)"
        },
        {
            "sha": "45b6ed57a9d90a2184b7203408bdc37baba5f163",
            "filename": "tests/regressiontests/admin_custom_urls/models.py",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py?ref=02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e",
            "patch": "@@ -71,18 +71,6 @@ def response_add(self, request, obj, post_url_continue=None):\n             request, obj, post_url_continue=reverse('admin:admin_custom_urls_car_history', args=[obj.pk]))\n \n \n-class CarDeprecated(models.Model):\n-    \"\"\" This class must be removed in Django 1.6 \"\"\"\n-    name = models.CharField(max_length=20)\n-\n-class CarDeprecatedAdmin(admin.ModelAdmin):\n-    \"\"\" This class must be removed in Django 1.6 \"\"\"\n-    def response_add(self, request, obj, post_url_continue=None):\n-        return super(CarDeprecatedAdmin, self).response_add(\n-            request, obj, post_url_continue='../%s/history/')\n-\n-\n admin.site.register(Action, ActionAdmin)\n admin.site.register(Person, PersonAdmin)\n admin.site.register(Car, CarAdmin)\n-admin.site.register(CarDeprecated, CarDeprecatedAdmin)\n\\ No newline at end of file"
        },
        {
            "sha": "a7edc77c3821146c727eac2debb2089c1ceda065",
            "filename": "tests/regressiontests/admin_custom_urls/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 19,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py?ref=02f3daadd6c4f4ae2ab4f37c6e4c523f438c205e",
            "patch": "@@ -7,7 +7,7 @@\n from django.test import TestCase\n from django.test.utils import override_settings\n \n-from .models import Action, Person, Car, CarDeprecated\n+from .models import Action, Person, Car\n \n \n @override_settings(PASSWORD_HASHERS=('django.contrib.auth.hashers.SHA1PasswordHasher',))\n@@ -122,21 +122,3 @@ def test_post_url_continue(self):\n         self.assertEqual(len(cars), 1)\n         self.assertRedirects(\n             response, reverse('admin:admin_custom_urls_car_history', args=[cars[0].pk]))\n-\n-    def test_post_url_continue_string_formats(self):\n-        \"\"\"\n-        Ensures that string formats are accepted for post_url_continue. This\n-        is a deprecated functionality that will be removed in Django 1.6 along\n-        with this test.\n-        \"\"\"\n-        with warnings.catch_warnings(record=True) as w:\n-            post_data = { 'name': 'SuperFast', '_continue': '1' }\n-            self.assertEqual(Car.objects.count(), 0)\n-            response = self.client.post(\n-                reverse('admin:admin_custom_urls_cardeprecated_add'), post_data)\n-            cars = CarDeprecated.objects.all()\n-            self.assertEqual(len(cars), 1)\n-            self.assertRedirects(\n-                response, reverse('admin:admin_custom_urls_cardeprecated_history', args=[cars[0].pk]))\n-        self.assertEqual(len(w), 1)\n-        self.assertTrue(isinstance(w[0].message, DeprecationWarning))\n\\ No newline at end of file"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 1,
        "deletions": 41
    }
}