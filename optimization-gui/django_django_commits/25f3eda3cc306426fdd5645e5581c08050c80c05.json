{
    "author": "unknown",
    "message": "Fixed #14738 -- Improved crossref linking for cache settings, and fixed a few minor typos.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14676 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "25f3eda3cc306426fdd5645e5581c08050c80c05",
    "files": [
        {
            "sha": "b551a270936706741c63a1ac5589e802cd324f62",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/25f3eda3cc306426fdd5645e5581c08050c80c05/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/25f3eda3cc306426fdd5645e5581c08050c80c05/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=25f3eda3cc306426fdd5645e5581c08050c80c05",
            "patch": "@@ -169,7 +169,7 @@ caches every page that doesn't have GET or POST parameters.\n If you set the value of this setting to ``True``, you should make sure you've\n activated ``AuthenticationMiddleware``.\n \n-See the :doc:`cache documentation </topics/cache>` for more information.\n+See :doc:`/topics/cache`.\n \n .. setting:: CACHE_MIDDLEWARE_KEY_PREFIX\n \n@@ -178,8 +178,9 @@ CACHE_MIDDLEWARE_KEY_PREFIX\n \n Default: ``''`` (Empty string)\n \n-The cache key prefix that the cache middleware should use. See\n-:doc:`/topics/cache`.\n+The cache key prefix that the cache middleware should use.\n+\n+See :doc:`/topics/cache`.\n \n .. setting:: CACHE_MIDDLEWARE_SECONDS\n \n@@ -191,6 +192,8 @@ Default: ``600``\n The default number of seconds to cache a page when the caching middleware or\n ``cache_page()`` decorator is used.\n \n+See :doc:`/topics/cache`.\n+\n .. setting:: CACHE_PREFIX\n \n CACHE_PREFIX"
        },
        {
            "sha": "449c53c35c8db9b5794364fd1a1e90ecf656c65f",
            "filename": "docs/topics/cache.txt",
            "status": "modified",
            "additions": 48,
            "deletions": 42,
            "changes": 90,
            "blob_url": "https://github.com/django/django/blob/25f3eda3cc306426fdd5645e5581c08050c80c05/docs%2Ftopics%2Fcache.txt",
            "raw_url": "https://github.com/django/django/raw/25f3eda3cc306426fdd5645e5581c08050c80c05/docs%2Ftopics%2Fcache.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fcache.txt?ref=25f3eda3cc306426fdd5645e5581c08050c80c05",
            "patch": "@@ -31,8 +31,8 @@ explaining how this would work for a dynamically generated Web page::\n Django comes with a robust cache system that lets you save dynamic pages so\n they don't have to be calculated for each request. For convenience, Django\n offers different levels of cache granularity: You can cache the output of\n-specific views, you can cache only the pieces that are difficult to produce, or\n-you can cache your entire site.\n+specific views, you can cache only the pieces that are difficult to produce,\n+or you can cache your entire site.\n \n Django also works well with \"upstream\" caches, such as Squid\n (http://www.squid-cache.org/) and browser-based caches. These are the types of\n@@ -47,8 +47,9 @@ where your cached data should live -- whether in a database, on the filesystem\n or directly in memory. This is an important decision that affects your cache's\n performance; yes, some cache types are faster than others.\n \n-Your cache preference goes in the ``CACHE_BACKEND`` setting in your settings\n-file. Here's an explanation of all available values for ``CACHE_BACKEND``.\n+Your cache preference goes in the :setting:`CACHE_BACKEND` setting in your\n+settings file. Here's an explanation of all available values for\n+:setting:`CACHE_BACKEND`.\n \n Memcached\n ---------\n@@ -75,7 +76,7 @@ This is available at ftp://ftp.tummy.com/pub/python-memcached/\n     a lack of maintenance on the ``cmemcache`` library itself. Support for\n     ``cmemcache`` will be removed completely in Django 1.4.\n \n-To use Memcached with Django, set ``CACHE_BACKEND`` to\n+To use Memcached with Django, set :setting:`CACHE_BACKEND` to\n ``memcached://ip:port/``, where ``ip`` is the IP address of the Memcached\n daemon and ``port`` is the port on which Memcached is running.\n \n@@ -87,7 +88,8 @@ One excellent feature of Memcached is its ability to share cache over multiple\n servers. This means you can run Memcached daemons on multiple machines, and the\n program will treat the group of machines as a *single* cache, without the need\n to duplicate cache values on each machine. To take advantage of this feature,\n-include all server addresses in ``CACHE_BACKEND``, separated by semicolons.\n+include all server addresses in :setting:`CACHE_BACKEND`, separated by\n+semicolons.\n \n In this example, the cache is shared over Memcached instances running on IP\n address 172.19.26.240 and 172.19.26.242, both on port 11211::\n@@ -123,9 +125,10 @@ not already being used in your database.) This command creates a single table\n in your database that is in the proper format that Django's database-cache\n system expects.\n \n-Once you've created that database table, set your ``CACHE_BACKEND`` setting to\n-``\"db://tablename\"``, where ``tablename`` is the name of the database table.\n-In this example, the cache table's name is ``my_cache_table``::\n+Once you've created that database table, set your :setting:`CACHE_BACKEND`\n+setting to ``\"db://tablename\"``, where ``tablename`` is the name of the\n+database table. In this example, the cache table's name is\n+``my_cache_table``::\n \n     CACHE_BACKEND = 'db://my_cache_table'\n \n@@ -181,8 +184,8 @@ Filesystem caching\n ------------------\n \n To store cached items on a filesystem, use the ``\"file://\"`` cache type for\n-``CACHE_BACKEND``. For example, to store cached data in ``/var/tmp/django_cache``,\n-use this setting::\n+:setting:`CACHE_BACKEND`. For example, to store cached data in\n+``/var/tmp/django_cache``, use this setting::\n \n     CACHE_BACKEND = 'file:///var/tmp/django_cache'\n \n@@ -212,8 +215,8 @@ Local-memory caching\n \n If you want the speed advantages of in-memory caching but don't have the\n capability of running Memcached, consider the local-memory cache backend. This\n-cache is multi-process and thread-safe. To use it, set ``CACHE_BACKEND`` to\n-``\"locmem://\"``. For example::\n+cache is multi-process and thread-safe. To use it, set :setting:`CACHE_BACKEND`\n+to ``\"locmem://\"``. For example::\n \n     CACHE_BACKEND = 'locmem://'\n \n@@ -231,7 +234,7 @@ just implements the cache interface without doing anything.\n This is useful if you have a production site that uses heavy-duty caching in\n various places but a development/test environment where you don't want to cache\n and don't want to have to change your code to special-case the latter. To\n-activate dummy caching, set ``CACHE_BACKEND`` like so::\n+activate dummy caching, set :setting:`CACHE_BACKEND` like so::\n \n     CACHE_BACKEND = 'dummy://'\n \n@@ -243,7 +246,7 @@ Using a custom cache backend\n While Django includes support for a number of cache backends out-of-the-box,\n sometimes you might want to use a customized cache backend. To use an external\n cache backend with Django, use a Python import path as the scheme portion (the\n-part before the initial colon) of the ``CACHE_BACKEND`` URI, like so::\n+part before the initial colon) of the :setting:`CACHE_BACKEND` URI, like so::\n \n     CACHE_BACKEND = 'path.to.backend://'\n \n@@ -259,7 +262,7 @@ CACHE_BACKEND arguments\n -----------------------\n \n Each cache backend may take arguments. They're given in query-string style on\n-the ``CACHE_BACKEND`` setting. Valid arguments are as follows:\n+the :setting:`CACHE_BACKEND` setting. Valid arguments are as follows:\n \n     * ``timeout``: The default timeout, in seconds, to use for the cache.\n       This argument defaults to 300 seconds (5 minutes).\n@@ -315,22 +318,23 @@ entire site. You'll need to add\n \n Then, add the following required settings to your Django settings file:\n \n-* ``CACHE_MIDDLEWARE_SECONDS`` -- The number of seconds each page should be\n-  cached.\n-* ``CACHE_MIDDLEWARE_KEY_PREFIX`` -- If the cache is shared across multiple\n-  sites using the same Django installation, set this to the name of the site,\n-  or some other string that is unique to this Django instance, to prevent key\n-  collisions. Use an empty string if you don't care.\n+* :setting:`CACHE_MIDDLEWARE_SECONDS` -- The number of seconds each page should\n+  be cached.\n+* :setting:`CACHE_MIDDLEWARE_KEY_PREFIX` -- If the cache is shared across\n+  multiple sites using the same Django installation, set this to the name of\n+  the site, or some other string that is unique to this Django instance, to\n+  prevent key collisions. Use an empty string if you don't care.\n \n The cache middleware caches every page that doesn't have GET or POST\n-parameters. Optionally, if the ``CACHE_MIDDLEWARE_ANONYMOUS_ONLY`` setting is\n-``True``, only anonymous requests (i.e., not those made by a logged-in user)\n-will be cached. This is a simple and effective way of disabling caching for any\n-user-specific pages (include Django's admin interface). Note that if you use\n-``CACHE_MIDDLEWARE_ANONYMOUS_ONLY``, you should make sure you've activated\n-``AuthenticationMiddleware``. The cache middleware expects that a HEAD request\n-is answered with the same response headers exactly like the corresponding GET\n-request, in that case it could return cached GET response for HEAD request.\n+parameters. Optionally, if the :setting:`CACHE_MIDDLEWARE_ANONYMOUS_ONLY`\n+setting is ``True``, only anonymous requests (i.e., not those made by a\n+logged-in user) will be cached. This is a simple and effective way of disabling\n+caching for any user-specific pages (include Django's admin interface). Note\n+that if you use :setting:`CACHE_MIDDLEWARE_ANONYMOUS_ONLY`, you should make\n+sure you've activated ``AuthenticationMiddleware``. The cache middleware\n+expects that a HEAD request is answered with the same response headers as\n+the corresponding GET request; in which case it can return a cached GET\n+response for HEAD request.\n \n Additionally, the cache middleware automatically sets a few headers in each\n ``HttpResponse``:\n@@ -339,18 +343,18 @@ Additionally, the cache middleware automatically sets a few headers in each\n       (uncached) version of the page is requested.\n \n     * Sets the ``Expires`` header to the current date/time plus the defined\n-      ``CACHE_MIDDLEWARE_SECONDS``.\n+      :setting:`CACHE_MIDDLEWARE_SECONDS`.\n \n     * Sets the ``Cache-Control`` header to give a max age for the page --\n-      again, from the ``CACHE_MIDDLEWARE_SECONDS`` setting.\n+      again, from the :setting:`CACHE_MIDDLEWARE_SECONDS` setting.\n \n See :doc:`/topics/http/middleware` for more on middleware.\n \n .. versionadded:: 1.0\n \n If a view sets its own cache expiry time (i.e. it has a ``max-age`` section in\n its ``Cache-Control`` header) then the page will be cached until the expiry\n-time, rather than ``CACHE_MIDDLEWARE_SECONDS``. Using the decorators in\n+time, rather than :setting:`CACHE_MIDDLEWARE_SECONDS`. Using the decorators in\n ``django.views.decorators.cache`` you can easily set a view's expiry time\n (using the ``cache_control`` decorator) or disable caching for a view (using\n the ``never_cache`` decorator). See the `using other headers`__ section for\n@@ -373,6 +377,8 @@ __ `Controlling cache: Using other headers`_\n The per-view cache\n ==================\n \n+.. function ``django.views.decorators.cache.cache_page``\n+\n A more granular way to use the caching framework is by caching the output of\n individual views. ``django.views.decorators.cache`` defines a ``cache_page``\n decorator that will automatically cache the view's response for you. It's easy\n@@ -402,9 +408,9 @@ then requests to ``/foo/1/`` and ``/foo/23/`` will be cached separately, as\n you may expect. But once a particular URL (e.g., ``/foo/23/``) has been\n requested, subsequent requests to that URL will use the cache.\n \n-``cache_page`` can also take an optional keyword argument, ``key_prefix``, which\n-works in the same way as the ``CACHE_MIDDLEWARE_KEY_PREFIX`` setting for the\n-middleware.  It can be used like this::\n+``cache_page`` can also take an optional keyword argument, ``key_prefix``,\n+which works in the same way as the :setting:`CACHE_MIDDLEWARE_KEY_PREFIX`\n+setting for the middleware.  It can be used like this::\n \n     @cache_page(60 * 15, key_prefix=\"site1\")\n     def my_view(request):\n@@ -529,7 +535,7 @@ can be pickled; refer to the Python documentation for more information about\n pickling.)\n \n The cache module, ``django.core.cache``, has a ``cache`` object that's\n-automatically created from the ``CACHE_BACKEND`` setting::\n+automatically created from the :setting:`CACHE_BACKEND` setting::\n \n     >>> from django.core.cache import cache\n \n@@ -540,8 +546,8 @@ The basic interface is ``set(key, value, timeout)`` and ``get(key)``::\n     'hello, world!'\n \n The ``timeout`` argument is optional and defaults to the ``timeout``\n-argument in the ``CACHE_BACKEND`` setting (explained above). It's the number of\n-seconds the value should be stored in the cache.\n+argument in the :setting:`CACHE_BACKEND` setting (explained above). It's the\n+number of seconds the value should be stored in the cache.\n \n If the object doesn't exist in the cache, ``cache.get()`` returns ``None``::\n \n@@ -957,7 +963,7 @@ Here's a full list:\n For explanation of Cache-Control HTTP directives, see the `Cache-Control spec`_.\n \n (Note that the caching middleware already sets the cache header's max-age with\n-the value of the ``CACHE_MIDDLEWARE_SETTINGS`` setting. If you use a custom\n+the value of the :setting:`CACHE_MIDDLEWARE_SETTINGS` setting. If you use a custom\n ``max_age`` in a ``cache_control`` decorator, the decorator will take\n precedence, and the header values will be merged correctly.)\n \n@@ -984,14 +990,14 @@ site's performance:\n       modern browsers to conditionally GET responses based on the ``ETag``\n       and ``Last-Modified`` headers.\n \n-    * ``django.middleware.gzip.GZipMiddleware`` compresses responses for all\n+    * :class:`django.middleware.gzip.GZipMiddleware` compresses responses for all\n       moderns browsers, saving bandwidth and transfer time.\n \n Order of MIDDLEWARE_CLASSES\n ===========================\n \n If you use caching middleware, it's important to put each half in the right\n-place within the ``MIDDLEWARE_CLASSES`` setting. That's because the cache\n+place within the :setting:`MIDDLEWARE_CLASSES` setting. That's because the cache\n middleware needs to know which headers by which to vary the cache storage.\n Middleware always adds something to the ``Vary`` response header when it can.\n "
        }
    ],
    "stats": {
        "total": 99,
        "additions": 54,
        "deletions": 45
    }
}