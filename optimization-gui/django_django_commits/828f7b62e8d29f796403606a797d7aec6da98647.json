{
    "author": "claudep",
    "message": "Fixed #18602 -- Improved error message when database NAME is missing\n\nThanks Kristian Glass for the report.",
    "sha": "828f7b62e8d29f796403606a797d7aec6da98647",
    "files": [
        {
            "sha": "f76b91ddd64cc57356bd0c099750110debb00b9a",
            "filename": "django/db/backends/postgresql_psycopg2/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/828f7b62e8d29f796403606a797d7aec6da98647/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/828f7b62e8d29f796403606a797d7aec6da98647/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fbase.py?ref=828f7b62e8d29f796403606a797d7aec6da98647",
            "patch": "@@ -157,9 +157,11 @@ def _get_pg_version(self):\n     def _cursor(self):\n         settings_dict = self.settings_dict\n         if self.connection is None:\n-            if settings_dict['NAME'] == '':\n+            if not settings_dict['NAME']:\n                 from django.core.exceptions import ImproperlyConfigured\n-                raise ImproperlyConfigured(\"You need to specify NAME in your Django settings file.\")\n+                raise ImproperlyConfigured(\n+                    \"settings.DATABASES is improperly configured. \"\n+                    \"Please supply the NAME value.\")\n             conn_params = {\n                 'database': settings_dict['NAME'],\n             }"
        },
        {
            "sha": "d7f51605d57d75cf34bd67f7595c7901c1cb015a",
            "filename": "django/db/backends/sqlite3/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/828f7b62e8d29f796403606a797d7aec6da98647/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/828f7b62e8d29f796403606a797d7aec6da98647/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py?ref=828f7b62e8d29f796403606a797d7aec6da98647",
            "patch": "@@ -250,7 +250,9 @@ def _sqlite_create_connection(self):\n         settings_dict = self.settings_dict\n         if not settings_dict['NAME']:\n             from django.core.exceptions import ImproperlyConfigured\n-            raise ImproperlyConfigured(\"Please fill out the database NAME in the settings module before using the database.\")\n+            raise ImproperlyConfigured(\n+                \"settings.DATABASES is improperly configured. \"\n+                \"Please supply the NAME value.\")\n         kwargs = {\n             'database': settings_dict['NAME'],\n             'detect_types': Database.PARSE_DECLTYPES | Database.PARSE_COLNAMES,"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}