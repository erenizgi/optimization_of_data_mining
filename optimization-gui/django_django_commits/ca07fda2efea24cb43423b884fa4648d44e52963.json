{
    "author": "aaugustin",
    "message": "[py3] Switched to Python 3-compatible imports.\n\nxrange/range will be dealt with in a separate commit due to the huge\nnumber of changes.",
    "sha": "ca07fda2efea24cb43423b884fa4648d44e52963",
    "files": [
        {
            "sha": "21acb2004f6bc45f93d59f3c9972e9e3916ad0e6",
            "filename": "django/contrib/auth/tests/basic.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fauth%2Ftests%2Fbasic.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fauth%2Ftests%2Fbasic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fbasic.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,8 +1,8 @@\n-from django.test import TestCase\n-from django.utils.unittest import skipUnless\n from django.contrib.auth.models import User, AnonymousUser\n from django.core.management import call_command\n-from StringIO import StringIO\n+from django.test import TestCase\n+from django.utils.six import StringIO\n+from django.utils.unittest import skipUnless\n \n try:\n     import crypt as crypt_module"
        },
        {
            "sha": "c98b7491c80ce48cc8ce82296ff7ef29e867cb19",
            "filename": "django/contrib/auth/tests/management.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,11 +1,10 @@\n from __future__ import unicode_literals\n \n-from StringIO import StringIO\n-\n from django.contrib.auth import models, management\n from django.contrib.auth.management.commands import changepassword\n from django.core.management.base import CommandError\n from django.test import TestCase\n+from django.utils.six import StringIO\n \n \n class GetDefaultUsernameTestCase(TestCase):"
        },
        {
            "sha": "d016357f1b6c1758815fa6b1f462ae268ba9323a",
            "filename": "django/contrib/gis/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,4 +1,4 @@\n-from future_builtins import zip\n+from django.utils.six.moves import zip\n \n from django.db.backends.util import truncate_name, typecast_timestamp\n from django.db.models.sql import compiler"
        },
        {
            "sha": "e5c550b0d027032038432e6dcd9fe006dbed8fac",
            "filename": "django/contrib/gis/gdal/tests/test_geom.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_geom.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_geom.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_geom.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,6 +1,6 @@\n from binascii import b2a_hex\n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "102c6ba55a1b90d251d2a7fcf758935cf83495a3",
            "filename": "django/contrib/gis/geos/tests/test_geos.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -952,7 +952,8 @@ def test_extent(self):\n     def test_pickle(self):\n         \"Testing pickling and unpickling support.\"\n         # Using both pickle and cPickle -- just 'cause.\n-        import pickle, cPickle\n+        from django.utils.six.moves import cPickle\n+        import pickle\n \n         # Creating a list of test geometries for pickling,\n         # and setting the SRID on some of them."
        },
        {
            "sha": "f8977059d98a46a84baa3adfba5b3cfe13095527",
            "filename": "django/contrib/gis/utils/ogrinspect.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -5,7 +5,7 @@\n \n Author: Travis Pinney, Dane Springmeyer, & Justin Bronn\n \"\"\"\n-from future_builtins import zip\n+from django.utils.six.moves import zip\n # Requires GDAL to use.\n from django.contrib.gis.gdal import DataSource\n from django.contrib.gis.gdal.field import OFTDate, OFTDateTime, OFTInteger, OFTReal, OFTString, OFTTime"
        },
        {
            "sha": "153cde98302fec25fd63691c8f7e55d883d569c4",
            "filename": "django/contrib/sessions/backends/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fsessions%2Fbackends%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fsessions%2Fbackends%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsessions%2Fbackends%2Fbase.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -2,7 +2,7 @@\n import time\n from datetime import datetime, timedelta\n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "41ba7af634a3d08936a99e99b2fc080f42441b7d",
            "filename": "django/contrib/sessions/backends/signed_cookies.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fsessions%2Fbackends%2Fsigned_cookies.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcontrib%2Fsessions%2Fbackends%2Fsigned_cookies.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsessions%2Fbackends%2Fsigned_cookies.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,5 +1,5 @@\n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "f60b4e0cd1f70785e0b0d086ace8f799ad3b8d54",
            "filename": "django/core/cache/backends/db.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Fdb.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Fdb.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Fdb.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -4,7 +4,7 @@\n from datetime import datetime\n \n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "1170996a7634462258bbd9ba78683fe484cda378",
            "filename": "django/core/cache/backends/filebased.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Ffilebased.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Ffilebased.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Ffilebased.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -5,7 +5,7 @@\n import shutil\n import time\n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "76667e96094745c7c0e82c0eed6c113fb795d5fe",
            "filename": "django/core/cache/backends/locmem.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Flocmem.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fcache%2Fbackends%2Flocmem.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Flocmem.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -2,7 +2,7 @@\n \n import time\n try:\n-    import cPickle as pickle\n+    from django.utils.six.moves import cPickle as pickle\n except ImportError:\n     import pickle\n "
        },
        {
            "sha": "2db4e5ef6a4fdf97700d081e6ad80599cf5440b7",
            "filename": "django/core/servers/basehttp.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fservers%2Fbasehttp.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fcore%2Fservers%2Fbasehttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Fbasehttp.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -16,7 +16,7 @@\n except ImportError:     # Python 2\n     from urllib import unquote\n     from urlparse import urljoin\n-from SocketServer import ThreadingMixIn\n+from django.utils.six.moves import socketserver\n from wsgiref import simple_server\n from wsgiref.util import FileWrapper   # for backwards compatibility\n \n@@ -200,7 +200,7 @@ def log_message(self, format, *args):\n def run(addr, port, wsgi_handler, ipv6=False, threading=False):\n     server_address = (addr, port)\n     if threading:\n-        httpd_cls = type('WSGIServer', (ThreadingMixIn, WSGIServer), {})\n+        httpd_cls = type('WSGIServer', (socketserver.ThreadingMixIn, WSGIServer), {})\n     else:\n         httpd_cls = WSGIServer\n     httpd = httpd_cls(server_address, WSGIRequestHandler, ipv6=ipv6)"
        },
        {
            "sha": "a896f5fd089b5c464419611a40d5a9fbb8f185a6",
            "filename": "django/db/backends/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fbackends%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fbackends%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2F__init__.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -3,7 +3,7 @@\n try:\n     import thread\n except ImportError:\n-    import dummy_thread as thread\n+    from django.utils.six.moves import _dummy_thread as thread\n from contextlib import contextmanager\n \n from django.conf import settings"
        },
        {
            "sha": "567fb532170b7a0e48c4436f8df86ff61904afef",
            "filename": "django/db/models/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fmodels%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fmodels%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fbase.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -3,7 +3,7 @@\n import copy\n import sys\n from functools import update_wrapper\n-from future_builtins import zip\n+from django.utils.six.moves import zip\n \n import django.db.models.manager     # Imported to register signal handler.\n from django.conf import settings"
        },
        {
            "sha": "7a0afa349d8d8b1341979ec1bbb100f8eeda4210",
            "filename": "django/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,4 +1,4 @@\n-from future_builtins import zip\n+from django.utils.six.moves import zip\n \n from django.core.exceptions import FieldError\n from django.db import transaction"
        },
        {
            "sha": "6f9d70eebd993bba124467d51aaf92a32caa1366",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -16,23 +16,23 @@\n     from urllib import quote, urlencode\n     from urlparse import parse_qsl, urljoin\n \n-import Cookie\n+from django.utils.six.moves import http_cookies\n # Some versions of Python 2.7 and later won't need this encoding bug fix:\n-_cookie_encodes_correctly = Cookie.SimpleCookie().value_encode(';') == (';', '\"\\\\073\"')\n+_cookie_encodes_correctly = http_cookies.SimpleCookie().value_encode(';') == (';', '\"\\\\073\"')\n # See ticket #13007, http://bugs.python.org/issue2193 and http://trac.edgewall.org/ticket/2256\n-_tc = Cookie.SimpleCookie()\n+_tc = http_cookies.SimpleCookie()\n try:\n     _tc.load(b'foo:bar=1')\n     _cookie_allows_colon_in_names = True\n-except Cookie.CookieError:\n+except http_cookies.CookieError:\n     _cookie_allows_colon_in_names = False\n \n if _cookie_encodes_correctly and _cookie_allows_colon_in_names:\n-    SimpleCookie = Cookie.SimpleCookie\n+    SimpleCookie = http_cookies.SimpleCookie\n else:\n-    Morsel = Cookie.Morsel\n+    Morsel = http_cookies.Morsel\n \n-    class SimpleCookie(Cookie.SimpleCookie):\n+    class SimpleCookie(http_cookies.SimpleCookie):\n         if not _cookie_encodes_correctly:\n             def value_encode(self, val):\n                 # Some browsers do not support quoted-string from RFC 2109,\n@@ -73,9 +73,9 @@ def _BaseCookie__set(self, key, real_value, coded_value):\n                     M = self.get(key, Morsel())\n                     M.set(key, real_value, coded_value)\n                     dict.__setitem__(self, key, M)\n-                except Cookie.CookieError:\n+                except http_cookies.CookieError:\n                     self.bad_cookies.add(key)\n-                    dict.__setitem__(self, key, Cookie.Morsel())\n+                    dict.__setitem__(self, key, http_cookies.Morsel())\n \n \n from django.conf import settings\n@@ -495,11 +495,11 @@ def urlencode(self, safe=None):\n def parse_cookie(cookie):\n     if cookie == '':\n         return {}\n-    if not isinstance(cookie, Cookie.BaseCookie):\n+    if not isinstance(cookie, http_cookies.BaseCookie):\n         try:\n             c = SimpleCookie()\n             c.load(cookie)\n-        except Cookie.CookieError:\n+        except http_cookies.CookieError:\n             # Invalid cookie\n             return {}\n     else:"
        },
        {
            "sha": "316c785f3361b4d8266be9963d8921bfc3026682",
            "filename": "django/test/_doctest.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Ftest%2F_doctest.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Ftest%2F_doctest.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2F_doctest.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -103,9 +103,9 @@ def _test():\n import sys, traceback, inspect, linecache, os, re\n import unittest, difflib, pdb, tempfile\n import warnings\n-from StringIO import StringIO\n \n from django.utils import six\n+from django.utils.six import StringIO\n \n if sys.platform.startswith('java'):\n     # On Jython, isclass() reports some modules as classes. Patch it."
        },
        {
            "sha": "2a1421bf17a25a16a424fdd884521e781bb5c70e",
            "filename": "django/test/html.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Ftest%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Ftest%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fhtml.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -5,9 +5,8 @@\n from __future__ import unicode_literals\n \n import re\n-from HTMLParser import HTMLParseError\n from django.utils.encoding import force_unicode\n-from django.utils.html_parser import HTMLParser\n+from django.utils.html_parser import HTMLParser, HTMLParseError\n from django.utils import six\n \n "
        },
        {
            "sha": "b6c055383c153f456c797fee4f5ca10904c82bb4",
            "filename": "django/utils/autoreload.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fautoreload.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fautoreload.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fautoreload.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -33,7 +33,7 @@\n try:\n     import thread\n except ImportError:\n-    import dummy_thread as thread\n+    from django.utils.six.moves import _dummy_thread as thread\n \n # This import does nothing, but it's necessary to avoid some race conditions\n # in the threading module. See http://code.djangoproject.com/ticket/2330 ."
        },
        {
            "sha": "ee56c01aec66fef59d714c8835de714f5eb1dc34",
            "filename": "django/utils/html_parser.py",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fhtml_parser.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fhtml_parser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml_parser.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -1,26 +1,28 @@\n-import HTMLParser as _HTMLParser\n+from django.utils.six.moves import html_parser as _html_parser\n import re\n \n tagfind = re.compile('([a-zA-Z][-.a-zA-Z0-9:_]*)(?:\\s|/(?!>))*')\n \n-class HTMLParser(_HTMLParser.HTMLParser):\n+HTMLParseError = _html_parser.HTMLParseError\n+\n+class HTMLParser(_html_parser.HTMLParser):\n     \"\"\"\n     Patched version of stdlib's HTMLParser with patch from:\n     http://bugs.python.org/issue670664\n     \"\"\"\n     def __init__(self):\n-        _HTMLParser.HTMLParser.__init__(self)\n+        _html_parser.HTMLParser.__init__(self)\n         self.cdata_tag = None\n \n     def set_cdata_mode(self, tag):\n         try:\n-            self.interesting = _HTMLParser.interesting_cdata\n+            self.interesting = _html_parser.interesting_cdata\n         except AttributeError:\n             self.interesting = re.compile(r'</\\s*%s\\s*>' % tag.lower(), re.I)\n         self.cdata_tag = tag.lower()\n \n     def clear_cdata_mode(self):\n-        self.interesting = _HTMLParser.interesting_normal\n+        self.interesting = _html_parser.interesting_normal\n         self.cdata_tag = None\n \n     # Internal -- handle starttag, return end or -1 if not terminated\n@@ -40,7 +42,7 @@ def parse_starttag(self, i):\n         self.lasttag = tag = match.group(1).lower()\n \n         while k < endpos:\n-            m = _HTMLParser.attrfind.match(rawdata, k)\n+            m = _html_parser.attrfind.match(rawdata, k)\n             if not m:\n                 break\n             attrname, rest, attrvalue = m.group(1, 2, 3)\n@@ -78,11 +80,11 @@ def parse_starttag(self, i):\n     def parse_endtag(self, i):\n         rawdata = self.rawdata\n         assert rawdata[i:i + 2] == \"</\", \"unexpected call to parse_endtag\"\n-        match = _HTMLParser.endendtag.search(rawdata, i + 1) # >\n+        match = _html_parser.endendtag.search(rawdata, i + 1) # >\n         if not match:\n             return -1\n         j = match.end()\n-        match = _HTMLParser.endtagfind.match(rawdata, i) # </ + tag + >\n+        match = _html_parser.endtagfind.match(rawdata, i) # </ + tag + >\n         if not match:\n             if self.cdata_tag is not None: # *** add ***\n                 self.handle_data(rawdata[i:j]) # *** add ***"
        },
        {
            "sha": "aa329c152eb6f1c32ff9569ca73556abc082602a",
            "filename": "django/utils/itercompat.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fitercompat.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fitercompat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fitercompat.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -4,7 +4,7 @@\n these implementations if necessary.\n \"\"\"\n \n-import __builtin__\n+from django.utils.six.moves import builtins\n import itertools\n import warnings\n \n@@ -25,9 +25,9 @@ def product(*args, **kwds):\n def all(iterable):\n     warnings.warn(\"django.utils.itercompat.all is deprecated; use the native version instead\",\n                   DeprecationWarning)\n-    return __builtin__.all(iterable)\n+    return builtins.all(iterable)\n \n def any(iterable):\n     warnings.warn(\"django.utils.itercompat.any is deprecated; use the native version instead\",\n                   DeprecationWarning)\n-    return __builtin__.any(iterable)\n+    return builtins.any(iterable)"
        },
        {
            "sha": "c74f9fa7df9a6eeef1df466effef3aff72fbcce4",
            "filename": "django/utils/six.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fsix.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Fsix.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fsix.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -351,3 +351,8 @@ def write(data):\n def with_metaclass(meta, base=object):\n     \"\"\"Create a base class with a metaclass.\"\"\"\n     return meta(\"NewBase\", (base,), {})\n+\n+\n+### Additional customizations for Django ###\n+\n+add_move(MovedModule(\"_dummy_thread\", \"dummy_thread\"))"
        },
        {
            "sha": "43056aa63451fdde260f7a2c98067dbbd7a9ed6c",
            "filename": "django/utils/text.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Ftext.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Ftext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftext.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -4,7 +4,7 @@\n import unicodedata\n import warnings\n from gzip import GzipFile\n-from htmlentitydefs import name2codepoint\n+from django.utils.six.moves import html_entities\n from io import BytesIO\n \n from django.utils.encoding import force_unicode\n@@ -349,7 +349,7 @@ def _replace_entity(match):\n             return match.group(0)\n     else:\n         try:\n-            return unichr(name2codepoint[text])\n+            return unichr(html_entities.name2codepoint[text])\n         except (ValueError, KeyError):\n             return match.group(0)\n "
        },
        {
            "sha": "9ebcbf54411d5e36c0ce232277e5c726918625ea",
            "filename": "django/utils/translation/trans_real.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "raw_url": "https://github.com/django/django/raw/ca07fda2efea24cb43423b884fa4648d44e52963/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2Ftrans_real.py?ref=ca07fda2efea24cb43423b884fa4648d44e52963",
            "patch": "@@ -6,11 +6,11 @@\n import re\n import sys\n import gettext as gettext_module\n-from io import StringIO\n from threading import local\n \n from django.utils.importlib import import_module\n from django.utils.safestring import mark_safe, SafeData\n+from django.utils.six import StringIO\n \n \n # Translations are cached in a dictionary for every language+app tuple."
        }
    ],
    "stats": {
        "total": 102,
        "additions": 54,
        "deletions": 48
    }
}