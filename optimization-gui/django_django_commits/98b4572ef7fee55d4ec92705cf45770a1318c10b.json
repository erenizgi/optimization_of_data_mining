{
    "author": "ramiro",
    "message": "Fixed #15216 -- Made return type of an internal DB introspection method consistent.\n\nThanks arthur AT milliways DOT fr for the report and patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17510 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "98b4572ef7fee55d4ec92705cf45770a1318c10b",
    "files": [
        {
            "sha": "7674f5c8795ebf3bb4ac00cbdb56fd72962de4c7",
            "filename": "django/db/backends/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/98b4572ef7fee55d4ec92705cf45770a1318c10b/django%2Fdb%2Fbackends%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/98b4572ef7fee55d4ec92705cf45770a1318c10b/django%2Fdb%2Fbackends%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2F__init__.py?ref=98b4572ef7fee55d4ec92705cf45770a1318c10b",
            "patch": "@@ -905,6 +905,7 @@ def django_table_names(self, only_existing=False):\n                     continue\n                 tables.add(model._meta.db_table)\n                 tables.update([f.m2m_db_table() for f in model._meta.local_many_to_many])\n+        tables = list(tables)\n         if only_existing:\n             existing_tables = self.table_names()\n             tables = ["
        },
        {
            "sha": "c3d3533f944afc129882ed36fadc4fd2316de5b4",
            "filename": "tests/regressiontests/introspection/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/98b4572ef7fee55d4ec92705cf45770a1318c10b/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/98b4572ef7fee55d4ec92705cf45770a1318c10b/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fintrospection%2Ftests.py?ref=98b4572ef7fee55d4ec92705cf45770a1318c10b",
            "patch": "@@ -53,6 +53,17 @@ def test_django_table_names(self):\n         self.assertTrue('django_ixn_testcase_table' not in tl,\n                      \"django_table_names() returned a non-Django table\")\n \n+    def test_django_table_names_retval_type(self):\n+        # Ticket #15216\n+        cursor = connection.cursor()\n+        cursor.execute('CREATE TABLE django_ixn_test_table (id INTEGER);')\n+\n+        tl = connection.introspection.django_table_names(only_existing=True)\n+        self.assertIs(type(tl), list)\n+\n+        tl = connection.introspection.django_table_names(only_existing=False)\n+        self.assertIs(type(tl), list)\n+\n     def test_installed_models(self):\n         tables = [Article._meta.db_table, Reporter._meta.db_table]\n         models = connection.introspection.installed_models(tables)"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 12,
        "deletions": 0
    }
}