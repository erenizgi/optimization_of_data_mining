{
    "author": "aaugustin",
    "message": "Fixed a stupid bug in the implementation of timezone.make_aware.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17332 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa",
    "files": [
        {
            "sha": "35bf297358bea3ac3ee2834d6e73a9f48b08d596",
            "filename": "django/utils/timezone.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa/django%2Futils%2Ftimezone.py",
            "raw_url": "https://github.com/django/django/raw/fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa/django%2Futils%2Ftimezone.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftimezone.py?ref=fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa",
            "patch": "@@ -267,5 +267,5 @@ def make_naive(value, timezone):\n     value = value.astimezone(timezone)\n     if hasattr(timezone, 'normalize'):\n         # available for pytz time zones\n-        return timezone.normalize(value)\n+        value = timezone.normalize(value)\n     return value.replace(tzinfo=None)"
        },
        {
            "sha": "b46aa0ed8c3af6ba4bf6579a4b2ea9f3f1713ea7",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=fc9e0606d5333fc1906c85cc7ac3b2020e0b1baa",
            "patch": "@@ -953,3 +953,30 @@ def test_change_readonly_in_other_timezone(self):\n         self.assertContains(response, t.created.astimezone(ICT).isoformat())\n \n AdminTests = override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)(AdminTests)\n+\n+\n+class UtilitiesTests(BaseDateTimeTests):\n+\n+    def test_make_aware(self):\n+        self.assertEqual(\n+            timezone.make_aware(datetime.datetime(2011, 9, 1, 13, 20, 30), EAT),\n+            datetime.datetime(2011, 9, 1, 13, 20, 30, tzinfo=EAT)\n+        )\n+        self.assertEqual(\n+            timezone.make_aware(datetime.datetime(2011, 9, 1, 10, 20, 30), UTC),\n+            datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC)\n+        )\n+\n+    def test_make_naive(self):\n+        self.assertEqual(\n+            timezone.make_naive(datetime.datetime(2011, 9, 1, 13, 20, 30, tzinfo=EAT), EAT),\n+            datetime.datetime(2011, 9, 1, 13, 20, 30)\n+        )\n+        self.assertEqual(\n+            timezone.make_naive(datetime.datetime(2011, 9, 1, 13, 20, 30, tzinfo=EAT), UTC),\n+            datetime.datetime(2011, 9, 1, 10, 20, 30)\n+        )\n+        self.assertEqual(\n+            timezone.make_naive(datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC), UTC),\n+            datetime.datetime(2011, 9, 1, 10, 20, 30)\n+        )"
        }
    ],
    "stats": {
        "total": 29,
        "additions": 28,
        "deletions": 1
    }
}