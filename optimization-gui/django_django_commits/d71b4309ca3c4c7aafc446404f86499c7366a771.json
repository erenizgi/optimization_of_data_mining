{
    "author": "aaugustin",
    "message": "Used yaml.safe_load instead of yaml.load, because safety should be the default.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17062 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d71b4309ca3c4c7aafc446404f86499c7366a771",
    "files": [
        {
            "sha": "a9f457582327525746b0c6dd22fe57d5df15f699",
            "filename": "django/core/serializers/pyyaml.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d71b4309ca3c4c7aafc446404f86499c7366a771/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "raw_url": "https://github.com/django/django/raw/d71b4309ca3c4c7aafc446404f86499c7366a771/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpyyaml.py?ref=d71b4309ca3c4c7aafc446404f86499c7366a771",
            "patch": "@@ -51,6 +51,6 @@ def Deserializer(stream_or_string, **options):\n         stream = StringIO(stream_or_string)\n     else:\n         stream = stream_or_string\n-    for obj in PythonDeserializer(yaml.load(stream), **options):\n+    for obj in PythonDeserializer(yaml.safe_load(stream), **options):\n         yield obj\n "
        },
        {
            "sha": "c8e476263bbb9f709e926d82d35456df5d3cd3a8",
            "filename": "docs/releases/1.4.txt",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d71b4309ca3c4c7aafc446404f86499c7366a771/docs%2Freleases%2F1.4.txt",
            "raw_url": "https://github.com/django/django/raw/d71b4309ca3c4c7aafc446404f86499c7366a771/docs%2Freleases%2F1.4.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.txt?ref=d71b4309ca3c4c7aafc446404f86499c7366a771",
            "patch": "@@ -743,6 +743,16 @@ you can easily achieve the same by overriding the `open` method, e.g.::\n         def open(self, name, mode='rb'):\n             return Spam(open(self.path(name), mode))\n \n+YAML deserializer now uses ``yaml.safe_load``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+``yaml.load`` is able to construct any Python object, which may trigger\n+arbitrary code execution if you process a YAML document that comes from an\n+untrusted source. This feature isn't necessary for Django's YAML deserializer,\n+whose primary use is to load fixtures consisting of simple objects. Even though\n+fixtures are trusted data, for additional security, the YAML deserializer now\n+uses ``yaml.safe_load``.\n+\n .. _deprecated-features-1.4:\n \n Features deprecated in 1.4"
        },
        {
            "sha": "99c065aeafa7f4b4b752a4db84e3def9c25d43bd",
            "filename": "tests/modeltests/serializers/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/d71b4309ca3c4c7aafc446404f86499c7366a771/tests%2Fmodeltests%2Fserializers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d71b4309ca3c4c7aafc446404f86499c7366a771/tests%2Fmodeltests%2Fserializers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fserializers%2Ftests.py?ref=d71b4309ca3c4c7aafc446404f86499c7366a771",
            "patch": "@@ -425,7 +425,7 @@ class YamlSerializerTestCase(SerializersTestBase, TestCase):\n         @staticmethod\n         def _validate_output(serial_str):\n             try:\n-                yaml.load(StringIO(serial_str))\n+                yaml.safe_load(StringIO(serial_str))\n             except Exception:\n                 return False\n             else:\n@@ -435,18 +435,18 @@ def _validate_output(serial_str):\n         def _get_pk_values(serial_str):\n             ret_list = []\n             stream = StringIO(serial_str)\n-            for obj_dict in yaml.load(stream):\n+            for obj_dict in yaml.safe_load(stream):\n                 ret_list.append(obj_dict[\"pk\"])\n             return ret_list\n \n         @staticmethod\n         def _get_field_values(serial_str, field_name):\n             ret_list = []\n             stream = StringIO(serial_str)\n-            for obj_dict in yaml.load(stream):\n+            for obj_dict in yaml.safe_load(stream):\n                 if \"fields\" in obj_dict and field_name in obj_dict[\"fields\"]:\n                     field_value = obj_dict[\"fields\"][field_name]\n-                    # yaml.load will return non-string objects for some\n+                    # yaml.safe_load will return non-string objects for some\n                     # of the fields we are interested in, this ensures that\n                     # everything comes back as a string\n                     if isinstance(field_value, basestring):"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 15,
        "deletions": 5
    }
}