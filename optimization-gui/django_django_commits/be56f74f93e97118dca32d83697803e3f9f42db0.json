{
    "author": "jezdez",
    "message": "Fixed #14998 -- Made use of os.path.join to make sure this works on all platforms. Thanks for the pointer, CarlFK.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15128 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "be56f74f93e97118dca32d83697803e3f9f42db0",
    "files": [
        {
            "sha": "10f9fdd016d7c794e8b2e73be4ab23233621d84e",
            "filename": "django/contrib/staticfiles/management/commands/collectstatic.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "raw_url": "https://github.com/django/django/raw/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py?ref=be56f74f93e97118dca32d83697803e3f9f42db0",
            "patch": "@@ -100,7 +100,7 @@ def copy_file(self, source, prefix, source_storage, **options):\n         except (OSError, NotImplementedError):\n             source_last_modified = None\n         if prefix:\n-            destination = '/'.join([prefix, source])\n+            destination = os.path.join(prefix, source)\n         else:\n             destination = source\n         symlink = options['link']"
        },
        {
            "sha": "56e5c0dec04085c0f204dcd108b65ec6705fe775",
            "filename": "django/contrib/staticfiles/storage.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fstorage.py?ref=be56f74f93e97118dca32d83697803e3f9f42db0",
            "patch": "@@ -82,6 +82,6 @@ def get_files(self, ignore_patterns=[]):\n         prefix = self.get_prefix()\n         for path in utils.get_files(self, ignore_patterns):\n             if prefix:\n-                path = '/'.join([prefix, path])\n+                path = os.path.join(prefix, path)\n             files.append(path)\n         return files"
        },
        {
            "sha": "187a6d34290a9ca828b86ab8385d02c1842f0841",
            "filename": "django/contrib/staticfiles/utils.py",
            "status": "modified",
            "additions": 5,
            "deletions": 6,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/be56f74f93e97118dca32d83697803e3f9f42db0/django%2Fcontrib%2Fstaticfiles%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Futils.py?ref=be56f74f93e97118dca32d83697803e3f9f42db0",
            "patch": "@@ -1,33 +1,32 @@\n+import os\n import fnmatch\n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured\n \n def get_files(storage, ignore_patterns=[], location=''):\n     \"\"\"\n-    Recursively walk the storage directories gathering a complete list of files\n-    that should be copied, returning this list.\n-    \n+    Recursively walk the storage directories gathering a complete\n+    list of files that should be copied, returning this list.\n     \"\"\"\n     def is_ignored(path):\n         \"\"\"\n         Return True or False depending on whether the ``path`` should be\n         ignored (if it matches any pattern in ``ignore_patterns``).\n-        \n         \"\"\"\n         for pattern in ignore_patterns:\n             if fnmatch.fnmatchcase(path, pattern):\n                 return True\n         return False\n \n     directories, files = storage.listdir(location)\n-    static_files = [location and '/'.join([location, fn]) or fn\n+    static_files = [location and os.path.join(location, fn) or fn\n                     for fn in files\n                     if not is_ignored(fn)]\n     for dir in directories:\n         if is_ignored(dir):\n             continue\n         if location:\n-            dir = '/'.join([location, dir])\n+            dir = os.path.join(location, dir)\n         static_files.extend(get_files(storage, ignore_patterns, dir))\n     return static_files\n "
        }
    ],
    "stats": {
        "total": 15,
        "additions": 7,
        "deletions": 8
    }
}