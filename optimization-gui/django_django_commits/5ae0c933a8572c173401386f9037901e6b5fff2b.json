{
    "author": "apollo13",
    "message": "Fixed errors introduced in 21f333bcefccc151d6439246f8203d609ab6ca79. Refs #17751",
    "sha": "5ae0c933a8572c173401386f9037901e6b5fff2b",
    "files": [
        {
            "sha": "948ae2867329e26d6eeb032df4b3f847ca5f5b0c",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/5ae0c933a8572c173401386f9037901e6b5fff2b/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/5ae0c933a8572c173401386f9037901e6b5fff2b/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=5ae0c933a8572c173401386f9037901e6b5fff2b",
            "patch": "@@ -129,7 +129,7 @@ def __call__(self, value):\n slug_re = re.compile(r'^[-a-zA-Z0-9_]+$')\n validate_slug = RegexValidator(slug_re, _(\"Enter a valid 'slug' consisting of letters, numbers, underscores or hyphens.\"), 'invalid')\n \n-ipv4_re = re.compile(r'^\\s*(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\s*$')\n+ipv4_re = re.compile(r'^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$')\n validate_ipv4_address = RegexValidator(ipv4_re, _('Enter a valid IPv4 address.'), 'invalid')\n \n "
        },
        {
            "sha": "277f0b093ec42112530b3b663c56e7b74b94faf9",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 7,
            "deletions": 9,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/5ae0c933a8572c173401386f9037901e6b5fff2b/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/5ae0c933a8572c173401386f9037901e6b5fff2b/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=5ae0c933a8572c173401386f9037901e6b5fff2b",
            "patch": "@@ -1096,9 +1096,10 @@ class IPAddressField(CharField):\n     }\n     default_validators = [validators.validate_ipv4_address]\n \n-    def clean(self, value):\n-        value = self.to_python(value).strip()\n-        return super(IPAddressField, self).clean(value)\n+    def to_python(self, value):\n+        if value in EMPTY_VALUES:\n+            return ''\n+        return value.strip()\n \n \n class GenericIPAddressField(CharField):\n@@ -1111,16 +1112,13 @@ def __init__(self, protocol='both', unpack_ipv4=False, *args, **kwargs):\n         self.default_error_messages['invalid'] = invalid_error_message\n         super(GenericIPAddressField, self).__init__(*args, **kwargs)\n \n-    def clean(self, value):\n-        value = self.to_python(value).strip()\n-        return super(GenericIPAddressField, self).clean(value)\n-\n     def to_python(self, value):\n         if value in validators.EMPTY_VALUES:\n             return ''\n+        value = value.strip()\n         if value and ':' in value:\n-                return clean_ipv6_address(value,\n-                    self.unpack_ipv4, self.error_messages['invalid'])\n+            return clean_ipv6_address(value,\n+                self.unpack_ipv4, self.error_messages['invalid'])\n         return value\n \n "
        },
        {
            "sha": "58b7b94e7fe9091a26617aef579d1c47f39f33f7",
            "filename": "tests/modeltests/validation/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 16,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/5ae0c933a8572c173401386f9037901e6b5fff2b/tests%2Fmodeltests%2Fvalidation%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/5ae0c933a8572c173401386f9037901e6b5fff2b/tests%2Fmodeltests%2Fvalidation%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftests.py?ref=5ae0c933a8572c173401386f9037901e6b5fff2b",
            "patch": "@@ -116,54 +116,40 @@ class GenericIPAddressFieldTests(ValidationTestCase):\n     def test_correct_generic_ip_passes(self):\n         giptm = GenericIPAddressTestModel(generic_ip=\"1.2.3.4\")\n         self.assertEqual(None, giptm.full_clean())\n-        giptm = GenericIPAddressTestModel(generic_ip=\" 1.2.3.4 \")\n-        self.assertEqual(None, giptm.full_clean())\n         giptm = GenericIPAddressTestModel(generic_ip=\"2001::2\")\n         self.assertEqual(None, giptm.full_clean())\n-        giptm = GenericIPAddressTestModel(generic_ip=\" 2001::2 \")\n-        self.assertEqual(None, giptm.full_clean())\n \n     def test_invalid_generic_ip_raises_error(self):\n         giptm = GenericIPAddressTestModel(generic_ip=\"294.4.2.1\")\n         self.assertFailsValidation(giptm.full_clean, ['generic_ip',])\n-        giptm = GenericIPAddressTestModel(generic_ip=\"1.2.3 .4\")\n-        self.assertFailsValidation(giptm.full_clean, ['generic_ip',])\n         giptm = GenericIPAddressTestModel(generic_ip=\"1:2\")\n         self.assertFailsValidation(giptm.full_clean, ['generic_ip',])\n \n     def test_correct_v4_ip_passes(self):\n         giptm = GenericIPAddressTestModel(v4_ip=\"1.2.3.4\")\n         self.assertEqual(None, giptm.full_clean())\n-        giptm = GenericIPAddressTestModel(v4_ip=\" 1.2.3.4 \")\n-        self.assertEqual(None, giptm.full_clean())\n \n     def test_invalid_v4_ip_raises_error(self):\n         giptm = GenericIPAddressTestModel(v4_ip=\"294.4.2.1\")\n         self.assertFailsValidation(giptm.full_clean, ['v4_ip',])\n-        giptm = GenericIPAddressTestModel(v4_ip=\"294.4 .2.1\")\n-        self.assertFailsValidation(giptm.full_clean, ['v4_ip',])\n         giptm = GenericIPAddressTestModel(v4_ip=\"2001::2\")\n         self.assertFailsValidation(giptm.full_clean, ['v4_ip',])\n \n     def test_correct_v6_ip_passes(self):\n         giptm = GenericIPAddressTestModel(v6_ip=\"2001::2\")\n         self.assertEqual(None, giptm.full_clean())\n-        giptm = GenericIPAddressTestModel(v6_ip=\" 2001::2 \")\n-        self.assertEqual(None, giptm.full_clean())\n \n     def test_invalid_v6_ip_raises_error(self):\n         giptm = GenericIPAddressTestModel(v6_ip=\"1.2.3.4\")\n         self.assertFailsValidation(giptm.full_clean, ['v6_ip',])\n-        giptm = GenericIPAddressTestModel(v6_ip=\"2001:: 2\")\n-        self.assertFailsValidation(giptm.full_clean, ['v6_ip',])\n         giptm = GenericIPAddressTestModel(v6_ip=\"1:2\")\n         self.assertFailsValidation(giptm.full_clean, ['v6_ip',])\n \n     def test_v6_uniqueness_detection(self):\n         # These two addresses are the same with different syntax\n-        giptm = GenericIPAddressTestModel(generic_ip=\" 2001::1:0:0:0:0:2\")\n+        giptm = GenericIPAddressTestModel(generic_ip=\"2001::1:0:0:0:0:2\")\n         giptm.save()\n-        giptm = GenericIPAddressTestModel(generic_ip=\"2001:0:1:2 \")\n+        giptm = GenericIPAddressTestModel(generic_ip=\"2001:0:1:2\")\n         self.assertFailsValidation(giptm.full_clean, ['generic_ip',])\n \n     def test_v4_unpack_uniqueness_detection(self):"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 10,
        "deletions": 26
    }
}