{
    "author": "claudep",
    "message": "Replaced the obsolete toggle event handling JS function\n\nThe toggle(func1, func2) event handling function has been removed\nin jQuery 1.9.",
    "sha": "4246fe6006090c08dcb2966889f74f48c80c5e65",
    "files": [
        {
            "sha": "3b1f31bd23d7ee78404695f4c66eaea9beec4723",
            "filename": "django/contrib/admin/static/admin/js/collapse.js",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4246fe6006090c08dcb2966889f74f48c80c5e65/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js",
            "raw_url": "https://github.com/django/django/raw/4246fe6006090c08dcb2966889f74f48c80c5e65/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js?ref=4246fe6006090c08dcb2966889f74f48c80c5e65",
            "patch": "@@ -10,15 +10,15 @@\n \t\t\t}\n \t\t});\n \t\t// Add toggle to anchor tag\n-\t\t$(\"fieldset.collapse a.collapse-toggle\").toggle(\n-\t\t\tfunction() { // Show\n+\t\t$(\"fieldset.collapse a.collapse-toggle\").click(function(ev) {\n+\t\t\tif ($(this).closest(\"fieldset\").hasClass(\"collapsed\")) {\n+\t\t\t\t// Show\n \t\t\t\t$(this).text(gettext(\"Hide\")).closest(\"fieldset\").removeClass(\"collapsed\").trigger(\"show.fieldset\", [$(this).attr(\"id\")]);\n-\t\t\t\treturn false;\n-\t\t\t},\n-\t\t\tfunction() { // Hide\n+\t\t\t} else {\n+\t\t\t\t// Hide\n \t\t\t\t$(this).text(gettext(\"Show\")).closest(\"fieldset\").addClass(\"collapsed\").trigger(\"hide.fieldset\", [$(this).attr(\"id\")]);\n-\t\t\t\treturn false;\n \t\t\t}\n-\t\t);\n+\t\t\treturn false;\n+\t\t});\n \t});\n })(django.jQuery);"
        },
        {
            "sha": "b32fbc34723db66119d06bfc51f8501670c3d131",
            "filename": "django/contrib/admin/static/admin/js/collapse.min.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4246fe6006090c08dcb2966889f74f48c80c5e65/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js",
            "raw_url": "https://github.com/django/django/raw/4246fe6006090c08dcb2966889f74f48c80c5e65/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js?ref=4246fe6006090c08dcb2966889f74f48c80c5e65",
            "patch": "@@ -1,2 +1,2 @@\n-(function(a){a(document).ready(function(){a(\"fieldset.collapse\").each(function(c,b){a(b).find(\"div.errors\").length==0&&a(b).addClass(\"collapsed\").find(\"h2\").first().append(' (<a id=\"fieldsetcollapser'+c+'\" class=\"collapse-toggle\" href=\"#\">'+gettext(\"Show\")+\"</a>)\")});a(\"fieldset.collapse a.collapse-toggle\").toggle(function(){a(this).text(gettext(\"Hide\")).closest(\"fieldset\").removeClass(\"collapsed\").trigger(\"show.fieldset\",[a(this).attr(\"id\")]);return false},function(){a(this).text(gettext(\"Show\")).closest(\"fieldset\").addClass(\"collapsed\").trigger(\"hide.fieldset\",\n-[a(this).attr(\"id\")]);return false})})})(django.jQuery);\n+(function(a){a(document).ready(function(){a(\"fieldset.collapse\").each(function(c,b){0==a(b).find(\"div.errors\").length&&a(b).addClass(\"collapsed\").find(\"h2\").first().append(' (<a id=\"fieldsetcollapser'+c+'\" class=\"collapse-toggle\" href=\"#\">'+gettext(\"Show\")+\"</a>)\")});a(\"fieldset.collapse a.collapse-toggle\").click(function(){a(this).closest(\"fieldset\").hasClass(\"collapsed\")?a(this).text(gettext(\"Hide\")).closest(\"fieldset\").removeClass(\"collapsed\").trigger(\"show.fieldset\",[a(this).attr(\"id\")]):a(this).text(gettext(\"Show\")).closest(\"fieldset\").addClass(\"collapsed\").trigger(\"hide.fieldset\",\n+[a(this).attr(\"id\")]);return!1})})})(django.jQuery);"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 9,
        "deletions": 9
    }
}