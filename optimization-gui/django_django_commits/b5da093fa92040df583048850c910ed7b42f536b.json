{
    "author": "spookylukey",
    "message": "In CSRF docs, moved 'Exceptions' section to 'Edge cases', and cleaned up some associated markup\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16188 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "b5da093fa92040df583048850c910ed7b42f536b",
    "files": [
        {
            "sha": "27cb3a91752128eea8c6602ee365dfc2ddce302d",
            "filename": "docs/ref/contrib/csrf.txt",
            "status": "modified",
            "additions": 23,
            "deletions": 15,
            "changes": 38,
            "blob_url": "https://github.com/django/django/blob/b5da093fa92040df583048850c910ed7b42f536b/docs%2Fref%2Fcontrib%2Fcsrf.txt",
            "raw_url": "https://github.com/django/django/raw/b5da093fa92040df583048850c910ed7b42f536b/docs%2Fref%2Fcontrib%2Fcsrf.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fcsrf.txt?ref=b5da093fa92040df583048850c910ed7b42f536b",
            "patch": "@@ -146,18 +146,6 @@ Use of the decorator is **not recommended** by itself, since if you forget to\n use it, you will have a security hole.  The 'belt and braces' strategy of using\n both is fine, and will incur minimal overhead.\n \n-Exceptions\n-----------\n-\n-To manually exclude a view function from being handled by either of the two CSRF\n-middleware, you can use the ``csrf_exempt`` decorator, found in the\n-``django.views.decorators.csrf`` module. For example::\n-\n-    from django.views.decorators.csrf import csrf_exempt\n-\n-    @csrf_exempt\n-    def my_view(request):\n-        return HttpResponse('Hello world')\n \n Subdomains\n ----------\n@@ -297,6 +285,17 @@ Utilities\n \n .. module:: django.views.decorators.csrf\n \n+.. function:: csrf_exempt(view)\n+\n+    This decorator marks a view as being exempt from the protection ensured by\n+    the middleware. Example::\n+\n+        from django.views.decorators.csrf import csrf_exempt\n+\n+        @csrf_exempt\n+        def my_view(request):\n+            return HttpResponse('Hello world')\n+\n .. function:: requires_csrf_token(view)\n \n     Normally the :ttag:`csrf_token` template tag will not work if\n@@ -319,22 +318,31 @@ Utilities\n Scenarios\n ---------\n \n+CSRF protection should be disabled for just a few views\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Most views requires CSRF protection, but a few do not.\n+\n+Solution: rather than disabling the middleware and applying ``csrf_protect`` to\n+all the views that need it, enable the middleware and use\n+:func:`~django.views.decorators.csrf.csrf_exempt`.\n+\n CsrfViewMiddleware.process_view not used\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n There are cases when may not have run before your view is run - 404 and 500\n handlers, for example - but you still need the CSRF token in a form.\n \n-Solution: use ``requires_csrf_token``\n-\n+Solution: use :func:`~django.views.decorators.csrf.requires_csrf_token`\n \n Unprotected view needs the CSRF token\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n There may be some views that are unprotected and have been exempted by\n ``csrf_exempt``, but still need to include the CSRF token.\n \n-Solution: use ``csrf_exempt`` followed by ``requires_csrf_token``.\n+Solution: use :func:`~django.views.decorators.csrf.csrf_exempt` followed by\n+:func:`~django.views.decorators.csrf.requires_csrf_token`.\n \n \n "
        }
    ],
    "stats": {
        "total": 38,
        "additions": 23,
        "deletions": 15
    }
}