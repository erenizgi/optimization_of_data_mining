{
    "author": "freakboy3742",
    "message": "Fixed #16243 -- Corrected test suite failure in model_forms when PIL isn't installed\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16391 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c013c07ed7908b009cfd2ccc511e3e635c66f3d6",
    "files": [
        {
            "sha": "0831035a550751811a888061cff3699758ff0d0d",
            "filename": "tests/modeltests/model_forms/tests.py",
            "status": "modified",
            "additions": 12,
            "deletions": 12,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/c013c07ed7908b009cfd2ccc511e3e635c66f3d6/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c013c07ed7908b009cfd2ccc511e3e635c66f3d6/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py?ref=c013c07ed7908b009cfd2ccc511e3e635c66f3d6",
            "patch": "@@ -14,11 +14,19 @@\n from modeltests.model_forms.models import (Article, ArticleStatus,\n     BetterWriter, BigInt, Book, Category, CommaSeparatedInteger,\n     CustomFieldForExclusionModel, DerivedBook, DerivedPost, ExplicitPK,\n-    FlexibleDatePost, ImageFile, ImprovedArticle,\n-    ImprovedArticleWithParentLink, Inventory, OptionalImageFile, PhoneNumber,\n-    Post, Price, Product, TextFile, Writer, WriterProfile,\n-    test_images)\n+    FlexibleDatePost, ImprovedArticle, ImprovedArticleWithParentLink,\n+    Inventory, PhoneNumber, Post, Price, Product, TextFile, Writer,\n+    WriterProfile, test_images)\n \n+if test_images:\n+    from modeltests.model_forms.models import ImageFile, OptionalImageFile\n+    class ImageFileForm(forms.ModelForm):\n+        class Meta:\n+            model = ImageFile\n+\n+    class OptionalImageFileForm(forms.ModelForm):\n+        class Meta:\n+            model = OptionalImageFile\n \n class ProductForm(forms.ModelForm):\n     class Meta:\n@@ -149,14 +157,6 @@ class BigIntForm(forms.ModelForm):\n     class Meta:\n         model = BigInt\n \n-class ImageFileForm(forms.ModelForm):\n-    class Meta:\n-        model = ImageFile\n-\n-class OptionalImageFileForm(forms.ModelForm):\n-    class Meta:\n-        model = OptionalImageFile\n-\n class ModelFormWithMedia(forms.ModelForm):\n     class Media:\n         js = ('/some/form/javascript',)"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 12,
        "deletions": 12
    }
}