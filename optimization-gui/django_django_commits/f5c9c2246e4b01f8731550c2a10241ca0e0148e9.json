{
    "author": "spookylukey",
    "message": "Improved warning about file uploads in docs, and added link from security overview page\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16521 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f5c9c2246e4b01f8731550c2a10241ca0e0148e9",
    "files": [
        {
            "sha": "95f01e640aef5b1848a23fcf1b36a5ac160cf44e",
            "filename": "docs/ref/models/fields.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/f5c9c2246e4b01f8731550c2a10241ca0e0148e9/docs%2Fref%2Fmodels%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/f5c9c2246e4b01f8731550c2a10241ca0e0148e9/docs%2Fref%2Fmodels%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Ffields.txt?ref=f5c9c2246e4b01f8731550c2a10241ca0e0148e9",
            "patch": "@@ -577,6 +577,8 @@ The uploaded file's relative URL can be obtained using the\n this calls the :meth:`~django.core.files.storage.Storage.url` method of the\n underlying :class:`~django.core.files.storage.Storage` class.\n \n+.. _file-upload-security:\n+\n Note that whenever you deal with uploaded files, you should pay close attention\n to where you're uploading them and what type of files they are, to avoid\n security holes. *Validate all uploaded files* so that you're sure the files are\n@@ -585,6 +587,10 @@ without validation, to a directory that's within your Web server's document\n root, then somebody could upload a CGI or PHP script and execute that script by\n visiting its URL on your site. Don't allow that.\n \n+Also note that even an uploaded HTML file, since it can be executed by the\n+browser (though not by the server), can pose security threats that are\n+equivalent to XSS or CSRF attacks.\n+\n By default, :class:`FileField` instances are\n created as ``varchar(100)`` columns in your database. As with other fields, you\n can change the maximum length using the :attr:`~CharField.max_length` argument."
        },
        {
            "sha": "02847bbb654f0134e57d1e2c3ed8906b3b9543af",
            "filename": "docs/topics/security.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/f5c9c2246e4b01f8731550c2a10241ca0e0148e9/docs%2Ftopics%2Fsecurity.txt",
            "raw_url": "https://github.com/django/django/raw/f5c9c2246e4b01f8731550c2a10241ca0e0148e9/docs%2Ftopics%2Fsecurity.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fsecurity.txt?ref=f5c9c2246e4b01f8731550c2a10241ca0e0148e9",
            "patch": "@@ -152,7 +152,9 @@ important to properly deploy your application and take advantage of the\n security protection of the web server, operating system and other components.\n \n * Make sure that your Python code is outside of the web server's root. This\n-  will ensure that your Python code is not accidentally served as plain text.\n+  will ensure that your Python code is not accidentally served as plain text\n+  (or accidentally executed).\n+* Take care with any :ref:`user uploaded files <file-upload-security>`.\n * Django does not throttle requests to authenticate users. To protect against\n   brute-force attacks against the authentication system, you may consider\n   deploying a Django plugin or web server module to throttle these requests."
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}