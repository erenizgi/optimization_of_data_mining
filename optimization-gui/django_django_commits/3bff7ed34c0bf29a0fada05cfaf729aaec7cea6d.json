{
    "author": "jezdez",
    "message": "Preserve order of STATICFILES_DIRS locations in FileSystemFinder.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15389 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "3bff7ed34c0bf29a0fada05cfaf729aaec7cea6d",
    "files": [
        {
            "sha": "7394e600f325462454ef4747f2f90e2849ddf35d",
            "filename": "django/contrib/staticfiles/finders.py",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/3bff7ed34c0bf29a0fada05cfaf729aaec7cea6d/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "raw_url": "https://github.com/django/django/raw/3bff7ed34c0bf29a0fada05cfaf729aaec7cea6d/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Ffinders.py?ref=3bff7ed34c0bf29a0fada05cfaf729aaec7cea6d",
            "patch": "@@ -42,10 +42,10 @@ class FileSystemFinder(BaseFinder):\n     to locate files.\n     \"\"\"\n     def __init__(self, apps=None, *args, **kwargs):\n+        # List of locations with static files\n+        self.locations = []\n         # Maps dir paths to an appropriate storage instance\n         self.storages = SortedDict()\n-        # Set of locations with static files\n-        self.locations = set()\n         if not isinstance(settings.STATICFILES_DIRS, (list, tuple)):\n             raise ImproperlyConfigured(\n                 \"Your STATICFILES_DIRS setting is not a tuple or list; \"\n@@ -59,13 +59,12 @@ def __init__(self, apps=None, *args, **kwargs):\n                 raise ImproperlyConfigured(\n                     \"The STATICFILES_DIRS setting should \"\n                     \"not contain the STATIC_ROOT setting\")\n-            self.locations.add((prefix, root))\n-        # Don't initialize multiple storages for the same location\n+            if (prefix, root) not in self.locations:\n+                self.locations.append((prefix, root))\n         for prefix, root in self.locations:\n             filesystem_storage = FileSystemStorage(location=root)\n             filesystem_storage.prefix = prefix\n             self.storages[root] = filesystem_storage\n-\n         super(FileSystemFinder, self).__init__(*args, **kwargs)\n \n     def find(self, path, all=False):"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 4,
        "deletions": 5
    }
}