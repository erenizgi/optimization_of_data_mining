{
    "author": "eduardocereto",
    "message": "Added complementary regression test for commit c1729510\n\nAlso fixed #18660.",
    "sha": "c9c9a5642512155e9693bf5fa6221fd26adeccca",
    "files": [
        {
            "sha": "b004d5f85ae83191fb6e8279f4bb877a18760a5d",
            "filename": "tests/regressiontests/admin_inlines/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/c9c9a5642512155e9693bf5fa6221fd26adeccca/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/c9c9a5642512155e9693bf5fa6221fd26adeccca/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py?ref=c9c9a5642512155e9693bf5fa6221fd26adeccca",
            "patch": "@@ -57,6 +57,9 @@ class Inner(models.Model):\n     holder = models.ForeignKey(Holder)\n     readonly = models.CharField(\"Inner readonly label\", max_length=1)\n \n+    def get_absolute_url(self):\n+        return '/inner/'\n+\n \n class Holder2(models.Model):\n     dummy = models.IntegerField()"
        },
        {
            "sha": "5bb6077bff58c3b26520480761c74b6a5cab9090",
            "filename": "tests/regressiontests/admin_inlines/tests.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/c9c9a5642512155e9693bf5fa6221fd26adeccca/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c9c9a5642512155e9693bf5fa6221fd26adeccca/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py?ref=c9c9a5642512155e9693bf5fa6221fd26adeccca",
            "patch": "@@ -148,6 +148,18 @@ def test_non_related_name_inline(self):\n                 '<input id=\"id_-2-0-name\" type=\"text\" class=\"vTextField\" '\n                 'name=\"-2-0-name\" maxlength=\"100\" />', html=True)\n \n+    @override_settings(USE_L10N=True, USE_THOUSAND_SEPARATOR=True)\n+    def test_localize_pk_shortcut(self):\n+        \"\"\"\n+        Ensure that the \"View on Site\" link is correct for locales that use\n+        thousand separators\n+        \"\"\"\n+        holder = Holder.objects.create(pk=123456789, dummy=42)\n+        inner = Inner.objects.create(pk=987654321, holder=holder, dummy=42, readonly='')\n+        response = self.client.get('/admin/admin_inlines/holder/%i/' % holder.id)\n+        inner_shortcut = 'r/%s/%s/'%(ContentType.objects.get_for_model(inner).pk, inner.pk)\n+        self.assertContains(response, inner_shortcut)\n+\n     def test_custom_pk_shortcut(self):\n         \"\"\"\n         Ensure that the \"View on Site\" link is correct for models with a"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 15,
        "deletions": 0
    }
}