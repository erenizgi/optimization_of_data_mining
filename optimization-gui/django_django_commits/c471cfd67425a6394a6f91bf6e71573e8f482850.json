{
    "author": "aaugustin",
    "message": "Avoided importing _mysql directly. Refs #17755.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17602 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c471cfd67425a6394a6f91bf6e71573e8f482850",
    "files": [
        {
            "sha": "5ad7b893e8ec405bc0317cd96f217b6fc4d91a6d",
            "filename": "django/db/backends/mysql/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/c471cfd67425a6394a6f91bf6e71573e8f482850/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/c471cfd67425a6394a6f91bf6e71573e8f482850/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py?ref=c471cfd67425a6394a6f91bf6e71573e8f482850",
            "patch": "@@ -23,9 +23,8 @@\n     from django.core.exceptions import ImproperlyConfigured\n     raise ImproperlyConfigured(\"MySQLdb-1.2.1p2 or newer is required; you have %s\" % Database.__version__)\n \n-from MySQLdb.converters import conversions\n+from MySQLdb.converters import conversions, Thing2Literal\n from MySQLdb.constants import FIELD_TYPE, CLIENT\n-from _mysql import string_literal\n \n from django.db import utils\n from django.db.backends import *\n@@ -66,7 +65,7 @@ def adapt_datetime_with_timezone_support(value, conv):\n             default_timezone = timezone.get_default_timezone()\n             value = timezone.make_aware(value, default_timezone)\n         value = value.astimezone(timezone.utc).replace(tzinfo=None)\n-    return string_literal(value.strftime(\"%Y-%m-%d %H:%M:%S\"), conv)\n+    return Thing2Literal(value.strftime(\"%Y-%m-%d %H:%M:%S\"), conv)\n \n # MySQLdb-1.2.1 returns TIME columns as timedelta -- they are more like\n # timedelta in terms of actual behavior as they are signed and include days --"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 2,
        "deletions": 3
    }
}