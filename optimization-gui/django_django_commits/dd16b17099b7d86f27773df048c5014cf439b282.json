{
    "author": "apollo13",
    "message": "Fixed a security issue in image uploading. Disclosure and release forthcoming.",
    "sha": "dd16b17099b7d86f27773df048c5014cf439b282",
    "files": [
        {
            "sha": "7d7eac65db934e40e8784cc86460d983be0b6795",
            "filename": "django/core/files/images.py",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/dd16b17099b7d86f27773df048c5014cf439b282/django%2Fcore%2Ffiles%2Fimages.py",
            "raw_url": "https://github.com/django/django/raw/dd16b17099b7d86f27773df048c5014cf439b282/django%2Fcore%2Ffiles%2Fimages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fimages.py?ref=dd16b17099b7d86f27773df048c5014cf439b282",
            "patch": "@@ -47,13 +47,18 @@ def get_image_dimensions(file_or_path, close=False):\n         file = open(file_or_path, 'rb')\n         close = True\n     try:\n+        # Most of the time PIL only needs a small chunk to parse the image and\n+        # get the dimensions, but with some TIFF files PIL needs to parse the\n+        # whole file.\n+        chunk_size = 1024\n         while 1:\n-            data = file.read(1024)\n+            data = file.read(chunk_size)\n             if not data:\n                 break\n             p.feed(data)\n             if p.image:\n                 return p.image.size\n+            chunk_size = chunk_size*2\n         return None\n     finally:\n         if close:"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}