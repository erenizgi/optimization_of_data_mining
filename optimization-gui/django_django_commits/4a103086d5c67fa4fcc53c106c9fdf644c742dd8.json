{
    "author": "claudep",
    "message": "Fixed #18269 -- Applied unicode_literals for Python 3 compatibility.\n\nThanks Vinay Sajip for the support of his django3 branch and\nJannis Leidel for the review.",
    "sha": "4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
    "files": [
        {
            "sha": "93e98194a420a0d86df51defec5d637580d7d983",
            "filename": "django/conf/locale/__init__.py",
            "status": "modified",
            "additions": 74,
            "deletions": 72,
            "changes": 146,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,434 +1,436 @@\n+from __future__ import unicode_literals\n+\n LANG_INFO = {\n     'ar': {\n         'bidi': True,\n         'code': 'ar',\n         'name': 'Arabic',\n-        'name_local': u'\\u0627\\u0644\\u0639\\u0631\\u0628\\u064a\\u0651\\u0629',\n+        'name_local': '\\u0627\\u0644\\u0639\\u0631\\u0628\\u064a\\u0651\\u0629',\n     },\n     'az': {\n         'bidi': True,\n         'code': 'az',\n         'name': 'Azerbaijani',\n-        'name_local': u'az\\u0259rbaycan dili',\n+        'name_local': 'az\\u0259rbaycan dili',\n     },\n     'bg': {\n         'bidi': False,\n         'code': 'bg',\n         'name': 'Bulgarian',\n-        'name_local': u'\\u0431\\u044a\\u043b\\u0433\\u0430\\u0440\\u0441\\u043a\\u0438',\n+        'name_local': '\\u0431\\u044a\\u043b\\u0433\\u0430\\u0440\\u0441\\u043a\\u0438',\n     },\n     'bn': {\n         'bidi': False,\n         'code': 'bn',\n         'name': 'Bengali',\n-        'name_local': u'\\u09ac\\u09be\\u0982\\u09b2\\u09be',\n+        'name_local': '\\u09ac\\u09be\\u0982\\u09b2\\u09be',\n     },\n     'bs': {\n         'bidi': False,\n         'code': 'bs',\n         'name': 'Bosnian',\n-        'name_local': u'bosanski',\n+        'name_local': 'bosanski',\n     },\n     'ca': {\n         'bidi': False,\n         'code': 'ca',\n         'name': 'Catalan',\n-        'name_local': u'catal\\xe0',\n+        'name_local': 'catal\\xe0',\n     },\n     'cs': {\n         'bidi': False,\n         'code': 'cs',\n         'name': 'Czech',\n-        'name_local': u'\\u010desky',\n+        'name_local': '\\u010desky',\n     },\n     'cy': {\n         'bidi': False,\n         'code': 'cy',\n         'name': 'Welsh',\n-        'name_local': u'Cymraeg',\n+        'name_local': 'Cymraeg',\n     },\n     'da': {\n         'bidi': False,\n         'code': 'da',\n         'name': 'Danish',\n-        'name_local': u'Dansk',\n+        'name_local': 'Dansk',\n     },\n     'de': {\n         'bidi': False,\n         'code': 'de',\n         'name': 'German',\n-        'name_local': u'Deutsch',\n+        'name_local': 'Deutsch',\n     },\n     'el': {\n         'bidi': False,\n         'code': 'el',\n         'name': 'Greek',\n-        'name_local': u'\\u0395\\u03bb\\u03bb\\u03b7\\u03bd\\u03b9\\u03ba\\u03ac',\n+        'name_local': '\\u0395\\u03bb\\u03bb\\u03b7\\u03bd\\u03b9\\u03ba\\u03ac',\n     },\n     'en': {\n         'bidi': False,\n         'code': 'en',\n         'name': 'English',\n-        'name_local': u'English',\n+        'name_local': 'English',\n     },\n     'en-gb': {\n         'bidi': False,\n         'code': 'en-gb',\n         'name': 'British English',\n-        'name_local': u'British English',\n+        'name_local': 'British English',\n     },\n     'eo': {\n         'bidi': False,\n         'code': 'eo',\n         'name': 'Esperanto',\n-        'name_local': u'Esperanto',\n+        'name_local': 'Esperanto',\n     },\n     'es': {\n         'bidi': False,\n         'code': 'es',\n         'name': 'Spanish',\n-        'name_local': u'espa\\xf1ol',\n+        'name_local': 'espa\\xf1ol',\n     },\n     'es-ar': {\n         'bidi': False,\n         'code': 'es-ar',\n         'name': 'Argentinian Spanish',\n-        'name_local': u'espa\\xf1ol de Argentina',\n+        'name_local': 'espa\\xf1ol de Argentina',\n     },\n     'es-mx': {\n         'bidi': False,\n         'code': 'es-mx',\n         'name': 'Mexican Spanish',\n-        'name_local': u'espa\\xf1ol de Mexico',\n+        'name_local': 'espa\\xf1ol de Mexico',\n     },\n     'es-ni': {\n         'bidi': False,\n         'code': 'es-ni',\n         'name': 'Nicaraguan Spanish',\n-        'name_local': u'espa\\xf1ol de Nicaragua',\n+        'name_local': 'espa\\xf1ol de Nicaragua',\n     },\n     'et': {\n         'bidi': False,\n         'code': 'et',\n         'name': 'Estonian',\n-        'name_local': u'eesti',\n+        'name_local': 'eesti',\n     },\n     'eu': {\n         'bidi': False,\n         'code': 'eu',\n         'name': 'Basque',\n-        'name_local': u'Basque',\n+        'name_local': 'Basque',\n     },\n     'fa': {\n         'bidi': True,\n         'code': 'fa',\n         'name': 'Persian',\n-        'name_local': u'\\u0641\\u0627\\u0631\\u0633\\u06cc',\n+        'name_local': '\\u0641\\u0627\\u0631\\u0633\\u06cc',\n     },\n     'fi': {\n         'bidi': False,\n         'code': 'fi',\n         'name': 'Finnish',\n-        'name_local': u'suomi',\n+        'name_local': 'suomi',\n     },\n     'fr': {\n         'bidi': False,\n         'code': 'fr',\n         'name': 'French',\n-        'name_local': u'Fran\\xe7ais',\n+        'name_local': 'Fran\\xe7ais',\n     },\n     'fy-nl': {\n         'bidi': False,\n         'code': 'fy-nl',\n         'name': 'Frisian',\n-        'name_local': u'Frisian',\n+        'name_local': 'Frisian',\n     },\n     'ga': {\n         'bidi': False,\n         'code': 'ga',\n         'name': 'Irish',\n-        'name_local': u'Gaeilge',\n+        'name_local': 'Gaeilge',\n     },\n     'gl': {\n         'bidi': False,\n         'code': 'gl',\n         'name': 'Galician',\n-        'name_local': u'galego',\n+        'name_local': 'galego',\n     },\n     'he': {\n         'bidi': True,\n         'code': 'he',\n         'name': 'Hebrew',\n-        'name_local': u'\\u05e2\\u05d1\\u05e8\\u05d9\\u05ea',\n+        'name_local': '\\u05e2\\u05d1\\u05e8\\u05d9\\u05ea',\n     },\n     'hi': {\n         'bidi': False,\n         'code': 'hi',\n         'name': 'Hindi',\n-        'name_local': u'Hindi',\n+        'name_local': 'Hindi',\n     },\n     'hr': {\n         'bidi': False,\n         'code': 'hr',\n         'name': 'Croatian',\n-        'name_local': u'Hrvatski',\n+        'name_local': 'Hrvatski',\n     },\n     'hu': {\n         'bidi': False,\n         'code': 'hu',\n         'name': 'Hungarian',\n-        'name_local': u'Magyar',\n+        'name_local': 'Magyar',\n     },\n     'id': {\n         'bidi': False,\n         'code': 'id',\n         'name': 'Indonesian',\n-        'name_local': u'Bahasa Indonesia',\n+        'name_local': 'Bahasa Indonesia',\n     },\n     'is': {\n         'bidi': False,\n         'code': 'is',\n         'name': 'Icelandic',\n-        'name_local': u'\\xcdslenska',\n+        'name_local': '\\xcdslenska',\n     },\n     'it': {\n         'bidi': False,\n         'code': 'it',\n         'name': 'Italian',\n-        'name_local': u'italiano',\n+        'name_local': 'italiano',\n     },\n     'ja': {\n         'bidi': False,\n         'code': 'ja',\n         'name': 'Japanese',\n-        'name_local': u'\\u65e5\\u672c\\u8a9e',\n+        'name_local': '\\u65e5\\u672c\\u8a9e',\n     },\n     'ka': {\n         'bidi': False,\n         'code': 'ka',\n         'name': 'Georgian',\n-        'name_local': u'\\u10e5\\u10d0\\u10e0\\u10d7\\u10e3\\u10da\\u10d8',\n+        'name_local': '\\u10e5\\u10d0\\u10e0\\u10d7\\u10e3\\u10da\\u10d8',\n     },\n     'kk': {\n         'bidi': False,\n         'code': 'kk',\n         'name': 'Kazakh',\n-        'name_local': u'\\u049a\\u0430\\u0437\\u0430\\u049b',\n+        'name_local': '\\u049a\\u0430\\u0437\\u0430\\u049b',\n     },\n     'km': {\n         'bidi': False,\n         'code': 'km',\n         'name': 'Khmer',\n-        'name_local': u'Khmer',\n+        'name_local': 'Khmer',\n     },\n     'kn': {\n         'bidi': False,\n         'code': 'kn',\n         'name': 'Kannada',\n-        'name_local': u'Kannada',\n+        'name_local': 'Kannada',\n     },\n     'ko': {\n         'bidi': False,\n         'code': 'ko',\n         'name': 'Korean',\n-        'name_local': u'\\ud55c\\uad6d\\uc5b4',\n+        'name_local': '\\ud55c\\uad6d\\uc5b4',\n     },\n     'lt': {\n         'bidi': False,\n         'code': 'lt',\n         'name': 'Lithuanian',\n-        'name_local': u'Lithuanian',\n+        'name_local': 'Lithuanian',\n     },\n     'lv': {\n         'bidi': False,\n         'code': 'lv',\n         'name': 'Latvian',\n-        'name_local': u'latvie\\u0161u',\n+        'name_local': 'latvie\\u0161u',\n     },\n     'mk': {\n         'bidi': False,\n         'code': 'mk',\n         'name': 'Macedonian',\n-        'name_local': u'\\u041c\\u0430\\u043a\\u0435\\u0434\\u043e\\u043d\\u0441\\u043a\\u0438',\n+        'name_local': '\\u041c\\u0430\\u043a\\u0435\\u0434\\u043e\\u043d\\u0441\\u043a\\u0438',\n     },\n     'ml': {\n         'bidi': False,\n         'code': 'ml',\n         'name': 'Malayalam',\n-        'name_local': u'Malayalam',\n+        'name_local': 'Malayalam',\n     },\n     'mn': {\n         'bidi': False,\n         'code': 'mn',\n         'name': 'Mongolian',\n-        'name_local': u'Mongolian',\n+        'name_local': 'Mongolian',\n     },\n     'nb': {\n         'bidi': False,\n         'code': 'nb',\n         'name': 'Norwegian Bokmal',\n-        'name_local': u'Norsk (bokm\\xe5l)',\n+        'name_local': 'Norsk (bokm\\xe5l)',\n     },\n     'ne': {\n         'bidi': False,\n         'code': 'ne',\n         'name': 'Nepali',\n-        'name_local': u'\\u0928\\u0947\\u092a\\u093e\\u0932\\u0940',\n+        'name_local': '\\u0928\\u0947\\u092a\\u093e\\u0932\\u0940',\n     },\n     'nl': {\n         'bidi': False,\n         'code': 'nl',\n         'name': 'Dutch',\n-        'name_local': u'Nederlands',\n+        'name_local': 'Nederlands',\n     },\n     'nn': {\n         'bidi': False,\n         'code': 'nn',\n         'name': 'Norwegian Nynorsk',\n-        'name_local': u'Norsk (nynorsk)',\n+        'name_local': 'Norsk (nynorsk)',\n     },\n     'no': {\n         'bidi': False,\n         'code': 'no',\n         'name': 'Norwegian',\n-        'name_local': u'Norsk',\n+        'name_local': 'Norsk',\n     },\n     'pa': {\n         'bidi': False,\n         'code': 'pa',\n         'name': 'Punjabi',\n-        'name_local': u'Punjabi',\n+        'name_local': 'Punjabi',\n     },\n     'pl': {\n         'bidi': False,\n         'code': 'pl',\n         'name': 'Polish',\n-        'name_local': u'polski',\n+        'name_local': 'polski',\n     },\n     'pt': {\n         'bidi': False,\n         'code': 'pt',\n         'name': 'Portuguese',\n-        'name_local': u'Portugu\\xeas',\n+        'name_local': 'Portugu\\xeas',\n     },\n     'pt-br': {\n         'bidi': False,\n         'code': 'pt-br',\n         'name': 'Brazilian Portuguese',\n-        'name_local': u'Portugu\\xeas Brasileiro',\n+        'name_local': 'Portugu\\xeas Brasileiro',\n     },\n     'ro': {\n         'bidi': False,\n         'code': 'ro',\n         'name': 'Romanian',\n-        'name_local': u'Rom\\xe2n\\u0103',\n+        'name_local': 'Rom\\xe2n\\u0103',\n     },\n     'ru': {\n         'bidi': False,\n         'code': 'ru',\n         'name': 'Russian',\n-        'name_local': u'\\u0420\\u0443\\u0441\\u0441\\u043a\\u0438\\u0439',\n+        'name_local': '\\u0420\\u0443\\u0441\\u0441\\u043a\\u0438\\u0439',\n     },\n     'sk': {\n         'bidi': False,\n         'code': 'sk',\n         'name': 'Slovak',\n-        'name_local': u'slovensk\\xfd',\n+        'name_local': 'slovensk\\xfd',\n     },\n     'sl': {\n         'bidi': False,\n         'code': 'sl',\n         'name': 'Slovenian',\n-        'name_local': u'Sloven\\u0161\\u010dina',\n+        'name_local': 'Sloven\\u0161\\u010dina',\n     },\n     'sq': {\n         'bidi': False,\n         'code': 'sq',\n         'name': 'Albanian',\n-        'name_local': u'Albanian',\n+        'name_local': 'Albanian',\n     },\n     'sr': {\n         'bidi': False,\n         'code': 'sr',\n         'name': 'Serbian',\n-        'name_local': u'\\u0441\\u0440\\u043f\\u0441\\u043a\\u0438',\n+        'name_local': '\\u0441\\u0440\\u043f\\u0441\\u043a\\u0438',\n     },\n     'sr-latn': {\n         'bidi': False,\n         'code': 'sr-latn',\n         'name': 'Serbian Latin',\n-        'name_local': u'srpski (latinica)',\n+        'name_local': 'srpski (latinica)',\n     },\n     'sv': {\n         'bidi': False,\n         'code': 'sv',\n         'name': 'Swedish',\n-        'name_local': u'Svenska',\n+        'name_local': 'Svenska',\n     },\n     'sw': {\n         'bidi': False,\n         'code': 'sw',\n         'name': 'Swahili',\n-        'name_local': u'Kiswahili',\n+        'name_local': 'Kiswahili',\n     },\n     'ta': {\n         'bidi': False,\n         'code': 'ta',\n         'name': 'Tamil',\n-        'name_local': u'\\u0ba4\\u0bae\\u0bbf\\u0bb4\\u0bcd',\n+        'name_local': '\\u0ba4\\u0bae\\u0bbf\\u0bb4\\u0bcd',\n     },\n     'te': {\n         'bidi': False,\n         'code': 'te',\n         'name': 'Telugu',\n-        'name_local': u'\\u0c24\\u0c46\\u0c32\\u0c41\\u0c17\\u0c41',\n+        'name_local': '\\u0c24\\u0c46\\u0c32\\u0c41\\u0c17\\u0c41',\n     },\n     'th': {\n         'bidi': False,\n         'code': 'th',\n         'name': 'Thai',\n-        'name_local': u'Thai',\n+        'name_local': 'Thai',\n     },\n     'tr': {\n         'bidi': False,\n         'code': 'tr',\n         'name': 'Turkish',\n-        'name_local': u'T\\xfcrk\\xe7e',\n+        'name_local': 'T\\xfcrk\\xe7e',\n     },\n     'tt': {\n         'bidi': False,\n         'code': 'tt',\n         'name': 'Tatar',\n-        'name_local': u'\\u0422\\u0430\\u0442\\u0430\\u0440\\u0447\\u0430',\n+        'name_local': '\\u0422\\u0430\\u0442\\u0430\\u0440\\u0447\\u0430',\n     },\n     'uk': {\n         'bidi': False,\n         'code': 'uk',\n         'name': 'Ukrainian',\n-        'name_local': u'\\u0423\\u043a\\u0440\\u0430\\u0457\\u043d\\u0441\\u044c\\u043a\\u0430',\n+        'name_local': '\\u0423\\u043a\\u0440\\u0430\\u0457\\u043d\\u0441\\u044c\\u043a\\u0430',\n     },\n     'ur': {\n         'bidi': False,\n         'code': 'ur',\n         'name': 'Urdu',\n-        'name_local': u'\\u0627\\u0631\\u062f\\u0648',\n+        'name_local': '\\u0627\\u0631\\u062f\\u0648',\n     },\n     'vi': {\n         'bidi': False,\n         'code': 'vi',\n         'name': 'Vietnamese',\n-        'name_local': u'Vietnamese',\n+        'name_local': 'Vietnamese',\n     },\n     'zh-cn': {\n         'bidi': False,\n         'code': 'zh-cn',\n         'name': 'Simplified Chinese',\n-        'name_local': u'\\u7b80\\u4f53\\u4e2d\\u6587',\n+        'name_local': '\\u7b80\\u4f53\\u4e2d\\u6587',\n     },\n     'zh-tw': {\n         'bidi': False,\n         'code': 'zh-tw',\n         'name': 'Traditional Chinese',\n-        'name_local': u'\\u7e41\\u9ad4\\u4e2d\\u6587',\n+        'name_local': '\\u7e41\\u9ad4\\u4e2d\\u6587',\n     }\n }"
        },
        {
            "sha": "c5e89737b629e599b6e668c8917cc28e24fca682",
            "filename": "django/conf/locale/bg/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fbg%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fbg%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fbg%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -19,5 +20,5 @@\n # TIME_INPUT_FORMATS = \n # DATETIME_INPUT_FORMATS = \n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' ' # Non-breaking space\n+THOUSAND_SEPARATOR = ' ' # Non-breaking space\n # NUMBER_GROUPING = "
        },
        {
            "sha": "f0b674227b62bd03a5b9c84bfd3ee8591d06ac08",
            "filename": "django/conf/locale/cs/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fcs%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fcs%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fcs%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -33,5 +34,5 @@\n     '%Y-%m-%d',             # '2006-10-25'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "6cf2335f5ee255f4f1c5e262e052ca818c999e35",
            "filename": "django/conf/locale/en/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fen%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fen%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fen%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -37,7 +37,7 @@\n     '%m/%d/%y %H:%M',        # '10/25/06 14:30'\n     '%m/%d/%y',              # '10/25/06'\n )\n-DECIMAL_SEPARATOR = u'.'\n-THOUSAND_SEPARATOR = u','\n+DECIMAL_SEPARATOR = '.'\n+THOUSAND_SEPARATOR = ','\n NUMBER_GROUPING = 3\n "
        },
        {
            "sha": "cef6b4e2f9208e4c1e2eb04be3647811e75d7ab9",
            "filename": "django/conf/locale/es_MX/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fes_MX%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fes_MX%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fes_MX%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n DATE_FORMAT = r'j \\d\\e F \\d\\e Y'\n TIME_FORMAT = 'H:i:s'\n@@ -24,5 +25,5 @@\n     '%d/%m/%y %H:%M',\n )\n DECIMAL_SEPARATOR = '.'   # ',' is also official (less common): NOM-008-SCFI-2002\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "dd0d1a696e437b6b2b1fe249388e92c0ae2a968a",
            "filename": "django/conf/locale/et/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fet%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fet%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fet%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -19,5 +20,5 @@\n # TIME_INPUT_FORMATS = \n # DATETIME_INPUT_FORMATS = \n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' ' # Non-breaking space\n+THOUSAND_SEPARATOR = ' ' # Non-breaking space\n # NUMBER_GROUPING = "
        },
        {
            "sha": "9a658eed402a96af7367fa981b480d12eae69772",
            "filename": "django/conf/locale/fi/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Ffi%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Ffi%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Ffi%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -19,5 +20,5 @@\n # TIME_INPUT_FORMATS = \n # DATETIME_INPUT_FORMATS = \n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' ' # Non-breaking space\n+THOUSAND_SEPARATOR = ' ' # Non-breaking space\n # NUMBER_GROUPING = "
        },
        {
            "sha": "3b5e8861d8789ec681373bf317b53a59fc3c83b9",
            "filename": "django/conf/locale/fr/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Ffr%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Ffr%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Ffr%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -37,5 +38,5 @@\n     '%Y-%m-%d',             # '2006-10-25'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "1c8b1b55663087bea4d50891a06aa9c9a8e663e3",
            "filename": "django/conf/locale/he/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fhe%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fhe%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fhe%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "a9298bf022fa6bd12211464e2830267d2b13d4af",
            "filename": "django/conf/locale/hu/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fhu%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fhu%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fhu%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -28,5 +29,5 @@\n     '%Y.%m.%d.',            # '2006.10.25.'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' ' # Non-breaking space\n+THOUSAND_SEPARATOR = ' ' # Non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "263aa0a3444be4db8b263003c9086bef936e04aa",
            "filename": "django/conf/locale/ja/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fja%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fja%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fja%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "ace2fc1eea395594bdb0ad6e073f86f71a7db724",
            "filename": "django/conf/locale/km/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fkm%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fkm%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fkm%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "3c0431e4bfc243c5563ef5bb690654b0468c79ea",
            "filename": "django/conf/locale/ko/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fko%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fko%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fko%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "e4ef524adf67fda1cd3c55fcf5879008c40c1e42",
            "filename": "django/conf/locale/lv/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Flv%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Flv%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Flv%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -37,5 +38,5 @@\n     '%d.%m.%y',              # '25.10.06'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' ' # Non-breaking space\n+THOUSAND_SEPARATOR = ' ' # Non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "4a896dd80d143ca3cb608bb33b475d5e007336f9",
            "filename": "django/conf/locale/nb/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fnb%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fnb%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fnb%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -39,5 +40,5 @@\n     '%d.%m.%y',              # '25.10.06'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "4a896dd80d143ca3cb608bb33b475d5e007336f9",
            "filename": "django/conf/locale/nn/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fnn%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fnn%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fnn%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -39,5 +40,5 @@\n     '%d.%m.%y',              # '25.10.06'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "021063d474de1db310125424ea555749de4a8b4e",
            "filename": "django/conf/locale/pl/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fpl%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fpl%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fpl%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -33,5 +34,5 @@\n     '%Y-%m-%d',             # '2006-10-25'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' '\n+THOUSAND_SEPARATOR = ' '\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "6d9edeecce9034afaad19a7f265fc6e0e86fa341",
            "filename": "django/conf/locale/pt_BR/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fpt_BR%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fpt_BR%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fpt_BR%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "ec46bff4005570dff69b69ddfcbb3c478035cb0f",
            "filename": "django/conf/locale/ru/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fru%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fru%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fru%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -36,5 +37,5 @@\n     '%Y-%m-%d',           # '2006-10-25'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "4b2201f49ae3fcaa123fecee0c14ca9b51246781",
            "filename": "django/conf/locale/sk/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fsk%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fsk%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fsk%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -33,5 +34,5 @@\n     '%Y-%m-%d',             # '2006-10-25'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "767dbe8d3ea0a4cecf1dd483f088ce969b0e894c",
            "filename": "django/conf/locale/sv/formats.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fsv%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fsv%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fsv%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n@@ -36,5 +37,5 @@\n     '%m/%d/%y',              # '10/25/06'\n )\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "11293f047ab33facfc8e7a40d41672eeaac08c4b",
            "filename": "django/conf/locale/uk/formats.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fuk%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fuk%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fuk%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,8 @@\n # This file is distributed under the same license as the Django package.\n #\n \n+from __future__ import unicode_literals\n+\n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n DATE_FORMAT = 'j E Y р.'\n@@ -19,5 +21,5 @@\n # TIME_INPUT_FORMATS = \n # DATETIME_INPUT_FORMATS = \n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u' '\n+THOUSAND_SEPARATOR = ' '\n # NUMBER_GROUPING = "
        },
        {
            "sha": "b491c2d20c9481f9d7beb2f5531b455d20a66134",
            "filename": "django/conf/locale/vi/formats.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fvi%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fconf%2Flocale%2Fvi%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Flocale%2Fvi%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n # -*- encoding: utf-8 -*-\n # This file is distributed under the same license as the Django package.\n #\n+from __future__ import unicode_literals\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date"
        },
        {
            "sha": "398af075b1f656cf4b9bf17e8c7c5d36951faea6",
            "filename": "django/contrib/admin/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,9 +1,10 @@\n+from __future__ import unicode_literals\n+\n from django import forms\n \n from django.contrib.auth import authenticate\n from django.contrib.auth.forms import AuthenticationForm\n from django.contrib.auth.models import User\n-\n from django.utils.translation import ugettext_lazy, ugettext as _\n \n ERROR_MESSAGE = ugettext_lazy(\"Please enter the correct username and password \"\n@@ -25,7 +26,7 @@ def clean(self):\n         if username and password:\n             self.user_cache = authenticate(username=username, password=password)\n             if self.user_cache is None:\n-                if u'@' in username:\n+                if '@' in username:\n                     # Mistakenly entered e-mail address instead of username? Look it up.\n                     try:\n                         user = User.objects.get(email=username)"
        },
        {
            "sha": "6c648ecb4add7ba81c6e8dce3a2c0578c2b0ba16",
            "filename": "django/contrib/admin/helpers.py",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fhelpers.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fhelpers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fhelpers.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import forms\n from django.contrib.admin.util import (flatten_fieldsets, lookup_field,\n     display_for_field, label_for_field, help_text_for_field)\n@@ -69,7 +71,7 @@ def __init__(self, form, name=None, readonly_fields=(), fields=(), classes=(),\n       description=None, model_admin=None):\n         self.form = form\n         self.name, self.fields = name, fields\n-        self.classes = u' '.join(classes)\n+        self.classes = ' '.join(classes)\n         self.description = description\n         self.model_admin = model_admin\n         self.readonly_fields = readonly_fields\n@@ -109,7 +111,7 @@ def __iter__(self):\n                 yield AdminField(self.form, field, is_first=(i == 0))\n \n     def errors(self):\n-        return mark_safe(u'\\n'.join([self.form[f].errors.as_ul() for f in self.fields if f not in self.readonly_fields]).strip('\\n'))\n+        return mark_safe('\\n'.join([self.form[f].errors.as_ul() for f in self.fields if f not in self.readonly_fields]).strip('\\n'))\n \n class AdminField(object):\n     def __init__(self, form, field, is_first):\n@@ -121,14 +123,14 @@ def label_tag(self):\n         classes = []\n         contents = conditional_escape(force_unicode(self.field.label))\n         if self.is_checkbox:\n-            classes.append(u'vCheckboxLabel')\n+            classes.append('vCheckboxLabel')\n         else:\n-            contents += u':'\n+            contents += ':'\n         if self.field.field.required:\n-            classes.append(u'required')\n+            classes.append('required')\n         if not self.is_first:\n-            classes.append(u'inline')\n-        attrs = classes and {'class': u' '.join(classes)} or {}\n+            classes.append('inline')\n+        attrs = classes and {'class': ' '.join(classes)} or {}\n         return self.field.label_tag(contents=mark_safe(contents), attrs=attrs)\n \n     def errors(self):\n@@ -161,7 +163,7 @@ def label_tag(self):\n         if not self.is_first:\n             attrs[\"class\"] = \"inline\"\n         label = self.field['label']\n-        contents = capfirst(force_unicode(escape(label))) + u\":\"\n+        contents = capfirst(force_unicode(escape(label))) + \":\"\n         return mark_safe('<label%(attrs)s>%(contents)s</label>' % {\n             \"attrs\": flatatt(attrs),\n             \"contents\": contents,"
        },
        {
            "sha": "93d8f307c0f203494064a36e81d8d74eba524e7d",
            "filename": "django/contrib/admin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db import models\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.auth.models import User\n@@ -64,5 +66,5 @@ def get_admin_url(self):\n         This is relative to the Django admin index page.\n         \"\"\"\n         if self.content_type and self.object_id:\n-            return mark_safe(u\"%s/%s/%s/\" % (self.content_type.app_label, self.content_type.model, quote(self.object_id)))\n+            return mark_safe(\"%s/%s/%s/\" % (self.content_type.app_label, self.content_type.model, quote(self.object_id)))\n         return None"
        },
        {
            "sha": "30a85ab7f79c9f04c63f1409ef5d361451f9e5cb",
            "filename": "django/contrib/admin/templatetags/admin_list.py",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n \n from django.contrib.admin.util import (lookup_field, display_for_field,\n@@ -27,11 +29,11 @@ def paginator_number(cl,i):\n     Generates an individual page index link in a paginated list.\n     \"\"\"\n     if i == DOT:\n-        return u'... '\n+        return '... '\n     elif i == cl.page_num:\n-        return mark_safe(u'<span class=\"this-page\">%d</span> ' % (i+1))\n+        return mark_safe('<span class=\"this-page\">%d</span> ' % (i+1))\n     else:\n-        return mark_safe(u'<a href=\"%s\"%s>%d</a> ' % (escape(cl.get_query_string({PAGE_VAR: i})), (i == cl.paginator.num_pages-1 and ' class=\"end\"' or ''), i+1))\n+        return mark_safe('<a href=\"%s\"%s>%d</a> ' % (escape(cl.get_query_string({PAGE_VAR: i})), (i == cl.paginator.num_pages-1 and ' class=\"end\"' or ''), i+1))\n \n @register.inclusion_tag('admin/pagination.html')\n def pagination(cl):\n@@ -163,7 +165,7 @@ def result_headers(cl):\n def _boolean_icon(field_val):\n     icon_url = static('admin/img/icon-%s.gif' %\n                       {True: 'yes', False: 'no', None: 'unknown'}[field_val])\n-    return mark_safe(u'<img src=\"%s\" alt=\"%s\" />' % (icon_url, field_val))\n+    return mark_safe('<img src=\"%s\" alt=\"%s\" />' % (icon_url, field_val))\n \n def items_for_result(cl, result, form):\n     \"\"\"\n@@ -179,7 +181,7 @@ def items_for_result(cl, result, form):\n             result_repr = EMPTY_CHANGELIST_VALUE\n         else:\n             if f is None:\n-                if field_name == u'action_checkbox':\n+                if field_name == 'action_checkbox':\n                     row_class = ' class=\"action-checkbox\"'\n                 allow_tags = getattr(attr, 'allow_tags', False)\n                 boolean = getattr(attr, 'boolean', False)\n@@ -220,7 +222,7 @@ def items_for_result(cl, result, form):\n                 attr = pk\n             value = result.serializable_value(attr)\n             result_id = repr(force_unicode(value))[1:]\n-            yield mark_safe(u'<%s%s><a href=\"%s\"%s>%s</a></%s>' % \\\n+            yield mark_safe('<%s%s><a href=\"%s\"%s>%s</a></%s>' % \\\n                 (table_tag, row_class, url, (cl.is_popup and ' onclick=\"opener.dismissRelatedLookupPopup(window, %s); return false;\"' % result_id or ''), conditional_escape(result_repr), table_tag))\n         else:\n             # By default the fields come from ModelAdmin.list_editable, but if we pull\n@@ -233,9 +235,9 @@ def items_for_result(cl, result, form):\n                 result_repr = mark_safe(force_unicode(bf.errors) + force_unicode(bf))\n             else:\n                 result_repr = conditional_escape(result_repr)\n-            yield mark_safe(u'<td%s>%s</td>' % (row_class, result_repr))\n+            yield mark_safe('<td%s>%s</td>' % (row_class, result_repr))\n     if form and not form[cl.model._meta.pk.name].is_hidden:\n-        yield mark_safe(u'<td>%s</td>' % force_unicode(form[cl.model._meta.pk.name]))\n+        yield mark_safe('<td>%s</td>' % force_unicode(form[cl.model._meta.pk.name]))\n \n class ResultList(list):\n     # Wrapper class used to return items in a list_editable"
        },
        {
            "sha": "18b10f3cfa5671cc8959a40435d4ee924a1c041e",
            "filename": "django/contrib/admin/util.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Futil.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n import decimal\n \n@@ -122,14 +124,14 @@ def format_callback(obj):\n             if not user.has_perm(p):\n                 perms_needed.add(opts.verbose_name)\n             # Display a link to the admin page.\n-            return mark_safe(u'%s: <a href=\"%s\">%s</a>' %\n+            return mark_safe('%s: <a href=\"%s\">%s</a>' %\n                              (escape(capfirst(opts.verbose_name)),\n                               admin_url,\n                               escape(obj)))\n         else:\n             # Don't display link to edit, because it either has no\n             # admin or is edited inline.\n-            return u'%s: %s' % (capfirst(opts.verbose_name),\n+            return '%s: %s' % (capfirst(opts.verbose_name),\n                                 force_unicode(obj))\n \n     to_delete = collector.nested(format_callback)"
        },
        {
            "sha": "18897bdeb191ace3b7f9fd6da561885959833bf8",
            "filename": "django/contrib/admin/widgets.py",
            "status": "modified",
            "additions": 19,
            "deletions": 17,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmin%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fwidgets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,8 +1,10 @@\n \"\"\"\n Form Widget classes specific to the Django admin site.\n \"\"\"\n+from __future__ import unicode_literals\n \n import copy\n+\n from django import forms\n from django.contrib.admin.templatetags.admin_static import static\n from django.core.urlresolvers import reverse\n@@ -39,12 +41,12 @@ def render(self, name, value, attrs=None, choices=()):\n         if self.is_stacked:\n             attrs['class'] += 'stacked'\n         output = [super(FilteredSelectMultiple, self).render(name, value, attrs, choices)]\n-        output.append(u'<script type=\"text/javascript\">addEvent(window, \"load\", function(e) {')\n+        output.append('<script type=\"text/javascript\">addEvent(window, \"load\", function(e) {')\n         # TODO: \"id_\" is hard-coded here. This should instead use the correct\n         # API to determine the ID dynamically.\n-        output.append(u'SelectFilter.init(\"id_%s\", \"%s\", %s, \"%s\"); });</script>\\n'\n+        output.append('SelectFilter.init(\"id_%s\", \"%s\", %s, \"%s\"); });</script>\\n'\n             % (name, self.verbose_name.replace('\"', '\\\\\"'), int(self.is_stacked), static('admin/')))\n-        return mark_safe(u''.join(output))\n+        return mark_safe(''.join(output))\n \n class AdminDateWidget(forms.DateInput):\n \n@@ -83,24 +85,24 @@ def __init__(self, attrs=None):\n         forms.MultiWidget.__init__(self, widgets, attrs)\n \n     def format_output(self, rendered_widgets):\n-        return mark_safe(u'<p class=\"datetime\">%s %s<br />%s %s</p>' % \\\n+        return mark_safe('<p class=\"datetime\">%s %s<br />%s %s</p>' % \\\n             (_('Date:'), rendered_widgets[0], _('Time:'), rendered_widgets[1]))\n \n class AdminRadioFieldRenderer(RadioFieldRenderer):\n     def render(self):\n         \"\"\"Outputs a <ul> for this set of radio fields.\"\"\"\n-        return mark_safe(u'<ul%s>\\n%s\\n</ul>' % (\n+        return mark_safe('<ul%s>\\n%s\\n</ul>' % (\n             flatatt(self.attrs),\n-            u'\\n'.join([u'<li>%s</li>' % force_unicode(w) for w in self]))\n+            '\\n'.join(['<li>%s</li>' % force_unicode(w) for w in self]))\n         )\n \n class AdminRadioSelect(forms.RadioSelect):\n     renderer = AdminRadioFieldRenderer\n \n class AdminFileWidget(forms.ClearableFileInput):\n-    template_with_initial = (u'<p class=\"file-upload\">%s</p>'\n+    template_with_initial = ('<p class=\"file-upload\">%s</p>'\n                             % forms.ClearableFileInput.template_with_initial)\n-    template_with_clear = (u'<span class=\"clearable-file-input\">%s</span>'\n+    template_with_clear = ('<span class=\"clearable-file-input\">%s</span>'\n                            % forms.ClearableFileInput.template_with_clear)\n \n def url_params_from_lookup_dict(lookups):\n@@ -113,7 +115,7 @@ def url_params_from_lookup_dict(lookups):\n         items = []\n         for k, v in lookups.items():\n             if isinstance(v, (tuple, list)):\n-                v = u','.join([str(x) for x in v])\n+                v = ','.join([str(x) for x in v])\n             elif isinstance(v, bool):\n                 # See django.db.fields.BooleanField.get_prep_lookup\n                 v = ('0', '1')[v]\n@@ -148,21 +150,21 @@ def render(self, name, value, attrs=None):\n \n             params = self.url_parameters()\n             if params:\n-                url = u'?' + u'&amp;'.join([u'%s=%s' % (k, v) for k, v in params.items()])\n+                url = '?' + '&amp;'.join(['%s=%s' % (k, v) for k, v in params.items()])\n             else:\n-                url = u''\n+                url = ''\n             if \"class\" not in attrs:\n                 attrs['class'] = 'vForeignKeyRawIdAdminField' # The JavaScript code looks for this hook.\n             # TODO: \"lookup_id_\" is hard-coded here. This should instead use\n             # the correct API to determine the ID dynamically.\n-            extra.append(u'<a href=\"%s%s\" class=\"related-lookup\" id=\"lookup_id_%s\" onclick=\"return showRelatedObjectLookupPopup(this);\"> '\n+            extra.append('<a href=\"%s%s\" class=\"related-lookup\" id=\"lookup_id_%s\" onclick=\"return showRelatedObjectLookupPopup(this);\"> '\n                             % (related_url, url, name))\n-            extra.append(u'<img src=\"%s\" width=\"16\" height=\"16\" alt=\"%s\" /></a>'\n+            extra.append('<img src=\"%s\" width=\"16\" height=\"16\" alt=\"%s\" /></a>'\n                             % (static('admin/img/selector-search.gif'), _('Lookup')))\n         output = [super(ForeignKeyRawIdWidget, self).render(name, value, attrs)] + extra\n         if value:\n             output.append(self.label_for_value(value))\n-        return mark_safe(u''.join(output))\n+        return mark_safe(''.join(output))\n \n     def base_url_parameters(self):\n         return url_params_from_lookup_dict(self.rel.limit_choices_to)\n@@ -261,11 +263,11 @@ def render(self, name, value, *args, **kwargs):\n             related_url = reverse('admin:%s_%s_add' % info, current_app=self.admin_site.name)\n             # TODO: \"add_id_\" is hard-coded here. This should instead use the\n             # correct API to determine the ID dynamically.\n-            output.append(u'<a href=\"%s\" class=\"add-another\" id=\"add_id_%s\" onclick=\"return showAddAnotherPopup(this);\"> '\n+            output.append('<a href=\"%s\" class=\"add-another\" id=\"add_id_%s\" onclick=\"return showAddAnotherPopup(this);\"> '\n                           % (related_url, name))\n-            output.append(u'<img src=\"%s\" width=\"10\" height=\"10\" alt=\"%s\"/></a>'\n+            output.append('<img src=\"%s\" width=\"10\" height=\"10\" alt=\"%s\"/></a>'\n                           % (static('admin/img/icon_addlink.gif'), _('Add Another')))\n-        return mark_safe(u''.join(output))\n+        return mark_safe(''.join(output))\n \n     def build_attrs(self, extra_attrs=None, **kwargs):\n         \"Helper function for building an attribute dictionary.\""
        },
        {
            "sha": "306475beb1f6bdaa088dfb63967ad1dfd7301789",
            "filename": "django/contrib/admindocs/tests/__init__.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmindocs%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fadmindocs%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmindocs%2Ftests%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.admindocs import views\n from django.db.models import fields as builtin_fields\n@@ -20,17 +20,17 @@ def test_field_name(self):\n     def test_builtin_fields(self):\n         self.assertEqual(\n             views.get_readable_field_data_type(builtin_fields.BooleanField()),\n-            _(u'Boolean (Either True or False)')\n+            _('Boolean (Either True or False)')\n         )\n \n     def test_custom_fields(self):\n         self.assertEqual(\n             views.get_readable_field_data_type(fields.CustomField()),\n-            _(u'A custom field type')\n+            _('A custom field type')\n         )\n         self.assertEqual(\n             views.get_readable_field_data_type(fields.DescriptionLackingField()),\n-            _(u'Field of type: %(field_type)s') % {\n+            _('Field of type: %(field_type)s') % {\n                 'field_type': 'DescriptionLackingField'\n             }\n         )"
        },
        {
            "sha": "9088e2fbf6327cada570d16aa598b4c3836aff17",
            "filename": "django/contrib/auth/backends.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fbackends.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fbackends.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fbackends.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib.auth.models import User, Permission\n \n \n@@ -36,7 +38,7 @@ def get_all_permissions(self, user_obj, obj=None):\n         if user_obj.is_anonymous() or obj is not None:\n             return set()\n         if not hasattr(user_obj, '_perm_cache'):\n-            user_obj._perm_cache = set([u\"%s.%s\" % (p.content_type.app_label, p.codename) for p in user_obj.user_permissions.select_related()])\n+            user_obj._perm_cache = set([\"%s.%s\" % (p.content_type.app_label, p.codename) for p in user_obj.user_permissions.select_related()])\n             user_obj._perm_cache.update(self.get_group_permissions(user_obj))\n         return user_obj._perm_cache\n "
        },
        {
            "sha": "96ec40ba60f0dbe4f5fbedd834d37d9ec5640b93",
            "filename": "django/contrib/auth/hashers.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fhashers.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fhashers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fhashers.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import hashlib\n \n from django.dispatch import receiver"
        },
        {
            "sha": "100acb6c5bec8282061c946072f5db09665c3439",
            "filename": "django/contrib/auth/management/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fmanagement%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fmanagement%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fmanagement%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,8 @@\n \"\"\"\n Creates permissions for all installed apps that need permissions.\n \"\"\"\n+from __future__ import unicode_literals\n+\n import getpass\n import locale\n import unicodedata\n@@ -10,14 +12,14 @@\n \n \n def _get_permission_codename(action, opts):\n-    return u'%s_%s' % (action, opts.object_name.lower())\n+    return '%s_%s' % (action, opts.object_name.lower())\n \n \n def _get_all_permissions(opts):\n     \"Returns (codename, name) for all permissions in the given opts.\"\n     perms = []\n     for action in ('add', 'change', 'delete'):\n-        perms.append((_get_permission_codename(action, opts), u'Can %s %s' % (action, opts.verbose_name_raw)))\n+        perms.append((_get_permission_codename(action, opts), 'Can %s %s' % (action, opts.verbose_name_raw)))\n     return perms + list(opts.permissions)\n \n \n@@ -88,7 +90,7 @@ def get_system_username():\n         # if there is no corresponding entry in the /etc/passwd file\n         # (a very restricted chroot environment, for example).\n         # UnicodeDecodeError - preventive treatment for non-latin Windows.\n-        return u''\n+        return ''\n \n \n def get_default_username(check_db=True):"
        },
        {
            "sha": "244721065daa29c5ae9d5d0f3b8cd29fbcbeb67c",
            "filename": "django/contrib/auth/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import urllib\n \n from django.core.exceptions import ImproperlyConfigured\n@@ -76,7 +78,7 @@ class Meta:\n                     'codename')\n \n     def __unicode__(self):\n-        return u\"%s | %s | %s\" % (\n+        return \"%s | %s | %s\" % (\n             unicode(self.content_type.app_label),\n             unicode(self.content_type),\n             unicode(self.name))\n@@ -285,7 +287,7 @@ def get_full_name(self):\n         \"\"\"\n         Returns the first_name plus the last_name, with a space in between.\n         \"\"\"\n-        full_name = u'%s %s' % (self.first_name, self.last_name)\n+        full_name = '%s %s' % (self.first_name, self.last_name)\n         return full_name.strip()\n \n     def set_password(self, raw_password):"
        },
        {
            "sha": "9a4d8f9b3a73825a8242d40545e7f44c7b9c629d",
            "filename": "django/contrib/auth/tests/auth_backends.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fauth_backends.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fauth_backends.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fauth_backends.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.contrib.auth.models import User, Group, Permission, AnonymousUser\n from django.contrib.contenttypes.models import ContentType\n@@ -51,7 +53,7 @@ def test_custom_perms(self):\n \n         # reloading user to purge the _perm_cache\n         user = User.objects.get(username='test')\n-        self.assertEqual(user.get_all_permissions() == set([u'auth.test']), True)\n+        self.assertEqual(user.get_all_permissions() == set(['auth.test']), True)\n         self.assertEqual(user.get_group_permissions(), set([]))\n         self.assertEqual(user.has_module_perms('Group'), False)\n         self.assertEqual(user.has_module_perms('auth'), True)\n@@ -62,7 +64,7 @@ def test_custom_perms(self):\n         user.user_permissions.add(perm)\n         user.save()\n         user = User.objects.get(username='test')\n-        self.assertEqual(user.get_all_permissions(), set([u'auth.test2', u'auth.test', u'auth.test3']))\n+        self.assertEqual(user.get_all_permissions(), set(['auth.test2', 'auth.test', 'auth.test3']))\n         self.assertEqual(user.has_perm('test'), False)\n         self.assertEqual(user.has_perm('auth.test'), True)\n         self.assertEqual(user.has_perms(['auth.test2', 'auth.test3']), True)\n@@ -72,9 +74,9 @@ def test_custom_perms(self):\n         group.save()\n         user.groups.add(group)\n         user = User.objects.get(username='test')\n-        exp = set([u'auth.test2', u'auth.test', u'auth.test3', u'auth.test_group'])\n+        exp = set(['auth.test2', 'auth.test', 'auth.test3', 'auth.test_group'])\n         self.assertEqual(user.get_all_permissions(), exp)\n-        self.assertEqual(user.get_group_permissions(), set([u'auth.test_group']))\n+        self.assertEqual(user.get_group_permissions(), set(['auth.test_group']))\n         self.assertEqual(user.has_perms(['auth.test3', 'auth.test_group']), True)\n \n         user = AnonymousUser()"
        },
        {
            "sha": "2ab895804f6d603c5526c936480f2a588d41ae9c",
            "filename": "django/contrib/auth/tests/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n from django.contrib.auth.models import User\n from django.contrib.auth.forms import (UserCreationForm, AuthenticationForm,\n@@ -299,7 +301,7 @@ def test_custom_email_subject(self):\n             # potential case where contrib.sites is not installed. Refs #16412.\n             form.save(domain_override='example.com')\n             self.assertEqual(len(mail.outbox), 1)\n-            self.assertEqual(mail.outbox[0].subject, u'Custom password reset on example.com')\n+            self.assertEqual(mail.outbox[0].subject, 'Custom password reset on example.com')\n \n     def test_bug_5605(self):\n         # bug #5605, preserve the case of the user name (before the @ in the\n@@ -328,4 +330,4 @@ def test_unusable_password(self):\n         form = PasswordResetForm(data)\n         self.assertFalse(form.is_valid())\n         self.assertEqual(form[\"email\"].errors,\n-                         [_(u\"The user account associated with this e-mail address cannot reset the password.\")])\n+                         [_(\"The user account associated with this e-mail address cannot reset the password.\")])"
        },
        {
            "sha": "673263b5669309cdb2e588b7bacc1e751a96e2a2",
            "filename": "django/contrib/auth/tests/hashers.py",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf.global_settings import PASSWORD_HASHERS as default_hashers\n from django.contrib.auth.hashers import (is_password_usable, \n     check_password, make_password, PBKDF2PasswordHasher, load_hashers,\n@@ -26,15 +28,15 @@ def test_simple(self):\n         encoded = make_password('letmein')\n         self.assertTrue(encoded.startswith('pbkdf2_sha256$'))\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n \n     def test_pkbdf2(self):\n         encoded = make_password('letmein', 'seasalt', 'pbkdf2_sha256')\n         self.assertEqual(encoded, \n 'pbkdf2_sha256$10000$seasalt$FQCNpiZpTb0zub+HBsH6TOwyRxJ19FwvjbweatNmK/Y=')\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"pbkdf2_sha256\")\n \n@@ -43,7 +45,7 @@ def test_sha1(self):\n         self.assertEqual(encoded, \n 'sha1$seasalt$fec3530984afba6bade3347b7140d1a7da7da8c7')\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"sha1\")\n \n@@ -52,15 +54,15 @@ def test_md5(self):\n         self.assertEqual(encoded, \n                          'md5$seasalt$f5531bef9f3687d0ccf0f617f0e25573')\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"md5\")\n \n     def test_unsalted_md5(self):\n         encoded = make_password('letmein', 'seasalt', 'unsalted_md5')\n         self.assertEqual(encoded, '0d107d09f5bbe40cade3de5c71e9e9b7')\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"unsalted_md5\")\n \n@@ -69,7 +71,7 @@ def test_crypt(self):\n         encoded = make_password('letmein', 'ab', 'crypt')\n         self.assertEqual(encoded, 'crypt$$abN/qM.L/H8EQ')\n         self.assertTrue(is_password_usable(encoded))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"crypt\")\n \n@@ -78,7 +80,7 @@ def test_bcrypt(self):\n         encoded = make_password('letmein', hasher='bcrypt')\n         self.assertTrue(is_password_usable(encoded))\n         self.assertTrue(encoded.startswith('bcrypt$'))\n-        self.assertTrue(check_password(u'letmein', encoded))\n+        self.assertTrue(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertEqual(identify_hasher(encoded).algorithm, \"bcrypt\")\n \n@@ -88,7 +90,7 @@ def test_unusable(self):\n         self.assertFalse(check_password(None, encoded))\n         self.assertFalse(check_password(UNUSABLE_PASSWORD, encoded))\n         self.assertFalse(check_password('', encoded))\n-        self.assertFalse(check_password(u'letmein', encoded))\n+        self.assertFalse(check_password('letmein', encoded))\n         self.assertFalse(check_password('letmeinz', encoded))\n         self.assertRaises(ValueError, identify_hasher, encoded)\n "
        },
        {
            "sha": "8d1f7c7965a1f26d3eae120ecdebeaec1d181e73",
            "filename": "django/contrib/auth/tests/management.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fmanagement.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from StringIO import StringIO\n \n from django.contrib.auth import models, management\n@@ -15,19 +17,19 @@ def tearDown(self):\n         management.get_system_username = self._getpass_getuser\n \n     def test_simple(self):\n-        management.get_system_username = lambda: u'joe'\n+        management.get_system_username = lambda: 'joe'\n         self.assertEqual(management.get_default_username(), 'joe')\n \n     def test_existing(self):\n         models.User.objects.create(username='joe')\n-        management.get_system_username = lambda: u'joe'\n+        management.get_system_username = lambda: 'joe'\n         self.assertEqual(management.get_default_username(), '')\n         self.assertEqual(\n             management.get_default_username(check_db=False), 'joe')\n \n     def test_i18n(self):\n         # 'Julia' with accented 'u':\n-        management.get_system_username = lambda: u'J\\xfalia'\n+        management.get_system_username = lambda: 'J\\xfalia'\n         self.assertEqual(management.get_default_username(), 'julia')\n \n "
        },
        {
            "sha": "0024a1d1b5d32c7d9f54634233433356aa65eddb",
            "filename": "django/contrib/comments/admin.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcomments%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcomments%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fadmin.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib import admin\n from django.contrib.comments.models import Comment\n from django.utils.translation import ugettext_lazy as _, ungettext\n@@ -62,8 +64,8 @@ def _bulk_flag(self, request, queryset, action, done_message):\n             action(request, comment)\n             n_comments += 1\n \n-        msg = ungettext(u'1 comment was successfully %(action)s.',\n-                        u'%(count)s comments were successfully %(action)s.',\n+        msg = ungettext('1 comment was successfully %(action)s.',\n+                        '%(count)s comments were successfully %(action)s.',\n                         n_comments)\n         self.message_user(request, msg % {'count': n_comments, 'action': done_message(n_comments)})\n "
        },
        {
            "sha": "d5062cabf3ac462d3addc902de8f49c5939e2b75",
            "filename": "django/contrib/contenttypes/generic.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Classes allowing \"generic\" relations through ContentType and object-id fields.\n \"\"\"\n+from __future__ import unicode_literals\n \n from collections import defaultdict\n from functools import partial\n@@ -131,7 +132,7 @@ def __get__(self, instance, instance_type=None):\n \n     def __set__(self, instance, value):\n         if instance is None:\n-            raise AttributeError(u\"%s must be accessed via instance\" % self.related.opts.object_name)\n+            raise AttributeError(\"%s must be accessed via instance\" % self.related.opts.object_name)\n \n         ct = None\n         fk = None"
        },
        {
            "sha": "2eaa4c182ec99e2fd0f994a14163656d35e00b48",
            "filename": "django/contrib/contenttypes/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import urllib\n \n from django.db import models\n@@ -181,4 +183,4 @@ def test_missing_model(self):\n             app_label = 'contenttypes',\n             model = 'OldModel',\n         )\n-        self.assertEqual(unicode(ct), u'Old model')\n+        self.assertEqual(unicode(ct), 'Old model')"
        },
        {
            "sha": "5c22cb6672ed4bad2b6e4ff5a8736bfcc3cd0b68",
            "filename": "django/contrib/contenttypes/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fcontenttypes%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Fviews.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import http\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.sites.models import Site, get_current_site\n@@ -12,11 +14,11 @@ def shortcut(request, content_type_id, object_id):\n     try:\n         content_type = ContentType.objects.get(pk=content_type_id)\n         if not content_type.model_class():\n-            raise http.Http404(_(u\"Content type %(ct_id)s object has no associated model\") %\n+            raise http.Http404(_(\"Content type %(ct_id)s object has no associated model\") %\n                                {'ct_id': content_type_id})\n         obj = content_type.get_object_for_this_type(pk=object_id)\n     except (ObjectDoesNotExist, ValueError):\n-        raise http.Http404(_(u\"Content type %(ct_id)s object %(obj_id)s doesn't exist\") %\n+        raise http.Http404(_(\"Content type %(ct_id)s object %(obj_id)s doesn't exist\") %\n                            {'ct_id': content_type_id, 'obj_id': object_id})\n \n     try:"
        },
        {
            "sha": "6a78b3688b9d229a732465a1970dce9bb23d9997",
            "filename": "django/contrib/databrowse/datastructures.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,7 @@\n These classes are light wrappers around Django's database API that provide\n convenience functionality and permalink functions for the databrowse app.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n from django.utils import formats\n@@ -61,7 +62,7 @@ def __init__(self, easy_model, field):\n         self.model, self.field = easy_model, field\n \n     def __repr__(self):\n-        return smart_str(u'<EasyField for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n+        return smart_str('<EasyField for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n \n     def choices(self):\n         for value, label in self.field.choices:\n@@ -79,7 +80,7 @@ def __init__(self, easy_model, field, value, label):\n         self.value, self.label = value, label\n \n     def __repr__(self):\n-        return smart_str(u'<EasyChoice for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n+        return smart_str('<EasyChoice for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n \n     def url(self):\n         return mark_safe('%s%s/%s/%s/%s/' % (self.model.site.root_url, self.model.model._meta.app_label, self.model.model._meta.module_name, self.field.field.name, iri_to_uri(self.value)))\n@@ -89,12 +90,12 @@ def __init__(self, easy_model, instance):\n         self.model, self.instance = easy_model, instance\n \n     def __repr__(self):\n-        return smart_str(u'<EasyInstance for %s (%s)>' % (self.model.model._meta.object_name, self.instance._get_pk_val()))\n+        return smart_str('<EasyInstance for %s (%s)>' % (self.model.model._meta.object_name, self.instance._get_pk_val()))\n \n     def __unicode__(self):\n         val = smart_unicode(self.instance)\n         if len(val) > DISPLAY_SIZE:\n-            return val[:DISPLAY_SIZE] + u'...'\n+            return val[:DISPLAY_SIZE] + '...'\n         return val\n \n     def __str__(self):\n@@ -136,7 +137,7 @@ def __init__(self, easy_model, instance, field):\n         self.raw_value = getattr(instance.instance, field.name)\n \n     def __repr__(self):\n-        return smart_str(u'<EasyInstanceField for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n+        return smart_str('<EasyInstanceField for %s.%s>' % (self.model.model._meta.object_name, self.field.name))\n \n     def values(self):\n         \"\"\""
        },
        {
            "sha": "587c752a9494e5b8e4e563d275d39cab750998b1",
            "filename": "django/contrib/databrowse/plugins/calendars.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import http\n from django.db import models\n from django.contrib.databrowse.datastructures import EasyModel\n@@ -61,14 +63,14 @@ def field_dict(self, model):\n     def model_index_html(self, request, model, site):\n         fields = self.field_dict(model)\n         if not fields:\n-            return u''\n-        return mark_safe(u'<p class=\"filter\"><strong>View calendar by:</strong> %s</p>' % \\\n-            u', '.join(['<a href=\"calendars/%s/\">%s</a>' % (f.name, force_unicode(capfirst(f.verbose_name))) for f in fields.values()]))\n+            return ''\n+        return mark_safe('<p class=\"filter\"><strong>View calendar by:</strong> %s</p>' % \\\n+            ', '.join(['<a href=\"calendars/%s/\">%s</a>' % (f.name, force_unicode(capfirst(f.verbose_name))) for f in fields.values()]))\n \n     def urls(self, plugin_name, easy_instance_field):\n         if isinstance(easy_instance_field.field, models.DateField):\n             d = easy_instance_field.raw_value\n-            return [mark_safe(u'%s%s/%s/%s/%s/%s/' % (\n+            return [mark_safe('%s%s/%s/%s/%s/%s/' % (\n                 easy_instance_field.model.url(),\n                 plugin_name, easy_instance_field.field.name,\n                 str(d.year),"
        },
        {
            "sha": "5a13252ab36ffce0e6527ae54b5d8d7e45f96038",
            "filename": "django/contrib/databrowse/plugins/fieldchoices.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import http\n from django.db import models\n from django.contrib.databrowse.datastructures import EasyModel\n@@ -29,14 +31,14 @@ def field_dict(self, model):\n     def model_index_html(self, request, model, site):\n         fields = self.field_dict(model)\n         if not fields:\n-            return u''\n-        return mark_safe(u'<p class=\"filter\"><strong>View by:</strong> %s</p>' % \\\n-            u', '.join(['<a href=\"fields/%s/\">%s</a>' % (f.name, force_unicode(capfirst(f.verbose_name))) for f in fields.values()]))\n+            return ''\n+        return mark_safe('<p class=\"filter\"><strong>View by:</strong> %s</p>' % \\\n+            ', '.join(['<a href=\"fields/%s/\">%s</a>' % (f.name, force_unicode(capfirst(f.verbose_name))) for f in fields.values()]))\n \n     def urls(self, plugin_name, easy_instance_field):\n         if easy_instance_field.field in self.field_dict(easy_instance_field.model.model).values():\n             field_value = smart_str(easy_instance_field.raw_value)\n-            return [mark_safe(u'%s%s/%s/%s/' % (\n+            return [mark_safe('%s%s/%s/%s/' % (\n                 easy_instance_field.model.url(),\n                 plugin_name, easy_instance_field.field.name,\n                 urllib.quote(field_value, safe='')))]"
        },
        {
            "sha": "b5cb2639d638642dc8d236d4da47626e85ff90f4",
            "filename": "django/contrib/databrowse/sites.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fsites.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fdatabrowse%2Fsites.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fsites.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import http\n from django.db import models\n from django.contrib.databrowse.datastructures import EasyModel\n@@ -61,7 +63,7 @@ def root(self, request, url):\n \n     def main_view(self, request):\n         easy_model = EasyModel(self.site, self.model)\n-        html_snippets = mark_safe(u'\\n'.join([p.model_index_html(request, self.model, self.site) for p in self.plugins.values()]))\n+        html_snippets = mark_safe('\\n'.join([p.model_index_html(request, self.model, self.site) for p in self.plugins.values()]))\n         return render_to_response('databrowse/model_detail.html', {\n             'model': easy_model,\n             'root_url': self.site.root_url,"
        },
        {
            "sha": "42ec155f343febdca7832cf898369c9e5bcc0d34",
            "filename": "django/contrib/flatpages/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db import models\n from django.contrib.sites.models import Site\n from django.utils.translation import ugettext_lazy as _\n@@ -20,7 +22,7 @@ class Meta:\n         ordering = ('url',)\n \n     def __unicode__(self):\n-        return u\"%s -- %s\" % (self.url, self.title)\n+        return \"%s -- %s\" % (self.url, self.title)\n \n     def get_absolute_url(self):\n         return self.url"
        },
        {
            "sha": "3bdfa15dfeafbe84ea7cd7084ef6173b22e64b9a",
            "filename": "django/contrib/flatpages/tests/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.contrib.flatpages.forms import FlatpageForm\n from django.contrib.flatpages.models import FlatPage\n@@ -60,7 +62,7 @@ def test_flatpage_admin_form_url_uniqueness_validation(self):\n \n         self.assertEqual(\n             f.errors,\n-            {'__all__': [u'Flatpage with url /myflatpage1/ already exists for site example.com']})\n+            {'__all__': ['Flatpage with url /myflatpage1/ already exists for site example.com']})\n \n     def test_flatpage_admin_form_edit(self):\n         \"\"\"\n@@ -92,5 +94,5 @@ def test_flatpage_nosites(self):\n \n         self.assertEqual(\n             f.errors,\n-            {'sites': [translation.ugettext(u'This field is required.')]})\n+            {'sites': [translation.ugettext('This field is required.')]})\n "
        },
        {
            "sha": "3bccb55034005882e43dbb9aea93010e9805dfdb",
            "filename": "django/contrib/formtools/tests/__init__.py",
            "status": "modified",
            "additions": 30,
            "deletions": 28,
            "changes": 58,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n import re\n import warnings\n@@ -41,7 +43,7 @@ def setUp(self):\n         self.preview = preview.FormPreview(TestForm)\n         input_template = '<input type=\"hidden\" name=\"%s\" value=\"%s\" />'\n         self.input = input_template % (self.preview.unused_name('stage'), \"%d\")\n-        self.test_data = {'field1':u'foo', 'field1_':u'asdf'}\n+        self.test_data = {'field1': 'foo', 'field1_': 'asdf'}\n \n     def test_unused_name(self):\n         \"\"\"\n@@ -117,7 +119,7 @@ def test_bool_submit(self):\n         \"\"\"\n         self.test_data.update({'stage':2})\n         hash = self.preview.security_hash(None, TestForm(self.test_data))\n-        self.test_data.update({'hash':hash, 'bool1':u'False'})\n+        self.test_data.update({'hash': hash, 'bool1': 'False'})\n         with warnings.catch_warnings(record=True):\n             response = self.client.post('/preview/', self.test_data)\n             self.assertEqual(response.content, success_string)\n@@ -163,8 +165,8 @@ def test_textfield_hash(self):\n         leading/trailing whitespace so as to be friendly to broken browsers that\n         submit it (usually in textareas).\n         \"\"\"\n-        f1 = HashTestForm({'name': u'joe', 'bio': u'Nothing notable.'})\n-        f2 = HashTestForm({'name': u'  joe', 'bio': u'Nothing notable.  '})\n+        f1 = HashTestForm({'name': 'joe', 'bio': 'Nothing notable.'})\n+        f2 = HashTestForm({'name': '  joe', 'bio': 'Nothing notable.  '})\n         hash1 = utils.form_hmac(f1)\n         hash2 = utils.form_hmac(f2)\n         self.assertEqual(hash1, hash2)\n@@ -266,10 +268,10 @@ def test_good_hash(self):\n         Form should advance if the hash is present and good, as calculated using\n         current method.\n         \"\"\"\n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n-                \"hash_0\": u\"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"wizard_step\": u\"1\"}\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n+                \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n+                \"wizard_step\": \"1\"}\n         response = self.client.post('/wizard1/', data)\n         self.assertEqual(2, response.context['step0'])\n \n@@ -291,18 +293,18 @@ def process_step(self, request, form, step):\n                     reached[0] = True\n \n         wizard = WizardWithProcessStep([WizardPageOneForm])\n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n-                \"hash_0\": u\"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"wizard_step\": u\"1\"}\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n+                \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n+                \"wizard_step\": \"1\"}\n         wizard(DummyRequest(POST=data))\n         self.assertTrue(reached[0])\n \n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n                 \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"hash_1\": u\"1e6f6315da42e62f33a30640ec7e007ad3fbf1a1\",\n-                \"wizard_step\": u\"2\"}\n+                \"hash_1\": \"1e6f6315da42e62f33a30640ec7e007ad3fbf1a1\",\n+                \"wizard_step\": \"2\"}\n         self.assertRaises(http.Http404, wizard, DummyRequest(POST=data))\n \n     def test_14498(self):\n@@ -321,10 +323,10 @@ def process_step(self, request, form, step):\n         wizard = WizardWithProcessStep([WizardPageOneForm,\n                                         WizardPageTwoForm,\n                                         WizardPageThreeForm])\n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n-                \"hash_0\": u\"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"wizard_step\": u\"1\"}\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n+                \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n+                \"wizard_step\": \"1\"}\n         wizard(DummyRequest(POST=data))\n         self.assertTrue(reached[0])\n \n@@ -345,10 +347,10 @@ def done(self, request, form_list):\n         wizard = Wizard([WizardPageOneForm,\n                          WizardPageTwoForm])\n \n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n-                \"hash_0\": u\"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"wizard_step\": u\"1\"}\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n+                \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n+                \"wizard_step\": \"1\"}\n         wizard(DummyRequest(POST=data))\n         self.assertTrue(reached[0])\n \n@@ -371,10 +373,10 @@ def process_step(self, request, form, step):\n         wizard = WizardWithProcessStep([WizardPageOneForm,\n                                         WizardPageTwoForm,\n                                         WizardPageThreeForm])\n-        data = {\"0-field\": u\"test\",\n-                \"1-field\": u\"test2\",\n-                \"hash_0\": u\"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n-                \"wizard_step\": u\"1\"}\n+        data = {\"0-field\": \"test\",\n+                \"1-field\": \"test2\",\n+                \"hash_0\": \"cd13b1db3e8f55174bc5745a1b1a53408d4fd1ca\",\n+                \"wizard_step\": \"1\"}\n         wizard(DummyRequest(POST=data))\n         self.assertTrue(reached[0])\n "
        },
        {
            "sha": "51cfaa661b686638705704496e98e9803a811c28",
            "filename": "django/contrib/formtools/tests/wizard/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import forms, http\n from django.conf import settings\n from django.test import TestCase\n@@ -64,22 +66,22 @@ def get_form_kwargs(self, step, *args, **kwargs):\n class FormTests(TestCase):\n     def test_form_init(self):\n         testform = TestWizard.get_initkwargs([Step1, Step2])\n-        self.assertEqual(testform['form_list'], {u'0': Step1, u'1': Step2})\n+        self.assertEqual(testform['form_list'], {'0': Step1, '1': Step2})\n \n         testform = TestWizard.get_initkwargs([('start', Step1), ('step2', Step2)])\n         self.assertEqual(\n-            testform['form_list'], {u'start': Step1, u'step2': Step2})\n+            testform['form_list'], {'start': Step1, 'step2': Step2})\n \n         testform = TestWizard.get_initkwargs([Step1, Step2, ('finish', Step3)])\n         self.assertEqual(\n-            testform['form_list'], {u'0': Step1, u'1': Step2, u'finish': Step3})\n+            testform['form_list'], {'0': Step1, '1': Step2, 'finish': Step3})\n \n     def test_first_step(self):\n         request = get_request()\n \n         testform = TestWizard.as_view([Step1, Step2])\n         response, instance = testform(request)\n-        self.assertEqual(instance.steps.current, u'0')\n+        self.assertEqual(instance.steps.current, '0')\n \n         testform = TestWizard.as_view([('start', Step1), ('step2', Step2)])\n         response, instance = testform(request)"
        },
        {
            "sha": "a860edd9e9859d2da69ad1789222eb95efa50fa1",
            "filename": "django/contrib/formtools/tests/wizard/namedwizardtests/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 11,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fnamedwizardtests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fnamedwizardtests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fnamedwizardtests%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.core.urlresolvers import reverse\n from django.http import QueryDict\n from django.test import TestCase\n@@ -51,8 +53,8 @@ def test_form_post_error(self):\n         self.assertEqual(response.status_code, 200)\n         self.assertEqual(response.context['wizard']['steps'].current, 'form1')\n         self.assertEqual(response.context['wizard']['form'].errors,\n-                         {'name': [u'This field is required.'],\n-                          'user': [u'This field is required.']})\n+                         {'name': ['This field is required.'],\n+                          'user': ['This field is required.']})\n \n     def test_form_post_success(self):\n         response = self.client.post(\n@@ -150,10 +152,10 @@ def test_form_finish(self):\n         self.assertEqual(all_data[1]['file1'].read(), open(__file__, 'rb').read())\n         del all_data[1]['file1']\n         self.assertEqual(all_data, [\n-            {'name': u'Pony', 'thirsty': True, 'user': self.testuser},\n-            {'address1': u'123 Main St', 'address2': u'Djangoland'},\n-            {'random_crap': u'blah blah'},\n-            [{'random_crap': u'blah blah'}, {'random_crap': u'blah blah'}]])\n+            {'name': 'Pony', 'thirsty': True, 'user': self.testuser},\n+            {'address1': '123 Main St', 'address2': 'Djangoland'},\n+            {'random_crap': 'blah blah'},\n+            [{'random_crap': 'blah blah'}, {'random_crap': 'blah blah'}]])\n \n     def test_cleaned_data(self):\n         response = self.client.get(\n@@ -203,11 +205,11 @@ def test_cleaned_data(self):\n         del all_data['file1']\n         self.assertEqual(\n             all_data,\n-            {'name': u'Pony', 'thirsty': True, 'user': self.testuser,\n-             'address1': u'123 Main St', 'address2': u'Djangoland',\n-             'random_crap': u'blah blah', 'formset-form4': [\n-                 {'random_crap': u'blah blah'},\n-                 {'random_crap': u'blah blah'}\n+            {'name': 'Pony', 'thirsty': True, 'user': self.testuser,\n+             'address1': '123 Main St', 'address2': 'Djangoland',\n+             'random_crap': 'blah blah', 'formset-form4': [\n+                 {'random_crap': 'blah blah'},\n+                 {'random_crap': 'blah blah'}\n              ]})\n \n     def test_manipulated_data(self):"
        },
        {
            "sha": "a35664b322599085cad381c354f6d3dc07558ec5",
            "filename": "django/contrib/formtools/tests/wizard/wizardtests/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 12,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fwizardtests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fwizardtests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fwizardtests%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n \n from django import forms\n@@ -33,8 +35,8 @@ def test_form_post_error(self):\n         self.assertEqual(response.status_code, 200)\n         self.assertEqual(response.context['wizard']['steps'].current, 'form1')\n         self.assertEqual(response.context['wizard']['form'].errors,\n-                         {'name': [u'This field is required.'],\n-                          'user': [u'This field is required.']})\n+                         {'name': ['This field is required.'],\n+                          'user': ['This field is required.']})\n \n     def test_form_post_success(self):\n         response = self.client.post(self.wizard_url, self.wizard_step_data[0])\n@@ -96,11 +98,11 @@ def test_form_finish(self):\n         self.assertEqual(all_data[1]['file1'].read(), open(__file__, 'rb').read())\n         del all_data[1]['file1']\n         self.assertEqual(all_data, [\n-            {'name': u'Pony', 'thirsty': True, 'user': self.testuser},\n-            {'address1': u'123 Main St', 'address2': u'Djangoland'},\n-            {'random_crap': u'blah blah'},\n-            [{'random_crap': u'blah blah'},\n-             {'random_crap': u'blah blah'}]])\n+            {'name': 'Pony', 'thirsty': True, 'user': self.testuser},\n+            {'address1': '123 Main St', 'address2': 'Djangoland'},\n+            {'random_crap': 'blah blah'},\n+            [{'random_crap': 'blah blah'},\n+             {'random_crap': 'blah blah'}]])\n \n     def test_cleaned_data(self):\n         response = self.client.get(self.wizard_url)\n@@ -124,11 +126,11 @@ def test_cleaned_data(self):\n         self.assertEqual(all_data['file1'].read(), open(__file__, 'rb').read())\n         del all_data['file1']\n         self.assertEqual(all_data, {\n-            'name': u'Pony', 'thirsty': True, 'user': self.testuser,\n-            'address1': u'123 Main St', 'address2': u'Djangoland',\n-            'random_crap': u'blah blah', 'formset-form4': [\n-                {'random_crap': u'blah blah'},\n-                {'random_crap': u'blah blah'}]})\n+            'name': 'Pony', 'thirsty': True, 'user': self.testuser,\n+            'address1': '123 Main St', 'address2': 'Djangoland',\n+            'random_crap': 'blah blah', 'formset-form4': [\n+                {'random_crap': 'blah blah'},\n+                {'random_crap': 'blah blah'}]})\n \n     def test_manipulated_data(self):\n         response = self.client.get(self.wizard_url)"
        },
        {
            "sha": "d7c52bf0193b99040d2bf515288b93891366755a",
            "filename": "django/contrib/gis/feeds.py",
            "status": "modified",
            "additions": 12,
            "deletions": 10,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ffeeds.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ffeeds.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ffeeds.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib.syndication.views import Feed as BaseFeed\n from django.utils.feedgenerator import Atom1Feed, Rss201rev2Feed\n \n@@ -13,7 +15,7 @@ def georss_coords(self, coords):\n         a single white space.  Given a tuple of coordinates, this will return\n         a unicode GeoRSS representation.\n         \"\"\"\n-        return u' '.join([u'%f %f' % (coord[1], coord[0]) for coord in coords])\n+        return ' '.join(['%f %f' % (coord[1], coord[0]) for coord in coords])\n \n     def add_georss_point(self, handler, coords, w3c_geo=False):\n         \"\"\"\n@@ -23,10 +25,10 @@ def add_georss_point(self, handler, coords, w3c_geo=False):\n         \"\"\"\n         if w3c_geo:\n             lon, lat = coords[:2]\n-            handler.addQuickElement(u'geo:lat', u'%f' % lat)\n-            handler.addQuickElement(u'geo:lon', u'%f' % lon)\n+            handler.addQuickElement('geo:lat', '%f' % lat)\n+            handler.addQuickElement('geo:lon', '%f' % lon)\n         else:\n-            handler.addQuickElement(u'georss:point', self.georss_coords((coords,)))\n+            handler.addQuickElement('georss:point', self.georss_coords((coords,)))\n \n     def add_georss_element(self, handler, item, w3c_geo=False):\n         \"\"\"\n@@ -57,7 +59,7 @@ def add_georss_element(self, handler, item, w3c_geo=False):\n                 # If a GeoRSS box was given via tuple.\n                 if not box_coords is None:\n                     if w3c_geo: raise ValueError('Cannot use simple GeoRSS box in W3C Geo feeds.')\n-                    handler.addQuickElement(u'georss:box', self.georss_coords(box_coords))\n+                    handler.addQuickElement('georss:box', self.georss_coords(box_coords))\n             else:\n                 # Getting the lower-case geometry type.\n                 gtype = str(geom.geom_type).lower()\n@@ -68,18 +70,18 @@ def add_georss_element(self, handler, item, w3c_geo=False):\n                     # For formatting consistent w/the GeoRSS simple standard:\n                     # http://georss.org/1.0#simple\n                     if gtype in ('linestring', 'linearring'):\n-                        handler.addQuickElement(u'georss:line', self.georss_coords(geom.coords))\n+                        handler.addQuickElement('georss:line', self.georss_coords(geom.coords))\n                     elif gtype in ('polygon',):\n                         # Only support the exterior ring.\n-                        handler.addQuickElement(u'georss:polygon', self.georss_coords(geom[0].coords))\n+                        handler.addQuickElement('georss:polygon', self.georss_coords(geom[0].coords))\n                     else:\n                         raise ValueError('Geometry type \"%s\" not supported.' % geom.geom_type)\n \n ### SyndicationFeed subclasses ###\n class GeoRSSFeed(Rss201rev2Feed, GeoFeedMixin):\n     def rss_attributes(self):\n         attrs = super(GeoRSSFeed, self).rss_attributes()\n-        attrs[u'xmlns:georss'] = u'http://www.georss.org/georss'\n+        attrs['xmlns:georss'] = 'http://www.georss.org/georss'\n         return attrs\n \n     def add_item_elements(self, handler, item):\n@@ -93,7 +95,7 @@ def add_root_elements(self, handler):\n class GeoAtom1Feed(Atom1Feed, GeoFeedMixin):\n     def root_attributes(self):\n         attrs = super(GeoAtom1Feed, self).root_attributes()\n-        attrs[u'xmlns:georss'] = u'http://www.georss.org/georss'\n+        attrs['xmlns:georss'] = 'http://www.georss.org/georss'\n         return attrs\n \n     def add_item_elements(self, handler, item):\n@@ -107,7 +109,7 @@ def add_root_elements(self, handler):\n class W3CGeoFeed(Rss201rev2Feed, GeoFeedMixin):\n     def rss_attributes(self):\n         attrs = super(W3CGeoFeed, self).rss_attributes()\n-        attrs[u'xmlns:geo'] = u'http://www.w3.org/2003/01/geo/wgs84_pos#'\n+        attrs['xmlns:geo'] = 'http://www.w3.org/2003/01/geo/wgs84_pos#'\n         return attrs\n \n     def add_item_elements(self, handler, item):"
        },
        {
            "sha": "432f0e18729d63deab0f0be06fbda8cfbede3083",
            "filename": "django/contrib/gis/forms/fields.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fforms%2Ffields.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django import forms\n from django.utils.translation import ugettext_lazy as _\n \n@@ -14,10 +16,10 @@ class GeometryField(forms.Field):\n     widget = forms.Textarea\n \n     default_error_messages = {\n-        'no_geom' : _(u'No geometry value provided.'),\n-        'invalid_geom' : _(u'Invalid geometry value.'),\n-        'invalid_geom_type' : _(u'Invalid geometry type.'),\n-        'transform_error' : _(u'An error occurred when transforming the geometry '\n+        'no_geom' : _('No geometry value provided.'),\n+        'invalid_geom' : _('Invalid geometry value.'),\n+        'invalid_geom_type' : _('Invalid geometry type.'),\n+        'transform_error' : _('An error occurred when transforming the geometry '\n                               'to the SRID of the geometry form field.'),\n         }\n "
        },
        {
            "sha": "07e12c0ca73508c2fc9e4cdf61126fe31b2a8e1d",
            "filename": "django/contrib/gis/gdal/tests/test_envelope.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_envelope.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_envelope.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgdal%2Ftests%2Ftest_envelope.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -23,7 +23,7 @@ def test01_init(self):\n         self.assertRaises(OGRException, Envelope, (0, 0, 5, 5, 3))\n         self.assertRaises(OGRException, Envelope, ())\n         self.assertRaises(ValueError, Envelope, 0, 'a', 5, 5)\n-        self.assertRaises(TypeError, Envelope, u'foo')\n+        self.assertRaises(TypeError, Envelope, 'foo')\n         self.assertRaises(OGRException, Envelope, (1, 1, 0, 0))\n         try:\n             Envelope(0, 0, 0, 0)"
        },
        {
            "sha": "1d9132ba6f07e570ca0d2e6e585f12fd5eca273f",
            "filename": "django/contrib/gis/geoip/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fgeoip%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fgeoip%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeoip%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n from django.conf import settings\n from django.contrib.gis.geos import GEOSGeometry\n@@ -99,13 +101,13 @@ def test05_unicode_response(self):\n         \"Testing that GeoIP strings are properly encoded, see #16553.\"\n         g = GeoIP()\n         d = g.city('62.224.93.23')\n-        self.assertEqual(u'Sch\\xf6mberg', d['city'])\n+        self.assertEqual('Schümberg', d['city'])\n \n     def test06_unicode_query(self):\n         \"Testing that GeoIP accepts unicode string queries, see #17059.\"\n         g = GeoIP()\n-        d = g.country(u'whitehouse.gov')\n-        self.assertEqual(u'US', d['country_code'])\n+        d = g.country('whitehouse.gov')\n+        self.assertEqual('US', d['country_code'])\n \n \n def suite():"
        },
        {
            "sha": "eb42d0cae88947ab9cc3daafc4223605607aac3f",
            "filename": "django/contrib/gis/sitemaps/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.http import HttpResponse, Http404\n from django.template import loader\n from django.contrib.sites.models import get_current_site\n@@ -41,7 +43,7 @@ def sitemap(request, sitemaps, section=None):\n     maps, urls = [], []\n     if section is not None:\n         if section not in sitemaps:\n-            raise Http404(_(u\"No sitemap available for section: %r\") % section)\n+            raise Http404(_(\"No sitemap available for section: %r\") % section)\n         maps.append(sitemaps[section])\n     else:\n         maps = sitemaps.values()\n@@ -55,9 +57,9 @@ def sitemap(request, sitemaps, section=None):\n             else:\n                 urls.extend(site.get_urls(page=page, site=current_site))\n         except EmptyPage:\n-            raise Http404(_(u\"Page %s empty\") % page)\n+            raise Http404(_(\"Page %s empty\") % page)\n         except PageNotAnInteger:\n-            raise Http404(_(u\"No page '%s'\") % page)\n+            raise Http404(_(\"No page '%s'\") % page)\n     xml = smart_str(loader.render_to_string('gis/sitemaps/geo_sitemap.xml', {'urlset': urls}))\n     return HttpResponse(xml, content_type='application/xml')\n "
        },
        {
            "sha": "85e777ae78cafb677287d586df03cf58aa2d5322",
            "filename": "django/contrib/gis/tests/geoapp/test_feeds.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_feeds.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_feeds.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_feeds.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -44,7 +44,7 @@ def test_geofeed_rss(self):\n         # Incrementing through the feeds.\n         for feed in [feed1, feed2]:\n             # Ensuring the georss namespace was added to the <rss> element.\n-            self.assertEqual(feed.getAttribute(u'xmlns:georss'),  u'http://www.georss.org/georss')\n+            self.assertEqual(feed.getAttribute('xmlns:georss'),  'http://www.georss.org/georss')\n             chan = feed.getElementsByTagName('channel')[0]\n             items = chan.getElementsByTagName('item')\n             self.assertEqual(len(items), City.objects.count())\n@@ -64,7 +64,7 @@ def test_geofeed_atom(self):\n \n         for feed in [feed1, feed2]:\n             # Ensuring the georsss namespace was added to the <feed> element.\n-            self.assertEqual(feed.getAttribute(u'xmlns:georss'),  u'http://www.georss.org/georss')\n+            self.assertEqual(feed.getAttribute('xmlns:georss'),  'http://www.georss.org/georss')\n             entries = feed.getElementsByTagName('entry')\n             self.assertEqual(len(entries), City.objects.count())\n \n@@ -77,7 +77,7 @@ def test_geofeed_w3c(self):\n         doc = minidom.parseString(self.client.get('/feeds/w3cgeo1/').content)\n         feed = doc.firstChild\n         # Ensuring the geo namespace was added to the <feed> element.\n-        self.assertEqual(feed.getAttribute(u'xmlns:geo'), u'http://www.w3.org/2003/01/geo/wgs84_pos#')\n+        self.assertEqual(feed.getAttribute('xmlns:geo'), 'http://www.w3.org/2003/01/geo/wgs84_pos#')\n         chan = feed.getElementsByTagName('channel')[0]\n         items = chan.getElementsByTagName('item')\n         self.assertEqual(len(items), City.objects.count())"
        },
        {
            "sha": "5f063dfba3128423a90384560ae65cffb4d49c57",
            "filename": "django/contrib/gis/tests/geoapp/test_sitemaps.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_sitemaps.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_sitemaps.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_sitemaps.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -34,7 +34,7 @@ def test_geositemap_index(self):\n         # Getting the geo index.\n         doc = minidom.parseString(self.client.get('/sitemap.xml').content)\n         index = doc.firstChild\n-        self.assertEqual(index.getAttribute(u'xmlns'), u'http://www.sitemaps.org/schemas/sitemap/0.9')\n+        self.assertEqual(index.getAttribute('xmlns'), 'http://www.sitemaps.org/schemas/sitemap/0.9')\n         self.assertEqual(3, len(index.getElementsByTagName('sitemap')))\n \n     def test_geositemap_kml(self):\n@@ -44,8 +44,8 @@ def test_geositemap_kml(self):\n \n             # Ensuring the right sitemaps namespaces are present.\n             urlset = doc.firstChild\n-            self.assertEqual(urlset.getAttribute(u'xmlns'), u'http://www.sitemaps.org/schemas/sitemap/0.9')\n-            self.assertEqual(urlset.getAttribute(u'xmlns:geo'), u'http://www.google.com/geo/schemas/sitemap/1.0')\n+            self.assertEqual(urlset.getAttribute('xmlns'), 'http://www.sitemaps.org/schemas/sitemap/0.9')\n+            self.assertEqual(urlset.getAttribute('xmlns:geo'), 'http://www.google.com/geo/schemas/sitemap/1.0')\n \n             urls = urlset.getElementsByTagName('url')\n             self.assertEqual(2, len(urls)) # Should only be 2 sitemaps.\n@@ -84,8 +84,8 @@ def test_geositemap_georss(self):\n \n         # Ensuring the right sitemaps namespaces are present.\n         urlset = doc.firstChild\n-        self.assertEqual(urlset.getAttribute(u'xmlns'), u'http://www.sitemaps.org/schemas/sitemap/0.9')\n-        self.assertEqual(urlset.getAttribute(u'xmlns:geo'), u'http://www.google.com/geo/schemas/sitemap/1.0')\n+        self.assertEqual(urlset.getAttribute('xmlns'), 'http://www.sitemaps.org/schemas/sitemap/0.9')\n+        self.assertEqual(urlset.getAttribute('xmlns:geo'), 'http://www.google.com/geo/schemas/sitemap/1.0')\n \n         # Making sure the correct number of feed URLs were included.\n         urls = urlset.getElementsByTagName('url')"
        },
        {
            "sha": "3fa8f044dedb8140ee3298d15453423ed22e5ef6",
            "filename": "django/contrib/gis/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fgis%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fviews.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,10 +1,12 @@\n+from __future__ import unicode_literals\n+\n from django.http import Http404\n from django.utils.translation import ugettext as _\n \n def feed(request, url, feed_dict=None):\n     \"\"\"Provided for backwards compatibility.\"\"\"\n     if not feed_dict:\n-        raise Http404(_(u\"No feeds are registered.\"))\n+        raise Http404(_(\"No feeds are registered.\"))\n \n     try:\n         slug, param = url.split('/', 1)\n@@ -14,7 +16,7 @@ def feed(request, url, feed_dict=None):\n     try:\n         f = feed_dict[slug]\n     except KeyError:\n-        raise Http404(_(u\"Slug %r isn't registered.\") % slug)\n+        raise Http404(_(\"Slug %r isn't registered.\") % slug)\n \n     instance = f()\n     instance.feed_url = getattr(f, 'feed_url', None) or request.path"
        },
        {
            "sha": "7a2e5147d8a8b62f54e576b6ab4d1642a34f27c3",
            "filename": "django/contrib/humanize/templatetags/humanize.py",
            "status": "modified",
            "additions": 14,
            "deletions": 13,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,4 @@\n+from __future__ import unicode_literals\n import re\n from datetime import date, datetime, timedelta\n \n@@ -23,8 +24,8 @@ def ordinal(value):\n         return value\n     suffixes = (_('th'), _('st'), _('nd'), _('rd'), _('th'), _('th'), _('th'), _('th'), _('th'), _('th'))\n     if value % 100 in (11, 12, 13): # special case\n-        return u\"%d%s\" % (value, suffixes[0])\n-    return u\"%d%s\" % (value, suffixes[value % 10])\n+        return \"%d%s\" % (value, suffixes[0])\n+    return \"%d%s\" % (value, suffixes[value % 10])\n \n @register.filter(is_safe=True)\n def intcomma(value, use_l10n=True):\n@@ -161,11 +162,11 @@ def naturalday(value, arg=None):\n     today = datetime.now(tzinfo).date()\n     delta = value - today\n     if delta.days == 0:\n-        return _(u'today')\n+        return _('today')\n     elif delta.days == 1:\n-        return _(u'tomorrow')\n+        return _('tomorrow')\n     elif delta.days == -1:\n-        return _(u'yesterday')\n+        return _('yesterday')\n     return defaultfilters.date(value, arg)\n \n @register.filter\n@@ -185,20 +186,20 @@ def naturaltime(value):\n                 'naturaltime', '%(delta)s ago'\n             ) % {'delta': defaultfilters.timesince(value)}\n         elif delta.seconds == 0:\n-            return _(u'now')\n+            return _('now')\n         elif delta.seconds < 60:\n             return ungettext(\n-                u'a second ago', u'%(count)s seconds ago', delta.seconds\n+                'a second ago', '%(count)s seconds ago', delta.seconds\n             ) % {'count': delta.seconds}\n         elif delta.seconds // 60 < 60:\n             count = delta.seconds // 60\n             return ungettext(\n-                u'a minute ago', u'%(count)s minutes ago', count\n+                'a minute ago', '%(count)s minutes ago', count\n             ) % {'count': count}\n         else:\n             count = delta.seconds // 60 // 60\n             return ungettext(\n-                u'an hour ago', u'%(count)s hours ago', count\n+                'an hour ago', '%(count)s hours ago', count\n             ) % {'count': count}\n     else:\n         delta = value - now\n@@ -207,18 +208,18 @@ def naturaltime(value):\n                 'naturaltime', '%(delta)s from now'\n             ) % {'delta': defaultfilters.timeuntil(value)}\n         elif delta.seconds == 0:\n-            return _(u'now')\n+            return _('now')\n         elif delta.seconds < 60:\n             return ungettext(\n-                u'a second from now', u'%(count)s seconds from now', delta.seconds\n+                'a second from now', '%(count)s seconds from now', delta.seconds\n             ) % {'count': delta.seconds}\n         elif delta.seconds // 60 < 60:\n             count = delta.seconds // 60\n             return ungettext(\n-                u'a minute from now', u'%(count)s minutes from now', count\n+                'a minute from now', '%(count)s minutes from now', count\n             ) % {'count': count}\n         else:\n             count = delta.seconds // 60 // 60\n             return ungettext(\n-                u'an hour from now', u'%(count)s hours from now', count\n+                'an hour from now', '%(count)s hours from now', count\n             ) % {'count': count}"
        },
        {
            "sha": "ecf4b83d6de4407110b188bb4d8a78c24c235f8c",
            "filename": "django/contrib/humanize/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fhumanize%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fhumanize%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,4 @@\n+from __future__ import unicode_literals\n import datetime\n import new\n \n@@ -89,8 +90,8 @@ def test_i18n_intword(self):\n     def test_apnumber(self):\n         test_list = [str(x) for x in range(1, 11)]\n         test_list.append(None)\n-        result_list = (u'one', u'two', u'three', u'four', u'five', u'six',\n-                       u'seven', u'eight', u'nine', u'10', None)\n+        result_list = ('one', 'two', 'three', 'four', 'five', 'six',\n+                       'seven', 'eight', 'nine', '10', None)\n \n         self.humanize_tester(test_list, result_list, 'apnumber')\n \n@@ -99,12 +100,12 @@ def test_naturalday(self):\n         yesterday = today - datetime.timedelta(days=1)\n         tomorrow = today + datetime.timedelta(days=1)\n         someday = today - datetime.timedelta(days=10)\n-        notdate = u\"I'm not a date value\"\n+        notdate = \"I'm not a date value\"\n \n         test_list = (today, yesterday, tomorrow, someday, notdate, None)\n         someday_result = defaultfilters.date(someday)\n-        result_list = (_(u'today'), _(u'yesterday'), _(u'tomorrow'),\n-                       someday_result, u\"I'm not a date value\", None)\n+        result_list = (_('today'), _('yesterday'), _('tomorrow'),\n+                       someday_result, \"I'm not a date value\", None)\n         self.humanize_tester(test_list, result_list, 'naturalday')\n \n     def test_naturalday_tz(self):"
        },
        {
            "sha": "600ef1eb166f0def8ea995a5cf9b25d2c2758638",
            "filename": "django/contrib/localflavor/ar/ar_provinces.py",
            "status": "modified",
            "additions": 25,
            "deletions": 24,
            "changes": 49,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Far%2Far_provinces.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Far%2Far_provinces.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Far%2Far_provinces.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -7,30 +7,31 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n PROVINCE_CHOICES = (\n-    ('B', u'Buenos Aires'),\n-    ('K', u'Catamarca'),\n-    ('H', u'Chaco'),\n-    ('U', u'Chubut'),\n-    ('C', u'Ciudad Autónoma de Buenos Aires'),\n-    ('X', u'Córdoba'),\n-    ('W', u'Corrientes'),\n-    ('E', u'Entre Ríos'),\n-    ('P', u'Formosa'),\n-    ('Y', u'Jujuy'),\n-    ('L', u'La Pampa'),\n-    ('F', u'La Rioja'),\n-    ('M', u'Mendoza'),\n-    ('N', u'Misiones'),\n-    ('Q', u'Neuquén'),\n-    ('R', u'Río Negro'),\n-    ('A', u'Salta'),\n-    ('J', u'San Juan'),\n-    ('D', u'San Luis'),\n-    ('Z', u'Santa Cruz'),\n-    ('S', u'Santa Fe'),\n-    ('G', u'Santiago del Estero'),\n-    ('V', u'Tierra del Fuego, Antártida e Islas del Atlántico Sur'),\n-    ('T', u'Tucumán'),\n+    ('B', 'Buenos Aires'),\n+    ('K', 'Catamarca'),\n+    ('H', 'Chaco'),\n+    ('U', 'Chubut'),\n+    ('C', 'Ciudad Autónoma de Buenos Aires'),\n+    ('X', 'Córdoba'),\n+    ('W', 'Corrientes'),\n+    ('E', 'Entre Ríos'),\n+    ('P', 'Formosa'),\n+    ('Y', 'Jujuy'),\n+    ('L', 'La Pampa'),\n+    ('F', 'La Rioja'),\n+    ('M', 'Mendoza'),\n+    ('N', 'Misiones'),\n+    ('Q', 'Neuquén'),\n+    ('R', 'Río Negro'),\n+    ('A', 'Salta'),\n+    ('J', 'San Juan'),\n+    ('D', 'San Luis'),\n+    ('Z', 'Santa Cruz'),\n+    ('S', 'Santa Fe'),\n+    ('G', 'Santiago del Estero'),\n+    ('V', 'Tierra del Fuego, Antártida e Islas del Atlántico Sur'),\n+    ('T', 'Tucumán'),\n )"
        },
        {
            "sha": "8e252beec9fe0c88100a125f190edd068b54e51c",
            "filename": "django/contrib/localflavor/ar/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Far%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n AR-specific Form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.localflavor.ar.ar_provinces import PROVINCE_CHOICES\n from django.core.validators import EMPTY_VALUES\n@@ -37,11 +37,11 @@ def __init__(self, max_length=8, min_length=4, *args, **kwargs):\n     def clean(self, value):\n         value = super(ARPostalCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if len(value) not in (4, 8):\n             raise ValidationError(self.error_messages['invalid'])\n         if len(value) == 8:\n-            return u'%s%s%s' % (value[0].upper(), value[1:5], value[5:].upper())\n+            return '%s%s%s' % (value[0].upper(), value[1:5], value[5:].upper())\n         return value\n \n class ARDNIField(CharField):\n@@ -63,7 +63,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ARDNIField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if not value.isdigit():\n             value = value.replace('.', '')\n         if not value.isdigit():\n@@ -94,7 +94,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ARCUITField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value, cd = self._canon(value)\n         if self._calc_cd(value) != cd:\n             raise ValidationError(self.error_messages['checksum'])\n@@ -113,5 +113,5 @@ def _format(self, cuit, check_digit=None):\n         if check_digit == None:\n             check_digit = cuit[-1]\n             cuit = cuit[:-1]\n-        return u'%s-%s-%s' % (cuit[:2], cuit[2:], check_digit)\n+        return '%s-%s-%s' % (cuit[:2], cuit[2:], check_digit)\n "
        },
        {
            "sha": "c531bec2e9a7c7d53ffebedfffebd6ea32a90803",
            "filename": "django/contrib/localflavor/at/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fat%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fat%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fat%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,7 +1,7 @@\n \"\"\"\n AT-specific Form helpers\n \"\"\"\n-\n+from __future__ import unicode_literals\n import re\n \n from django.core.validators import EMPTY_VALUES\n@@ -47,13 +47,13 @@ class ATSocialSecurityNumberField(Field):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'Enter a valid Austrian Social Security Number in XXXX XXXXXX format.'),\n+        'invalid': _('Enter a valid Austrian Social Security Number in XXXX XXXXXX format.'),\n     }\n \n     def clean(self, value):\n         value = super(ATSocialSecurityNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u\"\"\n+            return \"\"\n         if not re_ssn.search(value):\n             raise ValidationError(self.error_messages['invalid'])\n         sqnr, date = value.split(\" \")\n@@ -66,4 +66,4 @@ def clean(self, value):\n         res = res % 11\n         if res != int(check):\n            raise ValidationError(self.error_messages['invalid'])\n-        return u'%s%s %s'%(sqnr, check, date,)\n+        return '%s%s %s'%(sqnr, check, date,)"
        },
        {
            "sha": "34170fabc88e5bb230a1355ece668222fc16cfe8",
            "filename": "django/contrib/localflavor/au/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fau%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fau%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fau%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Australian-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -34,7 +34,7 @@ def __init__(self, max_length=4, min_length=None, *args, **kwargs):\n class AUPhoneNumberField(Field):\n     \"\"\"Australian phone number field.\"\"\"\n     default_error_messages = {\n-        'invalid': u'Phone numbers must contain 10 digits.',\n+        'invalid': 'Phone numbers must contain 10 digits.',\n     }\n \n     def clean(self, value):\n@@ -43,11 +43,11 @@ def clean(self, value):\n         \"\"\"\n         super(AUPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\(|\\)|\\s+|-)', '', smart_unicode(value))\n         phone_match = PHONE_DIGITS_RE.search(value)\n         if phone_match:\n-            return u'%s' % phone_match.group(1)\n+            return '%s' % phone_match.group(1)\n         raise ValidationError(self.error_messages['invalid'])\n \n "
        },
        {
            "sha": "ab37b1d2231b2e93ab366a388e69ed9e6bfe9c18",
            "filename": "django/contrib/localflavor/br/br_states.py",
            "status": "modified",
            "additions": 12,
            "deletions": 11,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fbr%2Fbr_states.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fbr%2Fbr_states.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fbr%2Fbr_states.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,33 +5,34 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n STATE_CHOICES = (\n     ('AC', 'Acre'),\n     ('AL', 'Alagoas'),\n-    ('AP', u'Amapá'),\n+    ('AP', 'Amapá'),\n     ('AM', 'Amazonas'),\n     ('BA', 'Bahia'),\n-    ('CE', u'Ceará'),\n+    ('CE', 'Ceará'),\n     ('DF', 'Distrito Federal'),\n-    ('ES', u'Espírito Santo'),\n-    ('GO', u'Goiás'),\n-    ('MA', u'Maranhão'),\n+    ('ES', 'Espírito Santo'),\n+    ('GO', 'Goiás'),\n+    ('MA', 'Maranhão'),\n     ('MT', 'Mato Grosso'),\n     ('MS', 'Mato Grosso do Sul'),\n     ('MG', 'Minas Gerais'),\n-    ('PA', u'Pará'),\n-    ('PB', u'Paraíba'),\n-    ('PR', u'Paraná'),\n+    ('PA', 'Pará'),\n+    ('PB', 'Paraíba'),\n+    ('PR', 'Paraná'),\n     ('PE', 'Pernambuco'),\n-    ('PI', u'Piauí'),\n+    ('PI', 'Piauí'),\n     ('RJ', 'Rio de Janeiro'),\n     ('RN', 'Rio Grande do Norte'),\n     ('RS', 'Rio Grande do Sul'),\n-    ('RO', u'Rondônia'),\n+    ('RO', 'Rondônia'),\n     ('RR', 'Roraima'),\n     ('SC', 'Santa Catarina'),\n-    ('SP', u'São Paulo'),\n+    ('SP', 'São Paulo'),\n     ('SE', 'Sergipe'),\n     ('TO', 'Tocantins'),\n )"
        },
        {
            "sha": "f287d46a9aed586a8ed097be1b1132403fbe4dba",
            "filename": "django/contrib/localflavor/br/forms.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fbr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fbr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fbr%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n BR-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -34,11 +34,11 @@ class BRPhoneNumberField(Field):\n     def clean(self, value):\n         super(BRPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\(|\\)|\\s+)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n+            return '%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n         raise ValidationError(self.error_messages['invalid'])\n \n class BRStateSelect(Select):\n@@ -55,7 +55,7 @@ class BRStateChoiceField(Field):\n     \"\"\"\n     widget = Select\n     default_error_messages = {\n-        'invalid': _(u'Select a valid brazilian state. That state is not one of the available states.'),\n+        'invalid': _('Select a valid brazilian state. That state is not one of the available states.'),\n     }\n \n     def __init__(self, required=True, widget=None, label=None,\n@@ -67,9 +67,9 @@ def __init__(self, required=True, widget=None, label=None,\n     def clean(self, value):\n         value = super(BRStateChoiceField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            value = u''\n+            value = ''\n         value = smart_unicode(value)\n-        if value == u'':\n+        if value == '':\n             return value\n         valid_values = set([smart_unicode(k) for k, v in self.widget.choices])\n         if value not in valid_values:\n@@ -105,7 +105,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(BRCPFField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         orig_value = value[:]\n         if not value.isdigit():\n             value = re.sub(\"[-\\.]\", \"\", value)\n@@ -142,7 +142,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(BRCNPJField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         orig_value = value[:]\n         if not value.isdigit():\n             value = re.sub(\"[-/\\.]\", \"\", value)"
        },
        {
            "sha": "ec66e665393aed9975c922ea6402598e35ea220a",
            "filename": "django/contrib/localflavor/ca/forms.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fca%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Canada-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -26,15 +26,15 @@ class CAPostalCodeField(CharField):\n     http://www.canadapost.ca/tools/pg/manual/PGaddress-e.asp#1402170\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXX XXX.'),\n+        'invalid': _('Enter a postal code in the format XXX XXX.'),\n     }\n \n     postcode_regex = re.compile(r'^([ABCEGHJKLMNPRSTVXY]\\d[ABCEGHJKLMNPRSTVWXYZ]) *(\\d[ABCEGHJKLMNPRSTVWXYZ]\\d)$')\n \n     def clean(self, value):\n         value = super(CAPostalCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         postcode = value.upper().strip()\n         m = self.postcode_regex.match(postcode)\n         if not m:\n@@ -44,19 +44,19 @@ def clean(self, value):\n class CAPhoneNumberField(Field):\n     \"\"\"Canadian phone number field.\"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Phone numbers must be in XXX-XXX-XXXX format.'),\n+        'invalid': _('Phone numbers must be in XXX-XXX-XXXX format.'),\n     }\n \n     def clean(self, value):\n         \"\"\"Validate a phone number.\n         \"\"\"\n         super(CAPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\(|\\)|\\s+)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n+            return '%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n         raise ValidationError(self.error_messages['invalid'])\n \n class CAProvinceField(Field):\n@@ -66,13 +66,13 @@ class CAProvinceField(Field):\n     abbreviation for the given province.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a Canadian province or territory.'),\n+        'invalid': _('Enter a Canadian province or territory.'),\n     }\n \n     def clean(self, value):\n         super(CAProvinceField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         try:\n             value = value.strip().lower()\n         except AttributeError:\n@@ -113,14 +113,14 @@ class CASocialInsuranceNumberField(Field):\n     def clean(self, value):\n         super(CASocialInsuranceNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = re.match(sin_re, value)\n         if not match:\n             raise ValidationError(self.error_messages['invalid'])\n \n-        number = u'%s-%s-%s' % (match.group(1), match.group(2), match.group(3))\n-        check_number = u'%s%s%s' % (match.group(1), match.group(2), match.group(3))\n+        number = '%s-%s-%s' % (match.group(1), match.group(2), match.group(3))\n+        check_number = '%s%s%s' % (match.group(1), match.group(2), match.group(3))\n         if not self.luhn_checksum_is_valid(check_number):\n             raise ValidationError(self.error_messages['invalid'])\n         return number"
        },
        {
            "sha": "e844a3c57cf6437e312fd30c3abc53b95dcd12cb",
            "filename": "django/contrib/localflavor/ch/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fch%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fch%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fch%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Swiss-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -40,11 +40,11 @@ class CHPhoneNumberField(Field):\n     def clean(self, value):\n         super(CHPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\.|\\s|/|-)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s %s %s %s' % (value[0:3], value[3:6], value[6:8], value[8:10])\n+            return '%s %s %s %s' % (value[0:3], value[3:6], value[6:8], value[8:10])\n         raise ValidationError(self.error_messages['invalid'])\n \n class CHStateSelect(Select):\n@@ -102,7 +102,7 @@ def has_valid_checksum(self, number):\n     def clean(self, value):\n         super(CHIdentityCardNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = re.match(id_re, value)\n         if not match:\n@@ -118,5 +118,5 @@ def clean(self, value):\n         if not self.has_valid_checksum(all_digits):\n             raise ValidationError(self.error_messages['invalid'])\n \n-        return u'%s%s%s' % (idnumber, pos9, checksum)\n+        return '%s%s%s' % (idnumber, pos9, checksum)\n "
        },
        {
            "sha": "d76f6ad83402dae098e57bbc1c41b1464d957ee2",
            "filename": "django/contrib/localflavor/cl/cl_regions.py",
            "status": "modified",
            "additions": 16,
            "deletions": 15,
            "changes": 31,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcl%2Fcl_regions.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcl%2Fcl_regions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fcl%2Fcl_regions.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,21 +5,22 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n REGION_CHOICES = (\n-    ('RM',  u'Región Metropolitana de Santiago'),\n-    ('I',   u'Región de Tarapacá'),\n-    ('II',  u'Región de Antofagasta'),\n-    ('III', u'Región de Atacama'),\n-    ('IV',  u'Región de Coquimbo'),\n-    ('V',   u'Región de Valparaíso'),\n-    ('VI',  u'Región del Libertador Bernardo O\\'Higgins'),\n-    ('VII', u'Región del Maule'),\n-    ('VIII',u'Región del Bío Bío'),\n-    ('IX',  u'Región de la Araucanía'),\n-    ('X',   u'Región de los Lagos'),\n-    ('XI',  u'Región de Aysén del General Carlos Ibáñez del Campo'),\n-    ('XII', u'Región de Magallanes y la Antártica Chilena'),\n-    ('XIV', u'Región de Los Ríos'),\n-    ('XV',  u'Región de Arica-Parinacota'),\n+    ('RM',  'Región Metropolitana de Santiago'),\n+    ('I',   'Región de Tarapacá'),\n+    ('II',  'Región de Antofagasta'),\n+    ('III', 'Región de Atacama'),\n+    ('IV',  'Región de Coquimbo'),\n+    ('V',   'Región de Valparaíso'),\n+    ('VI',  'Región del Libertador Bernardo O\\'Higgins'),\n+    ('VII', 'Región del Maule'),\n+    ('VIII','Región del Bío Bío'),\n+    ('IX',  'Región de la Araucanía'),\n+    ('X',   'Región de los Lagos'),\n+    ('XI',  'Región de Aysén del General Carlos Ibáñez del Campo'),\n+    ('XII', 'Región de Magallanes y la Antártica Chilena'),\n+    ('XIV', 'Región de Los Ríos'),\n+    ('XV',  'Región de Arica-Parinacota'),\n )"
        },
        {
            "sha": "59911763828a9a130d3c70f275c80d458871b394",
            "filename": "django/contrib/localflavor/cl/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcl%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcl%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fcl%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,15 +2,15 @@\n Chile specific form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n-from django.contrib.localflavor.cl.cl_regions import REGION_CHOICES\n from django.core.validators import EMPTY_VALUES\n from django.forms import ValidationError\n from django.forms.fields import RegexField, Select\n from django.utils.translation import ugettext_lazy as _\n from django.utils.encoding import smart_unicode\n \n+from .cl_regions import REGION_CHOICES\n \n class CLRegionSelect(Select):\n     \"\"\"\n@@ -50,7 +50,7 @@ def clean(self, value):\n         \"\"\"\n         super(CLRutField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         rut, verificador = self._canonify(value)\n         if self._algorithm(rut) == verificador:\n             return self._format(rut, verificador)\n@@ -68,7 +68,7 @@ def _algorithm(self, rut):\n             multi += 1\n             if multi == 8:\n                 multi = 2\n-        return u'0123456789K0'[11 - suma % 11]\n+        return '0123456789K0'[11 - suma % 11]\n \n     def _canonify(self, rut):\n         \"\"\"\n@@ -93,5 +93,5 @@ def _format(self, code, verifier=None):\n             else:\n                 new_dot = pos - 3\n             code = code[:new_dot] + '.' + code[new_dot:]\n-        return u'%s-%s' % (code, verifier)\n+        return '%s-%s' % (code, verifier)\n "
        },
        {
            "sha": "c27cba6423160f25a9061af9cb668da35828b0aa",
            "filename": "django/contrib/localflavor/cn/cn_provinces.py",
            "status": "modified",
            "additions": 35,
            "deletions": 35,
            "changes": 70,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcn%2Fcn_provinces.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcn%2Fcn_provinces.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fcn%2Fcn_provinces.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -9,41 +9,41 @@\n http://en.wikipedia.org/wiki/Direct-controlled_municipality\n http://en.wikipedia.org/wiki/Autonomous_regions_of_China\n \"\"\"\n-\n+from __future__ import unicode_literals\n \n CN_PROVINCE_CHOICES = (\n-    (\"anhui\", u\"安徽\"),\n-    (\"beijing\", u\"北京\"),\n-    (\"chongqing\", u\"重庆\"),\n-    (\"fujian\", u\"福建\"),\n-    (\"gansu\", u\"甘肃\"),\n-    (\"guangdong\", u\"广东\"),\n-    (\"guangxi\", u\"广西壮族自治区\"),\n-    (\"guizhou\", u\"贵州\"),\n-    (\"hainan\", u\"海南\"),\n-    (\"hebei\", u\"河北\"),\n-    (\"heilongjiang\", u\"黑龙江\"),\n-    (\"henan\", u\"河南\"),\n-    (\"hongkong\", u\"香港\"),\n-    (\"hubei\", u\"湖北\"),\n-    (\"hunan\", u\"湖南\"),\n-    (\"jiangsu\", u\"江苏\"),\n-    (\"jiangxi\", u\"江西\"),\n-    (\"jilin\", u\"吉林\"),\n-    (\"liaoning\", u\"辽宁\"),\n-    (\"macao\", u\"澳门\"),\n-    (\"neimongol\", u\"内蒙古自治区\"),\n-    (\"ningxia\", u\"宁夏回族自治区\"),\n-    (\"qinghai\", u\"青海\"),\n-    (\"shaanxi\", u\"陕西\"),\n-    (\"shandong\", u\"山东\"),\n-    (\"shanghai\", u\"上海\"),\n-    (\"shanxi\", u\"山西\"),\n-    (\"sichuan\", u\"四川\"),\n-    (\"taiwan\", u\"台湾\"),\n-    (\"tianjin\", u\"天津\"),\n-    (\"xinjiang\", u\"新疆维吾尔自治区\"),\n-    (\"xizang\", u\"西藏自治区\"),\n-    (\"yunnan\", u\"云南\"),\n-    (\"zhejiang\", u\"浙江\"),\n+    (\"anhui\", \"安徽\"),\n+    (\"beijing\", \"北京\"),\n+    (\"chongqing\", \"重庆\"),\n+    (\"fujian\", \"福建\"),\n+    (\"gansu\", \"甘肃\"),\n+    (\"guangdong\", \"广东\"),\n+    (\"guangxi\", \"广西壮族自治区\"),\n+    (\"guizhou\", \"贵州\"),\n+    (\"hainan\", \"海南\"),\n+    (\"hebei\", \"河北\"),\n+    (\"heilongjiang\", \"黑龙江\"),\n+    (\"henan\", \"河南\"),\n+    (\"hongkong\", \"香港\"),\n+    (\"hubei\", \"湖北\"),\n+    (\"hunan\", \"湖南\"),\n+    (\"jiangsu\", \"江苏\"),\n+    (\"jiangxi\", \"江西\"),\n+    (\"jilin\", \"吉林\"),\n+    (\"liaoning\", \"辽宁\"),\n+    (\"macao\", \"澳门\"),\n+    (\"neimongol\", \"内蒙古自治区\"),\n+    (\"ningxia\", \"宁夏回族自治区\"),\n+    (\"qinghai\", \"青海\"),\n+    (\"shaanxi\", \"陕西\"),\n+    (\"shandong\", \"山东\"),\n+    (\"shanghai\", \"上海\"),\n+    (\"shanxi\", \"山西\"),\n+    (\"sichuan\", \"四川\"),\n+    (\"taiwan\", \"台湾\"),\n+    (\"tianjin\", \"天津\"),\n+    (\"xinjiang\", \"新疆维吾尔自治区\"),\n+    (\"xizang\", \"西藏自治区\"),\n+    (\"yunnan\", \"云南\"),\n+    (\"zhejiang\", \"浙江\"),\n )"
        },
        {
            "sha": "43adcf3f01327e3a225657ea4e47dfe3132575b3",
            "filename": "django/contrib/localflavor/cn/forms.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcn%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcn%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fcn%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n \"\"\"\n Chinese-specific form helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -81,7 +81,7 @@ class CNPostCodeField(RegexField):\n     Valid code is XXXXXX where X is digit.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a post code in the format XXXXXX.'),\n+        'invalid': _('Enter a post code in the format XXXXXX.'),\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -102,10 +102,10 @@ class CNIDCardField(CharField):\n     The checksum algorithm is described in GB11643-1999.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'ID Card Number consists of 15 or 18 digits.'),\n-        'checksum': _(u'Invalid ID Card Number: Wrong checksum'),\n-        'birthday': _(u'Invalid ID Card Number: Wrong birthdate'),\n-        'location': _(u'Invalid ID Card Number: Wrong location code'),\n+        'invalid': _('ID Card Number consists of 15 or 18 digits.'),\n+        'checksum': _('Invalid ID Card Number: Wrong checksum'),\n+        'birthday': _('Invalid ID Card Number: Wrong birthdate'),\n+        'location': _('Invalid ID Card Number: Wrong location code'),\n     }\n \n     def __init__(self, max_length=18, min_length=15, *args, **kwargs):\n@@ -119,7 +119,7 @@ def clean(self, value):\n         # Check the length of the ID card number.\n         super(CNIDCardField, self).clean(value)\n         if not value:\n-            return u\"\"\n+            return \"\"\n         # Check whether this ID card number has valid format\n         if not re.match(ID_CARD_RE, value):\n             raise ValidationError(self.error_messages['invalid'])\n@@ -133,7 +133,7 @@ def clean(self, value):\n         value = value.upper()\n         if not self.has_valid_checksum(value):\n             raise ValidationError(self.error_messages['checksum'])\n-        return u'%s' % value\n+        return '%s' % value\n \n     def has_valid_birthday(self, value):\n         \"\"\"\n@@ -190,7 +190,7 @@ class CNPhoneNumberField(RegexField):\n         010-55555555-35\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid phone number.'),\n+        'invalid': _('Enter a valid phone number.'),\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -207,7 +207,7 @@ class CNCellNumberField(RegexField):\n     The length of the cell number should be 11.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid cell number.'),\n+        'invalid': _('Enter a valid cell number.'),\n     }\n \n     def __init__(self, *args, **kwargs):"
        },
        {
            "sha": "7168f54cc23e0cc40802923c2a8cadea211d91d5",
            "filename": "django/contrib/localflavor/co/co_departments.py",
            "status": "modified",
            "additions": 34,
            "deletions": 33,
            "changes": 67,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fco%2Fco_departments.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fco%2Fco_departments.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fco%2Fco_departments.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,39 +6,40 @@\n This exists in this standalone file so that it's only\n imported into memory when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n DEPARTMENT_CHOICES = (\n-    ('AMA', u'Amazonas'),\n-    ('ANT', u'Antioquia'),\n-    ('ARA', u'Arauca'),\n-    ('ATL', u'Atlántico'),\n-    ('DC',  u'Bogotá'),\n-    ('BOL', u'Bolívar'),\n-    ('BOY', u'Boyacá'),\n-    ('CAL', u'Caldas'),\n-    ('CAQ', u'Caquetá'),\n-    ('CAS', u'Casanare'),\n-    ('CAU', u'Cauca'),\n-    ('CES', u'Cesar'),\n-    ('CHO', u'Chocó'),\n-    ('COR', u'Córdoba'),\n-    ('CUN', u'Cundinamarca'),\n-    ('GUA', u'Guainía'),\n-    ('GUV', u'Guaviare'),\n-    ('HUI', u'Huila'),\n-    ('LAG', u'La Guajira'),\n-    ('MAG', u'Magdalena'),\n-    ('MET', u'Meta'),\n-    ('NAR', u'Nariño'),\n-    ('NSA', u'Norte de Santander'),\n-    ('PUT', u'Putumayo'),\n-    ('QUI', u'Quindío'),\n-    ('RIS', u'Risaralda'),\n-    ('SAP', u'San Andrés and Providencia'),\n-    ('SAN', u'Santander'),\n-    ('SUC', u'Sucre'),\n-    ('TOL', u'Tolima'),\n-    ('VAC', u'Valle del Cauca'),\n-    ('VAU', u'Vaupés'),\n-    ('VID', u'Vichada'),\n+    ('AMA', 'Amazonas'),\n+    ('ANT', 'Antioquia'),\n+    ('ARA', 'Arauca'),\n+    ('ATL', 'Atlántico'),\n+    ('DC',  'Bogotá'),\n+    ('BOL', 'Bolívar'),\n+    ('BOY', 'Boyacá'),\n+    ('CAL', 'Caldas'),\n+    ('CAQ', 'Caquetá'),\n+    ('CAS', 'Casanare'),\n+    ('CAU', 'Cauca'),\n+    ('CES', 'Cesar'),\n+    ('CHO', 'Chocó'),\n+    ('COR', 'Córdoba'),\n+    ('CUN', 'Cundinamarca'),\n+    ('GUA', 'Guainía'),\n+    ('GUV', 'Guaviare'),\n+    ('HUI', 'Huila'),\n+    ('LAG', 'La Guajira'),\n+    ('MAG', 'Magdalena'),\n+    ('MET', 'Meta'),\n+    ('NAR', 'Nariño'),\n+    ('NSA', 'Norte de Santander'),\n+    ('PUT', 'Putumayo'),\n+    ('QUI', 'Quindío'),\n+    ('RIS', 'Risaralda'),\n+    ('SAP', 'San Andrés and Providencia'),\n+    ('SAN', 'Santander'),\n+    ('SUC', 'Sucre'),\n+    ('TOL', 'Tolima'),\n+    ('VAC', 'Valle del Cauca'),\n+    ('VAU', 'Vaupés'),\n+    ('VID', 'Vichada'),\n )"
        },
        {
            "sha": "c7e81e4037174bc5a44e14bfe6dce42c33d8522d",
            "filename": "django/contrib/localflavor/cz/forms.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcz%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fcz%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fcz%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Czech-specific form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -29,7 +29,7 @@ class CZPostalCodeField(RegexField):\n     Valid form is XXXXX or XXX XX, where X represents integer.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXXXX or XXX XX.'),\n+        'invalid': _('Enter a postal code in the format XXXXX or XXX XX.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -49,15 +49,15 @@ class CZBirthNumberField(Field):\n     Czech birth number field.\n     \"\"\"\n     default_error_messages = {\n-        'invalid_format': _(u'Enter a birth number in the format XXXXXX/XXXX or XXXXXXXXXX.'),\n-        'invalid': _(u'Enter a valid birth number.'),\n+        'invalid_format': _('Enter a birth number in the format XXXXXX/XXXX or XXXXXXXXXX.'),\n+        'invalid': _('Enter a valid birth number.'),\n     }\n \n     def clean(self, value, gender=None):\n         super(CZBirthNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = re.match(birth_number, value)\n         if not match:\n@@ -67,7 +67,7 @@ def clean(self, value, gender=None):\n \n         # Three digits for verification number were used until 1. january 1954\n         if len(id) == 3:\n-            return u'%s' % value\n+            return '%s' % value\n \n         # Birth number is in format YYMMDD. Females have month value raised by 50.\n         # In case that all possible number are already used (for given date),\n@@ -90,7 +90,7 @@ def clean(self, value, gender=None):\n         modulo = int(birth + id[:3]) % 11\n \n         if (modulo == int(id[-1])) or (modulo == 10 and id[-1] == '0'):\n-            return u'%s' % value\n+            return '%s' % value\n         else:\n             raise ValidationError(self.error_messages['invalid'])\n \n@@ -99,14 +99,14 @@ class CZICNumberField(Field):\n     Czech IC number field.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid IC number.'),\n+        'invalid': _('Enter a valid IC number.'),\n     }\n \n     def clean(self, value):\n         super(CZICNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = re.match(ic_number, value)\n         if not match:\n@@ -130,7 +130,7 @@ def clean(self, value):\n         if (not remainder % 10 and check == 1) or \\\n         (remainder == 1 and check == 0) or \\\n         (check == (11 - remainder)):\n-            return u'%s' % value\n+            return '%s' % value\n \n         raise ValidationError(self.error_messages['invalid'])\n "
        },
        {
            "sha": "a7891d117f743b01394535da45b57af2c4e774ec",
            "filename": "django/contrib/localflavor/de/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fde%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fde%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fde%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n DE-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -68,7 +68,7 @@ def has_valid_checksum(self, number):\n     def clean(self, value):\n         super(DEIdentityCardNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         match = re.match(id_re, value)\n         if not match:\n             raise ValidationError(self.error_messages['invalid'])\n@@ -80,9 +80,9 @@ def clean(self, value):\n         if residence == '0000000000' or birthday == '0000000' or validity == '0000000':\n             raise ValidationError(self.error_messages['invalid'])\n \n-        all_digits = u\"%s%s%s%s\" % (residence, birthday, validity, checksum)\n+        all_digits = \"%s%s%s%s\" % (residence, birthday, validity, checksum)\n         if not self.has_valid_checksum(residence) or not self.has_valid_checksum(birthday) or \\\n             not self.has_valid_checksum(validity) or not self.has_valid_checksum(all_digits):\n                 raise ValidationError(self.error_messages['invalid'])\n \n-        return u'%s%s-%s-%s-%s' % (residence, origin, birthday, validity, checksum)\n+        return '%s%s-%s-%s-%s' % (residence, origin, birthday, validity, checksum)"
        },
        {
            "sha": "9d56f9f29897a2d084f1d2acd91eb9c451262e43",
            "filename": "django/contrib/localflavor/de_CH/formats.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fde_CH%2Fformats.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fde_CH%2Fformats.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fde_CH%2Fformats.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,8 @@\n \n # The *_FORMAT strings use the Django date format syntax,\n # see http://docs.djangoproject.com/en/dev/ref/templates/builtins/#date\n+from __future__ import unicode_literals\n+\n DATE_FORMAT = 'j. F Y'\n TIME_FORMAT = 'H:i:s'\n DATETIME_FORMAT = 'j. F Y H:i:s'\n@@ -39,5 +41,5 @@\n # For details, please refer to http://www.bk.admin.ch/dokumentation/sprachen/04915/05016/index.html?lang=de\n # (in German) and the documentation\n DECIMAL_SEPARATOR = ','\n-THOUSAND_SEPARATOR = u'\\xa0' # non-breaking space\n+THOUSAND_SEPARATOR = '\\xa0' # non-breaking space\n NUMBER_GROUPING = 3"
        },
        {
            "sha": "db25d26ff800296d3fe23f3f77f8abe288737bdb",
            "filename": "django/contrib/localflavor/ec/ec_provinces.py",
            "status": "modified",
            "additions": 25,
            "deletions": 24,
            "changes": 49,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fec%2Fec_provinces.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fec%2Fec_provinces.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fec%2Fec_provinces.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,30 +6,31 @@\n This exists in this standalone file so that it's only\n imported into memory when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n PROVINCE_CHOICES = (\n-    ('A', u'Azuay'),\n-    ('B', u'Bolívar'),\n-    ('F', u'Cañar'),\n-    ('C', u'Carchi'),\n-    ('H', u'Chimborazo'),\n-    ('X', u'Cotopaxi'),\n-    ('O', u'El Oro'),\n-    ('E', u'Esmeraldas'),\n-    ('W', u'Galápagos'),\n-    ('G', u'Guayas'),\n-    ('I', u'Imbabura'),\n-    ('L', u'Loja'),\n-    ('R', u'Los Ríos'),\n-    ('M', u'Manabí'),\n-    ('S', u'Morona Santiago'),\n-    ('N', u'Napo'),\n-    ('D', u'Orellana'),\n-    ('Y', u'Pastaza'),\n-    ('P', u'Pichincha'),\n-    ('SE', u'Santa Elena'),\n-    ('SD', u'Santo Domingo de los Tsáchilas'),\n-    ('U', u'Sucumbíos'),\n-    ('T', u'Tungurahua'),\n-    ('Z', u'Zamora Chinchipe'),\n+    ('A', 'Azuay'),\n+    ('B', 'Bolívar'),\n+    ('F', 'Cañar'),\n+    ('C', 'Carchi'),\n+    ('H', 'Chimborazo'),\n+    ('X', 'Cotopaxi'),\n+    ('O', 'El Oro'),\n+    ('E', 'Esmeraldas'),\n+    ('W', 'Galápagos'),\n+    ('G', 'Guayas'),\n+    ('I', 'Imbabura'),\n+    ('L', 'Loja'),\n+    ('R', 'Los Ríos'),\n+    ('M', 'Manabí'),\n+    ('S', 'Morona Santiago'),\n+    ('N', 'Napo'),\n+    ('D', 'Orellana'),\n+    ('Y', 'Pastaza'),\n+    ('P', 'Pichincha'),\n+    ('SE', 'Santa Elena'),\n+    ('SD', 'Santo Domingo de los Tsáchilas'),\n+    ('U', 'Sucumbíos'),\n+    ('T', 'Tungurahua'),\n+    ('Z', 'Zamora Chinchipe'),\n )"
        },
        {
            "sha": "b5e256ca44a9b1cdd7277641cfc8f8fe8653ed2c",
            "filename": "django/contrib/localflavor/es/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fes%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -91,7 +91,7 @@ def __init__(self, only_nif=False, max_length=None, min_length=None, *args, **kw\n     def clean(self, value):\n         super(ESIdentityCardNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         nif_get_checksum = lambda d: self.nif_control[int(d)%23]\n \n         value = value.upper().replace(' ', '').replace('-', '')\n@@ -157,7 +157,7 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self, value):\n         super(ESCCCField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         control_str = [1, 2, 4, 8, 5, 10, 9, 7, 3, 6]\n         m = re.match(r'^(\\d{4})[ -]?(\\d{4})[ -]?(\\d{2})[ -]?(\\d{10})$', value)\n         entity, office, checksum, account = m.groups()"
        },
        {
            "sha": "6f90e5e02b5857b79f5320d8c0736abc948a39e5",
            "filename": "django/contrib/localflavor/fi/fi_municipalities.py",
            "status": "modified",
            "additions": 345,
            "deletions": 343,
            "changes": 688,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffi%2Ffi_municipalities.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffi%2Ffi_municipalities.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ffi%2Ffi_municipalities.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -7,347 +7,349 @@\n when explicitly needed.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n MUNICIPALITY_CHOICES = (\n-    ('akaa', u\"Akaa\"),\n-    ('alajarvi', u\"Alajärvi\"),\n-    ('alavieska', u\"Alavieska\"),\n-    ('alavus', u\"Alavus\"),\n-    ('artjarvi', u\"Artjärvi\"),\n-    ('asikkala', u\"Asikkala\"),\n-    ('askola', u\"Askola\"),\n-    ('aura', u\"Aura\"),\n-    ('brando', u\"Brändö\"),\n-    ('eckero', u\"Eckerö\"),\n-    ('enonkoski', u\"Enonkoski\"),\n-    ('enontekio', u\"Enontekiö\"),\n-    ('espoo', u\"Espoo\"),\n-    ('eura', u\"Eura\"),\n-    ('eurajoki', u\"Eurajoki\"),\n-    ('evijarvi', u\"Evijärvi\"),\n-    ('finstrom', u\"Finström\"),\n-    ('forssa', u\"Forssa\"),\n-    ('foglo', u\"Föglö\"),\n-    ('geta', u\"Geta\"),\n-    ('haapajarvi', u\"Haapajärvi\"),\n-    ('haapavesi', u\"Haapavesi\"),\n-    ('hailuoto', u\"Hailuoto\"),\n-    ('halsua', u\"Halsua\"),\n-    ('hamina', u\"Hamina\"),\n-    ('hammarland', u\"Hammarland\"),\n-    ('hankasalmi', u\"Hankasalmi\"),\n-    ('hanko', u\"Hanko\"),\n-    ('harjavalta', u\"Harjavalta\"),\n-    ('hartola', u\"Hartola\"),\n-    ('hattula', u\"Hattula\"),\n-    ('haukipudas', u\"Haukipudas\"),\n-    ('hausjarvi', u\"Hausjärvi\"),\n-    ('heinola', u\"Heinola\"),\n-    ('heinavesi', u\"Heinävesi\"),\n-    ('helsinki', u\"Helsinki\"),\n-    ('hirvensalmi', u\"Hirvensalmi\"),\n-    ('hollola', u\"Hollola\"),\n-    ('honkajoki', u\"Honkajoki\"),\n-    ('huittinen', u\"Huittinen\"),\n-    ('humppila', u\"Humppila\"),\n-    ('hyrynsalmi', u\"Hyrynsalmi\"),\n-    ('hyvinkaa', u\"Hyvinkää\"),\n-    ('hameenkoski', u\"Hämeenkoski\"),\n-    ('hameenkyro', u\"Hämeenkyrö\"),\n-    ('hameenlinna', u\"Hämeenlinna\"),\n-    ('ii', u\"Ii\"),\n-    ('iisalmi', u\"Iisalmi\"),\n-    ('iitti', u\"Iitti\"),\n-    ('ikaalinen', u\"Ikaalinen\"),\n-    ('ilmajoki', u\"Ilmajoki\"),\n-    ('ilomantsi', u\"Ilomantsi\"),\n-    ('imatra', u\"Imatra\"),\n-    ('inari', u\"Inari\"),\n-    ('inkoo', u\"Inkoo\"),\n-    ('isojoki', u\"Isojoki\"),\n-    ('isokyro', u\"Isokyrö\"),\n-    ('jalasjarvi', u\"Jalasjärvi\"),\n-    ('janakkala', u\"Janakkala\"),\n-    ('joensuu', u\"Joensuu\"),\n-    ('jokioinen', u\"Jokioinen\"),\n-    ('jomala', u\"Jomala\"),\n-    ('joroinen', u\"Joroinen\"),\n-    ('joutsa', u\"Joutsa\"),\n-    ('juankoski', u\"Juankoski\"),\n-    ('juuka', u\"Juuka\"),\n-    ('juupajoki', u\"Juupajoki\"),\n-    ('juva', u\"Juva\"),\n-    ('jyvaskyla', u\"Jyväskylä\"),\n-    ('jamijarvi', u\"Jämijärvi\"),\n-    ('jamsa', u\"Jämsä\"),\n-    ('jarvenpaa', u\"Järvenpää\"),\n-    ('kaarina', u\"Kaarina\"),\n-    ('kaavi', u\"Kaavi\"),\n-    ('kajaani', u\"Kajaani\"),\n-    ('kalajoki', u\"Kalajoki\"),\n-    ('kangasala', u\"Kangasala\"),\n-    ('kangasniemi', u\"Kangasniemi\"),\n-    ('kankaanpaa', u\"Kankaanpää\"),\n-    ('kannonkoski', u\"Kannonkoski\"),\n-    ('kannus', u\"Kannus\"),\n-    ('karijoki', u\"Karijoki\"),\n-    ('karjalohja', u\"Karjalohja\"),\n-    ('karkkila', u\"Karkkila\"),\n-    ('karstula', u\"Karstula\"),\n-    ('karttula', u\"Karttula\"),\n-    ('karvia', u\"Karvia\"),\n-    ('kaskinen', u\"Kaskinen\"),\n-    ('kauhajoki', u\"Kauhajoki\"),\n-    ('kauhava', u\"Kauhava\"),\n-    ('kauniainen', u\"Kauniainen\"),\n-    ('kaustinen', u\"Kaustinen\"),\n-    ('keitele', u\"Keitele\"),\n-    ('kemi', u\"Kemi\"),\n-    ('kemijarvi', u\"Kemijärvi\"),\n-    ('keminmaa', u\"Keminmaa\"),\n-    ('kemionsaari', u\"Kemiönsaari\"),\n-    ('kempele', u\"Kempele\"),\n-    ('kerava', u\"Kerava\"),\n-    ('kerimaki', u\"Kerimäki\"),\n-    ('kesalahti', u\"Kesälahti\"),\n-    ('keuruu', u\"Keuruu\"),\n-    ('kihnio', u\"Kihniö\"),\n-    ('kiikoinen', u\"Kiikoinen\"),\n-    ('kiiminki', u\"Kiiminki\"),\n-    ('kinnula', u\"Kinnula\"),\n-    ('kirkkonummi', u\"Kirkkonummi\"),\n-    ('kitee', u\"Kitee\"),\n-    ('kittila', u\"Kittilä\"),\n-    ('kiuruvesi', u\"Kiuruvesi\"),\n-    ('kivijarvi', u\"Kivijärvi\"),\n-    ('kokemaki', u\"Kokemäki\"),\n-    ('kokkola', u\"Kokkola\"),\n-    ('kolari', u\"Kolari\"),\n-    ('konnevesi', u\"Konnevesi\"),\n-    ('kontiolahti', u\"Kontiolahti\"),\n-    ('korsnas', u\"Korsnäs\"),\n-    ('koskitl', u\"Koski Tl\"),\n-    ('kotka', u\"Kotka\"),\n-    ('kouvola', u\"Kouvola\"),\n-    ('kristiinankaupunki', u\"Kristiinankaupunki\"),\n-    ('kruunupyy', u\"Kruunupyy\"),\n-    ('kuhmalahti', u\"Kuhmalahti\"),\n-    ('kuhmo', u\"Kuhmo\"),\n-    ('kuhmoinen', u\"Kuhmoinen\"),\n-    ('kumlinge', u\"Kumlinge\"),\n-    ('kuopio', u\"Kuopio\"),\n-    ('kuortane', u\"Kuortane\"),\n-    ('kurikka', u\"Kurikka\"),\n-    ('kustavi', u\"Kustavi\"),\n-    ('kuusamo', u\"Kuusamo\"),\n-    ('kylmakoski', u\"Kylmäkoski\"),\n-    ('kyyjarvi', u\"Kyyjärvi\"),\n-    ('karkola', u\"Kärkölä\"),\n-    ('karsamaki', u\"Kärsämäki\"),\n-    ('kokar', u\"Kökar\"),\n-    ('koylio', u\"Köyliö\"),\n-    ('lahti', u\"Lahti\"),\n-    ('laihia', u\"Laihia\"),\n-    ('laitila', u\"Laitila\"),\n-    ('lapinjarvi', u\"Lapinjärvi\"),\n-    ('lapinlahti', u\"Lapinlahti\"),\n-    ('lappajarvi', u\"Lappajärvi\"),\n-    ('lappeenranta', u\"Lappeenranta\"),\n-    ('lapua', u\"Lapua\"),\n-    ('laukaa', u\"Laukaa\"),\n-    ('lavia', u\"Lavia\"),\n-    ('lemi', u\"Lemi\"),\n-    ('lemland', u\"Lemland\"),\n-    ('lempaala', u\"Lempäälä\"),\n-    ('leppavirta', u\"Leppävirta\"),\n-    ('lestijarvi', u\"Lestijärvi\"),\n-    ('lieksa', u\"Lieksa\"),\n-    ('lieto', u\"Lieto\"),\n-    ('liminka', u\"Liminka\"),\n-    ('liperi', u\"Liperi\"),\n-    ('lohja', u\"Lohja\"),\n-    ('loimaa', u\"Loimaa\"),\n-    ('loppi', u\"Loppi\"),\n-    ('loviisa', u\"Loviisa\"),\n-    ('luhanka', u\"Luhanka\"),\n-    ('lumijoki', u\"Lumijoki\"),\n-    ('lumparland', u\"Lumparland\"),\n-    ('luoto', u\"Luoto\"),\n-    ('luumaki', u\"Luumäki\"),\n-    ('luvia', u\"Luvia\"),\n-    ('lansi-turunmaa', u\"Länsi-Turunmaa\"),\n-    ('maalahti', u\"Maalahti\"),\n-    ('maaninka', u\"Maaninka\"),\n-    ('maarianhamina', u\"Maarianhamina\"),\n-    ('marttila', u\"Marttila\"),\n-    ('masku', u\"Masku\"),\n-    ('merijarvi', u\"Merijärvi\"),\n-    ('merikarvia', u\"Merikarvia\"),\n-    ('miehikkala', u\"Miehikkälä\"),\n-    ('mikkeli', u\"Mikkeli\"),\n-    ('muhos', u\"Muhos\"),\n-    ('multia', u\"Multia\"),\n-    ('muonio', u\"Muonio\"),\n-    ('mustasaari', u\"Mustasaari\"),\n-    ('muurame', u\"Muurame\"),\n-    ('mynamaki', u\"Mynämäki\"),\n-    ('myrskyla', u\"Myrskylä\"),\n-    ('mantsala', u\"Mäntsälä\"),\n-    ('mantta-vilppula', u\"Mänttä-Vilppula\"),\n-    ('mantyharju', u\"Mäntyharju\"),\n-    ('naantali', u\"Naantali\"),\n-    ('nakkila', u\"Nakkila\"),\n-    ('nastola', u\"Nastola\"),\n-    ('nilsia', u\"Nilsiä\"),\n-    ('nivala', u\"Nivala\"),\n-    ('nokia', u\"Nokia\"),\n-    ('nousiainen', u\"Nousiainen\"),\n-    ('nummi-pusula', u\"Nummi-Pusula\"),\n-    ('nurmes', u\"Nurmes\"),\n-    ('nurmijarvi', u\"Nurmijärvi\"),\n-    ('narpio', u\"Närpiö\"),\n-    ('oravainen', u\"Oravainen\"),\n-    ('orimattila', u\"Orimattila\"),\n-    ('oripaa', u\"Oripää\"),\n-    ('orivesi', u\"Orivesi\"),\n-    ('oulainen', u\"Oulainen\"),\n-    ('oulu', u\"Oulu\"),\n-    ('oulunsalo', u\"Oulunsalo\"),\n-    ('outokumpu', u\"Outokumpu\"),\n-    ('padasjoki', u\"Padasjoki\"),\n-    ('paimio', u\"Paimio\"),\n-    ('paltamo', u\"Paltamo\"),\n-    ('parikkala', u\"Parikkala\"),\n-    ('parkano', u\"Parkano\"),\n-    ('pedersore', u\"Pedersöre\"),\n-    ('pelkosenniemi', u\"Pelkosenniemi\"),\n-    ('pello', u\"Pello\"),\n-    ('perho', u\"Perho\"),\n-    ('pertunmaa', u\"Pertunmaa\"),\n-    ('petajavesi', u\"Petäjävesi\"),\n-    ('pieksamaki', u\"Pieksämäki\"),\n-    ('pielavesi', u\"Pielavesi\"),\n-    ('pietarsaari', u\"Pietarsaari\"),\n-    ('pihtipudas', u\"Pihtipudas\"),\n-    ('pirkkala', u\"Pirkkala\"),\n-    ('polvijarvi', u\"Polvijärvi\"),\n-    ('pomarkku', u\"Pomarkku\"),\n-    ('pori', u\"Pori\"),\n-    ('pornainen', u\"Pornainen\"),\n-    ('porvoo', u\"Porvoo\"),\n-    ('posio', u\"Posio\"),\n-    ('pudasjarvi', u\"Pudasjärvi\"),\n-    ('pukkila', u\"Pukkila\"),\n-    ('punkaharju', u\"Punkaharju\"),\n-    ('punkalaidun', u\"Punkalaidun\"),\n-    ('puolanka', u\"Puolanka\"),\n-    ('puumala', u\"Puumala\"),\n-    ('pyhtaa', u\"Pyhtää\"),\n-    ('pyhajoki', u\"Pyhäjoki\"),\n-    ('pyhajarvi', u\"Pyhäjärvi\"),\n-    ('pyhanta', u\"Pyhäntä\"),\n-    ('pyharanta', u\"Pyhäranta\"),\n-    ('palkane', u\"Pälkäne\"),\n-    ('poytya', u\"Pöytyä\"),\n-    ('raahe', u\"Raahe\"),\n-    ('raasepori', u\"Raasepori\"),\n-    ('raisio', u\"Raisio\"),\n-    ('rantasalmi', u\"Rantasalmi\"),\n-    ('ranua', u\"Ranua\"),\n-    ('rauma', u\"Rauma\"),\n-    ('rautalampi', u\"Rautalampi\"),\n-    ('rautavaara', u\"Rautavaara\"),\n-    ('rautjarvi', u\"Rautjärvi\"),\n-    ('reisjarvi', u\"Reisjärvi\"),\n-    ('riihimaki', u\"Riihimäki\"),\n-    ('ristiina', u\"Ristiina\"),\n-    ('ristijarvi', u\"Ristijärvi\"),\n-    ('rovaniemi', u\"Rovaniemi\"),\n-    ('ruokolahti', u\"Ruokolahti\"),\n-    ('ruovesi', u\"Ruovesi\"),\n-    ('rusko', u\"Rusko\"),\n-    ('raakkyla', u\"Rääkkylä\"),\n-    ('saarijarvi', u\"Saarijärvi\"),\n-    ('salla', u\"Salla\"),\n-    ('salo', u\"Salo\"),\n-    ('saltvik', u\"Saltvik\"),\n-    ('sastamala', u\"Sastamala\"),\n-    ('sauvo', u\"Sauvo\"),\n-    ('savitaipale', u\"Savitaipale\"),\n-    ('savonlinna', u\"Savonlinna\"),\n-    ('savukoski', u\"Savukoski\"),\n-    ('seinajoki', u\"Seinäjoki\"),\n-    ('sievi', u\"Sievi\"),\n-    ('siikainen', u\"Siikainen\"),\n-    ('siikajoki', u\"Siikajoki\"),\n-    ('siikalatva', u\"Siikalatva\"),\n-    ('siilinjarvi', u\"Siilinjärvi\"),\n-    ('simo', u\"Simo\"),\n-    ('sipoo', u\"Sipoo\"),\n-    ('siuntio', u\"Siuntio\"),\n-    ('sodankyla', u\"Sodankylä\"),\n-    ('soini', u\"Soini\"),\n-    ('somero', u\"Somero\"),\n-    ('sonkajarvi', u\"Sonkajärvi\"),\n-    ('sotkamo', u\"Sotkamo\"),\n-    ('sottunga', u\"Sottunga\"),\n-    ('sulkava', u\"Sulkava\"),\n-    ('sund', u\"Sund\"),\n-    ('suomenniemi', u\"Suomenniemi\"),\n-    ('suomussalmi', u\"Suomussalmi\"),\n-    ('suonenjoki', u\"Suonenjoki\"),\n-    ('sysma', u\"Sysmä\"),\n-    ('sakyla', u\"Säkylä\"),\n-    ('taipalsaari', u\"Taipalsaari\"),\n-    ('taivalkoski', u\"Taivalkoski\"),\n-    ('taivassalo', u\"Taivassalo\"),\n-    ('tammela', u\"Tammela\"),\n-    ('tampere', u\"Tampere\"),\n-    ('tarvasjoki', u\"Tarvasjoki\"),\n-    ('tervo', u\"Tervo\"),\n-    ('tervola', u\"Tervola\"),\n-    ('teuva', u\"Teuva\"),\n-    ('tohmajarvi', u\"Tohmajärvi\"),\n-    ('toholampi', u\"Toholampi\"),\n-    ('toivakka', u\"Toivakka\"),\n-    ('tornio', u\"Tornio\"),\n-    ('turku', u\"Turku\"),\n-    ('tuusniemi', u\"Tuusniemi\"),\n-    ('tuusula', u\"Tuusula\"),\n-    ('tyrnava', u\"Tyrnävä\"),\n-    ('toysa', u\"Töysä\"),\n-    ('ulvila', u\"Ulvila\"),\n-    ('urjala', u\"Urjala\"),\n-    ('utajarvi', u\"Utajärvi\"),\n-    ('utsjoki', u\"Utsjoki\"),\n-    ('uurainen', u\"Uurainen\"),\n-    ('uusikaarlepyy', u\"Uusikaarlepyy\"),\n-    ('uusikaupunki', u\"Uusikaupunki\"),\n-    ('vaala', u\"Vaala\"),\n-    ('vaasa', u\"Vaasa\"),\n-    ('valkeakoski', u\"Valkeakoski\"),\n-    ('valtimo', u\"Valtimo\"),\n-    ('vantaa', u\"Vantaa\"),\n-    ('varkaus', u\"Varkaus\"),\n-    ('varpaisjarvi', u\"Varpaisjärvi\"),\n-    ('vehmaa', u\"Vehmaa\"),\n-    ('vesanto', u\"Vesanto\"),\n-    ('vesilahti', u\"Vesilahti\"),\n-    ('veteli', u\"Veteli\"),\n-    ('vierema', u\"Vieremä\"),\n-    ('vihanti', u\"Vihanti\"),\n-    ('vihti', u\"Vihti\"),\n-    ('viitasaari', u\"Viitasaari\"),\n-    ('vimpeli', u\"Vimpeli\"),\n-    ('virolahti', u\"Virolahti\"),\n-    ('virrat', u\"Virrat\"),\n-    ('vardo', u\"Vårdö\"),\n-    ('vahakyro', u\"Vähäkyrö\"),\n-    ('voyri-maksamaa', u\"Vöyri-Maksamaa\"),\n-    ('yli-ii', u\"Yli-Ii\"),\n-    ('ylitornio', u\"Ylitornio\"),\n-    ('ylivieska', u\"Ylivieska\"),\n-    ('ylojarvi', u\"Ylöjärvi\"),\n-    ('ypaja', u\"Ypäjä\"),\n-    ('ahtari', u\"Ähtäri\"),\n-    ('aanekoski', u\"Äänekoski\")\n-)\n\\ No newline at end of file\n+    ('akaa', \"Akaa\"),\n+    ('alajarvi', \"Alajärvi\"),\n+    ('alavieska', \"Alavieska\"),\n+    ('alavus', \"Alavus\"),\n+    ('artjarvi', \"Artjärvi\"),\n+    ('asikkala', \"Asikkala\"),\n+    ('askola', \"Askola\"),\n+    ('aura', \"Aura\"),\n+    ('brando', \"Brändö\"),\n+    ('eckero', \"Eckerö\"),\n+    ('enonkoski', \"Enonkoski\"),\n+    ('enontekio', \"Enontekiö\"),\n+    ('espoo', \"Espoo\"),\n+    ('eura', \"Eura\"),\n+    ('eurajoki', \"Eurajoki\"),\n+    ('evijarvi', \"Evijärvi\"),\n+    ('finstrom', \"Finström\"),\n+    ('forssa', \"Forssa\"),\n+    ('foglo', \"Föglö\"),\n+    ('geta', \"Geta\"),\n+    ('haapajarvi', \"Haapajärvi\"),\n+    ('haapavesi', \"Haapavesi\"),\n+    ('hailuoto', \"Hailuoto\"),\n+    ('halsua', \"Halsua\"),\n+    ('hamina', \"Hamina\"),\n+    ('hammarland', \"Hammarland\"),\n+    ('hankasalmi', \"Hankasalmi\"),\n+    ('hanko', \"Hanko\"),\n+    ('harjavalta', \"Harjavalta\"),\n+    ('hartola', \"Hartola\"),\n+    ('hattula', \"Hattula\"),\n+    ('haukipudas', \"Haukipudas\"),\n+    ('hausjarvi', \"Hausjärvi\"),\n+    ('heinola', \"Heinola\"),\n+    ('heinavesi', \"Heinävesi\"),\n+    ('helsinki', \"Helsinki\"),\n+    ('hirvensalmi', \"Hirvensalmi\"),\n+    ('hollola', \"Hollola\"),\n+    ('honkajoki', \"Honkajoki\"),\n+    ('huittinen', \"Huittinen\"),\n+    ('humppila', \"Humppila\"),\n+    ('hyrynsalmi', \"Hyrynsalmi\"),\n+    ('hyvinkaa', \"Hyvinkää\"),\n+    ('hameenkoski', \"Hämeenkoski\"),\n+    ('hameenkyro', \"Hämeenkyrö\"),\n+    ('hameenlinna', \"Hämeenlinna\"),\n+    ('ii', \"Ii\"),\n+    ('iisalmi', \"Iisalmi\"),\n+    ('iitti', \"Iitti\"),\n+    ('ikaalinen', \"Ikaalinen\"),\n+    ('ilmajoki', \"Ilmajoki\"),\n+    ('ilomantsi', \"Ilomantsi\"),\n+    ('imatra', \"Imatra\"),\n+    ('inari', \"Inari\"),\n+    ('inkoo', \"Inkoo\"),\n+    ('isojoki', \"Isojoki\"),\n+    ('isokyro', \"Isokyrö\"),\n+    ('jalasjarvi', \"Jalasjärvi\"),\n+    ('janakkala', \"Janakkala\"),\n+    ('joensuu', \"Joensuu\"),\n+    ('jokioinen', \"Jokioinen\"),\n+    ('jomala', \"Jomala\"),\n+    ('joroinen', \"Joroinen\"),\n+    ('joutsa', \"Joutsa\"),\n+    ('juankoski', \"Juankoski\"),\n+    ('juuka', \"Juuka\"),\n+    ('juupajoki', \"Juupajoki\"),\n+    ('juva', \"Juva\"),\n+    ('jyvaskyla', \"Jyväskylä\"),\n+    ('jamijarvi', \"Jämijärvi\"),\n+    ('jamsa', \"Jämsä\"),\n+    ('jarvenpaa', \"Järvenpää\"),\n+    ('kaarina', \"Kaarina\"),\n+    ('kaavi', \"Kaavi\"),\n+    ('kajaani', \"Kajaani\"),\n+    ('kalajoki', \"Kalajoki\"),\n+    ('kangasala', \"Kangasala\"),\n+    ('kangasniemi', \"Kangasniemi\"),\n+    ('kankaanpaa', \"Kankaanpää\"),\n+    ('kannonkoski', \"Kannonkoski\"),\n+    ('kannus', \"Kannus\"),\n+    ('karijoki', \"Karijoki\"),\n+    ('karjalohja', \"Karjalohja\"),\n+    ('karkkila', \"Karkkila\"),\n+    ('karstula', \"Karstula\"),\n+    ('karttula', \"Karttula\"),\n+    ('karvia', \"Karvia\"),\n+    ('kaskinen', \"Kaskinen\"),\n+    ('kauhajoki', \"Kauhajoki\"),\n+    ('kauhava', \"Kauhava\"),\n+    ('kauniainen', \"Kauniainen\"),\n+    ('kaustinen', \"Kaustinen\"),\n+    ('keitele', \"Keitele\"),\n+    ('kemi', \"Kemi\"),\n+    ('kemijarvi', \"Kemijärvi\"),\n+    ('keminmaa', \"Keminmaa\"),\n+    ('kemionsaari', \"Kemiönsaari\"),\n+    ('kempele', \"Kempele\"),\n+    ('kerava', \"Kerava\"),\n+    ('kerimaki', \"Kerimäki\"),\n+    ('kesalahti', \"Kesälahti\"),\n+    ('keuruu', \"Keuruu\"),\n+    ('kihnio', \"Kihniö\"),\n+    ('kiikoinen', \"Kiikoinen\"),\n+    ('kiiminki', \"Kiiminki\"),\n+    ('kinnula', \"Kinnula\"),\n+    ('kirkkonummi', \"Kirkkonummi\"),\n+    ('kitee', \"Kitee\"),\n+    ('kittila', \"Kittilä\"),\n+    ('kiuruvesi', \"Kiuruvesi\"),\n+    ('kivijarvi', \"Kivijärvi\"),\n+    ('kokemaki', \"Kokemäki\"),\n+    ('kokkola', \"Kokkola\"),\n+    ('kolari', \"Kolari\"),\n+    ('konnevesi', \"Konnevesi\"),\n+    ('kontiolahti', \"Kontiolahti\"),\n+    ('korsnas', \"Korsnäs\"),\n+    ('koskitl', \"Koski Tl\"),\n+    ('kotka', \"Kotka\"),\n+    ('kouvola', \"Kouvola\"),\n+    ('kristiinankaupunki', \"Kristiinankaupunki\"),\n+    ('kruunupyy', \"Kruunupyy\"),\n+    ('kuhmalahti', \"Kuhmalahti\"),\n+    ('kuhmo', \"Kuhmo\"),\n+    ('kuhmoinen', \"Kuhmoinen\"),\n+    ('kumlinge', \"Kumlinge\"),\n+    ('kuopio', \"Kuopio\"),\n+    ('kuortane', \"Kuortane\"),\n+    ('kurikka', \"Kurikka\"),\n+    ('kustavi', \"Kustavi\"),\n+    ('kuusamo', \"Kuusamo\"),\n+    ('kylmakoski', \"Kylmäkoski\"),\n+    ('kyyjarvi', \"Kyyjärvi\"),\n+    ('karkola', \"Kärkölä\"),\n+    ('karsamaki', \"Kärsämäki\"),\n+    ('kokar', \"Kökar\"),\n+    ('koylio', \"Köyliö\"),\n+    ('lahti', \"Lahti\"),\n+    ('laihia', \"Laihia\"),\n+    ('laitila', \"Laitila\"),\n+    ('lapinjarvi', \"Lapinjärvi\"),\n+    ('lapinlahti', \"Lapinlahti\"),\n+    ('lappajarvi', \"Lappajärvi\"),\n+    ('lappeenranta', \"Lappeenranta\"),\n+    ('lapua', \"Lapua\"),\n+    ('laukaa', \"Laukaa\"),\n+    ('lavia', \"Lavia\"),\n+    ('lemi', \"Lemi\"),\n+    ('lemland', \"Lemland\"),\n+    ('lempaala', \"Lempäälä\"),\n+    ('leppavirta', \"Leppävirta\"),\n+    ('lestijarvi', \"Lestijärvi\"),\n+    ('lieksa', \"Lieksa\"),\n+    ('lieto', \"Lieto\"),\n+    ('liminka', \"Liminka\"),\n+    ('liperi', \"Liperi\"),\n+    ('lohja', \"Lohja\"),\n+    ('loimaa', \"Loimaa\"),\n+    ('loppi', \"Loppi\"),\n+    ('loviisa', \"Loviisa\"),\n+    ('luhanka', \"Luhanka\"),\n+    ('lumijoki', \"Lumijoki\"),\n+    ('lumparland', \"Lumparland\"),\n+    ('luoto', \"Luoto\"),\n+    ('luumaki', \"Luumäki\"),\n+    ('luvia', \"Luvia\"),\n+    ('lansi-turunmaa', \"Länsi-Turunmaa\"),\n+    ('maalahti', \"Maalahti\"),\n+    ('maaninka', \"Maaninka\"),\n+    ('maarianhamina', \"Maarianhamina\"),\n+    ('marttila', \"Marttila\"),\n+    ('masku', \"Masku\"),\n+    ('merijarvi', \"Merijärvi\"),\n+    ('merikarvia', \"Merikarvia\"),\n+    ('miehikkala', \"Miehikkälä\"),\n+    ('mikkeli', \"Mikkeli\"),\n+    ('muhos', \"Muhos\"),\n+    ('multia', \"Multia\"),\n+    ('muonio', \"Muonio\"),\n+    ('mustasaari', \"Mustasaari\"),\n+    ('muurame', \"Muurame\"),\n+    ('mynamaki', \"Mynämäki\"),\n+    ('myrskyla', \"Myrskylä\"),\n+    ('mantsala', \"Mäntsälä\"),\n+    ('mantta-vilppula', \"Mänttä-Vilppula\"),\n+    ('mantyharju', \"Mäntyharju\"),\n+    ('naantali', \"Naantali\"),\n+    ('nakkila', \"Nakkila\"),\n+    ('nastola', \"Nastola\"),\n+    ('nilsia', \"Nilsiä\"),\n+    ('nivala', \"Nivala\"),\n+    ('nokia', \"Nokia\"),\n+    ('nousiainen', \"Nousiainen\"),\n+    ('nummi-pusula', \"Nummi-Pusula\"),\n+    ('nurmes', \"Nurmes\"),\n+    ('nurmijarvi', \"Nurmijärvi\"),\n+    ('narpio', \"Närpiö\"),\n+    ('oravainen', \"Oravainen\"),\n+    ('orimattila', \"Orimattila\"),\n+    ('oripaa', \"Oripää\"),\n+    ('orivesi', \"Orivesi\"),\n+    ('oulainen', \"Oulainen\"),\n+    ('oulu', \"Oulu\"),\n+    ('oulunsalo', \"Oulunsalo\"),\n+    ('outokumpu', \"Outokumpu\"),\n+    ('padasjoki', \"Padasjoki\"),\n+    ('paimio', \"Paimio\"),\n+    ('paltamo', \"Paltamo\"),\n+    ('parikkala', \"Parikkala\"),\n+    ('parkano', \"Parkano\"),\n+    ('pedersore', \"Pedersöre\"),\n+    ('pelkosenniemi', \"Pelkosenniemi\"),\n+    ('pello', \"Pello\"),\n+    ('perho', \"Perho\"),\n+    ('pertunmaa', \"Pertunmaa\"),\n+    ('petajavesi', \"Petäjävesi\"),\n+    ('pieksamaki', \"Pieksämäki\"),\n+    ('pielavesi', \"Pielavesi\"),\n+    ('pietarsaari', \"Pietarsaari\"),\n+    ('pihtipudas', \"Pihtipudas\"),\n+    ('pirkkala', \"Pirkkala\"),\n+    ('polvijarvi', \"Polvijärvi\"),\n+    ('pomarkku', \"Pomarkku\"),\n+    ('pori', \"Pori\"),\n+    ('pornainen', \"Pornainen\"),\n+    ('porvoo', \"Porvoo\"),\n+    ('posio', \"Posio\"),\n+    ('pudasjarvi', \"Pudasjärvi\"),\n+    ('pukkila', \"Pukkila\"),\n+    ('punkaharju', \"Punkaharju\"),\n+    ('punkalaidun', \"Punkalaidun\"),\n+    ('puolanka', \"Puolanka\"),\n+    ('puumala', \"Puumala\"),\n+    ('pyhtaa', \"Pyhtää\"),\n+    ('pyhajoki', \"Pyhäjoki\"),\n+    ('pyhajarvi', \"Pyhäjärvi\"),\n+    ('pyhanta', \"Pyhäntä\"),\n+    ('pyharanta', \"Pyhäranta\"),\n+    ('palkane', \"Pälkäne\"),\n+    ('poytya', \"Pöytyä\"),\n+    ('raahe', \"Raahe\"),\n+    ('raasepori', \"Raasepori\"),\n+    ('raisio', \"Raisio\"),\n+    ('rantasalmi', \"Rantasalmi\"),\n+    ('ranua', \"Ranua\"),\n+    ('rauma', \"Rauma\"),\n+    ('rautalampi', \"Rautalampi\"),\n+    ('rautavaara', \"Rautavaara\"),\n+    ('rautjarvi', \"Rautjärvi\"),\n+    ('reisjarvi', \"Reisjärvi\"),\n+    ('riihimaki', \"Riihimäki\"),\n+    ('ristiina', \"Ristiina\"),\n+    ('ristijarvi', \"Ristijärvi\"),\n+    ('rovaniemi', \"Rovaniemi\"),\n+    ('ruokolahti', \"Ruokolahti\"),\n+    ('ruovesi', \"Ruovesi\"),\n+    ('rusko', \"Rusko\"),\n+    ('raakkyla', \"Rääkkylä\"),\n+    ('saarijarvi', \"Saarijärvi\"),\n+    ('salla', \"Salla\"),\n+    ('salo', \"Salo\"),\n+    ('saltvik', \"Saltvik\"),\n+    ('sastamala', \"Sastamala\"),\n+    ('sauvo', \"Sauvo\"),\n+    ('savitaipale', \"Savitaipale\"),\n+    ('savonlinna', \"Savonlinna\"),\n+    ('savukoski', \"Savukoski\"),\n+    ('seinajoki', \"Seinäjoki\"),\n+    ('sievi', \"Sievi\"),\n+    ('siikainen', \"Siikainen\"),\n+    ('siikajoki', \"Siikajoki\"),\n+    ('siikalatva', \"Siikalatva\"),\n+    ('siilinjarvi', \"Siilinjärvi\"),\n+    ('simo', \"Simo\"),\n+    ('sipoo', \"Sipoo\"),\n+    ('siuntio', \"Siuntio\"),\n+    ('sodankyla', \"Sodankylä\"),\n+    ('soini', \"Soini\"),\n+    ('somero', \"Somero\"),\n+    ('sonkajarvi', \"Sonkajärvi\"),\n+    ('sotkamo', \"Sotkamo\"),\n+    ('sottunga', \"Sottunga\"),\n+    ('sulkava', \"Sulkava\"),\n+    ('sund', \"Sund\"),\n+    ('suomenniemi', \"Suomenniemi\"),\n+    ('suomussalmi', \"Suomussalmi\"),\n+    ('suonenjoki', \"Suonenjoki\"),\n+    ('sysma', \"Sysmä\"),\n+    ('sakyla', \"Säkylä\"),\n+    ('taipalsaari', \"Taipalsaari\"),\n+    ('taivalkoski', \"Taivalkoski\"),\n+    ('taivassalo', \"Taivassalo\"),\n+    ('tammela', \"Tammela\"),\n+    ('tampere', \"Tampere\"),\n+    ('tarvasjoki', \"Tarvasjoki\"),\n+    ('tervo', \"Tervo\"),\n+    ('tervola', \"Tervola\"),\n+    ('teuva', \"Teuva\"),\n+    ('tohmajarvi', \"Tohmajärvi\"),\n+    ('toholampi', \"Toholampi\"),\n+    ('toivakka', \"Toivakka\"),\n+    ('tornio', \"Tornio\"),\n+    ('turku', \"Turku\"),\n+    ('tuusniemi', \"Tuusniemi\"),\n+    ('tuusula', \"Tuusula\"),\n+    ('tyrnava', \"Tyrnävä\"),\n+    ('toysa', \"Töysä\"),\n+    ('ulvila', \"Ulvila\"),\n+    ('urjala', \"Urjala\"),\n+    ('utajarvi', \"Utajärvi\"),\n+    ('utsjoki', \"Utsjoki\"),\n+    ('uurainen', \"Uurainen\"),\n+    ('uusikaarlepyy', \"Uusikaarlepyy\"),\n+    ('uusikaupunki', \"Uusikaupunki\"),\n+    ('vaala', \"Vaala\"),\n+    ('vaasa', \"Vaasa\"),\n+    ('valkeakoski', \"Valkeakoski\"),\n+    ('valtimo', \"Valtimo\"),\n+    ('vantaa', \"Vantaa\"),\n+    ('varkaus', \"Varkaus\"),\n+    ('varpaisjarvi', \"Varpaisjärvi\"),\n+    ('vehmaa', \"Vehmaa\"),\n+    ('vesanto', \"Vesanto\"),\n+    ('vesilahti', \"Vesilahti\"),\n+    ('veteli', \"Veteli\"),\n+    ('vierema', \"Vieremä\"),\n+    ('vihanti', \"Vihanti\"),\n+    ('vihti', \"Vihti\"),\n+    ('viitasaari', \"Viitasaari\"),\n+    ('vimpeli', \"Vimpeli\"),\n+    ('virolahti', \"Virolahti\"),\n+    ('virrat', \"Virrat\"),\n+    ('vardo', \"Vårdö\"),\n+    ('vahakyro', \"Vähäkyrö\"),\n+    ('voyri-maksamaa', \"Vöyri-Maksamaa\"),\n+    ('yli-ii', \"Yli-Ii\"),\n+    ('ylitornio', \"Ylitornio\"),\n+    ('ylivieska', \"Ylivieska\"),\n+    ('ylojarvi', \"Ylöjärvi\"),\n+    ('ypaja', \"Ypäjä\"),\n+    ('ahtari', \"Ähtäri\"),\n+    ('aanekoski', \"Äänekoski\")\n+)"
        },
        {
            "sha": "633f3e5f1b2c220f975006affd7ae8dcb7dd32a7",
            "filename": "django/contrib/localflavor/fi/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffi%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffi%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ffi%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n FI-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -36,7 +36,7 @@ class FISocialSecurityNumber(Field):\n     def clean(self, value):\n         super(FISocialSecurityNumber, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         checkmarks = \"0123456789ABCDEFHJKLMNPRSTUVWXY\"\n         result = re.match(r\"\"\"^\n@@ -51,5 +51,5 @@ def clean(self, value):\n         gd = result.groupdict()\n         checksum = int(gd['date'] + gd['serial'])\n         if checkmarks[checksum % len(checkmarks)] == gd['checksum'].upper():\n-            return u'%s' % value.upper()\n+            return '%s' % value.upper()\n         raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "47177db685f5be10e8578d633cae7de963a0bf80",
            "filename": "django/contrib/localflavor/fr/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,7 +1,7 @@\n \"\"\"\n FR-specific Form helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -38,11 +38,11 @@ class FRPhoneNumberField(Field):\n     def clean(self, value):\n         super(FRPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\.|\\s)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s %s %s %s %s' % (value[0:2], value[2:4], value[4:6], value[6:8], value[8:10])\n+            return '%s %s %s %s %s' % (value[0:2], value[2:4], value[4:6], value[6:8], value[8:10])\n         raise ValidationError(self.error_messages['invalid'])\n \n class FRDepartmentSelect(Select):"
        },
        {
            "sha": "a2cca957c2766e90a2f76d40d2bfc9a5b06f62dc",
            "filename": "django/contrib/localflavor/fr/fr_department.py",
            "status": "modified",
            "additions": 110,
            "deletions": 109,
            "changes": 219,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffr%2Ffr_department.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ffr%2Ffr_department.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ffr%2Ffr_department.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,117 +1,118 @@\n # -*- coding: utf-8 -*-\n \n # See the \"Code officiel géographique\" on the INSEE website <www.insee.fr>.\n+from __future__ import unicode_literals\n \n DEPARTMENT_CHOICES = (\n     # Metropolitan departments\n-    ('01', u'01 - Ain'),\n-    ('02', u'02 - Aisne'),\n-    ('03', u'03 - Allier'),\n-    ('04', u'04 - Alpes-de-Haute-Provence'),\n-    ('05', u'05 - Hautes-Alpes'),\n-    ('06', u'06 - Alpes-Maritimes'),\n-    ('07', u'07 - Ardèche'),\n-    ('08', u'08 - Ardennes'),\n-    ('09', u'09 - Ariège'),\n-    ('10', u'10 - Aube'),\n-    ('11', u'11 - Aude'),\n-    ('12', u'12 - Aveyron'),\n-    ('13', u'13 - Bouches-du-Rhône'),\n-    ('14', u'14 - Calvados'),\n-    ('15', u'15 - Cantal'),\n-    ('16', u'16 - Charente'),\n-    ('17', u'17 - Charente-Maritime'),\n-    ('18', u'18 - Cher'),\n-    ('19', u'19 - Corrèze'),\n-    ('2A', u'2A - Corse-du-Sud'),\n-    ('2B', u'2B - Haute-Corse'),\n-    ('21', u'21 - Côte-d\\'Or'),\n-    ('22', u'22 - Côtes-d\\'Armor'),\n-    ('23', u'23 - Creuse'),\n-    ('24', u'24 - Dordogne'),\n-    ('25', u'25 - Doubs'),\n-    ('26', u'26 - Drôme'),\n-    ('27', u'27 - Eure'),\n-    ('28', u'28 - Eure-et-Loir'),\n-    ('29', u'29 - Finistère'),\n-    ('30', u'30 - Gard'),\n-    ('31', u'31 - Haute-Garonne'),\n-    ('32', u'32 - Gers'),\n-    ('33', u'33 - Gironde'),\n-    ('34', u'34 - Hérault'),\n-    ('35', u'35 - Ille-et-Vilaine'),\n-    ('36', u'36 - Indre'),\n-    ('37', u'37 - Indre-et-Loire'),\n-    ('38', u'38 - Isère'),\n-    ('39', u'39 - Jura'),\n-    ('40', u'40 - Landes'),\n-    ('41', u'41 - Loir-et-Cher'),\n-    ('42', u'42 - Loire'),\n-    ('43', u'43 - Haute-Loire'),\n-    ('44', u'44 - Loire-Atlantique'),\n-    ('45', u'45 - Loiret'),\n-    ('46', u'46 - Lot'),\n-    ('47', u'47 - Lot-et-Garonne'),\n-    ('48', u'48 - Lozère'),\n-    ('49', u'49 - Maine-et-Loire'),\n-    ('50', u'50 - Manche'),\n-    ('51', u'51 - Marne'),\n-    ('52', u'52 - Haute-Marne'),\n-    ('53', u'53 - Mayenne'),\n-    ('54', u'54 - Meurthe-et-Moselle'),\n-    ('55', u'55 - Meuse'),\n-    ('56', u'56 - Morbihan'),\n-    ('57', u'57 - Moselle'),\n-    ('58', u'58 - Nièvre'),\n-    ('59', u'59 - Nord'),\n-    ('60', u'60 - Oise'),\n-    ('61', u'61 - Orne'),\n-    ('62', u'62 - Pas-de-Calais'),\n-    ('63', u'63 - Puy-de-Dôme'),\n-    ('64', u'64 - Pyrénées-Atlantiques'),\n-    ('65', u'65 - Hautes-Pyrénées'),\n-    ('66', u'66 - Pyrénées-Orientales'),\n-    ('67', u'67 - Bas-Rhin'),\n-    ('68', u'68 - Haut-Rhin'),\n-    ('69', u'69 - Rhône'),\n-    ('70', u'70 - Haute-Saône'),\n-    ('71', u'71 - Saône-et-Loire'),\n-    ('72', u'72 - Sarthe'),\n-    ('73', u'73 - Savoie'),\n-    ('74', u'74 - Haute-Savoie'),\n-    ('75', u'75 - Paris'),\n-    ('76', u'76 - Seine-Maritime'),\n-    ('77', u'77 - Seine-et-Marne'),\n-    ('78', u'78 - Yvelines'),\n-    ('79', u'79 - Deux-Sèvres'),\n-    ('80', u'80 - Somme'),\n-    ('81', u'81 - Tarn'),\n-    ('82', u'82 - Tarn-et-Garonne'),\n-    ('83', u'83 - Var'),\n-    ('84', u'84 - Vaucluse'),\n-    ('85', u'85 - Vendée'),\n-    ('86', u'86 - Vienne'),\n-    ('87', u'87 - Haute-Vienne'),\n-    ('88', u'88 - Vosges'),\n-    ('89', u'89 - Yonne'),\n-    ('90', u'90 - Territoire de Belfort'),\n-    ('91', u'91 - Essonne'),\n-    ('92', u'92 - Hauts-de-Seine'),\n-    ('93', u'93 - Seine-Saint-Denis'),\n-    ('94', u'94 - Val-de-Marne'),\n-    ('95', u'95 - Val-d\\'Oise'),\n+    ('01', '01 - Ain'),\n+    ('02', '02 - Aisne'),\n+    ('03', '03 - Allier'),\n+    ('04', '04 - Alpes-de-Haute-Provence'),\n+    ('05', '05 - Hautes-Alpes'),\n+    ('06', '06 - Alpes-Maritimes'),\n+    ('07', '07 - Ardèche'),\n+    ('08', '08 - Ardennes'),\n+    ('09', '09 - Ariège'),\n+    ('10', '10 - Aube'),\n+    ('11', '11 - Aude'),\n+    ('12', '12 - Aveyron'),\n+    ('13', '13 - Bouches-du-Rhône'),\n+    ('14', '14 - Calvados'),\n+    ('15', '15 - Cantal'),\n+    ('16', '16 - Charente'),\n+    ('17', '17 - Charente-Maritime'),\n+    ('18', '18 - Cher'),\n+    ('19', '19 - Corrèze'),\n+    ('2A', '2A - Corse-du-Sud'),\n+    ('2B', '2B - Haute-Corse'),\n+    ('21', '21 - Côte-d\\'Or'),\n+    ('22', '22 - Côtes-d\\'Armor'),\n+    ('23', '23 - Creuse'),\n+    ('24', '24 - Dordogne'),\n+    ('25', '25 - Doubs'),\n+    ('26', '26 - Drôme'),\n+    ('27', '27 - Eure'),\n+    ('28', '28 - Eure-et-Loir'),\n+    ('29', '29 - Finistère'),\n+    ('30', '30 - Gard'),\n+    ('31', '31 - Haute-Garonne'),\n+    ('32', '32 - Gers'),\n+    ('33', '33 - Gironde'),\n+    ('34', '34 - Hérault'),\n+    ('35', '35 - Ille-et-Vilaine'),\n+    ('36', '36 - Indre'),\n+    ('37', '37 - Indre-et-Loire'),\n+    ('38', '38 - Isère'),\n+    ('39', '39 - Jura'),\n+    ('40', '40 - Landes'),\n+    ('41', '41 - Loir-et-Cher'),\n+    ('42', '42 - Loire'),\n+    ('43', '43 - Haute-Loire'),\n+    ('44', '44 - Loire-Atlantique'),\n+    ('45', '45 - Loiret'),\n+    ('46', '46 - Lot'),\n+    ('47', '47 - Lot-et-Garonne'),\n+    ('48', '48 - Lozère'),\n+    ('49', '49 - Maine-et-Loire'),\n+    ('50', '50 - Manche'),\n+    ('51', '51 - Marne'),\n+    ('52', '52 - Haute-Marne'),\n+    ('53', '53 - Mayenne'),\n+    ('54', '54 - Meurthe-et-Moselle'),\n+    ('55', '55 - Meuse'),\n+    ('56', '56 - Morbihan'),\n+    ('57', '57 - Moselle'),\n+    ('58', '58 - Nièvre'),\n+    ('59', '59 - Nord'),\n+    ('60', '60 - Oise'),\n+    ('61', '61 - Orne'),\n+    ('62', '62 - Pas-de-Calais'),\n+    ('63', '63 - Puy-de-Dôme'),\n+    ('64', '64 - Pyrénées-Atlantiques'),\n+    ('65', '65 - Hautes-Pyrénées'),\n+    ('66', '66 - Pyrénées-Orientales'),\n+    ('67', '67 - Bas-Rhin'),\n+    ('68', '68 - Haut-Rhin'),\n+    ('69', '69 - Rhône'),\n+    ('70', '70 - Haute-Saône'),\n+    ('71', '71 - Saône-et-Loire'),\n+    ('72', '72 - Sarthe'),\n+    ('73', '73 - Savoie'),\n+    ('74', '74 - Haute-Savoie'),\n+    ('75', '75 - Paris'),\n+    ('76', '76 - Seine-Maritime'),\n+    ('77', '77 - Seine-et-Marne'),\n+    ('78', '78 - Yvelines'),\n+    ('79', '79 - Deux-Sèvres'),\n+    ('80', '80 - Somme'),\n+    ('81', '81 - Tarn'),\n+    ('82', '82 - Tarn-et-Garonne'),\n+    ('83', '83 - Var'),\n+    ('84', '84 - Vaucluse'),\n+    ('85', '85 - Vendée'),\n+    ('86', '86 - Vienne'),\n+    ('87', '87 - Haute-Vienne'),\n+    ('88', '88 - Vosges'),\n+    ('89', '89 - Yonne'),\n+    ('90', '90 - Territoire de Belfort'),\n+    ('91', '91 - Essonne'),\n+    ('92', '92 - Hauts-de-Seine'),\n+    ('93', '93 - Seine-Saint-Denis'),\n+    ('94', '94 - Val-de-Marne'),\n+    ('95', '95 - Val-d\\'Oise'),\n     # Overseas departments, communities, and other territories\n-    ('971', u'971 - Guadeloupe'),\n-    ('972', u'972 - Martinique'),\n-    ('973', u'973 - Guyane'),\n-    ('974', u'974 - La Réunion'),\n-    ('975', u'975 - Saint-Pierre-et-Miquelon'),\n-    ('976', u'976 - Mayotte'),\n-    ('977', u'977 - Saint-Barthélemy'),\n-    ('978', u'978 - Saint-Martin'),\n-    ('984', u'984 - Terres australes et antarctiques françaises'),\n-    ('986', u'986 - Wallis et Futuna'),\n-    ('987', u'987 - Polynésie française'),\n-    ('988', u'988 - Nouvelle-Calédonie'),\n-    ('989', u'989 - Île de Clipperton'),\n+    ('971', '971 - Guadeloupe'),\n+    ('972', '972 - Martinique'),\n+    ('973', '973 - Guyane'),\n+    ('974', '974 - La Réunion'),\n+    ('975', '975 - Saint-Pierre-et-Miquelon'),\n+    ('976', '976 - Mayotte'),\n+    ('977', '977 - Saint-Barthélemy'),\n+    ('978', '978 - Saint-Martin'),\n+    ('984', '984 - Terres australes et antarctiques françaises'),\n+    ('986', '986 - Wallis et Futuna'),\n+    ('987', '987 - Polynésie française'),\n+    ('988', '988 - Nouvelle-Calédonie'),\n+    ('989', '989 - Île de Clipperton'),\n )"
        },
        {
            "sha": "bf90f80281250458b0df923465b9dc3442b13e42",
            "filename": "django/contrib/localflavor/gb/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fgb%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fgb%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fgb%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n GB-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -22,7 +22,7 @@ class GBPostcodeField(CharField):\n     The value is uppercased and a space added in the correct place, if required.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid postcode.'),\n+        'invalid': _('Enter a valid postcode.'),\n     }\n     outcode_pattern = '[A-PR-UWYZ]([0-9]{1,2}|([A-HIK-Y][0-9](|[0-9]|[ABEHMNPRVWXY]))|[0-9][A-HJKSTUW])'\n     incode_pattern = '[0-9][ABD-HJLNP-UW-Z]{2}'\n@@ -31,7 +31,7 @@ class GBPostcodeField(CharField):\n \n     def clean(self, value):\n         value = super(GBPostcodeField, self).clean(value)\n-        if value == u'':\n+        if value == '':\n             return value\n         postcode = value.upper().strip()\n         # Put a single space before the incode (second part)."
        },
        {
            "sha": "8cf9360e1988ff8457f7a7b550c62344b9455e35",
            "filename": "django/contrib/localflavor/hk/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhk%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhk%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhk%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,7 +1,7 @@\n \"\"\"\n Hong Kong specific Form helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -51,14 +51,14 @@ def clean(self, value):\n         super(HKPhoneNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = re.sub('(\\(|\\)|\\s+|\\+)', '', smart_unicode(value))\n         m = hk_phone_digits_re.search(value)\n         if not m:\n             raise ValidationError(self.error_messages['invalid'])\n \n-        value = u'%s-%s' % (m.group(1), m.group(2))\n+        value = '%s-%s' % (m.group(1), m.group(2))\n         for special in hk_special_numbers:\n             if value.startswith(special):\n                 raise ValidationError(self.error_messages['disguise'])"
        },
        {
            "sha": "eb4436a78c533b25ea39e6bea0eb6623c3f0deda",
            "filename": "django/contrib/localflavor/hr/forms.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n \"\"\"\n HR-specific Form helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -19,8 +19,8 @@\n jmbg_re = re.compile(r'^(?P<dd>\\d{2})(?P<mm>\\d{2})(?P<yyy>\\d{3})' + \\\n             r'(?P<rr>\\d{2})(?P<bbb>\\d{3})(?P<k>\\d{1})$')\n oib_re = re.compile(r'^\\d{11}$')\n-plate_re = re.compile(ur'^(?P<prefix>[A-ZČŠŽ]{2})' + \\\n-            ur'(?P<number>\\d{3,4})(?P<suffix>[ABCDEFGHIJKLMNOPRSTUVZ]{1,2})$')\n+plate_re = re.compile(r'^(?P<prefix>[A-ZČŠŽ]{2})' + \\\n+            r'(?P<number>\\d{3,4})(?P<suffix>[ABCDEFGHIJKLMNOPRSTUVZ]{1,2})$')\n postal_code_re = re.compile(r'^\\d{5}$')\n phone_re = re.compile(r'^(\\+385|00385|0)(?P<prefix>\\d{2})(?P<number>\\d{6,7})$')\n jmbag_re = re.compile(r'^601983(?P<copy>\\d{1})1(?P<jmbag>\\d{10})(?P<k>\\d{1})$')\n@@ -79,7 +79,7 @@ class HRJMBGField(Field):\n     def clean(self, value):\n         super(HRJMBGField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip()\n \n@@ -110,7 +110,7 @@ def clean(self, value):\n         if not str(m) == k:\n             raise ValidationError(self.error_messages['invalid'])\n \n-        return u'%s' % (value, )\n+        return '%s' % (value, )\n \n \n class HROIBField(RegexField):\n@@ -130,7 +130,7 @@ def __init__(self, min_length=11, max_length=11, *args, **kwargs):\n     def clean(self, value):\n         super(HROIBField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         return '%s' % (value, )\n \n@@ -157,7 +157,7 @@ class HRLicensePlateField(Field):\n     def clean(self, value):\n         super(HRLicensePlateField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = re.sub(r'[\\s\\-]+', '', smart_unicode(value.strip())).upper()\n \n@@ -175,7 +175,7 @@ def clean(self, value):\n         if int(number) == 0:\n             raise ValidationError(self.error_messages['number'])\n \n-        return u'%s %s-%s' % (prefix,number,matches.group('suffix'), )\n+        return '%s %s-%s' % (prefix,number,matches.group('suffix'), )\n \n \n class HRPostalCodeField(Field):\n@@ -193,7 +193,7 @@ class HRPostalCodeField(Field):\n     def clean(self, value):\n         super(HRPostalCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip()\n         if not postal_code_re.search(value):\n@@ -223,7 +223,7 @@ class HRPhoneNumberField(Field):\n     def clean(self, value):\n         super(HRPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = re.sub(r'[\\-\\s\\(\\)]', '', smart_unicode(value))\n \n@@ -262,7 +262,7 @@ class HRJMBAGField(Field):\n     def clean(self, value):\n         super(HRJMBAGField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = re.sub(r'[\\-\\s]', '', value.strip())\n "
        },
        {
            "sha": "beb2969405a1216ca4e261b5f432be801171de78",
            "filename": "django/contrib/localflavor/hr/hr_choices.py",
            "status": "modified",
            "additions": 28,
            "deletions": 26,
            "changes": 54,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,30 +6,32 @@\n     Croatia doesn't have official abbreviations for counties.\n     The ones provided are in common use.\n \"\"\"\n+from __future__ import unicode_literals\n+\n from django.utils.translation import ugettext_lazy as _\n \n HR_COUNTY_CHOICES = (\n     ('GZG', _('Grad Zagreb')),\n-    (u'BBŽ', _(u'Bjelovarsko-bilogorska županija')),\n-    (u'BPŽ', _(u'Brodsko-posavska županija')),\n-    (u'DNŽ', _(u'Dubrovačko-neretvanska županija')),\n-    (u'IŽ', _(u'Istarska županija')),\n-    (u'KŽ', _(u'Karlovačka županija')),\n-    (u'KKŽ', _(u'Koprivničko-križevačka županija')),\n-    (u'KZŽ', _(u'Krapinsko-zagorska županija')),\n-    (u'LSŽ', _(u'Ličko-senjska županija')),\n-    (u'MŽ', _(u'Međimurska županija')),\n-    (u'OBŽ', _(u'Osječko-baranjska županija')),\n-    (u'PSŽ', _(u'Požeško-slavonska županija')),\n-    (u'PGŽ', _(u'Primorsko-goranska županija')),\n-    (u'SMŽ', _(u'Sisačko-moslavačka županija')),\n-    (u'SDŽ', _(u'Splitsko-dalmatinska županija')),\n-    (u'ŠKŽ', _(u'Šibensko-kninska županija')),\n-    (u'VŽ', _(u'Varaždinska županija')),\n-    (u'VPŽ', _(u'Virovitičko-podravska županija')),\n-    (u'VSŽ', _(u'Vukovarsko-srijemska županija')),\n-    (u'ZDŽ', _(u'Zadarska županija')),\n-    (u'ZGŽ', _(u'Zagrebačka županija')),\n+    ('BBŽ', _('Bjelovarsko-bilogorska županija')),\n+    ('BPŽ', _('Brodsko-posavska županija')),\n+    ('DNŽ', _('Dubrovačko-neretvanska županija')),\n+    ('IŽ', _('Istarska županija')),\n+    ('KŽ', _('Karlovačka županija')),\n+    ('KKŽ', _('Koprivničko-križevačka županija')),\n+    ('KZŽ', _('Krapinsko-zagorska županija')),\n+    ('LSŽ', _('Ličko-senjska županija')),\n+    ('MŽ', _('Međimurska županija')),\n+    ('OBŽ', _('Osječko-baranjska županija')),\n+    ('PSŽ', _('Požeško-slavonska županija')),\n+    ('PGŽ', _('Primorsko-goranska županija')),\n+    ('SMŽ', _('Sisačko-moslavačka županija')),\n+    ('SDŽ', _('Splitsko-dalmatinska županija')),\n+    ('ŠKŽ', _('Šibensko-kninska županija')),\n+    ('VŽ', _('Varaždinska županija')),\n+    ('VPŽ', _('Virovitičko-podravska županija')),\n+    ('VSŽ', _('Vukovarsko-srijemska županija')),\n+    ('ZDŽ', _('Zadarska županija')),\n+    ('ZGŽ', _('Zagrebačka županija')),\n )\n \n \"\"\"\n@@ -42,7 +44,7 @@\n HR_LICENSE_PLATE_PREFIX_CHOICES = (\n     ('BJ', 'BJ'),\n     ('BM', 'BM'),\n-    (u'ČK', u'ČK'),\n+    ('ČK', 'ČK'),\n     ('DA', 'DA'),\n     ('DE', 'DE'),\n     ('DJ', 'DJ'),\n@@ -53,27 +55,27 @@\n     ('KC', 'KC'),\n     ('KR', 'KR'),\n     ('KT', 'KT'),\n-    (u'KŽ', u'KŽ'),\n+    ('KŽ', 'KŽ'),\n     ('MA', 'MA'),\n     ('NA', 'NA'),\n     ('NG', 'NG'),\n     ('OG', 'OG'),\n     ('OS', 'OS'),\n     ('PU', 'PU'),\n-    (u'PŽ', u'PŽ'),\n+    ('PŽ', 'PŽ'),\n     ('RI', 'RI'),\n     ('SB', 'SB'),\n     ('SK', 'SK'),\n     ('SL', 'SL'),\n     ('ST', 'ST'),\n-    (u'ŠI', u'ŠI'),\n+    ('ŠI', 'ŠI'),\n     ('VK', 'VK'),\n     ('VT', 'VT'),\n     ('VU', 'VU'),\n-    (u'VŽ', u'VŽ'),\n+    ('VŽ', 'VŽ'),\n     ('ZD', 'ZD'),\n     ('ZG', 'ZG'),\n-    (u'ŽU', u'ŽU'),\n+    ('ŽU', 'ŽU'),\n )\n \n \"\"\""
        },
        {
            "sha": "f22b06134e8222d4f43e196f5d230e4799362920",
            "filename": "django/contrib/localflavor/id/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fid%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fid%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fid%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n ID-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n import time\n@@ -34,7 +34,7 @@ class IDPostCodeField(Field):\n     def clean(self, value):\n         super(IDPostCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip()\n         if not postcode_re.search(value):\n@@ -47,7 +47,7 @@ def clean(self, value):\n         if value[0] == '1' and value[4] != '0':\n             raise ValidationError(self.error_messages['invalid'])\n \n-        return u'%s' % (value, )\n+        return '%s' % (value, )\n \n \n class IDProvinceSelect(Select):\n@@ -75,7 +75,7 @@ class IDPhoneNumberField(Field):\n     def clean(self, value):\n         super(IDPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         phone_number = re.sub(r'[\\-\\s\\(\\)]', '', smart_unicode(value))\n \n@@ -117,7 +117,7 @@ def clean(self, value):\n         from django.contrib.localflavor.id.id_choices import LICENSE_PLATE_PREFIX_CHOICES\n         super(IDLicensePlateField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         plate_number = re.sub(r'\\s+', ' ',\n             smart_unicode(value.strip())).upper()\n@@ -179,7 +179,7 @@ class IDNationalIdentityNumberField(Field):\n     def clean(self, value):\n         super(IDNationalIdentityNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = re.sub(r'[\\s.]', '', smart_unicode(value))\n "
        },
        {
            "sha": "de6ba6b23d4b47b21a796c2e0b337edc2f9a9474",
            "filename": "django/contrib/localflavor/il/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fil%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fil%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fil%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Israeli-specific form helpers\n \"\"\"\n+from __future__ import unicode_literals\n import re\n \n from django.core.exceptions import ValidationError\n@@ -28,7 +29,7 @@ class ILPostalCodeField(RegexField):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXXXX'),\n+        'invalid': _('Enter a postal code in the format XXXXX'),\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -47,14 +48,14 @@ class ILIDNumberField(Field):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'Enter a valid ID number.'),\n+        'invalid': _('Enter a valid ID number.'),\n     }\n \n     def clean(self, value):\n         value = super(ILIDNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = id_number_re.match(value)\n         if not match:"
        },
        {
            "sha": "b62ec7bdb2435b5b41da943243894a5bef8da451",
            "filename": "django/contrib/localflavor/in_/forms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fin_%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fin_%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fin_%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n India-specific Form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -38,7 +38,7 @@\n \n class INZipCodeField(RegexField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a zip code in the format XXXXXX or XXX XXX.'),\n+        'invalid': _('Enter a zip code in the format XXXXXX or XXX XXX.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -48,7 +48,7 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self, value):\n         super(INZipCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         # Convert to \"NNNNNN\" if \"NNN NNN\" given\n         value = re.sub(r'^(\\d{3})\\s(\\d{3})$', r'\\1\\2', value)\n         return value\n@@ -61,13 +61,13 @@ class INStateField(Field):\n     registration abbreviation for the given state or union territory\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter an Indian state or territory.'),\n+        'invalid': _('Enter an Indian state or territory.'),\n     }\n \n     def clean(self, value):\n         super(INStateField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         try:\n             value = value.strip().lower()\n         except AttributeError:\n@@ -106,10 +106,10 @@ class INPhoneNumberField(CharField):\n     def clean(self, value):\n         super(INPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = smart_unicode(value)\n         m = phone_digits_re.match(value)\n         if m:\n-            return u'%s' % (value)\n+            return '%s' % (value)\n         raise ValidationError(self.error_messages['invalid'])\n "
        },
        {
            "sha": "7af9f51cfbdbf066cc350a633d2ada63bebff2fe",
            "filename": "django/contrib/localflavor/is_/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fis_%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fis_%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fis_%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Iceland specific form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.localflavor.is_.is_postalcodes import IS_POSTALCODES\n from django.core.validators import EMPTY_VALUES\n@@ -20,7 +20,7 @@ class ISIdNumberField(RegexField):\n     \"\"\"\n     default_error_messages = {\n         'invalid': _('Enter a valid Icelandic identification number. The format is XXXXXX-XXXX.'),\n-        'checksum': _(u'The Icelandic identification number is not valid.'),\n+        'checksum': _('The Icelandic identification number is not valid.'),\n     }\n \n     def __init__(self, max_length=11, min_length=10, *args, **kwargs):\n@@ -31,7 +31,7 @@ def clean(self, value):\n         value = super(ISIdNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = self._canonify(value)\n         if self._validate(value):\n@@ -73,7 +73,7 @@ def clean(self, value):\n         value = super(ISPhoneNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         return value.replace('-', '').replace(' ', '')\n "
        },
        {
            "sha": "f1f3357c1c53367f21f10acf7c37d97ce00d5d3c",
            "filename": "django/contrib/localflavor/is_/is_postalcodes.py",
            "status": "modified",
            "additions": 148,
            "deletions": 147,
            "changes": 295,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fis_%2Fis_postalcodes.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fis_%2Fis_postalcodes.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fis_%2Fis_postalcodes.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,151 +1,152 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n \n IS_POSTALCODES = (\n-    ('101', u'101 Reykjavík'),\n-    ('103', u'103 Reykjavík'),\n-    ('104', u'104 Reykjavík'),\n-    ('105', u'105 Reykjavík'),\n-    ('107', u'107 Reykjavík'),\n-    ('108', u'108 Reykjavík'),\n-    ('109', u'109 Reykjavík'),\n-    ('110', u'110 Reykjavík'),\n-    ('111', u'111 Reykjavík'),\n-    ('112', u'112 Reykjavík'),\n-    ('113', u'113 Reykjavík'),\n-    ('116', u'116 Kjalarnes'),\n-    ('121', u'121 Reykjavík'),\n-    ('123', u'123 Reykjavík'),\n-    ('124', u'124 Reykjavík'),\n-    ('125', u'125 Reykjavík'),\n-    ('127', u'127 Reykjavík'),\n-    ('128', u'128 Reykjavík'),\n-    ('129', u'129 Reykjavík'),\n-    ('130', u'130 Reykjavík'),\n-    ('132', u'132 Reykjavík'),\n-    ('150', u'150 Reykjavík'),\n-    ('155', u'155 Reykjavík'),\n-    ('170', u'170 Seltjarnarnes'),\n-    ('172', u'172 Seltjarnarnes'),\n-    ('190', u'190 Vogar'),\n-    ('200', u'200 Kópavogur'),\n-    ('201', u'201 Kópavogur'),\n-    ('202', u'202 Kópavogur'),\n-    ('203', u'203 Kópavogur'),\n-    ('210', u'210 Garðabær'),\n-    ('212', u'212 Garðabær'),\n-    ('220', u'220 Hafnarfjörður'),\n-    ('221', u'221 Hafnarfjörður'),\n-    ('222', u'222 Hafnarfjörður'),\n-    ('225', u'225 Álftanes'),\n-    ('230', u'230 Reykjanesbær'),\n-    ('232', u'232 Reykjanesbær'),\n-    ('233', u'233 Reykjanesbær'),\n-    ('235', u'235 Keflavíkurflugvöllur'),\n-    ('240', u'240 Grindavík'),\n-    ('245', u'245 Sandgerði'),\n-    ('250', u'250 Garður'),\n-    ('260', u'260 Reykjanesbær'),\n-    ('270', u'270 Mosfellsbær'),\n-    ('300', u'300 Akranes'),\n-    ('301', u'301 Akranes'),\n-    ('302', u'302 Akranes'),\n-    ('310', u'310 Borgarnes'),\n-    ('311', u'311 Borgarnes'),\n-    ('320', u'320 Reykholt í Borgarfirði'),\n-    ('340', u'340 Stykkishólmur'),\n-    ('345', u'345 Flatey á Breiðafirði'),\n-    ('350', u'350 Grundarfjörður'),\n-    ('355', u'355 Ólafsvík'),\n-    ('356', u'356 Snæfellsbær'),\n-    ('360', u'360 Hellissandur'),\n-    ('370', u'370 Búðardalur'),\n-    ('371', u'371 Búðardalur'),\n-    ('380', u'380 Reykhólahreppur'),\n-    ('400', u'400 Ísafjörður'),\n-    ('401', u'401 Ísafjörður'),\n-    ('410', u'410 Hnífsdalur'),\n-    ('415', u'415 Bolungarvík'),\n-    ('420', u'420 Súðavík'),\n-    ('425', u'425 Flateyri'),\n-    ('430', u'430 Suðureyri'),\n-    ('450', u'450 Patreksfjörður'),\n-    ('451', u'451 Patreksfjörður'),\n-    ('460', u'460 Tálknafjörður'),\n-    ('465', u'465 Bíldudalur'),\n-    ('470', u'470 Þingeyri'),\n-    ('471', u'471 Þingeyri'),\n-    ('500', u'500 Staður'),\n-    ('510', u'510 Hólmavík'),\n-    ('512', u'512 Hólmavík'),\n-    ('520', u'520 Drangsnes'),\n-    ('522', u'522 Kjörvogur'),\n-    ('523', u'523 Bær'),\n-    ('524', u'524 Norðurfjörður'),\n-    ('530', u'530 Hvammstangi'),\n-    ('531', u'531 Hvammstangi'),\n-    ('540', u'540 Blönduós'),\n-    ('541', u'541 Blönduós'),\n-    ('545', u'545 Skagaströnd'),\n-    ('550', u'550 Sauðárkrókur'),\n-    ('551', u'551 Sauðárkrókur'),\n-    ('560', u'560 Varmahlíð'),\n-    ('565', u'565 Hofsós'),\n-    ('566', u'566 Hofsós'),\n-    ('570', u'570 Fljót'),\n-    ('580', u'580 Siglufjörður'),\n-    ('600', u'600 Akureyri'),\n-    ('601', u'601 Akureyri'),\n-    ('602', u'602 Akureyri'),\n-    ('603', u'603 Akureyri'),\n-    ('610', u'610 Grenivík'),\n-    ('611', u'611 Grímsey'),\n-    ('620', u'620 Dalvík'),\n-    ('621', u'621 Dalvík'),\n-    ('625', u'625 Ólafsfjörður'),\n-    ('630', u'630 Hrísey'),\n-    ('640', u'640 Húsavík'),\n-    ('641', u'641 Húsavík'),\n-    ('645', u'645 Fosshóll'),\n-    ('650', u'650 Laugar'),\n-    ('660', u'660 Mývatn'),\n-    ('670', u'670 Kópasker'),\n-    ('671', u'671 Kópasker'),\n-    ('675', u'675 Raufarhöfn'),\n-    ('680', u'680 Þórshöfn'),\n-    ('681', u'681 Þórshöfn'),\n-    ('685', u'685 Bakkafjörður'),\n-    ('690', u'690 Vopnafjörður'),\n-    ('700', u'700 Egilsstaðir'),\n-    ('701', u'701 Egilsstaðir'),\n-    ('710', u'710 Seyðisfjörður'),\n-    ('715', u'715 Mjóifjörður'),\n-    ('720', u'720 Borgarfjörður eystri'),\n-    ('730', u'730 Reyðarfjörður'),\n-    ('735', u'735 Eskifjörður'),\n-    ('740', u'740 Neskaupstaður'),\n-    ('750', u'750 Fáskrúðsfjörður'),\n-    ('755', u'755 Stöðvarfjörður'),\n-    ('760', u'760 Breiðdalsvík'),\n-    ('765', u'765 Djúpivogur'),\n-    ('780', u'780 Höfn í Hornafirði'),\n-    ('781', u'781 Höfn í Hornafirði'),\n-    ('785', u'785 Öræfi'),\n-    ('800', u'800 Selfoss'),\n-    ('801', u'801 Selfoss'),\n-    ('802', u'802 Selfoss'),\n-    ('810', u'810 Hveragerði'),\n-    ('815', u'815 Þorlákshöfn'),\n-    ('820', u'820 Eyrarbakki'),\n-    ('825', u'825 Stokkseyri'),\n-    ('840', u'840 Laugarvatn'),\n-    ('845', u'845 Flúðir'),\n-    ('850', u'850 Hella'),\n-    ('851', u'851 Hella'),\n-    ('860', u'860 Hvolsvöllur'),\n-    ('861', u'861 Hvolsvöllur'),\n-    ('870', u'870 Vík'),\n-    ('871', u'871 Vík'),\n-    ('880', u'880 Kirkjubæjarklaustur'),\n-    ('900', u'900 Vestmannaeyjar'),\n-    ('902', u'902 Vestmannaeyjar')\n+    ('101', '101 Reykjavík'),\n+    ('103', '103 Reykjavík'),\n+    ('104', '104 Reykjavík'),\n+    ('105', '105 Reykjavík'),\n+    ('107', '107 Reykjavík'),\n+    ('108', '108 Reykjavík'),\n+    ('109', '109 Reykjavík'),\n+    ('110', '110 Reykjavík'),\n+    ('111', '111 Reykjavík'),\n+    ('112', '112 Reykjavík'),\n+    ('113', '113 Reykjavík'),\n+    ('116', '116 Kjalarnes'),\n+    ('121', '121 Reykjavík'),\n+    ('123', '123 Reykjavík'),\n+    ('124', '124 Reykjavík'),\n+    ('125', '125 Reykjavík'),\n+    ('127', '127 Reykjavík'),\n+    ('128', '128 Reykjavík'),\n+    ('129', '129 Reykjavík'),\n+    ('130', '130 Reykjavík'),\n+    ('132', '132 Reykjavík'),\n+    ('150', '150 Reykjavík'),\n+    ('155', '155 Reykjavík'),\n+    ('170', '170 Seltjarnarnes'),\n+    ('172', '172 Seltjarnarnes'),\n+    ('190', '190 Vogar'),\n+    ('200', '200 Kópavogur'),\n+    ('201', '201 Kópavogur'),\n+    ('202', '202 Kópavogur'),\n+    ('203', '203 Kópavogur'),\n+    ('210', '210 Garðabær'),\n+    ('212', '212 Garðabær'),\n+    ('220', '220 Hafnarfjörður'),\n+    ('221', '221 Hafnarfjörður'),\n+    ('222', '222 Hafnarfjörður'),\n+    ('225', '225 Álftanes'),\n+    ('230', '230 Reykjanesbær'),\n+    ('232', '232 Reykjanesbær'),\n+    ('233', '233 Reykjanesbær'),\n+    ('235', '235 Keflavíkurflugvöllur'),\n+    ('240', '240 Grindavík'),\n+    ('245', '245 Sandgerði'),\n+    ('250', '250 Garður'),\n+    ('260', '260 Reykjanesbær'),\n+    ('270', '270 Mosfellsbær'),\n+    ('300', '300 Akranes'),\n+    ('301', '301 Akranes'),\n+    ('302', '302 Akranes'),\n+    ('310', '310 Borgarnes'),\n+    ('311', '311 Borgarnes'),\n+    ('320', '320 Reykholt í Borgarfirði'),\n+    ('340', '340 Stykkishólmur'),\n+    ('345', '345 Flatey á Breiðafirði'),\n+    ('350', '350 Grundarfjörður'),\n+    ('355', '355 Ólafsvík'),\n+    ('356', '356 Snæfellsbær'),\n+    ('360', '360 Hellissandur'),\n+    ('370', '370 Búðardalur'),\n+    ('371', '371 Búðardalur'),\n+    ('380', '380 Reykhólahreppur'),\n+    ('400', '400 Ísafjörður'),\n+    ('401', '401 Ísafjörður'),\n+    ('410', '410 Hnífsdalur'),\n+    ('415', '415 Bolungarvík'),\n+    ('420', '420 Súðavík'),\n+    ('425', '425 Flateyri'),\n+    ('430', '430 Suðureyri'),\n+    ('450', '450 Patreksfjörður'),\n+    ('451', '451 Patreksfjörður'),\n+    ('460', '460 Tálknafjörður'),\n+    ('465', '465 Bíldudalur'),\n+    ('470', '470 Þingeyri'),\n+    ('471', '471 Þingeyri'),\n+    ('500', '500 Staður'),\n+    ('510', '510 Hólmavík'),\n+    ('512', '512 Hólmavík'),\n+    ('520', '520 Drangsnes'),\n+    ('522', '522 Kjörvogur'),\n+    ('523', '523 Bær'),\n+    ('524', '524 Norðurfjörður'),\n+    ('530', '530 Hvammstangi'),\n+    ('531', '531 Hvammstangi'),\n+    ('540', '540 Blönduós'),\n+    ('541', '541 Blönduós'),\n+    ('545', '545 Skagaströnd'),\n+    ('550', '550 Sauðárkrókur'),\n+    ('551', '551 Sauðárkrókur'),\n+    ('560', '560 Varmahlíð'),\n+    ('565', '565 Hofsós'),\n+    ('566', '566 Hofsós'),\n+    ('570', '570 Fljót'),\n+    ('580', '580 Siglufjörður'),\n+    ('600', '600 Akureyri'),\n+    ('601', '601 Akureyri'),\n+    ('602', '602 Akureyri'),\n+    ('603', '603 Akureyri'),\n+    ('610', '610 Grenivík'),\n+    ('611', '611 Grímsey'),\n+    ('620', '620 Dalvík'),\n+    ('621', '621 Dalvík'),\n+    ('625', '625 Ólafsfjörður'),\n+    ('630', '630 Hrísey'),\n+    ('640', '640 Húsavík'),\n+    ('641', '641 Húsavík'),\n+    ('645', '645 Fosshóll'),\n+    ('650', '650 Laugar'),\n+    ('660', '660 Mývatn'),\n+    ('670', '670 Kópasker'),\n+    ('671', '671 Kópasker'),\n+    ('675', '675 Raufarhöfn'),\n+    ('680', '680 Þórshöfn'),\n+    ('681', '681 Þórshöfn'),\n+    ('685', '685 Bakkafjörður'),\n+    ('690', '690 Vopnafjörður'),\n+    ('700', '700 Egilsstaðir'),\n+    ('701', '701 Egilsstaðir'),\n+    ('710', '710 Seyðisfjörður'),\n+    ('715', '715 Mjóifjörður'),\n+    ('720', '720 Borgarfjörður eystri'),\n+    ('730', '730 Reyðarfjörður'),\n+    ('735', '735 Eskifjörður'),\n+    ('740', '740 Neskaupstaður'),\n+    ('750', '750 Fáskrúðsfjörður'),\n+    ('755', '755 Stöðvarfjörður'),\n+    ('760', '760 Breiðdalsvík'),\n+    ('765', '765 Djúpivogur'),\n+    ('780', '780 Höfn í Hornafirði'),\n+    ('781', '781 Höfn í Hornafirði'),\n+    ('785', '785 Öræfi'),\n+    ('800', '800 Selfoss'),\n+    ('801', '801 Selfoss'),\n+    ('802', '802 Selfoss'),\n+    ('810', '810 Hveragerði'),\n+    ('815', '815 Þorlákshöfn'),\n+    ('820', '820 Eyrarbakki'),\n+    ('825', '825 Stokkseyri'),\n+    ('840', '840 Laugarvatn'),\n+    ('845', '845 Flúðir'),\n+    ('850', '850 Hella'),\n+    ('851', '851 Hella'),\n+    ('860', '860 Hvolsvöllur'),\n+    ('861', '861 Hvolsvöllur'),\n+    ('870', '870 Vík'),\n+    ('871', '871 Vík'),\n+    ('880', '880 Kirkjubæjarklaustur'),\n+    ('900', '900 Vestmannaeyjar'),\n+    ('902', '902 Vestmannaeyjar')\n )"
        },
        {
            "sha": "60b1eff951ea55344f0cd3d3ce5973753c906d85",
            "filename": "django/contrib/localflavor/it/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fit%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n IT-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -45,7 +45,7 @@ class ITSocialSecurityNumberField(RegexField):\n     'Informazioni sulla codificazione delle persone fisiche'.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid Social Security number.'),\n+        'invalid': _('Enter a valid Social Security number.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -55,8 +55,8 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self, value):\n         value = super(ITSocialSecurityNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n-        value = re.sub('\\s', u'', value).upper()\n+            return ''\n+        value = re.sub('\\s', '', value).upper()\n         try:\n             check_digit = ssn_check_digit(value)\n         except ValueError:\n@@ -70,13 +70,13 @@ class ITVatNumberField(Field):\n     A form field that validates Italian VAT numbers (partita IVA).\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid VAT number.'),\n+        'invalid': _('Enter a valid VAT number.'),\n     }\n \n     def clean(self, value):\n         value = super(ITVatNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         try:\n             vat_number = int(value)\n         except ValueError:"
        },
        {
            "sha": "5aad1611dda23a98ede5f4fe7b6810c784db54cb",
            "filename": "django/contrib/localflavor/it/it_province.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_province.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_province.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_province.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n # -*- coding: utf-8 -*\n+from __future__ import unicode_literals\n \n PROVINCE_CHOICES = (\n     ('AG', 'Agrigento'),\n@@ -45,7 +46,7 @@\n     ('IM', 'Imperia'),\n     ('IS', 'Isernia'),\n     ('SP', 'La Spezia'),\n-    ('AQ', u'L’Aquila'),\n+    ('AQ', 'L’Aquila'),\n     ('LT', 'Latina'),\n     ('LE', 'Lecce'),\n     ('LC', 'Lecco'),"
        },
        {
            "sha": "e12a1e731b439b554a1a1778a48413724ca35380",
            "filename": "django/contrib/localflavor/it/it_region.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_region.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_region.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fit%2Fit_region.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n # -*- coding: utf-8 -*\n+from __future__ import unicode_literals\n \n REGION_CHOICES = (\n     ('ABR', 'Abruzzo'),\n@@ -19,6 +20,6 @@\n     ('TOS', 'Toscana'),\n     ('TAA', 'Trentino-Alto Adige'),\n     ('UMB', 'Umbria'),\n-    ('VAO', u'Valle d’Aosta'),\n+    ('VAO', 'Valle d’Aosta'),\n     ('VEN', 'Veneto'),\n )"
        },
        {
            "sha": "ec1b7e3f83aa8d27603e57e45658585dbce94967",
            "filename": "django/contrib/localflavor/it/util.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fit%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fit%2Futil.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from django.utils.encoding import smart_str, smart_unicode\n+from django.utils.encoding import smart_unicode\n \n def ssn_check_digit(value):\n     \"Calculate Italian social security number check digit.\"\n@@ -34,7 +34,7 @@ def ssn_check_digit(value):\n \n def vat_number_check_digit(vat_number):\n     \"Calculate Italian VAT number check digit.\"\n-    normalized_vat_number = smart_str(vat_number).zfill(10)\n+    normalized_vat_number = smart_unicode(vat_number).zfill(10)\n     total = 0\n     for i in range(0, 10, 2):\n         total += int(normalized_vat_number[i])"
        },
        {
            "sha": "2c2b023e7014c2d719b6a2059833843017152438",
            "filename": "django/contrib/localflavor/kw/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fkw%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fkw%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fkw%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,8 @@\n \"\"\"\n Kuwait-specific Form helpers\n \"\"\"\n+from __future__ import unicode_literals\n+\n import re\n from datetime import date\n \n@@ -40,7 +42,7 @@ def has_valid_checksum(self, value):\n     def clean(self, value):\n         super(KWCivilIDNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         if not re.match(r'^\\d{12}$', value):\n             raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "3189f0dec6d97aabeb8c4352b64872b188bfe12f",
            "filename": "django/contrib/localflavor/mk/forms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmk%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmk%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fmk%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -15,14 +15,14 @@ class MKIdentityCardNumberField(RegexField):\n     A Macedonian ID card number. Accepts both old and new format.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Identity card numbers must contain'\n+        'invalid': _('Identity card numbers must contain'\n                      ' either 4 to 7 digits or an uppercase letter and 7 digits.'),\n     }\n \n     def __init__(self, *args, **kwargs):\n         kwargs['min_length'] = None\n         kwargs['max_length'] = 8\n-        regex = ur'(^[A-Z]{1}\\d{7}$)|(^\\d{4,7}$)'\n+        regex = r'(^[A-Z]{1}\\d{7}$)|(^\\d{4,7}$)'\n         super(MKIdentityCardNumberField, self).__init__(regex, *args, **kwargs)\n \n \n@@ -54,9 +54,9 @@ class UMCNField(RegexField):\n     * The last digit of the UMCN passes a checksum test\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'This field should contain exactly 13 digits.'),\n-        'date': _(u'The first 7 digits of the UMCN must represent a valid past date.'),\n-        'checksum': _(u'The UMCN is not valid.'),\n+        'invalid': _('This field should contain exactly 13 digits.'),\n+        'date': _('The first 7 digits of the UMCN must represent a valid past date.'),\n+        'checksum': _('The UMCN is not valid.'),\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -68,7 +68,7 @@ def clean(self, value):\n         value = super(UMCNField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         if not self._validate_date_part(value):\n             raise ValidationError(self.error_messages['date'])"
        },
        {
            "sha": "fb705ca820aee775ff9a014769f9c348e230c881",
            "filename": "django/contrib/localflavor/mk/mk_choices.py",
            "status": "modified",
            "additions": 86,
            "deletions": 84,
            "changes": 170,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmk%2Fmk_choices.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmk%2Fmk_choices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fmk%2Fmk_choices.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,91 +2,93 @@\n \"\"\"\n Macedonian municipalities per the reorganization from 2004.\n \"\"\"\n+from __future__ import unicode_literals\n+\n from django.utils.translation import ugettext_lazy as _\n \n MK_MUNICIPALITIES = (\n-    ('AD', _(u'Aerodrom')),\n-    ('AR', _(u'Aračinovo')),\n-    ('BR', _(u'Berovo')),\n-    ('TL', _(u'Bitola')),\n-    ('BG', _(u'Bogdanci')),\n-    ('VJ', _(u'Bogovinje')),\n-    ('BS', _(u'Bosilovo')),\n-    ('BN', _(u'Brvenica')),\n-    ('BU', _(u'Butel')),\n-    ('VA', _(u'Valandovo')),\n-    ('VL', _(u'Vasilevo')),\n-    ('VV', _(u'Vevčani')),\n-    ('VE', _(u'Veles')),\n-    ('NI', _(u'Vinica')),\n-    ('VC', _(u'Vraneštica')),\n-    ('VH', _(u'Vrapčište')),\n-    ('GB', _(u'Gazi Baba')),\n-    ('GV', _(u'Gevgelija')),\n-    ('GT', _(u'Gostivar')),\n-    ('GR', _(u'Gradsko')),\n-    ('DB', _(u'Debar')),\n-    ('DA', _(u'Debarca')),\n-    ('DL', _(u'Delčevo')),\n-    ('DK', _(u'Demir Kapija')),\n-    ('DM', _(u'Demir Hisar')),\n-    ('DE', _(u'Dolneni')),\n-    ('DR', _(u'Drugovo')),\n-    ('GP', _(u'Gjorče Petrov')),\n-    ('ZE', _(u'Želino')),\n-    ('ZA', _(u'Zajas')),\n-    ('ZK', _(u'Zelenikovo')),\n-    ('ZR', _(u'Zrnovci')),\n-    ('IL', _(u'Ilinden')),\n-    ('JG', _(u'Jegunovce')),\n-    ('AV', _(u'Kavadarci')),\n-    ('KB', _(u'Karbinci')),\n-    ('KX', _(u'Karpoš')),\n-    ('VD', _(u'Kisela Voda')),\n-    ('KH', _(u'Kičevo')),\n-    ('KN', _(u'Konče')),\n-    ('OC', _(u'Koćani')),\n-    ('KY', _(u'Kratovo')),\n-    ('KZ', _(u'Kriva Palanka')),\n-    ('KG', _(u'Krivogaštani')),\n-    ('KS', _(u'Kruševo')),\n-    ('UM', _(u'Kumanovo')),\n-    ('LI', _(u'Lipkovo')),\n-    ('LO', _(u'Lozovo')),\n-    ('MR', _(u'Mavrovo i Rostuša')),\n-    ('MK', _(u'Makedonska Kamenica')),\n-    ('MD', _(u'Makedonski Brod')),\n-    ('MG', _(u'Mogila')),\n-    ('NG', _(u'Negotino')),\n-    ('NV', _(u'Novaci')),\n-    ('NS', _(u'Novo Selo')),\n-    ('OS', _(u'Oslomej')),\n-    ('OD', _(u'Ohrid')),\n-    ('PE', _(u'Petrovec')),\n-    ('PH', _(u'Pehčevo')),\n-    ('PN', _(u'Plasnica')),\n-    ('PP', _(u'Prilep')),\n-    ('PT', _(u'Probištip')),\n-    ('RV', _(u'Radoviš')),\n-    ('RN', _(u'Rankovce')),\n-    ('RE', _(u'Resen')),\n-    ('RO', _(u'Rosoman')),\n-    ('AJ', _(u'Saraj')),\n-    ('SL', _(u'Sveti Nikole')),\n-    ('SS', _(u'Sopište')),\n-    ('SD', _(u'Star Dojran')),\n-    ('NA', _(u'Staro Nagoričane')),\n-    ('UG', _(u'Struga')),\n-    ('RU', _(u'Strumica')),\n-    ('SU', _(u'Studeničani')),\n-    ('TR', _(u'Tearce')),\n-    ('ET', _(u'Tetovo')),\n-    ('CE', _(u'Centar')),\n-    ('CZ', _(u'Centar-Župa')),\n-    ('CI', _(u'Čair')),\n-    ('CA', _(u'Čaška')),\n-    ('CH', _(u'Češinovo-Obleševo')),\n-    ('CS', _(u'Čučer-Sandevo')),\n-    ('ST', _(u'Štip')),\n-    ('SO', _(u'Šuto Orizari')),\n+    ('AD', _('Aerodrom')),\n+    ('AR', _('Aračinovo')),\n+    ('BR', _('Berovo')),\n+    ('TL', _('Bitola')),\n+    ('BG', _('Bogdanci')),\n+    ('VJ', _('Bogovinje')),\n+    ('BS', _('Bosilovo')),\n+    ('BN', _('Brvenica')),\n+    ('BU', _('Butel')),\n+    ('VA', _('Valandovo')),\n+    ('VL', _('Vasilevo')),\n+    ('VV', _('Vevčani')),\n+    ('VE', _('Veles')),\n+    ('NI', _('Vinica')),\n+    ('VC', _('Vraneštica')),\n+    ('VH', _('Vrapčište')),\n+    ('GB', _('Gazi Baba')),\n+    ('GV', _('Gevgelija')),\n+    ('GT', _('Gostivar')),\n+    ('GR', _('Gradsko')),\n+    ('DB', _('Debar')),\n+    ('DA', _('Debarca')),\n+    ('DL', _('Delčevo')),\n+    ('DK', _('Demir Kapija')),\n+    ('DM', _('Demir Hisar')),\n+    ('DE', _('Dolneni')),\n+    ('DR', _('Drugovo')),\n+    ('GP', _('Gjorče Petrov')),\n+    ('ZE', _('Želino')),\n+    ('ZA', _('Zajas')),\n+    ('ZK', _('Zelenikovo')),\n+    ('ZR', _('Zrnovci')),\n+    ('IL', _('Ilinden')),\n+    ('JG', _('Jegunovce')),\n+    ('AV', _('Kavadarci')),\n+    ('KB', _('Karbinci')),\n+    ('KX', _('Karpoš')),\n+    ('VD', _('Kisela Voda')),\n+    ('KH', _('Kičevo')),\n+    ('KN', _('Konče')),\n+    ('OC', _('Koćani')),\n+    ('KY', _('Kratovo')),\n+    ('KZ', _('Kriva Palanka')),\n+    ('KG', _('Krivogaštani')),\n+    ('KS', _('Kruševo')),\n+    ('UM', _('Kumanovo')),\n+    ('LI', _('Lipkovo')),\n+    ('LO', _('Lozovo')),\n+    ('MR', _('Mavrovo i Rostuša')),\n+    ('MK', _('Makedonska Kamenica')),\n+    ('MD', _('Makedonski Brod')),\n+    ('MG', _('Mogila')),\n+    ('NG', _('Negotino')),\n+    ('NV', _('Novaci')),\n+    ('NS', _('Novo Selo')),\n+    ('OS', _('Oslomej')),\n+    ('OD', _('Ohrid')),\n+    ('PE', _('Petrovec')),\n+    ('PH', _('Pehčevo')),\n+    ('PN', _('Plasnica')),\n+    ('PP', _('Prilep')),\n+    ('PT', _('Probištip')),\n+    ('RV', _('Radoviš')),\n+    ('RN', _('Rankovce')),\n+    ('RE', _('Resen')),\n+    ('RO', _('Rosoman')),\n+    ('AJ', _('Saraj')),\n+    ('SL', _('Sveti Nikole')),\n+    ('SS', _('Sopište')),\n+    ('SD', _('Star Dojran')),\n+    ('NA', _('Staro Nagoričane')),\n+    ('UG', _('Struga')),\n+    ('RU', _('Strumica')),\n+    ('SU', _('Studeničani')),\n+    ('TR', _('Tearce')),\n+    ('ET', _('Tetovo')),\n+    ('CE', _('Centar')),\n+    ('CZ', _('Centar-Župa')),\n+    ('CI', _('Čair')),\n+    ('CA', _('Čaška')),\n+    ('CH', _('Češinovo-Obleševo')),\n+    ('CS', _('Čučer-Sandevo')),\n+    ('ST', _('Štip')),\n+    ('SO', _('Šuto Orizari')),\n )"
        },
        {
            "sha": "2dcf17d26c84b415893e6eca8ac1502b9894272e",
            "filename": "django/contrib/localflavor/mx/forms.py",
            "status": "modified",
            "additions": 31,
            "deletions": 30,
            "changes": 61,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmx%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmx%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fmx%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,7 @@\n \"\"\"\n Mexican-specific form helpers.\n \"\"\"\n+from __future__ import unicode_literals\n import re\n \n from django.forms import ValidationError\n@@ -19,12 +20,12 @@\n \"\"\"\n \n RFC_INCONVENIENT_WORDS = [\n-    u'BUEI', u'BUEY', u'CACA', u'CACO', u'CAGA', u'CAGO', u'CAKA', u'CAKO',\n-    u'COGE', u'COJA', u'COJE', u'COJI', u'COJO', u'CULO', u'FETO', u'GUEY',\n-    u'JOTO', u'KACA', u'KACO', u'KAGA', u'KAGO', u'KOGE', u'KOJO', u'KAKA',\n-    u'KULO', u'MAME', u'MAMO', u'MEAR', u'MEAS', u'MEON', u'MION', u'MOCO',\n-    u'MULA', u'PEDA', u'PEDO', u'PENE', u'PUTA', u'PUTO', u'QULO', u'RATA',\n-    u'RUIN',\n+    'BUEI', 'BUEY', 'CACA', 'CACO', 'CAGA', 'CAGO', 'CAKA', 'CAKO',\n+    'COGE', 'COJA', 'COJE', 'COJI', 'COJO', 'CULO', 'FETO', 'GUEY',\n+    'JOTO', 'KACA', 'KACO', 'KAGA', 'KAGO', 'KOGE', 'KOJO', 'KAKA',\n+    'KULO', 'MAME', 'MAMO', 'MEAR', 'MEAS', 'MEON', 'MION', 'MOCO',\n+    'MULA', 'PEDA', 'PEDO', 'PENE', 'PUTA', 'PUTO', 'QULO', 'RATA',\n+    'RUIN',\n ]\n \n \"\"\"\n@@ -33,17 +34,17 @@\n     http://portal.veracruz.gob.mx/pls/portal/url/ITEM/444112558A57C6E0E040A8C02E00695C\n \"\"\"\n CURP_INCONVENIENT_WORDS = [\n-   u'BACA', u'BAKA', u'BUEI', u'BUEY', u'CACA', u'CACO', u'CAGA', u'CAGO',\n-   u'CAKA', u'CAKO', u'COGE', u'COGI', u'COJA', u'COJE', u'COJI', u'COJO',\n-   u'COLA', u'CULO', u'FALO', u'FETO', u'GETA', u'GUEI', u'GUEY', u'JETA',\n-   u'JOTO', u'KACA', u'KACO', u'KAGA', u'KAGO', u'KAKA', u'KAKO', u'KOGE',\n-   u'KOGI', u'KOJA', u'KOJE', u'KOJI', u'KOJO', u'KOLA', u'KULO', u'LILO',\n-   u'LOCA', u'LOCO', u'LOKA', u'LOKO', u'MAME', u'MAMO', u'MEAR', u'MEAS',\n-   u'MEON', u'MIAR', u'MION', u'MOCO', u'MOKO', u'MULA', u'MULO', u'NACA',\n-   u'NACO', u'PEDA', u'PEDO', u'PENE', u'PIPI', u'PITO', u'POPO', u'PUTA',\n-   u'PUTO', u'QULO', u'RATA', u'ROBA', u'ROBE', u'ROBO', u'RUIN', u'SENO',\n-   u'TETA', u'VACA', u'VAGA', u'VAGO', u'VAKA', u'VUEI', u'VUEY', u'WUEI',\n-   u'WUEY',\n+   'BACA', 'BAKA', 'BUEI', 'BUEY', 'CACA', 'CACO', 'CAGA', 'CAGO',\n+   'CAKA', 'CAKO', 'COGE', 'COGI', 'COJA', 'COJE', 'COJI', 'COJO',\n+   'COLA', 'CULO', 'FALO', 'FETO', 'GETA', 'GUEI', 'GUEY', 'JETA',\n+   'JOTO', 'KACA', 'KACO', 'KAGA', 'KAGO', 'KAKA', 'KAKO', 'KOGE',\n+   'KOGI', 'KOJA', 'KOJE', 'KOJI', 'KOJO', 'KOLA', 'KULO', 'LILO',\n+   'LOCA', 'LOCO', 'LOKA', 'LOKO', 'MAME', 'MAMO', 'MEAR', 'MEAS',\n+   'MEON', 'MIAR', 'MION', 'MOCO', 'MOKO', 'MULA', 'MULO', 'NACA',\n+   'NACO', 'PEDA', 'PEDO', 'PENE', 'PIPI', 'PITO', 'POPO', 'PUTA',\n+   'PUTO', 'QULO', 'RATA', 'ROBA', 'ROBE', 'ROBO', 'RUIN', 'SENO',\n+   'TETA', 'VACA', 'VAGA', 'VAGO', 'VAKA', 'VUEI', 'VUEY', 'WUEI',\n+   'WUEY',\n ]\n \n class MXStateSelect(Select):\n@@ -62,11 +63,11 @@ class MXZipCodeField(RegexField):\n         http://en.wikipedia.org/wiki/List_of_postal_codes_in_Mexico\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid zip code in the format XXXXX.'),\n+        'invalid': _('Enter a valid zip code in the format XXXXX.'),\n     }\n \n     def __init__(self, *args, **kwargs):\n-        zip_code_re = ur'^(0[1-9]|[1][0-6]|[2-9]\\d)(\\d{3})$'\n+        zip_code_re = r'^(0[1-9]|[1][0-6]|[2-9]\\d)(\\d{3})$'\n         super(MXZipCodeField, self).__init__(zip_code_re, *args, **kwargs)\n \n \n@@ -110,15 +111,15 @@ class MXRFCField(RegexField):\n     }\n \n     def __init__(self, min_length=9, max_length=13, *args, **kwargs):\n-        rfc_re = re.compile(ur'^([A-Z&Ññ]{3}|[A-Z][AEIOU][A-Z]{2})%s([A-Z0-9]{2}[0-9A])?$' % DATE_RE,\n+        rfc_re = re.compile(r'^([A-Z&Ññ]{3}|[A-Z][AEIOU][A-Z]{2})%s([A-Z0-9]{2}[0-9A])?$' % DATE_RE,\n                             re.IGNORECASE)\n         super(MXRFCField, self).__init__(rfc_re, min_length=min_length,\n                                          max_length=max_length, *args, **kwargs)\n \n     def clean(self, value):\n         value = super(MXRFCField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = value.upper()\n         if self._has_homoclave(value):\n             if not value[-1] == self._checksum(value[:-1]):\n@@ -133,7 +134,7 @@ def _has_homoclave(self, rfc):\n         since the current algorithm to calculate it had not been created for\n         the first RFCs ever in Mexico.\n         \"\"\"\n-        rfc_without_homoclave_re = re.compile(ur'^[A-Z&Ññ]{3,4}%s$' % DATE_RE,\n+        rfc_without_homoclave_re = re.compile(r'^[A-Z&Ññ]{3,4}%s$' % DATE_RE,\n                                               re.IGNORECASE)\n         return not rfc_without_homoclave_re.match(rfc)\n \n@@ -142,17 +143,17 @@ def _checksum(self, rfc):\n         More info about this procedure:\n             www.sisi.org.mx/jspsi/documentos/2005/seguimiento/06101/0610100162005_065.doc\n         \"\"\"\n-        chars = u'0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ-Ñ'\n+        chars = '0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ-Ñ'\n         if len(rfc) == 11:\n             rfc = '-' + rfc\n \n         sum_ = sum(i * chars.index(c) for i, c in zip(reversed(xrange(14)), rfc))\n         checksum = 11 - sum_ % 11\n \n         if checksum == 10:\n-            return u'A'\n+            return 'A'\n         elif checksum == 11:\n-            return u'0'\n+            return '0'\n \n         return unicode(checksum)\n \n@@ -187,13 +188,13 @@ class MXCURPField(RegexField):\n     \"\"\"\n     default_error_messages = {\n         'invalid': _('Enter a valid CURP.'),\n-        'invalid_checksum': _(u'Invalid checksum for CURP.'),\n+        'invalid_checksum': _('Invalid checksum for CURP.'),\n     }\n \n     def __init__(self, min_length=18, max_length=18, *args, **kwargs):\n         states_re = r'(AS|BC|BS|CC|CL|CM|CS|CH|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)'\n         consonants_re = r'[B-DF-HJ-NP-TV-Z]'\n-        curp_re = (ur'^[A-Z][AEIOU][A-Z]{2}%s[HM]%s%s{3}[0-9A-Z]\\d$' %\n+        curp_re = (r'^[A-Z][AEIOU][A-Z]{2}%s[HM]%s%s{3}[0-9A-Z]\\d$' %\n                    (DATE_RE, states_re, consonants_re))\n         curp_re = re.compile(curp_re, re.IGNORECASE)\n         super(MXCURPField, self).__init__(curp_re, min_length=min_length,\n@@ -202,7 +203,7 @@ def __init__(self, min_length=18, max_length=18, *args, **kwargs):\n     def clean(self, value):\n         value = super(MXCURPField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = value.upper()\n         if value[-1] != self._checksum(value[:-1]):\n             raise ValidationError(self.default_error_messages['invalid_checksum'])\n@@ -211,13 +212,13 @@ def clean(self, value):\n         return value\n \n     def _checksum(self, value):\n-        chars = u'0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ'\n+        chars = '0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ'\n \n         s = sum(i * chars.index(c) for i, c in zip(reversed(xrange(19)), value))\n         checksum = 10 - s % 10\n \n         if checksum == 10:\n-            return u'0'\n+            return '0'\n         return unicode(checksum)\n \n     def _has_inconvenient_word(self, curp):"
        },
        {
            "sha": "6ae08ccb12f45234b751b392d79d5578f94c2ad6",
            "filename": "django/contrib/localflavor/mx/mx_states.py",
            "status": "modified",
            "additions": 33,
            "deletions": 32,
            "changes": 65,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmx%2Fmx_states.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fmx%2Fmx_states.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fmx%2Fmx_states.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,41 +5,42 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.utils.translation import ugettext_lazy as _\n \n # All 31 states, plus the `Distrito Federal`.\n STATE_CHOICES = (\n-    ('AGU', _(u'Aguascalientes')),\n-    ('BCN', _(u'Baja California')),\n-    ('BCS', _(u'Baja California Sur')),\n-    ('CAM', _(u'Campeche')),\n-    ('CHH', _(u'Chihuahua')),\n-    ('CHP', _(u'Chiapas')),\n-    ('COA', _(u'Coahuila')),\n-    ('COL', _(u'Colima')),\n-    ('DIF', _(u'Distrito Federal')),\n-    ('DUR', _(u'Durango')),\n-    ('GRO', _(u'Guerrero')),\n-    ('GUA', _(u'Guanajuato')),\n-    ('HID', _(u'Hidalgo')),\n-    ('JAL', _(u'Jalisco')),\n-    ('MEX', _(u'Estado de México')),\n-    ('MIC', _(u'Michoacán')),\n-    ('MOR', _(u'Morelos')),\n-    ('NAY', _(u'Nayarit')),\n-    ('NLE', _(u'Nuevo León')),\n-    ('OAX', _(u'Oaxaca')),\n-    ('PUE', _(u'Puebla')),\n-    ('QUE', _(u'Querétaro')),\n-    ('ROO', _(u'Quintana Roo')),\n-    ('SIN', _(u'Sinaloa')),\n-    ('SLP', _(u'San Luis Potosí')),\n-    ('SON', _(u'Sonora')),\n-    ('TAB', _(u'Tabasco')),\n-    ('TAM', _(u'Tamaulipas')),\n-    ('TLA', _(u'Tlaxcala')),\n-    ('VER', _(u'Veracruz')),\n-    ('YUC', _(u'Yucatán')),\n-    ('ZAC', _(u'Zacatecas')),\n+    ('AGU', _('Aguascalientes')),\n+    ('BCN', _('Baja California')),\n+    ('BCS', _('Baja California Sur')),\n+    ('CAM', _('Campeche')),\n+    ('CHH', _('Chihuahua')),\n+    ('CHP', _('Chiapas')),\n+    ('COA', _('Coahuila')),\n+    ('COL', _('Colima')),\n+    ('DIF', _('Distrito Federal')),\n+    ('DUR', _('Durango')),\n+    ('GRO', _('Guerrero')),\n+    ('GUA', _('Guanajuato')),\n+    ('HID', _('Hidalgo')),\n+    ('JAL', _('Jalisco')),\n+    ('MEX', _('Estado de México')),\n+    ('MIC', _('Michoacán')),\n+    ('MOR', _('Morelos')),\n+    ('NAY', _('Nayarit')),\n+    ('NLE', _('Nuevo León')),\n+    ('OAX', _('Oaxaca')),\n+    ('PUE', _('Puebla')),\n+    ('QUE', _('Querétaro')),\n+    ('ROO', _('Quintana Roo')),\n+    ('SIN', _('Sinaloa')),\n+    ('SLP', _('San Luis Potosí')),\n+    ('SON', _('Sonora')),\n+    ('TAB', _('Tabasco')),\n+    ('TAM', _('Tamaulipas')),\n+    ('TLA', _('Tlaxcala')),\n+    ('VER', _('Veracruz')),\n+    ('YUC', _('Yucatán')),\n+    ('ZAC', _('Zacatecas')),\n )"
        },
        {
            "sha": "bdd769bd391c6bd0b0e13c3013c11c1d60f9cc38",
            "filename": "django/contrib/localflavor/nl/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fnl%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fnl%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fnl%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n NL-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -29,7 +29,7 @@ class NLZipCodeField(Field):\n     def clean(self, value):\n         super(NLZipCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip().upper().replace(' ', '')\n         if not pc_re.search(value):\n@@ -38,7 +38,7 @@ def clean(self, value):\n         if int(value[:4]) < 1000:\n             raise ValidationError(self.error_messages['invalid'])\n \n-        return u'%s %s' % (value[:4], value[4:])\n+        return '%s %s' % (value[:4], value[4:])\n \n class NLProvinceSelect(Select):\n     \"\"\"\n@@ -59,7 +59,7 @@ class NLPhoneNumberField(Field):\n     def clean(self, value):\n         super(NLPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         phone_nr = re.sub('[\\-\\s\\(\\)]', '', smart_unicode(value))\n \n@@ -85,7 +85,7 @@ class NLSoFiNumberField(Field):\n     def clean(self, value):\n         super(NLSoFiNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         if not sofi_re.search(value):\n             raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "4bd780a3127fb1208065efb062b3df1f6e4a70ba",
            "filename": "django/contrib/localflavor/no/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fno%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fno%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fno%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Norwegian-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n import datetime\n@@ -36,13 +36,13 @@ class NOSocialSecurityNumber(Field):\n     Algorithm is documented at http://no.wikipedia.org/wiki/Personnummer\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid Norwegian social security number.'),\n+        'invalid': _('Enter a valid Norwegian social security number.'),\n     }\n \n     def clean(self, value):\n         super(NOSocialSecurityNumber, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         if not re.match(r'^\\d{11}$', value):\n             raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "d84915caa22709a1ee3761624783860dcc34cd59",
            "filename": "django/contrib/localflavor/no/no_municipalities.py",
            "status": "modified",
            "additions": 22,
            "deletions": 21,
            "changes": 43,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fno%2Fno_municipalities.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fno%2Fno_municipalities.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fno%2Fno_municipalities.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,27 +6,28 @@\n This exists in this standalone file so that it's on ly imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n MUNICIPALITY_CHOICES = (\n-    ('akershus', u'Akershus'),\n-    ('austagder', u'Aust-Agder'),\n-    ('buskerud', u'Buskerud'),\n-    ('finnmark', u'Finnmark'),\n-    ('hedmark', u'Hedmark'),\n-    ('hordaland', u'Hordaland'),\n-    ('janmayen', u'Jan Mayen'),\n-    ('moreogromsdal', u'Møre og Romsdal'),\n-    ('nordtrondelag', u'Nord-Trøndelag'),\n-    ('nordland', u'Nordland'),\n-    ('oppland', u'Oppland'),\n-    ('oslo', u'Oslo'),\n-    ('rogaland', u'Rogaland'),\n-    ('sognogfjordane', u'Sogn og Fjordane'),\n-    ('svalbard', u'Svalbard'),\n-    ('sortrondelag', u'Sør-Trøndelag'),\n-    ('telemark', u'Telemark'),\n-    ('troms', u'Troms'),\n-    ('vestagder', u'Vest-Agder'),\n-    ('vestfold', u'Vestfold'),\n-    ('ostfold', u'Østfold')\n+    ('akershus', 'Akershus'),\n+    ('austagder', 'Aust-Agder'),\n+    ('buskerud', 'Buskerud'),\n+    ('finnmark', 'Finnmark'),\n+    ('hedmark', 'Hedmark'),\n+    ('hordaland', 'Hordaland'),\n+    ('janmayen', 'Jan Mayen'),\n+    ('moreogromsdal', 'Møre og Romsdal'),\n+    ('nordtrondelag', 'Nord-Trøndelag'),\n+    ('nordland', 'Nordland'),\n+    ('oppland', 'Oppland'),\n+    ('oslo', 'Oslo'),\n+    ('rogaland', 'Rogaland'),\n+    ('sognogfjordane', 'Sogn og Fjordane'),\n+    ('svalbard', 'Svalbard'),\n+    ('sortrondelag', 'Sør-Trøndelag'),\n+    ('telemark', 'Telemark'),\n+    ('troms', 'Troms'),\n+    ('vestagder', 'Vest-Agder'),\n+    ('vestfold', 'Vestfold'),\n+    ('ostfold', 'Østfold')\n )"
        },
        {
            "sha": "5100bbf5753c9269e03c4b275a5c0d93b03c0596",
            "filename": "django/contrib/localflavor/pe/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpe%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpe%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpe%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n PE-specific Form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.localflavor.pe.pe_region import REGION_CHOICES\n from django.core.validators import EMPTY_VALUES\n@@ -38,7 +38,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(PEDNIField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if not value.isdigit():\n             raise ValidationError(self.error_messages['invalid'])\n         if len(value) != 8:\n@@ -66,7 +66,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(PERUCField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if not value.isdigit():\n             raise ValidationError(self.error_messages['invalid'])\n         if len(value) != 11:"
        },
        {
            "sha": "9270bcecf12827749504059d8e0caf1d712333b4",
            "filename": "django/contrib/localflavor/pe/pe_region.py",
            "status": "modified",
            "additions": 26,
            "deletions": 25,
            "changes": 51,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpe%2Fpe_region.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpe%2Fpe_region.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpe%2Fpe_region.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,31 +5,32 @@\n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n REGION_CHOICES = (\n-    ('AMA', u'Amazonas'),\n-    ('ANC', u'Ancash'),\n-    ('APU', u'Apurímac'),\n-    ('ARE', u'Arequipa'),\n-    ('AYA', u'Ayacucho'),\n-    ('CAJ', u'Cajamarca'),\n-    ('CAL', u'Callao'),\n-    ('CUS', u'Cusco'),\n-    ('HUV', u'Huancavelica'),\n-    ('HUC', u'Huánuco'),\n-    ('ICA', u'Ica'),\n-    ('JUN', u'Junín'),\n-    ('LAL', u'La Libertad'),\n-    ('LAM', u'Lambayeque'),\n-    ('LIM', u'Lima'),\n-    ('LOR', u'Loreto'),\n-    ('MDD', u'Madre de Dios'),\n-    ('MOQ', u'Moquegua'),\n-    ('PAS', u'Pasco'),\n-    ('PIU', u'Piura'),\n-    ('PUN', u'Puno'),\n-    ('SAM', u'San Martín'),\n-    ('TAC', u'Tacna'),\n-    ('TUM', u'Tumbes'),\n-    ('UCA', u'Ucayali'),\n+    ('AMA', 'Amazonas'),\n+    ('ANC', 'Ancash'),\n+    ('APU', 'Apurímac'),\n+    ('ARE', 'Arequipa'),\n+    ('AYA', 'Ayacucho'),\n+    ('CAJ', 'Cajamarca'),\n+    ('CAL', 'Callao'),\n+    ('CUS', 'Cusco'),\n+    ('HUV', 'Huancavelica'),\n+    ('HUC', 'Huánuco'),\n+    ('ICA', 'Ica'),\n+    ('JUN', 'Junín'),\n+    ('LAL', 'La Libertad'),\n+    ('LAM', 'Lambayeque'),\n+    ('LIM', 'Lima'),\n+    ('LOR', 'Loreto'),\n+    ('MDD', 'Madre de Dios'),\n+    ('MOQ', 'Moquegua'),\n+    ('PAS', 'Pasco'),\n+    ('PIU', 'Piura'),\n+    ('PUN', 'Puno'),\n+    ('SAM', 'San Martín'),\n+    ('TAC', 'Tacna'),\n+    ('TUM', 'Tumbes'),\n+    ('UCA', 'Ucayali'),\n )"
        },
        {
            "sha": "12d9f3d763cf6b8e72b8dc150cec90cb72dc45b2",
            "filename": "django/contrib/localflavor/pl/forms.py",
            "status": "modified",
            "additions": 18,
            "deletions": 18,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpl%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Polish-specific form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -39,8 +39,8 @@ class PLPESELField(RegexField):\n     The algorithm is documented at http://en.wikipedia.org/wiki/PESEL.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'National Identification Number consists of 11 digits.'),\n-        'checksum': _(u'Wrong checksum for the National Identification Number.'),\n+        'invalid': _('National Identification Number consists of 11 digits.'),\n+        'checksum': _('Wrong checksum for the National Identification Number.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -50,10 +50,10 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self, value):\n         super(PLPESELField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if not self.has_valid_checksum(value):\n             raise ValidationError(self.error_messages['checksum'])\n-        return u'%s' % value\n+        return '%s' % value\n \n     def has_valid_checksum(self, number):\n         \"\"\"\n@@ -76,8 +76,8 @@ class PLNationalIDCardNumberField(RegexField):\n     The algorithm is documented at http://en.wikipedia.org/wiki/Polish_identity_card.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'National ID Card Number consists of 3 letters and 6 digits.'),\n-        'checksum': _(u'Wrong checksum for the National ID Card Number.'),\n+        'invalid': _('National ID Card Number consists of 3 letters and 6 digits.'),\n+        'checksum': _('Wrong checksum for the National ID Card Number.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -87,13 +87,13 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self,value):\n         super(PLNationalIDCardNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.upper()\n \n         if not self.has_valid_checksum(value):\n             raise ValidationError(self.error_messages['checksum'])\n-        return u'%s' % value\n+        return '%s' % value\n \n     def has_valid_checksum(self, number):\n         \"\"\"\n@@ -128,8 +128,8 @@ class PLNIPField(RegexField):\n     http://wipos.p.lodz.pl/zylla/ut/nip-rego.html\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a tax number field (NIP) in the format XXX-XXX-XX-XX, XXX-XX-XX-XXX or XXXXXXXXXX.'),\n-        'checksum': _(u'Wrong checksum for the Tax Number (NIP).'),\n+        'invalid': _('Enter a tax number field (NIP) in the format XXX-XXX-XX-XX, XXX-XX-XX-XXX or XXXXXXXXXX.'),\n+        'checksum': _('Wrong checksum for the Tax Number (NIP).'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -139,11 +139,11 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self,value):\n         super(PLNIPField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub(\"[-]\", \"\", value)\n         if not self.has_valid_checksum(value):\n             raise ValidationError(self.error_messages['checksum'])\n-        return u'%s' % value\n+        return '%s' % value\n \n     def has_valid_checksum(self, number):\n         \"\"\"\n@@ -168,8 +168,8 @@ class PLREGONField(RegexField):\n     See http://www.stat.gov.pl/bip/regon_ENG_HTML.htm for more information.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'National Business Register Number (REGON) consists of 9 or 14 digits.'),\n-        'checksum': _(u'Wrong checksum for the National Business Register Number (REGON).'),\n+        'invalid': _('National Business Register Number (REGON) consists of 9 or 14 digits.'),\n+        'checksum': _('Wrong checksum for the National Business Register Number (REGON).'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -179,10 +179,10 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self,value):\n         super(PLREGONField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if not self.has_valid_checksum(value):\n             raise ValidationError(self.error_messages['checksum'])\n-        return u'%s' % value\n+        return '%s' % value\n \n     def has_valid_checksum(self, number):\n         \"\"\"\n@@ -209,7 +209,7 @@ class PLPostalCodeField(RegexField):\n     Valid code is XX-XXX where X is digit.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XX-XXX.'),\n+        'invalid': _('Enter a postal code in the format XX-XXX.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):"
        },
        {
            "sha": "f5263f19d2dd5fd9cf9ff6aec1a5789360329536",
            "filename": "django/contrib/localflavor/pl/pl_administrativeunits.py",
            "status": "modified",
            "additions": 377,
            "deletions": 376,
            "changes": 753,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fpl_administrativeunits.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpl%2Fpl_administrativeunits.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpl%2Fpl_administrativeunits.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,384 +2,385 @@\n \"\"\"\n Polish administrative units as in http://pl.wikipedia.org/wiki/Podzia%C5%82_administracyjny_Polski\n \"\"\"\n+from __future__ import unicode_literals\n \n \n ADMINISTRATIVE_UNIT_CHOICES = (\n-    ('wroclaw', u'Wrocław'),\n-    ('jeleniagora', u'Jelenia Góra'),\n-    ('legnica', u'Legnica'),\n-    ('boleslawiecki', u'bolesławiecki'),\n-    ('dzierzoniowski', u'dzierżoniowski'),\n-    ('glogowski', u'głogowski'),\n-    ('gorowski', u'górowski'),\n-    ('jaworski', u'jaworski'),\n-    ('jeleniogorski', u'jeleniogórski'),\n-    ('kamiennogorski', u'kamiennogórski'),\n-    ('klodzki', u'kłodzki'),\n-    ('legnicki', u'legnicki'),\n-    ('lubanski', u'lubański'),\n-    ('lubinski', u'lubiński'),\n-    ('lwowecki', u'lwówecki'),\n-    ('milicki', u'milicki'),\n-    ('olesnicki', u'oleśnicki'),\n-    ('olawski', u'oławski'),\n-    ('polkowicki', u'polkowicki'),\n-    ('strzelinski', u'strzeliński'),\n-    ('sredzki', u'średzki'),\n-    ('swidnicki', u'świdnicki'),\n-    ('trzebnicki', u'trzebnicki'),\n-    ('walbrzyski', u'wałbrzyski'),\n-    ('wolowski', u'wołowski'),\n-    ('wroclawski', u'wrocławski'),\n-    ('zabkowicki', u'ząbkowicki'),\n-    ('zgorzelecki', u'zgorzelecki'),\n-    ('zlotoryjski', u'złotoryjski'),\n-    ('bydgoszcz', u'Bydgoszcz'),\n-    ('torun', u'Toruń'),\n-    ('wloclawek', u'Włocławek'),\n-    ('grudziadz', u'Grudziądz'),\n-    ('aleksandrowski', u'aleksandrowski'),\n-    ('brodnicki', u'brodnicki'),\n-    ('bydgoski', u'bydgoski'),\n-    ('chelminski', u'chełmiński'),\n-    ('golubsko-dobrzynski', u'golubsko-dobrzyński'),\n-    ('grudziadzki', u'grudziądzki'),\n-    ('inowroclawski', u'inowrocławski'),\n-    ('lipnowski', u'lipnowski'),\n-    ('mogilenski', u'mogileński'),\n-    ('nakielski', u'nakielski'),\n-    ('radziejowski', u'radziejowski'),\n-    ('rypinski', u'rypiński'),\n-    ('sepolenski', u'sępoleński'),\n-    ('swiecki', u'świecki'),\n-    ('torunski', u'toruński'),\n-    ('tucholski', u'tucholski'),\n-    ('wabrzeski', u'wąbrzeski'),\n-    ('wloclawski', u'wrocławski'),\n-    ('zninski', u'źniński'),\n-    ('lublin', u'Lublin'),\n-    ('biala-podlaska', u'Biała Podlaska'),\n-    ('chelm', u'Chełm'),\n-    ('zamosc', u'Zamość'),\n-    ('bialski', u'bialski'),\n-    ('bilgorajski', u'biłgorajski'),\n-    ('chelmski', u'chełmski'),\n-    ('hrubieszowski', u'hrubieszowski'),\n-    ('janowski', u'janowski'),\n-    ('krasnostawski', u'krasnostawski'),\n-    ('krasnicki', u'kraśnicki'),\n-    ('lubartowski', u'lubartowski'),\n-    ('lubelski', u'lubelski'),\n-    ('leczynski', u'łęczyński'),\n-    ('lukowski', u'łukowski'),\n-    ('opolski', u'opolski'),\n-    ('parczewski', u'parczewski'),\n-    ('pulawski', u'puławski'),\n-    ('radzynski', u'radzyński'),\n-    ('rycki', u'rycki'),\n-    ('swidnicki', u'świdnicki'),\n-    ('tomaszowski', u'tomaszowski'),\n-    ('wlodawski', u'włodawski'),\n-    ('zamojski', u'zamojski'),\n-    ('gorzow-wielkopolski', u'Gorzów Wielkopolski'),\n-    ('zielona-gora', u'Zielona Góra'),\n-    ('gorzowski', u'gorzowski'),\n-    ('krosnienski', u'krośnieński'),\n-    ('miedzyrzecki', u'międzyrzecki'),\n-    ('nowosolski', u'nowosolski'),\n-    ('slubicki', u'słubicki'),\n-    ('strzelecko-drezdenecki', u'strzelecko-drezdenecki'),\n-    ('sulecinski', u'suleńciński'),\n-    ('swiebodzinski', u'świebodziński'),\n-    ('wschowski', u'wschowski'),\n-    ('zielonogorski', u'zielonogórski'),\n-    ('zaganski', u'żagański'),\n-    ('zarski', u'żarski'),\n-    ('lodz', u'Łódź'),\n-    ('piotrkow-trybunalski', u'Piotrków Trybunalski'),\n-    ('skierniewice', u'Skierniewice'),\n-    ('belchatowski', u'bełchatowski'),\n-    ('brzezinski', u'brzeziński'),\n-    ('kutnowski', u'kutnowski'),\n-    ('laski', u'łaski'),\n-    ('leczycki', u'łęczycki'),\n-    ('lowicki', u'łowicki'),\n-    ('lodzki wschodni', u'łódzki wschodni'),\n-    ('opoczynski', u'opoczyński'),\n-    ('pabianicki', u'pabianicki'),\n-    ('pajeczanski', u'pajęczański'),\n-    ('piotrkowski', u'piotrkowski'),\n-    ('poddebicki', u'poddębicki'),\n-    ('radomszczanski', u'radomszczański'),\n-    ('rawski', u'rawski'),\n-    ('sieradzki', u'sieradzki'),\n-    ('skierniewicki', u'skierniewicki'),\n-    ('tomaszowski', u'tomaszowski'),\n-    ('wielunski', u'wieluński'),\n-    ('wieruszowski', u'wieruszowski'),\n-    ('zdunskowolski', u'zduńskowolski'),\n-    ('zgierski', u'zgierski'),\n-    ('krakow', u'Kraków'),\n-    ('tarnow', u'Tarnów'),\n-    ('nowy-sacz', u'Nowy Sącz'),\n-    ('bochenski', u'bocheński'),\n-    ('brzeski', u'brzeski'),\n-    ('chrzanowski', u'chrzanowski'),\n-    ('dabrowski', u'dąbrowski'),\n-    ('gorlicki', u'gorlicki'),\n-    ('krakowski', u'krakowski'),\n-    ('limanowski', u'limanowski'),\n-    ('miechowski', u'miechowski'),\n-    ('myslenicki', u'myślenicki'),\n-    ('nowosadecki', u'nowosądecki'),\n-    ('nowotarski', u'nowotarski'),\n-    ('olkuski', u'olkuski'),\n-    ('oswiecimski', u'oświęcimski'),\n-    ('proszowicki', u'proszowicki'),\n-    ('suski', u'suski'),\n-    ('tarnowski', u'tarnowski'),\n-    ('tatrzanski', u'tatrzański'),\n-    ('wadowicki', u'wadowicki'),\n-    ('wielicki', u'wielicki'),\n-    ('warszawa', u'Warszawa'),\n-    ('ostroleka', u'Ostrołęka'),\n-    ('plock', u'Płock'),\n-    ('radom', u'Radom'),\n-    ('siedlce', u'Siedlce'),\n-    ('bialobrzeski', u'białobrzeski'),\n-    ('ciechanowski', u'ciechanowski'),\n-    ('garwolinski', u'garwoliński'),\n-    ('gostyninski', u'gostyniński'),\n-    ('grodziski', u'grodziski'),\n-    ('grojecki', u'grójecki'),\n-    ('kozienicki', u'kozenicki'),\n-    ('legionowski', u'legionowski'),\n-    ('lipski', u'lipski'),\n-    ('losicki', u'łosicki'),\n-    ('makowski', u'makowski'),\n-    ('minski', u'miński'),\n-    ('mlawski', u'mławski'),\n-    ('nowodworski', u'nowodworski'),\n-    ('ostrolecki', u'ostrołęcki'),\n-    ('ostrowski', u'ostrowski'),\n-    ('otwocki', u'otwocki'),\n-    ('piaseczynski', u'piaseczyński'),\n-    ('plocki', u'płocki'),\n-    ('plonski', u'płoński'),\n-    ('pruszkowski', u'pruszkowski'),\n-    ('przasnyski', u'przasnyski'),\n-    ('przysuski', u'przysuski'),\n-    ('pultuski', u'pułtuski'),\n-    ('radomski', u'radomski'),\n-    ('siedlecki', u'siedlecki'),\n-    ('sierpecki', u'sierpecki'),\n-    ('sochaczewski', u'sochaczewski'),\n-    ('sokolowski', u'sokołowski'),\n-    ('szydlowiecki', u'szydłowiecki'),\n-    ('warszawski-zachodni', u'warszawski zachodni'),\n-    ('wegrowski', u'węgrowski'),\n-    ('wolominski', u'wołomiński'),\n-    ('wyszkowski', u'wyszkowski'),\n-    ('zwolenski', u'zwoleński'),\n-    ('zurominski', u'żuromiński'),\n-    ('zyrardowski', u'żyrardowski'),\n-    ('opole', u'Opole'),\n-    ('brzeski', u'brzeski'),\n-    ('glubczycki', u'głubczyski'),\n-    ('kedzierzynsko-kozielski', u'kędzierzyński-kozielski'),\n-    ('kluczborski', u'kluczborski'),\n-    ('krapkowicki', u'krapkowicki'),\n-    ('namyslowski', u'namysłowski'),\n-    ('nyski', u'nyski'),\n-    ('oleski', u'oleski'),\n-    ('opolski', u'opolski'),\n-    ('prudnicki', u'prudnicki'),\n-    ('strzelecki', u'strzelecki'),\n-    ('rzeszow', u'Rzeszów'),\n-    ('krosno', u'Krosno'),\n-    ('przemysl', u'Przemyśl'),\n-    ('tarnobrzeg', u'Tarnobrzeg'),\n-    ('bieszczadzki', u'bieszczadzki'),\n-    ('brzozowski', u'brzozowski'),\n-    ('debicki', u'dębicki'),\n-    ('jaroslawski', u'jarosławski'),\n-    ('jasielski', u'jasielski'),\n-    ('kolbuszowski', u'kolbuszowski'),\n-    ('krosnienski', u'krośnieński'),\n-    ('leski', u'leski'),\n-    ('lezajski', u'leżajski'),\n-    ('lubaczowski', u'lubaczowski'),\n-    ('lancucki', u'łańcucki'),\n-    ('mielecki', u'mielecki'),\n-    ('nizanski', u'niżański'),\n-    ('przemyski', u'przemyski'),\n-    ('przeworski', u'przeworski'),\n-    ('ropczycko-sedziszowski', u'ropczycko-sędziszowski'),\n-    ('rzeszowski', u'rzeszowski'),\n-    ('sanocki', u'sanocki'),\n-    ('stalowowolski', u'stalowowolski'),\n-    ('strzyzowski', u'strzyżowski'),\n-    ('tarnobrzeski', u'tarnobrzeski'),\n-    ('bialystok', u'Białystok'),\n-    ('lomza', u'Łomża'),\n-    ('suwalki', u'Suwałki'),\n-    ('augustowski', u'augustowski'),\n-    ('bialostocki', u'białostocki'),\n-    ('bielski', u'bielski'),\n-    ('grajewski', u'grajewski'),\n-    ('hajnowski', u'hajnowski'),\n-    ('kolnenski', u'kolneński'),\n-    ('łomzynski', u'łomżyński'),\n-    ('moniecki', u'moniecki'),\n-    ('sejnenski', u'sejneński'),\n-    ('siemiatycki', u'siematycki'),\n-    ('sokolski', u'sokólski'),\n-    ('suwalski', u'suwalski'),\n-    ('wysokomazowiecki', u'wysokomazowiecki'),\n-    ('zambrowski', u'zambrowski'),\n-    ('gdansk', u'Gdańsk'),\n-    ('gdynia', u'Gdynia'),\n-    ('slupsk', u'Słupsk'),\n-    ('sopot', u'Sopot'),\n-    ('bytowski', u'bytowski'),\n-    ('chojnicki', u'chojnicki'),\n-    ('czluchowski', u'człuchowski'),\n-    ('kartuski', u'kartuski'),\n-    ('koscierski', u'kościerski'),\n-    ('kwidzynski', u'kwidzyński'),\n-    ('leborski', u'lęborski'),\n-    ('malborski', u'malborski'),\n-    ('nowodworski', u'nowodworski'),\n-    ('gdanski', u'gdański'),\n-    ('pucki', u'pucki'),\n-    ('slupski', u'słupski'),\n-    ('starogardzki', u'starogardzki'),\n-    ('sztumski', u'sztumski'),\n-    ('tczewski', u'tczewski'),\n-    ('wejherowski', u'wejcherowski'),\n-    ('katowice', u'Katowice'),\n-    ('bielsko-biala', u'Bielsko-Biała'),\n-    ('bytom', u'Bytom'),\n-    ('chorzow', u'Chorzów'),\n-    ('czestochowa', u'Częstochowa'),\n-    ('dabrowa-gornicza', u'Dąbrowa Górnicza'),\n-    ('gliwice', u'Gliwice'),\n-    ('jastrzebie-zdroj', u'Jastrzębie Zdrój'),\n-    ('jaworzno', u'Jaworzno'),\n-    ('myslowice', u'Mysłowice'),\n-    ('piekary-slaskie', u'Piekary Śląskie'),\n-    ('ruda-slaska', u'Ruda Śląska'),\n-    ('rybnik', u'Rybnik'),\n-    ('siemianowice-slaskie', u'Siemianowice Śląskie'),\n-    ('sosnowiec', u'Sosnowiec'),\n-    ('swietochlowice', u'Świętochłowice'),\n-    ('tychy', u'Tychy'),\n-    ('zabrze', u'Zabrze'),\n-    ('zory', u'Żory'),\n-    ('bedzinski', u'będziński'),\n-    ('bielski', u'bielski'),\n-    ('bierunsko-ledzinski', u'bieruńsko-lędziński'),\n-    ('cieszynski', u'cieszyński'),\n-    ('czestochowski', u'częstochowski'),\n-    ('gliwicki', u'gliwicki'),\n-    ('klobucki', u'kłobucki'),\n-    ('lubliniecki', u'lubliniecki'),\n-    ('mikolowski', u'mikołowski'),\n-    ('myszkowski', u'myszkowski'),\n-    ('pszczynski', u'pszczyński'),\n-    ('raciborski', u'raciborski'),\n-    ('rybnicki', u'rybnicki'),\n-    ('tarnogorski', u'tarnogórski'),\n-    ('wodzislawski', u'wodzisławski'),\n-    ('zawiercianski', u'zawierciański'),\n-    ('zywiecki', u'żywiecki'),\n-    ('kielce', u'Kielce'),\n-    ('buski', u'buski'),\n-    ('jedrzejowski', u'jędrzejowski'),\n-    ('kazimierski', u'kazimierski'),\n-    ('kielecki', u'kielecki'),\n-    ('konecki', u'konecki'),\n-    ('opatowski', u'opatowski'),\n-    ('ostrowiecki', u'ostrowiecki'),\n-    ('pinczowski', u'pińczowski'),\n-    ('sandomierski', u'sandomierski'),\n-    ('skarzyski', u'skarżyski'),\n-    ('starachowicki', u'starachowicki'),\n-    ('staszowski', u'staszowski'),\n-    ('wloszczowski', u'włoszczowski'),\n-    ('olsztyn', u'Olsztyn'),\n-    ('elblag', u'Elbląg'),\n-    ('bartoszycki', u'bartoszycki'),\n-    ('braniewski', u'braniewski'),\n-    ('dzialdowski', u'działdowski'),\n-    ('elblaski', u'elbląski'),\n-    ('elcki', u'ełcki'),\n-    ('gizycki', u'giżycki'),\n-    ('goldapski', u'gołdapski'),\n-    ('ilawski', u'iławski'),\n-    ('ketrzynski', u'kętrzyński'),\n-    ('lidzbarski', u'lidzbarski'),\n-    ('mragowski', u'mrągowski'),\n-    ('nidzicki', u'nidzicki'),\n-    ('nowomiejski', u'nowomiejski'),\n-    ('olecki', u'olecki'),\n-    ('olsztynski', u'olsztyński'),\n-    ('ostrodzki', u'ostródzki'),\n-    ('piski', u'piski'),\n-    ('szczycienski', u'szczycieński'),\n-    ('wegorzewski', u'węgorzewski'),\n-    ('poznan', u'Poznań'),\n-    ('kalisz', u'Kalisz'),\n-    ('konin', u'Konin'),\n-    ('leszno', u'Leszno'),\n-    ('chodzieski', u'chodziejski'),\n-    ('czarnkowsko-trzcianecki', u'czarnkowsko-trzcianecki'),\n-    ('gnieznienski', u'gnieźnieński'),\n-    ('gostynski', u'gostyński'),\n-    ('grodziski', u'grodziski'),\n-    ('jarocinski', u'jarociński'),\n-    ('kaliski', u'kaliski'),\n-    ('kepinski', u'kępiński'),\n-    ('kolski', u'kolski'),\n-    ('koninski', u'koniński'),\n-    ('koscianski', u'kościański'),\n-    ('krotoszynski', u'krotoszyński'),\n-    ('leszczynski', u'leszczyński'),\n-    ('miedzychodzki', u'międzychodzki'),\n-    ('nowotomyski', u'nowotomyski'),\n-    ('obornicki', u'obornicki'),\n-    ('ostrowski', u'ostrowski'),\n-    ('ostrzeszowski', u'ostrzeszowski'),\n-    ('pilski', u'pilski'),\n-    ('pleszewski', u'pleszewski'),\n-    ('poznanski', u'poznański'),\n-    ('rawicki', u'rawicki'),\n-    ('slupecki', u'słupecki'),\n-    ('szamotulski', u'szamotulski'),\n-    ('sredzki', u'średzki'),\n-    ('sremski', u'śremski'),\n-    ('turecki', u'turecki'),\n-    ('wagrowiecki', u'wągrowiecki'),\n-    ('wolsztynski', u'wolsztyński'),\n-    ('wrzesinski', u'wrzesiński'),\n-    ('zlotowski', u'złotowski'),\n-    ('bialogardzki', u'białogardzki'),\n-    ('choszczenski', u'choszczeński'),\n-    ('drawski', u'drawski'),\n-    ('goleniowski', u'goleniowski'),\n-    ('gryficki', u'gryficki'),\n-    ('gryfinski', u'gryfiński'),\n-    ('kamienski', u'kamieński'),\n-    ('kolobrzeski', u'kołobrzeski'),\n-    ('koszalinski', u'koszaliński'),\n-    ('lobeski', u'łobeski'),\n-    ('mysliborski', u'myśliborski'),\n-    ('policki', u'policki'),\n-    ('pyrzycki', u'pyrzycki'),\n-    ('slawienski', u'sławieński'),\n-    ('stargardzki', u'stargardzki'),\n-    ('szczecinecki', u'szczecinecki'),\n-    ('swidwinski', u'świdwiński'),\n-    ('walecki', u'wałecki'),\n+    ('wroclaw', 'Wrocław'),\n+    ('jeleniagora', 'Jelenia Góra'),\n+    ('legnica', 'Legnica'),\n+    ('boleslawiecki', 'bolesławiecki'),\n+    ('dzierzoniowski', 'dzierżoniowski'),\n+    ('glogowski', 'głogowski'),\n+    ('gorowski', 'górowski'),\n+    ('jaworski', 'jaworski'),\n+    ('jeleniogorski', 'jeleniogórski'),\n+    ('kamiennogorski', 'kamiennogórski'),\n+    ('klodzki', 'kłodzki'),\n+    ('legnicki', 'legnicki'),\n+    ('lubanski', 'lubański'),\n+    ('lubinski', 'lubiński'),\n+    ('lwowecki', 'lwówecki'),\n+    ('milicki', 'milicki'),\n+    ('olesnicki', 'oleśnicki'),\n+    ('olawski', 'oławski'),\n+    ('polkowicki', 'polkowicki'),\n+    ('strzelinski', 'strzeliński'),\n+    ('sredzki', 'średzki'),\n+    ('swidnicki', 'świdnicki'),\n+    ('trzebnicki', 'trzebnicki'),\n+    ('walbrzyski', 'wałbrzyski'),\n+    ('wolowski', 'wołowski'),\n+    ('wroclawski', 'wrocławski'),\n+    ('zabkowicki', 'ząbkowicki'),\n+    ('zgorzelecki', 'zgorzelecki'),\n+    ('zlotoryjski', 'złotoryjski'),\n+    ('bydgoszcz', 'Bydgoszcz'),\n+    ('torun', 'Toruń'),\n+    ('wloclawek', 'Włocławek'),\n+    ('grudziadz', 'Grudziądz'),\n+    ('aleksandrowski', 'aleksandrowski'),\n+    ('brodnicki', 'brodnicki'),\n+    ('bydgoski', 'bydgoski'),\n+    ('chelminski', 'chełmiński'),\n+    ('golubsko-dobrzynski', 'golubsko-dobrzyński'),\n+    ('grudziadzki', 'grudziądzki'),\n+    ('inowroclawski', 'inowrocławski'),\n+    ('lipnowski', 'lipnowski'),\n+    ('mogilenski', 'mogileński'),\n+    ('nakielski', 'nakielski'),\n+    ('radziejowski', 'radziejowski'),\n+    ('rypinski', 'rypiński'),\n+    ('sepolenski', 'sępoleński'),\n+    ('swiecki', 'świecki'),\n+    ('torunski', 'toruński'),\n+    ('tucholski', 'tucholski'),\n+    ('wabrzeski', 'wąbrzeski'),\n+    ('wloclawski', 'wrocławski'),\n+    ('zninski', 'źniński'),\n+    ('lublin', 'Lublin'),\n+    ('biala-podlaska', 'Biała Podlaska'),\n+    ('chelm', 'Chełm'),\n+    ('zamosc', 'Zamość'),\n+    ('bialski', 'bialski'),\n+    ('bilgorajski', 'biłgorajski'),\n+    ('chelmski', 'chełmski'),\n+    ('hrubieszowski', 'hrubieszowski'),\n+    ('janowski', 'janowski'),\n+    ('krasnostawski', 'krasnostawski'),\n+    ('krasnicki', 'kraśnicki'),\n+    ('lubartowski', 'lubartowski'),\n+    ('lubelski', 'lubelski'),\n+    ('leczynski', 'łęczyński'),\n+    ('lukowski', 'łukowski'),\n+    ('opolski', 'opolski'),\n+    ('parczewski', 'parczewski'),\n+    ('pulawski', 'puławski'),\n+    ('radzynski', 'radzyński'),\n+    ('rycki', 'rycki'),\n+    ('swidnicki', 'świdnicki'),\n+    ('tomaszowski', 'tomaszowski'),\n+    ('wlodawski', 'włodawski'),\n+    ('zamojski', 'zamojski'),\n+    ('gorzow-wielkopolski', 'Gorzów Wielkopolski'),\n+    ('zielona-gora', 'Zielona Góra'),\n+    ('gorzowski', 'gorzowski'),\n+    ('krosnienski', 'krośnieński'),\n+    ('miedzyrzecki', 'międzyrzecki'),\n+    ('nowosolski', 'nowosolski'),\n+    ('slubicki', 'słubicki'),\n+    ('strzelecko-drezdenecki', 'strzelecko-drezdenecki'),\n+    ('sulecinski', 'suleńciński'),\n+    ('swiebodzinski', 'świebodziński'),\n+    ('wschowski', 'wschowski'),\n+    ('zielonogorski', 'zielonogórski'),\n+    ('zaganski', 'żagański'),\n+    ('zarski', 'żarski'),\n+    ('lodz', 'Łódź'),\n+    ('piotrkow-trybunalski', 'Piotrków Trybunalski'),\n+    ('skierniewice', 'Skierniewice'),\n+    ('belchatowski', 'bełchatowski'),\n+    ('brzezinski', 'brzeziński'),\n+    ('kutnowski', 'kutnowski'),\n+    ('laski', 'łaski'),\n+    ('leczycki', 'łęczycki'),\n+    ('lowicki', 'łowicki'),\n+    ('lodzki wschodni', 'łódzki wschodni'),\n+    ('opoczynski', 'opoczyński'),\n+    ('pabianicki', 'pabianicki'),\n+    ('pajeczanski', 'pajęczański'),\n+    ('piotrkowski', 'piotrkowski'),\n+    ('poddebicki', 'poddębicki'),\n+    ('radomszczanski', 'radomszczański'),\n+    ('rawski', 'rawski'),\n+    ('sieradzki', 'sieradzki'),\n+    ('skierniewicki', 'skierniewicki'),\n+    ('tomaszowski', 'tomaszowski'),\n+    ('wielunski', 'wieluński'),\n+    ('wieruszowski', 'wieruszowski'),\n+    ('zdunskowolski', 'zduńskowolski'),\n+    ('zgierski', 'zgierski'),\n+    ('krakow', 'Kraków'),\n+    ('tarnow', 'Tarnów'),\n+    ('nowy-sacz', 'Nowy Sącz'),\n+    ('bochenski', 'bocheński'),\n+    ('brzeski', 'brzeski'),\n+    ('chrzanowski', 'chrzanowski'),\n+    ('dabrowski', 'dąbrowski'),\n+    ('gorlicki', 'gorlicki'),\n+    ('krakowski', 'krakowski'),\n+    ('limanowski', 'limanowski'),\n+    ('miechowski', 'miechowski'),\n+    ('myslenicki', 'myślenicki'),\n+    ('nowosadecki', 'nowosądecki'),\n+    ('nowotarski', 'nowotarski'),\n+    ('olkuski', 'olkuski'),\n+    ('oswiecimski', 'oświęcimski'),\n+    ('proszowicki', 'proszowicki'),\n+    ('suski', 'suski'),\n+    ('tarnowski', 'tarnowski'),\n+    ('tatrzanski', 'tatrzański'),\n+    ('wadowicki', 'wadowicki'),\n+    ('wielicki', 'wielicki'),\n+    ('warszawa', 'Warszawa'),\n+    ('ostroleka', 'Ostrołęka'),\n+    ('plock', 'Płock'),\n+    ('radom', 'Radom'),\n+    ('siedlce', 'Siedlce'),\n+    ('bialobrzeski', 'białobrzeski'),\n+    ('ciechanowski', 'ciechanowski'),\n+    ('garwolinski', 'garwoliński'),\n+    ('gostyninski', 'gostyniński'),\n+    ('grodziski', 'grodziski'),\n+    ('grojecki', 'grójecki'),\n+    ('kozienicki', 'kozenicki'),\n+    ('legionowski', 'legionowski'),\n+    ('lipski', 'lipski'),\n+    ('losicki', 'łosicki'),\n+    ('makowski', 'makowski'),\n+    ('minski', 'miński'),\n+    ('mlawski', 'mławski'),\n+    ('nowodworski', 'nowodworski'),\n+    ('ostrolecki', 'ostrołęcki'),\n+    ('ostrowski', 'ostrowski'),\n+    ('otwocki', 'otwocki'),\n+    ('piaseczynski', 'piaseczyński'),\n+    ('plocki', 'płocki'),\n+    ('plonski', 'płoński'),\n+    ('pruszkowski', 'pruszkowski'),\n+    ('przasnyski', 'przasnyski'),\n+    ('przysuski', 'przysuski'),\n+    ('pultuski', 'pułtuski'),\n+    ('radomski', 'radomski'),\n+    ('siedlecki', 'siedlecki'),\n+    ('sierpecki', 'sierpecki'),\n+    ('sochaczewski', 'sochaczewski'),\n+    ('sokolowski', 'sokołowski'),\n+    ('szydlowiecki', 'szydłowiecki'),\n+    ('warszawski-zachodni', 'warszawski zachodni'),\n+    ('wegrowski', 'węgrowski'),\n+    ('wolominski', 'wołomiński'),\n+    ('wyszkowski', 'wyszkowski'),\n+    ('zwolenski', 'zwoleński'),\n+    ('zurominski', 'żuromiński'),\n+    ('zyrardowski', 'żyrardowski'),\n+    ('opole', 'Opole'),\n+    ('brzeski', 'brzeski'),\n+    ('glubczycki', 'głubczyski'),\n+    ('kedzierzynsko-kozielski', 'kędzierzyński-kozielski'),\n+    ('kluczborski', 'kluczborski'),\n+    ('krapkowicki', 'krapkowicki'),\n+    ('namyslowski', 'namysłowski'),\n+    ('nyski', 'nyski'),\n+    ('oleski', 'oleski'),\n+    ('opolski', 'opolski'),\n+    ('prudnicki', 'prudnicki'),\n+    ('strzelecki', 'strzelecki'),\n+    ('rzeszow', 'Rzeszów'),\n+    ('krosno', 'Krosno'),\n+    ('przemysl', 'Przemyśl'),\n+    ('tarnobrzeg', 'Tarnobrzeg'),\n+    ('bieszczadzki', 'bieszczadzki'),\n+    ('brzozowski', 'brzozowski'),\n+    ('debicki', 'dębicki'),\n+    ('jaroslawski', 'jarosławski'),\n+    ('jasielski', 'jasielski'),\n+    ('kolbuszowski', 'kolbuszowski'),\n+    ('krosnienski', 'krośnieński'),\n+    ('leski', 'leski'),\n+    ('lezajski', 'leżajski'),\n+    ('lubaczowski', 'lubaczowski'),\n+    ('lancucki', 'łańcucki'),\n+    ('mielecki', 'mielecki'),\n+    ('nizanski', 'niżański'),\n+    ('przemyski', 'przemyski'),\n+    ('przeworski', 'przeworski'),\n+    ('ropczycko-sedziszowski', 'ropczycko-sędziszowski'),\n+    ('rzeszowski', 'rzeszowski'),\n+    ('sanocki', 'sanocki'),\n+    ('stalowowolski', 'stalowowolski'),\n+    ('strzyzowski', 'strzyżowski'),\n+    ('tarnobrzeski', 'tarnobrzeski'),\n+    ('bialystok', 'Białystok'),\n+    ('lomza', 'Łomża'),\n+    ('suwalki', 'Suwałki'),\n+    ('augustowski', 'augustowski'),\n+    ('bialostocki', 'białostocki'),\n+    ('bielski', 'bielski'),\n+    ('grajewski', 'grajewski'),\n+    ('hajnowski', 'hajnowski'),\n+    ('kolnenski', 'kolneński'),\n+    ('łomzynski', 'łomżyński'),\n+    ('moniecki', 'moniecki'),\n+    ('sejnenski', 'sejneński'),\n+    ('siemiatycki', 'siematycki'),\n+    ('sokolski', 'sokólski'),\n+    ('suwalski', 'suwalski'),\n+    ('wysokomazowiecki', 'wysokomazowiecki'),\n+    ('zambrowski', 'zambrowski'),\n+    ('gdansk', 'Gdańsk'),\n+    ('gdynia', 'Gdynia'),\n+    ('slupsk', 'Słupsk'),\n+    ('sopot', 'Sopot'),\n+    ('bytowski', 'bytowski'),\n+    ('chojnicki', 'chojnicki'),\n+    ('czluchowski', 'człuchowski'),\n+    ('kartuski', 'kartuski'),\n+    ('koscierski', 'kościerski'),\n+    ('kwidzynski', 'kwidzyński'),\n+    ('leborski', 'lęborski'),\n+    ('malborski', 'malborski'),\n+    ('nowodworski', 'nowodworski'),\n+    ('gdanski', 'gdański'),\n+    ('pucki', 'pucki'),\n+    ('slupski', 'słupski'),\n+    ('starogardzki', 'starogardzki'),\n+    ('sztumski', 'sztumski'),\n+    ('tczewski', 'tczewski'),\n+    ('wejherowski', 'wejcherowski'),\n+    ('katowice', 'Katowice'),\n+    ('bielsko-biala', 'Bielsko-Biała'),\n+    ('bytom', 'Bytom'),\n+    ('chorzow', 'Chorzów'),\n+    ('czestochowa', 'Częstochowa'),\n+    ('dabrowa-gornicza', 'Dąbrowa Górnicza'),\n+    ('gliwice', 'Gliwice'),\n+    ('jastrzebie-zdroj', 'Jastrzębie Zdrój'),\n+    ('jaworzno', 'Jaworzno'),\n+    ('myslowice', 'Mysłowice'),\n+    ('piekary-slaskie', 'Piekary Śląskie'),\n+    ('ruda-slaska', 'Ruda Śląska'),\n+    ('rybnik', 'Rybnik'),\n+    ('siemianowice-slaskie', 'Siemianowice Śląskie'),\n+    ('sosnowiec', 'Sosnowiec'),\n+    ('swietochlowice', 'Świętochłowice'),\n+    ('tychy', 'Tychy'),\n+    ('zabrze', 'Zabrze'),\n+    ('zory', 'Żory'),\n+    ('bedzinski', 'będziński'),\n+    ('bielski', 'bielski'),\n+    ('bierunsko-ledzinski', 'bieruńsko-lędziński'),\n+    ('cieszynski', 'cieszyński'),\n+    ('czestochowski', 'częstochowski'),\n+    ('gliwicki', 'gliwicki'),\n+    ('klobucki', 'kłobucki'),\n+    ('lubliniecki', 'lubliniecki'),\n+    ('mikolowski', 'mikołowski'),\n+    ('myszkowski', 'myszkowski'),\n+    ('pszczynski', 'pszczyński'),\n+    ('raciborski', 'raciborski'),\n+    ('rybnicki', 'rybnicki'),\n+    ('tarnogorski', 'tarnogórski'),\n+    ('wodzislawski', 'wodzisławski'),\n+    ('zawiercianski', 'zawierciański'),\n+    ('zywiecki', 'żywiecki'),\n+    ('kielce', 'Kielce'),\n+    ('buski', 'buski'),\n+    ('jedrzejowski', 'jędrzejowski'),\n+    ('kazimierski', 'kazimierski'),\n+    ('kielecki', 'kielecki'),\n+    ('konecki', 'konecki'),\n+    ('opatowski', 'opatowski'),\n+    ('ostrowiecki', 'ostrowiecki'),\n+    ('pinczowski', 'pińczowski'),\n+    ('sandomierski', 'sandomierski'),\n+    ('skarzyski', 'skarżyski'),\n+    ('starachowicki', 'starachowicki'),\n+    ('staszowski', 'staszowski'),\n+    ('wloszczowski', 'włoszczowski'),\n+    ('olsztyn', 'Olsztyn'),\n+    ('elblag', 'Elbląg'),\n+    ('bartoszycki', 'bartoszycki'),\n+    ('braniewski', 'braniewski'),\n+    ('dzialdowski', 'działdowski'),\n+    ('elblaski', 'elbląski'),\n+    ('elcki', 'ełcki'),\n+    ('gizycki', 'giżycki'),\n+    ('goldapski', 'gołdapski'),\n+    ('ilawski', 'iławski'),\n+    ('ketrzynski', 'kętrzyński'),\n+    ('lidzbarski', 'lidzbarski'),\n+    ('mragowski', 'mrągowski'),\n+    ('nidzicki', 'nidzicki'),\n+    ('nowomiejski', 'nowomiejski'),\n+    ('olecki', 'olecki'),\n+    ('olsztynski', 'olsztyński'),\n+    ('ostrodzki', 'ostródzki'),\n+    ('piski', 'piski'),\n+    ('szczycienski', 'szczycieński'),\n+    ('wegorzewski', 'węgorzewski'),\n+    ('poznan', 'Poznań'),\n+    ('kalisz', 'Kalisz'),\n+    ('konin', 'Konin'),\n+    ('leszno', 'Leszno'),\n+    ('chodzieski', 'chodziejski'),\n+    ('czarnkowsko-trzcianecki', 'czarnkowsko-trzcianecki'),\n+    ('gnieznienski', 'gnieźnieński'),\n+    ('gostynski', 'gostyński'),\n+    ('grodziski', 'grodziski'),\n+    ('jarocinski', 'jarociński'),\n+    ('kaliski', 'kaliski'),\n+    ('kepinski', 'kępiński'),\n+    ('kolski', 'kolski'),\n+    ('koninski', 'koniński'),\n+    ('koscianski', 'kościański'),\n+    ('krotoszynski', 'krotoszyński'),\n+    ('leszczynski', 'leszczyński'),\n+    ('miedzychodzki', 'międzychodzki'),\n+    ('nowotomyski', 'nowotomyski'),\n+    ('obornicki', 'obornicki'),\n+    ('ostrowski', 'ostrowski'),\n+    ('ostrzeszowski', 'ostrzeszowski'),\n+    ('pilski', 'pilski'),\n+    ('pleszewski', 'pleszewski'),\n+    ('poznanski', 'poznański'),\n+    ('rawicki', 'rawicki'),\n+    ('slupecki', 'słupecki'),\n+    ('szamotulski', 'szamotulski'),\n+    ('sredzki', 'średzki'),\n+    ('sremski', 'śremski'),\n+    ('turecki', 'turecki'),\n+    ('wagrowiecki', 'wągrowiecki'),\n+    ('wolsztynski', 'wolsztyński'),\n+    ('wrzesinski', 'wrzesiński'),\n+    ('zlotowski', 'złotowski'),\n+    ('bialogardzki', 'białogardzki'),\n+    ('choszczenski', 'choszczeński'),\n+    ('drawski', 'drawski'),\n+    ('goleniowski', 'goleniowski'),\n+    ('gryficki', 'gryficki'),\n+    ('gryfinski', 'gryfiński'),\n+    ('kamienski', 'kamieński'),\n+    ('kolobrzeski', 'kołobrzeski'),\n+    ('koszalinski', 'koszaliński'),\n+    ('lobeski', 'łobeski'),\n+    ('mysliborski', 'myśliborski'),\n+    ('policki', 'policki'),\n+    ('pyrzycki', 'pyrzycki'),\n+    ('slawienski', 'sławieński'),\n+    ('stargardzki', 'stargardzki'),\n+    ('szczecinecki', 'szczecinecki'),\n+    ('swidwinski', 'świdwiński'),\n+    ('walecki', 'wałecki'),\n )\n "
        },
        {
            "sha": "b27fb577bd72dc83acd771e698f42abfece502b4",
            "filename": "django/contrib/localflavor/pt/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpt%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpt%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpt%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,8 @@\n \"\"\"\n PT-specific Form helpers\n \"\"\"\n+from __future__ import unicode_literals\n+\n import re\n \n from django.core.validators import EMPTY_VALUES\n@@ -24,7 +26,7 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def clean(self,value):\n         cleaned = super(PTZipCodeField, self).clean(value)\n         if len(cleaned) == 7:\n-           return u'%s-%s' % (cleaned[:4],cleaned[4:])\n+           return '%s-%s' % (cleaned[:4],cleaned[4:])\n         else:\n            return cleaned\n         \n@@ -40,9 +42,9 @@ class PTPhoneNumberField(Field):\n     def clean(self, value):\n         super(PTPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\.|\\s)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s' % value\n+            return '%s' % value\n         raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "619bae3edb7d8abc1e45b6dbcb12ef693fc1e9cd",
            "filename": "django/contrib/localflavor/py/py_department.py",
            "status": "modified",
            "additions": 37,
            "deletions": 36,
            "changes": 73,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpy%2Fpy_department.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fpy%2Fpy_department.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fpy%2Fpy_department.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,45 +1,46 @@\n # -*- coding: utf-8 -*-\n \n # http://www.statoids.com/upy.html\n+from __future__ import unicode_literals\n \n DEPARTMENT_CHOICES = (\n-    ('AG', u'Alto Paraguay'),\n-    ('AA', u'Alto Paraná'),\n-    ('AM', u'Amambay'),\n-    ('AS', u'Asunción'),\n-    ('BQ', u'Boquerón'),\n-    ('CG', u'Caaguazú'),\n-    ('CZ', u'Caazapá'),\n-    ('CY', u'Canindeyú'),\n-    ('CE', u'Central'),\n-    ('CN', u'Concepción'),\n-    ('CR', u'Cordillera'),\n-    ('GU', u'Guairá'),\n-    ('IT', u'Itapúa'),\n-    ('MI', u'Misiones'),\n-    ('NE', u'Ñeembucú'),\n-    ('PG', u'Paraguarí'),\n-    ('PH', u'Pdte. Hayes'),\n-    ('SP', u'San Pedro'),\n+    ('AG', 'Alto Paraguay'),\n+    ('AA', 'Alto Paraná'),\n+    ('AM', 'Amambay'),\n+    ('AS', 'Asunción'),\n+    ('BQ', 'Boquerón'),\n+    ('CG', 'Caaguazú'),\n+    ('CZ', 'Caazapá'),\n+    ('CY', 'Canindeyú'),\n+    ('CE', 'Central'),\n+    ('CN', 'Concepción'),\n+    ('CR', 'Cordillera'),\n+    ('GU', 'Guairá'),\n+    ('IT', 'Itapúa'),\n+    ('MI', 'Misiones'),\n+    ('NE', 'Ñeembucú'),\n+    ('PG', 'Paraguarí'),\n+    ('PH', 'Pdte. Hayes'),\n+    ('SP', 'San Pedro'),\n )\n \n DEPARTMENT_ROMAN_CHOICES = (\n-    ('CN', u'I Concepción'),\n-    ('SP', u'II San Pedro'),\n-    ('CR', u'III Cordillera'),\n-    ('GU', u'IV Guairá'),\n-    ('CG', u'V Caaguazú'),\n-    ('CZ', u'VI Caazapá'),\n-    ('IT', u'VII Itapúa'),\n-    ('MI', u'VIII Misiones'),\n-    ('PG', u'IX Paraguarí'),\n-    ('AA', u'X Alto Paraná'),\n-    ('CE', u'XI Central'),\n-    ('NE', u'XII Ñeembucú'),\n-    ('AM', u'XIII Amambay'),\n-    ('CY', u'XIV Canindeyú'),\n-    ('PH', u'XV Pdte. Hayes'),\n-    ('AG', u'XVI Alto Paraguay'),\n-    ('BQ', u'XVII Boquerón'),\n-    ('AS', u'XVIII Asunción'),\n+    ('CN', 'I Concepción'),\n+    ('SP', 'II San Pedro'),\n+    ('CR', 'III Cordillera'),\n+    ('GU', 'IV Guairá'),\n+    ('CG', 'V Caaguazú'),\n+    ('CZ', 'VI Caazapá'),\n+    ('IT', 'VII Itapúa'),\n+    ('MI', 'VIII Misiones'),\n+    ('PG', 'IX Paraguarí'),\n+    ('AA', 'X Alto Paraná'),\n+    ('CE', 'XI Central'),\n+    ('NE', 'XII Ñeembucú'),\n+    ('AM', 'XIII Amambay'),\n+    ('CY', 'XIV Canindeyú'),\n+    ('PH', 'XV Pdte. Hayes'),\n+    ('AG', 'XVI Alto Paraguay'),\n+    ('BQ', 'XVII Boquerón'),\n+    ('AS', 'XVIII Asunción'),\n )"
        },
        {
            "sha": "bdbed5c476c3122f052e80d3e760dda675ee3fb3",
            "filename": "django/contrib/localflavor/ro/forms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n \"\"\"\n Romanian specific form helpers.\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.localflavor.ro.ro_counties import COUNTIES_CHOICES\n from django.core.validators import EMPTY_VALUES\n@@ -30,7 +30,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ROCIFField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         # strip RO part\n         if value[0:2] == 'RO':\n             value = value[2:]\n@@ -67,7 +67,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ROCNPField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         # check birthdate digits\n         import datetime\n         try:\n@@ -100,13 +100,13 @@ class ROCountyField(Field):\n         Arges => invalid\n     \"\"\"\n     default_error_messages = {\n-        'invalid': u'Enter a Romanian county code or name.',\n+        'invalid': 'Enter a Romanian county code or name.',\n     }\n \n     def clean(self, value):\n         super(ROCountyField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         try:\n             value = value.strip().upper()\n         except AttributeError:\n@@ -152,7 +152,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ROIBANField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = value.replace('-','')\n         value = value.replace(' ','')\n         value = value.upper()\n@@ -184,7 +184,7 @@ def clean(self, value):\n         \"\"\"\n         value = super(ROPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = value.replace('-','')\n         value = value.replace('(','')\n         value = value.replace(')','')"
        },
        {
            "sha": "282cfc519379f9bd3fe8bcd458598e4f6b8b5231",
            "filename": "django/contrib/localflavor/ro/ro_counties.py",
            "status": "modified",
            "additions": 43,
            "deletions": 42,
            "changes": 85,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fro%2Fro_counties.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fro%2Fro_counties.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fro%2Fro_counties.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,48 +5,49 @@\n This exists as a standalone file so that it's only imported into memory when\n explicitly needed.\n \"\"\"\n+from __future__ import unicode_literals\n \n COUNTIES_CHOICES = (\n-    ('AB', u'Alba'),\n-    ('AR', u'Arad'),\n-    ('AG', u'Argeş'),\n-    ('BC', u'Bacău'),\n-    ('BH', u'Bihor'),\n-    ('BN', u'Bistriţa-Năsăud'),\n-    ('BT', u'Botoşani'),\n-    ('BV', u'Braşov'),\n-    ('BR', u'Brăila'),\n-    ('B',  u'Bucureşti'),\n-    ('BZ', u'Buzău'),\n-    ('CS', u'Caraş-Severin'),\n-    ('CL', u'Călăraşi'),\n-    ('CJ', u'Cluj'),\n-    ('CT', u'Constanţa'),\n-    ('CV', u'Covasna'),\n-    ('DB', u'Dâmboviţa'),\n-    ('DJ', u'Dolj'),\n-    ('GL', u'Galaţi'),\n-    ('GR', u'Giurgiu'),\n-    ('GJ', u'Gorj'),\n-    ('HR', u'Harghita'),\n-    ('HD', u'Hunedoara'),\n-    ('IL', u'Ialomiţa'),\n-    ('IS', u'Iaşi'),\n-    ('IF', u'Ilfov'),\n-    ('MM', u'Maramureş'),\n-    ('MH', u'Mehedinţi'),\n-    ('MS', u'Mureş'),\n-    ('NT', u'Neamţ'),\n-    ('OT', u'Olt'),\n-    ('PH', u'Prahova'),\n-    ('SM', u'Satu Mare'),\n-    ('SJ', u'Sălaj'),\n-    ('SB', u'Sibiu'),\n-    ('SV', u'Suceava'),\n-    ('TR', u'Teleorman'),\n-    ('TM', u'Timiş'),\n-    ('TL', u'Tulcea'),\n-    ('VS', u'Vaslui'),\n-    ('VL', u'Vâlcea'),\n-    ('VN', u'Vrancea'),\n+    ('AB', 'Alba'),\n+    ('AR', 'Arad'),\n+    ('AG', 'Argeş'),\n+    ('BC', 'Bacău'),\n+    ('BH', 'Bihor'),\n+    ('BN', 'Bistriţa-Năsăud'),\n+    ('BT', 'Botoşani'),\n+    ('BV', 'Braşov'),\n+    ('BR', 'Brăila'),\n+    ('B',  'Bucureşti'),\n+    ('BZ', 'Buzău'),\n+    ('CS', 'Caraş-Severin'),\n+    ('CL', 'Călăraşi'),\n+    ('CJ', 'Cluj'),\n+    ('CT', 'Constanţa'),\n+    ('CV', 'Covasna'),\n+    ('DB', 'Dâmboviţa'),\n+    ('DJ', 'Dolj'),\n+    ('GL', 'Galaţi'),\n+    ('GR', 'Giurgiu'),\n+    ('GJ', 'Gorj'),\n+    ('HR', 'Harghita'),\n+    ('HD', 'Hunedoara'),\n+    ('IL', 'Ialomiţa'),\n+    ('IS', 'Iaşi'),\n+    ('IF', 'Ilfov'),\n+    ('MM', 'Maramureş'),\n+    ('MH', 'Mehedinţi'),\n+    ('MS', 'Mureş'),\n+    ('NT', 'Neamţ'),\n+    ('OT', 'Olt'),\n+    ('PH', 'Prahova'),\n+    ('SM', 'Satu Mare'),\n+    ('SJ', 'Sălaj'),\n+    ('SB', 'Sibiu'),\n+    ('SV', 'Suceava'),\n+    ('TR', 'Teleorman'),\n+    ('TM', 'Timiş'),\n+    ('TL', 'Tulcea'),\n+    ('VS', 'Vaslui'),\n+    ('VL', 'Vâlcea'),\n+    ('VN', 'Vrancea'),\n )"
        },
        {
            "sha": "03114d0629a09ec9e98bee7a1e2baa1ed2b55fe9",
            "filename": "django/contrib/localflavor/ru/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fru%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fru%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fru%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,7 +1,7 @@\n \"\"\"\n Russian-specific forms helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -34,7 +34,7 @@ class RUPostalCodeField(RegexField):\n     Format: XXXXXX, where X is any digit, and first digit is not zero.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXXXXX.'),\n+        'invalid': _('Enter a postal code in the format XXXXXX.'),\n     }\n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n         super(RUPostalCodeField, self).__init__(r'^\\d{6}$',\n@@ -47,7 +47,7 @@ class RUPassportNumberField(RegexField):\n     XXXX XXXXXX where X - any digit.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a passport number in the format XXXX XXXXXX.'),\n+        'invalid': _('Enter a passport number in the format XXXX XXXXXX.'),\n     }\n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n         super(RUPassportNumberField, self).__init__(r'^\\d{4} \\d{6}$',\n@@ -60,7 +60,7 @@ class RUAlienPassportNumberField(RegexField):\n     XX XXXXXXX where X - any digit.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a passport number in the format XX XXXXXXX.'),\n+        'invalid': _('Enter a passport number in the format XX XXXXXXX.'),\n     }\n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n         super(RUAlienPassportNumberField, self).__init__(r'^\\d{2} \\d{7}$',"
        },
        {
            "sha": "43d06a08ec59a78e488f8aaae913d4312923e619",
            "filename": "django/contrib/localflavor/se/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fse%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fse%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fse%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n \"\"\"\n Swedish specific Form helpers\n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -58,7 +58,7 @@ def clean(self, value):\n         value = super(SEOrganisationNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = SWEDISH_ID_NUMBER.match(value)\n         if not match:\n@@ -116,7 +116,7 @@ def clean(self, value):\n         value = super(SEPersonalIdentityNumberField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         match = SWEDISH_ID_NUMBER.match(value)\n         if match is None:"
        },
        {
            "sha": "20090d3b30029322bfc7c6a54b776f17fcd35c6b",
            "filename": "django/contrib/localflavor/se/se_counties.py",
            "status": "modified",
            "additions": 22,
            "deletions": 21,
            "changes": 43,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fse%2Fse_counties.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fse%2Fse_counties.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fse%2Fse_counties.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -8,29 +8,30 @@\n when explicitly needed.\n \n \"\"\"\n+from __future__ import unicode_literals\n \n from django.utils.translation import ugettext_lazy as _\n \n COUNTY_CHOICES = (\n-    ('AB', _(u'Stockholm')),\n-    ('AC', _(u'Västerbotten')),\n-    ('BD', _(u'Norrbotten')),\n-    ('C', _(u'Uppsala')),\n-    ('D', _(u'Södermanland')),\n-    ('E', _(u'Östergötland')),\n-    ('F', _(u'Jönköping')),\n-    ('G', _(u'Kronoberg')),\n-    ('H', _(u'Kalmar')),\n-    ('I', _(u'Gotland')),\n-    ('K', _(u'Blekinge')),\n-    ('M', _(u'Skåne')),\n-    ('N', _(u'Halland')),\n-    ('O', _(u'Västra Götaland')),\n-    ('S', _(u'Värmland')),\n-    ('T', _(u'Örebro')),\n-    ('U', _(u'Västmanland')),\n-    ('W', _(u'Dalarna')),\n-    ('X', _(u'Gävleborg')),\n-    ('Y', _(u'Västernorrland')),\n-    ('Z', _(u'Jämtland')),\n+    ('AB', _('Stockholm')),\n+    ('AC', _('Västerbotten')),\n+    ('BD', _('Norrbotten')),\n+    ('C', _('Uppsala')),\n+    ('D', _('Södermanland')),\n+    ('E', _('Östergötland')),\n+    ('F', _('Jönköping')),\n+    ('G', _('Kronoberg')),\n+    ('H', _('Kalmar')),\n+    ('I', _('Gotland')),\n+    ('K', _('Blekinge')),\n+    ('M', _('Skåne')),\n+    ('N', _('Halland')),\n+    ('O', _('Västra Götaland')),\n+    ('S', _('Värmland')),\n+    ('T', _('Örebro')),\n+    ('U', _('Västmanland')),\n+    ('W', _('Dalarna')),\n+    ('X', _('Gävleborg')),\n+    ('Y', _('Västernorrland')),\n+    ('Z', _('Jämtland')),\n )"
        },
        {
            "sha": "aa4b9dac5a8c089fe1b6bc64c0dfc4dfbe8e57e3",
            "filename": "django/contrib/localflavor/si/forms.py",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsi%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsi%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fsi%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Slovenian specific form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import re\n@@ -21,16 +21,16 @@ class SIEMSOField(CharField):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'This field should contain exactly 13 digits.'),\n-        'date': _(u'The first 7 digits of the EMSO must represent a valid past date.'),\n-        'checksum': _(u'The EMSO is not valid.'),\n+        'invalid': _('This field should contain exactly 13 digits.'),\n+        'date': _('The first 7 digits of the EMSO must represent a valid past date.'),\n+        'checksum': _('The EMSO is not valid.'),\n     }\n     emso_regex = re.compile('^(\\d{2})(\\d{2})(\\d{3})(\\d{2})(\\d{3})(\\d)$')\n \n     def clean(self, value):\n         super(SIEMSOField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip()\n \n@@ -83,14 +83,14 @@ class SITaxNumberField(CharField):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'Enter a valid tax number in form SIXXXXXXXX'),\n+        'invalid': _('Enter a valid tax number in form SIXXXXXXXX'),\n     }\n     sitax_regex = re.compile('^(?:SI)?([1-9]\\d{7})$')\n \n     def clean(self, value):\n         super(SITaxNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.strip()\n \n@@ -148,14 +148,14 @@ class SIPhoneNumberField(CharField):\n     \"\"\"\n \n     default_error_messages = {\n-        'invalid': _(u'Enter phone number in form +386XXXXXXXX or 0XXXXXXXX.'),\n+        'invalid': _('Enter phone number in form +386XXXXXXXX or 0XXXXXXXX.'),\n     }\n     phone_regex = re.compile('^(?:(?:00|\\+)386|0)(\\d{7,8})$')\n \n     def clean(self, value):\n         super(SIPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         value = value.replace(' ', '').replace('-', '').replace('/', '')\n         m = self.phone_regex.match(value)"
        },
        {
            "sha": "4d027afcffb0bcef56a1c0ae70105a76315c78ec",
            "filename": "django/contrib/localflavor/si/si_postalcodes.py",
            "status": "modified",
            "additions": 464,
            "deletions": 463,
            "changes": 927,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsi%2Fsi_postalcodes.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsi%2Fsi_postalcodes.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fsi%2Fsi_postalcodes.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,469 +1,470 @@\n # *-* coding: utf-8 *-*\n+from __future__ import unicode_literals\n \n SI_POSTALCODES = [\n-    (1000, u'Ljubljana'),\n-    (1215, u'Medvode'),\n-    (1216, u'Smlednik'),\n-    (1217, u'Vodice'),\n-    (1218, u'Komenda'),\n-    (1219, u'Laze v Tuhinju'),\n-    (1221, u'Motnik'),\n-    (1222, u'Trojane'),\n-    (1223, u'Blagovica'),\n-    (1225, u'Lukovica'),\n-    (1230, u'Dom\\u017eale'),\n-    (1233, u'Dob'),\n-    (1234, u'Menge\\u0161'),\n-    (1235, u'Radomlje'),\n-    (1236, u'Trzin'),\n-    (1241, u'Kamnik'),\n-    (1242, u'Stahovica'),\n-    (1251, u'Morav\\u010de'),\n-    (1252, u'Va\\u010de'),\n-    (1262, u'Dol pri Ljubljani'),\n-    (1270, u'Litija'),\n-    (1272, u'Pol\\u0161nik'),\n-    (1273, u'Dole pri Litiji'),\n-    (1274, u'Gabrovka'),\n-    (1275, u'\\u0160martno pri Litiji'),\n-    (1276, u'Primskovo'),\n-    (1281, u'Kresnice'),\n-    (1282, u'Sava'),\n-    (1290, u'Grosuplje'),\n-    (1291, u'\\u0160kofljica'),\n-    (1292, u'Ig'),\n-    (1293, u'\\u0160marje - Sap'),\n-    (1294, u'Vi\\u0161nja Gora'),\n-    (1295, u'Ivan\\u010dna Gorica'),\n-    (1296, u'\\u0160entvid pri Sti\\u010dni'),\n-    (1301, u'Krka'),\n-    (1303, u'Zagradec'),\n-    (1310, u'Ribnica'),\n-    (1311, u'Turjak'),\n-    (1312, u'Videm - Dobrepolje'),\n-    (1313, u'Struge'),\n-    (1314, u'Rob'),\n-    (1315, u'Velike La\\u0161\\u010de'),\n-    (1316, u'Ortnek'),\n-    (1317, u'Sodra\\u017eica'),\n-    (1318, u'Lo\\u0161ki Potok'),\n-    (1319, u'Draga'),\n-    (1330, u'Ko\\u010devje'),\n-    (1331, u'Dolenja vas'),\n-    (1332, u'Stara Cerkev'),\n-    (1336, u'Kostel'),\n-    (1337, u'Osilnica'),\n-    (1338, u'Ko\\u010devska Reka'),\n-    (1351, u'Brezovica pri Ljubljani'),\n-    (1352, u'Preserje'),\n-    (1353, u'Borovnica'),\n-    (1354, u'Horjul'),\n-    (1355, u'Polhov Gradec'),\n-    (1356, u'Dobrova'),\n-    (1357, u'Notranje Gorice'),\n-    (1358, u'Log pri Brezovici'),\n-    (1360, u'Vrhnika'),\n-    (1370, u'Logatec'),\n-    (1372, u'Hotedr\\u0161ica'),\n-    (1373, u'Rovte'),\n-    (1380, u'Cerknica'),\n-    (1381, u'Rakek'),\n-    (1382, u'Begunje pri Cerknici'),\n-    (1384, u'Grahovo'),\n-    (1385, u'Nova vas'),\n-    (1386, u'Stari trg pri Lo\\u017eu'),\n-    (1410, u'Zagorje ob Savi'),\n-    (1411, u'Izlake'),\n-    (1412, u'Kisovec'),\n-    (1413, u'\\u010cem\\u0161enik'),\n-    (1414, u'Podkum'),\n-    (1420, u'Trbovlje'),\n-    (1423, u'Dobovec'),\n-    (1430, u'Hrastnik'),\n-    (1431, u'Dol pri Hrastniku'),\n-    (1432, u'Zidani Most'),\n-    (1433, u'Rade\\u010de'),\n-    (1434, u'Loka pri Zidanem Mostu'),\n-    (2000, u'Maribor'),\n-    (2201, u'Zgornja Kungota'),\n-    (2204, u'Miklav\\u017e na Dravskem polju'),\n-    (2205, u'Star\\u0161e'),\n-    (2206, u'Marjeta na Dravskem polju'),\n-    (2208, u'Pohorje'),\n-    (2211, u'Pesnica pri Mariboru'),\n-    (2212, u'\\u0160entilj v Slovenskih goricah'),\n-    (2213, u'Zgornja Velka'),\n-    (2214, u'Sladki vrh'),\n-    (2215, u'Cer\\u0161ak'),\n-    (2221, u'Jarenina'),\n-    (2222, u'Jakobski Dol'),\n-    (2223, u'Jurovski Dol'),\n-    (2229, u'Male\\u010dnik'),\n-    (2230, u'Lenart v Slovenskih goricah'),\n-    (2231, u'Pernica'),\n-    (2232, u'Voli\\u010dina'),\n-    (2233, u'Sveta Ana v Slovenskih goricah'),\n-    (2234, u'Benedikt'),\n-    (2235, u'Sveta Trojica v Slovenskih goricah'),\n-    (2236, u'Cerkvenjak'),\n-    (2241, u'Spodnji Duplek'),\n-    (2242, u'Zgornja Korena'),\n-    (2250, u'Ptuj'),\n-    (2252, u'Dornava'),\n-    (2253, u'Destrnik'),\n-    (2254, u'Trnovska vas'),\n-    (2255, u'Vitomarci'),\n-    (2256, u'Jur\\u0161inci'),\n-    (2257, u'Polen\\u0161ak'),\n-    (2258, u'Sveti Toma\\u017e'),\n-    (2259, u'Ivanjkovci'),\n-    (2270, u'Ormo\\u017e'),\n-    (2272, u'Gori\\u0161nica'),\n-    (2273, u'Podgorci'),\n-    (2274, u'Velika Nedelja'),\n-    (2275, u'Miklav\\u017e pri Ormo\\u017eu'),\n-    (2276, u'Kog'),\n-    (2277, u'Sredi\\u0161\\u010de ob Dravi'),\n-    (2281, u'Markovci'),\n-    (2282, u'Cirkulane'),\n-    (2283, u'Zavr\\u010d'),\n-    (2284, u'Videm pri Ptuju'),\n-    (2285, u'Zgornji Leskovec'),\n-    (2286, u'Podlehnik'),\n-    (2287, u'\\u017detale'),\n-    (2288, u'Hajdina'),\n-    (2289, u'Stoperce'),\n-    (2310, u'Slovenska Bistrica'),\n-    (2311, u'Ho\\u010de'),\n-    (2312, u'Orehova vas'),\n-    (2313, u'Fram'),\n-    (2314, u'Zgornja Polskava'),\n-    (2315, u'\\u0160martno na Pohorju'),\n-    (2316, u'Zgornja Lo\\u017enica'),\n-    (2317, u'Oplotnica'),\n-    (2318, u'Laporje'),\n-    (2319, u'Polj\\u010dane'),\n-    (2321, u'Makole'),\n-    (2322, u'Maj\\u0161perk'),\n-    (2323, u'Ptujska Gora'),\n-    (2324, u'Lovrenc na Dravskem polju'),\n-    (2325, u'Kidri\\u010devo'),\n-    (2326, u'Cirkovce'),\n-    (2327, u'Ra\\u010de'),\n-    (2331, u'Pragersko'),\n-    (2341, u'Limbu\\u0161'),\n-    (2342, u'Ru\\u0161e'),\n-    (2343, u'Fala'),\n-    (2344, u'Lovrenc na Pohorju'),\n-    (2345, u'Bistrica ob Dravi'),\n-    (2351, u'Kamnica'),\n-    (2352, u'Selnica ob Dravi'),\n-    (2353, u'Sv. Duh na Ostrem Vrhu'),\n-    (2354, u'Bresternica'),\n-    (2360, u'Radlje ob Dravi'),\n-    (2361, u'O\\u017ebalt'),\n-    (2362, u'Kapla'),\n-    (2363, u'Podvelka'),\n-    (2364, u'Ribnica na Pohorju'),\n-    (2365, u'Vuhred'),\n-    (2366, u'Muta'),\n-    (2367, u'Vuzenica'),\n-    (2370, u'Dravograd'),\n-    (2371, u'Trbonje'),\n-    (2372, u'Libeli\\u010de'),\n-    (2373, u'\\u0160entjan\\u017e pri Dravogradu'),\n-    (2380, u'Slovenj Gradec'),\n-    (2381, u'Podgorje pri Slovenj Gradcu'),\n-    (2382, u'Mislinja'),\n-    (2383, u'\\u0160martno pri Slovenj Gradcu'),\n-    (2390, u'Ravne na Koro\\u0161kem'),\n-    (2391, u'Prevalje'),\n-    (2392, u'Me\\u017eica'),\n-    (2393, u'\\u010crna na Koro\\u0161kem'),\n-    (2394, u'Kotlje'),\n-    (3000, u'Celje'),\n-    (3201, u'\\u0160martno v Ro\\u017eni dolini'),\n-    (3202, u'Ljube\\u010dna'),\n-    (3203, u'Nova Cerkev'),\n-    (3204, u'Dobrna'),\n-    (3205, u'Vitanje'),\n-    (3206, u'Stranice'),\n-    (3210, u'Slovenske Konjice'),\n-    (3211, u'\\u0160kofja vas'),\n-    (3212, u'Vojnik'),\n-    (3213, u'Frankolovo'),\n-    (3214, u'Zre\\u010de'),\n-    (3215, u'Lo\\u010de'),\n-    (3220, u'\\u0160tore'),\n-    (3221, u'Teharje'),\n-    (3222, u'Dramlje'),\n-    (3223, u'Loka pri \\u017dusmu'),\n-    (3224, u'Dobje pri Planini'),\n-    (3225, u'Planina pri Sevnici'),\n-    (3230, u'\\u0160entjur'),\n-    (3231, u'Grobelno'),\n-    (3232, u'Ponikva'),\n-    (3233, u'Kalobje'),\n-    (3240, u'\\u0160marje pri Jel\\u0161ah'),\n-    (3241, u'Podplat'),\n-    (3250, u'Roga\\u0161ka Slatina'),\n-    (3252, u'Rogatec'),\n-    (3253, u'Pristava pri Mestinju'),\n-    (3254, u'Pod\\u010detrtek'),\n-    (3255, u'Bu\\u010de'),\n-    (3256, u'Bistrica ob Sotli'),\n-    (3257, u'Podsreda'),\n-    (3260, u'Kozje'),\n-    (3261, u'Lesi\\u010dno'),\n-    (3262, u'Prevorje'),\n-    (3263, u'Gorica pri Slivnici'),\n-    (3264, u'Sveti \\u0160tefan'),\n-    (3270, u'La\\u0161ko'),\n-    (3271, u'\\u0160entrupert'),\n-    (3272, u'Rimske Toplice'),\n-    (3273, u'Jurklo\\u0161ter'),\n-    (3301, u'Petrov\\u010de'),\n-    (3302, u'Gri\\u017ee'),\n-    (3303, u'Gomilsko'),\n-    (3304, u'Tabor'),\n-    (3305, u'Vransko'),\n-    (3310, u'\\u017dalec'),\n-    (3311, u'\\u0160empeter v Savinjski dolini'),\n-    (3312, u'Prebold'),\n-    (3313, u'Polzela'),\n-    (3314, u'Braslov\\u010de'),\n-    (3320, u'Velenje - dostava'),\n-    (3322, u'Velenje - po\\u0161tni predali'),\n-    (3325, u'\\u0160o\\u0161tanj'),\n-    (3326, u'Topol\\u0161ica'),\n-    (3327, u'\\u0160martno ob Paki'),\n-    (3330, u'Mozirje'),\n-    (3331, u'Nazarje'),\n-    (3332, u'Re\\u010dica ob Savinji'),\n-    (3333, u'Ljubno ob Savinji'),\n-    (3334, u'Lu\\u010de'),\n-    (3335, u'Sol\\u010dava'),\n-    (3341, u'\\u0160martno ob Dreti'),\n-    (3342, u'Gornji Grad'),\n-    (4000, u'Kranj'),\n-    (4201, u'Zgornja Besnica'),\n-    (4202, u'Naklo'),\n-    (4203, u'Duplje'),\n-    (4204, u'Golnik'),\n-    (4205, u'Preddvor'),\n-    (4206, u'Zgornje Jezersko'),\n-    (4207, u'Cerklje na Gorenjskem'),\n-    (4208, u'\\u0160en\\u010dur'),\n-    (4209, u'\\u017dabnica'),\n-    (4210, u'Brnik - aerodrom'),\n-    (4211, u'Mav\\u010di\\u010de'),\n-    (4212, u'Visoko'),\n-    (4220, u'\\u0160kofja Loka'),\n-    (4223, u'Poljane nad \\u0160kofjo Loko'),\n-    (4224, u'Gorenja vas'),\n-    (4225, u'Sovodenj'),\n-    (4226, u'\\u017diri'),\n-    (4227, u'Selca'),\n-    (4228, u'\\u017delezniki'),\n-    (4229, u'Sorica'),\n-    (4240, u'Radovljica'),\n-    (4243, u'Brezje'),\n-    (4244, u'Podnart'),\n-    (4245, u'Kropa'),\n-    (4246, u'Kamna Gorica'),\n-    (4247, u'Zgornje Gorje'),\n-    (4248, u'Lesce'),\n-    (4260, u'Bled'),\n-    (4263, u'Bohinjska Bela'),\n-    (4264, u'Bohinjska Bistrica'),\n-    (4265, u'Bohinjsko jezero'),\n-    (4267, u'Srednja vas v Bohinju'),\n-    (4270, u'Jesenice'),\n-    (4273, u'Blejska Dobrava'),\n-    (4274, u'\\u017dirovnica'),\n-    (4275, u'Begunje na Gorenjskem'),\n-    (4276, u'Hru\\u0161ica'),\n-    (4280, u'Kranjska Gora'),\n-    (4281, u'Mojstrana'),\n-    (4282, u'Gozd Martuljek'),\n-    (4283, u'Rate\\u010de - Planica'),\n-    (4290, u'Tr\\u017ei\\u010d'),\n-    (4294, u'Kri\\u017ee'),\n-    (5000, u'Nova Gorica'),\n-    (5210, u'Deskle'),\n-    (5211, u'Kojsko'),\n-    (5212, u'Dobrovo v Brdih'),\n-    (5213, u'Kanal'),\n-    (5214, u'Kal nad Kanalom'),\n-    (5215, u'Ro\\u010dinj'),\n-    (5216, u'Most na So\\u010di'),\n-    (5220, u'Tolmin'),\n-    (5222, u'Kobarid'),\n-    (5223, u'Breginj'),\n-    (5224, u'Srpenica'),\n-    (5230, u'Bovec'),\n-    (5231, u'Log pod Mangartom'),\n-    (5232, u'So\\u010da'),\n-    (5242, u'Grahovo ob Ba\\u010di'),\n-    (5243, u'Podbrdo'),\n-    (5250, u'Solkan'),\n-    (5251, u'Grgar'),\n-    (5252, u'Trnovo pri Gorici'),\n-    (5253, u'\\u010cepovan'),\n-    (5261, u'\\u0160empas'),\n-    (5262, u'\\u010crni\\u010de'),\n-    (5263, u'Dobravlje'),\n-    (5270, u'Ajdov\\u0161\\u010dina'),\n-    (5271, u'Vipava'),\n-    (5272, u'Podnanos'),\n-    (5273, u'Col'),\n-    (5274, u'\\u010crni Vrh nad Idrijo'),\n-    (5275, u'Godovi\\u010d'),\n-    (5280, u'Idrija'),\n-    (5281, u'Spodnja Idrija'),\n-    (5282, u'Cerkno'),\n-    (5283, u'Slap ob Idrijci'),\n-    (5290, u'\\u0160empeter pri Gorici'),\n-    (5291, u'Miren'),\n-    (5292, u'Ren\\u010de'),\n-    (5293, u'Vol\\u010dja Draga'),\n-    (5294, u'Dornberk'),\n-    (5295, u'Branik'),\n-    (5296, u'Kostanjevica na Krasu'),\n-    (5297, u'Prva\\u010dina'),\n-    (6000, u'Koper'),\n-    (6210, u'Se\\u017eana'),\n-    (6215, u'Diva\\u010da'),\n-    (6216, u'Podgorje'),\n-    (6217, u'Vremski Britof'),\n-    (6219, u'Lokev'),\n-    (6221, u'Dutovlje'),\n-    (6222, u'\\u0160tanjel'),\n-    (6223, u'Komen'),\n-    (6224, u'Seno\\u017ee\\u010de'),\n-    (6225, u'Hru\\u0161evje'),\n-    (6230, u'Postojna'),\n-    (6232, u'Planina'),\n-    (6240, u'Kozina'),\n-    (6242, u'Materija'),\n-    (6243, u'Obrov'),\n-    (6244, u'Podgrad'),\n-    (6250, u'Ilirska Bistrica'),\n-    (6251, u'Ilirska Bistrica - Trnovo'),\n-    (6253, u'Kne\\u017eak'),\n-    (6254, u'Jel\\u0161ane'),\n-    (6255, u'Prem'),\n-    (6256, u'Ko\\u0161ana'),\n-    (6257, u'Pivka'),\n-    (6258, u'Prestranek'),\n-    (6271, u'Dekani'),\n-    (6272, u'Gra\\u010di\\u0161\\u010de'),\n-    (6273, u'Marezige'),\n-    (6274, u'\\u0160marje'),\n-    (6275, u'\\u010crni Kal'),\n-    (6276, u'Pobegi'),\n-    (6280, u'Ankaran - Ancarano'),\n-    (6281, u'\\u0160kofije'),\n-    (6310, u'Izola - Isola'),\n-    (6320, u'Portoro\\u017e - Portorose'),\n-    (6330, u'Piran - Pirano'),\n-    (6333, u'Se\\u010dovlje - Sicciole'),\n-    (8000, u'Novo mesto'),\n-    (8210, u'Trebnje'),\n-    (8211, u'Dobrni\\u010d'),\n-    (8212, u'Velika Loka'),\n-    (8213, u'Veliki Gaber'),\n-    (8216, u'Mirna Pe\\u010d'),\n-    (8220, u'\\u0160marje\\u0161ke Toplice'),\n-    (8222, u'Oto\\u010dec'),\n-    (8230, u'Mokronog'),\n-    (8231, u'Trebelno'),\n-    (8232, u'\\u0160entrupert'),\n-    (8233, u'Mirna'),\n-    (8250, u'Bre\\u017eice'),\n-    (8251, u'\\u010cate\\u017e ob Savi'),\n-    (8253, u'Arti\\u010de'),\n-    (8254, u'Globoko'),\n-    (8255, u'Pi\\u0161ece'),\n-    (8256, u'Sromlje'),\n-    (8257, u'Dobova'),\n-    (8258, u'Kapele'),\n-    (8259, u'Bizeljsko'),\n-    (8261, u'Jesenice na Dolenjskem'),\n-    (8262, u'Kr\\u0161ka vas'),\n-    (8263, u'Cerklje ob Krki'),\n-    (8270, u'Kr\\u0161ko'),\n-    (8272, u'Zdole'),\n-    (8273, u'Leskovec pri Kr\\u0161kem'),\n-    (8274, u'Raka'),\n-    (8275, u'\\u0160kocjan'),\n-    (8276, u'Bu\\u010dka'),\n-    (8280, u'Brestanica'),\n-    (8281, u'Senovo'),\n-    (8282, u'Koprivnica'),\n-    (8283, u'Blanca'),\n-    (8290, u'Sevnica'),\n-    (8292, u'Zabukovje'),\n-    (8293, u'Studenec'),\n-    (8294, u'Bo\\u0161tanj'),\n-    (8295, u'Tr\\u017ei\\u0161\\u010de'),\n-    (8296, u'Krmelj'),\n-    (8297, u'\\u0160entjan\\u017e'),\n-    (8310, u'\\u0160entjernej'),\n-    (8311, u'Kostanjevica na Krki'),\n-    (8312, u'Podbo\\u010dje'),\n-    (8321, u'Brusnice'),\n-    (8322, u'Stopi\\u010de'),\n-    (8323, u'Ur\\u0161na sela'),\n-    (8330, u'Metlika'),\n-    (8331, u'Suhor'),\n-    (8332, u'Gradac'),\n-    (8333, u'Semi\\u010d'),\n-    (8340, u'\\u010crnomelj'),\n-    (8341, u'Adle\\u0161i\\u010di'),\n-    (8342, u'Stari trg ob Kolpi'),\n-    (8343, u'Dragatu\\u0161'),\n-    (8344, u'Vinica pri \\u010crnomlju'),\n-    (8350, u'Dolenjske Toplice'),\n-    (8351, u'Stra\\u017ea'),\n-    (8360, u'\\u017du\\u017eemberk'),\n-    (8361, u'Dvor'),\n-    (8362, u'Hinje'),\n-    (9000, u'Murska Sobota'),\n-    (9201, u'Puconci'),\n-    (9202, u'Ma\\u010dkovci'),\n-    (9203, u'Petrovci'),\n-    (9204, u'\\u0160alovci'),\n-    (9205, u'Hodo\\u0161 - Hodos'),\n-    (9206, u'Kri\\u017eevci'),\n-    (9207, u'Prosenjakovci - Partosfalva'),\n-    (9208, u'Fokovci'),\n-    (9220, u'Lendava - Lendva'),\n-    (9221, u'Martjanci'),\n-    (9222, u'Bogojina'),\n-    (9223, u'Dobrovnik - Dobronak'),\n-    (9224, u'Turni\\u0161\\u010de'),\n-    (9225, u'Velika Polana'),\n-    (9226, u'Moravske Toplice'),\n-    (9227, u'Kobilje'),\n-    (9231, u'Beltinci'),\n-    (9232, u'\\u010cren\\u0161ovci'),\n-    (9233, u'Odranci'),\n-    (9240, u'Ljutomer'),\n-    (9241, u'Ver\\u017eej'),\n-    (9242, u'Kri\\u017eevci pri Ljutomeru'),\n-    (9243, u'Mala Nedelja'),\n-    (9244, u'Sveti Jurij ob \\u0160\\u010davnici'),\n-    (9245, u'Spodnji Ivanjci'),\n-    (9250, u'Gornja Radgona'),\n-    (9251, u'Ti\\u0161ina'),\n-    (9252, u'Radenci'),\n-    (9253, u'Apa\\u010de'),\n-    (9261, u'Cankova'),\n-    (9262, u'Roga\\u0161ovci'),\n-    (9263, u'Kuzma'),\n-    (9264, u'Grad'),\n-    (9265, u'Bodonci'),\n+    (1000, 'Ljubljana'),\n+    (1215, 'Medvode'),\n+    (1216, 'Smlednik'),\n+    (1217, 'Vodice'),\n+    (1218, 'Komenda'),\n+    (1219, 'Laze v Tuhinju'),\n+    (1221, 'Motnik'),\n+    (1222, 'Trojane'),\n+    (1223, 'Blagovica'),\n+    (1225, 'Lukovica'),\n+    (1230, 'Dom\\u017eale'),\n+    (1233, 'Dob'),\n+    (1234, 'Menge\\u0161'),\n+    (1235, 'Radomlje'),\n+    (1236, 'Trzin'),\n+    (1241, 'Kamnik'),\n+    (1242, 'Stahovica'),\n+    (1251, 'Morav\\u010de'),\n+    (1252, 'Va\\u010de'),\n+    (1262, 'Dol pri Ljubljani'),\n+    (1270, 'Litija'),\n+    (1272, 'Pol\\u0161nik'),\n+    (1273, 'Dole pri Litiji'),\n+    (1274, 'Gabrovka'),\n+    (1275, '\\u0160martno pri Litiji'),\n+    (1276, 'Primskovo'),\n+    (1281, 'Kresnice'),\n+    (1282, 'Sava'),\n+    (1290, 'Grosuplje'),\n+    (1291, '\\u0160kofljica'),\n+    (1292, 'Ig'),\n+    (1293, '\\u0160marje - Sap'),\n+    (1294, 'Vi\\u0161nja Gora'),\n+    (1295, 'Ivan\\u010dna Gorica'),\n+    (1296, '\\u0160entvid pri Sti\\u010dni'),\n+    (1301, 'Krka'),\n+    (1303, 'Zagradec'),\n+    (1310, 'Ribnica'),\n+    (1311, 'Turjak'),\n+    (1312, 'Videm - Dobrepolje'),\n+    (1313, 'Struge'),\n+    (1314, 'Rob'),\n+    (1315, 'Velike La\\u0161\\u010de'),\n+    (1316, 'Ortnek'),\n+    (1317, 'Sodra\\u017eica'),\n+    (1318, 'Lo\\u0161ki Potok'),\n+    (1319, 'Draga'),\n+    (1330, 'Ko\\u010devje'),\n+    (1331, 'Dolenja vas'),\n+    (1332, 'Stara Cerkev'),\n+    (1336, 'Kostel'),\n+    (1337, 'Osilnica'),\n+    (1338, 'Ko\\u010devska Reka'),\n+    (1351, 'Brezovica pri Ljubljani'),\n+    (1352, 'Preserje'),\n+    (1353, 'Borovnica'),\n+    (1354, 'Horjul'),\n+    (1355, 'Polhov Gradec'),\n+    (1356, 'Dobrova'),\n+    (1357, 'Notranje Gorice'),\n+    (1358, 'Log pri Brezovici'),\n+    (1360, 'Vrhnika'),\n+    (1370, 'Logatec'),\n+    (1372, 'Hotedr\\u0161ica'),\n+    (1373, 'Rovte'),\n+    (1380, 'Cerknica'),\n+    (1381, 'Rakek'),\n+    (1382, 'Begunje pri Cerknici'),\n+    (1384, 'Grahovo'),\n+    (1385, 'Nova vas'),\n+    (1386, 'Stari trg pri Lo\\u017eu'),\n+    (1410, 'Zagorje ob Savi'),\n+    (1411, 'Izlake'),\n+    (1412, 'Kisovec'),\n+    (1413, '\\u010cem\\u0161enik'),\n+    (1414, 'Podkum'),\n+    (1420, 'Trbovlje'),\n+    (1423, 'Dobovec'),\n+    (1430, 'Hrastnik'),\n+    (1431, 'Dol pri Hrastniku'),\n+    (1432, 'Zidani Most'),\n+    (1433, 'Rade\\u010de'),\n+    (1434, 'Loka pri Zidanem Mostu'),\n+    (2000, 'Maribor'),\n+    (2201, 'Zgornja Kungota'),\n+    (2204, 'Miklav\\u017e na Dravskem polju'),\n+    (2205, 'Star\\u0161e'),\n+    (2206, 'Marjeta na Dravskem polju'),\n+    (2208, 'Pohorje'),\n+    (2211, 'Pesnica pri Mariboru'),\n+    (2212, '\\u0160entilj v Slovenskih goricah'),\n+    (2213, 'Zgornja Velka'),\n+    (2214, 'Sladki vrh'),\n+    (2215, 'Cer\\u0161ak'),\n+    (2221, 'Jarenina'),\n+    (2222, 'Jakobski Dol'),\n+    (2223, 'Jurovski Dol'),\n+    (2229, 'Male\\u010dnik'),\n+    (2230, 'Lenart v Slovenskih goricah'),\n+    (2231, 'Pernica'),\n+    (2232, 'Voli\\u010dina'),\n+    (2233, 'Sveta Ana v Slovenskih goricah'),\n+    (2234, 'Benedikt'),\n+    (2235, 'Sveta Trojica v Slovenskih goricah'),\n+    (2236, 'Cerkvenjak'),\n+    (2241, 'Spodnji Duplek'),\n+    (2242, 'Zgornja Korena'),\n+    (2250, 'Ptuj'),\n+    (2252, 'Dornava'),\n+    (2253, 'Destrnik'),\n+    (2254, 'Trnovska vas'),\n+    (2255, 'Vitomarci'),\n+    (2256, 'Jur\\u0161inci'),\n+    (2257, 'Polen\\u0161ak'),\n+    (2258, 'Sveti Toma\\u017e'),\n+    (2259, 'Ivanjkovci'),\n+    (2270, 'Ormo\\u017e'),\n+    (2272, 'Gori\\u0161nica'),\n+    (2273, 'Podgorci'),\n+    (2274, 'Velika Nedelja'),\n+    (2275, 'Miklav\\u017e pri Ormo\\u017eu'),\n+    (2276, 'Kog'),\n+    (2277, 'Sredi\\u0161\\u010de ob Dravi'),\n+    (2281, 'Markovci'),\n+    (2282, 'Cirkulane'),\n+    (2283, 'Zavr\\u010d'),\n+    (2284, 'Videm pri Ptuju'),\n+    (2285, 'Zgornji Leskovec'),\n+    (2286, 'Podlehnik'),\n+    (2287, '\\u017detale'),\n+    (2288, 'Hajdina'),\n+    (2289, 'Stoperce'),\n+    (2310, 'Slovenska Bistrica'),\n+    (2311, 'Ho\\u010de'),\n+    (2312, 'Orehova vas'),\n+    (2313, 'Fram'),\n+    (2314, 'Zgornja Polskava'),\n+    (2315, '\\u0160martno na Pohorju'),\n+    (2316, 'Zgornja Lo\\u017enica'),\n+    (2317, 'Oplotnica'),\n+    (2318, 'Laporje'),\n+    (2319, 'Polj\\u010dane'),\n+    (2321, 'Makole'),\n+    (2322, 'Maj\\u0161perk'),\n+    (2323, 'Ptujska Gora'),\n+    (2324, 'Lovrenc na Dravskem polju'),\n+    (2325, 'Kidri\\u010devo'),\n+    (2326, 'Cirkovce'),\n+    (2327, 'Ra\\u010de'),\n+    (2331, 'Pragersko'),\n+    (2341, 'Limbu\\u0161'),\n+    (2342, 'Ru\\u0161e'),\n+    (2343, 'Fala'),\n+    (2344, 'Lovrenc na Pohorju'),\n+    (2345, 'Bistrica ob Dravi'),\n+    (2351, 'Kamnica'),\n+    (2352, 'Selnica ob Dravi'),\n+    (2353, 'Sv. Duh na Ostrem Vrhu'),\n+    (2354, 'Bresternica'),\n+    (2360, 'Radlje ob Dravi'),\n+    (2361, 'O\\u017ebalt'),\n+    (2362, 'Kapla'),\n+    (2363, 'Podvelka'),\n+    (2364, 'Ribnica na Pohorju'),\n+    (2365, 'Vuhred'),\n+    (2366, 'Muta'),\n+    (2367, 'Vuzenica'),\n+    (2370, 'Dravograd'),\n+    (2371, 'Trbonje'),\n+    (2372, 'Libeli\\u010de'),\n+    (2373, '\\u0160entjan\\u017e pri Dravogradu'),\n+    (2380, 'Slovenj Gradec'),\n+    (2381, 'Podgorje pri Slovenj Gradcu'),\n+    (2382, 'Mislinja'),\n+    (2383, '\\u0160martno pri Slovenj Gradcu'),\n+    (2390, 'Ravne na Koro\\u0161kem'),\n+    (2391, 'Prevalje'),\n+    (2392, 'Me\\u017eica'),\n+    (2393, '\\u010crna na Koro\\u0161kem'),\n+    (2394, 'Kotlje'),\n+    (3000, 'Celje'),\n+    (3201, '\\u0160martno v Ro\\u017eni dolini'),\n+    (3202, 'Ljube\\u010dna'),\n+    (3203, 'Nova Cerkev'),\n+    (3204, 'Dobrna'),\n+    (3205, 'Vitanje'),\n+    (3206, 'Stranice'),\n+    (3210, 'Slovenske Konjice'),\n+    (3211, '\\u0160kofja vas'),\n+    (3212, 'Vojnik'),\n+    (3213, 'Frankolovo'),\n+    (3214, 'Zre\\u010de'),\n+    (3215, 'Lo\\u010de'),\n+    (3220, '\\u0160tore'),\n+    (3221, 'Teharje'),\n+    (3222, 'Dramlje'),\n+    (3223, 'Loka pri \\u017dusmu'),\n+    (3224, 'Dobje pri Planini'),\n+    (3225, 'Planina pri Sevnici'),\n+    (3230, '\\u0160entjur'),\n+    (3231, 'Grobelno'),\n+    (3232, 'Ponikva'),\n+    (3233, 'Kalobje'),\n+    (3240, '\\u0160marje pri Jel\\u0161ah'),\n+    (3241, 'Podplat'),\n+    (3250, 'Roga\\u0161ka Slatina'),\n+    (3252, 'Rogatec'),\n+    (3253, 'Pristava pri Mestinju'),\n+    (3254, 'Pod\\u010detrtek'),\n+    (3255, 'Bu\\u010de'),\n+    (3256, 'Bistrica ob Sotli'),\n+    (3257, 'Podsreda'),\n+    (3260, 'Kozje'),\n+    (3261, 'Lesi\\u010dno'),\n+    (3262, 'Prevorje'),\n+    (3263, 'Gorica pri Slivnici'),\n+    (3264, 'Sveti \\u0160tefan'),\n+    (3270, 'La\\u0161ko'),\n+    (3271, '\\u0160entrupert'),\n+    (3272, 'Rimske Toplice'),\n+    (3273, 'Jurklo\\u0161ter'),\n+    (3301, 'Petrov\\u010de'),\n+    (3302, 'Gri\\u017ee'),\n+    (3303, 'Gomilsko'),\n+    (3304, 'Tabor'),\n+    (3305, 'Vransko'),\n+    (3310, '\\u017dalec'),\n+    (3311, '\\u0160empeter v Savinjski dolini'),\n+    (3312, 'Prebold'),\n+    (3313, 'Polzela'),\n+    (3314, 'Braslov\\u010de'),\n+    (3320, 'Velenje - dostava'),\n+    (3322, 'Velenje - po\\u0161tni predali'),\n+    (3325, '\\u0160o\\u0161tanj'),\n+    (3326, 'Topol\\u0161ica'),\n+    (3327, '\\u0160martno ob Paki'),\n+    (3330, 'Mozirje'),\n+    (3331, 'Nazarje'),\n+    (3332, 'Re\\u010dica ob Savinji'),\n+    (3333, 'Ljubno ob Savinji'),\n+    (3334, 'Lu\\u010de'),\n+    (3335, 'Sol\\u010dava'),\n+    (3341, '\\u0160martno ob Dreti'),\n+    (3342, 'Gornji Grad'),\n+    (4000, 'Kranj'),\n+    (4201, 'Zgornja Besnica'),\n+    (4202, 'Naklo'),\n+    (4203, 'Duplje'),\n+    (4204, 'Golnik'),\n+    (4205, 'Preddvor'),\n+    (4206, 'Zgornje Jezersko'),\n+    (4207, 'Cerklje na Gorenjskem'),\n+    (4208, '\\u0160en\\u010dur'),\n+    (4209, '\\u017dabnica'),\n+    (4210, 'Brnik - aerodrom'),\n+    (4211, 'Mav\\u010di\\u010de'),\n+    (4212, 'Visoko'),\n+    (4220, '\\u0160kofja Loka'),\n+    (4223, 'Poljane nad \\u0160kofjo Loko'),\n+    (4224, 'Gorenja vas'),\n+    (4225, 'Sovodenj'),\n+    (4226, '\\u017diri'),\n+    (4227, 'Selca'),\n+    (4228, '\\u017delezniki'),\n+    (4229, 'Sorica'),\n+    (4240, 'Radovljica'),\n+    (4243, 'Brezje'),\n+    (4244, 'Podnart'),\n+    (4245, 'Kropa'),\n+    (4246, 'Kamna Gorica'),\n+    (4247, 'Zgornje Gorje'),\n+    (4248, 'Lesce'),\n+    (4260, 'Bled'),\n+    (4263, 'Bohinjska Bela'),\n+    (4264, 'Bohinjska Bistrica'),\n+    (4265, 'Bohinjsko jezero'),\n+    (4267, 'Srednja vas v Bohinju'),\n+    (4270, 'Jesenice'),\n+    (4273, 'Blejska Dobrava'),\n+    (4274, '\\u017dirovnica'),\n+    (4275, 'Begunje na Gorenjskem'),\n+    (4276, 'Hru\\u0161ica'),\n+    (4280, 'Kranjska Gora'),\n+    (4281, 'Mojstrana'),\n+    (4282, 'Gozd Martuljek'),\n+    (4283, 'Rate\\u010de - Planica'),\n+    (4290, 'Tr\\u017ei\\u010d'),\n+    (4294, 'Kri\\u017ee'),\n+    (5000, 'Nova Gorica'),\n+    (5210, 'Deskle'),\n+    (5211, 'Kojsko'),\n+    (5212, 'Dobrovo v Brdih'),\n+    (5213, 'Kanal'),\n+    (5214, 'Kal nad Kanalom'),\n+    (5215, 'Ro\\u010dinj'),\n+    (5216, 'Most na So\\u010di'),\n+    (5220, 'Tolmin'),\n+    (5222, 'Kobarid'),\n+    (5223, 'Breginj'),\n+    (5224, 'Srpenica'),\n+    (5230, 'Bovec'),\n+    (5231, 'Log pod Mangartom'),\n+    (5232, 'So\\u010da'),\n+    (5242, 'Grahovo ob Ba\\u010di'),\n+    (5243, 'Podbrdo'),\n+    (5250, 'Solkan'),\n+    (5251, 'Grgar'),\n+    (5252, 'Trnovo pri Gorici'),\n+    (5253, '\\u010cepovan'),\n+    (5261, '\\u0160empas'),\n+    (5262, '\\u010crni\\u010de'),\n+    (5263, 'Dobravlje'),\n+    (5270, 'Ajdov\\u0161\\u010dina'),\n+    (5271, 'Vipava'),\n+    (5272, 'Podnanos'),\n+    (5273, 'Col'),\n+    (5274, '\\u010crni Vrh nad Idrijo'),\n+    (5275, 'Godovi\\u010d'),\n+    (5280, 'Idrija'),\n+    (5281, 'Spodnja Idrija'),\n+    (5282, 'Cerkno'),\n+    (5283, 'Slap ob Idrijci'),\n+    (5290, '\\u0160empeter pri Gorici'),\n+    (5291, 'Miren'),\n+    (5292, 'Ren\\u010de'),\n+    (5293, 'Vol\\u010dja Draga'),\n+    (5294, 'Dornberk'),\n+    (5295, 'Branik'),\n+    (5296, 'Kostanjevica na Krasu'),\n+    (5297, 'Prva\\u010dina'),\n+    (6000, 'Koper'),\n+    (6210, 'Se\\u017eana'),\n+    (6215, 'Diva\\u010da'),\n+    (6216, 'Podgorje'),\n+    (6217, 'Vremski Britof'),\n+    (6219, 'Lokev'),\n+    (6221, 'Dutovlje'),\n+    (6222, '\\u0160tanjel'),\n+    (6223, 'Komen'),\n+    (6224, 'Seno\\u017ee\\u010de'),\n+    (6225, 'Hru\\u0161evje'),\n+    (6230, 'Postojna'),\n+    (6232, 'Planina'),\n+    (6240, 'Kozina'),\n+    (6242, 'Materija'),\n+    (6243, 'Obrov'),\n+    (6244, 'Podgrad'),\n+    (6250, 'Ilirska Bistrica'),\n+    (6251, 'Ilirska Bistrica - Trnovo'),\n+    (6253, 'Kne\\u017eak'),\n+    (6254, 'Jel\\u0161ane'),\n+    (6255, 'Prem'),\n+    (6256, 'Ko\\u0161ana'),\n+    (6257, 'Pivka'),\n+    (6258, 'Prestranek'),\n+    (6271, 'Dekani'),\n+    (6272, 'Gra\\u010di\\u0161\\u010de'),\n+    (6273, 'Marezige'),\n+    (6274, '\\u0160marje'),\n+    (6275, '\\u010crni Kal'),\n+    (6276, 'Pobegi'),\n+    (6280, 'Ankaran - Ancarano'),\n+    (6281, '\\u0160kofije'),\n+    (6310, 'Izola - Isola'),\n+    (6320, 'Portoro\\u017e - Portorose'),\n+    (6330, 'Piran - Pirano'),\n+    (6333, 'Se\\u010dovlje - Sicciole'),\n+    (8000, 'Novo mesto'),\n+    (8210, 'Trebnje'),\n+    (8211, 'Dobrni\\u010d'),\n+    (8212, 'Velika Loka'),\n+    (8213, 'Veliki Gaber'),\n+    (8216, 'Mirna Pe\\u010d'),\n+    (8220, '\\u0160marje\\u0161ke Toplice'),\n+    (8222, 'Oto\\u010dec'),\n+    (8230, 'Mokronog'),\n+    (8231, 'Trebelno'),\n+    (8232, '\\u0160entrupert'),\n+    (8233, 'Mirna'),\n+    (8250, 'Bre\\u017eice'),\n+    (8251, '\\u010cate\\u017e ob Savi'),\n+    (8253, 'Arti\\u010de'),\n+    (8254, 'Globoko'),\n+    (8255, 'Pi\\u0161ece'),\n+    (8256, 'Sromlje'),\n+    (8257, 'Dobova'),\n+    (8258, 'Kapele'),\n+    (8259, 'Bizeljsko'),\n+    (8261, 'Jesenice na Dolenjskem'),\n+    (8262, 'Kr\\u0161ka vas'),\n+    (8263, 'Cerklje ob Krki'),\n+    (8270, 'Kr\\u0161ko'),\n+    (8272, 'Zdole'),\n+    (8273, 'Leskovec pri Kr\\u0161kem'),\n+    (8274, 'Raka'),\n+    (8275, '\\u0160kocjan'),\n+    (8276, 'Bu\\u010dka'),\n+    (8280, 'Brestanica'),\n+    (8281, 'Senovo'),\n+    (8282, 'Koprivnica'),\n+    (8283, 'Blanca'),\n+    (8290, 'Sevnica'),\n+    (8292, 'Zabukovje'),\n+    (8293, 'Studenec'),\n+    (8294, 'Bo\\u0161tanj'),\n+    (8295, 'Tr\\u017ei\\u0161\\u010de'),\n+    (8296, 'Krmelj'),\n+    (8297, '\\u0160entjan\\u017e'),\n+    (8310, '\\u0160entjernej'),\n+    (8311, 'Kostanjevica na Krki'),\n+    (8312, 'Podbo\\u010dje'),\n+    (8321, 'Brusnice'),\n+    (8322, 'Stopi\\u010de'),\n+    (8323, 'Ur\\u0161na sela'),\n+    (8330, 'Metlika'),\n+    (8331, 'Suhor'),\n+    (8332, 'Gradac'),\n+    (8333, 'Semi\\u010d'),\n+    (8340, '\\u010crnomelj'),\n+    (8341, 'Adle\\u0161i\\u010di'),\n+    (8342, 'Stari trg ob Kolpi'),\n+    (8343, 'Dragatu\\u0161'),\n+    (8344, 'Vinica pri \\u010crnomlju'),\n+    (8350, 'Dolenjske Toplice'),\n+    (8351, 'Stra\\u017ea'),\n+    (8360, '\\u017du\\u017eemberk'),\n+    (8361, 'Dvor'),\n+    (8362, 'Hinje'),\n+    (9000, 'Murska Sobota'),\n+    (9201, 'Puconci'),\n+    (9202, 'Ma\\u010dkovci'),\n+    (9203, 'Petrovci'),\n+    (9204, '\\u0160alovci'),\n+    (9205, 'Hodo\\u0161 - Hodos'),\n+    (9206, 'Kri\\u017eevci'),\n+    (9207, 'Prosenjakovci - Partosfalva'),\n+    (9208, 'Fokovci'),\n+    (9220, 'Lendava - Lendva'),\n+    (9221, 'Martjanci'),\n+    (9222, 'Bogojina'),\n+    (9223, 'Dobrovnik - Dobronak'),\n+    (9224, 'Turni\\u0161\\u010de'),\n+    (9225, 'Velika Polana'),\n+    (9226, 'Moravske Toplice'),\n+    (9227, 'Kobilje'),\n+    (9231, 'Beltinci'),\n+    (9232, '\\u010cren\\u0161ovci'),\n+    (9233, 'Odranci'),\n+    (9240, 'Ljutomer'),\n+    (9241, 'Ver\\u017eej'),\n+    (9242, 'Kri\\u017eevci pri Ljutomeru'),\n+    (9243, 'Mala Nedelja'),\n+    (9244, 'Sveti Jurij ob \\u0160\\u010davnici'),\n+    (9245, 'Spodnji Ivanjci'),\n+    (9250, 'Gornja Radgona'),\n+    (9251, 'Ti\\u0161ina'),\n+    (9252, 'Radenci'),\n+    (9253, 'Apa\\u010de'),\n+    (9261, 'Cankova'),\n+    (9262, 'Roga\\u0161ovci'),\n+    (9263, 'Kuzma'),\n+    (9264, 'Grad'),\n+    (9265, 'Bodonci'),\n ]\n \n SI_POSTALCODES_CHOICES = sorted(SI_POSTALCODES, key=lambda k: k[1])"
        },
        {
            "sha": "11d44cc4d25563632cb91d5705e17ecf32432bcb",
            "filename": "django/contrib/localflavor/sk/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsk%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fsk%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fsk%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Slovak-specific form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.localflavor.sk.sk_districts import DISTRICT_CHOICES\n from django.contrib.localflavor.sk.sk_regions import REGION_CHOICES\n@@ -30,7 +30,7 @@ class SKPostalCodeField(RegexField):\n     Valid form is XXXXX or XXX XX, where X represents integer.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXXXX or XXX XX.'),\n+        'invalid': _('Enter a postal code in the format XXXXX or XXX XX.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):"
        },
        {
            "sha": "1ffbc1736193f920e39f9bfae2feeb37ebbb2e16",
            "filename": "django/contrib/localflavor/tr/forms.py",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ftr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Ftr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ftr%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n TR-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -18,7 +18,7 @@\n \n class TRPostalCodeField(RegexField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a postal code in the format XXXXX.'),\n+        'invalid': _('Enter a postal code in the format XXXXX.'),\n     }\n \n     def __init__(self, max_length=5, min_length=5, *args, **kwargs):\n@@ -28,7 +28,7 @@ def __init__(self, max_length=5, min_length=5, *args, **kwargs):\n     def clean(self, value):\n         value = super(TRPostalCodeField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if len(value) != 5:\n             raise ValidationError(self.error_messages['invalid'])\n         province_code = int(value[:2])\n@@ -39,17 +39,17 @@ def clean(self, value):\n \n class TRPhoneNumberField(CharField):\n     default_error_messages = {\n-        'invalid': _(u'Phone numbers must be in 0XXX XXX XXXX format.'),\n+        'invalid': _('Phone numbers must be in 0XXX XXX XXXX format.'),\n     }\n \n     def clean(self, value):\n         super(TRPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\(|\\)|\\s+)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s%s' % (m.group(2), m.group(4))\n+            return '%s%s' % (m.group(2), m.group(4))\n         raise ValidationError(self.error_messages['invalid'])\n \n class TRIdentificationNumberField(Field):\n@@ -66,14 +66,14 @@ class TRIdentificationNumberField(Field):\n           sum(1st to 10th) % 10 = 11th digit\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid Turkish Identification number.'),\n-        'not_11': _(u'Turkish Identification number must be 11 digits.'),\n+        'invalid': _('Enter a valid Turkish Identification number.'),\n+        'not_11': _('Turkish Identification number must be 11 digits.'),\n     }\n \n     def clean(self, value):\n         super(TRIdentificationNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         if len(value) != 11:\n             raise ValidationError(self.error_messages['not_11'])\n         if not re.match(r'^\\d{11}$', value):"
        },
        {
            "sha": "33e533b4cea1bc9673e9e85cc247af1534fd1ba5",
            "filename": "django/contrib/localflavor/us/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n USA-specific Form helpers\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -33,11 +33,11 @@ class USPhoneNumberField(CharField):\n     def clean(self, value):\n         super(USPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         value = re.sub('(\\(|\\)|\\s+)', '', smart_unicode(value))\n         m = phone_digits_re.search(value)\n         if m:\n-            return u'%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n+            return '%s-%s-%s' % (m.group(1), m.group(2), m.group(3))\n         raise ValidationError(self.error_messages['invalid'])\n \n class USSocialSecurityNumberField(Field):\n@@ -62,7 +62,7 @@ class USSocialSecurityNumberField(Field):\n     def clean(self, value):\n         super(USSocialSecurityNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         match = re.match(ssn_re, value)\n         if not match:\n             raise ValidationError(self.error_messages['invalid'])\n@@ -80,7 +80,7 @@ def clean(self, value):\n            value == '078-05-1120' or \\\n            value == '219-09-9999':\n             raise ValidationError(self.error_messages['invalid'])\n-        return u'%s-%s-%s' % (area, group, serial)\n+        return '%s-%s-%s' % (area, group, serial)\n \n class USStateField(Field):\n     \"\"\"\n@@ -96,7 +96,7 @@ def clean(self, value):\n         from django.contrib.localflavor.us.us_states import STATES_NORMALIZED\n         super(USStateField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         try:\n             value = value.strip().lower()\n         except AttributeError:"
        },
        {
            "sha": "658defc0f00f6cb09aed60cfcbb7f6cd9d04443e",
            "filename": "django/contrib/localflavor/uy/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fuy%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fuy%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fuy%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n UY-specific form helpers.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.validators import EMPTY_VALUES\n from django.forms.fields import Select, RegexField\n@@ -47,7 +47,7 @@ def clean(self, value):\n \n         value = super(UYCIField, self).clean(value)\n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n         match = self.regex.match(value)\n         if not match:\n             raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "800937c582cac0fd8e25a1a0adea67d2ed2285ad",
            "filename": "django/contrib/localflavor/uy/uy_departaments.py",
            "status": "modified",
            "additions": 20,
            "deletions": 19,
            "changes": 39,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fuy%2Fuy_departaments.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fuy%2Fuy_departaments.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fuy%2Fuy_departaments.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,24 +1,25 @@\n # -*- coding: utf-8 -*-\n \"\"\"A list of Urguayan departaments as `choices` in a formfield.\"\"\"\n+from __future__ import unicode_literals\n \n DEPARTAMENT_CHOICES = (\n-    ('G', u'Artigas'),\n-    ('A', u'Canelones'),\n-    ('E', u'Cerro Largo'),\n-    ('L', u'Colonia'),\n-    ('Q', u'Durazno'),\n-    ('N', u'Flores'),\n-    ('O', u'Florida'),\n-    ('P', u'Lavalleja'),\n-    ('B', u'Maldonado'),\n-    ('S', u'Montevideo'),\n-    ('I', u'Paysandú'),\n-    ('J', u'Río Negro'),\n-    ('F', u'Rivera'),\n-    ('C', u'Rocha'),\n-    ('H', u'Salto'),\n-    ('M', u'San José'),\n-    ('K', u'Soriano'),\n-    ('R', u'Tacuarembó'),\n-    ('D', u'Treinta y Tres'),\n+    ('G', 'Artigas'),\n+    ('A', 'Canelones'),\n+    ('E', 'Cerro Largo'),\n+    ('L', 'Colonia'),\n+    ('Q', 'Durazno'),\n+    ('N', 'Flores'),\n+    ('O', 'Florida'),\n+    ('P', 'Lavalleja'),\n+    ('B', 'Maldonado'),\n+    ('S', 'Montevideo'),\n+    ('I', 'Paysandú'),\n+    ('J', 'Río Negro'),\n+    ('F', 'Rivera'),\n+    ('C', 'Rocha'),\n+    ('H', 'Salto'),\n+    ('M', 'San José'),\n+    ('K', 'Soriano'),\n+    ('R', 'Tacuarembó'),\n+    ('D', 'Treinta y Tres'),\n )"
        },
        {
            "sha": "a818c14428286802814d87cd709365f528550ba8",
            "filename": "django/contrib/localflavor/za/forms.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fza%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Flocalflavor%2Fza%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fza%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n South Africa-specific Form helpers\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.core.validators import EMPTY_VALUES\n from django.forms import ValidationError\n@@ -18,14 +19,14 @@ class ZAIDField(CharField):\n     check for the birthdate\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid South African ID number'),\n+        'invalid': _('Enter a valid South African ID number'),\n     }\n \n     def clean(self, value):\n         super(ZAIDField, self).clean(value)\n \n         if value in EMPTY_VALUES:\n-            return u''\n+            return ''\n \n         # strip spaces and dashes\n         value = value.strip().replace(' ', '').replace('-', '')\n@@ -52,7 +53,7 @@ def clean(self, value):\n \n class ZAPostCodeField(RegexField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid South African postal code'),\n+        'invalid': _('Enter a valid South African postal code'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):"
        },
        {
            "sha": "e80818e84e77907ef25665ba6ce0aac4c5ca9069",
            "filename": "django/contrib/messages/storage/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.utils.encoding import force_unicode, StrAndUnicode\n from django.contrib.messages import constants, utils\n@@ -41,7 +43,7 @@ def _get_tags(self):\n                                   strings_only=True)\n         extra_tags = force_unicode(self.extra_tags, strings_only=True)\n         if extra_tags and label_tag:\n-            return u' '.join([extra_tags, label_tag])\n+            return ' '.join([extra_tags, label_tag])\n         elif extra_tags:\n             return extra_tags\n         elif label_tag:"
        },
        {
            "sha": "930f24f22ced88a5b9d5555c7f63dd2fdd3f15e0",
            "filename": "django/contrib/sitemaps/tests/flatpages.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsitemaps%2Ftests%2Fflatpages.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsitemaps%2Ftests%2Fflatpages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2Ftests%2Fflatpages.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.utils.unittest import skipUnless\n \n@@ -17,15 +19,15 @@ def test_flatpage_sitemap(self):\n         from django.contrib.flatpages.models import FlatPage\n \n         public = FlatPage.objects.create(\n-            url=u'/public/',\n-            title=u'Public Page',\n+            url='/public/',\n+            title='Public Page',\n             enable_comments=True,\n             registration_required=False,\n         )\n         public.sites.add(settings.SITE_ID)\n         private = FlatPage.objects.create(\n-            url=u'/private/',\n-            title=u'Private Page',\n+            url='/private/',\n+            title='Private Page',\n             enable_comments=True,\n             registration_required=True\n         )"
        },
        {
            "sha": "d71907e09a458dd8e14bb08f633a50550072704a",
            "filename": "django/contrib/sitemaps/tests/http.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttp.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n from datetime import date\n \n@@ -74,7 +76,7 @@ def test_simple_custom_sitemap(self):\n     def test_localized_priority(self):\n         \"The priority value should not be localized (Refs #14164)\"\n         activate('fr')\n-        self.assertEqual(u'0,3', localize(0.3))\n+        self.assertEqual('0,3', localize(0.3))\n \n         # Retrieve the sitemap. Check that priorities\n         # haven't been rendered in localized format"
        },
        {
            "sha": "1bb2495e6b8d550a1738fb7a1f5dd48b6231d8f7",
            "filename": "django/contrib/sites/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsites%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsites%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsites%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.contrib.sites.models import Site, RequestSite, get_current_site\n from django.core.exceptions import ObjectDoesNotExist\n@@ -32,12 +34,12 @@ def test_site_cache(self):\n         # After updating a Site object (e.g. via the admin), we shouldn't return a\n         # bogus value from the SITE_CACHE.\n         site = Site.objects.get_current()\n-        self.assertEqual(u\"example.com\", site.name)\n+        self.assertEqual(\"example.com\", site.name)\n         s2 = Site.objects.get(id=settings.SITE_ID)\n         s2.name = \"Example site\"\n         s2.save()\n         site = Site.objects.get_current()\n-        self.assertEqual(u\"Example site\", site.name)\n+        self.assertEqual(\"Example site\", site.name)\n \n     def test_get_current_site(self):\n         # Test that the correct Site object is returned\n@@ -59,4 +61,4 @@ def test_get_current_site(self):\n         Site._meta.installed = False\n         site = get_current_site(request)\n         self.assertTrue(isinstance(site, RequestSite))\n-        self.assertEqual(site.name, u\"example.com\")\n+        self.assertEqual(site.name, \"example.com\")"
        },
        {
            "sha": "d3977213a9bb0ef5f660fd86ae0e5f882c1bb29b",
            "filename": "django/contrib/staticfiles/management/commands/collectstatic.py",
            "status": "modified",
            "additions": 16,
            "deletions": 14,
            "changes": 30,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n import sys\n from optparse import make_option\n@@ -117,11 +119,11 @@ def collect(self):\n                                                   dry_run=self.dry_run)\n             for original_path, processed_path, processed in processor:\n                 if processed:\n-                    self.log(u\"Post-processed '%s' as '%s\" %\n+                    self.log(\"Post-processed '%s' as '%s\" %\n                              (original_path, processed_path), level=1)\n                     self.post_processed_files.append(original_path)\n                 else:\n-                    self.log(u\"Skipped post-processing '%s'\" % original_path)\n+                    self.log(\"Skipped post-processing '%s'\" % original_path)\n \n         return {\n             'modified': self.copied_files + self.symlinked_files,\n@@ -146,7 +148,7 @@ def handle_noargs(self, **options):\n             clear_display = 'This will overwrite existing files!'\n \n         if self.interactive:\n-            confirm = raw_input(u\"\"\"\n+            confirm = raw_input(\"\"\"\n You have requested to collect static files at the destination\n location as specified in your settings%s\n \n@@ -195,10 +197,10 @@ def clear_dir(self, path):\n         for f in files:\n             fpath = os.path.join(path, f)\n             if self.dry_run:\n-                self.log(u\"Pretending to delete '%s'\" %\n+                self.log(\"Pretending to delete '%s'\" %\n                          smart_unicode(fpath), level=1)\n             else:\n-                self.log(u\"Deleting '%s'\" % smart_unicode(fpath), level=1)\n+                self.log(\"Deleting '%s'\" % smart_unicode(fpath), level=1)\n                 self.storage.delete(fpath)\n         for d in dirs:\n             self.clear_dir(os.path.join(path, d))\n@@ -235,13 +237,13 @@ def delete_file(self, path, prefixed_path, source_storage):\n                                  and os.path.islink(full_path))):\n                             if prefixed_path not in self.unmodified_files:\n                                 self.unmodified_files.append(prefixed_path)\n-                            self.log(u\"Skipping '%s' (not modified)\" % path)\n+                            self.log(\"Skipping '%s' (not modified)\" % path)\n                             return False\n             # Then delete the existing file if really needed\n             if self.dry_run:\n-                self.log(u\"Pretending to delete '%s'\" % path)\n+                self.log(\"Pretending to delete '%s'\" % path)\n             else:\n-                self.log(u\"Deleting '%s'\" % path)\n+                self.log(\"Deleting '%s'\" % path)\n                 self.storage.delete(prefixed_path)\n         return True\n \n@@ -251,17 +253,17 @@ def link_file(self, path, prefixed_path, source_storage):\n         \"\"\"\n         # Skip this file if it was already copied earlier\n         if prefixed_path in self.symlinked_files:\n-            return self.log(u\"Skipping '%s' (already linked earlier)\" % path)\n+            return self.log(\"Skipping '%s' (already linked earlier)\" % path)\n         # Delete the target file if needed or break\n         if not self.delete_file(path, prefixed_path, source_storage):\n             return\n         # The full path of the source file\n         source_path = source_storage.path(path)\n         # Finally link the file\n         if self.dry_run:\n-            self.log(u\"Pretending to link '%s'\" % source_path, level=1)\n+            self.log(\"Pretending to link '%s'\" % source_path, level=1)\n         else:\n-            self.log(u\"Linking '%s'\" % source_path, level=1)\n+            self.log(\"Linking '%s'\" % source_path, level=1)\n             full_path = self.storage.path(prefixed_path)\n             try:\n                 os.makedirs(os.path.dirname(full_path))\n@@ -277,17 +279,17 @@ def copy_file(self, path, prefixed_path, source_storage):\n         \"\"\"\n         # Skip this file if it was already copied earlier\n         if prefixed_path in self.copied_files:\n-            return self.log(u\"Skipping '%s' (already copied earlier)\" % path)\n+            return self.log(\"Skipping '%s' (already copied earlier)\" % path)\n         # Delete the target file if needed or break\n         if not self.delete_file(path, prefixed_path, source_storage):\n             return\n         # The full path of the source file\n         source_path = source_storage.path(path)\n         # Finally start copying\n         if self.dry_run:\n-            self.log(u\"Pretending to copy '%s'\" % source_path, level=1)\n+            self.log(\"Pretending to copy '%s'\" % source_path, level=1)\n         else:\n-            self.log(u\"Copying '%s'\" % source_path, level=1)\n+            self.log(\"Copying '%s'\" % source_path, level=1)\n             if self.local:\n                 full_path = self.storage.path(prefixed_path)\n                 try:"
        },
        {
            "sha": "772220b34276c9aa6427934fc5fe33d3c5d565a4",
            "filename": "django/contrib/staticfiles/management/commands/findstatic.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,7 +1,9 @@\n+from __future__ import unicode_literals\n+\n import os\n from optparse import make_option\n from django.core.management.base import LabelCommand\n-from django.utils.encoding import smart_str, smart_unicode\n+from django.utils.encoding import smart_unicode\n \n from django.contrib.staticfiles import finders\n \n@@ -21,9 +23,9 @@ def handle_label(self, path, **options):\n         if result:\n             if not isinstance(result, (list, tuple)):\n                 result = [result]\n-            output = u'\\n  '.join(\n+            output = '\\n  '.join(\n                 (smart_unicode(os.path.realpath(path)) for path in result))\n-            self.stdout.write(u\"Found '%s' here:\\n  %s\" % (path, output))\n+            self.stdout.write(\"Found '%s' here:\\n  %s\" % (path, output))\n         else:\n             if verbosity >= 1:\n                 self.stderr.write(\"No matching file found for '%s'.\" % path)"
        },
        {
            "sha": "e02fec8ec05aa9c81558a7127eabdb7474360ff1",
            "filename": "django/contrib/staticfiles/storage.py",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fstorage.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,4 @@\n+from __future__ import unicode_literals\n import hashlib\n import os\n import posixpath\n@@ -46,8 +47,8 @@ def path(self, name):\n class CachedFilesMixin(object):\n     patterns = (\n         (\"*.css\", (\n-            r\"\"\"(url\\(['\"]{0,1}\\s*(.*?)[\"']{0,1}\\))\"\"\",\n-            r\"\"\"(@import\\s*[\"']\\s*(.*?)[\"'])\"\"\",\n+            br\"\"\"(url\\(['\"]{0,1}\\s*(.*?)[\"']{0,1}\\))\"\"\",\n+            br\"\"\"(@import\\s*[\"']\\s*(.*?)[\"'])\"\"\",\n         )),\n     )\n \n@@ -91,8 +92,8 @@ def hashed_name(self, name, content=None):\n         root, ext = os.path.splitext(filename)\n         file_hash = self.file_hash(clean_name, content)\n         if file_hash is not None:\n-            file_hash = u\".%s\" % file_hash\n-        hashed_name = os.path.join(path, u\"%s%s%s\" %\n+            file_hash = \".%s\" % file_hash\n+        hashed_name = os.path.join(path, \"%s%s%s\" %\n                                    (root, file_hash, ext))\n         unparsed_name = list(parsed_name)\n         unparsed_name[2] = hashed_name\n@@ -103,7 +104,7 @@ def hashed_name(self, name, content=None):\n         return urlunsplit(unparsed_name)\n \n     def cache_key(self, name):\n-        return u'staticfiles:%s' % hashlib.md5(smart_str(name)).hexdigest()\n+        return 'staticfiles:%s' % hashlib.md5(smart_str(name)).hexdigest()\n \n     def url(self, name, force=False):\n         \"\"\""
        },
        {
            "sha": "af767e1867a2a7078e8a9e9c688625d483b303e4",
            "filename": "django/contrib/syndication/views.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Fviews.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.contrib.sites.models import get_current_site\n from django.core.exceptions import ImproperlyConfigured, ObjectDoesNotExist\n@@ -18,7 +20,7 @@ def add_domain(domain, url, secure=False):\n             or url.startswith('mailto:')):\n         # 'url' must already be ASCII and URL-quoted, so no need for encoding\n         # conversions here.\n-        url = iri_to_uri(u'%s://%s%s' % (protocol, domain, url))\n+        url = iri_to_uri('%s://%s%s' % (protocol, domain, url))\n     return url\n \n class FeedDoesNotExist(ObjectDoesNotExist):"
        },
        {
            "sha": "01d8f220f5cc19ca4f9fd7e029584ff30c768a2a",
            "filename": "django/contrib/webdesign/lorem_ipsum.py",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Florem_ipsum.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Florem_ipsum.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fwebdesign%2Florem_ipsum.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,8 @@\n Utility functions for generating \"lorem ipsum\" Latin text.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n import random\n \n COMMON_P = 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.'\n@@ -49,18 +51,18 @@ def sentence():\n     \"\"\"\n     # Determine the number of comma-separated sections and number of words in\n     # each section for this sentence.\n-    sections = [u' '.join(random.sample(WORDS, random.randint(3, 12))) for i in range(random.randint(1, 5))]\n-    s = u', '.join(sections)\n+    sections = [' '.join(random.sample(WORDS, random.randint(3, 12))) for i in range(random.randint(1, 5))]\n+    s = ', '.join(sections)\n     # Convert to sentence case and add end punctuation.\n-    return u'%s%s%s' % (s[0].upper(), s[1:], random.choice('?.'))\n+    return '%s%s%s' % (s[0].upper(), s[1:], random.choice('?.'))\n \n def paragraph():\n     \"\"\"\n     Returns a randomly generated paragraph of lorem ipsum text.\n \n     The paragraph consists of between 1 and 4 sentences, inclusive.\n     \"\"\"\n-    return u' '.join([sentence() for i in range(random.randint(1, 4))])\n+    return ' '.join([sentence() for i in range(random.randint(1, 4))])\n \n def paragraphs(count, common=True):\n     \"\"\"\n@@ -98,4 +100,4 @@ def words(count, common=True):\n             word_list += random.sample(WORDS, c)\n     else:\n         word_list = word_list[:count]\n-    return u' '.join(word_list)\n+    return ' '.join(word_list)"
        },
        {
            "sha": "b870299cdae2b43180e01d18740dc6585e7b4717",
            "filename": "django/contrib/webdesign/templatetags/webdesign.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Ftemplatetags%2Fwebdesign.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Ftemplatetags%2Fwebdesign.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fwebdesign%2Ftemplatetags%2Fwebdesign.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib.webdesign.lorem_ipsum import words, paragraphs\n from django import template\n \n@@ -18,7 +20,7 @@ def render(self, context):\n             paras = paragraphs(count, common=self.common)\n         if self.method == 'p':\n             paras = ['<p>%s</p>' % p for p in paras]\n-        return u'\\n\\n'.join(paras)\n+        return '\\n\\n'.join(paras)\n \n @register.tag\n def lorem(parser, token):"
        },
        {
            "sha": "16ec501e447e7b46a8db8cc6e01dda47519d5561",
            "filename": "django/contrib/webdesign/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcontrib%2Fwebdesign%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fwebdesign%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n \n import unittest\n \n@@ -9,7 +10,7 @@\n class WebdesignTest(unittest.TestCase):\n \n     def test_words(self):\n-        self.assertEqual(words(7), u'lorem ipsum dolor sit amet consectetur adipisicing')\n+        self.assertEqual(words(7), 'lorem ipsum dolor sit amet consectetur adipisicing')\n \n     def test_paragraphs(self):\n         self.assertEqual(paragraphs(1),\n@@ -18,4 +19,4 @@ def test_paragraphs(self):\n     def test_lorem_tag(self):\n         t = loader.get_template_from_string(\"{% load webdesign %}{% lorem 3 w %}\")\n         self.assertEqual(t.render(Context({})),\n-                         u'lorem ipsum dolor')\n+                         'lorem ipsum dolor')"
        },
        {
            "sha": "325f64d224efc8d4340502658c4985d69acd2a6c",
            "filename": "django/core/context_processors.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcontext_processors.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -9,6 +9,7 @@\n \n from django.conf import settings\n from django.middleware.csrf import get_token\n+from django.utils.encoding import smart_str\n from django.utils.functional import lazy\n \n def csrf(request):\n@@ -24,7 +25,7 @@ def _get_val():\n             # instead of returning an empty dict.\n             return b'NOTPROVIDED'\n         else:\n-            return token\n+            return smart_str(token)\n     _get_val = lazy(_get_val, str)\n \n     return {'csrf_token': _get_val() }"
        },
        {
            "sha": "04853fad0c3eaf4c3439325aea177280b5b38389",
            "filename": "django/core/files/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Ffiles%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Ffiles%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n from io import BytesIO\n \n@@ -19,7 +21,7 @@ def __str__(self):\n         return smart_str(self.name or '')\n \n     def __unicode__(self):\n-        return smart_unicode(self.name or u'')\n+        return smart_unicode(self.name or '')\n \n     def __repr__(self):\n         return \"<%s: %s>\" % (self.__class__.__name__, self or \"None\")"
        },
        {
            "sha": "68d540e595e6fdca314677742a748fde81a9ab3c",
            "filename": "django/core/files/uploadhandler.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fuploadhandler.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,8 @@\n Base file upload handler classes, and the built-in concrete subclasses\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from io import BytesIO\n \n from django.conf import settings\n@@ -33,9 +35,9 @@ def __init__(self, connection_reset=False):\n \n     def __unicode__(self):\n         if self.connection_reset:\n-            return u'StopUpload: Halt current upload.'\n+            return 'StopUpload: Halt current upload.'\n         else:\n-            return u'StopUpload: Consume request data, then halt.'\n+            return 'StopUpload: Consume request data, then halt.'\n \n class SkipFile(UploadFileException):\n     \"\"\""
        },
        {
            "sha": "4c07524ecc801c1a8ebf01b51c0e8a7ac12061f5",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import sys\n \n from django import http\n@@ -254,9 +256,9 @@ def get_script_name(environ):\n     # rewrites. Unfortunately not every Web server (lighttpd!) passes this\n     # information through all the time, so FORCE_SCRIPT_NAME, above, is still\n     # needed.\n-    script_url = environ.get('SCRIPT_URL', u'')\n+    script_url = environ.get('SCRIPT_URL', '')\n     if not script_url:\n-        script_url = environ.get('REDIRECT_URL', u'')\n+        script_url = environ.get('REDIRECT_URL', '')\n     if script_url:\n         return force_unicode(script_url[:-len(environ.get('PATH_INFO', ''))])\n-    return force_unicode(environ.get('SCRIPT_NAME', u''))\n+    return force_unicode(environ.get('SCRIPT_NAME', ''))"
        },
        {
            "sha": "5215101a35579fcd4bf9ca2c06817a7f5d3c2f36",
            "filename": "django/core/handlers/wsgi.py",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fhandlers%2Fwsgi.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fhandlers%2Fwsgi.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fwsgi.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import sys\n from io import BytesIO\n from threading import Lock\n@@ -7,7 +9,7 @@\n from django.core.handlers import base\n from django.core.urlresolvers import set_script_prefix\n from django.utils import datastructures\n-from django.utils.encoding import force_unicode, iri_to_uri\n+from django.utils.encoding import force_unicode, smart_str, iri_to_uri\n from django.utils.log import getLogger\n \n logger = getLogger('django.request')\n@@ -125,7 +127,7 @@ def readline(self, size=None):\n class WSGIRequest(http.HttpRequest):\n     def __init__(self, environ):\n         script_name = base.get_script_name(environ)\n-        path_info = force_unicode(environ.get('PATH_INFO', u'/'))\n+        path_info = force_unicode(environ.get('PATH_INFO', '/'))\n         if not path_info or path_info == script_name:\n             # Sometimes PATH_INFO exists, but is empty (e.g. accessing\n             # the SCRIPT_NAME URL without a trailing slash). We really need to\n@@ -134,7 +136,7 @@ def __init__(self, environ):\n             #\n             # (The comparison of path_info to script_name is to work around an\n             # apparent bug in flup 1.0.1. See Django ticket #8490).\n-            path_info = u'/'\n+            path_info = '/'\n         self.environ = environ\n         self.path_info = path_info\n         self.path = '%s%s' % (script_name, path_info)\n@@ -246,6 +248,6 @@ def __call__(self, environ, start_response):\n         status = '%s %s' % (response.status_code, status_text)\n         response_headers = [(str(k), str(v)) for k, v in response.items()]\n         for c in response.cookies.values():\n-            response_headers.append(('Set-Cookie', str(c.output(header=''))))\n-        start_response(status, response_headers)\n+            response_headers.append((b'Set-Cookie', str(c.output(header=''))))\n+        start_response(smart_str(status), response_headers)\n         return response"
        },
        {
            "sha": "08f9702934d7e09019e94b2b0b41f466123194df",
            "filename": "django/core/mail/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmail%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmail%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Tools for sending email.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured\n@@ -89,7 +90,7 @@ def mail_admins(subject, message, fail_silently=False, connection=None,\n     \"\"\"Sends a message to the admins, as defined by the ADMINS setting.\"\"\"\n     if not settings.ADMINS:\n         return\n-    mail = EmailMultiAlternatives(u'%s%s' % (settings.EMAIL_SUBJECT_PREFIX, subject),\n+    mail = EmailMultiAlternatives('%s%s' % (settings.EMAIL_SUBJECT_PREFIX, subject),\n                 message, settings.SERVER_EMAIL, [a[1] for a in settings.ADMINS],\n                 connection=connection)\n     if html_message:\n@@ -102,7 +103,7 @@ def mail_managers(subject, message, fail_silently=False, connection=None,\n     \"\"\"Sends a message to the managers, as defined by the MANAGERS setting.\"\"\"\n     if not settings.MANAGERS:\n         return\n-    mail = EmailMultiAlternatives(u'%s%s' % (settings.EMAIL_SUBJECT_PREFIX, subject),\n+    mail = EmailMultiAlternatives('%s%s' % (settings.EMAIL_SUBJECT_PREFIX, subject),\n                 message, settings.SERVER_EMAIL, [a[1] for a in settings.MANAGERS],\n                 connection=connection)\n     if html_message:"
        },
        {
            "sha": "82f6b6900fcf3094eff8c6596c60e50f66f234c7",
            "filename": "django/core/mail/message.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmail%2Fmessage.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmail%2Fmessage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2Fmessage.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import mimetypes\n import os\n import random\n@@ -90,7 +92,7 @@ def forbid_multi_line_headers(name, val, encoding):\n     else:\n         if name.lower() == 'subject':\n             val = Header(val)\n-    return name, val\n+    return smart_str(name), val\n \n \n def sanitize_address(addr, encoding):\n@@ -101,8 +103,8 @@ def sanitize_address(addr, encoding):\n     try:\n         addr = addr.encode('ascii')\n     except UnicodeEncodeError:  # IDN\n-        if u'@' in addr:\n-            localpart, domain = addr.split(u'@', 1)\n+        if '@' in addr:\n+            localpart, domain = addr.split('@', 1)\n             localpart = str(Header(localpart, encoding))\n             domain = domain.encode('idna')\n             addr = '@'.join([localpart, domain])"
        },
        {
            "sha": "fd6dbbbd2c5464578ea87eee47264cf1424332cb",
            "filename": "django/core/management/commands/createcachetable.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,8 @@\n from django.core.management.base import LabelCommand, CommandError\n from django.db import connections, router, transaction, models, DEFAULT_DB_ALIAS\n from django.db.utils import DatabaseError\n+from django.utils.encoding import force_unicode\n+\n \n class Command(LabelCommand):\n     help = \"Creates the table needed to use the SQL cache backend.\"\n@@ -58,7 +60,7 @@ def handle_label(self, tablename, **options):\n             transaction.rollback_unless_managed(using=db)\n             raise CommandError(\n                 \"Cache table '%s' could not be created.\\nThe error was: %s.\" %\n-                    (tablename, e))\n+                    (tablename, force_unicode(e)))\n         for statement in index_output:\n             curs.execute(statement)\n         transaction.commit_unless_managed(using=db)"
        },
        {
            "sha": "34f8041d3382a085e06966d45d43821c14922125",
            "filename": "django/core/management/commands/loaddata.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import sys\n import os\n import gzip\n@@ -12,6 +14,7 @@\n from django.db import (connections, router, transaction, DEFAULT_DB_ALIAS,\n       IntegrityError, DatabaseError)\n from django.db.models import get_apps\n+from django.utils.encoding import force_unicode\n from itertools import product\n \n try:\n@@ -186,7 +189,7 @@ def read(self):\n                                                         'app_label': obj.object._meta.app_label,\n                                                         'object_name': obj.object._meta.object_name,\n                                                         'pk': obj.object.pk,\n-                                                        'error_msg': e\n+                                                        'error_msg': force_unicode(e)\n                                                     },)\n                                                 raise\n "
        },
        {
            "sha": "52b2058650d2e9391543d753b614267227d305ad",
            "filename": "django/core/management/commands/sql.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsql.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -16,4 +18,4 @@ class Command(AppCommand):\n     output_transaction = True\n \n     def handle_app(self, app, **options):\n-        return u'\\n'.join(sql_create(app, self.style, connections[options.get('database')])).encode('utf-8')\n+        return '\\n'.join(sql_create(app, self.style, connections[options.get('database')]))"
        },
        {
            "sha": "6d0735a6f9e46aaae7cdeb9defdb0f78366a62c2",
            "filename": "django/core/management/commands/sqlall.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlall.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlall.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlall.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -16,4 +18,4 @@ class Command(AppCommand):\n     output_transaction = True\n \n     def handle_app(self, app, **options):\n-        return u'\\n'.join(sql_all(app, self.style, connections[options.get('database')])).encode('utf-8')\n+        return '\\n'.join(sql_all(app, self.style, connections[options.get('database')]))"
        },
        {
            "sha": "ec2602d2a3874acc3532b06a4374be04cff7520f",
            "filename": "django/core/management/commands/sqlclear.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlclear.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlclear.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlclear.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -16,4 +18,4 @@ class Command(AppCommand):\n     output_transaction = True\n \n     def handle_app(self, app, **options):\n-        return u'\\n'.join(sql_delete(app, self.style, connections[options.get('database')])).encode('utf-8')\n+        return '\\n'.join(sql_delete(app, self.style, connections[options.get('database')]))"
        },
        {
            "sha": "0d46c4ec705f696c2ca4d94aaa265d79f3ad469f",
            "filename": "django/core/management/commands/sqlcustom.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlcustom.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlcustom.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlcustom.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -16,4 +18,4 @@ class Command(AppCommand):\n     output_transaction = True\n \n     def handle_app(self, app, **options):\n-        return u'\\n'.join(sql_custom(app, self.style, connections[options.get('database')])).encode('utf-8')\n+        return '\\n'.join(sql_custom(app, self.style, connections[options.get('database')]))"
        },
        {
            "sha": "b98ecfd8ff3b8468d4251c123c202fdef18bf2e9",
            "filename": "django/core/management/commands/sqlflush.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlflush.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlflush.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlflush.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import NoArgsCommand\n@@ -16,4 +18,4 @@ class Command(NoArgsCommand):\n     output_transaction = True\n \n     def handle_noargs(self, **options):\n-        return u'\\n'.join(sql_flush(self.style, connections[options.get('database')], only_django=True)).encode('utf-8')\n+        return '\\n'.join(sql_flush(self.style, connections[options.get('database')], only_django=True))"
        },
        {
            "sha": "f95d4f158c8840891be03386e6a2aae0848f4b48",
            "filename": "django/core/management/commands/sqlindexes.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlindexes.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlindexes.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlindexes.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -17,4 +19,4 @@ class Command(AppCommand):\n     output_transaction = True\n \n     def handle_app(self, app, **options):\n-        return u'\\n'.join(sql_indexes(app, self.style, connections[options.get('database')])).encode('utf-8')\n+        return '\\n'.join(sql_indexes(app, self.style, connections[options.get('database')]))"
        },
        {
            "sha": "7b9e85a9ee06b065d40c5b1d6ecaecbf77d626e9",
            "filename": "django/core/management/commands/sqlsequencereset.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlsequencereset.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlsequencereset.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsqlsequencereset.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from optparse import make_option\n \n from django.core.management.base import AppCommand\n@@ -17,4 +19,4 @@ class Command(AppCommand):\n \n     def handle_app(self, app, **options):\n         connection = connections[options.get('database')]\n-        return u'\\n'.join(connection.ops.sequence_reset_sql(self.style, models.get_models(app, include_auto_created=True))).encode('utf-8')\n+        return '\\n'.join(connection.ops.sequence_reset_sql(self.style, models.get_models(app, include_auto_created=True)))"
        },
        {
            "sha": "993d75aa6bb51d3abe5f4783dfa4bcc795d02709",
            "filename": "django/core/management/sql.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fsql.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import os\n import re\n \n@@ -160,9 +162,9 @@ def custom_sql_for_model(model, style, connection):\n             with open(sql_file, 'U') as fp:\n                 for statement in statements.split(fp.read().decode(settings.FILE_CHARSET)):\n                     # Remove any comments from the file\n-                    statement = re.sub(ur\"--.*([\\n\\Z]|$)\", \"\", statement)\n+                    statement = re.sub(r\"--.*([\\n\\Z]|$)\", \"\", statement)\n                     if statement.strip():\n-                        output.append(statement + u\";\")\n+                        output.append(statement + \";\")\n \n     return output\n "
        },
        {
            "sha": "7cd6958abf2b9605a43e84435643951dcd8ed25f",
            "filename": "django/core/management/validation.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fvalidation.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fmanagement%2Fvalidation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fvalidation.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n import sys\n \n from django.core.management.color import color_style\n+from django.utils.encoding import smart_str\n from django.utils.itercompat import is_iterable\n \n class ModelErrorCollection:\n@@ -11,7 +12,7 @@ def __init__(self, outfile=sys.stdout):\n \n     def add(self, context, error):\n         self.errors.append((context, error))\n-        self.outfile.write(self.style.ERROR(\"%s: %s\\n\" % (context, error)))\n+        self.outfile.write(self.style.ERROR(smart_str(\"%s: %s\\n\" % (context, error))))\n \n def get_validation_errors(outfile, app=None):\n     \"\"\""
        },
        {
            "sha": "1b9a61750df3cd3b42e83a1dc5deb907a9917214",
            "filename": "django/core/serializers/json.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fjson.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fjson.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fjson.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -13,6 +13,7 @@\n from django.core.serializers.base import DeserializationError\n from django.core.serializers.python import Serializer as PythonSerializer\n from django.core.serializers.python import Deserializer as PythonDeserializer\n+from django.utils.encoding import smart_str\n from django.utils.timezone import is_aware\n \n class Serializer(PythonSerializer):\n@@ -61,8 +62,10 @@ def Deserializer(stream_or_string, **options):\n     \"\"\"\n     Deserialize a stream or string of JSON data.\n     \"\"\"\n-    if isinstance(stream_or_string, basestring):\n+    if isinstance(stream_or_string, bytes):\n         stream = BytesIO(stream_or_string)\n+    elif isinstance(stream_or_string, unicode):\n+        stream = BytesIO(smart_str(stream_or_string))\n     else:\n         stream = stream_or_string\n     try:"
        },
        {
            "sha": "333161c929560b5a1b650056fe23115b7763a10e",
            "filename": "django/core/serializers/python.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fpython.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fpython.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpython.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,6 +3,7 @@\n and from basic Python data types (lists, dicts, strings, etc.). Useful as a basis for\n other serializers.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.conf import settings\n from django.core.serializers import base\n@@ -138,5 +139,5 @@ def _get_model(model_identifier):\n     except TypeError:\n         Model = None\n     if Model is None:\n-        raise base.DeserializationError(u\"Invalid model identifier: '%s'\" % model_identifier)\n+        raise base.DeserializationError(\"Invalid model identifier: '%s'\" % model_identifier)\n     return Model"
        },
        {
            "sha": "9d9c023b64740e31aa94c8973506ff496ece94d0",
            "filename": "django/core/serializers/xml_serializer.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fxml_serializer.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fserializers%2Fxml_serializer.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fxml_serializer.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,8 @@\n XML serializer.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.core.serializers import base\n from django.db import models, DEFAULT_DB_ALIAS\n@@ -289,4 +291,4 @@ def getInnerText(node):\n             inner_text.extend(getInnerText(child))\n         else:\n            pass\n-    return u\"\".join(inner_text)\n+    return \"\".join(inner_text)"
        },
        {
            "sha": "625ec6348b8b7ffee46a981c6a56ecbec1fcbb1d",
            "filename": "django/core/urlresolvers.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Furlresolvers.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Furlresolvers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Furlresolvers.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,6 +6,7 @@\n \n     (view_function, function_args, function_kwargs)\n \"\"\"\n+from __future__ import unicode_literals\n \n import re\n from threading import local\n@@ -182,7 +183,7 @@ def __init__(self, regex, callback, default_args=None, name=None):\n         self.name = name\n \n     def __repr__(self):\n-        return smart_str(u'<%s %s %s>' % (self.__class__.__name__, self.name, self.regex.pattern))\n+        return smart_str('<%s %s %s>' % (self.__class__.__name__, self.name, self.regex.pattern))\n \n     def add_prefix(self, prefix):\n         \"\"\"\n@@ -232,7 +233,7 @@ def __init__(self, regex, urlconf_name, default_kwargs=None, app_name=None, name\n         self._app_dict = {}\n \n     def __repr__(self):\n-        return smart_str(u'<%s %s (%s:%s) %s>' % (self.__class__.__name__, self.urlconf_name, self.app_name, self.namespace, self.regex.pattern))\n+        return smart_str('<%s %s (%s:%s) %s>' % (self.__class__.__name__, self.urlconf_name, self.app_name, self.namespace, self.regex.pattern))\n \n     def _populate(self):\n         lookups = MultiValueDict()\n@@ -379,7 +380,7 @@ def _reverse_with_prefix(self, lookup_view, _prefix, *args, **kwargs):\n                         continue\n                     unicode_kwargs = dict([(k, force_unicode(v)) for (k, v) in kwargs.items()])\n                     candidate = (prefix_norm + result) % unicode_kwargs\n-                if re.search(u'^%s%s' % (_prefix, pattern), candidate, re.UNICODE):\n+                if re.search('^%s%s' % (_prefix, pattern), candidate, re.UNICODE):\n                     return candidate\n         # lookup_view can be URL label, or dotted path, or callable, Any of\n         # these can be passed in at the top, but callables are not friendly in\n@@ -497,7 +498,7 @@ def get_script_prefix():\n     wishes to construct their own URLs manually (although accessing the request\n     instance is normally going to be a lot cleaner).\n     \"\"\"\n-    return getattr(_prefixes, \"value\", u'/')\n+    return getattr(_prefixes, \"value\", '/')\n \n def set_urlconf(urlconf_name):\n     \"\"\""
        },
        {
            "sha": "c7c89786da4873f19fe17ab56db3547f12b88e56",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 17,
            "deletions": 15,
            "changes": 32,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import re\n import urlparse\n \n@@ -11,7 +13,7 @@\n \n class RegexValidator(object):\n     regex = ''\n-    message = _(u'Enter a valid value.')\n+    message = _('Enter a valid value.')\n     code = 'invalid'\n \n     def __init__(self, regex=None, message=None, code=None):\n@@ -75,13 +77,13 @@ def __call__(self, value):\n             super(EmailValidator, self).__call__(value)\n         except ValidationError as e:\n             # Trivial case failed. Try for possible IDN domain-part\n-            if value and u'@' in value:\n-                parts = value.split(u'@')\n+            if value and '@' in value:\n+                parts = value.split('@')\n                 try:\n                     parts[-1] = parts[-1].encode('idna')\n                 except UnicodeError:\n                     raise e\n-                super(EmailValidator, self).__call__(u'@'.join(parts))\n+                super(EmailValidator, self).__call__('@'.join(parts))\n             else:\n                 raise\n \n@@ -91,17 +93,17 @@ def __call__(self, value):\n     r'|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\"'\n     r')@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,6}\\.?$)'  # domain\n     r'|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$', re.IGNORECASE)  # literal form, ipv4 address (SMTP 4.1.3)\n-validate_email = EmailValidator(email_re, _(u'Enter a valid e-mail address.'), 'invalid')\n+validate_email = EmailValidator(email_re, _('Enter a valid e-mail address.'), 'invalid')\n \n slug_re = re.compile(r'^[-\\w]+$')\n-validate_slug = RegexValidator(slug_re, _(u\"Enter a valid 'slug' consisting of letters, numbers, underscores or hyphens.\"), 'invalid')\n+validate_slug = RegexValidator(slug_re, _(\"Enter a valid 'slug' consisting of letters, numbers, underscores or hyphens.\"), 'invalid')\n \n ipv4_re = re.compile(r'^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$')\n-validate_ipv4_address = RegexValidator(ipv4_re, _(u'Enter a valid IPv4 address.'), 'invalid')\n+validate_ipv4_address = RegexValidator(ipv4_re, _('Enter a valid IPv4 address.'), 'invalid')\n \n def validate_ipv6_address(value):\n     if not is_valid_ipv6_address(value):\n-        raise ValidationError(_(u'Enter a valid IPv6 address.'), code='invalid')\n+        raise ValidationError(_('Enter a valid IPv6 address.'), code='invalid')\n \n def validate_ipv46_address(value):\n     try:\n@@ -110,7 +112,7 @@ def validate_ipv46_address(value):\n         try:\n             validate_ipv6_address(value)\n         except ValidationError:\n-            raise ValidationError(_(u'Enter a valid IPv4 or IPv6 address.'), code='invalid')\n+            raise ValidationError(_('Enter a valid IPv4 or IPv6 address.'), code='invalid')\n \n ip_address_validator_map = {\n     'both': ([validate_ipv46_address], _('Enter a valid IPv4 or IPv6 address.')),\n@@ -135,13 +137,13 @@ def ip_address_validators(protocol, unpack_ipv4):\n                          % (protocol, ip_address_validator_map.keys()))\n \n comma_separated_int_list_re = re.compile('^[\\d,]+$')\n-validate_comma_separated_integer_list = RegexValidator(comma_separated_int_list_re, _(u'Enter only digits separated by commas.'), 'invalid')\n+validate_comma_separated_integer_list = RegexValidator(comma_separated_int_list_re, _('Enter only digits separated by commas.'), 'invalid')\n \n \n class BaseValidator(object):\n     compare = lambda self, a, b: a is not b\n     clean   = lambda self, x: x\n-    message = _(u'Ensure this value is %(limit_value)s (it is %(show_value)s).')\n+    message = _('Ensure this value is %(limit_value)s (it is %(show_value)s).')\n     code = 'limit_value'\n \n     def __init__(self, limit_value):\n@@ -159,23 +161,23 @@ def __call__(self, value):\n \n class MaxValueValidator(BaseValidator):\n     compare = lambda self, a, b: a > b\n-    message = _(u'Ensure this value is less than or equal to %(limit_value)s.')\n+    message = _('Ensure this value is less than or equal to %(limit_value)s.')\n     code = 'max_value'\n \n class MinValueValidator(BaseValidator):\n     compare = lambda self, a, b: a < b\n-    message = _(u'Ensure this value is greater than or equal to %(limit_value)s.')\n+    message = _('Ensure this value is greater than or equal to %(limit_value)s.')\n     code = 'min_value'\n \n class MinLengthValidator(BaseValidator):\n     compare = lambda self, a, b: a < b\n     clean   = lambda self, x: len(x)\n-    message = _(u'Ensure this value has at least %(limit_value)d characters (it has %(show_value)d).')\n+    message = _('Ensure this value has at least %(limit_value)d characters (it has %(show_value)d).')\n     code = 'min_length'\n \n class MaxLengthValidator(BaseValidator):\n     compare = lambda self, a, b: a > b\n     clean   = lambda self, x: len(x)\n-    message = _(u'Ensure this value has at most %(limit_value)d characters (it has %(show_value)d).')\n+    message = _('Ensure this value has at most %(limit_value)d characters (it has %(show_value)d).')\n     code = 'max_length'\n "
        },
        {
            "sha": "ff227b6e7e6b894910f5c68f4ff08910d6b40957",
            "filename": "django/db/backends/mysql/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,6 +3,7 @@\n \n Requires MySQLdb: http://sourceforge.net/projects/mysql-python\n \"\"\"\n+from __future__ import unicode_literals\n \n import datetime\n import re\n@@ -61,8 +62,8 @@ def adapt_datetime_with_timezone_support(value, conv):\n     # Equivalent to DateTimeField.get_db_prep_value. Used only by raw SQL.\n     if settings.USE_TZ:\n         if timezone.is_naive(value):\n-            warnings.warn(u\"SQLite received a naive datetime (%s)\"\n-                          u\" while time zone support is active.\" % value,\n+            warnings.warn(\"SQLite received a naive datetime (%s)\"\n+                          \" while time zone support is active.\" % value,\n                           RuntimeWarning)\n             default_timezone = timezone.get_default_timezone()\n             value = timezone.make_aware(value, default_timezone)"
        },
        {
            "sha": "785e4b72a60b643dc290230e23bc8cf573215a83",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n \n Requires cx_Oracle: http://cx-oracle.sourceforge.net/\n \"\"\"\n-\n+from __future__ import unicode_literals\n \n import datetime\n import decimal\n@@ -160,7 +160,7 @@ def convert_values(self, value, field):\n         # string instead of null, but only if the field accepts the\n         # empty string.\n         if value is None and field and field.empty_strings_allowed:\n-            value = u''\n+            value = ''\n         # Convert 1 or 0 to True or False\n         elif value in (1, 0) and field and field.get_internal_type() in ('BooleanField', 'NullBooleanField'):\n             value = bool(value)\n@@ -235,7 +235,7 @@ def prep_for_iexact_query(self, x):\n \n     def process_clob(self, value):\n         if value is None:\n-            return u''\n+            return ''\n         return force_unicode(value.read())\n \n     def quote_name(self, name):\n@@ -567,8 +567,8 @@ def __init__(self, param, cursor, strings_only=False):\n         # without being converted by DateTimeField.get_db_prep_value.\n         if settings.USE_TZ and isinstance(param, datetime.datetime):\n             if timezone.is_naive(param):\n-                warnings.warn(u\"Oracle received a naive datetime (%s)\"\n-                              u\" while time zone support is active.\" % param,\n+                warnings.warn(\"Oracle received a naive datetime (%s)\"\n+                              \" while time zone support is active.\" % param,\n                               RuntimeWarning)\n                 default_timezone = timezone.get_default_timezone()\n                 param = timezone.make_aware(param, default_timezone)"
        },
        {
            "sha": "99573b90191f9053749d74d3b98fd592f398732f",
            "filename": "django/db/backends/postgresql_psycopg2/introspection.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fintrospection.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fintrospection.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Fintrospection.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db.backends import BaseDatabaseIntrospection\n \n \n@@ -43,7 +45,7 @@ def get_table_description(self, cursor, table_name):\n             WHERE table_name = %s\"\"\", [table_name])\n         null_map = dict(cursor.fetchall())\n         cursor.execute(\"SELECT * FROM %s LIMIT 1\" % self.connection.ops.quote_name(table_name))\n-        return [tuple([item for item in line[:6]] + [null_map[line[0]]==u'YES'])\n+        return [tuple([item for item in line[:6]] + [null_map[line[0]]=='YES'])\n             for line in cursor.description]\n \n     def get_relations(self, cursor, table_name):"
        },
        {
            "sha": "46b464b551fd2533eb234f526d90d709b2fc21bb",
            "filename": "django/db/backends/postgresql_psycopg2/operations.py",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db.backends import BaseDatabaseOperations\n \n \n@@ -21,14 +23,14 @@ def date_interval_sql(self, sql, connector, timedelta):\n         \"\"\"\n         modifiers = []\n         if timedelta.days:\n-            modifiers.append(u'%s days' % timedelta.days)\n+            modifiers.append('%s days' % timedelta.days)\n         if timedelta.seconds:\n-            modifiers.append(u'%s seconds' % timedelta.seconds)\n+            modifiers.append('%s seconds' % timedelta.seconds)\n         if timedelta.microseconds:\n-            modifiers.append(u'%s microseconds' % timedelta.microseconds)\n-        mods = u' '.join(modifiers)\n-        conn = u' %s ' % connector\n-        return u'(%s)' % conn.join([sql, u'interval \\'%s\\'' % mods])\n+            modifiers.append('%s microseconds' % timedelta.microseconds)\n+        mods = ' '.join(modifiers)\n+        conn = ' %s ' % connector\n+        return '(%s)' % conn.join([sql, 'interval \\'%s\\'' % mods])\n \n     def date_trunc_sql(self, lookup_type, field_name):\n         # http://www.postgresql.org/docs/8.0/static/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC"
        },
        {
            "sha": "75e1d9792c26ac194cd3f53d0234b7e2a80ddf12",
            "filename": "django/db/backends/sqlite3/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,7 @@\n Works with either the pysqlite2 module or the sqlite3 module in the\n standard library.\n \"\"\"\n+from __future__ import unicode_literals\n \n import datetime\n import decimal\n@@ -45,8 +46,8 @@ def adapt_datetime_with_timezone_support(value):\n     # Equivalent to DateTimeField.get_db_prep_value. Used only by raw SQL.\n     if settings.USE_TZ:\n         if timezone.is_naive(value):\n-            warnings.warn(u\"SQLite received a naive datetime (%s)\"\n-                          u\" while time zone support is active.\" % value,\n+            warnings.warn(\"SQLite received a naive datetime (%s)\"\n+                          \" while time zone support is active.\" % value,\n                           RuntimeWarning)\n             default_timezone = timezone.get_default_timezone()\n             value = timezone.make_aware(value, default_timezone)\n@@ -118,7 +119,7 @@ def date_interval_sql(self, sql, connector, timedelta):\n         # values differently. So instead we register our own function that\n         # formats the datetime combined with the delta in a manner suitable\n         # for comparisons.\n-        return  u'django_format_dtdelta(%s, \"%s\", \"%d\", \"%d\", \"%d\")' % (sql,\n+        return  'django_format_dtdelta(%s, \"%s\", \"%d\", \"%d\", \"%d\")' % (sql,\n             connector, timedelta.days, timedelta.seconds, timedelta.microseconds)\n \n     def date_trunc_sql(self, lookup_type, field_name):"
        },
        {
            "sha": "775bb3e182390800062545dbb1ac8be9b6752eea",
            "filename": "django/db/backends/util.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fbackends%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Futil.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n import decimal\n import hashlib\n@@ -146,6 +148,6 @@ def format_number(value, max_digits, decimal_places):\n     if isinstance(value, decimal.Decimal):\n         context = decimal.getcontext().copy()\n         context.prec = max_digits\n-        return u'%s' % str(value.quantize(decimal.Decimal(\".1\") ** decimal_places, context=context))\n+        return '%s' % str(value.quantize(decimal.Decimal(\".1\") ** decimal_places, context=context))\n     else:\n-        return u\"%.*f\" % (decimal_places, value)\n+        return \"%.*f\" % (decimal_places, value)"
        },
        {
            "sha": "f52a626d8bd38959feb44752a868cf0f7c775c7f",
            "filename": "django/db/models/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import copy\n import sys\n from functools import update_wrapper\n@@ -373,7 +375,7 @@ def __repr__(self):\n             u = unicode(self)\n         except (UnicodeEncodeError, UnicodeDecodeError):\n             u = '[Bad Unicode data]'\n-        return smart_str(u'<%s: %s>' % (self.__class__.__name__, u))\n+        return smart_str('<%s: %s>' % (self.__class__.__name__, u))\n \n     def __str__(self):\n         if hasattr(self, '__unicode__'):\n@@ -786,7 +788,7 @@ def _perform_date_checks(self, date_checks):\n \n     def date_error_message(self, lookup_type, field, unique_for):\n         opts = self._meta\n-        return _(u\"%(field_name)s must be unique for %(date_field)s %(lookup)s.\") % {\n+        return _(\"%(field_name)s must be unique for %(date_field)s %(lookup)s.\") % {\n             'field_name': unicode(capfirst(opts.get_field(field).verbose_name)),\n             'date_field': unicode(capfirst(opts.get_field(unique_for).verbose_name)),\n             'lookup': lookup_type,\n@@ -810,7 +812,7 @@ def unique_error_message(self, model_class, unique_check):\n         else:\n             field_labels = map(lambda f: capfirst(opts.get_field(f).verbose_name), unique_check)\n             field_labels = get_text_list(field_labels, _('and'))\n-            return _(u\"%(model_name)s with this %(field_label)s already exists.\") %  {\n+            return _(\"%(model_name)s with this %(field_label)s already exists.\") %  {\n                 'model_name': unicode(model_name),\n                 'field_label': unicode(field_labels)\n             }"
        },
        {
            "sha": "9db76a617b2ac30bf30a7e3df4b37fc1a103251b",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 31,
            "deletions": 29,
            "changes": 60,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import collections\n import copy\n import datetime\n@@ -61,16 +63,16 @@ class Field(object):\n     auto_creation_counter = -1\n     default_validators = [] # Default set of validators\n     default_error_messages = {\n-        'invalid_choice': _(u'Value %r is not a valid choice.'),\n-        'null': _(u'This field cannot be null.'),\n-        'blank': _(u'This field cannot be blank.'),\n-        'unique': _(u'%(model_name)s with this %(field_label)s '\n-                    u'already exists.'),\n+        'invalid_choice': _('Value %r is not a valid choice.'),\n+        'null': _('This field cannot be null.'),\n+        'blank': _('This field cannot be blank.'),\n+        'unique': _('%(model_name)s with this %(field_label)s '\n+                    'already exists.'),\n     }\n \n     # Generic field type description, usually overriden by subclasses\n     def _description(self):\n-        return _(u'Field of type: %(field_type)s') % {\n+        return _('Field of type: %(field_type)s') % {\n             'field_type': self.__class__.__name__\n         }\n     description = property(_description)\n@@ -512,7 +514,7 @@ class AutoField(Field):\n \n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value must be an integer.\"),\n+        'invalid': _(\"'%s' value must be an integer.\"),\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -560,7 +562,7 @@ def formfield(self, **kwargs):\n class BooleanField(Field):\n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value must be either True or False.\"),\n+        'invalid': _(\"'%s' value must be either True or False.\"),\n     }\n     description = _(\"Boolean (Either True or False)\")\n \n@@ -646,7 +648,7 @@ class CommaSeparatedIntegerField(CharField):\n     def formfield(self, **kwargs):\n         defaults = {\n             'error_messages': {\n-                'invalid': _(u'Enter only digits separated by commas.'),\n+                'invalid': _('Enter only digits separated by commas.'),\n             }\n         }\n         defaults.update(kwargs)\n@@ -655,10 +657,10 @@ def formfield(self, **kwargs):\n class DateField(Field):\n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value has an invalid date format. It must be \"\n-                     u\"in YYYY-MM-DD format.\"),\n-        'invalid_date': _(u\"'%s' value has the correct format (YYYY-MM-DD) \"\n-                          u\"but it is an invalid date.\"),\n+        'invalid': _(\"'%s' value has an invalid date format. It must be \"\n+                     \"in YYYY-MM-DD format.\"),\n+        'invalid_date': _(\"'%s' value has the correct format (YYYY-MM-DD) \"\n+                          \"but it is an invalid date.\"),\n     }\n     description = _(\"Date (without time)\")\n \n@@ -743,13 +745,13 @@ def formfield(self, **kwargs):\n class DateTimeField(DateField):\n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value has an invalid format. It must be in \"\n-                     u\"YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ] format.\"),\n-        'invalid_date': _(u\"'%s' value has the correct format \"\n-                          u\"(YYYY-MM-DD) but it is an invalid date.\"),\n-        'invalid_datetime': _(u\"'%s' value has the correct format \"\n-                              u\"(YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ]) \"\n-                              u\"but it is an invalid date/time.\"),\n+        'invalid': _(\"'%s' value has an invalid format. It must be in \"\n+                     \"YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ] format.\"),\n+        'invalid_date': _(\"'%s' value has the correct format \"\n+                          \"(YYYY-MM-DD) but it is an invalid date.\"),\n+        'invalid_datetime': _(\"'%s' value has the correct format \"\n+                              \"(YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ]) \"\n+                              \"but it is an invalid date/time.\"),\n     }\n     description = _(\"Date (with time)\")\n \n@@ -770,8 +772,8 @@ def to_python(self, value):\n                 # local time. This won't work during DST change, but we can't\n                 # do much about it, so we let the exceptions percolate up the\n                 # call stack.\n-                warnings.warn(u\"DateTimeField received a naive datetime (%s)\"\n-                              u\" while time zone support is active.\" % value,\n+                warnings.warn(\"DateTimeField received a naive datetime (%s)\"\n+                              \" while time zone support is active.\" % value,\n                               RuntimeWarning)\n                 default_timezone = timezone.get_default_timezone()\n                 value = timezone.make_aware(value, default_timezone)\n@@ -815,8 +817,8 @@ def get_prep_value(self, value):\n             # For backwards compatibility, interpret naive datetimes in local\n             # time. This won't work during DST change, but we can't do much\n             # about it, so we let the exceptions percolate up the call stack.\n-            warnings.warn(u\"DateTimeField received a naive datetime (%s)\"\n-                          u\" while time zone support is active.\" % value,\n+            warnings.warn(\"DateTimeField received a naive datetime (%s)\"\n+                          \" while time zone support is active.\" % value,\n                           RuntimeWarning)\n             default_timezone = timezone.get_default_timezone()\n             value = timezone.make_aware(value, default_timezone)\n@@ -840,7 +842,7 @@ def formfield(self, **kwargs):\n class DecimalField(Field):\n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value must be a decimal number.\"),\n+        'invalid': _(\"'%s' value must be a decimal number.\"),\n     }\n     description = _(\"Decimal number\")\n \n@@ -1195,10 +1197,10 @@ def formfield(self, **kwargs):\n class TimeField(Field):\n     empty_strings_allowed = False\n     default_error_messages = {\n-        'invalid': _(u\"'%s' value has an invalid format. It must be in \"\n-                     u\"HH:MM[:ss[.uuuuuu]] format.\"),\n-        'invalid_time': _(u\"'%s' value has the correct format \"\n-                          u\"(HH:MM[:ss[.uuuuuu]]) but it is an invalid time.\"),\n+        'invalid': _(\"'%s' value has an invalid format. It must be in \"\n+                     \"HH:MM[:ss[.uuuuuu]] format.\"),\n+        'invalid_time': _(\"'%s' value has the correct format \"\n+                          \"(HH:MM[:ss[.uuuuuu]]) but it is an invalid time.\"),\n     }\n     description = _(\"Time\")\n "
        },
        {
            "sha": "e0c095974dca323d13a58aa70089d9f8ca408a8a",
            "filename": "django/db/models/fields/files.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2Ffiles.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -207,7 +207,7 @@ def __set__(self, instance, value):\n class FileField(Field):\n \n     default_error_messages = {\n-        'max_length': _(u'Filename is %(extra)d characters too long.')\n+        'max_length': _('Filename is %(extra)d characters too long.')\n     }\n \n     # The class to wrap instance attributes in. Accessing the file object off"
        },
        {
            "sha": "6c39b25a740b51cda494dbe9b8bc6056f10ebb01",
            "filename": "django/forms/extras/widgets.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fextras%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fextras%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fextras%2Fwidgets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Extra HTML Widget classes\n \"\"\"\n+from __future__ import unicode_literals\n \n import datetime\n import re\n@@ -90,7 +91,7 @@ def render(self, name, value, attrs=None):\n                 output.append(month_html)\n             elif field == 'day':\n                 output.append(day_html)\n-        return mark_safe(u'\\n'.join(output))\n+        return mark_safe('\\n'.join(output))\n \n     def id_for_label(self, id_):\n         first_select = None"
        },
        {
            "sha": "4668eade974c6587b1349d1bbb629f5617ef3c16",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 36,
            "deletions": 36,
            "changes": 72,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Field classes.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import copy\n import datetime\n@@ -20,7 +20,7 @@\n     NullBooleanSelect, SelectMultiple, DateInput, DateTimeInput, TimeInput,\n     SplitDateTimeWidget, SplitHiddenDateTimeWidget, FILE_INPUT_CONTRADICTION)\n from django.utils import formats\n-from django.utils.encoding import smart_unicode, smart_str, force_unicode\n+from django.utils.encoding import smart_unicode, force_unicode\n from django.utils.ipv6 import clean_ipv6_address\n from django.utils.translation import ugettext_lazy as _\n \n@@ -44,8 +44,8 @@ class Field(object):\n     hidden_widget = HiddenInput # Default widget to use when rendering this as \"hidden\".\n     default_validators = [] # Default set of validators\n     default_error_messages = {\n-        'required': _(u'This field is required.'),\n-        'invalid': _(u'Enter a valid value.'),\n+        'required': _('This field is required.'),\n+        'invalid': _('Enter a valid value.'),\n     }\n \n     # Tracks each time a Field instance is created. Used to retain order.\n@@ -78,7 +78,7 @@ def __init__(self, required=True, widget=None, label=None, initial=None,\n         self.required, self.label, self.initial = required, label, initial\n         self.show_hidden_initial = show_hidden_initial\n         if help_text is None:\n-            self.help_text = u''\n+            self.help_text = ''\n         else:\n             self.help_text = smart_unicode(help_text)\n         widget = widget or self.widget\n@@ -190,7 +190,7 @@ def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n     def to_python(self, value):\n         \"Returns a Unicode object.\"\n         if value in validators.EMPTY_VALUES:\n-            return u''\n+            return ''\n         return smart_unicode(value)\n \n     def widget_attrs(self, widget):\n@@ -202,9 +202,9 @@ def widget_attrs(self, widget):\n \n class IntegerField(Field):\n     default_error_messages = {\n-        'invalid': _(u'Enter a whole number.'),\n-        'max_value': _(u'Ensure this value is less than or equal to %(limit_value)s.'),\n-        'min_value': _(u'Ensure this value is greater than or equal to %(limit_value)s.'),\n+        'invalid': _('Enter a whole number.'),\n+        'max_value': _('Ensure this value is less than or equal to %(limit_value)s.'),\n+        'min_value': _('Ensure this value is greater than or equal to %(limit_value)s.'),\n     }\n \n     def __init__(self, max_value=None, min_value=None, *args, **kwargs):\n@@ -234,7 +234,7 @@ def to_python(self, value):\n \n class FloatField(IntegerField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a number.'),\n+        'invalid': _('Enter a number.'),\n     }\n \n     def to_python(self, value):\n@@ -255,9 +255,9 @@ def to_python(self, value):\n \n class DecimalField(Field):\n     default_error_messages = {\n-        'invalid': _(u'Enter a number.'),\n-        'max_value': _(u'Ensure this value is less than or equal to %(limit_value)s.'),\n-        'min_value': _(u'Ensure this value is greater than or equal to %(limit_value)s.'),\n+        'invalid': _('Enter a number.'),\n+        'max_value': _('Ensure this value is less than or equal to %(limit_value)s.'),\n+        'min_value': _('Ensure this value is greater than or equal to %(limit_value)s.'),\n         'max_digits': _('Ensure that there are no more than %s digits in total.'),\n         'max_decimal_places': _('Ensure that there are no more than %s decimal places.'),\n         'max_whole_digits': _('Ensure that there are no more than %s digits before the decimal point.')\n@@ -284,7 +284,7 @@ def to_python(self, value):\n             return None\n         if self.localize:\n             value = formats.sanitize_separators(value)\n-        value = smart_str(value).strip()\n+        value = smart_unicode(value).strip()\n         try:\n             value = Decimal(value)\n         except DecimalException:\n@@ -348,7 +348,7 @@ class DateField(BaseTemporalField):\n     widget = DateInput\n     input_formats = formats.get_format_lazy('DATE_INPUT_FORMATS')\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid date.'),\n+        'invalid': _('Enter a valid date.'),\n     }\n \n     def to_python(self, value):\n@@ -371,7 +371,7 @@ class TimeField(BaseTemporalField):\n     widget = TimeInput\n     input_formats = formats.get_format_lazy('TIME_INPUT_FORMATS')\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid time.')\n+        'invalid': _('Enter a valid time.')\n     }\n \n     def to_python(self, value):\n@@ -392,7 +392,7 @@ class DateTimeField(BaseTemporalField):\n     widget = DateTimeInput\n     input_formats = formats.get_format_lazy('DATETIME_INPUT_FORMATS')\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid date/time.'),\n+        'invalid': _('Enter a valid date/time.'),\n     }\n \n     def prepare_value(self, value):\n@@ -457,7 +457,7 @@ def _set_regex(self, regex):\n \n class EmailField(CharField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid e-mail address.'),\n+        'invalid': _('Enter a valid e-mail address.'),\n     }\n     default_validators = [validators.validate_email]\n \n@@ -468,11 +468,11 @@ def clean(self, value):\n class FileField(Field):\n     widget = ClearableFileInput\n     default_error_messages = {\n-        'invalid': _(u\"No file was submitted. Check the encoding type on the form.\"),\n-        'missing': _(u\"No file was submitted.\"),\n-        'empty': _(u\"The submitted file is empty.\"),\n-        'max_length': _(u'Ensure this filename has at most %(max)d characters (it has %(length)d).'),\n-        'contradiction': _(u'Please either submit a file or check the clear checkbox, not both.')\n+        'invalid': _(\"No file was submitted. Check the encoding type on the form.\"),\n+        'missing': _(\"No file was submitted.\"),\n+        'empty': _(\"The submitted file is empty.\"),\n+        'max_length': _('Ensure this filename has at most %(max)d characters (it has %(length)d).'),\n+        'contradiction': _('Please either submit a file or check the clear checkbox, not both.')\n     }\n \n     def __init__(self, *args, **kwargs):\n@@ -527,7 +527,7 @@ def bound_data(self, data, initial):\n \n class ImageField(FileField):\n     default_error_messages = {\n-        'invalid_image': _(u\"Upload a valid image. The file you uploaded was either not an image or a corrupted image.\"),\n+        'invalid_image': _(\"Upload a valid image. The file you uploaded was either not an image or a corrupted image.\"),\n     }\n \n     def to_python(self, data):\n@@ -583,7 +583,7 @@ def to_python(self, data):\n \n class URLField(CharField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid URL.'),\n+        'invalid': _('Enter a valid URL.'),\n     }\n \n     def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n@@ -669,7 +669,7 @@ def validate(self, value):\n class ChoiceField(Field):\n     widget = Select\n     default_error_messages = {\n-        'invalid_choice': _(u'Select a valid choice. %(value)s is not one of the available choices.'),\n+        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n     }\n \n     def __init__(self, choices=(), required=True, widget=None, label=None,\n@@ -697,7 +697,7 @@ def _set_choices(self, value):\n     def to_python(self, value):\n         \"Returns a Unicode object.\"\n         if value in validators.EMPTY_VALUES:\n-            return u''\n+            return ''\n         return smart_unicode(value)\n \n     def validate(self, value):\n@@ -749,8 +749,8 @@ class MultipleChoiceField(ChoiceField):\n     hidden_widget = MultipleHiddenInput\n     widget = SelectMultiple\n     default_error_messages = {\n-        'invalid_choice': _(u'Select a valid choice. %(value)s is not one of the available choices.'),\n-        'invalid_list': _(u'Enter a list of values.'),\n+        'invalid_choice': _('Select a valid choice. %(value)s is not one of the available choices.'),\n+        'invalid_list': _('Enter a list of values.'),\n     }\n \n     def to_python(self, value):\n@@ -838,7 +838,7 @@ class MultiValueField(Field):\n     You'll probably want to use this with MultiWidget.\n     \"\"\"\n     default_error_messages = {\n-        'invalid': _(u'Enter a list of values.'),\n+        'invalid': _('Enter a list of values.'),\n     }\n \n     def __init__(self, fields=(), *args, **kwargs):\n@@ -956,8 +956,8 @@ class SplitDateTimeField(MultiValueField):\n     widget = SplitDateTimeWidget\n     hidden_widget = SplitHiddenDateTimeWidget\n     default_error_messages = {\n-        'invalid_date': _(u'Enter a valid date.'),\n-        'invalid_time': _(u'Enter a valid time.'),\n+        'invalid_date': _('Enter a valid date.'),\n+        'invalid_time': _('Enter a valid time.'),\n     }\n \n     def __init__(self, input_date_formats=None, input_time_formats=None, *args, **kwargs):\n@@ -990,7 +990,7 @@ def compress(self, data_list):\n \n class IPAddressField(CharField):\n     default_error_messages = {\n-        'invalid': _(u'Enter a valid IPv4 address.'),\n+        'invalid': _('Enter a valid IPv4 address.'),\n     }\n     default_validators = [validators.validate_ipv4_address]\n \n@@ -1007,7 +1007,7 @@ def __init__(self, protocol='both', unpack_ipv4=False, *args, **kwargs):\n \n     def to_python(self, value):\n         if value in validators.EMPTY_VALUES:\n-            return u''\n+            return ''\n         if value and ':' in value:\n                 return clean_ipv6_address(value,\n                     self.unpack_ipv4, self.error_messages['invalid'])\n@@ -1016,7 +1016,7 @@ def to_python(self, value):\n \n class SlugField(CharField):\n     default_error_messages = {\n-        'invalid': _(u\"Enter a valid 'slug' consisting of letters, numbers,\"\n-                     u\" underscores or hyphens.\"),\n+        'invalid': _(\"Enter a valid 'slug' consisting of letters, numbers,\"\n+                     \" underscores or hyphens.\"),\n     }\n     default_validators = [validators.validate_slug]"
        },
        {
            "sha": "22c3057c627a7dac5c47d1d305d42405271404c9",
            "filename": "django/forms/forms.py",
            "status": "modified",
            "additions": 18,
            "deletions": 18,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n Form classes\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import copy\n \n@@ -23,7 +23,7 @@\n def pretty_name(name):\n     \"\"\"Converts 'first_name' to 'First name'\"\"\"\n     if not name:\n-        return u''\n+        return ''\n     return name.replace('_', ' ').capitalize()\n \n def get_declared_fields(bases, attrs, with_base_fields=True):\n@@ -136,7 +136,7 @@ def add_initial_prefix(self, field_name):\n         \"\"\"\n         Add a 'initial' prefix for checking dynamic initial values\n         \"\"\"\n-        return u'initial-%s' % self.add_prefix(field_name)\n+        return 'initial-%s' % self.add_prefix(field_name)\n \n     def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_on_separate_row):\n         \"Helper function for outputting HTML. Used by as_table(), as_ul(), as_p().\"\n@@ -149,7 +149,7 @@ def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_\n             bf_errors = self.error_class([conditional_escape(error) for error in bf.errors]) # Escape and cache in local variable.\n             if bf.is_hidden:\n                 if bf_errors:\n-                    top_errors.extend([u'(Hidden field %s) %s' % (name, force_unicode(e)) for e in bf_errors])\n+                    top_errors.extend(['(Hidden field %s) %s' % (name, force_unicode(e)) for e in bf_errors])\n                 hidden_fields.append(unicode(bf))\n             else:\n                 # Create a 'class=\"...\"' atribute if the row should have any\n@@ -175,7 +175,7 @@ def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_\n                 if field.help_text:\n                     help_text = help_text_html % force_unicode(field.help_text)\n                 else:\n-                    help_text = u''\n+                    help_text = ''\n \n                 output.append(normal_row % {\n                     'errors': force_unicode(bf_errors),\n@@ -189,7 +189,7 @@ def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_\n             output.insert(0, error_row % force_unicode(top_errors))\n \n         if hidden_fields: # Insert any hidden fields in the last row.\n-            str_hidden = u''.join(hidden_fields)\n+            str_hidden = ''.join(hidden_fields)\n             if output:\n                 last_row = output[-1]\n                 # Chop off the trailing row_ender (e.g. '</td></tr>') and\n@@ -208,33 +208,33 @@ def _html_output(self, normal_row, error_row, row_ender, help_text_html, errors_\n                 # If there aren't any rows in the output, just append the\n                 # hidden fields.\n                 output.append(str_hidden)\n-        return mark_safe(u'\\n'.join(output))\n+        return mark_safe('\\n'.join(output))\n \n     def as_table(self):\n         \"Returns this form rendered as HTML <tr>s -- excluding the <table></table>.\"\n         return self._html_output(\n-            normal_row = u'<tr%(html_class_attr)s><th>%(label)s</th><td>%(errors)s%(field)s%(help_text)s</td></tr>',\n-            error_row = u'<tr><td colspan=\"2\">%s</td></tr>',\n-            row_ender = u'</td></tr>',\n-            help_text_html = u'<br /><span class=\"helptext\">%s</span>',\n+            normal_row = '<tr%(html_class_attr)s><th>%(label)s</th><td>%(errors)s%(field)s%(help_text)s</td></tr>',\n+            error_row = '<tr><td colspan=\"2\">%s</td></tr>',\n+            row_ender = '</td></tr>',\n+            help_text_html = '<br /><span class=\"helptext\">%s</span>',\n             errors_on_separate_row = False)\n \n     def as_ul(self):\n         \"Returns this form rendered as HTML <li>s -- excluding the <ul></ul>.\"\n         return self._html_output(\n-            normal_row = u'<li%(html_class_attr)s>%(errors)s%(label)s %(field)s%(help_text)s</li>',\n-            error_row = u'<li>%s</li>',\n+            normal_row = '<li%(html_class_attr)s>%(errors)s%(label)s %(field)s%(help_text)s</li>',\n+            error_row = '<li>%s</li>',\n             row_ender = '</li>',\n-            help_text_html = u' <span class=\"helptext\">%s</span>',\n+            help_text_html = ' <span class=\"helptext\">%s</span>',\n             errors_on_separate_row = False)\n \n     def as_p(self):\n         \"Returns this form rendered as HTML <p>s.\"\n         return self._html_output(\n-            normal_row = u'<p%(html_class_attr)s>%(label)s %(field)s%(help_text)s</p>',\n-            error_row = u'%s',\n+            normal_row = '<p%(html_class_attr)s>%(label)s %(field)s%(help_text)s</p>',\n+            error_row = '%s',\n             row_ender = '</p>',\n-            help_text_html = u' <span class=\"helptext\">%s</span>',\n+            help_text_html = ' <span class=\"helptext\">%s</span>',\n             errors_on_separate_row = True)\n \n     def non_field_errors(self):\n@@ -508,7 +508,7 @@ def label_tag(self, contents=None, attrs=None):\n         id_ = widget.attrs.get('id') or self.auto_id\n         if id_:\n             attrs = attrs and flatatt(attrs) or ''\n-            contents = u'<label for=\"%s\"%s>%s</label>' % (widget.id_for_label(id_), attrs, unicode(contents))\n+            contents = '<label for=\"%s\"%s>%s</label>' % (widget.id_for_label(id_), attrs, unicode(contents))\n         return mark_safe(contents)\n \n     def css_classes(self, extra_classes=None):"
        },
        {
            "sha": "31ca088bdb3db20fd507dcbb0f5df350cc792d5d",
            "filename": "django/forms/formsets.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fformsets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.exceptions import ValidationError\n from django.forms import Form\n@@ -314,11 +314,11 @@ def add_fields(self, form, index):\n         if self.can_order:\n             # Only pre-fill the ordering field for initial forms.\n             if index is not None and index < self.initial_form_count():\n-                form.fields[ORDERING_FIELD_NAME] = IntegerField(label=_(u'Order'), initial=index+1, required=False)\n+                form.fields[ORDERING_FIELD_NAME] = IntegerField(label=_('Order'), initial=index+1, required=False)\n             else:\n-                form.fields[ORDERING_FIELD_NAME] = IntegerField(label=_(u'Order'), required=False)\n+                form.fields[ORDERING_FIELD_NAME] = IntegerField(label=_('Order'), required=False)\n         if self.can_delete:\n-            form.fields[DELETION_FIELD_NAME] = BooleanField(label=_(u'Delete'), required=False)\n+            form.fields[DELETION_FIELD_NAME] = BooleanField(label=_('Delete'), required=False)\n \n     def add_prefix(self, index):\n         return '%s-%s' % (self.prefix, index)\n@@ -344,26 +344,26 @@ def as_table(self):\n         # XXX: there is no semantic division between forms here, there\n         # probably should be. It might make sense to render each form as a\n         # table row with each field as a td.\n-        forms = u' '.join([form.as_table() for form in self])\n-        return mark_safe(u'\\n'.join([unicode(self.management_form), forms]))\n+        forms = ' '.join([form.as_table() for form in self])\n+        return mark_safe('\\n'.join([unicode(self.management_form), forms]))\n \n     def as_p(self):\n         \"Returns this formset rendered as HTML <p>s.\"\n-        forms = u' '.join([form.as_p() for form in self])\n-        return mark_safe(u'\\n'.join([unicode(self.management_form), forms]))\n+        forms = ' '.join([form.as_p() for form in self])\n+        return mark_safe('\\n'.join([unicode(self.management_form), forms]))\n \n     def as_ul(self):\n         \"Returns this formset rendered as HTML <li>s.\"\n-        forms = u' '.join([form.as_ul() for form in self])\n-        return mark_safe(u'\\n'.join([unicode(self.management_form), forms]))\n+        forms = ' '.join([form.as_ul() for form in self])\n+        return mark_safe('\\n'.join([unicode(self.management_form), forms]))\n \n def formset_factory(form, formset=BaseFormSet, extra=1, can_order=False,\n                     can_delete=False, max_num=None):\n     \"\"\"Return a FormSet for the given form class.\"\"\"\n     attrs = {'form': form, 'extra': extra,\n              'can_order': can_order, 'can_delete': can_delete,\n              'max_num': max_num}\n-    return type(form.__name__ + 'FormSet', (formset,), attrs)\n+    return type(form.__name__ + b'FormSet', (formset,), attrs)\n \n def all_valid(formsets):\n     \"\"\"Returns true if every formset in formsets is valid.\"\"\""
        },
        {
            "sha": "26f869155b593173225165f625b99f7db5e41a76",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,7 +3,7 @@\n and database field objects.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.exceptions import ValidationError, NON_FIELD_ERRORS, FieldError\n from django.core.validators import EMPTY_VALUES\n@@ -846,7 +846,7 @@ class InlineForeignKeyField(Field):\n     given parent instance in an inline.\n     \"\"\"\n     default_error_messages = {\n-        'invalid_choice': _(u'The inline foreign key did not match the parent instance primary key.'),\n+        'invalid_choice': _('The inline foreign key did not match the parent instance primary key.'),\n     }\n \n     def __init__(self, parent_instance, *args, **kwargs):\n@@ -884,7 +884,7 @@ def __init__(self, field):\n \n     def __iter__(self):\n         if self.field.empty_label is not None:\n-            yield (u\"\", self.field.empty_label)\n+            yield (\"\", self.field.empty_label)\n         if self.field.cache_choices:\n             if self.field.choice_cache is None:\n                 self.field.choice_cache = [\n@@ -907,11 +907,11 @@ class ModelChoiceField(ChoiceField):\n     # This class is a subclass of ChoiceField for purity, but it doesn't\n     # actually use any of ChoiceField's implementation.\n     default_error_messages = {\n-        'invalid_choice': _(u'Select a valid choice. That choice is not one of'\n-                            u' the available choices.'),\n+        'invalid_choice': _('Select a valid choice. That choice is not one of'\n+                            ' the available choices.'),\n     }\n \n-    def __init__(self, queryset, empty_label=u\"---------\", cache_choices=False,\n+    def __init__(self, queryset, empty_label=\"---------\", cache_choices=False,\n                  required=True, widget=None, label=None, initial=None,\n                  help_text=None, to_field_name=None, *args, **kwargs):\n         if required and (initial is not None):\n@@ -996,10 +996,10 @@ class ModelMultipleChoiceField(ModelChoiceField):\n     widget = SelectMultiple\n     hidden_widget = MultipleHiddenInput\n     default_error_messages = {\n-        'list': _(u'Enter a list of values.'),\n-        'invalid_choice': _(u'Select a valid choice. %s is not one of the'\n-                            u' available choices.'),\n-        'invalid_pk_value': _(u'\"%s\" is not a valid value for a primary key.')\n+        'list': _('Enter a list of values.'),\n+        'invalid_choice': _('Select a valid choice. %s is not one of the'\n+                            ' available choices.'),\n+        'invalid_pk_value': _('\"%s\" is not a valid value for a primary key.')\n     }\n \n     def __init__(self, queryset, cache_choices=False, required=True,"
        },
        {
            "sha": "ca53b1f3d45b9b402d38fc81fb09f5283222eccb",
            "filename": "django/forms/util.py",
            "status": "modified",
            "additions": 12,
            "deletions": 10,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Futil.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.conf import settings\n from django.utils.html import conditional_escape\n from django.utils.encoding import StrAndUnicode, force_unicode\n@@ -16,7 +18,7 @@ def flatatt(attrs):\n     XML-style pairs.  It is assumed that the keys do not need to be XML-escaped.\n     If the passed dictionary is empty, then return an empty string.\n     \"\"\"\n-    return u''.join([u' %s=\"%s\"' % (k, conditional_escape(v)) for k, v in attrs.items()])\n+    return ''.join([' %s=\"%s\"' % (k, conditional_escape(v)) for k, v in attrs.items()])\n \n class ErrorDict(dict, StrAndUnicode):\n     \"\"\"\n@@ -28,13 +30,13 @@ def __unicode__(self):\n         return self.as_ul()\n \n     def as_ul(self):\n-        if not self: return u''\n-        return mark_safe(u'<ul class=\"errorlist\">%s</ul>'\n-                % ''.join([u'<li>%s%s</li>' % (k, conditional_escape(force_unicode(v)))\n+        if not self: return ''\n+        return mark_safe('<ul class=\"errorlist\">%s</ul>'\n+                % ''.join(['<li>%s%s</li>' % (k, conditional_escape(force_unicode(v)))\n                     for k, v in self.items()]))\n \n     def as_text(self):\n-        return u'\\n'.join([u'* %s\\n%s' % (k, u'\\n'.join([u'  * %s' % force_unicode(i) for i in v])) for k, v in self.items()])\n+        return '\\n'.join(['* %s\\n%s' % (k, '\\n'.join(['  * %s' % force_unicode(i) for i in v])) for k, v in self.items()])\n \n class ErrorList(list, StrAndUnicode):\n     \"\"\"\n@@ -44,13 +46,13 @@ def __unicode__(self):\n         return self.as_ul()\n \n     def as_ul(self):\n-        if not self: return u''\n-        return mark_safe(u'<ul class=\"errorlist\">%s</ul>'\n-                % ''.join([u'<li>%s</li>' % conditional_escape(force_unicode(e)) for e in self]))\n+        if not self: return ''\n+        return mark_safe('<ul class=\"errorlist\">%s</ul>'\n+                % ''.join(['<li>%s</li>' % conditional_escape(force_unicode(e)) for e in self]))\n \n     def as_text(self):\n-        if not self: return u''\n-        return u'\\n'.join([u'* %s' % force_unicode(e) for e in self])\n+        if not self: return ''\n+        return '\\n'.join(['* %s' % force_unicode(e) for e in self])\n \n     def __repr__(self):\n         return repr([force_unicode(e) for e in self])"
        },
        {
            "sha": "2fddee918a265b020a80c147e749f2378d30bd75",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 45,
            "deletions": 45,
            "changes": 90,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n HTML Widget classes\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import copy\n import datetime\n@@ -50,23 +50,23 @@ def __unicode__(self):\n         return self.render()\n \n     def render(self):\n-        return mark_safe(u'\\n'.join(chain(*[getattr(self, 'render_' + name)() for name in MEDIA_TYPES])))\n+        return mark_safe('\\n'.join(chain(*[getattr(self, 'render_' + name)() for name in MEDIA_TYPES])))\n \n     def render_js(self):\n-        return [u'<script type=\"text/javascript\" src=\"%s\"></script>' % self.absolute_path(path) for path in self._js]\n+        return ['<script type=\"text/javascript\" src=\"%s\"></script>' % self.absolute_path(path) for path in self._js]\n \n     def render_css(self):\n         # To keep rendering order consistent, we can't just iterate over items().\n         # We need to sort the keys, and iterate over the sorted list.\n         media = self._css.keys()\n         media.sort()\n         return chain(*[\n-            [u'<link href=\"%s\" type=\"text/css\" media=\"%s\" rel=\"stylesheet\" />' % (self.absolute_path(path), medium)\n+            ['<link href=\"%s\" type=\"text/css\" media=\"%s\" rel=\"stylesheet\" />' % (self.absolute_path(path), medium)\n                     for path in self._css[medium]]\n                 for medium in media])\n \n     def absolute_path(self, path, prefix=None):\n-        if path.startswith(u'http://') or path.startswith(u'https://') or path.startswith(u'/'):\n+        if path.startswith(('http://', 'https://', '/')):\n             return path\n         if prefix is None:\n             if settings.STATIC_URL is None:\n@@ -210,13 +210,13 @@ def _has_changed(self, initial, data):\n         \"\"\"\n         # For purposes of seeing whether something has changed, None is\n         # the same as an empty string, if the data or inital value we get\n-        # is None, replace it w/ u''.\n+        # is None, replace it w/ ''.\n         if data is None:\n-            data_value = u''\n+            data_value = ''\n         else:\n             data_value = data\n         if initial is None:\n-            initial_value = u''\n+            initial_value = ''\n         else:\n             initial_value = initial\n         if force_unicode(initial_value) != force_unicode(data_value):\n@@ -254,7 +254,7 @@ def render(self, name, value, attrs=None):\n         if value != '':\n             # Only add the 'value' attribute if a value is non-empty.\n             final_attrs['value'] = force_unicode(self._format_value(value))\n-        return mark_safe(u'<input%s />' % flatatt(final_attrs))\n+        return mark_safe('<input%s />' % flatatt(final_attrs))\n \n class TextInput(Input):\n     input_type = 'text'\n@@ -295,8 +295,8 @@ def render(self, name, value, attrs=None, choices=()):\n                 # An ID attribute was given. Add a numeric index as a suffix\n                 # so that the inputs don't all have the same ID attribute.\n                 input_attrs['id'] = '%s_%s' % (id_, i)\n-            inputs.append(u'<input%s />' % flatatt(input_attrs))\n-        return mark_safe(u'\\n'.join(inputs))\n+            inputs.append('<input%s />' % flatatt(input_attrs))\n+        return mark_safe('\\n'.join(inputs))\n \n     def value_from_datadict(self, data, files, name):\n         if isinstance(data, (MultiValueDict, MergeDict)):\n@@ -326,9 +326,9 @@ class ClearableFileInput(FileInput):\n     input_text = ugettext_lazy('Change')\n     clear_checkbox_label = ugettext_lazy('Clear')\n \n-    template_with_initial = u'%(initial_text)s: %(initial)s %(clear_template)s<br />%(input_text)s: %(input)s'\n+    template_with_initial = '%(initial_text)s: %(initial)s %(clear_template)s<br />%(input_text)s: %(input)s'\n \n-    template_with_clear = u'%(clear)s <label for=\"%(clear_checkbox_id)s\">%(clear_checkbox_label)s</label>'\n+    template_with_clear = '%(clear)s <label for=\"%(clear_checkbox_id)s\">%(clear_checkbox_label)s</label>'\n \n     def clear_checkbox_name(self, name):\n         \"\"\"\n@@ -350,12 +350,12 @@ def render(self, name, value, attrs=None):\n             'clear_template': '',\n             'clear_checkbox_label': self.clear_checkbox_label,\n         }\n-        template = u'%(input)s'\n+        template = '%(input)s'\n         substitutions['input'] = super(ClearableFileInput, self).render(name, value, attrs)\n \n         if value and hasattr(value, \"url\"):\n             template = self.template_with_initial\n-            substitutions['initial'] = (u'<a href=\"%s\">%s</a>'\n+            substitutions['initial'] = ('<a href=\"%s\">%s</a>'\n                                         % (escape(value.url),\n                                            escape(force_unicode(value))))\n             if not self.is_required:\n@@ -392,7 +392,7 @@ def __init__(self, attrs=None):\n     def render(self, name, value, attrs=None):\n         if value is None: value = ''\n         final_attrs = self.build_attrs(attrs, name=name)\n-        return mark_safe(u'<textarea%s>%s</textarea>' % (flatatt(final_attrs),\n+        return mark_safe('<textarea%s>%s</textarea>' % (flatatt(final_attrs),\n                 conditional_escape(force_unicode(value))))\n \n class DateInput(Input):\n@@ -511,7 +511,7 @@ def render(self, name, value, attrs=None):\n         if not (value is True or value is False or value is None or value == ''):\n             # Only add the 'value' attribute if a value is non-empty.\n             final_attrs['value'] = force_unicode(value)\n-        return mark_safe(u'<input%s />' % flatatt(final_attrs))\n+        return mark_safe('<input%s />' % flatatt(final_attrs))\n \n     def value_from_datadict(self, data, files, name):\n         if name not in data:\n@@ -526,7 +526,7 @@ def value_from_datadict(self, data, files, name):\n         return value\n \n     def _has_changed(self, initial, data):\n-        # Sometimes data or initial could be None or u'' which should be the\n+        # Sometimes data or initial could be None or '' which should be the\n         # same thing as False.\n         return bool(initial) != bool(data)\n \n@@ -543,23 +543,23 @@ def __init__(self, attrs=None, choices=()):\n     def render(self, name, value, attrs=None, choices=()):\n         if value is None: value = ''\n         final_attrs = self.build_attrs(attrs, name=name)\n-        output = [u'<select%s>' % flatatt(final_attrs)]\n+        output = ['<select%s>' % flatatt(final_attrs)]\n         options = self.render_options(choices, [value])\n         if options:\n             output.append(options)\n-        output.append(u'</select>')\n-        return mark_safe(u'\\n'.join(output))\n+        output.append('</select>')\n+        return mark_safe('\\n'.join(output))\n \n     def render_option(self, selected_choices, option_value, option_label):\n         option_value = force_unicode(option_value)\n         if option_value in selected_choices:\n-            selected_html = u' selected=\"selected\"'\n+            selected_html = ' selected=\"selected\"'\n             if not self.allow_multiple_selected:\n                 # Only allow for a single selection.\n                 selected_choices.remove(option_value)\n         else:\n             selected_html = ''\n-        return u'<option value=\"%s\"%s>%s</option>' % (\n+        return '<option value=\"%s\"%s>%s</option>' % (\n             escape(option_value), selected_html,\n             conditional_escape(force_unicode(option_label)))\n \n@@ -569,37 +569,37 @@ def render_options(self, choices, selected_choices):\n         output = []\n         for option_value, option_label in chain(self.choices, choices):\n             if isinstance(option_label, (list, tuple)):\n-                output.append(u'<optgroup label=\"%s\">' % escape(force_unicode(option_value)))\n+                output.append('<optgroup label=\"%s\">' % escape(force_unicode(option_value)))\n                 for option in option_label:\n                     output.append(self.render_option(selected_choices, *option))\n-                output.append(u'</optgroup>')\n+                output.append('</optgroup>')\n             else:\n                 output.append(self.render_option(selected_choices, option_value, option_label))\n-        return u'\\n'.join(output)\n+        return '\\n'.join(output)\n \n class NullBooleanSelect(Select):\n     \"\"\"\n     A Select Widget intended to be used with NullBooleanField.\n     \"\"\"\n     def __init__(self, attrs=None):\n-        choices = ((u'1', ugettext_lazy('Unknown')),\n-                   (u'2', ugettext_lazy('Yes')),\n-                   (u'3', ugettext_lazy('No')))\n+        choices = (('1', ugettext_lazy('Unknown')),\n+                   ('2', ugettext_lazy('Yes')),\n+                   ('3', ugettext_lazy('No')))\n         super(NullBooleanSelect, self).__init__(attrs, choices)\n \n     def render(self, name, value, attrs=None, choices=()):\n         try:\n-            value = {True: u'2', False: u'3', u'2': u'2', u'3': u'3'}[value]\n+            value = {True: '2', False: '3', '2': '2', '3': '3'}[value]\n         except KeyError:\n-            value = u'1'\n+            value = '1'\n         return super(NullBooleanSelect, self).render(name, value, attrs, choices)\n \n     def value_from_datadict(self, data, files, name):\n         value = data.get(name, None)\n-        return {u'2': True,\n+        return {'2': True,\n                 True: True,\n                 'True': True,\n-                u'3': False,\n+                '3': False,\n                 'False': False,\n                 False: False}.get(value, None)\n \n@@ -618,12 +618,12 @@ class SelectMultiple(Select):\n     def render(self, name, value, attrs=None, choices=()):\n         if value is None: value = []\n         final_attrs = self.build_attrs(attrs, name=name)\n-        output = [u'<select multiple=\"multiple\"%s>' % flatatt(final_attrs)]\n+        output = ['<select multiple=\"multiple\"%s>' % flatatt(final_attrs)]\n         options = self.render_options(choices, value)\n         if options:\n             output.append(options)\n         output.append('</select>')\n-        return mark_safe(u'\\n'.join(output))\n+        return mark_safe('\\n'.join(output))\n \n     def value_from_datadict(self, data, files, name):\n         if isinstance(data, (MultiValueDict, MergeDict)):\n@@ -666,7 +666,7 @@ def render(self, name=None, value=None, attrs=None, choices=()):\n         else:\n             label_for = ''\n         choice_label = conditional_escape(force_unicode(self.choice_label))\n-        return mark_safe(u'<label%s>%s %s</label>' % (label_for, self.tag(), choice_label))\n+        return mark_safe('<label%s>%s %s</label>' % (label_for, self.tag(), choice_label))\n \n     def is_checked(self):\n         return self.value == self.choice_value\n@@ -677,7 +677,7 @@ def tag(self):\n         final_attrs = dict(self.attrs, type='radio', name=self.name, value=self.choice_value)\n         if self.is_checked():\n             final_attrs['checked'] = 'checked'\n-        return mark_safe(u'<input%s />' % flatatt(final_attrs))\n+        return mark_safe('<input%s />' % flatatt(final_attrs))\n \n class RadioFieldRenderer(StrAndUnicode):\n     \"\"\"\n@@ -701,7 +701,7 @@ def __unicode__(self):\n \n     def render(self):\n         \"\"\"Outputs a <ul> for this set of radio fields.\"\"\"\n-        return mark_safe(u'<ul>\\n%s\\n</ul>' % u'\\n'.join([u'<li>%s</li>'\n+        return mark_safe('<ul>\\n%s\\n</ul>' % '\\n'.join(['<li>%s</li>'\n                 % force_unicode(w) for w in self]))\n \n class RadioSelect(Select):\n@@ -743,25 +743,25 @@ def render(self, name, value, attrs=None, choices=()):\n         if value is None: value = []\n         has_id = attrs and 'id' in attrs\n         final_attrs = self.build_attrs(attrs, name=name)\n-        output = [u'<ul>']\n+        output = ['<ul>']\n         # Normalize to strings\n         str_values = set([force_unicode(v) for v in value])\n         for i, (option_value, option_label) in enumerate(chain(self.choices, choices)):\n             # If an ID attribute was given, add a numeric index as a suffix,\n             # so that the checkboxes don't all have the same ID attribute.\n             if has_id:\n                 final_attrs = dict(final_attrs, id='%s_%s' % (attrs['id'], i))\n-                label_for = u' for=\"%s\"' % final_attrs['id']\n+                label_for = ' for=\"%s\"' % final_attrs['id']\n             else:\n                 label_for = ''\n \n             cb = CheckboxInput(final_attrs, check_test=lambda value: value in str_values)\n             option_value = force_unicode(option_value)\n             rendered_cb = cb.render(name, option_value)\n             option_label = conditional_escape(force_unicode(option_label))\n-            output.append(u'<li><label%s>%s %s</label></li>' % (label_for, rendered_cb, option_label))\n-        output.append(u'</ul>')\n-        return mark_safe(u'\\n'.join(output))\n+            output.append('<li><label%s>%s %s</label></li>' % (label_for, rendered_cb, option_label))\n+        output.append('</ul>')\n+        return mark_safe('\\n'.join(output))\n \n     def id_for_label(self, id_):\n         # See the comment for RadioSelect.id_for_label()\n@@ -832,7 +832,7 @@ def value_from_datadict(self, data, files, name):\n \n     def _has_changed(self, initial, data):\n         if initial is None:\n-            initial = [u'' for x in range(0, len(data))]\n+            initial = ['' for x in range(0, len(data))]\n         else:\n             if not isinstance(initial, list):\n                 initial = self.decompress(initial)\n@@ -849,7 +849,7 @@ def format_output(self, rendered_widgets):\n         This hook allows you to format the HTML design of the widgets, if\n         needed.\n         \"\"\"\n-        return u''.join(rendered_widgets)\n+        return ''.join(rendered_widgets)\n \n     def decompress(self, value):\n         \"\"\""
        },
        {
            "sha": "30d7e5dc2f15d74fd611d298c1a903efaf5f9881",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import os\n@@ -57,13 +57,14 @@ def value_encode(self, val):\n         if not _cookie_allows_colon_in_names:\n             def load(self, rawdata):\n                 self.bad_cookies = set()\n-                super(SimpleCookie, self).load(rawdata)\n+                super(SimpleCookie, self).load(smart_str(rawdata))\n                 for key in self.bad_cookies:\n                     del self[key]\n \n             # override private __set() method:\n             # (needed for using our Morsel, and for laxness with CookieError\n             def _BaseCookie__set(self, key, real_value, coded_value):\n+                key = smart_str(key)\n                 try:\n                     M = self.get(key, Morsel())\n                     M.set(key, real_value, coded_value)\n@@ -131,7 +132,7 @@ def build_request_repr(request, path_override=None, GET_override=None,\n     except:\n         meta = '<could not parse>'\n     path = path_override if path_override is not None else request.path\n-    return smart_str(u'<%s\\npath:%s,\\nGET:%s,\\nPOST:%s,\\nCOOKIES:%s,\\nMETA:%s>' %\n+    return smart_str('<%s\\npath:%s,\\nGET:%s,\\nPOST:%s,\\nCOOKIES:%s,\\nMETA:%s>' %\n                      (request.__class__.__name__,\n                       path,\n                       unicode(get),\n@@ -488,6 +489,7 @@ def urlencode(self, safe=None):\n         \"\"\"\n         output = []\n         if safe:\n+            safe = smart_str(safe, self.encoding)\n             encode = lambda k, v: '%s=%s' % ((quote(k, safe), quote(v, safe)))\n         else:\n             encode = lambda k, v: urlencode({k: v})"
        },
        {
            "sha": "bbe4b052b77fbcb245099f3bb15a31918871a141",
            "filename": "django/http/multipartparser.py",
            "status": "modified",
            "additions": 10,
            "deletions": 4,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fhttp%2Fmultipartparser.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fhttp%2Fmultipartparser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2Fmultipartparser.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,7 @@\n Exposes one class, ``MultiPartParser``, which feeds chunks of uploaded data to\n file upload handlers for processing.\n \"\"\"\n+from __future__ import unicode_literals\n \n import cgi\n from django.conf import settings\n@@ -59,7 +60,7 @@ def __init__(self, META, input_data, upload_handlers, encoding=None):\n             raise MultiPartParserError('Invalid Content-Type: %s' % content_type)\n \n         # Parse the header to get the boundary to split the parts.\n-        ctypes, opts = parse_header(content_type)\n+        ctypes, opts = parse_header(content_type.encode('ascii'))\n         boundary = opts.get('boundary')\n         if not boundary or not cgi.valid_boundary(boundary):\n             raise MultiPartParserError('Invalid boundary in multipart: %s' % boundary)\n@@ -76,6 +77,8 @@ def __init__(self, META, input_data, upload_handlers, encoding=None):\n             # This means we shouldn't continue...raise an error.\n             raise MultiPartParserError(\"Invalid content length: %r\" % content_length)\n \n+        if isinstance(boundary, unicode):\n+            boundary = boundary.encode('ascii')\n         self._boundary = boundary\n         self._input_data = input_data\n \n@@ -589,14 +592,17 @@ def __iter__(self):\n             yield parse_boundary_stream(sub_stream, 1024)\n \n def parse_header(line):\n-    \"\"\" Parse the header into a key-value. \"\"\"\n+    \"\"\" Parse the header into a key-value.\n+        Input (line): bytes, output: unicode for key/name, bytes for value which\n+        will be decoded later\n+    \"\"\"\n     plist = _parse_header_params(b';' + line)\n-    key = plist.pop(0).lower()\n+    key = plist.pop(0).lower().decode('ascii')\n     pdict = {}\n     for p in plist:\n         i = p.find(b'=')\n         if i >= 0:\n-            name = p[:i].strip().lower()\n+            name = p[:i].strip().lower().decode('ascii')\n             value = p[i+1:].strip()\n             if len(value) >= 2 and value[0] == value[-1] == b'\"':\n                 value = value[1:-1]"
        },
        {
            "sha": "5a91bfda99cdfee195027c63e448af5f5c9470e1",
            "filename": "django/template/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n from functools import partial\n@@ -836,7 +836,7 @@ def render(self, context):\n             else:\n                 bit = node\n             bits.append(force_unicode(bit))\n-        return mark_safe(u''.join(bits))\n+        return mark_safe(''.join(bits))\n \n     def get_nodes_by_type(self, nodetype):\n         \"Return a list of all nodes of the given type\"\n@@ -1006,8 +1006,8 @@ def parse_bits(parser, bits, params, varargs, varkw, defaults,\n     if unhandled_params:\n         # Some positional arguments were not supplied\n         raise TemplateSyntaxError(\n-            u\"'%s' did not receive value(s) for the argument(s): %s\" %\n-            (name, u\", \".join([u\"'%s'\" % p for p in unhandled_params])))\n+            \"'%s' did not receive value(s) for the argument(s): %s\" %\n+            (name, \", \".join([\"'%s'\" % p for p in unhandled_params])))\n     return args, kwargs\n \n def generic_tag_compiler(parser, token, params, varargs, varkw, defaults,"
        },
        {
            "sha": "d2c5b03f30f4b7a20e87516cd52297233317c42c",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 41,
            "deletions": 40,
            "changes": 81,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n \"\"\"Default variable filters.\"\"\"\n+from __future__ import unicode_literals\n \n import re\n import random as random_module\n@@ -140,14 +141,14 @@ def floatformat(text, arg=-1):\n         input_val = force_unicode(text)\n         d = Decimal(input_val)\n     except UnicodeEncodeError:\n-        return u''\n+        return ''\n     except InvalidOperation:\n         if input_val in special_floats:\n             return input_val\n         try:\n             d = Decimal(force_unicode(float(text)))\n         except (ValueError, InvalidOperation, TypeError, UnicodeEncodeError):\n-            return u''\n+            return ''\n     try:\n         p = int(arg)\n     except ValueError:\n@@ -159,12 +160,12 @@ def floatformat(text, arg=-1):\n         return input_val\n \n     if not m and p < 0:\n-        return mark_safe(formats.number_format(u'%d' % (int(d)), 0))\n+        return mark_safe(formats.number_format('%d' % (int(d)), 0))\n \n     if p == 0:\n         exp = Decimal(1)\n     else:\n-        exp = Decimal(u'1.0') / (Decimal(10) ** abs(p))\n+        exp = Decimal('1.0') / (Decimal(10) ** abs(p))\n     try:\n         # Set the precision high enough to avoid an exception, see #15789.\n         tupl = d.as_tuple()\n@@ -177,11 +178,11 @@ def floatformat(text, arg=-1):\n             Context(prec=prec)).as_tuple()\n         digits = [unicode(digit) for digit in reversed(digits)]\n         while len(digits) <= abs(exponent):\n-            digits.append(u'0')\n-        digits.insert(-exponent, u'.')\n+            digits.append('0')\n+        digits.insert(-exponent, '.')\n         if sign:\n-            digits.append(u'-')\n-        number = u''.join(reversed(digits))\n+            digits.append('-')\n+        number = ''.join(reversed(digits))\n         return mark_safe(formats.number_format(number, abs(p)))\n     except InvalidOperation:\n         return input_val\n@@ -196,17 +197,17 @@ def iriencode(value):\n @stringfilter\n def linenumbers(value, autoescape=None):\n     \"\"\"Displays text with line numbers.\"\"\"\n-    lines = value.split(u'\\n')\n+    lines = value.split('\\n')\n     # Find the maximum width of the line count, for use with zero padding\n     # string format command\n     width = unicode(len(unicode(len(lines))))\n     if not autoescape or isinstance(value, SafeData):\n         for i, line in enumerate(lines):\n-            lines[i] = (u\"%0\" + width  + u\"d. %s\") % (i + 1, line)\n+            lines[i] = (\"%0\" + width  + \"d. %s\") % (i + 1, line)\n     else:\n         for i, line in enumerate(lines):\n-            lines[i] = (u\"%0\" + width  + u\"d. %s\") % (i + 1, escape(line))\n-    return mark_safe(u'\\n'.join(lines))\n+            lines[i] = (\"%0\" + width  + \"d. %s\") % (i + 1, escape(line))\n+    return mark_safe('\\n'.join(lines))\n \n @register.filter(is_safe=True)\n @stringfilter\n@@ -248,9 +249,9 @@ def stringformat(value, arg):\n     of Python string formatting\n     \"\"\"\n     try:\n-        return (u\"%\" + unicode(arg)) % value\n+        return (\"%\" + unicode(arg)) % value\n     except (ValueError, TypeError):\n-        return u\"\"\n+        return \"\"\n \n @register.filter(is_safe=True)\n @stringfilter\n@@ -394,7 +395,7 @@ def cut(value, arg):\n     Removes all values of arg from the given string.\n     \"\"\"\n     safe = isinstance(value, SafeData)\n-    value = value.replace(arg, u'')\n+    value = value.replace(arg, '')\n     if safe and arg != ';':\n         return mark_safe(value)\n     return value\n@@ -467,11 +468,11 @@ def safeseq(value):\n def removetags(value, tags):\n     \"\"\"Removes a space separated list of [X]HTML tags from the output.\"\"\"\n     tags = [re.escape(tag) for tag in tags.split()]\n-    tags_re = u'(%s)' % u'|'.join(tags)\n-    starttag_re = re.compile(ur'<%s(/?>|(\\s+[^>]*>))' % tags_re, re.U)\n-    endtag_re = re.compile(u'</%s>' % tags_re)\n-    value = starttag_re.sub(u'', value)\n-    value = endtag_re.sub(u'', value)\n+    tags_re = '(%s)' % '|'.join(tags)\n+    starttag_re = re.compile(r'<%s(/?>|(\\s+[^>]*>))' % tags_re, re.U)\n+    endtag_re = re.compile('</%s>' % tags_re)\n+    value = starttag_re.sub('', value)\n+    value = endtag_re.sub('', value)\n     return value\n \n @register.filter(is_safe=True)\n@@ -493,7 +494,7 @@ def dictsort(value, arg):\n     try:\n         return sorted(value, key=Variable(arg).resolve)\n     except (TypeError, VariableDoesNotExist):\n-        return u''\n+        return ''\n \n @register.filter(is_safe=False)\n def dictsortreversed(value, arg):\n@@ -504,15 +505,15 @@ def dictsortreversed(value, arg):\n     try:\n         return sorted(value, key=Variable(arg).resolve, reverse=True)\n     except (TypeError, VariableDoesNotExist):\n-        return u''\n+        return ''\n \n @register.filter(is_safe=False)\n def first(value):\n     \"\"\"Returns the first item in a list.\"\"\"\n     try:\n         return value[0]\n     except IndexError:\n-        return u''\n+        return ''\n \n @register.filter(is_safe=True, needs_autoescape=True)\n def join(value, arg, autoescape=None):\n@@ -534,7 +535,7 @@ def last(value):\n     try:\n         return value[-1]\n     except IndexError:\n-        return u''\n+        return ''\n \n @register.filter(is_safe=True)\n def length(value):\n@@ -568,7 +569,7 @@ def slice_filter(value, arg):\n     \"\"\"\n     try:\n         bits = []\n-        for x in arg.split(u':'):\n+        for x in arg.split(':'):\n             if len(x) == 0:\n                 bits.append(None)\n             else:\n@@ -635,7 +636,7 @@ def convert_old_style_list(list_):\n             second_item = new_second_item\n         return [first_item, second_item], old_style_list\n     def _helper(list_, tabs=1):\n-        indent = u'\\t' * tabs\n+        indent = '\\t' * tabs\n         output = []\n \n         list_length = len(list_)\n@@ -708,7 +709,7 @@ def get_digit(value, arg):\n def date(value, arg=None):\n     \"\"\"Formats a date according to the given format.\"\"\"\n     if not value:\n-        return u''\n+        return ''\n     if arg is None:\n         arg = settings.DATE_FORMAT\n     try:\n@@ -722,8 +723,8 @@ def date(value, arg=None):\n @register.filter(expects_localtime=True, is_safe=False)\n def time(value, arg=None):\n     \"\"\"Formats a time according to the given format.\"\"\"\n-    if value in (None, u''):\n-        return u''\n+    if value in (None, ''):\n+        return ''\n     if arg is None:\n         arg = settings.TIME_FORMAT\n     try:\n@@ -738,23 +739,23 @@ def time(value, arg=None):\n def timesince_filter(value, arg=None):\n     \"\"\"Formats a date as the time since that date (i.e. \"4 days, 6 hours\").\"\"\"\n     if not value:\n-        return u''\n+        return ''\n     try:\n         if arg:\n             return timesince(value, arg)\n         return timesince(value)\n     except (ValueError, TypeError):\n-        return u''\n+        return ''\n \n @register.filter(\"timeuntil\", is_safe=False)\n def timeuntil_filter(value, arg=None):\n     \"\"\"Formats a date as the time until that date (i.e. \"4 days, 6 hours\").\"\"\"\n     if not value:\n-        return u''\n+        return ''\n     try:\n         return timeuntil(value, arg)\n     except (ValueError, TypeError):\n-        return u''\n+        return ''\n \n ###################\n # LOGIC           #\n@@ -795,7 +796,7 @@ def yesno(value, arg=None):\n     \"\"\"\n     if arg is None:\n         arg = ugettext('yes,no,maybe')\n-    bits = arg.split(u',')\n+    bits = arg.split(',')\n     if len(bits) < 2:\n         return value # Invalid arg.\n     try:\n@@ -839,7 +840,7 @@ def filesizeformat(bytes):\n     return ugettext(\"%s PB\") % filesize_number_format(bytes / (1024 * 1024 * 1024 * 1024 * 1024))\n \n @register.filter(is_safe=False)\n-def pluralize(value, arg=u's'):\n+def pluralize(value, arg='s'):\n     \"\"\"\n     Returns a plural suffix if the value is not 1. By default, 's' is used as\n     the suffix:\n@@ -862,11 +863,11 @@ def pluralize(value, arg=u's'):\n     * If value is 1, cand{{ value|pluralize:\"y,ies\" }} displays \"1 candy\".\n     * If value is 2, cand{{ value|pluralize:\"y,ies\" }} displays \"2 candies\".\n     \"\"\"\n-    if not u',' in arg:\n-        arg = u',' + arg\n-    bits = arg.split(u',')\n+    if not ',' in arg:\n+        arg = ',' + arg\n+    bits = arg.split(',')\n     if len(bits) > 2:\n-        return u''\n+        return ''\n     singular_suffix, plural_suffix = bits[:2]\n \n     try:\n@@ -893,4 +894,4 @@ def pprint(value):\n     try:\n         return pformat(value)\n     except Exception as e:\n-        return u\"Error in formatting: %s\" % force_unicode(e, errors=\"replace\")\n+        return \"Error in formatting: %s\" % force_unicode(e, errors=\"replace\")"
        },
        {
            "sha": "0de5d9e3db6078738a84043c811793da467441ba",
            "filename": "django/template/defaulttags.py",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fdefaulttags.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplate%2Fdefaulttags.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaulttags.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n \"\"\"Default tags used by the template system, available to all templates.\"\"\"\n+from __future__ import unicode_literals\n \n import sys\n import re\n@@ -13,7 +14,7 @@\n     VARIABLE_ATTRIBUTE_SEPARATOR, get_library, token_kwargs, kwarg_re)\n from django.template.smartif import IfParser, Literal\n from django.template.defaultfilters import date\n-from django.utils.encoding import smart_str, smart_unicode\n+from django.utils.encoding import smart_unicode\n from django.utils.safestring import mark_safe\n from django.utils import timezone\n \n@@ -43,17 +44,17 @@ def render(self, context):\n         csrf_token = context.get('csrf_token', None)\n         if csrf_token:\n             if csrf_token == 'NOTPROVIDED':\n-                return mark_safe(u\"\")\n+                return mark_safe(\"\")\n             else:\n-                return mark_safe(u\"<div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='%s' /></div>\" % csrf_token)\n+                return mark_safe(\"<div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='%s' /></div>\" % csrf_token)\n         else:\n             # It's very probable that the token is missing because of\n             # misconfiguration, so we raise a warning\n             from django.conf import settings\n             if settings.DEBUG:\n                 import warnings\n                 warnings.warn(\"A {% csrf_token %} was used in a template, but the context did not provide the value.  This is usually caused by not using RequestContext.\")\n-            return u''\n+            return ''\n \n class CycleNode(Node):\n     def __init__(self, cyclevars, variable_name=None, silent=False):\n@@ -102,7 +103,7 @@ def render(self, context):\n             value = var.resolve(context, True)\n             if value:\n                 return smart_unicode(value)\n-        return u''\n+        return ''\n \n class ForNode(Node):\n     child_nodelists = ('nodelist_loop', 'nodelist_empty')\n@@ -390,7 +391,7 @@ def __init__(self, view_name, args, kwargs, asvar):\n     def render(self, context):\n         from django.core.urlresolvers import reverse, NoReverseMatch\n         args = [arg.resolve(context) for arg in self.args]\n-        kwargs = dict([(smart_str(k, 'ascii'), v.resolve(context))\n+        kwargs = dict([(smart_unicode(k, 'ascii'), v.resolve(context))\n                        for k, v in self.kwargs.items()])\n \n         view_name = self.view_name.resolve(context)\n@@ -486,7 +487,7 @@ def autoescape(parser, token):\n     if len(args) != 2:\n         raise TemplateSyntaxError(\"'autoescape' tag requires exactly one argument.\")\n     arg = args[1]\n-    if arg not in (u'on', u'off'):\n+    if arg not in ('on', 'off'):\n         raise TemplateSyntaxError(\"'autoescape' argument should be 'on' or 'off'\")\n     nodelist = parser.parse(('endautoescape',))\n     parser.delete_first_token()"
        },
        {
            "sha": "056eadc7de085ac5c61f0ae022db24ef6c3890f5",
            "filename": "django/templatetags/cache.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplatetags%2Fcache.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplatetags%2Fcache.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Fcache.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import hashlib\n from django.template import Library, Node, TemplateSyntaxError, Variable, VariableDoesNotExist\n from django.template import resolve_variable\n@@ -23,7 +25,7 @@ def render(self, context):\n         except (ValueError, TypeError):\n             raise TemplateSyntaxError('\"cache\" tag got a non-integer timeout value: %r' % expire_time)\n         # Build a unicode key for this fragment and all vary-on's.\n-        args = hashlib.md5(u':'.join([urlquote(resolve_variable(var, context)) for var in self.vary_on]))\n+        args = hashlib.md5(':'.join([urlquote(resolve_variable(var, context)) for var in self.vary_on]))\n         cache_key = 'template.cache.%s.%s' % (self.fragment_name, args.hexdigest())\n         value = cache.get(cache_key)\n         if value is None:\n@@ -57,5 +59,5 @@ def do_cache(parser, token):\n     parser.delete_first_token()\n     tokens = token.contents.split()\n     if len(tokens) < 3:\n-        raise TemplateSyntaxError(u\"'%r' tag requires at least 2 arguments.\" % tokens[0])\n+        raise TemplateSyntaxError(\"'%r' tag requires at least 2 arguments.\" % tokens[0])\n     return CacheNode(nodelist, tokens[1], tokens[2], tokens[3:])"
        },
        {
            "sha": "231b723d3a5977960bcc0caeeedb4f1f9b56ed96",
            "filename": "django/templatetags/i18n.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplatetags%2Fi18n.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftemplatetags%2Fi18n.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Fi18n.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,4 @@\n+from __future__ import unicode_literals\n import re\n \n from django.template import (Node, Variable, TemplateSyntaxError,\n@@ -76,7 +77,7 @@ def __init__(self, filter_expression, noop, asvar=None,\n         self.message_context = message_context\n         self.filter_expression = filter_expression\n         if isinstance(self.filter_expression.var, basestring):\n-            self.filter_expression.var = Variable(u\"'%s'\" %\n+            self.filter_expression.var = Variable(\"'%s'\" %\n                                                   self.filter_expression.var)\n \n     def render(self, context):\n@@ -110,7 +111,7 @@ def render_token_list(self, tokens):\n             if token.token_type == TOKEN_TEXT:\n                 result.append(token.contents)\n             elif token.token_type == TOKEN_VAR:\n-                result.append(u'%%(%s)s' % token.contents)\n+                result.append('%%(%s)s' % token.contents)\n                 vars.append(token.contents)\n         return ''.join(result), vars\n \n@@ -127,12 +128,12 @@ def render(self, context):\n         context.update(tmp_context)\n         singular, vars = self.render_token_list(self.singular)\n         # Escape all isolated '%'\n-        singular = re.sub(u'%(?!\\()', u'%%', singular)\n+        singular = re.sub('%(?!\\()', '%%', singular)\n         if self.plural and self.countervar and self.counter:\n             count = self.counter.resolve(context)\n             context[self.countervar] = count\n             plural, plural_vars = self.render_token_list(self.plural)\n-            plural = re.sub(u'%(?!\\()', u'%%', plural)\n+            plural = re.sub('%(?!\\()', '%%', plural)\n             if message_context:\n                 result = translation.npgettext(message_context, singular,\n                                                plural, count)"
        },
        {
            "sha": "79844426f1fa6cd8675debb0f25a2c50cebbf58f",
            "filename": "django/test/client.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Fclient.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Fclient.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fclient.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -146,7 +146,7 @@ def encode_file(boundary, key, file):\n     if content_type is None:\n         content_type = 'application/octet-stream'\n     return [\n-        '--' + boundary,\n+        '--' + to_str(boundary),\n         'Content-Disposition: form-data; name=\"%s\"; filename=\"%s\"' \\\n             % (to_str(key), to_str(os.path.basename(file.name))),\n         'Content-Type: %s' % content_type,"
        },
        {
            "sha": "79b198f1beb486edf53234a99fad1d5b27d4dce2",
            "filename": "django/test/html.py",
            "status": "modified",
            "additions": 11,
            "deletions": 8,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fhtml.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,9 @@\n \"\"\"\n Comparing two html documents.\n \"\"\"\n+\n+from __future__ import unicode_literals\n+\n import re\n from HTMLParser import HTMLParseError\n from django.utils.encoding import force_unicode\n@@ -113,18 +116,18 @@ def __getitem__(self, key):\n         return self.children[key]\n \n     def __unicode__(self):\n-        output = u'<%s' % self.name\n+        output = '<%s' % self.name\n         for key, value in self.attributes:\n             if value:\n-                output += u' %s=\"%s\"' % (key, value)\n+                output += ' %s=\"%s\"' % (key, value)\n             else:\n-                output += u' %s' % key\n+                output += ' %s' % key\n         if self.children:\n-            output += u'>\\n'\n-            output += u''.join(unicode(c) for c in self.children)\n-            output += u'\\n</%s>' % self.name\n+            output += '>\\n'\n+            output += ''.join(unicode(c) for c in self.children)\n+            output += '\\n</%s>' % self.name\n         else:\n-            output += u' />'\n+            output += ' />'\n         return output\n \n     def __repr__(self):\n@@ -136,7 +139,7 @@ def __init__(self):\n         super(RootElement, self).__init__(None, ())\n \n     def __unicode__(self):\n-        return u''.join(unicode(c) for c in self.children)\n+        return ''.join(unicode(c) for c in self.children)\n \n \n class Parser(HTMLParser):"
        },
        {
            "sha": "95e751d384671007ed5ad9e5086f86477d6959e4",
            "filename": "django/test/testcases.py",
            "status": "modified",
            "additions": 25,
            "deletions": 27,
            "changes": 52,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Ftestcases.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Ftestcases.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Ftestcases.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import difflib\n import json\n import os\n@@ -85,7 +87,7 @@ def assert_and_parse_html(self, html, user_msg, msg):\n     try:\n         dom = parse_html(html)\n     except HTMLParseError as e:\n-        standardMsg = u'%s\\n%s' % (msg, e.msg)\n+        standardMsg = '%s\\n%s' % (msg, e.msg)\n         self.fail(self._formatMessage(user_msg, standardMsg))\n     return dom\n \n@@ -205,10 +207,6 @@ def _strip_quotes(self, want, got):\n         \"foo\"\n         >>> o._strip_quotes('\"foo\"')\n         \"foo\"\n-        >>> o._strip_quotes(\"u'foo'\")\n-        \"foo\"\n-        >>> o._strip_quotes('u\"foo\"')\n-        \"foo\"\n         \"\"\"\n         def is_quoted_string(s):\n             s = s.strip()\n@@ -292,7 +290,7 @@ def test(self):\n         return self.template_name in self.rendered_template_names\n \n     def message(self):\n-        return u'%s was not rendered.' % self.template_name\n+        return '%s was not rendered.' % self.template_name\n \n     def __enter__(self):\n         template_rendered.connect(self.on_template_render)\n@@ -306,9 +304,9 @@ def __exit__(self, exc_type, exc_value, traceback):\n         if not self.test():\n             message = self.message()\n             if len(self.rendered_templates) == 0:\n-                message += u' No template was rendered.'\n+                message += ' No template was rendered.'\n             else:\n-                message += u' Following templates were rendered: %s' % (\n+                message += ' Following templates were rendered: %s' % (\n                     ', '.join(self.rendered_template_names))\n             self.test_case.fail(message)\n \n@@ -318,7 +316,7 @@ def test(self):\n         return self.template_name not in self.rendered_template_names\n \n     def message(self):\n-        return u'%s was rendered.' % self.template_name\n+        return '%s was rendered.' % self.template_name\n \n \n class SimpleTestCase(ut2.TestCase):\n@@ -359,7 +357,7 @@ def assertRaisesMessage(self, expected_exception, expected_message,\n                 re.escape(expected_message), callable_obj, *args, **kwargs)\n \n     def assertFieldOutput(self, fieldclass, valid, invalid, field_args=None,\n-            field_kwargs=None, empty_value=u''):\n+            field_kwargs=None, empty_value=''):\n         \"\"\"\n         Asserts that a form field behaves correctly with various inputs.\n \n@@ -415,9 +413,9 @@ def assertHTMLEqual(self, html1, html2, msg=None):\n         significant. The passed-in arguments must be valid HTML.\n         \"\"\"\n         dom1 = assert_and_parse_html(self, html1, msg,\n-            u'First argument is not valid HTML:')\n+            'First argument is not valid HTML:')\n         dom2 = assert_and_parse_html(self, html2, msg,\n-            u'Second argument is not valid HTML:')\n+            'Second argument is not valid HTML:')\n \n         if dom1 != dom2:\n             standardMsg = '%s != %s' % (\n@@ -431,9 +429,9 @@ def assertHTMLEqual(self, html1, html2, msg=None):\n     def assertHTMLNotEqual(self, html1, html2, msg=None):\n         \"\"\"Asserts that two HTML snippets are not semantically equivalent.\"\"\"\n         dom1 = assert_and_parse_html(self, html1, msg,\n-            u'First argument is not valid HTML:')\n+            'First argument is not valid HTML:')\n         dom2 = assert_and_parse_html(self, html2, msg,\n-            u'Second argument is not valid HTML:')\n+            'Second argument is not valid HTML:')\n \n         if dom1 == dom2:\n             standardMsg = '%s == %s' % (\n@@ -620,14 +618,14 @@ def assertContains(self, response, text, count=None, status_code=200,\n         self.assertEqual(response.status_code, status_code,\n             msg_prefix + \"Couldn't retrieve content: Response code was %d\"\n             \" (expected %d)\" % (response.status_code, status_code))\n-        text = smart_str(text, response._charset)\n+        enc_text = smart_str(text, response._charset)\n         content = response.content\n         if html:\n             content = assert_and_parse_html(self, content, None,\n-                u\"Response's content is not valid HTML:\")\n-            text = assert_and_parse_html(self, text, None,\n-                u\"Second argument is not valid HTML:\")\n-        real_count = content.count(text)\n+                \"Response's content is not valid HTML:\")\n+            enc_text = assert_and_parse_html(self, enc_text, None,\n+                \"Second argument is not valid HTML:\")\n+        real_count = content.count(enc_text)\n         if count is not None:\n             self.assertEqual(real_count, count,\n                 msg_prefix + \"Found %d instances of '%s' in response\"\n@@ -656,14 +654,14 @@ def assertNotContains(self, response, text, status_code=200,\n         self.assertEqual(response.status_code, status_code,\n             msg_prefix + \"Couldn't retrieve content: Response code was %d\"\n             \" (expected %d)\" % (response.status_code, status_code))\n-        text = smart_str(text, response._charset)\n+        enc_text = smart_str(text, response._charset)\n         content = response.content\n         if html:\n             content = assert_and_parse_html(self, content, None,\n-                u'Response\\'s content is not valid HTML:')\n-            text = assert_and_parse_html(self, text, None,\n-                u'Second argument is not valid HTML:')\n-        self.assertEqual(content.count(text), 0,\n+                'Response\\'s content is not valid HTML:')\n+            enc_text = assert_and_parse_html(self, enc_text, None,\n+                'Second argument is not valid HTML:')\n+        self.assertEqual(content.count(enc_text), 0,\n             msg_prefix + \"Response should not contain '%s'\" % text)\n \n     def assertFormError(self, response, form, field, errors, msg_prefix=''):\n@@ -723,7 +721,7 @@ def assertTemplateUsed(self, response=None, template_name=None, msg_prefix=''):\n         the response. Also usable as context manager.\n         \"\"\"\n         if response is None and template_name is None:\n-            raise TypeError(u'response and/or template_name argument must be provided')\n+            raise TypeError('response and/or template_name argument must be provided')\n \n         if msg_prefix:\n             msg_prefix += \": \"\n@@ -742,15 +740,15 @@ def assertTemplateUsed(self, response=None, template_name=None, msg_prefix=''):\n         self.assertTrue(template_name in template_names,\n             msg_prefix + \"Template '%s' was not a template used to render\"\n             \" the response. Actual template(s) used: %s\" %\n-                (template_name, u', '.join(template_names)))\n+                (template_name, ', '.join(template_names)))\n \n     def assertTemplateNotUsed(self, response=None, template_name=None, msg_prefix=''):\n         \"\"\"\n         Asserts that the template with the provided name was NOT used in\n         rendering the response. Also usable as context manager.\n         \"\"\"\n         if response is None and template_name is None:\n-            raise TypeError(u'response and/or template_name argument must be provided')\n+            raise TypeError('response and/or template_name argument must be provided')\n \n         if msg_prefix:\n             msg_prefix += \": \""
        },
        {
            "sha": "ca4a5e7474507f725f691401a298a8f43067ae60",
            "filename": "django/test/utils.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Ftest%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Futils.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -219,3 +219,5 @@ def disable(self):\n             setting_changed.send(sender=settings._wrapped.__class__,\n                                  setting=key, value=new_value)\n \n+def str_prefix(s):\n+    return s % {'_': 'u'}"
        },
        {
            "sha": "cc59e2e39f9b71ac4bd17bd8b263581e87331916",
            "filename": "django/utils/crypto.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fcrypto.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fcrypto.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fcrypto.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Django's standard crypto functions and utilities.\n \"\"\"\n+from __future__ import unicode_literals\n \n import hmac\n import struct\n@@ -42,7 +43,7 @@ def salted_hmac(key_salt, value, secret=None):\n     # We need to generate a derived key from our base key.  We can do this by\n     # passing the key_salt and our base key through a pseudo-random function and\n     # SHA1 works nicely.\n-    key = hashlib.sha1(key_salt + secret).digest()\n+    key = hashlib.sha1((key_salt + secret).encode('utf-8')).digest()\n \n     # If len(key_salt + secret) > sha_constructor().block_size, the above\n     # line is redundant and could be replaced by key = key_salt + secret, since\n@@ -105,14 +106,15 @@ def _long_to_bin(x, hex_format_string):\n     Convert a long integer into a binary string.\n     hex_format_string is like \"%020x\" for padding 10 characters.\n     \"\"\"\n-    return binascii.unhexlify(hex_format_string % x)\n+    return binascii.unhexlify((hex_format_string % x).encode('ascii'))\n \n \n def _fast_hmac(key, msg, digest):\n     \"\"\"\n     A trimmed down version of Python's HMAC implementation\n     \"\"\"\n     dig1, dig2 = digest(), digest()\n+    key = smart_str(key)\n     if len(key) > dig1.block_size:\n         key = digest(key).digest()\n     key += chr(0) * (dig1.block_size - len(key))"
        },
        {
            "sha": "d410bce63e169cccaf1821cf863fab17ba7a9b45",
            "filename": "django/utils/dateformat.py",
            "status": "modified",
            "additions": 19,
            "deletions": 18,
            "changes": 37,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fdateformat.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fdateformat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdateformat.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -10,6 +10,7 @@\n 7th October 2003 11:39\n >>>\n \"\"\"\n+from __future__ import unicode_literals\n \n import re\n import time\n@@ -33,7 +34,7 @@ def format(self, formatstr):\n                 pieces.append(force_unicode(getattr(self, piece)()))\n             elif piece:\n                 pieces.append(re_escaped.sub(r'\\1', piece))\n-        return u''.join(pieces)\n+        return ''.join(pieces)\n \n class TimeFormat(Formatter):\n     def __init__(self, t):\n@@ -64,7 +65,7 @@ def f(self):\n         \"\"\"\n         if self.data.minute == 0:\n             return self.g()\n-        return u'%s:%s' % (self.g(), self.i())\n+        return '%s:%s' % (self.g(), self.i())\n \n     def g(self):\n         \"Hour, 12-hour format without leading zeros; i.e. '1' to '12'\"\n@@ -80,15 +81,15 @@ def G(self):\n \n     def h(self):\n         \"Hour, 12-hour format; i.e. '01' to '12'\"\n-        return u'%02d' % self.g()\n+        return '%02d' % self.g()\n \n     def H(self):\n         \"Hour, 24-hour format; i.e. '00' to '23'\"\n-        return u'%02d' % self.G()\n+        return '%02d' % self.G()\n \n     def i(self):\n         \"Minutes; i.e. '00' to '59'\"\n-        return u'%02d' % self.data.minute\n+        return '%02d' % self.data.minute\n \n     def P(self):\n         \"\"\"\n@@ -101,11 +102,11 @@ def P(self):\n             return _('midnight')\n         if self.data.minute == 0 and self.data.hour == 12:\n             return _('noon')\n-        return u'%s %s' % (self.f(), self.a())\n+        return '%s %s' % (self.f(), self.a())\n \n     def s(self):\n         \"Seconds; i.e. '00' to '59'\"\n-        return u'%02d' % self.data.second\n+        return '%02d' % self.data.second\n \n     def u(self):\n         \"Microseconds\"\n@@ -138,7 +139,7 @@ def c(self):\n \n     def d(self):\n         \"Day of the month, 2 digits with leading zeros; i.e. '01' to '31'\"\n-        return u'%02d' % self.data.day\n+        return '%02d' % self.data.day\n \n     def D(self):\n         \"Day of the week, textual, 3 letters; e.g. 'Fri'\"\n@@ -166,9 +167,9 @@ def F(self):\n     def I(self):\n         \"'1' if Daylight Savings Time, '0' otherwise.\"\n         if self.timezone and self.timezone.dst(self.data):\n-            return u'1'\n+            return '1'\n         else:\n-            return u'0'\n+            return '0'\n \n     def j(self):\n         \"Day of the month without leading zeros; i.e. '1' to '31'\"\n@@ -184,7 +185,7 @@ def L(self):\n \n     def m(self):\n         \"Month; i.e. '01' to '12'\"\n-        return u'%02d' % self.data.month\n+        return '%02d' % self.data.month\n \n     def M(self):\n         \"Month, textual, 3 letters; e.g. 'Jan'\"\n@@ -207,7 +208,7 @@ def O(self):\n         seconds = self.Z()\n         sign = '-' if seconds < 0 else '+'\n         seconds = abs(seconds)\n-        return u\"%s%02d%02d\" % (sign, seconds // 3600, (seconds // 60) % 60)\n+        return \"%s%02d%02d\" % (sign, seconds // 3600, (seconds // 60) % 60)\n \n     def r(self):\n         \"RFC 2822 formatted date; e.g. 'Thu, 21 Dec 2000 16:01:07 +0200'\"\n@@ -216,19 +217,19 @@ def r(self):\n     def S(self):\n         \"English ordinal suffix for the day of the month, 2 characters; i.e. 'st', 'nd', 'rd' or 'th'\"\n         if self.data.day in (11, 12, 13): # Special case\n-            return u'th'\n+            return 'th'\n         last = self.data.day % 10\n         if last == 1:\n-            return u'st'\n+            return 'st'\n         if last == 2:\n-            return u'nd'\n+            return 'nd'\n         if last == 3:\n-            return u'rd'\n-        return u'th'\n+            return 'rd'\n+        return 'th'\n \n     def t(self):\n         \"Number of days in the given month; i.e. '28' to '31'\"\n-        return u'%02d' % calendar.monthrange(self.data.year, self.data.month)[1]\n+        return '%02d' % calendar.monthrange(self.data.year, self.data.month)[1]\n \n     def T(self):\n         \"Time zone of this machine; e.g. 'EST' or 'MDT'\""
        },
        {
            "sha": "80e456ba2a406c38589696fab41043ef125e2f51",
            "filename": "django/utils/encoding.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fencoding.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fencoding.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fencoding.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import urllib\n import locale\n import datetime\n@@ -80,7 +82,7 @@ def force_unicode(s, encoding='utf-8', strings_only=False, errors='strict'):\n                     # without raising a further exception. We do an\n                     # approximation to what the Exception's standard str()\n                     # output should be.\n-                    s = u' '.join([force_unicode(arg, encoding, strings_only,\n+                    s = ' '.join([force_unicode(arg, encoding, strings_only,\n                             errors) for arg in s])\n         elif not isinstance(s, unicode):\n             # Note: We use .decode() here, instead of unicode(s, encoding,\n@@ -96,7 +98,7 @@ def force_unicode(s, encoding='utf-8', strings_only=False, errors='strict'):\n             # working unicode method. Try to handle this without raising a\n             # further exception by individually forcing the exception args\n             # to unicode.\n-            s = u' '.join([force_unicode(arg, encoding, strings_only,\n+            s = ' '.join([force_unicode(arg, encoding, strings_only,\n                     errors) for arg in s])\n     return s\n "
        },
        {
            "sha": "52f40fb5f18581f857e2da059819b52fd4740989",
            "filename": "django/utils/feedgenerator.py",
            "status": "modified",
            "additions": 81,
            "deletions": 80,
            "changes": 161,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffeedgenerator.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,14 +5,14 @@\n \n >>> from django.utils import feedgenerator\n >>> feed = feedgenerator.Rss201rev2Feed(\n-...     title=u\"Poynter E-Media Tidbits\",\n-...     link=u\"http://www.poynter.org/column.asp?id=31\",\n-...     description=u\"A group Weblog by the sharpest minds in online media/journalism/publishing.\",\n-...     language=u\"en\",\n+...     title=\"Poynter E-Media Tidbits\",\n+...     link=\"http://www.poynter.org/column.asp?id=31\",\n+...     description=\"A group Weblog by the sharpest minds in online media/journalism/publishing.\",\n+...     language=\"en\",\n ... )\n >>> feed.add_item(\n ...     title=\"Hello\",\n-...     link=u\"http://www.holovaty.com/test/\",\n+...     link=\"http://www.holovaty.com/test/\",\n ...     description=\"Testing.\"\n ... )\n >>> with open('test.rss', 'w') as fp:\n@@ -21,6 +21,7 @@\n For definitions of the different versions of RSS, see:\n http://diveintomark.org/archives/2004/02/04/incompatible-rss\n \"\"\"\n+from __future__ import unicode_literals\n \n import datetime\n import urlparse\n@@ -70,7 +71,7 @@ def get_tag_uri(url, date):\n     d = ''\n     if date is not None:\n         d = ',%s' % datetime_safe.new_datetime(date).strftime('%Y-%m-%d')\n-    return u'tag:%s%s:%s/%s' % (bits.hostname, d, bits.path, bits.fragment)\n+    return 'tag:%s%s:%s/%s' % (bits.hostname, d, bits.path, bits.fragment)\n \n class SyndicationFeed(object):\n     \"Base class for all syndication feeds. Subclasses should provide write()\"\n@@ -203,177 +204,177 @@ class RssFeed(SyndicationFeed):\n     def write(self, outfile, encoding):\n         handler = SimplerXMLGenerator(outfile, encoding)\n         handler.startDocument()\n-        handler.startElement(u\"rss\", self.rss_attributes())\n-        handler.startElement(u\"channel\", self.root_attributes())\n+        handler.startElement(\"rss\", self.rss_attributes())\n+        handler.startElement(\"channel\", self.root_attributes())\n         self.add_root_elements(handler)\n         self.write_items(handler)\n         self.endChannelElement(handler)\n-        handler.endElement(u\"rss\")\n+        handler.endElement(\"rss\")\n \n     def rss_attributes(self):\n-        return {u\"version\": self._version,\n-                u\"xmlns:atom\": u\"http://www.w3.org/2005/Atom\"}\n+        return {\"version\": self._version,\n+                \"xmlns:atom\": \"http://www.w3.org/2005/Atom\"}\n \n     def write_items(self, handler):\n         for item in self.items:\n-            handler.startElement(u'item', self.item_attributes(item))\n+            handler.startElement('item', self.item_attributes(item))\n             self.add_item_elements(handler, item)\n-            handler.endElement(u\"item\")\n+            handler.endElement(\"item\")\n \n     def add_root_elements(self, handler):\n-        handler.addQuickElement(u\"title\", self.feed['title'])\n-        handler.addQuickElement(u\"link\", self.feed['link'])\n-        handler.addQuickElement(u\"description\", self.feed['description'])\n+        handler.addQuickElement(\"title\", self.feed['title'])\n+        handler.addQuickElement(\"link\", self.feed['link'])\n+        handler.addQuickElement(\"description\", self.feed['description'])\n         if self.feed['feed_url'] is not None:\n-            handler.addQuickElement(u\"atom:link\", None,\n-                    {u\"rel\": u\"self\", u\"href\": self.feed['feed_url']})\n+            handler.addQuickElement(\"atom:link\", None,\n+                    {\"rel\": \"self\", \"href\": self.feed['feed_url']})\n         if self.feed['language'] is not None:\n-            handler.addQuickElement(u\"language\", self.feed['language'])\n+            handler.addQuickElement(\"language\", self.feed['language'])\n         for cat in self.feed['categories']:\n-            handler.addQuickElement(u\"category\", cat)\n+            handler.addQuickElement(\"category\", cat)\n         if self.feed['feed_copyright'] is not None:\n-            handler.addQuickElement(u\"copyright\", self.feed['feed_copyright'])\n-        handler.addQuickElement(u\"lastBuildDate\", rfc2822_date(self.latest_post_date()).decode('utf-8'))\n+            handler.addQuickElement(\"copyright\", self.feed['feed_copyright'])\n+        handler.addQuickElement(\"lastBuildDate\", rfc2822_date(self.latest_post_date()).decode('utf-8'))\n         if self.feed['ttl'] is not None:\n-            handler.addQuickElement(u\"ttl\", self.feed['ttl'])\n+            handler.addQuickElement(\"ttl\", self.feed['ttl'])\n \n     def endChannelElement(self, handler):\n-        handler.endElement(u\"channel\")\n+        handler.endElement(\"channel\")\n \n class RssUserland091Feed(RssFeed):\n-    _version = u\"0.91\"\n+    _version = \"0.91\"\n     def add_item_elements(self, handler, item):\n-        handler.addQuickElement(u\"title\", item['title'])\n-        handler.addQuickElement(u\"link\", item['link'])\n+        handler.addQuickElement(\"title\", item['title'])\n+        handler.addQuickElement(\"link\", item['link'])\n         if item['description'] is not None:\n-            handler.addQuickElement(u\"description\", item['description'])\n+            handler.addQuickElement(\"description\", item['description'])\n \n class Rss201rev2Feed(RssFeed):\n     # Spec: http://blogs.law.harvard.edu/tech/rss\n-    _version = u\"2.0\"\n+    _version = \"2.0\"\n     def add_item_elements(self, handler, item):\n-        handler.addQuickElement(u\"title\", item['title'])\n-        handler.addQuickElement(u\"link\", item['link'])\n+        handler.addQuickElement(\"title\", item['title'])\n+        handler.addQuickElement(\"link\", item['link'])\n         if item['description'] is not None:\n-            handler.addQuickElement(u\"description\", item['description'])\n+            handler.addQuickElement(\"description\", item['description'])\n \n         # Author information.\n         if item[\"author_name\"] and item[\"author_email\"]:\n-            handler.addQuickElement(u\"author\", \"%s (%s)\" % \\\n+            handler.addQuickElement(\"author\", \"%s (%s)\" % \\\n                 (item['author_email'], item['author_name']))\n         elif item[\"author_email\"]:\n-            handler.addQuickElement(u\"author\", item[\"author_email\"])\n+            handler.addQuickElement(\"author\", item[\"author_email\"])\n         elif item[\"author_name\"]:\n-            handler.addQuickElement(u\"dc:creator\", item[\"author_name\"], {u\"xmlns:dc\": u\"http://purl.org/dc/elements/1.1/\"})\n+            handler.addQuickElement(\"dc:creator\", item[\"author_name\"], {\"xmlns:dc\": \"http://purl.org/dc/elements/1.1/\"})\n \n         if item['pubdate'] is not None:\n-            handler.addQuickElement(u\"pubDate\", rfc2822_date(item['pubdate']).decode('utf-8'))\n+            handler.addQuickElement(\"pubDate\", rfc2822_date(item['pubdate']).decode('utf-8'))\n         if item['comments'] is not None:\n-            handler.addQuickElement(u\"comments\", item['comments'])\n+            handler.addQuickElement(\"comments\", item['comments'])\n         if item['unique_id'] is not None:\n-            handler.addQuickElement(u\"guid\", item['unique_id'])\n+            handler.addQuickElement(\"guid\", item['unique_id'])\n         if item['ttl'] is not None:\n-            handler.addQuickElement(u\"ttl\", item['ttl'])\n+            handler.addQuickElement(\"ttl\", item['ttl'])\n \n         # Enclosure.\n         if item['enclosure'] is not None:\n-            handler.addQuickElement(u\"enclosure\", '',\n-                {u\"url\": item['enclosure'].url, u\"length\": item['enclosure'].length,\n-                    u\"type\": item['enclosure'].mime_type})\n+            handler.addQuickElement(\"enclosure\", '',\n+                {\"url\": item['enclosure'].url, \"length\": item['enclosure'].length,\n+                    \"type\": item['enclosure'].mime_type})\n \n         # Categories.\n         for cat in item['categories']:\n-            handler.addQuickElement(u\"category\", cat)\n+            handler.addQuickElement(\"category\", cat)\n \n class Atom1Feed(SyndicationFeed):\n     # Spec: http://atompub.org/2005/07/11/draft-ietf-atompub-format-10.html\n     mime_type = 'application/atom+xml; charset=utf-8'\n-    ns = u\"http://www.w3.org/2005/Atom\"\n+    ns = \"http://www.w3.org/2005/Atom\"\n \n     def write(self, outfile, encoding):\n         handler = SimplerXMLGenerator(outfile, encoding)\n         handler.startDocument()\n-        handler.startElement(u'feed', self.root_attributes())\n+        handler.startElement('feed', self.root_attributes())\n         self.add_root_elements(handler)\n         self.write_items(handler)\n-        handler.endElement(u\"feed\")\n+        handler.endElement(\"feed\")\n \n     def root_attributes(self):\n         if self.feed['language'] is not None:\n-            return {u\"xmlns\": self.ns, u\"xml:lang\": self.feed['language']}\n+            return {\"xmlns\": self.ns, \"xml:lang\": self.feed['language']}\n         else:\n-            return {u\"xmlns\": self.ns}\n+            return {\"xmlns\": self.ns}\n \n     def add_root_elements(self, handler):\n-        handler.addQuickElement(u\"title\", self.feed['title'])\n-        handler.addQuickElement(u\"link\", \"\", {u\"rel\": u\"alternate\", u\"href\": self.feed['link']})\n+        handler.addQuickElement(\"title\", self.feed['title'])\n+        handler.addQuickElement(\"link\", \"\", {\"rel\": \"alternate\", \"href\": self.feed['link']})\n         if self.feed['feed_url'] is not None:\n-            handler.addQuickElement(u\"link\", \"\", {u\"rel\": u\"self\", u\"href\": self.feed['feed_url']})\n-        handler.addQuickElement(u\"id\", self.feed['id'])\n-        handler.addQuickElement(u\"updated\", rfc3339_date(self.latest_post_date()).decode('utf-8'))\n+            handler.addQuickElement(\"link\", \"\", {\"rel\": \"self\", \"href\": self.feed['feed_url']})\n+        handler.addQuickElement(\"id\", self.feed['id'])\n+        handler.addQuickElement(\"updated\", rfc3339_date(self.latest_post_date()).decode('utf-8'))\n         if self.feed['author_name'] is not None:\n-            handler.startElement(u\"author\", {})\n-            handler.addQuickElement(u\"name\", self.feed['author_name'])\n+            handler.startElement(\"author\", {})\n+            handler.addQuickElement(\"name\", self.feed['author_name'])\n             if self.feed['author_email'] is not None:\n-                handler.addQuickElement(u\"email\", self.feed['author_email'])\n+                handler.addQuickElement(\"email\", self.feed['author_email'])\n             if self.feed['author_link'] is not None:\n-                handler.addQuickElement(u\"uri\", self.feed['author_link'])\n-            handler.endElement(u\"author\")\n+                handler.addQuickElement(\"uri\", self.feed['author_link'])\n+            handler.endElement(\"author\")\n         if self.feed['subtitle'] is not None:\n-            handler.addQuickElement(u\"subtitle\", self.feed['subtitle'])\n+            handler.addQuickElement(\"subtitle\", self.feed['subtitle'])\n         for cat in self.feed['categories']:\n-            handler.addQuickElement(u\"category\", \"\", {u\"term\": cat})\n+            handler.addQuickElement(\"category\", \"\", {\"term\": cat})\n         if self.feed['feed_copyright'] is not None:\n-            handler.addQuickElement(u\"rights\", self.feed['feed_copyright'])\n+            handler.addQuickElement(\"rights\", self.feed['feed_copyright'])\n \n     def write_items(self, handler):\n         for item in self.items:\n-            handler.startElement(u\"entry\", self.item_attributes(item))\n+            handler.startElement(\"entry\", self.item_attributes(item))\n             self.add_item_elements(handler, item)\n-            handler.endElement(u\"entry\")\n+            handler.endElement(\"entry\")\n \n     def add_item_elements(self, handler, item):\n-        handler.addQuickElement(u\"title\", item['title'])\n-        handler.addQuickElement(u\"link\", u\"\", {u\"href\": item['link'], u\"rel\": u\"alternate\"})\n+        handler.addQuickElement(\"title\", item['title'])\n+        handler.addQuickElement(\"link\", \"\", {\"href\": item['link'], \"rel\": \"alternate\"})\n         if item['pubdate'] is not None:\n-            handler.addQuickElement(u\"updated\", rfc3339_date(item['pubdate']).decode('utf-8'))\n+            handler.addQuickElement(\"updated\", rfc3339_date(item['pubdate']).decode('utf-8'))\n \n         # Author information.\n         if item['author_name'] is not None:\n-            handler.startElement(u\"author\", {})\n-            handler.addQuickElement(u\"name\", item['author_name'])\n+            handler.startElement(\"author\", {})\n+            handler.addQuickElement(\"name\", item['author_name'])\n             if item['author_email'] is not None:\n-                handler.addQuickElement(u\"email\", item['author_email'])\n+                handler.addQuickElement(\"email\", item['author_email'])\n             if item['author_link'] is not None:\n-                handler.addQuickElement(u\"uri\", item['author_link'])\n-            handler.endElement(u\"author\")\n+                handler.addQuickElement(\"uri\", item['author_link'])\n+            handler.endElement(\"author\")\n \n         # Unique ID.\n         if item['unique_id'] is not None:\n             unique_id = item['unique_id']\n         else:\n             unique_id = get_tag_uri(item['link'], item['pubdate'])\n-        handler.addQuickElement(u\"id\", unique_id)\n+        handler.addQuickElement(\"id\", unique_id)\n \n         # Summary.\n         if item['description'] is not None:\n-            handler.addQuickElement(u\"summary\", item['description'], {u\"type\": u\"html\"})\n+            handler.addQuickElement(\"summary\", item['description'], {\"type\": \"html\"})\n \n         # Enclosure.\n         if item['enclosure'] is not None:\n-            handler.addQuickElement(u\"link\", '',\n-                {u\"rel\": u\"enclosure\",\n-                 u\"href\": item['enclosure'].url,\n-                 u\"length\": item['enclosure'].length,\n-                 u\"type\": item['enclosure'].mime_type})\n+            handler.addQuickElement(\"link\", '',\n+                {\"rel\": \"enclosure\",\n+                 \"href\": item['enclosure'].url,\n+                 \"length\": item['enclosure'].length,\n+                 \"type\": item['enclosure'].mime_type})\n \n         # Categories.\n         for cat in item['categories']:\n-            handler.addQuickElement(u\"category\", u\"\", {u\"term\": cat})\n+            handler.addQuickElement(\"category\", \"\", {\"term\": cat})\n \n         # Rights.\n         if item['item_copyright'] is not None:\n-            handler.addQuickElement(u\"rights\", item['item_copyright'])\n+            handler.addQuickElement(\"rights\", item['item_copyright'])\n \n # This isolates the decision of what the system default is, so calling code can\n # do \"feedgenerator.DefaultFeed\" instead of \"feedgenerator.Rss201rev2Feed\"."
        },
        {
            "sha": "014d837bbb384f07f0f7212a2683230717cc5830",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 22,
            "deletions": 20,
            "changes": 42,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,7 @@\n \"\"\"HTML utilities suitable for global use.\"\"\"\n \n+from __future__ import unicode_literals\n+\n import re\n import string\n import urllib\n@@ -15,7 +17,7 @@\n WRAPPING_PUNCTUATION = [('(', ')'), ('<', '>'), ('&lt;', '&gt;')]\n \n # List of possible strings used for bullets in bulleted lists.\n-DOTS = [u'&middot;', u'*', u'\\u2022', u'&#149;', u'&bull;', u'&#8226;']\n+DOTS = ['&middot;', '*', '\\u2022', '&#149;', '&bull;', '&#8226;']\n \n unencoded_ampersands_re = re.compile(r'&(?!(\\w+|#\\d+);)')\n unquoted_percents_re = re.compile(r'%(?![0-9A-Fa-f]{2})')\n@@ -37,17 +39,17 @@ def escape(html):\n escape = allow_lazy(escape, unicode)\n \n _base_js_escapes = (\n-    ('\\\\', r'\\u005C'),\n-    ('\\'', r'\\u0027'),\n-    ('\"', r'\\u0022'),\n-    ('>', r'\\u003E'),\n-    ('<', r'\\u003C'),\n-    ('&', r'\\u0026'),\n-    ('=', r'\\u003D'),\n-    ('-', r'\\u002D'),\n-    (';', r'\\u003B'),\n-    (u'\\u2028', r'\\u2028'),\n-    (u'\\u2029', r'\\u2029')\n+    ('\\\\', '\\\\u005C'),\n+    ('\\'', '\\\\u0027'),\n+    ('\"', '\\\\u0022'),\n+    ('>', '\\\\u003E'),\n+    ('<', '\\\\u003C'),\n+    ('&', '\\\\u0026'),\n+    ('=', '\\\\u003D'),\n+    ('-', '\\\\u002D'),\n+    (';', '\\\\u003B'),\n+    ('\\u2028', '\\\\u2028'),\n+    ('\\u2029', '\\\\u2029')\n )\n \n # Escape every ASCII character with a value less than 32.\n@@ -75,10 +77,10 @@ def linebreaks(value, autoescape=False):\n     value = normalize_newlines(value)\n     paras = re.split('\\n{2,}', value)\n     if autoescape:\n-        paras = [u'<p>%s</p>' % escape(p).replace('\\n', '<br />') for p in paras]\n+        paras = ['<p>%s</p>' % escape(p).replace('\\n', '<br />') for p in paras]\n     else:\n-        paras = [u'<p>%s</p>' % p.replace('\\n', '<br />') for p in paras]\n-    return u'\\n\\n'.join(paras)\n+        paras = ['<p>%s</p>' % p.replace('\\n', '<br />') for p in paras]\n+    return '\\n\\n'.join(paras)\n linebreaks = allow_lazy(linebreaks, unicode)\n \n def strip_tags(value):\n@@ -192,7 +194,7 @@ def urlize(text, trim_url_limit=None, nofollow=False, autoescape=False):\n             words[i] = mark_safe(word)\n         elif autoescape:\n             words[i] = escape(word)\n-    return u''.join(words)\n+    return ''.join(words)\n urlize = allow_lazy(urlize, unicode)\n \n def clean_html(text):\n@@ -218,13 +220,13 @@ def clean_html(text):\n     text = html_gunk_re.sub('', text)\n     # Convert hard-coded bullets into HTML unordered lists.\n     def replace_p_tags(match):\n-        s = match.group().replace(u'</p>', u'</li>')\n+        s = match.group().replace('</p>', '</li>')\n         for d in DOTS:\n-            s = s.replace(u'<p>%s' % d, u'<li>')\n-        return u'<ul>\\n%s\\n</ul>' % s\n+            s = s.replace('<p>%s' % d, '<li>')\n+        return '<ul>\\n%s\\n</ul>' % s\n     text = hard_coded_bullets_re.sub(replace_p_tags, text)\n     # Remove stuff like \"<p>&nbsp;&nbsp;</p>\", but only if it's at the bottom\n     # of the text.\n-    text = trailing_empty_content_re.sub(u'', text)\n+    text = trailing_empty_content_re.sub('', text)\n     return text\n clean_html = allow_lazy(clean_html, unicode)"
        },
        {
            "sha": "4b8ecea7217e7a2a96f2ec2652626a638d6a70a4",
            "filename": "django/utils/regex_helper.py",
            "status": "modified",
            "additions": 17,
            "deletions": 16,
            "changes": 33,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fregex_helper.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fregex_helper.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fregex_helper.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,6 +5,7 @@\n This is not, and is not intended to be, a complete reg-exp decompiler. It\n should be good enough for a large class of URLS, however.\n \"\"\"\n+from __future__ import unicode_literals\n \n # Mapping of an escape character to a representative of that class. So, e.g.,\n # \"\\w\" is replaced by \"x\" in a reverse URL. A value of None means to ignore\n@@ -13,12 +14,12 @@\n     \"A\": None,\n     \"b\": None,\n     \"B\": None,\n-    \"d\": u\"0\",\n-    \"D\": u\"x\",\n-    \"s\": u\" \",\n-    \"S\": u\"x\",\n-    \"w\": u\"x\",\n-    \"W\": u\"!\",\n+    \"d\": \"0\",\n+    \"D\": \"x\",\n+    \"s\": \" \",\n+    \"S\": \"x\",\n+    \"w\": \"x\",\n+    \"W\": \"!\",\n     \"Z\": None,\n }\n \n@@ -77,15 +78,15 @@ def normalize(pattern):\n     try:\n         ch, escaped = next(pattern_iter)\n     except StopIteration:\n-        return zip([u''],  [[]])\n+        return zip([''],  [[]])\n \n     try:\n         while True:\n             if escaped:\n                 result.append(ch)\n             elif ch == '.':\n                 # Replace \"any character\" with an arbitrary representative.\n-                result.append(u\".\")\n+                result.append(\".\")\n             elif ch == '|':\n                 # FIXME: One day we'll should do this, but not in 1.0.\n                 raise NotImplementedError\n@@ -117,7 +118,7 @@ def normalize(pattern):\n                     # A positional group\n                     name = \"_%d\" % num_args\n                     num_args += 1\n-                    result.append(Group(((u\"%%(%s)s\" % name), name)))\n+                    result.append(Group(((\"%%(%s)s\" % name), name)))\n                     walk_to_end(ch, pattern_iter)\n                 else:\n                     ch, escaped = next(pattern_iter)\n@@ -152,10 +153,10 @@ def normalize(pattern):\n                         # Named backreferences have already consumed the\n                         # parenthesis.\n                         if terminal_char != ')':\n-                            result.append(Group(((u\"%%(%s)s\" % param), param)))\n+                            result.append(Group(((\"%%(%s)s\" % param), param)))\n                             walk_to_end(ch, pattern_iter)\n                         else:\n-                            result.append(Group(((u\"%%(%s)s\" % param), None)))\n+                            result.append(Group(((\"%%(%s)s\" % param), None)))\n             elif ch in \"*?+{\":\n                 # Quanitifers affect the previous item in the result list.\n                 count, ch = get_quantifier(ch, pattern_iter)\n@@ -190,7 +191,7 @@ def normalize(pattern):\n         pass\n     except NotImplementedError:\n         # A case of using the disjunctive form. No results for you!\n-        return zip([u''],  [[]])\n+        return zip([''],  [[]])\n \n     return zip(*flatten_result(result))\n \n@@ -290,20 +291,20 @@ def flatten_result(source):\n     Each of the two lists will be of the same length.\n     \"\"\"\n     if source is None:\n-        return [u''], [[]]\n+        return [''], [[]]\n     if isinstance(source, Group):\n         if source[1] is None:\n             params = []\n         else:\n             params = [source[1]]\n         return [source[0]], [params]\n-    result = [u'']\n+    result = ['']\n     result_args = [[]]\n     pos = last = 0\n     for pos, elt in enumerate(source):\n         if isinstance(elt, basestring):\n             continue\n-        piece = u''.join(source[last:pos])\n+        piece = ''.join(source[last:pos])\n         if isinstance(elt, Group):\n             piece += elt[0]\n             param = elt[1]\n@@ -331,7 +332,7 @@ def flatten_result(source):\n             result = new_result\n             result_args = new_args\n     if pos >= last:\n-        piece = u''.join(source[last:])\n+        piece = ''.join(source[last:])\n         for i in range(len(result)):\n             result[i] += piece\n     return result, result_args"
        },
        {
            "sha": "2546f770b5417744d4da4bd74d2583183aaa7511",
            "filename": "django/utils/text.py",
            "status": "modified",
            "additions": 24,
            "deletions": 22,
            "changes": 46,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftext.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftext.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import re\n import unicodedata\n import warnings\n@@ -43,7 +45,7 @@ def _generator():\n                 if len(lines) > 1:\n                     pos = len(lines[-1])\n             yield word\n-    return u''.join(_generator())\n+    return ''.join(_generator())\n wrap = allow_lazy(wrap, unicode)\n \n \n@@ -58,7 +60,7 @@ def add_truncation_text(self, text, truncate=None):\n         if truncate is None:\n             truncate = pgettext(\n                 'String to return when truncating text',\n-                u'%(truncated_text)s...')\n+                '%(truncated_text)s...')\n         truncate = force_unicode(truncate)\n         if '%(truncated_text)s' in truncate:\n             return truncate % {'truncated_text': text}\n@@ -130,8 +132,8 @@ def _text_words(self, length, truncate):\n         words = self._wrapped.split()\n         if len(words) > length:\n             words = words[:length]\n-            return self.add_truncation_text(u' '.join(words), truncate)\n-        return u' '.join(words)\n+            return self.add_truncation_text(' '.join(words), truncate)\n+        return ' '.join(words)\n \n     def _html_words(self, length, truncate):\n         \"\"\"\n@@ -142,7 +144,7 @@ def _html_words(self, length, truncate):\n         Newlines in the HTML are preserved.\n         \"\"\"\n         if length <= 0:\n-            return u''\n+            return ''\n         html4_singlets = (\n             'br', 'col', 'link', 'base', 'img',\n             'param', 'area', 'hr', 'input'\n@@ -221,28 +223,28 @@ def get_valid_filename(s):\n     spaces are converted to underscores; and anything that is not a unicode\n     alphanumeric, dash, underscore, or dot, is removed.\n     >>> get_valid_filename(\"john's portrait in 2004.jpg\")\n-    u'johns_portrait_in_2004.jpg'\n+    'johns_portrait_in_2004.jpg'\n     \"\"\"\n     s = force_unicode(s).strip().replace(' ', '_')\n     return re.sub(r'(?u)[^-\\w.]', '', s)\n get_valid_filename = allow_lazy(get_valid_filename, unicode)\n \n-def get_text_list(list_, last_word=ugettext_lazy(u'or')):\n+def get_text_list(list_, last_word=ugettext_lazy('or')):\n     \"\"\"\n     >>> get_text_list(['a', 'b', 'c', 'd'])\n-    u'a, b, c or d'\n+    'a, b, c or d'\n     >>> get_text_list(['a', 'b', 'c'], 'and')\n-    u'a, b and c'\n+    'a, b and c'\n     >>> get_text_list(['a', 'b'], 'and')\n-    u'a and b'\n+    'a and b'\n     >>> get_text_list(['a'])\n-    u'a'\n+    'a'\n     >>> get_text_list([])\n-    u''\n+    ''\n     \"\"\"\n-    if len(list_) == 0: return u''\n+    if len(list_) == 0: return ''\n     if len(list_) == 1: return force_unicode(list_[0])\n-    return u'%s %s %s' % (\n+    return '%s %s %s' % (\n         # Translators: This string is used as a separator between list elements\n         _(', ').join([force_unicode(i) for i in list_][:-1]),\n         force_unicode(last_word), force_unicode(list_[-1]))\n@@ -267,7 +269,7 @@ def phone2numeric(phone):\n          'n': '6', 'o': '6', 'p': '7', 'q': '7', 'r': '7', 's': '7', 't': '8',\n          'u': '8', 'v': '8', 'w': '9', 'x': '9', 'y': '9', 'z': '9',\n         }\n-    return u''.join(char2number.get(c, c) for c in phone.lower())\n+    return ''.join(char2number.get(c, c) for c in phone.lower())\n phone2numeric = allow_lazy(phone2numeric)\n \n # From http://www.xhaus.com/alan/python/httpcomp.html#gzip\n@@ -279,12 +281,12 @@ def compress_string(s):\n     zfile.close()\n     return zbuf.getvalue()\n \n-ustring_re = re.compile(u\"([\\u0080-\\uffff])\")\n+ustring_re = re.compile(\"([\\u0080-\\uffff])\")\n \n def javascript_quote(s, quote_double_quotes=False):\n \n     def fix(match):\n-        return r\"\\u%04x\" % ord(match.group(1))\n+        return b\"\\u%04x\" % ord(match.group(1))\n \n     if type(s) == str:\n         s = s.decode('utf-8')\n@@ -321,11 +323,11 @@ def smart_split(text):\n     be further processed with unescape_string_literal()).\n \n     >>> list(smart_split(r'This is \"a person\\'s\" test.'))\n-    [u'This', u'is', u'\"a person\\\\\\'s\"', u'test.']\n+    ['This', 'is', '\"a person\\\\\\'s\"', 'test.']\n     >>> list(smart_split(r\"Another 'person\\'s' test.\"))\n-    [u'Another', u\"'person\\\\'s'\", u'test.']\n+    ['Another', \"'person\\\\'s'\", 'test.']\n     >>> list(smart_split(r'A \"\\\"funky\\\" style\" test.'))\n-    [u'A', u'\"\\\\\"funky\\\\\" style\"', u'test.']\n+    ['A', '\"\\\\\"funky\\\\\" style\"', 'test.']\n     \"\"\"\n     text = force_unicode(text)\n     for bit in smart_split_re.finditer(text):\n@@ -334,10 +336,10 @@ def smart_split(text):\n \n def _replace_entity(match):\n     text = match.group(1)\n-    if text[0] == u'#':\n+    if text[0] == '#':\n         text = text[1:]\n         try:\n-            if text[0] in u'xX':\n+            if text[0] in 'xX':\n                 c = int(text[1:], 16)\n             else:\n                 c = int(text)"
        },
        {
            "sha": "1721f097bdb57f1293f72141c97db157e8bb8019",
            "filename": "django/utils/timesince.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftimesince.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftimesince.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftimesince.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n \n from django.utils.timezone import is_aware, utc\n@@ -38,7 +40,7 @@ def timesince(d, now=None, reversed=False):\n     since = delta.days * 24 * 60 * 60 + delta.seconds\n     if since <= 0:\n         # d is in the future compared to now, stop processing.\n-        return u'0 ' + ugettext('minutes')\n+        return '0 ' + ugettext('minutes')\n     for i, (seconds, name) in enumerate(chunks):\n         count = since // seconds\n         if count != 0:"
        },
        {
            "sha": "0f1f28e5c44bc6f37e6fa99fcd23f8f548c66056",
            "filename": "django/utils/translation/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftranslation%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftranslation%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2F__init__.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,8 @@\n \"\"\"\n Internationalization support.\n \"\"\"\n+from __future__ import unicode_literals\n+\n from django.utils.encoding import force_unicode\n from django.utils.functional import lazy\n \n@@ -136,7 +138,7 @@ def _string_concat(*strings):\n     Lazy variant of string concatenation, needed for translations that are\n     constructed from multiple parts.\n     \"\"\"\n-    return u''.join([force_unicode(s) for s in strings])\n+    return ''.join([force_unicode(s) for s in strings])\n string_concat = lazy(_string_concat, unicode)\n \n def get_language_info(lang_code):"
        },
        {
            "sha": "0cd13fd6f593f3025ef719ba250f1d13223e57a7",
            "filename": "django/utils/translation/trans_real.py",
            "status": "modified",
            "additions": 23,
            "deletions": 20,
            "changes": 43,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2Ftrans_real.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,11 +1,12 @@\n \"\"\"Translation helper functions.\"\"\"\n+from __future__ import unicode_literals\n \n import locale\n import os\n import re\n import sys\n import gettext as gettext_module\n-from io import BytesIO\n+from io import StringIO\n from threading import local\n \n from django.utils.importlib import import_module\n@@ -25,7 +26,7 @@\n _accepted = {}\n \n # magic gettext number to separate context from message\n-CONTEXT_SEPARATOR = u\"\\x04\"\n+CONTEXT_SEPARATOR = \"\\x04\"\n \n # Format of Accept-Language header values. From RFC 2616, section 14.4 and 3.9.\n accept_language_re = re.compile(r'''\n@@ -263,7 +264,7 @@ def ugettext(message):\n \n def pgettext(context, message):\n     result = do_translate(\n-        u\"%s%s%s\" % (context, CONTEXT_SEPARATOR, message), 'ugettext')\n+        \"%s%s%s\" % (context, CONTEXT_SEPARATOR, message), 'ugettext')\n     if CONTEXT_SEPARATOR in result:\n         # Translation not found\n         result = message\n@@ -304,8 +305,8 @@ def ungettext(singular, plural, number):\n     return do_ntranslate(singular, plural, number, 'ungettext')\n \n def npgettext(context, singular, plural, number):\n-    result = do_ntranslate(u\"%s%s%s\" % (context, CONTEXT_SEPARATOR, singular),\n-                           u\"%s%s%s\" % (context, CONTEXT_SEPARATOR, plural),\n+    result = do_ntranslate(\"%s%s%s\" % (context, CONTEXT_SEPARATOR, singular),\n+                           \"%s%s%s\" % (context, CONTEXT_SEPARATOR, plural),\n                            number, 'ungettext')\n     if CONTEXT_SEPARATOR in result:\n         # Translation not found\n@@ -436,9 +437,11 @@ def templatize(src, origin=None):\n     does so by translating the Django translation tags into standard gettext\n     function invocations.\n     \"\"\"\n+    from django.conf import settings\n     from django.template import (Lexer, TOKEN_TEXT, TOKEN_VAR, TOKEN_BLOCK,\n             TOKEN_COMMENT, TRANSLATOR_COMMENT_MARK)\n-    out = BytesIO()\n+    src = src.decode(settings.FILE_CHARSET)\n+    out = StringIO()\n     message_context = None\n     intrans = False\n     inplural = False\n@@ -449,16 +452,16 @@ def templatize(src, origin=None):\n     for t in Lexer(src, origin).tokenize():\n         if incomment:\n             if t.token_type == TOKEN_BLOCK and t.contents == 'endcomment':\n-                content = b''.join(comment)\n+                content = ''.join(comment)\n                 translators_comment_start = None\n                 for lineno, line in enumerate(content.splitlines(True)):\n                     if line.lstrip().startswith(TRANSLATOR_COMMENT_MARK):\n                         translators_comment_start = lineno\n                 for lineno, line in enumerate(content.splitlines(True)):\n                     if translators_comment_start is not None and lineno >= translators_comment_start:\n-                        out.write(b' # %s' % line)\n+                        out.write(' # %s' % line)\n                     else:\n-                        out.write(b' #\\n')\n+                        out.write(' #\\n')\n                 incomment = False\n                 comment = []\n             else:\n@@ -470,18 +473,18 @@ def templatize(src, origin=None):\n                 if endbmatch:\n                     if inplural:\n                         if message_context:\n-                            out.write(b' npgettext(%r, %r, %r,count) ' % (message_context, ''.join(singular), ''.join(plural)))\n+                            out.write(' npgettext(%r, %r, %r,count) ' % (message_context, ''.join(singular), ''.join(plural)))\n                         else:\n-                            out.write(b' ngettext(%r, %r, count) ' % (''.join(singular), ''.join(plural)))\n+                            out.write(' ngettext(%r, %r, count) ' % (''.join(singular), ''.join(plural)))\n                         for part in singular:\n                             out.write(blankout(part, 'S'))\n                         for part in plural:\n                             out.write(blankout(part, 'P'))\n                     else:\n                         if message_context:\n-                            out.write(b' pgettext(%r, %r) ' % (message_context, ''.join(singular)))\n+                            out.write(' pgettext(%r, %r) ' % (message_context, ''.join(singular)))\n                         else:\n-                            out.write(b' gettext(%r) ' % ''.join(singular))\n+                            out.write(' gettext(%r) ' % ''.join(singular))\n                         for part in singular:\n                             out.write(blankout(part, 'S'))\n                     message_context = None\n@@ -527,10 +530,10 @@ def templatize(src, origin=None):\n                             message_context = message_context.strip('\"')\n                         elif message_context[0] == \"'\":\n                             message_context = message_context.strip(\"'\")\n-                        out.write(b' pgettext(%r, %r) ' % (message_context, g))\n+                        out.write(' pgettext(%r, %r) ' % (message_context, g))\n                         message_context = None\n                     else:\n-                        out.write(b' gettext(%r) ' % g)\n+                        out.write(' gettext(%r) ' % g)\n                 elif bmatch:\n                     for fmatch in constant_re.findall(t.contents):\n                         out.write(' _(%s) ' % fmatch)\n@@ -548,7 +551,7 @@ def templatize(src, origin=None):\n                     plural = []\n                 elif cmatches:\n                     for cmatch in cmatches:\n-                        out.write(b' _(%s) ' % cmatch)\n+                        out.write(' _(%s) ' % cmatch)\n                 elif t.contents == 'comment':\n                     incomment = True\n                 else:\n@@ -557,17 +560,17 @@ def templatize(src, origin=None):\n                 parts = t.contents.split('|')\n                 cmatch = constant_re.match(parts[0])\n                 if cmatch:\n-                    out.write(b' _(%s) ' % cmatch.group(1))\n+                    out.write(' _(%s) ' % cmatch.group(1))\n                 for p in parts[1:]:\n                     if p.find(':_(') >= 0:\n-                        out.write(b' %s ' % p.split(':',1)[1])\n+                        out.write(' %s ' % p.split(':',1)[1])\n                     else:\n                         out.write(blankout(p, 'F'))\n             elif t.token_type == TOKEN_COMMENT:\n-                out.write(b' # %s' % t.contents)\n+                out.write(' # %s' % t.contents)\n             else:\n                 out.write(blankout(t.contents, 'X'))\n-    return out.getvalue()\n+    return out.getvalue().encode('utf-8')\n \n def parse_accept_lang_header(lang_string):\n     \"\"\""
        },
        {
            "sha": "05f4aa6d2fe947422c4829c2108f05c8316f6313",
            "filename": "django/utils/tzinfo.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftzinfo.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Ftzinfo.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftzinfo.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,7 @@\n \"Implementation of tzinfo classes for use with datetime.datetime.\"\n \n+from __future__ import unicode_literals\n+\n import time\n from datetime import timedelta, tzinfo\n \n@@ -20,7 +22,7 @@ def __init__(self, offset):\n             self.__offset = timedelta(minutes=offset)\n \n         sign = '-' if offset < 0 else '+'\n-        self.__name = u\"%s%02d%02d\" % (sign, abs(offset) / 60., abs(offset) % 60)\n+        self.__name = \"%s%02d%02d\" % (sign, abs(offset) / 60., abs(offset) % 60)\n \n     def __repr__(self):\n         return self.__name"
        },
        {
            "sha": "3d66b9ef529483e03982cb25538e574a73c0144b",
            "filename": "django/utils/version.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fversion.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Futils%2Fversion.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fversion.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n import os\n import subprocess"
        },
        {
            "sha": "25eee4a91a6d7f011079b4d3f4ba58abe5f33916",
            "filename": "django/views/debug.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdebug.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n import os\n import re\n@@ -16,7 +18,7 @@\n \n HIDDEN_SETTINGS = re.compile('API|TOKEN|KEY|SECRET|PASS|PROFANITIES_LIST|SIGNATURE')\n \n-CLEANSED_SUBSTITUTE = u'********************'\n+CLEANSED_SUBSTITUTE = '********************'\n \n def linebreak_iter(template_source):\n     yield 0\n@@ -355,7 +357,7 @@ def _get_lines_from_file(self, filename, lineno, context_lines, loader=None, mod\n         for line in source[:2]:\n             # File coding may be specified. Match pattern from PEP-263\n             # (http://www.python.org/dev/peps/pep-0263/)\n-            match = re.search(r'coding[:=]\\s*([-\\w.]+)', line)\n+            match = re.search(br'coding[:=]\\s*([-\\w.]+)', line)\n             if match:\n                 encoding = match.group(1)\n                 break"
        },
        {
            "sha": "c45bc32bf548981f349b3780838db8b4b7c3c662",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from functools import update_wrapper\n from django import http\n from django.core.exceptions import ImproperlyConfigured\n@@ -44,11 +46,11 @@ def as_view(cls, **initkwargs):\n         # sanitize keyword arguments\n         for key in initkwargs:\n             if key in cls.http_method_names:\n-                raise TypeError(u\"You tried to pass in the %s method name as a \"\n-                                u\"keyword argument to %s(). Don't do that.\"\n+                raise TypeError(\"You tried to pass in the %s method name as a \"\n+                                \"keyword argument to %s(). Don't do that.\"\n                                 % (key, cls.__name__))\n             if not hasattr(cls, key):\n-                raise TypeError(u\"%s() received an invalid keyword %r\" % (\n+                raise TypeError(\"%s() received an invalid keyword %r\" % (\n                     cls.__name__, key))\n \n         def view(request, *args, **kwargs):"
        },
        {
            "sha": "26b172231c03fe913dee164832d15fb606813a46",
            "filename": "django/views/generic/dates.py",
            "status": "modified",
            "additions": 11,
            "deletions": 9,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fdates.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fdates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdates.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n from django.conf import settings\n from django.db import models\n@@ -34,7 +36,7 @@ def get_year(self):\n                 try:\n                     year = self.request.GET['year']\n                 except KeyError:\n-                    raise Http404(_(u\"No year specified\"))\n+                    raise Http404(_(\"No year specified\"))\n         return year\n \n     def get_next_year(self, date):\n@@ -87,7 +89,7 @@ def get_month(self):\n                 try:\n                     month = self.request.GET['month']\n                 except KeyError:\n-                    raise Http404(_(u\"No month specified\"))\n+                    raise Http404(_(\"No month specified\"))\n         return month\n \n     def get_next_month(self, date):\n@@ -143,7 +145,7 @@ def get_day(self):\n                 try:\n                     day = self.request.GET['day']\n                 except KeyError:\n-                    raise Http404(_(u\"No day specified\"))\n+                    raise Http404(_(\"No day specified\"))\n         return day\n \n     def get_next_day(self, date):\n@@ -196,7 +198,7 @@ def get_week(self):\n                 try:\n                     week = self.request.GET['week']\n                 except KeyError:\n-                    raise Http404(_(u\"No week specified\"))\n+                    raise Http404(_(\"No week specified\"))\n         return week\n \n     def get_next_week(self, date):\n@@ -252,7 +254,7 @@ def get_date_field(self):\n         Get the name of the date field to be used to filter by.\n         \"\"\"\n         if self.date_field is None:\n-            raise ImproperlyConfigured(u\"%s.date_field is required.\" % self.__class__.__name__)\n+            raise ImproperlyConfigured(\"%s.date_field is required.\" % self.__class__.__name__)\n         return self.date_field\n \n     def get_allow_future(self):\n@@ -350,7 +352,7 @@ def get_dated_queryset(self, ordering=None, **lookup):\n             # than to load the unpaginated queryset in memory.\n             is_empty = len(qs) == 0 if paginate_by is None else not qs.exists()\n             if is_empty:\n-                raise Http404(_(u\"No %(verbose_name_plural)s available\") % {\n+                raise Http404(_(\"No %(verbose_name_plural)s available\") % {\n                         'verbose_name_plural': force_unicode(qs.model._meta.verbose_name_plural)\n                 })\n \n@@ -367,7 +369,7 @@ def get_date_list(self, queryset, date_type):\n         date_list = queryset.dates(date_field, date_type)[::-1]\n         if date_list is not None and not date_list and not allow_empty:\n             name = force_unicode(queryset.model._meta.verbose_name_plural)\n-            raise Http404(_(u\"No %(verbose_name_plural)s available\") %\n+            raise Http404(_(\"No %(verbose_name_plural)s available\") %\n                           {'verbose_name_plural': name})\n \n         return date_list\n@@ -617,7 +619,7 @@ def get_object(self, queryset=None):\n         qs = queryset or self.get_queryset()\n \n         if not self.get_allow_future() and date > datetime.date.today():\n-            raise Http404(_(u\"Future %(verbose_name_plural)s not available because %(class_name)s.allow_future is False.\") % {\n+            raise Http404(_(\"Future %(verbose_name_plural)s not available because %(class_name)s.allow_future is False.\") % {\n                 'verbose_name_plural': qs.model._meta.verbose_name_plural,\n                 'class_name': self.__class__.__name__,\n             })\n@@ -649,7 +651,7 @@ def _date_from_string(year, year_format, month='', month_format='', day='', day_\n     try:\n         return datetime.datetime.strptime(datestr, format).date()\n     except ValueError:\n-        raise Http404(_(u\"Invalid date string '%(datestr)s' given format '%(format)s'\") % {\n+        raise Http404(_(\"Invalid date string '%(datestr)s' given format '%(format)s'\") % {\n             'datestr': datestr,\n             'format': format,\n         })"
        },
        {
            "sha": "8cc413aa650736d22aaac4e9714c655ea494df94",
            "filename": "django/views/generic/detail.py",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fdetail.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Fdetail.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdetail.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.core.exceptions import ImproperlyConfigured, ObjectDoesNotExist\n from django.http import Http404\n from django.utils.translation import ugettext as _\n@@ -40,14 +42,14 @@ def get_object(self, queryset=None):\n \n         # If none of those are defined, it's an error.\n         else:\n-            raise AttributeError(u\"Generic detail view %s must be called with \"\n-                                 u\"either an object pk or a slug.\"\n+            raise AttributeError(\"Generic detail view %s must be called with \"\n+                                 \"either an object pk or a slug.\"\n                                  % self.__class__.__name__)\n \n         try:\n             obj = queryset.get()\n         except ObjectDoesNotExist:\n-            raise Http404(_(u\"No %(verbose_name)s found matching the query\") %\n+            raise Http404(_(\"No %(verbose_name)s found matching the query\") %\n                           {'verbose_name': queryset.model._meta.verbose_name})\n         return obj\n \n@@ -60,9 +62,9 @@ def get_queryset(self):\n             if self.model:\n                 return self.model._default_manager.all()\n             else:\n-                raise ImproperlyConfigured(u\"%(cls)s is missing a queryset. Define \"\n-                                           u\"%(cls)s.model, %(cls)s.queryset, or override \"\n-                                           u\"%(cls)s.get_object().\" % {\n+                raise ImproperlyConfigured(\"%(cls)s is missing a queryset. Define \"\n+                                           \"%(cls)s.model, %(cls)s.queryset, or override \"\n+                                           \"%(cls)s.get_object().\" % {\n                                                 'cls': self.__class__.__name__\n                                         })\n         return self.queryset._clone()"
        },
        {
            "sha": "2e852699d54a8f452e2e07afee4d94c24e2f7004",
            "filename": "django/views/generic/list.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Flist.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fgeneric%2Flist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Flist.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.core.paginator import Paginator, InvalidPage\n from django.core.exceptions import ImproperlyConfigured\n from django.http import Http404\n@@ -25,7 +27,7 @@ def get_queryset(self):\n         elif self.model is not None:\n             queryset = self.model._default_manager.all()\n         else:\n-            raise ImproperlyConfigured(u\"'%s' must define 'queryset' or 'model'\"\n+            raise ImproperlyConfigured(\"'%s' must define 'queryset' or 'model'\"\n                                        % self.__class__.__name__)\n         return queryset\n \n@@ -41,12 +43,12 @@ def paginate_queryset(self, queryset, page_size):\n             if page == 'last':\n                 page_number = paginator.num_pages\n             else:\n-                raise Http404(_(u\"Page is not 'last', nor can it be converted to an int.\"))\n+                raise Http404(_(\"Page is not 'last', nor can it be converted to an int.\"))\n         try:\n             page = paginator.page(page_number)\n             return (paginator, page, page.object_list, page.has_other_pages())\n         except InvalidPage:\n-            raise Http404(_(u'Invalid page (%(page_number)s)') % {\n+            raise Http404(_('Invalid page (%(page_number)s)') % {\n                                 'page_number': page_number\n             })\n \n@@ -123,7 +125,7 @@ def get(self, request, *args, **kwargs):\n             else:\n                 is_empty = len(self.object_list) == 0\n             if is_empty:\n-                raise Http404(_(u\"Empty list and '%(class_name)s.allow_empty' is False.\")\n+                raise Http404(_(\"Empty list and '%(class_name)s.allow_empty' is False.\")\n                         % {'class_name': self.__class__.__name__})\n         context = self.get_context_data(object_list=self.object_list)\n         return self.render_to_response(context)"
        },
        {
            "sha": "1d7891e3f4854d27d9113c125d782d884027b53f",
            "filename": "django/views/static.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fstatic.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/django%2Fviews%2Fstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fstatic.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,7 @@\n Views and functions for serving static files. These are only to be used\n during development, and SHOULD NOT be used in a production setting.\n \"\"\"\n+from __future__ import unicode_literals\n \n import mimetypes\n import os\n@@ -48,9 +49,9 @@ def serve(request, path, document_root=None, show_indexes=False):\n     if os.path.isdir(fullpath):\n         if show_indexes:\n             return directory_index(newpath, fullpath)\n-        raise Http404(_(u\"Directory indexes are not allowed here.\"))\n+        raise Http404(_(\"Directory indexes are not allowed here.\"))\n     if not os.path.exists(fullpath):\n-        raise Http404(_(u'\"%(path)s\" does not exist') % {'path': fullpath})\n+        raise Http404(_('\"%(path)s\" does not exist') % {'path': fullpath})\n     # Respect the If-Modified-Since header.\n     statobj = os.stat(fullpath)\n     mimetype, encoding = mimetypes.guess_type(fullpath)\n@@ -91,7 +92,7 @@ def serve(request, path, document_root=None, show_indexes=False):\n   </body>\n </html>\n \"\"\"\n-template_translatable = ugettext_noop(u\"Index of %(directory)s\")\n+template_translatable = ugettext_noop(\"Index of %(directory)s\")\n \n def directory_index(path, fullpath):\n     try:"
        },
        {
            "sha": "659115dfbd8e1115a82bf1768dd4ab81d8ac176b",
            "filename": "docs/conf.py",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fconf.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fconf.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fconf.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -11,6 +11,8 @@\n # All configuration values have a default; values that are commented out\n # serve to show the default.\n \n+from __future__ import unicode_literals\n+\n import sys\n import os\n \n@@ -197,8 +199,8 @@\n # (source start file, target name, title, author, document class [howto/manual]).\n #latex_documents = []\n latex_documents = [\n-  ('contents', 'django.tex', u'Django Documentation',\n-   u'Django Software Foundation', 'manual'),\n+  ('contents', 'django.tex', 'Django Documentation',\n+   'Django Software Foundation', 'manual'),\n ]\n \n # The name of an image file (relative to this directory) to place at the top of\n@@ -237,10 +239,10 @@\n # -- Options for Epub output ---------------------------------------------------\n \n # Bibliographic Dublin Core info.\n-epub_title = u'Django'\n-epub_author = u'Django Software Foundation'\n-epub_publisher = u'Django Software Foundation'\n-epub_copyright = u'2010, Django Software Foundation'\n+epub_title = 'Django'\n+epub_author = 'Django Software Foundation'\n+epub_publisher = 'Django Software Foundation'\n+epub_copyright = '2010, Django Software Foundation'\n \n # The language of the text. It defaults to the language option\n # or en if the language is not set."
        },
        {
            "sha": "99547f1c9e772d1ed0979cd5ac35cdc5f7e2b7e1",
            "filename": "docs/ref/files/file.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Ffiles%2Ffile.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Ffiles%2Ffile.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ffiles%2Ffile.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -94,10 +94,11 @@ The ``ContentFile`` Class\n     but unlike :class:`~django.core.files.File` it operates on string content,\n     rather than an actual file. For example::\n \n+        from __future__ import unicode_literals\n         from django.core.files.base import ContentFile\n \n         f1 = ContentFile(b\"my string content\")\n-        f2 = ContentFile(u\"my unicode content encoded as UTF-8\".encode('UTF-8'))\n+        f2 = ContentFile(\"my unicode content encoded as UTF-8\".encode('UTF-8'))\n \n .. currentmodule:: django.core.files.images\n "
        },
        {
            "sha": "486d49d7965554e7f435007d685640b418939580",
            "filename": "docs/ref/forms/fields.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Fforms%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Fforms%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Ffields.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -25,8 +25,6 @@ exception or returns the clean value::\n     >>> f = forms.EmailField()\n     >>> f.clean('foo@example.com')\n     u'foo@example.com'\n-    >>> f.clean(u'foo@example.com')\n-    u'foo@example.com'\n     >>> f.clean('invalid email address')\n     Traceback (most recent call last):\n     ..."
        },
        {
            "sha": "f6cdfc8141490cb308009de75de3043a0296bf63",
            "filename": "docs/ref/forms/validation.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Fforms%2Fvalidation.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Fforms%2Fvalidation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Fvalidation.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -184,7 +184,7 @@ a look at Django's ``EmailField``::\n \n     class EmailField(CharField):\n         default_error_messages = {\n-            'invalid': _(u'Enter a valid e-mail address.'),\n+            'invalid': _('Enter a valid e-mail address.'),\n         }\n         default_validators = [validators.validate_email]\n \n@@ -197,7 +197,7 @@ on field definition so::\n is equivalent to::\n \n     email = forms.CharField(validators=[validators.validate_email],\n-            error_messages={'invalid': _(u'Enter a valid e-mail address.')})\n+            error_messages={'invalid': _('Enter a valid e-mail address.')})\n \n \n Form field default cleaning"
        },
        {
            "sha": "85e48ae15d1a4fd29e643e67f4dfe141800b57e7",
            "filename": "docs/ref/unicode.txt",
            "status": "modified",
            "additions": 35,
            "deletions": 9,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Funicode.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Fref%2Funicode.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Funicode.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -45,6 +45,28 @@ rendering or anywhere else -- you have two choices for encoding those strings.\n You can use Unicode strings, or you can use normal strings (sometimes called\n \"bytestrings\") that are encoded using UTF-8.\n \n+.. versionchanged:: 1.5\n+\n+In Python 3, the logic is reversed, that is normal strings are Unicode, and\n+when you want to specifically create a bytestring, you have to prefix the\n+string with a 'b'. As we are doing in Django code from version 1.5,\n+we recommend that you import ``unicode_literals`` from the __future__ library\n+in your code. Then, when you specifically want to create a bytestring literal,\n+prefix the string with 'b'.\n+\n+Python 2 legacy::\n+\n+    my_string = \"This is a bytestring\"\n+    my_unicode = u\"This is an Unicode string\"\n+\n+Python 2 with unicode literals or Python 3::\n+\n+    from __future__ import unicode_literals\n+\n+    my_string = b\"This is a bytestring\"\n+    my_unicode = \"This is an Unicode string\"\n+    \n+\n .. admonition:: Warning\n \n     A bytestring does not carry any information with it about its encoding.\n@@ -182,7 +204,7 @@ An example might clarify things here::\n \n     >>> urlquote(u'Paris & Orléans')\n     u'Paris%20%26%20Orl%C3%A9ans'\n-    >>> iri_to_uri(u'/favorites/François/%s' % urlquote(u'Paris & Orléans'))\n+    >>> iri_to_uri(u'/favorites/François/%s' % urlquote('Paris & Orléans'))\n     '/favorites/Fran%C3%A7ois/Paris%20%26%20Orl%C3%A9ans'\n \n If you look carefully, you can see that the portion that was generated by\n@@ -268,17 +290,20 @@ You can pass either Unicode strings or UTF-8 bytestrings as arguments to\n ``filter()`` methods and the like in the database API. The following two\n querysets are identical::\n \n-    qs = People.objects.filter(name__contains=u'Å')\n+    from __future__ import unicode_literals\n+\n+    qs = People.objects.filter(name__contains='Å')\n     qs = People.objects.filter(name__contains=b'\\xc3\\x85') # UTF-8 encoding of Å\n \n Templates\n =========\n \n You can use either Unicode or bytestrings when creating templates manually::\n \n-\tfrom django.template import Template\n-\tt1 = Template(b'This is a bytestring template.')\n-\tt2 = Template(u'This is a Unicode template.')\n+    from __future__ import unicode_literals\n+    from django.template import Template\n+    t1 = Template(b'This is a bytestring template.')\n+    t2 = Template('This is a Unicode template.')\n \n But the common case is to read templates from the filesystem, and this creates\n a slight complication: not all filesystems store their data encoded as UTF-8.\n@@ -316,14 +341,15 @@ characters.\n The following code example demonstrates that everything except email addresses\n can be non-ASCII::\n \n+    from __future__ import unicode_literals\n     from django.core.mail import EmailMessage\n \n-    subject = u'My visit to Sør-Trøndelag'\n-    sender = u'Arnbjörg Ráðormsdóttir <arnbjorg@example.com>'\n+    subject = 'My visit to Sør-Trøndelag'\n+    sender = 'Arnbjörg Ráðormsdóttir <arnbjorg@example.com>'\n     recipients = ['Fred <fred@example.com']\n-    body = u'...'\n+    body = '...'\n     msg = EmailMessage(subject, body, sender, recipients)\n-    msg.attach(u\"Une pièce jointe.pdf\", \"%PDF-1.4.%...\", mimetype=\"application/pdf\")\n+    msg.attach(\"Une pièce jointe.pdf\", \"%PDF-1.4.%...\", mimetype=\"application/pdf\")\n     msg.send()\n \n Form submission"
        },
        {
            "sha": "4010ff6f9ca5b543e5d33808add1bfa7ffde75a1",
            "filename": "docs/topics/db/models.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Ftopics%2Fdb%2Fmodels.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Ftopics%2Fdb%2Fmodels.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fmodels.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -156,11 +156,11 @@ ones:\n     A choices list looks like this::\n \n         YEAR_IN_SCHOOL_CHOICES = (\n-            (u'FR', u'Freshman'),\n-            (u'SO', u'Sophomore'),\n-            (u'JR', u'Junior'),\n-            (u'SR', u'Senior'),\n-            (u'GR', u'Graduate'),\n+            ('FR', 'Freshman'),\n+            ('SO', 'Sophomore'),\n+            ('JR', 'Junior'),\n+            ('SR', 'Senior'),\n+            ('GR', 'Graduate'),\n         )\n \n     The first element in each tuple is the value that will be stored in the\n@@ -173,9 +173,9 @@ ones:\n \n         class Person(models.Model):\n             SHIRT_SIZES = (\n-                (u'S', u'Small'),\n-                (u'M', u'Medium'),\n-                (u'L', u'Large'),\n+                ('S', 'Small'),\n+                ('M', 'Medium'),\n+                ('L', 'Large'),\n             )\n             name = models.CharField(max_length=60)\n             shirt_size = models.CharField(max_length=2, choices=SHIRT_SIZES)"
        },
        {
            "sha": "896ff87744dfccd0cfbd613f95fd536ef9880f87",
            "filename": "docs/topics/i18n/translation.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Ftopics%2Fi18n%2Ftranslation.txt",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/docs%2Ftopics%2Fi18n%2Ftranslation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fi18n%2Ftranslation.txt?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -416,8 +416,8 @@ result is included in a string. For example::\n \n     from django.utils.translation import string_concat\n     ...\n-    name = ugettext_lazy(u'John Lennon')\n-    instrument = ugettext_lazy(u'guitar')\n+    name = ugettext_lazy('John Lennon')\n+    instrument = ugettext_lazy('guitar')\n     result = string_concat(name, ': ', instrument)\n \n In this case, the lazy translations in ``result`` will only be converted to"
        },
        {
            "sha": "433ea1641a96fcf8d29cd279e168cd5ecb72188a",
            "filename": "tests/modeltests/aggregation/tests.py",
            "status": "modified",
            "additions": 50,
            "deletions": 50,
            "changes": 100,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Faggregation%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Faggregation%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Faggregation%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -80,31 +80,31 @@ def test_annotate_basic(self):\n         b = books.get(pk=1)\n         self.assertEqual(\n             b.name,\n-            u'The Definitive Guide to Django: Web Development Done Right'\n+            'The Definitive Guide to Django: Web Development Done Right'\n         )\n         self.assertEqual(b.mean_age, 34.5)\n \n     def test_annotate_m2m(self):\n         books = Book.objects.filter(rating__lt=4.5).annotate(Avg(\"authors__age\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             books, [\n-                (u'Artificial Intelligence: A Modern Approach', 51.5),\n-                (u'Practical Django Projects', 29.0),\n-                (u'Python Web Development with Django', Approximate(30.3, places=1)),\n-                (u'Sams Teach Yourself Django in 24 Hours', 45.0)\n+                ('Artificial Intelligence: A Modern Approach', 51.5),\n+                ('Practical Django Projects', 29.0),\n+                ('Python Web Development with Django', Approximate(30.3, places=1)),\n+                ('Sams Teach Yourself Django in 24 Hours', 45.0)\n             ],\n             lambda b: (b.name, b.authors__age__avg),\n         )\n \n         books = Book.objects.annotate(num_authors=Count(\"authors\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             books, [\n-                (u'Artificial Intelligence: A Modern Approach', 2),\n-                (u'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp', 1),\n-                (u'Practical Django Projects', 1),\n-                (u'Python Web Development with Django', 3),\n-                (u'Sams Teach Yourself Django in 24 Hours', 1),\n-                (u'The Definitive Guide to Django: Web Development Done Right', 2)\n+                ('Artificial Intelligence: A Modern Approach', 2),\n+                ('Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp', 1),\n+                ('Practical Django Projects', 1),\n+                ('Python Web Development with Django', 3),\n+                ('Sams Teach Yourself Django in 24 Hours', 1),\n+                ('The Definitive Guide to Django: Web Development Done Right', 2)\n             ],\n             lambda b: (b.name, b.num_authors)\n         )\n@@ -113,28 +113,28 @@ def test_backwards_m2m_annotate(self):\n         authors = Author.objects.filter(name__contains=\"a\").annotate(Avg(\"book__rating\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             authors, [\n-                (u'Adrian Holovaty', 4.5),\n-                (u'Brad Dayley', 3.0),\n-                (u'Jacob Kaplan-Moss', 4.5),\n-                (u'James Bennett', 4.0),\n-                (u'Paul Bissex', 4.0),\n-                (u'Stuart Russell', 4.0)\n+                ('Adrian Holovaty', 4.5),\n+                ('Brad Dayley', 3.0),\n+                ('Jacob Kaplan-Moss', 4.5),\n+                ('James Bennett', 4.0),\n+                ('Paul Bissex', 4.0),\n+                ('Stuart Russell', 4.0)\n             ],\n             lambda a: (a.name, a.book__rating__avg)\n         )\n \n         authors = Author.objects.annotate(num_books=Count(\"book\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             authors, [\n-                (u'Adrian Holovaty', 1),\n-                (u'Brad Dayley', 1),\n-                (u'Jacob Kaplan-Moss', 1),\n-                (u'James Bennett', 1),\n-                (u'Jeffrey Forcier', 1),\n-                (u'Paul Bissex', 1),\n-                (u'Peter Norvig', 2),\n-                (u'Stuart Russell', 1),\n-                (u'Wesley J. Chun', 1)\n+                ('Adrian Holovaty', 1),\n+                ('Brad Dayley', 1),\n+                ('Jacob Kaplan-Moss', 1),\n+                ('James Bennett', 1),\n+                ('Jeffrey Forcier', 1),\n+                ('Paul Bissex', 1),\n+                ('Peter Norvig', 2),\n+                ('Stuart Russell', 1),\n+                ('Wesley J. Chun', 1)\n             ],\n             lambda a: (a.name, a.num_books)\n         )\n@@ -143,24 +143,24 @@ def test_reverse_fkey_annotate(self):\n         books = Book.objects.annotate(Sum(\"publisher__num_awards\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             books, [\n-                (u'Artificial Intelligence: A Modern Approach', 7),\n-                (u'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp', 9),\n-                (u'Practical Django Projects', 3),\n-                (u'Python Web Development with Django', 7),\n-                (u'Sams Teach Yourself Django in 24 Hours', 1),\n-                (u'The Definitive Guide to Django: Web Development Done Right', 3)\n+                ('Artificial Intelligence: A Modern Approach', 7),\n+                ('Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp', 9),\n+                ('Practical Django Projects', 3),\n+                ('Python Web Development with Django', 7),\n+                ('Sams Teach Yourself Django in 24 Hours', 1),\n+                ('The Definitive Guide to Django: Web Development Done Right', 3)\n             ],\n             lambda b: (b.name, b.publisher__num_awards__sum)\n         )\n \n         publishers = Publisher.objects.annotate(Sum(\"book__price\")).order_by(\"name\")\n         self.assertQuerysetEqual(\n             publishers, [\n-                (u'Apress', Decimal(\"59.69\")),\n-                (u\"Jonno's House of Books\", None),\n-                (u'Morgan Kaufmann', Decimal(\"75.00\")),\n-                (u'Prentice Hall', Decimal(\"112.49\")),\n-                (u'Sams', Decimal(\"23.09\"))\n+                ('Apress', Decimal(\"59.69\")),\n+                (\"Jonno's House of Books\", None),\n+                ('Morgan Kaufmann', Decimal(\"75.00\")),\n+                ('Prentice Hall', Decimal(\"112.49\")),\n+                ('Sams', Decimal(\"23.09\"))\n             ],\n             lambda p: (p.name, p.book__price__sum)\n         )\n@@ -252,15 +252,15 @@ def test_annotate_values(self):\n         self.assertEqual(len(authors), 9)\n         self.assertQuerysetEqual(\n             authors, [\n-                (u'Adrian Holovaty', 32.0),\n-                (u'Brad Dayley', None),\n-                (u'Jacob Kaplan-Moss', 29.5),\n-                (u'James Bennett', 34.0),\n-                (u'Jeffrey Forcier', 27.0),\n-                (u'Paul Bissex', 31.0),\n-                (u'Peter Norvig', 46.0),\n-                (u'Stuart Russell', 57.0),\n-                (u'Wesley J. Chun', Approximate(33.66, places=1))\n+                ('Adrian Holovaty', 32.0),\n+                ('Brad Dayley', None),\n+                ('Jacob Kaplan-Moss', 29.5),\n+                ('James Bennett', 34.0),\n+                ('Jeffrey Forcier', 27.0),\n+                ('Paul Bissex', 31.0),\n+                ('Peter Norvig', 46.0),\n+                ('Stuart Russell', 57.0),\n+                ('Wesley J. Chun', Approximate(33.66, places=1))\n             ],\n             lambda a: (a.name, a.friends__age__avg)\n         )\n@@ -498,25 +498,25 @@ def test_even_more_aggregate(self):\n                     'earliest_book': datetime.date(1991, 10, 15),\n                     'num_awards': 9,\n                     'id': 4,\n-                    'name': u'Morgan Kaufmann'\n+                    'name': 'Morgan Kaufmann'\n                 },\n                 {\n                     'earliest_book': datetime.date(1995, 1, 15),\n                     'num_awards': 7,\n                     'id': 3,\n-                    'name': u'Prentice Hall'\n+                    'name': 'Prentice Hall'\n                 },\n                 {\n                     'earliest_book': datetime.date(2007, 12, 6),\n                     'num_awards': 3,\n                     'id': 1,\n-                    'name': u'Apress'\n+                    'name': 'Apress'\n                 },\n                 {\n                     'earliest_book': datetime.date(2008, 3, 3),\n                     'num_awards': 1,\n                     'id': 2,\n-                    'name': u'Sams'\n+                    'name': 'Sams'\n                 }\n             ]\n         )"
        },
        {
            "sha": "3f00fb25fe02369c23db5a9aaefa6a6e45488c79",
            "filename": "tests/modeltests/basic/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fbasic%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from datetime import datetime\n \n@@ -187,7 +187,7 @@ def test_object_creation(self):\n         # the default.\n         a6 = Article(pub_date=datetime(2005, 7, 31))\n         a6.save()\n-        self.assertEqual(a6.headline, u'Default headline')\n+        self.assertEqual(a6.headline, 'Default headline')\n \n         # For DateTimeFields, Django saves as much precision (in seconds)\n         # as you give it.\n@@ -466,7 +466,7 @@ def test_manually_specify_primary_key(self):\n         )\n         a101.save()\n         a101 = Article.objects.get(pk=101)\n-        self.assertEqual(a101.headline, u'Article 101')\n+        self.assertEqual(a101.headline, 'Article 101')\n \n     def test_create_method(self):\n         # You can create saved objects in a single step\n@@ -493,12 +493,12 @@ def test_year_lookup_edge_case(self):\n     def test_unicode_data(self):\n         # Unicode data works, too.\n         a = Article(\n-            headline=u'\\u6797\\u539f \\u3081\\u3050\\u307f',\n+            headline='\\u6797\\u539f \\u3081\\u3050\\u307f',\n             pub_date=datetime(2005, 7, 28),\n         )\n         a.save()\n         self.assertEqual(Article.objects.get(pk=a.id).headline,\n-            u'\\u6797\\u539f \\u3081\\u3050\\u307f')\n+            '\\u6797\\u539f \\u3081\\u3050\\u307f')\n \n     def test_hash_function(self):\n         # Model instances have a hash function, so they can be used in sets\n@@ -557,7 +557,7 @@ def test_extra_method_select_argument_with_dashes_and_values(self):\n                 select={'dashed-value': '1'}\n             ).values('headline', 'dashed-value')\n         self.assertEqual([sorted(d.items()) for d in dicts],\n-            [[('dashed-value', 1), ('headline', u'Article 11')], [('dashed-value', 1), ('headline', u'Article 12')]])\n+            [[('dashed-value', 1), ('headline', 'Article 11')], [('dashed-value', 1), ('headline', 'Article 12')]])\n \n     def test_extra_method_select_argument_with_dashes(self):\n         # If you use 'select' with extra() and names containing dashes on a\n@@ -586,7 +586,7 @@ def test_create_relation_with_ugettext_lazy(self):\n         Test that ugettext_lazy objects work when saving model instances\n         through various methods. Refs #10498.\n         \"\"\"\n-        notlazy = u'test'\n+        notlazy = 'test'\n         lazy = ugettext_lazy(notlazy)\n         reporter = Article.objects.create(headline=lazy, pub_date=datetime.now())\n         article = Article.objects.get()"
        },
        {
            "sha": "39f1274a8f15c6cb4e1750cd7088a8236d3d7fcd",
            "filename": "tests/modeltests/custom_columns/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -15,6 +15,8 @@\n \n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.db import models\n \n \n@@ -23,7 +25,7 @@ class Author(models.Model):\n     last_name = models.CharField(max_length=30, db_column='last')\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.first_name, self.last_name)\n+        return '%s %s' % (self.first_name, self.last_name)\n \n     class Meta:\n         db_table = 'my_author_table'"
        },
        {
            "sha": "a9845ad41486869b9be9e205352a84432d602336",
            "filename": "tests/modeltests/custom_managers/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -9,6 +9,8 @@\n returns.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.db import models\n \n # An example of a custom manager called \"objects\".\n@@ -24,7 +26,7 @@ class Person(models.Model):\n     objects = PersonManager()\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n # An example of a custom manager that sets get_query_set().\n "
        },
        {
            "sha": "8199b05a1aaae18b2f578f414844b0ad09efc580",
            "filename": "tests/modeltests/custom_pk/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,7 +6,7 @@\n this behavior by explicitly adding ``primary_key=True`` to a field.\n \"\"\"\n \n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.db import models\n \n@@ -21,7 +21,7 @@ class Meta:\n         ordering = ('last_name', 'first_name')\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n class Business(models.Model):\n     name = models.CharField(max_length=20, primary_key=True)"
        },
        {
            "sha": "b473dcab599efa9a93deb96dcb35e2b01ab0cd03",
            "filename": "tests/modeltests/custom_pk/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_pk%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fcustom_pk%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_pk%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.db import transaction, IntegrityError\n from django.test import TestCase, skipIfDBFeature\n@@ -140,7 +140,7 @@ def test_custom_pk(self):\n \n     def test_unicode_pk(self):\n         # Primary key may be unicode string\n-        bus = Business.objects.create(name=u'jaźń')\n+        bus = Business.objects.create(name='jaźń')\n \n     def test_unique_pk(self):\n         # The primary key must also obviously be unique, so trying to create a"
        },
        {
            "sha": "33665e962461248609b0a4bd7c3ab009e46a99b0",
            "filename": "tests/modeltests/distinct_on_fields/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db import models\n \n class Tag(models.Model):\n@@ -36,4 +38,4 @@ class StaffTag(models.Model):\n     tag = models.ForeignKey(Tag)\n \n     def __unicode__(self):\n-        return u\"%s -> %s\" % (self.tag, self.staff)\n+        return \"%s -> %s\" % (self.tag, self.staff)"
        },
        {
            "sha": "f62a32e58d5d3cd25c80b66daff38572b0b943e9",
            "filename": "tests/modeltests/distinct_on_fields/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fdistinct_on_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fdistinct_on_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fdistinct_on_fields%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,7 @@\n \n from django.db.models import Max\n from django.test import TestCase, skipUnlessDBFeature\n+from django.test.utils import str_prefix\n \n from .models import Tag, Celebrity, Fan, Staff, StaffTag\n \n@@ -78,7 +79,8 @@ def test_basic_distinct_on(self):\n             (\n                 (Staff.objects.distinct('id').order_by('id', 'coworkers__name').\n                                values_list('id', 'coworkers__name')),\n-                [\"(1, u'p2')\", \"(2, u'p1')\", \"(3, u'p1')\", \"(4, None)\"]\n+                [str_prefix(\"(1, %(_)s'p2')\"), str_prefix(\"(2, %(_)s'p1')\"),\n+                 str_prefix(\"(3, %(_)s'p1')\"), \"(4, None)\"]\n             ),\n         )\n         for qset, expected in qsets:"
        },
        {
            "sha": "018a0cf795ababe9f09bd8fdd282eb3fefbdae8f",
            "filename": "tests/modeltests/expressions/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fexpressions%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fexpressions%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fexpressions%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Tests for F() query expression syntax.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -10,7 +11,7 @@ class Employee(models.Model):\n     lastname = models.CharField(max_length=50)\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.firstname, self.lastname)\n+        return '%s %s' % (self.firstname, self.lastname)\n \n class Company(models.Model):\n     name = models.CharField(max_length=100)"
        },
        {
            "sha": "c4e2707109fa7a514779b53cab7dd8344f19401c",
            "filename": "tests/modeltests/expressions/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fexpressions%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fexpressions%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fexpressions%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.exceptions import FieldError\n from django.db.models import F\n@@ -77,17 +77,17 @@ def test_filter(self):\n             company_query, [\n                 {\n                     'num_chairs': 2302,\n-                    'name': u'Example Inc.',\n+                    'name': 'Example Inc.',\n                     'num_employees': 2300\n                 },\n                 {\n                     'num_chairs': 5,\n-                    'name': u'Foobar Ltd.',\n+                    'name': 'Foobar Ltd.',\n                     'num_employees': 3\n                 },\n                 {\n                     'num_chairs': 34,\n-                    'name': u'Test GmbH',\n+                    'name': 'Test GmbH',\n                     'num_employees': 32\n                 }\n             ],\n@@ -102,17 +102,17 @@ def test_filter(self):\n             company_query, [\n                 {\n                     'num_chairs': 6900,\n-                    'name': u'Example Inc.',\n+                    'name': 'Example Inc.',\n                     'num_employees': 2300\n                 },\n                 {\n                     'num_chairs': 9,\n-                    'name': u'Foobar Ltd.',\n+                    'name': 'Foobar Ltd.',\n                     'num_employees': 3\n                 },\n                 {\n                     'num_chairs': 96,\n-                    'name': u'Test GmbH',\n+                    'name': 'Test GmbH',\n                     'num_employees': 32\n                 }\n             ],\n@@ -127,17 +127,17 @@ def test_filter(self):\n             company_query, [\n                 {\n                     'num_chairs': 5294600,\n-                    'name': u'Example Inc.',\n+                    'name': 'Example Inc.',\n                     'num_employees': 2300\n                 },\n                 {\n                     'num_chairs': 15,\n-                    'name': u'Foobar Ltd.',\n+                    'name': 'Foobar Ltd.',\n                     'num_employees': 3\n                 },\n                 {\n                     'num_chairs': 1088,\n-                    'name': u'Test GmbH',\n+                    'name': 'Test GmbH',\n                     'num_employees': 32\n                 }\n             ],"
        },
        {
            "sha": "b9987c0fab26a6c70626742be3c07abd4897d7e8",
            "filename": "tests/modeltests/field_subclassing/fields.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import json\n \n from django.db import models\n@@ -13,7 +15,7 @@ def __init__(self, first, second):\n         self.first, self.second = first, second\n \n     def __unicode__(self):\n-        return u'%s%s' % (force_unicode(self.first), force_unicode(self.second))\n+        return '%s%s' % (force_unicode(self.first), force_unicode(self.second))\n \n     def __str__(self):\n         return unicode(self).encode('utf-8')"
        },
        {
            "sha": "3e256f787f4e44f81a186eb41affccb1e3f93b2d",
            "filename": "tests/modeltests/files/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffiles%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffiles%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffiles%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -19,7 +19,7 @@ def tearDown(self):\n         shutil.rmtree(temp_storage_location)\n \n     def test_files(self):\n-        temp_storage.save('tests/default.txt', ContentFile('default content'))\n+        temp_storage.save('tests/default.txt', ContentFile(b'default content'))\n         # Attempting to access a FileField from the class raises a descriptive\n         # error\n         self.assertRaises(AttributeError, lambda: Storage.normal)\n@@ -30,15 +30,15 @@ def test_files(self):\n         self.assertRaises(ValueError, lambda: obj1.normal.size)\n \n         # Saving a file enables full functionality.\n-        obj1.normal.save(\"django_test.txt\", ContentFile(\"content\"))\n+        obj1.normal.save(\"django_test.txt\", ContentFile(b\"content\"))\n         self.assertEqual(obj1.normal.name, \"tests/django_test.txt\")\n         self.assertEqual(obj1.normal.size, 7)\n-        self.assertEqual(obj1.normal.read(), \"content\")\n+        self.assertEqual(obj1.normal.read(), b\"content\")\n         obj1.normal.close()\n \n         # File objects can be assigned to FileField attributes, but shouldn't\n         # get committed until the model it's attached to is saved.\n-        obj1.normal = SimpleUploadedFile(\"assignment.txt\", \"content\")\n+        obj1.normal = SimpleUploadedFile(\"assignment.txt\", b\"content\")\n         dirs, files = temp_storage.listdir(\"tests\")\n         self.assertEqual(dirs, [])\n         self.assertEqual(sorted(files), [\"default.txt\", \"django_test.txt\"])\n@@ -51,14 +51,14 @@ def test_files(self):\n \n         # Files can be read in a little at a time, if necessary.\n         obj1.normal.open()\n-        self.assertEqual(obj1.normal.read(3), \"con\")\n-        self.assertEqual(obj1.normal.read(), \"tent\")\n-        self.assertEqual(list(obj1.normal.chunks(chunk_size=2)), [\"co\", \"nt\", \"en\", \"t\"])\n+        self.assertEqual(obj1.normal.read(3), b\"con\")\n+        self.assertEqual(obj1.normal.read(), b\"tent\")\n+        self.assertEqual(list(obj1.normal.chunks(chunk_size=2)), [b\"co\", b\"nt\", b\"en\", b\"t\"])\n         obj1.normal.close()\n \n         # Save another file with the same name.\n         obj2 = Storage()\n-        obj2.normal.save(\"django_test.txt\", ContentFile(\"more content\"))\n+        obj2.normal.save(\"django_test.txt\", ContentFile(b\"more content\"))\n         self.assertEqual(obj2.normal.name, \"tests/django_test_1.txt\")\n         self.assertEqual(obj2.normal.size, 12)\n \n@@ -69,13 +69,13 @@ def test_files(self):\n \n         # Deleting an object does not delete the file it uses.\n         obj2.delete()\n-        obj2.normal.save(\"django_test.txt\", ContentFile(\"more content\"))\n+        obj2.normal.save(\"django_test.txt\", ContentFile(b\"more content\"))\n         self.assertEqual(obj2.normal.name, \"tests/django_test_2.txt\")\n \n         # Multiple files with the same name get _N appended to them.\n         objs = [Storage() for i in range(3)]\n         for o in objs:\n-            o.normal.save(\"multiple_files.txt\", ContentFile(\"Same Content\"))\n+            o.normal.save(\"multiple_files.txt\", ContentFile(b\"Same Content\"))\n         self.assertEqual(\n             [o.normal.name for o in objs],\n             [\"tests/multiple_files.txt\", \"tests/multiple_files_1.txt\", \"tests/multiple_files_2.txt\"]\n@@ -86,20 +86,20 @@ def test_files(self):\n         # Default values allow an object to access a single file.\n         obj3 = Storage.objects.create()\n         self.assertEqual(obj3.default.name, \"tests/default.txt\")\n-        self.assertEqual(obj3.default.read(), \"default content\")\n+        self.assertEqual(obj3.default.read(), b\"default content\")\n         obj3.default.close()\n \n         # But it shouldn't be deleted, even if there are no more objects using\n         # it.\n         obj3.delete()\n         obj3 = Storage()\n-        self.assertEqual(obj3.default.read(), \"default content\")\n+        self.assertEqual(obj3.default.read(), b\"default content\")\n         obj3.default.close()\n \n         # Verify the fix for #5655, making sure the directory is only\n         # determined once.\n         obj4 = Storage()\n-        obj4.random.save(\"random_file\", ContentFile(\"random content\"))\n+        obj4.random.save(\"random_file\", ContentFile(b\"random content\"))\n         self.assertTrue(obj4.random.name.endswith(\"/random_file\"))\n \n         # Clean up the temporary files and dir."
        },
        {
            "sha": "17538ed7e8198e2f29c3c91472f080f224c9ccf0",
            "filename": "tests/modeltests/fixtures_model_package/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 12,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.core import management\n from django.db import transaction\n from django.test import TestCase, TransactionTestCase\n@@ -13,9 +15,9 @@ def testClassFixtures(self):\n         self.assertEqual(Article.objects.count(), 3)\n         self.assertQuerysetEqual(\n             Article.objects.all(),[\n-                u\"Django conquers world!\",\n-                u\"Copyright is fine the way it is\",\n-                u\"Poker has no place on ESPN\",\n+                \"Django conquers world!\",\n+                \"Copyright is fine the way it is\",\n+                \"Poker has no place on ESPN\",\n             ],\n             lambda a: a.headline\n         )\n@@ -61,7 +63,7 @@ def test_initial_data(self):\n         # syncdb introduces 1 initial data object from initial_data.json\n         self.assertQuerysetEqual(\n             Book.objects.all(), [\n-                u'Achieving self-awareness of Python programs'\n+                'Achieving self-awareness of Python programs'\n             ],\n             lambda a: a.name\n         )\n@@ -72,8 +74,8 @@ def test_loaddata(self):\n         management.call_command(\"loaddata\", \"fixture1.json\", verbosity=0, commit=False)\n         self.assertQuerysetEqual(\n             Article.objects.all(), [\n-                u\"Time to reform copyright\",\n-                u\"Poker has no place on ESPN\",\n+                \"Time to reform copyright\",\n+                \"Poker has no place on ESPN\",\n             ],\n             lambda a: a.headline,\n         )\n@@ -83,9 +85,9 @@ def test_loaddata(self):\n         management.call_command(\"loaddata\", \"fixture2.json\", verbosity=0, commit=False)\n         self.assertQuerysetEqual(\n             Article.objects.all(), [\n-                u\"Django conquers world!\",\n-                u\"Copyright is fine the way it is\",\n-                u\"Poker has no place on ESPN\",\n+                \"Django conquers world!\",\n+                \"Copyright is fine the way it is\",\n+                \"Poker has no place on ESPN\",\n             ],\n             lambda a: a.headline,\n         )\n@@ -94,9 +96,9 @@ def test_loaddata(self):\n         management.call_command(\"loaddata\", \"unknown.json\", verbosity=0, commit=False)\n         self.assertQuerysetEqual(\n             Article.objects.all(), [\n-                u\"Django conquers world!\",\n-                u\"Copyright is fine the way it is\",\n-                u\"Poker has no place on ESPN\",\n+                \"Django conquers world!\",\n+                \"Copyright is fine the way it is\",\n+                \"Poker has no place on ESPN\",\n             ],\n             lambda a: a.headline,\n         )"
        },
        {
            "sha": "f2dcf7db24283c9be4772903fd3212962cd750de",
            "filename": "tests/modeltests/generic_relations/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -9,6 +9,8 @@\n from complete).\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n@@ -47,7 +49,7 @@ class Comparison(models.Model):\n     other_obj = generic.GenericForeignKey(ct_field=\"content_type2\", fk_field=\"object_id2\")\n \n     def __unicode__(self):\n-        return u\"%s is %s than %s\" % (self.first_obj, self.comparative, self.other_obj)\n+        return \"%s is %s than %s\" % (self.first_obj, self.comparative, self.other_obj)\n \n class Animal(models.Model):\n     common_name = models.CharField(max_length=150)"
        },
        {
            "sha": "d3de71d917036b97d1e72aaf460fe81376557a17",
            "filename": "tests/modeltests/generic_relations/tests.py",
            "status": "modified",
            "additions": 26,
            "deletions": 26,
            "changes": 52,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django import forms\n from django.contrib.contenttypes.generic import generic_inlineformset_factory\n@@ -90,23 +90,23 @@ def test_generic_relations(self):\n         )\n \n         self.assertQuerysetEqual(TaggedItem.objects.all(), [\n-                (u'clearish', Mineral, quartz.pk),\n-                (u'fatty', Animal, platypus.pk),\n-                (u'fatty', Vegetable, bacon.pk),\n-                (u'hairy', Animal, lion.pk),\n-                (u'salty', Vegetable, bacon.pk),\n-                (u'shiny', Animal, platypus.pk),\n-                (u'yellow', Animal, lion.pk)\n+                ('clearish', Mineral, quartz.pk),\n+                ('fatty', Animal, platypus.pk),\n+                ('fatty', Vegetable, bacon.pk),\n+                ('hairy', Animal, lion.pk),\n+                ('salty', Vegetable, bacon.pk),\n+                ('shiny', Animal, platypus.pk),\n+                ('yellow', Animal, lion.pk)\n             ],\n             comp_func\n         )\n         lion.delete()\n         self.assertQuerysetEqual(TaggedItem.objects.all(), [\n-                (u'clearish', Mineral, quartz.pk),\n-                (u'fatty', Animal, platypus.pk),\n-                (u'fatty', Vegetable, bacon.pk),\n-                (u'salty', Vegetable, bacon.pk),\n-                (u'shiny', Animal, platypus.pk)\n+                ('clearish', Mineral, quartz.pk),\n+                ('fatty', Animal, platypus.pk),\n+                ('fatty', Vegetable, bacon.pk),\n+                ('salty', Vegetable, bacon.pk),\n+                ('shiny', Animal, platypus.pk)\n             ],\n             comp_func\n         )\n@@ -116,11 +116,11 @@ def test_generic_relations(self):\n         quartz_pk = quartz.pk\n         quartz.delete()\n         self.assertQuerysetEqual(TaggedItem.objects.all(), [\n-                (u'clearish', Mineral, quartz_pk),\n-                (u'fatty', Animal, platypus.pk),\n-                (u'fatty', Vegetable, bacon.pk),\n-                (u'salty', Vegetable, bacon.pk),\n-                (u'shiny', Animal, platypus.pk)\n+                ('clearish', Mineral, quartz_pk),\n+                ('fatty', Animal, platypus.pk),\n+                ('fatty', Vegetable, bacon.pk),\n+                ('salty', Vegetable, bacon.pk),\n+                ('shiny', Animal, platypus.pk)\n             ],\n             comp_func\n         )\n@@ -130,10 +130,10 @@ def test_generic_relations(self):\n         tag.delete()\n         self.assertQuerysetEqual(bacon.tags.all(), [\"<TaggedItem: salty>\"])\n         self.assertQuerysetEqual(TaggedItem.objects.all(), [\n-                (u'clearish', Mineral, quartz_pk),\n-                (u'fatty', Animal, platypus.pk),\n-                (u'salty', Vegetable, bacon.pk),\n-                (u'shiny', Animal, platypus.pk)\n+                ('clearish', Mineral, quartz_pk),\n+                ('fatty', Animal, platypus.pk),\n+                ('salty', Vegetable, bacon.pk),\n+                ('shiny', Animal, platypus.pk)\n             ],\n             comp_func\n         )\n@@ -200,11 +200,11 @@ def test_gfk_subclasses(self):\n     def test_generic_inline_formsets(self):\n         GenericFormSet = generic_inlineformset_factory(TaggedItem, extra=1)\n         formset = GenericFormSet()\n-        self.assertHTMLEqual(u''.join(form.as_p() for form in formset.forms), u\"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" maxlength=\"50\" /></p>\n+        self.assertHTMLEqual(''.join(form.as_p() for form in formset.forms), \"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" maxlength=\"50\" /></p>\n <p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\">Delete:</label> <input type=\"checkbox\" name=\"generic_relations-taggeditem-content_type-object_id-0-DELETE\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\" /><input type=\"hidden\" name=\"generic_relations-taggeditem-content_type-object_id-0-id\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-id\" /></p>\"\"\")\n \n         formset = GenericFormSet(instance=Animal())\n-        self.assertHTMLEqual(u''.join(form.as_p() for form in formset.forms), u\"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" maxlength=\"50\" /></p>\n+        self.assertHTMLEqual(''.join(form.as_p() for form in formset.forms), \"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" maxlength=\"50\" /></p>\n <p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\">Delete:</label> <input type=\"checkbox\" name=\"generic_relations-taggeditem-content_type-object_id-0-DELETE\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\" /><input type=\"hidden\" name=\"generic_relations-taggeditem-content_type-object_id-0-id\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-id\" /></p>\"\"\")\n \n         platypus = Animal.objects.create(\n@@ -216,13 +216,13 @@ def test_generic_inline_formsets(self):\n         tagged_item_id = TaggedItem.objects.get(\n             tag='shiny', object_id=platypus.id\n         ).id\n-        self.assertHTMLEqual(u''.join(form.as_p() for form in formset.forms), u\"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" value=\"shiny\" maxlength=\"50\" /></p>\n+        self.assertHTMLEqual(''.join(form.as_p() for form in formset.forms), \"\"\"<p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-0-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-0-tag\" value=\"shiny\" maxlength=\"50\" /></p>\n <p><label for=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\">Delete:</label> <input type=\"checkbox\" name=\"generic_relations-taggeditem-content_type-object_id-0-DELETE\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-DELETE\" /><input type=\"hidden\" name=\"generic_relations-taggeditem-content_type-object_id-0-id\" value=\"%s\" id=\"id_generic_relations-taggeditem-content_type-object_id-0-id\" /></p><p><label for=\"id_generic_relations-taggeditem-content_type-object_id-1-tag\">Tag:</label> <input id=\"id_generic_relations-taggeditem-content_type-object_id-1-tag\" type=\"text\" name=\"generic_relations-taggeditem-content_type-object_id-1-tag\" maxlength=\"50\" /></p>\n <p><label for=\"id_generic_relations-taggeditem-content_type-object_id-1-DELETE\">Delete:</label> <input type=\"checkbox\" name=\"generic_relations-taggeditem-content_type-object_id-1-DELETE\" id=\"id_generic_relations-taggeditem-content_type-object_id-1-DELETE\" /><input type=\"hidden\" name=\"generic_relations-taggeditem-content_type-object_id-1-id\" id=\"id_generic_relations-taggeditem-content_type-object_id-1-id\" /></p>\"\"\" % tagged_item_id)\n \n         lion = Animal.objects.create(common_name=\"Lion\", latin_name=\"Panthera leo\")\n         formset = GenericFormSet(instance=lion, prefix='x')\n-        self.assertHTMLEqual(u''.join(form.as_p() for form in formset.forms), u\"\"\"<p><label for=\"id_x-0-tag\">Tag:</label> <input id=\"id_x-0-tag\" type=\"text\" name=\"x-0-tag\" maxlength=\"50\" /></p>\n+        self.assertHTMLEqual(''.join(form.as_p() for form in formset.forms), \"\"\"<p><label for=\"id_x-0-tag\">Tag:</label> <input id=\"id_x-0-tag\" type=\"text\" name=\"x-0-tag\" maxlength=\"50\" /></p>\n <p><label for=\"id_x-0-DELETE\">Delete:</label> <input type=\"checkbox\" name=\"x-0-DELETE\" id=\"id_x-0-DELETE\" /><input type=\"hidden\" name=\"x-0-id\" id=\"id_x-0-id\" /></p>\"\"\")\n \n     def test_gfk_manager(self):"
        },
        {
            "sha": "78b92f09df82e9a3bed3b8942078986e65653bc3",
            "filename": "tests/modeltests/get_or_create/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,6 +6,8 @@\n parameters.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.db import models\n \n \n@@ -15,7 +17,7 @@ class Person(models.Model):\n     birthday = models.DateField()\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.first_name, self.last_name)\n+        return '%s %s' % (self.first_name, self.last_name)\n \n class ManualPrimaryKeyTest(models.Model):\n     id = models.IntegerField(primary_key=True)"
        },
        {
            "sha": "b2ba253c5d82756d2fb71040365882445c740d31",
            "filename": "tests/modeltests/invalid_models/invalid_models/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,6 +5,8 @@\n This example exists purely to point out errors in models.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.db import connection, models\n \n \n@@ -223,12 +225,12 @@ class InvalidSetDefault(models.Model):\n class UnicodeForeignKeys(models.Model):\n     \"\"\"Foreign keys which can translate to ascii should be OK, but fail if\n     they're not.\"\"\"\n-    good = models.ForeignKey(u'FKTarget')\n-    also_good = models.ManyToManyField(u'FKTarget', related_name='unicode2')\n+    good = models.ForeignKey('FKTarget')\n+    also_good = models.ManyToManyField('FKTarget', related_name='unicode2')\n \n     # In Python 3 this should become legal, but currently causes unicode errors\n     # when adding the errors in core/management/validation.py\n-    #bad = models.ForeignKey(u'★')\n+    #bad = models.ForeignKey('★')\n \n class PrimaryKeyNull(models.Model):\n     my_pk_field = models.IntegerField(primary_key=True, null=True)"
        },
        {
            "sha": "3e5d61538a0e522d575d25aeb804d8ecf55bcd43",
            "filename": "tests/modeltests/lookup/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Flookup%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Flookup%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Flookup%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,8 @@\n This demonstrates features of the database API.\n \"\"\"\n \n+from __future__ import unicode_literals\n+\n from django.db import models\n \n \n@@ -41,11 +43,11 @@ class Game(models.Model):\n     away = models.CharField(max_length=100)\n \n     def __unicode__(self):\n-        return u\"%s at %s\" % (self.away, self.home)\n+        return \"%s at %s\" % (self.away, self.home)\n \n class Player(models.Model):\n     name = models.CharField(max_length=100)\n     games = models.ManyToManyField(Game, related_name='players')\n \n     def __unicode__(self):\n-        return self.name\n\\ No newline at end of file\n+        return self.name"
        },
        {
            "sha": "98358e3d10ee59f5f3cece2fd9bfdb1a0464574e",
            "filename": "tests/modeltests/lookup/tests.py",
            "status": "modified",
            "additions": 22,
            "deletions": 22,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Flookup%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Flookup%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Flookup%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from datetime import datetime\n from operator import attrgetter\n@@ -128,13 +128,13 @@ def test_values(self):\n         identity = lambda x:x\n         self.assertQuerysetEqual(Article.objects.values('headline'),\n             [\n-                {'headline': u'Article 5'},\n-                {'headline': u'Article 6'},\n-                {'headline': u'Article 4'},\n-                {'headline': u'Article 2'},\n-                {'headline': u'Article 3'},\n-                {'headline': u'Article 7'},\n-                {'headline': u'Article 1'},\n+                {'headline': 'Article 5'},\n+                {'headline': 'Article 6'},\n+                {'headline': 'Article 4'},\n+                {'headline': 'Article 2'},\n+                {'headline': 'Article 3'},\n+                {'headline': 'Article 7'},\n+                {'headline': 'Article 1'},\n             ],\n             transform=identity)\n         self.assertQuerysetEqual(\n@@ -156,13 +156,13 @@ def test_values(self):\n         # because iterator() uses database-level iteration.\n         self.assertQuerysetEqual(Article.objects.values('id', 'headline').iterator(),\n             [\n-                {'headline': u'Article 5', 'id': self.a5.id},\n-                {'headline': u'Article 6', 'id': self.a6.id},\n-                {'headline': u'Article 4', 'id': self.a4.id},\n-                {'headline': u'Article 2', 'id': self.a2.id},\n-                {'headline': u'Article 3', 'id': self.a3.id},\n-                {'headline': u'Article 7', 'id': self.a7.id},\n-                {'headline': u'Article 1', 'id': self.a1.id},\n+                {'headline': 'Article 5', 'id': self.a5.id},\n+                {'headline': 'Article 6', 'id': self.a6.id},\n+                {'headline': 'Article 4', 'id': self.a4.id},\n+                {'headline': 'Article 2', 'id': self.a2.id},\n+                {'headline': 'Article 3', 'id': self.a3.id},\n+                {'headline': 'Article 7', 'id': self.a7.id},\n+                {'headline': 'Article 1', 'id': self.a1.id},\n             ],\n             transform=identity)\n         # The values() method works with \"extra\" fields specified in extra(select).\n@@ -259,13 +259,13 @@ def test_values_list(self):\n         identity = lambda x:x\n         self.assertQuerysetEqual(Article.objects.values_list('headline'),\n             [\n-                (u'Article 5',),\n-                (u'Article 6',),\n-                (u'Article 4',),\n-                (u'Article 2',),\n-                (u'Article 3',),\n-                (u'Article 7',),\n-                (u'Article 1',),\n+                ('Article 5',),\n+                ('Article 6',),\n+                ('Article 4',),\n+                ('Article 2',),\n+                ('Article 3',),\n+                ('Article 7',),\n+                ('Article 1',),\n             ], transform=identity)\n         self.assertQuerysetEqual(Article.objects.values_list('id').order_by('id'),\n             [(self.a1.id,), (self.a2.id,), (self.a3.id,), (self.a4.id,), (self.a5.id,), (self.a6.id,), (self.a7.id,)],"
        },
        {
            "sha": "6c1f277811485be87318881bea8ac31c110d95bc",
            "filename": "tests/modeltests/m2m_and_m2o/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,6 +3,7 @@\n \n Make sure to set ``related_name`` if you use relationships to the same table.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -22,5 +23,5 @@ class Meta:\n         ordering = ('num',)\n \n class UnicodeReferenceModel(models.Model):\n-    others = models.ManyToManyField(u\"UnicodeReferenceModel\")\n+    others = models.ManyToManyField(\"UnicodeReferenceModel\")\n "
        },
        {
            "sha": "85786e8458e36af67d97c92149ca72c5c60044ea",
            "filename": "tests/modeltests/m2m_intermediary/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -9,6 +9,7 @@\n field, which specifies the ``Reporter``'s position for the given article\n (e.g. \"Staff writer\").\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -18,7 +19,7 @@ class Reporter(models.Model):\n     last_name = models.CharField(max_length=30)\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n@@ -33,5 +34,5 @@ class Writer(models.Model):\n     position = models.CharField(max_length=100)\n \n     def __unicode__(self):\n-        return u'%s (%s)' % (self.reporter, self.position)\n+        return '%s (%s)' % (self.reporter, self.position)\n "
        },
        {
            "sha": "259dc68a0b2f1d8b537a64bc3a8a654ee7143a29",
            "filename": "tests/modeltests/m2m_through/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_through%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fm2m_through%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_through%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -333,7 +333,7 @@ def test_query_tests(self):\n         # Jim showed up twice, because he joined two groups ('Rock', and 'Roll'):\n         self.assertEqual(\n             [(m.person.name, m.group.name) for m in Membership.objects.filter(date_joined__gt=datetime(2004, 1, 1))],\n-            [(u'Jane', u'Rock'), (u'Jim', u'Rock'), (u'Jim', u'Roll')]\n+            [('Jane', 'Rock'), ('Jim', 'Rock'), ('Jim', 'Roll')]\n         )\n         # QuerySet's distinct() method can correct this problem.\n         self.assertQuerysetEqual("
        },
        {
            "sha": "0d2688e8a4542c46bf8a302a44089635806859dc",
            "filename": "tests/modeltests/many_to_one/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -3,6 +3,7 @@\n \n To define a many-to-one relationship, use ``ForeignKey()``.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -13,7 +14,7 @@ class Reporter(models.Model):\n     email = models.EmailField()\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n class Article(models.Model):\n     headline = models.CharField(max_length=100)"
        },
        {
            "sha": "257025583bfa24752448907a547f29802dc00cd8",
            "filename": "tests/modeltests/many_to_one/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmany_to_one%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmany_to_one%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmany_to_one%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -177,7 +177,7 @@ def test_selects(self):\n         # ... and should work fine with the unicode that comes out of forms.Form.cleaned_data\n         self.assertQuerysetEqual(\n             Article.objects.filter(reporter__first_name__exact='John'\n-                                  ).extra(where=[\"many_to_one_reporter.last_name='%s'\" % u'Smith']),\n+                                  ).extra(where=[\"many_to_one_reporter.last_name='%s'\" % 'Smith']),\n             [\n                 \"<Article: John's second story>\",\n                 \"<Article: This is a test>\",\n@@ -300,7 +300,7 @@ def test_reverse_selects(self):\n         # It's possible to use values() calls across many-to-one relations.\n         # (Note, too, that we clear the ordering here so as not to drag the\n         # 'headline' field into the columns being used to determine uniqueness)\n-        d = {'reporter__first_name': u'John', 'reporter__last_name': u'Smith'}\n+        d = {'reporter__first_name': 'John', 'reporter__last_name': 'Smith'}\n         self.assertEqual([d],\n             list(Article.objects.filter(reporter=self.r).distinct().order_by()\n                  .values('reporter__first_name', 'reporter__last_name')))\n@@ -418,7 +418,7 @@ def test_create_relation_with_ugettext_lazy(self):\n         reporter = Reporter.objects.create(first_name='John',\n                                            last_name='Smith',\n                                            email='john.smith@example.com')\n-        lazy = ugettext_lazy(u'test')\n+        lazy = ugettext_lazy('test')\n         reporter.article_set.create(headline=lazy,\n                                     pub_date=datetime(2011, 6, 10))\n         notlazy = unicode(lazy)"
        },
        {
            "sha": "a4ce86f1848207aa60463a781b0348b93761d381",
            "filename": "tests/modeltests/model_forms/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,6 +6,7 @@\n and the examples are probably a poor fit for the ``ModelForm`` syntax. In other\n words, most of these tests should be rewritten.\n \"\"\"\n+from __future__ import unicode_literals\n \n import os\n import tempfile\n@@ -161,7 +162,7 @@ class Price(models.Model):\n     quantity = models.PositiveIntegerField()\n \n     def __unicode__(self):\n-        return u\"%s for %s\" % (self.quantity, self.price)\n+        return \"%s for %s\" % (self.quantity, self.price)\n \n     class Meta:\n         unique_together = (('price', 'quantity'),)"
        },
        {
            "sha": "281316a28e38ad903757157587e964951cfdbc6e",
            "filename": "tests/modeltests/model_forms/tests.py",
            "status": "modified",
            "additions": 113,
            "deletions": 113,
            "changes": 226,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import os\n@@ -408,7 +408,7 @@ def test_simple_unique(self):\n         obj = form.save()\n         form = ProductForm({'slug': 'teddy-bear-blue'})\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['slug'], [u'Product with this Slug already exists.'])\n+        self.assertEqual(form.errors['slug'], ['Product with this Slug already exists.'])\n         form = ProductForm({'slug': 'teddy-bear-blue'}, instance=obj)\n         self.assertTrue(form.is_valid())\n \n@@ -420,7 +420,7 @@ def test_unique_together(self):\n         form = PriceForm({'price': '6.00', 'quantity': '1'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['__all__'], [u'Price with this Price and Quantity already exists.'])\n+        self.assertEqual(form.errors['__all__'], ['Price with this Price and Quantity already exists.'])\n \n     def test_unique_null(self):\n         title = 'I May Be Wrong But I Doubt It'\n@@ -430,7 +430,7 @@ def test_unique_null(self):\n         form = BookForm({'title': title, 'author': self.writer.pk})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['__all__'], [u'Book with this Title and Author already exists.'])\n+        self.assertEqual(form.errors['__all__'], ['Book with this Title and Author already exists.'])\n         form = BookForm({'title': title})\n         self.assertTrue(form.is_valid())\n         form.save()\n@@ -440,10 +440,10 @@ def test_unique_null(self):\n     def test_inherited_unique(self):\n         title = 'Boss'\n         Book.objects.create(title=title, author=self.writer, special_id=1)\n-        form = DerivedBookForm({'title': 'Other', 'author': self.writer.pk, 'special_id': u'1', 'isbn': '12345'})\n+        form = DerivedBookForm({'title': 'Other', 'author': self.writer.pk, 'special_id': '1', 'isbn': '12345'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['special_id'], [u'Book with this Special id already exists.'])\n+        self.assertEqual(form.errors['special_id'], ['Book with this Special id already exists.'])\n \n     def test_inherited_unique_together(self):\n         title = 'Boss'\n@@ -453,7 +453,7 @@ def test_inherited_unique_together(self):\n         form = DerivedBookForm({'title': title, 'author': self.writer.pk, 'isbn': '12345'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['__all__'], [u'Book with this Title and Author already exists.'])\n+        self.assertEqual(form.errors['__all__'], ['Book with this Title and Author already exists.'])\n \n     def test_abstract_inherited_unique(self):\n         title = 'Boss'\n@@ -462,7 +462,7 @@ def test_abstract_inherited_unique(self):\n         form = DerivedBookForm({'title': 'Other', 'author': self.writer.pk, 'isbn': isbn})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['isbn'], [u'Derived book with this Isbn already exists.'])\n+        self.assertEqual(form.errors['isbn'], ['Derived book with this Isbn already exists.'])\n \n     def test_abstract_inherited_unique_together(self):\n         title = 'Boss'\n@@ -472,75 +472,75 @@ def test_abstract_inherited_unique_together(self):\n                     'title': 'Other',\n                     'author': self.writer.pk,\n                     'isbn': '9876',\n-                    'suffix1': u'0',\n-                    'suffix2': u'0'\n+                    'suffix1': '0',\n+                    'suffix2': '0'\n                 })\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n         self.assertEqual(form.errors['__all__'],\n-                         [u'Derived book with this Suffix1 and Suffix2 already exists.'])\n+                         ['Derived book with this Suffix1 and Suffix2 already exists.'])\n \n     def test_explicitpk_unspecified(self):\n         \"\"\"Test for primary_key being in the form and failing validation.\"\"\"\n-        form = ExplicitPKForm({'key': u'', 'desc': u'' })\n+        form = ExplicitPKForm({'key': '', 'desc': '' })\n         self.assertFalse(form.is_valid())\n \n     def test_explicitpk_unique(self):\n         \"\"\"Ensure keys and blank character strings are tested for uniqueness.\"\"\"\n-        form = ExplicitPKForm({'key': u'key1', 'desc': u''})\n+        form = ExplicitPKForm({'key': 'key1', 'desc': ''})\n         self.assertTrue(form.is_valid())\n         form.save()\n-        form = ExplicitPKForm({'key': u'key1', 'desc': u''})\n+        form = ExplicitPKForm({'key': 'key1', 'desc': ''})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 3)\n-        self.assertEqual(form.errors['__all__'], [u'Explicit pk with this Key and Desc already exists.'])\n-        self.assertEqual(form.errors['desc'], [u'Explicit pk with this Desc already exists.'])\n-        self.assertEqual(form.errors['key'], [u'Explicit pk with this Key already exists.'])\n+        self.assertEqual(form.errors['__all__'], ['Explicit pk with this Key and Desc already exists.'])\n+        self.assertEqual(form.errors['desc'], ['Explicit pk with this Desc already exists.'])\n+        self.assertEqual(form.errors['key'], ['Explicit pk with this Key already exists.'])\n \n     def test_unique_for_date(self):\n         p = Post.objects.create(title=\"Django 1.0 is released\",\n             slug=\"Django 1.0\", subtitle=\"Finally\", posted=datetime.date(2008, 9, 3))\n         form = PostForm({'title': \"Django 1.0 is released\", 'posted': '2008-09-03'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['title'], [u'Title must be unique for Posted date.'])\n+        self.assertEqual(form.errors['title'], ['Title must be unique for Posted date.'])\n         form = PostForm({'title': \"Work on Django 1.1 begins\", 'posted': '2008-09-03'})\n         self.assertTrue(form.is_valid())\n         form = PostForm({'title': \"Django 1.0 is released\", 'posted': '2008-09-04'})\n         self.assertTrue(form.is_valid())\n         form = PostForm({'slug': \"Django 1.0\", 'posted': '2008-01-01'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['slug'], [u'Slug must be unique for Posted year.'])\n+        self.assertEqual(form.errors['slug'], ['Slug must be unique for Posted year.'])\n         form = PostForm({'subtitle': \"Finally\", 'posted': '2008-09-30'})\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors['subtitle'], [u'Subtitle must be unique for Posted month.'])\n+        self.assertEqual(form.errors['subtitle'], ['Subtitle must be unique for Posted month.'])\n         form = PostForm({'subtitle': \"Finally\", \"title\": \"Django 1.0 is released\",\n             \"slug\": \"Django 1.0\", 'posted': '2008-09-03'}, instance=p)\n         self.assertTrue(form.is_valid())\n         form = PostForm({'title': \"Django 1.0 is released\"})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['posted'], [u'This field is required.'])\n+        self.assertEqual(form.errors['posted'], ['This field is required.'])\n \n     def test_inherited_unique_for_date(self):\n         p = Post.objects.create(title=\"Django 1.0 is released\",\n             slug=\"Django 1.0\", subtitle=\"Finally\", posted=datetime.date(2008, 9, 3))\n         form = DerivedPostForm({'title': \"Django 1.0 is released\", 'posted': '2008-09-03'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['title'], [u'Title must be unique for Posted date.'])\n+        self.assertEqual(form.errors['title'], ['Title must be unique for Posted date.'])\n         form = DerivedPostForm({'title': \"Work on Django 1.1 begins\", 'posted': '2008-09-03'})\n         self.assertTrue(form.is_valid())\n         form = DerivedPostForm({'title': \"Django 1.0 is released\", 'posted': '2008-09-04'})\n         self.assertTrue(form.is_valid())\n         form = DerivedPostForm({'slug': \"Django 1.0\", 'posted': '2008-01-01'})\n         self.assertFalse(form.is_valid())\n         self.assertEqual(len(form.errors), 1)\n-        self.assertEqual(form.errors['slug'], [u'Slug must be unique for Posted year.'])\n+        self.assertEqual(form.errors['slug'], ['Slug must be unique for Posted year.'])\n         form = DerivedPostForm({'subtitle': \"Finally\", 'posted': '2008-09-30'})\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors['subtitle'], [u'Subtitle must be unique for Posted month.'])\n+        self.assertEqual(form.errors['subtitle'], ['Subtitle must be unique for Posted month.'])\n         form = DerivedPostForm({'subtitle': \"Finally\", \"title\": \"Django 1.0 is released\",\n             \"slug\": \"Django 1.0\", 'posted': '2008-09-03'}, instance=p)\n         self.assertTrue(form.is_valid())\n@@ -624,9 +624,9 @@ def test_with_data(self):\n         # save() on the resulting model instance.\n         f = BaseCategoryForm({'name': 'Third test', 'slug': 'third-test', 'url': 'third'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data['url'], u'third')\n-        self.assertEqual(f.cleaned_data['name'], u'Third test')\n-        self.assertEqual(f.cleaned_data['slug'], u'third-test')\n+        self.assertEqual(f.cleaned_data['url'], 'third')\n+        self.assertEqual(f.cleaned_data['name'], 'Third test')\n+        self.assertEqual(f.cleaned_data['slug'], 'third-test')\n         c3 = f.save(commit=False)\n         self.assertEqual(c3.name, \"Third test\")\n         self.assertEqual(Category.objects.count(), 2)\n@@ -635,8 +635,8 @@ def test_with_data(self):\n \n         # If you call save() with invalid data, you'll get a ValueError.\n         f = BaseCategoryForm({'name': '', 'slug': 'not a slug!', 'url': 'foo'})\n-        self.assertEqual(f.errors['name'], [u'This field is required.'])\n-        self.assertEqual(f.errors['slug'], [u\"Enter a valid 'slug' consisting of letters, numbers, underscores or hyphens.\"])\n+        self.assertEqual(f.errors['name'], ['This field is required.'])\n+        self.assertEqual(f.errors['slug'], [\"Enter a valid 'slug' consisting of letters, numbers, underscores or hyphens.\"])\n         with self.assertRaises(AttributeError):\n             f.cleaned_data\n         with self.assertRaises(ValueError):\n@@ -722,9 +722,9 @@ def test_with_data(self):\n <option value=\"3\">Live</option>\n </select></li>''' % (w_woodward.pk, w_royko.pk, c1.pk, c2.pk, c3.pk))\n         f = TestArticleForm({\n-                'headline': u'Test headline',\n+                'headline': 'Test headline',\n                 'slug': 'test-headline',\n-                'pub_date': u'1984-02-06',\n+                'pub_date': '1984-02-06',\n                 'writer': unicode(w_royko.pk),\n                 'article': 'Hello.'\n             }, instance=art)\n@@ -733,13 +733,13 @@ def test_with_data(self):\n         test_art = f.save()\n         self.assertEqual(test_art.id == art_id_1, True)\n         test_art = Article.objects.get(id=art_id_1)\n-        self.assertEqual(test_art.headline, u'Test headline')\n+        self.assertEqual(test_art.headline, 'Test headline')\n         # You can create a form over a subset of the available fields\n         # by specifying a 'fields' argument to form_for_instance.\n         f = PartialArticleFormWithSlug({\n-                'headline': u'New headline',\n+                'headline': 'New headline',\n                 'slug': 'new-headline',\n-                'pub_date': u'1988-01-04'\n+                'pub_date': '1988-01-04'\n             }, auto_id=False, instance=art)\n         self.assertHTMLEqual(f.as_ul(), '''<li>Headline: <input type=\"text\" name=\"headline\" value=\"New headline\" maxlength=\"50\" /></li>\n <li>Slug: <input type=\"text\" name=\"slug\" value=\"new-headline\" maxlength=\"50\" /></li>\n@@ -748,7 +748,7 @@ def test_with_data(self):\n         new_art = f.save()\n         self.assertEqual(new_art.id == art_id_1, True)\n         new_art = Article.objects.get(id=art_id_1)\n-        self.assertEqual(new_art.headline, u'New headline')\n+        self.assertEqual(new_art.headline, 'New headline')\n \n         # Add some categories and test the many-to-many form output.\n         self.assertEqual(map(lambda o: o.name, new_art.categories.all()), [])\n@@ -805,11 +805,11 @@ def test_with_data(self):\n </select></li>''' % (w_woodward.pk, w_royko.pk, c1.pk, c2.pk, c3.pk))\n \n         f = TestArticleForm({\n-                'headline': u'New headline',\n-                'slug': u'new-headline',\n-                'pub_date': u'1988-01-04',\n+                'headline': 'New headline',\n+                'slug': 'new-headline',\n+                'pub_date': '1988-01-04',\n                 'writer': unicode(w_royko.pk),\n-                'article': u'Hello.',\n+                'article': 'Hello.',\n                 'categories': [unicode(c1.id), unicode(c2.id)]\n             }, instance=new_art)\n         new_art = f.save()\n@@ -819,25 +819,25 @@ def test_with_data(self):\n                          [\"Entertainment\", \"It's a test\"])\n \n         # Now, submit form data with no categories. This deletes the existing categories.\n-        f = TestArticleForm({'headline': u'New headline', 'slug': u'new-headline', 'pub_date': u'1988-01-04',\n-            'writer': unicode(w_royko.pk), 'article': u'Hello.'}, instance=new_art)\n+        f = TestArticleForm({'headline': 'New headline', 'slug': 'new-headline', 'pub_date': '1988-01-04',\n+            'writer': unicode(w_royko.pk), 'article': 'Hello.'}, instance=new_art)\n         new_art = f.save()\n         self.assertEqual(new_art.id == art_id_1, True)\n         new_art = Article.objects.get(id=art_id_1)\n         self.assertEqual(map(lambda o: o.name, new_art.categories.all()), [])\n \n         # Create a new article, with categories, via the form.\n-        f = ArticleForm({'headline': u'The walrus was Paul', 'slug': u'walrus-was-paul', 'pub_date': u'1967-11-01',\n-            'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n+        f = ArticleForm({'headline': 'The walrus was Paul', 'slug': 'walrus-was-paul', 'pub_date': '1967-11-01',\n+            'writer': unicode(w_royko.pk), 'article': 'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n         new_art = f.save()\n         art_id_2 = new_art.id\n         self.assertEqual(art_id_2 not in (None, art_id_1), True)\n         new_art = Article.objects.get(id=art_id_2)\n         self.assertEqual(map(lambda o: o.name, new_art.categories.order_by('name')), [\"Entertainment\", \"It's a test\"])\n \n         # Create a new article, with no categories, via the form.\n-        f = ArticleForm({'headline': u'The walrus was Paul', 'slug': u'walrus-was-paul', 'pub_date': u'1967-11-01',\n-            'writer': unicode(w_royko.pk), 'article': u'Test.'})\n+        f = ArticleForm({'headline': 'The walrus was Paul', 'slug': 'walrus-was-paul', 'pub_date': '1967-11-01',\n+            'writer': unicode(w_royko.pk), 'article': 'Test.'})\n         new_art = f.save()\n         art_id_3 = new_art.id\n         self.assertEqual(art_id_3 not in (None, art_id_1, art_id_2), True)\n@@ -846,8 +846,8 @@ def test_with_data(self):\n \n         # Create a new article, with categories, via the form, but use commit=False.\n         # The m2m data won't be saved until save_m2m() is invoked on the form.\n-        f = ArticleForm({'headline': u'The walrus was Paul', 'slug': 'walrus-was-paul', 'pub_date': u'1967-11-01',\n-            'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n+        f = ArticleForm({'headline': 'The walrus was Paul', 'slug': 'walrus-was-paul', 'pub_date': '1967-11-01',\n+            'writer': unicode(w_royko.pk), 'article': 'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n         new_art = f.save(commit=False)\n \n         # Manually save the instance\n@@ -929,11 +929,11 @@ def test_with_data(self):\n \n         f = forms.ModelChoiceField(Category.objects.all())\n         self.assertEqual(list(f.choices), [\n-            (u'', u'---------'),\n-            (c1.pk, u'Entertainment'),\n-            (c2.pk, u\"It's a test\"),\n-            (c3.pk, u'Third'),\n-            (c4.pk, u'Fourth')])\n+            ('', '---------'),\n+            (c1.pk, 'Entertainment'),\n+            (c2.pk, \"It's a test\"),\n+            (c3.pk, 'Third'),\n+            (c4.pk, 'Fourth')])\n         with self.assertRaises(ValidationError):\n             f.clean('')\n         with self.assertRaises(ValidationError):\n@@ -967,29 +967,29 @@ def test_with_data(self):\n         # queryset can be changed after the field is created.\n         f.queryset = Category.objects.exclude(name='Fourth')\n         self.assertEqual(list(f.choices), [\n-            (u'', u'---------'),\n-            (c1.pk, u'Entertainment'),\n-            (c2.pk, u\"It's a test\"),\n-            (c3.pk, u'Third')])\n+            ('', '---------'),\n+            (c1.pk, 'Entertainment'),\n+            (c2.pk, \"It's a test\"),\n+            (c3.pk, 'Third')])\n         self.assertEqual(f.clean(c3.id).name, 'Third')\n         with self.assertRaises(ValidationError):\n             f.clean(c4.id)\n \n         # check that we can safely iterate choices repeatedly\n         gen_one = list(f.choices)\n         gen_two = f.choices\n-        self.assertEqual(gen_one[2], (c2.pk, u\"It's a test\"))\n+        self.assertEqual(gen_one[2], (c2.pk, \"It's a test\"))\n         self.assertEqual(list(gen_two), [\n-            (u'', u'---------'),\n-            (c1.pk, u'Entertainment'),\n-            (c2.pk, u\"It's a test\"),\n-            (c3.pk, u'Third')])\n+            ('', '---------'),\n+            (c1.pk, 'Entertainment'),\n+            (c2.pk, \"It's a test\"),\n+            (c3.pk, 'Third')])\n \n         # check that we can override the label_from_instance method to print custom labels (#4620)\n         f.queryset = Category.objects.all()\n         f.label_from_instance = lambda obj: \"category \" + str(obj)\n         self.assertEqual(list(f.choices), [\n-            (u'', u'---------'),\n+            ('', '---------'),\n             (c1.pk, 'category Entertainment'),\n             (c2.pk, \"category It's a test\"),\n             (c3.pk, 'category Third'),\n@@ -999,10 +999,10 @@ def test_with_data(self):\n \n         f = forms.ModelMultipleChoiceField(Category.objects.all())\n         self.assertEqual(list(f.choices), [\n-            (c1.pk, u'Entertainment'),\n-            (c2.pk, u\"It's a test\"),\n-            (c3.pk, u'Third'),\n-            (c4.pk, u'Fourth')])\n+            (c1.pk, 'Entertainment'),\n+            (c2.pk, \"It's a test\"),\n+            (c3.pk, 'Third'),\n+            (c4.pk, 'Fourth')])\n         with self.assertRaises(ValidationError):\n             f.clean(None)\n         with self.assertRaises(ValidationError):\n@@ -1047,9 +1047,9 @@ def test_with_data(self):\n         # queryset can be changed after the field is created.\n         f.queryset = Category.objects.exclude(name='Fourth')\n         self.assertEqual(list(f.choices), [\n-            (c1.pk, u'Entertainment'),\n-            (c2.pk, u\"It's a test\"),\n-            (c3.pk, u'Third')])\n+            (c1.pk, 'Entertainment'),\n+            (c2.pk, \"It's a test\"),\n+            (c3.pk, 'Third')])\n         self.assertEqual(map(lambda o: o.name, f.clean([c3.id])), [\"Third\"])\n         with self.assertRaises(ValidationError):\n             f.clean([c4.id])\n@@ -1070,7 +1070,7 @@ def test_with_data(self):\n \n         self.assertEqual(ImprovedArticleWithParentLinkForm.base_fields.keys(), [])\n \n-        bw = BetterWriter(name=u'Joe Better', score=10)\n+        bw = BetterWriter(name='Joe Better', score=10)\n         bw.save()\n         self.assertEqual(sorted(model_to_dict(bw).keys()),\n                          ['id', 'name', 'score', 'writer_ptr'])\n@@ -1092,7 +1092,7 @@ def test_with_data(self):\n \n         data = {\n             'writer': unicode(w_woodward.pk),\n-            'age': u'65',\n+            'age': '65',\n         }\n         form = WriterProfileForm(data)\n         instance = form.save()\n@@ -1111,21 +1111,21 @@ def test_with_data(self):\n     def test_phone_number_field(self):\n         f = PhoneNumberForm({'phone': '(312) 555-1212', 'description': 'Assistance'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data['phone'], u'312-555-1212')\n-        self.assertEqual(f.cleaned_data['description'], u'Assistance')\n+        self.assertEqual(f.cleaned_data['phone'], '312-555-1212')\n+        self.assertEqual(f.cleaned_data['description'], 'Assistance')\n \n     def test_file_field(self):\n         # Test conditions when files is either not given or empty.\n \n-        f = TextFileForm(data={'description': u'Assistance'})\n+        f = TextFileForm(data={'description': 'Assistance'})\n         self.assertEqual(f.is_valid(), False)\n-        f = TextFileForm(data={'description': u'Assistance'}, files={})\n+        f = TextFileForm(data={'description': 'Assistance'}, files={})\n         self.assertEqual(f.is_valid(), False)\n \n         # Upload a file and ensure it all works as expected.\n \n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test1.txt', b'hello world')})\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(type(f.cleaned_data['file']), SimpleUploadedFile)\n@@ -1134,7 +1134,7 @@ def test_file_field(self):\n \n         instance.file.delete()\n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test1.txt', b'hello world')})\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(type(f.cleaned_data['file']), SimpleUploadedFile)\n@@ -1143,15 +1143,15 @@ def test_file_field(self):\n \n         # Check if the max_length attribute has been inherited from the model.\n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test-maxlength.txt', b'hello world')})\n         self.assertEqual(f.is_valid(), False)\n \n         # Edit an instance that already has the file defined in the model. This will not\n         # save the file again, but leave it exactly as it is.\n \n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(f.cleaned_data['file'].name, 'tests/test1.txt')\n@@ -1164,7 +1164,7 @@ def test_file_field(self):\n         # Override the file by uploading a new one.\n \n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test2.txt', b'hello world')}, instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1173,7 +1173,7 @@ def test_file_field(self):\n         # Delete the current file since this is not done by Django.\n         instance.file.delete()\n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test2.txt', b'hello world')})\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1185,14 +1185,14 @@ def test_file_field(self):\n         instance.delete()\n \n         # Test the non-required FileField\n-        f = TextFileForm(data={'description': u'Assistance'})\n+        f = TextFileForm(data={'description': 'Assistance'})\n         f.fields['file'].required = False\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n         self.assertEqual(instance.file.name, '')\n \n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test3.txt', b'hello world')}, instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1201,20 +1201,20 @@ def test_file_field(self):\n         # Instance can be edited w/out re-uploading the file and existing file should be preserved.\n \n         f = TextFileForm(\n-                data={'description': u'New Description'},\n+                data={'description': 'New Description'},\n                 instance=instance)\n         f.fields['file'].required = False\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n-        self.assertEqual(instance.description, u'New Description')\n+        self.assertEqual(instance.description, 'New Description')\n         self.assertEqual(instance.file.name, 'tests/test3.txt')\n \n         # Delete the current file since this is not done by Django.\n         instance.file.delete()\n         instance.delete()\n \n         f = TextFileForm(\n-                data={'description': u'Assistance'},\n+                data={'description': 'Assistance'},\n                 files={'file': SimpleUploadedFile('test3.txt', b'hello world')})\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1229,12 +1229,12 @@ def test_big_integer_field(self):\n         self.assertEqual(bif.is_valid(), True)\n         bif = BigIntForm({'biggie': '-9223372036854775809'})\n         self.assertEqual(bif.is_valid(), False)\n-        self.assertEqual(bif.errors, {'biggie': [u'Ensure this value is greater than or equal to -9223372036854775808.']})\n+        self.assertEqual(bif.errors, {'biggie': ['Ensure this value is greater than or equal to -9223372036854775808.']})\n         bif = BigIntForm({'biggie': '9223372036854775807'})\n         self.assertEqual(bif.is_valid(), True)\n         bif = BigIntForm({'biggie': '9223372036854775808'})\n         self.assertEqual(bif.is_valid(), False)\n-        self.assertEqual(bif.errors, {'biggie': [u'Ensure this value is less than or equal to 9223372036854775807.']})\n+        self.assertEqual(bif.errors, {'biggie': ['Ensure this value is less than or equal to 9223372036854775807.']})\n \n     @skipUnless(test_images, \"PIL not installed\")\n     def test_image_field(self):\n@@ -1248,7 +1248,7 @@ def test_image_field(self):\n             image_data2 = fp.read()\n \n         f = ImageFileForm(\n-                data={'description': u'An image'},\n+                data={'description': 'An image'},\n                 files={'image': SimpleUploadedFile('test.png', image_data)})\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(type(f.cleaned_data['image']), SimpleUploadedFile)\n@@ -1261,7 +1261,7 @@ def test_image_field(self):\n         # because the dimension fields are not null=True.\n         instance.image.delete(save=False)\n         f = ImageFileForm(\n-                data={'description': u'An image'},\n+                data={'description': 'An image'},\n                 files={'image': SimpleUploadedFile('test.png', image_data)})\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(type(f.cleaned_data['image']), SimpleUploadedFile)\n@@ -1273,7 +1273,7 @@ def test_image_field(self):\n         # Edit an instance that already has the (required) image defined in the model. This will not\n         # save the image again, but leave it exactly as it is.\n \n-        f = ImageFileForm(data={'description': u'Look, it changed'}, instance=instance)\n+        f = ImageFileForm(data={'description': 'Look, it changed'}, instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         self.assertEqual(f.cleaned_data['image'].name, 'tests/test.png')\n         instance = f.save()\n@@ -1287,7 +1287,7 @@ def test_image_field(self):\n         # Override the file by uploading a new one.\n \n         f = ImageFileForm(\n-                data={'description': u'Changed it'},\n+                data={'description': 'Changed it'},\n                 files={'image': SimpleUploadedFile('test2.png', image_data2)}, instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1301,7 +1301,7 @@ def test_image_field(self):\n         instance.delete()\n \n         f = ImageFileForm(\n-                data={'description': u'Changed it'},\n+                data={'description': 'Changed it'},\n                 files={'image': SimpleUploadedFile('test2.png', image_data2)})\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1315,22 +1315,22 @@ def test_image_field(self):\n         instance.delete()\n \n         # Test the non-required ImageField\n-        # Note: In Oracle, we expect a null ImageField to return u'' instead of\n+        # Note: In Oracle, we expect a null ImageField to return '' instead of\n         # None.\n         if connection.features.interprets_empty_strings_as_nulls:\n-            expected_null_imagefield_repr = u''\n+            expected_null_imagefield_repr = ''\n         else:\n             expected_null_imagefield_repr = None\n \n-        f = OptionalImageFileForm(data={'description': u'Test'})\n+        f = OptionalImageFileForm(data={'description': 'Test'})\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n         self.assertEqual(instance.image.name, expected_null_imagefield_repr)\n         self.assertEqual(instance.width, None)\n         self.assertEqual(instance.height, None)\n \n         f = OptionalImageFileForm(\n-                data={'description': u'And a final one'},\n+                data={'description': 'And a final one'},\n                 files={'image': SimpleUploadedFile('test3.png', image_data)}, instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1340,11 +1340,11 @@ def test_image_field(self):\n \n         # Editing the instance without re-uploading the image should not affect the image or its width/height properties\n         f = OptionalImageFileForm(\n-                data={'description': u'New Description'},\n+                data={'description': 'New Description'},\n                 instance=instance)\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n-        self.assertEqual(instance.description, u'New Description')\n+        self.assertEqual(instance.description, 'New Description')\n         self.assertEqual(instance.image.name, 'tests/test3.png')\n         self.assertEqual(instance.width, 16)\n         self.assertEqual(instance.height, 16)\n@@ -1354,7 +1354,7 @@ def test_image_field(self):\n         instance.delete()\n \n         f = OptionalImageFileForm(\n-                data={'description': u'And a final one'},\n+                data={'description': 'And a final one'},\n                 files={'image': SimpleUploadedFile('test4.png', image_data2)}\n             )\n         self.assertEqual(f.is_valid(), True)\n@@ -1365,7 +1365,7 @@ def test_image_field(self):\n         instance.delete()\n         # Test callable upload_to behavior that's dependent on the value of another field in the model\n         f = ImageFileForm(\n-                data={'description': u'And a final one', 'path': 'foo'},\n+                data={'description': 'And a final one', 'path': 'foo'},\n                 files={'image': SimpleUploadedFile('test4.png', image_data)})\n         self.assertEqual(f.is_valid(), True)\n         instance = f.save()\n@@ -1381,22 +1381,22 @@ def test_media_on_modelform(self):\n \n         f = CommaSeparatedIntegerForm({'field': '1,2,3'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data, {'field': u'1,2,3'})\n+        self.assertEqual(f.cleaned_data, {'field': '1,2,3'})\n         f = CommaSeparatedIntegerForm({'field': '1a,2'})\n-        self.assertEqual(f.errors, {'field': [u'Enter only digits separated by commas.']})\n+        self.assertEqual(f.errors, {'field': ['Enter only digits separated by commas.']})\n         f = CommaSeparatedIntegerForm({'field': ',,,,'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data, {'field': u',,,,'})\n+        self.assertEqual(f.cleaned_data, {'field': ',,,,'})\n         f = CommaSeparatedIntegerForm({'field': '1.2'})\n-        self.assertEqual(f.errors, {'field': [u'Enter only digits separated by commas.']})\n+        self.assertEqual(f.errors, {'field': ['Enter only digits separated by commas.']})\n         f = CommaSeparatedIntegerForm({'field': '1,a,2'})\n-        self.assertEqual(f.errors, {'field': [u'Enter only digits separated by commas.']})\n+        self.assertEqual(f.errors, {'field': ['Enter only digits separated by commas.']})\n         f = CommaSeparatedIntegerForm({'field': '1,,2'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data, {'field': u'1,,2'})\n+        self.assertEqual(f.cleaned_data, {'field': '1,,2'})\n         f = CommaSeparatedIntegerForm({'field': '1'})\n         self.assertEqual(f.is_valid(), True)\n-        self.assertEqual(f.cleaned_data, {'field': u'1'})\n+        self.assertEqual(f.cleaned_data, {'field': '1'})\n \n         # This Price instance generated by this form is not valid because the quantity\n         # field is required, but the form is valid because the field is excluded from\n@@ -1439,10 +1439,10 @@ def test_foreignkeys_which_use_to_field(self):\n \n         field = forms.ModelChoiceField(Inventory.objects.all(), to_field_name='barcode')\n         self.assertEqual(tuple(field.choices), (\n-            (u'', u'---------'),\n-            (86, u'Apple'),\n-            (87, u'Core'),\n-            (22, u'Pear')))\n+            ('', '---------'),\n+            (86, 'Apple'),\n+            (87, 'Core'),\n+            (22, 'Pear')))\n \n         form = InventoryForm(instance=core)\n         self.assertHTMLEqual(unicode(form['parent']), '''<select name=\"parent\" id=\"id_parent\">\n@@ -1471,7 +1471,7 @@ class Meta:\n         # to_field_name should also work on ModelMultipleChoiceField ##################\n \n         field = forms.ModelMultipleChoiceField(Inventory.objects.all(), to_field_name='barcode')\n-        self.assertEqual(tuple(field.choices), ((86, u'Apple'), (87, u'Core'), (22, u'Pear')))\n+        self.assertEqual(tuple(field.choices), ((86, 'Apple'), (87, 'Core'), (22, 'Pear')))\n         self.assertEqual(map(lambda o: o.name, field.clean([86])), ['Apple'])\n \n         form = SelectInventoryForm({'items': [87, 22]})"
        },
        {
            "sha": "055aa8dff1603547e0c11be836c2c3d7f9e574fd",
            "filename": "tests/modeltests/model_formsets/models.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n \n from django.db import models\n@@ -34,7 +36,7 @@ class BookWithCustomPK(models.Model):\n     title = models.CharField(max_length=100)\n \n     def __unicode__(self):\n-        return u'%s: %s' % (self.my_pk, self.title)\n+        return '%s: %s' % (self.my_pk, self.title)\n \n class Editor(models.Model):\n     name = models.CharField(max_length=100)\n@@ -57,7 +59,7 @@ class AlternateBook(Book):\n     notes = models.CharField(max_length=100)\n \n     def __unicode__(self):\n-        return u'%s - %s' % (self.title, self.notes)\n+        return '%s - %s' % (self.title, self.notes)\n \n class AuthorMeeting(models.Model):\n     name = models.CharField(max_length=100)\n@@ -119,7 +121,7 @@ class Price(models.Model):\n     quantity = models.PositiveIntegerField()\n \n     def __unicode__(self):\n-        return u\"%s for %s\" % (self.quantity, self.price)\n+        return \"%s for %s\" % (self.quantity, self.price)\n \n     class Meta:\n         unique_together = (('price', 'quantity'),)\n@@ -147,7 +149,7 @@ class Meta:\n         unique_together = ((\"repository\", \"revision\"),)\n \n     def __unicode__(self):\n-        return u\"%s (%s)\" % (self.revision, unicode(self.repository))\n+        return \"%s (%s)\" % (self.revision, unicode(self.repository))\n \n # models for testing callable defaults (see bug #7975). If you define a model\n # with a callable default value, you cannot rely on the initial value in a"
        },
        {
            "sha": "309dd3aaa2bcbf7d1310d37e344d6713e399ff94",
            "filename": "tests/modeltests/model_formsets/tests.py",
            "status": "modified",
            "additions": 41,
            "deletions": 41,
            "changes": 82,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import re\n@@ -23,12 +23,12 @@ def test_deletion(self):\n         PoetFormSet = modelformset_factory(Poet, can_delete=True)\n         poet = Poet.objects.create(name='test')\n         data = {\n-            'form-TOTAL_FORMS': u'1',\n-            'form-INITIAL_FORMS': u'1',\n-            'form-MAX_NUM_FORMS': u'0',\n+            'form-TOTAL_FORMS': '1',\n+            'form-INITIAL_FORMS': '1',\n+            'form-MAX_NUM_FORMS': '0',\n             'form-0-id': str(poet.pk),\n-            'form-0-name': u'test',\n-            'form-0-DELETE': u'on',\n+            'form-0-name': 'test',\n+            'form-0-DELETE': 'on',\n         }\n         formset = PoetFormSet(data, queryset=Poet.objects.all())\n         formset.save()\n@@ -42,11 +42,11 @@ def test_add_form_deletion_when_invalid(self):\n         \"\"\"\n         PoetFormSet = modelformset_factory(Poet, can_delete=True)\n         data = {\n-            'form-TOTAL_FORMS': u'1',\n-            'form-INITIAL_FORMS': u'0',\n-            'form-MAX_NUM_FORMS': u'0',\n-            'form-0-id': u'',\n-            'form-0-name': u'x' * 1000,\n+            'form-TOTAL_FORMS': '1',\n+            'form-INITIAL_FORMS': '0',\n+            'form-MAX_NUM_FORMS': '0',\n+            'form-0-id': '',\n+            'form-0-name': 'x' * 1000,\n         }\n         formset = PoetFormSet(data, queryset=Poet.objects.all())\n         # Make sure this form doesn't pass validation.\n@@ -69,11 +69,11 @@ def test_change_form_deletion_when_invalid(self):\n         PoetFormSet = modelformset_factory(Poet, can_delete=True)\n         poet = Poet.objects.create(name='test')\n         data = {\n-            'form-TOTAL_FORMS': u'1',\n-            'form-INITIAL_FORMS': u'1',\n-            'form-MAX_NUM_FORMS': u'0',\n+            'form-TOTAL_FORMS': '1',\n+            'form-INITIAL_FORMS': '1',\n+            'form-MAX_NUM_FORMS': '0',\n             'form-0-id': unicode(poet.id),\n-            'form-0-name': u'x' * 1000,\n+            'form-0-name': 'x' * 1000,\n         }\n         formset = PoetFormSet(data, queryset=Poet.objects.all())\n         # Make sure this form doesn't pass validation.\n@@ -245,7 +245,7 @@ def test_commit_false(self):\n \n         # create an Author instance to add to the meeting.\n \n-        author4 = Author.objects.create(name=u'John Steinbeck')\n+        author4 = Author.objects.create(name='John Steinbeck')\n \n         AuthorMeetingFormSet = modelformset_factory(AuthorMeeting, extra=1, can_delete=True)\n         data = {\n@@ -329,7 +329,7 @@ class PoetForm(forms.ModelForm):\n             def save(self, commit=True):\n                 # change the name to \"Vladimir Mayakovsky\" just to be a jerk.\n                 author = super(PoetForm, self).save(commit=False)\n-                author.name = u\"Vladimir Mayakovsky\"\n+                author.name = \"Vladimir Mayakovsky\"\n                 if commit:\n                     author.save()\n                 return author\n@@ -640,7 +640,7 @@ class PoemForm(forms.ModelForm):\n             def save(self, commit=True):\n                 # change the name to \"Brooklyn Bridge\" just to be a jerk.\n                 poem = super(PoemForm, self).save(commit=False)\n-                poem.name = u\"Brooklyn Bridge\"\n+                poem.name = \"Brooklyn Bridge\"\n                 if commit:\n                     poem.save()\n                 return poem\n@@ -731,7 +731,7 @@ def test_custom_pk(self):\n \n         # Custom primary keys with ForeignKey, OneToOneField and AutoField ############\n \n-        place = Place.objects.create(pk=1, name=u'Giordanos', city=u'Chicago')\n+        place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')\n \n         FormSet = inlineformset_factory(Place, Owner, extra=2, can_delete=False)\n         formset = FormSet(instance=place)\n@@ -746,7 +746,7 @@ def test_custom_pk(self):\n             'owner_set-INITIAL_FORMS': '0',\n             'owner_set-MAX_NUM_FORMS': '',\n             'owner_set-0-auto_id': '',\n-            'owner_set-0-name': u'Joe Perry',\n+            'owner_set-0-name': 'Joe Perry',\n             'owner_set-1-auto_id': '',\n             'owner_set-1-name': '',\n         }\n@@ -773,9 +773,9 @@ def test_custom_pk(self):\n             'owner_set-INITIAL_FORMS': '1',\n             'owner_set-MAX_NUM_FORMS': '',\n             'owner_set-0-auto_id': unicode(owner1.auto_id),\n-            'owner_set-0-name': u'Joe Perry',\n+            'owner_set-0-name': 'Joe Perry',\n             'owner_set-1-auto_id': '',\n-            'owner_set-1-name': u'Jack Berry',\n+            'owner_set-1-name': 'Jack Berry',\n             'owner_set-2-auto_id': '',\n             'owner_set-2-name': '',\n         }\n@@ -800,7 +800,7 @@ def test_custom_pk(self):\n             '<p><label for=\"id_form-0-age\">Age:</label> <input type=\"text\" name=\"form-0-age\" id=\"id_form-0-age\" /></p>'\n             % (owner1.auto_id, owner2.auto_id))\n \n-        owner1 = Owner.objects.get(name=u'Joe Perry')\n+        owner1 = Owner.objects.get(name='Joe Perry')\n         FormSet = inlineformset_factory(Owner, OwnerProfile, max_num=1, can_delete=False)\n         self.assertEqual(FormSet.max_num, 1)\n \n@@ -815,7 +815,7 @@ def test_custom_pk(self):\n             'ownerprofile-INITIAL_FORMS': '0',\n             'ownerprofile-MAX_NUM_FORMS': '1',\n             'ownerprofile-0-owner': '',\n-            'ownerprofile-0-age': u'54',\n+            'ownerprofile-0-age': '54',\n         }\n         formset = FormSet(data, instance=owner1)\n         self.assertTrue(formset.is_valid())\n@@ -836,7 +836,7 @@ def test_custom_pk(self):\n             'ownerprofile-INITIAL_FORMS': '1',\n             'ownerprofile-MAX_NUM_FORMS': '1',\n             'ownerprofile-0-owner': unicode(owner1.auto_id),\n-            'ownerprofile-0-age': u'55',\n+            'ownerprofile-0-age': '55',\n         }\n         formset = FormSet(data, instance=owner1)\n         self.assertTrue(formset.is_valid())\n@@ -849,7 +849,7 @@ def test_custom_pk(self):\n     def test_unique_true_enforces_max_num_one(self):\n         # ForeignKey with unique=True should enforce max_num=1\n \n-        place = Place.objects.create(pk=1, name=u'Giordanos', city=u'Chicago')\n+        place = Place.objects.create(pk=1, name='Giordanos', city='Chicago')\n \n         FormSet = inlineformset_factory(Place, Location, can_delete=False)\n         self.assertEqual(FormSet.max_num, 1)\n@@ -887,15 +887,15 @@ def test_unique_validation(self):\n         }\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n-        self.assertEqual(formset.errors, [{'slug': [u'Product with this Slug already exists.']}])\n+        self.assertEqual(formset.errors, [{'slug': ['Product with this Slug already exists.']}])\n \n     def test_unique_together_validation(self):\n         FormSet = modelformset_factory(Price, extra=1)\n         data = {\n             'form-TOTAL_FORMS': '1',\n             'form-INITIAL_FORMS': '0',\n             'form-MAX_NUM_FORMS': '',\n-            'form-0-price': u'12.00',\n+            'form-0-price': '12.00',\n             'form-0-quantity': '1',\n         }\n         formset = FormSet(data)\n@@ -910,17 +910,17 @@ def test_unique_together_validation(self):\n             'form-TOTAL_FORMS': '1',\n             'form-INITIAL_FORMS': '0',\n             'form-MAX_NUM_FORMS': '',\n-            'form-0-price': u'12.00',\n+            'form-0-price': '12.00',\n             'form-0-quantity': '1',\n         }\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n-        self.assertEqual(formset.errors, [{'__all__': [u'Price with this Price and Quantity already exists.']}])\n+        self.assertEqual(formset.errors, [{'__all__': ['Price with this Price and Quantity already exists.']}])\n \n     def test_unique_together_with_inlineformset_factory(self):\n         # Also see bug #8882.\n \n-        repository = Repository.objects.create(name=u'Test Repo')\n+        repository = Repository.objects.create(name='Test Repo')\n         FormSet = inlineformset_factory(Repository, Revision, extra=1)\n         data = {\n             'revision_set-TOTAL_FORMS': '1',\n@@ -949,7 +949,7 @@ def test_unique_together_with_inlineformset_factory(self):\n         }\n         formset = FormSet(data, instance=repository)\n         self.assertFalse(formset.is_valid())\n-        self.assertEqual(formset.errors, [{'__all__': [u'Revision with this Repository and Revision already exists.']}])\n+        self.assertEqual(formset.errors, [{'__all__': ['Revision with this Repository and Revision already exists.']}])\n \n         # unique_together with inlineformset_factory with overridden form fields\n         # Also see #9494\n@@ -1040,7 +1040,7 @@ def __init__(self, **kwargs):\n     def test_inlineformset_factory_with_null_fk(self):\n         # inlineformset_factory tests with fk having null=True. see #9462.\n         # create some data that will exbit the issue\n-        team = Team.objects.create(name=u\"Red Vipers\")\n+        team = Team.objects.create(name=\"Red Vipers\")\n         Player(name=\"Timmy\").save()\n         Player(name=\"Bobby\", team=team).save()\n \n@@ -1073,7 +1073,7 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for slug.'])\n+            ['Please correct the duplicate data for slug.'])\n \n         FormSet = modelformset_factory(Price, extra=2)\n         data = {\n@@ -1088,7 +1088,7 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for price and quantity, which must be unique.'])\n+            ['Please correct the duplicate data for price and quantity, which must be unique.'])\n \n         # Only the price field is specified, this should skip any unique checks since\n         # the unique_together is not fulfilled. This will fail with a KeyError if broken.\n@@ -1126,9 +1126,9 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data=data, instance=author)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for title.'])\n+            ['Please correct the duplicate data for title.'])\n         self.assertEqual(formset.errors,\n-            [{}, {'__all__': [u'Please correct the duplicate values below.']}])\n+            [{}, {'__all__': ['Please correct the duplicate values below.']}])\n \n         FormSet = modelformset_factory(Post, extra=2)\n         data = {\n@@ -1148,9 +1148,9 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for title which must be unique for the date in posted.'])\n+            ['Please correct the duplicate data for title which must be unique for the date in posted.'])\n         self.assertEqual(formset.errors,\n-            [{}, {'__all__': [u'Please correct the duplicate values below.']}])\n+            [{}, {'__all__': ['Please correct the duplicate values below.']}])\n \n         data = {\n             'form-TOTAL_FORMS': '2',\n@@ -1169,7 +1169,7 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for slug which must be unique for the year in posted.'])\n+            ['Please correct the duplicate data for slug which must be unique for the year in posted.'])\n \n         data = {\n             'form-TOTAL_FORMS': '2',\n@@ -1188,4 +1188,4 @@ def test_prevent_duplicates_from_with_the_same_formset(self):\n         formset = FormSet(data)\n         self.assertFalse(formset.is_valid())\n         self.assertEqual(formset._non_form_errors,\n-            [u'Please correct the duplicate data for subtitle which must be unique for the month in posted.'])\n+            ['Please correct the duplicate data for subtitle which must be unique for the month in posted.'])"
        },
        {
            "sha": "37ca603021bcb4eede773c2a96dfb6603f04846d",
            "filename": "tests/modeltests/model_inheritance/models.py",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -11,6 +11,7 @@\n \n Both styles are demonstrated here.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -27,7 +28,7 @@ class Meta:\n         ordering = ['name']\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.__class__.__name__, self.name)\n+        return '%s %s' % (self.__class__.__name__, self.name)\n \n class Worker(CommonInfo):\n     job = models.CharField(max_length=50)\n@@ -72,14 +73,14 @@ class Chef(models.Model):\n     name = models.CharField(max_length=50)\n \n     def __unicode__(self):\n-        return u\"%s the chef\" % self.name\n+        return \"%s the chef\" % self.name\n \n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     address = models.CharField(max_length=80)\n \n     def __unicode__(self):\n-        return u\"%s the place\" % self.name\n+        return \"%s the place\" % self.name\n \n class Rating(models.Model):\n     rating = models.IntegerField(null=True, blank=True)\n@@ -97,27 +98,27 @@ class Meta(Rating.Meta):\n         db_table = 'my_restaurant'\n \n     def __unicode__(self):\n-        return u\"%s the restaurant\" % self.name\n+        return \"%s the restaurant\" % self.name\n \n class ItalianRestaurant(Restaurant):\n     serves_gnocchi = models.BooleanField()\n \n     def __unicode__(self):\n-        return u\"%s the italian restaurant\" % self.name\n+        return \"%s the italian restaurant\" % self.name\n \n class Supplier(Place):\n     customers = models.ManyToManyField(Restaurant, related_name='provider')\n \n     def __unicode__(self):\n-        return u\"%s the supplier\" % self.name\n+        return \"%s the supplier\" % self.name\n \n class ParkingLot(Place):\n     # An explicit link to the parent (we can control the attribute name).\n     parent = models.OneToOneField(Place, primary_key=True, parent_link=True)\n     main_site = models.ForeignKey(Place, related_name='lot')\n \n     def __unicode__(self):\n-        return u\"%s the parking lot\" % self.name\n+        return \"%s the parking lot\" % self.name\n \n #\n # Abstract base classes with related models where the sub-class has the"
        },
        {
            "sha": "8c6d56a795a5f6e29c7a205c183ba2686a51c653",
            "filename": "tests/modeltests/one_to_one/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,6 +5,7 @@\n \n In this example, a ``Place`` optionally can be a ``Restaurant``.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -14,22 +15,22 @@ class Place(models.Model):\n     address = models.CharField(max_length=80)\n \n     def __unicode__(self):\n-        return u\"%s the place\" % self.name\n+        return \"%s the place\" % self.name\n \n class Restaurant(models.Model):\n     place = models.OneToOneField(Place, primary_key=True)\n     serves_hot_dogs = models.BooleanField()\n     serves_pizza = models.BooleanField()\n \n     def __unicode__(self):\n-        return u\"%s the restaurant\" % self.place.name\n+        return \"%s the restaurant\" % self.place.name\n \n class Waiter(models.Model):\n     restaurant = models.ForeignKey(Restaurant)\n     name = models.CharField(max_length=50)\n \n     def __unicode__(self):\n-        return u\"%s the waiter at %s\" % (self.name, self.restaurant)\n+        return \"%s the waiter at %s\" % (self.name, self.restaurant)\n \n class ManualPrimaryKey(models.Model):\n     primary_key = models.CharField(max_length=10, primary_key=True)\n@@ -45,4 +46,4 @@ class MultiModel(models.Model):\n     name = models.CharField(max_length=50)\n \n     def __unicode__(self):\n-        return u\"Multimodel %s\" % self.name\n+        return \"Multimodel %s\" % self.name"
        },
        {
            "sha": "9ced9edff2dccf14200f470b4f6bda66c08a6b3f",
            "filename": "tests/modeltests/pagination/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fpagination%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fpagination%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fpagination%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from datetime import datetime\n \n@@ -32,7 +32,7 @@ def test_paginator(self):\n     def test_first_page(self):\n         paginator = Paginator(Article.objects.all(), 5)\n         p = paginator.page(1)\n-        self.assertEqual(u\"<Page 1 of 2>\", unicode(p))\n+        self.assertEqual(\"<Page 1 of 2>\", unicode(p))\n         self.assertQuerysetEqual(p.object_list, [\n                 \"<Article: Article 1>\",\n                 \"<Article: Article 2>\",\n@@ -52,7 +52,7 @@ def test_first_page(self):\n     def test_last_page(self):\n         paginator = Paginator(Article.objects.all(), 5)\n         p = paginator.page(2)\n-        self.assertEqual(u\"<Page 2 of 2>\", unicode(p))\n+        self.assertEqual(\"<Page 2 of 2>\", unicode(p))\n         self.assertQuerysetEqual(p.object_list, [\n                 \"<Article: Article 6>\",\n                 \"<Article: Article 7>\",\n@@ -109,7 +109,7 @@ def test_paginate_list(self):\n         self.assertEqual(2, paginator.num_pages)\n         self.assertEqual([1, 2], paginator.page_range)\n         p = paginator.page(1)\n-        self.assertEqual(u\"<Page 1 of 2>\", unicode(p))\n+        self.assertEqual(\"<Page 1 of 2>\", unicode(p))\n         self.assertEqual([1, 2, 3, 4, 5], p.object_list)\n         self.assertTrue(p.has_next())\n         self.assertFalse(p.has_previous())"
        },
        {
            "sha": "43f195d3575ad94ef45ee0d95245ceffaa10f12a",
            "filename": "tests/modeltests/prefetch_related/tests.py",
            "status": "modified",
            "additions": 19,
            "deletions": 19,
            "changes": 38,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fprefetch_related%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fprefetch_related%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fprefetch_related%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.contenttypes.models import ContentType\n from django.db import connection\n@@ -66,7 +66,7 @@ def test_foreignkey_reverse(self):\n             lists = [list(b.first_time_authors.all())\n                      for b in Book.objects.prefetch_related('first_time_authors')]\n \n-        self.assertQuerysetEqual(self.book2.authors.all(), [u\"<Author: Charlotte>\"])\n+        self.assertQuerysetEqual(self.book2.authors.all(), [\"<Author: Charlotte>\"])\n \n     def test_onetoone_reverse_no_match(self):\n         # Regression for #17439\n@@ -125,10 +125,10 @@ def test_m2m_then_m2m(self):\n                      for a in qs]\n             self.assertEqual(lists,\n             [\n-                [[u\"Amy\"], [u\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n-                [[u\"Amy\"]],                # Anne - Poems\n-                [[u\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n-                [[u\"Amy\", u\"Belinda\"]],    # Jane - Sense and Sense\n+                [[\"Amy\"], [\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n+                [[\"Amy\"]],                # Anne - Poems\n+                [[\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n+                [[\"Amy\", \"Belinda\"]],    # Jane - Sense and Sense\n             ])\n \n     def test_overriding_prefetch(self):\n@@ -139,10 +139,10 @@ def test_overriding_prefetch(self):\n                      for a in qs]\n             self.assertEqual(lists,\n             [\n-                [[u\"Amy\"], [u\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n-                [[u\"Amy\"]],                # Anne - Poems\n-                [[u\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n-                [[u\"Amy\", u\"Belinda\"]],    # Jane - Sense and Sense\n+                [[\"Amy\"], [\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n+                [[\"Amy\"]],                # Anne - Poems\n+                [[\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n+                [[\"Amy\", \"Belinda\"]],    # Jane - Sense and Sense\n             ])\n         with self.assertNumQueries(3):\n             qs = Author.objects.prefetch_related('books__read_by', 'books')\n@@ -151,10 +151,10 @@ def test_overriding_prefetch(self):\n                      for a in qs]\n             self.assertEqual(lists,\n             [\n-                [[u\"Amy\"], [u\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n-                [[u\"Amy\"]],                # Anne - Poems\n-                [[u\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n-                [[u\"Amy\", u\"Belinda\"]],    # Jane - Sense and Sense\n+                [[\"Amy\"], [\"Belinda\"]],  # Charlotte - Poems, Jane Eyre\n+                [[\"Amy\"]],                # Anne - Poems\n+                [[\"Amy\"], []],            # Emily - Poems, Wuthering Heights\n+                [[\"Amy\", \"Belinda\"]],    # Jane - Sense and Sense\n             ])\n \n     def test_get(self):\n@@ -166,7 +166,7 @@ def test_get(self):\n             author = Author.objects.prefetch_related('books__read_by').get(name=\"Charlotte\")\n             lists = [[unicode(r) for r in b.read_by.all()]\n                       for b in author.books.all()]\n-            self.assertEqual(lists, [[u\"Amy\"], [u\"Belinda\"]])  # Poems, Jane Eyre\n+            self.assertEqual(lists, [[\"Amy\"], [\"Belinda\"]])  # Poems, Jane Eyre\n \n     def test_foreign_key_then_m2m(self):\n         \"\"\"\n@@ -177,10 +177,10 @@ def test_foreign_key_then_m2m(self):\n             qs = Author.objects.select_related('first_book').prefetch_related('first_book__read_by')\n             lists = [[unicode(r) for r in a.first_book.read_by.all()]\n                      for a in qs]\n-            self.assertEqual(lists, [[u\"Amy\"],\n-                                     [u\"Amy\"],\n-                                     [u\"Amy\"],\n-                                     [u\"Amy\", \"Belinda\"]])\n+            self.assertEqual(lists, [[\"Amy\"],\n+                                     [\"Amy\"],\n+                                     [\"Amy\"],\n+                                     [\"Amy\", \"Belinda\"]])\n \n     def test_attribute_error(self):\n         qs = Reader.objects.all().prefetch_related('books_read__xyz')"
        },
        {
            "sha": "7ec86e9b22854fa916098a816a0b1f2cc4844587",
            "filename": "tests/modeltests/proxy_models/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fproxy_models%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fproxy_models%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fproxy_models%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.contenttypes.models import ContentType\n from django.core import management\n@@ -195,7 +195,7 @@ def _handler(*args, **kwargs):\n         signals.pre_save.connect(h3, sender=Person)\n         signals.post_save.connect(h4, sender=Person)\n \n-        dino = MyPerson.objects.create(name=u\"dino\")\n+        dino = MyPerson.objects.create(name=\"dino\")\n         self.assertEqual(output, [\n             'MyPerson pre save',\n             'MyPerson post save'\n@@ -209,7 +209,7 @@ def _handler(*args, **kwargs):\n         signals.pre_save.connect(h5, sender=MyPersonProxy)\n         signals.post_save.connect(h6, sender=MyPersonProxy)\n \n-        dino = MyPersonProxy.objects.create(name=u\"pebbles\")\n+        dino = MyPersonProxy.objects.create(name=\"pebbles\")\n \n         self.assertEqual(output, [\n             'MyPersonProxy pre save',"
        },
        {
            "sha": "bae60e4b866e5f3a933279795c5ce3e21a653515",
            "filename": "tests/modeltests/save_delete_hooks/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -4,6 +4,7 @@\n To execute arbitrary code around ``save()`` and ``delete()``, just subclass\n the methods.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -17,7 +18,7 @@ def __init__(self, *args, **kwargs):\n         self.data = []\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n     def save(self, *args, **kwargs):\n         self.data.append(\"Before save\")"
        },
        {
            "sha": "557a5c318afa6f674e89c3ab1ded1d11b3392af0",
            "filename": "tests/modeltests/select_related/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fselect_related%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fselect_related%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fselect_related%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.test import TestCase\n \n@@ -147,13 +147,13 @@ def test_more_certain_fields(self):\n             world = Species.objects.filter(genus__name='Amanita')\\\n                 .select_related('genus__family')\n             orders = [o.genus.family.order.name for o in world]\n-            self.assertEqual(orders, [u'Agaricales'])\n+            self.assertEqual(orders, ['Agaricales'])\n \n     def test_field_traversal(self):\n         with self.assertNumQueries(1):\n             s = Species.objects.all().select_related('genus__family__order'\n                 ).order_by('id')[0:1].get().genus.family.order.name\n-            self.assertEqual(s, u'Diptera')\n+            self.assertEqual(s, 'Diptera')\n \n     def test_depth_fields_fails(self):\n         self.assertRaises(TypeError,"
        },
        {
            "sha": "3549be1b4ff02502ec5ec417014d9213ddd4091d",
            "filename": "tests/modeltests/serializers/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fserializers%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fserializers%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fserializers%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,6 +5,7 @@\n ``django.core.serializers`` provides interfaces to converting Django\n ``QuerySet`` objects to and from \"flat\" data (i.e. strings).\n \"\"\"\n+from __future__ import unicode_literals\n \n from decimal import Decimal\n \n@@ -49,7 +50,7 @@ class AuthorProfile(models.Model):\n     date_of_birth = models.DateField()\n \n     def __unicode__(self):\n-        return u\"Profile of %s\" % self.author\n+        return \"Profile of %s\" % self.author\n \n \n class Actor(models.Model):\n@@ -116,4 +117,4 @@ class Player(models.Model):\n     team = TeamField()\n \n     def __unicode__(self):\n-        return u'%s (%d) playing for %s' % (self.name, self.rank, self.team.to_string())\n+        return '%s (%d) playing for %s' % (self.name, self.rank, self.team.to_string())"
        },
        {
            "sha": "13cf1e7e17a0f7d77174fc2a397e493316fd4080",
            "filename": "tests/modeltests/serializers/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fserializers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fserializers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fserializers%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n # -*- coding: utf-8 -*-\n import json\n@@ -162,8 +162,8 @@ def test_serialize_field_subset(self):\n \n     def test_serialize_unicode(self):\n         \"\"\"Tests that unicode makes the roundtrip intact\"\"\"\n-        actor_name = u\"Za\\u017c\\u00f3\\u0142\\u0107\"\n-        movie_title = u'G\\u0119\\u015bl\\u0105 ja\\u017a\\u0144'\n+        actor_name = \"Za\\u017c\\u00f3\\u0142\\u0107\"\n+        movie_title = 'G\\u0119\\u015bl\\u0105 ja\\u017a\\u0144'\n         ac = Actor(name=actor_name)\n         mv = Movie(title=movie_title, actor=ac)\n         ac.save()"
        },
        {
            "sha": "18ca4676550d3a3bfcbaa94fa1fcfc0a86e5ab83",
            "filename": "tests/modeltests/signals/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fsignals%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fsignals%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fsignals%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,7 @@\n \"\"\"\n Testing signals before/after saving and deleting.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -10,11 +11,11 @@ class Person(models.Model):\n     last_name = models.CharField(max_length=20)\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n class Car(models.Model):\n     make = models.CharField(max_length=20)\n     model = models.CharField(max_length=20)\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.make, self.model)\n+        return \"%s %s\" % (self.make, self.model)"
        },
        {
            "sha": "bed9ea719bfbb16b8ea7ae531f93be58299dcc6e",
            "filename": "tests/modeltests/str/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fstr%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fstr%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fstr%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n  # -*- coding: utf-8 -*-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -19,7 +19,7 @@ def test_basic(self):\n \n     def test_international(self):\n         a = InternationalArticle.objects.create(\n-            headline=u'Girl wins €12.500 in lottery',\n+            headline='Girl wins €12.500 in lottery',\n             pub_date=datetime.datetime(2005, 7, 28)\n         )\n         # The default str() output will be the UTF-8 encoded output of __unicode__()."
        },
        {
            "sha": "399d2906a83b74ce57a6e6c8206f1629976bdb55",
            "filename": "tests/modeltests/test_client/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftest_client%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftest_client%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftest_client%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -20,7 +20,7 @@\n rather than the HTML rendered to the end-user.\n \n \"\"\"\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.conf import settings\n from django.core import mail\n@@ -37,12 +37,12 @@ def test_get_view(self):\n         \"GET a view\"\n         # The data is ignored, but let's check it doesn't crash the system\n         # anyway.\n-        data = {'var': u'\\xf2'}\n+        data = {'var': '\\xf2'}\n         response = self.client.get('/test_client/get_view/', data)\n \n         # Check some response details\n         self.assertContains(response, 'This is a test')\n-        self.assertEqual(response.context['var'], u'\\xf2')\n+        self.assertEqual(response.context['var'], '\\xf2')\n         self.assertEqual(response.templates[0].name, 'GET Template')\n \n     def test_get_post_view(self):"
        },
        {
            "sha": "aadb8ba842f44575de647b97deccf1c82493f954",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 17,
            "deletions": 15,
            "changes": 32,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import datetime\n import os\n import sys\n@@ -873,33 +875,33 @@ def test_now_template_tag_uses_current_time_zone(self):\n class LegacyFormsTests(TestCase):\n \n     def test_form(self):\n-        form = EventForm({'dt': u'2011-09-01 13:20:30'})\n+        form = EventForm({'dt': '2011-09-01 13:20:30'})\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 9, 1, 13, 20, 30))\n \n     @skipIf(pytz is None, \"this test requires pytz\")\n     def test_form_with_non_existent_time(self):\n-        form = EventForm({'dt': u'2011-03-27 02:30:00'})\n+        form = EventForm({'dt': '2011-03-27 02:30:00'})\n         with timezone.override(pytz.timezone('Europe/Paris')):\n             # this is obviously a bug\n             self.assertTrue(form.is_valid())\n             self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 3, 27, 2, 30, 0))\n \n     @skipIf(pytz is None, \"this test requires pytz\")\n     def test_form_with_ambiguous_time(self):\n-        form = EventForm({'dt': u'2011-10-30 02:30:00'})\n+        form = EventForm({'dt': '2011-10-30 02:30:00'})\n         with timezone.override(pytz.timezone('Europe/Paris')):\n             # this is obviously a bug\n             self.assertTrue(form.is_valid())\n             self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 10, 30, 2, 30, 0))\n \n     def test_split_form(self):\n-        form = EventSplitForm({'dt_0': u'2011-09-01', 'dt_1': u'13:20:30'})\n+        form = EventSplitForm({'dt_0': '2011-09-01', 'dt_1': '13:20:30'})\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 9, 1, 13, 20, 30))\n \n     def test_model_form(self):\n-        EventModelForm({'dt': u'2011-09-01 13:20:30'}).save()\n+        EventModelForm({'dt': '2011-09-01 13:20:30'}).save()\n         e = Event.objects.get()\n         self.assertEqual(e.dt, datetime.datetime(2011, 9, 1, 13, 20, 30))\n \n@@ -909,43 +911,43 @@ class NewFormsTests(TestCase):\n \n     @requires_tz_support\n     def test_form(self):\n-        form = EventForm({'dt': u'2011-09-01 13:20:30'})\n+        form = EventForm({'dt': '2011-09-01 13:20:30'})\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC))\n \n     def test_form_with_other_timezone(self):\n-        form = EventForm({'dt': u'2011-09-01 17:20:30'})\n+        form = EventForm({'dt': '2011-09-01 17:20:30'})\n         with timezone.override(ICT):\n             self.assertTrue(form.is_valid())\n             self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC))\n \n     @skipIf(pytz is None, \"this test requires pytz\")\n     def test_form_with_non_existent_time(self):\n         with timezone.override(pytz.timezone('Europe/Paris')):\n-            form = EventForm({'dt': u'2011-03-27 02:30:00'})\n+            form = EventForm({'dt': '2011-03-27 02:30:00'})\n             self.assertFalse(form.is_valid())\n             self.assertEqual(form.errors['dt'],\n-                [u\"2011-03-27 02:30:00 couldn't be interpreted in time zone \"\n-                 u\"Europe/Paris; it may be ambiguous or it may not exist.\"])\n+                [\"2011-03-27 02:30:00 couldn't be interpreted in time zone \"\n+                 \"Europe/Paris; it may be ambiguous or it may not exist.\"])\n \n     @skipIf(pytz is None, \"this test requires pytz\")\n     def test_form_with_ambiguous_time(self):\n         with timezone.override(pytz.timezone('Europe/Paris')):\n-            form = EventForm({'dt': u'2011-10-30 02:30:00'})\n+            form = EventForm({'dt': '2011-10-30 02:30:00'})\n             self.assertFalse(form.is_valid())\n             self.assertEqual(form.errors['dt'],\n-                [u\"2011-10-30 02:30:00 couldn't be interpreted in time zone \"\n-                 u\"Europe/Paris; it may be ambiguous or it may not exist.\"])\n+                [\"2011-10-30 02:30:00 couldn't be interpreted in time zone \"\n+                 \"Europe/Paris; it may be ambiguous or it may not exist.\"])\n \n     @requires_tz_support\n     def test_split_form(self):\n-        form = EventSplitForm({'dt_0': u'2011-09-01', 'dt_1': u'13:20:30'})\n+        form = EventSplitForm({'dt_0': '2011-09-01', 'dt_1': '13:20:30'})\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data['dt'], datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC))\n \n     @requires_tz_support\n     def test_model_form(self):\n-        EventModelForm({'dt': u'2011-09-01 13:20:30'}).save()\n+        EventModelForm({'dt': '2011-09-01 13:20:30'}).save()\n         e = Event.objects.get()\n         self.assertEqual(e.dt, datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC))\n "
        },
        {
            "sha": "7a51b9ac1c10cb73b26927cdaf7e706a682a8aca",
            "filename": "tests/modeltests/transactions/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftransactions%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Ftransactions%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftransactions%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -6,6 +6,7 @@\n commit-on-success behavior. Alternatively, you can manage the transaction\n manually.\n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -19,4 +20,4 @@ class Meta:\n         ordering = ('first_name', 'last_name')\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n\\ No newline at end of file\n+        return \"%s %s\" % (self.first_name, self.last_name)"
        },
        {
            "sha": "7a1177c1fdab87d8905c9caa6dae496e705e824a",
            "filename": "tests/modeltests/update/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fupdate%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fupdate%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fupdate%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.test import TestCase\n \n@@ -77,7 +77,7 @@ def test_update_multiple_objects(self):\n         resp = DataPoint.objects.filter(value=\"banana\").update(\n             value=\"pineapple\")\n         self.assertEqual(resp, 2)\n-        self.assertEqual(DataPoint.objects.get(name=\"d2\").value, u'pineapple')\n+        self.assertEqual(DataPoint.objects.get(name=\"d2\").value, 'pineapple')\n \n     def test_update_fk(self):\n         \"\"\"\n@@ -97,8 +97,8 @@ def test_update_multiple_fields(self):\n             value=\"fruit\", another_value=\"peach\")\n         self.assertEqual(resp, 1)\n         d = DataPoint.objects.get(name=\"d0\")\n-        self.assertEqual(d.value, u'fruit')\n-        self.assertEqual(d.another_value, u'peach')\n+        self.assertEqual(d.value, 'fruit')\n+        self.assertEqual(d.another_value, 'peach')\n \n     def test_update_all(self):\n         \"\"\"\n@@ -107,7 +107,7 @@ def test_update_all(self):\n         \"\"\"\n         self.assertEqual(DataPoint.objects.update(value='thing'), 3)\n         resp = DataPoint.objects.values('value').distinct()\n-        self.assertEqual(list(resp), [{'value': u'thing'}])\n+        self.assertEqual(list(resp), [{'value': 'thing'}])\n \n     def test_update_slice_fail(self):\n         \"\"\""
        },
        {
            "sha": "0adc9fec320b2ef85b44aed21a5b86696564ff26",
            "filename": "tests/modeltests/validation/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from datetime import datetime\n \n from django.core.exceptions import ValidationError\n@@ -80,8 +82,8 @@ class FlexibleDatePost(models.Model):\n     posted = models.DateField(blank=True, null=True)\n \n class UniqueErrorsModel(models.Model):\n-    name = models.CharField(max_length=100, unique=True, error_messages={'unique': u'Custom unique name message.'})\n-    no = models.IntegerField(unique=True, error_messages={'unique': u'Custom unique number message.'})\n+    name = models.CharField(max_length=100, unique=True, error_messages={'unique': 'Custom unique name message.'})\n+    no = models.IntegerField(unique=True, error_messages={'unique': 'Custom unique number message.'})\n \n class GenericIPAddressTestModel(models.Model):\n     generic_ip = models.GenericIPAddressField(blank=True, null=True, unique=True)\n@@ -101,4 +103,4 @@ class MultipleAutoFields(models.Model):\n         auto2 = models.AutoField(primary_key=True)\n except AssertionError as assertion_error:\n     pass # Fail silently\n-assert str(assertion_error) == u\"A model can't have more than one AutoField.\"\n+assert str(assertion_error) == \"A model can't have more than one AutoField.\""
        },
        {
            "sha": "62ca4e95c6a9a9aed4aa3d3b1d55fe56ad486a6b",
            "filename": "tests/modeltests/validation/test_error_messages.py",
            "status": "modified",
            "additions": 36,
            "deletions": 34,
            "changes": 70,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftest_error_messages.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,6 @@\n # -*- encoding: utf-8 -*-\n+from __future__ import unicode_literals\n+\n from django.core.exceptions import ValidationError\n from django.db import models\n from django.utils.unittest import TestCase\n@@ -13,82 +15,82 @@ def _test_validation_messages(self, field, value, expected):\n \n     def test_autofield_field_raises_error_message(self):\n         f = models.AutoField(primary_key=True)\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be an integer.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be an integer.\"])\n         # primary_key must be True. Refs #12467.\n         with self.assertRaisesRegexp(AssertionError,\n                 \"AutoFields must have primary_key=True.\"):\n             models.AutoField(primary_key=False)\n \n     def test_integer_field_raises_error_message(self):\n         f = models.IntegerField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be an integer.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be an integer.\"])\n \n     def test_boolean_field_raises_error_message(self):\n         f = models.BooleanField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be either True or False.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be either True or False.\"])\n \n     def test_float_field_raises_error_message(self):\n         f = models.FloatField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be a float.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be a float.\"])\n \n     def test_decimal_field_raises_error_message(self):\n         f = models.DecimalField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be a decimal number.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be a decimal number.\"])\n \n     def test_null_boolean_field_raises_error_message(self):\n         f = models.NullBooleanField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value must be either None, True or False.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value must be either None, True or False.\"])\n \n     def test_date_field_raises_error_message(self):\n         f = models.DateField()\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value has an invalid date format. \"\n-             u\"It must be in YYYY-MM-DD format.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value has an invalid date format. \"\n+             \"It must be in YYYY-MM-DD format.\"])\n \n         self._test_validation_messages(f, 'aaaa-10-10',\n-            [u\"'aaaa-10-10' value has an invalid date format. \"\n-             u\"It must be in YYYY-MM-DD format.\"])\n+            [\"'aaaa-10-10' value has an invalid date format. \"\n+             \"It must be in YYYY-MM-DD format.\"])\n \n         self._test_validation_messages(f, '2011-13-10',\n-            [u\"'2011-13-10' value has the correct format (YYYY-MM-DD) \"\n-             u\"but it is an invalid date.\"])\n+            [\"'2011-13-10' value has the correct format (YYYY-MM-DD) \"\n+             \"but it is an invalid date.\"])\n \n         self._test_validation_messages(f, '2011-10-32',\n-            [u\"'2011-10-32' value has the correct format (YYYY-MM-DD) \"\n-             u\"but it is an invalid date.\"])\n+            [\"'2011-10-32' value has the correct format (YYYY-MM-DD) \"\n+             \"but it is an invalid date.\"])\n \n     def test_datetime_field_raises_error_message(self):\n         f = models.DateTimeField()\n         # Wrong format\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value has an invalid format. It must be \"\n-             u\"in YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ] format.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value has an invalid format. It must be \"\n+             \"in YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ] format.\"])\n \n         # Correct format but invalid date\n         self._test_validation_messages(f, '2011-10-32',\n-            [u\"'2011-10-32' value has the correct format \"\n-             u\"(YYYY-MM-DD) but it is an invalid date.\"])\n+            [\"'2011-10-32' value has the correct format \"\n+             \"(YYYY-MM-DD) but it is an invalid date.\"])\n \n         # Correct format but invalid date/time\n         self._test_validation_messages(f, '2011-10-32 10:10',\n-            [u\"'2011-10-32 10:10' value has the correct format \"\n-             u\"(YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ]) \"\n-             u\"but it is an invalid date/time.\"])\n+            [\"'2011-10-32 10:10' value has the correct format \"\n+             \"(YYYY-MM-DD HH:MM[:ss[.uuuuuu]][TZ]) \"\n+             \"but it is an invalid date/time.\"])\n \n     def test_time_field_raises_error_message(self):\n         f = models.TimeField()\n         # Wrong format\n-        self._test_validation_messages(f, u'fõo',\n-            [u\"'fõo' value has an invalid format. It must be in \"\n-             u\"HH:MM[:ss[.uuuuuu]] format.\"])\n+        self._test_validation_messages(f, 'fõo',\n+            [\"'fõo' value has an invalid format. It must be in \"\n+             \"HH:MM[:ss[.uuuuuu]] format.\"])\n \n         # Correct format but invalid time\n         self._test_validation_messages(f, '25:50',\n-            [u\"'25:50' value has the correct format \"\n-             u\"(HH:MM[:ss[.uuuuuu]]) but it is an invalid time.\"])\n+            [\"'25:50' value has the correct format \"\n+             \"(HH:MM[:ss[.uuuuuu]]) but it is an invalid time.\"])"
        },
        {
            "sha": "038da164949aee151b231adf2a4e9dcdab9986a0",
            "filename": "tests/modeltests/validation/test_unique.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftest_unique.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -83,7 +83,7 @@ def test_unique_for_date(self):\n         p = Post(title=\"Django 1.0 is released\", posted=datetime.date(2008, 9, 3))\n         with self.assertRaises(ValidationError) as cm:\n             p.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'title': [u'Title must be unique for Posted date.']})\n+        self.assertEqual(cm.exception.message_dict, {'title': ['Title must be unique for Posted date.']})\n \n         # Should work without errors\n         p = Post(title=\"Work on Django 1.1 begins\", posted=datetime.date(2008, 9, 3))\n@@ -96,17 +96,17 @@ def test_unique_for_date(self):\n         p = Post(slug=\"Django 1.0\", posted=datetime.datetime(2008, 1, 1))\n         with self.assertRaises(ValidationError) as cm:\n             p.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'slug': [u'Slug must be unique for Posted year.']})\n+        self.assertEqual(cm.exception.message_dict, {'slug': ['Slug must be unique for Posted year.']})\n \n         p = Post(subtitle=\"Finally\", posted=datetime.datetime(2008, 9, 30))\n         with self.assertRaises(ValidationError) as cm:\n             p.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'subtitle': [u'Subtitle must be unique for Posted month.']})\n+        self.assertEqual(cm.exception.message_dict, {'subtitle': ['Subtitle must be unique for Posted month.']})\n \n         p = Post(title=\"Django 1.0 is released\")\n         with self.assertRaises(ValidationError) as cm:\n             p.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'posted': [u'This field cannot be null.']})\n+        self.assertEqual(cm.exception.message_dict, {'posted': ['This field cannot be null.']})\n \n     def test_unique_for_date_with_nullable_date(self):\n         p1 = FlexibleDatePost.objects.create(title=\"Django 1.0 is released\",\n@@ -135,10 +135,10 @@ def test_unique_errors(self):\n         m = UniqueErrorsModel(name='Some Name', no=11)\n         with self.assertRaises(ValidationError) as cm:\n             m.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'name': [u'Custom unique name message.']})\n+        self.assertEqual(cm.exception.message_dict, {'name': ['Custom unique name message.']})\n \n         m = UniqueErrorsModel(name='Some Other Name', no=10)\n         with self.assertRaises(ValidationError) as cm:\n             m.full_clean()\n-        self.assertEqual(cm.exception.message_dict, {'no': [u'Custom unique number message.']})\n+        self.assertEqual(cm.exception.message_dict, {'no': ['Custom unique number message.']})\n "
        },
        {
            "sha": "4f658203dfdf7e2370bfdef258208a3cf089fa08",
            "filename": "tests/modeltests/validation/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django import forms\n from django.core.exceptions import NON_FIELD_ERRORS\n@@ -55,7 +55,7 @@ def test_correct_email_value_passes(self):\n \n     def test_wrong_url_value_raises_error(self):\n         mtv = ModelToValidate(number=10, name='Some Name', url='not a url')\n-        self.assertFieldFailsValidationWithMessage(mtv.full_clean, 'url', [u'Enter a valid value.'])\n+        self.assertFieldFailsValidationWithMessage(mtv.full_clean, 'url', ['Enter a valid value.'])\n \n     def test_text_greater_that_charfields_max_length_raises_erros(self):\n         mtv = ModelToValidate(number=10, name='Some Name'*100)"
        },
        {
            "sha": "e58d9fd4a6e3837183b1284ea704f7571d1e3f66",
            "filename": "tests/modeltests/validation/validators.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidation%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Fvalidators.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from . import ValidationTestCase\n from .models import ModelToValidate\n@@ -15,5 +15,5 @@ def test_custom_validator_raises_error_for_incorrect_value(self):\n         self.assertFieldFailsValidationWithMessage(\n             mtv.full_clean,\n             'f_with_custom_validator',\n-            [u'This is not the answer to life, universe and everything!']\n+            ['This is not the answer to life, universe and everything!']\n         )"
        },
        {
            "sha": "018be6ae59746872f8445c169d6eab021df452ef",
            "filename": "tests/modeltests/validators/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidators%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,10 +1,13 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n+\n import re\n import types\n from datetime import datetime, timedelta\n \n from django.core.exceptions import ValidationError\n from django.core.validators import *\n+from django.test.utils import str_prefix\n from django.utils.unittest import TestCase\n \n \n@@ -176,18 +179,18 @@ def test_func(self):\n class TestSimpleValidators(TestCase):\n     def test_single_message(self):\n         v = ValidationError('Not Valid')\n-        self.assertEqual(str(v), \"[u'Not Valid']\")\n-        self.assertEqual(repr(v), \"ValidationError([u'Not Valid'])\")\n+        self.assertEqual(str(v), str_prefix(\"[%(_)s'Not Valid']\"))\n+        self.assertEqual(repr(v), str_prefix(\"ValidationError([%(_)s'Not Valid'])\"))\n \n     def test_message_list(self):\n         v = ValidationError(['First Problem', 'Second Problem'])\n-        self.assertEqual(str(v), \"[u'First Problem', u'Second Problem']\")\n-        self.assertEqual(repr(v), \"ValidationError([u'First Problem', u'Second Problem'])\")\n+        self.assertEqual(str(v), str_prefix(\"[%(_)s'First Problem', %(_)s'Second Problem']\"))\n+        self.assertEqual(repr(v), str_prefix(\"ValidationError([%(_)s'First Problem', %(_)s'Second Problem'])\"))\n \n     def test_message_dict(self):\n         v = ValidationError({'first': 'First Problem'})\n-        self.assertEqual(str(v), \"{'first': 'First Problem'}\")\n-        self.assertEqual(repr(v), \"ValidationError({'first': 'First Problem'})\")\n+        self.assertEqual(str(v), str_prefix(\"{%(_)s'first': %(_)s'First Problem'}\"))\n+        self.assertEqual(repr(v), str_prefix(\"ValidationError({%(_)s'first': %(_)s'First Problem'})\"))\n \n test_counter = 0\n for validator, value, expected in TEST_DATA:"
        },
        {
            "sha": "4a6235e7d5341ed27444640e4f2902be4193c617",
            "filename": "tests/regressiontests/admin_custom_urls/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_custom_urls%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.urlresolvers import reverse\n from django.template.response import TemplateResponse\n@@ -39,9 +39,9 @@ def testBasicAddPost(self):\n         A smoke test to ensure POST on add_view works.\n         \"\"\"\n         post_data = {\n-            '_popup': u'1',\n-            \"name\": u'Action added through a popup',\n-            \"description\": u\"Description of added action\",\n+            '_popup': '1',\n+            \"name\": 'Action added through a popup',\n+            \"description\": \"Description of added action\",\n         }\n         response = self.client.post('/custom_urls/admin/admin_custom_urls/action/!add/', post_data)\n         self.assertEqual(response.status_code, 200)"
        },
        {
            "sha": "371c67061f2435e7dd0b4b2d4ad3773f2ca386e9",
            "filename": "tests/regressiontests/admin_filters/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib.auth.models import User\n from django.db import models\n \n@@ -9,7 +11,7 @@ class Book(models.Model):\n     contributors = models.ManyToManyField(User, verbose_name=\"Verbose Contributors\", related_name='books_contributed', blank=True, null=True)\n     is_best_seller = models.NullBooleanField(default=0)\n     date_registered = models.DateField(null=True)\n-    no = models.IntegerField(verbose_name=u'number', blank=True, null=True) # This field is intentionally 2 characters long. See #16080.\n+    no = models.IntegerField(verbose_name='number', blank=True, null=True) # This field is intentionally 2 characters long. See #16080.\n \n     def __unicode__(self):\n         return self.title\n@@ -27,4 +29,4 @@ class Employee(models.Model):\n     name = models.CharField(max_length=100)\n \n     def __unicode__(self):\n-        return self.name\n\\ No newline at end of file\n+        return self.name"
        },
        {
            "sha": "72cc5d7ee5c77bb0c25a1403a31e43844cedfa3e",
            "filename": "tests/regressiontests/admin_filters/tests.py",
            "status": "modified",
            "additions": 46,
            "deletions": 46,
            "changes": 92,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -160,7 +160,7 @@ def test_datefieldlistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][4]\n-        self.assertEqual(force_unicode(filterspec.title), u'date registered')\n+        self.assertEqual(force_unicode(filterspec.title), 'date registered')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"Today\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?date_registered__gte=%s'\n@@ -181,7 +181,7 @@ def test_datefieldlistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][4]\n-        self.assertEqual(force_unicode(filterspec.title), u'date registered')\n+        self.assertEqual(force_unicode(filterspec.title), 'date registered')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"This month\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?date_registered__gte=%s'\n@@ -202,7 +202,7 @@ def test_datefieldlistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][4]\n-        self.assertEqual(force_unicode(filterspec.title), u'date registered')\n+        self.assertEqual(force_unicode(filterspec.title), 'date registered')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"This year\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?date_registered__gte=%s'\n@@ -219,7 +219,7 @@ def test_datefieldlistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][4]\n-        self.assertEqual(force_unicode(filterspec.title), u'date registered')\n+        self.assertEqual(force_unicode(filterspec.title), 'date registered')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"Past 7 days\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?date_registered__gte=%s'\n@@ -243,7 +243,7 @@ def test_allvaluesfieldlistfilter(self):\n \n         # Make sure the last choice is None and is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'year')\n+        self.assertEqual(force_unicode(filterspec.title), 'year')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[-1]['selected'], True)\n         self.assertEqual(choices[-1]['query_string'], '?year__isnull=True')\n@@ -253,7 +253,7 @@ def test_allvaluesfieldlistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'year')\n+        self.assertEqual(force_unicode(filterspec.title), 'year')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[2]['selected'], True)\n         self.assertEqual(choices[2]['query_string'], '?year=2002')\n@@ -270,7 +270,7 @@ def test_relatedfieldlistfilter_foreignkey(self):\n \n         # Make sure the last choice is None and is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'Verbose Author')\n+        self.assertEqual(force_unicode(filterspec.title), 'Verbose Author')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[-1]['selected'], True)\n         self.assertEqual(choices[-1]['query_string'], '?author__isnull=True')\n@@ -280,7 +280,7 @@ def test_relatedfieldlistfilter_foreignkey(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'Verbose Author')\n+        self.assertEqual(force_unicode(filterspec.title), 'Verbose Author')\n         # order of choices depends on User model, which has no order\n         choice = select_by(filterspec.choices(changelist), \"display\", \"alfred\")\n         self.assertEqual(choice['selected'], True)\n@@ -298,7 +298,7 @@ def test_relatedfieldlistfilter_manytomany(self):\n \n         # Make sure the last choice is None and is selected\n         filterspec = changelist.get_filters(request)[0][2]\n-        self.assertEqual(force_unicode(filterspec.title), u'Verbose Contributors')\n+        self.assertEqual(force_unicode(filterspec.title), 'Verbose Contributors')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[-1]['selected'], True)\n         self.assertEqual(choices[-1]['query_string'], '?contributors__isnull=True')\n@@ -308,7 +308,7 @@ def test_relatedfieldlistfilter_manytomany(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][2]\n-        self.assertEqual(force_unicode(filterspec.title), u'Verbose Contributors')\n+        self.assertEqual(force_unicode(filterspec.title), 'Verbose Contributors')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"bob\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?contributors__id__exact=%d' % self.bob.pk)\n@@ -326,7 +326,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n \n         # Make sure the last choice is None and is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'book')\n+        self.assertEqual(force_unicode(filterspec.title), 'book')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[-1]['selected'], True)\n         self.assertEqual(choices[-1]['query_string'], '?books_authored__isnull=True')\n@@ -336,7 +336,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'book')\n+        self.assertEqual(force_unicode(filterspec.title), 'book')\n         choice = select_by(filterspec.choices(changelist), \"display\", self.bio_book.title)\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?books_authored__id__exact=%d' % self.bio_book.pk)\n@@ -351,7 +351,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n \n         # Make sure the last choice is None and is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'book')\n+        self.assertEqual(force_unicode(filterspec.title), 'book')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[-1]['selected'], True)\n         self.assertEqual(choices[-1]['query_string'], '?books_contributed__isnull=True')\n@@ -361,7 +361,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'book')\n+        self.assertEqual(force_unicode(filterspec.title), 'book')\n         choice = select_by(filterspec.choices(changelist), \"display\", self.django_book.title)\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?books_contributed__id__exact=%d' % self.django_book.pk)\n@@ -387,7 +387,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][3]\n-        self.assertEqual(force_unicode(filterspec.title), u'is best seller')\n+        self.assertEqual(force_unicode(filterspec.title), 'is best seller')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"No\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?is_best_seller__exact=0')\n@@ -401,7 +401,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][3]\n-        self.assertEqual(force_unicode(filterspec.title), u'is best seller')\n+        self.assertEqual(force_unicode(filterspec.title), 'is best seller')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"Yes\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?is_best_seller__exact=1')\n@@ -415,7 +415,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][3]\n-        self.assertEqual(force_unicode(filterspec.title), u'is best seller')\n+        self.assertEqual(force_unicode(filterspec.title), 'is best seller')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"Unknown\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?is_best_seller__isnull=True')\n@@ -434,9 +434,9 @@ def test_simplelistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[0]['display'], u'All')\n+        self.assertEqual(choices[0]['display'], 'All')\n         self.assertEqual(choices[0]['selected'], True)\n         self.assertEqual(choices[0]['query_string'], '?')\n \n@@ -451,9 +451,9 @@ def test_simplelistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[1]['display'], u'the 1980\\'s')\n+        self.assertEqual(choices[1]['display'], 'the 1980\\'s')\n         self.assertEqual(choices[1]['selected'], True)\n         self.assertEqual(choices[1]['query_string'], '?publication-decade=the+80s')\n \n@@ -468,9 +468,9 @@ def test_simplelistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[2]['display'], u'the 1990\\'s')\n+        self.assertEqual(choices[2]['display'], 'the 1990\\'s')\n         self.assertEqual(choices[2]['selected'], True)\n         self.assertEqual(choices[2]['query_string'], '?publication-decade=the+90s')\n \n@@ -485,9 +485,9 @@ def test_simplelistfilter(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[3]['display'], u'the 2000\\'s')\n+        self.assertEqual(choices[3]['display'], 'the 2000\\'s')\n         self.assertEqual(choices[3]['selected'], True)\n         self.assertEqual(choices[3]['query_string'], '?publication-decade=the+00s')\n \n@@ -502,14 +502,14 @@ def test_simplelistfilter(self):\n \n         # Make sure the correct choices are selected\n         filterspec = changelist.get_filters(request)[0][1]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[3]['display'], u'the 2000\\'s')\n+        self.assertEqual(choices[3]['display'], 'the 2000\\'s')\n         self.assertEqual(choices[3]['selected'], True)\n         self.assertEqual(choices[3]['query_string'], '?publication-decade=the+00s&author__id__exact=%s' % self.alfred.pk)\n \n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'Verbose Author')\n+        self.assertEqual(force_unicode(filterspec.title), 'Verbose Author')\n         choice = select_by(filterspec.choices(changelist), \"display\", \"alfred\")\n         self.assertEqual(choice['selected'], True)\n         self.assertEqual(choice['query_string'], '?publication-decade=the+00s&author__id__exact=%s' % self.alfred.pk)\n@@ -561,19 +561,19 @@ def test_simplelistfilter_with_queryset_based_lookups(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(len(choices), 3)\n \n-        self.assertEqual(choices[0]['display'], u'All')\n+        self.assertEqual(choices[0]['display'], 'All')\n         self.assertEqual(choices[0]['selected'], True)\n         self.assertEqual(choices[0]['query_string'], '?')\n \n-        self.assertEqual(choices[1]['display'], u'the 1990\\'s')\n+        self.assertEqual(choices[1]['display'], 'the 1990\\'s')\n         self.assertEqual(choices[1]['selected'], False)\n         self.assertEqual(choices[1]['query_string'], '?publication-decade=the+90s')\n \n-        self.assertEqual(choices[2]['display'], u'the 2000\\'s')\n+        self.assertEqual(choices[2]['display'], 'the 2000\\'s')\n         self.assertEqual(choices[2]['selected'], False)\n         self.assertEqual(choices[2]['query_string'], '?publication-decade=the+00s')\n \n@@ -591,7 +591,7 @@ def test_two_characters_long_field(self):\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         filterspec = changelist.get_filters(request)[0][-1]\n-        self.assertEqual(force_unicode(filterspec.title), u'number')\n+        self.assertEqual(force_unicode(filterspec.title), 'number')\n         choices = list(filterspec.choices(changelist))\n         self.assertEqual(choices[2]['selected'], True)\n         self.assertEqual(choices[2]['query_string'], '?no=207')\n@@ -614,9 +614,9 @@ def test_parameter_ends_with__in__or__isnull(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[2]['display'], u'the 1990\\'s')\n+        self.assertEqual(choices[2]['display'], 'the 1990\\'s')\n         self.assertEqual(choices[2]['selected'], True)\n         self.assertEqual(choices[2]['query_string'], '?decade__in=the+90s')\n \n@@ -631,9 +631,9 @@ def test_parameter_ends_with__in__or__isnull(self):\n \n         # Make sure the correct choice is selected\n         filterspec = changelist.get_filters(request)[0][0]\n-        self.assertEqual(force_unicode(filterspec.title), u'publication decade')\n+        self.assertEqual(force_unicode(filterspec.title), 'publication decade')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[2]['display'], u'the 1990\\'s')\n+        self.assertEqual(choices[2]['display'], 'the 1990\\'s')\n         self.assertEqual(choices[2]['selected'], True)\n         self.assertEqual(choices[2]['query_string'], '?decade__isnull=the+90s')\n \n@@ -657,18 +657,18 @@ def test_fk_with_to_field(self):\n         self.assertEqual(list(queryset), [jack, john])\n \n         filterspec = changelist.get_filters(request)[0][-1]\n-        self.assertEqual(force_unicode(filterspec.title), u'department')\n+        self.assertEqual(force_unicode(filterspec.title), 'department')\n         choices = list(filterspec.choices(changelist))\n \n-        self.assertEqual(choices[0]['display'], u'All')\n+        self.assertEqual(choices[0]['display'], 'All')\n         self.assertEqual(choices[0]['selected'], True)\n         self.assertEqual(choices[0]['query_string'], '?')\n \n-        self.assertEqual(choices[1]['display'], u'Development')\n+        self.assertEqual(choices[1]['display'], 'Development')\n         self.assertEqual(choices[1]['selected'], False)\n         self.assertEqual(choices[1]['query_string'], '?department__code__exact=DEV')\n \n-        self.assertEqual(choices[2]['display'], u'Design')\n+        self.assertEqual(choices[2]['display'], 'Design')\n         self.assertEqual(choices[2]['selected'], False)\n         self.assertEqual(choices[2]['query_string'], '?department__code__exact=DSN')\n \n@@ -682,17 +682,17 @@ def test_fk_with_to_field(self):\n         self.assertEqual(list(queryset), [john])\n \n         filterspec = changelist.get_filters(request)[0][-1]\n-        self.assertEqual(force_unicode(filterspec.title), u'department')\n+        self.assertEqual(force_unicode(filterspec.title), 'department')\n         choices = list(filterspec.choices(changelist))\n \n-        self.assertEqual(choices[0]['display'], u'All')\n+        self.assertEqual(choices[0]['display'], 'All')\n         self.assertEqual(choices[0]['selected'], False)\n         self.assertEqual(choices[0]['query_string'], '?')\n \n-        self.assertEqual(choices[1]['display'], u'Development')\n+        self.assertEqual(choices[1]['display'], 'Development')\n         self.assertEqual(choices[1]['selected'], True)\n         self.assertEqual(choices[1]['query_string'], '?department__code__exact=DEV')\n \n-        self.assertEqual(choices[2]['display'], u'Design')\n+        self.assertEqual(choices[2]['display'], 'Design')\n         self.assertEqual(choices[2]['selected'], False)\n         self.assertEqual(choices[2]['query_string'], '?department__code__exact=DSN')"
        },
        {
            "sha": "d7526d602054750659346d5eedae351f54502250",
            "filename": "tests/regressiontests/admin_inlines/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,6 +2,8 @@\n Testing of admin inline formsets.\n \n \"\"\"\n+from __future__ import unicode_literals\n+\n from django.db import models\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.contenttypes import generic\n@@ -30,7 +32,7 @@ class Child(models.Model):\n     parent = generic.GenericForeignKey()\n \n     def __unicode__(self):\n-        return u'I am %s, a child of %s' % (self.name, self.parent)\n+        return 'I am %s, a child of %s' % (self.name, self.parent)\n \n \n class Book(models.Model):\n@@ -145,4 +147,4 @@ class ProfileCollection(models.Model):\n class Profile(models.Model):\n     collection = models.ForeignKey(ProfileCollection, blank=True, null=True)\n     first_name = models.CharField(max_length=100)\n-    last_name = models.CharField(max_length=100)\n\\ No newline at end of file\n+    last_name = models.CharField(max_length=100)"
        },
        {
            "sha": "94790af56c0ebca77192b8badee98c0e02e06f21",
            "filename": "tests/regressiontests/admin_inlines/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_inlines%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.admin.tests import AdminSeleniumWebDriverTestCase\n from django.contrib.admin.helpers import InlineAdminForm\n@@ -67,7 +67,7 @@ def test_inline_primary(self):\n             'shoppingweakness_set-TOTAL_FORMS': 1,\n             'shoppingweakness_set-INITIAL_FORMS': 0,\n             'shoppingweakness_set-MAX_NUM_FORMS': 0,\n-            '_save': u'Save',\n+            '_save': 'Save',\n             'person': person.id,\n             'max_weight': 0,\n             'shoppingweakness_set-0-item': item.id,\n@@ -85,7 +85,7 @@ def test_tabular_non_field_errors(self):\n             'title_set-TOTAL_FORMS': 1,\n             'title_set-INITIAL_FORMS': 0,\n             'title_set-MAX_NUM_FORMS': 0,\n-            '_save': u'Save',\n+            '_save': 'Save',\n             'title_set-0-title1': 'a title',\n             'title_set-0-title2': 'a different title',\n         }\n@@ -235,8 +235,8 @@ def setUp(self):\n         permission = Permission.objects.get(codename='change_holder2', content_type=self.holder_ct)\n         self.user.user_permissions.add(permission)\n \n-        author = Author.objects.create(pk=1, name=u'The Author')\n-        book = author.books.create(name=u'The inline Book')\n+        author = Author.objects.create(pk=1, name='The Author')\n+        book = author.books.create(name='The inline Book')\n         self.author_change_url = '/admin/admin_inlines/author/%i/' % author.id\n         # Get the ID of the automatically created intermediate model for thw Author-Book m2m\n         author_book_auto_m2m_intermediate = Author.books.through.objects.get(author=author, book=book)"
        },
        {
            "sha": "faae834f93056eb2472a61dd5556843c5440fc7a",
            "filename": "tests/regressiontests/admin_ordering/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_ordering%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_ordering%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_ordering%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.test import TestCase, RequestFactory\n from django.contrib.admin.options import ModelAdmin\n@@ -42,7 +42,7 @@ def test_default_ordering(self):\n         \"\"\"\n         ma = ModelAdmin(Band, None)\n         names = [b.name for b in ma.queryset(request)]\n-        self.assertEqual([u'Aerosmith', u'Radiohead', u'Van Halen'], names)\n+        self.assertEqual(['Aerosmith', 'Radiohead', 'Van Halen'], names)\n \n     def test_specified_ordering(self):\n         \"\"\"\n@@ -53,7 +53,7 @@ class BandAdmin(ModelAdmin):\n             ordering = ('rank',) # default ordering is ('name',)\n         ma = BandAdmin(Band, None)\n         names = [b.name for b in ma.queryset(request)]\n-        self.assertEqual([u'Radiohead', u'Van Halen', u'Aerosmith'], names)\n+        self.assertEqual(['Radiohead', 'Van Halen', 'Aerosmith'], names)\n \n     def test_dynamic_ordering(self):\n         \"\"\"\n@@ -65,10 +65,10 @@ def test_dynamic_ordering(self):\n         request.user = super_user\n         ma = DynOrderingBandAdmin(Band, None)\n         names = [b.name for b in ma.queryset(request)]\n-        self.assertEqual([u'Radiohead', u'Van Halen', u'Aerosmith'], names)\n+        self.assertEqual(['Radiohead', 'Van Halen', 'Aerosmith'], names)\n         request.user = other_user\n         names = [b.name for b in ma.queryset(request)]\n-        self.assertEqual([u'Aerosmith', u'Radiohead', u'Van Halen'], names)\n+        self.assertEqual(['Aerosmith', 'Radiohead', 'Van Halen'], names)\n \n \n class TestInlineModelAdminOrdering(TestCase):\n@@ -95,12 +95,12 @@ def test_default_ordering(self):\n         \"\"\"\n         inline = SongInlineDefaultOrdering(self.b, None)\n         names = [s.name for s in inline.queryset(request)]\n-        self.assertEqual([u'Dude (Looks Like a Lady)', u'Jaded', u'Pink'], names)\n+        self.assertEqual(['Dude (Looks Like a Lady)', 'Jaded', 'Pink'], names)\n \n     def test_specified_ordering(self):\n         \"\"\"\n         Let's check with ordering set to something different than the default.\n         \"\"\"\n         inline = SongInlineNewOrdering(self.b, None)\n         names = [s.name for s in inline.queryset(request)]\n-        self.assertEqual([u'Jaded', u'Pink', u'Dude (Looks Like a Lady)'], names)\n+        self.assertEqual(['Jaded', 'Pink', 'Dude (Looks Like a Lady)'], names)"
        },
        {
            "sha": "ba2be363ca6797a7e2745e3b7450ea1e293231c0",
            "filename": "tests/regressiontests/admin_util/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_util%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_util%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_util%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from datetime import datetime\n \n@@ -138,7 +138,7 @@ def test_null_display_for_field(self):\n         # Regression test for #13071: NullBooleanField has special\n         # handling.\n         display_value = display_for_field(None, models.NullBooleanField())\n-        expected = u'<img src=\"%sadmin/img/icon-unknown.gif\" alt=\"None\" />' % settings.STATIC_URL\n+        expected = '<img src=\"%sadmin/img/icon-unknown.gif\" alt=\"None\" />' % settings.STATIC_URL\n         self.assertEqual(display_value, expected)\n \n         display_value = display_for_field(None, models.DecimalField())"
        },
        {
            "sha": "01a19e6373530a0ffa3f818b7a169f5017ce0c29",
            "filename": "tests/regressiontests/admin_views/admin.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import tempfile\n import os\n@@ -171,12 +171,12 @@ def queryset(self, request):\n \n class FooAccount(Account):\n     \"\"\"A service-specific account of type Foo.\"\"\"\n-    servicename = u'foo'\n+    servicename = 'foo'\n \n \n class BarAccount(Account):\n     \"\"\"A service-specific account of type Bar.\"\"\"\n-    servicename = u'bar'\n+    servicename = 'bar'\n \n \n class FooAccountAdmin(admin.StackedInline):"
        },
        {
            "sha": "5aa775656bc890e3e15f07e8cba179c9a70e0cc5",
            "filename": "tests/regressiontests/admin_views/models.py",
            "status": "modified",
            "additions": 21,
            "deletions": 19,
            "changes": 40,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,6 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n+\n import datetime\n import tempfile\n import os\n@@ -40,22 +42,22 @@ class Book(models.Model):\n     \"\"\"\n     A simple book that has chapters.\n     \"\"\"\n-    name = models.CharField(max_length=100, verbose_name=u'¿Name?')\n+    name = models.CharField(max_length=100, verbose_name='¿Name?')\n \n     def __unicode__(self):\n         return self.name\n \n \n class Promo(models.Model):\n-    name = models.CharField(max_length=100, verbose_name=u'¿Name?')\n+    name = models.CharField(max_length=100, verbose_name='¿Name?')\n     book = models.ForeignKey(Book)\n \n     def __unicode__(self):\n         return self.name\n \n \n class Chapter(models.Model):\n-    title = models.CharField(max_length=100, verbose_name=u'¿Title?')\n+    title = models.CharField(max_length=100, verbose_name='¿Title?')\n     content = models.TextField()\n     book = models.ForeignKey(Book)\n \n@@ -68,19 +70,19 @@ class Meta:\n \n \n class ChapterXtra1(models.Model):\n-    chap = models.OneToOneField(Chapter, verbose_name=u'¿Chap?')\n-    xtra = models.CharField(max_length=100, verbose_name=u'¿Xtra?')\n+    chap = models.OneToOneField(Chapter, verbose_name='¿Chap?')\n+    xtra = models.CharField(max_length=100, verbose_name='¿Xtra?')\n \n     def __unicode__(self):\n-        return u'¿Xtra1: %s' % self.xtra\n+        return '¿Xtra1: %s' % self.xtra\n \n \n class ChapterXtra2(models.Model):\n-    chap = models.OneToOneField(Chapter, verbose_name=u'¿Chap?')\n-    xtra = models.CharField(max_length=100, verbose_name=u'¿Xtra?')\n+    chap = models.OneToOneField(Chapter, verbose_name='¿Chap?')\n+    xtra = models.CharField(max_length=100, verbose_name='¿Xtra?')\n \n     def __unicode__(self):\n-        return u'¿Xtra2: %s' % self.xtra\n+        return '¿Xtra2: %s' % self.xtra\n \n \n class RowLevelChangePermissionModel(models.Model):\n@@ -130,7 +132,7 @@ class Inquisition(models.Model):\n     country = models.CharField(max_length=20)\n \n     def __unicode__(self):\n-        return u\"by %s from %s\" % (self.leader, self.country)\n+        return \"by %s from %s\" % (self.leader, self.country)\n \n \n class Sketch(models.Model):\n@@ -187,20 +189,20 @@ class Account(models.Model):\n     \"\"\"\n     username = models.CharField(blank=False,  max_length=80)\n     persona = models.ForeignKey(Persona, related_name=\"accounts\")\n-    servicename = u'generic service'\n+    servicename = 'generic service'\n \n     def __unicode__(self):\n         return \"%s: %s\" % (self.servicename, self.username)\n \n \n class FooAccount(Account):\n     \"\"\"A service-specific account of type Foo.\"\"\"\n-    servicename = u'foo'\n+    servicename = 'foo'\n \n \n class BarAccount(Account):\n     \"\"\"A service-specific account of type Bar.\"\"\"\n-    servicename = u'bar'\n+    servicename = 'bar'\n \n \n class Subscriber(models.Model):\n@@ -335,7 +337,7 @@ class Meta:\n         ordering = ('order',)\n \n     def __unicode__(self):\n-        return u'%s:o%s' % (self.id, self.order)\n+        return '%s:o%s' % (self.id, self.order)\n \n \n class Link(models.Model):\n@@ -493,14 +495,14 @@ class Reservation(models.Model):\n \n \n DRIVER_CHOICES = (\n-    (u'bill', 'Bill G'),\n-    (u'steve', 'Steve J'),\n+    ('bill', 'Bill G'),\n+    ('steve', 'Steve J'),\n )\n \n RESTAURANT_CHOICES = (\n-    (u'indian', u'A Taste of India'),\n-    (u'thai', u'Thai Pography'),\n-    (u'pizza', u'Pizza Mama'),\n+    ('indian', 'A Taste of India'),\n+    ('thai', 'Thai Pography'),\n+    ('pizza', 'Pizza Mama'),\n )\n \n "
        },
        {
            "sha": "e220011fdc4af68504b9174539ec2a6b66590b0b",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 133,
            "deletions": 134,
            "changes": 267,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n # coding: utf-8\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import os\n import re\n@@ -119,11 +119,11 @@ def testBasicAddPost(self):\n         A smoke test to ensure POST on add_view works.\n         \"\"\"\n         post_data = {\n-            \"name\": u\"Another Section\",\n+            \"name\": \"Another Section\",\n             # inline data\n-            \"article_set-TOTAL_FORMS\": u\"3\",\n-            \"article_set-INITIAL_FORMS\": u\"0\",\n-            \"article_set-MAX_NUM_FORMS\": u\"0\",\n+            \"article_set-TOTAL_FORMS\": \"3\",\n+            \"article_set-INITIAL_FORMS\": \"0\",\n+            \"article_set-MAX_NUM_FORMS\": \"0\",\n         }\n         response = self.client.post('/test_admin/%s/admin_views/section/add/' % self.urlbit, post_data)\n         self.assertEqual(response.status_code, 302) # redirect somewhere\n@@ -133,56 +133,56 @@ def testPopupAddPost(self):\n         Ensure http response from a popup is properly escaped.\n         \"\"\"\n         post_data = {\n-            '_popup': u'1',\n-            'title': u'title with a new\\nline',\n-            'content': u'some content',\n-            'date_0': u'2010-09-10',\n-            'date_1': u'14:55:39',\n+            '_popup': '1',\n+            'title': 'title with a new\\nline',\n+            'content': 'some content',\n+            'date_0': '2010-09-10',\n+            'date_1': '14:55:39',\n         }\n         response = self.client.post('/test_admin/%s/admin_views/article/add/' % self.urlbit, post_data)\n         self.assertEqual(response.status_code, 200)\n         self.assertContains(response, 'dismissAddAnotherPopup')\n-        self.assertContains(response, 'title with a new\\u000Aline')\n+        self.assertContains(response, 'title with a new\\\\u000Aline')\n \n     # Post data for edit inline\n     inline_post_data = {\n-        \"name\": u\"Test section\",\n+        \"name\": \"Test section\",\n         # inline data\n-        \"article_set-TOTAL_FORMS\": u\"6\",\n-        \"article_set-INITIAL_FORMS\": u\"3\",\n-        \"article_set-MAX_NUM_FORMS\": u\"0\",\n-        \"article_set-0-id\": u\"1\",\n+        \"article_set-TOTAL_FORMS\": \"6\",\n+        \"article_set-INITIAL_FORMS\": \"3\",\n+        \"article_set-MAX_NUM_FORMS\": \"0\",\n+        \"article_set-0-id\": \"1\",\n         # there is no title in database, give one here or formset will fail.\n-        \"article_set-0-title\": u\"Norske bostaver æøå skaper problemer\",\n-        \"article_set-0-content\": u\"&lt;p&gt;Middle content&lt;/p&gt;\",\n-        \"article_set-0-date_0\": u\"2008-03-18\",\n-        \"article_set-0-date_1\": u\"11:54:58\",\n-        \"article_set-0-section\": u\"1\",\n-        \"article_set-1-id\": u\"2\",\n-        \"article_set-1-title\": u\"Need a title.\",\n-        \"article_set-1-content\": u\"&lt;p&gt;Oldest content&lt;/p&gt;\",\n-        \"article_set-1-date_0\": u\"2000-03-18\",\n-        \"article_set-1-date_1\": u\"11:54:58\",\n-        \"article_set-2-id\": u\"3\",\n-        \"article_set-2-title\": u\"Need a title.\",\n-        \"article_set-2-content\": u\"&lt;p&gt;Newest content&lt;/p&gt;\",\n-        \"article_set-2-date_0\": u\"2009-03-18\",\n-        \"article_set-2-date_1\": u\"11:54:58\",\n-        \"article_set-3-id\": u\"\",\n-        \"article_set-3-title\": u\"\",\n-        \"article_set-3-content\": u\"\",\n-        \"article_set-3-date_0\": u\"\",\n-        \"article_set-3-date_1\": u\"\",\n-        \"article_set-4-id\": u\"\",\n-        \"article_set-4-title\": u\"\",\n-        \"article_set-4-content\": u\"\",\n-        \"article_set-4-date_0\": u\"\",\n-        \"article_set-4-date_1\": u\"\",\n-        \"article_set-5-id\": u\"\",\n-        \"article_set-5-title\": u\"\",\n-        \"article_set-5-content\": u\"\",\n-        \"article_set-5-date_0\": u\"\",\n-        \"article_set-5-date_1\": u\"\",\n+        \"article_set-0-title\": \"Norske bostaver æøå skaper problemer\",\n+        \"article_set-0-content\": \"&lt;p&gt;Middle content&lt;/p&gt;\",\n+        \"article_set-0-date_0\": \"2008-03-18\",\n+        \"article_set-0-date_1\": \"11:54:58\",\n+        \"article_set-0-section\": \"1\",\n+        \"article_set-1-id\": \"2\",\n+        \"article_set-1-title\": \"Need a title.\",\n+        \"article_set-1-content\": \"&lt;p&gt;Oldest content&lt;/p&gt;\",\n+        \"article_set-1-date_0\": \"2000-03-18\",\n+        \"article_set-1-date_1\": \"11:54:58\",\n+        \"article_set-2-id\": \"3\",\n+        \"article_set-2-title\": \"Need a title.\",\n+        \"article_set-2-content\": \"&lt;p&gt;Newest content&lt;/p&gt;\",\n+        \"article_set-2-date_0\": \"2009-03-18\",\n+        \"article_set-2-date_1\": \"11:54:58\",\n+        \"article_set-3-id\": \"\",\n+        \"article_set-3-title\": \"\",\n+        \"article_set-3-content\": \"\",\n+        \"article_set-3-date_0\": \"\",\n+        \"article_set-3-date_1\": \"\",\n+        \"article_set-4-id\": \"\",\n+        \"article_set-4-title\": \"\",\n+        \"article_set-4-content\": \"\",\n+        \"article_set-4-date_0\": \"\",\n+        \"article_set-4-date_1\": \"\",\n+        \"article_set-5-id\": \"\",\n+        \"article_set-5-title\": \"\",\n+        \"article_set-5-content\": \"\",\n+        \"article_set-5-date_0\": \"\",\n+        \"article_set-5-date_1\": \"\",\n     }\n \n     def testBasicEditPost(self):\n@@ -198,12 +198,12 @@ def testEditSaveAs(self):\n         \"\"\"\n         post_data = self.inline_post_data.copy()\n         post_data.update({\n-            '_saveasnew': u'Save+as+new',\n-            \"article_set-1-section\": u\"1\",\n-            \"article_set-2-section\": u\"1\",\n-            \"article_set-3-section\": u\"1\",\n-            \"article_set-4-section\": u\"1\",\n-            \"article_set-5-section\": u\"1\",\n+            '_saveasnew': 'Save+as+new',\n+            \"article_set-1-section\": \"1\",\n+            \"article_set-2-section\": \"1\",\n+            \"article_set-3-section\": \"1\",\n+            \"article_set-4-section\": \"1\",\n+            \"article_set-5-section\": \"1\",\n         })\n         response = self.client.post('/test_admin/%s/admin_views/section/1/' % self.urlbit, post_data)\n         self.assertEqual(response.status_code, 302) # redirect somewhere\n@@ -1029,14 +1029,13 @@ def testChangeView(self):\n         # one error in form should produce singular error message, multiple errors plural\n         change_dict['title'] = ''\n         post = self.client.post('/test_admin/admin/admin_views/article/1/', change_dict)\n-        self.assertEqual(request.status_code, 200)\n-        self.assertTrue('Please correct the error below.' in post.content,\n-                        'Singular error message not found in response to post with one error.')\n+        self.assertContains(post, 'Please correct the error below.',\n+            msg_prefix='Singular error message not found in response to post with one error')\n+\n         change_dict['content'] = ''\n         post = self.client.post('/test_admin/admin/admin_views/article/1/', change_dict)\n-        self.assertEqual(request.status_code, 200)\n-        self.assertTrue('Please correct the errors below.' in post.content,\n-                        'Plural error message not found in response to post with multiple errors.')\n+        self.assertContains(post, 'Please correct the errors below.',\n+            msg_prefix='Plural error message not found in response to post with multiple errors')\n         self.client.get('/test_admin/admin/logout/')\n \n         # Test redirection when using row-level change permissions. Refs #11513.\n@@ -1167,7 +1166,7 @@ def testDeleteView(self):\n         self.assertEqual(mail.outbox[0].subject, 'Greetings from a deleted object')\n         article_ct = ContentType.objects.get_for_model(Article)\n         logged = LogEntry.objects.get(content_type=article_ct, action_flag=DELETION)\n-        self.assertEqual(logged.object_id, u'1')\n+        self.assertEqual(logged.object_id, '1')\n         self.client.get('/test_admin/admin/logout/')\n \n     def testDisabledPermissionsWhenLoggedIn(self):\n@@ -1601,29 +1600,29 @@ def testUnicodeEdit(self):\n         A test to ensure that POST on edit_view handles non-ascii characters.\n         \"\"\"\n         post_data = {\n-            \"name\": u\"Test lærdommer\",\n+            \"name\": \"Test lærdommer\",\n             # inline data\n-            \"chapter_set-TOTAL_FORMS\": u\"6\",\n-            \"chapter_set-INITIAL_FORMS\": u\"3\",\n-            \"chapter_set-MAX_NUM_FORMS\": u\"0\",\n-            \"chapter_set-0-id\": u\"1\",\n-            \"chapter_set-0-title\": u\"Norske bostaver æøå skaper problemer\",\n-            \"chapter_set-0-content\": u\"&lt;p&gt;Svært frustrerende med UnicodeDecodeError&lt;/p&gt;\",\n-            \"chapter_set-1-id\": u\"2\",\n-            \"chapter_set-1-title\": u\"Kjærlighet.\",\n-            \"chapter_set-1-content\": u\"&lt;p&gt;La kjærligheten til de lidende seire.&lt;/p&gt;\",\n-            \"chapter_set-2-id\": u\"3\",\n-            \"chapter_set-2-title\": u\"Need a title.\",\n-            \"chapter_set-2-content\": u\"&lt;p&gt;Newest content&lt;/p&gt;\",\n-            \"chapter_set-3-id\": u\"\",\n-            \"chapter_set-3-title\": u\"\",\n-            \"chapter_set-3-content\": u\"\",\n-            \"chapter_set-4-id\": u\"\",\n-            \"chapter_set-4-title\": u\"\",\n-            \"chapter_set-4-content\": u\"\",\n-            \"chapter_set-5-id\": u\"\",\n-            \"chapter_set-5-title\": u\"\",\n-            \"chapter_set-5-content\": u\"\",\n+            \"chapter_set-TOTAL_FORMS\": \"6\",\n+            \"chapter_set-INITIAL_FORMS\": \"3\",\n+            \"chapter_set-MAX_NUM_FORMS\": \"0\",\n+            \"chapter_set-0-id\": \"1\",\n+            \"chapter_set-0-title\": \"Norske bostaver æøå skaper problemer\",\n+            \"chapter_set-0-content\": \"&lt;p&gt;Svært frustrerende med UnicodeDecodeError&lt;/p&gt;\",\n+            \"chapter_set-1-id\": \"2\",\n+            \"chapter_set-1-title\": \"Kjærlighet.\",\n+            \"chapter_set-1-content\": \"&lt;p&gt;La kjærligheten til de lidende seire.&lt;/p&gt;\",\n+            \"chapter_set-2-id\": \"3\",\n+            \"chapter_set-2-title\": \"Need a title.\",\n+            \"chapter_set-2-content\": \"&lt;p&gt;Newest content&lt;/p&gt;\",\n+            \"chapter_set-3-id\": \"\",\n+            \"chapter_set-3-title\": \"\",\n+            \"chapter_set-3-content\": \"\",\n+            \"chapter_set-4-id\": \"\",\n+            \"chapter_set-4-title\": \"\",\n+            \"chapter_set-4-content\": \"\",\n+            \"chapter_set-5-id\": \"\",\n+            \"chapter_set-5-title\": \"\",\n+            \"chapter_set-5-content\": \"\",\n         }\n \n         response = self.client.post('/test_admin/admin/admin_views/book/1/', post_data)\n@@ -1940,8 +1939,8 @@ def test_list_editable_action_submit(self):\n             \"form-2-id\": \"3\",\n \n             \"index\": \"0\",\n-            \"_selected_action\": [u'3'],\n-            \"action\": [u'', u'delete_selected'],\n+            \"_selected_action\": ['3'],\n+            \"action\": ['', 'delete_selected'],\n         }\n         self.client.post('/test_admin/admin/admin_views/person/', data)\n \n@@ -1967,8 +1966,8 @@ def test_list_editable_action_choices(self):\n             \"form-2-id\": \"3\",\n \n             \"_save\": \"Save\",\n-            \"_selected_action\": [u'1'],\n-            \"action\": [u'', u'delete_selected'],\n+            \"_selected_action\": ['1'],\n+            \"action\": ['', 'delete_selected'],\n         }\n         self.client.post('/test_admin/admin/admin_views/person/', data)\n \n@@ -2077,8 +2076,8 @@ def tearDown(self):\n     def testInline(self):\n         \"Ensure that inline models which inherit from a common parent are correctly handled by admin.\"\n \n-        foo_user = u\"foo username\"\n-        bar_user = u\"bar username\"\n+        foo_user = \"foo username\"\n+        bar_user = \"bar username\"\n \n         name_re = re.compile('name=\"(.*?)\"')\n \n@@ -2090,15 +2089,15 @@ def testInline(self):\n \n         # test the add case\n         post_data = {\n-            \"name\": u\"Test Name\",\n+            \"name\": \"Test Name\",\n             # inline data\n-            \"accounts-TOTAL_FORMS\": u\"1\",\n-            \"accounts-INITIAL_FORMS\": u\"0\",\n-            \"accounts-MAX_NUM_FORMS\": u\"0\",\n+            \"accounts-TOTAL_FORMS\": \"1\",\n+            \"accounts-INITIAL_FORMS\": \"0\",\n+            \"accounts-MAX_NUM_FORMS\": \"0\",\n             \"accounts-0-username\": foo_user,\n-            \"accounts-2-TOTAL_FORMS\": u\"1\",\n-            \"accounts-2-INITIAL_FORMS\": u\"0\",\n-            \"accounts-2-MAX_NUM_FORMS\": u\"0\",\n+            \"accounts-2-TOTAL_FORMS\": \"1\",\n+            \"accounts-2-INITIAL_FORMS\": \"0\",\n+            \"accounts-2-MAX_NUM_FORMS\": \"0\",\n             \"accounts-2-0-username\": bar_user,\n         }\n \n@@ -2123,19 +2122,19 @@ def testInline(self):\n         self.assertEqual(len(names), len(set(names)))\n \n         post_data = {\n-            \"name\": u\"Test Name\",\n+            \"name\": \"Test Name\",\n \n             \"accounts-TOTAL_FORMS\": \"2\",\n-            \"accounts-INITIAL_FORMS\": u\"1\",\n-            \"accounts-MAX_NUM_FORMS\": u\"0\",\n+            \"accounts-INITIAL_FORMS\": \"1\",\n+            \"accounts-MAX_NUM_FORMS\": \"0\",\n \n             \"accounts-0-username\": \"%s-1\" % foo_user,\n             \"accounts-0-account_ptr\": str(foo_id),\n             \"accounts-0-persona\": str(persona_id),\n \n-            \"accounts-2-TOTAL_FORMS\": u\"2\",\n-            \"accounts-2-INITIAL_FORMS\": u\"1\",\n-            \"accounts-2-MAX_NUM_FORMS\": u\"0\",\n+            \"accounts-2-TOTAL_FORMS\": \"2\",\n+            \"accounts-2-INITIAL_FORMS\": \"1\",\n+            \"accounts-2-MAX_NUM_FORMS\": \"0\",\n \n             \"accounts-2-0-username\": \"%s-1\" % bar_user,\n             \"accounts-2-0-account_ptr\": str(bar_id),\n@@ -2387,7 +2386,7 @@ def test_custom_changelist(self):\n         Validate that a custom ChangeList class can be used (#9749)\n         \"\"\"\n         # Insert some data\n-        post_data = {\"name\": u\"First Gadget\"}\n+        post_data = {\"name\": \"First Gadget\"}\n         response = self.client.post('/test_admin/%s/admin_views/gadget/add/' % self.urlbit, post_data)\n         self.assertEqual(response.status_code, 302) # redirect somewhere\n         # Hit the page once to get messages out of the queue message list\n@@ -2444,12 +2443,12 @@ def test_change_view(self):\n \n     def test_add_model_modeladmin_only_qs(self):\n         # only() is used in ModelAdmin.queryset()\n-        p = Paper.objects.create(title=u\"My Paper Title\")\n+        p = Paper.objects.create(title=\"My Paper Title\")\n         self.assertEqual(Paper.objects.count(), 1)\n         response = self.client.get('/test_admin/admin/admin_views/paper/%s/' % p.pk)\n         self.assertEqual(response.status_code, 200)\n         post_data = {\n-            \"title\": u\"My Modified Paper Title\",\n+            \"title\": \"My Modified Paper Title\",\n             \"_save\": \"Save\",\n         }\n         response = self.client.post('/test_admin/admin/admin_views/paper/%s/' % p.pk,\n@@ -2459,12 +2458,12 @@ def test_add_model_modeladmin_only_qs(self):\n         self.assertContains(response, '<li class=\"info\">The paper &quot;Paper_Deferred_author object&quot; was changed successfully.</li>', html=True)\n \n         # defer() is used in ModelAdmin.queryset()\n-        cl = CoverLetter.objects.create(author=u\"John Doe\")\n+        cl = CoverLetter.objects.create(author=\"John Doe\")\n         self.assertEqual(CoverLetter.objects.count(), 1)\n         response = self.client.get('/test_admin/admin/admin_views/coverletter/%s/' % cl.pk)\n         self.assertEqual(response.status_code, 200)\n         post_data = {\n-            \"author\": u\"John Doe II\",\n+            \"author\": \"John Doe II\",\n             \"_save\": \"Save\",\n         }\n         response = self.client.post('/test_admin/admin/admin_views/coverletter/%s/' % cl.pk,\n@@ -2503,10 +2502,10 @@ def test_inline_file_upload_edit_validation_error_post(self):\n         Test that inline file uploads correctly display prior data (#10002).\n         \"\"\"\n         post_data = {\n-            \"name\": u\"Test Gallery\",\n-            \"pictures-TOTAL_FORMS\": u\"2\",\n-            \"pictures-INITIAL_FORMS\": u\"1\",\n-            \"pictures-MAX_NUM_FORMS\": u\"0\",\n+            \"name\": \"Test Gallery\",\n+            \"pictures-TOTAL_FORMS\": \"2\",\n+            \"pictures-INITIAL_FORMS\": \"1\",\n+            \"pictures-MAX_NUM_FORMS\": \"0\",\n             \"pictures-0-id\": unicode(self.picture.id),\n             \"pictures-0-gallery\": unicode(self.gallery.id),\n             \"pictures-0-name\": \"Test Picture\",\n@@ -2527,11 +2526,11 @@ class AdminInlineTests(TestCase):\n \n     def setUp(self):\n         self.post_data = {\n-            \"name\": u\"Test Name\",\n+            \"name\": \"Test Name\",\n \n             \"widget_set-TOTAL_FORMS\": \"3\",\n-            \"widget_set-INITIAL_FORMS\": u\"0\",\n-            \"widget_set-MAX_NUM_FORMS\": u\"0\",\n+            \"widget_set-INITIAL_FORMS\": \"0\",\n+            \"widget_set-MAX_NUM_FORMS\": \"0\",\n             \"widget_set-0-id\": \"\",\n             \"widget_set-0-owner\": \"1\",\n             \"widget_set-0-name\": \"\",\n@@ -2543,8 +2542,8 @@ def setUp(self):\n             \"widget_set-2-name\": \"\",\n \n             \"doohickey_set-TOTAL_FORMS\": \"3\",\n-            \"doohickey_set-INITIAL_FORMS\": u\"0\",\n-            \"doohickey_set-MAX_NUM_FORMS\": u\"0\",\n+            \"doohickey_set-INITIAL_FORMS\": \"0\",\n+            \"doohickey_set-MAX_NUM_FORMS\": \"0\",\n             \"doohickey_set-0-owner\": \"1\",\n             \"doohickey_set-0-code\": \"\",\n             \"doohickey_set-0-name\": \"\",\n@@ -2556,8 +2555,8 @@ def setUp(self):\n             \"doohickey_set-2-name\": \"\",\n \n             \"grommet_set-TOTAL_FORMS\": \"3\",\n-            \"grommet_set-INITIAL_FORMS\": u\"0\",\n-            \"grommet_set-MAX_NUM_FORMS\": u\"0\",\n+            \"grommet_set-INITIAL_FORMS\": \"0\",\n+            \"grommet_set-MAX_NUM_FORMS\": \"0\",\n             \"grommet_set-0-code\": \"\",\n             \"grommet_set-0-owner\": \"1\",\n             \"grommet_set-0-name\": \"\",\n@@ -2569,8 +2568,8 @@ def setUp(self):\n             \"grommet_set-2-name\": \"\",\n \n             \"whatsit_set-TOTAL_FORMS\": \"3\",\n-            \"whatsit_set-INITIAL_FORMS\": u\"0\",\n-            \"whatsit_set-MAX_NUM_FORMS\": u\"0\",\n+            \"whatsit_set-INITIAL_FORMS\": \"0\",\n+            \"whatsit_set-MAX_NUM_FORMS\": \"0\",\n             \"whatsit_set-0-owner\": \"1\",\n             \"whatsit_set-0-index\": \"\",\n             \"whatsit_set-0-name\": \"\",\n@@ -2582,8 +2581,8 @@ def setUp(self):\n             \"whatsit_set-2-name\": \"\",\n \n             \"fancydoodad_set-TOTAL_FORMS\": \"3\",\n-            \"fancydoodad_set-INITIAL_FORMS\": u\"0\",\n-            \"fancydoodad_set-MAX_NUM_FORMS\": u\"0\",\n+            \"fancydoodad_set-INITIAL_FORMS\": \"0\",\n+            \"fancydoodad_set-MAX_NUM_FORMS\": \"0\",\n             \"fancydoodad_set-0-doodad_ptr\": \"\",\n             \"fancydoodad_set-0-owner\": \"1\",\n             \"fancydoodad_set-0-name\": \"\",\n@@ -2969,7 +2968,7 @@ def test_basic(self):\n         # Main form ----------------------------------------------------------\n         self.selenium.find_element_by_css_selector('#id_pubdate').send_keys('2012-02-18')\n         self.get_select_option('#id_status', 'option two').click()\n-        self.selenium.find_element_by_css_selector('#id_name').send_keys(u' this is the mAin nÀMë and it\\'s awεšome')\n+        self.selenium.find_element_by_css_selector('#id_name').send_keys(' this is the mAin nÀMë and it\\'s awεšome')\n         slug1 = self.selenium.find_element_by_css_selector('#id_slug1').get_attribute('value')\n         slug2 = self.selenium.find_element_by_css_selector('#id_slug2').get_attribute('value')\n         self.assertEqual(slug1, 'main-name-and-its-awesome-2012-02-18')\n@@ -2979,7 +2978,7 @@ def test_basic(self):\n         # Initial inline\n         self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-0-pubdate').send_keys('2011-12-17')\n         self.get_select_option('#id_relatedprepopulated_set-0-status', 'option one').click()\n-        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-0-name').send_keys(u' here is a sŤāÇkeð   inline !  ')\n+        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-0-name').send_keys(' here is a sŤāÇkeð   inline !  ')\n         slug1 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-0-slug1').get_attribute('value')\n         slug2 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-0-slug2').get_attribute('value')\n         self.assertEqual(slug1, 'here-stacked-inline-2011-12-17')\n@@ -2989,7 +2988,7 @@ def test_basic(self):\n         self.selenium.find_elements_by_link_text('Add another Related Prepopulated')[0].click()\n         self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-1-pubdate').send_keys('1999-01-25')\n         self.get_select_option('#id_relatedprepopulated_set-1-status', 'option two').click()\n-        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-1-name').send_keys(u' now you haVe anöther   sŤāÇkeð  inline with a very ... loooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooog text... ')\n+        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-1-name').send_keys(' now you haVe anöther   sŤāÇkeð  inline with a very ... loooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooog text... ')\n         slug1 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-1-slug1').get_attribute('value')\n         slug2 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-1-slug2').get_attribute('value')\n         self.assertEqual(slug1, 'now-you-have-another-stacked-inline-very-loooooooo') # 50 characters maximum for slug1 field\n@@ -2999,7 +2998,7 @@ def test_basic(self):\n         # Initial inline\n         self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-0-pubdate').send_keys('1234-12-07')\n         self.get_select_option('#id_relatedprepopulated_set-2-0-status', 'option two').click()\n-        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-0-name').send_keys(u'And now, with a tÃbűlaŘ inline !!!')\n+        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-0-name').send_keys('And now, with a tÃbűlaŘ inline !!!')\n         slug1 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-0-slug1').get_attribute('value')\n         slug2 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-0-slug2').get_attribute('value')\n         self.assertEqual(slug1, 'and-now-tabular-inline-1234-12-07')\n@@ -3009,7 +3008,7 @@ def test_basic(self):\n         self.selenium.find_elements_by_link_text('Add another Related Prepopulated')[1].click()\n         self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-1-pubdate').send_keys('1981-08-22')\n         self.get_select_option('#id_relatedprepopulated_set-2-1-status', 'option one').click()\n-        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-1-name').send_keys(u'a tÃbűlaŘ inline with ignored ;\"&*^\\%$#@-/`~ characters')\n+        self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-1-name').send_keys('a tÃbűlaŘ inline with ignored ;\"&*^\\%$#@-/`~ characters')\n         slug1 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-1-slug1').get_attribute('value')\n         slug2 = self.selenium.find_element_by_css_selector('#id_relatedprepopulated_set-2-1-slug2').get_attribute('value')\n         self.assertEqual(slug1, 'tabular-inline-ignored-characters-1981-08-22')\n@@ -3029,36 +3028,36 @@ def test_basic(self):\n \n         self.assertEqual(MainPrepopulated.objects.all().count(), 1)\n         MainPrepopulated.objects.get(\n-            name=u' this is the mAin nÀMë and it\\'s awεšome',\n+            name=' this is the mAin nÀMë and it\\'s awεšome',\n             pubdate='2012-02-18',\n             status='option two',\n             slug1='main-name-and-its-awesome-2012-02-18',\n             slug2='option-two-main-name-and-its-awesome',\n         )\n         self.assertEqual(RelatedPrepopulated.objects.all().count(), 4)\n         RelatedPrepopulated.objects.get(\n-            name=u' here is a sŤāÇkeð   inline !  ',\n+            name=' here is a sŤāÇkeð   inline !  ',\n             pubdate='2011-12-17',\n             status='option one',\n             slug1='here-stacked-inline-2011-12-17',\n             slug2='option-one-here-stacked-inline',\n         )\n         RelatedPrepopulated.objects.get(\n-            name=u' now you haVe anöther   sŤāÇkeð  inline with a very ... loooooooooooooooooo', # 75 characters in name field\n+            name=' now you haVe anöther   sŤāÇkeð  inline with a very ... loooooooooooooooooo', # 75 characters in name field\n             pubdate='1999-01-25',\n             status='option two',\n             slug1='now-you-have-another-stacked-inline-very-loooooooo',\n             slug2='option-two-now-you-have-another-stacked-inline-very-looooooo',\n         )\n         RelatedPrepopulated.objects.get(\n-            name=u'And now, with a tÃbűlaŘ inline !!!',\n+            name='And now, with a tÃbűlaŘ inline !!!',\n             pubdate='1234-12-07',\n             status='option two',\n             slug1='and-now-tabular-inline-1234-12-07',\n             slug2='option-two-and-now-tabular-inline',\n         )\n         RelatedPrepopulated.objects.get(\n-            name=u'a tÃbűlaŘ inline with ignored ;\"&*^\\%$#@-/`~ characters',\n+            name='a tÃbűlaŘ inline with ignored ;\"&*^\\%$#@-/`~ characters',\n             pubdate='1981-08-22',\n             status='option one',\n             slug1='tabular-inline-ignored-characters-1981-08-22',\n@@ -3230,7 +3229,7 @@ def test_password_mismatch(self):\n         adminform = response.context['adminform']\n         self.assertTrue('password' not in adminform.form.errors)\n         self.assertEqual(adminform.form.errors['password2'],\n-                          [u\"The two password fields didn't match.\"])\n+                          [\"The two password fields didn't match.\"])\n \n     def test_user_fk_popup(self):\n         \"\"\"Quick user addition in a FK popup shouldn't invoke view for further user customization\"\"\"\n@@ -3569,7 +3568,7 @@ def test_should_be_able_to_edit_related_objects_on_add_view(self):\n         children_names = list(Child.objects.order_by('name').values_list('name', flat=True))\n \n         self.assertEqual('Josh Stone', Parent.objects.latest('id').name)\n-        self.assertEqual([u'Catherine Stone', u'Paul Stone'], children_names)\n+        self.assertEqual(['Catherine Stone', 'Paul Stone'], children_names)\n \n     def test_should_be_able_to_edit_related_objects_on_change_view(self):\n         parent = Parent.objects.create(name='Josh Stone')\n@@ -3589,7 +3588,7 @@ def test_should_be_able_to_edit_related_objects_on_change_view(self):\n         children_names = list(Child.objects.order_by('name').values_list('name', flat=True))\n \n         self.assertEqual('Josh Stone', Parent.objects.latest('id').name)\n-        self.assertEqual([u'Catherine Stone', u'Paul Stone'], children_names)\n+        self.assertEqual(['Catherine Stone', 'Paul Stone'], children_names)\n \n     def test_should_be_able_to_edit_related_objects_on_changelist_view(self):\n         parent = Parent.objects.create(name='Josh Rock')\n@@ -3608,7 +3607,7 @@ def test_should_be_able_to_edit_related_objects_on_changelist_view(self):\n         children_names = list(Child.objects.order_by('name').values_list('name', flat=True))\n \n         self.assertEqual('Josh Stone', Parent.objects.latest('id').name)\n-        self.assertEqual([u'Catherine Stone', u'Paul Stone'], children_names)\n+        self.assertEqual(['Catherine Stone', 'Paul Stone'], children_names)\n \n \n @override_settings(PASSWORD_HASHERS=('django.contrib.auth.hashers.SHA1PasswordHasher',))"
        },
        {
            "sha": "81a4ec7abaf3da0fc28aa86d87afa37413f02e0a",
            "filename": "tests/regressiontests/admin_widgets/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.db import models\n from django.contrib.auth.models import User\n \n@@ -60,7 +62,7 @@ class Car(models.Model):\n     model = models.CharField(max_length=30)\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.make, self.model)\n+        return \"%s %s\" % (self.make, self.model)\n \n class CarTire(models.Model):\n     \"\"\""
        },
        {
            "sha": "4b115431c18dbc62995f0d932137f455b720d403",
            "filename": "tests/regressiontests/admin_widgets/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n # encoding: utf-8\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from datetime import datetime\n \n@@ -169,7 +169,7 @@ def test_nonexistent_target_id(self):\n         pk = band.pk\n         band.delete()\n         post_data = {\n-            \"band\": u'%s' % pk,\n+            \"band\": '%s' % pk,\n         }\n         # Try posting with a non-existent pk in a raw id field: this\n         # should result in an error message, not a server exception.\n@@ -379,10 +379,10 @@ def test_render(self):\n \n         self.assertEqual(w._has_changed(None, None), False)\n         self.assertEqual(w._has_changed([], None), False)\n-        self.assertEqual(w._has_changed(None, [u'1']), True)\n-        self.assertEqual(w._has_changed([1, 2], [u'1', u'2']), False)\n-        self.assertEqual(w._has_changed([1, 2], [u'1']), True)\n-        self.assertEqual(w._has_changed([1, 2], [u'1', u'3']), True)\n+        self.assertEqual(w._has_changed(None, ['1']), True)\n+        self.assertEqual(w._has_changed([1, 2], ['1', '2']), False)\n+        self.assertEqual(w._has_changed([1, 2], ['1']), True)\n+        self.assertEqual(w._has_changed([1, 2], ['1', '3']), True)\n \n     def test_m2m_related_model_not_in_admin(self):\n         # M2M relationship with model not registered with admin site. Raw ID"
        },
        {
            "sha": "e5f12e5781c2f63ed28b48e1a3faae8f4439e96f",
            "filename": "tests/regressiontests/aggregation_regress/tests.py",
            "status": "modified",
            "additions": 42,
            "deletions": 42,
            "changes": 84,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import pickle\n@@ -119,7 +119,7 @@ def test_annotation(self):\n         self.assertObjectAttrs(obj,\n             contact_id=3,\n             id=2,\n-            isbn=u'067232959',\n+            isbn='067232959',\n             mean_auth_age=45.0,\n             name='Sams Teach Yourself Django in 24 Hours',\n             pages=528,\n@@ -136,9 +136,9 @@ def test_annotation(self):\n         self.assertObjectAttrs(obj,\n             contact_id=3,\n             id=2,\n-            isbn=u'067232959',\n+            isbn='067232959',\n             mean_auth_age=45.0,\n-            name=u'Sams Teach Yourself Django in 24 Hours',\n+            name='Sams Teach Yourself Django in 24 Hours',\n             pages=528,\n             price=Decimal(\"23.09\"),\n             pubdate=datetime.date(2008, 3, 3),\n@@ -156,9 +156,9 @@ def test_annotation(self):\n         self.assertEqual(obj, {\n             \"contact_id\": 3,\n             \"id\": 2,\n-            \"isbn\": u\"067232959\",\n+            \"isbn\": \"067232959\",\n             \"mean_auth_age\": 45.0,\n-            \"name\": u\"Sams Teach Yourself Django in 24 Hours\",\n+            \"name\": \"Sams Teach Yourself Django in 24 Hours\",\n             \"pages\": 528,\n             \"price\": Decimal(\"23.09\"),\n             \"pubdate\": datetime.date(2008, 3, 3),\n@@ -175,9 +175,9 @@ def test_annotation(self):\n         self.assertEqual(obj, {\n             'contact_id': 3,\n             'id': 2,\n-            'isbn': u'067232959',\n+            'isbn': '067232959',\n             'mean_auth_age': 45.0,\n-            'name': u'Sams Teach Yourself Django in 24 Hours',\n+            'name': 'Sams Teach Yourself Django in 24 Hours',\n             'pages': 528,\n             'price': Decimal(\"23.09\"),\n             'pubdate': datetime.date(2008, 3, 3),\n@@ -189,21 +189,21 @@ def test_annotation(self):\n         # unless it is explicitly named\n         obj = Book.objects.annotate(mean_auth_age=Avg('authors__age')).extra(select={'price_per_page' : 'price / pages'}).values('name').get(pk=1)\n         self.assertEqual(obj, {\n-            \"name\": u'The Definitive Guide to Django: Web Development Done Right',\n+            \"name\": 'The Definitive Guide to Django: Web Development Done Right',\n         })\n \n         obj = Book.objects.annotate(mean_auth_age=Avg('authors__age')).extra(select={'price_per_page' : 'price / pages'}).values('name','mean_auth_age').get(pk=1)\n         self.assertEqual(obj, {\n             'mean_auth_age': 34.5,\n-            'name': u'The Definitive Guide to Django: Web Development Done Right',\n+            'name': 'The Definitive Guide to Django: Web Development Done Right',\n         })\n \n         # If an annotation isn't included in the values, it can still be used\n         # in a filter\n         qs = Book.objects.annotate(n_authors=Count('authors')).values('name').filter(n_authors__gt=2)\n         self.assertQuerysetEqual(\n             qs, [\n-                {\"name\": u'Python Web Development with Django'}\n+                {\"name\": 'Python Web Development with Django'}\n             ],\n             lambda b: b,\n         )\n@@ -213,7 +213,7 @@ def test_annotation(self):\n         obj = Book.objects.values('name').annotate(mean_auth_age=Avg('authors__age')).extra(select={'price_per_page' : 'price / pages'}).get(pk=1)\n         self.assertEqual(obj, {\n             'mean_auth_age': 34.5,\n-            'name': u'The Definitive Guide to Django: Web Development Done Right',\n+            'name': 'The Definitive Guide to Django: Web Development Done Right',\n         })\n \n         # Check that all of the objects are getting counted (allow_nulls) and\n@@ -298,8 +298,8 @@ def test_more(self):\n         self.assertEqual(obj, {\n             'contact_id': 8,\n             'id': 5,\n-            'isbn': u'013790395',\n-            'name': u'Artificial Intelligence: A Modern Approach',\n+            'isbn': '013790395',\n+            'name': 'Artificial Intelligence: A Modern Approach',\n             'num_authors': 2,\n             'pages': 1132,\n             'price': Decimal(\"82.8\"),\n@@ -338,18 +338,18 @@ def test_aggregate_fexpr(self):\n         qs = Publisher.objects.annotate(num_books=Count('book')).filter(num_books__lt=F('num_awards')/2).order_by('name').values('name','num_books','num_awards')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'num_books': 1, 'name': u'Morgan Kaufmann', 'num_awards': 9},\n-                {'num_books': 2, 'name': u'Prentice Hall', 'num_awards': 7}\n+                {'num_books': 1, 'name': 'Morgan Kaufmann', 'num_awards': 9},\n+                {'num_books': 2, 'name': 'Prentice Hall', 'num_awards': 7}\n             ],\n             lambda p: p,\n         )\n \n         qs = Publisher.objects.annotate(num_books=Count('book')).exclude(num_books__lt=F('num_awards')/2).order_by('name').values('name','num_books','num_awards')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'num_books': 2, 'name': u'Apress', 'num_awards': 3},\n-                {'num_books': 0, 'name': u\"Jonno's House of Books\", 'num_awards': 0},\n-                {'num_books': 1, 'name': u'Sams', 'num_awards': 1}\n+                {'num_books': 2, 'name': 'Apress', 'num_awards': 3},\n+                {'num_books': 0, 'name': \"Jonno's House of Books\", 'num_awards': 0},\n+                {'num_books': 1, 'name': 'Sams', 'num_awards': 1}\n             ],\n             lambda p: p,\n         )\n@@ -358,18 +358,18 @@ def test_aggregate_fexpr(self):\n         qs = Publisher.objects.annotate(num_books=Count('book')).filter(num_awards__gt=2*F('num_books')).order_by('name').values('name','num_books','num_awards')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'num_books': 1, 'name': u'Morgan Kaufmann', 'num_awards': 9},\n-                {'num_books': 2, 'name': u'Prentice Hall', 'num_awards': 7}\n+                {'num_books': 1, 'name': 'Morgan Kaufmann', 'num_awards': 9},\n+                {'num_books': 2, 'name': 'Prentice Hall', 'num_awards': 7}\n             ],\n             lambda p: p,\n         )\n \n         qs = Publisher.objects.annotate(num_books=Count('book')).exclude(num_books__lt=F('num_awards')/2).order_by('name').values('name','num_books','num_awards')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'num_books': 2, 'name': u'Apress', 'num_awards': 3},\n-                {'num_books': 0, 'name': u\"Jonno's House of Books\", 'num_awards': 0},\n-                {'num_books': 1, 'name': u'Sams', 'num_awards': 1}\n+                {'num_books': 2, 'name': 'Apress', 'num_awards': 3},\n+                {'num_books': 0, 'name': \"Jonno's House of Books\", 'num_awards': 0},\n+                {'num_books': 1, 'name': 'Sams', 'num_awards': 1}\n             ],\n             lambda p: p,\n         )\n@@ -399,7 +399,7 @@ def test_empty(self):\n         qs = Publisher.objects.filter(pk=5).annotate(num_authors=Count('book__authors'), avg_authors=Avg('book__authors'), max_authors=Max('book__authors'), max_price=Max('book__price'), max_rating=Max('book__rating')).values()\n         self.assertQuerysetEqual(\n             qs, [\n-                {'max_authors': None, 'name': u\"Jonno's House of Books\", 'num_awards': 0, 'max_price': None, 'num_authors': 0, 'max_rating': None, 'id': 5, 'avg_authors': None}\n+                {'max_authors': None, 'name': \"Jonno's House of Books\", 'num_awards': 0, 'max_price': None, 'num_authors': 0, 'max_rating': None, 'id': 5, 'avg_authors': None}\n             ],\n             lambda p: p\n         )\n@@ -424,10 +424,10 @@ def test_more_more(self):\n         qs = Book.objects.filter(rating__lt=4.5).select_related().annotate(Avg('authors__age'))\n         self.assertQuerysetEqual(\n             qs, [\n-                (u'Artificial Intelligence: A Modern Approach', 51.5, u'Prentice Hall', u'Peter Norvig'),\n-                (u'Practical Django Projects', 29.0, u'Apress', u'James Bennett'),\n-                (u'Python Web Development with Django', Approximate(30.333, places=2), u'Prentice Hall', u'Jeffrey Forcier'),\n-                (u'Sams Teach Yourself Django in 24 Hours', 45.0, u'Sams', u'Brad Dayley')\n+                ('Artificial Intelligence: A Modern Approach', 51.5, 'Prentice Hall', 'Peter Norvig'),\n+                ('Practical Django Projects', 29.0, 'Apress', 'James Bennett'),\n+                ('Python Web Development with Django', Approximate(30.333, places=2), 'Prentice Hall', 'Jeffrey Forcier'),\n+                ('Sams Teach Yourself Django in 24 Hours', 45.0, 'Sams', 'Brad Dayley')\n             ],\n             lambda b: (b.name, b.authors__age__avg, b.publisher.name, b.contact.name)\n         )\n@@ -491,19 +491,19 @@ def test_values_queryset_non_conflict(self):\n         # But age isn't included in the ValuesQuerySet, so it is.\n         results = Author.objects.values('name').annotate(age=Count('book_contact_set')).order_by('name')\n         self.assertEqual(len(results), 9)\n-        self.assertEqual(results[0]['name'], u'Adrian Holovaty')\n+        self.assertEqual(results[0]['name'], 'Adrian Holovaty')\n         self.assertEqual(results[0]['age'], 1)\n \n         # Same problem, but aggregating over m2m fields\n         results = Author.objects.values('name').annotate(age=Avg('friends__age')).order_by('name')\n         self.assertEqual(len(results), 9)\n-        self.assertEqual(results[0]['name'], u'Adrian Holovaty')\n+        self.assertEqual(results[0]['name'], 'Adrian Holovaty')\n         self.assertEqual(results[0]['age'], 32.0)\n \n         # Same problem, but colliding with an m2m field\n         results = Author.objects.values('name').annotate(friends=Count('friends')).order_by('name')\n         self.assertEqual(len(results), 9)\n-        self.assertEqual(results[0]['name'], u'Adrian Holovaty')\n+        self.assertEqual(results[0]['name'], 'Adrian Holovaty')\n         self.assertEqual(results[0]['friends'], 2)\n \n     def test_reverse_relation_name_conflict(self):\n@@ -531,12 +531,12 @@ def test_more_more_more(self):\n         books.aggregate(Avg(\"authors__age\"))\n         self.assertQuerysetEqual(\n             books.all(), [\n-                u'Artificial Intelligence: A Modern Approach',\n-                u'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp',\n-                u'Practical Django Projects',\n-                u'Python Web Development with Django',\n-                u'Sams Teach Yourself Django in 24 Hours',\n-                u'The Definitive Guide to Django: Web Development Done Right'\n+                'Artificial Intelligence: A Modern Approach',\n+                'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp',\n+                'Practical Django Projects',\n+                'Python Web Development with Django',\n+                'Sams Teach Yourself Django in 24 Hours',\n+                'The Definitive Guide to Django: Web Development Done Right'\n             ],\n             lambda b: b.name\n         )\n@@ -632,17 +632,17 @@ def test_more_more_more(self):\n         qs = HardbackBook.objects.annotate(n_authors=Count('book_ptr__authors')).values('name', 'n_authors')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'n_authors': 2, 'name': u'Artificial Intelligence: A Modern Approach'},\n-                {'n_authors': 1, 'name': u'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp'}\n+                {'n_authors': 2, 'name': 'Artificial Intelligence: A Modern Approach'},\n+                {'n_authors': 1, 'name': 'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp'}\n             ],\n             lambda h: h\n         )\n \n         qs = HardbackBook.objects.annotate(n_authors=Count('authors')).values('name', 'n_authors')\n         self.assertQuerysetEqual(\n             qs, [\n-                {'n_authors': 2, 'name': u'Artificial Intelligence: A Modern Approach'},\n-                {'n_authors': 1, 'name': u'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp'}\n+                {'n_authors': 2, 'name': 'Artificial Intelligence: A Modern Approach'},\n+                {'n_authors': 1, 'name': 'Paradigms of Artificial Intelligence Programming: Case Studies in Common Lisp'}\n             ],\n             lambda h: h,\n         )"
        },
        {
            "sha": "af4952dce8332dd60c28e5ffd244e63f49b549cc",
            "filename": "tests/regressiontests/backends/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fbackends%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fbackends%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models, connection\n@@ -16,7 +18,7 @@ class Person(models.Model):\n     last_name = models.CharField(max_length=20)\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.first_name, self.last_name)\n+        return '%s %s' % (self.first_name, self.last_name)\n \n \n class SchoolClass(models.Model):\n@@ -58,7 +60,7 @@ class Reporter(models.Model):\n     last_name = models.CharField(max_length=30)\n \n     def __unicode__(self):\n-        return u\"%s %s\" % (self.first_name, self.last_name)\n+        return \"%s %s\" % (self.first_name, self.last_name)\n \n \n class Article(models.Model):"
        },
        {
            "sha": "2569a3236f9e6dde9ddde2f15bc79425d7f1d97c",
            "filename": "tests/regressiontests/backends/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,6 @@\n # -*- coding: utf-8 -*-\n # Unit and doctests for specific database backends.\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n import threading\n@@ -393,9 +393,9 @@ def test_unicode_fetches(self):\n              qn(f3.column)))\n         cursor = connection.cursor()\n         cursor.execute(query2)\n-        self.assertEqual(cursor.fetchone(), (u'Clark', u'Kent'))\n-        self.assertEqual(list(cursor.fetchmany(2)), [(u'Jane', u'Doe'), (u'John', u'Doe')])\n-        self.assertEqual(list(cursor.fetchall()), [(u'Mary', u'Agnelline'), (u'Peter', u'Parker')])\n+        self.assertEqual(cursor.fetchone(), ('Clark', 'Kent'))\n+        self.assertEqual(list(cursor.fetchmany(2)), [('Jane', 'Doe'), ('John', 'Doe')])\n+        self.assertEqual(list(cursor.fetchall()), [('Mary', 'Agnelline'), ('Peter', 'Parker')])\n \n     def test_database_operations_helper_class(self):\n         # Ticket #13630"
        },
        {
            "sha": "264ef74abd32d4adb476c02bfda8eb22e01c27f4",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -2,7 +2,7 @@\n \n # Unit tests for cache framework\n # Uses whatever cache backend is set in the test settings file.\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import hashlib\n import os\n@@ -139,10 +139,10 @@ def test_expiration(self):\n     def test_unicode(self):\n         \"Unicode values are ignored by the dummy cache\"\n         stuff = {\n-            u'ascii': u'ascii_value',\n-            u'unicode_ascii': u'Iñtërnâtiônàlizætiøn1',\n-            u'Iñtërnâtiônàlizætiøn': u'Iñtërnâtiônàlizætiøn2',\n-            u'ascii2': {u'x' : 1 }\n+            'ascii': 'ascii_value',\n+            'unicode_ascii': 'Iñtërnâtiônàlizætiøn1',\n+            'Iñtërnâtiônàlizætiøn': 'Iñtërnâtiônàlizætiøn2',\n+            'ascii2': {'x' : 1 }\n             }\n         for (key, value) in stuff.items():\n             self.cache.set(key, value)\n@@ -337,10 +337,10 @@ def test_expiration(self):\n     def test_unicode(self):\n         # Unicode values can be cached\n         stuff = {\n-            u'ascii': u'ascii_value',\n-            u'unicode_ascii': u'Iñtërnâtiônàlizætiøn1',\n-            u'Iñtërnâtiônàlizætiøn': u'Iñtërnâtiônàlizætiøn2',\n-            u'ascii2': {u'x' : 1 }\n+            'ascii': 'ascii_value',\n+            'unicode_ascii': 'Iñtërnâtiônàlizætiøn1',\n+            'Iñtërnâtiônàlizætiøn': 'Iñtërnâtiônàlizætiøn2',\n+            'ascii2': {'x' : 1 }\n             }\n         # Test `set`\n         for (key, value) in stuff.items():\n@@ -1337,12 +1337,12 @@ def tzname(self, dt):\n         request = self._get_request()\n         response = HttpResponse()\n         with timezone.override(CustomTzName()):\n-            CustomTzName.name = 'Hora estándar de Argentina'    # UTF-8 string\n+            CustomTzName.name = 'Hora estándar de Argentina'.encode('UTF-8') # UTF-8 string\n             sanitized_name = 'Hora_estndar_de_Argentina'\n             self.assertIn(sanitized_name, learn_cache_key(request, response),\n                     \"Cache keys should include the time zone name when time zones are active\")\n \n-            CustomTzName.name = u'Hora estándar de Argentina'    # unicode\n+            CustomTzName.name = 'Hora estándar de Argentina'    # unicode\n             sanitized_name = 'Hora_estndar_de_Argentina'\n             self.assertIn(sanitized_name, learn_cache_key(request, response),\n                     \"Cache keys should include the time zone name when time zones are active\")"
        },
        {
            "sha": "429f3b2bf2819d20339408e4d4b6d01675a88f65",
            "filename": "tests/regressiontests/comment_tests/tests/comment_view_tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fcomment_view_tests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fcomment_view_tests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fcomment_view_tests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import re\n \n@@ -54,7 +54,7 @@ def testPostInvalidIntegerPK(self):\n         a = Article.objects.get(pk=1)\n         data = self.getValidData(a)\n         data[\"comment\"] = \"This is another comment\"\n-        data[\"object_pk\"] = u'\\ufffd'\n+        data[\"object_pk\"] = '\\ufffd'\n         response = self.client.post(\"/post/\", data)\n         self.assertEqual(response.status_code, 400)\n \n@@ -258,7 +258,7 @@ def testCommentPostRedirectWithInvalidIntegerPK(self):\n         data[\"comment\"] = \"This is another comment\"\n         response = self.client.post(\"/post/\", data)\n         location = response[\"Location\"]\n-        broken_location = location + u\"\\ufffd\"\n+        broken_location = location + \"\\ufffd\"\n         response = self.client.get(broken_location)\n         self.assertEqual(response.status_code, 200)\n "
        },
        {
            "sha": "52fd3ea1c7ef4b2ec00bf899694fa09279c53018",
            "filename": "tests/regressiontests/csrf_tests/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n \n from django.conf import settings\n from django.core.context_processors import csrf\n@@ -11,7 +12,7 @@\n \n # Response/views used for CsrfResponseMiddleware and CsrfViewMiddleware tests\n def post_form_response():\n-    resp = HttpResponse(content=u\"\"\"\n+    resp = HttpResponse(content=\"\"\"\n <html><body><h1>\\u00a1Unicode!<form method=\"post\"><input type=\"text\" /></form></body></html>\n \"\"\", mimetype=\"text/html\")\n     return resp\n@@ -215,18 +216,18 @@ def test_token_node_no_csrf_cookie(self):\n         \"\"\"\n         req = self._get_GET_no_csrf_cookie_request()\n         resp = token_view(req)\n-        self.assertEqual(u\"\", resp.content)\n+        self.assertEqual(\"\", resp.content)\n \n     def test_token_node_empty_csrf_cookie(self):\n         \"\"\"\n         Check that we get a new token if the csrf_cookie is the empty string\n         \"\"\"\n         req = self._get_GET_no_csrf_cookie_request()\n-        req.COOKIES[settings.CSRF_COOKIE_NAME] = \"\"\n+        req.COOKIES[settings.CSRF_COOKIE_NAME] = b\"\"\n         CsrfViewMiddleware().process_view(req, token_view, (), {})\n         resp = token_view(req)\n \n-        self.assertNotEqual(u\"\", resp.content)\n+        self.assertNotEqual(\"\", resp.content)\n \n     def test_token_node_with_csrf_cookie(self):\n         \"\"\""
        },
        {
            "sha": "c768c127728ea26e7e0bd94bdff473c4a81120e0",
            "filename": "tests/regressiontests/custom_columns_regress/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -5,6 +5,7 @@\n table creation or queries.\n \n \"\"\"\n+from __future__ import unicode_literals\n \n from django.db import models\n \n@@ -27,7 +28,7 @@ class Author(models.Model):\n     last_name = models.CharField(max_length=30, db_column='last name')\n \n     def __unicode__(self):\n-        return u'%s %s' % (self.first_name, self.last_name)\n+        return '%s %s' % (self.first_name, self.last_name)\n \n     class Meta:\n         db_table = 'my author table'"
        },
        {
            "sha": "f8f6802041528aa4d7638026184353970862debf",
            "filename": "tests/regressiontests/datatypes/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fdatatypes%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fdatatypes%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdatatypes%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -62,7 +62,7 @@ def test_year_boundaries(self):\n         d2 = Donut.objects.create(name='Apple Fritter',\n             consumed_at = datetime.datetime(year=2007, month=4, day=20, hour=16, minute=19, second=59))\n \n-        self.assertEqual([u'Apple Fritter', u'Date Test 2007'],\n+        self.assertEqual(['Apple Fritter', 'Date Test 2007'],\n             list(Donut.objects.filter(consumed_at__year=2007).order_by('name').values_list('name', flat=True)))\n \n         self.assertEqual(0, Donut.objects.filter(consumed_at__year=2005).count())\n@@ -71,7 +71,7 @@ def test_year_boundaries(self):\n     def test_textfields_unicode(self):\n         \"\"\"Regression test for #10238: TextField values returned from the\n         database should be unicode.\"\"\"\n-        d = Donut.objects.create(name=u'Jelly Donut', review=u'Outstanding')\n+        d = Donut.objects.create(name='Jelly Donut', review='Outstanding')\n         newd = Donut.objects.get(id=d.id)\n         self.assertTrue(isinstance(newd.review, unicode))\n "
        },
        {
            "sha": "ffa0a01132a9094b74e9a922f3416a49e4268fdb",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 325,
            "deletions": 324,
            "changes": 649,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,5 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n \n import datetime\n import decimal\n@@ -12,39 +13,39 @@\n class DefaultFiltersTests(TestCase):\n \n     def test_floatformat(self):\n-        self.assertEqual(floatformat(7.7), u'7.7')\n-        self.assertEqual(floatformat(7.0), u'7')\n-        self.assertEqual(floatformat(0.7), u'0.7')\n-        self.assertEqual(floatformat(0.07), u'0.1')\n-        self.assertEqual(floatformat(0.007), u'0.0')\n-        self.assertEqual(floatformat(0.0), u'0')\n-        self.assertEqual(floatformat(7.7, 3), u'7.700')\n-        self.assertEqual(floatformat(6.000000, 3), u'6.000')\n-        self.assertEqual(floatformat(6.200000, 3), u'6.200')\n-        self.assertEqual(floatformat(6.200000, -3), u'6.200')\n-        self.assertEqual(floatformat(13.1031, -3), u'13.103')\n-        self.assertEqual(floatformat(11.1197, -2), u'11.12')\n-        self.assertEqual(floatformat(11.0000, -2), u'11')\n-        self.assertEqual(floatformat(11.000001, -2), u'11.00')\n-        self.assertEqual(floatformat(8.2798, 3), u'8.280')\n-        self.assertEqual(floatformat(5555.555, 2), u'5555.56')\n-        self.assertEqual(floatformat(001.3000, 2), u'1.30')\n-        self.assertEqual(floatformat(0.12345, 2), u'0.12')\n-        self.assertEqual(floatformat(decimal.Decimal('555.555'), 2), u'555.56')\n-        self.assertEqual(floatformat(decimal.Decimal('09.000')), u'9')\n-        self.assertEqual(floatformat(u'foo'), u'')\n-        self.assertEqual(floatformat(13.1031, u'bar'), u'13.1031')\n-        self.assertEqual(floatformat(18.125, 2), u'18.13')\n-        self.assertEqual(floatformat(u'foo', u'bar'), u'')\n-        self.assertEqual(floatformat(u'¿Cómo esta usted?'), u'')\n-        self.assertEqual(floatformat(None), u'')\n+        self.assertEqual(floatformat(7.7), '7.7')\n+        self.assertEqual(floatformat(7.0), '7')\n+        self.assertEqual(floatformat(0.7), '0.7')\n+        self.assertEqual(floatformat(0.07), '0.1')\n+        self.assertEqual(floatformat(0.007), '0.0')\n+        self.assertEqual(floatformat(0.0), '0')\n+        self.assertEqual(floatformat(7.7, 3), '7.700')\n+        self.assertEqual(floatformat(6.000000, 3), '6.000')\n+        self.assertEqual(floatformat(6.200000, 3), '6.200')\n+        self.assertEqual(floatformat(6.200000, -3), '6.200')\n+        self.assertEqual(floatformat(13.1031, -3), '13.103')\n+        self.assertEqual(floatformat(11.1197, -2), '11.12')\n+        self.assertEqual(floatformat(11.0000, -2), '11')\n+        self.assertEqual(floatformat(11.000001, -2), '11.00')\n+        self.assertEqual(floatformat(8.2798, 3), '8.280')\n+        self.assertEqual(floatformat(5555.555, 2), '5555.56')\n+        self.assertEqual(floatformat(001.3000, 2), '1.30')\n+        self.assertEqual(floatformat(0.12345, 2), '0.12')\n+        self.assertEqual(floatformat(decimal.Decimal('555.555'), 2), '555.56')\n+        self.assertEqual(floatformat(decimal.Decimal('09.000')), '9')\n+        self.assertEqual(floatformat('foo'), '')\n+        self.assertEqual(floatformat(13.1031, 'bar'), '13.1031')\n+        self.assertEqual(floatformat(18.125, 2), '18.13')\n+        self.assertEqual(floatformat('foo', 'bar'), '')\n+        self.assertEqual(floatformat('¿Cómo esta usted?'), '')\n+        self.assertEqual(floatformat(None), '')\n \n         # Check that we're not converting to scientific notation.\n-        self.assertEqual(floatformat(0, 6), u'0.000000')\n-        self.assertEqual(floatformat(0, 7), u'0.0000000')\n-        self.assertEqual(floatformat(0, 10), u'0.0000000000')\n+        self.assertEqual(floatformat(0, 6), '0.000000')\n+        self.assertEqual(floatformat(0, 7), '0.0000000')\n+        self.assertEqual(floatformat(0, 10), '0.0000000000')\n         self.assertEqual(floatformat(0.000000000000000000015, 20),\n-                                     u'0.00000000000000000002')\n+                                     '0.00000000000000000002')\n \n         pos_inf = float(1e30000)\n         self.assertEqual(floatformat(pos_inf), unicode(pos_inf))\n@@ -61,18 +62,18 @@ def __init__(self, value):\n             def __float__(self):\n                 return self.value\n \n-        self.assertEqual(floatformat(FloatWrapper(11.000001), -2), u'11.00')\n+        self.assertEqual(floatformat(FloatWrapper(11.000001), -2), '11.00')\n \n         # Regression for #15789\n         decimal_ctx = decimal.getcontext()\n         old_prec, decimal_ctx.prec = decimal_ctx.prec, 2\n         try:\n-            self.assertEqual(floatformat(1.2345, 2), u'1.23')\n-            self.assertEqual(floatformat(15.2042, -3), u'15.204')\n-            self.assertEqual(floatformat(1.2345, '2'), u'1.23')\n-            self.assertEqual(floatformat(15.2042, '-3'), u'15.204')\n-            self.assertEqual(floatformat(decimal.Decimal('1.2345'), 2), u'1.23')\n-            self.assertEqual(floatformat(decimal.Decimal('15.2042'), -3), u'15.204')\n+            self.assertEqual(floatformat(1.2345, 2), '1.23')\n+            self.assertEqual(floatformat(15.2042, -3), '15.204')\n+            self.assertEqual(floatformat(1.2345, '2'), '1.23')\n+            self.assertEqual(floatformat(15.2042, '-3'), '15.204')\n+            self.assertEqual(floatformat(decimal.Decimal('1.2345'), 2), '1.23')\n+            self.assertEqual(floatformat(decimal.Decimal('15.2042'), -3), '15.204')\n         finally:\n             decimal_ctx.prec = old_prec\n \n@@ -82,290 +83,290 @@ def __float__(self):\n     # unicode or Decimal.\n     @unittest.expectedFailure\n     def test_floatformat_fail(self):\n-        self.assertEqual(floatformat(1.00000000000000015, 16), u'1.0000000000000002')\n+        self.assertEqual(floatformat(1.00000000000000015, 16), '1.0000000000000002')\n \n     def test_addslashes(self):\n-        self.assertEqual(addslashes(u'\"double quotes\" and \\'single quotes\\''),\n-                          u'\\\\\"double quotes\\\\\" and \\\\\\'single quotes\\\\\\'')\n+        self.assertEqual(addslashes('\"double quotes\" and \\'single quotes\\''),\n+                          '\\\\\"double quotes\\\\\" and \\\\\\'single quotes\\\\\\'')\n \n-        self.assertEqual(addslashes(ur'\\ : backslashes, too'),\n-                          u'\\\\\\\\ : backslashes, too')\n+        self.assertEqual(addslashes(r'\\ : backslashes, too'),\n+                          '\\\\\\\\ : backslashes, too')\n \n     def test_capfirst(self):\n-        self.assertEqual(capfirst(u'hello world'), u'Hello world')\n+        self.assertEqual(capfirst('hello world'), 'Hello world')\n \n     def test_escapejs(self):\n-        self.assertEqual(escapejs_filter(u'\"double quotes\" and \\'single quotes\\''),\n-            u'\\\\u0022double quotes\\\\u0022 and \\\\u0027single quotes\\\\u0027')\n-        self.assertEqual(escapejs_filter(ur'\\ : backslashes, too'),\n-            u'\\\\u005C : backslashes, too')\n-        self.assertEqual(escapejs_filter(u'and lots of whitespace: \\r\\n\\t\\v\\f\\b'),\n-            u'and lots of whitespace: \\\\u000D\\\\u000A\\\\u0009\\\\u000B\\\\u000C\\\\u0008')\n-        self.assertEqual(escapejs_filter(ur'<script>and this</script>'),\n-            u'\\\\u003Cscript\\\\u003Eand this\\\\u003C/script\\\\u003E')\n+        self.assertEqual(escapejs_filter('\"double quotes\" and \\'single quotes\\''),\n+            '\\\\u0022double quotes\\\\u0022 and \\\\u0027single quotes\\\\u0027')\n+        self.assertEqual(escapejs_filter(r'\\ : backslashes, too'),\n+            '\\\\u005C : backslashes, too')\n+        self.assertEqual(escapejs_filter('and lots of whitespace: \\r\\n\\t\\v\\f\\b'),\n+            'and lots of whitespace: \\\\u000D\\\\u000A\\\\u0009\\\\u000B\\\\u000C\\\\u0008')\n+        self.assertEqual(escapejs_filter(r'<script>and this</script>'),\n+            '\\\\u003Cscript\\\\u003Eand this\\\\u003C/script\\\\u003E')\n         self.assertEqual(\n-            escapejs_filter(u'paragraph separator:\\u2029and line separator:\\u2028'),\n-            u'paragraph separator:\\\\u2029and line separator:\\\\u2028')\n+            escapejs_filter('paragraph separator:\\u2029and line separator:\\u2028'),\n+            'paragraph separator:\\\\u2029and line separator:\\\\u2028')\n \n     def test_fix_ampersands(self):\n-        self.assertEqual(fix_ampersands_filter(u'Jack & Jill & Jeroboam'),\n-                          u'Jack &amp; Jill &amp; Jeroboam')\n+        self.assertEqual(fix_ampersands_filter('Jack & Jill & Jeroboam'),\n+                          'Jack &amp; Jill &amp; Jeroboam')\n \n     def test_linenumbers(self):\n-        self.assertEqual(linenumbers(u'line 1\\nline 2'),\n-                          u'1. line 1\\n2. line 2')\n-        self.assertEqual(linenumbers(u'\\n'.join([u'x'] * 10)),\n-                          u'01. x\\n02. x\\n03. x\\n04. x\\n05. x\\n06. x\\n07. '\\\n-                          u'x\\n08. x\\n09. x\\n10. x')\n+        self.assertEqual(linenumbers('line 1\\nline 2'),\n+                          '1. line 1\\n2. line 2')\n+        self.assertEqual(linenumbers('\\n'.join(['x'] * 10)),\n+                          '01. x\\n02. x\\n03. x\\n04. x\\n05. x\\n06. x\\n07. '\\\n+                          'x\\n08. x\\n09. x\\n10. x')\n \n     def test_lower(self):\n-        self.assertEqual(lower('TEST'), u'test')\n+        self.assertEqual(lower('TEST'), 'test')\n \n         # uppercase E umlaut\n-        self.assertEqual(lower(u'\\xcb'), u'\\xeb')\n+        self.assertEqual(lower('\\xcb'), '\\xeb')\n \n     def test_make_list(self):\n-        self.assertEqual(make_list('abc'), [u'a', u'b', u'c'])\n-        self.assertEqual(make_list(1234), [u'1', u'2', u'3', u'4'])\n+        self.assertEqual(make_list('abc'), ['a', 'b', 'c'])\n+        self.assertEqual(make_list(1234), ['1', '2', '3', '4'])\n \n     def test_slugify(self):\n         self.assertEqual(slugify(' Jack & Jill like numbers 1,2,3 and 4 and'\\\n             ' silly characters ?%.$!/'),\n-            u'jack-jill-like-numbers-123-and-4-and-silly-characters')\n+            'jack-jill-like-numbers-123-and-4-and-silly-characters')\n \n-        self.assertEqual(slugify(u\"Un \\xe9l\\xe9phant \\xe0 l'or\\xe9e du bois\"),\n-                          u'un-elephant-a-loree-du-bois')\n+        self.assertEqual(slugify(\"Un \\xe9l\\xe9phant \\xe0 l'or\\xe9e du bois\"),\n+                          'un-elephant-a-loree-du-bois')\n \n     def test_stringformat(self):\n-        self.assertEqual(stringformat(1, u'03d'), u'001')\n-        self.assertEqual(stringformat(1, u'z'), u'')\n+        self.assertEqual(stringformat(1, '03d'), '001')\n+        self.assertEqual(stringformat(1, 'z'), '')\n \n     def test_title(self):\n         self.assertEqual(title('a nice title, isn\\'t it?'),\n-                          u\"A Nice Title, Isn't It?\")\n-        self.assertEqual(title(u'discoth\\xe8que'), u'Discoth\\xe8que')\n+                          \"A Nice Title, Isn't It?\")\n+        self.assertEqual(title('discoth\\xe8que'), 'Discoth\\xe8que')\n \n     def test_truncatewords(self):\n         self.assertEqual(\n-            truncatewords(u'A sentence with a few words in it', 1), u'A ...')\n+            truncatewords('A sentence with a few words in it', 1), 'A ...')\n         self.assertEqual(\n-            truncatewords(u'A sentence with a few words in it', 5),\n-            u'A sentence with a few ...')\n+            truncatewords('A sentence with a few words in it', 5),\n+            'A sentence with a few ...')\n         self.assertEqual(\n-            truncatewords(u'A sentence with a few words in it', 100),\n-            u'A sentence with a few words in it')\n+            truncatewords('A sentence with a few words in it', 100),\n+            'A sentence with a few words in it')\n         self.assertEqual(\n-            truncatewords(u'A sentence with a few words in it',\n-            'not a number'), u'A sentence with a few words in it')\n+            truncatewords('A sentence with a few words in it',\n+            'not a number'), 'A sentence with a few words in it')\n \n     def test_truncatewords_html(self):\n         self.assertEqual(truncatewords_html(\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>', 0), u'')\n-        self.assertEqual(truncatewords_html(u'<p>one <a href=\"#\">two - '\\\n-            u'three <br>four</a> five</p>', 2),\n-            u'<p>one <a href=\"#\">two ...</a></p>')\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>', 0), '')\n+        self.assertEqual(truncatewords_html('<p>one <a href=\"#\">two - '\\\n+            'three <br>four</a> five</p>', 2),\n+            '<p>one <a href=\"#\">two ...</a></p>')\n         self.assertEqual(truncatewords_html(\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>', 4),\n-            u'<p>one <a href=\"#\">two - three <br>four ...</a></p>')\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>', 4),\n+            '<p>one <a href=\"#\">two - three <br>four ...</a></p>')\n         self.assertEqual(truncatewords_html(\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>', 5),\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>')\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>', 5),\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>')\n         self.assertEqual(truncatewords_html(\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>', 100),\n-            u'<p>one <a href=\"#\">two - three <br>four</a> five</p>')\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>', 100),\n+            '<p>one <a href=\"#\">two - three <br>four</a> five</p>')\n         self.assertEqual(truncatewords_html(\n-            u'\\xc5ngstr\\xf6m was here', 1), u'\\xc5ngstr\\xf6m ...')\n+            '\\xc5ngstr\\xf6m was here', 1), '\\xc5ngstr\\xf6m ...')\n \n     def test_upper(self):\n-        self.assertEqual(upper(u'Mixed case input'), u'MIXED CASE INPUT')\n+        self.assertEqual(upper('Mixed case input'), 'MIXED CASE INPUT')\n         # lowercase e umlaut\n-        self.assertEqual(upper(u'\\xeb'), u'\\xcb')\n+        self.assertEqual(upper('\\xeb'), '\\xcb')\n \n     def test_urlencode(self):\n-        self.assertEqual(urlencode(u'fran\\xe7ois & jill'),\n-                          u'fran%C3%A7ois%20%26%20jill')\n-        self.assertEqual(urlencode(1), u'1')\n+        self.assertEqual(urlencode('fran\\xe7ois & jill'),\n+                          'fran%C3%A7ois%20%26%20jill')\n+        self.assertEqual(urlencode(1), '1')\n \n     def test_iriencode(self):\n-        self.assertEqual(iriencode(u'S\\xf8r-Tr\\xf8ndelag'),\n-                          u'S%C3%B8r-Tr%C3%B8ndelag')\n-        self.assertEqual(iriencode(urlencode(u'fran\\xe7ois & jill')),\n-                          u'fran%C3%A7ois%20%26%20jill')\n+        self.assertEqual(iriencode('S\\xf8r-Tr\\xf8ndelag'),\n+                          'S%C3%B8r-Tr%C3%B8ndelag')\n+        self.assertEqual(iriencode(urlencode('fran\\xe7ois & jill')),\n+                          'fran%C3%A7ois%20%26%20jill')\n \n     def test_urlizetrunc(self):\n-        self.assertEqual(urlizetrunc(u'http://short.com/', 20), u'<a href='\\\n-            u'\"http://short.com/\" rel=\"nofollow\">http://short.com/</a>')\n+        self.assertEqual(urlizetrunc('http://short.com/', 20), '<a href='\\\n+            '\"http://short.com/\" rel=\"nofollow\">http://short.com/</a>')\n \n-        self.assertEqual(urlizetrunc(u'http://www.google.co.uk/search?hl=en'\\\n-            u'&q=some+long+url&btnG=Search&meta=', 20), u'<a href=\"http://'\\\n-            u'www.google.co.uk/search?hl=en&q=some+long+url&btnG=Search&'\\\n-            u'meta=\" rel=\"nofollow\">http://www.google...</a>')\n+        self.assertEqual(urlizetrunc('http://www.google.co.uk/search?hl=en'\\\n+            '&q=some+long+url&btnG=Search&meta=', 20), '<a href=\"http://'\\\n+            'www.google.co.uk/search?hl=en&q=some+long+url&btnG=Search&'\\\n+            'meta=\" rel=\"nofollow\">http://www.google...</a>')\n \n         self.assertEqual(urlizetrunc('http://www.google.co.uk/search?hl=en'\\\n-            u'&q=some+long+url&btnG=Search&meta=', 20), u'<a href=\"http://'\\\n-            u'www.google.co.uk/search?hl=en&q=some+long+url&btnG=Search'\\\n-            u'&meta=\" rel=\"nofollow\">http://www.google...</a>')\n+            '&q=some+long+url&btnG=Search&meta=', 20), '<a href=\"http://'\\\n+            'www.google.co.uk/search?hl=en&q=some+long+url&btnG=Search'\\\n+            '&meta=\" rel=\"nofollow\">http://www.google...</a>')\n \n         # Check truncating of URIs which are the exact length\n         uri = 'http://31characteruri.com/test/'\n         self.assertEqual(len(uri), 31)\n \n         self.assertEqual(urlizetrunc(uri, 31),\n-            u'<a href=\"http://31characteruri.com/test/\" rel=\"nofollow\">'\\\n-            u'http://31characteruri.com/test/</a>')\n+            '<a href=\"http://31characteruri.com/test/\" rel=\"nofollow\">'\\\n+            'http://31characteruri.com/test/</a>')\n \n         self.assertEqual(urlizetrunc(uri, 30),\n-            u'<a href=\"http://31characteruri.com/test/\" rel=\"nofollow\">'\\\n-            u'http://31characteruri.com/t...</a>')\n+            '<a href=\"http://31characteruri.com/test/\" rel=\"nofollow\">'\\\n+            'http://31characteruri.com/t...</a>')\n \n         self.assertEqual(urlizetrunc(uri, 2),\n-            u'<a href=\"http://31characteruri.com/test/\"'\\\n-            u' rel=\"nofollow\">...</a>')\n+            '<a href=\"http://31characteruri.com/test/\"'\\\n+            ' rel=\"nofollow\">...</a>')\n \n     def test_urlize(self):\n         # Check normal urlize\n         self.assertEqual(urlize('http://google.com'),\n-            u'<a href=\"http://google.com\" rel=\"nofollow\">http://google.com</a>')\n+            '<a href=\"http://google.com\" rel=\"nofollow\">http://google.com</a>')\n         self.assertEqual(urlize('http://google.com/'),\n-            u'<a href=\"http://google.com/\" rel=\"nofollow\">http://google.com/</a>')\n+            '<a href=\"http://google.com/\" rel=\"nofollow\">http://google.com/</a>')\n         self.assertEqual(urlize('www.google.com'),\n-            u'<a href=\"http://www.google.com\" rel=\"nofollow\">www.google.com</a>')\n+            '<a href=\"http://www.google.com\" rel=\"nofollow\">www.google.com</a>')\n         self.assertEqual(urlize('djangoproject.org'),\n-            u'<a href=\"http://djangoproject.org\" rel=\"nofollow\">djangoproject.org</a>')\n+            '<a href=\"http://djangoproject.org\" rel=\"nofollow\">djangoproject.org</a>')\n         self.assertEqual(urlize('info@djangoproject.org'),\n-            u'<a href=\"mailto:info@djangoproject.org\">info@djangoproject.org</a>')\n+            '<a href=\"mailto:info@djangoproject.org\">info@djangoproject.org</a>')\n \n         # Check urlize with https addresses\n         self.assertEqual(urlize('https://google.com'),\n-            u'<a href=\"https://google.com\" rel=\"nofollow\">https://google.com</a>')\n+            '<a href=\"https://google.com\" rel=\"nofollow\">https://google.com</a>')\n \n         # Check urlize doesn't overquote already quoted urls - see #9655\n         self.assertEqual(urlize('http://hi.baidu.com/%D6%D8%D0%C2%BF'),\n-            u'<a href=\"http://hi.baidu.com/%D6%D8%D0%C2%BF\" rel=\"nofollow\">'\n-            u'http://hi.baidu.com/%D6%D8%D0%C2%BF</a>')\n+            '<a href=\"http://hi.baidu.com/%D6%D8%D0%C2%BF\" rel=\"nofollow\">'\n+            'http://hi.baidu.com/%D6%D8%D0%C2%BF</a>')\n         self.assertEqual(urlize('www.mystore.com/30%OffCoupons!'),\n-            u'<a href=\"http://www.mystore.com/30%25OffCoupons!\" rel=\"nofollow\">'\n-            u'www.mystore.com/30%OffCoupons!</a>')\n+            '<a href=\"http://www.mystore.com/30%25OffCoupons!\" rel=\"nofollow\">'\n+            'www.mystore.com/30%OffCoupons!</a>')\n         self.assertEqual(urlize('http://en.wikipedia.org/wiki/Caf%C3%A9'),\n-            u'<a href=\"http://en.wikipedia.org/wiki/Caf%C3%A9\" rel=\"nofollow\">'\n-            u'http://en.wikipedia.org/wiki/Caf%C3%A9</a>')\n+            '<a href=\"http://en.wikipedia.org/wiki/Caf%C3%A9\" rel=\"nofollow\">'\n+            'http://en.wikipedia.org/wiki/Caf%C3%A9</a>')\n         self.assertEqual(urlize('http://en.wikipedia.org/wiki/Café'),\n-            u'<a href=\"http://en.wikipedia.org/wiki/Caf%C3%A9\" rel=\"nofollow\">'\n-            u'http://en.wikipedia.org/wiki/Café</a>')\n+            '<a href=\"http://en.wikipedia.org/wiki/Caf%C3%A9\" rel=\"nofollow\">'\n+            'http://en.wikipedia.org/wiki/Café</a>')\n \n         # Check urlize keeps balanced parentheses - see #11911\n         self.assertEqual(urlize('http://en.wikipedia.org/wiki/Django_(web_framework)'),\n-            u'<a href=\"http://en.wikipedia.org/wiki/Django_(web_framework)\" rel=\"nofollow\">'\n-            u'http://en.wikipedia.org/wiki/Django_(web_framework)</a>')\n+            '<a href=\"http://en.wikipedia.org/wiki/Django_(web_framework)\" rel=\"nofollow\">'\n+            'http://en.wikipedia.org/wiki/Django_(web_framework)</a>')\n         self.assertEqual(urlize('(see http://en.wikipedia.org/wiki/Django_(web_framework))'),\n-            u'(see <a href=\"http://en.wikipedia.org/wiki/Django_(web_framework)\" rel=\"nofollow\">'\n-            u'http://en.wikipedia.org/wiki/Django_(web_framework)</a>)')\n+            '(see <a href=\"http://en.wikipedia.org/wiki/Django_(web_framework)\" rel=\"nofollow\">'\n+            'http://en.wikipedia.org/wiki/Django_(web_framework)</a>)')\n \n         # Check urlize adds nofollow properly - see #12183\n         self.assertEqual(urlize('foo@bar.com or www.bar.com'),\n-            u'<a href=\"mailto:foo@bar.com\">foo@bar.com</a> or '\n-            u'<a href=\"http://www.bar.com\" rel=\"nofollow\">www.bar.com</a>')\n+            '<a href=\"mailto:foo@bar.com\">foo@bar.com</a> or '\n+            '<a href=\"http://www.bar.com\" rel=\"nofollow\">www.bar.com</a>')\n \n         # Check urlize handles IDN correctly - see #13704\n         self.assertEqual(urlize('http://c✶.ws'),\n-            u'<a href=\"http://xn--c-lgq.ws\" rel=\"nofollow\">http://c✶.ws</a>')\n+            '<a href=\"http://xn--c-lgq.ws\" rel=\"nofollow\">http://c✶.ws</a>')\n         self.assertEqual(urlize('www.c✶.ws'),\n-            u'<a href=\"http://www.xn--c-lgq.ws\" rel=\"nofollow\">www.c✶.ws</a>')\n+            '<a href=\"http://www.xn--c-lgq.ws\" rel=\"nofollow\">www.c✶.ws</a>')\n         self.assertEqual(urlize('c✶.org'),\n-            u'<a href=\"http://xn--c-lgq.org\" rel=\"nofollow\">c✶.org</a>')\n+            '<a href=\"http://xn--c-lgq.org\" rel=\"nofollow\">c✶.org</a>')\n         self.assertEqual(urlize('info@c✶.org'),\n-            u'<a href=\"mailto:info@xn--c-lgq.org\">info@c✶.org</a>')\n+            '<a href=\"mailto:info@xn--c-lgq.org\">info@c✶.org</a>')\n \n         # Check urlize doesn't highlight malformed URIs - see #16395\n         self.assertEqual(urlize('http:///www.google.com'),\n-           u'http:///www.google.com')\n+           'http:///www.google.com')\n         self.assertEqual(urlize('http://.google.com'),\n-            u'http://.google.com')\n+            'http://.google.com')\n         self.assertEqual(urlize('http://@foo.com'),\n-            u'http://@foo.com')\n+            'http://@foo.com')\n \n         # Check urlize accepts more TLDs - see #16656\n         self.assertEqual(urlize('usa.gov'),\n-            u'<a href=\"http://usa.gov\" rel=\"nofollow\">usa.gov</a>')\n+            '<a href=\"http://usa.gov\" rel=\"nofollow\">usa.gov</a>')\n \n         # Check urlize don't crash on invalid email with dot-starting domain - see #17592\n         self.assertEqual(urlize('email@.stream.ru'),\n-            u'email@.stream.ru')\n+            'email@.stream.ru')\n \n         # Check urlize accepts uppercased URL schemes - see #18071\n         self.assertEqual(urlize('HTTPS://github.com/'),\n-            u'<a href=\"https://github.com/\" rel=\"nofollow\">HTTPS://github.com/</a>')\n+            '<a href=\"https://github.com/\" rel=\"nofollow\">HTTPS://github.com/</a>')\n \n     def test_wordcount(self):\n         self.assertEqual(wordcount(''), 0)\n-        self.assertEqual(wordcount(u'oneword'), 1)\n-        self.assertEqual(wordcount(u'lots of words'), 3)\n+        self.assertEqual(wordcount('oneword'), 1)\n+        self.assertEqual(wordcount('lots of words'), 3)\n \n-        self.assertEqual(wordwrap(u'this is a long paragraph of text that '\\\n-            u'really needs to be wrapped I\\'m afraid', 14),\n-            u\"this is a long\\nparagraph of\\ntext that\\nreally needs\\nto be \"\\\n-            u\"wrapped\\nI'm afraid\")\n+        self.assertEqual(wordwrap('this is a long paragraph of text that '\\\n+            'really needs to be wrapped I\\'m afraid', 14),\n+            \"this is a long\\nparagraph of\\ntext that\\nreally needs\\nto be \"\\\n+            \"wrapped\\nI'm afraid\")\n \n-        self.assertEqual(wordwrap(u'this is a short paragraph of text.\\n  '\\\n-            u'But this line should be indented', 14),\n-            u'this is a\\nshort\\nparagraph of\\ntext.\\n  But this\\nline '\\\n-            u'should be\\nindented')\n+        self.assertEqual(wordwrap('this is a short paragraph of text.\\n  '\\\n+            'But this line should be indented', 14),\n+            'this is a\\nshort\\nparagraph of\\ntext.\\n  But this\\nline '\\\n+            'should be\\nindented')\n \n-        self.assertEqual(wordwrap(u'this is a short paragraph of text.\\n  '\\\n-            u'But this line should be indented',15), u'this is a short\\n'\\\n-            u'paragraph of\\ntext.\\n  But this line\\nshould be\\nindented')\n+        self.assertEqual(wordwrap('this is a short paragraph of text.\\n  '\\\n+            'But this line should be indented',15), 'this is a short\\n'\\\n+            'paragraph of\\ntext.\\n  But this line\\nshould be\\nindented')\n \n     def test_rjust(self):\n-        self.assertEqual(ljust(u'test', 10), u'test      ')\n-        self.assertEqual(ljust(u'test', 3), u'test')\n-        self.assertEqual(rjust(u'test', 10), u'      test')\n-        self.assertEqual(rjust(u'test', 3), u'test')\n+        self.assertEqual(ljust('test', 10), 'test      ')\n+        self.assertEqual(ljust('test', 3), 'test')\n+        self.assertEqual(rjust('test', 10), '      test')\n+        self.assertEqual(rjust('test', 3), 'test')\n \n     def test_center(self):\n-        self.assertEqual(center(u'test', 6), u' test ')\n+        self.assertEqual(center('test', 6), ' test ')\n \n     def test_cut(self):\n-        self.assertEqual(cut(u'a string to be mangled', 'a'),\n-                          u' string to be mngled')\n-        self.assertEqual(cut(u'a string to be mangled', 'ng'),\n-                          u'a stri to be maled')\n-        self.assertEqual(cut(u'a string to be mangled', 'strings'),\n-                          u'a string to be mangled')\n+        self.assertEqual(cut('a string to be mangled', 'a'),\n+                          ' string to be mngled')\n+        self.assertEqual(cut('a string to be mangled', 'ng'),\n+                          'a stri to be maled')\n+        self.assertEqual(cut('a string to be mangled', 'strings'),\n+                          'a string to be mangled')\n \n     def test_force_escape(self):\n-        escaped = force_escape(u'<some html & special characters > here')\n+        escaped = force_escape('<some html & special characters > here')\n         self.assertEqual(\n-            escaped, u'&lt;some html &amp; special characters &gt; here')\n+            escaped, '&lt;some html &amp; special characters &gt; here')\n         self.assertTrue(isinstance(escaped, SafeData))\n         self.assertEqual(\n-            force_escape(u'<some html & special characters > here ĐÅ€£'),\n-            u'&lt;some html &amp; special characters &gt; here'\\\n-            u' \\u0110\\xc5\\u20ac\\xa3')\n+            force_escape('<some html & special characters > here ĐÅ€£'),\n+            '&lt;some html &amp; special characters &gt; here'\\\n+            ' \\u0110\\xc5\\u20ac\\xa3')\n \n     def test_linebreaks(self):\n-        self.assertEqual(linebreaks_filter(u'line 1'), u'<p>line 1</p>')\n-        self.assertEqual(linebreaks_filter(u'line 1\\nline 2'),\n-                          u'<p>line 1<br />line 2</p>')\n-        self.assertEqual(linebreaks_filter(u'line 1\\rline 2'),\n-                          u'<p>line 1<br />line 2</p>')\n-        self.assertEqual(linebreaks_filter(u'line 1\\r\\nline 2'),\n-                          u'<p>line 1<br />line 2</p>')\n+        self.assertEqual(linebreaks_filter('line 1'), '<p>line 1</p>')\n+        self.assertEqual(linebreaks_filter('line 1\\nline 2'),\n+                          '<p>line 1<br />line 2</p>')\n+        self.assertEqual(linebreaks_filter('line 1\\rline 2'),\n+                          '<p>line 1<br />line 2</p>')\n+        self.assertEqual(linebreaks_filter('line 1\\r\\nline 2'),\n+                          '<p>line 1<br />line 2</p>')\n \n     def test_linebreaksbr(self):\n-        self.assertEqual(linebreaksbr(u'line 1\\nline 2'),\n-                          u'line 1<br />line 2')\n-        self.assertEqual(linebreaksbr(u'line 1\\rline 2'),\n-                          u'line 1<br />line 2')\n-        self.assertEqual(linebreaksbr(u'line 1\\r\\nline 2'),\n-                          u'line 1<br />line 2')\n+        self.assertEqual(linebreaksbr('line 1\\nline 2'),\n+                          'line 1<br />line 2')\n+        self.assertEqual(linebreaksbr('line 1\\rline 2'),\n+                          'line 1<br />line 2')\n+        self.assertEqual(linebreaksbr('line 1\\r\\nline 2'),\n+                          'line 1<br />line 2')\n \n     def test_removetags(self):\n-        self.assertEqual(removetags(u'some <b>html</b> with <script>alert'\\\n-            u'(\"You smell\")</script> disallowed <img /> tags', 'script img'),\n-            u'some <b>html</b> with alert(\"You smell\") disallowed  tags')\n-        self.assertEqual(striptags(u'some <b>html</b> with <script>alert'\\\n-            u'(\"You smell\")</script> disallowed <img /> tags'),\n-            u'some html with alert(\"You smell\") disallowed  tags')\n+        self.assertEqual(removetags('some <b>html</b> with <script>alert'\\\n+            '(\"You smell\")</script> disallowed <img /> tags', 'script img'),\n+            'some <b>html</b> with alert(\"You smell\") disallowed  tags')\n+        self.assertEqual(striptags('some <b>html</b> with <script>alert'\\\n+            '(\"You smell\")</script> disallowed <img /> tags'),\n+            'some html with alert(\"You smell\") disallowed  tags')\n \n     def test_dictsort(self):\n         sorted_dicts = dictsort([{'age': 23, 'name': 'Barbara-Ann'},\n@@ -404,230 +405,230 @@ def test_dictsortreversed(self):\n \n     def test_first(self):\n         self.assertEqual(first([0,1,2]), 0)\n-        self.assertEqual(first(u''), u'')\n-        self.assertEqual(first(u'test'), u't')\n+        self.assertEqual(first(''), '')\n+        self.assertEqual(first('test'), 't')\n \n     def test_join(self):\n-        self.assertEqual(join([0,1,2], u'glue'), u'0glue1glue2')\n+        self.assertEqual(join([0,1,2], 'glue'), '0glue1glue2')\n \n     def test_length(self):\n-        self.assertEqual(length(u'1234'), 4)\n+        self.assertEqual(length('1234'), 4)\n         self.assertEqual(length([1,2,3,4]), 4)\n         self.assertEqual(length_is([], 0), True)\n         self.assertEqual(length_is([], 1), False)\n         self.assertEqual(length_is('a', 1), True)\n-        self.assertEqual(length_is(u'a', 10), False)\n+        self.assertEqual(length_is('a', 10), False)\n \n     def test_slice(self):\n-        self.assertEqual(slice_filter(u'abcdefg', u'0'), u'')\n-        self.assertEqual(slice_filter(u'abcdefg', u'1'), u'a')\n-        self.assertEqual(slice_filter(u'abcdefg', u'-1'), u'abcdef')\n-        self.assertEqual(slice_filter(u'abcdefg', u'1:2'), u'b')\n-        self.assertEqual(slice_filter(u'abcdefg', u'1:3'), u'bc')\n-        self.assertEqual(slice_filter(u'abcdefg', u'0::2'), u'aceg')\n+        self.assertEqual(slice_filter('abcdefg', '0'), '')\n+        self.assertEqual(slice_filter('abcdefg', '1'), 'a')\n+        self.assertEqual(slice_filter('abcdefg', '-1'), 'abcdef')\n+        self.assertEqual(slice_filter('abcdefg', '1:2'), 'b')\n+        self.assertEqual(slice_filter('abcdefg', '1:3'), 'bc')\n+        self.assertEqual(slice_filter('abcdefg', '0::2'), 'aceg')\n \n     def test_unordered_list(self):\n-        self.assertEqual(unordered_list([u'item 1', u'item 2']),\n-            u'\\t<li>item 1</li>\\n\\t<li>item 2</li>')\n-        self.assertEqual(unordered_list([u'item 1', [u'item 1.1']]),\n-            u'\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t</ul>\\n\\t</li>')\n+        self.assertEqual(unordered_list(['item 1', 'item 2']),\n+            '\\t<li>item 1</li>\\n\\t<li>item 2</li>')\n+        self.assertEqual(unordered_list(['item 1', ['item 1.1']]),\n+            '\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t</ul>\\n\\t</li>')\n \n         self.assertEqual(\n-            unordered_list([u'item 1', [u'item 1.1', u'item1.2'], u'item 2']),\n-            u'\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t\\t<li>item1.2'\\\n-            u'</li>\\n\\t</ul>\\n\\t</li>\\n\\t<li>item 2</li>')\n+            unordered_list(['item 1', ['item 1.1', 'item1.2'], 'item 2']),\n+            '\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t\\t<li>item1.2'\\\n+            '</li>\\n\\t</ul>\\n\\t</li>\\n\\t<li>item 2</li>')\n \n         self.assertEqual(\n-            unordered_list([u'item 1', [u'item 1.1', [u'item 1.1.1',\n-                                                      [u'item 1.1.1.1']]]]),\n-            u'\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1\\n\\t\\t<ul>\\n\\t\\t\\t<li>'\\\n-            u'item 1.1.1\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li>item 1.1.1.1</li>\\n\\t\\t\\t'\\\n-            u'</ul>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t\\t</li>\\n\\t</ul>\\n\\t</li>')\n+            unordered_list(['item 1', ['item 1.1', ['item 1.1.1',\n+                                                      ['item 1.1.1.1']]]]),\n+            '\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1\\n\\t\\t<ul>\\n\\t\\t\\t<li>'\\\n+            'item 1.1.1\\n\\t\\t\\t<ul>\\n\\t\\t\\t\\t<li>item 1.1.1.1</li>\\n\\t\\t\\t'\\\n+            '</ul>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t\\t</li>\\n\\t</ul>\\n\\t</li>')\n \n         self.assertEqual(unordered_list(\n             ['States', ['Kansas', ['Lawrence', 'Topeka'], 'Illinois']]),\n-            u'\\t<li>States\\n\\t<ul>\\n\\t\\t<li>Kansas\\n\\t\\t<ul>\\n\\t\\t\\t<li>'\\\n-            u'Lawrence</li>\\n\\t\\t\\t<li>Topeka</li>\\n\\t\\t</ul>\\n\\t\\t</li>'\\\n-            u'\\n\\t\\t<li>Illinois</li>\\n\\t</ul>\\n\\t</li>')\n+            '\\t<li>States\\n\\t<ul>\\n\\t\\t<li>Kansas\\n\\t\\t<ul>\\n\\t\\t\\t<li>'\\\n+            'Lawrence</li>\\n\\t\\t\\t<li>Topeka</li>\\n\\t\\t</ul>\\n\\t\\t</li>'\\\n+            '\\n\\t\\t<li>Illinois</li>\\n\\t</ul>\\n\\t</li>')\n \n         class ULItem(object):\n             def __init__(self, title):\n               self.title = title\n             def __unicode__(self):\n-                return u'ulitem-%s' % str(self.title)\n+                return 'ulitem-%s' % str(self.title)\n \n         a = ULItem('a')\n         b = ULItem('b')\n         self.assertEqual(unordered_list([a,b]),\n-                          u'\\t<li>ulitem-a</li>\\n\\t<li>ulitem-b</li>')\n+                          '\\t<li>ulitem-a</li>\\n\\t<li>ulitem-b</li>')\n \n         # Old format for unordered lists should still work\n-        self.assertEqual(unordered_list([u'item 1', []]), u'\\t<li>item 1</li>')\n+        self.assertEqual(unordered_list(['item 1', []]), '\\t<li>item 1</li>')\n \n-        self.assertEqual(unordered_list([u'item 1', [[u'item 1.1', []]]]),\n-            u'\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t</ul>\\n\\t</li>')\n+        self.assertEqual(unordered_list(['item 1', [['item 1.1', []]]]),\n+            '\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1</li>\\n\\t</ul>\\n\\t</li>')\n \n-        self.assertEqual(unordered_list([u'item 1', [[u'item 1.1', []],\n-            [u'item 1.2', []]]]), u'\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1'\\\n-            u'</li>\\n\\t\\t<li>item 1.2</li>\\n\\t</ul>\\n\\t</li>')\n+        self.assertEqual(unordered_list(['item 1', [['item 1.1', []],\n+            ['item 1.2', []]]]), '\\t<li>item 1\\n\\t<ul>\\n\\t\\t<li>item 1.1'\\\n+            '</li>\\n\\t\\t<li>item 1.2</li>\\n\\t</ul>\\n\\t</li>')\n \n         self.assertEqual(unordered_list(['States', [['Kansas', [['Lawrence',\n-            []], ['Topeka', []]]], ['Illinois', []]]]), u'\\t<li>States\\n\\t'\\\n-            u'<ul>\\n\\t\\t<li>Kansas\\n\\t\\t<ul>\\n\\t\\t\\t<li>Lawrence</li>'\\\n-            u'\\n\\t\\t\\t<li>Topeka</li>\\n\\t\\t</ul>\\n\\t\\t</li>\\n\\t\\t<li>'\\\n-            u'Illinois</li>\\n\\t</ul>\\n\\t</li>')\n+            []], ['Topeka', []]]], ['Illinois', []]]]), '\\t<li>States\\n\\t'\\\n+            '<ul>\\n\\t\\t<li>Kansas\\n\\t\\t<ul>\\n\\t\\t\\t<li>Lawrence</li>'\\\n+            '\\n\\t\\t\\t<li>Topeka</li>\\n\\t\\t</ul>\\n\\t\\t</li>\\n\\t\\t<li>'\\\n+            'Illinois</li>\\n\\t</ul>\\n\\t</li>')\n \n     def test_add(self):\n-        self.assertEqual(add(u'1', u'2'), 3)\n+        self.assertEqual(add('1', '2'), 3)\n \n     def test_get_digit(self):\n         self.assertEqual(get_digit(123, 1), 3)\n         self.assertEqual(get_digit(123, 2), 2)\n         self.assertEqual(get_digit(123, 3), 1)\n         self.assertEqual(get_digit(123, 4), 0)\n         self.assertEqual(get_digit(123, 0), 123)\n-        self.assertEqual(get_digit(u'xyz', 0), u'xyz')\n+        self.assertEqual(get_digit('xyz', 0), 'xyz')\n \n     def test_date(self):\n         # real testing of date() is in dateformat.py\n-        self.assertEqual(date(datetime.datetime(2005, 12, 29), u\"d F Y\"),\n-                          u'29 December 2005')\n-        self.assertEqual(date(datetime.datetime(2005, 12, 29), ur'jS \\o\\f F'),\n-                          u'29th of December')\n+        self.assertEqual(date(datetime.datetime(2005, 12, 29), \"d F Y\"),\n+                          '29 December 2005')\n+        self.assertEqual(date(datetime.datetime(2005, 12, 29), r'jS \\o\\f F'),\n+                          '29th of December')\n \n     def test_time(self):\n         # real testing of time() is done in dateformat.py\n-        self.assertEqual(time(datetime.time(13), u\"h\"), u'01')\n-        self.assertEqual(time(datetime.time(0), u\"h\"), u'12')\n+        self.assertEqual(time(datetime.time(13), \"h\"), '01')\n+        self.assertEqual(time(datetime.time(0), \"h\"), '12')\n \n     def test_timesince(self):\n         # real testing is done in timesince.py, where we can provide our own 'now'\n         self.assertEqual(\n             timesince_filter(datetime.datetime.now() - datetime.timedelta(1)),\n-            u'1 day')\n+            '1 day')\n \n         self.assertEqual(\n             timesince_filter(datetime.datetime(2005, 12, 29),\n                              datetime.datetime(2005, 12, 30)),\n-            u'1 day')\n+            '1 day')\n \n     def test_timeuntil(self):\n         self.assertEqual(\n             timeuntil_filter(datetime.datetime.now() + datetime.timedelta(1, 1)),\n-            u'1 day')\n+            '1 day')\n \n         self.assertEqual(\n             timeuntil_filter(datetime.datetime(2005, 12, 30),\n                              datetime.datetime(2005, 12, 29)),\n-            u'1 day')\n+            '1 day')\n \n     def test_default(self):\n-        self.assertEqual(default(u\"val\", u\"default\"), u'val')\n-        self.assertEqual(default(None, u\"default\"), u'default')\n-        self.assertEqual(default(u'', u\"default\"), u'default')\n+        self.assertEqual(default(\"val\", \"default\"), 'val')\n+        self.assertEqual(default(None, \"default\"), 'default')\n+        self.assertEqual(default('', \"default\"), 'default')\n \n     def test_if_none(self):\n-        self.assertEqual(default_if_none(u\"val\", u\"default\"), u'val')\n-        self.assertEqual(default_if_none(None, u\"default\"), u'default')\n-        self.assertEqual(default_if_none(u'', u\"default\"), u'')\n+        self.assertEqual(default_if_none(\"val\", \"default\"), 'val')\n+        self.assertEqual(default_if_none(None, \"default\"), 'default')\n+        self.assertEqual(default_if_none('', \"default\"), '')\n \n     def test_divisibleby(self):\n         self.assertEqual(divisibleby(4, 2), True)\n         self.assertEqual(divisibleby(4, 3), False)\n \n     def test_yesno(self):\n-        self.assertEqual(yesno(True), u'yes')\n-        self.assertEqual(yesno(False), u'no')\n-        self.assertEqual(yesno(None), u'maybe')\n-        self.assertEqual(yesno(True, u'certainly,get out of town,perhaps'),\n-                          u'certainly')\n-        self.assertEqual(yesno(False, u'certainly,get out of town,perhaps'),\n-                          u'get out of town')\n-        self.assertEqual(yesno(None, u'certainly,get out of town,perhaps'),\n-                          u'perhaps')\n-        self.assertEqual(yesno(None, u'certainly,get out of town'),\n-                          u'get out of town')\n+        self.assertEqual(yesno(True), 'yes')\n+        self.assertEqual(yesno(False), 'no')\n+        self.assertEqual(yesno(None), 'maybe')\n+        self.assertEqual(yesno(True, 'certainly,get out of town,perhaps'),\n+                          'certainly')\n+        self.assertEqual(yesno(False, 'certainly,get out of town,perhaps'),\n+                          'get out of town')\n+        self.assertEqual(yesno(None, 'certainly,get out of town,perhaps'),\n+                          'perhaps')\n+        self.assertEqual(yesno(None, 'certainly,get out of town'),\n+                          'get out of town')\n \n     def test_filesizeformat(self):\n-        self.assertEqual(filesizeformat(1023), u'1023 bytes')\n-        self.assertEqual(filesizeformat(1024), u'1.0 KB')\n-        self.assertEqual(filesizeformat(10*1024), u'10.0 KB')\n-        self.assertEqual(filesizeformat(1024*1024-1), u'1024.0 KB')\n-        self.assertEqual(filesizeformat(1024*1024), u'1.0 MB')\n-        self.assertEqual(filesizeformat(1024*1024*50), u'50.0 MB')\n-        self.assertEqual(filesizeformat(1024*1024*1024-1), u'1024.0 MB')\n-        self.assertEqual(filesizeformat(1024*1024*1024), u'1.0 GB')\n-        self.assertEqual(filesizeformat(1024*1024*1024*1024), u'1.0 TB')\n-        self.assertEqual(filesizeformat(1024*1024*1024*1024*1024), u'1.0 PB')\n+        self.assertEqual(filesizeformat(1023), '1023 bytes')\n+        self.assertEqual(filesizeformat(1024), '1.0 KB')\n+        self.assertEqual(filesizeformat(10*1024), '10.0 KB')\n+        self.assertEqual(filesizeformat(1024*1024-1), '1024.0 KB')\n+        self.assertEqual(filesizeformat(1024*1024), '1.0 MB')\n+        self.assertEqual(filesizeformat(1024*1024*50), '50.0 MB')\n+        self.assertEqual(filesizeformat(1024*1024*1024-1), '1024.0 MB')\n+        self.assertEqual(filesizeformat(1024*1024*1024), '1.0 GB')\n+        self.assertEqual(filesizeformat(1024*1024*1024*1024), '1.0 TB')\n+        self.assertEqual(filesizeformat(1024*1024*1024*1024*1024), '1.0 PB')\n         self.assertEqual(filesizeformat(1024*1024*1024*1024*1024*2000),\n-                          u'2000.0 PB')\n-        self.assertEqual(filesizeformat(complex(1,-1)), u'0 bytes')\n-        self.assertEqual(filesizeformat(\"\"), u'0 bytes')\n-        self.assertEqual(filesizeformat(u\"\\N{GREEK SMALL LETTER ALPHA}\"),\n-                          u'0 bytes')\n+                          '2000.0 PB')\n+        self.assertEqual(filesizeformat(complex(1,-1)), '0 bytes')\n+        self.assertEqual(filesizeformat(\"\"), '0 bytes')\n+        self.assertEqual(filesizeformat(\"\\N{GREEK SMALL LETTER ALPHA}\"),\n+                          '0 bytes')\n \n     def test_localized_filesizeformat(self):\n         with self.settings(USE_L10N=True):\n             with translation.override('de', deactivate=True):\n-                self.assertEqual(filesizeformat(1023), u'1023 Bytes')\n-                self.assertEqual(filesizeformat(1024), u'1,0 KB')\n-                self.assertEqual(filesizeformat(10*1024), u'10,0 KB')\n-                self.assertEqual(filesizeformat(1024*1024-1), u'1024,0 KB')\n-                self.assertEqual(filesizeformat(1024*1024), u'1,0 MB')\n-                self.assertEqual(filesizeformat(1024*1024*50), u'50,0 MB')\n-                self.assertEqual(filesizeformat(1024*1024*1024-1), u'1024,0 MB')\n-                self.assertEqual(filesizeformat(1024*1024*1024), u'1,0 GB')\n-                self.assertEqual(filesizeformat(1024*1024*1024*1024), u'1,0 TB')\n+                self.assertEqual(filesizeformat(1023), '1023 Bytes')\n+                self.assertEqual(filesizeformat(1024), '1,0 KB')\n+                self.assertEqual(filesizeformat(10*1024), '10,0 KB')\n+                self.assertEqual(filesizeformat(1024*1024-1), '1024,0 KB')\n+                self.assertEqual(filesizeformat(1024*1024), '1,0 MB')\n+                self.assertEqual(filesizeformat(1024*1024*50), '50,0 MB')\n+                self.assertEqual(filesizeformat(1024*1024*1024-1), '1024,0 MB')\n+                self.assertEqual(filesizeformat(1024*1024*1024), '1,0 GB')\n+                self.assertEqual(filesizeformat(1024*1024*1024*1024), '1,0 TB')\n                 self.assertEqual(filesizeformat(1024*1024*1024*1024*1024),\n-                                  u'1,0 PB')\n+                                  '1,0 PB')\n                 self.assertEqual(filesizeformat(1024*1024*1024*1024*1024*2000),\n-                                  u'2000,0 PB')\n-                self.assertEqual(filesizeformat(complex(1,-1)), u'0 Bytes')\n-                self.assertEqual(filesizeformat(\"\"), u'0 Bytes')\n-                self.assertEqual(filesizeformat(u\"\\N{GREEK SMALL LETTER ALPHA}\"),\n-                                  u'0 Bytes')\n+                                  '2000,0 PB')\n+                self.assertEqual(filesizeformat(complex(1,-1)), '0 Bytes')\n+                self.assertEqual(filesizeformat(\"\"), '0 Bytes')\n+                self.assertEqual(filesizeformat(\"\\N{GREEK SMALL LETTER ALPHA}\"),\n+                                  '0 Bytes')\n \n     def test_pluralize(self):\n-        self.assertEqual(pluralize(1), u'')\n-        self.assertEqual(pluralize(0), u's')\n-        self.assertEqual(pluralize(2), u's')\n-        self.assertEqual(pluralize([1]), u'')\n-        self.assertEqual(pluralize([]), u's')\n-        self.assertEqual(pluralize([1,2,3]), u's')\n-        self.assertEqual(pluralize(1,u'es'), u'')\n-        self.assertEqual(pluralize(0,u'es'), u'es')\n-        self.assertEqual(pluralize(2,u'es'), u'es')\n-        self.assertEqual(pluralize(1,u'y,ies'), u'y')\n-        self.assertEqual(pluralize(0,u'y,ies'), u'ies')\n-        self.assertEqual(pluralize(2,u'y,ies'), u'ies')\n-        self.assertEqual(pluralize(0,u'y,ies,error'), u'')\n+        self.assertEqual(pluralize(1), '')\n+        self.assertEqual(pluralize(0), 's')\n+        self.assertEqual(pluralize(2), 's')\n+        self.assertEqual(pluralize([1]), '')\n+        self.assertEqual(pluralize([]), 's')\n+        self.assertEqual(pluralize([1,2,3]), 's')\n+        self.assertEqual(pluralize(1,'es'), '')\n+        self.assertEqual(pluralize(0,'es'), 'es')\n+        self.assertEqual(pluralize(2,'es'), 'es')\n+        self.assertEqual(pluralize(1,'y,ies'), 'y')\n+        self.assertEqual(pluralize(0,'y,ies'), 'ies')\n+        self.assertEqual(pluralize(2,'y,ies'), 'ies')\n+        self.assertEqual(pluralize(0,'y,ies,error'), '')\n \n     def test_phone2numeric(self):\n-        self.assertEqual(phone2numeric_filter(u'0800 flowers'), u'0800 3569377')\n+        self.assertEqual(phone2numeric_filter('0800 flowers'), '0800 3569377')\n \n     def test_non_string_input(self):\n         # Filters shouldn't break if passed non-strings\n-        self.assertEqual(addslashes(123), u'123')\n-        self.assertEqual(linenumbers(123), u'1. 123')\n-        self.assertEqual(lower(123), u'123')\n-        self.assertEqual(make_list(123), [u'1', u'2', u'3'])\n-        self.assertEqual(slugify(123), u'123')\n-        self.assertEqual(title(123), u'123')\n-        self.assertEqual(truncatewords(123, 2), u'123')\n-        self.assertEqual(upper(123), u'123')\n-        self.assertEqual(urlencode(123), u'123')\n-        self.assertEqual(urlize(123), u'123')\n-        self.assertEqual(urlizetrunc(123, 1), u'123')\n+        self.assertEqual(addslashes(123), '123')\n+        self.assertEqual(linenumbers(123), '1. 123')\n+        self.assertEqual(lower(123), '123')\n+        self.assertEqual(make_list(123), ['1', '2', '3'])\n+        self.assertEqual(slugify(123), '123')\n+        self.assertEqual(title(123), '123')\n+        self.assertEqual(truncatewords(123, 2), '123')\n+        self.assertEqual(upper(123), '123')\n+        self.assertEqual(urlencode(123), '123')\n+        self.assertEqual(urlize(123), '123')\n+        self.assertEqual(urlizetrunc(123, 1), '123')\n         self.assertEqual(wordcount(123), 1)\n-        self.assertEqual(wordwrap(123, 2), u'123')\n-        self.assertEqual(ljust('123', 4), u'123 ')\n-        self.assertEqual(rjust('123', 4), u' 123')\n-        self.assertEqual(center('123', 5), u' 123 ')\n-        self.assertEqual(center('123', 6), u' 123  ')\n-        self.assertEqual(cut(123, '2'), u'13')\n-        self.assertEqual(escape(123), u'123')\n-        self.assertEqual(linebreaks_filter(123), u'<p>123</p>')\n-        self.assertEqual(linebreaksbr(123), u'123')\n-        self.assertEqual(removetags(123, 'a'), u'123')\n-        self.assertEqual(striptags(123), u'123')\n+        self.assertEqual(wordwrap(123, 2), '123')\n+        self.assertEqual(ljust('123', 4), '123 ')\n+        self.assertEqual(rjust('123', 4), ' 123')\n+        self.assertEqual(center('123', 5), ' 123 ')\n+        self.assertEqual(center('123', 6), ' 123  ')\n+        self.assertEqual(cut(123, '2'), '13')\n+        self.assertEqual(escape(123), '123')\n+        self.assertEqual(linebreaks_filter(123), '<p>123</p>')\n+        self.assertEqual(linebreaksbr(123), '123')\n+        self.assertEqual(removetags(123, 'a'), '123')\n+        self.assertEqual(striptags(123), '123')\n "
        },
        {
            "sha": "f3b6999377e77a40291934723f84fc62d252a7c9",
            "filename": "tests/regressiontests/expressions_regress/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,4 @@\n+from __future__ import unicode_literals\n \"\"\"\n Model for testing arithmetic expressions.\n \"\"\"\n@@ -9,7 +10,7 @@ class Number(models.Model):\n     float = models.FloatField(null=True, db_column='the_float')\n \n     def __unicode__(self):\n-        return u'%i, %.3f' % (self.integer, self.float)\n+        return '%i, %.3f' % (self.integer, self.float)\n \n class Experiment(models.Model):\n     name = models.CharField(max_length=24)"
        },
        {
            "sha": "7d2a6fab34de53fcef325391270a51a7ebf434b6",
            "filename": "tests/regressiontests/extra_regress/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,3 +1,5 @@\n+from __future__ import unicode_literals\n+\n import copy\n import datetime\n \n@@ -11,7 +13,7 @@ class RevisionableModel(models.Model):\n     when = models.DateTimeField(default=datetime.datetime.now)\n \n     def __unicode__(self):\n-        return u\"%s (%s, %s)\" % (self.title, self.id, self.base.id)\n+        return \"%s (%s, %s)\" % (self.title, self.id, self.base.id)\n \n     def save(self, *args, **kwargs):\n         super(RevisionableModel, self).save(*args, **kwargs)\n@@ -36,5 +38,5 @@ class TestObject(models.Model):\n     third = models.CharField(max_length=20)\n \n     def __unicode__(self):\n-        return u'TestObject: %s,%s,%s' % (self.first,self.second,self.third)\n+        return 'TestObject: %s,%s,%s' % (self.first,self.second,self.third)\n "
        },
        {
            "sha": "f591900afee61c19f1c158566284bee5cce23009",
            "filename": "tests/regressiontests/extra_regress/tests.py",
            "status": "modified",
            "additions": 18,
            "deletions": 18,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fextra_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fextra_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fextra_regress%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -178,100 +178,100 @@ def test_values_with_extra(self):\n \n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values()),\n-            [{'bar': u'second', 'third': u'third', 'second': u'second', 'whiz': u'third', 'foo': u'first', 'id': obj.pk, 'first': u'first'}]\n+            [{'bar': 'second', 'third': 'third', 'second': 'second', 'whiz': 'third', 'foo': 'first', 'id': obj.pk, 'first': 'first'}]\n         )\n \n         # Extra clauses after an empty values clause are still included\n         self.assertEqual(\n             list(TestObject.objects.values().extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third'))))),\n-            [{'bar': u'second', 'third': u'third', 'second': u'second', 'whiz': u'third', 'foo': u'first', 'id': obj.pk, 'first': u'first'}]\n+            [{'bar': 'second', 'third': 'third', 'second': 'second', 'whiz': 'third', 'foo': 'first', 'id': obj.pk, 'first': 'first'}]\n         )\n \n         # Extra columns are ignored if not mentioned in the values() clause\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values('first', 'second')),\n-            [{'second': u'second', 'first': u'first'}]\n+            [{'second': 'second', 'first': 'first'}]\n         )\n \n         # Extra columns after a non-empty values() clause are ignored\n         self.assertEqual(\n             list(TestObject.objects.values('first', 'second').extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third'))))),\n-            [{'second': u'second', 'first': u'first'}]\n+            [{'second': 'second', 'first': 'first'}]\n         )\n \n         # Extra columns can be partially returned\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values('first', 'second', 'foo')),\n-            [{'second': u'second', 'foo': u'first', 'first': u'first'}]\n+            [{'second': 'second', 'foo': 'first', 'first': 'first'}]\n         )\n \n         # Also works if only extra columns are included\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values('foo', 'whiz')),\n-            [{'foo': u'first', 'whiz': u'third'}]\n+            [{'foo': 'first', 'whiz': 'third'}]\n         )\n \n         # Values list works the same way\n         # All columns are returned for an empty values_list()\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list()),\n-            [(u'first', u'second', u'third', obj.pk, u'first', u'second', u'third')]\n+            [('first', 'second', 'third', obj.pk, 'first', 'second', 'third')]\n         )\n \n         # Extra columns after an empty values_list() are still included\n         self.assertEqual(\n             list(TestObject.objects.values_list().extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third'))))),\n-            [(u'first', u'second', u'third', obj.pk, u'first', u'second', u'third')]\n+            [('first', 'second', 'third', obj.pk, 'first', 'second', 'third')]\n         )\n \n         # Extra columns ignored completely if not mentioned in values_list()\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('first', 'second')),\n-            [(u'first', u'second')]\n+            [('first', 'second')]\n         )\n \n         # Extra columns after a non-empty values_list() clause are ignored completely\n         self.assertEqual(\n             list(TestObject.objects.values_list('first', 'second').extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third'))))),\n-            [(u'first', u'second')]\n+            [('first', 'second')]\n         )\n \n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('second', flat=True)),\n-            [u'second']\n+            ['second']\n         )\n \n         # Only the extra columns specified in the values_list() are returned\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('first', 'second', 'whiz')),\n-            [(u'first', u'second', u'third')]\n+            [('first', 'second', 'third')]\n         )\n \n         # ...also works if only extra columns are included\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('foo','whiz')),\n-            [(u'first', u'third')]\n+            [('first', 'third')]\n         )\n \n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('whiz', flat=True)),\n-            [u'third']\n+            ['third']\n         )\n \n         # ... and values are returned in the order they are specified\n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('whiz','foo')),\n-            [(u'third', u'first')]\n+            [('third', 'first')]\n         )\n \n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('first','id')),\n-            [(u'first', obj.pk)]\n+            [('first', obj.pk)]\n         )\n \n         self.assertEqual(\n             list(TestObject.objects.extra(select=SortedDict((('foo','first'), ('bar','second'), ('whiz','third')))).values_list('whiz', 'first', 'bar', 'id')),\n-            [(u'third', u'first', u'second', obj.pk)]\n+            [('third', 'first', 'second', obj.pk)]\n         )\n \n     def test_regression_10847(self):"
        },
        {
            "sha": "51b220786724e29f0806228bd8f64523d1662963",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,5 +1,5 @@\n # -*- coding: utf-8 -*-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import errno\n import os\n@@ -251,9 +251,9 @@ def test_listdir(self):\n         os.mkdir(os.path.join(self.temp_dir, 'storage_dir_1'))\n \n         dirs, files = self.storage.listdir('')\n-        self.assertEqual(set(dirs), set([u'storage_dir_1']))\n+        self.assertEqual(set(dirs), set(['storage_dir_1']))\n         self.assertEqual(set(files),\n-                         set([u'storage_test_1', u'storage_test_2']))\n+                         set(['storage_test_1', 'storage_test_2']))\n \n         self.storage.delete('storage_test_1')\n         self.storage.delete('storage_test_2')\n@@ -388,7 +388,7 @@ def test_unicode_file_names(self):\n         out the encoding situation between doctest and this file, but the actual\n         repr doesn't matter; it just shouldn't return a unicode object.\n         \"\"\"\n-        uf = UploadedFile(name=u'¿Cómo?',content_type='text')\n+        uf = UploadedFile(name='¿Cómo?',content_type='text')\n         self.assertEqual(type(uf.__repr__()), str)\n \n # Tests for a race condition on file saving (#4948)."
        },
        {
            "sha": "a7424639b4f49aa8e0a90aaf94076aad6198f8f9",
            "filename": "tests/regressiontests/file_uploads/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,5 @@\n #! -*- coding: utf-8 -*-\n-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import base64\n import errno\n@@ -20,7 +19,7 @@\n from .models import FileModel, temp_storage, UPLOAD_TO\n \n \n-UNICODE_FILENAME = u'test-0123456789_中文_Orléans.jpg'\n+UNICODE_FILENAME = 'test-0123456789_中文_Orléans.jpg'\n \n class FileUploadTests(TestCase):\n     def test_simple_upload(self):\n@@ -71,7 +70,7 @@ def test_base64_upload(self):\n             base64.b64encode(test_string),\n             '--' + client.BOUNDARY + '--',\n             '',\n-        ])\n+        ]).encode('utf-8')\n         r = {\n             'CONTENT_LENGTH': len(payload),\n             'CONTENT_TYPE':   client.MULTIPART_CONTENT,\n@@ -140,7 +139,7 @@ def test_dangerous_file_names(self):\n             '',\n         ])\n \n-        payload = \"\\r\\n\".join(payload)\n+        payload = \"\\r\\n\".join(payload).encode('utf-8')\n         r = {\n             'CONTENT_LENGTH': len(payload),\n             'CONTENT_TYPE':   client.MULTIPART_CONTENT,\n@@ -167,7 +166,7 @@ def test_filename_overflow(self):\n             'Oops.'\n             '--' + client.BOUNDARY + '--',\n             '',\n-        ])\n+        ]).encode('utf-8')\n         r = {\n             'CONTENT_LENGTH': len(payload),\n             'CONTENT_TYPE':   client.MULTIPART_CONTENT,\n@@ -192,7 +191,7 @@ def test_truncated_multipart_handled_gracefully(self):\n             'file contents'\n             '--' + client.BOUNDARY + '--',\n             '',\n-        ])\n+        ]).encode('utf-8')\n         payload = payload[:-10]\n         r = {\n             'CONTENT_LENGTH': len(payload),\n@@ -268,11 +267,11 @@ def test_fileupload_getlist(self):\n \n         response = self.client.post('/file_uploads/getlist_count/', {\n             'file1': file1,\n-            'field1': u'test',\n-            'field2': u'test3',\n-            'field3': u'test5',\n-            'field4': u'test6',\n-            'field5': u'test7',\n+            'field1': 'test',\n+            'field2': 'test3',\n+            'field3': 'test5',\n+            'field4': 'test6',\n+            'field5': 'test7',\n             'file2': (file2, file2a)\n         })\n         got = json.loads(response.content)"
        },
        {
            "sha": "73b09cbcff0ddb6639de3128e70ff9bd6391885e",
            "filename": "tests/regressiontests/file_uploads/views.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_uploads%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffile_uploads%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_uploads%2Fviews.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import hashlib\n import json\n@@ -67,7 +67,7 @@ def file_upload_unicode_name(request):\n     # through file save.\n     uni_named_file = request.FILES['file_unicode']\n     obj = FileModel.objects.create(testfile=uni_named_file)\n-    full_name = u'%s/%s' % (UPLOAD_TO, uni_named_file.name)\n+    full_name = '%s/%s' % (UPLOAD_TO, uni_named_file.name)\n     if not os.path.exists(full_name):\n         response = HttpResponseServerError()\n "
        },
        {
            "sha": "5d23a21dcd8629fa629b4dcf242eacdbd013a6fd",
            "filename": "tests/regressiontests/fixtures_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,4 @@\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.contrib.auth.models import User\n from django.db import models\n@@ -29,7 +29,7 @@ class Stuff(models.Model):\n     owner = models.ForeignKey(User, null=True)\n \n     def __unicode__(self):\n-        return unicode(self.name) + u' is owned by ' + unicode(self.owner)\n+        return unicode(self.name) + ' is owned by ' + unicode(self.owner)\n \n \n class Absolute(models.Model):\n@@ -128,7 +128,7 @@ class Meta:\n         ordering = ('name',)\n \n     def __unicode__(self):\n-        return u'%s by %s (available at %s)' % (\n+        return '%s by %s (available at %s)' % (\n             self.name,\n             self.author.name,\n             ', '.join(s.name for s in self.stores.all())\n@@ -148,7 +148,7 @@ def natural_key(self):\n         return self.data\n \n     def __unicode__(self):\n-        return u'NKChild %s:%s' % (self.name, self.data)\n+        return 'NKChild %s:%s' % (self.name, self.data)\n \n \n class RefToNKChild(models.Model):\n@@ -157,7 +157,7 @@ class RefToNKChild(models.Model):\n     nk_m2m = models.ManyToManyField(NKChild, related_name='ref_m2ms')\n \n     def __unicode__(self):\n-        return u'%s: Reference to %s [%s]' % (\n+        return '%s: Reference to %s [%s]' % (\n             self.text,\n             self.nk_fk,\n             ', '.join(str(o) for o in self.nk_m2m.all())"
        },
        {
            "sha": "405c5668260ebbe1e8f18bfeb89e19bd6958d156",
            "filename": "tests/regressiontests/fixtures_regress/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,6 @@\n # -*- coding: utf-8 -*-\n # Unittests for fixtures.\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import os\n import re\n@@ -85,7 +85,7 @@ def test_pretty_print_xml_empty_strings(self):\n             verbosity=0,\n             commit=False\n         )\n-        self.assertEqual(Stuff.objects.all()[0].name, u'')\n+        self.assertEqual(Stuff.objects.all()[0].name, '')\n         self.assertEqual(Stuff.objects.all()[0].owner, None)\n \n     def test_absolute_path(self):"
        },
        {
            "sha": "18e6ddce6de17956f1119a935a0a098a73374092",
            "filename": "tests/regressiontests/forms/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,4 +1,6 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n+\n import os\n import datetime\n import tempfile\n@@ -43,7 +45,7 @@ class Meta:\n         ordering = ('name',)\n \n     def __unicode__(self):\n-        return u'ChoiceOption %d' % self.pk\n+        return 'ChoiceOption %d' % self.pk\n \n \n class ChoiceFieldModel(models.Model):\n@@ -68,7 +70,7 @@ class Group(models.Model):\n     name = models.CharField(max_length=10)\n \n     def __unicode__(self):\n-        return u'%s' % self.name\n+        return '%s' % self.name\n \n \n class Cheese(models.Model):"
        },
        {
            "sha": "f69b41948360322488cb6acac14eb1ef82df26b2",
            "filename": "tests/regressiontests/forms/tests/error_messages.py",
            "status": "modified",
            "additions": 58,
            "deletions": 59,
            "changes": 117,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,5 @@\n # -*- coding: utf-8 -*-\n-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n from django.core.files.uploadedfile import SimpleUploadedFile\n from django.forms import *\n@@ -24,9 +23,9 @@ def test_charfield(self):\n             'max_length': 'LENGTH %(show_value)s, MAX LENGTH %(limit_value)s',\n         }\n         f = CharField(min_length=5, max_length=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'LENGTH 4, MIN LENGTH 5'], f.clean, '1234')\n-        self.assertFormErrors([u'LENGTH 11, MAX LENGTH 10'], f.clean, '12345678901')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['LENGTH 4, MIN LENGTH 5'], f.clean, '1234')\n+        self.assertFormErrors(['LENGTH 11, MAX LENGTH 10'], f.clean, '12345678901')\n \n     def test_integerfield(self):\n         e = {\n@@ -36,10 +35,10 @@ def test_integerfield(self):\n             'max_value': 'MAX VALUE IS %(limit_value)s',\n         }\n         f = IntegerField(min_value=5, max_value=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n-        self.assertFormErrors([u'MIN VALUE IS 5'], f.clean, '4')\n-        self.assertFormErrors([u'MAX VALUE IS 10'], f.clean, '11')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['MIN VALUE IS 5'], f.clean, '4')\n+        self.assertFormErrors(['MAX VALUE IS 10'], f.clean, '11')\n \n     def test_floatfield(self):\n         e = {\n@@ -49,10 +48,10 @@ def test_floatfield(self):\n             'max_value': 'MAX VALUE IS %(limit_value)s',\n         }\n         f = FloatField(min_value=5, max_value=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n-        self.assertFormErrors([u'MIN VALUE IS 5'], f.clean, '4')\n-        self.assertFormErrors([u'MAX VALUE IS 10'], f.clean, '11')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['MIN VALUE IS 5'], f.clean, '4')\n+        self.assertFormErrors(['MAX VALUE IS 10'], f.clean, '11')\n \n     def test_decimalfield(self):\n         e = {\n@@ -65,42 +64,42 @@ def test_decimalfield(self):\n             'max_whole_digits': 'MAX DIGITS BEFORE DP IS %s',\n         }\n         f = DecimalField(min_value=5, max_value=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n-        self.assertFormErrors([u'MIN VALUE IS 5'], f.clean, '4')\n-        self.assertFormErrors([u'MAX VALUE IS 10'], f.clean, '11')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['MIN VALUE IS 5'], f.clean, '4')\n+        self.assertFormErrors(['MAX VALUE IS 10'], f.clean, '11')\n \n         f2 = DecimalField(max_digits=4, decimal_places=2, error_messages=e)\n-        self.assertFormErrors([u'MAX DIGITS IS 4'], f2.clean, '123.45')\n-        self.assertFormErrors([u'MAX DP IS 2'], f2.clean, '1.234')\n-        self.assertFormErrors([u'MAX DIGITS BEFORE DP IS 2'], f2.clean, '123.4')\n+        self.assertFormErrors(['MAX DIGITS IS 4'], f2.clean, '123.45')\n+        self.assertFormErrors(['MAX DP IS 2'], f2.clean, '1.234')\n+        self.assertFormErrors(['MAX DIGITS BEFORE DP IS 2'], f2.clean, '123.4')\n \n     def test_datefield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID',\n         }\n         f = DateField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n \n     def test_timefield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID',\n         }\n         f = TimeField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n \n     def test_datetimefield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID',\n         }\n         f = DateTimeField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n \n     def test_regexfield(self):\n         e = {\n@@ -110,10 +109,10 @@ def test_regexfield(self):\n             'max_length': 'LENGTH %(show_value)s, MAX LENGTH %(limit_value)s',\n         }\n         f = RegexField(r'^\\d+$', min_length=5, max_length=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abcde')\n-        self.assertFormErrors([u'LENGTH 4, MIN LENGTH 5'], f.clean, '1234')\n-        self.assertFormErrors([u'LENGTH 11, MAX LENGTH 10'], f.clean, '12345678901')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abcde')\n+        self.assertFormErrors(['LENGTH 4, MIN LENGTH 5'], f.clean, '1234')\n+        self.assertFormErrors(['LENGTH 11, MAX LENGTH 10'], f.clean, '12345678901')\n \n     def test_emailfield(self):\n         e = {\n@@ -123,10 +122,10 @@ def test_emailfield(self):\n             'max_length': 'LENGTH %(show_value)s, MAX LENGTH %(limit_value)s',\n         }\n         f = EmailField(min_length=8, max_length=10, error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abcdefgh')\n-        self.assertFormErrors([u'LENGTH 7, MIN LENGTH 8'], f.clean, 'a@b.com')\n-        self.assertFormErrors([u'LENGTH 11, MAX LENGTH 10'], f.clean, 'aye@bee.com')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abcdefgh')\n+        self.assertFormErrors(['LENGTH 7, MIN LENGTH 8'], f.clean, 'a@b.com')\n+        self.assertFormErrors(['LENGTH 11, MAX LENGTH 10'], f.clean, 'aye@bee.com')\n \n     def test_filefield(self):\n         e = {\n@@ -136,35 +135,35 @@ def test_filefield(self):\n             'empty': 'EMPTY FILE',\n         }\n         f = FileField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc')\n-        self.assertFormErrors([u'EMPTY FILE'], f.clean, SimpleUploadedFile('name', None))\n-        self.assertFormErrors([u'EMPTY FILE'], f.clean, SimpleUploadedFile('name', ''))\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc')\n+        self.assertFormErrors(['EMPTY FILE'], f.clean, SimpleUploadedFile('name', None))\n+        self.assertFormErrors(['EMPTY FILE'], f.clean, SimpleUploadedFile('name', ''))\n \n     def test_urlfield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID',\n         }\n         f = URLField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID'], f.clean, 'abc.c')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID'], f.clean, 'abc.c')\n \n     def test_booleanfield(self):\n         e = {\n             'required': 'REQUIRED',\n         }\n         f = BooleanField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n \n     def test_choicefield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid_choice': '%(value)s IS INVALID CHOICE',\n         }\n         f = ChoiceField(choices=[('a', 'aye')], error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'b IS INVALID CHOICE'], f.clean, 'b')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['b IS INVALID CHOICE'], f.clean, 'b')\n \n     def test_multiplechoicefield(self):\n         e = {\n@@ -173,9 +172,9 @@ def test_multiplechoicefield(self):\n             'invalid_list': 'NOT A LIST',\n         }\n         f = MultipleChoiceField(choices=[('a', 'aye')], error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'NOT A LIST'], f.clean, 'b')\n-        self.assertFormErrors([u'b IS INVALID CHOICE'], f.clean, ['b'])\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['NOT A LIST'], f.clean, 'b')\n+        self.assertFormErrors(['b IS INVALID CHOICE'], f.clean, ['b'])\n \n     def test_splitdatetimefield(self):\n         e = {\n@@ -184,26 +183,26 @@ def test_splitdatetimefield(self):\n             'invalid_time': 'INVALID TIME',\n         }\n         f = SplitDateTimeField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID DATE', u'INVALID TIME'], f.clean, ['a', 'b'])\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID DATE', 'INVALID TIME'], f.clean, ['a', 'b'])\n \n     def test_ipaddressfield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID IP ADDRESS',\n         }\n         f = IPAddressField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID IP ADDRESS'], f.clean, '127.0.0')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID IP ADDRESS'], f.clean, '127.0.0')\n \n     def test_generic_ipaddressfield(self):\n         e = {\n             'required': 'REQUIRED',\n             'invalid': 'INVALID IP ADDRESS',\n         }\n         f = GenericIPAddressField(error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID IP ADDRESS'], f.clean, '127.0.0')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID IP ADDRESS'], f.clean, '127.0.0')\n \n     def test_subclassing_errorlist(self):\n         class TestForm(Form):\n@@ -219,8 +218,8 @@ def __unicode__(self):\n                 return self.as_divs()\n \n             def as_divs(self):\n-                if not self: return u''\n-                return mark_safe(u'<div class=\"error\">%s</div>' % ''.join([u'<p>%s</p>' % e for e in self]))\n+                if not self: return ''\n+                return mark_safe('<div class=\"error\">%s</div>' % ''.join(['<p>%s</p>' % e for e in self]))\n \n         # This form should print errors the default way.\n         form1 = TestForm({'first_name': 'John'})\n@@ -247,8 +246,8 @@ def test_modelchoicefield(self):\n             'invalid_choice': 'INVALID CHOICE',\n         }\n         f = ModelChoiceField(queryset=ChoiceModel.objects.all(), error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'INVALID CHOICE'], f.clean, '4')\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['INVALID CHOICE'], f.clean, '4')\n \n         # ModelMultipleChoiceField\n         e = {\n@@ -257,6 +256,6 @@ def test_modelchoicefield(self):\n             'list': 'NOT A LIST OF VALUES',\n         }\n         f = ModelMultipleChoiceField(queryset=ChoiceModel.objects.all(), error_messages=e)\n-        self.assertFormErrors([u'REQUIRED'], f.clean, '')\n-        self.assertFormErrors([u'NOT A LIST OF VALUES'], f.clean, '3')\n-        self.assertFormErrors([u'4 IS INVALID CHOICE'], f.clean, ['4'])\n+        self.assertFormErrors(['REQUIRED'], f.clean, '')\n+        self.assertFormErrors(['NOT A LIST OF VALUES'], f.clean, '3')\n+        self.assertFormErrors(['4 IS INVALID CHOICE'], f.clean, ['4'])"
        },
        {
            "sha": "25b21123c42f64e9f364990b510dfcd9330b3aa6",
            "filename": "tests/regressiontests/forms/tests/extra.py",
            "status": "modified",
            "additions": 87,
            "deletions": 88,
            "changes": 175,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,6 +1,5 @@\n # -*- coding: utf-8 -*-\n-\n-from __future__ import absolute_import\n+from __future__ import absolute_import, unicode_literals\n \n import datetime\n \n@@ -366,7 +365,7 @@ def test_selectdate(self):\n         # Invalid dates shouldn't be allowed\n         c = GetDate({'mydate_month':'2', 'mydate_day':'31', 'mydate_year':'2010'})\n         self.assertFalse(c.is_valid())\n-        self.assertEqual(c.errors, {'mydate': [u'Enter a valid date.']})\n+        self.assertEqual(c.errors, {'mydate': ['Enter a valid date.']})\n \n         # label tag is correctly associated with month dropdown\n         d = GetDate({'mydate_month':'1', 'mydate_day':'1', 'mydate_year':'2010'})\n@@ -395,7 +394,7 @@ def decompress(self, value):\n                 return [None, None, None]\n \n             def format_output(self, rendered_widgets):\n-                return u'\\n'.join(rendered_widgets)\n+                return '\\n'.join(rendered_widgets)\n \n         w = ComplexMultiWidget()\n         self.assertHTMLEqual(w.render('name', 'some text,JP,2007-04-25 06:24:00'), \"\"\"<input type=\"text\" name=\"name_0\" value=\"some text\" />\n@@ -422,11 +421,11 @@ def compress(self, data_list):\n                 return None\n \n         f = ComplexField(widget=w)\n-        self.assertEqual(f.clean(['some text', ['J','P'], ['2007-04-25','6:24:00']]), u'some text,JP,2007-04-25 06:24:00')\n-        self.assertFormErrors([u'Select a valid choice. X is not one of the available choices.'], f.clean, ['some text',['X'], ['2007-04-25','6:24:00']])\n+        self.assertEqual(f.clean(['some text', ['J','P'], ['2007-04-25','6:24:00']]), 'some text,JP,2007-04-25 06:24:00')\n+        self.assertFormErrors(['Select a valid choice. X is not one of the available choices.'], f.clean, ['some text',['X'], ['2007-04-25','6:24:00']])\n \n         # If insufficient data is provided, None is substituted\n-        self.assertFormErrors([u'This field is required.'], f.clean, ['some text',['JP']])\n+        self.assertFormErrors(['This field is required.'], f.clean, ['some text',['JP']])\n \n         class ComplexFieldForm(Form):\n             field1 = ComplexField(widget=w)\n@@ -451,26 +450,26 @@ class ComplexFieldForm(Form):\n </select>\n <input type=\"text\" name=\"field1_2_0\" value=\"2007-04-25\" id=\"id_field1_2_0\" /><input type=\"text\" name=\"field1_2_1\" value=\"06:24:00\" id=\"id_field1_2_1\" /></td></tr>\"\"\")\n \n-        self.assertEqual(f.cleaned_data['field1'], u'some text,JP,2007-04-25 06:24:00')\n+        self.assertEqual(f.cleaned_data['field1'], 'some text,JP,2007-04-25 06:24:00')\n \n     def test_ipaddress(self):\n         f = IPAddressField()\n-        self.assertFormErrors([u'This field is required.'], f.clean, '')\n-        self.assertFormErrors([u'This field is required.'], f.clean, None)\n-        self.assertEqual(f.clean('127.0.0.1'), u'127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n+        self.assertFormErrors(['This field is required.'], f.clean, '')\n+        self.assertFormErrors(['This field is required.'], f.clean, None)\n+        self.assertEqual(f.clean('127.0.0.1'), '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n \n         f = IPAddressField(required=False)\n-        self.assertEqual(f.clean(''), u'')\n-        self.assertEqual(f.clean(None), u'')\n-        self.assertEqual(f.clean('127.0.0.1'), u'127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n+        self.assertEqual(f.clean(''), '')\n+        self.assertEqual(f.clean(None), '')\n+        self.assertEqual(f.clean('127.0.0.1'), '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n \n     def test_generic_ipaddress_invalid_arguments(self):\n         self.assertRaises(ValueError, GenericIPAddressField, protocol=\"hamster\")\n@@ -480,93 +479,93 @@ def test_generic_ipaddress_as_generic(self):\n         # The edge cases of the IPv6 validation code are not deeply tested\n         # here, they are covered in the tests for django.utils.ipv6\n         f = GenericIPAddressField()\n-        self.assertFormErrors([u'This field is required.'], f.clean, '')\n-        self.assertFormErrors([u'This field is required.'], f.clean, None)\n-        self.assertEqual(f.clean('127.0.0.1'), u'127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '256.125.1.5')\n-        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), u'fe80::223:6cff:fe8a:2e8a')\n-        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), u'2a02::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '12345:2:3:4')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3::4')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1:2')\n+        self.assertFormErrors(['This field is required.'], f.clean, '')\n+        self.assertFormErrors(['This field is required.'], f.clean, None)\n+        self.assertEqual(f.clean('127.0.0.1'), '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '256.125.1.5')\n+        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), 'fe80::223:6cff:fe8a:2e8a')\n+        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), '2a02::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '12345:2:3:4')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3::4')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1:2')\n \n     def test_generic_ipaddress_as_ipv4_only(self):\n         f = GenericIPAddressField(protocol=\"IPv4\")\n-        self.assertFormErrors([u'This field is required.'], f.clean, '')\n-        self.assertFormErrors([u'This field is required.'], f.clean, None)\n-        self.assertEqual(f.clean('127.0.0.1'), u'127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, 'fe80::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv4 address.'], f.clean, '2a02::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['This field is required.'], f.clean, '')\n+        self.assertFormErrors(['This field is required.'], f.clean, None)\n+        self.assertEqual(f.clean('127.0.0.1'), '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '256.125.1.5')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, 'fe80::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv4 address.'], f.clean, '2a02::223:6cff:fe8a:2e8a')\n \n     def test_generic_ipaddress_as_ipv6_only(self):\n         f = GenericIPAddressField(protocol=\"IPv6\")\n-        self.assertFormErrors([u'This field is required.'], f.clean, '')\n-        self.assertFormErrors([u'This field is required.'], f.clean, None)\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '256.125.1.5')\n-        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), u'fe80::223:6cff:fe8a:2e8a')\n-        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), u'2a02::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '12345:2:3:4')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '1::2:3::4')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n-        self.assertFormErrors([u'Enter a valid IPv6 address.'], f.clean, '1:2')\n+        self.assertFormErrors(['This field is required.'], f.clean, '')\n+        self.assertFormErrors(['This field is required.'], f.clean, None)\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '256.125.1.5')\n+        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), 'fe80::223:6cff:fe8a:2e8a')\n+        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), '2a02::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '12345:2:3:4')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '1::2:3::4')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n+        self.assertFormErrors(['Enter a valid IPv6 address.'], f.clean, '1:2')\n \n     def test_generic_ipaddress_as_generic_not_required(self):\n         f = GenericIPAddressField(required=False)\n-        self.assertEqual(f.clean(''), u'')\n-        self.assertEqual(f.clean(None), u'')\n-        self.assertEqual(f.clean('127.0.0.1'), u'127.0.0.1')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '127.0.0.')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1.2.3.4.5')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '256.125.1.5')\n-        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), u'fe80::223:6cff:fe8a:2e8a')\n-        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), u'2a02::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '12345:2:3:4')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3::4')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n-        self.assertFormErrors([u'Enter a valid IPv4 or IPv6 address.'], f.clean, '1:2')\n+        self.assertEqual(f.clean(''), '')\n+        self.assertEqual(f.clean(None), '')\n+        self.assertEqual(f.clean('127.0.0.1'), '127.0.0.1')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '127.0.0.')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1.2.3.4.5')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '256.125.1.5')\n+        self.assertEqual(f.clean('fe80::223:6cff:fe8a:2e8a'), 'fe80::223:6cff:fe8a:2e8a')\n+        self.assertEqual(f.clean('2a02::223:6cff:fe8a:2e8a'), '2a02::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '12345:2:3:4')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3::4')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, 'foo::223:6cff:fe8a:2e8a')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1::2:3:4:5:6:7:8')\n+        self.assertFormErrors(['Enter a valid IPv4 or IPv6 address.'], f.clean, '1:2')\n \n     def test_generic_ipaddress_normalization(self):\n         # Test the normalising code\n         f = GenericIPAddressField()\n-        self.assertEqual(f.clean('::ffff:0a0a:0a0a'), u'::ffff:10.10.10.10')\n-        self.assertEqual(f.clean('::ffff:10.10.10.10'), u'::ffff:10.10.10.10')\n-        self.assertEqual(f.clean('2001:000:a:0000:0:fe:fe:beef'), u'2001:0:a::fe:fe:beef')\n-        self.assertEqual(f.clean('2001::a:0000:0:fe:fe:beef'), u'2001:0:a::fe:fe:beef')\n+        self.assertEqual(f.clean('::ffff:0a0a:0a0a'), '::ffff:10.10.10.10')\n+        self.assertEqual(f.clean('::ffff:10.10.10.10'), '::ffff:10.10.10.10')\n+        self.assertEqual(f.clean('2001:000:a:0000:0:fe:fe:beef'), '2001:0:a::fe:fe:beef')\n+        self.assertEqual(f.clean('2001::a:0000:0:fe:fe:beef'), '2001:0:a::fe:fe:beef')\n \n         f = GenericIPAddressField(unpack_ipv4=True)\n-        self.assertEqual(f.clean('::ffff:0a0a:0a0a'), u'10.10.10.10')\n+        self.assertEqual(f.clean('::ffff:0a0a:0a0a'), '10.10.10.10')\n \n     def test_smart_unicode(self):\n         class Test:\n             def __str__(self):\n-               return 'ŠĐĆŽćžšđ'\n+               return b'ŠĐĆŽćžšđ'\n \n         class TestU:\n             def __str__(self):\n                return 'Foo'\n             def __unicode__(self):\n-               return u'\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111'\n+               return '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111'\n \n-        self.assertEqual(smart_unicode(Test()), u'\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n-        self.assertEqual(smart_unicode(TestU()), u'\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n-        self.assertEqual(smart_unicode(1), u'1')\n-        self.assertEqual(smart_unicode('foo'), u'foo')\n+        self.assertEqual(smart_unicode(Test()), '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n+        self.assertEqual(smart_unicode(TestU()), '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n+        self.assertEqual(smart_unicode(1), '1')\n+        self.assertEqual(smart_unicode('foo'), 'foo')\n \n     def test_accessing_clean(self):\n         class UserForm(Form):\n@@ -583,16 +582,16 @@ def clean(self):\n \n         f = UserForm({'username': 'SirRobin', 'password': 'blue'})\n         self.assertTrue(f.is_valid())\n-        self.assertEqual(f.cleaned_data['username'], u'sirrobin')\n+        self.assertEqual(f.cleaned_data['username'], 'sirrobin')\n \n     def test_overriding_errorlist(self):\n         class DivErrorList(ErrorList):\n             def __unicode__(self):\n                 return self.as_divs()\n \n             def as_divs(self):\n-                if not self: return u''\n-                return u'<div class=\"errorlist\">%s</div>' % ''.join([u'<div class=\"error\">%s</div>' % force_unicode(e) for e in self])\n+                if not self: return ''\n+                return '<div class=\"errorlist\">%s</div>' % ''.join(['<div class=\"error\">%s</div>' % force_unicode(e) for e in self])\n \n         class CommentForm(Form):\n             name = CharField(max_length=50, required=False)\n@@ -774,7 +773,7 @@ def test_l10n_invalid_date_in(self):\n         a = GetDate({'mydate_month':'2', 'mydate_day':'31', 'mydate_year':'2010'})\n         self.assertFalse(a.is_valid())\n         # 'Geef een geldige datum op.' = 'Enter a valid date.'\n-        self.assertEqual(a.errors, {'mydate': [u'Geef een geldige datum op.']})\n+        self.assertEqual(a.errors, {'mydate': ['Geef een geldige datum op.']})\n \n     def test_form_label_association(self):\n         # label tag is correctly associated with first rendered dropdown"
        },
        {
            "sha": "ebeb19c8fc48bb6ead4fa756955da3a1799c8cd4",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 285,
            "deletions": 283,
            "changes": 568,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -24,6 +24,8 @@\n Other than that, the Field subclasses have class-specific options for\n __init__(). For example, CharField has a max_length option.\n \"\"\"\n+from __future__ import unicode_literals\n+\n import datetime\n import pickle\n import re\n@@ -56,47 +58,47 @@ def test_field_sets_widget_is_required(self):\n \n     def test_charfield_1(self):\n         f = CharField()\n-        self.assertEqual(u'1', f.clean(1))\n-        self.assertEqual(u'hello', f.clean('hello'))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertEqual(u'[1, 2, 3]', f.clean([1, 2, 3]))\n+        self.assertEqual('1', f.clean(1))\n+        self.assertEqual('hello', f.clean('hello'))\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertEqual('[1, 2, 3]', f.clean([1, 2, 3]))\n         self.assertEqual(f.max_length, None)\n         self.assertEqual(f.min_length, None)\n \n     def test_charfield_2(self):\n         f = CharField(required=False)\n-        self.assertEqual(u'1', f.clean(1))\n-        self.assertEqual(u'hello', f.clean('hello'))\n-        self.assertEqual(u'', f.clean(None))\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'[1, 2, 3]', f.clean([1, 2, 3]))\n+        self.assertEqual('1', f.clean(1))\n+        self.assertEqual('hello', f.clean('hello'))\n+        self.assertEqual('', f.clean(None))\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('[1, 2, 3]', f.clean([1, 2, 3]))\n         self.assertEqual(f.max_length, None)\n         self.assertEqual(f.min_length, None)\n \n     def test_charfield_3(self):\n         f = CharField(max_length=10, required=False)\n-        self.assertEqual(u'12345', f.clean('12345'))\n-        self.assertEqual(u'1234567890', f.clean('1234567890'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 10 characters (it has 11).']\", f.clean, '1234567890a')\n+        self.assertEqual('12345', f.clean('12345'))\n+        self.assertEqual('1234567890', f.clean('1234567890'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 10 characters (it has 11).'\", f.clean, '1234567890a')\n         self.assertEqual(f.max_length, 10)\n         self.assertEqual(f.min_length, None)\n \n     def test_charfield_4(self):\n         f = CharField(min_length=10, required=False)\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 10 characters (it has 5).']\", f.clean, '12345')\n-        self.assertEqual(u'1234567890', f.clean('1234567890'))\n-        self.assertEqual(u'1234567890a', f.clean('1234567890a'))\n+        self.assertEqual('', f.clean(''))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at least 10 characters (it has 5).'\", f.clean, '12345')\n+        self.assertEqual('1234567890', f.clean('1234567890'))\n+        self.assertEqual('1234567890a', f.clean('1234567890a'))\n         self.assertEqual(f.max_length, None)\n         self.assertEqual(f.min_length, 10)\n \n     def test_charfield_5(self):\n         f = CharField(min_length=10, required=True)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 10 characters (it has 5).']\", f.clean, '12345')\n-        self.assertEqual(u'1234567890', f.clean('1234567890'))\n-        self.assertEqual(u'1234567890a', f.clean('1234567890a'))\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at least 10 characters (it has 5).'\", f.clean, '12345')\n+        self.assertEqual('1234567890', f.clean('1234567890'))\n+        self.assertEqual('1234567890a', f.clean('1234567890a'))\n         self.assertEqual(f.max_length, None)\n         self.assertEqual(f.min_length, 10)\n \n@@ -121,18 +123,18 @@ def test_charfield_widget_attrs(self):\n \n     def test_integerfield_1(self):\n         f = IntegerField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1, f.clean('1'))\n         self.assertEqual(True, isinstance(f.clean('1'), int))\n         self.assertEqual(23, f.clean('23'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a whole number.']\", f.clean, 'a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a whole number.'\", f.clean, 'a')\n         self.assertEqual(42, f.clean(42))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a whole number.']\", f.clean, 3.14)\n+        self.assertRaisesMessage(ValidationError, \"'Enter a whole number.'\", f.clean, 3.14)\n         self.assertEqual(1, f.clean('1 '))\n         self.assertEqual(1, f.clean(' 1'))\n         self.assertEqual(1, f.clean(' 1 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a whole number.']\", f.clean, '1a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a whole number.'\", f.clean, '1a')\n         self.assertEqual(f.max_value, None)\n         self.assertEqual(f.min_value, None)\n \n@@ -145,29 +147,29 @@ def test_integerfield_2(self):\n         self.assertEqual(1, f.clean('1'))\n         self.assertEqual(True, isinstance(f.clean('1'), int))\n         self.assertEqual(23, f.clean('23'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a whole number.']\", f.clean, 'a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a whole number.'\", f.clean, 'a')\n         self.assertEqual(1, f.clean('1 '))\n         self.assertEqual(1, f.clean(' 1'))\n         self.assertEqual(1, f.clean(' 1 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a whole number.']\", f.clean, '1a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a whole number.'\", f.clean, '1a')\n         self.assertEqual(f.max_value, None)\n         self.assertEqual(f.min_value, None)\n \n     def test_integerfield_3(self):\n         f = IntegerField(max_value=10)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1, f.clean(1))\n         self.assertEqual(10, f.clean(10))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is less than or equal to 10.']\", f.clean, 11)\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 10.'\", f.clean, 11)\n         self.assertEqual(10, f.clean('10'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is less than or equal to 10.']\", f.clean, '11')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 10.'\", f.clean, '11')\n         self.assertEqual(f.max_value, 10)\n         self.assertEqual(f.min_value, None)\n \n     def test_integerfield_4(self):\n         f = IntegerField(min_value=10)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is greater than or equal to 10.']\", f.clean, 1)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 10.'\", f.clean, 1)\n         self.assertEqual(10, f.clean(10))\n         self.assertEqual(11, f.clean(11))\n         self.assertEqual(10, f.clean('10'))\n@@ -177,34 +179,34 @@ def test_integerfield_4(self):\n \n     def test_integerfield_5(self):\n         f = IntegerField(min_value=10, max_value=20)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is greater than or equal to 10.']\", f.clean, 1)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 10.'\", f.clean, 1)\n         self.assertEqual(10, f.clean(10))\n         self.assertEqual(11, f.clean(11))\n         self.assertEqual(10, f.clean('10'))\n         self.assertEqual(11, f.clean('11'))\n         self.assertEqual(20, f.clean(20))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is less than or equal to 20.']\", f.clean, 21)\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 20.'\", f.clean, 21)\n         self.assertEqual(f.max_value, 20)\n         self.assertEqual(f.min_value, 10)\n \n     # FloatField ##################################################################\n \n     def test_floatfield_1(self):\n         f = FloatField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1.0, f.clean('1'))\n         self.assertEqual(True, isinstance(f.clean('1'), float))\n         self.assertEqual(23.0, f.clean('23'))\n         self.assertEqual(3.1400000000000001, f.clean('3.14'))\n         self.assertEqual(3.1400000000000001, f.clean(3.14))\n         self.assertEqual(42.0, f.clean(42))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, 'a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, 'a')\n         self.assertEqual(1.0, f.clean('1.0 '))\n         self.assertEqual(1.0, f.clean(' 1.0'))\n         self.assertEqual(1.0, f.clean(' 1.0 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, '1.0a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, '1.0a')\n         self.assertEqual(f.max_value, None)\n         self.assertEqual(f.min_value, None)\n \n@@ -218,8 +220,8 @@ def test_floatfield_2(self):\n \n     def test_floatfield_3(self):\n         f = FloatField(max_value=1.5, min_value=0.5)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is less than or equal to 1.5.']\", f.clean, '1.6')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is greater than or equal to 0.5.']\", f.clean, '0.4')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 1.5.'\", f.clean, '1.6')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 0.5.'\", f.clean, '0.4')\n         self.assertEqual(1.5, f.clean('1.5'))\n         self.assertEqual(0.5, f.clean('0.5'))\n         self.assertEqual(f.max_value, 1.5)\n@@ -229,34 +231,34 @@ def test_floatfield_3(self):\n \n     def test_decimalfield_1(self):\n         f = DecimalField(max_digits=4, decimal_places=2)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(f.clean('1'), Decimal(\"1\"))\n         self.assertEqual(True, isinstance(f.clean('1'), Decimal))\n         self.assertEqual(f.clean('23'), Decimal(\"23\"))\n         self.assertEqual(f.clean('3.14'), Decimal(\"3.14\"))\n         self.assertEqual(f.clean(3.14), Decimal(\"3.14\"))\n         self.assertEqual(f.clean(Decimal('3.14')), Decimal(\"3.14\"))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, 'NaN')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, 'Inf')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, '-Inf')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, 'a')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, u'łąść')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, 'NaN')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, 'Inf')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, '-Inf')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, 'a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, 'łąść')\n         self.assertEqual(f.clean('1.0 '), Decimal(\"1.0\"))\n         self.assertEqual(f.clean(' 1.0'), Decimal(\"1.0\"))\n         self.assertEqual(f.clean(' 1.0 '), Decimal(\"1.0\"))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, '1.0a')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 4 digits in total.']\", f.clean, '123.45')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 2 decimal places.']\", f.clean, '1.234')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 2 digits before the decimal point.']\", f.clean, '123.4')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, '1.0a')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 4 digits in total.'\", f.clean, '123.45')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 2 decimal places.'\", f.clean, '1.234')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 2 digits before the decimal point.'\", f.clean, '123.4')\n         self.assertEqual(f.clean('-12.34'), Decimal(\"-12.34\"))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 4 digits in total.']\", f.clean, '-123.45')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 4 digits in total.'\", f.clean, '-123.45')\n         self.assertEqual(f.clean('-.12'), Decimal(\"-0.12\"))\n         self.assertEqual(f.clean('-00.12'), Decimal(\"-0.12\"))\n         self.assertEqual(f.clean('-000.12'), Decimal(\"-0.12\"))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 2 decimal places.']\", f.clean, '-000.123')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 4 digits in total.']\", f.clean, '-000.12345')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a number.']\", f.clean, '--0.12')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 2 decimal places.'\", f.clean, '-000.123')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 4 digits in total.'\", f.clean, '-000.12345')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a number.'\", f.clean, '--0.12')\n         self.assertEqual(f.max_digits, 4)\n         self.assertEqual(f.decimal_places, 2)\n         self.assertEqual(f.max_value, None)\n@@ -274,8 +276,8 @@ def test_decimalfield_2(self):\n \n     def test_decimalfield_3(self):\n         f = DecimalField(max_digits=4, decimal_places=2, max_value=Decimal('1.5'), min_value=Decimal('0.5'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is less than or equal to 1.5.']\", f.clean, '1.6')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value is greater than or equal to 0.5.']\", f.clean, '0.4')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 1.5.'\", f.clean, '1.6')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 0.5.'\", f.clean, '0.4')\n         self.assertEqual(f.clean('1.5'), Decimal(\"1.5\"))\n         self.assertEqual(f.clean('0.5'), Decimal(\"0.5\"))\n         self.assertEqual(f.clean('.5'), Decimal(\"0.5\"))\n@@ -287,7 +289,7 @@ def test_decimalfield_3(self):\n \n     def test_decimalfield_4(self):\n         f = DecimalField(decimal_places=2)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 2 decimal places.']\", f.clean, '0.00000001')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 2 decimal places.'\", f.clean, '0.00000001')\n \n     def test_decimalfield_5(self):\n         f = DecimalField(max_digits=3)\n@@ -297,13 +299,13 @@ def test_decimalfield_5(self):\n         self.assertEqual(f.clean('0000000.100'), Decimal(\"0.100\"))\n         # Only leading whole zeros \"collapse\" to one digit.\n         self.assertEqual(f.clean('000000.02'), Decimal('0.02'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 3 digits in total.']\", f.clean, '000000.0002')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 3 digits in total.'\", f.clean, '000000.0002')\n         self.assertEqual(f.clean('.002'), Decimal(\"0.002\"))\n \n     def test_decimalfield_6(self):\n         f = DecimalField(max_digits=2, decimal_places=2)\n         self.assertEqual(f.clean('.01'), Decimal(\".01\"))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure that there are no more than 0 digits before the decimal point.']\", f.clean, '1.1')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 0 digits before the decimal point.'\", f.clean, '1.1')\n \n     # DateField ###################################################################\n \n@@ -321,10 +323,10 @@ def test_datefield_1(self):\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean('October 25, 2006'))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean('25 October 2006'))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean('25 October, 2006'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '2006-4-31')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '200a-10-25')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '25/10/06')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '2006-4-31')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '200a-10-25')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '25/10/06')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n \n     def test_datefield_2(self):\n         f = DateField(required=False)\n@@ -338,9 +340,9 @@ def test_datefield_3(self):\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(datetime.date(2006, 10, 25)))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(datetime.datetime(2006, 10, 25, 14, 30)))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean('2006 10 25'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '2006-10-25')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '10/25/2006')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '10/25/06')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '2006-10-25')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '10/25/2006')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '10/25/06')\n \n     def test_datefield_4(self):\n         # Test whitespace stripping behavior (#5714)\n@@ -351,7 +353,7 @@ def test_datefield_4(self):\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(' October  25 2006 '))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(' October 25, 2006 '))\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(' 25 October 2006 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, '   ')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '   ')\n \n     # TimeField ###################################################################\n \n@@ -361,23 +363,23 @@ def test_timefield_1(self):\n         self.assertEqual(datetime.time(14, 25, 59), f.clean(datetime.time(14, 25, 59)))\n         self.assertEqual(datetime.time(14, 25), f.clean('14:25'))\n         self.assertEqual(datetime.time(14, 25, 59), f.clean('14:25:59'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, 'hello')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, '1:24 p.m.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, 'hello')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, '1:24 p.m.')\n \n     def test_timefield_2(self):\n         f = TimeField(input_formats=['%I:%M %p'])\n         self.assertEqual(datetime.time(14, 25), f.clean(datetime.time(14, 25)))\n         self.assertEqual(datetime.time(14, 25, 59), f.clean(datetime.time(14, 25, 59)))\n         self.assertEqual(datetime.time(4, 25), f.clean('4:25 AM'))\n         self.assertEqual(datetime.time(16, 25), f.clean('4:25 PM'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, '14:30:45')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, '14:30:45')\n \n     def test_timefield_3(self):\n         f = TimeField()\n         # Test whitespace stripping behavior (#5714)\n         self.assertEqual(datetime.time(14, 25), f.clean(' 14:25 '))\n         self.assertEqual(datetime.time(14, 25, 59), f.clean(' 14:25:59 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, '   ')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, '   ')\n \n     # DateTimeField ###############################################################\n \n@@ -403,8 +405,8 @@ def test_datetimefield_1(self):\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30), f.clean('10/25/06 14:30:00'))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30), f.clean('10/25/06 14:30'))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 0, 0), f.clean('10/25/06'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date/time.']\", f.clean, 'hello')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date/time.']\", f.clean, '2006-10-25 4:30 p.m.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date/time.'\", f.clean, 'hello')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date/time.'\", f.clean, '2006-10-25 4:30 p.m.')\n \n     def test_datetimefield_2(self):\n         f = DateTimeField(input_formats=['%Y %m %d %I:%M %p'])\n@@ -413,7 +415,7 @@ def test_datetimefield_2(self):\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30, 59), f.clean(datetime.datetime(2006, 10, 25, 14, 30, 59)))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30, 59, 200), f.clean(datetime.datetime(2006, 10, 25, 14, 30, 59, 200)))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30), f.clean('2006 10 25 2:30 PM'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date/time.']\", f.clean, '2006-10-25 14:30:45')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date/time.'\", f.clean, '2006-10-25 14:30:45')\n \n     def test_datetimefield_3(self):\n         f = DateTimeField(required=False)\n@@ -432,51 +434,51 @@ def test_datetimefield_4(self):\n         self.assertEqual(datetime.datetime(2006, 10, 25, 0, 0), f.clean(' 10/25/2006 '))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30, 45), f.clean(' 10/25/06 14:30:45 '))\n         self.assertEqual(datetime.datetime(2006, 10, 25, 0, 0), f.clean(' 10/25/06 '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date/time.']\", f.clean, '   ')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date/time.'\", f.clean, '   ')\n \n     def test_datetimefield_5(self):\n-        f = DateTimeField(input_formats=[u'%Y.%m.%d %H:%M:%S.%f'])\n+        f = DateTimeField(input_formats=['%Y.%m.%d %H:%M:%S.%f'])\n         self.assertEqual(datetime.datetime(2006, 10, 25, 14, 30, 45, 200), f.clean('2006.10.25 14:30:45.0002'))\n     # RegexField ##################################################################\n \n     def test_regexfield_1(self):\n         f = RegexField('^\\d[A-F]\\d$')\n-        self.assertEqual(u'2A2', f.clean('2A2'))\n-        self.assertEqual(u'3F3', f.clean('3F3'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '3G3')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, ' 2A2')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '2A2 ')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n+        self.assertEqual('2A2', f.clean('2A2'))\n+        self.assertEqual('3F3', f.clean('3F3'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '3G3')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, ' 2A2')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '2A2 ')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n \n     def test_regexfield_2(self):\n         f = RegexField('^\\d[A-F]\\d$', required=False)\n-        self.assertEqual(u'2A2', f.clean('2A2'))\n-        self.assertEqual(u'3F3', f.clean('3F3'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '3G3')\n-        self.assertEqual(u'', f.clean(''))\n+        self.assertEqual('2A2', f.clean('2A2'))\n+        self.assertEqual('3F3', f.clean('3F3'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '3G3')\n+        self.assertEqual('', f.clean(''))\n \n     def test_regexfield_3(self):\n         f = RegexField(re.compile('^\\d[A-F]\\d$'))\n-        self.assertEqual(u'2A2', f.clean('2A2'))\n-        self.assertEqual(u'3F3', f.clean('3F3'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '3G3')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, ' 2A2')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '2A2 ')\n+        self.assertEqual('2A2', f.clean('2A2'))\n+        self.assertEqual('3F3', f.clean('3F3'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '3G3')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, ' 2A2')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '2A2 ')\n \n     def test_regexfield_4(self):\n         f = RegexField('^\\d\\d\\d\\d$', error_message='Enter a four-digit number.')\n-        self.assertEqual(u'1234', f.clean('1234'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a four-digit number.']\", f.clean, '123')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a four-digit number.']\", f.clean, 'abcd')\n+        self.assertEqual('1234', f.clean('1234'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a four-digit number.'\", f.clean, '123')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a four-digit number.'\", f.clean, 'abcd')\n \n     def test_regexfield_5(self):\n         f = RegexField('^\\d+$', min_length=5, max_length=10)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 5 characters (it has 3).']\", f.clean, '123')\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 5 characters (it has 3).', u'Enter a valid value.']\", f.clean, 'abc')\n-        self.assertEqual(u'12345', f.clean('12345'))\n-        self.assertEqual(u'1234567890', f.clean('1234567890'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 10 characters (it has 11).']\", f.clean, '12345678901')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '12345a')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at least 5 characters (it has 3).'\", f.clean, '123')\n+        self.assertRaisesRegexp(ValidationError, \"'Ensure this value has at least 5 characters \\(it has 3\\)\\.', u?'Enter a valid value\\.'\", f.clean, 'abc')\n+        self.assertEqual('12345', f.clean('12345'))\n+        self.assertEqual('1234567890', f.clean('1234567890'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 10 characters (it has 11).'\", f.clean, '12345678901')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, '12345a')\n \n     def test_regexfield_6(self):\n         \"\"\"\n@@ -489,78 +491,78 @@ def test_regexfield_6(self):\n     def test_change_regex_after_init(self):\n         f = RegexField('^[a-z]+$')\n         f.regex = '^\\d+$'\n-        self.assertEqual(u'1234', f.clean('1234'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, 'abcd')\n+        self.assertEqual('1234', f.clean('1234'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid value.'\", f.clean, 'abcd')\n \n     # EmailField ##################################################################\n \n     def test_emailfield_1(self):\n         f = EmailField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertEqual(u'person@example.com', f.clean('person@example.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo@')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo@bar')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'example@invalid-.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'example@-invalid.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'example@inv-.alid-.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'example@inv-.-alid.com')\n-        self.assertEqual(u'example@valid-----hyphens.com', f.clean('example@valid-----hyphens.com'))\n-        self.assertEqual(u'example@valid-with-hyphens.com', f.clean('example@valid-with-hyphens.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'example@.com')\n-        self.assertEqual(u'local@domain.with.idn.xyz\\xe4\\xf6\\xfc\\xdfabc.part.com', f.clean('local@domain.with.idn.xyzäöüßabc.part.com'))\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertEqual('person@example.com', f.clean('person@example.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo@')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo@bar')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'example@invalid-.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'example@-invalid.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'example@inv-.alid-.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'example@inv-.-alid.com')\n+        self.assertEqual('example@valid-----hyphens.com', f.clean('example@valid-----hyphens.com'))\n+        self.assertEqual('example@valid-with-hyphens.com', f.clean('example@valid-with-hyphens.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'example@.com')\n+        self.assertEqual('local@domain.with.idn.xyz\\xe4\\xf6\\xfc\\xdfabc.part.com', f.clean('local@domain.with.idn.xyzäöüßabc.part.com'))\n \n     def test_email_regexp_for_performance(self):\n         f = EmailField()\n         # Check for runaway regex security problem. This will take for-freeking-ever\n         # if the security fix isn't in place.\n         self.assertRaisesMessage(\n                 ValidationError,\n-                \"[u'Enter a valid e-mail address.']\",\n+                \"'Enter a valid e-mail address.'\",\n                 f.clean,\n                 'viewx3dtextx26qx3d@yahoo.comx26latlngx3d15854521645943074058'\n             )\n \n     def test_emailfield_2(self):\n         f = EmailField(required=False)\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'', f.clean(None))\n-        self.assertEqual(u'person@example.com', f.clean('person@example.com'))\n-        self.assertEqual(u'example@example.com', f.clean('      example@example.com  \\t   \\t '))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo@')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'foo@bar')\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('', f.clean(None))\n+        self.assertEqual('person@example.com', f.clean('person@example.com'))\n+        self.assertEqual('example@example.com', f.clean('      example@example.com  \\t   \\t '))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo@')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'foo@bar')\n \n     def test_emailfield_3(self):\n         f = EmailField(min_length=10, max_length=15)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 10 characters (it has 9).']\", f.clean, 'a@foo.com')\n-        self.assertEqual(u'alf@foo.com', f.clean('alf@foo.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 15 characters (it has 20).']\", f.clean, 'alf123456788@foo.com')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at least 10 characters (it has 9).'\", f.clean, 'a@foo.com')\n+        self.assertEqual('alf@foo.com', f.clean('alf@foo.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 15 characters (it has 20).'\", f.clean, 'alf123456788@foo.com')\n \n     # FileField ##################################################################\n \n     def test_filefield_1(self):\n         f = FileField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '', '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '', '')\n         self.assertEqual('files/test1.pdf', f.clean('', 'files/test1.pdf'))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None, '')\n         self.assertEqual('files/test2.pdf', f.clean(None, 'files/test2.pdf'))\n-        self.assertRaisesMessage(ValidationError, \"[u'No file was submitted. Check the encoding type on the form.']\", f.clean, SimpleUploadedFile('', b''))\n-        self.assertRaisesMessage(ValidationError, \"[u'No file was submitted. Check the encoding type on the form.']\", f.clean, SimpleUploadedFile('', b''), '')\n+        self.assertRaisesMessage(ValidationError, \"'No file was submitted. Check the encoding type on the form.'\", f.clean, SimpleUploadedFile('', b''))\n+        self.assertRaisesMessage(ValidationError, \"'No file was submitted. Check the encoding type on the form.'\", f.clean, SimpleUploadedFile('', b''), '')\n         self.assertEqual('files/test3.pdf', f.clean(None, 'files/test3.pdf'))\n-        self.assertRaisesMessage(ValidationError, \"[u'No file was submitted. Check the encoding type on the form.']\", f.clean, 'some content that is not a file')\n-        self.assertRaisesMessage(ValidationError, \"[u'The submitted file is empty.']\", f.clean, SimpleUploadedFile('name', None))\n-        self.assertRaisesMessage(ValidationError, \"[u'The submitted file is empty.']\", f.clean, SimpleUploadedFile('name', b''))\n+        self.assertRaisesMessage(ValidationError, \"'No file was submitted. Check the encoding type on the form.'\", f.clean, 'some content that is not a file')\n+        self.assertRaisesMessage(ValidationError, \"'The submitted file is empty.'\", f.clean, SimpleUploadedFile('name', None))\n+        self.assertRaisesMessage(ValidationError, \"'The submitted file is empty.'\", f.clean, SimpleUploadedFile('name', b''))\n         self.assertEqual(SimpleUploadedFile, type(f.clean(SimpleUploadedFile('name', b'Some File Content'))))\n-        self.assertEqual(SimpleUploadedFile, type(f.clean(SimpleUploadedFile('我隻氣墊船裝滿晒鱔.txt', u'मेरी मँडराने वाली नाव सर्पमीनों से भरी ह'.encode('utf-8')))))\n+        self.assertEqual(SimpleUploadedFile, type(f.clean(SimpleUploadedFile('我隻氣墊船裝滿晒鱔.txt', 'मेरी मँडराने वाली नाव सर्पमीनों से भरी ह'.encode('utf-8')))))\n         self.assertEqual(SimpleUploadedFile, type(f.clean(SimpleUploadedFile('name', b'Some File Content'), 'files/test4.pdf')))\n \n     def test_filefield_2(self):\n         f = FileField(max_length = 5)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this filename has at most 5 characters (it has 18).']\", f.clean, SimpleUploadedFile('test_maxlength.txt', b'hello world'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this filename has at most 5 characters (it has 18).'\", f.clean, SimpleUploadedFile('test_maxlength.txt', b'hello world'))\n         self.assertEqual('files/test1.pdf', f.clean('', 'files/test1.pdf'))\n         self.assertEqual('files/test2.pdf', f.clean(None, 'files/test2.pdf'))\n         self.assertEqual(SimpleUploadedFile, type(f.clean(SimpleUploadedFile('name', b'Some File Content'))))\n@@ -574,114 +576,114 @@ def test_filefield_3(self):\n \n     def test_urlfield_1(self):\n         f = URLField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertEqual(u'http://localhost/', f.clean('http://localhost'))\n-        self.assertEqual(u'http://example.com/', f.clean('http://example.com'))\n-        self.assertEqual(u'http://example.com./', f.clean('http://example.com.'))\n-        self.assertEqual(u'http://www.example.com/', f.clean('http://www.example.com'))\n-        self.assertEqual(u'http://www.example.com:8000/test', f.clean('http://www.example.com:8000/test'))\n-        self.assertEqual(u'http://valid-with-hyphens.com/', f.clean('valid-with-hyphens.com'))\n-        self.assertEqual(u'http://subdomain.domain.com/', f.clean('subdomain.domain.com'))\n-        self.assertEqual(u'http://200.8.9.10/', f.clean('http://200.8.9.10'))\n-        self.assertEqual(u'http://200.8.9.10:8000/test', f.clean('http://200.8.9.10:8000/test'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'foo')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://example')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://example.')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'com.')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, '.')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://invalid-.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://-invalid.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://inv-.alid-.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://inv-.-alid.com')\n-        self.assertEqual(u'http://valid-----hyphens.com/', f.clean('http://valid-----hyphens.com'))\n-        self.assertEqual(u'http://some.idn.xyz\\xe4\\xf6\\xfc\\xdfabc.domain.com:123/blah', f.clean('http://some.idn.xyzäöüßabc.domain.com:123/blah'))\n-        self.assertEqual(u'http://www.example.com/s/http://code.djangoproject.com/ticket/13804', f.clean('www.example.com/s/http://code.djangoproject.com/ticket/13804'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, '[a')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://[a')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertEqual('http://localhost/', f.clean('http://localhost'))\n+        self.assertEqual('http://example.com/', f.clean('http://example.com'))\n+        self.assertEqual('http://example.com./', f.clean('http://example.com.'))\n+        self.assertEqual('http://www.example.com/', f.clean('http://www.example.com'))\n+        self.assertEqual('http://www.example.com:8000/test', f.clean('http://www.example.com:8000/test'))\n+        self.assertEqual('http://valid-with-hyphens.com/', f.clean('valid-with-hyphens.com'))\n+        self.assertEqual('http://subdomain.domain.com/', f.clean('subdomain.domain.com'))\n+        self.assertEqual('http://200.8.9.10/', f.clean('http://200.8.9.10'))\n+        self.assertEqual('http://200.8.9.10:8000/test', f.clean('http://200.8.9.10:8000/test'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'foo')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://example')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://example.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'com.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, '.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://invalid-.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://-invalid.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://inv-.alid-.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://inv-.-alid.com')\n+        self.assertEqual('http://valid-----hyphens.com/', f.clean('http://valid-----hyphens.com'))\n+        self.assertEqual('http://some.idn.xyz\\xe4\\xf6\\xfc\\xdfabc.domain.com:123/blah', f.clean('http://some.idn.xyzäöüßabc.domain.com:123/blah'))\n+        self.assertEqual('http://www.example.com/s/http://code.djangoproject.com/ticket/13804', f.clean('www.example.com/s/http://code.djangoproject.com/ticket/13804'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, '[a')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://[a')\n \n     def test_url_regex_ticket11198(self):\n         f = URLField()\n         # hangs \"forever\" if catastrophic backtracking in ticket:#11198 not fixed\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://%s' % (\"X\"*200,))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://%s' % (\"X\"*200,))\n \n         # a second test, to make sure the problem is really addressed, even on\n         # domains that don't fail the domain label length check in the regex\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://%s' % (\"X\"*60,))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://%s' % (\"X\"*60,))\n \n     def test_urlfield_2(self):\n         f = URLField(required=False)\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'', f.clean(None))\n-        self.assertEqual(u'http://example.com/', f.clean('http://example.com'))\n-        self.assertEqual(u'http://www.example.com/', f.clean('http://www.example.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'foo')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://example')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://example.')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 'http://.com')\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('', f.clean(None))\n+        self.assertEqual('http://example.com/', f.clean('http://example.com'))\n+        self.assertEqual('http://www.example.com/', f.clean('http://www.example.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'foo')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://example')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://example.')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 'http://.com')\n \n     def test_urlfield_5(self):\n         f = URLField(min_length=15, max_length=20)\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at least 15 characters (it has 13).']\", f.clean, 'http://f.com')\n-        self.assertEqual(u'http://example.com/', f.clean('http://example.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 20 characters (it has 38).']\", f.clean, 'http://abcdefghijklmnopqrstuvwxyz.com')\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at least 15 characters (it has 13).'\", f.clean, 'http://f.com')\n+        self.assertEqual('http://example.com/', f.clean('http://example.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 20 characters (it has 38).'\", f.clean, 'http://abcdefghijklmnopqrstuvwxyz.com')\n \n     def test_urlfield_6(self):\n         f = URLField(required=False)\n-        self.assertEqual(u'http://example.com/', f.clean('example.com'))\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'https://example.com/', f.clean('https://example.com'))\n+        self.assertEqual('http://example.com/', f.clean('example.com'))\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('https://example.com/', f.clean('https://example.com'))\n \n     def test_urlfield_7(self):\n         f = URLField()\n-        self.assertEqual(u'http://example.com/', f.clean('http://example.com'))\n-        self.assertEqual(u'http://example.com/test', f.clean('http://example.com/test'))\n+        self.assertEqual('http://example.com/', f.clean('http://example.com'))\n+        self.assertEqual('http://example.com/test', f.clean('http://example.com/test'))\n \n     def test_urlfield_8(self):\n         # ticket #11826\n         f = URLField()\n-        self.assertEqual(u'http://example.com/?some_param=some_value', f.clean('http://example.com?some_param=some_value'))\n+        self.assertEqual('http://example.com/?some_param=some_value', f.clean('http://example.com?some_param=some_value'))\n \n     def test_urlfield_9(self):\n         f = URLField()\n         urls = (\n-            u'http://עברית.idn.icann.org/',\n-            u'http://sãopaulo.com/',\n-            u'http://sãopaulo.com.br/',\n-            u'http://пример.испытание/',\n-            u'http://مثال.إختبار/',\n-            u'http://例子.测试/',\n-            u'http://例子.測試/',\n-            u'http://उदाहरण.परीक्षा/',\n-            u'http://例え.テスト/',\n-            u'http://مثال.آزمایشی/',\n-            u'http://실례.테스트/',\n-            u'http://العربية.idn.icann.org/',\n+            'http://עברית.idn.icann.org/',\n+            'http://sãopaulo.com/',\n+            'http://sãopaulo.com.br/',\n+            'http://пример.испытание/',\n+            'http://مثال.إختبار/',\n+            'http://例子.测试/',\n+            'http://例子.測試/',\n+            'http://उदाहरण.परीक्षा/',\n+            'http://例え.テスト/',\n+            'http://مثال.آزمایشی/',\n+            'http://실례.테스트/',\n+            'http://العربية.idn.icann.org/',\n         )\n         for url in urls:\n             # Valid IDN\n             self.assertEqual(url, f.clean(url))\n \n     def test_urlfield_not_string(self):\n         f = URLField(required=False)\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid URL.']\", f.clean, 23)\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid URL.'\", f.clean, 23)\n \n     # BooleanField ################################################################\n \n     def test_booleanfield_1(self):\n         f = BooleanField()\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(True, f.clean(True))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, False)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, False)\n         self.assertEqual(True, f.clean(1))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, 0)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, 0)\n         self.assertEqual(True, f.clean('Django rocks'))\n         self.assertEqual(True, f.clean('True'))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, 'False')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, 'False')\n \n     def test_booleanfield_2(self):\n         f = BooleanField(required=False)\n@@ -705,34 +707,34 @@ def test_boolean_picklable(self):\n \n     def test_choicefield_1(self):\n         f = ChoiceField(choices=[('1', 'One'), ('2', 'Two')])\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertEqual(u'1', f.clean(1))\n-        self.assertEqual(u'1', f.clean('1'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 3 is not one of the available choices.']\", f.clean, '3')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertEqual('1', f.clean(1))\n+        self.assertEqual('1', f.clean('1'))\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 3 is not one of the available choices.'\", f.clean, '3')\n \n     def test_choicefield_2(self):\n         f = ChoiceField(choices=[('1', 'One'), ('2', 'Two')], required=False)\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'', f.clean(None))\n-        self.assertEqual(u'1', f.clean(1))\n-        self.assertEqual(u'1', f.clean('1'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 3 is not one of the available choices.']\", f.clean, '3')\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('', f.clean(None))\n+        self.assertEqual('1', f.clean(1))\n+        self.assertEqual('1', f.clean('1'))\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 3 is not one of the available choices.'\", f.clean, '3')\n \n     def test_choicefield_3(self):\n         f = ChoiceField(choices=[('J', 'John'), ('P', 'Paul')])\n-        self.assertEqual(u'J', f.clean('J'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. John is not one of the available choices.']\", f.clean, 'John')\n+        self.assertEqual('J', f.clean('J'))\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. John is not one of the available choices.'\", f.clean, 'John')\n \n     def test_choicefield_4(self):\n         f = ChoiceField(choices=[('Numbers', (('1', 'One'), ('2', 'Two'))), ('Letters', (('3','A'),('4','B'))), ('5','Other')])\n-        self.assertEqual(u'1', f.clean(1))\n-        self.assertEqual(u'1', f.clean('1'))\n-        self.assertEqual(u'3', f.clean(3))\n-        self.assertEqual(u'3', f.clean('3'))\n-        self.assertEqual(u'5', f.clean(5))\n-        self.assertEqual(u'5', f.clean('5'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 6 is not one of the available choices.']\", f.clean, '6')\n+        self.assertEqual('1', f.clean(1))\n+        self.assertEqual('1', f.clean('1'))\n+        self.assertEqual('3', f.clean(3))\n+        self.assertEqual('3', f.clean('3'))\n+        self.assertEqual('5', f.clean(5))\n+        self.assertEqual('5', f.clean('5'))\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 6 is not one of the available choices.'\", f.clean, '6')\n \n     # TypedChoiceField ############################################################\n     # TypedChoiceField is just like ChoiceField, except that coerced types will\n@@ -741,7 +743,7 @@ def test_choicefield_4(self):\n     def test_typedchoicefield_1(self):\n         f = TypedChoiceField(choices=[(1, \"+1\"), (-1, \"-1\")], coerce=int)\n         self.assertEqual(1, f.clean('1'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 2 is not one of the available choices.']\", f.clean, '2')\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 2 is not one of the available choices.'\", f.clean, '2')\n \n     def test_typedchoicefield_2(self):\n         # Different coercion, same validation.\n@@ -755,11 +757,11 @@ def test_typedchoicefield_3(self):\n \n     def test_typedchoicefield_4(self):\n         # Even more weirdness: if you have a valid choice but your coercion function\n-        # can't coerce, you'll still get a validation error. Don't do this!\n+        # can't coerce, yo'll still get a validation error. Don't do this!\n         f = TypedChoiceField(choices=[('A', 'A'), ('B', 'B')], coerce=int)\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. B is not one of the available choices.']\", f.clean, 'B')\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. B is not one of the available choices.'\", f.clean, 'B')\n         # Required fields require values\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n \n     def test_typedchoicefield_5(self):\n         # Non-required fields aren't required\n@@ -821,42 +823,42 @@ class MySQLNullBooleanForm(Form):\n \n     def test_multiplechoicefield_1(self):\n         f = MultipleChoiceField(choices=[('1', 'One'), ('2', 'Two')])\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertEqual([u'1'], f.clean([1]))\n-        self.assertEqual([u'1'], f.clean(['1']))\n-        self.assertEqual([u'1', u'2'], f.clean(['1', '2']))\n-        self.assertEqual([u'1', u'2'], f.clean([1, '2']))\n-        self.assertEqual([u'1', u'2'], f.clean((1, '2')))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a list of values.']\", f.clean, 'hello')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, [])\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, ())\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 3 is not one of the available choices.']\", f.clean, ['3'])\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertEqual(['1'], f.clean([1]))\n+        self.assertEqual(['1'], f.clean(['1']))\n+        self.assertEqual(['1', '2'], f.clean(['1', '2']))\n+        self.assertEqual(['1', '2'], f.clean([1, '2']))\n+        self.assertEqual(['1', '2'], f.clean((1, '2')))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a list of values.'\", f.clean, 'hello')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, [])\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, ())\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 3 is not one of the available choices.'\", f.clean, ['3'])\n \n     def test_multiplechoicefield_2(self):\n         f = MultipleChoiceField(choices=[('1', 'One'), ('2', 'Two')], required=False)\n         self.assertEqual([], f.clean(''))\n         self.assertEqual([], f.clean(None))\n-        self.assertEqual([u'1'], f.clean([1]))\n-        self.assertEqual([u'1'], f.clean(['1']))\n-        self.assertEqual([u'1', u'2'], f.clean(['1', '2']))\n-        self.assertEqual([u'1', u'2'], f.clean([1, '2']))\n-        self.assertEqual([u'1', u'2'], f.clean((1, '2')))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a list of values.']\", f.clean, 'hello')\n+        self.assertEqual(['1'], f.clean([1]))\n+        self.assertEqual(['1'], f.clean(['1']))\n+        self.assertEqual(['1', '2'], f.clean(['1', '2']))\n+        self.assertEqual(['1', '2'], f.clean([1, '2']))\n+        self.assertEqual(['1', '2'], f.clean((1, '2')))\n+        self.assertRaisesMessage(ValidationError, \"'Enter a list of values.'\", f.clean, 'hello')\n         self.assertEqual([], f.clean([]))\n         self.assertEqual([], f.clean(()))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 3 is not one of the available choices.']\", f.clean, ['3'])\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 3 is not one of the available choices.'\", f.clean, ['3'])\n \n     def test_multiplechoicefield_3(self):\n         f = MultipleChoiceField(choices=[('Numbers', (('1', 'One'), ('2', 'Two'))), ('Letters', (('3','A'),('4','B'))), ('5','Other')])\n-        self.assertEqual([u'1'], f.clean([1]))\n-        self.assertEqual([u'1'], f.clean(['1']))\n-        self.assertEqual([u'1', u'5'], f.clean([1, 5]))\n-        self.assertEqual([u'1', u'5'], f.clean([1, '5']))\n-        self.assertEqual([u'1', u'5'], f.clean(['1', 5]))\n-        self.assertEqual([u'1', u'5'], f.clean(['1', '5']))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 6 is not one of the available choices.']\", f.clean, ['6'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 6 is not one of the available choices.']\", f.clean, ['1','6'])\n+        self.assertEqual(['1'], f.clean([1]))\n+        self.assertEqual(['1'], f.clean(['1']))\n+        self.assertEqual(['1', '5'], f.clean([1, 5]))\n+        self.assertEqual(['1', '5'], f.clean([1, '5']))\n+        self.assertEqual(['1', '5'], f.clean(['1', 5]))\n+        self.assertEqual(['1', '5'], f.clean(['1', '5']))\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 6 is not one of the available choices.'\", f.clean, ['6'])\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 6 is not one of the available choices.'\", f.clean, ['1','6'])\n \n     # TypedMultipleChoiceField ############################################################\n     # TypedMultipleChoiceField is just like MultipleChoiceField, except that coerced types\n@@ -865,7 +867,7 @@ def test_multiplechoicefield_3(self):\n     def test_typedmultiplechoicefield_1(self):\n         f = TypedMultipleChoiceField(choices=[(1, \"+1\"), (-1, \"-1\")], coerce=int)\n         self.assertEqual([1], f.clean(['1']))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 2 is not one of the available choices.']\", f.clean, ['2'])\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 2 is not one of the available choices.'\", f.clean, ['2'])\n \n     def test_typedmultiplechoicefield_2(self):\n         # Different coercion, same validation.\n@@ -880,15 +882,15 @@ def test_typedmultiplechoicefield_3(self):\n     def test_typedmultiplechoicefield_4(self):\n         f = TypedMultipleChoiceField(choices=[(1, \"+1\"), (-1, \"-1\")], coerce=int)\n         self.assertEqual([1, -1], f.clean(['1','-1']))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. 2 is not one of the available choices.']\", f.clean, ['1','2'])\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. 2 is not one of the available choices.'\", f.clean, ['1','2'])\n \n     def test_typedmultiplechoicefield_5(self):\n         # Even more weirdness: if you have a valid choice but your coercion function\n         # can't coerce, you'll still get a validation error. Don't do this!\n         f = TypedMultipleChoiceField(choices=[('A', 'A'), ('B', 'B')], coerce=int)\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. B is not one of the available choices.']\", f.clean, ['B'])\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. B is not one of the available choices.'\", f.clean, ['B'])\n         # Required fields require values\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, [])\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, [])\n \n     def test_typedmultiplechoicefield_6(self):\n         # Non-required fields aren't required\n@@ -904,19 +906,19 @@ def test_typedmultiplechoicefield_7(self):\n \n     def test_combofield_1(self):\n         f = ComboField(fields=[CharField(max_length=20), EmailField()])\n-        self.assertEqual(u'test@example.com', f.clean('test@example.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 20 characters (it has 28).']\", f.clean, 'longemailaddress@example.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'not an e-mail')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n+        self.assertEqual('test@example.com', f.clean('test@example.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 20 characters (it has 28).'\", f.clean, 'longemailaddress@example.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'not an e-mail')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n \n     def test_combofield_2(self):\n         f = ComboField(fields=[CharField(max_length=20), EmailField()], required=False)\n-        self.assertEqual(u'test@example.com', f.clean('test@example.com'))\n-        self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 20 characters (it has 28).']\", f.clean, 'longemailaddress@example.com')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid e-mail address.']\", f.clean, 'not an e-mail')\n-        self.assertEqual(u'', f.clean(''))\n-        self.assertEqual(u'', f.clean(None))\n+        self.assertEqual('test@example.com', f.clean('test@example.com'))\n+        self.assertRaisesMessage(ValidationError, \"'Ensure this value has at most 20 characters (it has 28).'\", f.clean, 'longemailaddress@example.com')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid e-mail address.'\", f.clean, 'not an e-mail')\n+        self.assertEqual('', f.clean(''))\n+        self.assertEqual('', f.clean(None))\n \n     # FilePathField ###############################################################\n \n@@ -943,7 +945,7 @@ def test_filepathfield_2(self):\n         for exp, got in zip(expected, fix_os_paths(f.choices)):\n             self.assertEqual(exp[1], got[1])\n             self.assertTrue(got[0].endswith(exp[0]))\n-        self.assertRaisesMessage(ValidationError, \"[u'Select a valid choice. fields.py is not one of the available choices.']\", f.clean, 'fields.py')\n+        self.assertRaisesMessage(ValidationError, \"'Select a valid choice. fields.py is not one of the available choices.'\", f.clean, 'fields.py')\n         assert fix_os_paths(f.clean(path + 'fields.py')).endswith('/django/forms/fields.py')\n \n     def test_filepathfield_3(self):\n@@ -1018,12 +1020,12 @@ def test_splitdatetimefield_1(self):\n         f = SplitDateTimeField()\n         assert isinstance(f.widget, SplitDateTimeWidget)\n         self.assertEqual(datetime.datetime(2006, 1, 10, 7, 30), f.clean([datetime.date(2006, 1, 10), datetime.time(7, 30)]))\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, None)\n-        self.assertRaisesMessage(ValidationError, \"[u'This field is required.']\", f.clean, '')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a list of values.']\", f.clean, 'hello')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.', u'Enter a valid time.']\", f.clean, ['hello', 'there'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, ['2006-01-10', 'there'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, ['hello', '07:30'])\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n+        self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n+        self.assertRaisesMessage(ValidationError, \"'Enter a list of values.'\", f.clean, 'hello')\n+        self.assertRaisesRegexp(ValidationError, \"'Enter a valid date\\.', u?'Enter a valid time\\.'\", f.clean, ['hello', 'there'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, ['2006-01-10', 'there'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, ['hello', '07:30'])\n \n     def test_splitdatetimefield_2(self):\n         f = SplitDateTimeField(required=False)\n@@ -1033,10 +1035,10 @@ def test_splitdatetimefield_2(self):\n         self.assertEqual(None, f.clean(''))\n         self.assertEqual(None, f.clean(['']))\n         self.assertEqual(None, f.clean(['', '']))\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a list of values.']\", f.clean, 'hello')\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.', u'Enter a valid time.']\", f.clean, ['hello', 'there'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, ['2006-01-10', 'there'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, ['hello', '07:30'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, ['2006-01-10', ''])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid time.']\", f.clean, ['2006-01-10'])\n-        self.assertRaisesMessage(ValidationError, \"[u'Enter a valid date.']\", f.clean, ['', '07:30'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a list of values.'\", f.clean, 'hello')\n+        self.assertRaisesRegexp(ValidationError, \"'Enter a valid date\\.', u?'Enter a valid time\\.'\", f.clean, ['hello', 'there'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, ['2006-01-10', 'there'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, ['hello', '07:30'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, ['2006-01-10', ''])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid time.'\", f.clean, ['2006-01-10'])\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, ['', '07:30'])"
        },
        {
            "sha": "7e1c8384a059ba3bb5eba42f74b1a5a6d7d05e87",
            "filename": "tests/regressiontests/forms/tests/forms.py",
            "status": "modified",
            "additions": 130,
            "deletions": 127,
            "changes": 257,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8",
            "patch": "@@ -1,11 +1,14 @@\n # -*- coding: utf-8 -*-\n+from __future__ import unicode_literals\n+\n import datetime\n \n from django.core.files.uploadedfile import SimpleUploadedFile\n from django.forms import *\n from django.http import QueryDict\n from django.template import Template, Context\n from django.test import TestCase\n+from django.test.utils import str_prefix\n from django.utils.datastructures import MultiValueDict, MergeDict\n from django.utils.safestring import mark_safe\n \n@@ -29,15 +32,15 @@ class FormsTestCase(TestCase):\n \n     def test_form(self):\n         # Pass a dictionary to a Form's __init__().\n-        p = Person({'first_name': u'John', 'last_name': u'Lennon', 'birthday': u'1940-10-9'})\n+        p = Person({'first_name': 'John', 'last_name': 'Lennon', 'birthday': '1940-10-9'})\n \n         self.assertTrue(p.is_bound)\n         self.assertEqual(p.errors, {})\n         self.assertTrue(p.is_valid())\n-        self.assertHTMLEqual(p.errors.as_ul(), u'')\n-        self.assertEqual(p.errors.as_text(), u'')\n-        self.assertEqual(p.cleaned_data[\"first_name\"], u'John')\n-        self.assertEqual(p.cleaned_data[\"last_name\"], u'Lennon')\n+        self.assertHTMLEqual(p.errors.as_ul(), '')\n+        self.assertEqual(p.errors.as_text(), '')\n+        self.assertEqual(p.cleaned_data[\"first_name\"], 'John')\n+        self.assertEqual(p.cleaned_data[\"last_name\"], 'Lennon')\n         self.assertEqual(p.cleaned_data[\"birthday\"], datetime.date(1940, 10, 9))\n         self.assertHTMLEqual(str(p['first_name']), '<input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" />')\n         self.assertHTMLEqual(str(p['last_name']), '<input type=\"text\" name=\"last_name\" value=\"Lennon\" id=\"id_last_name\" />')\n@@ -63,9 +66,9 @@ def test_form(self):\n             form_output.append([boundfield.label, boundfield.data])\n \n         self.assertEqual(form_output, [\n-            ['First name', u'John'],\n-            ['Last name', u'Lennon'],\n-            ['Birthday', u'1940-10-9']\n+            ['First name', 'John'],\n+            ['Last name', 'Lennon'],\n+            ['Birthday', '1940-10-9']\n         ])\n         self.assertHTMLEqual(str(p), \"\"\"<tr><th><label for=\"id_first_name\">First name:</label></th><td><input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></td></tr>\n <tr><th><label for=\"id_last_name\">Last name:</label></th><td><input type=\"text\" name=\"last_name\" value=\"Lennon\" id=\"id_last_name\" /></td></tr>\n@@ -75,9 +78,9 @@ def test_empty_dict(self):\n         # Empty dictionaries are valid, too.\n         p = Person({})\n         self.assertTrue(p.is_bound)\n-        self.assertEqual(p.errors['first_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['last_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['birthday'], [u'This field is required.'])\n+        self.assertEqual(p.errors['first_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['last_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['birthday'], ['This field is required.'])\n         self.assertFalse(p.is_valid())\n         try:\n             p.cleaned_data\n@@ -128,16 +131,16 @@ def test_unbound_form(self):\n \n     def test_unicode_values(self):\n         # Unicode values are handled properly.\n-        p = Person({'first_name': u'John', 'last_name': u'\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111', 'birthday': '1940-10-9'})\n-        self.assertHTMLEqual(p.as_table(), u'<tr><th><label for=\"id_first_name\">First name:</label></th><td><input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></td></tr>\\n<tr><th><label for=\"id_last_name\">Last name:</label></th><td><input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></td></tr>\\n<tr><th><label for=\"id_birthday\">Birthday:</label></th><td><input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></td></tr>')\n-        self.assertHTMLEqual(p.as_ul(), u'<li><label for=\"id_first_name\">First name:</label> <input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></li>\\n<li><label for=\"id_last_name\">Last name:</label> <input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></li>\\n<li><label for=\"id_birthday\">Birthday:</label> <input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></li>')\n-        self.assertHTMLEqual(p.as_p(), u'<p><label for=\"id_first_name\">First name:</label> <input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></p>\\n<p><label for=\"id_last_name\">Last name:</label> <input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></p>\\n<p><label for=\"id_birthday\">Birthday:</label> <input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></p>')\n-\n-        p = Person({'last_name': u'Lennon'})\n-        self.assertEqual(p.errors['first_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['birthday'], [u'This field is required.'])\n+        p = Person({'first_name': 'John', 'last_name': '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111', 'birthday': '1940-10-9'})\n+        self.assertHTMLEqual(p.as_table(), '<tr><th><label for=\"id_first_name\">First name:</label></th><td><input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></td></tr>\\n<tr><th><label for=\"id_last_name\">Last name:</label></th><td><input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></td></tr>\\n<tr><th><label for=\"id_birthday\">Birthday:</label></th><td><input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></td></tr>')\n+        self.assertHTMLEqual(p.as_ul(), '<li><label for=\"id_first_name\">First name:</label> <input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></li>\\n<li><label for=\"id_last_name\">Last name:</label> <input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></li>\\n<li><label for=\"id_birthday\">Birthday:</label> <input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></li>')\n+        self.assertHTMLEqual(p.as_p(), '<p><label for=\"id_first_name\">First name:</label> <input type=\"text\" name=\"first_name\" value=\"John\" id=\"id_first_name\" /></p>\\n<p><label for=\"id_last_name\">Last name:</label> <input type=\"text\" name=\"last_name\" value=\"\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111\" id=\"id_last_name\" /></p>\\n<p><label for=\"id_birthday\">Birthday:</label> <input type=\"text\" name=\"birthday\" value=\"1940-10-9\" id=\"id_birthday\" /></p>')\n+\n+        p = Person({'last_name': 'Lennon'})\n+        self.assertEqual(p.errors['first_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['birthday'], ['This field is required.'])\n         self.assertFalse(p.is_valid())\n-        self.assertHTMLEqual(p.errors.as_ul(), u'<ul class=\"errorlist\"><li>first_name<ul class=\"errorlist\"><li>This field is required.</li></ul></li><li>birthday<ul class=\"errorlist\"><li>This field is required.</li></ul></li></ul>')\n+        self.assertHTMLEqual(p.errors.as_ul(), '<ul class=\"errorlist\"><li>first_name<ul class=\"errorlist\"><li>This field is required.</li></ul></li><li>birthday<ul class=\"errorlist\"><li>This field is required.</li></ul></li></ul>')\n         self.assertEqual(p.errors.as_text(), \"\"\"* first_name\n   * This field is required.\n * birthday\n@@ -147,9 +150,9 @@ def test_unicode_values(self):\n             self.fail('Attempts to access cleaned_data when validation fails should fail.')\n         except AttributeError:\n             pass\n-        self.assertEqual(p['first_name'].errors, [u'This field is required.'])\n-        self.assertHTMLEqual(p['first_name'].errors.as_ul(), u'<ul class=\"errorlist\"><li>This field is required.</li></ul>')\n-        self.assertEqual(p['first_name'].errors.as_text(), u'* This field is required.')\n+        self.assertEqual(p['first_name'].errors, ['This field is required.'])\n+        self.assertHTMLEqual(p['first_name'].errors.as_ul(), '<ul class=\"errorlist\"><li>This field is required.</li></ul>')\n+        self.assertEqual(p['first_name'].errors.as_text(), '* This field is required.')\n \n         p = Person()\n         self.assertHTMLEqual(str(p['first_name']), '<input type=\"text\" name=\"first_name\" id=\"id_first_name\" />')\n@@ -161,11 +164,11 @@ def test_cleaned_data_only_fields(self):\n         # Form, even if you pass extra data when you define the Form. In this\n         # example, we pass a bunch of extra fields to the form constructor,\n         # but cleaned_data contains only the form's fields.\n-        data = {'first_name': u'John', 'last_name': u'Lennon', 'birthday': u'1940-10-9', 'extra1': 'hello', 'extra2': 'hello'}\n+        data = {'first_name': 'John', 'last_name': 'Lennon', 'birthday': '1940-10-9', 'extra1': 'hello', 'extra2': 'hello'}\n         p = Person(data)\n         self.assertTrue(p.is_valid())\n-        self.assertEqual(p.cleaned_data['first_name'], u'John')\n-        self.assertEqual(p.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(p.cleaned_data['first_name'], 'John')\n+        self.assertEqual(p.cleaned_data['last_name'], 'Lennon')\n         self.assertEqual(p.cleaned_data['birthday'], datetime.date(1940, 10, 9))\n \n     def test_optional_data(self):\n@@ -179,25 +182,25 @@ class OptionalPersonForm(Form):\n             last_name = CharField()\n             nick_name = CharField(required=False)\n \n-        data = {'first_name': u'John', 'last_name': u'Lennon'}\n+        data = {'first_name': 'John', 'last_name': 'Lennon'}\n         f = OptionalPersonForm(data)\n         self.assertTrue(f.is_valid())\n-        self.assertEqual(f.cleaned_data['nick_name'], u'')\n-        self.assertEqual(f.cleaned_data['first_name'], u'John')\n-        self.assertEqual(f.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(f.cleaned_data['nick_name'], '')\n+        self.assertEqual(f.cleaned_data['first_name'], 'John')\n+        self.assertEqual(f.cleaned_data['last_name'], 'Lennon')\n \n         # For DateFields, it's set to None.\n         class OptionalPersonForm(Form):\n             first_name = CharField()\n             last_name = CharField()\n             birth_date = DateField(required=False)\n \n-        data = {'first_name': u'John', 'last_name': u'Lennon'}\n+        data = {'first_name': 'John', 'last_name': 'Lennon'}\n         f = OptionalPersonForm(data)\n         self.assertTrue(f.is_valid())\n         self.assertEqual(f.cleaned_data['birth_date'], None)\n-        self.assertEqual(f.cleaned_data['first_name'], u'John')\n-        self.assertEqual(f.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(f.cleaned_data['first_name'], 'John')\n+        self.assertEqual(f.cleaned_data['last_name'], 'Lennon')\n \n     def test_auto_id(self):\n         # \"auto_id\" tells the Form to add an \"id\" attribute to each form element.\n@@ -286,9 +289,9 @@ class ContactForm(Form):\n \n         # as_textarea(), as_text() and as_hidden() are shortcuts for changing the output\n         # widget type:\n-        self.assertHTMLEqual(f['subject'].as_textarea(), u'<textarea name=\"subject\" rows=\"10\" cols=\"40\"></textarea>')\n-        self.assertHTMLEqual(f['message'].as_text(), u'<input type=\"text\" name=\"message\" />')\n-        self.assertHTMLEqual(f['message'].as_hidden(), u'<input type=\"hidden\" name=\"message\" />')\n+        self.assertHTMLEqual(f['subject'].as_textarea(), '<textarea name=\"subject\" rows=\"10\" cols=\"40\"></textarea>')\n+        self.assertHTMLEqual(f['message'].as_text(), '<input type=\"text\" name=\"message\" />')\n+        self.assertHTMLEqual(f['message'].as_hidden(), '<input type=\"hidden\" name=\"message\" />')\n \n         # The 'widget' parameter to a Field can also be an instance:\n         class ContactForm(Form):\n@@ -300,11 +303,11 @@ class ContactForm(Form):\n \n         # Instance-level attrs are *not* carried over to as_textarea(), as_text() and\n         # as_hidden():\n-        self.assertHTMLEqual(f['message'].as_text(), u'<input type=\"text\" name=\"message\" />')\n+        self.assertHTMLEqual(f['message'].as_text(), '<input type=\"text\" name=\"message\" />')\n         f = ContactForm({'subject': 'Hello', 'message': 'I love you.'}, auto_id=False)\n-        self.assertHTMLEqual(f['subject'].as_textarea(), u'<textarea rows=\"10\" cols=\"40\" name=\"subject\">Hello</textarea>')\n-        self.assertHTMLEqual(f['message'].as_text(), u'<input type=\"text\" name=\"message\" value=\"I love you.\" />')\n-        self.assertHTMLEqual(f['message'].as_hidden(), u'<input type=\"hidden\" name=\"message\" value=\"I love you.\" />')\n+        self.assertHTMLEqual(f['subject'].as_textarea(), '<textarea rows=\"10\" cols=\"40\" name=\"subject\">Hello</textarea>')\n+        self.assertHTMLEqual(f['message'].as_text(), '<input type=\"text\" name=\"message\" value=\"I love you.\" />')\n+        self.assertHTMLEqual(f['message'].as_hidden(), '<input type=\"hidden\" name=\"message\" value=\"I love you.\" />')\n \n     def test_forms_with_choices(self):\n         # For a form with a <select>, use ChoiceField:\n@@ -454,7 +457,7 @@ class BeatleForm(Form):\n             name = CharField()\n \n         f = BeatleForm(auto_id=False)\n-        self.assertHTMLEqual('\\n'.join([str(bf) for bf in f['name']]), u'<input type=\"text\" name=\"name\" />')\n+        self.assertHTMLEqual('\\n'.join([str(bf) for bf in f['name']]), '<input type=\"text\" name=\"name\" />')\n \n     def test_forms_with_multiple_choice(self):\n         # MultipleChoiceField is a special case, as its data is required to be a list:\n@@ -582,15 +585,15 @@ class SongFormHidden(Form):\n         # When using CheckboxSelectMultiple, the framework expects a list of input and\n         # returns a list of input.\n         f = SongForm({'name': 'Yesterday'}, auto_id=False)\n-        self.assertEqual(f.errors['composers'], [u'This field is required.'])\n+        self.assertEqual(f.errors['composers'], ['This field is required.'])\n         f = SongForm({'name': 'Yesterday', 'composers': ['J']}, auto_id=False)\n         self.assertEqual(f.errors, {})\n-        self.assertEqual(f.cleaned_data['composers'], [u'J'])\n-        self.assertEqual(f.cleaned_data['name'], u'Yesterday')\n+        self.assertEqual(f.cleaned_data['composers'], ['J'])\n+        self.assertEqual(f.cleaned_data['name'], 'Yesterday')\n         f = SongForm({'name': 'Yesterday', 'composers': ['J', 'P']}, auto_id=False)\n         self.assertEqual(f.errors, {})\n-        self.assertEqual(f.cleaned_data['composers'], [u'J', u'P'])\n-        self.assertEqual(f.cleaned_data['name'], u'Yesterday')\n+        self.assertEqual(f.cleaned_data['composers'], ['J', 'P'])\n+        self.assertEqual(f.cleaned_data['name'], 'Yesterday')\n \n     def test_escaping(self):\n         # Validation errors are HTML-escaped when output as HTML.\n@@ -629,23 +632,23 @@ class UserRegistration(Form):\n \n             def clean_password2(self):\n                 if self.cleaned_data.get('password1') and self.cleaned_data.get('password2') and self.cleaned_data['password1'] != self.cleaned_data['password2']:\n-                    raise ValidationError(u'Please make sure your passwords match.')\n+                    raise ValidationError('Please make sure your passwords match.')\n \n                 return self.cleaned_data['password2']\n \n         f = UserRegistration(auto_id=False)\n         self.assertEqual(f.errors, {})\n         f = UserRegistration({}, auto_id=False)\n-        self.assertEqual(f.errors['username'], [u'This field is required.'])\n-        self.assertEqual(f.errors['password1'], [u'This field is required.'])\n-        self.assertEqual(f.errors['password2'], [u'This field is required.'])\n+        self.assertEqual(f.errors['username'], ['This field is required.'])\n+        self.assertEqual(f.errors['password1'], ['This field is required.'])\n+        self.assertEqual(f.errors['password2'], ['This field is required.'])\n         f = UserRegistration({'username': 'adrian', 'password1': 'foo', 'password2': 'bar'}, auto_id=False)\n-        self.assertEqual(f.errors['password2'], [u'Please make sure your passwords match.'])\n+        self.assertEqual(f.errors['password2'], ['Please make sure your passwords match.'])\n         f = UserRegistration({'username': 'adrian', 'password1': 'foo', 'password2': 'foo'}, auto_id=False)\n         self.assertEqual(f.errors, {})\n-        self.assertEqual(f.cleaned_data['username'], u'adrian')\n-        self.assertEqual(f.cleaned_data['password1'], u'foo')\n-        self.assertEqual(f.cleaned_data['password2'], u'foo')\n+        self.assertEqual(f.cleaned_data['username'], 'adrian')\n+        self.assertEqual(f.cleaned_data['password1'], 'foo')\n+        self.assertEqual(f.cleaned_data['password2'], 'foo')\n \n         # Another way of doing multiple-field validation is by implementing the\n         # Form's clean() method. If you do this, any ValidationError raised by that\n@@ -661,7 +664,7 @@ class UserRegistration(Form):\n \n             def clean(self):\n                 if self.cleaned_data.get('password1') and self.cleaned_data.get('password2') and self.cleaned_data['password1'] != self.cleaned_data['password2']:\n-                    raise ValidationError(u'Please make sure your passwords match.')\n+                    raise ValidationError('Please make sure your passwords match.')\n \n                 return self.cleaned_data\n \n@@ -671,11 +674,11 @@ def clean(self):\n         self.assertHTMLEqual(f.as_table(), \"\"\"<tr><th>Username:</th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"text\" name=\"username\" maxlength=\"10\" /></td></tr>\n <tr><th>Password1:</th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"password\" name=\"password1\" /></td></tr>\n <tr><th>Password2:</th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"password\" name=\"password2\" /></td></tr>\"\"\")\n-        self.assertEqual(f.errors['username'], [u'This field is required.'])\n-        self.assertEqual(f.errors['password1'], [u'This field is required.'])\n-        self.assertEqual(f.errors['password2'], [u'This field is required.'])\n+        self.assertEqual(f.errors['username'], ['This field is required.'])\n+        self.assertEqual(f.errors['password1'], ['This field is required.'])\n+        self.assertEqual(f.errors['password2'], ['This field is required.'])\n         f = UserRegistration({'username': 'adrian', 'password1': 'foo', 'password2': 'bar'}, auto_id=False)\n-        self.assertEqual(f.errors['__all__'], [u'Please make sure your passwords match.'])\n+        self.assertEqual(f.errors['__all__'], ['Please make sure your passwords match.'])\n         self.assertHTMLEqual(f.as_table(), \"\"\"<tr><td colspan=\"2\"><ul class=\"errorlist\"><li>Please make sure your passwords match.</li></ul></td></tr>\n <tr><th>Username:</th><td><input type=\"text\" name=\"username\" value=\"adrian\" maxlength=\"10\" /></td></tr>\n <tr><th>Password1:</th><td><input type=\"password\" name=\"password1\" /></td></tr>\n@@ -686,9 +689,9 @@ def clean(self):\n <li>Password2: <input type=\"password\" name=\"password2\" /></li>\"\"\")\n         f = UserRegistration({'username': 'adrian', 'password1': 'foo', 'password2': 'foo'}, auto_id=False)\n         self.assertEqual(f.errors, {})\n-        self.assertEqual(f.cleaned_data['username'], u'adrian')\n-        self.assertEqual(f.cleaned_data['password1'], u'foo')\n-        self.assertEqual(f.cleaned_data['password2'], u'foo')\n+        self.assertEqual(f.cleaned_data['username'], 'adrian')\n+        self.assertEqual(f.cleaned_data['password1'], 'foo')\n+        self.assertEqual(f.cleaned_data['password2'], 'foo')\n \n     def test_dynamic_construction(self):\n         # It's possible to construct a Form dynamically by adding to the self.fields\n@@ -985,10 +988,10 @@ class Questions(Form):\n         # A label can be a Unicode object or a bytestring with special characters.\n         class UserRegistration(Form):\n             username = CharField(max_length=10, label='ŠĐĆŽćžšđ')\n-            password = CharField(widget=PasswordInput, label=u'\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n+            password = CharField(widget=PasswordInput, label='\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n \n         p = UserRegistration(auto_id=False)\n-        self.assertHTMLEqual(p.as_ul(), u'<li>\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\\n<li>\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111: <input type=\"password\" name=\"password\" /></li>')\n+        self.assertHTMLEqual(p.as_ul(), '<li>\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\\n<li>\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111: <input type=\"password\" name=\"password\" /></li>')\n \n         # If a label is set to the empty string for a field, that field won't get a label.\n         class UserRegistration(Form):\n@@ -1034,8 +1037,8 @@ class FavoriteForm(Form):\n         f = FavoriteForm(auto_id=False, label_suffix='')\n         self.assertHTMLEqual(f.as_ul(), \"\"\"<li>Favorite color? <input type=\"text\" name=\"color\" /></li>\n <li>Favorite animal <input type=\"text\" name=\"animal\" /></li>\"\"\")\n-        f = FavoriteForm(auto_id=False, label_suffix=u'\\u2192')\n-        self.assertHTMLEqual(f.as_ul(), u'<li>Favorite color? <input type=\"text\" name=\"color\" /></li>\\n<li>Favorite animal\\u2192 <input type=\"text\" name=\"animal\" /></li>')\n+        f = FavoriteForm(auto_id=False, label_suffix='\\u2192')\n+        self.assertHTMLEqual(f.as_ul(), '<li>Favorite color? <input type=\"text\" name=\"color\" /></li>\\n<li>Favorite animal\\u2192 <input type=\"text\" name=\"animal\" /></li>')\n \n     def test_initial_data(self):\n         # You can specify initial data for a field by using the 'initial' argument to a\n@@ -1056,18 +1059,18 @@ class UserRegistration(Form):\n         p = UserRegistration({}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><ul class=\"errorlist\"><li>This field is required.</li></ul>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n-        p = UserRegistration({'username': u''}, auto_id=False)\n+        p = UserRegistration({'username': ''}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><ul class=\"errorlist\"><li>This field is required.</li></ul>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n-        p = UserRegistration({'username': u'foo'}, auto_id=False)\n+        p = UserRegistration({'username': 'foo'}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li>Username: <input type=\"text\" name=\"username\" value=\"foo\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n \n         # An 'initial' value is *not* used as a fallback if data is not provided. In this\n         # example, we don't provide a value for 'username', and the form raises a\n         # validation error rather than using the initial value for 'username'.\n         p = UserRegistration({'password': 'secret'})\n-        self.assertEqual(p.errors['username'], [u'This field is required.'])\n+        self.assertEqual(p.errors['username'], ['This field is required.'])\n         self.assertFalse(p.is_valid())\n \n     def test_dynamic_initial_data(self):\n@@ -1092,18 +1095,18 @@ class UserRegistration(Form):\n         p = UserRegistration({}, initial={'username': 'django'}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><ul class=\"errorlist\"><li>This field is required.</li></ul>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n-        p = UserRegistration({'username': u''}, initial={'username': 'django'}, auto_id=False)\n+        p = UserRegistration({'username': ''}, initial={'username': 'django'}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><ul class=\"errorlist\"><li>This field is required.</li></ul>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n-        p = UserRegistration({'username': u'foo'}, initial={'username': 'django'}, auto_id=False)\n+        p = UserRegistration({'username': 'foo'}, initial={'username': 'django'}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li>Username: <input type=\"text\" name=\"username\" value=\"foo\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\"\"\")\n \n         # A dynamic 'initial' value is *not* used as a fallback if data is not provided.\n         # In this example, we don't provide a value for 'username', and the form raises a\n         # validation error rather than using the initial value for 'username'.\n         p = UserRegistration({'password': 'secret'}, initial={'username': 'django'})\n-        self.assertEqual(p.errors['username'], [u'This field is required.'])\n+        self.assertEqual(p.errors['username'], ['This field is required.'])\n         self.assertFalse(p.is_valid())\n \n         # If a Form defines 'initial' *and* 'initial' is passed as a parameter to Form(),\n@@ -1156,15 +1159,15 @@ def initial_other_options():\n <option value=\"b\">bar</option>\n <option value=\"w\">whiz</option>\n </select></li>\"\"\")\n-        p = UserRegistration({'username': u''}, initial={'username': initial_django}, auto_id=False)\n+        p = UserRegistration({'username': ''}, initial={'username': initial_django}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><ul class=\"errorlist\"><li>This field is required.</li></ul>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Options: <select multiple=\"multiple\" name=\"options\">\n <option value=\"f\">foo</option>\n <option value=\"b\">bar</option>\n <option value=\"w\">whiz</option>\n </select></li>\"\"\")\n-        p = UserRegistration({'username': u'foo', 'options':['f','b']}, initial={'username': initial_django}, auto_id=False)\n+        p = UserRegistration({'username': 'foo', 'options':['f','b']}, initial={'username': initial_django}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li>Username: <input type=\"text\" name=\"username\" value=\"foo\" maxlength=\"10\" /></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /></li>\n <li>Options: <select multiple=\"multiple\" name=\"options\">\n@@ -1177,7 +1180,7 @@ def initial_other_options():\n         # In this example, we don't provide a value for 'username', and the form raises a\n         # validation error rather than using the initial value for 'username'.\n         p = UserRegistration({'password': 'secret'}, initial={'username': initial_django, 'options': initial_options})\n-        self.assertEqual(p.errors['username'], [u'This field is required.'])\n+        self.assertEqual(p.errors['username'], ['This field is required.'])\n         self.assertFalse(p.is_valid())\n \n         # If a Form defines 'initial' *and* 'initial' is passed as a parameter to Form(),\n@@ -1234,7 +1237,7 @@ class UserRegistration(Form):\n <tr><th>Password:</th><td><input type=\"password\" name=\"password\" /><br /><span class=\"helptext\">Choose wisely.</span></td></tr>\"\"\")\n \n         # The help text is displayed whether or not data is provided for the form.\n-        p = UserRegistration({'username': u'foo'}, auto_id=False)\n+        p = UserRegistration({'username': 'foo'}, auto_id=False)\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li>Username: <input type=\"text\" name=\"username\" value=\"foo\" maxlength=\"10\" /> <span class=\"helptext\">e.g., user@example.com</span></li>\n <li><ul class=\"errorlist\"><li>This field is required.</li></ul>Password: <input type=\"password\" name=\"password\" /> <span class=\"helptext\">Choose wisely.</span></li>\"\"\")\n \n@@ -1254,7 +1257,7 @@ class UserRegistration(Form):\n             username = CharField(max_length=10, help_text='ŠĐĆŽćžšđ')\n \n         p = UserRegistration(auto_id=False)\n-        self.assertHTMLEqual(p.as_ul(), u'<li>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /> <span class=\"helptext\">\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111</span></li>')\n+        self.assertHTMLEqual(p.as_ul(), '<li>Username: <input type=\"text\" name=\"username\" maxlength=\"10\" /> <span class=\"helptext\">\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111</span></li>')\n \n     def test_subclassing_forms(self):\n         # You can subclass a Form to add fields. The resulting form subclass will have\n@@ -1312,9 +1315,9 @@ class Person(Form):\n             birthday = DateField()\n \n         data = {\n-            'person1-first_name': u'John',\n-            'person1-last_name': u'Lennon',\n-            'person1-birthday': u'1940-10-9'\n+            'person1-first_name': 'John',\n+            'person1-last_name': 'Lennon',\n+            'person1-birthday': '1940-10-9'\n         }\n         p = Person(data, prefix='person1')\n         self.assertHTMLEqual(p.as_ul(), \"\"\"<li><label for=\"id_person1-first_name\">First name:</label> <input type=\"text\" name=\"person1-first_name\" value=\"John\" id=\"id_person1-first_name\" /></li>\n@@ -1325,22 +1328,22 @@ class Person(Form):\n         self.assertHTMLEqual(str(p['birthday']), '<input type=\"text\" name=\"person1-birthday\" value=\"1940-10-9\" id=\"id_person1-birthday\" />')\n         self.assertEqual(p.errors, {})\n         self.assertTrue(p.is_valid())\n-        self.assertEqual(p.cleaned_data['first_name'], u'John')\n-        self.assertEqual(p.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(p.cleaned_data['first_name'], 'John')\n+        self.assertEqual(p.cleaned_data['last_name'], 'Lennon')\n         self.assertEqual(p.cleaned_data['birthday'], datetime.date(1940, 10, 9))\n \n         # Let's try submitting some bad data to make sure form.errors and field.errors\n         # work as expected.\n         data = {\n-            'person1-first_name': u'',\n-            'person1-last_name': u'',\n-            'person1-birthday': u''\n+            'person1-first_name': '',\n+            'person1-last_name': '',\n+            'person1-birthday': ''\n         }\n         p = Person(data, prefix='person1')\n-        self.assertEqual(p.errors['first_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['last_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['birthday'], [u'This field is required.'])\n-        self.assertEqual(p['first_name'].errors, [u'This field is required.'])\n+        self.assertEqual(p.errors['first_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['last_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['birthday'], ['This field is required.'])\n+        self.assertEqual(p['first_name'].errors, ['This field is required.'])\n         try:\n             p['person1-first_name'].errors\n             self.fail('Attempts to access non-existent fields should fail.')\n@@ -1350,34 +1353,34 @@ class Person(Form):\n         # In this example, the data doesn't have a prefix, but the form requires it, so\n         # the form doesn't \"see\" the fields.\n         data = {\n-            'first_name': u'John',\n-            'last_name': u'Lennon',\n-            'birthday': u'1940-10-9'\n+            'first_name': 'John',\n+            'last_name': 'Lennon',\n+            'birthday': '1940-10-9'\n         }\n         p = Person(data, prefix='person1')\n-        self.assertEqual(p.errors['first_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['last_name'], [u'This field is required.'])\n-        self.assertEqual(p.errors['birthday'], [u'This field is required.'])\n+        self.assertEqual(p.errors['first_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['last_name'], ['This field is required.'])\n+        self.assertEqual(p.errors['birthday'], ['This field is required.'])\n \n         # With prefixes, a single data dictionary can hold data for multiple instances\n         # of the same form.\n         data = {\n-            'person1-first_name': u'John',\n-            'person1-last_name': u'Lennon',\n-            'person1-birthday': u'1940-10-9',\n-            'person2-first_name': u'Jim',\n-            'person2-last_name': u'Morrison',\n-            'person2-birthday': u'1943-12-8'\n+            'person1-first_name': 'John',\n+            'person1-last_name': 'Lennon',\n+            'person1-birthday': '1940-10-9',\n+            'person2-first_name': 'Jim',\n+            'person2-last_name': 'Morrison',\n+            'person2-birthday': '1943-12-8'\n         }\n         p1 = Person(data, prefix='person1')\n         self.assertTrue(p1.is_valid())\n-        self.assertEqual(p1.cleaned_data['first_name'], u'John')\n-        self.assertEqual(p1.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(p1.cleaned_data['first_name'], 'John')\n+        self.assertEqual(p1.cleaned_data['last_name'], 'Lennon')\n         self.assertEqual(p1.cleaned_data['birthday'], datetime.date(1940, 10, 9))\n         p2 = Person(data, prefix='person2')\n         self.assertTrue(p2.is_valid())\n-        self.assertEqual(p2.cleaned_data['first_name'], u'Jim')\n-        self.assertEqual(p2.cleaned_data['last_name'], u'Morrison')\n+        self.assertEqual(p2.cleaned_data['first_name'], 'Jim')\n+        self.assertEqual(p2.cleaned_data['last_name'], 'Morrison')\n         self.assertEqual(p2.cleaned_data['birthday'], datetime.date(1943, 12, 8))\n \n         # By default, forms append a hyphen between the prefix and the field name, but a\n@@ -1397,14 +1400,14 @@ def add_prefix(self, field_name):\n <li><label for=\"id_foo-prefix-last_name\">Last name:</label> <input type=\"text\" name=\"foo-prefix-last_name\" id=\"id_foo-prefix-last_name\" /></li>\n <li><label for=\"id_foo-prefix-birthday\">Birthday:</label> <input type=\"text\" name=\"foo-prefix-birthday\" id=\"id_foo-prefix-birthday\" /></li>\"\"\")\n         data = {\n-            'foo-prefix-first_name': u'John',\n-            'foo-prefix-last_name': u'Lennon',\n-            'foo-prefix-birthday': u'1940-10-9'\n+            'foo-prefix-first_name': 'John',\n+            'foo-prefix-last_name': 'Lennon',\n+            'foo-prefix-birthday': '1940-10-9'\n         }\n         p = Person(data, prefix='foo')\n         self.assertTrue(p.is_valid())\n-        self.assertEqual(p.cleaned_data['first_name'], u'John')\n-        self.assertEqual(p.cleaned_data['last_name'], u'Lennon')\n+        self.assertEqual(p.cleaned_data['first_name'], 'John')\n+        self.assertEqual(p.cleaned_data['last_name'], 'Lennon')\n         self.assertEqual(p.cleaned_data['birthday'], datetime.date(1940, 10, 9))\n \n     def test_forms_with_null_boolean(self):\n@@ -1414,37 +1417,37 @@ class Person(Form):\n             name = CharField()\n             is_cool = NullBooleanField()\n \n-        p = Person({'name': u'Joe'}, auto_id=False)\n+        p = Person({'name': 'Joe'}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\" selected=\"selected\">Unknown</option>\n <option value=\"2\">Yes</option>\n <option value=\"3\">No</option>\n </select>\"\"\")\n-        p = Person({'name': u'Joe', 'is_cool': u'1'}, auto_id=False)\n+        p = Person({'name': 'Joe', 'is_cool': '1'}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\" selected=\"selected\">Unknown</option>\n <option value=\"2\">Yes</option>\n <option value=\"3\">No</option>\n </select>\"\"\")\n-        p = Person({'name': u'Joe', 'is_cool': u'2'}, auto_id=False)\n+        p = Person({'name': 'Joe', 'is_cool': '2'}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\">Unknown</option>\n <option value=\"2\" selected=\"selected\">Yes</option>\n <option value=\"3\">No</option>\n </select>\"\"\")\n-        p = Person({'name': u'Joe', 'is_cool': u'3'}, auto_id=False)\n+        p = Person({'name': 'Joe', 'is_cool': '3'}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\">Unknown</option>\n <option value=\"2\">Yes</option>\n <option value=\"3\" selected=\"selected\">No</option>\n </select>\"\"\")\n-        p = Person({'name': u'Joe', 'is_cool': True}, auto_id=False)\n+        p = Person({'name': 'Joe', 'is_cool': True}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\">Unknown</option>\n <option value=\"2\" selected=\"selected\">Yes</option>\n <option value=\"3\">No</option>\n </select>\"\"\")\n-        p = Person({'name': u'Joe', 'is_cool': False}, auto_id=False)\n+        p = Person({'name': 'Joe', 'is_cool': False}, auto_id=False)\n         self.assertHTMLEqual(str(p['is_cool']), \"\"\"<select name=\"is_cool\">\n <option value=\"1\">Unknown</option>\n <option value=\"2\">Yes</option>\n@@ -1473,7 +1476,7 @@ class FileForm(Form):\n         self.assertHTMLEqual(f.as_table(), '<tr><th>File1:</th><td><input type=\"file\" name=\"file1\" /></td></tr>')\n         self.assertTrue(f.is_valid())\n \n-        f = FileForm(data={}, files={'file1': SimpleUploadedFile('我隻氣墊船裝滿晒鱔.txt', u'मेरी मँडराने वाली नाव सर्पमीनों से भरी ह'.encode('utf-8'))}, auto_id=False)\n+        f = FileForm(data={}, files={'file1': SimpleUploadedFile('我隻氣墊船裝滿晒鱔.txt', 'मेरी मँडराने वाली नाव सर्पमीनों से भरी ह'.encode('utf-8'))}, auto_id=False)\n         self.assertHTMLEqual(f.as_table(), '<tr><th>File1:</th><td><input type=\"file\" name=\"file1\" /></td></tr>')\n \n     def test_basic_processing_in_view(self):\n@@ -1484,7 +1487,7 @@ class UserRegistration(Form):\n \n             def clean(self):\n                 if self.cleaned_data.get('password1') and self.cleaned_data.get('password2') and self.cleaned_data['password1'] != self.cleaned_data['password2']:\n-                    raise ValidationError(u'Please make sure your passwords match.')\n+                    raise ValidationError('Please make sure your passwords match.')\n \n                 return self.cleaned_data\n \n@@ -1520,7 +1523,7 @@ def my_function(method, post_data):\n <input type=\"submit\" />\n </form>\"\"\")\n         # Case 3: POST with valid data (the success message).)\n-        self.assertHTMLEqual(my_function('POST', {'username': 'adrian', 'password1': 'secret', 'password2': 'secret'}), \"VALID: {'username': u'adrian', 'password1': u'secret', 'password2': u'secret'}\")\n+        self.assertHTMLEqual(my_function('POST', {'username': 'adrian', 'password1': 'secret', 'password2': 'secret'}), str_prefix(\"VALID: {'username': %(_)s'adrian', 'password1': %(_)s'secret', 'password2': %(_)s'secret'}\"))\n \n     def test_templates_with_forms(self):\n         class UserRegistration(Form):\n@@ -1530,7 +1533,7 @@ class UserRegistration(Form):\n \n             def clean(self):\n                 if self.cleaned_data.get('password1') and self.cleaned_data.get('password2') and self.cleaned_data['password1'] != self.cleaned_data['password2']:\n-                    raise ValidationError(u'Please make sure your passwords match.')\n+                    raise ValidationError('Please make sure your passwords match.')\n \n                 return self.cleaned_data\n \n@@ -1612,7 +1615,7 @@ def clean(self):\n <p>Password2: <input type=\"password\" name=\"password2\" /></p>\n <input type=\"submit\" />\n </form>\"\"\")\n-        self.assertEqual(Template('{{ form.password1.help_text }}').render(Context({'form': UserRegistration(auto_id=False)})), u'')\n+        self.assertEqual(Template('{{ form.password1.help_text }}').render(Context({'form': UserRegistration(auto_id=False)})), '')\n \n         # The label_tag() method takes an optional attrs argument: a dictionary of HTML\n         # attributes to add to the <label> tag.\n@@ -1674,7 +1677,7 @@ class SongForm(Form):\n         data = {'artist': '', 'song': ''}\n         form = SongForm(data, empty_permitted=False)\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors, {'name': [u'This field is required.'], 'artist': [u'This field is required.']})\n+        self.assertEqual(form.errors, {'name': ['This field is required.'], 'artist': ['This field is required.']})\n         try:\n             form.cleaned_data\n             self.fail('Attempts to access cleaned_data when validation fails should fail.')\n@@ -1692,7 +1695,7 @@ class SongForm(Form):\n         data = {'artist': 'The Doors', 'song': ''}\n         form = SongForm(data, empty_permitted=False)\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors, {'name': [u'This field is required.']})\n+        self.assertEqual(form.errors, {'name': ['This field is required.']})\n         try:\n             form.cleaned_data\n             self.fail('Attempts to access cleaned_data when validation fails should fail.')\n@@ -1777,7 +1780,7 @@ class EventForm(Form):\n             happened_at = SplitDateTimeField(widget=widgets.SplitHiddenDateTimeWidget)\n \n         form = EventForm()\n-        self.assertHTMLEqual(form.as_ul(), u'<input type=\"hidden\" name=\"happened_at_0\" id=\"id_happened_at_0\" /><input type=\"hidden\" name=\"happened_at_1\" id=\"id_happened_at_1\" />')\n+        self.assertHTMLEqual(form.as_ul(), '<input type=\"hidden\" name=\"happened_at_0\" id=\"id_happened_at_0\" /><input type=\"hidden\" name=\"happened_at_1\" id=\"id_happened_at_1\" />')\n \n     def test_multivalue_field_validation(self):\n         def bad_names(value):\n@@ -1799,11 +1802,11 @@ class NameForm(Form):\n         form = NameForm(data={'name' : ['bad', 'value']})\n         form.full_clean()\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors, {'name': [u'bad value not allowed']})\n+        self.assertEqual(form.errors, {'name': ['bad value not allowed']})\n         form = NameForm(data={'name' : ['should be overly', 'long for the field names']})\n         self.assertFalse(form.is_valid())\n-        self.assertEqual(form.errors, {'name': [u'Ensure this value has at most 10 characters (it has 16).',\n-                                                u'Ensure this value has at most 10 characters (it has 24).']})\n+        self.assertEqual(form.errors, {'name': ['Ensure this value has at most 10 characters (it has 16).',\n+                                                'Ensure this value has at most 10 characters (it has 24).']})\n         form = NameForm(data={'name' : ['fname', 'lname']})\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data, {'name' : 'fname lname'})"
        },
        {
            "sha": "3decd1f085ce1652d252e39b3dda7884869a3778",
            "filename": "tests/regressiontests/forms/tests/formsets.py",
            "status": "modified",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "5bea49b84039b25ccbf8da03273c4b7871d0df7a",
            "filename": "tests/regressiontests/forms/tests/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fmodels.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "45f51eef2fc4253b1259923930160db74a331b40",
            "filename": "tests/regressiontests/forms/tests/regressions.py",
            "status": "modified",
            "additions": 20,
            "deletions": 14,
            "changes": 34,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fregressions.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fregressions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fregressions.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "280049c97bb761231efc95d1839d93ae143d86f6",
            "filename": "tests/regressiontests/forms/tests/util.py",
            "status": "modified",
            "additions": 9,
            "deletions": 7,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "d5f6334fe9222032aab66f1dd0d5de601379423c",
            "filename": "tests/regressiontests/forms/tests/widgets.py",
            "status": "modified",
            "additions": 163,
            "deletions": 162,
            "changes": 325,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "c97f4c4f03d7bbfaad5b4c2dc557c45f295cf56b",
            "filename": "tests/regressiontests/generic_inline_admin/tests.py",
            "status": "modified",
            "additions": 20,
            "deletions": 21,
            "changes": 41,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fgeneric_inline_admin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fgeneric_inline_admin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_inline_admin%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        },
        {
            "sha": "870324bffb95eb95d094a8c147d13fdf965d1878",
            "filename": "tests/regressiontests/httpwrappers/tests.py",
            "status": "modified",
            "additions": 30,
            "deletions": 28,
            "changes": 58,
            "blob_url": "https://github.com/django/django/blob/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fhttpwrappers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4a103086d5c67fa4fcc53c106c9fdf644c742dd8/tests%2Fregressiontests%2Fhttpwrappers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fhttpwrappers%2Ftests.py?ref=4a103086d5c67fa4fcc53c106c9fdf644c742dd8"
        }
    ],
    "stats": {
        "total": 12804,
        "additions": 6647,
        "deletions": 6157
    }
}