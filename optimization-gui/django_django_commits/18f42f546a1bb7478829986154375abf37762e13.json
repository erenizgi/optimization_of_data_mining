{
    "author": "freakboy3742",
    "message": "Refs #15550 -- Corrected another primary-key ordering problem in the modelforms tests. Thanks to bberes for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15753 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "18f42f546a1bb7478829986154375abf37762e13",
    "files": [
        {
            "sha": "bab0335b8f6056df54af320f7d10a94e47eaf5d0",
            "filename": "tests/modeltests/model_forms/models.py",
            "status": "modified",
            "additions": 12,
            "deletions": 9,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/18f42f546a1bb7478829986154375abf37762e13/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/18f42f546a1bb7478829986154375abf37762e13/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py?ref=18f42f546a1bb7478829986154375abf37762e13",
            "patch": "@@ -169,12 +169,15 @@ class ArticleStatus(models.Model):\n     status = models.CharField(max_length=2, choices=ARTICLE_STATUS_CHAR, blank=True, null=True)\n \n class Inventory(models.Model):\n-   barcode = models.PositiveIntegerField(unique=True)\n-   parent = models.ForeignKey('self', to_field='barcode', blank=True, null=True)\n-   name = models.CharField(blank=False, max_length=20)\n+    barcode = models.PositiveIntegerField(unique=True)\n+    parent = models.ForeignKey('self', to_field='barcode', blank=True, null=True)\n+    name = models.CharField(blank=False, max_length=20)\n \n-   def __unicode__(self):\n-      return self.name\n+    class Meta:\n+        ordering = ('name',)\n+\n+    def __unicode__(self):\n+        return self.name\n \n class Book(models.Model):\n     title = models.CharField(max_length=40)\n@@ -1530,8 +1533,8 @@ class FlexibleDatePost(models.Model):\n ...     print choice\n (u'', u'---------')\n (86, u'Apple')\n-(22, u'Pear')\n (87, u'Core')\n+(22, u'Pear')\n \n >>> class InventoryForm(ModelForm):\n ...     class Meta:\n@@ -1541,8 +1544,8 @@ class FlexibleDatePost(models.Model):\n <select name=\"parent\" id=\"id_parent\">\n <option value=\"\">---------</option>\n <option value=\"86\" selected=\"selected\">Apple</option>\n-<option value=\"22\">Pear</option>\n <option value=\"87\">Core</option>\n+<option value=\"22\">Pear</option>\n </select>\n \n >>> data = model_to_dict(core)\n@@ -1571,8 +1574,8 @@ class FlexibleDatePost(models.Model):\n >>> for choice in field.choices:\n ...     print choice\n (86, u'Apple')\n-(22, u'Pear')\n (87, u'Core')\n+(22, u'Pear')\n >>> field.clean([86])\n [<Inventory: Apple>]\n \n@@ -1582,7 +1585,7 @@ class FlexibleDatePost(models.Model):\n >>> form.is_valid()\n True\n >>> form.cleaned_data\n-{'items': [<Inventory: Pear>, <Inventory: Core>]}\n+{'items': [<Inventory: Core>, <Inventory: Pear>]}\n \n # Model field that returns None to exclude itself with explicit fields ########\n "
        }
    ],
    "stats": {
        "total": 21,
        "additions": 12,
        "deletions": 9
    }
}