{
    "author": "aaugustin",
    "message": "Fixed #5964 -- Added unicode-aware versions of urlunquote and urlunquote_plus.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17407 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d9061c01a975c3313a815f793cd773d3e657c3cf",
    "files": [
        {
            "sha": "f47b58979cd069b3777af24bedb315937830ea79",
            "filename": "django/utils/http.py",
            "status": "modified",
            "additions": 16,
            "deletions": 1,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/d9061c01a975c3313a815f793cd773d3e657c3cf/django%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/d9061c01a975c3313a815f793cd773d3e657c3cf/django%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhttp.py?ref=d9061c01a975c3313a815f793cd773d3e657c3cf",
            "patch": "@@ -31,7 +31,6 @@ def urlquote(url, safe='/'):\n     without double-quoting occurring.\n     \"\"\"\n     return force_unicode(urllib.quote(smart_str(url), smart_str(safe)))\n-\n urlquote = allow_lazy(urlquote, unicode)\n \n def urlquote_plus(url, safe=''):\n@@ -44,6 +43,22 @@ def urlquote_plus(url, safe=''):\n     return force_unicode(urllib.quote_plus(smart_str(url), smart_str(safe)))\n urlquote_plus = allow_lazy(urlquote_plus, unicode)\n \n+def urlunquote(quoted_url):\n+    \"\"\"\n+    A wrapper for Python's urllib.unquote() function that can operate on\n+    the result of django.utils.http.urlquote().\n+    \"\"\"\n+    return force_unicode(urllib.unquote(smart_str(quoted_url)))\n+urlunquote = allow_lazy(urlunquote, unicode)\n+\n+def urlunquote_plus(quoted_url):\n+    \"\"\"\n+    A wrapper for Python's urllib.unquote_plus() function that can operate on\n+    the result of django.utils.http.urlquote_plus().\n+    \"\"\"\n+    return force_unicode(urllib.unquote_plus(smart_str(quoted_url)))\n+urlunquote_plus = allow_lazy(urlunquote_plus, unicode)\n+\n def urlencode(query, doseq=0):\n     \"\"\"\n     A version of Python's urllib.urlencode() function that can operate on"
        },
        {
            "sha": "2bbd8efe37dd4d9309311ba91a008c796f759d46",
            "filename": "tests/regressiontests/text/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d9061c01a975c3313a815f793cd773d3e657c3cf/tests%2Fregressiontests%2Ftext%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d9061c01a975c3313a815f793cd773d3e657c3cf/tests%2Fregressiontests%2Ftext%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftext%2Ftests.py?ref=d9061c01a975c3313a815f793cd773d3e657c3cf",
            "patch": "@@ -3,7 +3,8 @@\n \n from django.test import TestCase\n from django.utils.encoding import iri_to_uri\n-from django.utils.http import urlquote, urlquote_plus, cookie_date, http_date\n+from django.utils.http import (cookie_date, http_date,\n+    urlquote, urlquote_plus, urlunquote, urlunquote_plus)\n from django.utils.text import get_text_list, smart_split\n from django.utils.translation import override\n \n@@ -60,15 +61,26 @@ def test_smart_split(self):\n             [u\"cut:','|cut:' '\"])\n \n     def test_urlquote(self):\n-\n         self.assertEqual(urlquote(u'Paris & Orl\\xe9ans'),\n             u'Paris%20%26%20Orl%C3%A9ans')\n         self.assertEqual(urlquote(u'Paris & Orl\\xe9ans', safe=\"&\"),\n             u'Paris%20&%20Orl%C3%A9ans')\n+        self.assertEqual(\n+            urlunquote(u'Paris%20%26%20Orl%C3%A9ans'),\n+            u'Paris & Orl\\xe9ans')\n+        self.assertEqual(\n+            urlunquote(u'Paris%20&%20Orl%C3%A9ans'),\n+            u'Paris & Orl\\xe9ans')\n         self.assertEqual(urlquote_plus(u'Paris & Orl\\xe9ans'),\n             u'Paris+%26+Orl%C3%A9ans')\n         self.assertEqual(urlquote_plus(u'Paris & Orl\\xe9ans', safe=\"&\"),\n             u'Paris+&+Orl%C3%A9ans')\n+        self.assertEqual(\n+            urlunquote_plus(u'Paris+%26+Orl%C3%A9ans'),\n+            u'Paris & Orl\\xe9ans')\n+        self.assertEqual(\n+            urlunquote_plus(u'Paris+&+Orl%C3%A9ans'),\n+            u'Paris & Orl\\xe9ans')\n \n     def test_cookie_date(self):\n         t = 1167616461.0"
        }
    ],
    "stats": {
        "total": 33,
        "additions": 30,
        "deletions": 3
    }
}