{
    "author": "spookylukey",
    "message": "Fixed #16196 - Redundant or incorrect code in tests\n\nThanks to intelliyole and melinath for the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16354 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "430b819967054805c49c0a27fb9f039568ee240f",
    "files": [
        {
            "sha": "cf74b7458ea12a84e940c316cb2fc1d97dd57fb3",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -131,7 +131,7 @@ def test_unicode(self):\n             u'ascii': u'ascii_value',\n             u'unicode_ascii': u'Iñtërnâtiônàlizætiøn1',\n             u'Iñtërnâtiônàlizætiøn': u'Iñtërnâtiônàlizætiøn2',\n-            u'ascii': {u'x' : 1 }\n+            u'ascii2': {u'x' : 1 }\n             }\n         for (key, value) in stuff.items():\n             self.cache.set(key, value)\n@@ -317,7 +317,7 @@ def test_unicode(self):\n             u'ascii': u'ascii_value',\n             u'unicode_ascii': u'Iñtërnâtiônàlizætiøn1',\n             u'Iñtërnâtiônàlizætiøn': u'Iñtërnâtiônàlizætiøn2',\n-            u'ascii': {u'x' : 1 }\n+            u'ascii2': {u'x' : 1 }\n             }\n         # Test `set`\n         for (key, value) in stuff.items():"
        },
        {
            "sha": "ec26676f1ff45c4348320aa5b995e99809f86898",
            "filename": "tests/regressiontests/delete_regress/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fdelete_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fdelete_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdelete_regress%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -54,7 +54,7 @@ def test_concurrent_delete(self):\n         # Delete something using connection 2.\n         cursor2 = self.conn2.cursor()\n         cursor2.execute('DELETE from delete_regress_book WHERE id=1')\n-        self.conn2._commit();\n+        self.conn2._commit()\n \n         # Now perform a queryset delete that covers the object\n         # deleted in connection 2. This causes an infinite loop"
        },
        {
            "sha": "f0416e1a1d03f99d5d3b83d7678365833464dfda",
            "filename": "tests/regressiontests/forms/localflavor/ar.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Far.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Far.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Far.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -92,7 +92,6 @@ def test_ARCUITField(self):\n             '20-10123456': error_format,\n             '20-10123456-': error_format,\n              '20-10123456-5': error_invalid,\n-            '2-10123456-9': error_format,\n              '27-10345678-1': error_invalid,\n              u'27-10345678-1': error_invalid,\n         }"
        },
        {
            "sha": "71a8d9f8cf9319799ebc912eaf8d059e46ca7047",
            "filename": "tests/regressiontests/forms/localflavor/id.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fid.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fid.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fid.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -133,7 +133,6 @@ def test_IDPhoneNumberField(self):\n         invalid = {\n             '0123456789': error_invalid,\n             '+62-021-3456789': error_invalid,\n-            '+62-021-3456789': error_invalid,\n             '+62-0812-3456789': error_invalid,\n             '0812345678901': error_invalid,\n             'foo': error_invalid,"
        },
        {
            "sha": "333f96d3b4009b2bcca6fa9bf1c2c0ec6f273c81",
            "filename": "tests/regressiontests/forms/localflavor/pt.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fpt.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fpt.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fpt.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -21,7 +21,6 @@ def test_PTPhoneNumberField(self):\n         valid = {\n             '917845189': '917845189',\n             '91 784 5189': '917845189',\n-            '91 784 5189': '917845189',\n             '+351 91 111': '+35191111',\n             '00351873': '00351873',\n         }"
        },
        {
            "sha": "0c8fd49ff697fd565c902641ad08c21217bf36ae",
            "filename": "tests/regressiontests/generic_views/views.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -42,7 +42,7 @@ class DictList(generic.ListView):\n     \"\"\"A ListView that doesn't use a model.\"\"\"\n     queryset = [\n         {'first': 'John', 'last': 'Lennon'},\n-        {'last': 'Yoko',  'last': 'Ono'}\n+        {'first': 'Yoko',  'last': 'Ono'}\n     ]\n     template_name = 'generic_views/list.html'\n \n@@ -65,7 +65,7 @@ def __init__(self, queryset, page_size, orphans=0, allow_empty_first_page=True):\n             allow_empty_first_page=allow_empty_first_page)\n \n class AuthorListCustomPaginator(AuthorList):\n-    paginate_by = 5;\n+    paginate_by = 5\n \n     def get_paginator(self, queryset, page_size, orphans=0, allow_empty_first_page=True):\n         return super(AuthorListCustomPaginator, self).get_paginator("
        },
        {
            "sha": "e309a9868119b081a0a21f611a768ea980c6d75c",
            "filename": "tests/regressiontests/introspection/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fintrospection%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -45,7 +45,7 @@ def test_table_names(self):\n \n     def test_django_table_names(self):\n         cursor = connection.cursor()\n-        cursor.execute('CREATE TABLE django_ixn_test_table (id INTEGER);');\n+        cursor.execute('CREATE TABLE django_ixn_test_table (id INTEGER);')\n         tl = connection.introspection.django_table_names()\n         cursor.execute(\"DROP TABLE django_ixn_test_table;\")\n         self.assertTrue('django_ixn_testcase_table' not in tl,"
        },
        {
            "sha": "db539f27d2cf892616dd48ed3a0ca4ce1abf44d2",
            "filename": "tests/regressiontests/model_regress/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fmodel_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fmodel_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_regress%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -48,8 +48,7 @@ def test_long_textfield(self):\n             article_text = \"ABCDE\" * 1000\n         )\n         a = Article.objects.get(pk=a.pk)\n-        self.assertEqual\n-        (len(a.article_text), 5000)\n+        self.assertEqual(len(a.article_text), 5000)\n \n     def test_date_lookup(self):\n         # Regression test for #659"
        },
        {
            "sha": "551a6772d67678b8772c847137135191c12211b0",
            "filename": "tests/regressiontests/multiple_database/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -1612,7 +1612,6 @@ def allow_syncdb(self, db, model):\n             return model._meta.object_name == 'Pet'\n         else:\n             return model._meta.object_name != 'Pet'\n-        return None\n \n class FixtureTestCase(TestCase):\n     multi_db = True"
        },
        {
            "sha": "2f90dc03489ec56f5446e4e4aa2c7a3805460620",
            "filename": "tests/regressiontests/syndication/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fsyndication%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Fsyndication%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -25,7 +25,7 @@ def assertChildNodeContent(self, elem, expected):\n                 elem.getElementsByTagName(k)[0].firstChild.wholeText, v)\n \n     def assertCategories(self, elem, expected):\n-        self.assertEqual(set(i.firstChild.wholeText for i in elem.childNodes if i.nodeName == 'category'), set(expected));\n+        self.assertEqual(set(i.firstChild.wholeText for i in elem.childNodes if i.nodeName == 'category'), set(expected))\n \n ######################################\n # Feed view\n@@ -73,7 +73,7 @@ def test_rss2_feed(self):\n             'ttl': '600',\n             'copyright': 'Copyright (c) 2007, Sally Smith',\n         })\n-        self.assertCategories(chan, ['python', 'django']);\n+        self.assertCategories(chan, ['python', 'django'])\n \n         # Ensure the content of the channel is correct\n         self.assertChildNodeContent(chan, {\n@@ -102,7 +102,7 @@ def test_rss2_feed(self):\n             'pubDate': pub_date,\n             'author': 'test@example.com (Sally Smith)',\n         })\n-        self.assertCategories(items[0], ['python', 'testing']);\n+        self.assertCategories(items[0], ['python', 'testing'])\n \n         for item in items:\n             self.assertChildNodes(item, ['title', 'link', 'description', 'guid', 'category', 'pubDate', 'author'])"
        },
        {
            "sha": "a56168611b20e480934880d8f45ec771f6f865d8",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/430b819967054805c49c0a27fb9f039568ee240f/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=430b819967054805c49c0a27fb9f039568ee240f",
            "patch": "@@ -1282,7 +1282,7 @@ def get_template_tests(self):\n             'legacyi18n28': ('{% load i18n %}{% blocktrans with anton as a and berta as b %}{{ a }} + {{ b }}{% endblocktrans %}', {'anton': 'α', 'berta': 'β'}, u'α + β'),\n \n             # retrieving language information\n-            'i18n28': ('{% load i18n %}{% get_language_info for \"de\" as l %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}', {}, 'de: German/Deutsch bidi=False'),\n+            'i18n28_2': ('{% load i18n %}{% get_language_info for \"de\" as l %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}', {}, 'de: German/Deutsch bidi=False'),\n             'i18n29': ('{% load i18n %}{% get_language_info for LANGUAGE_CODE as l %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}', {'LANGUAGE_CODE': 'fi'}, 'fi: Finnish/suomi bidi=False'),\n             'i18n30': ('{% load i18n %}{% get_language_info_list for langcodes as langs %}{% for l in langs %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}; {% endfor %}', {'langcodes': ['it', 'no']}, u'it: Italian/italiano bidi=False; no: Norwegian/Norsk bidi=False; '),\n             'i18n31': ('{% load i18n %}{% get_language_info_list for langcodes as langs %}{% for l in langs %}{{ l.code }}: {{ l.name }}/{{ l.name_local }} bidi={{ l.bidi }}; {% endfor %}', {'langcodes': (('sl', 'Slovenian'), ('fa', 'Persian'))}, u'sl: Slovenian/Sloven\\u0161\\u010dina bidi=False; fa: Persian/\\u0641\\u0627\\u0631\\u0633\\u06cc bidi=True; '),\n@@ -1298,7 +1298,7 @@ def get_template_tests(self):\n             'invalidstr02': ('{{ var|default_if_none:\"Foo\" }}', {}, ('','INVALID')),\n             'invalidstr03': ('{% for v in var %}({{ v }}){% endfor %}', {}, ''),\n             'invalidstr04': ('{% if var %}Yes{% else %}No{% endif %}', {}, 'No'),\n-            'invalidstr04': ('{% if var|default:\"Foo\" %}Yes{% else %}No{% endif %}', {}, 'Yes'),\n+            'invalidstr04_2': ('{% if var|default:\"Foo\" %}Yes{% else %}No{% endif %}', {}, 'Yes'),\n             'invalidstr05': ('{{ var }}', {}, ('', ('INVALID %s', 'var'))),\n             'invalidstr06': ('{{ var.prop }}', {'var': {}}, ('', ('INVALID %s', 'var.prop'))),\n \n@@ -1323,12 +1323,12 @@ def get_template_tests(self):\n                             \"\"\"),\n \n             ### REGROUP TAG ###########################################################\n-            'regroup01': ('{% regroup data by bar as grouped %}' + \\\n-                          '{% for group in grouped %}' + \\\n-                          '{{ group.grouper }}:' + \\\n-                          '{% for item in group.list %}' + \\\n-                          '{{ item.foo }}' + \\\n-                          '{% endfor %},' + \\\n+            'regroup01': ('{% regroup data by bar as grouped %}'\n+                          '{% for group in grouped %}'\n+                          '{{ group.grouper }}:'\n+                          '{% for item in group.list %}'\n+                          '{{ item.foo }}'\n+                          '{% endfor %},'\n                           '{% endfor %}',\n                           {'data': [ {'foo':'c', 'bar':1},\n                                      {'foo':'d', 'bar':1},\n@@ -1338,12 +1338,12 @@ def get_template_tests(self):\n                           '1:cd,2:ab,3:x,'),\n \n             # Test for silent failure when target variable isn't found\n-            'regroup02': ('{% regroup data by bar as grouped %}' + \\\n-                          '{% for group in grouped %}' + \\\n-                          '{{ group.grouper }}:' + \\\n-                          '{% for item in group.list %}' + \\\n-                          '{{ item.foo }}' + \\\n-                          '{% endfor %},' + \\\n+            'regroup02': ('{% regroup data by bar as grouped %}'\n+                          '{% for group in grouped %}'\n+                          '{{ group.grouper }}:'\n+                          '{% for item in group.list %}'\n+                          '{{ item.foo }}'\n+                          '{% endfor %},'\n                           '{% endfor %}',\n                           {}, ''),\n             ### SSI TAG ########################################################"
        }
    ],
    "stats": {
        "total": 53,
        "additions": 24,
        "deletions": 29
    }
}