{
    "author": "jezdez",
    "message": "Merge pull request #467 from tomchristie/page-kwarg\n\nAdd 'page_kwarg' attribute to `MultipleObjectMixin`, removing hardcoded \"page\".",
    "sha": "778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae",
    "files": [
        {
            "sha": "b316c4bb5619d7a6b28d3d94a1b26539b365bb1b",
            "filename": "django/views/generic/list.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/django%2Fviews%2Fgeneric%2Flist.py",
            "raw_url": "https://github.com/django/django/raw/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/django%2Fviews%2Fgeneric%2Flist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Flist.py?ref=778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae",
            "patch": "@@ -17,6 +17,7 @@ class MultipleObjectMixin(ContextMixin):\n     paginate_by = None\n     context_object_name = None\n     paginator_class = Paginator\n+    page_kwarg = 'page'\n \n     def get_queryset(self):\n         \"\"\"\n@@ -39,7 +40,8 @@ def paginate_queryset(self, queryset, page_size):\n         Paginate the queryset, if needed.\n         \"\"\"\n         paginator = self.get_paginator(queryset, page_size, allow_empty_first_page=self.get_allow_empty())\n-        page = self.kwargs.get('page') or self.request.GET.get('page') or 1\n+        page_kwarg = self.page_kwarg\n+        page = self.kwargs.get(page_kwarg) or self.request.GET.get(page_kwarg) or 1\n         try:\n             page_number = int(page)\n         except ValueError:"
        },
        {
            "sha": "fb5a1715e6edca1ec2aba093364701df9413898c",
            "filename": "docs/ref/class-based-views/mixins-multiple-object.txt",
            "status": "modified",
            "additions": 11,
            "deletions": 2,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt",
            "raw_url": "https://github.com/django/django/raw/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fmixins-multiple-object.txt?ref=778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae",
            "patch": "@@ -69,8 +69,17 @@ MultipleObjectMixin\n         An integer specifying how many objects should be displayed per page. If\n         this is given, the view will paginate objects with\n         :attr:`MultipleObjectMixin.paginate_by` objects per page. The view will\n-        expect either a ``page`` query string parameter (via ``GET``) or a\n-        ``page`` variable specified in the URLconf.\n+        expect either a ``page`` query string parameter (via ``request.GET``)\n+        or a ``page`` variable specified in the URLconf.\n+\n+    .. attribute:: page_kwarg\n+\n+        .. versionadded:: 1.5\n+\n+        A string specifying the name to use for the page parameter.\n+        The view will expect this prameter to be available either as a query\n+        string parameter (via ``request.GET``) or as a kwarg variable specified\n+        in the URLconf. Defaults to ``page``.\n \n     .. attribute:: paginator_class\n "
        },
        {
            "sha": "28d37f0e7153db07284919ac11c78c45426dcce7",
            "filename": "tests/regressiontests/generic_views/list.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/tests%2Fregressiontests%2Fgeneric_views%2Flist.py",
            "raw_url": "https://github.com/django/django/raw/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/tests%2Fregressiontests%2Fgeneric_views%2Flist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Flist.py?ref=778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae",
            "patch": "@@ -101,6 +101,16 @@ def test_paginated_custom_paginator_class(self):\n         # Custom pagination allows for 2 orphans on a page size of 5\n         self.assertEqual(len(res.context['object_list']), 7)\n \n+    def test_paginated_custom_page_kwarg(self):\n+        self._make_authors(100)\n+        res = self.client.get('/list/authors/paginated/custom_page_kwarg/', {'pagina': '2'})\n+        self.assertEqual(res.status_code, 200)\n+        self.assertTemplateUsed(res, 'generic_views/author_list.html')\n+        self.assertEqual(len(res.context['object_list']), 30)\n+        self.assertIs(res.context['author_list'], res.context['object_list'])\n+        self.assertEqual(res.context['author_list'][0].name, 'Author 30')\n+        self.assertEqual(res.context['page_obj'].number, 2)\n+\n     def test_paginated_custom_paginator_constructor(self):\n         self._make_authors(7)\n         res = self.client.get('/list/authors/paginated/custom_constructor/')"
        },
        {
            "sha": "a212b830a542e9c806acab19d90500aab1b12deb",
            "filename": "tests/regressiontests/generic_views/urls.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Furls.py?ref=778b8bdcf4fb2c7ddbf22ddbe8665001387b21ae",
            "patch": "@@ -149,6 +149,8 @@\n         views.AuthorList.as_view(queryset=None)),\n     (r'^list/authors/paginated/custom_class/$',\n         views.AuthorList.as_view(paginate_by=5, paginator_class=views.CustomPaginator)),\n+    (r'^list/authors/paginated/custom_page_kwarg/$',\n+        views.AuthorList.as_view(paginate_by=30, page_kwarg='pagina')),\n     (r'^list/authors/paginated/custom_constructor/$',\n         views.AuthorListCustomPaginator.as_view()),\n "
        }
    ],
    "stats": {
        "total": 29,
        "additions": 26,
        "deletions": 3
    }
}