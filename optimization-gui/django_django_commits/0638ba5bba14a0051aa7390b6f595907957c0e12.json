{
    "author": "ramiro",
    "message": "Enhanced a bit the documentation and docstring for the url template tag. Also, added a test for it.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16331 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0638ba5bba14a0051aa7390b6f595907957c0e12",
    "files": [
        {
            "sha": "3d9887939d6c2cf95734e442c080c630dbe20c37",
            "filename": "django/templatetags/future.py",
            "status": "modified",
            "additions": 32,
            "deletions": 4,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/0638ba5bba14a0051aa7390b6f595907957c0e12/django%2Ftemplatetags%2Ffuture.py",
            "raw_url": "https://github.com/django/django/raw/0638ba5bba14a0051aa7390b6f595907957c0e12/django%2Ftemplatetags%2Ffuture.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Ffuture.py?ref=0638ba5bba14a0051aa7390b6f595907957c0e12",
            "patch": "@@ -50,11 +50,15 @@ def url(parser, token):\n \n         {% url \"path.to.some_view\" name1=value1 name2=value2 %}\n \n-    The first argument is a path to a view. It can be an absolute python path\n+    The first argument is a path to a view. It can be an absolute Python path\n     or just ``app_name.view_name`` without the project name if the view is\n-    located inside the project.  Other arguments are comma-separated values\n-    that will be filled in place of positional and keyword arguments in the\n-    URL. All arguments for the URL should be present.\n+    located inside the project.\n+\n+    Other arguments are space-separated values that will be filled in place of\n+    positional and keyword arguments in the URL. Don't mix positional and\n+    keyword arguments.\n+\n+    All arguments for the URL should be present.\n \n     For example if you have a view ``app_name.client`` taking client's id and\n     the corresponding line in a URLconf looks like this::\n@@ -71,6 +75,30 @@ def url(parser, token):\n         {% url \"app_name.client\" client.id %}\n \n     The URL will look like ``/clients/client/123/``.\n+\n+    The first argument can also be a named URL instead of the Python path to\n+    the view callable. For example if the URLconf entry looks like this::\n+\n+        url('^client/(\\d+)/$', name='client-detail-view')\n+\n+    then in the template you can use::\n+\n+        {% url \"client-detail-view\" client.id %}\n+\n+    There is even another possible value type for the first argument. It can be\n+    the name of a template variable that will be evaluated to obtain the view\n+    name or the URL name, e.g.::\n+\n+        {% with view_path=\"app_name.client\" %}\n+        {% url view_path client.id %}\n+        {% endwith %}\n+\n+        or,\n+\n+        {% with url_name=\"client-detail-view\" %}\n+        {% url url_name client.id %}\n+        {% endwith %}\n+\n     \"\"\"\n     bits = token.split_contents()\n     if len(bits) < 2:"
        },
        {
            "sha": "76db1f765966d4c6568e2d5260f1ac92478eaeb2",
            "filename": "docs/ref/templates/builtins.txt",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/0638ba5bba14a0051aa7390b6f595907957c0e12/docs%2Fref%2Ftemplates%2Fbuiltins.txt",
            "raw_url": "https://github.com/django/django/raw/0638ba5bba14a0051aa7390b6f595907957c0e12/docs%2Fref%2Ftemplates%2Fbuiltins.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ftemplates%2Fbuiltins.txt?ref=0638ba5bba14a0051aa7390b6f595907957c0e12",
            "patch": "@@ -1073,8 +1073,20 @@ projects?\n     For example::\n \n         {% load url from future %}\n+\n+\n+        {% url 'app_views.client' %}\n+\n         {% url 'myapp:view-name' %}\n \n+        {% with view_path=\"app_views.client\" %}\n+        {% url view_path client.id %}\n+        {% endwith %}\n+\n+        {% with url_name=\"client-detail-view\" %}\n+        {% url url_name client.id %}\n+        {% endwith %}\n+\n     The new library also drops support for the comma syntax for\n     separating arguments to the :ttag:`url` template tag.\n "
        },
        {
            "sha": "1f065f9eb79d19a039bff460e1b83e111ba38e2e",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/0638ba5bba14a0051aa7390b6f595907957c0e12/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0638ba5bba14a0051aa7390b6f595907957c0e12/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=0638ba5bba14a0051aa7390b6f595907957c0e12",
            "patch": "@@ -1460,7 +1460,7 @@ def get_template_tests(self):\n             'old-url13': ('{% url regressiontests.templates.views.client_action id=client.id action=arg|join:\"-\" %}', {'client': {'id': 1}, 'arg':['a','b']}, '/url_tag/client/1/a-b/'),\n             'old-url14': ('{% url regressiontests.templates.views.client_action client.id arg|join:\"-\" %}', {'client': {'id': 1}, 'arg':['a','b']}, '/url_tag/client/1/a-b/'),\n             'old-url15': ('{% url regressiontests.templates.views.client_action 12 \"test\" %}', {}, '/url_tag/client/12/test/'),\n-            'old-url18': ('{% url regressiontests.templates.views.client \"1,2\" %}', {}, '/url_tag/client/1,2/'),\n+            'old-url16': ('{% url regressiontests.templates.views.client \"1,2\" %}', {}, '/url_tag/client/1,2/'),\n \n             # Failures\n             'old-url-fail01': ('{% url %}', {}, template.TemplateSyntaxError),\n@@ -1501,6 +1501,7 @@ def get_template_tests(self):\n             'url18': ('{% load url from future %}{% url \"regressiontests.templates.views.client\" \"1,2\" %}', {}, '/url_tag/client/1,2/'),\n \n             'url19': ('{% load url from future %}{% url named_url client.id %}', {'named_url': 'regressiontests.templates.views.client', 'client': {'id': 1}}, '/url_tag/client/1/'),\n+            'url20': ('{% load url from future %}{% url url_name_in_var client.id %}', {'url_name_in_var': 'named.client', 'client': {'id': 1}}, '/url_tag/named-client/1/'),\n \n             # Failures\n             'url-fail01': ('{% load url from future %}{% url %}', {}, template.TemplateSyntaxError),"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 46,
        "deletions": 5
    }
}