{
    "author": "claudep",
    "message": "Removed direct print statements from django management commands.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17941 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c34d069a75dc3486b984928745b06b8d39767475",
    "files": [
        {
            "sha": "2e936840fff7d98230ca6555cb8caf2bc38f112c",
            "filename": "django/core/management/commands/flush.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c34d069a75dc3486b984928745b06b8d39767475/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "raw_url": "https://github.com/django/django/raw/c34d069a75dc3486b984928745b06b8d39767475/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py?ref=c34d069a75dc3486b984928745b06b8d39767475",
            "patch": "@@ -82,4 +82,4 @@ def handle_noargs(self, **options):\n             call_command('loaddata', 'initial_data', **kwargs)\n \n         else:\n-            print \"Flush cancelled.\"\n+            self.stdout.write(\"Flush cancelled.\\n\")"
        },
        {
            "sha": "b04ba4b47f3b7a041fcec49c2df73946887bfaac",
            "filename": "django/core/management/commands/syncdb.py",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/c34d069a75dc3486b984928745b06b8d39767475/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "raw_url": "https://github.com/django/django/raw/c34d069a75dc3486b984928745b06b8d39767475/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py?ref=c34d069a75dc3486b984928745b06b8d39767475",
            "patch": "@@ -1,5 +1,4 @@\n from optparse import make_option\n-import sys\n import traceback\n \n from django.conf import settings\n@@ -82,12 +81,12 @@ def model_installed(model):\n \n         # Create the tables for each model\n         if verbosity >= 1:\n-            print \"Creating tables ...\"\n+            self.stdout.write(\"Creating tables ...\\n\")\n         for app_name, model_list in manifest.items():\n             for model in model_list:\n                 # Create the model's database table, if it doesn't already exist.\n                 if verbosity >= 3:\n-                    print \"Processing %s.%s model\" % (app_name, model._meta.object_name)\n+                    self.stdout.write(\"Processing %s.%s model\\n\" % (app_name, model._meta.object_name))\n                 sql, references = connection.creation.sql_create_model(model, self.style, seen_models)\n                 seen_models.add(model)\n                 created_models.add(model)\n@@ -97,7 +96,7 @@ def model_installed(model):\n                         sql.extend(connection.creation.sql_for_pending_references(refto, self.style, pending_references))\n                 sql.extend(connection.creation.sql_for_pending_references(model, self.style, pending_references))\n                 if verbosity >= 1 and sql:\n-                    print \"Creating table %s\" % model._meta.db_table\n+                    self.stdout.write(\"Creating table %s\\n\" % model._meta.db_table)\n                 for statement in sql:\n                     cursor.execute(statement)\n                 tables.append(connection.introspection.table_name_converter(model._meta.db_table))\n@@ -115,19 +114,19 @@ def model_installed(model):\n         # Install custom SQL for the app (but only if this\n         # is a model we've just created)\n         if verbosity >= 1:\n-            print \"Installing custom SQL ...\"\n+            self.stdout.write(\"Installing custom SQL ...\\n\")\n         for app_name, model_list in manifest.items():\n             for model in model_list:\n                 if model in created_models:\n                     custom_sql = custom_sql_for_model(model, self.style, connection)\n                     if custom_sql:\n                         if verbosity >= 2:\n-                            print \"Installing custom SQL for %s.%s model\" % (app_name, model._meta.object_name)\n+                            self.stdout.write(\"Installing custom SQL for %s.%s model\\n\" % (app_name, model._meta.object_name))\n                         try:\n                             for sql in custom_sql:\n                                 cursor.execute(sql)\n                         except Exception, e:\n-                            sys.stderr.write(\"Failed to install custom SQL for %s.%s model: %s\\n\" % \\\n+                            self.stderr.write(\"Failed to install custom SQL for %s.%s model: %s\\n\" % \\\n                                                 (app_name, model._meta.object_name, e))\n                             if show_traceback:\n                                 traceback.print_exc()\n@@ -136,23 +135,23 @@ def model_installed(model):\n                             transaction.commit_unless_managed(using=db)\n                     else:\n                         if verbosity >= 3:\n-                            print \"No custom SQL for %s.%s model\" % (app_name, model._meta.object_name)\n+                            self.stdout.write(\"No custom SQL for %s.%s model\\n\" % (app_name, model._meta.object_name))\n \n         if verbosity >= 1:\n-            print \"Installing indexes ...\"\n+            self.stdout.write(\"Installing indexes ...\\n\")\n         # Install SQL indices for all newly created models\n         for app_name, model_list in manifest.items():\n             for model in model_list:\n                 if model in created_models:\n                     index_sql = connection.creation.sql_indexes_for_model(model, self.style)\n                     if index_sql:\n                         if verbosity >= 2:\n-                            print \"Installing index for %s.%s model\" % (app_name, model._meta.object_name)\n+                            self.stdout.write(\"Installing index for %s.%s model\\n\" % (app_name, model._meta.object_name))\n                         try:\n                             for sql in index_sql:\n                                 cursor.execute(sql)\n                         except Exception, e:\n-                            sys.stderr.write(\"Failed to install index for %s.%s model: %s\\n\" % \\\n+                            self.stderr.write(\"Failed to install index for %s.%s model: %s\\n\" % \\\n                                                 (app_name, model._meta.object_name, e))\n                             transaction.rollback_unless_managed(using=db)\n                         else:"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 11,
        "deletions": 12
    }
}