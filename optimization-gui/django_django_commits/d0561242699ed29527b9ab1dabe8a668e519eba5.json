{
    "author": "jacobian",
    "message": "Remove a special case for comment tests from runtests.py.",
    "sha": "d0561242699ed29527b9ab1dabe8a668e519eba5",
    "files": [
        {
            "sha": "6c7a882e2548080d914e9574d5e71fc6ad244174",
            "filename": "tests/comment_tests/tests/comment_utils_moderators_tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d0561242699ed29527b9ab1dabe8a668e519eba5/tests%2Fcomment_tests%2Ftests%2Fcomment_utils_moderators_tests.py",
            "raw_url": "https://github.com/django/django/raw/d0561242699ed29527b9ab1dabe8a668e519eba5/tests%2Fcomment_tests%2Ftests%2Fcomment_utils_moderators_tests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcomment_tests%2Ftests%2Fcomment_utils_moderators_tests.py?ref=d0561242699ed29527b9ab1dabe8a668e519eba5",
            "patch": "@@ -4,6 +4,7 @@\n from django.contrib.comments.moderation import (moderator, CommentModerator,\n     AlreadyModerated)\n from django.core import mail\n+from django.test.utils import override_settings\n \n from . import CommentTestCase\n from ..models import Entry\n@@ -67,9 +68,10 @@ def testRegisterExistingModel(self):\n         self.assertRaises(AlreadyModerated, moderator.register, Entry, EntryModerator1)\n \n     def testEmailNotification(self):\n-        moderator.register(Entry, EntryModerator1)\n-        self.createSomeComments()\n-        self.assertEqual(len(mail.outbox), 2)\n+        with override_settings(MANAGERS=(\"test@example.com\",)):\n+            moderator.register(Entry, EntryModerator1)\n+            self.createSomeComments()\n+            self.assertEqual(len(mail.outbox), 2)\n \n     def testCommentsEnabled(self):\n         moderator.register(Entry, EntryModerator2)\n@@ -94,4 +96,4 @@ def testAutoModerateFieldImmediate(self):\n     def testAutoCloseFieldImmediate(self):\n         moderator.register(Entry, EntryModerator6)\n         c1, c2 = self.createSomeComments()\n-        self.assertEqual(Comment.objects.all().count(), 0)\n\\ No newline at end of file\n+        self.assertEqual(Comment.objects.all().count(), 0)"
        },
        {
            "sha": "f0cba38b806917cc5d8fee1aa43053cb95603f04",
            "filename": "tests/runtests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d0561242699ed29527b9ab1dabe8a668e519eba5/tests%2Fruntests.py",
            "raw_url": "https://github.com/django/django/raw/d0561242699ed29527b9ab1dabe8a668e519eba5/tests%2Fruntests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fruntests.py?ref=d0561242699ed29527b9ab1dabe8a668e519eba5",
            "patch": "@@ -80,10 +80,6 @@ def setup(verbosity, test_labels):\n     settings.TEMPLATE_DIRS = (os.path.join(RUNTESTS_DIR, TEST_TEMPLATE_DIR),)\n     settings.LANGUAGE_CODE = 'en'\n     settings.SITE_ID = 1\n-    # For testing comment-utils, we require the MANAGERS attribute\n-    # to be set, so that a test email is sent out which we catch\n-    # in our tests.\n-    settings.MANAGERS = (\"admin@djangoproject.com\",)\n \n     # Load all the ALWAYS_INSTALLED_APPS.\n     get_apps()"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 6,
        "deletions": 8
    }
}