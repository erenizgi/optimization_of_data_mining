{
    "author": "aaugustin",
    "message": "Updated the documentation for savepoints.\n\nApparently django.db.transaction used to be an object.",
    "sha": "ffe41591e75fc3acf76c634bdd0899d78e91688d",
    "files": [
        {
            "sha": "bcedd90424e3f226352db578ecaeb98f26bc0cae",
            "filename": "docs/topics/db/transactions.txt",
            "status": "modified",
            "additions": 17,
            "deletions": 9,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/ffe41591e75fc3acf76c634bdd0899d78e91688d/docs%2Ftopics%2Fdb%2Ftransactions.txt",
            "raw_url": "https://github.com/django/django/raw/ffe41591e75fc3acf76c634bdd0899d78e91688d/docs%2Ftopics%2Fdb%2Ftransactions.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Ftransactions.txt?ref=ffe41591e75fc3acf76c634bdd0899d78e91688d",
            "patch": "@@ -193,24 +193,32 @@ Each of these functions takes a ``using`` argument which should be the name of\n a database for which the behavior applies.  If no ``using`` argument is\n provided then the ``\"default\"`` database is used.\n \n-Savepoints are controlled by three methods on the transaction object:\n+Savepoints are controlled by three functions in :mod:`django.db.transaction`:\n \n-.. method:: transaction.savepoint(using=None)\n+.. function:: savepoint(using=None)\n \n     Creates a new savepoint. This marks a point in the transaction that\n     is known to be in a \"good\" state.\n \n-    Returns the savepoint ID (sid).\n+    Returns the savepoint ID (``sid``).\n \n-.. method:: transaction.savepoint_commit(sid, using=None)\n+.. function:: savepoint_commit(sid, using=None)\n \n-    Updates the savepoint to include any operations that have been performed\n-    since the savepoint was created, or since the last commit.\n+    Releases savepoint ``sid``. The changes performed since the savepoint was\n+    created become part of the transaction.\n \n-.. method:: transaction.savepoint_rollback(sid, using=None)\n+.. function:: savepoint_rollback(sid, using=None)\n \n-    Rolls the transaction back to the last point at which the savepoint was\n-    committed.\n+    Rolls back the transaction to savepoint ``sid``.\n+\n+These functions do nothing if savepoints aren't supported or if the database\n+is in autocommit mode.\n+\n+In addition, there's a utility function:\n+\n+.. function:: clean_savepoints(using=None)\n+\n+    Resets the counter used to generate unique savepoint IDs.\n \n The following example demonstrates the use of savepoints::\n "
        }
    ],
    "stats": {
        "total": 26,
        "additions": 17,
        "deletions": 9
    }
}