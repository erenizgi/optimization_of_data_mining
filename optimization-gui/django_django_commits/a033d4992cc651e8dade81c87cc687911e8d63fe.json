{
    "author": "jacobian",
    "message": "Edited Django 1.4 release notes:\n\n* Remove the \"UNDER DEVELOPMENT\" parts.\n* Added an overview, explicitly mentioning time zone support.\n* Spell/grammar check.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17798 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "a033d4992cc651e8dade81c87cc687911e8d63fe",
    "files": [
        {
            "sha": "8d0cd753c54300063ede2a0a3c00d05ea7ab3935",
            "filename": "docs/releases/1.4.txt",
            "status": "modified",
            "additions": 190,
            "deletions": 141,
            "changes": 331,
            "blob_url": "https://github.com/django/django/blob/a033d4992cc651e8dade81c87cc687911e8d63fe/docs%2Freleases%2F1.4.txt",
            "raw_url": "https://github.com/django/django/raw/a033d4992cc651e8dade81c87cc687911e8d63fe/docs%2Freleases%2F1.4.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.txt?ref=a033d4992cc651e8dade81c87cc687911e8d63fe",
            "patch": "@@ -1,20 +1,64 @@\n-============================================\n-Django 1.4 release notes - UNDER DEVELOPMENT\n-============================================\n+========================\n+Django 1.4 release notes\n+========================\n \n-This page documents release notes for the as-yet-unreleased Django\n-1.4. As such, it's tentative and subject to change. It provides\n-up-to-date information for those who are following trunk.\n+*March 23, 2012*\n \n-Django 1.4 includes various `new features`_ and some minor `backwards\n-incompatible changes`_. We've also dropped some features, which are detailed\n-in :doc:`our deprecation plan </internals/deprecation>`, and we've\n-`begun the deprecation process for some features`_.\n+Welcome to Django 1.4!\n+\n+These release notes cover the `new features`_, as well\n+as some `backwards incompatible changes`_ you'll want to be aware of\n+when upgrading from Django 1.3 or older versions. We've also dropped some\n+features, which are detailed in :doc:`our deprecation plan\n+</internals/deprecation>`, and we've `begun the deprecation process for some\n+features`_.\n \n .. _`new features`: `What's new in Django 1.4`_\n .. _`backwards incompatible changes`: `Backwards incompatible changes in 1.4`_\n .. _`begun the deprecation process for some features`: `Features deprecated in 1.4`_\n \n+Overview\n+========\n+\n+The biggest new feature in Django 1.4 is `support for time zones`_ when\n+handling date/times. When enabled, this Django will store date/times in UTC,\n+use timezone-aware objects internally, and translate them to users' local\n+timezones for display.\n+\n+If you're upgrading an existing project to Django 1.4, switching to the time-\n+zone aware mode may take some care: the new mode disallows some rather sloppy\n+behavior that used to be accepted. We encourage anyone who's upgrading to check\n+out the :ref:`timezone migration guide <time-zones-migration-guide>` and the\n+:ref:`timezone FAQ <time-zones-faq>` for useful pointers.\n+\n+Other notable new features in Django 1.4 include:\n+\n+* A number of ORM improvements, including `SELECT FOR UPDATE support`_,\n+  the ability to `bulk insert <Model.objects.bulk_create in the ORM>`_\n+  large datasets for improved performance, and\n+  `QuerySet.prefetch_related`_, a method to batch-load related objects\n+  in areas where :meth:`~django.db.models.QuerySet.select_related` does't\n+  work.\n+\n+* Some nice security additions, including `improved password hashing`_\n+  (featuring PBKDF2_ and bcrypt_ support), new `tools for cryptographic\n+  signing`_, several `CSRF improvements`_, and `simple clickjacking\n+  protection`_.\n+\n+* An `updated default project layout and manage.py`_ that removes the \"magic\"\n+  from prior versions. And for those who don't like the new layout, you can\n+  use `custom project and app templates`_ instead!\n+\n+* `Support for in-browser testing frameworks`_ (like Selenium_).\n+\n+* ... and a whole lot more; `see below <what's new in django 1.4>`_!\n+\n+Wherever possible we try to introduce new features in a backwards-compatible\n+manner per :doc:`our API stability policy </misc/api-stability>` policy.\n+However, as with previous releases, Django 1.4 ships with some minor\n+`backwards incompatible changes`_; people upgrading from previous versions\n+of Django should read that list carefully.\n+\n Python compatibility\n ====================\n \n@@ -36,6 +80,33 @@ timeline for deprecating Python 2.x and moving to Python 3.x.\n What's new in Django 1.4\n ========================\n \n+Support for time zones\n+~~~~~~~~~~~~~~~~~~~~~~\n+\n+In previous versions, Django used \"naive\" date/times (that is, date/times\n+without an associated time zone), leaving it up to each developer to interpret\n+what a given date/time \"really means\". This can cause all sorts of subtle\n+timezone-related bugs.\n+\n+In Django 1.4, you can now switch Django into a more correct, time-zone aware\n+mode. In this mode, Django stores date and  time information in UTC in the\n+database, uses time-zone-aware datetime objects internally and translates them\n+to the end user's time zone in templates and forms. Reasons for using this\n+feature include:\n+\n+- Customizing date and time display for users around the world.\n+\n+- Storing datetimes in UTC for database portability and interoperability.\n+  (This argument doesn't apply to PostgreSQL, because it already stores\n+  timestamps with time zone information in Django 1.3.)\n+\n+- Avoiding data corruption problems around DST transitions.\n+\n+Time zone support is enabled by default in new projects created with\n+:djadmin:`startproject`. If you want to use this feature in an existing\n+project, read the :ref:`migration guide <time-zones-migration-guide>`. If you\n+encounter problems, there's a helpful :ref:`FAQ <time-zones-faq>`.\n+\n Support for in-browser testing frameworks\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n@@ -48,6 +119,110 @@ concrete examples.\n \n .. _Selenium: http://seleniumhq.org/\n \n+Updated default project layout and ``manage.py``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Django 1.4 ships with an updated default project layout and ``manage.py`` file\n+for the :djadmin:`startproject` management command. These fix some issues with\n+the previous ``manage.py`` handling of Python import paths that caused double\n+imports, trouble moving from development to deployment, and other\n+difficult-to-debug path issues.\n+\n+The previous ``manage.py`` called functions that are now deprecated, and thus\n+projects upgrading to Django 1.4 should update their ``manage.py``. (The\n+old-style ``manage.py`` will continue to work as before until Django 1.6. In\n+1.5 it will raise ``DeprecationWarning``).\n+\n+The new recommended ``manage.py`` file should look like this::\n+\n+    #!/usr/bin/env python\n+    import os, sys\n+\n+    if __name__ == \"__main__\":\n+        os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"{{ project_name }}.settings\")\n+\n+        from django.core.management import execute_from_command_line\n+\n+        execute_from_command_line(sys.argv)\n+\n+``{{ project_name }}`` should be replaced with the Python package name of the\n+actual project.\n+\n+If settings, URLconfs and apps within the project are imported or referenced\n+using the project name prefix (e.g. ``myproject.settings``, ``ROOT_URLCONF =\n+\"myproject.urls\"``, etc), the new ``manage.py`` will need to be moved one\n+directory up, so it is outside the project package rather than adjacent to\n+``settings.py`` and ``urls.py``.\n+\n+For instance, with the following layout::\n+\n+    manage.py\n+    mysite/\n+        __init__.py\n+        settings.py\n+        urls.py\n+        myapp/\n+            __init__.py\n+            models.py\n+\n+You could import ``mysite.settings``, ``mysite.urls``, and ``mysite.myapp``,\n+but not ``settings``, ``urls``, or ``myapp`` as top-level modules.\n+\n+Anything imported as a top-level module can be placed adjacent to the new\n+``manage.py``. For instance, to decouple \"myapp\" from the project module and\n+import it as just ``myapp``, place it outside the ``mysite/`` directory::\n+\n+    manage.py\n+    myapp/\n+        __init__.py\n+        models.py\n+    mysite/\n+        __init__.py\n+        settings.py\n+        urls.py\n+\n+If the same code is imported inconsistently (some places with the project\n+prefix, some places without it), the imports will need to be cleaned up when\n+switching to the new ``manage.py``.\n+\n+Custom project and app templates\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The :djadmin:`startapp` and :djadmin:`startproject` management commands\n+now have a ``--template`` option for specifying a path or URL to a custom app\n+or project template.\n+\n+For example, Django will use the ``/path/to/my_project_template`` directory\n+when you run the following command::\n+\n+    django-admin.py startproject --template=/path/to/my_project_template myproject\n+\n+You can also now provide a destination directory as the second\n+argument to both :djadmin:`startapp` and :djadmin:`startproject`::\n+\n+    django-admin.py startapp myapp /path/to/new/app\n+    django-admin.py startproject myproject /path/to/new/project\n+\n+For more information, see the :djadmin:`startapp` and :djadmin:`startproject`\n+documentation.\n+\n+Improved WSGI support\n+~~~~~~~~~~~~~~~~~~~~~\n+\n+The :djadmin:`startproject` management command now adds a :file:`wsgi.py`\n+module to the initial project layout, containing a simple WSGI application that\n+can be used for :doc:`deploying with WSGI app\n+servers</howto/deployment/wsgi/index>`.\n+\n+The :djadmin:`built-in development server<runserver>` now supports using an\n+externally-defined WSGI callable, which makes it possible to run runserver\n+with the same WSGI configuration that is used for deployment. The new\n+:setting:`WSGI_APPLICATION` setting lets you configure which WSGI callable\n+:djadmin:`runserver` uses.\n+\n+(The :djadmin:`runfcgi` management command also internally wraps the WSGI\n+callable configured via :setting:`WSGI_APPLICATION`.)\n+\n ``SELECT FOR UPDATE`` support\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n@@ -184,7 +359,7 @@ more information.\n New form wizard\n ~~~~~~~~~~~~~~~\n \n-The previous ``FormWizard`` from the formtools contrib app has been\n+The previous ``FormWizard`` from :mod:`django.contrib.formtools` has been\n replaced with a new implementation based on the class-based views\n introduced in Django 1.3. It features a pluggable storage API and doesn't\n require the wizard to pass around hidden fields for every previous step.\n@@ -350,137 +525,11 @@ filter<custom-error-reports>`. For more information see the docs on\n Extended IPv6 support\n ~~~~~~~~~~~~~~~~~~~~~\n \n-The previously added support for IPv6 addresses when using the runserver\n-management command in Django 1.3 has been extended with\n-a :class:`~django.db.models.fields.GenericIPAddressField` model field,\n-a :class:`~django.forms.fields.GenericIPAddressField` form field and\n+Django 1.4 can now better handle IPv6 addresses with the new\n+:class:`~django.db.models.fields.GenericIPAddressField` model field,\n+:class:`~django.forms.fields.GenericIPAddressField` form field and\n the validators :data:`~django.core.validators.validate_ipv46_address` and\n-:data:`~django.core.validators.validate_ipv6_address`\n-\n-Updated default project layout and ``manage.py``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-\n-Django 1.4 ships with an updated default project layout and ``manage.py`` file\n-for the :djadmin:`startproject` management command. These fix some issues with\n-the previous ``manage.py`` handling of Python import paths that caused double\n-imports, trouble moving from development to deployment, and other\n-difficult-to-debug path issues.\n-\n-The previous ``manage.py`` called functions that are now deprecated, and thus\n-projects upgrading to Django 1.4 should update their ``manage.py``. (The\n-old-style ``manage.py`` will continue to work as before until Django 1.6. In\n-1.5 it will raise ``DeprecationWarning``).\n-\n-The new recommended ``manage.py`` file should look like this::\n-\n-    #!/usr/bin/env python\n-    import os, sys\n-\n-    if __name__ == \"__main__\":\n-        os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"{{ project_name }}.settings\")\n-\n-        from django.core.management import execute_from_command_line\n-\n-        execute_from_command_line(sys.argv)\n-\n-``{{ project_name }}`` should be replaced with the Python package name of the\n-actual project.\n-\n-If settings, URLconfs and apps within the project are imported or referenced\n-using the project name prefix (e.g. ``myproject.settings``, ``ROOT_URLCONF =\n-\"myproject.urls\"``, etc), the new ``manage.py`` will need to be moved one\n-directory up, so it is outside the project package rather than adjacent to\n-``settings.py`` and ``urls.py``.\n-\n-For instance, with the following layout::\n-\n-    manage.py\n-    mysite/\n-        __init__.py\n-        settings.py\n-        urls.py\n-        myapp/\n-            __init__.py\n-            models.py\n-\n-You could import ``mysite.settings``, ``mysite.urls``, and ``mysite.myapp``,\n-but not ``settings``, ``urls``, or ``myapp`` as top-level modules.\n-\n-Anything imported as a top-level module can be placed adjacent to the new\n-``manage.py``. For instance, to decouple \"myapp\" from the project module and\n-import it as just ``myapp``, place it outside the ``mysite/`` directory::\n-\n-    manage.py\n-    myapp/\n-        __init__.py\n-        models.py\n-    mysite/\n-        __init__.py\n-        settings.py\n-        urls.py\n-\n-If the same code is imported inconsistently (some places with the project\n-prefix, some places without it), the imports will need to be cleaned up when\n-switching to the new ``manage.py``.\n-\n-Improved WSGI support\n-~~~~~~~~~~~~~~~~~~~~~\n-\n-The :djadmin:`startproject` management command now adds a :file:`wsgi.py`\n-module to the initial project layout, containing a simple WSGI application that\n-can be used for :doc:`deploying with WSGI app\n-servers</howto/deployment/wsgi/index>`.\n-\n-The :djadmin:`built-in development server<runserver>` now supports using an\n-externally-defined WSGI callable, which makes it possible to run runserver\n-with the same WSGI configuration that is used for deployment. The new\n-:setting:`WSGI_APPLICATION` setting lets you configure which WSGI callable\n-:djadmin:`runserver` uses.\n-\n-(The :djadmin:`runfcgi` management command also internally wraps the WSGI\n-callable configured via :setting:`WSGI_APPLICATION`.)\n-\n-Custom project and app templates\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-\n-The :djadmin:`startapp` and :djadmin:`startproject` management commands\n-now have a ``--template`` option for specifying a path or URL to a custom app\n-or project template.\n-\n-For example, Django will use the ``/path/to/my_project_template`` directory\n-when you run the following command::\n-\n-    django-admin.py startproject --template=/path/to/my_project_template myproject\n-\n-You can also now provide a destination directory as the second\n-argument to both :djadmin:`startapp` and :djadmin:`startproject`::\n-\n-    django-admin.py startapp myapp /path/to/new/app\n-    django-admin.py startproject myproject /path/to/new/project\n-\n-For more information, see the :djadmin:`startapp` and :djadmin:`startproject`\n-documentation.\n-\n-Support for time zones\n-~~~~~~~~~~~~~~~~~~~~~~\n-\n-Django 1.4 adds :ref:`support for time zones <time-zones>`. When it's enabled,\n-Django stores date and time information in UTC in the database, uses\n-time-zone-aware datetime objects internally and translates them to the end user's\n-time zone in templates and forms.\n-\n-Reasons for using this feature include:\n-\n-- Customizing date and time display for users around the world.\n-- Storing datetimes in UTC for database portability and interoperability.\n-  (This argument doesn't apply to PostgreSQL, because it already stores\n-  timestamps with time zone information in Django 1.3.)\n-- Avoiding data corruption problems around DST transitions.\n-\n-Time zone support is enabled by default in new projects created with\n-:djadmin:`startproject`. If you want to use this feature in an existing\n-project, read the :ref:`migration guide <time-zones-migration-guide>`. If you\n-encounter problems, there's a helpful :ref:`FAQ <time-zones-faq>`.\n+:data:`~django.core.validators.validate_ipv6_address`.\n \n HTML comparisons in tests\n ~~~~~~~~~~~~~~~~~~~~~~~~~"
        }
    ],
    "stats": {
        "total": 331,
        "additions": 190,
        "deletions": 141
    }
}