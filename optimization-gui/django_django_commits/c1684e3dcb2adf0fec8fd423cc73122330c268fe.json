{
    "author": "akaariai",
    "message": "Fixed #18731 -- Cleaned up split_exclude's use of can_reuse\n\nThe outer query's set of reusable joins (can_reuse) was passed to the\ninner query's add_filter call. This was incorrect.",
    "sha": "c1684e3dcb2adf0fec8fd423cc73122330c268fe",
    "files": [
        {
            "sha": "c62c9ac23e19bc7ac5e842d848d982cb7e67d5d6",
            "filename": "django/db/models/sql/query.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c1684e3dcb2adf0fec8fd423cc73122330c268fe/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/c1684e3dcb2adf0fec8fd423cc73122330c268fe/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fquery.py?ref=c1684e3dcb2adf0fec8fd423cc73122330c268fe",
            "patch": "@@ -1550,7 +1550,7 @@ def split_exclude(self, filter_expr, prefix, can_reuse):\n         N-to-many relation field.\n         \"\"\"\n         query = Query(self.model)\n-        query.add_filter(filter_expr, can_reuse=can_reuse)\n+        query.add_filter(filter_expr)\n         query.bump_prefix()\n         query.clear_ordering(True)\n         query.set_start(prefix)"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}