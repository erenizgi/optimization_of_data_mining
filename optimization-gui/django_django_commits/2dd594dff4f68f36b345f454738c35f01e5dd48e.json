{
    "author": "unknown",
    "message": "Fixed #13162 and #11597 -- Improved the file handling documentation: Removed documentation of methods on django.core.files.File that did not exist, added documentation for undocumented methods and attributes that did exist, did a general cleanup of the text and organization, and added more metadata targets. Thanks to amenasse and tyrion.mx for the reports.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14833 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "2dd594dff4f68f36b345f454738c35f01e5dd48e",
    "files": [
        {
            "sha": "1374d0179be11faff8e9411dd541bd12cffa96a8",
            "filename": "docs/ref/files/file.txt",
            "status": "modified",
            "additions": 73,
            "deletions": 59,
            "changes": 132,
            "blob_url": "https://github.com/django/django/blob/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Fref%2Ffiles%2Ffile.txt",
            "raw_url": "https://github.com/django/django/raw/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Fref%2Ffiles%2Ffile.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ffiles%2Ffile.txt?ref=2dd594dff4f68f36b345f454738c35f01e5dd48e",
            "patch": "@@ -1,56 +1,54 @@\n The ``File`` object\n ===================\n \n-.. currentmodule:: django.core.files\n+The :mod:`django.core.files` module and its submodules contain built-in classes\n+for basic file handling in Django.\n \n-``File`` attributes and methods\n--------------------------------\n+.. currentmodule:: django.core.files\n \n-The :mod:`django.core.files` module contains a built-in class for basic file\n-handling in Django. The :class:`File` class has the following attributes and\n-methods:\n+The ``File`` Class\n+------------------\n \n .. class:: File(file_object)\n \n-    .. attribute:: name\n-\n-        The name of file including the relative path from :setting:`MEDIA_ROOT`.\n+    The :class:`File` is a thin wrapper around Python's built-in file object\n+    with some Django-specific additions. Internally, Django uses this class\n+    any time it needs to represent a file.\n+    \n+    :class:`File` objects have the following attributes and methods:\n \n-    .. attribute:: path\n-\n-        The absolute path to the file's location on a local filesystem.\n+    .. attribute:: name\n \n-        :doc:`Custom file storage systems </howto/custom-file-storage>` may not store\n-        files locally; files stored on these systems will have a ``path`` of\n-        ``None``.\n+        The name of file including the relative path from\n+        :setting:`MEDIA_ROOT`.\n \n-    .. attribute:: url\n+    .. attribute:: size\n \n-        The URL where the file can be retrieved. This is often useful in\n-        :doc:`templates </topics/templates>`; for example, a bit of a template for\n-        displaying a ``Car`` (see above) might look like:\n+        The size of the file in bytes.\n \n-        .. code-block:: html+django\n+    .. attribute:: file\n \n-            <img src='{{ car.photo.url }}' alt='{{ car.name }}' />\n+        The underlying Python ``file`` object passed to\n+        :class:`~django.core.files.File`.\n \n-    .. attribute:: size\n+    .. attribute:: mode\n \n-        The size of the file in bytes.\n+        The read/write mode for the file.\n \n     .. method:: open([mode=None])\n \n-        Open or reopen the file (which by definition also does ``File.seek(0)``).\n-        The ``mode`` argument allows the same values as Python's standard\n-        ``open()``.\n+        Open or reopen the file (which by definition also does\n+        ``File.seek(0)``). The ``mode`` argument allows the same values\n+        as Python's standard ``open()``.\n \n-        When reopening a file, ``mode`` will override whatever mode the file was\n-        originally opened with; ``None`` means to reopen with the original mode.\n+        When reopening a file, ``mode`` will override whatever mode the file\n+        was originally opened with; ``None`` means to reopen with the original\n+        mode.\n \n     .. method:: read([num_bytes=None])\n \n-        Read content from the file. The optional ``size`` is the number of bytes to\n-        read; if not specified, the file will be read to the end.\n+        Read content from the file. The optional ``size`` is the number of\n+        bytes to read; if not specified, the file will be read to the end.\n \n     .. method:: __iter__()\n \n@@ -61,46 +59,73 @@ methods:\n         Iterate over the file yielding \"chunks\" of a given size. ``chunk_size``\n         defaults to 64 KB.\n \n-        This is especially useful with very large files since it allows them to be\n-        streamed off disk and avoids storing the whole file in memory.\n+        This is especially useful with very large files since it allows them to\n+        be streamed off disk and avoids storing the whole file in memory.\n \n     .. method:: multiple_chunks([chunk_size=None])\n \n-        Returns ``True`` if the file is large enough to require multiple chunks to\n-        access all of its content give some ``chunk_size``.\n+        Returns ``True`` if the file is large enough to require multiple chunks\n+        to access all of its content give some ``chunk_size``.\n \n     .. method:: write([content])\n \n-        Writes the specified content string to the file. Depending on the storage\n-        system behind the scenes, this content might not be fully committed until\n-        ``close()`` is called on the file.\n+        Writes the specified content string to the file. Depending on the\n+        storage system behind the scenes, this content might not be fully\n+        committed until ``close()`` is called on the file.\n \n     .. method:: close()\n \n         Close the file.\n \n+    In addition to the listed methods, :class:`~django.core.files.File` exposes\n+    the following attributes and methods of the underlying ``file`` object:\n+    ``encoding``, ``fileno``, ``flush``, ``isatty``, ``newlines``,\n+    ``read``, ``readinto``, ``readlines``, ``seek``, ``softspace``, ``tell``,\n+    ``truncate``, ``writelines``, ``xreadlines``.\n+\n+.. currentmodule:: django.core.files.base\n+\n+The ``ContentFile`` Class\n+-------------------------\n+\n+.. class:: ContentFile(File)\n+\n+    The ``ContentFile`` class inherits from :class:`~django.core.files.File`,\n+    but unlike :class:`~django.core.files.File` it operates on string content,\n+    rather than an actual file. For example::\n+\n+        from django.core.files.base import ContentFile\n+\n+        f1 = ContentFile(\"my string content\")\n+        f2 = ContentFile(u\"my unicode content encoded as UTF-8\".encode('UTF-8'))\n+\n .. currentmodule:: django.core.files.images\n \n-Additional ``ImageFile`` attributes\n-------------------------------------\n+The ``ImageFile`` Class\n+-----------------------\n \n .. class:: ImageFile(file_object)\n \n+    Django provides a built-in class specifically for images.\n+    :class:`django.core.files.images.ImageFile` inherits all the attributes\n+    and methods of :class:`~django.core.files.File`, and additionally\n+    provides the following:\n+\n     .. attribute:: width\n \n-        Width of the image.\n+        Width of the image in pixels.\n \n     .. attribute:: height\n \n-        Height of the image.\n+        Height of the image in pixels.\n \n .. currentmodule:: django.core.files\n \n Additional methods on files attached to objects\n -----------------------------------------------\n \n Any :class:`File` that's associated with an object (as with ``Car.photo``,\n-above) will also have a couple of extra methods:\n+below) will also have a couple of extra methods:\n \n .. method:: File.save(name, content, [save=True])\n \n@@ -116,23 +141,12 @@ above) will also have a couple of extra methods:\n \n         >>> car.photo.save('myphoto.jpg', contents, save=True)\n \n-    Note that the ``content`` argument must be an instance of\n-    :class:`File` or of a subclass of :class:`File` such as :class:`ContentFile`.\n+    Note that the ``content`` argument must be an instance of either\n+    :class:`File` or of a subclass of :class:`File`, such as\n+    :class:`ContentFile`.\n \n .. method:: File.delete([save=True])\n \n-    Remove the file from the model instance and delete the underlying file. The\n-    ``save`` argument works as above.\n-\n-``ContentFile`` objects\n------------------------\n-\n-.. class:: ContentFile(File)\n-\n-A ``ContentFile`` is a File-like object that takes string content, rather\n-than an actual file::\n-\n-    from django.core.files.base import ContentFile\n-\n-    f1 = ContentFile(\"my string content\")\n-    f2 = ContentFile(u\"my unicode content encoded as UTF-8\".encode('UTF-8'))\n+    Removes the file from the model instance and deletes the underlying file.\n+    If ``save`` is ``True``, the model's ``save()`` method will be called once\n+    the file is deleted."
        },
        {
            "sha": "552559ddcd49e9fcb5520dd2fa7c49266b6888b5",
            "filename": "docs/ref/files/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Fref%2Ffiles%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Fref%2Ffiles%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ffiles%2Findex.txt?ref=2dd594dff4f68f36b345f454738c35f01e5dd48e",
            "patch": "@@ -6,7 +6,7 @@ File handling\n    :synopsis: File handling and storage\n \n .. toctree::\n-   :maxdepth: 1\n+   :maxdepth: 2\n \n    file\n    storage"
        },
        {
            "sha": "d1926c6ec1d1cb122005c93a404e0fce28eb1393",
            "filename": "docs/topics/files.txt",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Ftopics%2Ffiles.txt",
            "raw_url": "https://github.com/django/django/raw/2dd594dff4f68f36b345f454738c35f01e5dd48e/docs%2Ftopics%2Ffiles.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Ffiles.txt?ref=2dd594dff4f68f36b345f454738c35f01e5dd48e",
            "patch": "@@ -50,9 +50,9 @@ it has all the methods and attributes described below.\n The ``File`` object\n ===================\n \n-Internally, Django uses a ``django.core.files.File`` any time it needs to\n-represent a file. This object is a thin wrapper around Python's `built-in file\n-object`_ with some Django-specific additions.\n+Internally, Django uses a :class:`django.core.files.File` instance any time it\n+needs to represent a file. This object is a thin wrapper around Python's\n+`built-in file object`_ with some Django-specific additions.\n \n .. _built-in file object: http://docs.python.org/library/stdtypes.html#bltin-file-objects\n \n@@ -68,8 +68,8 @@ using a Python built-in ``file`` object::\n     >>> f = open('/tmp/hello.world', 'w')\n     >>> myfile = File(f)\n \n-Now you can use any of the ``File`` attributes and methods documented in\n-:doc:`/ref/files/file`.\n+Now you can use any of the documented attributes and methods\n+of the :class:`~django.core.files.File` class.\n \n File storage\n ============"
        }
    ],
    "stats": {
        "total": 144,
        "additions": 79,
        "deletions": 65
    }
}