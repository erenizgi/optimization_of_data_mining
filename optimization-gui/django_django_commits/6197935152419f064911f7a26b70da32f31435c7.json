{
    "author": "aaugustin",
    "message": "Fixed #19968 -- Dropped support for PostgreSQL < 8.4.",
    "sha": "6197935152419f064911f7a26b70da32f31435c7",
    "files": [
        {
            "sha": "b17a0c17bb46b1a2d92b5f11741de84d75853946",
            "filename": "django/db/backends/postgresql_psycopg2/operations.py",
            "status": "modified",
            "additions": 4,
            "deletions": 15,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fpostgresql_psycopg2%2Foperations.py?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -9,7 +9,7 @@ def __init__(self, connection):\n         super(DatabaseOperations, self).__init__(connection)\n \n     def date_extract_sql(self, lookup_type, field_name):\n-        # http://www.postgresql.org/docs/8.0/static/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT\n+        # http://www.postgresql.org/docs/current/static/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT\n         if lookup_type == 'week_day':\n             # For consistency across backends, we return Sunday=1, Saturday=7.\n             return \"EXTRACT('dow' FROM %s) + 1\" % field_name\n@@ -34,7 +34,7 @@ def date_interval_sql(self, sql, connector, timedelta):\n         return '(%s)' % conn.join([sql, 'interval \\'%s\\'' % mods])\n \n     def date_trunc_sql(self, lookup_type, field_name):\n-        # http://www.postgresql.org/docs/8.0/static/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\n+        # http://www.postgresql.org/docs/current/static/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\n         return \"DATE_TRUNC('%s', %s)\" % (lookup_type, field_name)\n \n     def datetime_extract_sql(self, lookup_type, field_name, tzname):\n@@ -43,7 +43,7 @@ def datetime_extract_sql(self, lookup_type, field_name, tzname):\n             params = [tzname]\n         else:\n             params = []\n-        # http://www.postgresql.org/docs/8.0/static/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT\n+        # http://www.postgresql.org/docs/current/static/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT\n         if lookup_type == 'week_day':\n             # For consistency across backends, we return Sunday=1, Saturday=7.\n             sql = \"EXTRACT('dow' FROM %s) + 1\" % field_name\n@@ -57,7 +57,7 @@ def datetime_trunc_sql(self, lookup_type, field_name, tzname):\n             params = [tzname]\n         else:\n             params = []\n-        # http://www.postgresql.org/docs/8.0/static/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\n+        # http://www.postgresql.org/docs/current/static/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\n         sql = \"DATE_TRUNC('%s', %s)\" % (lookup_type, field_name)\n         return sql, params\n \n@@ -178,17 +178,6 @@ def sequence_reset_sql(self, style, model_list):\n     def prep_for_iexact_query(self, x):\n         return x\n \n-    def check_aggregate_support(self, aggregate):\n-        \"\"\"Check that the backend fully supports the provided aggregate.\n-\n-        The implementation of population statistics (STDDEV_POP and VAR_POP)\n-        under Postgres 8.2 - 8.2.4 is known to be faulty. Raise\n-        NotImplementedError if this is the database in use.\n-        \"\"\"\n-        if aggregate.sql_function in ('STDDEV_POP', 'VAR_POP'):\n-            if 80200 <= self.connection.pg_version <= 80204:\n-                raise NotImplementedError('PostgreSQL 8.2 to 8.2.4 is known to have a faulty implementation of %s. Please upgrade your version of PostgreSQL.' % aggregate.sql_function)\n-\n     def max_name_length(self):\n         \"\"\"\n         Returns the maximum length of an identifier."
        },
        {
            "sha": "84b3881fad231f296bc039e88f05233950c84584",
            "filename": "docs/howto/custom-model-fields.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fhowto%2Fcustom-model-fields.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fhowto%2Fcustom-model-fields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fcustom-model-fields.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -19,7 +19,7 @@ only the common types, such as ``VARCHAR`` and ``INTEGER``. For more obscure\n column types, such as geographic polygons or even user-created types such as\n `PostgreSQL custom types`_, you can define your own Django ``Field`` subclasses.\n \n-.. _PostgreSQL custom types: http://www.postgresql.org/docs/8.2/interactive/sql-createtype.html\n+.. _PostgreSQL custom types: http://www.postgresql.org/docs/current/interactive/sql-createtype.html\n \n Alternatively, you may have a complex Python object that can somehow be\n serialized to fit into a standard database column type. This is another case"
        },
        {
            "sha": "c59834c87e98d814bd0745c523a6925df28f1225",
            "filename": "docs/ref/contrib/gis/install/create_template_postgis-debian.sh",
            "status": "modified",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Fcreate_template_postgis-debian.sh?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -3,13 +3,6 @@\n GEOGRAPHY=0\n POSTGIS_SQL=postgis.sql\n \n-# For Ubuntu 8.x and 9.x releases.\n-if [ -d \"/usr/share/postgresql-8.3-postgis\" ]\n-then\n-    POSTGIS_SQL_PATH=/usr/share/postgresql-8.3-postgis\n-    POSTGIS_SQL=lwpostgis.sql\n-fi\n-\n # For Ubuntu 10.04\n if [ -d \"/usr/share/postgresql/8.4/contrib\" ]\n then"
        },
        {
            "sha": "62369d82530ae2db5f55d1fae96c180126dfa140",
            "filename": "docs/ref/contrib/gis/install/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Finstall%2Findex.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -61,7 +61,7 @@ supported versions, and any notes for each of the supported database backends:\n ==================  ==============================  ==================  =========================================\n Database            Library Requirements            Supported Versions  Notes\n ==================  ==============================  ==================  =========================================\n-PostgreSQL          GEOS, PROJ.4, PostGIS           8.2+                Requires PostGIS.\n+PostgreSQL          GEOS, PROJ.4, PostGIS           8.4+                Requires PostGIS.\n MySQL               GEOS                            5.x                 Not OGC-compliant; :ref:`limited functionality <mysql-spatial-limitations>`.\n Oracle              GEOS                            10.2, 11            XE not supported; not tested with 9.\n SQLite              GEOS, GDAL, PROJ.4, SpatiaLite  3.6.+               Requires SpatiaLite 2.3+, pysqlite2 2.5+"
        },
        {
            "sha": "6d4e1663bf980a22b5d8f01ad37385e7aed1d682",
            "filename": "docs/ref/databases.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 16,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fdatabases.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fdatabases.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fdatabases.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -77,20 +77,7 @@ negating the effect of persistent connections.\n PostgreSQL notes\n ================\n \n-Django supports PostgreSQL 8.2 and higher.\n-\n-PostgreSQL 8.2 to 8.2.4\n------------------------\n-\n-The implementation of the population statistics aggregates ``STDDEV_POP`` and\n-``VAR_POP`` that shipped with PostgreSQL 8.2 to 8.2.4 are `known to be\n-faulty`_. Users of these releases of PostgreSQL are advised to upgrade to\n-`Release 8.2.5`_ or later. Django will raise a ``NotImplementedError`` if you\n-attempt to use the ``StdDev(sample=False)`` or ``Variance(sample=False)``\n-aggregate with a database backend that falls within the affected release range.\n-\n-.. _known to be faulty: http://archives.postgresql.org/pgsql-bugs/2007-07/msg00046.php\n-.. _Release 8.2.5: http://www.postgresql.org/docs/devel/static/release-8-2-5.html\n+Django supports PostgreSQL 8.4 and higher.\n \n PostgreSQL connection settings\n -------------------------------\n@@ -165,7 +152,7 @@ such as ``REPEATABLE READ`` or ``SERIALIZABLE``, set it in the\n     handle exceptions raised on serialization failures. This option is\n     designed for advanced uses.\n \n-.. _postgresql-isolation-levels: http://www.postgresql.org/docs/devel/static/transaction-iso.html\n+.. _postgresql-isolation-levels: http://www.postgresql.org/docs/current/static/transaction-iso.html\n \n Indexes for ``varchar`` and ``text`` columns\n --------------------------------------------\n@@ -179,7 +166,7 @@ for the column.  The extra index is necessary to correctly perform\n lookups that use the ``LIKE`` operator in their SQL, as is done with the\n ``contains`` and ``startswith`` lookup types.\n \n-.. _PostgreSQL operator class: http://www.postgresql.org/docs/8.4/static/indexes-opclass.html\n+.. _PostgreSQL operator class: http://www.postgresql.org/docs/current/static/indexes-opclass.html\n \n .. _mysql-notes:\n "
        },
        {
            "sha": "9c1337d59fb415f84a69fa810e765a0dfa6b8f4a",
            "filename": "docs/ref/models/querysets.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Fquerysets.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -628,7 +628,7 @@ object. If it's ``None``, Django uses the :ref:`current time zone\n     - MySQL: load the time zone tables with `mysql_tzinfo_to_sql`_.\n \n     .. _pytz: http://pytz.sourceforge.net/\n-    .. _Time Zones: http://www.postgresql.org/docs/9.2/static/datatype-datetime.html#DATATYPE-TIMEZONES\n+    .. _Time Zones: http://www.postgresql.org/docs/current/static/datatype-datetime.html#DATATYPE-TIMEZONES\n     .. _Choosing a Time Zone File: http://docs.oracle.com/cd/B19306_01/server.102/b14225/ch4datetime.htm#i1006667\n     .. _mysql_tzinfo_to_sql: http://dev.mysql.com/doc/refman/5.5/en/mysql-tzinfo-to-sql.html\n "
        },
        {
            "sha": "b8041a8a9bdf01f26160ab0400df08d95c1181c7",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -557,7 +557,7 @@ backend-specific.\n Supported for the PostgreSQL_ (``postgresql_psycopg2``) and MySQL_ (``mysql``)\n backends.\n \n-.. _PostgreSQL: http://www.postgresql.org/docs/8.2/static/multibyte.html\n+.. _PostgreSQL: http://www.postgresql.org/docs/current/static/multibyte.html\n .. _MySQL: http://dev.mysql.com/doc/refman/5.0/en/charset-database.html\n \n .. setting:: TEST_COLLATION"
        },
        {
            "sha": "bd5bdc96a963a82529d28cfff2d484964ea26871",
            "filename": "docs/ref/unicode.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Funicode.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Fref%2Funicode.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Funicode.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -20,14 +20,14 @@ able to store certain characters in the database, and information will be lost.\n * MySQL users, refer to the `MySQL manual`_ (section 9.1.3.2 for MySQL 5.1)\n   for details on how to set or alter the database character set encoding.\n \n-* PostgreSQL users, refer to the `PostgreSQL manual`_ (section 21.2.2 in\n-  PostgreSQL 8) for details on creating databases with the correct encoding.\n+* PostgreSQL users, refer to the `PostgreSQL manual`_ (section 22.3.2 in\n+  PostgreSQL 9) for details on creating databases with the correct encoding.\n \n * SQLite users, there is nothing you need to do. SQLite always uses UTF-8\n   for internal encoding.\n \n .. _MySQL manual: http://dev.mysql.com/doc/refman/5.1/en/charset-database.html\n-.. _PostgreSQL manual: http://www.postgresql.org/docs/8.2/static/multibyte.html#AEN24104\n+.. _PostgreSQL manual: http://www.postgresql.org/docs/current/static/multibyte.html\n \n All of Django's database backends automatically convert Unicode strings into\n the appropriate encoding for talking to the database. They also automatically"
        },
        {
            "sha": "a0867ad930d8b0d09ddede608db420d18debd7e4",
            "filename": "docs/releases/1.6.txt",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Freleases%2F1.6.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Freleases%2F1.6.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.6.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -352,6 +352,17 @@ in an external repository`__.\n __ https://disqus.com/\n __ https://github.com/django/django-contrib-comments\n \n+Support for PostgreSQL versions older than 8.4\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The end of upstream support periods was reached in December 2011 for\n+PostgreSQL 8.2 and in February 2013 for 8.3. As a consequence, Django 1.6 sets\n+8.4 as the minimum PostgreSQL version it officially supports.\n+\n+You're strongly encouraged to use the most recent version of PostgreSQL\n+available, because of performance improvements and to take advantage of the\n+native streaming replication available in PostgreSQL 9.x.\n+\n Changes to :ttag:`cycle` and :ttag:`firstof`\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n "
        },
        {
            "sha": "b52e6e795f564ddc00aed498ff03665bcd745e4e",
            "filename": "docs/topics/db/sql.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6197935152419f064911f7a26b70da32f31435c7/docs%2Ftopics%2Fdb%2Fsql.txt",
            "raw_url": "https://github.com/django/django/raw/6197935152419f064911f7a26b70da32f31435c7/docs%2Ftopics%2Fdb%2Fsql.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fsql.txt?ref=6197935152419f064911f7a26b70da32f31435c7",
            "patch": "@@ -155,7 +155,7 @@ of people with their ages calculated by the database::\n     Jane is 42.\n     ...\n \n-__ http://www.postgresql.org/docs/8.4/static/functions-datetime.html\n+__ http://www.postgresql.org/docs/current/static/functions-datetime.html\n \n Passing parameters into ``raw()``\n ---------------------------------"
        }
    ],
    "stats": {
        "total": 72,
        "additions": 26,
        "deletions": 46
    }
}