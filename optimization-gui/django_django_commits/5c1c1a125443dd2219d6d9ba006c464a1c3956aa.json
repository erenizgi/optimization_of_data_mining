{
    "author": "adrianholovaty",
    "message": "Changed admin/js/collapse.js to take advantage of jQuery chaining in three places. Should make for a slight performance boost.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17180 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "5c1c1a125443dd2219d6d9ba006c464a1c3956aa",
    "files": [
        {
            "sha": "5e4f04cc9d91f5fbd10bddb9e4a7bc3b33ada095",
            "filename": "django/contrib/admin/static/admin/js/collapse.js",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/5c1c1a125443dd2219d6d9ba006c464a1c3956aa/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js",
            "raw_url": "https://github.com/django/django/raw/5c1c1a125443dd2219d6d9ba006c464a1c3956aa/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.js?ref=5c1c1a125443dd2219d6d9ba006c464a1c3956aa",
            "patch": "@@ -3,23 +3,20 @@\n \t\t// Add anchor tag for Show/Hide link\n \t\t$(\"fieldset.collapse\").each(function(i, elem) {\n \t\t\t// Don't hide if fields in this fieldset have errors\n-\t\t\tif ( $(elem).find(\"div.errors\").length == 0 ) {\n-\t\t\t\t$(elem).addClass(\"collapsed\");\n-\t\t\t\t$(elem).find(\"h2\").first().append(' (<a id=\"fieldsetcollapser' +\n+\t\t\tif ($(elem).find(\"div.errors\").length == 0) {\n+\t\t\t\t$(elem).addClass(\"collapsed\").find(\"h2\").first().append(' (<a id=\"fieldsetcollapser' +\n \t\t\t\t\ti +'\" class=\"collapse-toggle\" href=\"#\">' + gettext(\"Show\") +\n \t\t\t\t\t'</a>)');\n \t\t\t}\n \t\t});\n \t\t// Add toggle to anchor tag\n \t\t$(\"fieldset.collapse a.collapse-toggle\").toggle(\n \t\t\tfunction() { // Show\n-\t\t\t\t$(this).text(gettext(\"Hide\"));\n-\t\t\t\t$(this).closest(\"fieldset\").removeClass(\"collapsed\");\n+\t\t\t\t$(this).text(gettext(\"Hide\")).closest(\"fieldset\").removeClass(\"collapsed\");\n \t\t\t\treturn false;\n \t\t\t},\n \t\t\tfunction() { // Hide\n-\t\t\t\t$(this).text(gettext(\"Show\"));\n-\t\t\t\t$(this).closest(\"fieldset\").addClass(\"collapsed\");\n+\t\t\t\t$(this).text(gettext(\"Show\")).closest(\"fieldset\").addClass(\"collapsed\");\n \t\t\t\treturn false;\n \t\t\t}\n \t\t);"
        },
        {
            "sha": "c55ba339d0a5c9962fb9f0ccb06f220764cdbf03",
            "filename": "django/contrib/admin/static/admin/js/collapse.min.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/5c1c1a125443dd2219d6d9ba006c464a1c3956aa/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js",
            "raw_url": "https://github.com/django/django/raw/5c1c1a125443dd2219d6d9ba006c464a1c3956aa/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Fcollapse.min.js?ref=5c1c1a125443dd2219d6d9ba006c464a1c3956aa",
            "patch": "@@ -1,2 +1,2 @@\n-(function(a){a(document).ready(function(){a(\"fieldset.collapse\").each(function(c,b){if(a(b).find(\"div.errors\").length==0){a(b).addClass(\"collapsed\");a(b).find(\"h2\").first().append(' (<a id=\"fieldsetcollapser'+c+'\" class=\"collapse-toggle\" href=\"#\">'+gettext(\"Show\")+\"</a>)\")}});a(\"fieldset.collapse a.collapse-toggle\").toggle(function(){a(this).text(gettext(\"Hide\"));a(this).closest(\"fieldset\").removeClass(\"collapsed\");return false},function(){a(this).text(gettext(\"Show\"));a(this).closest(\"fieldset\").addClass(\"collapsed\");\n+(function(a){a(document).ready(function(){a(\"fieldset.collapse\").each(function(c,b){if(a(b).find(\"div.errors\").length==0){a(b).addClass(\"collapsed\").find(\"h2\").first().append(' (<a id=\"fieldsetcollapser'+c+'\" class=\"collapse-toggle\" href=\"#\">'+gettext(\"Show\")+\"</a>)\")}});a(\"fieldset.collapse a.collapse-toggle\").toggle(function(){a(this).text(gettext(\"Hide\")).closest(\"fieldset\").removeClass(\"collapsed\");return false},function(){a(this).text(gettext(\"Show\")).closest(\"fieldset\").addClass(\"collapsed\");\n return false})})})(django.jQuery);"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 5,
        "deletions": 8
    }
}