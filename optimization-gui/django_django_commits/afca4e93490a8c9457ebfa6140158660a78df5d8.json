{
    "author": "ramiro",
    "message": "Tweaked some changes from [16283] to fix failures in i18n and defaultfilters regression tests.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16286 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "afca4e93490a8c9457ebfa6140158660a78df5d8",
    "files": [
        {
            "sha": "74ae849314991297a83765763187d2340cbcc4d5",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/afca4e93490a8c9457ebfa6140158660a78df5d8/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/afca4e93490a8c9457ebfa6140158660a78df5d8/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=afca4e93490a8c9457ebfa6140158660a78df5d8",
            "patch": "@@ -10,10 +10,10 @@\n from django.template.base import Variable, Library\n from django.conf import settings\n from django.utils import formats\n-from django.utils.dateformat import format\n+from django.utils.dateformat import format, time_format\n from django.utils.encoding import force_unicode, iri_to_uri\n from django.utils.html import (conditional_escape, escapejs, fix_ampersands,\n-    escape, urlize, linebreaks, strip_tags)\n+    escape, urlize as urlize_impl, linebreaks, strip_tags)\n from django.utils.http import urlquote\n from django.utils.text import truncate_words, truncate_html_words, wrap, phone2numeric\n from django.utils.safestring import mark_safe, SafeData, mark_for_escaping\n@@ -298,13 +298,13 @@ def urlencode(value, safe=None):\n urlencode.is_safe = False\n urlencode = stringfilter(urlencode)\n \n-@register.filter(\"urlize\")\n+@register.filter\n @stringfilter\n-def urlize_filter(value, autoescape=None):\n+def urlize(value, autoescape=None):\n     \"\"\"Converts URLs in plain text into clickable links.\"\"\"\n-    return mark_safe(urlize(value, nofollow=True, autoescape=autoescape))\n-urlize_filter.is_safe = True\n-urlize_filter.needs_autoescape = True\n+    return mark_safe(urlize_impl(value, nofollow=True, autoescape=autoescape))\n+urlize.is_safe = True\n+urlize.needs_autoescape = True\n \n def urlizetrunc(value, limit, autoescape=None):\n     \"\"\"\n@@ -313,7 +313,7 @@ def urlizetrunc(value, limit, autoescape=None):\n \n     Argument: Length to truncate URLs to.\n     \"\"\"\n-    return mark_safe(urlize(value, trim_url_limit=int(limit), nofollow=True,\n+    return mark_safe(urlize_impl(value, trim_url_limit=int(limit), nofollow=True,\n                             autoescape=autoescape))\n urlizetrunc.is_safe = True\n urlizetrunc.needs_autoescape = True\n@@ -699,7 +699,7 @@ def time(value, arg=None):\n         return formats.time_format(value, arg)\n     except AttributeError:\n         try:\n-            return dateformat.time_format(value, arg)\n+            return time_format(value, arg)\n         except AttributeError:\n             return ''\n time.is_safe = False"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 9,
        "deletions": 9
    }
}