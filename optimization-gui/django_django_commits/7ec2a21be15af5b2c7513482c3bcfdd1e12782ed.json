{
    "author": "claudep",
    "message": "Fixed #19686 -- Added HTML5 number input type\n\nThanks Simon Charette for his help on the patch. Refs #16630.",
    "sha": "7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
    "files": [
        {
            "sha": "621d3801f28754d08e41e5a85f4cf6d100120f9d",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 34,
            "deletions": 11,
            "changes": 45,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -19,7 +19,7 @@\n from django.core.exceptions import ValidationError\n from django.forms.util import ErrorList, from_current_timezone, to_current_timezone\n from django.forms.widgets import (\n-    TextInput, PasswordInput, EmailInput, URLInput, HiddenInput,\n+    TextInput, NumberInput, EmailInput, URLInput, HiddenInput,\n     MultipleHiddenInput, ClearableFileInput, CheckboxInput, Select,\n     NullBooleanSelect, SelectMultiple, DateInput, DateTimeInput, TimeInput,\n     SplitDateTimeWidget, SplitHiddenDateTimeWidget, FILE_INPUT_CONTRADICTION\n@@ -234,6 +234,7 @@ class IntegerField(Field):\n \n     def __init__(self, max_value=None, min_value=None, *args, **kwargs):\n         self.max_value, self.min_value = max_value, min_value\n+        kwargs.setdefault('widget', NumberInput if not kwargs.get('localize') else self.widget)\n         super(IntegerField, self).__init__(*args, **kwargs)\n \n         if max_value is not None:\n@@ -257,6 +258,16 @@ def to_python(self, value):\n             raise ValidationError(self.error_messages['invalid'])\n         return value\n \n+    def widget_attrs(self, widget):\n+        attrs = super(IntegerField, self).widget_attrs(widget)\n+        if isinstance(widget, NumberInput):\n+            if self.min_value is not None:\n+                attrs['min'] = self.min_value\n+            if self.max_value is not None:\n+                attrs['max'] = self.max_value\n+        return attrs\n+\n+\n class FloatField(IntegerField):\n     default_error_messages = {\n         'invalid': _('Enter a number.'),\n@@ -278,25 +289,24 @@ def to_python(self, value):\n             raise ValidationError(self.error_messages['invalid'])\n         return value\n \n-class DecimalField(Field):\n+    def widget_attrs(self, widget):\n+        attrs = super(FloatField, self).widget_attrs(widget)\n+        if isinstance(widget, NumberInput):\n+            attrs.setdefault('step', 'any')\n+        return attrs\n+\n+\n+class DecimalField(IntegerField):\n     default_error_messages = {\n         'invalid': _('Enter a number.'),\n-        'max_value': _('Ensure this value is less than or equal to %(limit_value)s.'),\n-        'min_value': _('Ensure this value is greater than or equal to %(limit_value)s.'),\n         'max_digits': _('Ensure that there are no more than %s digits in total.'),\n         'max_decimal_places': _('Ensure that there are no more than %s decimal places.'),\n         'max_whole_digits': _('Ensure that there are no more than %s digits before the decimal point.')\n     }\n \n     def __init__(self, max_value=None, min_value=None, max_digits=None, decimal_places=None, *args, **kwargs):\n-        self.max_value, self.min_value = max_value, min_value\n         self.max_digits, self.decimal_places = max_digits, decimal_places\n-        Field.__init__(self, *args, **kwargs)\n-\n-        if max_value is not None:\n-            self.validators.append(validators.MaxValueValidator(max_value))\n-        if min_value is not None:\n-            self.validators.append(validators.MinValueValidator(min_value))\n+        super(DecimalField, self).__init__(max_value, min_value, *args, **kwargs)\n \n     def to_python(self, value):\n         \"\"\"\n@@ -345,6 +355,19 @@ def validate(self, value):\n             raise ValidationError(self.error_messages['max_whole_digits'] % (self.max_digits - self.decimal_places))\n         return value\n \n+    def widget_attrs(self, widget):\n+        attrs = super(DecimalField, self).widget_attrs(widget)\n+        if isinstance(widget, NumberInput):\n+            if self.max_digits is not None:\n+                max_length = self.max_digits + 1  # for the sign\n+                if self.decimal_places is None or self.decimal_places > 0:\n+                    max_length += 1  # for the dot\n+                attrs['maxlength'] = max_length\n+            if self.decimal_places:\n+                attrs['step'] = '0.%s1' % ('0' * (self.decimal_places-1))\n+        return attrs\n+\n+\n class BaseTemporalField(Field):\n \n     def __init__(self, input_formats=None, *args, **kwargs):"
        },
        {
            "sha": "026e8dc36a4aa8708c1aa64b4fc3389cd0af9931",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -23,7 +23,7 @@\n \n __all__ = (\n     'Media', 'MediaDefiningClass', 'Widget', 'TextInput',\n-    'EmailInput', 'URLInput', 'PasswordInput',\n+    'EmailInput', 'URLInput', 'NumberInput', 'PasswordInput',\n     'HiddenInput', 'MultipleHiddenInput', 'ClearableFileInput',\n     'FileInput', 'DateInput', 'DateTimeInput', 'TimeInput', 'Textarea', 'CheckboxInput',\n     'Select', 'NullBooleanSelect', 'SelectMultiple', 'RadioSelect',\n@@ -252,6 +252,10 @@ def __init__(self, attrs=None):\n         super(TextInput, self).__init__(attrs)\n \n \n+class NumberInput(TextInput):\n+    input_type = 'number'\n+\n+\n class EmailInput(TextInput):\n     input_type = 'email'\n "
        },
        {
            "sha": "85650adcf4c2ce3a1e084a9bbdc6bedcb461f59b",
            "filename": "docs/ref/forms/fields.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Fref%2Fforms%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Fref%2Fforms%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Ffields.txt?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -454,7 +454,8 @@ For each field, we describe the default widget used if you don't specify\n \n .. class:: DecimalField(**kwargs)\n \n-    * Default widget: :class:`TextInput`\n+    * Default widget: :class:`NumberInput` when :attr:`Field.localize` is\n+      ``False``, else :class:`TextInput`.\n     * Empty value: ``None``\n     * Normalizes to: A Python ``decimal``.\n     * Validates that the given value is a decimal. Leading and trailing\n@@ -580,7 +581,8 @@ For each field, we describe the default widget used if you don't specify\n \n .. class:: FloatField(**kwargs)\n \n-    * Default widget: :class:`TextInput`\n+    * Default widget: :class:`NumberInput` when :attr:`Field.localize` is\n+      ``False``, else :class:`TextInput`.\n     * Empty value: ``None``\n     * Normalizes to: A Python float.\n     * Validates that the given value is an float. Leading and trailing\n@@ -621,7 +623,8 @@ For each field, we describe the default widget used if you don't specify\n \n .. class:: IntegerField(**kwargs)\n \n-    * Default widget: :class:`TextInput`\n+    * Default widget: :class:`NumberInput` when :attr:`Field.localize` is\n+      ``False``, else :class:`TextInput`.\n     * Empty value: ``None``\n     * Normalizes to: A Python integer or long integer.\n     * Validates that the given value is an integer. Leading and trailing"
        },
        {
            "sha": "7218e410821030aba2455e815239ca88ded86e71",
            "filename": "docs/ref/forms/widgets.txt",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Fref%2Fforms%2Fwidgets.txt",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Fref%2Fforms%2Fwidgets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Fwidgets.txt?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -389,6 +389,19 @@ These widgets make use of the HTML elements ``input`` and ``textarea``.\n \n     Text input: ``<input type=\"text\" ...>``\n \n+``NumberInput``\n+~~~~~~~~~~~~~~~\n+\n+.. class:: NumberInput\n+\n+    .. versionadded:: 1.6\n+\n+    Text input: ``<input type=\"number\" ...>``\n+\n+    Beware that not all browsers support entering localized numbers in\n+    ``number`` input types. Django itself avoids using them for fields having\n+    their :attr:`~django.forms.Field.localize` property to ``True``.\n+\n ``EmailInput``\n ~~~~~~~~~~~~~~\n "
        },
        {
            "sha": "67c032a3628bb1002390cc6da76cfe68f3b491d3",
            "filename": "docs/releases/1.6.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Freleases%2F1.6.txt",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Freleases%2F1.6.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.6.txt?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -60,9 +60,13 @@ Minor features\n * In addition to :lookup:`year`, :lookup:`month` and :lookup:`day`, the ORM\n   now supports :lookup:`hour`, :lookup:`minute` and :lookup:`second` lookups.\n \n-* The default widgets for :class:`~django.forms.EmailField` and\n-  :class:`~django.forms.URLField` use the new type attributes available in\n-  HTML5 (type='email', type='url').\n+* The default widgets for :class:`~django.forms.EmailField`,\n+  :class:`~django.forms.URLField`, :class:`~django.forms.IntegerField`,\n+  :class:`~django.forms.FloatField` and :class:`~django.forms.DecimalField` use\n+  the new type attributes available in HTML5 (type='email', type='url',\n+  type='number'). Note that due to erratic support of the ``number`` input type\n+  with localized numbers in current browsers, Django only uses it when numeric\n+  fields are not localized.\n \n * The ``number`` argument for :ref:`lazy plural translations\n   <lazy-plural-translations>` can be provided at translation time rather than\n@@ -122,7 +126,8 @@ Backwards incompatible changes in 1.6\n \n * If your CSS/Javascript code used to access HTML input widgets by type, you\n   should review it as ``type='text'`` widgets might be now output as\n-  ``type='email'`` or ``type='url'`` depending on their corresponding field type.\n+  ``type='email'``, ``type='url'`` or ``type='number'`` depending on their\n+  corresponding field type.\n \n * Extraction of translatable literals from templates with the\n   :djadmin:`makemessages` command now correctly detects i18n constructs when"
        },
        {
            "sha": "2534947dd34a0957635ee80bec78de48306781e6",
            "filename": "docs/topics/forms/formsets.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Ftopics%2Fforms%2Fformsets.txt",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/docs%2Ftopics%2Fforms%2Fformsets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fforms%2Fformsets.txt?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -273,13 +273,13 @@ Lets you create a formset with the ability to order::\n     ...     print(form.as_table())\n     <tr><th><label for=\"id_form-0-title\">Title:</label></th><td><input type=\"text\" name=\"form-0-title\" value=\"Article #1\" id=\"id_form-0-title\" /></td></tr>\n     <tr><th><label for=\"id_form-0-pub_date\">Pub date:</label></th><td><input type=\"text\" name=\"form-0-pub_date\" value=\"2008-05-10\" id=\"id_form-0-pub_date\" /></td></tr>\n-    <tr><th><label for=\"id_form-0-ORDER\">Order:</label></th><td><input type=\"text\" name=\"form-0-ORDER\" value=\"1\" id=\"id_form-0-ORDER\" /></td></tr>\n+    <tr><th><label for=\"id_form-0-ORDER\">Order:</label></th><td><input type=\"number\" name=\"form-0-ORDER\" value=\"1\" id=\"id_form-0-ORDER\" /></td></tr>\n     <tr><th><label for=\"id_form-1-title\">Title:</label></th><td><input type=\"text\" name=\"form-1-title\" value=\"Article #2\" id=\"id_form-1-title\" /></td></tr>\n     <tr><th><label for=\"id_form-1-pub_date\">Pub date:</label></th><td><input type=\"text\" name=\"form-1-pub_date\" value=\"2008-05-11\" id=\"id_form-1-pub_date\" /></td></tr>\n-    <tr><th><label for=\"id_form-1-ORDER\">Order:</label></th><td><input type=\"text\" name=\"form-1-ORDER\" value=\"2\" id=\"id_form-1-ORDER\" /></td></tr>\n+    <tr><th><label for=\"id_form-1-ORDER\">Order:</label></th><td><input type=\"number\" name=\"form-1-ORDER\" value=\"2\" id=\"id_form-1-ORDER\" /></td></tr>\n     <tr><th><label for=\"id_form-2-title\">Title:</label></th><td><input type=\"text\" name=\"form-2-title\" id=\"id_form-2-title\" /></td></tr>\n     <tr><th><label for=\"id_form-2-pub_date\">Pub date:</label></th><td><input type=\"text\" name=\"form-2-pub_date\" id=\"id_form-2-pub_date\" /></td></tr>\n-    <tr><th><label for=\"id_form-2-ORDER\">Order:</label></th><td><input type=\"text\" name=\"form-2-ORDER\" id=\"id_form-2-ORDER\" /></td></tr>\n+    <tr><th><label for=\"id_form-2-ORDER\">Order:</label></th><td><input type=\"number\" name=\"form-2-ORDER\" id=\"id_form-2-ORDER\" /></td></tr>\n \n This adds an additional field to each form. This new field is named ``ORDER``\n and is an ``forms.IntegerField``. For the forms that came from the initial"
        },
        {
            "sha": "fb400375b817098642c236c7748757f23f253dd2",
            "filename": "tests/modeltests/model_forms/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Ftests.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -1133,7 +1133,7 @@ def test_with_data(self):\n <option value=\"%s\">Joe Better</option>\n <option value=\"%s\">Mike Royko</option>\n </select></p>\n-<p><label for=\"id_age\">Age:</label> <input type=\"text\" name=\"age\" id=\"id_age\" /></p>''' % (w_woodward.pk, w_bernstein.pk, bw.pk, w_royko.pk))\n+<p><label for=\"id_age\">Age:</label> <input type=\"number\" name=\"age\" id=\"id_age\" min=\"0\" /></p>''' % (w_woodward.pk, w_bernstein.pk, bw.pk, w_royko.pk))\n \n         data = {\n             'writer': six.text_type(w_woodward.pk),\n@@ -1151,7 +1151,7 @@ def test_with_data(self):\n <option value=\"%s\">Joe Better</option>\n <option value=\"%s\">Mike Royko</option>\n </select></p>\n-<p><label for=\"id_age\">Age:</label> <input type=\"text\" name=\"age\" value=\"65\" id=\"id_age\" /></p>''' % (w_woodward.pk, w_bernstein.pk, bw.pk, w_royko.pk))\n+<p><label for=\"id_age\">Age:</label> <input type=\"number\" name=\"age\" value=\"65\" id=\"id_age\" min=\"0\" /></p>''' % (w_woodward.pk, w_bernstein.pk, bw.pk, w_royko.pk))\n \n     def test_file_field(self):\n         # Test conditions when files is either not given or empty."
        },
        {
            "sha": "037163b741790d247f3d534e14e6336f9b4f6092",
            "filename": "tests/modeltests/model_formsets/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_formsets%2Ftests.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -392,7 +392,7 @@ def test_model_inheritance(self):\n         self.assertEqual(len(formset.forms), 1)\n         self.assertHTMLEqual(formset.forms[0].as_p(),\n             '<p><label for=\"id_form-0-name\">Name:</label> <input id=\"id_form-0-name\" type=\"text\" name=\"form-0-name\" maxlength=\"100\" /></p>\\n'\n-            '<p><label for=\"id_form-0-write_speed\">Write speed:</label> <input type=\"text\" name=\"form-0-write_speed\" id=\"id_form-0-write_speed\" /><input type=\"hidden\" name=\"form-0-author_ptr\" id=\"id_form-0-author_ptr\" /></p>')\n+            '<p><label for=\"id_form-0-write_speed\">Write speed:</label> <input type=\"number\" name=\"form-0-write_speed\" id=\"id_form-0-write_speed\" /><input type=\"hidden\" name=\"form-0-author_ptr\" id=\"id_form-0-author_ptr\" /></p>')\n \n         data = {\n             'form-TOTAL_FORMS': '1', # the number of forms rendered\n@@ -415,10 +415,10 @@ def test_model_inheritance(self):\n         self.assertEqual(len(formset.forms), 2)\n         self.assertHTMLEqual(formset.forms[0].as_p(),\n             '<p><label for=\"id_form-0-name\">Name:</label> <input id=\"id_form-0-name\" type=\"text\" name=\"form-0-name\" value=\"Ernest Hemingway\" maxlength=\"100\" /></p>\\n'\n-            '<p><label for=\"id_form-0-write_speed\">Write speed:</label> <input type=\"text\" name=\"form-0-write_speed\" value=\"10\" id=\"id_form-0-write_speed\" /><input type=\"hidden\" name=\"form-0-author_ptr\" value=\"%d\" id=\"id_form-0-author_ptr\" /></p>' % hemingway_id)\n+            '<p><label for=\"id_form-0-write_speed\">Write speed:</label> <input type=\"number\" name=\"form-0-write_speed\" value=\"10\" id=\"id_form-0-write_speed\" /><input type=\"hidden\" name=\"form-0-author_ptr\" value=\"%d\" id=\"id_form-0-author_ptr\" /></p>' % hemingway_id)\n         self.assertHTMLEqual(formset.forms[1].as_p(),\n             '<p><label for=\"id_form-1-name\">Name:</label> <input id=\"id_form-1-name\" type=\"text\" name=\"form-1-name\" maxlength=\"100\" /></p>\\n'\n-            '<p><label for=\"id_form-1-write_speed\">Write speed:</label> <input type=\"text\" name=\"form-1-write_speed\" id=\"id_form-1-write_speed\" /><input type=\"hidden\" name=\"form-1-author_ptr\" id=\"id_form-1-author_ptr\" /></p>')\n+            '<p><label for=\"id_form-1-write_speed\">Write speed:</label> <input type=\"number\" name=\"form-1-write_speed\" id=\"id_form-1-write_speed\" /><input type=\"hidden\" name=\"form-1-author_ptr\" id=\"id_form-1-author_ptr\" /></p>')\n \n         data = {\n             'form-TOTAL_FORMS': '2', # the number of forms rendered\n@@ -551,14 +551,15 @@ def test_inline_formsets_save_as_new(self):\n     def test_inline_formsets_with_custom_pk(self):\n         # Test inline formsets where the inline-edited object has a custom\n         # primary key that is not the fk to the parent object.\n+        self.maxDiff = 1024\n \n         AuthorBooksFormSet2 = inlineformset_factory(Author, BookWithCustomPK, can_delete=False, extra=1)\n         author = Author.objects.create(pk=1, name='Charles Baudelaire')\n \n         formset = AuthorBooksFormSet2(instance=author)\n         self.assertEqual(len(formset.forms), 1)\n         self.assertHTMLEqual(formset.forms[0].as_p(),\n-            '<p><label for=\"id_bookwithcustompk_set-0-my_pk\">My pk:</label> <input type=\"text\" name=\"bookwithcustompk_set-0-my_pk\" id=\"id_bookwithcustompk_set-0-my_pk\" /></p>\\n'\n+            '<p><label for=\"id_bookwithcustompk_set-0-my_pk\">My pk:</label> <input id=\"id_bookwithcustompk_set-0-my_pk\" type=\"number\" name=\"bookwithcustompk_set-0-my_pk\" maxlength=\"6\" /></p>\\n'\n             '<p><label for=\"id_bookwithcustompk_set-0-title\">Title:</label> <input id=\"id_bookwithcustompk_set-0-title\" type=\"text\" name=\"bookwithcustompk_set-0-title\" maxlength=\"100\" /><input type=\"hidden\" name=\"bookwithcustompk_set-0-author\" value=\"1\" id=\"id_bookwithcustompk_set-0-author\" /></p>')\n \n         data = {\n@@ -806,7 +807,7 @@ def test_custom_pk(self):\n             '<option value=\"%d\">Joe Perry at Giordanos</option>\\n'\n             '<option value=\"%d\">Jack Berry at Giordanos</option>\\n'\n             '</select></p>\\n'\n-            '<p><label for=\"id_form-0-age\">Age:</label> <input type=\"text\" name=\"form-0-age\" id=\"id_form-0-age\" /></p>'\n+            '<p><label for=\"id_form-0-age\">Age:</label> <input type=\"number\" name=\"form-0-age\" id=\"id_form-0-age\" min=\"0\" /></p>'\n             % (owner1.auto_id, owner2.auto_id))\n \n         owner1 = Owner.objects.get(name='Joe Perry')\n@@ -816,7 +817,7 @@ def test_custom_pk(self):\n         formset = FormSet(instance=owner1)\n         self.assertEqual(len(formset.forms), 1)\n         self.assertHTMLEqual(formset.forms[0].as_p(),\n-            '<p><label for=\"id_ownerprofile-0-age\">Age:</label> <input type=\"text\" name=\"ownerprofile-0-age\" id=\"id_ownerprofile-0-age\" /><input type=\"hidden\" name=\"ownerprofile-0-owner\" value=\"%d\" id=\"id_ownerprofile-0-owner\" /></p>'\n+            '<p><label for=\"id_ownerprofile-0-age\">Age:</label> <input type=\"number\" name=\"ownerprofile-0-age\" id=\"id_ownerprofile-0-age\" min=\"0\" /><input type=\"hidden\" name=\"ownerprofile-0-owner\" value=\"%d\" id=\"id_ownerprofile-0-owner\" /></p>'\n             % owner1.auto_id)\n \n         data = {\n@@ -837,7 +838,7 @@ def test_custom_pk(self):\n         formset = FormSet(instance=owner1)\n         self.assertEqual(len(formset.forms), 1)\n         self.assertHTMLEqual(formset.forms[0].as_p(),\n-            '<p><label for=\"id_ownerprofile-0-age\">Age:</label> <input type=\"text\" name=\"ownerprofile-0-age\" value=\"54\" id=\"id_ownerprofile-0-age\" /><input type=\"hidden\" name=\"ownerprofile-0-owner\" value=\"%d\" id=\"id_ownerprofile-0-owner\" /></p>'\n+            '<p><label for=\"id_ownerprofile-0-age\">Age:</label> <input type=\"number\" name=\"ownerprofile-0-age\" value=\"54\" id=\"id_ownerprofile-0-age\" min=\"0\" /><input type=\"hidden\" name=\"ownerprofile-0-owner\" value=\"%d\" id=\"id_ownerprofile-0-owner\" /></p>'\n             % owner1.auto_id)\n \n         data = {\n@@ -993,7 +994,7 @@ def test_callable_defaults(self):\n         result = re.sub(r'\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?', '__DATETIME__', result)\n         self.assertHTMLEqual(result,\n             '<p><label for=\"id_membership_set-0-date_joined\">Date joined:</label> <input type=\"text\" name=\"membership_set-0-date_joined\" value=\"__DATETIME__\" id=\"id_membership_set-0-date_joined\" /><input type=\"hidden\" name=\"initial-membership_set-0-date_joined\" value=\"__DATETIME__\" id=\"initial-membership_set-0-id_membership_set-0-date_joined\" /></p>\\n'\n-            '<p><label for=\"id_membership_set-0-karma\">Karma:</label> <input type=\"text\" name=\"membership_set-0-karma\" id=\"id_membership_set-0-karma\" /><input type=\"hidden\" name=\"membership_set-0-person\" value=\"%d\" id=\"id_membership_set-0-person\" /><input type=\"hidden\" name=\"membership_set-0-id\" id=\"id_membership_set-0-id\" /></p>'\n+            '<p><label for=\"id_membership_set-0-karma\">Karma:</label> <input type=\"number\" name=\"membership_set-0-karma\" id=\"id_membership_set-0-karma\" /><input type=\"hidden\" name=\"membership_set-0-person\" value=\"%d\" id=\"id_membership_set-0-person\" /><input type=\"hidden\" name=\"membership_set-0-id\" id=\"id_membership_set-0-id\" /></p>'\n             % person.id)\n \n         # test for validation with callable defaults. Validations rely on hidden fields"
        },
        {
            "sha": "3fe2cd2ace372480b139a0553e10be7ca7decda6",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 32,
            "deletions": 1,
            "changes": 33,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -35,7 +35,6 @@\n from django.core.files.uploadedfile import SimpleUploadedFile\n from django.forms import *\n from django.test import SimpleTestCase\n-from django.utils import formats\n from django.utils import six\n from django.utils._os import upath\n \n@@ -131,6 +130,7 @@ def test_charfield_widget_attrs(self):\n \n     def test_integerfield_1(self):\n         f = IntegerField()\n+        self.assertWidgetRendersTo(f, '<input type=\"number\" name=\"f\" id=\"id_f\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1, f.clean('1'))\n@@ -165,6 +165,7 @@ def test_integerfield_2(self):\n \n     def test_integerfield_3(self):\n         f = IntegerField(max_value=10)\n+        self.assertWidgetRendersTo(f, '<input max=\"10\" type=\"number\" name=\"f\" id=\"id_f\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1, f.clean(1))\n         self.assertEqual(10, f.clean(10))\n@@ -176,6 +177,7 @@ def test_integerfield_3(self):\n \n     def test_integerfield_4(self):\n         f = IntegerField(min_value=10)\n+        self.assertWidgetRendersTo(f, '<input id=\"id_f\" type=\"number\" name=\"f\" min=\"10\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 10.'\", f.clean, 1)\n         self.assertEqual(10, f.clean(10))\n@@ -187,6 +189,7 @@ def test_integerfield_4(self):\n \n     def test_integerfield_5(self):\n         f = IntegerField(min_value=10, max_value=20)\n+        self.assertWidgetRendersTo(f, '<input id=\"id_f\" max=\"20\" type=\"number\" name=\"f\" min=\"10\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 10.'\", f.clean, 1)\n         self.assertEqual(10, f.clean(10))\n@@ -198,10 +201,19 @@ def test_integerfield_5(self):\n         self.assertEqual(f.max_value, 20)\n         self.assertEqual(f.min_value, 10)\n \n+    def test_integerfield_localized(self):\n+        \"\"\"\n+        Make sure localized IntegerField's widget renders to a text input with\n+        no number input specific attributes.\n+        \"\"\"\n+        f1 = IntegerField(localize=True)\n+        self.assertWidgetRendersTo(f1, '<input id=\"id_f\" name=\"f\" type=\"text\" />')\n+\n     # FloatField ##################################################################\n \n     def test_floatfield_1(self):\n         f = FloatField()\n+        self.assertWidgetRendersTo(f, '<input step=\"any\" type=\"number\" name=\"f\" id=\"id_f\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(1.0, f.clean('1'))\n@@ -228,17 +240,27 @@ def test_floatfield_2(self):\n \n     def test_floatfield_3(self):\n         f = FloatField(max_value=1.5, min_value=0.5)\n+        self.assertWidgetRendersTo(f, '<input step=\"any\" name=\"f\" min=\"0.5\" max=\"1.5\" type=\"number\" id=\"id_f\" />')\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 1.5.'\", f.clean, '1.6')\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 0.5.'\", f.clean, '0.4')\n         self.assertEqual(1.5, f.clean('1.5'))\n         self.assertEqual(0.5, f.clean('0.5'))\n         self.assertEqual(f.max_value, 1.5)\n         self.assertEqual(f.min_value, 0.5)\n \n+    def test_floatfield_localized(self):\n+        \"\"\"\n+        Make sure localized FloatField's widget renders to a text input with\n+        no number input specific attributes.\n+        \"\"\"\n+        f = FloatField(localize=True)\n+        self.assertWidgetRendersTo(f, '<input id=\"id_f\" name=\"f\" type=\"text\" />')\n+\n     # DecimalField ################################################################\n \n     def test_decimalfield_1(self):\n         f = DecimalField(max_digits=4, decimal_places=2)\n+        self.assertWidgetRendersTo(f, '<input id=\"id_f\" step=\"0.01\" type=\"number\" name=\"f\" maxlength=\"6\" />')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, '')\n         self.assertRaisesMessage(ValidationError, \"'This field is required.'\", f.clean, None)\n         self.assertEqual(f.clean('1'), Decimal(\"1\"))\n@@ -284,6 +306,7 @@ def test_decimalfield_2(self):\n \n     def test_decimalfield_3(self):\n         f = DecimalField(max_digits=4, decimal_places=2, max_value=Decimal('1.5'), min_value=Decimal('0.5'))\n+        self.assertWidgetRendersTo(f, '<input step=\"0.01\" name=\"f\" min=\"0.5\" max=\"1.5\" maxlength=\"6\" type=\"number\" id=\"id_f\" />')\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is less than or equal to 1.5.'\", f.clean, '1.6')\n         self.assertRaisesMessage(ValidationError, \"'Ensure this value is greater than or equal to 0.5.'\", f.clean, '0.4')\n         self.assertEqual(f.clean('1.5'), Decimal(\"1.5\"))\n@@ -315,6 +338,14 @@ def test_decimalfield_6(self):\n         self.assertEqual(f.clean('.01'), Decimal(\".01\"))\n         self.assertRaisesMessage(ValidationError, \"'Ensure that there are no more than 0 digits before the decimal point.'\", f.clean, '1.1')\n \n+    def test_decimalfield_localized(self):\n+        \"\"\"\n+        Make sure localized DecimalField's widget renders to a text input with\n+        no number input specific attributes.\n+        \"\"\"\n+        f = DecimalField(localize=True)\n+        self.assertWidgetRendersTo(f, '<input id=\"id_f\" name=\"f\" type=\"text\" />')\n+\n     # DateField ###################################################################\n \n     def test_datefield_1(self):"
        },
        {
            "sha": "f856e30d332ea1564a1837353b5e09c0b6153c82",
            "filename": "tests/regressiontests/forms/tests/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -1740,7 +1740,7 @@ class Person(Form):\n <option value=\"3\">No</option>\n </select></li>\n <li><label for=\"id_email\">Email:</label> <input type=\"email\" name=\"email\" id=\"id_email\" /></li>\n-<li class=\"required error\"><ul class=\"errorlist\"><li>This field is required.</li></ul><label for=\"id_age\">Age:</label> <input type=\"text\" name=\"age\" id=\"id_age\" /></li>\"\"\")\n+<li class=\"required error\"><ul class=\"errorlist\"><li>This field is required.</li></ul><label for=\"id_age\">Age:</label> <input type=\"number\" name=\"age\" id=\"id_age\" /></li>\"\"\")\n \n         self.assertHTMLEqual(p.as_p(), \"\"\"<ul class=\"errorlist\"><li>This field is required.</li></ul>\n <p class=\"required error\"><label for=\"id_name\">Name:</label> <input type=\"text\" name=\"name\" id=\"id_name\" /></p>\n@@ -1751,7 +1751,7 @@ class Person(Form):\n </select></p>\n <p><label for=\"id_email\">Email:</label> <input type=\"email\" name=\"email\" id=\"id_email\" /></p>\n <ul class=\"errorlist\"><li>This field is required.</li></ul>\n-<p class=\"required error\"><label for=\"id_age\">Age:</label> <input type=\"text\" name=\"age\" id=\"id_age\" /></p>\"\"\")\n+<p class=\"required error\"><label for=\"id_age\">Age:</label> <input type=\"number\" name=\"age\" id=\"id_age\" /></p>\"\"\")\n \n         self.assertHTMLEqual(p.as_table(), \"\"\"<tr class=\"required error\"><th><label for=\"id_name\">Name:</label></th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"text\" name=\"name\" id=\"id_name\" /></td></tr>\n <tr class=\"required\"><th><label for=\"id_is_cool\">Is cool:</label></th><td><select name=\"is_cool\" id=\"id_is_cool\">\n@@ -1760,7 +1760,7 @@ class Person(Form):\n <option value=\"3\">No</option>\n </select></td></tr>\n <tr><th><label for=\"id_email\">Email:</label></th><td><input type=\"email\" name=\"email\" id=\"id_email\" /></td></tr>\n-<tr class=\"required error\"><th><label for=\"id_age\">Age:</label></th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"text\" name=\"age\" id=\"id_age\" /></td></tr>\"\"\")\n+<tr class=\"required error\"><th><label for=\"id_age\">Age:</label></th><td><ul class=\"errorlist\"><li>This field is required.</li></ul><input type=\"number\" name=\"age\" id=\"id_age\" /></td></tr>\"\"\")\n \n     def test_label_split_datetime_not_displayed(self):\n         class EventForm(Form):"
        },
        {
            "sha": "2bef0c5c337f522b2dd131d0d2f9c05b701fbc24",
            "filename": "tests/regressiontests/forms/tests/formsets.py",
            "status": "modified",
            "additions": 31,
            "deletions": 31,
            "changes": 62,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -53,7 +53,7 @@ def test_basic_formset(self):\n         formset = ChoiceFormSet(auto_id=False, prefix='choices')\n         self.assertHTMLEqual(str(formset), \"\"\"<input type=\"hidden\" name=\"choices-TOTAL_FORMS\" value=\"1\" /><input type=\"hidden\" name=\"choices-INITIAL_FORMS\" value=\"0\" /><input type=\"hidden\" name=\"choices-MAX_NUM_FORMS\" value=\"1000\" />\n <tr><th>Choice:</th><td><input type=\"text\" name=\"choices-0-choice\" /></td></tr>\n-<tr><th>Votes:</th><td><input type=\"text\" name=\"choices-0-votes\" /></td></tr>\"\"\")\n+<tr><th>Votes:</th><td><input type=\"number\" name=\"choices-0-votes\" /></td></tr>\"\"\")\n \n         # On thing to note is that there needs to be a special value in the data. This\n         # value tells the FormSet how many forms were displayed so it can tell how\n@@ -137,9 +137,9 @@ def test_formset_initial_data(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" /></li>\"\"\")\n \n         # Let's simulate what would happen if we submitted this form.\n \n@@ -210,11 +210,11 @@ def test_displaying_more_than_one_blank_form(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-2-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-2-votes\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-2-votes\" /></li>\"\"\")\n \n         # Since we displayed every form as blank, we will also accept them back as blank.\n         # This may seem a little strange, but later we will show how to require a minimum\n@@ -301,19 +301,19 @@ def test_more_initial_data(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-2-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-2-votes\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-2-votes\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-3-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-3-votes\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-3-votes\" /></li>\"\"\")\n \n         # Make sure retrieving an empty form works, and it shows up in the form list\n \n         self.assertTrue(formset.empty_form.empty_permitted)\n         self.assertHTMLEqual(formset.empty_form.as_ul(), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-__prefix__-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-__prefix__-votes\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-__prefix__-votes\" /></li>\"\"\")\n \n     def test_formset_with_deletion(self):\n         # FormSets with deletion ######################################################\n@@ -331,13 +331,13 @@ def test_formset_with_deletion(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-0-DELETE\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" value=\"Fergie\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" value=\"900\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" value=\"900\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-1-DELETE\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-2-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-2-votes\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-2-votes\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-2-DELETE\" /></li>\"\"\")\n \n         # To delete something, we just need to set that form's special delete field to\n@@ -428,14 +428,14 @@ def test_formsets_with_ordering(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-0-ORDER\" value=\"1\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-0-ORDER\" value=\"1\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" value=\"Fergie\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" value=\"900\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-1-ORDER\" value=\"2\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" value=\"900\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-1-ORDER\" value=\"2\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-2-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-2-votes\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-2-ORDER\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-2-votes\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-2-ORDER\" /></li>\"\"\")\n \n         data = {\n             'choices-TOTAL_FORMS': '3', # the number of forms rendered\n@@ -539,20 +539,20 @@ def test_formset_with_ordering_and_deletion(self):\n             form_output.append(form.as_ul())\n \n         self.assertHTMLEqual('\\n'.join(form_output), \"\"\"<li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-0-ORDER\" value=\"1\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-0-ORDER\" value=\"1\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-0-DELETE\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-1-choice\" value=\"Fergie\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-1-votes\" value=\"900\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-1-ORDER\" value=\"2\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-1-votes\" value=\"900\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-1-ORDER\" value=\"2\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-1-DELETE\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-2-choice\" value=\"The Decemberists\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-2-votes\" value=\"500\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-2-ORDER\" value=\"3\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-2-votes\" value=\"500\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-2-ORDER\" value=\"3\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-2-DELETE\" /></li>\n <li>Choice: <input type=\"text\" name=\"choices-3-choice\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-3-votes\" /></li>\n-<li>Order: <input type=\"text\" name=\"choices-3-ORDER\" /></li>\n+<li>Votes: <input type=\"number\" name=\"choices-3-votes\" /></li>\n+<li>Order: <input type=\"number\" name=\"choices-3-ORDER\" /></li>\n <li>Delete: <input type=\"checkbox\" name=\"choices-3-DELETE\" /></li>\"\"\")\n \n         # Let's delete Fergie, and put The Decemberists ahead of Calexico.\n@@ -956,19 +956,19 @@ def test_as_table(self):\n         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')\n         self.assertHTMLEqual(formset.as_table(),\"\"\"<input type=\"hidden\" name=\"choices-TOTAL_FORMS\" value=\"1\" /><input type=\"hidden\" name=\"choices-INITIAL_FORMS\" value=\"0\" /><input type=\"hidden\" name=\"choices-MAX_NUM_FORMS\" value=\"0\" />\n <tr><th>Choice:</th><td><input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></td></tr>\n-<tr><th>Votes:</th><td><input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></td></tr>\"\"\")\n+<tr><th>Votes:</th><td><input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></td></tr>\"\"\")\n \n     def test_as_p(self):\n         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')\n         self.assertHTMLEqual(formset.as_p(),\"\"\"<input type=\"hidden\" name=\"choices-TOTAL_FORMS\" value=\"1\" /><input type=\"hidden\" name=\"choices-INITIAL_FORMS\" value=\"0\" /><input type=\"hidden\" name=\"choices-MAX_NUM_FORMS\" value=\"0\" />\n <p>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></p>\n-<p>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></p>\"\"\")\n+<p>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></p>\"\"\")\n \n     def test_as_ul(self):\n         formset = ChoiceFormSet(data, auto_id=False, prefix='choices')\n         self.assertHTMLEqual(formset.as_ul(),\"\"\"<input type=\"hidden\" name=\"choices-TOTAL_FORMS\" value=\"1\" /><input type=\"hidden\" name=\"choices-INITIAL_FORMS\" value=\"0\" /><input type=\"hidden\" name=\"choices-MAX_NUM_FORMS\" value=\"0\" />\n <li>Choice: <input type=\"text\" name=\"choices-0-choice\" value=\"Calexico\" /></li>\n-<li>Votes: <input type=\"text\" name=\"choices-0-votes\" value=\"100\" /></li>\"\"\")\n+<li>Votes: <input type=\"number\" name=\"choices-0-votes\" value=\"100\" /></li>\"\"\")\n \n \n # Regression test for #11418 #################################################"
        },
        {
            "sha": "3fcb60c3b78420fdb2d70165943182e81e2e12b6",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7ec2a21be15af5b2c7513482c3bcfdd1e12782ed/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=7ec2a21be15af5b2c7513482c3bcfdd1e12782ed",
            "patch": "@@ -651,6 +651,7 @@ def test_localized_input(self):\n         \"\"\"\n         Tests if form input is correctly localized\n         \"\"\"\n+        self.maxDiff = 1200\n         with translation.override('de-at', deactivate=True):\n             form6 = CompanyForm({\n                 'name': 'acme',"
        }
    ],
    "stats": {
        "total": 215,
        "additions": 148,
        "deletions": 67
    }
}