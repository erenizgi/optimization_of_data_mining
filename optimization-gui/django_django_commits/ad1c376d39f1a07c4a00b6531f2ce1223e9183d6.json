{
    "author": "jezdez",
    "message": "Fixed a missing exception (`WindowsError`) when using the rmtree error handler on non-Windows systems.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17247 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "ad1c376d39f1a07c4a00b6531f2ce1223e9183d6",
    "files": [
        {
            "sha": "ad4efb32643e70fec1e62b659bbde3ac3e1968c9",
            "filename": "django/utils/_os.py",
            "status": "modified",
            "additions": 11,
            "deletions": 3,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/ad1c376d39f1a07c4a00b6531f2ce1223e9183d6/django%2Futils%2F_os.py",
            "raw_url": "https://github.com/django/django/raw/ad1c376d39f1a07c4a00b6531f2ce1223e9183d6/django%2Futils%2F_os.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2F_os.py?ref=ad1c376d39f1a07c4a00b6531f2ce1223e9183d6",
            "patch": "@@ -3,11 +3,18 @@\n from os.path import join, normcase, normpath, abspath, isabs, sep\n from django.utils.encoding import force_unicode\n \n-# Define our own abspath function that can handle joining \n+try:\n+    WindowsError = WindowsError\n+except NameError:\n+    class WindowsError(Exception):\n+        pass\n+\n+\n+# Define our own abspath function that can handle joining\n # unicode paths to a current working directory that has non-ASCII\n-# characters in it.  This isn't necessary on Windows since the \n+# characters in it.  This isn't necessary on Windows since the\n # Windows version of abspath handles this correctly.  The Windows\n-# abspath also handles drive letters differently than the pure \n+# abspath also handles drive letters differently than the pure\n # Python implementation, so it's best not to replace it.\n if os.name == 'nt':\n     abspathu = abspath\n@@ -45,6 +52,7 @@ def safe_join(base, *paths):\n                          'path component (%s)' % (final_path, base_path))\n     return final_path\n \n+\n def rmtree_errorhandler(func, path, exc_info):\n     \"\"\"\n     On Windows, some files are read-only (e.g. in in .svn dirs), so when"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 11,
        "deletions": 3
    }
}