{
    "author": "carljm",
    "message": "Fixed #19854 -- Turn Django's own Selenium tests off by default.",
    "sha": "906dc8522a1745e0e12c8061e4170540f7d0f486",
    "files": [
        {
            "sha": "badf45b580e06c0f31fa65004f9045d96732f594",
            "filename": "django/contrib/admin/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/906dc8522a1745e0e12c8061e4170540f7d0f486/django%2Fcontrib%2Fadmin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/906dc8522a1745e0e12c8061e4170540f7d0f486/django%2Fcontrib%2Fadmin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftests.py?ref=906dc8522a1745e0e12c8061e4170540f7d0f486",
            "patch": "@@ -10,8 +10,8 @@ class AdminSeleniumWebDriverTestCase(LiveServerTestCase):\n \n     @classmethod\n     def setUpClass(cls):\n-        if os.environ.get('DJANGO_SKIP_SELENIUM_TESTS', False):\n-            raise SkipTest('Selenium tests skipped by explicit request')\n+        if not os.environ.get('DJANGO_SELENIUM_TESTS', False):\n+            raise SkipTest('Selenium tests not requested')\n         try:\n             cls.selenium = import_by_path(cls.webdriver_class)()\n         except Exception as e:"
        },
        {
            "sha": "bd1aa5a96f4ef0f1bc697c1ed6f8ac5bb8fd472d",
            "filename": "docs/internals/contributing/writing-code/unit-tests.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 12,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/906dc8522a1745e0e12c8061e4170540f7d0f486/docs%2Finternals%2Fcontributing%2Fwriting-code%2Funit-tests.txt",
            "raw_url": "https://github.com/django/django/raw/906dc8522a1745e0e12c8061e4170540f7d0f486/docs%2Finternals%2Fcontributing%2Fwriting-code%2Funit-tests.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fcontributing%2Fwriting-code%2Funit-tests.txt?ref=906dc8522a1745e0e12c8061e4170540f7d0f486",
            "patch": "@@ -128,21 +128,12 @@ Running the Selenium tests\n \n Some admin tests require Selenium 2, Firefox and Python >= 2.6 to work via a\n real Web browser. To allow those tests to run and not be skipped, you must\n-install the selenium_ package (version > 2.13) into your Python path.\n-\n-Then, run the tests normally, for example:\n-\n-.. code-block:: bash\n-\n-    ./runtests.py --settings=test_sqlite admin_inlines\n-\n-If you have Selenium installed but for some reason don't want to run these tests\n-(for example to speed up the test suite), use the ``--skip-selenium`` option\n-of the test runner.\n+install the selenium_ package (version > 2.13) into your Python path and run\n+the tests with the ``--selenium`` option:\n \n .. code-block:: bash\n \n-    ./runtests.py --settings=test_sqlite --skip-selenium admin_inlines\n+    ./runtests.py --settings=test_sqlite --selenium admin_inlines\n \n \n .. _running-unit-tests-dependencies:"
        },
        {
            "sha": "33ffab59f2559fec194a14e5f629522f05c14cba",
            "filename": "tests/regressiontests/views/tests/i18n.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/906dc8522a1745e0e12c8061e4170540f7d0f486/tests%2Fregressiontests%2Fviews%2Ftests%2Fi18n.py",
            "raw_url": "https://github.com/django/django/raw/906dc8522a1745e0e12c8061e4170540f7d0f486/tests%2Fregressiontests%2Fviews%2Ftests%2Fi18n.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fi18n.py?ref=906dc8522a1745e0e12c8061e4170540f7d0f486",
            "patch": "@@ -177,10 +177,10 @@ def testI18NWithLocalePaths(self):\n                     javascript_quote('este texto de app3 debe ser traducido'))\n \n \n-skip_selenium = os.environ.get('DJANGO_SKIP_SELENIUM_TESTS', False)\n+skip_selenium = not os.environ.get('DJANGO_SELENIUM_TESTS', False)\n \n \n-@unittest.skipIf(skip_selenium, 'Selenium tests skipped by explicit request')\n+@unittest.skipIf(skip_selenium, 'Selenium tests not requested')\n @unittest.skipUnless(firefox, 'Selenium not installed')\n class JavascriptI18nTests(LiveServerTestCase):\n     urls = 'regressiontests.views.urls'"
        },
        {
            "sha": "800a3f0b93a50cdb276a51ba2a9d73e9b1504a5a",
            "filename": "tests/runtests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/906dc8522a1745e0e12c8061e4170540f7d0f486/tests%2Fruntests.py",
            "raw_url": "https://github.com/django/django/raw/906dc8522a1745e0e12c8061e4170540f7d0f486/tests%2Fruntests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fruntests.py?ref=906dc8522a1745e0e12c8061e4170540f7d0f486",
            "patch": "@@ -302,10 +302,9 @@ def paired_tests(paired_test, options, test_labels):\n              'LiveServerTestCase) is expected to run from. The default value '\n              'is localhost:8081.')\n     parser.add_option(\n-        '--skip-selenium', action='store_true', dest='skip_selenium',\n+        '--selenium', action='store_true', dest='selenium',\n         default=False,\n-        help='Skip running Selenium tests even it Selenium itself is '\n-             'installed. By default these tests are not skipped.')\n+        help='Run the Selenium tests as well (if Selenium is installed)')\n     options, args = parser.parse_args()\n     if options.settings:\n         os.environ['DJANGO_SETTINGS_MODULE'] = options.settings\n@@ -318,8 +317,8 @@ def paired_tests(paired_test, options, test_labels):\n     if options.liveserver is not None:\n         os.environ['DJANGO_LIVE_TEST_SERVER_ADDRESS'] = options.liveserver\n \n-    if options.skip_selenium:\n-        os.environ['DJANGO_SKIP_SELENIUM_TESTS'] = '1'\n+    if options.selenium:\n+        os.environ['DJANGO_SELENIUM_TESTS'] = '1'\n \n     if options.bisect:\n         bisect_tests(options.bisect, options, args)"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 11,
        "deletions": 21
    }
}