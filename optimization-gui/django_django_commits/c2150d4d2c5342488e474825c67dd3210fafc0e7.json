{
    "author": "manfre",
    "message": "Fixed #19096 -- Made can_return_id_from_insert more extendable\n\nRETURNING is an extension of the SQL standard, which is not implemented\nthe same by all databases. Allow DatabaseOperations.return_insert_id to\nreturn a None to allow for other 3rd party backends with a different\nimplementation.",
    "sha": "c2150d4d2c5342488e474825c67dd3210fafc0e7",
    "files": [
        {
            "sha": "a68f6e0290c0d884d09ec794c7c67eca742d2e1c",
            "filename": "django/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c2150d4d2c5342488e474825c67dd3210fafc0e7/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/c2150d4d2c5342488e474825c67dd3210fafc0e7/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=c2150d4d2c5342488e474825c67dd3210fafc0e7",
            "patch": "@@ -897,8 +897,11 @@ def as_sql(self):\n             col = \"%s.%s\" % (qn(opts.db_table), qn(opts.pk.column))\n             result.append(\"VALUES (%s)\" % \", \".join(placeholders[0]))\n             r_fmt, r_params = self.connection.ops.return_insert_id()\n-            result.append(r_fmt % col)\n-            params += r_params\n+            # Skip empty r_fmt to allow subclasses to customize behaviour for\n+            # 3rd party backends. Refs #19096.\n+            if r_fmt:\n+                result.append(r_fmt % col)\n+                params += r_params\n             return [(\" \".join(result), tuple(params))]\n         if can_bulk:\n             result.append(self.connection.ops.bulk_insert_sql(fields, len(values)))"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}