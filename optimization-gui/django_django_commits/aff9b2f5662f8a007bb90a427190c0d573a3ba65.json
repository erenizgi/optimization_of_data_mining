{
    "author": "aaugustin",
    "message": "Fixed #19203 -- Added isolation to a humanize test\n\nThanks lrekucki for the report.",
    "sha": "aff9b2f5662f8a007bb90a427190c0d573a3ba65",
    "files": [
        {
            "sha": "27bb0721147cb7b400c90a2489ca51bf7eb2e2ab",
            "filename": "django/conf/global_settings.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/aff9b2f5662f8a007bb90a427190c0d573a3ba65/django%2Fconf%2Fglobal_settings.py",
            "raw_url": "https://github.com/django/django/raw/aff9b2f5662f8a007bb90a427190c0d573a3ba65/django%2Fconf%2Fglobal_settings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Fglobal_settings.py?ref=aff9b2f5662f8a007bb90a427190c0d573a3ba65",
            "patch": "@@ -34,7 +34,7 @@\n # systems may support all possibilities). When USE_TZ is True, this is\n # interpreted as the default user time zone.\n TIME_ZONE = 'America/Chicago'\n-\n+TIME_ZONE = 'Europe/Paris'\n # If you set this to True, Django will use timezone-aware datetimes.\n USE_TZ = False\n "
        },
        {
            "sha": "57ce695185bb8c73e2b150e5ca8f4df8c381866d",
            "filename": "django/contrib/humanize/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/aff9b2f5662f8a007bb90a427190c0d573a3ba65/django%2Fcontrib%2Fhumanize%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/aff9b2f5662f8a007bb90a427190c0d573a3ba65/django%2Fcontrib%2Fhumanize%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Ftests.py?ref=aff9b2f5662f8a007bb90a427190c0d573a3ba65",
            "patch": "@@ -1,6 +1,12 @@\n from __future__ import unicode_literals\n import datetime\n \n+try:\n+    import pytz\n+except ImportError:\n+    pytz = None\n+\n+from django.conf import settings\n from django.contrib.humanize.templatetags import humanize\n from django.template import Template, Context, defaultfilters\n from django.test import TestCase\n@@ -10,6 +16,7 @@\n from django.utils import translation\n from django.utils.translation import ugettext as _\n from django.utils import tzinfo\n+from django.utils.unittest import skipIf\n \n \n # Mock out datetime in some tests so they don't fail occasionally when they\n@@ -141,14 +148,16 @@ def test_naturalday_tz(self):\n         # As 24h of difference they will never be the same\n         self.assertNotEqual(naturalday_one, naturalday_two)\n \n+    @skipIf(settings.TIME_ZONE != \"Ameria/Chicago\" and pytz is None,\n+            \"this test requires pytz when a non-default time zone is set\")\n     def test_naturalday_uses_localtime(self):\n         # Regression for #18504\n         # This is 2012-03-08HT19:30:00-06:00 in Ameria/Chicago\n         dt = datetime.datetime(2012, 3, 9, 1, 30, tzinfo=utc)\n \n         orig_humanize_datetime, humanize.datetime = humanize.datetime, MockDateTime\n         try:\n-            with override_settings(USE_TZ=True):\n+            with override_settings(TIME_ZONE=\"America/Chicago\", USE_TZ=True):\n                 self.humanize_tester([dt], ['yesterday'], 'naturalday')\n         finally:\n             humanize.datetime = orig_humanize_datetime"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 11,
        "deletions": 2
    }
}