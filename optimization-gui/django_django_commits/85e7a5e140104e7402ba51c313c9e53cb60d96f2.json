{
    "author": "aaugustin",
    "message": "[py3] Stopped attempting to translate bytes.\n\nThat goes actively against the goal of cleaning string handling.",
    "sha": "85e7a5e140104e7402ba51c313c9e53cb60d96f2",
    "files": [
        {
            "sha": "f3cc6348f6ae19c0edd43476085c82556bdd2480",
            "filename": "django/utils/translation/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/85e7a5e140104e7402ba51c313c9e53cb60d96f2/django%2Futils%2Ftranslation%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/85e7a5e140104e7402ba51c313c9e53cb60d96f2/django%2Futils%2Ftranslation%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2F__init__.py?ref=85e7a5e140104e7402ba51c313c9e53cb60d96f2",
            "patch": "@@ -79,10 +79,10 @@ def pgettext(context, message):\n def npgettext(context, singular, plural, number):\n     return _trans.npgettext(context, singular, plural, number)\n \n-ngettext_lazy = lazy(ngettext, bytes)\n-gettext_lazy = lazy(gettext, bytes)\n-ungettext_lazy = lazy(ungettext, six.text_type)\n+gettext_lazy = lazy(gettext, str)\n+ngettext_lazy = lazy(ngettext, str)\n ugettext_lazy = lazy(ugettext, six.text_type)\n+ungettext_lazy = lazy(ungettext, six.text_type)\n pgettext_lazy = lazy(pgettext, six.text_type)\n npgettext_lazy = lazy(npgettext, six.text_type)\n "
        },
        {
            "sha": "71282ff2b37186f2f10a425a080dc10ecd6f5c2f",
            "filename": "django/utils/translation/trans_real.py",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/85e7a5e140104e7402ba51c313c9e53cb60d96f2/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "raw_url": "https://github.com/django/django/raw/85e7a5e140104e7402ba51c313c9e53cb60d96f2/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2Ftrans_real.py?ref=85e7a5e140104e7402ba51c313c9e53cb60d96f2",
            "patch": "@@ -259,6 +259,11 @@ def do_translate(message, translation_function):\n     return result\n \n def gettext(message):\n+    \"\"\"\n+    Returns a string of the translation of the message.\n+\n+    Returns a string on Python 3 and an UTF-8-encoded bytestring on Python 2.\n+    \"\"\"\n     return do_translate(message, 'gettext')\n \n if six.PY3:\n@@ -296,8 +301,10 @@ def do_ntranslate(singular, plural, number, translation_function):\n \n def ngettext(singular, plural, number):\n     \"\"\"\n-    Returns a UTF-8 bytestring of the translation of either the singular or\n-    plural, based on the number.\n+    Returns a string of the translation of either the singular or plural,\n+    based on the number.\n+\n+    Returns a string on Python 3 and an UTF-8-encoded bytestring on Python 2.\n     \"\"\"\n     return do_ntranslate(singular, plural, number, 'ngettext')\n "
        },
        {
            "sha": "1a8ff25ff3e89d0695ec9f8030873302ca7a832a",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/85e7a5e140104e7402ba51c313c9e53cb60d96f2/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/85e7a5e140104e7402ba51c313c9e53cb60d96f2/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=85e7a5e140104e7402ba51c313c9e53cb60d96f2",
            "patch": "@@ -232,7 +232,7 @@ def test_safe_status(self):\n         \"\"\"\n         Translating a string requiring no auto-escaping shouldn't change the \"safe\" status.\n         \"\"\"\n-        s = mark_safe(b'Password')\n+        s = mark_safe(str('Password'))\n         self.assertEqual(SafeString, type(s))\n         with translation.override('de', deactivate=True):\n             self.assertEqual(SafeUnicode, type(ugettext(s)))"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 13,
        "deletions": 6
    }
}