{
    "author": "aaugustin",
    "message": "Required that the MEDIA_URL and STATIC_URL settings end with a slash, per the deprecation timeline.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17845 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1",
    "files": [
        {
            "sha": "0d8f4b6b83eaedb21366c2c32d1f7b7e35e30f73",
            "filename": "django/conf/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1/django%2Fconf%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1/django%2Fconf%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2F__init__.py?ref=fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1",
            "patch": "@@ -69,8 +69,7 @@ class BaseSettings(object):\n     \"\"\"\n     def __setattr__(self, name, value):\n         if name in (\"MEDIA_URL\", \"STATIC_URL\") and value and not value.endswith('/'):\n-            warnings.warn(\"If set, %s must end with a slash\" % name,\n-                          DeprecationWarning)\n+            raise ImproperlyConfigured(\"If set, %s must end with a slash\" % name)\n         elif name == \"ADMIN_MEDIA_PREFIX\":\n             warnings.warn(\"The ADMIN_MEDIA_PREFIX setting has been removed; \"\n                           \"use STATIC_URL instead.\", DeprecationWarning)"
        },
        {
            "sha": "0b10bb12f8f4677a1d6340ac7dcf0b232df453af",
            "filename": "tests/regressiontests/settings_tests/tests.py",
            "status": "modified",
            "additions": 12,
            "deletions": 7,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py?ref=fbfaa35fb0a2a1206221e00c56cf6136cf93b6f1",
            "patch": "@@ -1,6 +1,7 @@\n import os\n \n from django.conf import settings, global_settings\n+from django.core.exceptions import ImproperlyConfigured\n from django.http import HttpRequest\n from django.test import TransactionTestCase, TestCase, signals\n from django.test.utils import override_settings\n@@ -185,22 +186,26 @@ def test_end_slash(self):\n \n     def test_no_end_slash(self):\n         \"\"\"\n-        MEDIA_URL raises an DeprecationWarning error if it doesn't end in a\n-        slash.\n+        MEDIA_URL and STATIC_URL raise an ImproperlyConfigured exception\n+        if they doesn't end in a slash.\n         \"\"\"\n-        import warnings\n-        warnings.filterwarnings('error', 'If set, MEDIA_URL must end with a slash', DeprecationWarning)\n-\n         def setattr_settings(settings_module, attr, value):\n             setattr(settings_module, attr, value)\n \n-        self.assertRaises(DeprecationWarning, setattr_settings,\n+        self.assertRaises(ImproperlyConfigured, setattr_settings,\n                           self.settings_module, 'MEDIA_URL', '/foo')\n \n-        self.assertRaises(DeprecationWarning, setattr_settings,\n+        self.assertRaises(ImproperlyConfigured, setattr_settings,\n                           self.settings_module, 'MEDIA_URL',\n                           'http://media.foo.com')\n \n+        self.assertRaises(ImproperlyConfigured, setattr_settings,\n+                          self.settings_module, 'STATIC_URL', '/foo')\n+\n+        self.assertRaises(ImproperlyConfigured, setattr_settings,\n+                          self.settings_module, 'STATIC_URL',\n+                          'http://static.foo.com')\n+\n     def test_double_slash(self):\n         \"\"\"\n         If a MEDIA_URL ends in more than one slash, presume they know what"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 13,
        "deletions": 9
    }
}