{
    "author": "claudep",
    "message": "Made TestNoInitialDataLoading pass with MySQL (Refs #15926)",
    "sha": "f0664dc8ae541b21e3cf421725e7933a9b3a799e",
    "files": [
        {
            "sha": "2fc2e7ed26f7616377d9577897d88286554fa839",
            "filename": "django/core/management/commands/flush.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/f0664dc8ae541b21e3cf421725e7933a9b3a799e/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "raw_url": "https://github.com/django/django/raw/f0664dc8ae541b21e3cf421725e7933a9b3a799e/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fflush.py?ref=f0664dc8ae541b21e3cf421725e7933a9b3a799e",
            "patch": "@@ -81,9 +81,8 @@ def handle_noargs(self, **options):\n             # Reinstall the initial_data fixture.\n             kwargs = options.copy()\n             kwargs['database'] = db\n-            if options.get('load_initial_data', True):\n-            # Reinstall the initial_data fixture.\n-                from django.core.management import call_command\n+            if options.get('load_initial_data'):\n+                # Reinstall the initial_data fixture.\n                 call_command('loaddata', 'initial_data', **options)\n \n         else:"
        },
        {
            "sha": "cf26e754ae985f3fe00088a422f7502bc32266db",
            "filename": "django/core/management/commands/syncdb.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/f0664dc8ae541b21e3cf421725e7933a9b3a799e/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "raw_url": "https://github.com/django/django/raw/f0664dc8ae541b21e3cf421725e7933a9b3a799e/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fsyncdb.py?ref=f0664dc8ae541b21e3cf421725e7933a9b3a799e",
            "patch": "@@ -2,6 +2,7 @@\n import traceback\n \n from django.conf import settings\n+from django.core.management import call_command\n from django.core.management.base import NoArgsCommand\n from django.core.management.color import no_style\n from django.core.management.sql import custom_sql_for_model, emit_post_sync_signal\n@@ -27,7 +28,7 @@ def handle_noargs(self, **options):\n         verbosity = int(options.get('verbosity'))\n         interactive = options.get('interactive')\n         show_traceback = options.get('traceback')\n-        load_initial_data = options.get('load_initial_data', True)\n+        load_initial_data = options.get('load_initial_data')\n \n         self.style = no_style()\n \n@@ -158,6 +159,5 @@ def model_installed(model):\n \n         # Load initial_data fixtures (unless that has been disabled)\n         if load_initial_data:\n-            from django.core.management import call_command\n             call_command('loaddata', 'initial_data', verbosity=verbosity,\n                          database=db, skip_validation=True)"
        },
        {
            "sha": "1d2cc2357774a3f124921c6339e27e246bdebe43",
            "filename": "tests/modeltests/fixtures_model_package/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 26,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/f0664dc8ae541b21e3cf421725e7933a9b3a799e/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f0664dc8ae541b21e3cf421725e7933a9b3a799e/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffixtures_model_package%2Ftests.py?ref=f0664dc8ae541b21e3cf421725e7933a9b3a799e",
            "patch": "@@ -27,47 +27,22 @@ def test_syncdb(self):\n         management.call_command(\n             'syncdb',\n             verbosity=0,\n-            commit=False\n-        )\n-        self.assertQuerysetEqual(\n-            Book.objects.all(), [\n-                u'Achieving self-awareness of Python programs'\n-            ],\n-            lambda a: a.name\n-        )\n-\n-        Book.objects.all().delete()\n-\n-        management.call_command(\n-            'syncdb',\n-            verbosity=0,\n-            commit=False,\n             load_initial_data=False\n         )\n         self.assertQuerysetEqual(Book.objects.all(), [])\n \n     def test_flush(self):\n-        Book.objects.all().delete()\n-\n-        management.call_command(\n-            'flush',\n-            verbosity=0,\n-            interactive=False,\n-            commit=False\n-        )\n+        # Test presence of fixture (flush called by TransactionTestCase)\n         self.assertQuerysetEqual(\n             Book.objects.all(), [\n                 u'Achieving self-awareness of Python programs'\n             ],\n             lambda a: a.name\n         )\n \n-        Book.objects.all().delete()\n-\n         management.call_command(\n             'flush',\n             verbosity=0,\n-            commit=False,\n             interactive=False,\n             load_initial_data=False\n         )"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 5,
        "deletions": 31
    }
}