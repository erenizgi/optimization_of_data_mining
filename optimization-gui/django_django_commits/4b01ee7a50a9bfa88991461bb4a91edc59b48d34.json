{
    "author": "aaugustin",
    "message": "URL-encoded URLs in FlatPage.get_absolute_url.",
    "sha": "4b01ee7a50a9bfa88991461bb4a91edc59b48d34",
    "files": [
        {
            "sha": "7378c8c96ba6073d5a090d18ae1826e68646dce3",
            "filename": "django/contrib/flatpages/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Fmodels.py?ref=4b01ee7a50a9bfa88991461bb4a91edc59b48d34",
            "patch": "@@ -3,8 +3,7 @@\n from django.db import models\n from django.contrib.sites.models import Site\n from django.utils.translation import ugettext_lazy as _\n-from django.utils.encoding import python_2_unicode_compatible\n-\n+from django.utils.encoding import iri_to_uri, python_2_unicode_compatible\n \n @python_2_unicode_compatible\n class FlatPage(models.Model):\n@@ -27,4 +26,4 @@ def __str__(self):\n         return \"%s -- %s\" % (self.url, self.title)\n \n     def get_absolute_url(self):\n-        return self.url\n+        return iri_to_uri(self.url)"
        },
        {
            "sha": "0805e9dfd6c7eda328936cf65812f25cbdf974e1",
            "filename": "django/contrib/flatpages/tests/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Ftests%2F__init__.py?ref=4b01ee7a50a9bfa88991461bb4a91edc59b48d34",
            "patch": "@@ -1,5 +1,6 @@\n from django.contrib.flatpages.tests.csrf import *\n from django.contrib.flatpages.tests.forms import *\n+from django.contrib.flatpages.tests.models import *\n from django.contrib.flatpages.tests.middleware import *\n from django.contrib.flatpages.tests.templatetags import *\n from django.contrib.flatpages.tests.views import *"
        },
        {
            "sha": "44666d62b0aa896793cce3b12353d17e1b11e8ab",
            "filename": "django/contrib/flatpages/tests/models.py",
            "status": "added",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Ftests%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/4b01ee7a50a9bfa88991461bb4a91edc59b48d34/django%2Fcontrib%2Fflatpages%2Ftests%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Ftests%2Fmodels.py?ref=4b01ee7a50a9bfa88991461bb4a91edc59b48d34",
            "patch": "@@ -0,0 +1,15 @@\n+# coding: utf-8\n+\n+from __future__ import unicode_literals\n+\n+from django.contrib.flatpages.models import FlatPage\n+from django.test import TestCase\n+\n+\n+class FlatpageModelTests(TestCase):\n+\n+    def test_get_absolute_url_urlencodes(self):\n+        pf = FlatPage(title=\"Café!\", url='/café/')\n+        self.assertEqual(pf.get_absolute_url(), '/caf%C3%A9/')\n+\n+"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 18,
        "deletions": 3
    }
}