{
    "author": "ramiro",
    "message": "Modified a couple of i18n regression tests to make them run under Windows.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16281 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c3db0b058c832f6f275f97d8e2e40c8e6f9f7e99",
    "files": [
        {
            "sha": "a5b01f361749bdf484f43f53ac6b252a1c4568cf",
            "filename": "tests/regressiontests/i18n/commands/extraction.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/c3db0b058c832f6f275f97d8e2e40c8e6f9f7e99/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "raw_url": "https://github.com/django/django/raw/c3db0b058c832f6f275f97d8e2e40c8e6f9f7e99/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py?ref=c3db0b058c832f6f275f97d8e2e40c8e6f9f7e99",
            "patch": "@@ -82,7 +82,10 @@ def test_extraction_error(self):\n         try:\n             management.call_command('makemessages', locale=LOCALE, verbosity=0)\n         except SyntaxError, e:\n-            self.assertEqual(str(e), 'Translation blocks must not include other block tags: blocktrans (file templates/template_with_error.html, line 3)')\n+            self.assertRegexpMatches(\n+                str(e),\n+                r'Translation blocks must not include other block tags: blocktrans \\(file templates[/\\\\]template_with_error\\.html, line 3\\)'\n+            )\n         finally:\n             os.remove('./templates/template_with_error.html')\n             os.remove('./templates/template_with_error.html.py') # Waiting for #8536 to be fixed\n@@ -105,7 +108,8 @@ class IgnoredExtractorTests(ExtractorTests):\n \n     def test_ignore_option(self):\n         os.chdir(self.test_dir)\n-        management.call_command('makemessages', locale=LOCALE, verbosity=0, ignore_patterns=['ignore_dir/*'])\n+        pattern1 = os.path.join('ignore_dir', '*')\n+        management.call_command('makemessages', locale=LOCALE, verbosity=0, ignore_patterns=[pattern1])\n         self.assertTrue(os.path.exists(self.PO_FILE))\n         po_contents = open(self.PO_FILE, 'r').read()\n         self.assertMsgId('This literal should be included.', po_contents)"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 6,
        "deletions": 2
    }
}