{
    "author": "claudep",
    "message": "Fixed #19114 -- Fixed LogEntry unicode representation\n\nThanks niko at neagee.net for the report and Emil Stenstrom for\nthe patch.",
    "sha": "e0363c688d9b85124ec4fbac00debe5f4dc1e63c",
    "files": [
        {
            "sha": "b697d7bdc82eb04b2be449e4cb59385771a3c692",
            "filename": "django/contrib/admin/models.py",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/e0363c688d9b85124ec4fbac00debe5f4dc1e63c/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/e0363c688d9b85124ec4fbac00debe5f4dc1e63c/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmodels.py?ref=e0363c688d9b85124ec4fbac00debe5f4dc1e63c",
            "patch": "@@ -4,7 +4,7 @@\n from django.conf import settings\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.admin.util import quote\n-from django.utils.translation import ugettext_lazy as _\n+from django.utils.translation import ugettext, ugettext_lazy as _\n from django.utils.encoding import smart_text\n from django.utils.encoding import python_2_unicode_compatible\n \n@@ -42,13 +42,16 @@ def __repr__(self):\n \n     def __str__(self):\n         if self.action_flag == ADDITION:\n-            return _('Added \"%(object)s\".') % {'object': self.object_repr}\n+            return ugettext('Added \"%(object)s\".') % {'object': self.object_repr}\n         elif self.action_flag == CHANGE:\n-            return _('Changed \"%(object)s\" - %(changes)s') % {'object': self.object_repr, 'changes': self.change_message}\n+            return ugettext('Changed \"%(object)s\" - %(changes)s') % {\n+                'object': self.object_repr,\n+                'changes': self.change_message,\n+            }\n         elif self.action_flag == DELETION:\n-            return _('Deleted \"%(object)s.\"') % {'object': self.object_repr}\n+            return ugettext('Deleted \"%(object)s.\"') % {'object': self.object_repr}\n \n-        return _('LogEntry Object')\n+        return ugettext('LogEntry Object')\n \n     def is_addition(self):\n         return self.action_flag == ADDITION"
        },
        {
            "sha": "e9e122a9f01e17980a56623a31acc0e480d45f1e",
            "filename": "tests/regressiontests/admin_util/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/e0363c688d9b85124ec4fbac00debe5f4dc1e63c/tests%2Fregressiontests%2Fadmin_util%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/e0363c688d9b85124ec4fbac00debe5f4dc1e63c/tests%2Fregressiontests%2Fadmin_util%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_util%2Ftests.py?ref=e0363c688d9b85124ec4fbac00debe5f4dc1e63c",
            "patch": "@@ -274,6 +274,10 @@ def test_logentry_unicode(self):\n             six.text_type(log_entry).startswith('Deleted ')\n         )\n \n+        # Make sure custom action_flags works\n+        log_entry.action_flag = 4\n+        self.assertEqual(six.text_type(log_entry), 'LogEntry Object')\n+\n     def test_safestring_in_field_label(self):\n         # safestring should not be escaped\n         class MyForm(forms.Form):"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 12,
        "deletions": 5
    }
}