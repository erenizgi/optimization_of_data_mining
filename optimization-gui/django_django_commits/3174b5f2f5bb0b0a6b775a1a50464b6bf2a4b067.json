{
    "author": "aaugustin",
    "message": "Fixed #18982 - Caught TypeError in DateField.clean\n\nThanks gwahl at fusionbox com.",
    "sha": "3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067",
    "files": [
        {
            "sha": "0075325288903f2b5b499bbf65a5db88a8cc2e8b",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067",
            "patch": "@@ -341,7 +341,7 @@ def to_python(self, value):\n             for format in self.input_formats:\n                 try:\n                     return self.strptime(value, format)\n-                except ValueError:\n+                except (ValueError, TypeError):\n                     continue\n         raise ValidationError(self.error_messages['invalid'])\n "
        },
        {
            "sha": "989acbc496378b005a8e1efcfc00a35da770ebc4",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=3174b5f2f5bb0b0a6b775a1a50464b6bf2a4b067",
            "patch": "@@ -356,6 +356,11 @@ def test_datefield_4(self):\n         self.assertEqual(datetime.date(2006, 10, 25), f.clean(' 25 October 2006 '))\n         self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, '   ')\n \n+    def test_datefield_5(self):\n+        # Test null bytes (#18982)\n+        f = DateField()\n+        self.assertRaisesMessage(ValidationError, \"'Enter a valid date.'\", f.clean, 'a\\x00b')\n+\n     # TimeField ###################################################################\n \n     def test_timefield_1(self):"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}