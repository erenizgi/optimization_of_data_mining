{
    "author": "apollo13",
    "message": "Merge pull request #216 from ljosa/ticket_18644\n\nFixed #18644 -- Made urlize trim trailing period followed by parenthesis",
    "sha": "59d99772f0e3c69bc1824ce1e76438d89c50c9b9",
    "files": [
        {
            "sha": "ca3340ccb171ee67e24451695e7aea9cc3cfae11",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/59d99772f0e3c69bc1824ce1e76438d89c50c9b9/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/59d99772f0e3c69bc1824ce1e76438d89c50c9b9/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=59d99772f0e3c69bc1824ce1e76438d89c50c9b9",
            "patch": "@@ -17,7 +17,7 @@\n from django.utils.text import normalize_newlines\n \n # Configuration for urlize() function.\n-TRAILING_PUNCTUATION = ['.', ',', ':', ';']\n+TRAILING_PUNCTUATION = ['.', ',', ':', ';', '.)']\n WRAPPING_PUNCTUATION = [('(', ')'), ('<', '>'), ('&lt;', '&gt;')]\n \n # List of possible strings used for bullets in bulleted lists."
        },
        {
            "sha": "2852572d32bdf11f1d9d350fc3d21790d067147d",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/59d99772f0e3c69bc1824ce1e76438d89c50c9b9/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/59d99772f0e3c69bc1824ce1e76438d89c50c9b9/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=59d99772f0e3c69bc1824ce1e76438d89c50c9b9",
            "patch": "@@ -298,6 +298,10 @@ def test_urlize(self):\n         self.assertEqual(urlize('HTTPS://github.com/'),\n             '<a href=\"https://github.com/\" rel=\"nofollow\">HTTPS://github.com/</a>')\n \n+        # Check urlize trims trailing period when followed by parenthesis - see #18644\n+        self.assertEqual(urlize('(Go to http://www.example.com/foo.)'),\n+                         '(Go to <a href=\"http://www.example.com/foo\" rel=\"nofollow\">http://www.example.com/foo</a>.)')\n+\n     def test_wordcount(self):\n         self.assertEqual(wordcount(''), 0)\n         self.assertEqual(wordcount('oneword'), 1)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}