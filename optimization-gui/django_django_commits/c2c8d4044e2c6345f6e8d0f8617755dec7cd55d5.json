{
    "author": "claudep",
    "message": "Made minimal changes to make gis test suite start with Python 3",
    "sha": "c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5",
    "files": [
        {
            "sha": "aed6cf366ce68f897fd5bc89a0ac488ed888c992",
            "filename": "django/contrib/gis/geos/libgeos.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Flibgeos.py",
            "raw_url": "https://github.com/django/django/raw/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Flibgeos.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Flibgeos.py?ref=c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5",
            "patch": "@@ -110,7 +110,7 @@ def geos_version_info():\n     is a release candidate (and what number release candidate), and the C API\n     version.\n     \"\"\"\n-    ver = geos_version()\n+    ver = geos_version().decode()\n     m = version_regex.match(ver)\n     if not m: raise GEOSException('Could not parse version info string \"%s\"' % ver)\n     return dict((key, m.group(key)) for key in ('version', 'release_candidate', 'capi_version', 'major', 'minor', 'subminor'))"
        },
        {
            "sha": "820cdfa5a4760cca206f2fb73d72cfe736ff1487",
            "filename": "django/contrib/gis/geos/mutable_list.py",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py",
            "raw_url": "https://github.com/django/django/raw/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fmutable_list.py?ref=c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5",
            "patch": "@@ -215,15 +215,18 @@ def reverse(self):\n         \"Standard list reverse method\"\n         self[:] = self[-1::-1]\n \n-    def sort(self, cmp=cmp, key=None, reverse=False):\n+    def sort(self, cmp=None, key=None, reverse=False):\n         \"Standard list sort method\"\n         if key:\n             temp = [(key(v),v) for v in self]\n-            temp.sort(cmp=cmp, key=lambda x: x[0], reverse=reverse)\n+            temp.sort(key=lambda x: x[0], reverse=reverse)\n             self[:] = [v[1] for v in temp]\n         else:\n             temp = list(self)\n-            temp.sort(cmp=cmp, reverse=reverse)\n+            if cmp is not None:\n+                temp.sort(cmp=cmp, reverse=reverse)\n+            else:\n+                temp.sort(reverse=reverse)\n             self[:] = temp\n \n     ### Private routines ###"
        },
        {
            "sha": "6b715d8c597e8bdccdbe3a03fae0ea034a419b59",
            "filename": "django/contrib/gis/geos/tests/__init__.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2F__init__.py?ref=c2c8d4044e2c6345f6e8d0f8617755dec7cd55d5",
            "patch": "@@ -16,7 +16,8 @@\n def suite():\n     \"Builds a test suite for the GEOS tests.\"\n     s = TestSuite()\n-    map(s.addTest, test_suites)\n+    for suite in test_suites:\n+        s.addTest(suite)\n     return s\n \n def run(verbosity=1):"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 9,
        "deletions": 5
    }
}