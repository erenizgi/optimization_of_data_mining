{
    "author": "ramiro",
    "message": "Fixed #16789 -- Added names to URLs in convenience contrib.auth urls.py.\n\nThanks wim AT go2people DOT nl for the report, cmheisel for the patch and\nfcurella for reviewing it.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16901 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4c457bca85b5410c47860ee4c5df0b47d48f2603",
    "files": [
        {
            "sha": "7cb0dcb7330e1122f2c22490a72f18a9cd7c4108",
            "filename": "django/contrib/auth/tests/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2F__init__.py?ref=4c457bca85b5410c47860ee4c5df0b47d48f2603",
            "patch": "@@ -13,7 +13,7 @@\n from django.contrib.auth.tests.models import ProfileTestCase\n from django.contrib.auth.tests.signals import SignalTestCase\n from django.contrib.auth.tests.tokens import TokenGeneratorTest\n-from django.contrib.auth.tests.views import (PasswordResetTest,\n+from django.contrib.auth.tests.views import (AuthViewNamedURLTests, PasswordResetTest,\n     ChangePasswordTest, LoginTest, LogoutTest, LoginURLSettings)\n \n # The password for the fixture data users is 'password'"
        },
        {
            "sha": "9fccb3eb83214631f78678827f3b9d73ad6e3000",
            "filename": "django/contrib/auth/tests/views.py",
            "status": "modified",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py?ref=4c457bca85b5410c47860ee4c5df0b47d48f2603",
            "patch": "@@ -8,11 +8,13 @@\n from django.contrib.auth.forms import AuthenticationForm\n from django.contrib.sites.models import Site, RequestSite\n from django.contrib.auth.models import User\n+from django.core.urlresolvers import NoReverseMatch\n from django.test import TestCase\n from django.core import mail\n from django.core.urlresolvers import reverse\n from django.http import QueryDict\n \n+\n class AuthViewsTestCase(TestCase):\n     \"\"\"\n     Helper base class for all the follow test cases.\n@@ -45,6 +47,32 @@ def login(self, password='password'):\n         self.assertTrue(response['Location'].endswith(settings.LOGIN_REDIRECT_URL))\n         self.assertTrue(SESSION_KEY in self.client.session)\n \n+\n+class AuthViewNamedURLTests(AuthViewsTestCase):\n+    urls = 'django.contrib.auth.urls'\n+\n+    def test_named_urls(self):\n+        \"Named URLs should be reversible\"\n+        expected_named_urls = [\n+            ('login', [], {}),\n+            ('logout', [], {}),\n+            ('password_change', [], {}),\n+            ('password_change_done', [], {}),\n+            ('password_reset', [], {}),\n+            ('password_reset_done', [], {}),\n+            ('password_reset_confirm', [], {\n+                'uidb36': 'aaaaaaa',\n+                'token': '1111-aaaaa',\n+            }),\n+            ('password_reset_complete', [], {}),\n+        ]\n+        for name, args, kwargs in expected_named_urls:\n+            try:\n+                reverse(name, args=args, kwargs=kwargs)\n+            except NoReverseMatch:\n+                self.fail(\"Reversal of url named '%s' failed with NoReverseMatch\" % name)\n+\n+\n class PasswordResetTest(AuthViewsTestCase):\n \n     def test_email_not_found(self):"
        },
        {
            "sha": "c5e87ed2ebdc2e384264163ff106358717a07cd9",
            "filename": "django/contrib/auth/urls.py",
            "status": "modified",
            "additions": 15,
            "deletions": 13,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/4c457bca85b5410c47860ee4c5df0b47d48f2603/django%2Fcontrib%2Fauth%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Furls.py?ref=4c457bca85b5410c47860ee4c5df0b47d48f2603",
            "patch": "@@ -1,17 +1,19 @@\n-# These URLs are normally mapped to /admin/urls.py. This URLs file is\n-# provided as a convenience to those who want to deploy these URLs elsewhere.\n-# This file is also used to provide a reliable view deployment for test purposes.\n+# The views used below are normally mapped in django.contrib.admin.urls.py\n+# This URLs file is used to provide a reliable view deployment for test purposes.\n+# It is also provided as a convenience to those who want to deploy these URLs\n+# elsewhere.\n \n-from django.conf.urls import patterns\n+from django.conf.urls import patterns, url\n \n urlpatterns = patterns('',\n-    (r'^login/$', 'django.contrib.auth.views.login'),\n-    (r'^logout/$', 'django.contrib.auth.views.logout'),\n-    (r'^password_change/$', 'django.contrib.auth.views.password_change'),\n-    (r'^password_change/done/$', 'django.contrib.auth.views.password_change_done'),\n-    (r'^password_reset/$', 'django.contrib.auth.views.password_reset'),\n-    (r'^password_reset/done/$', 'django.contrib.auth.views.password_reset_done'),\n-    (r'^reset/(?P<uidb36>[0-9A-Za-z]{1,13})-(?P<token>[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$', 'django.contrib.auth.views.password_reset_confirm'),\n-    (r'^reset/done/$', 'django.contrib.auth.views.password_reset_complete'),\n+    url(r'^login/$', 'django.contrib.auth.views.login', name='login'),\n+    url(r'^logout/$', 'django.contrib.auth.views.logout', name='logout'),\n+    url(r'^password_change/$', 'django.contrib.auth.views.password_change', name='password_change'),\n+    url(r'^password_change/done/$', 'django.contrib.auth.views.password_change_done', name='password_change_done'),\n+    url(r'^password_reset/$', 'django.contrib.auth.views.password_reset', name='password_reset'),\n+    url(r'^password_reset/done/$', 'django.contrib.auth.views.password_reset_done', name='password_reset_done'),\n+    url(r'^reset/(?P<uidb36>[0-9A-Za-z]{1,13})-(?P<token>[0-9A-Za-z]{1,13}-[0-9A-Za-z]{1,20})/$',\n+        'django.contrib.auth.views.password_reset_confirm',\n+        name='password_reset_confirm'),\n+    url(r'^reset/done/$', 'django.contrib.auth.views.password_reset_complete', name='password_reset_complete'),\n )\n-"
        },
        {
            "sha": "ecbc2f2bd146f92ceb34c6664a247f31fb1286d9",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/4c457bca85b5410c47860ee4c5df0b47d48f2603/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/4c457bca85b5410c47860ee4c5df0b47d48f2603/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=4c457bca85b5410c47860ee4c5df0b47d48f2603",
            "patch": "@@ -823,6 +823,11 @@ The login_required decorator\n \n .. function:: views.login(request, [template_name, redirect_field_name, authentication_form])\n \n+    **URL name:** ``login``\n+\n+    See :doc:`the URL documentation </topics/http/urls>` for details on using\n+    named URL patterns.\n+\n     Here's what ``django.contrib.auth.views.login`` does:\n \n         * If called via ``GET``, it displays a login form that POSTs to the\n@@ -938,6 +943,11 @@ includes a few other useful built-in views located in\n \n     Logs a user out.\n \n+    **URL name:** ``logout``\n+\n+    See :doc:`the URL documentation </topics/http/urls>` for details on using\n+    named URL patterns.\n+\n     **Optional arguments:**\n \n         * ``next_page``: The URL to redirect to after logout.\n@@ -970,6 +980,8 @@ includes a few other useful built-in views located in\n \n     Logs a user out, then redirects to the login page.\n \n+    **URL name:** No default URL provided\n+\n     **Optional arguments:**\n \n         * ``login_url``: The URL of the login page to redirect to.\n@@ -979,6 +991,8 @@ includes a few other useful built-in views located in\n \n     Allows a user to change their password.\n \n+    **URL name:** ``password_change``\n+\n     **Optional arguments:**\n \n         * ``template_name``: The full name of a template to use for\n@@ -1003,6 +1017,8 @@ includes a few other useful built-in views located in\n \n     The page shown after a user has changed their password.\n \n+    **URL name:** ``password_change_done``\n+\n     **Optional arguments:**\n \n         * ``template_name``: The full name of a template to use.\n@@ -1024,6 +1040,8 @@ includes a few other useful built-in views located in\n         will not be able to request a password reset to prevent misuse\n         when using an external authentication source like LDAP.\n \n+    **URL name:** ``password_reset``\n+\n     **Optional arguments:**\n \n         * ``template_name``: The full name of a template to use for\n@@ -1099,6 +1117,8 @@ includes a few other useful built-in views located in\n     password. This view is called by default if the :func:`password_reset` view\n     doesn't have an explicit ``post_reset_redirect`` URL set.\n \n+    **URL name:** ``password_reset_done``\n+\n     **Optional arguments:**\n \n         * ``template_name``: The full name of a template to use.\n@@ -1109,6 +1129,8 @@ includes a few other useful built-in views located in\n \n     Presents a form for entering a new password.\n \n+    **URL name:** ``password_reset_confirm``\n+\n     **Optional arguments:**\n \n         * ``uidb36``: The user's id encoded in base 36. Defaults to ``None``.\n@@ -1142,6 +1164,8 @@ includes a few other useful built-in views located in\n    Presents a view which informs the user that the password has been\n    successfully changed.\n \n+   **URL name:** ``password_reset_complete``\n+\n    **Optional arguments:**\n \n        * ``template_name``: The full name of a template to display the view."
        }
    ],
    "stats": {
        "total": 82,
        "additions": 68,
        "deletions": 14
    }
}