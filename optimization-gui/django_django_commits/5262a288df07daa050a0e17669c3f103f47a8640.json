{
    "author": "aaugustin",
    "message": "Fixed #18687: Removed test_performance_scalability\n\nEven after repeated adjustment of the constants, this test still fails\nrandomly. It has educated us to ignore messages from Jenkins, to a\npoint where we missed some actual failures. In addition, it accounts\nfor a non-negligible percentage of the run time of the test suite\njust by itself. Since no one has proposed a convincing patch in months,\nI'm going to remove the patch. We can't keep a randomly failing test\nforever.",
    "sha": "5262a288df07daa050a0e17669c3f103f47a8640",
    "files": [
        {
            "sha": "5cf2934ab067331a23ff61d0634e23680be5c3ac",
            "filename": "tests/regressiontests/utils/crypto.py",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/5262a288df07daa050a0e17669c3f103f47a8640/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "raw_url": "https://github.com/django/django/raw/5262a288df07daa050a0e17669c3f103f47a8640/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fcrypto.py?ref=5262a288df07daa050a0e17669c3f103f47a8640",
            "patch": "@@ -144,21 +144,3 @@ def test_regression_vectors(self):\n             result = pbkdf2(**vector['args'])\n             self.assertEqual(binascii.hexlify(result).decode('ascii'),\n                              vector['result'])\n-\n-    def test_performance_scalability(self):\n-        \"\"\"\n-        Theory: If you run with 100 iterations, it should take 100\n-        times as long as running with 1 iteration.\n-        \"\"\"\n-        # These values are chosen as a reasonable tradeoff between time\n-        # to run the test suite and false positives caused by imprecise\n-        # measurement.\n-        n1, n2 = 200000, 800000\n-        elapsed = lambda f: timeit.Timer(f,\n-                    'from django.utils.crypto import pbkdf2').timeit(number=1)\n-        t1 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n1)\n-        t2 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n2)\n-        measured_scale_exponent = math.log(t2 / t1, n2 / n1)\n-        # This should be less than 1. We allow up to 1.2 so that tests don't\n-        # fail nondeterministically too often.\n-        self.assertLess(measured_scale_exponent, 1.2)"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 0,
        "deletions": 18
    }
}