{
    "author": "claudep",
    "message": "Fixed #19942 -- Decoded errors coming from Popen commands\n\nThanks Aymeric Augustin for reporting the issue.",
    "sha": "e4bf0f2c367ca77266900af3461e1ec440c8689d",
    "files": [
        {
            "sha": "de6e57f0974d4a1dd6d70ecd8a1ae6371b6811e0",
            "filename": "django/core/management/utils.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/e4bf0f2c367ca77266900af3461e1ec440c8689d/django%2Fcore%2Fmanagement%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/e4bf0f2c367ca77266900af3461e1ec440c8689d/django%2Fcore%2Fmanagement%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Futils.py?ref=e4bf0f2c367ca77266900af3461e1ec440c8689d",
            "patch": "@@ -1,6 +1,8 @@\n import os\n from subprocess import PIPE, Popen\n \n+from django.utils.encoding import force_text, DEFAULT_LOCALE_ENCODING\n+\n \n def popen_wrapper(args):\n     \"\"\"\n@@ -11,7 +13,12 @@ def popen_wrapper(args):\n     p = Popen(args, shell=False, stdout=PIPE, stderr=PIPE,\n               close_fds=os.name != 'nt', universal_newlines=True)\n     output, errors = p.communicate()\n-    return output, errors, p.returncode\n+    return (\n+        output,\n+        force_text(errors, DEFAULT_LOCALE_ENCODING, strings_only=True),\n+        p.returncode\n+    )\n+\n \n def handle_extensions(extensions=('html',), ignored=('py',)):\n     \"\"\""
        }
    ],
    "stats": {
        "total": 9,
        "additions": 8,
        "deletions": 1
    }
}