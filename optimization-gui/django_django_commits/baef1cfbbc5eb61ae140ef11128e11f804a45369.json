{
    "author": "freakboy3742",
    "message": "Fixed #14830 -- Ensure that radio buttons on inlines preserve their default value. Thanks to Julien Phalip for the report and patch, and to antoinemartin for the diagnosis.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15420 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "baef1cfbbc5eb61ae140ef11128e11f804a45369",
    "files": [
        {
            "sha": "c48c1f5c57aa37e8cb5fd63b7af43c6ffc74cecd",
            "filename": "django/contrib/admin/media/js/inlines.js",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/baef1cfbbc5eb61ae140ef11128e11f804a45369/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.js",
            "raw_url": "https://github.com/django/django/raw/baef1cfbbc5eb61ae140ef11128e11f804a45369/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.js?ref=baef1cfbbc5eb61ae140ef11128e11f804a45369",
            "patch": "@@ -58,8 +58,7 @@\n \t\t\t\tvar row = template.clone(true);\n \t\t\t\trow.removeClass(options.emptyCssClass)\n \t\t\t\t    .addClass(options.formCssClass)\n-\t\t\t\t    .attr(\"id\", options.prefix + \"-\" + nextIndex)\n-\t\t\t\t    .insertBefore($(template));\n+\t\t\t\t    .attr(\"id\", options.prefix + \"-\" + nextIndex);\n \t\t\t\trow.find(\"*\")\n \t\t\t\t    .filter(function() {\n \t\t\t\t        var el = $(this);\n@@ -92,6 +91,8 @@\n \t\t\t\trow.find(\"input,select,textarea,label,a\").each(function() {\n \t\t\t\t\tupdateElementIndex(this, options.prefix, totalForms.val());\n \t\t\t\t});\n+\t\t\t\t// Insert the new form when it has been fully edited\n+\t\t\t\trow.insertBefore($(template));\n \t\t\t\t// Update number of total forms\n \t\t\t\t$(totalForms).val(nextIndex + 1);\n \t\t\t\t// Hide add button in case we've hit the max, except we want to add infinitely"
        },
        {
            "sha": "cf1c70827135c38cc35b1548a6247ce0437574ed",
            "filename": "django/contrib/admin/media/js/inlines.min.js",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/baef1cfbbc5eb61ae140ef11128e11f804a45369/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.min.js",
            "raw_url": "https://github.com/django/django/raw/baef1cfbbc5eb61ae140ef11128e11f804a45369/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.min.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Finlines.min.js?ref=baef1cfbbc5eb61ae140ef11128e11f804a45369",
            "patch": "@@ -1,6 +1,6 @@\n-(function(a){a.fn.formset=function(g){var b=a.extend({},a.fn.formset.defaults,g),l=function(e,f,j){var d=new RegExp(\"(\"+f+\"-\\\\d+)\");f=f+\"-\"+j;a(e).attr(\"for\")&&a(e).attr(\"for\",a(e).attr(\"for\").replace(d,f));if(e.id)e.id=e.id.replace(d,f);if(e.name)e.name=e.name.replace(d,f)};g=a(\"#id_\"+b.prefix+\"-TOTAL_FORMS\").attr(\"autocomplete\",\"off\");var h=a(\"#id_\"+b.prefix+\"-MAX_NUM_FORMS\").attr(\"autocomplete\",\"off\");g=h.val()==\"\"||h.val()-g.val()>0;a(this).each(function(){a(this).not(\".\"+b.emptyCssClass).addClass(b.formCssClass)});\n+(function(a){a.fn.formset=function(g){var b=a.extend({},a.fn.formset.defaults,g),l=function(e,f,j){var d=RegExp(\"(\"+f+\"-\\\\d+)\");f=f+\"-\"+j;a(e).attr(\"for\")&&a(e).attr(\"for\",a(e).attr(\"for\").replace(d,f));if(e.id)e.id=e.id.replace(d,f);if(e.name)e.name=e.name.replace(d,f)};g=a(\"#id_\"+b.prefix+\"-TOTAL_FORMS\").attr(\"autocomplete\",\"off\");var h=a(\"#id_\"+b.prefix+\"-MAX_NUM_FORMS\").attr(\"autocomplete\",\"off\");g=h.val()==\"\"||h.val()-g.val()>0;a(this).each(function(){a(this).not(\".\"+b.emptyCssClass).addClass(b.formCssClass)});\n if(a(this).length&&g){var i;if(a(this).attr(\"tagName\")==\"TR\"){g=this.eq(0).children().length;a(this).parent().append('<tr class=\"'+b.addCssClass+'\"><td colspan=\"'+g+'\"><a href=\"javascript:void(0)\">'+b.addText+\"</a></tr>\");i=a(this).parent().find(\"tr:last a\")}else{a(this).filter(\":last\").after('<div class=\"'+b.addCssClass+'\"><a href=\"javascript:void(0)\">'+b.addText+\"</a></div>\");i=a(this).filter(\":last\").next().find(\"a\")}i.click(function(){var e=a(\"#id_\"+b.prefix+\"-TOTAL_FORMS\"),f=parseInt(e.val()),\n-j=a(\"#\"+b.prefix+\"-empty\"),d=j.clone(true);d.removeClass(b.emptyCssClass).addClass(b.formCssClass).attr(\"id\",b.prefix+\"-\"+f).insertBefore(a(j));d.find(\"*\").filter(function(){var c=a(this);return c.attr(\"id\")&&c.attr(\"id\").search(/__prefix__/)>=0}).each(function(){var c=a(this);c.attr(\"id\",c.attr(\"id\").replace(/__prefix__/g,f))}).end().filter(function(){var c=a(this);return c.attr(\"name\")&&c.attr(\"name\").search(/__prefix__/)>=0}).each(function(){var c=a(this);c.attr(\"name\",c.attr(\"name\").replace(/__prefix__/g,\n-f))});if(d.is(\"tr\"))d.children(\":last\").append('<div><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></div>\");else d.is(\"ul\")||d.is(\"ol\")?d.append('<li><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></li>\"):d.children(\":first\").append('<span><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></span>\");d.find(\"input,select,textarea,label,a\").each(function(){l(this,b.prefix,e.val())});a(e).val(f+1);h.val()!=\"\"&&\n-h.val()-e.val()<=0&&i.parent().hide();d.find(\"a.\"+b.deleteCssClass).click(function(){var c=a(this).parents(\".\"+b.formCssClass);c.remove();b.removed&&b.removed(c);c=a(\".\"+b.formCssClass);a(\"#id_\"+b.prefix+\"-TOTAL_FORMS\").val(c.length);if(h.val()==\"\"||h.val()-c.length>0)i.parent().show();for(var k=0,m=c.length;k<m;k++)a(c.get(k)).find(\"input,select,textarea,label,a\").each(function(){l(this,b.prefix,k)});return false});b.added&&b.added(d);return false})}return this};a.fn.formset.defaults={prefix:\"form\",\n-addText:\"add another\",deleteText:\"remove\",addCssClass:\"add-row\",deleteCssClass:\"delete-row\",emptyCssClass:\"empty-row\",formCssClass:\"dynamic-form\",added:null,removed:null}})(django.jQuery);\n+j=a(\"#\"+b.prefix+\"-empty\"),d=j.clone(true);d.removeClass(b.emptyCssClass).addClass(b.formCssClass).attr(\"id\",b.prefix+\"-\"+f);d.find(\"*\").filter(function(){var c=a(this);return c.attr(\"id\")&&c.attr(\"id\").search(/__prefix__/)>=0}).each(function(){var c=a(this);c.attr(\"id\",c.attr(\"id\").replace(/__prefix__/g,f))}).end().filter(function(){var c=a(this);return c.attr(\"name\")&&c.attr(\"name\").search(/__prefix__/)>=0}).each(function(){var c=a(this);c.attr(\"name\",c.attr(\"name\").replace(/__prefix__/g,f))});\n+if(d.is(\"tr\"))d.children(\":last\").append('<div><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></div>\");else d.is(\"ul\")||d.is(\"ol\")?d.append('<li><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></li>\"):d.children(\":first\").append('<span><a class=\"'+b.deleteCssClass+'\" href=\"javascript:void(0)\">'+b.deleteText+\"</a></span>\");d.find(\"input,select,textarea,label,a\").each(function(){l(this,b.prefix,e.val())});d.insertBefore(a(j));a(e).val(f+1);\n+h.val()!=\"\"&&h.val()-e.val()<=0&&i.parent().hide();d.find(\"a.\"+b.deleteCssClass).click(function(){var c=a(this).parents(\".\"+b.formCssClass);c.remove();b.removed&&b.removed(c);c=a(\".\"+b.formCssClass);a(\"#id_\"+b.prefix+\"-TOTAL_FORMS\").val(c.length);if(h.val()==\"\"||h.val()-c.length>0)i.parent().show();for(var k=0,m=c.length;k<m;k++)a(c.get(k)).find(\"input,select,textarea,label,a\").each(function(){l(this,b.prefix,k)});return false});b.added&&b.added(d);return false})}return this};a.fn.formset.defaults=\n+{prefix:\"form\",addText:\"add another\",deleteText:\"remove\",addCssClass:\"add-row\",deleteCssClass:\"delete-row\",emptyCssClass:\"empty-row\",formCssClass:\"dynamic-form\",added:null,removed:null}})(django.jQuery);"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 8,
        "deletions": 7
    }
}