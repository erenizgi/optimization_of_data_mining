{
    "author": "aaugustin",
    "message": "Minor optimization in the static serve view.",
    "sha": "57c6617c92959856e8cacd809f0e29f57df4f318",
    "files": [
        {
            "sha": "12af1307965f87dacf7285f864b43e10f48946d3",
            "filename": "django/views/static.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/57c6617c92959856e8cacd809f0e29f57df4f318/django%2Fviews%2Fstatic.py",
            "raw_url": "https://github.com/django/django/raw/57c6617c92959856e8cacd809f0e29f57df4f318/django%2Fviews%2Fstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fstatic.py?ref=57c6617c92959856e8cacd809f0e29f57df4f318",
            "patch": "@@ -58,12 +58,13 @@ def serve(request, path, document_root=None, show_indexes=False):\n         raise Http404(_('\"%(path)s\" does not exist') % {'path': fullpath})\n     # Respect the If-Modified-Since header.\n     statobj = os.stat(fullpath)\n-    mimetype, encoding = mimetypes.guess_type(fullpath)\n-    mimetype = mimetype or 'application/octet-stream'\n     if not was_modified_since(request.META.get('HTTP_IF_MODIFIED_SINCE'),\n                               statobj.st_mtime, statobj.st_size):\n         return HttpResponseNotModified()\n-    response = CompatibleStreamingHttpResponse(open(fullpath, 'rb'), content_type=mimetype)\n+    content_type, encoding = mimetypes.guess_type(fullpath)\n+    content_type = content_type or 'application/octet-stream'\n+    response = CompatibleStreamingHttpResponse(open(fullpath, 'rb'),\n+                                               content_type=content_type)\n     response[\"Last-Modified\"] = http_date(statobj.st_mtime)\n     if stat.S_ISREG(statobj.st_mode):\n         response[\"Content-Length\"] = statobj.st_size"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}