{
    "author": "spookylukey",
    "message": "Small code clarification in prefetch_related code using better variable names\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17162 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f2ebb169f9bf195a7c8126437708a482691a520d",
    "files": [
        {
            "sha": "80cdefd22e86bbb01d2b75d2383a2e653e119215",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/f2ebb169f9bf195a7c8126437708a482691a520d/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/f2ebb169f9bf195a7c8126437708a482691a520d/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=f2ebb169f9bf195a7c8126437708a482691a520d",
            "patch": "@@ -1576,12 +1576,11 @@ def prefetch_related_objects(result_cache, related_lookups):\n     done_lookups = set() # list of lookups like foo__bar__baz\n     done_queries = {}    # dictionary of things like 'foo__bar': [results]\n \n-    manual_lookups = list(related_lookups)\n     auto_lookups = [] # we add to this as we go through.\n     followed_descriptors = set() # recursion protection\n \n-    related_lookups = itertools.chain(manual_lookups, auto_lookups)\n-    for lookup in related_lookups:\n+    all_lookups = itertools.chain(related_lookups, auto_lookups)\n+    for lookup in all_lookups:\n         if lookup in done_lookups:\n             # We've done exactly this already, skip the whole thing\n             continue"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 2,
        "deletions": 3
    }
}