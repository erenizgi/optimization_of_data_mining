{
    "author": "jezdez",
    "message": "Fixed a few tests to run on Python 2.5. Thanks, Florian Apolloner.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17273 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "ff1f423d29f431e732978ac44d2ad9d5a8917d17",
    "files": [
        {
            "sha": "9c2d4ac01b0026fc80e3d3e49bdc2b2621a9b5d1",
            "filename": "django/utils/archive.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ff1f423d29f431e732978ac44d2ad9d5a8917d17/django%2Futils%2Farchive.py",
            "raw_url": "https://github.com/django/django/raw/ff1f423d29f431e732978ac44d2ad9d5a8917d17/django%2Futils%2Farchive.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Farchive.py?ref=ff1f423d29f431e732978ac44d2ad9d5a8917d17",
            "patch": "@@ -141,7 +141,7 @@ def extract(self, to_path):\n                 name = self.split_leading_dir(name)[1]\n             filename = os.path.join(to_path, name)\n             if member.isdir():\n-                if not os.path.exists(filename):\n+                if filename and not os.path.exists(filename):\n                     os.makedirs(filename)\n             else:\n                 try:\n@@ -153,7 +153,7 @@ def extract(self, to_path):\n                            (name, member.name, sys.exc_info()[1]))\n                 else:\n                     dirname = os.path.dirname(filename)\n-                    if not os.path.exists(dirname):\n+                    if dirname and not os.path.exists(dirname):\n                         os.makedirs(dirname)\n                     with open(filename, 'wb') as outfile:\n                         shutil.copyfileobj(extracted, outfile)"
        },
        {
            "sha": "5c861c635751befde35f7cbb0347aa42a5b937db",
            "filename": "tests/regressiontests/utils/crypto.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ff1f423d29f431e732978ac44d2ad9d5a8917d17/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "raw_url": "https://github.com/django/django/raw/ff1f423d29f431e732978ac44d2ad9d5a8917d17/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fcrypto.py?ref=ff1f423d29f431e732978ac44d2ad9d5a8917d17",
            "patch": "@@ -126,8 +126,8 @@ def test_performance_scalability(self):\n         times as long as running with 1 iteration.\n         \"\"\"\n         n1, n2 = 100, 10000\n-        elapsed = lambda f: timeit.timeit(f, number=1)\n-        t1 = elapsed(lambda: pbkdf2(\"password\", \"salt\", iterations=n1))\n-        t2 = elapsed(lambda: pbkdf2(\"password\", \"salt\", iterations=n2))\n+        elapsed = lambda f: timeit.Timer(f, 'from django.utils.crypto import pbkdf2').timeit(number=1)\n+        t1 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n1)\n+        t2 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n2)\n         measured_scale_exponent = math.log(t2 / t1, n2 / n1)\n         self.assertLess(measured_scale_exponent, 1.1)"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}