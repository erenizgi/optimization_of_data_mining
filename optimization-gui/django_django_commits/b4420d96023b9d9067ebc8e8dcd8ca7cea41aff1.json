{
    "author": "aaugustin",
    "message": "Fixed #18964 -- floatformat test passes under py3k\n\nThanks Russell for the report.",
    "sha": "b4420d96023b9d9067ebc8e8dcd8ca7cea41aff1",
    "files": [
        {
            "sha": "d00203e30445133582d19adc778974c9df1293a7",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/b4420d96023b9d9067ebc8e8dcd8ca7cea41aff1/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b4420d96023b9d9067ebc8e8dcd8ca7cea41aff1/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=b4420d96023b9d9067ebc8e8dcd8ca7cea41aff1",
            "patch": "@@ -80,13 +80,16 @@ def __float__(self):\n             decimal_ctx.prec = old_prec\n \n \n-    # This fails because of Python's float handling. Floats with many zeroes\n-    # after the decimal point should be passed in as another type such as\n-    # unicode or Decimal.\n-    @unittest.expectedFailure\n-    def test_floatformat_fail(self):\n+    def test_floatformat_py2_fail(self):\n         self.assertEqual(floatformat(1.00000000000000015, 16), '1.0000000000000002')\n \n+    # The test above fails because of Python 2's float handling. Floats with\n+    # many zeroes after the decimal point should be passed in as another type\n+    # such as unicode or Decimal.\n+    if not six.PY3:\n+        test_floatformat_py2_fail = unittest.expectedFailure(test_floatformat_py2_fail)\n+\n+\n     def test_addslashes(self):\n         self.assertEqual(addslashes('\"double quotes\" and \\'single quotes\\''),\n                           '\\\\\"double quotes\\\\\" and \\\\\\'single quotes\\\\\\'')"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 8,
        "deletions": 5
    }
}