{
    "author": "claudep",
    "message": "[py3] Fixed outdated map() call in GIS sql compiler",
    "sha": "799786a7b64937314250bc638a60b1d4e132bec2",
    "files": [
        {
            "sha": "233ca5a03e29c4cd868b919f760a198c903f2b85",
            "filename": "django/contrib/gis/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/799786a7b64937314250bc638a60b1d4e132bec2/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/799786a7b64937314250bc638a60b1d4e132bec2/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=799786a7b64937314250bc638a60b1d4e132bec2",
            "patch": "@@ -1,3 +1,8 @@\n+try:\n+    from itertools import zip_longest\n+except ImportError:\n+    from itertools import izip_longest as zip_longest\n+\n from django.utils.six.moves import zip\n \n from django.db.backends.util import truncate_name, typecast_timestamp\n@@ -190,7 +195,7 @@ def resolve_columns(self, row, fields=()):\n         if self.connection.ops.oracle or getattr(self.query, 'geo_values', False):\n             # We resolve the rest of the columns if we're on Oracle or if\n             # the `geo_values` attribute is defined.\n-            for value, field in map(None, row[index_start:], fields):\n+            for value, field in zip_longest(row[index_start:], fields):\n                 values.append(self.query.convert_values(value, field, self.connection))\n         else:\n             values.extend(row[index_start:])"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}