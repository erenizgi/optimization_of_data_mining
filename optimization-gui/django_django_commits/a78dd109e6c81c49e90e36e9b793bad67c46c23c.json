{
    "author": "carljm",
    "message": "Fixed #15552 -- LOGIN_URL and LOGIN_REDIRECT_URL can take URLpattern names.\n\nThanks UloPe and Eric Florenzano for the patch, and Malcolm Tredinnick for\nreview.",
    "sha": "a78dd109e6c81c49e90e36e9b793bad67c46c23c",
    "files": [
        {
            "sha": "0fc9f3754a72c2810947e96834aacdeb1011ae89",
            "filename": "django/contrib/auth/decorators.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Fdecorators.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Fdecorators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fdecorators.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -8,6 +8,7 @@\n from django.core.exceptions import PermissionDenied\n from django.utils.decorators import available_attrs\n from django.utils.encoding import force_str\n+from django.shortcuts import resolve_url\n \n \n def user_passes_test(test_func, login_url=None, redirect_field_name=REDIRECT_FIELD_NAME):\n@@ -23,11 +24,10 @@ def _wrapped_view(request, *args, **kwargs):\n             if test_func(request.user):\n                 return view_func(request, *args, **kwargs)\n             path = request.build_absolute_uri()\n-            # urlparse chokes on lazy objects in Python 3\n-            login_url_as_str = force_str(login_url or settings.LOGIN_URL)\n+            resolved_login_url = resolve_url(login_url or settings.LOGIN_URL)\n             # If the login url is the same scheme and net location then just\n             # use the path as the \"next\" url.\n-            login_scheme, login_netloc = urlparse(login_url_as_str)[:2]\n+            login_scheme, login_netloc = urlparse(resolved_login_url)[:2]\n             current_scheme, current_netloc = urlparse(path)[:2]\n             if ((not login_scheme or login_scheme == current_scheme) and\n                 (not login_netloc or login_netloc == current_netloc)):"
        },
        {
            "sha": "cefc310e40cf0494dce08d3f59de5b0e24171da1",
            "filename": "django/contrib/auth/tests/decorators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Ftests%2Fdecorators.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Ftests%2Fdecorators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fdecorators.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -25,7 +25,7 @@ def normal_view(request):\n             pass\n         login_required(normal_view)\n \n-    def testLoginRequired(self, view_url='/login_required/', login_url=settings.LOGIN_URL):\n+    def testLoginRequired(self, view_url='/login_required/', login_url='/login/'):\n         \"\"\"\n         Check that login_required works on a simple view wrapped in a\n         login_required decorator."
        },
        {
            "sha": "024be5e46d7f8d778aa918ef9b35fec684f6c397",
            "filename": "django/contrib/auth/views.py",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fcontrib%2Fauth%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fviews.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -7,9 +7,9 @@\n from django.core.urlresolvers import reverse\n from django.http import HttpResponseRedirect, QueryDict\n from django.template.response import TemplateResponse\n-from django.utils.encoding import force_str\n from django.utils.http import base36_to_int\n from django.utils.translation import ugettext as _\n+from django.shortcuts import resolve_url\n from django.views.decorators.debug import sensitive_post_parameters\n from django.views.decorators.cache import never_cache\n from django.views.decorators.csrf import csrf_protect\n@@ -38,16 +38,16 @@ def login(request, template_name='registration/login.html',\n     if request.method == \"POST\":\n         form = authentication_form(data=request.POST)\n         if form.is_valid():\n-            netloc = urlparse(redirect_to)[1]\n-\n             # Use default setting if redirect_to is empty\n             if not redirect_to:\n                 redirect_to = settings.LOGIN_REDIRECT_URL\n+            redirect_to = resolve_url(redirect_to)\n \n+            netloc = urlparse(redirect_to)[1]\n             # Heavier security check -- don't allow redirection to a different\n             # host.\n-            elif netloc and netloc != request.get_host():\n-                redirect_to = settings.LOGIN_REDIRECT_URL\n+            if netloc and netloc != request.get_host():\n+                redirect_to = resolve_url(settings.LOGIN_REDIRECT_URL)\n \n             # Okay, security checks complete. Log the user in.\n             auth_login(request, form.get_user())\n@@ -110,17 +110,17 @@ def logout_then_login(request, login_url=None, current_app=None, extra_context=N\n     \"\"\"\n     if not login_url:\n         login_url = settings.LOGIN_URL\n+    login_url = resolve_url(login_url)\n     return logout(request, login_url, current_app=current_app, extra_context=extra_context)\n \n def redirect_to_login(next, login_url=None,\n                       redirect_field_name=REDIRECT_FIELD_NAME):\n     \"\"\"\n     Redirects the user to the login page, passing the given 'next' page\n     \"\"\"\n-    # urlparse chokes on lazy objects in Python 3\n-    login_url_as_str = force_str(login_url or settings.LOGIN_URL)\n+    resolved_url = resolve_url(login_url or settings.LOGIN_URL)\n \n-    login_url_parts = list(urlparse(login_url_as_str))\n+    login_url_parts = list(urlparse(resolved_url))\n     if redirect_field_name:\n         querystring = QueryDict(login_url_parts[4], mutable=True)\n         querystring[redirect_field_name] = next\n@@ -229,7 +229,7 @@ def password_reset_complete(request,\n                             template_name='registration/password_reset_complete.html',\n                             current_app=None, extra_context=None):\n     context = {\n-        'login_url': settings.LOGIN_URL\n+        'login_url': resolve_url(settings.LOGIN_URL)\n     }\n     if extra_context is not None:\n         context.update(extra_context)"
        },
        {
            "sha": "a824446b7e9254b013ac25b0d4a1175d078688ae",
            "filename": "django/shortcuts/__init__.py",
            "status": "modified",
            "additions": 32,
            "deletions": 17,
            "changes": 49,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fshortcuts%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/django%2Fshortcuts%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fshortcuts%2F__init__.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -66,23 +66,7 @@ def redirect(to, *args, **kwargs):\n     else:\n         redirect_class = HttpResponseRedirect\n \n-    # If it's a model, use get_absolute_url()\n-    if hasattr(to, 'get_absolute_url'):\n-        return redirect_class(to.get_absolute_url())\n-\n-    # Next try a reverse URL resolution.\n-    try:\n-        return redirect_class(urlresolvers.reverse(to, args=args, kwargs=kwargs))\n-    except urlresolvers.NoReverseMatch:\n-        # If this is a callable, re-raise.\n-        if callable(to):\n-            raise\n-        # If this doesn't \"feel\" like a URL, re-raise.\n-        if '/' not in to and '.' not in to:\n-            raise\n-\n-    # Finally, fall back and assume it's a URL\n-    return redirect_class(to)\n+    return redirect_class(resolve_url(to, *args, **kwargs))\n \n def _get_queryset(klass):\n     \"\"\"\n@@ -128,3 +112,34 @@ def get_list_or_404(klass, *args, **kwargs):\n         raise Http404('No %s matches the given query.' % queryset.model._meta.object_name)\n     return obj_list\n \n+def resolve_url(to, *args, **kwargs):\n+    \"\"\"\n+    Return a URL appropriate for the arguments passed.\n+\n+    The arguments could be:\n+\n+        * A model: the model's `get_absolute_url()` function will be called.\n+\n+        * A view name, possibly with arguments: `urlresolvers.reverse()` will\n+          be used to reverse-resolve the name.\n+\n+        * A URL, which will be returned as-is.\n+\n+    \"\"\"\n+    # If it's a model, use get_absolute_url()\n+    if hasattr(to, 'get_absolute_url'):\n+        return to.get_absolute_url()\n+\n+    # Next try a reverse URL resolution.\n+    try:\n+        return urlresolvers.reverse(to, args=args, kwargs=kwargs)\n+    except urlresolvers.NoReverseMatch:\n+        # If this is a callable, re-raise.\n+        if callable(to):\n+            raise\n+        # If this doesn't \"feel\" like a URL, re-raise.\n+        if '/' not in to and '.' not in to:\n+            raise\n+\n+    # Finally, fall back and assume it's a URL\n+    return to"
        },
        {
            "sha": "f44313856913c8ea57d1a7256e866d21b9f32fd1",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 13,
            "deletions": 20,
            "changes": 33,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -1304,25 +1304,13 @@ The URL where requests are redirected after login when the\n This is used by the :func:`~django.contrib.auth.decorators.login_required`\n decorator, for example.\n \n-.. _`note on LOGIN_REDIRECT_URL setting`:\n-\n-.. note::\n-    You can use :func:`~django.core.urlresolvers.reverse_lazy` to reference\n-    URLs by their name instead of providing a hardcoded value. Assuming a\n-    ``urls.py`` with an URLpattern named ``home``::\n-\n-        urlpatterns = patterns('',\n-            url('^welcome/$', 'test_app.views.home', name='home'),\n-        )\n-\n-    You can use :func:`~django.core.urlresolvers.reverse_lazy` like this::\n-\n-        from django.core.urlresolvers import reverse_lazy\n-\n-        LOGIN_REDIRECT_URL = reverse_lazy('home')\n+.. versionchanged:: 1.5\n \n-    This also works fine with localized URLs using\n-    :func:`~django.conf.urls.i18n.i18n_patterns`.\n+This setting now also accepts view function names and\n+:ref:`named URL patterns <naming-url-patterns>` which can be used to reduce\n+configuration duplication since you no longer have to define the URL in two\n+places (``settings`` and URLconf).\n+For backward compatibility reasons the default remains unchanged.\n \n .. setting:: LOGIN_URL\n \n@@ -1334,8 +1322,13 @@ Default: ``'/accounts/login/'``\n The URL where requests are redirected for login, especially when using the\n :func:`~django.contrib.auth.decorators.login_required` decorator.\n \n-.. note::\n-    See the `note on LOGIN_REDIRECT_URL setting`_\n+.. versionchanged:: 1.5\n+\n+This setting now also accepts view function names and\n+:ref:`named URL patterns <naming-url-patterns>` which can be used to reduce\n+configuration duplication since you no longer have to define the URL in two\n+places (``settings`` and URLconf).\n+For backward compatibility reasons the default remains unchanged.\n \n .. setting:: LOGOUT_URL\n "
        },
        {
            "sha": "6420239f4765869380ae2884ee9f2701ca34d6f8",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -121,6 +121,12 @@ Django 1.5 also includes several smaller improvements worth noting:\n   argument. By default the batch_size is unlimited except for SQLite where\n   single batch is limited so that 999 parameters per query isn't exceeded.\n \n+* The :setting:`LOGIN_URL` and :setting:`LOGIN_REDIRECT_URL` settings now also\n+  accept view function names and\n+  :ref:`named URL patterns <naming-url-patterns>`. This allows you to reduce\n+  configuration duplication. More information can be found in the\n+  :func:`~django.contrib.auth.decorators.login_required` documentation.\n+\n Backwards incompatible changes in 1.5\n =====================================\n "
        },
        {
            "sha": "c45e4bbaf7010813f96428a74e60254f48b1574e",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -947,6 +947,13 @@ The login_required decorator\n \n         (r'^accounts/login/$', 'django.contrib.auth.views.login'),\n \n+    .. versionchanged:: 1.5\n+    \n+    As of version 1.5 :setting:`settings.LOGIN_URL <LOGIN_URL>` now also accepts\n+    view function names and :ref:`named URL patterns <naming-url-patterns>`.\n+    This allows you to freely remap your login view within your URLconf\n+    without having to update the setting.\n+\n .. function:: views.login(request, [template_name, redirect_field_name, authentication_form])\n \n     **URL name:** ``login``"
        },
        {
            "sha": "f80b29e17b8553650ae8a6ba148968ff962c48ac",
            "filename": "tests/regressiontests/comment_tests/tests/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2F__init__.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -17,7 +17,7 @@\n @override_settings(PASSWORD_HASHERS=('django.contrib.auth.hashers.UnsaltedMD5PasswordHasher',))\n class CommentTestCase(TestCase):\n     fixtures = [\"comment_tests\"]\n-    urls = 'django.contrib.comments.urls'\n+    urls = 'regressiontests.comment_tests.urls_default'\n \n     def createSomeComments(self):\n         # Two anonymous comments on two different objects"
        },
        {
            "sha": "bfce8ffc90e2b47b96ee7787b5888d43487450e5",
            "filename": "tests/regressiontests/comment_tests/urls_default.py",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fcomment_tests%2Furls_default.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fcomment_tests%2Furls_default.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Furls_default.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -0,0 +1,9 @@\n+from django.conf.urls.defaults import *\n+\n+urlpatterns = patterns('',\n+    (r'^', include('django.contrib.comments.urls')),\n+\n+    # Provide the auth system login and logout views\n+    (r'^accounts/login/$', 'django.contrib.auth.views.login', {'template_name': 'login.html'}),\n+    (r'^accounts/logout/$', 'django.contrib.auth.views.logout'),\n+)"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "tests/regressiontests/resolve_url/__init__.py",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fresolve_url%2F__init__.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c"
        },
        {
            "sha": "238902edd271cbdfcb74ef29950b20a0e32c4275",
            "filename": "tests/regressiontests/resolve_url/models.py",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fresolve_url%2Fmodels.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -0,0 +1,12 @@\n+\"\"\"\n+Regression tests for the resolve_url function.\n+\"\"\"\n+\n+from django.db import models\n+\n+\n+class UnimportantThing(models.Model):\n+    importance = models.IntegerField()\n+\n+    def get_absolute_url(self):\n+        return '/importance/%d/' % (self.importance,)"
        },
        {
            "sha": "d0bf44abde5434da4c1c1a0d95173525a9a0b7dd",
            "filename": "tests/regressiontests/resolve_url/tests.py",
            "status": "added",
            "additions": 68,
            "deletions": 0,
            "changes": 68,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fregressiontests%2Fresolve_url%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fresolve_url%2Ftests.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -0,0 +1,68 @@\n+from __future__ import unicode_literals\n+\n+from django.core.urlresolvers import NoReverseMatch\n+from django.contrib.auth.views import logout\n+from django.utils.unittest import TestCase\n+from django.shortcuts import resolve_url\n+\n+from .models import UnimportantThing\n+\n+\n+class ResolveUrlTests(TestCase):\n+    \"\"\"\n+    Tests for the ``resolve_url`` function.\n+    \"\"\"\n+\n+    def test_url_path(self):\n+        \"\"\"\n+        Tests that passing a URL path to ``resolve_url`` will result in the\n+        same url.\n+        \"\"\"\n+        self.assertEqual('/something/', resolve_url('/something/'))\n+\n+    def test_full_url(self):\n+        \"\"\"\n+        Tests that passing a full URL to ``resolve_url`` will result in the\n+        same url.\n+        \"\"\"\n+        url = 'http://example.com/'\n+        self.assertEqual(url, resolve_url(url))\n+\n+    def test_model(self):\n+        \"\"\"\n+        Tests that passing a model to ``resolve_url`` will result in\n+        ``get_absolute_url`` being called on that model instance.\n+        \"\"\"\n+        m = UnimportantThing(importance=1)\n+        self.assertEqual(m.get_absolute_url(), resolve_url(m))\n+\n+    def test_view_function(self):\n+        \"\"\"\n+        Tests that passing a view name to ``resolve_url`` will result in the\n+        URL path mapping to that view name.\n+        \"\"\"\n+        resolved_url = resolve_url(logout)\n+        self.assertEqual('/accounts/logout/', resolved_url)\n+\n+    def test_valid_view_name(self):\n+        \"\"\"\n+        Tests that passing a view function to ``resolve_url`` will result in\n+        the URL path mapping to that view.\n+        \"\"\"\n+        resolved_url = resolve_url('django.contrib.auth.views.logout')\n+        self.assertEqual('/accounts/logout/', resolved_url)\n+\n+    def test_domain(self):\n+        \"\"\"\n+        Tests that passing a domain to ``resolve_url`` returns the same domain.\n+        \"\"\"\n+        self.assertEqual(resolve_url('example.com'), 'example.com')\n+\n+    def test_non_view_callable_raises_no_reverse_match(self):\n+        \"\"\"\n+        Tests that passing a non-view callable into ``resolve_url`` raises a\n+        ``NoReverseMatch`` exception.\n+        \"\"\"\n+        with self.assertRaises(NoReverseMatch):\n+            resolve_url(lambda: 'asdf')\n+"
        },
        {
            "sha": "a81fee68582b11a393221a0fc55d86cb6028ee4c",
            "filename": "tests/runtests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fruntests.py",
            "raw_url": "https://github.com/django/django/raw/a78dd109e6c81c49e90e36e9b793bad67c46c23c/tests%2Fruntests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fruntests.py?ref=a78dd109e6c81c49e90e36e9b793bad67c46c23c",
            "patch": "@@ -92,7 +92,7 @@ def setup(verbosity, test_labels):\n     settings.TEMPLATE_DIRS = (os.path.join(RUNTESTS_DIR, TEST_TEMPLATE_DIR),)\n     settings.USE_I18N = True\n     settings.LANGUAGE_CODE = 'en'\n-    settings.LOGIN_URL = '/accounts/login/'\n+    settings.LOGIN_URL = 'django.contrib.auth.views.login'\n     settings.MIDDLEWARE_CLASSES = (\n         'django.contrib.sessions.middleware.SessionMiddleware',\n         'django.contrib.auth.middleware.AuthenticationMiddleware',"
        }
    ],
    "stats": {
        "total": 214,
        "additions": 162,
        "deletions": 52
    }
}