{
    "author": "jphalip",
    "message": "Fixed a test that was failing in Python 3.\nThe issue was that as of Python 3, the generators' `next()`\nmethod becomes `__next()`. Thanks Alex Gaynor for noticing that.\nRefs #19890.",
    "sha": "ae2a8bb4569e569d0cc2cd8173443862418d3698",
    "files": [
        {
            "sha": "176972fb25f7bc257a1d6ecb06b2492c78e1ecb0",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/ae2a8bb4569e569d0cc2cd8173443862418d3698/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ae2a8bb4569e569d0cc2cd8173443862418d3698/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=ae2a8bb4569e569d0cc2cd8173443862418d3698",
            "patch": "@@ -444,14 +444,9 @@ def gen():\n     def test_ifchanged_render_once(self):\n         \"\"\" Test for ticket #19890. The content of ifchanged template tag was\n         rendered twice.\"\"\"\n-\n-        template = Template('{% ifchanged %}{{ gen.next }}{% endifchanged %}')\n-        def gen():\n-            for i in xrange(1,10):\n-                yield 'iteration no %d' % i\n-\n-        output = template.render(Context({'gen': gen()}))\n-        self.assertEqual(output, 'iteration no 1')\n+        template = Template('{% ifchanged %}{% cycle \"1st time\" \"2nd time\" %}{% endifchanged %}')\n+        output = template.render(Context({}))\n+        self.assertEqual(output, '1st time')\n \n     def test_templates(self):\n         template_tests = self.get_template_tests()"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 3,
        "deletions": 8
    }
}