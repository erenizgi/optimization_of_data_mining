{
    "author": "aaugustin",
    "message": "Added cleanup code to the proxy_model_inheritance tests. Refs #12286, #16329.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17712 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "43cb17bbe50cb72ef9f10a9d959b1adc4d01c304",
    "files": [
        {
            "sha": "a048e1aabee67d68319cd95c01642597eddcf27f",
            "filename": "tests/modeltests/proxy_model_inheritance/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/43cb17bbe50cb72ef9f10a9d959b1adc4d01c304/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/43cb17bbe50cb72ef9f10a9d959b1adc4d01c304/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py?ref=43cb17bbe50cb72ef9f10a9d959b1adc4d01c304",
            "patch": "@@ -13,7 +13,7 @@\n \n from django.conf import settings\n from django.core.management import call_command\n-from django.db.models.loading import load_app\n+from django.db.models.loading import cache, load_app\n from django.test import TransactionTestCase\n from django.test.utils import override_settings\n \n@@ -28,6 +28,12 @@ def setUp(self):\n \n     def tearDown(self):\n         sys.path = self.old_sys_path\n+        del cache.app_store[cache.app_labels['app1']]\n+        del cache.app_store[cache.app_labels['app2']]\n+        del cache.app_labels['app1']\n+        del cache.app_labels['app2']\n+        del cache.app_models['app1']\n+        del cache.app_models['app2']\n \n     def test_table_exists(self):\n         call_command('syncdb', verbosity=0)"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}