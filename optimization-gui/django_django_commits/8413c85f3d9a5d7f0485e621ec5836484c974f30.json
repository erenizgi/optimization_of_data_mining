{
    "author": "andrewgodwin",
    "message": "Very initial Oracle support",
    "sha": "8413c85f3d9a5d7f0485e621ec5836484c974f30",
    "files": [
        {
            "sha": "f4b11ec3275aa990973f293fd34ae9ef4e39b2cd",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/8413c85f3d9a5d7f0485e621ec5836484c974f30/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/8413c85f3d9a5d7f0485e621ec5836484c974f30/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=8413c85f3d9a5d7f0485e621ec5836484c974f30",
            "patch": "@@ -51,6 +51,7 @@ def _setup_environment(environ):\n from django.db.backends.oracle.client import DatabaseClient\n from django.db.backends.oracle.creation import DatabaseCreation\n from django.db.backends.oracle.introspection import DatabaseIntrospection\n+from django.db.backends.oracle.schema import DatabaseSchemaEditor\n from django.utils.encoding import force_bytes, force_text\n from django.utils import six\n from django.utils import timezone\n@@ -571,6 +572,10 @@ def _commit(self):\n                    and x.code == 2091 and 'ORA-02291' in x.message:\n                     six.reraise(utils.IntegrityError, utils.IntegrityError(*tuple(e.args)), sys.exc_info()[2])\n                 six.reraise(utils.DatabaseError, utils.DatabaseError(*tuple(e.args)), sys.exc_info()[2])\n+    \n+    def schema_editor(self):\n+        \"Returns a new instance of this backend's SchemaEditor\"\n+        return DatabaseSchemaEditor(self)\n \n \n class OracleParam(object):"
        },
        {
            "sha": "c4dc80503c5d25963f87dc03040d615d555b2259",
            "filename": "django/db/backends/oracle/creation.py",
            "status": "modified",
            "additions": 11,
            "deletions": 4,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/8413c85f3d9a5d7f0485e621ec5836484c974f30/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py",
            "raw_url": "https://github.com/django/django/raw/8413c85f3d9a5d7f0485e621ec5836484c974f30/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fcreation.py?ref=8413c85f3d9a5d7f0485e621ec5836484c974f30",
            "patch": "@@ -17,7 +17,7 @@ class DatabaseCreation(BaseDatabaseCreation):\n \n     data_types = {\n         'AutoField':                    'NUMBER(11)',\n-        'BooleanField':                 'NUMBER(1) CHECK (%(qn_column)s IN (0,1))',\n+        'BooleanField':                 'NUMBER(1)',\n         'CharField':                    'NVARCHAR2(%(max_length)s)',\n         'CommaSeparatedIntegerField':   'VARCHAR2(%(max_length)s)',\n         'DateField':                    'DATE',\n@@ -30,17 +30,24 @@ class DatabaseCreation(BaseDatabaseCreation):\n         'BigIntegerField':              'NUMBER(19)',\n         'IPAddressField':               'VARCHAR2(15)',\n         'GenericIPAddressField':        'VARCHAR2(39)',\n-        'NullBooleanField':             'NUMBER(1) CHECK ((%(qn_column)s IN (0,1)) OR (%(qn_column)s IS NULL))',\n+        'NullBooleanField':             'NUMBER(1)',\n         'OneToOneField':                'NUMBER(11)',\n-        'PositiveIntegerField':         'NUMBER(11) CHECK (%(qn_column)s >= 0)',\n-        'PositiveSmallIntegerField':    'NUMBER(11) CHECK (%(qn_column)s >= 0)',\n+        'PositiveIntegerField':         'NUMBER(11)',\n+        'PositiveSmallIntegerField':    'NUMBER(11)',\n         'SlugField':                    'NVARCHAR2(%(max_length)s)',\n         'SmallIntegerField':            'NUMBER(11)',\n         'TextField':                    'NCLOB',\n         'TimeField':                    'TIMESTAMP',\n         'URLField':                     'VARCHAR2(%(max_length)s)',\n     }\n \n+    data_type_check_constraints = {\n+        'BooleanField': '%(qn_column)s IN (0,1)',\n+        'NullBooleanField': '(%(qn_column)s IN (0,1)) OR (%(qn_column)s IS NULL)',\n+        'PositiveIntegerField': '\"%(qn_column)s\" >= 0',\n+        'PositiveSmallIntegerField': '\"%(qn_column)s\" >= 0',\n+    }\n+\n     def __init__(self, connection):\n         super(DatabaseCreation, self).__init__(connection)\n "
        }
    ],
    "stats": {
        "total": 20,
        "additions": 16,
        "deletions": 4
    }
}