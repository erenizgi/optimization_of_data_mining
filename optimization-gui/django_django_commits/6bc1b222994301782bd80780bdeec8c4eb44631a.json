{
    "author": "apollo13",
    "message": "Fixed our HTMLParser patches for python 2.7.4",
    "sha": "6bc1b222994301782bd80780bdeec8c4eb44631a",
    "files": [
        {
            "sha": "98f6545c4176f6444a8c0e89bf7a9d1739b98f09",
            "filename": "django/utils/html_parser.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/6bc1b222994301782bd80780bdeec8c4eb44631a/django%2Futils%2Fhtml_parser.py",
            "raw_url": "https://github.com/django/django/raw/6bc1b222994301782bd80780bdeec8c4eb44631a/django%2Futils%2Fhtml_parser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml_parser.py?ref=6bc1b222994301782bd80780bdeec8c4eb44631a",
            "patch": "@@ -1,6 +1,7 @@\n import HTMLParser as _HTMLParser\n import re\n \n+tagfind = re.compile('([a-zA-Z][-.a-zA-Z0-9:_]*)(?:\\s|/(?!>))*')\n \n class HTMLParser(_HTMLParser.HTMLParser):\n     \"\"\"\n@@ -33,10 +34,10 @@ def parse_starttag(self, i):\n \n         # Now parse the data between i+1 and j into a tag and attrs\n         attrs = []\n-        match = _HTMLParser.tagfind.match(rawdata, i + 1)\n+        match = tagfind.match(rawdata, i + 1)\n         assert match, 'unexpected call to parse_starttag()'\n         k = match.end()\n-        self.lasttag = tag = rawdata[i + 1:k].lower()\n+        self.lasttag = tag = match.group(1).lower()\n \n         while k < endpos:\n             m = _HTMLParser.attrfind.match(rawdata, k)\n@@ -48,6 +49,7 @@ def parse_starttag(self, i):\n             elif attrvalue[:1] == '\\'' == attrvalue[-1:] or \\\n                  attrvalue[:1] == '\"' == attrvalue[-1:]:\n                 attrvalue = attrvalue[1:-1]\n+            if attrvalue:\n                 attrvalue = self.unescape(attrvalue)\n             attrs.append((attrname.lower(), attrvalue))\n             k = m.end()"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}