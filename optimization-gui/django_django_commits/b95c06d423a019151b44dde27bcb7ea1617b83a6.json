{
    "author": "ramiro",
    "message": "Made fix for quote characters with SmartPants + parsed literal blocks conditional on Sphinx version.\n\nThis hs been fixed upstream in releases >= 1.0.8 (issue 647.)\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16952 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "b95c06d423a019151b44dde27bcb7ea1617b83a6",
    "files": [
        {
            "sha": "21c4716d18e89c6ad92478d477395635724685f9",
            "filename": "docs/_ext/djangodocs.py",
            "status": "modified",
            "additions": 12,
            "deletions": 11,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/b95c06d423a019151b44dde27bcb7ea1617b83a6/docs%2F_ext%2Fdjangodocs.py",
            "raw_url": "https://github.com/django/django/raw/b95c06d423a019151b44dde27bcb7ea1617b83a6/docs%2F_ext%2Fdjangodocs.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2F_ext%2Fdjangodocs.py?ref=b95c06d423a019151b44dde27bcb7ea1617b83a6",
            "patch": "@@ -16,7 +16,7 @@\n         except ImportError:\n             json = None\n \n-from sphinx import addnodes, roles\n+from sphinx import addnodes, roles, __version__ as sphinx_ver\n from sphinx.builders.html import StandaloneHTMLBuilder\n from sphinx.writers.html import SmartyPantsHTMLTranslator\n from sphinx.util.console import bold\n@@ -139,16 +139,17 @@ def visit_desc_parameterlist(self, node):\n     def depart_desc_parameterlist(self, node):\n         self.body.append(')')\n \n-    #\n-    # Don't apply smartypants to literal blocks\n-    #\n-    def visit_literal_block(self, node):\n-        self.no_smarty += 1\n-        SmartyPantsHTMLTranslator.visit_literal_block(self, node)\n-\n-    def depart_literal_block(self, node):\n-        SmartyPantsHTMLTranslator.depart_literal_block(self, node)\n-        self.no_smarty -= 1\n+    if sphinx_ver < '1.0.8':\n+        #\n+        # Don't apply smartypants to literal blocks\n+        #\n+        def visit_literal_block(self, node):\n+            self.no_smarty += 1\n+            SmartyPantsHTMLTranslator.visit_literal_block(self, node)\n+\n+        def depart_literal_block(self, node):\n+            SmartyPantsHTMLTranslator.depart_literal_block(self, node)\n+            self.no_smarty -= 1\n \n     #\n     # Turn the \"new in version\" stuff (versionadded/versionchanged) into a"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 12,
        "deletions": 11
    }
}