{
    "author": "claudep",
    "message": "Fixed #18325 -- Wrapped self.stdout/stderr in OutputWrapper class",
    "sha": "822d6d6dabc959532fb2904376580e8947c519f6",
    "files": [
        {
            "sha": "f3f1a7b671cbb1abf7579ae858a5323dd31dadd2",
            "filename": "django/contrib/auth/management/commands/createsuperuser.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fauth%2Fmanagement%2Fcommands%2Fcreatesuperuser.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fauth%2Fmanagement%2Fcommands%2Fcreatesuperuser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fmanagement%2Fcommands%2Fcreatesuperuser.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -80,15 +80,15 @@ def handle(self, *args, **options):\n                     if default_username and username == '':\n                         username = default_username\n                     if not RE_VALID_USERNAME.match(username):\n-                        sys.stderr.write(\"Error: That username is invalid. Use only letters, digits and underscores.\\n\")\n+                        self.stderr.write(\"Error: That username is invalid. Use only letters, digits and underscores.\")\n                         username = None\n                         continue\n                     try:\n                         User.objects.using(database).get(username=username)\n                     except User.DoesNotExist:\n                         break\n                     else:\n-                        sys.stderr.write(\"Error: That username is already taken.\\n\")\n+                        self.stderr.write(\"Error: That username is already taken.\")\n                         username = None\n \n                 # Get an email\n@@ -98,7 +98,7 @@ def handle(self, *args, **options):\n                     try:\n                         is_valid_email(email)\n                     except exceptions.ValidationError:\n-                        sys.stderr.write(\"Error: That e-mail address is invalid.\\n\")\n+                        self.stderr.write(\"Error: That e-mail address is invalid.\")\n                         email = None\n                     else:\n                         break\n@@ -109,19 +109,19 @@ def handle(self, *args, **options):\n                         password = getpass.getpass()\n                         password2 = getpass.getpass('Password (again): ')\n                         if password != password2:\n-                            sys.stderr.write(\"Error: Your passwords didn't match.\\n\")\n+                            self.stderr.write(\"Error: Your passwords didn't match.\")\n                             password = None\n                             continue\n                     if password.strip() == '':\n-                        sys.stderr.write(\"Error: Blank passwords aren't allowed.\\n\")\n+                        self.stderr.write(\"Error: Blank passwords aren't allowed.\")\n                         password = None\n                         continue\n                     break\n             except KeyboardInterrupt:\n-                sys.stderr.write(\"\\nOperation cancelled.\\n\")\n+                self.stderr.write(\"\\nOperation cancelled.\")\n                 sys.exit(1)\n \n         User.objects.db_manager(database).create_superuser(username, email, password)\n         if verbosity >= 1:\n-          self.stdout.write(\"Superuser created successfully.\\n\")\n+          self.stdout.write(\"Superuser created successfully.\")\n "
        },
        {
            "sha": "669c04043bbbec59f4219bc929f24914a2f069d6",
            "filename": "django/contrib/staticfiles/management/commands/collectstatic.py",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Fcollectstatic.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -4,7 +4,7 @@\n \n from django.core.files.storage import FileSystemStorage\n from django.core.management.base import CommandError, NoArgsCommand\n-from django.utils.encoding import smart_str, smart_unicode\n+from django.utils.encoding import smart_unicode\n from django.utils.datastructures import SortedDict\n \n from django.contrib.staticfiles import finders, storage\n@@ -178,15 +178,12 @@ def handle_noargs(self, **options):\n                                    ', %s post-processed'\n                                    % post_processed_count or ''),\n             }\n-            self.stdout.write(smart_str(summary))\n+            self.stdout.write(summary)\n \n     def log(self, msg, level=2):\n         \"\"\"\n         Small log helper\n         \"\"\"\n-        msg = smart_str(msg)\n-        if not msg.endswith(\"\\n\"):\n-            msg += \"\\n\"\n         if self.verbosity >= level:\n             self.stdout.write(msg)\n "
        },
        {
            "sha": "dc4406e4584a14021249ce25029838a970ae0dbd",
            "filename": "django/contrib/staticfiles/management/commands/findstatic.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fmanagement%2Fcommands%2Ffindstatic.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -23,9 +23,7 @@ def handle_label(self, path, **options):\n                 result = [result]\n             output = u'\\n  '.join(\n                 (smart_unicode(os.path.realpath(path)) for path in result))\n-            self.stdout.write(\n-                smart_str(u\"Found '%s' here:\\n  %s\\n\" % (path, output)))\n+            self.stdout.write(u\"Found '%s' here:\\n  %s\" % (path, output))\n         else:\n             if verbosity >= 1:\n-                self.stderr.write(\n-                    smart_str(\"No matching file found for '%s'.\\n\" % path))\n+                self.stderr.write(\"No matching file found for '%s'.\" % path)"
        },
        {
            "sha": "16feb91f4925064ccae046e68011db8884aef159",
            "filename": "django/core/management/base.py",
            "status": "modified",
            "additions": 31,
            "deletions": 7,
            "changes": 38,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fbase.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -45,6 +45,29 @@ def handle_default_options(options):\n         sys.path.insert(0, options.pythonpath)\n \n \n+class OutputWrapper(object):\n+    \"\"\"\n+    Wrapper around stdout/stderr\n+    \"\"\"\n+    def __init__(self, out, style_func=None):\n+        self._out = out\n+        self.style_func = None\n+        if hasattr(out, 'isatty') and out.isatty():\n+            self.style_func = style_func\n+\n+    def __getattr__(self, name):\n+        return getattr(self._out, name)\n+\n+    def write(self, msg, style_func=None, ending='\\n'):\n+        if ending and not msg.endswith(ending):\n+            msg += ending\n+        if style_func is not None:\n+            msg = style_func(msg)\n+        elif self.style_func is not None:\n+            msg = self.style_func(msg)\n+        self._out.write(smart_str(msg))\n+\n+\n class BaseCommand(object):\n     \"\"\"\n     The base class from which all management commands ultimately\n@@ -210,6 +233,9 @@ def execute(self, *args, **options):\n         # But only do this if we can assume we have a working settings file,\n         # because django.utils.translation requires settings.\n         saved_lang = None\n+        self.stdout = OutputWrapper(options.get('stdout', sys.stdout))\n+        self.stderr = OutputWrapper(options.get('stderr', sys.stderr), self.style.ERROR)\n+\n         if self.can_import_settings:\n             try:\n                 from django.utils import translation\n@@ -221,12 +247,10 @@ def execute(self, *args, **options):\n                 if show_traceback:\n                     traceback.print_exc()\n                 else:\n-                    sys.stderr.write(smart_str(self.style.ERROR('Error: %s\\n' % e)))\n+                    self.stderr.write('Error: %s' % e)\n                 sys.exit(1)\n \n         try:\n-            self.stdout = options.get('stdout', sys.stdout)\n-            self.stderr = options.get('stderr', sys.stderr)\n             if self.requires_model_validation and not options.get('skip_validation'):\n                 self.validate()\n             output = self.handle(*args, **options)\n@@ -237,15 +261,15 @@ def execute(self, *args, **options):\n                     from django.db import connections, DEFAULT_DB_ALIAS\n                     connection = connections[options.get('database', DEFAULT_DB_ALIAS)]\n                     if connection.ops.start_transaction_sql():\n-                        self.stdout.write(self.style.SQL_KEYWORD(connection.ops.start_transaction_sql()) + '\\n')\n+                        self.stdout.write(self.style.SQL_KEYWORD(connection.ops.start_transaction_sql()))\n                 self.stdout.write(output)\n                 if self.output_transaction:\n-                    self.stdout.write('\\n' + self.style.SQL_KEYWORD(\"COMMIT;\") + '\\n')\n+                    self.stdout.write('\\n' + self.style.SQL_KEYWORD(\"COMMIT;\"))\n         except CommandError as e:\n             if show_traceback:\n                 traceback.print_exc()\n             else:\n-                self.stderr.write(smart_str(self.style.ERROR('Error: %s\\n' % e)))\n+                self.stderr.write('Error: %s' % e)\n             sys.exit(1)\n         finally:\n             if saved_lang is not None:\n@@ -266,7 +290,7 @@ def validate(self, app=None, display_num_errors=False):\n             error_text = s.read()\n             raise CommandError(\"One or more models did not validate:\\n%s\" % error_text)\n         if display_num_errors:\n-            self.stdout.write(\"%s error%s found\\n\" % (num_errors, num_errors != 1 and 's' or ''))\n+            self.stdout.write(\"%s error%s found\" % (num_errors, num_errors != 1 and 's' or ''))\n \n     def handle(self, *args, **options):\n         \"\"\""
        },
        {
            "sha": "fec3aff67cacf5621afdecdca12fe027aecf0b7a",
            "filename": "django/core/management/commands/createcachetable.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fcreatecachetable.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -56,8 +56,8 @@ def handle_label(self, tablename, **options):\n             curs.execute(\"\\n\".join(full_statement))\n         except DatabaseError as e:\n             self.stderr.write(\n-                self.style.ERROR(\"Cache table '%s' could not be created.\\nThe error was: %s.\\n\" %\n-                    (tablename, e)))\n+                \"Cache table '%s' could not be created.\\nThe error was: %s.\" %\n+                    (tablename, e))\n             transaction.rollback_unless_managed(using=db)\n         else:\n             for statement in index_output:"
        },
        {
            "sha": "87b100b44d2556e2c656b11f24249279f5018c1b",
            "filename": "django/core/management/commands/dumpdata.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fdumpdata.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -109,8 +109,9 @@ def handle(self, *app_labels, **options):\n                     objects.extend(model._default_manager.using(using).all())\n \n         try:\n-            return serializers.serialize(format, objects, indent=indent,\n-                        use_natural_keys=use_natural_keys)\n+            self.stdout.write(serializers.serialize(format, objects,\n+                              indent=indent, use_natural_keys=use_natural_keys),\n+                              ending='')\n         except Exception as e:\n             if show_traceback:\n                 raise"
        },
        {
            "sha": "f44edf7ade20771159b2e916fc287987a5f3cf69",
            "filename": "django/core/management/commands/loaddata.py",
            "status": "modified",
            "additions": 18,
            "deletions": 18,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Floaddata.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -34,11 +34,11 @@ def handle(self, *fixture_labels, **options):\n         using = options.get('database')\n \n         connection = connections[using]\n-        self.style = no_style()\n \n         if not len(fixture_labels):\n             self.stderr.write(\n-                self.style.ERROR(\"No database fixture specified. Please provide the path of at least one fixture in the command line.\\n\")\n+                \"No database fixture specified. Please provide the path of at \"\n+                \"least one fixture in the command line.\"\n             )\n             return\n \n@@ -124,11 +124,11 @@ def read(self):\n \n                     if formats:\n                         if verbosity >= 2:\n-                            self.stdout.write(\"Loading '%s' fixtures...\\n\" % fixture_name)\n+                            self.stdout.write(\"Loading '%s' fixtures...\" % fixture_name)\n                     else:\n                         self.stderr.write(\n-                            self.style.ERROR(\"Problem installing fixture '%s': %s is not a known serialization format.\\n\" %\n-                                (fixture_name, format)))\n+                            \"Problem installing fixture '%s': %s is not a known serialization format.\" %\n+                                (fixture_name, format))\n                         if commit:\n                             transaction.rollback(using=using)\n                             transaction.leave_transaction_management(using=using)\n@@ -141,7 +141,7 @@ def read(self):\n \n                     for fixture_dir in fixture_dirs:\n                         if verbosity >= 2:\n-                            self.stdout.write(\"Checking %s for fixtures...\\n\" % humanize(fixture_dir))\n+                            self.stdout.write(\"Checking %s for fixtures...\" % humanize(fixture_dir))\n \n                         label_found = False\n                         for combo in product([using, None], formats, compression_formats):\n@@ -154,21 +154,21 @@ def read(self):\n                             )\n \n                             if verbosity >= 3:\n-                                self.stdout.write(\"Trying %s for %s fixture '%s'...\\n\" % \\\n+                                self.stdout.write(\"Trying %s for %s fixture '%s'...\" % \\\n                                     (humanize(fixture_dir), file_name, fixture_name))\n                             full_path = os.path.join(fixture_dir, file_name)\n                             open_method = compression_types[compression_format]\n                             try:\n                                 fixture = open_method(full_path, 'r')\n                             except IOError:\n                                 if verbosity >= 2:\n-                                    self.stdout.write(\"No %s fixture '%s' in %s.\\n\" % \\\n+                                    self.stdout.write(\"No %s fixture '%s' in %s.\" % \\\n                                         (format, fixture_name, humanize(fixture_dir)))\n                             else:\n                                 try:\n                                     if label_found:\n-                                        self.stderr.write(self.style.ERROR(\"Multiple fixtures named '%s' in %s. Aborting.\\n\" %\n-                                            (fixture_name, humanize(fixture_dir))))\n+                                        self.stderr.write(\"Multiple fixtures named '%s' in %s. Aborting.\" %\n+                                            (fixture_name, humanize(fixture_dir)))\n                                         if commit:\n                                             transaction.rollback(using=using)\n                                             transaction.leave_transaction_management(using=using)\n@@ -178,7 +178,7 @@ def read(self):\n                                     objects_in_fixture = 0\n                                     loaded_objects_in_fixture = 0\n                                     if verbosity >= 2:\n-                                        self.stdout.write(\"Installing %s fixture '%s' from %s.\\n\" % \\\n+                                        self.stdout.write(\"Installing %s fixture '%s' from %s.\" % \\\n                                             (format, fixture_name, humanize(fixture_dir)))\n \n                                     objects = serializers.deserialize(format, fixture, using=using)\n@@ -209,8 +209,8 @@ def read(self):\n                                 # error was encountered during fixture loading.\n                                 if objects_in_fixture == 0:\n                                     self.stderr.write(\n-                                        self.style.ERROR(\"No fixture data found for '%s'. (File format may be invalid.)\\n\" %\n-                                            (fixture_name)))\n+                                        \"No fixture data found for '%s'. (File format may be invalid.)\" %\n+                                            (fixture_name))\n                                     if commit:\n                                         transaction.rollback(using=using)\n                                         transaction.leave_transaction_management(using=using)\n@@ -231,16 +231,16 @@ def read(self):\n                 traceback.print_exc()\n             else:\n                 self.stderr.write(\n-                    self.style.ERROR(\"Problem installing fixture '%s': %s\\n\" %\n+                    \"Problem installing fixture '%s': %s\" %\n                          (full_path, ''.join(traceback.format_exception(sys.exc_type,\n-                             sys.exc_value, sys.exc_traceback)))))\n+                             sys.exc_value, sys.exc_traceback))))\n             return\n \n \n         # If we found even one object in a fixture, we need to reset the\n         # database sequences.\n         if loaded_object_count > 0:\n-            sequence_sql = connection.ops.sequence_reset_sql(self.style, models)\n+            sequence_sql = connection.ops.sequence_reset_sql(no_style(), models)\n             if sequence_sql:\n                 if verbosity >= 2:\n                     self.stdout.write(\"Resetting sequences\\n\")\n@@ -253,10 +253,10 @@ def read(self):\n \n         if verbosity >= 1:\n             if fixture_object_count == loaded_object_count:\n-                self.stdout.write(\"Installed %d object(s) from %d fixture(s)\\n\" % (\n+                self.stdout.write(\"Installed %d object(s) from %d fixture(s)\" % (\n                     loaded_object_count, fixture_count))\n             else:\n-                self.stdout.write(\"Installed %d object(s) (of %d) from %d fixture(s)\\n\" % (\n+                self.stdout.write(\"Installed %d object(s) (of %d) from %d fixture(s)\" % (\n                     loaded_object_count, fixture_object_count, fixture_count))\n \n         # Close the DB connection. This is required as a workaround for an"
        },
        {
            "sha": "c067c9c32284001058e52cf2f9e2bd67e43cb501",
            "filename": "django/core/management/commands/runserver.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Frunserver.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -120,12 +120,12 @@ def inner_run(self, *args, **options):\n                 error_text = ERRORS[e.args[0].args[0]]\n             except (AttributeError, KeyError):\n                 error_text = str(e)\n-            sys.stderr.write(self.style.ERROR(\"Error: %s\" % error_text) + '\\n')\n+            sys.stderr.write(\"Error: %s\" % error_text)\n             # Need to use an OS exit because sys.exit doesn't work in a thread\n             os._exit(1)\n         except KeyboardInterrupt:\n             if shutdown_message:\n-                self.stdout.write(\"%s\\n\" % shutdown_message)\n+                self.stdout.write(shutdown_message)\n             sys.exit(0)\n \n "
        },
        {
            "sha": "623aa69debf087fdcfc84f4bf8c12e7ce003388b",
            "filename": "django/core/management/templates.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Ftemplates.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -16,7 +16,6 @@\n import django\n from django.template import Template, Context\n from django.utils import archive\n-from django.utils.encoding import smart_str\n from django.utils._os import rmtree_errorhandler\n from django.core.management.base import BaseCommand, CommandError\n from django.core.management.commands.makemessages import handle_extensions\n@@ -166,11 +165,10 @@ def handle(self, app_or_project, name, target=None, **options):\n                     shutil.copymode(old_path, new_path)\n                     self.make_writeable(new_path)\n                 except OSError:\n-                    notice = self.style.NOTICE(\n+                    self.stderr.write(\n                         \"Notice: Couldn't set permission bits on %s. You're \"\n                         \"probably using an uncommon filesystem setup. No \"\n-                        \"problem.\\n\" % new_path)\n-                    sys.stderr.write(smart_str(notice))\n+                        \"problem.\" % new_path, self.style.NOTICE)\n \n         if self.paths_to_remove:\n             if self.verbosity >= 2:"
        },
        {
            "sha": "2b34d35de7b57fdb409200ccb6a4a68c287a7f48",
            "filename": "docs/howto/custom-management-commands.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/docs%2Fhowto%2Fcustom-management-commands.txt",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/docs%2Fhowto%2Fcustom-management-commands.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fcustom-management-commands.txt?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -61,7 +61,7 @@ look like this:\n                 poll.opened = False\n                 poll.save()\n \n-                self.stdout.write('Successfully closed poll \"%s\"\\n' % poll_id)\n+                self.stdout.write('Successfully closed poll \"%s\"' % poll_id)\n \n .. note::\n     When you are using management commands and wish to provide console"
        },
        {
            "sha": "c1e2bf9a7442ed209ee1bec24713c53d6895d726",
            "filename": "tests/modeltests/user_commands/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/822d6d6dabc959532fb2904376580e8947c519f6/tests%2Fmodeltests%2Fuser_commands%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/822d6d6dabc959532fb2904376580e8947c519f6/tests%2Fmodeltests%2Fuser_commands%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fuser_commands%2Ftests.py?ref=822d6d6dabc959532fb2904376580e8947c519f6",
            "patch": "@@ -11,13 +11,13 @@ def test_command(self):\n         out = StringIO()\n         management.call_command('dance', stdout=out)\n         self.assertEqual(out.getvalue(),\n-            \"I don't feel like dancing Rock'n'Roll.\")\n+            \"I don't feel like dancing Rock'n'Roll.\\n\")\n \n     def test_command_style(self):\n         out = StringIO()\n         management.call_command('dance', style='Jive', stdout=out)\n         self.assertEqual(out.getvalue(),\n-            \"I don't feel like dancing Jive.\")\n+            \"I don't feel like dancing Jive.\\n\")\n \n     def test_language_preserved(self):\n         out = StringIO()"
        }
    ],
    "stats": {
        "total": 126,
        "additions": 72,
        "deletions": 54
    }
}