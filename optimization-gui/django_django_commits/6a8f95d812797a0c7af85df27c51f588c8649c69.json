{
    "author": "carljm",
    "message": "Fixed a caching test on Python 3.",
    "sha": "6a8f95d812797a0c7af85df27c51f588c8649c69",
    "files": [
        {
            "sha": "24e510c5d2dd2a938872fde93d2dca9452519fd7",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/6a8f95d812797a0c7af85df27c51f588c8649c69/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6a8f95d812797a0c7af85df27c51f588c8649c69/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=6a8f95d812797a0c7af85df27c51f588c8649c69",
            "patch": "@@ -1327,7 +1327,7 @@ def test_cache_key_i18n_translation(self):\n     def check_accept_language_vary(self, accept_language, vary, reference_key):\n         request = self._get_request()\n         request.META['HTTP_ACCEPT_LANGUAGE'] = accept_language\n-        request.META['HTTP_ACCEPT_ENCODING'] = 'gzip;q=1.0, identity; q=0.5, *;q=0'\n+        request.META['HTTP_ACCEPT_ENCODING'] = b'gzip;q=1.0, identity; q=0.5, *;q=0'\n         response = HttpResponse()\n         response['Vary'] = vary\n         key = learn_cache_key(request, response)\n@@ -1340,53 +1340,53 @@ def test_cache_key_i18n_translation_accept_language(self):\n         lang = translation.get_language()\n         self.assertEqual(lang, 'en')\n         request = self._get_request()\n-        request.META['HTTP_ACCEPT_ENCODING'] = 'gzip;q=1.0, identity; q=0.5, *;q=0'\n+        request.META['HTTP_ACCEPT_ENCODING'] = b'gzip;q=1.0, identity; q=0.5, *;q=0'\n         response = HttpResponse()\n         response['Vary'] = 'accept-encoding'\n         key = learn_cache_key(request, response)\n         self.assertIn(lang, key, \"Cache keys should include the language name when translation is active\")\n         self.check_accept_language_vary(\n-            'en-us',\n+            b'en-us',\n             'cookie, accept-language, accept-encoding',\n             key\n         )\n         self.check_accept_language_vary(\n-            'en-US',\n+            b'en-US',\n             'cookie, accept-encoding, accept-language',\n             key\n         )\n         self.check_accept_language_vary(\n-            'en-US,en;q=0.8',\n+            b'en-US,en;q=0.8',\n             'accept-encoding, accept-language, cookie',\n             key\n         )\n         self.check_accept_language_vary(\n-            'en-US,en;q=0.8,ko;q=0.6',\n+            b'en-US,en;q=0.8,ko;q=0.6',\n             'accept-language, cookie, accept-encoding',\n             key\n         )\n         self.check_accept_language_vary(\n-            'ko-kr,ko;q=0.8,en-us;q=0.5,en;q=0.3 ',\n+            b'ko-kr,ko;q=0.8,en-us;q=0.5,en;q=0.3 ',\n             'accept-encoding, cookie, accept-language',\n             key\n         )\n         self.check_accept_language_vary(\n-            'ko-KR,ko;q=0.8,en-US;q=0.6,en;q=0.4',\n+            b'ko-KR,ko;q=0.8,en-US;q=0.6,en;q=0.4',\n             'accept-language, accept-encoding, cookie',\n             key\n         )\n         self.check_accept_language_vary(\n-            'ko;q=1.0,en;q=0.5',\n+            b'ko;q=1.0,en;q=0.5',\n             'cookie, accept-language, accept-encoding',\n             key\n         )\n         self.check_accept_language_vary(\n-            'ko, en',\n+            b'ko, en',\n             'cookie, accept-encoding, accept-language',\n             key\n         )\n         self.check_accept_language_vary(\n-            'ko-KR, en-US',\n+            b'ko-KR, en-US',\n             'accept-encoding, accept-language, cookie',\n             key\n         )"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 11,
        "deletions": 11
    }
}