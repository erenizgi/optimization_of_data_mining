{
    "author": "claudep",
    "message": "Removed forced settings in runtests\n\nTests that require USE_I18N, LOGIN_URL or certain MIDDLEWARE_CLASSES\nshould be decorated appropriately.",
    "sha": "9b74a8391de81312a6d2f97ce40f3ed856285d9f",
    "files": [
        {
            "sha": "de384663359aa19df2e9af626c8a476548d8b0db",
            "filename": "tests/forms_tests/templates/forms_tests/article_form.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/9b74a8391de81312a6d2f97ce40f3ed856285d9f/tests%2Fforms_tests%2Ftemplates%2Fforms_tests%2Farticle_form.html",
            "raw_url": "https://github.com/django/django/raw/9b74a8391de81312a6d2f97ce40f3ed856285d9f/tests%2Fforms_tests%2Ftemplates%2Fforms_tests%2Farticle_form.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fforms_tests%2Ftemplates%2Fforms_tests%2Farticle_form.html?ref=9b74a8391de81312a6d2f97ce40f3ed856285d9f",
            "patch": "@@ -1,6 +1,6 @@\n <html>\n <body>\n-  <form method=\"post\" action=\".\">\n+  <form method=\"post\" action=\".\">{% csrf_token %}\n     {{ form.as_p }}<br>\n     <input id=\"submit\" type=\"submit\">\n   </form>"
        },
        {
            "sha": "f2cd933776a85cd7d9809c59cd58892b79ec5125",
            "filename": "tests/runtests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 14,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/9b74a8391de81312a6d2f97ce40f3ed856285d9f/tests%2Fruntests.py",
            "raw_url": "https://github.com/django/django/raw/9b74a8391de81312a6d2f97ce40f3ed856285d9f/tests%2Fruntests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fruntests.py?ref=9b74a8391de81312a6d2f97ce40f3ed856285d9f",
            "patch": "@@ -62,14 +62,12 @@ def get_test_modules():\n \n def setup(verbosity, test_labels):\n     from django.conf import settings\n+    from django.db.models.loading import get_apps, load_app\n     state = {\n         'INSTALLED_APPS': settings.INSTALLED_APPS,\n         'ROOT_URLCONF': getattr(settings, \"ROOT_URLCONF\", \"\"),\n         'TEMPLATE_DIRS': settings.TEMPLATE_DIRS,\n-        'USE_I18N': settings.USE_I18N,\n-        'LOGIN_URL': settings.LOGIN_URL,\n         'LANGUAGE_CODE': settings.LANGUAGE_CODE,\n-        'MIDDLEWARE_CLASSES': settings.MIDDLEWARE_CLASSES,\n         'STATIC_URL': settings.STATIC_URL,\n         'STATIC_ROOT': settings.STATIC_ROOT,\n     }\n@@ -80,25 +78,14 @@ def setup(verbosity, test_labels):\n     settings.STATIC_URL = '/static/'\n     settings.STATIC_ROOT = os.path.join(TEMP_DIR, 'static')\n     settings.TEMPLATE_DIRS = (os.path.join(RUNTESTS_DIR, TEST_TEMPLATE_DIR),)\n-    settings.USE_I18N = True\n     settings.LANGUAGE_CODE = 'en'\n-    settings.LOGIN_URL = 'django.contrib.auth.views.login'\n-    settings.MIDDLEWARE_CLASSES = (\n-        'django.contrib.sessions.middleware.SessionMiddleware',\n-        'django.contrib.auth.middleware.AuthenticationMiddleware',\n-        'django.contrib.messages.middleware.MessageMiddleware',\n-        'django.middleware.common.CommonMiddleware',\n-    )\n     settings.SITE_ID = 1\n     # For testing comment-utils, we require the MANAGERS attribute\n     # to be set, so that a test email is sent out which we catch\n     # in our tests.\n     settings.MANAGERS = (\"admin@djangoproject.com\",)\n \n     # Load all the ALWAYS_INSTALLED_APPS.\n-    # (This import statement is intentionally delayed until after we\n-    # access settings because of the USE_I18N dependency.)\n-    from django.db.models.loading import get_apps, load_app\n     get_apps()\n \n     # Load all the test model apps."
        }
    ],
    "stats": {
        "total": 17,
        "additions": 2,
        "deletions": 15
    }
}