{
    "author": "aaugustin",
    "message": "[py3] Updated urllib/urllib2/urlparse imports.\n\nLots of functions were moved. Use explicit imports in all cases\nto keey it easy to identify where the functions come from.",
    "sha": "0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
    "files": [
        {
            "sha": "7a608d0777637330c03a19b9f7c17577df025359",
            "filename": "django/contrib/auth/decorators.py",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fdecorators.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fdecorators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fdecorators.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,4 +1,7 @@\n-import urlparse\n+try:\n+    from urllib.parse import urlparse\n+except ImportError:     # Python 2\n+    from urlparse import urlparse\n from functools import wraps\n from django.conf import settings\n from django.contrib.auth import REDIRECT_FIELD_NAME\n@@ -21,9 +24,8 @@ def _wrapped_view(request, *args, **kwargs):\n             path = request.build_absolute_uri()\n             # If the login url is the same scheme and net location then just\n             # use the path as the \"next\" url.\n-            login_scheme, login_netloc = urlparse.urlparse(login_url or\n-                                                        settings.LOGIN_URL)[:2]\n-            current_scheme, current_netloc = urlparse.urlparse(path)[:2]\n+            login_scheme, login_netloc = urlparse(login_url or settings.LOGIN_URL)[:2]\n+            current_scheme, current_netloc = urlparse(path)[:2]\n             if ((not login_scheme or login_scheme == current_scheme) and\n                 (not login_netloc or login_netloc == current_netloc)):\n                 path = request.get_full_path()"
        },
        {
            "sha": "39d9e8408ddc36194abc2300feb97e5134dd4cb7",
            "filename": "django/contrib/auth/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fmodels.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,13 +1,11 @@\n from __future__ import unicode_literals\n \n-import urllib\n-\n from django.core.exceptions import ImproperlyConfigured\n from django.core.mail import send_mail\n from django.db import models\n from django.db.models.manager import EmptyManager\n from django.utils.crypto import get_random_string\n-from django.utils.encoding import smart_str\n+from django.utils.http import urlquote\n from django.utils import six\n from django.utils.translation import ugettext_lazy as _\n from django.utils import timezone\n@@ -268,7 +266,7 @@ def natural_key(self):\n         return (self.username,)\n \n     def get_absolute_url(self):\n-        return \"/users/%s/\" % urllib.quote(smart_str(self.username))\n+        return \"/users/%s/\" % urlquote(self.username)\n \n     def is_anonymous(self):\n         \"\"\""
        },
        {
            "sha": "e76e7dd10f7d55de7b57de4f5196bd990a5e6662",
            "filename": "django/contrib/auth/tests/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,6 +1,5 @@\n import os\n import re\n-import urllib\n \n from django.conf import settings\n from django.contrib.sites.models import Site, RequestSite\n@@ -10,6 +9,7 @@\n from django.http import QueryDict\n from django.utils.encoding import force_unicode\n from django.utils.html import escape\n+from django.utils.http import urlquote\n from django.test import TestCase\n from django.test.utils import override_settings\n \n@@ -256,7 +256,7 @@ def test_security_check(self, password='password'):\n             nasty_url = '%(url)s?%(next)s=%(bad_url)s' % {\n                 'url': login_url,\n                 'next': REDIRECT_FIELD_NAME,\n-                'bad_url': urllib.quote(bad_url),\n+                'bad_url': urlquote(bad_url),\n             }\n             response = self.client.post(nasty_url, {\n                 'username': 'testclient',\n@@ -277,7 +277,7 @@ def test_security_check(self, password='password'):\n             safe_url = '%(url)s?%(next)s=%(good_url)s' % {\n                 'url': login_url,\n                 'next': REDIRECT_FIELD_NAME,\n-                'good_url': urllib.quote(good_url),\n+                'good_url': urlquote(good_url),\n             }\n             response = self.client.post(safe_url, {\n                     'username': 'testclient',\n@@ -412,7 +412,7 @@ def test_security_check(self, password='password'):\n             nasty_url = '%(url)s?%(next)s=%(bad_url)s' % {\n                 'url': logout_url,\n                 'next': REDIRECT_FIELD_NAME,\n-                'bad_url': urllib.quote(bad_url),\n+                'bad_url': urlquote(bad_url),\n             }\n             self.login()\n             response = self.client.get(nasty_url)\n@@ -432,7 +432,7 @@ def test_security_check(self, password='password'):\n             safe_url = '%(url)s?%(next)s=%(good_url)s' % {\n                 'url': logout_url,\n                 'next': REDIRECT_FIELD_NAME,\n-                'good_url': urllib.quote(good_url),\n+                'good_url': urlquote(good_url),\n             }\n             self.login()\n             response = self.client.get(safe_url)"
        },
        {
            "sha": "ccfc7a1003cb32481d4b454b3440250e765d1b9f",
            "filename": "django/contrib/auth/views.py",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fauth%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fviews.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,4 +1,7 @@\n-import urlparse\n+try:\n+    from urllib.parse import urlparse, urlunparse\n+except ImportError:     # Python 2\n+    from urlparse import urlparse, urlunparse\n \n from django.conf import settings\n from django.core.urlresolvers import reverse\n@@ -34,7 +37,7 @@ def login(request, template_name='registration/login.html',\n     if request.method == \"POST\":\n         form = authentication_form(data=request.POST)\n         if form.is_valid():\n-            netloc = urlparse.urlparse(redirect_to)[1]\n+            netloc = urlparse(redirect_to)[1]\n \n             # Use default setting if redirect_to is empty\n             if not redirect_to:\n@@ -80,7 +83,7 @@ def logout(request, next_page=None,\n     auth_logout(request)\n     redirect_to = request.REQUEST.get(redirect_field_name, '')\n     if redirect_to:\n-        netloc = urlparse.urlparse(redirect_to)[1]\n+        netloc = urlparse(redirect_to)[1]\n         # Security check -- don't allow redirection to a different host.\n         if not (netloc and netloc != request.get_host()):\n             return HttpResponseRedirect(redirect_to)\n@@ -116,13 +119,13 @@ def redirect_to_login(next, login_url=None,\n     if not login_url:\n         login_url = settings.LOGIN_URL\n \n-    login_url_parts = list(urlparse.urlparse(login_url))\n+    login_url_parts = list(urlparse(login_url))\n     if redirect_field_name:\n         querystring = QueryDict(login_url_parts[4], mutable=True)\n         querystring[redirect_field_name] = next\n         login_url_parts[4] = querystring.urlencode(safe='/')\n \n-    return HttpResponseRedirect(urlparse.urlunparse(login_url_parts))\n+    return HttpResponseRedirect(urlunparse(login_url_parts))\n \n # 4 views for password reset:\n # - password_reset sends the mail"
        },
        {
            "sha": "abaed68560a50b70b6f6ff94b95029c0db87a8fb",
            "filename": "django/contrib/comments/views/utils.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fcomments%2Fviews%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fcomments%2Fviews%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fviews%2Futils.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -2,8 +2,12 @@\n A few bits of helper functions for comment views.\n \"\"\"\n \n-import urllib\n import textwrap\n+try:\n+    from urllib.parse import urlencode\n+except ImportError:     # Python 2\n+    from urllib import urlencode\n+\n from django.http import HttpResponseRedirect\n from django.core import urlresolvers\n from django.shortcuts import render_to_response\n@@ -33,7 +37,7 @@ def next_redirect(data, default, default_view, **get_kwargs):\n             anchor = ''\n \n         joiner = ('?' in next) and '&' or '?'\n-        next += joiner + urllib.urlencode(get_kwargs) + anchor\n+        next += joiner + urlencode(get_kwargs) + anchor\n     return HttpResponseRedirect(next)\n \n def confirmation_view(template, doc=\"Display a confirmation view.\"):"
        },
        {
            "sha": "cfd7e6ff32c3cd9f27209127872748cf106b101c",
            "filename": "django/contrib/contenttypes/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Ftests.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,14 +1,12 @@\n from __future__ import unicode_literals\n \n-import urllib\n-\n from django.db import models\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.contenttypes.views import shortcut\n from django.contrib.sites.models import Site\n from django.http import HttpRequest, Http404\n from django.test import TestCase\n-from django.utils.encoding import smart_str\n+from django.utils.http import urlquote\n from django.utils import six\n \n \n@@ -36,7 +34,7 @@ class FooWithUrl(FooWithoutUrl):\n     \"\"\"\n \n     def get_absolute_url(self):\n-        return \"/users/%s/\" % urllib.quote(smart_str(self.name))\n+        return \"/users/%s/\" % urlquote(self.name)\n \n class FooWithBrokenAbsoluteUrl(FooWithoutUrl):\n     \"\"\""
        },
        {
            "sha": "c016385ffbb46ea75e66a0733651cacd85d16360",
            "filename": "django/contrib/databrowse/plugins/fieldchoices.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -6,9 +6,10 @@\n from django.contrib.databrowse.sites import DatabrowsePlugin\n from django.shortcuts import render_to_response\n from django.utils.html import format_html, format_html_join\n+from django.utils.http import urlquote\n from django.utils.text import capfirst\n-from django.utils.encoding import smart_str, force_unicode\n-import urllib\n+from django.utils.encoding import force_unicode\n+\n \n class FieldChoicePlugin(DatabrowsePlugin):\n     def __init__(self, field_filter=None):\n@@ -38,11 +39,10 @@ def model_index_html(self, request, model, site):\n \n     def urls(self, plugin_name, easy_instance_field):\n         if easy_instance_field.field in self.field_dict(easy_instance_field.model.model).values():\n-            field_value = smart_str(easy_instance_field.raw_value)\n             return ['%s%s/%s/%s/' % (\n                 easy_instance_field.model.url(),\n                 plugin_name, easy_instance_field.field.name,\n-                urllib.quote(field_value, safe=''))]\n+                urlquote(easy_instance_field.raw_value, safe=''))]\n \n     def model_view(self, request, model_databrowse, url):\n         self.model, self.site = model_databrowse.model, model_databrowse.site"
        },
        {
            "sha": "e956f4ea6775b04d05ba53b6ac1c68271b22a5cc",
            "filename": "django/contrib/databrowse/plugins/objects.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fobjects.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fobjects.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fobjects.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,14 +1,18 @@\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n+\n from django import http\n from django.contrib.databrowse.datastructures import EasyModel\n from django.contrib.databrowse.sites import DatabrowsePlugin\n from django.shortcuts import render_to_response\n-import urlparse\n \n class ObjectDetailPlugin(DatabrowsePlugin):\n     def model_view(self, request, model_databrowse, url):\n         # If the object ID wasn't provided, redirect to the model page, which is one level up.\n         if url is None:\n-            return http.HttpResponseRedirect(urlparse.urljoin(request.path, '../'))\n+            return http.HttpResponseRedirect(urljoin(request.path, '../'))\n         easy_model = EasyModel(model_databrowse.site, model_databrowse.model)\n         obj = easy_model.object_by_pk(url)\n         return render_to_response('databrowse/object_detail.html', {'object': obj, 'root_url': model_databrowse.site.root_url})"
        },
        {
            "sha": "7d03ef19f51cf378e78cc6232c676f4726d25ad1",
            "filename": "django/contrib/sitemaps/__init__.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fsitemaps%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fsitemaps%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2F__init__.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,7 +1,11 @@\n from django.contrib.sites.models import Site\n from django.core import urlresolvers, paginator\n from django.core.exceptions import ImproperlyConfigured\n-import urllib\n+try:\n+    from urllib.parse import urlencode\n+    from urllib.request import urlopen\n+except ImportError:     # Python 2\n+    from urllib import urlencode, urlopen\n \n PING_URL = \"http://www.google.com/webmasters/tools/ping\"\n \n@@ -32,8 +36,8 @@ def ping_google(sitemap_url=None, ping_url=PING_URL):\n     from django.contrib.sites.models import Site\n     current_site = Site.objects.get_current()\n     url = \"http://%s%s\" % (current_site.domain, sitemap_url)\n-    params = urllib.urlencode({'sitemap':url})\n-    urllib.urlopen(\"%s?%s\" % (ping_url, params))\n+    params = urlencode({'sitemap':url})\n+    urlopen(\"%s?%s\" % (ping_url, params))\n \n class Sitemap(object):\n     # This limit is defined by Google. See the index documentation at"
        },
        {
            "sha": "9067a0e75e1ea05cf26d5aab5e0baf12da3cfd5d",
            "filename": "django/contrib/staticfiles/handlers.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fhandlers.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,5 +1,9 @@\n-import urllib\n-from urlparse import urlparse\n+try:\n+    from urllib.parse import urlparse\n+    from urllib.request import url2pathname\n+except ImportError:     # Python 2\n+    from urllib import url2pathname\n+    from urlparse import urlparse\n \n from django.conf import settings\n from django.core.handlers.wsgi import WSGIHandler\n@@ -42,7 +46,7 @@ def file_path(self, url):\n         Returns the relative path to the media file on disk for the given URL.\n         \"\"\"\n         relative_url = url[len(self.base_url[2]):]\n-        return urllib.url2pathname(relative_url)\n+        return url2pathname(relative_url)\n \n     def serve(self, request):\n         \"\"\""
        },
        {
            "sha": "a0133e1c6a8db7e23293b1cb490b3677d0c9d96f",
            "filename": "django/contrib/staticfiles/storage.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fstorage.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -3,8 +3,11 @@\n import os\n import posixpath\n import re\n-from urllib import unquote\n-from urlparse import urlsplit, urlunsplit, urldefrag\n+try:\n+    from urllib.parse import unquote, urlsplit, urlunsplit, urldefrag\n+except ImportError:     # Python 2\n+    from urllib import unquote\n+    from urlparse import urlsplit, urlunsplit, urldefrag\n \n from django.conf import settings\n from django.core.cache import (get_cache, InvalidCacheBackendError,"
        },
        {
            "sha": "85459812ad488e8f63759d8db11c0a05c9e9a7a1",
            "filename": "django/contrib/staticfiles/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcontrib%2Fstaticfiles%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Fviews.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -5,7 +5,10 @@\n \"\"\"\n import os\n import posixpath\n-import urllib\n+try:\n+    from urllib.parse import unquote\n+except ImportError:     # Python 2\n+    from urllib import unquote\n \n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured\n@@ -31,7 +34,7 @@ def serve(request, path, document_root=None, insecure=False, **kwargs):\n         raise ImproperlyConfigured(\"The staticfiles view can only be used in \"\n                                    \"debug mode or if the the --insecure \"\n                                    \"option of 'runserver' is used\")\n-    normalized_path = posixpath.normpath(urllib.unquote(path)).lstrip('/')\n+    normalized_path = posixpath.normpath(unquote(path)).lstrip('/')\n     absolute_path = finders.find(normalized_path)\n     if not absolute_path:\n         if path.endswith('/') or path == '':"
        },
        {
            "sha": "f496c35e2bfafdaf73349580f3ae0a75b47900a9",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -14,7 +14,10 @@\n \n See docs/topics/cache.txt for information on the public API.\n \"\"\"\n-from urlparse import parse_qsl\n+try:\n+    from urllib.parse import parse_qsl\n+except ImportError:     # Python 2\n+    from urlparse import parse_qsl\n \n from django.conf import settings\n from django.core import signals"
        },
        {
            "sha": "51799805131c6f44094fd49a9d96c8f27e3b5877",
            "filename": "django/core/files/storage.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Ffiles%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Ffiles%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fstorage.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,6 +1,9 @@\n import os\n import errno\n-import urlparse\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n import itertools\n from datetime import datetime\n \n@@ -252,7 +255,7 @@ def size(self, name):\n     def url(self, name):\n         if self.base_url is None:\n             raise ValueError(\"This file is not accessible via a URL.\")\n-        return urlparse.urljoin(self.base_url, filepath_to_uri(name))\n+        return urljoin(self.base_url, filepath_to_uri(name))\n \n     def accessed_time(self, name):\n         return datetime.fromtimestamp(os.path.getatime(self.path(name)))"
        },
        {
            "sha": "2bf2f661fd1ce0e1fe3840b172c51fa49a85c185",
            "filename": "django/core/management/templates.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Ftemplates.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -8,7 +8,10 @@\n import stat\n import sys\n import tempfile\n-import urllib\n+try:\n+    from urllib.request import urlretrieve\n+except ImportError:     # Python 2\n+    from urllib import urlretrieve\n \n from optparse import make_option\n from os import path\n@@ -227,8 +230,7 @@ def cleanup_url(url):\n         if self.verbosity >= 2:\n             self.stdout.write(\"Downloading %s\\n\" % display_url)\n         try:\n-            the_path, info = urllib.urlretrieve(url,\n-                                                path.join(tempdir, filename))\n+            the_path, info = urlretrieve(url, path.join(tempdir, filename))\n         except IOError as e:\n             raise CommandError(\"couldn't download URL %s to %s: %s\" %\n                                (url, filename, e))"
        },
        {
            "sha": "f67b105397d0b5ff2174aa4888651360578e35f6",
            "filename": "django/core/servers/basehttp.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fservers%2Fbasehttp.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fservers%2Fbasehttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Fbasehttp.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -11,8 +11,11 @@\n import socket\n import sys\n import traceback\n-import urllib\n-import urlparse\n+try:\n+    from urllib.parse import unquote, urljoin\n+except ImportError:     # Python 2\n+    from urllib import unquote\n+    from urlparse import urljoin\n from SocketServer import ThreadingMixIn\n from wsgiref import simple_server\n from wsgiref.util import FileWrapper   # for backwards compatibility\n@@ -127,7 +130,7 @@ class WSGIRequestHandler(simple_server.WSGIRequestHandler, object):\n \n     def __init__(self, *args, **kwargs):\n         from django.conf import settings\n-        self.admin_static_prefix = urlparse.urljoin(settings.STATIC_URL, 'admin/')\n+        self.admin_static_prefix = urljoin(settings.STATIC_URL, 'admin/')\n         # We set self.path to avoid crashes in log_message() on unsupported\n         # requests (like \"OPTIONS\").\n         self.path = ''\n@@ -143,7 +146,7 @@ def get_environ(self):\n         else:\n             path,query = self.path,''\n \n-        env['PATH_INFO'] = urllib.unquote(path)\n+        env['PATH_INFO'] = unquote(path)\n         env['QUERY_STRING'] = query\n         env['REMOTE_ADDR'] = self.client_address[0]\n         env['CONTENT_TYPE'] = self.headers.get('content-type', 'text/plain')"
        },
        {
            "sha": "03ff8be3bca906ea94c2b1f7c48fce31a40bf099",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,7 +1,10 @@\n from __future__ import unicode_literals\n \n import re\n-import urlparse\n+try:\n+    from urllib.parse import urlsplit, urlunsplit\n+except ImportError:     # Python 2\n+    from urlparse import urlsplit, urlunsplit\n \n from django.core.exceptions import ValidationError\n from django.utils.translation import ugettext_lazy as _\n@@ -52,12 +55,12 @@ def __call__(self, value):\n             # Trivial case failed. Try for possible IDN domain\n             if value:\n                 value = smart_unicode(value)\n-                scheme, netloc, path, query, fragment = urlparse.urlsplit(value)\n+                scheme, netloc, path, query, fragment = urlsplit(value)\n                 try:\n                     netloc = netloc.encode('idna') # IDN -> ACE\n                 except UnicodeError: # invalid domain part\n                     raise e\n-                url = urlparse.urlunsplit((scheme, netloc, path, query, fragment))\n+                url = urlunsplit((scheme, netloc, path, query, fragment))\n                 super(URLValidator, self).__call__(url)\n             else:\n                 raise"
        },
        {
            "sha": "c4a675da747f7a322423860900a1289aa9838926",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -8,7 +8,10 @@\n import datetime\n import os\n import re\n-import urlparse\n+try:\n+    from urllib.parse import urlsplit, urlunsplit\n+except ImportError:     # Python 2\n+    from urlparse import urlsplit, urlunsplit\n from decimal import Decimal, DecimalException\n from io import BytesIO\n \n@@ -599,7 +602,7 @@ def split_url(url):\n             ``ValidationError`` exception for certain).\n             \"\"\"\n             try:\n-                return list(urlparse.urlsplit(url))\n+                return list(urlsplit(url))\n             except ValueError:\n                 # urlparse.urlsplit can raise a ValueError with some\n                 # misformatted URLs.\n@@ -618,11 +621,11 @@ def split_url(url):\n                 url_fields[2] = ''\n                 # Rebuild the url_fields list, since the domain segment may now\n                 # contain the path too.\n-                url_fields = split_url(urlparse.urlunsplit(url_fields))\n+                url_fields = split_url(urlunsplit(url_fields))\n             if not url_fields[2]:\n                 # the path portion may need to be added before query params\n                 url_fields[2] = '/'\n-            value = urlparse.urlunsplit(url_fields)\n+            value = urlunsplit(url_fields)\n         return value\n \n class BooleanField(Field):"
        },
        {
            "sha": "6b1be37ec27f5cc43c08109249267c3968cf076c",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -7,7 +7,10 @@\n import copy\n import datetime\n from itertools import chain\n-from urlparse import urljoin\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n \n from django.conf import settings\n from django.forms.util import flatatt, to_current_timezone"
        },
        {
            "sha": "da97506c8c3cb6caeabf2071cad245ebebbe01a9",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -10,8 +10,11 @@\n \n from io import BytesIO\n from pprint import pformat\n-from urllib import urlencode, quote\n-from urlparse import urljoin, parse_qsl\n+try:\n+    from urllib.parse import quote, parse_qsl, urlencode, urljoin\n+except ImportError:     # Python 2\n+    from urllib import quote, urlencode\n+    from urlparse import parse_qsl, urljoin\n \n import Cookie\n # Some versions of Python 2.7 and later won't need this encoding bug fix:"
        },
        {
            "sha": "5b0e40eba6c591cd322d534b4e4748a4a2199ef2",
            "filename": "django/templatetags/static.py",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftemplatetags%2Fstatic.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftemplatetags%2Fstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Fstatic.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,4 +1,8 @@\n-from urlparse import urljoin\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n+\n from django import template\n from django.template.base import Node\n from django.utils.encoding import iri_to_uri"
        },
        {
            "sha": "a18b7f8853073af22ae1ebc5c50896bb8512a3d9",
            "filename": "django/test/client.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftest%2Fclient.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftest%2Fclient.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fclient.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,11 +1,14 @@\n-import urllib\n import sys\n import os\n import re\n import mimetypes\n from copy import copy\n from io import BytesIO\n-from urlparse import urlparse, urlsplit\n+try:\n+    from urllib.parse import unquote, urlparse, urlsplit\n+except ImportError:     # Python 2\n+    from urllib import unquote\n+    from urlparse import urlparse, urlsplit\n \n from django.conf import settings\n from django.contrib.auth import authenticate, login\n@@ -222,9 +225,9 @@ def _encode_data(self, data, content_type, ):\n     def _get_path(self, parsed):\n         # If there are parameters, add them\n         if parsed[3]:\n-            return urllib.unquote(parsed[2] + \";\" + parsed[3])\n+            return unquote(parsed[2] + \";\" + parsed[3])\n         else:\n-            return urllib.unquote(parsed[2])\n+            return unquote(parsed[2])\n \n     def get(self, path, data={}, **extra):\n         \"Construct a GET request.\""
        },
        {
            "sha": "b9aae21e8e09416caf27c9e161fcafa22def5e94",
            "filename": "django/test/testcases.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftest%2Ftestcases.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Ftest%2Ftestcases.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Ftestcases.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -7,7 +7,10 @@\n import sys\n from copy import copy\n from functools import wraps\n-from urlparse import urlsplit, urlunsplit\n+try:\n+    from urllib.parse import urlsplit, urlunsplit\n+except ImportError:     # Python 2\n+    from urlparse import urlsplit, urlunsplit\n from xml.dom.minidom import parseString, Node\n import select\n import socket"
        },
        {
            "sha": "f2295444bf5ee272ec08979d16bb7c8d0c45eed2",
            "filename": "django/utils/encoding.py",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fencoding.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fencoding.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fencoding.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,10 +1,13 @@\n from __future__ import unicode_literals\n \n-import urllib\n-import locale\n-import datetime\n import codecs\n+import datetime\n from decimal import Decimal\n+import locale\n+try:\n+    from urllib.parse import quote\n+except ImportError:     # Python 2\n+    from urllib import quote\n \n from django.utils.functional import Promise\n from django.utils import six\n@@ -165,7 +168,7 @@ def iri_to_uri(iri):\n     # converted.\n     if iri is None:\n         return iri\n-    return urllib.quote(smart_str(iri), safe=b\"/#%[]=:;$&()+,!?*@'~\")\n+    return quote(smart_str(iri), safe=b\"/#%[]=:;$&()+,!?*@'~\")\n \n def filepath_to_uri(path):\n     \"\"\"Convert an file system path to a URI portion that is suitable for\n@@ -184,7 +187,7 @@ def filepath_to_uri(path):\n         return path\n     # I know about `os.sep` and `os.altsep` but I want to leave\n     # some flexibility for hardcoding separators.\n-    return urllib.quote(smart_str(path).replace(\"\\\\\", \"/\"), safe=b\"/~!*()'\")\n+    return quote(smart_str(path).replace(\"\\\\\", \"/\"), safe=b\"/~!*()'\")\n \n # The encoding of the default system locale but falls back to the\n # given fallback encoding if the encoding is unsupported by python or could"
        },
        {
            "sha": "6498aaf57ceeaf037724250edd4cdebffbca09e5",
            "filename": "django/utils/feedgenerator.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffeedgenerator.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -24,7 +24,10 @@\n from __future__ import unicode_literals\n \n import datetime\n-import urlparse\n+try:\n+    from urllib.parse import urlparse\n+except ImportError:     # Python 2\n+    from urlparse import urlparse\n from django.utils.xmlutils import SimplerXMLGenerator\n from django.utils.encoding import force_unicode, iri_to_uri\n from django.utils import datetime_safe\n@@ -67,7 +70,7 @@ def get_tag_uri(url, date):\n \n     See http://web.archive.org/web/20110514113830/http://diveintomark.org/archives/2004/05/28/howto-atom-id\n     \"\"\"\n-    bits = urlparse.urlparse(url)\n+    bits = urlparse(url)\n     d = ''\n     if date is not None:\n         d = ',%s' % datetime_safe.new_datetime(date).strftime('%Y-%m-%d')"
        },
        {
            "sha": "7e35fdecb80762441c141d4a9d86d492ebb5ffa1",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 8,
            "deletions": 5,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -4,8 +4,11 @@\n \n import re\n import string\n-import urllib\n-import urlparse\n+try:\n+    from urllib.parse import quote, urlsplit, urlunsplit\n+except ImportError:     # Python 2\n+    from urllib import quote\n+    from urlparse import urlsplit, urlunsplit\n \n from django.utils.safestring import SafeData, mark_safe\n from django.utils.encoding import smart_str, force_unicode\n@@ -138,19 +141,19 @@ def fix_ampersands(value):\n def smart_urlquote(url):\n     \"Quotes a URL if it isn't already quoted.\"\n     # Handle IDN before quoting.\n-    scheme, netloc, path, query, fragment = urlparse.urlsplit(url)\n+    scheme, netloc, path, query, fragment = urlsplit(url)\n     try:\n         netloc = netloc.encode('idna') # IDN -> ACE\n     except UnicodeError: # invalid domain part\n         pass\n     else:\n-        url = urlparse.urlunsplit((scheme, netloc, path, query, fragment))\n+        url = urlunsplit((scheme, netloc, path, query, fragment))\n \n     # An URL is considered unquoted if it contains no % characters or\n     # contains a % not followed by two hexadecimal digits. See #9655.\n     if '%' not in url or unquoted_percents_re.search(url):\n         # See http://bugs.python.org/issue2637\n-        url = urllib.quote(smart_str(url), safe=b'!*\\'();:@&=+$,/?#[]~')\n+        url = quote(smart_str(url), safe=b'!*\\'();:@&=+$,/?#[]~')\n \n     return force_unicode(url)\n "
        },
        {
            "sha": "f3a3dce58ca585e21da41366423d1f1f2f330902",
            "filename": "django/utils/http.py",
            "status": "modified",
            "additions": 14,
            "deletions": 8,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhttp.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -2,8 +2,14 @@\n import datetime\n import re\n import sys\n-import urllib\n-import urlparse\n+try:\n+    from urllib import parse as urllib_parse\n+except ImportError:     # Python 2\n+    import urllib as urllib_parse\n+    import urlparse\n+    urllib_parse.urlparse = urlparse.urlparse\n+\n+\n from email.utils import formatdate\n \n from django.utils.datastructures import MultiValueDict\n@@ -31,7 +37,7 @@ def urlquote(url, safe='/'):\n     can safely be used as part of an argument to a subsequent iri_to_uri() call\n     without double-quoting occurring.\n     \"\"\"\n-    return force_unicode(urllib.quote(smart_str(url), smart_str(safe)))\n+    return force_unicode(urllib_parse.quote(smart_str(url), smart_str(safe)))\n urlquote = allow_lazy(urlquote, six.text_type)\n \n def urlquote_plus(url, safe=''):\n@@ -41,23 +47,23 @@ def urlquote_plus(url, safe=''):\n     returned string can safely be used as part of an argument to a subsequent\n     iri_to_uri() call without double-quoting occurring.\n     \"\"\"\n-    return force_unicode(urllib.quote_plus(smart_str(url), smart_str(safe)))\n+    return force_unicode(urllib_parse.quote_plus(smart_str(url), smart_str(safe)))\n urlquote_plus = allow_lazy(urlquote_plus, six.text_type)\n \n def urlunquote(quoted_url):\n     \"\"\"\n     A wrapper for Python's urllib.unquote() function that can operate on\n     the result of django.utils.http.urlquote().\n     \"\"\"\n-    return force_unicode(urllib.unquote(smart_str(quoted_url)))\n+    return force_unicode(urllib_parse.unquote(smart_str(quoted_url)))\n urlunquote = allow_lazy(urlunquote, six.text_type)\n \n def urlunquote_plus(quoted_url):\n     \"\"\"\n     A wrapper for Python's urllib.unquote_plus() function that can operate on\n     the result of django.utils.http.urlquote_plus().\n     \"\"\"\n-    return force_unicode(urllib.unquote_plus(smart_str(quoted_url)))\n+    return force_unicode(urllib_parse.unquote_plus(smart_str(quoted_url)))\n urlunquote_plus = allow_lazy(urlunquote_plus, six.text_type)\n \n def urlencode(query, doseq=0):\n@@ -70,7 +76,7 @@ def urlencode(query, doseq=0):\n         query = query.lists()\n     elif hasattr(query, 'items'):\n         query = query.items()\n-    return urllib.urlencode(\n+    return urllib_parse.urlencode(\n         [(smart_str(k),\n          [smart_str(i) for i in v] if isinstance(v, (list,tuple)) else smart_str(v))\n             for k, v in query],\n@@ -212,5 +218,5 @@ def same_origin(url1, url2):\n     \"\"\"\n     Checks if two URLs are 'same-origin'\n     \"\"\"\n-    p1, p2 = urlparse.urlparse(url1), urlparse.urlparse(url2)\n+    p1, p2 = urllib_parse.urlparse(url1), urllib_parse.urlparse(url2)\n     return (p1.scheme, p1.hostname, p1.port) == (p2.scheme, p2.hostname, p2.port)"
        },
        {
            "sha": "bcac9475e2530e1ada51fcad9a38df39a15687d7",
            "filename": "django/views/static.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fviews%2Fstatic.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/django%2Fviews%2Fstatic.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fstatic.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -9,7 +9,10 @@\n import stat\n import posixpath\n import re\n-import urllib\n+try:\n+    from urllib.parse import unquote\n+except ImportError:     # Python 2\n+    from urllib import unquote\n \n from django.http import Http404, HttpResponse, HttpResponseRedirect, HttpResponseNotModified\n from django.template import loader, Template, Context, TemplateDoesNotExist\n@@ -30,7 +33,7 @@ def serve(request, path, document_root=None, show_indexes=False):\n     but if you'd like to override it, you can create a template called\n     ``static/directory_index.html``.\n     \"\"\"\n-    path = posixpath.normpath(urllib.unquote(path))\n+    path = posixpath.normpath(unquote(path))\n     path = path.lstrip('/')\n     newpath = ''\n     for part in path.split('/'):"
        },
        {
            "sha": "477a27b178819bc47fd31e76a04df00e85ff7150",
            "filename": "tests/modeltests/test_client/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fmodeltests%2Ftest_client%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fmodeltests%2Ftest_client%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftest_client%2Fviews.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -1,3 +1,7 @@\n+try:\n+    from urllib.parse import urlencode\n+except ImportError:     # Python 2\n+    from urllib import urlencode\n from xml.dom.minidom import parseString\n \n from django.contrib.auth.decorators import login_required, permission_required\n@@ -9,7 +13,6 @@\n from django.template import Context, Template\n from django.utils.decorators import method_decorator\n \n-\n def get_view(request):\n     \"A simple view that expects a GET request, and returns a rendered template\"\n     t = Template('This is a test. {{ var }} is the value.', name='GET Template')\n@@ -58,7 +61,6 @@ def raw_post_view(request):\n def redirect_view(request):\n     \"A view that redirects all requests to the GET view\"\n     if request.GET:\n-        from urllib import urlencode\n         query = '?' + urlencode(request.GET, True)\n     else:\n         query = ''"
        },
        {
            "sha": "09be55baba18d3ca84728497e11022ecc109eedd",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -4,7 +4,10 @@\n import os\n import re\n import datetime\n-import urlparse\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n \n from django.conf import settings, global_settings\n from django.core import mail\n@@ -3199,7 +3202,7 @@ def test_limit_choices_to(self):\n         popup_url = m.groups()[0].replace(\"&amp;\", \"&\")\n \n         # Handle relative links\n-        popup_url = urlparse.urljoin(response.request['PATH_INFO'], popup_url)\n+        popup_url = urljoin(response.request['PATH_INFO'], popup_url)\n         # Get the popup\n         response2 = self.client.get(popup_url)\n         self.assertContains(response2, \"Spain\")"
        },
        {
            "sha": "b98b4b73c21b7737a9ebefcc4b94dd8293e15a2f",
            "filename": "tests/regressiontests/servers/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Fservers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Fservers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fservers%2Ftests.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -2,7 +2,10 @@\n Tests for django.core.servers.\n \"\"\"\n import os\n-import urllib2\n+try:\n+    from urllib.request import urlopen, HTTPError\n+except ImportError:     # Python 2\n+    from urllib2 import urlopen, HTTPError\n \n from django.core.exceptions import ImproperlyConfigured\n from django.test import LiveServerTestCase\n@@ -39,7 +42,7 @@ def tearDownClass(cls):\n         super(LiveServerBase, cls).tearDownClass()\n \n     def urlopen(self, url):\n-        return urllib2.urlopen(self.live_server_url + url)\n+        return urlopen(self.live_server_url + url)\n \n \n class LiveServerAddress(LiveServerBase):\n@@ -102,7 +105,7 @@ def test_404(self):\n         \"\"\"\n         try:\n             self.urlopen('/')\n-        except urllib2.HTTPError as err:\n+        except HTTPError as err:\n             self.assertEqual(err.code, 404, 'Expected 404 response')\n         else:\n             self.fail('Expected 404 response')"
        },
        {
            "sha": "402cbb19d21fdec9bcd30735cf5ab289484d4ed5",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0d914d08a0d7b5a1521f498a8047971fe6cd61e7/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=0d914d08a0d7b5a1521f498a8047971fe6cd61e7",
            "patch": "@@ -13,7 +13,10 @@\n import os\n import sys\n import traceback\n-from urlparse import urljoin\n+try:\n+    from urllib.parse import urljoin\n+except ImportError:     # Python 2\n+    from urlparse import urljoin\n \n from django import template\n from django.template import base as template_base, RequestContext, Template, Context"
        }
    ],
    "stats": {
        "total": 277,
        "additions": 181,
        "deletions": 96
    }
}