{
    "author": "claudep",
    "message": "Used the decorator syntax for properties in django.http",
    "sha": "e2b4eddc11b391bc0047032776e9ca7c2f9328b3",
    "files": [
        {
            "sha": "701e76f7fac9113874b7b5c3f67b1a826d2776bb",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 22,
            "deletions": 22,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/e2b4eddc11b391bc0047032776e9ca7c2f9328b3/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/e2b4eddc11b391bc0047032776e9ca7c2f9328b3/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=e2b4eddc11b391bc0047032776e9ca7c2f9328b3",
            "patch": "@@ -243,7 +243,12 @@ def is_secure(self):\n     def is_ajax(self):\n         return self.META.get('HTTP_X_REQUESTED_WITH') == 'XMLHttpRequest'\n \n-    def _set_encoding(self, val):\n+    @property\n+    def encoding(self):\n+        return self._encoding\n+\n+    @encoding.setter\n+    def encoding(self, val):\n         \"\"\"\n         Sets the encoding used for GET/POST accesses. If the GET or POST\n         dictionary has already been created, it is removed and recreated on the\n@@ -255,27 +260,22 @@ def _set_encoding(self, val):\n         if hasattr(self, '_post'):\n             del self._post\n \n-    def _get_encoding(self):\n-        return self._encoding\n-\n-    encoding = property(_get_encoding, _set_encoding)\n-\n     def _initialize_handlers(self):\n         self._upload_handlers = [uploadhandler.load_handler(handler, self)\n                                  for handler in settings.FILE_UPLOAD_HANDLERS]\n \n-    def _set_upload_handlers(self, upload_handlers):\n-        if hasattr(self, '_files'):\n-            raise AttributeError(\"You cannot set the upload handlers after the upload has been processed.\")\n-        self._upload_handlers = upload_handlers\n-\n-    def _get_upload_handlers(self):\n+    @property\n+    def upload_handlers(self):\n         if not self._upload_handlers:\n             # If there are no upload handlers defined, initialize them from settings.\n             self._initialize_handlers()\n         return self._upload_handlers\n \n-    upload_handlers = property(_get_upload_handlers, _set_upload_handlers)\n+    @upload_handlers.setter\n+    def upload_handlers(self, upload_handlers):\n+        if hasattr(self, '_files'):\n+            raise AttributeError(\"You cannot set the upload handlers after the upload has been processed.\")\n+        self._upload_handlers = upload_handlers\n \n     def parse_file_upload(self, META, post_data):\n         \"\"\"Returns a tuple of (POST QueryDict, FILES MultiValueDict).\"\"\"\n@@ -397,16 +397,16 @@ def __init__(self, query_string, mutable=False, encoding=None):\n                                 force_text(value, encoding, errors='replace'))\n         self._mutable = mutable\n \n-    def _get_encoding(self):\n+    @property\n+    def encoding(self):\n         if self._encoding is None:\n             self._encoding = settings.DEFAULT_CHARSET\n         return self._encoding\n \n-    def _set_encoding(self, value):\n+    @encoding.setter\n+    def encoding(self, value):\n         self._encoding = value\n \n-    encoding = property(_get_encoding, _set_encoding)\n-\n     def _assert_mutable(self):\n         if not self._mutable:\n             raise AttributeError(\"This QueryDict instance is immutable\")\n@@ -539,7 +539,7 @@ def __init__(self, content='', content_type=None, status=None,\n         if not content_type:\n             content_type = \"%s; charset=%s\" % (settings.DEFAULT_CONTENT_TYPE,\n                     self._charset)\n-        # content is a bytestring. See _get_content / _set_content.\n+        # content is a bytestring. See the content property methods.\n         self.content = content\n         self.cookies = SimpleCookie()\n         if status:\n@@ -669,7 +669,8 @@ def delete_cookie(self, key, path='/', domain=None):\n         self.set_cookie(key, max_age=0, path=path, domain=domain,\n                         expires='Thu, 01-Jan-1970 00:00:00 GMT')\n \n-    def _get_content(self):\n+    @property\n+    def content(self):\n         if self.has_header('Content-Encoding'):\n             def make_bytes(value):\n                 if isinstance(value, int):\n@@ -681,16 +682,15 @@ def make_bytes(value):\n             return b''.join(make_bytes(e) for e in self._container)\n         return b''.join(smart_bytes(e, self._charset) for e in self._container)\n \n-    def _set_content(self, value):\n+    @content.setter\n+    def content(self, value):\n         if hasattr(value, '__iter__') and not isinstance(value, (bytes, six.string_types)):\n             self._container = value\n             self._base_content_is_iter = True\n         else:\n             self._container = [value]\n             self._base_content_is_iter = False\n \n-    content = property(_get_content, _set_content)\n-\n     def __iter__(self):\n         self._iterator = iter(self._container)\n         return self"
        },
        {
            "sha": "2cb44d127d25b9a59a9058bd0d5f70c47f769c2e",
            "filename": "django/template/response.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/e2b4eddc11b391bc0047032776e9ca7c2f9328b3/django%2Ftemplate%2Fresponse.py",
            "raw_url": "https://github.com/django/django/raw/e2b4eddc11b391bc0047032776e9ca7c2f9328b3/django%2Ftemplate%2Fresponse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fresponse.py?ref=e2b4eddc11b391bc0047032776e9ca7c2f9328b3",
            "patch": "@@ -102,7 +102,7 @@ def render(self):\n         \"\"\"\n         retval = self\n         if not self._is_rendered:\n-            self._set_content(self.rendered_content)\n+            self.content = self.rendered_content\n             for post_callback in self._post_render_callbacks:\n                 newretval = post_callback(retval)\n                 if newretval is not None:\n@@ -119,20 +119,20 @@ def __iter__(self):\n                                           'rendered before it can be iterated over.')\n         return super(SimpleTemplateResponse, self).__iter__()\n \n-    def _get_content(self):\n+    @property\n+    def content(self):\n         if not self._is_rendered:\n             raise ContentNotRenderedError('The response content must be '\n                                           'rendered before it can be accessed.')\n-        return super(SimpleTemplateResponse, self)._get_content()\n+        return super(SimpleTemplateResponse, self).content\n \n-    def _set_content(self, value):\n+    @content.setter\n+    def content(self, value):\n         \"\"\"Sets the content for the response\n         \"\"\"\n-        super(SimpleTemplateResponse, self)._set_content(value)\n+        HttpResponse.content.fset(self, value)\n         self._is_rendered = True\n \n-    content = property(_get_content, _set_content)\n-\n \n class TemplateResponse(SimpleTemplateResponse):\n     rendering_attrs = SimpleTemplateResponse.rendering_attrs + \\"
        }
    ],
    "stats": {
        "total": 58,
        "additions": 29,
        "deletions": 29
    }
}