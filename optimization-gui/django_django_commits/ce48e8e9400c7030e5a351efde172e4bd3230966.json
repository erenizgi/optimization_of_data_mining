{
    "author": "carljm",
    "message": "Fixed #16848 - Adjusted SimpleTemplateResponse.__init__ to be less brittle.\n\nCould have reverted r16830 instead, but HttpResponse shouldn't have to dance\naround and do non-obvious things to keep TemplateResponse happy,\nTemplateResponse should be robust against the possibility that\nHttpResponse.__init__ might set self.content.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16831 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "ce48e8e9400c7030e5a351efde172e4bd3230966",
    "files": [
        {
            "sha": "990a17b6bfa6e9b0629916e418d1b250b923b1a4",
            "filename": "django/template/response.py",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/ce48e8e9400c7030e5a351efde172e4bd3230966/django%2Ftemplate%2Fresponse.py",
            "raw_url": "https://github.com/django/django/raw/ce48e8e9400c7030e5a351efde172e4bd3230966/django%2Ftemplate%2Fresponse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fresponse.py?ref=ce48e8e9400c7030e5a351efde172e4bd3230966",
            "patch": "@@ -21,10 +21,6 @@ def __init__(self, template, context=None, mimetype=None, status=None,\n         self.template_name = template\n         self.context_data = context\n \n-        # _is_rendered tracks whether the template and context has been\n-        # baked into a final response.\n-        self._is_rendered = False\n-\n         self._post_render_callbacks = []\n \n         # content argument doesn't make sense here because it will be replaced\n@@ -33,6 +29,14 @@ def __init__(self, template, context=None, mimetype=None, status=None,\n         super(SimpleTemplateResponse, self).__init__('', mimetype, status,\n                                                      content_type)\n \n+        # _is_rendered tracks whether the template and context has been baked\n+        # into a final response.\n+        # Super __init__ doesn't know any better than to set self.content to\n+        # the empty string we just gave it, which wrongly sets _is_rendered\n+        # True, so we initialize it to False after the call to super __init__.\n+        self._is_rendered = False\n+\n+\n     def __getstate__(self):\n         \"\"\"Pickling support function.\n "
        }
    ],
    "stats": {
        "total": 12,
        "additions": 8,
        "deletions": 4
    }
}