{
    "author": "akaariai",
    "message": "Added a test for negated Q object querying\n\nThe added test is from the patch in ticket #19672 (written by Ian\nKelly). Fixed #19672, refs #19849.",
    "sha": "e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a",
    "files": [
        {
            "sha": "28c858557b47a02f24222a6e5a7af0f99ad40cfd",
            "filename": "tests/regressiontests/queries/models.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a/tests%2Fregressiontests%2Fqueries%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a/tests%2Fregressiontests%2Fqueries%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fqueries%2Fmodels.py?ref=e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a",
            "patch": "@@ -64,6 +64,7 @@ def __str__(self):\n class ExtraInfo(models.Model):\n     info = models.CharField(max_length=100)\n     note = models.ForeignKey(Note)\n+    value = models.IntegerField(null=True)\n \n     class Meta:\n         ordering = ['info']"
        },
        {
            "sha": "82a8de08beb5899e7ec46c796359c7f84aac1803",
            "filename": "tests/regressiontests/queries/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a/tests%2Fregressiontests%2Fqueries%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a/tests%2Fregressiontests%2Fqueries%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fqueries%2Ftests.py?ref=e8fc3f3783744e4fcd3ff0ac43e3ce2572292f3a",
            "patch": "@@ -52,8 +52,8 @@ def setUp(self):\n \n         # Create these out of order so that sorting by 'id' will be different to sorting\n         # by 'info'. Helps detect some problems later.\n-        self.e2 = ExtraInfo.objects.create(info='e2', note=n2)\n-        e1 = ExtraInfo.objects.create(info='e1', note=self.n1)\n+        self.e2 = ExtraInfo.objects.create(info='e2', note=n2, value=41)\n+        e1 = ExtraInfo.objects.create(info='e1', note=self.n1, value=42)\n \n         self.a1 = Author.objects.create(name='a1', num=1001, extra=e1)\n         self.a2 = Author.objects.create(name='a2', num=2002, extra=e1)\n@@ -1106,6 +1106,13 @@ def test_ticket_10790_combine(self):\n         self.assertTrue(str(q3.query).count('LEFT OUTER JOIN') == 1)\n         self.assertTrue(str(q3.query).count('INNER JOIN') == 0)\n \n+    def test_ticket19672(self):\n+        self.assertQuerysetEqual(\n+            Report.objects.filter(Q(creator__isnull=False) &\n+                                  ~Q(creator__extra__value=41)),\n+            ['<Report: r1>']\n+        )\n+\n \n class Queries2Tests(TestCase):\n     def setUp(self):"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 10,
        "deletions": 2
    }
}