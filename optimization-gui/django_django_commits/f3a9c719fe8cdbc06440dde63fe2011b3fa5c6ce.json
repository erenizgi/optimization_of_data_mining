{
    "author": "jezdez",
    "message": "Added check to the staticfiles app to make sure the STATIC_ROOT setting isn't accidentally added to the STATICFILES_DIRS setting. Thanks for the suggestion, SmileyChris and harijay.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15376 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f3a9c719fe8cdbc06440dde63fe2011b3fa5c6ce",
    "files": [
        {
            "sha": "217bc7a7067a63b3e8dcaddcbfa0daf917587ed7",
            "filename": "django/contrib/staticfiles/utils.py",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/f3a9c719fe8cdbc06440dde63fe2011b3fa5c6ce/django%2Fcontrib%2Fstaticfiles%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/f3a9c719fe8cdbc06440dde63fe2011b3fa5c6ce/django%2Fcontrib%2Fstaticfiles%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Futils.py?ref=f3a9c719fe8cdbc06440dde63fe2011b3fa5c6ce",
            "patch": "@@ -45,3 +45,10 @@ def check_settings():\n             (settings.MEDIA_ROOT == settings.STATIC_ROOT)):\n         raise ImproperlyConfigured(\"The MEDIA_ROOT and STATIC_ROOT \"\n                                    \"settings must have different values\")\n+    for path in settings.STATICFILES_DIRS:\n+        # in case the item contains a prefix\n+        if isinstance(path, (list, tuple)):\n+            path = path[1]\n+        if os.path.abspath(settings.STATIC_ROOT) == os.path.abspath(path):\n+            raise ImproperlyConfigured(\"The STATICFILES_DIRS setting should \"\n+                                       \"not contain the STATIC_ROOT setting\")"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 7,
        "deletions": 0
    }
}