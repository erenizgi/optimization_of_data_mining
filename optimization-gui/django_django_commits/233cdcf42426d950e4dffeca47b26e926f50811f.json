{
    "author": "carljm",
    "message": "Fixed error message string assumptions in WSGI tests (were breaking tests on PyPy). Thanks to Alex Gaynor for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17041 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "233cdcf42426d950e4dffeca47b26e926f50811f",
    "files": [
        {
            "sha": "9da2adce54203644d46e6a63353c28efc6f1cc28",
            "filename": "tests/regressiontests/wsgi/tests.py",
            "status": "modified",
            "additions": 8,
            "deletions": 11,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/233cdcf42426d950e4dffeca47b26e926f50811f/tests%2Fregressiontests%2Fwsgi%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/233cdcf42426d950e4dffeca47b26e926f50811f/tests%2Fregressiontests%2Fwsgi%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fwsgi%2Ftests.py?ref=233cdcf42426d950e4dffeca47b26e926f50811f",
            "patch": "@@ -83,20 +83,17 @@ def mock_get_wsgi_app():\n \n     @override_settings(WSGI_APPLICATION=\"regressiontests.wsgi.noexist.app\")\n     def test_bad_module(self):\n-        with self.assertRaises(ImproperlyConfigured) as cm:\n-            get_internal_wsgi_application()\n+        with self.assertRaisesRegexp(\n+            ImproperlyConfigured,\n+            r\"^WSGI application 'regressiontests.wsgi.noexist.app' could not be loaded; could not import module 'regressiontests.wsgi.noexist':\"):\n \n-        self.assertEqual(\n-            str(cm.exception),\n-            \"WSGI application 'regressiontests.wsgi.noexist.app' could not be loaded; could not import module 'regressiontests.wsgi.noexist': No module named noexist\")\n+            get_internal_wsgi_application()\n \n \n     @override_settings(WSGI_APPLICATION=\"regressiontests.wsgi.wsgi.noexist\")\n     def test_bad_name(self):\n-        with self.assertRaises(ImproperlyConfigured) as cm:\n-            get_internal_wsgi_application()\n-\n-        self.assertEqual(\n-            str(cm.exception),\n-            \"WSGI application 'regressiontests.wsgi.wsgi.noexist' could not be loaded; can't find 'noexist' in module 'regressiontests.wsgi.wsgi': 'module' object has no attribute 'noexist'\")\n+        with self.assertRaisesRegexp(\n+            ImproperlyConfigured,\n+            r\"^WSGI application 'regressiontests.wsgi.wsgi.noexist' could not be loaded; can't find 'noexist' in module 'regressiontests.wsgi.wsgi':\"):\n \n+            get_internal_wsgi_application()"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 8,
        "deletions": 11
    }
}