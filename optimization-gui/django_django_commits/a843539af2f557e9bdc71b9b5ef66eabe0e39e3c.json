{
    "author": "claudep",
    "message": "Fixed #12914 -- Use yaml faster C implementation when available\n\nThanks Beuc for the report and the initial patch.",
    "sha": "a843539af2f557e9bdc71b9b5ef66eabe0e39e3c",
    "files": [
        {
            "sha": "27239e04457fff9d36d5bb5f4c3a64d375298e4f",
            "filename": "django/core/serializers/pyyaml.py",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/a843539af2f557e9bdc71b9b5ef66eabe0e39e3c/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "raw_url": "https://github.com/django/django/raw/a843539af2f557e9bdc71b9b5ef66eabe0e39e3c/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpyyaml.py?ref=a843539af2f557e9bdc71b9b5ef66eabe0e39e3c",
            "patch": "@@ -14,8 +14,15 @@\n from django.core.serializers.python import Deserializer as PythonDeserializer\n from django.utils import six\n \n+# Use the C (faster) implementation if possible\n+try:\n+    from yaml import CSafeLoader as SafeLoader\n+    from yaml import CSafeDumper as SafeDumper\n+except ImportError:\n+    from yaml import SafeLoader, SafeDumper\n \n-class DjangoSafeDumper(yaml.SafeDumper):\n+\n+class DjangoSafeDumper(SafeDumper):\n     def represent_decimal(self, data):\n         return self.represent_scalar('tag:yaml.org,2002:str', str(data))\n \n@@ -58,7 +65,7 @@ def Deserializer(stream_or_string, **options):\n     else:\n         stream = stream_or_string\n     try:\n-        for obj in PythonDeserializer(yaml.safe_load(stream), **options):\n+        for obj in PythonDeserializer(yaml.load(stream, Loader=SafeLoader), **options):\n             yield obj\n     except GeneratorExit:\n         raise"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 9,
        "deletions": 2
    }
}