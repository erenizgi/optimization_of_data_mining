{
    "author": "aaugustin",
    "message": "Fixed #19697 -- Added a deployment checklist.",
    "sha": "912b5d2a6bc78067d6a7e130f10514c51bd1a58f",
    "files": [
        {
            "sha": "972065467f8bea1af8bfc39c25a3e6472e3dbdcb",
            "filename": "django/conf/project_template/project_name/settings.py",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/django%2Fconf%2Fproject_template%2Fproject_name%2Fsettings.py",
            "raw_url": "https://github.com/django/django/raw/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/django%2Fconf%2Fproject_template%2Fproject_name%2Fsettings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Fproject_template%2Fproject_name%2Fsettings.py?ref=912b5d2a6bc78067d6a7e130f10514c51bd1a58f",
            "patch": "@@ -14,19 +14,16 @@\n \n \n # Quick-start development settings - unsuitable for production\n+# See https://docs.djangoproject.com/en/{{ docs_version }}/howto/deployment/checklist/\n \n # SECURITY WARNING: keep the secret key used in production secret!\n-# Hardcoded values can leak through source control. Consider loading\n-# the secret key from an environment variable or a file instead.\n SECRET_KEY = '{{ secret_key }}'\n \n # SECURITY WARNING: don't run with debug turned on in production!\n DEBUG = True\n \n TEMPLATE_DEBUG = True\n \n-# Hosts/domain names that are valid for this site; required if DEBUG is False\n-# See https://docs.djangoproject.com/en/{{ docs_version }}/ref/settings/#allowed-hosts\n ALLOWED_HOSTS = []\n \n "
        },
        {
            "sha": "53b257ae20494256a090ab9c4c1a7413dda01eff",
            "filename": "docs/howto/deployment/checklist.txt",
            "status": "added",
            "additions": 200,
            "deletions": 0,
            "changes": 200,
            "blob_url": "https://github.com/django/django/blob/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Fhowto%2Fdeployment%2Fchecklist.txt",
            "raw_url": "https://github.com/django/django/raw/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Fhowto%2Fdeployment%2Fchecklist.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fdeployment%2Fchecklist.txt?ref=912b5d2a6bc78067d6a7e130f10514c51bd1a58f",
            "patch": "@@ -0,0 +1,200 @@\n+====================\n+Deployment checklist\n+====================\n+\n+The Internet is a hostile environment. Before deploying your Django project,\n+you should take some time to review your settings, with security, performance,\n+and operations in mind.\n+\n+Django includes many :doc:`security features </topics/security>`. Some are\n+built-in and always enabled. Others are optional because they aren't always\n+appropriate, or because they're inconvenient for development. For example,\n+forcing HTTPS may not be suitable for all websites, and it's impractical for\n+local development.\n+\n+Performance optimizations are another category of trade-offs with convenience.\n+For instance, caching is useful in production, less so for local development.\n+Error reporting needs are also widely different.\n+\n+The following checklist includes settings that:\n+\n+- must be set properly for Django to provide the expected level of security;\n+- are expected to be different in each environment;\n+- enable optional security features;\n+- enable performance optimizations;\n+- provide error reporting.\n+\n+Many of these settings are sensitive and should be treated as confidential. If\n+you're releasing the source code for your project, a common practice is to\n+publish suitable settings for development, and to use a private settings\n+module for production.\n+\n+Critical settings\n+=================\n+\n+:setting:`SECRET_KEY`\n+---------------------\n+\n+**The secret key must be a large random value and it must be kept secret.**\n+\n+Make sure that the key used in production isn't used anywhere else and avoid\n+committing it to source control. This reduces the number of vectors from which\n+an attacker may acquire the key.\n+\n+Instead of hardcoding the secret key in your settings module, consider loading\n+it from an environment variable::\n+\n+    import os\n+    SECRET_KEY = os.environ['SECRET_KEY']\n+\n+or from a file::\n+\n+    with open('/etc/secret_key.txt') as f:\n+        SECRET_KEY = f.read().strip()\n+\n+:setting:`DEBUG`\n+----------------\n+\n+**You must never enable debug in production.**\n+\n+You're certainly developing your project with :setting:`DEBUG = True <DEBUG>`,\n+since this enables handy features like full tracebacks in your browser.\n+\n+For a production environment, though, this is a really bad idea, because it\n+leaks lots of information about your project: excerpts of your source code,\n+local variables, settings, libraries used, etc.\n+\n+Environment-specific settings\n+=============================\n+\n+:setting:`ALLOWED_HOSTS`\n+------------------------\n+\n+When :setting:`DEBUG = False <DEBUG>`, Django doesn't work at all without a\n+suitable value for :setting:`ALLOWED_HOSTS`.\n+\n+This setting is required to protect your site against some CSRF attacks. If\n+you use a wildcard, you must perform your own validation of the ``Host`` HTTP\n+header, or otherwise ensure that you aren't vulnerable to this category of\n+attacks.\n+\n+:setting:`CACHES`\n+-----------------\n+\n+If you're using a cache, connection parameters may be different in development\n+and in production.\n+\n+Cache servers often have weak authentication. Make sure they only accept\n+connections from your application servers.\n+\n+:setting:`DATABASES`\n+--------------------\n+\n+Database connection parameters are probably different in development and in\n+production.\n+\n+For maximum security, make sure database servers only accept connections from\n+your application servers.\n+\n+If you haven't set up backups for your database, do it right now!\n+\n+:setting:`EMAIL_BACKEND` and related settings\n+---------------------------------------------\n+\n+If your site sends emails, these values need to be set correctly.\n+\n+:setting:`STATIC_ROOT` and :setting:`STATIC_URL`\n+------------------------------------------------\n+\n+Static files are automatically served by the development server. In\n+production, you must define a :setting:`STATIC_ROOT` directory where\n+:djadmin:`collectstatic` will copy them.\n+\n+See :doc:`/howto/static-files` for more information.\n+\n+:setting:`MEDIA_ROOT` and :setting:`MEDIA_URL`\n+----------------------------------------------\n+\n+Media files are uploaded by your users. They're untrusted! Make sure your web\n+server never attempt to interpret them. For instance, if a user uploads a\n+``.php`` file , the web server shouldn't execute it.\n+\n+Now is a good time to check your backup strategy for these files.\n+\n+HTTPS\n+=====\n+\n+Any website which allows users to log in should enforce site-wide HTTPS to\n+avoid transmitting access tokens in clear. In Django, access tokens include\n+the login/password, the session cookie, and password reset tokens. (You can't\n+do much to protect password reset tokens if you're sending them by email.)\n+\n+Protecting sensitive areas such as the user account or the admin isn't\n+sufficient, because the same session cookie is used for HTTP and HTTPS.\n+\n+Once you've set up HTTPS, enable the following settings.\n+\n+:setting:`CSRF_COOKIE_SECURE`\n+-----------------------------\n+\n+Set this to ``True`` to avoid transmitting the CSRF cookie over HTTP\n+accidentally.\n+\n+:setting:`SESSION_COOKIE_SECURE`\n+--------------------------------\n+\n+Set this to ``True`` to avoid transmitting the session cookie over HTTP\n+accidentally.\n+\n+Performance optimizations\n+=========================\n+\n+Setting :setting:`DEBUG = False <DEBUG>` disables several features that are\n+only useful in development. In addition, you can tune the following settings.\n+\n+:setting:`TEMPLATE_LOADERS`\n+---------------------------\n+\n+Enabling the cached template loader often improves performance drastically, as\n+it avoids compiling each template every time it needs to be rendered. See the\n+:ref:`template loaders docs <template-loaders>` for more information.\n+\n+Error reporting\n+===============\n+\n+By the time you push your code to production, it's hopefully robust, but you\n+can't rule out unexpected errors. Thankfully, Django can capture errors and\n+notify you accordingly.\n+\n+:setting:`LOGGING`\n+------------------\n+\n+Review your logging configuration before putting your website in production,\n+and check that it works as expected as soon as you have received some traffic.\n+\n+See :doc:`/topics/logging` for details on logging.\n+\n+:setting:`ADMINS` and :setting:`MANAGERS`\n+-----------------------------------------\n+\n+:setting:`ADMINS` will be notified of 500 errors by email.\n+\n+:setting:`MANAGERS` will be notified of 404 errors.\n+:setting:`IGNORABLE_404_URLS` can help filter out spurious reports.\n+\n+See :doc:`/howto/error-reporting` for details on error reporting by email.\n+\n+.. admonition: Error reporting by email doesn't scale very well\n+\n+    Consider using an error monitoring system such as Sentry_ before your\n+    inbox is flooded by reports. Sentry can also aggregate logs.\n+\n+    .. _Sentry: http://sentry.readthedocs.org/en/latest/\n+\n+Miscellaneous\n+=============\n+\n+:setting:`ALLOWED_INCLUDE_ROOTS`\n+--------------------------------\n+\n+This setting is required if you're using the :ttag:`ssi` template tag."
        },
        {
            "sha": "ed4bcf3d4a2b5173bf19d7b4e4f67a1544d02e2e",
            "filename": "docs/howto/deployment/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Fhowto%2Fdeployment%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Fhowto%2Fdeployment%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fdeployment%2Findex.txt?ref=912b5d2a6bc78067d6a7e130f10514c51bd1a58f",
            "patch": "@@ -11,6 +11,7 @@ ways to easily deploy Django:\n \n    wsgi/index\n    fastcgi\n+   checklist\n \n If you're new to deploying Django and/or Python, we'd recommend you try\n :doc:`mod_wsgi </howto/deployment/wsgi/modwsgi>` first. In most cases it'll be"
        },
        {
            "sha": "2ab44c07444a3747d6f842afc6af44f939ff3ceb",
            "filename": "docs/releases/1.6.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Freleases%2F1.6.txt",
            "raw_url": "https://github.com/django/django/raw/912b5d2a6bc78067d6a7e130f10514c51bd1a58f/docs%2Freleases%2F1.6.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.6.txt?ref=912b5d2a6bc78067d6a7e130f10514c51bd1a58f",
            "patch": "@@ -154,6 +154,9 @@ Minor features\n   ``UPDATE`` - if not updated - ``INSERT`` instead of ``SELECT`` - if not\n   found ``INSERT`` else ``UPDATE`` in case the model's primary key is set.\n \n+* The documentation contains a :doc:`deployment checklist\n+  </howto/deployment/checklist>`.\n+\n Backwards incompatible changes in 1.6\n =====================================\n "
        }
    ],
    "stats": {
        "total": 209,
        "additions": 205,
        "deletions": 4
    }
}