{
    "author": "ramiro",
    "message": "Fixed #14419 -- Enhanced the help text of the makemessages management command. Thanks lsaffre for the report and suggestions and gruszczy for the patch.\nAlso, removed the sterile make-messages.py, compile-messages.py scripts and dead compatibility code in makemessages.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15302 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "7c888a7aa945352193303b557cbf654957e0dd45",
    "files": [
        {
            "sha": "0deaf6a1783f733a5a5b3aa7b8413c08e283451c",
            "filename": "django/bin/compile-messages.py",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/91c61c0baac6b35b2ae191dc6333c26fd567ff1e/django%2Fbin%2Fcompile-messages.py",
            "raw_url": "https://github.com/django/django/raw/91c61c0baac6b35b2ae191dc6333c26fd567ff1e/django%2Fbin%2Fcompile-messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fbin%2Fcompile-messages.py?ref=91c61c0baac6b35b2ae191dc6333c26fd567ff1e",
            "patch": "@@ -1,11 +0,0 @@\n-#!/usr/bin/env python\n-\n-if __name__ == \"__main__\":\n-    import sys\n-    name = sys.argv[0]\n-    args = ' '.join(sys.argv[1:])\n-    print >> sys.stderr, \"%s has been moved into django-admin.py\" % name\n-    print >> sys.stderr, 'Please run \"django-admin.py compilemessages %s\" instead.'% args\n-    print >> sys.stderr\n-    sys.exit(1)\n-"
        },
        {
            "sha": "1c844164230502d7295ee654023e26270edf27c0",
            "filename": "django/bin/make-messages.py",
            "status": "removed",
            "additions": 0,
            "deletions": 11,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/91c61c0baac6b35b2ae191dc6333c26fd567ff1e/django%2Fbin%2Fmake-messages.py",
            "raw_url": "https://github.com/django/django/raw/91c61c0baac6b35b2ae191dc6333c26fd567ff1e/django%2Fbin%2Fmake-messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fbin%2Fmake-messages.py?ref=91c61c0baac6b35b2ae191dc6333c26fd567ff1e",
            "patch": "@@ -1,11 +0,0 @@\n-#!/usr/bin/env python\n-\n-if __name__ == \"__main__\":\n-    import sys\n-    name = sys.argv[0]\n-    args = ' '.join(sys.argv[1:])\n-    print >> sys.stderr, \"%s has been moved into django-admin.py\" % name\n-    print >> sys.stderr, 'Please run \"django-admin.py makemessages %s\" instead.'% args\n-    print >> sys.stderr\n-    sys.exit(1)\n-"
        },
        {
            "sha": "115607633d418574d2b75826818a552ad9c356b4",
            "filename": "django/core/management/commands/makemessages.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/7c888a7aa945352193303b557cbf654957e0dd45/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "raw_url": "https://github.com/django/django/raw/7c888a7aa945352193303b557cbf654957e0dd45/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py?ref=7c888a7aa945352193303b557cbf654957e0dd45",
            "patch": "@@ -145,11 +145,7 @@ def make_messages(locale=None, domain='django', verbosity='1', all=False,\n         raise CommandError(\"currently makemessages only supports domains 'django' and 'djangojs'\")\n \n     if (locale is None and not all) or domain is None:\n-        # backwards compatible error message\n-        if not sys.argv[0].endswith(\"make-messages.py\"):\n-            message = \"Type '%s help %s' for usage.\\n\" % (os.path.basename(sys.argv[0]), sys.argv[1])\n-        else:\n-            message = \"usage: make-messages.py -l <language>\\n   or: make-messages.py -a\\n\"\n+        message = \"Type '%s help %s' for usage information.\" % (os.path.basename(sys.argv[0]), sys.argv[1])\n         raise CommandError(message)\n \n     # We require gettext version 0.15 or newer.\n@@ -301,11 +297,11 @@ def make_messages(locale=None, domain='django', verbosity='1', all=False,\n class Command(NoArgsCommand):\n     option_list = NoArgsCommand.option_list + (\n         make_option('--locale', '-l', default=None, dest='locale',\n-            help='Creates or updates the message files only for the given locale (e.g. pt_BR).'),\n+            help='Creates or updates the message files for the given locale (e.g. pt_BR).'),\n         make_option('--domain', '-d', default='django', dest='domain',\n             help='The domain of the message files (default: \"django\").'),\n         make_option('--all', '-a', action='store_true', dest='all',\n-            default=False, help='Reexamines all source code and templates for new translation strings and updates all message files for all available languages.'),\n+            default=False, help='Updates the message files for all existing locales.'),\n         make_option('--extension', '-e', dest='extensions',\n             help='The file extension(s) to examine (default: \".html\", separate multiple extensions with commas, or use -e multiple times)',\n             action='append'),\n@@ -320,7 +316,11 @@ class Command(NoArgsCommand):\n         make_option('--no-obsolete', action='store_true', dest='no_obsolete',\n             default=False, help=\"Remove obsolete message strings\"),\n     )\n-    help = \"Runs over the entire source tree of the current directory and pulls out all strings marked for translation. It creates (or updates) a message file in the conf/locale (in the django tree) or locale (for project and application) directory.\"\n+    help = ( \"Runs over the entire source tree of the current directory and \"\n+\"pulls out all strings marked for translation. It creates (or updates) a message \"\n+\"file in the conf/locale (in the django tree) or locale (for projects and \"\n+\"applications) directory.\\n\\nYou must run this command with one of either the \"\n+\"--locale or --all options.\")\n \n     requires_model_validation = False\n     can_import_settings = False"
        }
    ],
    "stats": {
        "total": 38,
        "additions": 8,
        "deletions": 30
    }
}