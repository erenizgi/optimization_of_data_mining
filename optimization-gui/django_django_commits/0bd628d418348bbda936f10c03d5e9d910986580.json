{
    "author": "ramiro",
    "message": "Enhanced slightly the tests added in r15185 to demonstrate that #14948 doesn't affect trunk. Refs #14948. Thanks Harm Geerts.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15208 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0bd628d418348bbda936f10c03d5e9d910986580",
    "files": [
        {
            "sha": "a8a2156237765a2c584c59121aa4e5fc0f9e940f",
            "filename": "tests/regressiontests/multiple_database/tests.py",
            "status": "modified",
            "additions": 12,
            "deletions": 2,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/0bd628d418348bbda936f10c03d5e9d910986580/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0bd628d418348bbda936f10c03d5e9d910986580/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py?ref=0bd628d418348bbda936f10c03d5e9d910986580",
            "patch": "@@ -1851,7 +1851,7 @@ def db_for_write(self, model, **hints):\n         if not hasattr(model, '_meta'):\n             raise ValueError\n \n-class RouterM2MThroughTestCase(TestCase):\n+class RouterModelArgumentTestCase(TestCase):\n     multi_db = True\n \n     def setUp(self):\n@@ -1861,7 +1861,7 @@ def setUp(self):\n     def tearDown(self):\n         router.routers = self.old_routers\n \n-    def test_m2m_through(self):\n+    def test_m2m_collection(self):\n         b = Book.objects.create(title=\"Pro Django\",\n                                 published=datetime.date(2008, 12, 16))\n \n@@ -1872,3 +1872,13 @@ def test_m2m_through(self):\n         b.authors.remove(p)\n         # test clear\n         b.authors.clear()\n+        # test setattr\n+        b.authors = [p]\n+        # test M2M collection\n+        b.delete()\n+\n+    def test_foreignkey_collection(self):\n+        person = Person.objects.create(name='Bob')\n+        pet = Pet.objects.create(owner=person, name='Wart')\n+        # test related FK collection\n+        person.delete()"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 12,
        "deletions": 2
    }
}