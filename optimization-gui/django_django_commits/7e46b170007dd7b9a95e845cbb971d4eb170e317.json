{
    "author": "freakboy3742",
    "message": "Fixed #15297 -- Corrected an attribute naming regressoin from fixing #9964. Thanks to leonov for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15527 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "7e46b170007dd7b9a95e845cbb971d4eb170e317",
    "files": [
        {
            "sha": "2f92a30c9ecaa7828fc0c9149ac57be672772e46",
            "filename": "django/db/backends/util.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/7e46b170007dd7b9a95e845cbb971d4eb170e317/django%2Fdb%2Fbackends%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/7e46b170007dd7b9a95e845cbb971d4eb170e317/django%2Fdb%2Fbackends%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Futil.py?ref=7e46b170007dd7b9a95e845cbb971d4eb170e317",
            "patch": "@@ -10,13 +10,13 @@\n \n \n class CursorWrapper(object):\n-    def __init__(self, cursor, connection):\n+    def __init__(self, cursor, db):\n         self.cursor = cursor\n-        self.connection = connection\n+        self.db = db\n \n     def __getattr__(self, attr):\n-        if self.connection.is_managed():\n-            self.connection.set_dirty()\n+        if self.db.is_managed():\n+            self.db.set_dirty()\n         if attr in self.__dict__:\n             return self.__dict__[attr]\n         else:\n@@ -35,8 +35,8 @@ def execute(self, sql, params=()):\n         finally:\n             stop = time()\n             duration = stop - start\n-            sql = self.connection.ops.last_executed_query(self.cursor, sql, params)\n-            self.connection.queries.append({\n+            sql = self.db.ops.last_executed_query(self.cursor, sql, params)\n+            self.db.queries.append({\n                 'sql': sql,\n                 'time': \"%.3f\" % duration,\n             })\n@@ -51,7 +51,7 @@ def executemany(self, sql, param_list):\n         finally:\n             stop = time()\n             duration = stop - start\n-            self.connection.queries.append({\n+            self.db.queries.append({\n                 'sql': '%s times: %s' % (len(param_list), sql),\n                 'time': \"%.3f\" % duration,\n             })"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 7,
        "deletions": 7
    }
}