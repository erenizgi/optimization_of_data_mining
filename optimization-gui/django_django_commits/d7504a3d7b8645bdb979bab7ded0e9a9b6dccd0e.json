{
    "author": "claudep",
    "message": "Improved regex in strip_tags\n\nThanks Pablo Recio for the report. Refs #19237.",
    "sha": "d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e",
    "files": [
        {
            "sha": "a9ebd1793551bf80234d1ffe108bc750ab245aa7",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e",
            "patch": "@@ -33,7 +33,7 @@\n html_gunk_re = re.compile(r'(?:<br clear=\"all\">|<i><\\/i>|<b><\\/b>|<em><\\/em>|<strong><\\/strong>|<\\/?smallcaps>|<\\/?uppercase>)', re.IGNORECASE)\n hard_coded_bullets_re = re.compile(r'((?:<p>(?:%s).*?[a-zA-Z].*?</p>\\s*)+)' % '|'.join([re.escape(x) for x in DOTS]), re.DOTALL)\n trailing_empty_content_re = re.compile(r'(?:<p>(?:&nbsp;|\\s|<br \\/>)*?</p>\\s*)+\\Z')\n-strip_tags_re = re.compile(r'</?\\S([^=]*=(\\s*\"[^\"]*\"|\\s*\\'[^\\']*\\'|\\S*)|[^>])*?>', re.IGNORECASE)\n+strip_tags_re = re.compile(r'</?\\S([^=>]*=(\\s*\"[^\"]*\"|\\s*\\'[^\\']*\\'|\\S*)|[^>])*?>', re.IGNORECASE)\n \n \n def escape(text):"
        },
        {
            "sha": "62c7dac24a5ba6ccaa44351438f1b0ecebda205b",
            "filename": "tests/regressiontests/utils/html.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e/tests%2Fregressiontests%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e/tests%2Fregressiontests%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fhtml.py?ref=d7504a3d7b8645bdb979bab7ded0e9a9b6dccd0e",
            "patch": "@@ -68,6 +68,7 @@ def test_strip_tags(self):\n             ('a<p onclick=\"alert(\\'<test>\\')\">b</p>c', 'abc'),\n             ('a<p a >b</p>c', 'abc'),\n             ('d<a:b c:d>e</p>f', 'def'),\n+            ('<strong>foo</strong><a href=\"http://example.com\">bar</a>', 'foobar'),\n         )\n         for value, output in items:\n             self.check_output(f, value, output)"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}