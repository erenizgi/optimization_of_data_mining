{
    "author": "andrewgodwin",
    "message": "Add comment to usage of m2m_reverse_field_name",
    "sha": "3a338d00ec0d32d54faa0bf88409d02638eae60d",
    "files": [
        {
            "sha": "5a5932abeb5c96639b35c86e0e86726885996dca",
            "filename": "django/db/backends/schema.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/3a338d00ec0d32d54faa0bf88409d02638eae60d/django%2Fdb%2Fbackends%2Fschema.py",
            "raw_url": "https://github.com/django/django/raw/3a338d00ec0d32d54faa0bf88409d02638eae60d/django%2Fdb%2Fbackends%2Fschema.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fschema.py?ref=3a338d00ec0d32d54faa0bf88409d02638eae60d",
            "patch": "@@ -591,6 +591,8 @@ def _alter_many_to_many(self, model, old_field, new_field, strict):\n         # Repoint the FK to the other side\n         self.alter_field(\n             new_field.rel.through,\n+            # We need the field that points to the target model, so we can tell alter_field to change it -\n+            # this is m2m_reverse_field_name() (as opposed to m2m_field_name, which points to our model)\n             old_field.rel.through._meta.get_field_by_name(old_field.m2m_reverse_field_name())[0],\n             new_field.rel.through._meta.get_field_by_name(new_field.m2m_reverse_field_name())[0],\n         )"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}