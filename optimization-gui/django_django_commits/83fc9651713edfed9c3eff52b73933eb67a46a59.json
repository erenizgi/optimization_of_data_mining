{
    "author": "ramiro",
    "message": "Added documentation notes about lack of database savepoints support when using MySQL+MyISAM.\n\nRefs #15507, #18116 and r17341, r17921.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17923 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "83fc9651713edfed9c3eff52b73933eb67a46a59",
    "files": [
        {
            "sha": "8fbe4125c93bf92c9bc39902bb36a97e26ae1472",
            "filename": "docs/ref/databases.txt",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/83fc9651713edfed9c3eff52b73933eb67a46a59/docs%2Fref%2Fdatabases.txt",
            "raw_url": "https://github.com/django/django/raw/83fc9651713edfed9c3eff52b73933eb67a46a59/docs%2Fref%2Fdatabases.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fdatabases.txt?ref=83fc9651713edfed9c3eff52b73933eb67a46a59",
            "patch": "@@ -128,7 +128,7 @@ Version support\n Django supports MySQL 5.0.3 and higher.\n \n `MySQL 5.0`_ adds the ``information_schema`` database, which contains detailed\n-data on all database schema. Django's ``inspectdb`` feature uses this feature.\n+data on all database schema. Django's ``inspectdb`` feature uses it.\n \n .. versionchanged:: 1.5\n     The minimum version requirement of MySQL 5.0.3 was set in Django 1.5.\n@@ -141,6 +141,8 @@ MySQL when using the MyISAM storage engine, see the next section.\n .. _MySQL: http://www.mysql.com/\n .. _MySQL 5.0: http://dev.mysql.com/doc/refman/5.0/en/index.html\n \n+.. _mysql-storage-engines:\n+\n Storage engines\n ---------------\n \n@@ -353,6 +355,21 @@ via the :class:`~django.db.models.Options.db_table` parameter.\n \n .. _known issues: http://bugs.mysql.com/bug.php?id=48875\n \n+Savepoints\n+----------\n+\n+Both the Django ORM and MySQL (when using the InnoDB :ref:`storage engine\n+<mysql-storage-engines>`) support database :ref:`savepoints\n+<topics-db-transactions-savepoints>`, but this feature wasn't available in\n+Django until version 1.4 when such supports was added.\n+\n+If you use the MyISAM storage engine please be aware of the fact that you will\n+receive database-generated errors if you try to use the :ref:`savepoint-related\n+methods of the transactions API <topics-db-transactions-savepoints>`. The reason\n+for this is that detecting the storage engine of a MySQL database/table is an\n+expensive operation so it was decided it isn't worth to dynamically convert\n+these methods in no-op's based in the results of such detection.\n+\n Notes on specific fields\n ------------------------\n "
        },
        {
            "sha": "76b65b99e01c7ff238dca5c2227f914e0c2c8104",
            "filename": "docs/topics/db/transactions.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/83fc9651713edfed9c3eff52b73933eb67a46a59/docs%2Ftopics%2Fdb%2Ftransactions.txt",
            "raw_url": "https://github.com/django/django/raw/83fc9651713edfed9c3eff52b73933eb67a46a59/docs%2Ftopics%2Fdb%2Ftransactions.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Ftransactions.txt?ref=83fc9651713edfed9c3eff52b73933eb67a46a59",
            "patch": "@@ -225,9 +225,9 @@ Savepoints\n \n A savepoint is a marker within a transaction that enables you to roll back part\n of a transaction, rather than the full transaction. Savepoints are available\n-with the PostgreSQL 8, Oracle and MySQL (version 5.0.3 and newer, when using\n-the InnoDB storage engine) backends. Other backends provide the savepoint\n-functions, but they're empty operations -- they don't actually do anything.\n+with the PostgreSQL 8, Oracle and MySQL (when using the InnoDB storage engine)\n+backends. Other backends provide the savepoint functions, but they're empty\n+operations -- they don't actually do anything.\n \n .. versionchanged:: 1.4\n    Savepoint support for the MySQL backend was added in Django 1.4."
        }
    ],
    "stats": {
        "total": 25,
        "additions": 21,
        "deletions": 4
    }
}