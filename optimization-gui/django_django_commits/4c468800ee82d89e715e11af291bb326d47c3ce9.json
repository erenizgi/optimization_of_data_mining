{
    "author": "freakboy3742",
    "message": "Updates to the test suite to allow for newly deprecated and removed features\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15990 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4c468800ee82d89e715e11af291bb326d47c3ce9",
    "files": [
        {
            "sha": "aba8f4aace854af1ede40ecdd3cb08f9f9276e8b",
            "filename": "django/contrib/auth/fixtures/context-processors-users.xml",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ffixtures%2Fcontext-processors-users.xml",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ffixtures%2Fcontext-processors-users.xml",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ffixtures%2Fcontext-processors-users.xml?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "previous_filename": "tests/regressiontests/context_processors/fixtures/context-processors-users.xml"
        },
        {
            "sha": "c008e7098cb89d6c166a83b77a274fe9e7c3cc99",
            "filename": "django/contrib/auth/tests/context_processors.py",
            "status": "added",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -0,0 +1,77 @@\n+# from django.conf import settings\n+from django.contrib.auth import authenticate\n+from django.db.models import Q\n+from django.test import TestCase\n+# from django.template import Template\n+\n+class AuthContextProcessorTests(TestCase):\n+    \"\"\"\n+    Tests for the ``django.contrib.auth.context_processors.auth`` processor\n+    \"\"\"\n+    urls = 'regressiontests.context_processors.urls'\n+    fixtures = ['context-processors-users.xml']\n+\n+    def test_session_not_accessed(self):\n+        \"\"\"\n+        Tests that the session is not accessed simply by including\n+        the auth context processor\n+        \"\"\"\n+        response = self.client.get('/auth_processor_no_attr_access/')\n+        self.assertContains(response, \"Session not accessed\")\n+\n+    def test_session_is_accessed(self):\n+        \"\"\"\n+        Tests that the session is accessed if the auth context processor\n+        is used and relevant attributes accessed.\n+        \"\"\"\n+        response = self.client.get('/auth_processor_attr_access/')\n+        self.assertContains(response, \"Session accessed\")\n+\n+    def test_perms_attrs(self):\n+        self.client.login(username='super', password='secret')\n+        response = self.client.get('/auth_processor_perms/')\n+        self.assertContains(response, \"Has auth permissions\")\n+\n+    def test_message_attrs(self):\n+        self.client.login(username='super', password='secret')\n+        response = self.client.get('/auth_processor_messages/')\n+        self.assertContains(response, \"Message 1\")\n+\n+    def test_user_attrs(self):\n+        \"\"\"\n+        Test that the lazy objects returned behave just like the wrapped objects.\n+        \"\"\"\n+        # These are 'functional' level tests for common use cases.  Direct\n+        # testing of the implementation (SimpleLazyObject) is in the 'utils'\n+        # tests.\n+        self.client.login(username='super', password='secret')\n+        user = authenticate(username='super', password='secret')\n+        response = self.client.get('/auth_processor_user/')\n+        self.assertContains(response, \"unicode: super\")\n+        self.assertContains(response, \"id: 100\")\n+        self.assertContains(response, \"username: super\")\n+        # bug #12037 is tested by the {% url %} in the template:\n+        self.assertContains(response, \"url: /userpage/super/\")\n+\n+        # See if this object can be used for queries where a Q() comparing\n+        # a user can be used with another Q() (in an AND or OR fashion).\n+        # This simulates what a template tag might do with the user from the\n+        # context. Note that we don't need to execute a query, just build it.\n+        #\n+        # The failure case (bug #12049) on Python 2.4 with a LazyObject-wrapped\n+        # User is a fatal TypeError: \"function() takes at least 2 arguments\n+        # (0 given)\" deep inside deepcopy().\n+        #\n+        # Python 2.5 and 2.6 succeeded, but logged internally caught exception\n+        # spew:\n+        #\n+        #    Exception RuntimeError: 'maximum recursion depth exceeded while\n+        #    calling a Python object' in <type 'exceptions.AttributeError'>\n+        #    ignored\"\n+        query = Q(user=response.context['user']) & Q(someflag=True)\n+\n+        # Tests for user equality.  This is hard because User defines\n+        # equality in a non-duck-typing way\n+        # See bug #12060\n+        self.assertEqual(response.context['user'], user)\n+        self.assertEqual(user, response.context['user'])\n\\ No newline at end of file"
        },
        {
            "sha": "1407cda895a8c9f860e833224d201d0db9d59cf3",
            "filename": "django/contrib/auth/tests/urls.py",
            "status": "modified",
            "additions": 37,
            "deletions": 1,
            "changes": 38,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ftests%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/django%2Fcontrib%2Fauth%2Ftests%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Furls.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,4 +1,4 @@\n-from django.conf.urls.defaults import patterns\n+from django.conf.urls.defaults import patterns, url\n from django.contrib.auth.urls import urlpatterns\n from django.contrib.auth.views import password_reset\n from django.contrib.auth.decorators import login_required\n@@ -13,6 +13,35 @@ def remote_user_auth_view(request):\n     c = RequestContext(request, {})\n     return HttpResponse(t.render(c))\n \n+def auth_processor_no_attr_access(request):\n+    r1 = render_to_response('context_processors/auth_attrs_no_access.html',\n+        RequestContext(request, {}, processors=[context_processors.auth]))\n+    # *After* rendering, we check whether the session was accessed\n+    return render_to_response('context_processors/auth_attrs_test_access.html',\n+        {'session_accessed':request.session.accessed})\n+\n+def auth_processor_attr_access(request):\n+    r1 = render_to_response('context_processors/auth_attrs_access.html',\n+        RequestContext(request, {}, processors=[context_processors.auth]))\n+    return render_to_response('context_processors/auth_attrs_test_access.html',\n+        {'session_accessed':request.session.accessed})\n+\n+def auth_processor_user(request):\n+    return render_to_response('context_processors/auth_attrs_user.html',\n+        RequestContext(request, {}, processors=[context_processors.auth]))\n+\n+def auth_processor_perms(request):\n+    return render_to_response('context_processors/auth_attrs_perms.html',\n+        RequestContext(request, {}, processors=[context_processors.auth]))\n+\n+def auth_processor_messages(request):\n+    request.user.message_set.create(message=\"Message 1\")\n+    return render_to_response('context_processors/auth_attrs_messages.html',\n+         RequestContext(request, {}, processors=[context_processors.auth]))\n+\n+def userpage(request):\n+    pass\n+\n # special urls for auth test cases\n urlpatterns = urlpatterns + patterns('',\n     (r'^logout/custom_query/$', 'django.contrib.auth.views.logout', dict(redirect_field_name='follow')),\n@@ -21,5 +50,12 @@ def remote_user_auth_view(request):\n     (r'^password_reset_from_email/$', 'django.contrib.auth.views.password_reset', dict(from_email='staffmember@example.com')),\n     (r'^login_required/$', login_required(password_reset)),\n     (r'^login_required_login_url/$', login_required(password_reset, login_url='/somewhere/')),\n+\n+    (r'^auth_processor_no_attr_access/$', auth_processor_no_attr_access),\n+    (r'^auth_processor_attr_access/$', auth_processor_attr_access),\n+    (r'^auth_processor_user/$', auth_processor_user),\n+    (r'^auth_processor_perms/$', auth_processor_perms),\n+    (r'^auth_processor_messages/$', auth_processor_messages),\n+    url(r'^userpage/(.+)/$', userpage, name=\"userpage\"),\n )\n "
        },
        {
            "sha": "309648e3fdbc69ba7b78c23e825d3c74b5743f00",
            "filename": "tests/modeltests/field_subclassing/fields.py",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -3,9 +3,6 @@\n from django.utils import simplejson as json\n from django.utils.encoding import force_unicode\n \n-import warnings\n-warnings.filterwarnings(\"ignore\", category=DeprecationWarning, module='django.db.models.fields.subclassing')\n-\n class Small(object):\n     \"\"\"\n     A simple class to show that non-trivial Python objects can be used as"
        },
        {
            "sha": "32183fad3e7a179cef8adade7a9d36184012bb6d",
            "filename": "tests/regressiontests/admin_scripts/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_scripts%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -108,10 +108,12 @@ def run_test(self, script, args, settings_file=None, apps=None):\n         # Build the command line\n         executable = sys.executable\n         arg_string = ' '.join(['%s' % arg for arg in args])\n+        # Silence the DeprecationWarning caused by having a locale directory\n+        # in the project directory.\n         if ' ' in executable:\n-            cmd = '\"\"%s\" \"%s\" %s\"' % (executable, script, arg_string)\n+            cmd = '\"\"%s\" -Wignore:::django.utils.translation \"%s\" %s\"' % (executable, script, arg_string)\n         else:\n-            cmd = '%s \"%s\" %s' % (executable, script, arg_string)\n+            cmd = '%s -Wignore:::django.utils.translation \"%s\" %s' % (executable, script, arg_string)\n \n         # Move to the test directory and run\n         os.chdir(test_dir)"
        },
        {
            "sha": "0b6c568297384f9dd7f0529c2da74c3b5092c841",
            "filename": "tests/regressiontests/backends/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -5,7 +5,7 @@\n from django.core.management.color import no_style\n from django.db import backend, connection, connections, DEFAULT_DB_ALIAS, IntegrityError\n from django.db.backends.signals import connection_created\n-from django.db.backends.postgresql import version as pg_version\n+from django.db.backends.postgresql_psycopg2 import version as pg_version\n from django.test import TestCase, skipUnlessDBFeature, TransactionTestCase\n from django.utils import unittest\n "
        },
        {
            "sha": "2dccbcd0f72fc58ca6e69686d008e290afd9b666",
            "filename": "tests/regressiontests/comment_tests/tests/feed_tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Ffeed_tests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Ffeed_tests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Ffeed_tests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -17,17 +17,3 @@ def test_feed(self):\n         self.assertContains(response, '<title>example.com comments</title>')\n         self.assertContains(response, '<link>http://example.com/</link>')\n         self.assertContains(response, '</rss>')\n-\n-\n-class LegacyCommentFeedTests(CommentFeedTests):\n-    feed_url = '/rss/legacy/comments/'\n-\n-    def setUp(self):\n-        self._warnings_state = get_warnings_state()\n-        warnings.filterwarnings(\"ignore\", category=DeprecationWarning,\n-                                module='django.contrib.syndication.views')\n-        warnings.filterwarnings(\"ignore\", category=DeprecationWarning,\n-                                module='django.contrib.syndication.feeds')\n-\n-    def tearDown(self):\n-        restore_warnings_state(self._warnings_state)"
        },
        {
            "sha": "a2a4d09c646bc57d2497226eff44dcd6f32472f7",
            "filename": "tests/regressiontests/comment_tests/urls.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcomment_tests%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcomment_tests%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Furls.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -13,6 +13,5 @@\n )\n \n urlpatterns += patterns('',\n-    (r'^rss/legacy/(?P<url>.*)/$', 'django.contrib.syndication.views.feed', {'feed_dict': feeds}),\n     (r'^rss/comments/$', LatestCommentFeed()),\n )"
        },
        {
            "sha": "1f2209efb01d81f43a7691193dad68747d319ec6",
            "filename": "tests/regressiontests/context_processors/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 87,
            "changes": 88,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcontext_processors%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,13 +1,8 @@\n \"\"\"\n Tests for Django's bundled context processors.\n \"\"\"\n-import warnings\n-\n-from django.conf import settings\n-from django.contrib.auth import authenticate\n-from django.db.models import Q\n from django.test import TestCase\n-from django.template import Template\n+\n \n class RequestContextProcessorTests(TestCase):\n     \"\"\"\n@@ -40,84 +35,3 @@ def test_request_attributes(self):\n         response = self.client.post(url, {'path': '/blah/'})\n         self.assertContains(response, url)\n \n-class AuthContextProcessorTests(TestCase):\n-    \"\"\"\n-    Tests for the ``django.contrib.auth.context_processors.auth`` processor\n-    \"\"\"\n-    urls = 'regressiontests.context_processors.urls'\n-    fixtures = ['context-processors-users.xml']\n-\n-    def setUp(self):\n-        self.save_warnings_state()\n-        warnings.filterwarnings('ignore', category=DeprecationWarning,\n-                                module='django.contrib.auth.models')\n-        warnings.filterwarnings('ignore', category=DeprecationWarning,\n-                                module='django.core.context_processors')\n-\n-    def tearDown(self):\n-        self.restore_warnings_state()\n-\n-    def test_session_not_accessed(self):\n-        \"\"\"\n-        Tests that the session is not accessed simply by including\n-        the auth context processor\n-        \"\"\"\n-        response = self.client.get('/auth_processor_no_attr_access/')\n-        self.assertContains(response, \"Session not accessed\")\n-\n-    def test_session_is_accessed(self):\n-        \"\"\"\n-        Tests that the session is accessed if the auth context processor\n-        is used and relevant attributes accessed.\n-        \"\"\"\n-        response = self.client.get('/auth_processor_attr_access/')\n-        self.assertContains(response, \"Session accessed\")\n-\n-    def test_perms_attrs(self):\n-        self.client.login(username='super', password='secret')\n-        response = self.client.get('/auth_processor_perms/')\n-        self.assertContains(response, \"Has auth permissions\")\n-\n-    def test_message_attrs(self):\n-        self.client.login(username='super', password='secret')\n-        response = self.client.get('/auth_processor_messages/')\n-        self.assertContains(response, \"Message 1\")\n-\n-    def test_user_attrs(self):\n-        \"\"\"\n-        Test that the lazy objects returned behave just like the wrapped objects.\n-        \"\"\"\n-        # These are 'functional' level tests for common use cases.  Direct\n-        # testing of the implementation (SimpleLazyObject) is in the 'utils'\n-        # tests.\n-        self.client.login(username='super', password='secret')\n-        user = authenticate(username='super', password='secret')\n-        response = self.client.get('/auth_processor_user/')\n-        self.assertContains(response, \"unicode: super\")\n-        self.assertContains(response, \"id: 100\")\n-        self.assertContains(response, \"username: super\")\n-        # bug #12037 is tested by the {% url %} in the template:\n-        self.assertContains(response, \"url: /userpage/super/\")\n-\n-        # See if this object can be used for queries where a Q() comparing\n-        # a user can be used with another Q() (in an AND or OR fashion).\n-        # This simulates what a template tag might do with the user from the\n-        # context. Note that we don't need to execute a query, just build it.\n-        #\n-        # The failure case (bug #12049) on Python 2.4 with a LazyObject-wrapped\n-        # User is a fatal TypeError: \"function() takes at least 2 arguments\n-        # (0 given)\" deep inside deepcopy().\n-        #\n-        # Python 2.5 and 2.6 succeeded, but logged internally caught exception\n-        # spew:\n-        #\n-        #    Exception RuntimeError: 'maximum recursion depth exceeded while\n-        #    calling a Python object' in <type 'exceptions.AttributeError'>\n-        #    ignored\"\n-        query = Q(user=response.context['user']) & Q(someflag=True)\n-\n-        # Tests for user equality.  This is hard because User defines\n-        # equality in a non-duck-typing way\n-        # See bug #12060\n-        self.assertEqual(response.context['user'], user)\n-        self.assertEqual(user, response.context['user'])"
        },
        {
            "sha": "7e8ba967c11b78e4c7d0354ac98922e4db2b2576",
            "filename": "tests/regressiontests/context_processors/urls.py",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcontext_processors%2Furls.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -5,10 +5,4 @@\n \n urlpatterns = patterns('',\n     (r'^request_attrs/$', views.request_processor),\n-    (r'^auth_processor_no_attr_access/$', views.auth_processor_no_attr_access),\n-    (r'^auth_processor_attr_access/$', views.auth_processor_attr_access),\n-    (r'^auth_processor_user/$', views.auth_processor_user),\n-    (r'^auth_processor_perms/$', views.auth_processor_perms),\n-    (r'^auth_processor_messages/$', views.auth_processor_messages),\n-    url(r'^userpage/(.+)/$', views.userpage, name=\"userpage\"),\n )"
        },
        {
            "sha": "66e7132c05836a97369f8e69bf104b48f1fc356f",
            "filename": "tests/regressiontests/context_processors/views.py",
            "status": "modified",
            "additions": 0,
            "deletions": 29,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcontext_processors%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcontext_processors%2Fviews.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -6,32 +6,3 @@\n def request_processor(request):\n     return render_to_response('context_processors/request_attrs.html',\n         RequestContext(request, {}, processors=[context_processors.request]))\n-\n-def auth_processor_no_attr_access(request):\n-    r1 = render_to_response('context_processors/auth_attrs_no_access.html',\n-        RequestContext(request, {}, processors=[context_processors.auth]))\n-    # *After* rendering, we check whether the session was accessed\n-    return render_to_response('context_processors/auth_attrs_test_access.html',\n-        {'session_accessed':request.session.accessed})\n-\n-def auth_processor_attr_access(request):\n-    r1 = render_to_response('context_processors/auth_attrs_access.html',\n-        RequestContext(request, {}, processors=[context_processors.auth]))\n-    return render_to_response('context_processors/auth_attrs_test_access.html',\n-        {'session_accessed':request.session.accessed})\n-\n-def auth_processor_user(request):\n-    return render_to_response('context_processors/auth_attrs_user.html',\n-        RequestContext(request, {}, processors=[context_processors.auth]))\n-\n-def auth_processor_perms(request):\n-    return render_to_response('context_processors/auth_attrs_perms.html',\n-        RequestContext(request, {}, processors=[context_processors.auth]))\n-\n-def auth_processor_messages(request):\n-    request.user.message_set.create(message=\"Message 1\")\n-    return render_to_response('context_processors/auth_attrs_messages.html',\n-         RequestContext(request, {}, processors=[context_processors.auth]))\n-\n-def userpage(request):\n-    pass"
        },
        {
            "sha": "a98a6a428298f26ba007c7f78ea3576d9a71d4da",
            "filename": "tests/regressiontests/csrf_tests/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcsrf_tests%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -50,14 +50,6 @@ class CsrfViewMiddlewareTest(TestCase):\n     _csrf_id_cookie = \"<1>\\xc2\\xa1\"\n     _csrf_id = \"1\"\n \n-    def setUp(self):\n-        self.save_warnings_state()\n-        warnings.filterwarnings('ignore', category=DeprecationWarning,\n-                                module='django.middleware.csrf')\n-\n-    def tearDown(self):\n-        self.restore_warnings_state()\n-\n     def _get_GET_no_csrf_cookie_request(self):\n         return TestingHttpRequest()\n "
        },
        {
            "sha": "8369de986a50e0269c8a619ff7e79609957c8d8d",
            "filename": "tests/regressiontests/forms/localflavor/cz.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fcz.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fcz.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fcz.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -12,7 +12,7 @@ def setUp(self):\n         self.save_warnings_state()\n         warnings.filterwarnings(\n             \"ignore\",\n-            category=PendingDeprecationWarning,\n+            category=DeprecationWarning,\n             module='django.contrib.localflavor.cz.forms'\n         )\n "
        },
        {
            "sha": "60dd1a8c6f596a85ccdfec74c2382c8f7ce45d8d",
            "filename": "tests/regressiontests/i18n/test_warnings.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftest_warnings.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -22,23 +22,23 @@ def tearDown(self):\n         settings.LOCALE_PATHS = self.old_locale_paths\n \n     def test_warn_if_project_has_locale_subdir(self):\n-        \"\"\"Test that PendingDeprecationWarning is generated when a deprecated project level locale/ subdir is present.\"\"\"\n+        \"\"\"Test that DeprecationWarning is generated when a deprecated project level locale/ subdir is present.\"\"\"\n         project_path = join(dirname(abspath(__file__)), '..')\n         warnings.filterwarnings('error',\n                 \"Translations in the project directory aren't supported anymore\\. Use the LOCALE_PATHS setting instead\\.\",\n-                PendingDeprecationWarning)\n+                DeprecationWarning)\n         _trans.__dict__ = {}\n-        self.assertRaises(PendingDeprecationWarning, django.utils.translation.ugettext, 'Time')\n+        self.assertRaises(DeprecationWarning, django.utils.translation.ugettext, 'Time')\n \n     def test_no_warn_if_project_and_locale_paths_overlap(self):\n-        \"\"\"Test that PendingDeprecationWarning isn't generated when a deprecated project level locale/ subdir is also included in LOCALE_PATHS.\"\"\"\n+        \"\"\"Test that DeprecationWarning isn't generated when a deprecated project level locale/ subdir is also included in LOCALE_PATHS.\"\"\"\n         project_path = join(dirname(abspath(__file__)), '..')\n         settings.LOCALE_PATHS += (normpath(join(project_path, 'locale')),)\n         warnings.filterwarnings('error',\n                 \"Translations in the project directory aren't supported anymore\\. Use the LOCALE_PATHS setting instead\\.\",\n-                PendingDeprecationWarning)\n+                DeprecationWarning)\n         _trans.__dict__ = {}\n         try:\n             django.utils.translation.ugettext('Time')\n-        except PendingDeprecationWarning:\n-            self.fail(\"PendingDeprecationWarning shouldn't be raised when settings/project locale and a LOCALE_PATHS member point to the same file system location.\")\n+        except DeprecationWarning:\n+            self.fail(\"DeprecationWarning shouldn't be raised when settings/project locale and a LOCALE_PATHS member point to the same file system location.\")"
        },
        {
            "sha": "5a4e8a7db29dd7fbe4ee4543a152363294a7e4de",
            "filename": "tests/regressiontests/settings_tests/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -30,7 +30,7 @@ def tearDown(self):\n \n     def test_blank(self):\n         \"\"\"\n-        If blank, no PendingDeprecationWarning error will be raised, even though it\n+        If blank, no DeprecationWarning error will be raised, even though it\n         doesn't end in a slash.\n         \"\"\"\n         self.settings_module.MEDIA_URL = ''\n@@ -49,19 +49,19 @@ def test_end_slash(self):\n \n     def test_no_end_slash(self):\n         \"\"\"\n-        MEDIA_URL raises an PendingDeprecationWarning error if it doesn't end in a\n+        MEDIA_URL raises an DeprecationWarning error if it doesn't end in a\n         slash.\n         \"\"\"\n         import warnings\n-        warnings.filterwarnings('error', 'If set, MEDIA_URL must end with a slash', PendingDeprecationWarning)\n+        warnings.filterwarnings('error', 'If set, MEDIA_URL must end with a slash', DeprecationWarning)\n \n         def setattr_settings(settings_module, attr, value):\n             setattr(settings_module, attr, value)\n \n-        self.assertRaises(PendingDeprecationWarning, setattr_settings,\n+        self.assertRaises(DeprecationWarning, setattr_settings,\n                           self.settings_module, 'MEDIA_URL', '/foo')\n \n-        self.assertRaises(PendingDeprecationWarning, setattr_settings,\n+        self.assertRaises(DeprecationWarning, setattr_settings,\n                           self.settings_module, 'MEDIA_URL',\n                           'http://media.foo.com')\n "
        },
        {
            "sha": "c310892f016db0975526c93b212fdd10f5e324c6",
            "filename": "tests/regressiontests/syndication/feeds.py",
            "status": "modified",
            "additions": 1,
            "deletions": 20,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Ffeeds.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Ffeeds.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Ffeeds.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,4 +1,4 @@\n-from django.contrib.syndication import feeds, views\n+from django.contrib.syndication import views\n from django.core.exceptions import ObjectDoesNotExist\n from django.utils import feedgenerator, tzinfo\n from models import Article, Entry\n@@ -121,22 +121,3 @@ def add_item_elements(self, handler, item):\n \n class TestCustomFeed(TestAtomFeed):\n     feed_type = MyCustomAtom1Feed\n-\n-\n-class DeprecatedComplexFeed(feeds.Feed):\n-    def get_object(self, bits):\n-        if len(bits) != 1:\n-            raise ObjectDoesNotExist\n-        return None\n-\n-\n-class DeprecatedRssFeed(feeds.Feed):\n-    link = \"/blog/\"\n-    title = 'My blog'\n-\n-    def items(self):\n-        return Entry.objects.all()\n-\n-    def item_link(self, item):\n-        return \"/blog/%s/\" % item.pk\n-"
        },
        {
            "sha": "3a2d7ebd743a8d82e35451a0a89ba8429ebfe043",
            "filename": "tests/regressiontests/syndication/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 59,
            "changes": 60,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -2,7 +2,7 @@\n import warnings\n from xml.dom import minidom\n \n-from django.contrib.syndication import feeds, views\n+from django.contrib.syndication import views\n from django.core.exceptions import ImproperlyConfigured\n from django.test import TestCase\n from django.utils import tzinfo\n@@ -304,61 +304,3 @@ def test_add_domain(self):\n             views.add_domain('example.com', 'mailto:uhoh@djangoproject.com'),\n             'mailto:uhoh@djangoproject.com'\n         )\n-\n-\n-######################################\n-# Deprecated feeds\n-######################################\n-\n-class DeprecatedSyndicationFeedTest(FeedTestCase):\n-    \"\"\"\n-    Tests for the deprecated API (feed() view and the feed_dict etc).\n-    \"\"\"\n-    def setUp(self):\n-        self.save_warnings_state()\n-        warnings.filterwarnings('ignore', category=DeprecationWarning,\n-                                module='django.contrib.syndication.feeds')\n-        warnings.filterwarnings('ignore', category=DeprecationWarning,\n-                                module='django.contrib.syndication.views')\n-\n-    def tearDown(self):\n-        self.restore_warnings_state()\n-\n-    def test_empty_feed_dict(self):\n-        \"\"\"\n-        Test that an empty feed_dict raises a 404.\n-        \"\"\"\n-        response = self.client.get('/syndication/depr-feeds-empty/aware-dates/')\n-        self.assertEqual(response.status_code, 404)\n-\n-    def test_nonexistent_slug(self):\n-        \"\"\"\n-        Test that a non-existent slug raises a 404.\n-        \"\"\"\n-        response = self.client.get('/syndication/depr-feeds/foobar/')\n-        self.assertEqual(response.status_code, 404)\n-\n-    def test_rss_feed(self):\n-        \"\"\"\n-        A simple test for Rss201rev2Feed feeds generated by the deprecated\n-        system.\n-        \"\"\"\n-        response = self.client.get('/syndication/depr-feeds/rss/')\n-        doc = minidom.parseString(response.content)\n-        feed = doc.getElementsByTagName('rss')[0]\n-        self.assertEqual(feed.getAttribute('version'), '2.0')\n-\n-        chan = feed.getElementsByTagName('channel')[0]\n-        self.assertChildNodes(chan, ['title', 'link', 'description', 'language', 'lastBuildDate', 'item', 'atom:link'])\n-\n-        items = chan.getElementsByTagName('item')\n-        self.assertEqual(len(items), Entry.objects.count())\n-\n-    def test_complex_base_url(self):\n-        \"\"\"\n-        Tests that the base url for a complex feed doesn't raise a 500\n-        exception.\n-        \"\"\"\n-        response = self.client.get('/syndication/depr-feeds/complex/')\n-        self.assertEqual(response.status_code, 404)\n-"
        },
        {
            "sha": "e3dbc026654e1ed33114ade74b614410b251f205",
            "filename": "tests/regressiontests/syndication/urls.py",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fsyndication%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Furls.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -2,11 +2,6 @@\n \n import feeds\n \n-feed_dict = {\n-    'complex': feeds.DeprecatedComplexFeed,\n-    'rss': feeds.DeprecatedRssFeed,\n-}\n-\n urlpatterns = patterns('django.contrib.syndication.views',\n     (r'^complex/(?P<foo>.*)/$', feeds.ComplexFeed()),\n     (r'^rss2/$', feeds.TestRss2Feed()),\n@@ -18,7 +13,4 @@\n     (r'^feedurl/$', feeds.TestFeedUrlFeed()),\n     (r'^articles/$', feeds.ArticlesFeed()),\n     (r'^template/$', feeds.TemplateFeed()),\n-\n-    (r'^depr-feeds/(?P<url>.*)/$', 'feed', {'feed_dict': feed_dict}),\n-    (r'^depr-feeds-empty/(?P<url>.*)/$', 'feed', {'feed_dict': None}),\n )"
        },
        {
            "sha": "301aab4408d9fc3602af10625682ab7a98161ec8",
            "filename": "tests/regressiontests/templates/loaders.py",
            "status": "modified",
            "additions": 0,
            "deletions": 27,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Ftemplates%2Floaders.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Ftemplates%2Floaders.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Floaders.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -57,33 +57,6 @@ def create_egg(name, resources):\n     egg._resources = resources\n     sys.modules[name] = egg\n \n-class DeprecatedEggLoaderTest(unittest.TestCase):\n-    \"Test the deprecated load_template_source interface to the egg loader\"\n-    def setUp(self):\n-        pkg_resources._provider_factories[MockLoader] = MockProvider\n-\n-        self.empty_egg = create_egg(\"egg_empty\", {})\n-        self.egg_1 = create_egg(\"egg_1\", {\n-            os.path.normcase('templates/y.html') : StringIO.StringIO(\"y\"),\n-            os.path.normcase('templates/x.txt') : StringIO.StringIO(\"x\"),\n-        })\n-        self._old_installed_apps = settings.INSTALLED_APPS\n-        settings.INSTALLED_APPS = []\n-        self._warnings_state = get_warnings_state()\n-        warnings.filterwarnings(\"ignore\", category=DeprecationWarning,\n-                                module='django.template.loaders.eggs')\n-\n-    def tearDown(self):\n-        settings.INSTALLED_APPS = self._old_installed_apps\n-        restore_warnings_state(self._warnings_state)\n-\n-    def test_existing(self):\n-        \"A template can be loaded from an egg\"\n-        settings.INSTALLED_APPS = ['egg_1']\n-        contents, template_name = lts_egg(\"y.html\")\n-        self.assertEqual(contents, \"y\")\n-        self.assertEqual(template_name, \"egg:egg_1:templates/y.html\")\n-\n \n class EggLoaderTest(unittest.TestCase):\n     def setUp(self):"
        },
        {
            "sha": "e8881fc83bd8408978cb93200957107099bd409f",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -11,12 +11,14 @@\n import os\n import sys\n import traceback\n+import warnings\n \n from django import template\n from django.template import base as template_base\n from django.core import urlresolvers\n from django.template import loader\n from django.template.loaders import app_directories, filesystem, cached\n+from django.test.utils import get_warnings_state, restore_warnings_state\n from django.utils import unittest\n from django.utils.translation import activate, deactivate, ugettext as _\n from django.utils.safestring import mark_safe\n@@ -137,6 +139,10 @@ def __str__(self):\n \n class Templates(unittest.TestCase):\n     def setUp(self):\n+        self._warnings_state = get_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.template.defaulttags')\n+\n         self.old_static_url = settings.STATIC_URL\n         self.old_media_url = settings.MEDIA_URL\n         settings.STATIC_URL = u\"/static/\"\n@@ -145,6 +151,7 @@ def setUp(self):\n     def tearDown(self):\n         settings.STATIC_URL = self.old_static_url\n         settings.MEDIA_URL = self.old_media_url\n+        restore_warnings_state(self._warnings_state)\n \n     def test_loaders_security(self):\n         ad_loader = app_directories.Loader()"
        },
        {
            "sha": "559852e663dad2273933e27f5e355317cde9d971",
            "filename": "tests/regressiontests/views/tests/debug.py",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fdebug.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,5 +1,6 @@\n import inspect\n import sys\n+import warnings\n \n from django.conf import settings\n from django.core.files.uploadedfile import SimpleUploadedFile\n@@ -13,6 +14,16 @@\n \n class DebugViewTests(TestCase):\n     def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.simple')\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.date_based')\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.list_detail')\n+\n         self.old_debug = settings.DEBUG\n         settings.DEBUG = True\n         self.old_template_debug = settings.TEMPLATE_DEBUG\n@@ -21,6 +32,7 @@ def setUp(self):\n     def tearDown(self):\n         settings.DEBUG = self.old_debug\n         settings.TEMPLATE_DEBUG = self.old_template_debug\n+        self.restore_warnings_state()\n \n     def test_files(self):\n         response = self.client.get('/views/raises/')"
        },
        {
            "sha": "4a50ee3a957f084e1ad318cdbd60d53aa33cb576",
            "filename": "tests/regressiontests/views/tests/generic/create_update.py",
            "status": "modified",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fcreate_update.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fcreate_update.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fcreate_update.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,4 +1,5 @@\n import datetime\n+import warnings\n \n from django.test import TestCase\n from django.core.exceptions import ImproperlyConfigured\n@@ -8,6 +9,14 @@ class CreateObjectTest(TestCase):\n \n     fixtures = ['testdata.json']\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_login_required_view(self):\n         \"\"\"\n         Verifies that an unauthenticated user attempting to access a\n@@ -69,6 +78,14 @@ class UpdateDeleteObjectTest(TestCase):\n \n     fixtures = ['testdata.json']\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_update_object_form_display(self):\n         \"\"\"\n         Verifies that the form was created properly and with initial values.\n@@ -129,6 +146,14 @@ class PostSaveRedirectTests(TestCase):\n     update_redirect = '/views/create_update/view/article/another-article-slug/'\n     delete_redirect = '/views/create_update/'\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_create_article(self):\n         num_articles = self.article_model.objects.count()\n         response = self.client.post(self.create_url, {\n@@ -173,6 +198,14 @@ class NoPostSaveNoAbsoluteUrl(PostSaveRedirectTests):\n     create_url = '/views/create_update/no_redirect/create/article/'\n     update_url = '/views/create_update/no_redirect/update/article/old_article/'\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_create_article(self):\n         self.assertRaises(ImproperlyConfigured,\n             super(NoPostSaveNoAbsoluteUrl, self).test_create_article)\n@@ -203,6 +236,14 @@ class AbsoluteUrlNoPostSave(PostSaveRedirectTests):\n     create_redirect = '/urlarticles/my-first-article/'\n     update_redirect = '/urlarticles/another-article-slug/'\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_delete_article(self):\n         \"\"\"\n         The delete_object view requires a post_delete_redirect, so skip testing"
        },
        {
            "sha": "7815497b34a6bb2357815833cde19fce0f26bb61",
            "filename": "tests/regressiontests/views/tests/generic/date_based.py",
            "status": "modified",
            "additions": 25,
            "deletions": 0,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fdate_based.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fdate_based.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fdate_based.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,4 +1,6 @@\n # coding: utf-8\n+import warnings\n+\n from django.test import TestCase\n from datetime import datetime, date\n from datetime import timedelta\n@@ -7,11 +9,17 @@\n class ObjectDetailTest(TestCase):\n     fixtures = ['testdata.json']\n     def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.date_based')\n         # Correct the date for the current article\n         current_article = Article.objects.get(title=\"Current Article\")\n         current_article.date_created = datetime.now()\n         current_article.save()\n \n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_finds_past(self):\n         \"date_based.object_detail can view a page in the past\"\n         response = self.client.get('/views/date_based/object_detail/2001/01/01/old_article/')\n@@ -37,6 +45,14 @@ def test_object_detail_allowed_future_if_enabled(self):\n         self.assertEqual(response.context['object'].title, \"Future Article\")\n \n class MonthArchiveTest(TestCase):\n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.date_based')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_archive_month_includes_only_month(self):\n         \"Regression for #3031: Archives around Feburary include only one month\"\n         author = Author(name=\"John Smith\")\n@@ -128,6 +144,15 @@ def test_archive_month_date_list(self):\n         self.assertEqual(len(response.context['date_list']), 2)\n \n class DayArchiveTests(TestCase):\n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.date_based')\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.create_update')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n \n     def test_year_month_day_format(self):\n         \"\"\""
        },
        {
            "sha": "834ead5ddeacb27abea595d909464871b6c4a47e",
            "filename": "tests/regressiontests/views/tests/generic/object_list.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fobject_list.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fobject_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fobject_list.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,8 +1,17 @@\n+import warnings\n+\n from django.test import TestCase\n \n \n class ObjectListTest(TestCase):\n     fixtures = ['testdata.json']\n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.object_list')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n \n     def check_pagination(self, url, expected_status_code, object_count=None):\n         response = self.client.get(url)"
        },
        {
            "sha": "8329229b8c280ef5d7edd1936afc216964977641",
            "filename": "tests/regressiontests/views/tests/generic/simple.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fsimple.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fsimple.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fgeneric%2Fsimple.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,8 +1,17 @@\n # coding: utf-8\n+import warnings\n \n from django.test import TestCase\n \n class RedirectToTest(TestCase):\n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.simple')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_redirect_to_returns_permanent_redirect(self):\n         \"simple.redirect_to returns a permanent redirect (301) by default\"\n         response = self.client.get('/views/simple/redirect_to/')"
        },
        {
            "sha": "4dc2f2e99ef251e6a03dddac23c696a034c0112a",
            "filename": "tests/regressiontests/views/tests/shortcuts.py",
            "status": "modified",
            "additions": 14,
            "deletions": 5,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fshortcuts.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Ftests%2Fshortcuts.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Ftests%2Fshortcuts.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -1,16 +1,25 @@\n+import warnings\n+\n from django.conf import settings\n from django.test import TestCase\n \n class ShortcutTests(TestCase):\n     def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.views.generic.simple')\n+\n         self.old_STATIC_URL = settings.STATIC_URL\n         self.old_TEMPLATE_CONTEXT_PROCESSORS = settings.TEMPLATE_CONTEXT_PROCESSORS\n \n-        settings.STATIC_URL = '/path/to/static/media'\n+        settings.STATIC_URL = '/path/to/static/media/'\n         settings.TEMPLATE_CONTEXT_PROCESSORS = (\n             'django.core.context_processors.static'\n         )\n \n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def tearDown(self):\n         settings.STATIC_URL = self.old_STATIC_URL\n         settings.TEMPLATE_CONTEXT_PROCESSORS = self.old_TEMPLATE_CONTEXT_PROCESSORS\n@@ -24,7 +33,7 @@ def test_render_to_response(self):\n     def test_render_to_response_with_request_context(self):\n         response = self.client.get('/views/shortcuts/render_to_response/request_context/')\n         self.assertEqual(response.status_code, 200)\n-        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media\\n')\n+        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media/\\n')\n         self.assertEqual(response['Content-Type'], 'text/html; charset=utf-8')\n \n     def test_render_to_response_with_mimetype(self):\n@@ -36,7 +45,7 @@ def test_render_to_response_with_mimetype(self):\n     def test_render(self):\n         response = self.client.get('/views/shortcuts/render/')\n         self.assertEqual(response.status_code, 200)\n-        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media\\n')\n+        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media/\\n')\n         self.assertEqual(response['Content-Type'], 'text/html; charset=utf-8')\n         self.assertEqual(response.context.current_app, None)\n \n@@ -49,13 +58,13 @@ def test_render_with_base_context(self):\n     def test_render_with_content_type(self):\n         response = self.client.get('/views/shortcuts/render/content_type/')\n         self.assertEqual(response.status_code, 200)\n-        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media\\n')\n+        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media/\\n')\n         self.assertEqual(response['Content-Type'], 'application/x-rendertest')\n \n     def test_render_with_status(self):\n         response = self.client.get('/views/shortcuts/render/status/')\n         self.assertEqual(response.status_code, 403)\n-        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media\\n')\n+        self.assertEqual(response.content, 'FOO.BAR../path/to/static/media/\\n')\n \n     def test_render_with_current_app(self):\n         response = self.client.get('/views/shortcuts/render/current_app/')"
        },
        {
            "sha": "7226530d57e6eae7e8613a9c1918fba96858cdfc",
            "filename": "tests/regressiontests/views/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fregressiontests%2Fviews%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Fviews.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -6,7 +6,6 @@\n from django.shortcuts import render_to_response, render\n from django.template import Context, RequestContext, TemplateDoesNotExist\n from django.views.debug import technical_500_response\n-from django.views.generic.create_update import create_object\n \n from regressiontests.views import BrokenException, except_args\n \n@@ -31,6 +30,7 @@ def save(self, *args, **kwargs):\n             self.instance.slug = 'some-other-slug'\n             return super(SlugChangingArticleForm, self).save(*args, **kwargs)\n \n+    from django.views.generic.create_update import create_object\n     return create_object(request,\n         post_save_redirect='/views/create_update/view/article/%(slug)s/',\n         form_class=SlugChangingArticleForm)"
        },
        {
            "sha": "6b88c5d1673971f1b4520612f9a24b4f2b68b6d5",
            "filename": "tests/runtests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 13,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fruntests.py",
            "raw_url": "https://github.com/django/django/raw/4c468800ee82d89e715e11af291bb326d47c3ce9/tests%2Fruntests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fruntests.py?ref=4c468800ee82d89e715e11af291bb326d47c3ce9",
            "patch": "@@ -188,19 +188,8 @@ def django_tests(verbosity, interactive, failfast, test_labels):\n         settings.TEST_RUNNER = 'django.test.simple.DjangoTestSuiteRunner'\n     TestRunner = get_runner(settings)\n \n-    if hasattr(TestRunner, 'func_name'):\n-        # Pre 1.2 test runners were just functions,\n-        # and did not support the 'failfast' option.\n-        import warnings\n-        warnings.warn(\n-            'Function-based test runners are deprecated. Test runners should be classes with a run_tests() method.',\n-            DeprecationWarning\n-        )\n-        failures = TestRunner(test_labels, verbosity=verbosity, interactive=interactive,\n-            extra_tests=extra_tests)\n-    else:\n-        test_runner = TestRunner(verbosity=verbosity, interactive=interactive, failfast=failfast)\n-        failures = test_runner.run_tests(test_labels, extra_tests=extra_tests)\n+    test_runner = TestRunner(verbosity=verbosity, interactive=interactive, failfast=failfast)\n+    failures = test_runner.run_tests(test_labels, extra_tests=extra_tests)\n \n     teardown(state)\n     return failures"
        }
    ],
    "stats": {
        "total": 553,
        "additions": 255,
        "deletions": 298
    }
}