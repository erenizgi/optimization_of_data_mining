{
    "author": "akaariai",
    "message": "Fixed #19197 -- fixed convert_values() for nullable numeric fields\n\nCleaned up the implementation of base convert_values() a little, and\nmade sure it accepts None as a value for numeric fields.\n\nThere are no tests attached. The reason is that not all of the\nconvert_values() accept None as a value for numeric fields (for example\nsqlite3.convert_values()).\n\nThe reason the base convert_values() needs to accept None is that this\nsituation might arise in custom compilers for 3rd party backends. It\nis easy to keep the convert_values() working, so lets do that.",
    "sha": "12a96bfa263d514884ef11009913b2f8bb163472",
    "files": [
        {
            "sha": "5116f506688f6c557d5daf62067e6a49576f98ef",
            "filename": "django/db/backends/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/12a96bfa263d514884ef11009913b2f8bb163472/django%2Fdb%2Fbackends%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/12a96bfa263d514884ef11009913b2f8bb163472/django%2Fdb%2Fbackends%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2F__init__.py?ref=12a96bfa263d514884ef11009913b2f8bb163472",
            "patch": "@@ -883,16 +883,14 @@ def convert_values(self, value, field):\n         Coerce the value returned by the database backend into a consistent type\n         that is compatible with the field type.\n         \"\"\"\n-        internal_type = field.get_internal_type()\n-        if internal_type == 'DecimalField':\n+        if value is None:\n             return value\n-        elif internal_type == 'FloatField':\n+        internal_type = field.get_internal_type()\n+        if internal_type == 'FloatField':\n             return float(value)\n         elif (internal_type and (internal_type.endswith('IntegerField')\n                                  or internal_type == 'AutoField')):\n             return int(value)\n-        elif internal_type in ('DateField', 'DateTimeField', 'TimeField'):\n-            return value\n         return value\n \n     def check_aggregate_support(self, aggregate_func):"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 3,
        "deletions": 5
    }
}