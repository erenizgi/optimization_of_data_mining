{
    "author": "stephrdev",
    "message": "Fixed #18026 -- Don't return an anonymous dict if extra_data in storage is empty.",
    "sha": "97121cb96e2f9f02f977010b5549b88f1a73610b",
    "files": [
        {
            "sha": "17968dfcda9809187ac9ab0b043e3eed0f3d5f10",
            "filename": "django/contrib/formtools/tests/wizard/storage.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/97121cb96e2f9f02f977010b5549b88f1a73610b/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fstorage.py",
            "raw_url": "https://github.com/django/django/raw/97121cb96e2f9f02f977010b5549b88f1a73610b/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fstorage.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2Fwizard%2Fstorage.py?ref=97121cb96e2f9f02f977010b5549b88f1a73610b",
            "patch": "@@ -75,3 +75,13 @@ def test_extra_context(self):\n         storage.extra_data = extra_context\n         storage2 = self.get_storage()('wizard2', request, None)\n         self.assertEqual(storage2.extra_data, {})\n+\n+    def test_extra_context_key_persistence(self):\n+        request = get_request()\n+        storage = self.get_storage()('wizard1', request, None)\n+\n+        self.assertFalse('test' in storage.extra_data)\n+\n+        storage.extra_data['test'] = True\n+\n+        self.assertTrue('test' in storage.extra_data)"
        },
        {
            "sha": "6c155e0ff0f90f0f2d79ead7f8afb5a8c0b6ac5a",
            "filename": "django/contrib/formtools/wizard/storage/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/97121cb96e2f9f02f977010b5549b88f1a73610b/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/97121cb96e2f9f02f977010b5549b88f1a73610b/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py?ref=97121cb96e2f9f02f977010b5549b88f1a73610b",
            "patch": "@@ -37,7 +37,7 @@ def _set_current_step(self, step):\n     current_step = lazy_property(_get_current_step, _set_current_step)\n \n     def _get_extra_data(self):\n-        return self.data[self.extra_data_key] or {}\n+        return self.data[self.extra_data_key]\n \n     def _set_extra_data(self, extra_data):\n         self.data[self.extra_data_key] = extra_data"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 11,
        "deletions": 1
    }
}