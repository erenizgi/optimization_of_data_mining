{
    "author": "alex",
    "message": "Merge pull request #22 from aviraldg/test_17967\n\nAdded regression test for #17967.  Thanks to aviraldg for the patch!",
    "sha": "e75bd7e51cd6fe1f02fcdb438d58770917116c8f",
    "files": [
        {
            "sha": "0be8b36b2751c9dc0447d120cb664f23e9cddef9",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/e75bd7e51cd6fe1f02fcdb438d58770917116c8f/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/e75bd7e51cd6fe1f02fcdb438d58770917116c8f/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=e75bd7e51cd6fe1f02fcdb438d58770917116c8f",
            "patch": "@@ -572,6 +572,21 @@ def test_allowed_filtering_15103(self):\n         except SuspiciousOperation:\n             self.fail(\"Filters should be allowed if they are defined on a ForeignKey pointing to this model\")\n \n+    def test_hide_change_password(self):\n+        \"\"\"\n+        Tests if the \"change password\" link in the admin is hidden if the User\n+        does not have a usable password set.\n+        (against 9bea85795705d015cdadc82c68b99196a8554f5c)\n+        \"\"\"\n+        user = User.objects.get(username='super')\n+        password = user.password\n+        user.set_unusable_password()\n+        user.save()\n+\n+        response = self.client.get('/test_admin/admin/')\n+        self.assertFalse(reverse('admin:password_change') in response.content,\n+            msg='The \"change password\" link should not be displayed if a user does not have a usable password.')\n+\n \n class AdminViewFormUrlTest(TestCase):\n     urls = \"regressiontests.admin_views.urls\""
        }
    ],
    "stats": {
        "total": 15,
        "additions": 15,
        "deletions": 0
    }
}