{
    "author": "jacobian",
    "message": "Minor cleanup to the select_for_update tests (as suggested by Alex Gaynor).\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16060 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "6488f15a8efa6861361b6dbef02b890a997a75aa",
    "files": [
        {
            "sha": "2e4eaed44710693d588acbe3fb43ca89b3b85577",
            "filename": "tests/modeltests/select_for_update/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 8,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/6488f15a8efa6861361b6dbef02b890a997a75aa/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6488f15a8efa6861361b6dbef02b890a997a75aa/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fselect_for_update%2Ftests.py?ref=6488f15a8efa6861361b6dbef02b890a997a75aa",
            "patch": "@@ -11,17 +11,13 @@\n \n from models import Person\n \n+# Some tests require threading, which might not be available. So create a\n+# skip-test decorator for those test functions.\n try:\n     import threading\n-    def requires_threading(func):\n-        return func\n except ImportError:\n-    # Note we can't use dummy_threading here, as our tests will actually\n-    # block. We just have to skip the test completely.\n-    def requires_threading(func):\n-        @wraps(func)\n-        def wrapped(*args, **kw):\n-            raise unittest.SkipTest('threading required')\n+    threading = None\n+requires_threading = unittest.skipUnless(threading, 'requires threading')\n \n class SelectForUpdateTests(TransactionTestCase):\n "
        }
    ],
    "stats": {
        "total": 12,
        "additions": 4,
        "deletions": 8
    }
}