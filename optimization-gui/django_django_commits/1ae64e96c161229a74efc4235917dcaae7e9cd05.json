{
    "author": "spookylukey",
    "message": "Fixed a dependence on set-ordering in tests",
    "sha": "1ae64e96c161229a74efc4235917dcaae7e9cd05",
    "files": [
        {
            "sha": "11f792e07ad46adf260d0a1e896b7815f1f25132",
            "filename": "tests/regressiontests/admin_filters/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/1ae64e96c161229a74efc4235917dcaae7e9cd05/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/1ae64e96c161229a74efc4235917dcaae7e9cd05/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_filters%2Ftests.py?ref=1ae64e96c161229a74efc4235917dcaae7e9cd05",
            "patch": "@@ -83,11 +83,11 @@ class DepartmentListFilterLookupWithNonStringValue(SimpleListFilter):\n     parameter_name = 'department'\n \n     def lookups(self, request, model_admin):\n-        return set([\n+        return sorted(set([\n             (employee.department.id,  # Intentionally not a string (Refs #19318)\n              employee.department.code)\n             for employee in model_admin.queryset(request).all()\n-        ])\n+        ]))\n \n     def queryset(self, request, queryset):\n         if self.value():\n@@ -683,9 +683,9 @@ def test_lookup_with_non_string_value(self):\n         filterspec = changelist.get_filters(request)[0][-1]\n         self.assertEqual(force_text(filterspec.title), 'department')\n         choices = list(filterspec.choices(changelist))\n-        self.assertEqual(choices[2]['display'], 'DEV')\n-        self.assertEqual(choices[2]['selected'], True)\n-        self.assertEqual(choices[2]['query_string'], '?department=%s' % self.john.pk)\n+        self.assertEqual(choices[1]['display'], 'DEV')\n+        self.assertEqual(choices[1]['selected'], True)\n+        self.assertEqual(choices[1]['query_string'], '?department=%s' % self.john.pk)\n \n     def test_fk_with_to_field(self):\n         \"\"\""
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}