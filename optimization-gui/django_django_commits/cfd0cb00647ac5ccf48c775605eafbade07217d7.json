{
    "author": "aaugustin",
    "message": "Fixed #17319 -- Made the example for set_language less error-prone. Thanks Anna Dolma Alonso for the report.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17560 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "cfd0cb00647ac5ccf48c775605eafbade07217d7",
    "files": [
        {
            "sha": "6bb6a0c5e4f1ba16b8814b73f1193594469e60bc",
            "filename": "docs/topics/i18n/translation.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/cfd0cb00647ac5ccf48c775605eafbade07217d7/docs%2Ftopics%2Fi18n%2Ftranslation.txt",
            "raw_url": "https://github.com/django/django/raw/cfd0cb00647ac5ccf48c775605eafbade07217d7/docs%2Ftopics%2Fi18n%2Ftranslation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fi18n%2Ftranslation.txt?ref=cfd0cb00647ac5ccf48c775605eafbade07217d7",
            "patch": "@@ -1240,7 +1240,8 @@ The ``set_language`` redirect view\n .. function:: set_language(request)\n \n As a convenience, Django comes with a view, :func:`django.views.i18n.set_language`,\n-that sets a user's language preference and redirects back to the previous page.\n+that sets a user's language preference and redirects to a given URL or, by default,\n+back to the previous page.\n \n Activate this view by adding the following line to your URLconf::\n \n@@ -1269,7 +1270,7 @@ Here's example HTML template code:\n \n     <form action=\"/i18n/setlang/\" method=\"post\">\n     {% csrf_token %}\n-    <input name=\"next\" type=\"hidden\" value=\"/next/page/\" />\n+    <input name=\"next\" type=\"hidden\" value=\"{{ redirect_to }}\" />\n     <select name=\"language\">\n     {% get_language_info_list for LANGUAGES as languages %}\n     {% for language in languages %}\n@@ -1279,6 +1280,9 @@ Here's example HTML template code:\n     <input type=\"submit\" value=\"Go\" />\n     </form>\n \n+In this example, Django looks up the URL of the page to which the user will be\n+redirected in the ``redirect_to`` context variable.\n+\n Using translations outside views and templates\n ----------------------------------------------\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 6,
        "deletions": 2
    }
}