{
    "author": "jezdez",
    "message": "Fixed #16533 -- Stopped the memcache cache backend from raising an exception if the timeout value isn't an integer. Thanks, Jeff Balogh.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16556 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "db594f90ba684f45bfc8033fb190afdf567ad9f0",
    "files": [
        {
            "sha": "aa1b4513c0afd0843a0a199eaa003c1cae952ab7",
            "filename": "django/core/cache/backends/memcached.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/db594f90ba684f45bfc8033fb190afdf567ad9f0/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "raw_url": "https://github.com/django/django/raw/db594f90ba684f45bfc8033fb190afdf567ad9f0/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py?ref=db594f90ba684f45bfc8033fb190afdf567ad9f0",
            "patch": "@@ -46,7 +46,7 @@ def _get_memcache_timeout(self, timeout):\n             #\n             # This means that we have to switch to absolute timestamps.\n             timeout += int(time.time())\n-        return timeout\n+        return int(timeout)\n \n     def add(self, key, value, timeout=0, version=None):\n         key = self.make_key(key, version=version)"
        },
        {
            "sha": "6a5201ffebd07b3b4270440c5703637236ec2ac7",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/db594f90ba684f45bfc8033fb190afdf567ad9f0/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/db594f90ba684f45bfc8033fb190afdf567ad9f0/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=db594f90ba684f45bfc8033fb190afdf567ad9f0",
            "patch": "@@ -408,6 +408,11 @@ def test_long_timeout(self):\n         self.assertEqual(self.cache.get('key3'), 'sausage')\n         self.assertEqual(self.cache.get('key4'), 'lobster bisque')\n \n+    def test_float_timeout(self):\n+        # Make sure a timeout given as a float doesn't crash anything.\n+        self.cache.set(\"key1\", \"spam\", 100.2)\n+        self.assertEqual(self.cache.get(\"key1\"), \"spam\")\n+\n     def perform_cull_test(self, initial_count, final_count):\n         \"\"\"This is implemented as a utility method, because only some of the backends\n         implement culling. The culling algorithm also varies slightly, so the final"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}