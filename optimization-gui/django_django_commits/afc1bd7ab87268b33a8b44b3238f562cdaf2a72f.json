{
    "author": "aaugustin",
    "message": "[py3] Made 212b9826bd Python 3-friendly",
    "sha": "afc1bd7ab87268b33a8b44b3238f562cdaf2a72f",
    "files": [
        {
            "sha": "0ee789ebb5dd82c84f474dae421fd774871ad5a7",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=afc1bd7ab87268b33a8b44b3238f562cdaf2a72f",
            "patch": "@@ -126,13 +126,13 @@ def strip_tags(value):\n def remove_tags(html, tags):\n     \"\"\"Returns the given HTML with given tags removed.\"\"\"\n     tags = [re.escape(tag) for tag in tags.split()]\n-    tags_re = u'(%s)' % u'|'.join(tags)\n-    starttag_re = re.compile(ur'<%s(/?>|(\\s+[^>]*>))' % tags_re, re.U)\n-    endtag_re = re.compile(u'</%s>' % tags_re)\n-    html = starttag_re.sub(u'', html)\n-    html = endtag_re.sub(u'', html)\n+    tags_re = '(%s)' % '|'.join(tags)\n+    starttag_re = re.compile(r'<%s(/?>|(\\s+[^>]*>))' % tags_re, re.U)\n+    endtag_re = re.compile('</%s>' % tags_re)\n+    html = starttag_re.sub('', html)\n+    html = endtag_re.sub('', html)\n     return html\n-remove_tags = allow_lazy(remove_tags, unicode)\n+remove_tags = allow_lazy(remove_tags, six.text_type)\n \n def strip_spaces_between_tags(value):\n     \"\"\"Returns the given HTML with spaces between tags removed.\"\"\""
        },
        {
            "sha": "ca79a24f7c7858f487a40723b7c6dba827a3e1f9",
            "filename": "django/utils/text.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/django%2Futils%2Ftext.py",
            "raw_url": "https://github.com/django/django/raw/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/django%2Futils%2Ftext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftext.py?ref=afc1bd7ab87268b33a8b44b3238f562cdaf2a72f",
            "patch": "@@ -391,7 +391,7 @@ def slugify(value):\n     underscores) and converts spaces to hyphens. Also strips leading and\n     trailing whitespace.\n     \"\"\"\n-    value = unicodedata.normalize('NFKD', value).encode('ascii', 'ignore')\n-    value = unicode(re.sub('[^\\w\\s-]', '', value).strip().lower())\n+    value = unicodedata.normalize('NFKD', value).encode('ascii', 'ignore').decode('ascii')\n+    value = re.sub('[^\\w\\s-]', '', value).strip().lower()\n     return mark_safe(re.sub('[-\\s]+', '-', value))\n-slugify = allow_lazy(slugify, unicode)\n+slugify = allow_lazy(slugify, six.text_type)"
        },
        {
            "sha": "ebf67952f99b8768c82c2811c493a6f9cd172e73",
            "filename": "tests/regressiontests/utils/text.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/tests%2Fregressiontests%2Futils%2Ftext.py",
            "raw_url": "https://github.com/django/django/raw/afc1bd7ab87268b33a8b44b3238f562cdaf2a72f/tests%2Fregressiontests%2Futils%2Ftext.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Ftext.py?ref=afc1bd7ab87268b33a8b44b3238f562cdaf2a72f",
            "patch": "@@ -116,8 +116,8 @@ def test_wrap(self):\n \n     def test_slugify(self):\n         items = (\n-            (u'Hello, World!', 'hello-world'),\n-            (u'spam & eggs', 'spam-eggs'),\n+            ('Hello, World!', 'hello-world'),\n+            ('spam & eggs', 'spam-eggs'),\n         )\n         for value, output in items:\n             self.assertEqual(text.slugify(value), output)"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 11,
        "deletions": 11
    }
}