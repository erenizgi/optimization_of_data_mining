{
    "author": "timgraham",
    "message": "Fixed #17016 - Added examples for file uploads in views.\n\nThanks Tim Saylor for the draft patch and Aymeric Augustin and Claude Paroz for feedback.",
    "sha": "eff6ba2f64ea5426502daadb04fbe1e85ace068a",
    "files": [
        {
            "sha": "0ea0ca6da7dbb37e0f9144700cea0065cd441ac6",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/eff6ba2f64ea5426502daadb04fbe1e85ace068a/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/eff6ba2f64ea5426502daadb04fbe1e85ace068a/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=eff6ba2f64ea5426502daadb04fbe1e85ace068a",
            "patch": "@@ -467,6 +467,7 @@ answer newbie questions, and generally made Django that much better:\n     Vinay Sajip <vinay_sajip@yahoo.co.uk>\n     Bartolome Sanchez Salado <i42sasab@uco.es>\n     Kadesarin Sanjek\n+    Tim Saylor <tim.saylor@gmail.com>\n     Massimo Scamarcia <massimo.scamarcia@gmail.com>\n     Paulo Scardine <paulo@scardine.com.br>\n     David Schein"
        },
        {
            "sha": "0b0ef3b19314c99642c10bf11ff2deefa87698b1",
            "filename": "docs/topics/http/file-uploads.txt",
            "status": "modified",
            "additions": 44,
            "deletions": 0,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/eff6ba2f64ea5426502daadb04fbe1e85ace068a/docs%2Ftopics%2Fhttp%2Ffile-uploads.txt",
            "raw_url": "https://github.com/django/django/raw/eff6ba2f64ea5426502daadb04fbe1e85ace068a/docs%2Ftopics%2Fhttp%2Ffile-uploads.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fhttp%2Ffile-uploads.txt?ref=eff6ba2f64ea5426502daadb04fbe1e85ace068a",
            "patch": "@@ -178,6 +178,50 @@ Three settings control Django's file upload behavior:\n     Which means \"try to upload to memory first, then fall back to temporary\n     files.\"\n \n+Handling uploaded files with a model\n+------------------------------------\n+\n+If you're saving a file on a :class:`~django.db.models.Model` with a\n+:class:`~django.db.models.FileField`, using a :class:`~django.forms.ModelForm`\n+makes this process much easier. The file object will be saved when calling\n+``form.save()``::\n+\n+    from django.http import HttpResponseRedirect\n+    from django.shortcuts import render\n+    from .forms import ModelFormWithFileField\n+\n+    def upload_file(request):\n+        if request.method == 'POST':\n+            form = ModelFormWithFileField(request.POST, request.FILES)\n+            if form.is_valid():\n+                # file is saved\n+                form.save()\n+                return HttpResponseRedirect('/success/url/')\n+        else:\n+            form = ModelFormWithFileField()\n+        return render('upload.html', {'form': form})\n+\n+If you are constructing an object manually, you can simply assign the file\n+object from :attr:`request.FILES <django.http.HttpRequest.FILES>` to the file\n+field in the model::\n+\n+    from django.http import HttpResponseRedirect\n+    from django.shortcuts import render\n+    from .forms import UploadFileForm\n+    from .models import ModelWithFileField\n+\n+    def upload_file(request):\n+        if request.method == 'POST':\n+            form = UploadFileForm(request.POST, request.FILES)\n+            if form.is_valid():\n+                instance = ModelWithFileField(file_field=request.FILES['file'])\n+                instance.save()\n+                return HttpResponseRedirect('/success/url/')\n+        else:\n+            form = UploadFileForm()\n+        return render('upload.html', {'form': form})\n+\n+\n ``UploadedFile`` objects\n ========================\n "
        }
    ],
    "stats": {
        "total": 45,
        "additions": 45,
        "deletions": 0
    }
}