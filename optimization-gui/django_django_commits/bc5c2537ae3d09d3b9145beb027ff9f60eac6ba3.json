{
    "author": "jezdez",
    "message": "Fixed #14132 -- Fixed feedgenerator to support years < 1900. Thanks, mk.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15503 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3",
    "files": [
        {
            "sha": "15476f8b0f96aebfd3e62664a9e230332f184941",
            "filename": "django/utils/feedgenerator.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3/django%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3/django%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffeedgenerator.py?ref=bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3",
            "patch": "@@ -27,13 +27,15 @@\n import urlparse\n from django.utils.xmlutils import SimplerXMLGenerator\n from django.utils.encoding import force_unicode, iri_to_uri\n+from django.utils import datetime_safe\n \n def rfc2822_date(date):\n     # We can't use strftime() because it produces locale-dependant results, so\n     # we have to map english month and day names manually\n     months = ('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',)\n     days = ('Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun')\n-\n+    # Support datetime objects older than 1900\n+    date = datetime_safe.new_datetime(date)\n     # We do this ourselves to be timezone aware, email.Utils is not tz aware.\n     dow = days[date.weekday()]\n     month = months[date.month - 1]\n@@ -47,6 +49,8 @@ def rfc2822_date(date):\n         return time_str + '-0000'\n \n def rfc3339_date(date):\n+    # Support datetime objects older than 1900\n+    date = datetime_safe.new_datetime(date)\n     if date.tzinfo:\n         time_str = date.strftime('%Y-%m-%dT%H:%M:%S')\n         offset = date.tzinfo.utcoffset(date)\n@@ -71,7 +75,7 @@ def get_tag_uri(url, date):\n \n     d = ''\n     if date is not None:\n-        d = ',%s' % date.strftime('%Y-%m-%d')\n+        d = ',%s' % datetime_safe.new_datetime(date).strftime('%Y-%m-%d')\n     return u'tag:%s%s:%s/%s' % (hostname, d, path, fragment)\n \n class SyndicationFeed(object):"
        },
        {
            "sha": "167115c9251c466cc15ba04b7deb2197f1cbabb7",
            "filename": "tests/regressiontests/syndication/fixtures/feeddata.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3/tests%2Fregressiontests%2Fsyndication%2Ffixtures%2Ffeeddata.json",
            "raw_url": "https://github.com/django/django/raw/bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3/tests%2Fregressiontests%2Fsyndication%2Ffixtures%2Ffeeddata.json",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Ffixtures%2Ffeeddata.json?ref=bc5c2537ae3d09d3b9145beb027ff9f60eac6ba3",
            "patch": "@@ -4,7 +4,7 @@\n     \"pk\": 1,\n     \"fields\": {\n       \"title\": \"My first entry\",\n-      \"date\": \"2008-01-01 12:30:00\"\n+      \"date\": \"1850-01-01 12:30:00\"\n     }\n   },\n   {"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}