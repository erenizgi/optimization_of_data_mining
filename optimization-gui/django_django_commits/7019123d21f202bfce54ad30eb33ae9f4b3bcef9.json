{
    "author": "jezdez",
    "message": "Fixed the exception handling when deserializing via generators on Python 2.5 that was introduced in r17469. Also only test the YAML serializer if PyYAML is installed.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17487 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "7019123d21f202bfce54ad30eb33ae9f4b3bcef9",
    "files": [
        {
            "sha": "91af84e9ca6cfa52fd909e55c5af55131276300b",
            "filename": "django/core/serializers/json.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/django%2Fcore%2Fserializers%2Fjson.py",
            "raw_url": "https://github.com/django/django/raw/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/django%2Fcore%2Fserializers%2Fjson.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fjson.py?ref=7019123d21f202bfce54ad30eb33ae9f4b3bcef9",
            "patch": "@@ -40,6 +40,8 @@ def Deserializer(stream_or_string, **options):\n     try:\n         for obj in PythonDeserializer(simplejson.load(stream), **options):\n             yield obj\n+    except GeneratorExit:\n+        raise\n     except Exception, e:\n         # Map to deserializer error\n         raise DeserializationError(e)"
        },
        {
            "sha": "7a508da5d7af83ae3a07f4bda25111b381206c56",
            "filename": "django/core/serializers/pyyaml.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "raw_url": "https://github.com/django/django/raw/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/django%2Fcore%2Fserializers%2Fpyyaml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpyyaml.py?ref=7019123d21f202bfce54ad30eb33ae9f4b3bcef9",
            "patch": "@@ -55,6 +55,8 @@ def Deserializer(stream_or_string, **options):\n     try:\n         for obj in PythonDeserializer(yaml.safe_load(stream), **options):\n             yield obj\n+    except GeneratorExit:\n+        raise\n     except Exception, e:\n         # Map to deserializer error\n         raise DeserializationError(e)"
        },
        {
            "sha": "5abff6345fdd7238a18c9637e9d3dc31314e52ab",
            "filename": "tests/regressiontests/serializers_regress/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/7019123d21f202bfce54ad30eb33ae9f4b3bcef9/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py?ref=7019123d21f202bfce54ad30eb33ae9f4b3bcef9",
            "patch": "@@ -17,12 +17,18 @@\n except ImportError:\n     from StringIO import StringIO\n \n+try:\n+    import yaml\n+except ImportError:\n+    yaml = None\n+\n from django.core import serializers\n from django.core.serializers import SerializerDoesNotExist\n from django.core.serializers.base import DeserializationError\n from django.db import connection, models\n from django.test import TestCase\n from django.utils.functional import curry\n+from django.utils.unittest import skipUnless\n \n from .models import (BooleanData, CharData, DateData, DateTimeData, EmailData,\n     FileData, FilePathData, DecimalData, FloatData, IntegerData, IPAddressData,\n@@ -396,6 +402,7 @@ def test_json_deserializer_exception(self):\n             for obj in serializers.deserialize(\"json\", \"\"\"[{\"pk\":1}\"\"\"):\n                 pass\n \n+    @skipUnless(yaml, \"PyYAML not installed\")\n     def test_yaml_deserializer_exception(self):\n         with self.assertRaises(DeserializationError):\n             for obj in serializers.deserialize(\"yaml\", \"{\"):"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 11,
        "deletions": 0
    }
}