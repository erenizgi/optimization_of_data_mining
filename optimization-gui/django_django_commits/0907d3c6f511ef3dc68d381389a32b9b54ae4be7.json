{
    "author": "claudep",
    "message": "Fixed #16408 -- Re-fixed value conversion with Spatialite backend",
    "sha": "0907d3c6f511ef3dc68d381389a32b9b54ae4be7",
    "files": [
        {
            "sha": "5877f2975abbbc52f8b399001d8a8d6e4571df75",
            "filename": "django/contrib/gis/db/models/sql/query.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/0907d3c6f511ef3dc68d381389a32b9b54ae4be7/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/0907d3c6f511ef3dc68d381389a32b9b54ae4be7/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fquery.py?ref=0907d3c6f511ef3dc68d381389a32b9b54ae4be7",
            "patch": "@@ -72,6 +72,8 @@ def convert_values(self, value, field, connection):\n             value = Area(**{field.area_att : value})\n         elif isinstance(field, (GeomField, GeometryField)) and value:\n             value = Geometry(value)\n+        elif field is not None:\n+            return super(GeoQuery, self).convert_values(value, field, connection)\n         return value\n \n     def get_aggregation(self, using):"
        },
        {
            "sha": "15e855574149a597a22190b04d1929fbca5a8ab6",
            "filename": "django/contrib/gis/tests/geoapp/test_regress.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/0907d3c6f511ef3dc68d381389a32b9b54ae4be7/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_regress.py",
            "raw_url": "https://github.com/django/django/raw/0907d3c6f511ef3dc68d381389a32b9b54ae4be7/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_regress.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftest_regress.py?ref=0907d3c6f511ef3dc68d381389a32b9b54ae4be7",
            "patch": "@@ -5,7 +5,7 @@\n \n from django.contrib.gis.tests.utils import no_mysql, no_spatialite\n from django.contrib.gis.shortcuts import render_to_kmz\n-from django.db.models import Count\n+from django.db.models import Count, Min\n from django.test import TestCase\n \n from .models import City, PennsylvaniaCity, State, Truth\n@@ -50,6 +50,7 @@ def test_unicode_date(self):\n         mansfield = PennsylvaniaCity.objects.create(name='Mansfield', county='Tioga', point='POINT(-77.071445 41.823881)',\n                                                     founded=founded)\n         self.assertEqual(founded, PennsylvaniaCity.objects.dates('founded', 'day')[0])\n+        self.assertEqual(founded, PennsylvaniaCity.objects.aggregate(Min('founded'))['founded__min'])\n \n     def test_empty_count(self):\n          \"Testing that PostGISAdapter.__eq__ does check empty strings. See #13670.\""
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}