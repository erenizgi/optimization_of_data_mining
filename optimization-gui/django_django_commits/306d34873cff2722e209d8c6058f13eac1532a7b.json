{
    "author": "claudep",
    "message": "Fixed #18212 -- Standardized arguments of GenericIPAddressField\n\nUnlike other model fields, the newly introduced (1.4)\nGenericIPAddressField did not accept verbose_name and name as the\nfirst positional arguments. This commit fixes it.\nThanks Dan McGee for the report and the patch.",
    "sha": "306d34873cff2722e209d8c6058f13eac1532a7b",
    "files": [
        {
            "sha": "58ae3413f3f1eb412d1f0694298b2391c122b81d",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -1047,13 +1047,14 @@ class GenericIPAddressField(Field):\n     description = _(\"IP address\")\n     default_error_messages = {}\n \n-    def __init__(self, protocol='both', unpack_ipv4=False, *args, **kwargs):\n+    def __init__(self, verbose_name=None, name=None, protocol='both',\n+                 unpack_ipv4=False, *args, **kwargs):\n         self.unpack_ipv4 = unpack_ipv4\n         self.default_validators, invalid_error_message = \\\n             validators.ip_address_validators(protocol, unpack_ipv4)\n         self.default_error_messages['invalid'] = invalid_error_message\n         kwargs['max_length'] = 39\n-        Field.__init__(self, *args, **kwargs)\n+        Field.__init__(self, verbose_name, name, *args, **kwargs)\n \n     def get_internal_type(self):\n         return \"GenericIPAddressField\""
        },
        {
            "sha": "6f2e9aca2e31f9bb9dcbeb18adc67c021e7318fd",
            "filename": "docs/releases/1.4.2.txt",
            "status": "added",
            "additions": 14,
            "deletions": 0,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/docs%2Freleases%2F1.4.2.txt",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/docs%2Freleases%2F1.4.2.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.2.txt?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -0,0 +1,14 @@\n+==========================\n+Django 1.4.2 release notes\n+==========================\n+\n+*TO BE RELEASED*\n+\n+This is the second security release in the Django 1.4 series.\n+\n+Backwards incompatible changes\n+==============================\n+\n+* The newly introduced :class:`~django.db.models.GenericIPAddressField`\n+  constructor arguments have been adapted to match those of all other model\n+  fields. The first two keyword arguments are now verbose_name and name."
        },
        {
            "sha": "fa55a4d2062ee8612ad3530f72701c0b8dba0dfd",
            "filename": "docs/releases/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/docs%2Freleases%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/docs%2Freleases%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2Findex.txt?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -27,6 +27,7 @@ Final releases\n .. toctree::\n    :maxdepth: 1\n \n+   .. 1.4.2 (uncomment on release)\n    1.4.1\n    1.4\n "
        },
        {
            "sha": "db083290fb848d48d6cd9653d7e8212b201ff59f",
            "filename": "tests/modeltests/validation/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Fmodels.py?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -91,6 +91,8 @@ class GenericIPAddressTestModel(models.Model):\n     generic_ip = models.GenericIPAddressField(blank=True, null=True, unique=True)\n     v4_ip = models.GenericIPAddressField(blank=True, null=True, protocol=\"ipv4\")\n     v6_ip = models.GenericIPAddressField(blank=True, null=True, protocol=\"ipv6\")\n+    ip_verbose_name = models.GenericIPAddressField(\"IP Address Verbose\",\n+            blank=True, null=True)\n \n class GenericIPAddrUnpackUniqueTest(models.Model):\n     generic_v4unpack_ip = models.GenericIPAddressField(blank=True, unique=True, unpack_ipv4=True)"
        },
        {
            "sha": "d9c123fb3974ef7639823a6f724037799977a99e",
            "filename": "tests/regressiontests/model_fields/models.py",
            "status": "modified",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fregressiontests%2Fmodel_fields%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fregressiontests%2Fmodel_fields%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Fmodels.py?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -69,6 +69,33 @@ class BooleanModel(models.Model):\n class RenamedField(models.Model):\n     modelname = models.IntegerField(name=\"fieldname\", choices=((1,'One'),))\n \n+class VerboseNameField(models.Model):\n+    id = models.AutoField(\"verbose pk\", primary_key=True)\n+    field1 = models.BigIntegerField(\"verbose field1\")\n+    field2 = models.BooleanField(\"verbose field2\")\n+    field3 = models.CharField(\"verbose field3\", max_length=10)\n+    field4 = models.CommaSeparatedIntegerField(\"verbose field4\", max_length=99)\n+    field5 = models.DateField(\"verbose field5\")\n+    field6 = models.DateTimeField(\"verbose field6\")\n+    field7 = models.DecimalField(\"verbose field7\", max_digits=6, decimal_places=1)\n+    field8 = models.EmailField(\"verbose field8\")\n+    field9 = models.FileField(\"verbose field9\", upload_to=\"unused\")\n+    field10 = models.FilePathField(\"verbose field10\")\n+    field11 = models.FloatField(\"verbose field11\")\n+    # Don't want to depend on PIL in this test\n+    #field_image = models.ImageField(\"verbose field\")\n+    field12 = models.IntegerField(\"verbose field12\")\n+    field13 = models.IPAddressField(\"verbose field13\")\n+    field14 = models.GenericIPAddressField(\"verbose field14\", protocol=\"ipv4\")\n+    field15 = models.NullBooleanField(\"verbose field15\")\n+    field16 = models.PositiveIntegerField(\"verbose field16\")\n+    field17 = models.PositiveSmallIntegerField(\"verbose field17\")\n+    field18 = models.SlugField(\"verbose field18\")\n+    field19 = models.SmallIntegerField(\"verbose field19\")\n+    field20 = models.TextField(\"verbose field20\")\n+    field21 = models.TimeField(\"verbose field21\")\n+    field22 = models.URLField(\"verbose field22\")\n+\n # This model isn't used in any test, just here to ensure it validates successfully.\n # See ticket #16570.\n class DecimalLessThanOne(models.Model):"
        },
        {
            "sha": "526aca4f980ef942ed586d58b7c61f6ec1d73074",
            "filename": "tests/regressiontests/model_fields/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 1,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/306d34873cff2722e209d8c6058f13eac1532a7b/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py?ref=306d34873cff2722e209d8c6058f13eac1532a7b",
            "patch": "@@ -12,7 +12,7 @@\n from django.utils import unittest\n \n from .models import (Foo, Bar, Whiz, BigD, BigS, Image, BigInt, Post,\n-    NullBooleanModel, BooleanModel, Document, RenamedField)\n+    NullBooleanModel, BooleanModel, Document, RenamedField, VerboseNameField)\n \n from .imagefield import (ImageFieldTests, ImageFieldTwoDimensionsTests,\n     TwoImageFieldTests, ImageFieldNoDimensionsTests,\n@@ -64,6 +64,14 @@ def test_field_name(self):\n         self.assertTrue(hasattr(instance, 'get_fieldname_display'))\n         self.assertFalse(hasattr(instance, 'get_modelname_display'))\n \n+    def test_field_verbose_name(self):\n+        m = VerboseNameField\n+        for i in range(1, 23):\n+            self.assertEqual(m._meta.get_field('field%d' % i).verbose_name,\n+                    'verbose field%d' % i)\n+\n+        self.assertEqual(m._meta.get_field('id').verbose_name, 'verbose pk')\n+\n class DecimalFieldTests(test.TestCase):\n     def test_to_python(self):\n         f = models.DecimalField(max_digits=4, decimal_places=2)"
        }
    ],
    "stats": {
        "total": 59,
        "additions": 56,
        "deletions": 3
    }
}