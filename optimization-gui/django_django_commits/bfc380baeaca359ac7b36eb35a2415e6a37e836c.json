{
    "author": "claudep",
    "message": "[py3] Prepared MySQL backend for Python 3 compatibility",
    "sha": "bfc380baeaca359ac7b36eb35a2415e6a37e836c",
    "files": [
        {
            "sha": "d8e9b3a202ab977045e48863101ddabbb804297d",
            "filename": "django/db/backends/mysql/compiler.py",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/bfc380baeaca359ac7b36eb35a2415e6a37e836c/django%2Fdb%2Fbackends%2Fmysql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/bfc380baeaca359ac7b36eb35a2415e6a37e836c/django%2Fdb%2Fbackends%2Fmysql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fcompiler.py?ref=bfc380baeaca359ac7b36eb35a2415e6a37e836c",
            "patch": "@@ -1,10 +1,16 @@\n+try:\n+    from itertools import zip_longest\n+except ImportError:\n+    from itertools import izip_longest as zip_longest\n+\n from django.db.models.sql import compiler\n \n+\n class SQLCompiler(compiler.SQLCompiler):\n     def resolve_columns(self, row, fields=()):\n         values = []\n         index_extra_select = len(self.query.extra_select)\n-        for value, field in map(None, row[index_extra_select:], fields):\n+        for value, field in zip_longest(row[index_extra_select:], fields):\n             if (field and field.get_internal_type() in (\"BooleanField\", \"NullBooleanField\") and\n                 value in (0, 1)):\n                 value = bool(value)"
        },
        {
            "sha": "041fbee1b24817f7b41bcd4b8c81f36a397a1ae8",
            "filename": "django/db/backends/mysql/introspection.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/bfc380baeaca359ac7b36eb35a2415e6a37e836c/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py",
            "raw_url": "https://github.com/django/django/raw/bfc380baeaca359ac7b36eb35a2415e6a37e836c/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py?ref=bfc380baeaca359ac7b36eb35a2415e6a37e836c",
            "patch": "@@ -1,8 +1,9 @@\n+import re\n+from .base import FIELD_TYPE\n+\n from django.db.backends import BaseDatabaseIntrospection\n from django.utils import six\n-from MySQLdb import ProgrammingError, OperationalError\n-from MySQLdb.constants import FIELD_TYPE\n-import re\n+\n \n foreign_key_re = re.compile(r\"\\sCONSTRAINT `[^`]*` FOREIGN KEY \\(`([^`]*)`\\) REFERENCES `([^`]*)` \\(`([^`]*)`\\)\")\n "
        }
    ],
    "stats": {
        "total": 15,
        "additions": 11,
        "deletions": 4
    }
}