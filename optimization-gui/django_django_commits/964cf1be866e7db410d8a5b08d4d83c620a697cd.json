{
    "author": "freakboy3742",
    "message": "Corrected an aggregation test failure under PostgreSQL, introduced by r15223. Thanks to Alex for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15230 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "964cf1be866e7db410d8a5b08d4d83c620a697cd",
    "files": [
        {
            "sha": "ad79923a8a9d42980b0beae589206cf017f8b559",
            "filename": "tests/regressiontests/aggregation_regress/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/964cf1be866e7db410d8a5b08d4d83c620a697cd/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/964cf1be866e7db410d8a5b08d4d83c620a697cd/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py?ref=964cf1be866e7db410d8a5b08d4d83c620a697cd",
            "patch": "@@ -479,19 +479,19 @@ def test_values_queryset_non_conflict(self):\n \n         # age is a field on Author, so it shouldn't be allowed as an aggregate.\n         # But age isn't included in the ValuesQuerySet, so it is.\n-        results = Author.objects.values('name').annotate(age=Count('book_contact_set'))\n+        results = Author.objects.values('name').annotate(age=Count('book_contact_set')).order_by('name')\n         self.assertEquals(len(results), 9)\n         self.assertEquals(results[0]['name'], u'Adrian Holovaty')\n         self.assertEquals(results[0]['age'], 1)\n \n         # Same problem, but aggregating over m2m fields\n-        results = Author.objects.values('name').annotate(age=Avg('friends__age'))\n+        results = Author.objects.values('name').annotate(age=Avg('friends__age')).order_by('name')\n         self.assertEquals(len(results), 9)\n         self.assertEquals(results[0]['name'], u'Adrian Holovaty')\n         self.assertEquals(results[0]['age'], 32.0)\n \n         # Same problem, but colliding with an m2m field\n-        results = Author.objects.values('name').annotate(friends=Count('friends'))\n+        results = Author.objects.values('name').annotate(friends=Count('friends')).order_by('name')\n         self.assertEquals(len(results), 9)\n         self.assertEquals(results[0]['name'], u'Adrian Holovaty')\n         self.assertEquals(results[0]['friends'], 2)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}