{
    "author": "aaugustin",
    "message": "Restricted a workaround for a bug in Python to the affected versions.",
    "sha": "679af4058dae8a54438d95ceb943f449e78448c1",
    "files": [
        {
            "sha": "91444f0de6c67b307813b68215375e7c6557e4bc",
            "filename": "django/utils/decorators.py",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/679af4058dae8a54438d95ceb943f449e78448c1/django%2Futils%2Fdecorators.py",
            "raw_url": "https://github.com/django/django/raw/679af4058dae8a54438d95ceb943f449e78448c1/django%2Futils%2Fdecorators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdecorators.py?ref=679af4058dae8a54438d95ceb943f449e78448c1",
            "patch": "@@ -2,12 +2,16 @@\n \n from functools import wraps, update_wrapper, WRAPPER_ASSIGNMENTS\n \n+from django.utils import six\n+\n+\n class classonlymethod(classmethod):\n     def __get__(self, instance, owner):\n         if instance is not None:\n             raise AttributeError(\"This method is available only on the view class.\")\n         return super(classonlymethod, self).__get__(instance, owner)\n \n+\n def method_decorator(decorator):\n     \"\"\"\n     Converts a function decorator into a method decorator\n@@ -68,9 +72,13 @@ def decorator_from_middleware(middleware_class):\n def available_attrs(fn):\n     \"\"\"\n     Return the list of functools-wrappable attributes on a callable.\n-    This is required as a workaround for http://bugs.python.org/issue3445.\n+    This is required as a workaround for http://bugs.python.org/issue3445\n+    under Python 2.\n     \"\"\"\n-    return tuple(a for a in WRAPPER_ASSIGNMENTS if hasattr(fn, a))\n+    if six.PY3:\n+        return WRAPPER_ASSIGNMENTS\n+    else:\n+        return tuple(a for a in WRAPPER_ASSIGNMENTS if hasattr(fn, a))\n \n \n def make_middleware_decorator(middleware_class):"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 10,
        "deletions": 2
    }
}