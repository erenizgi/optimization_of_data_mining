{
    "author": "carljm",
    "message": "Refs #15093 -- Fixed another get_models call missed in r16053. Thanks Luke for catching it.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16108 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "2706fdbc87037976c3165beb5b9b73e000ff479b",
    "files": [
        {
            "sha": "6f0f406aaa21ab99cb0fac2013e378572a767aa6",
            "filename": "django/db/models/options.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/2706fdbc87037976c3165beb5b9b73e000ff479b/django%2Fdb%2Fmodels%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/2706fdbc87037976c3165beb5b9b73e000ff479b/django%2Fdb%2Fmodels%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Foptions.py?ref=2706fdbc87037976c3165beb5b9b73e000ff479b",
            "patch": "@@ -420,7 +420,7 @@ def _fill_related_many_to_many_cache(self):\n                     cache[obj] = parent\n                 else:\n                     cache[obj] = model\n-        for klass in get_models():\n+        for klass in get_models(only_installed=False):\n             for f in klass._meta.local_many_to_many:\n                 if f.rel and not isinstance(f.rel.to, str) and self == f.rel.to._meta:\n                     cache[RelatedObject(f.rel.to, klass, f)] = None"
        },
        {
            "sha": "1e4b59894c4db6195067f0e6cd7f7385b903f87b",
            "filename": "tests/regressiontests/app_loading/not_installed/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/2706fdbc87037976c3165beb5b9b73e000ff479b/tests%2Fregressiontests%2Fapp_loading%2Fnot_installed%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/2706fdbc87037976c3165beb5b9b73e000ff479b/tests%2Fregressiontests%2Fapp_loading%2Fnot_installed%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fapp_loading%2Fnot_installed%2Fmodels.py?ref=2706fdbc87037976c3165beb5b9b73e000ff479b",
            "patch": "@@ -7,3 +7,7 @@ class NotInstalledModel(models.Model):\n \n class RelatedModel(models.Model):\n     not_installed = models.ForeignKey(NotInstalledModel)\n+\n+\n+class M2MRelatedModel(models.Model):\n+    not_installed = models.ManyToManyField(NotInstalledModel)"
        },
        {
            "sha": "749f24aeb1d7bc390f82d2c5dc489f8b8dd19a7a",
            "filename": "tests/regressiontests/app_loading/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/2706fdbc87037976c3165beb5b9b73e000ff479b/tests%2Fregressiontests%2Fapp_loading%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2706fdbc87037976c3165beb5b9b73e000ff479b/tests%2Fregressiontests%2Fapp_loading%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fapp_loading%2Ftests.py?ref=2706fdbc87037976c3165beb5b9b73e000ff479b",
            "patch": "@@ -122,4 +122,4 @@ def test_related_not_installed_model(self):\n         from .not_installed.models import NotInstalledModel\n         self.assertEqual(\n             set(NotInstalledModel._meta.get_all_field_names()),\n-            set([\"id\", \"relatedmodel\"]))\n+            set([\"id\", \"relatedmodel\", \"m2mrelatedmodel\"]))"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 6,
        "deletions": 2
    }
}