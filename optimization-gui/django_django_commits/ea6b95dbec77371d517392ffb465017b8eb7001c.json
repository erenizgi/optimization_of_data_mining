{
    "author": "ghickman",
    "message": "Fixed #19316 -- Set View args/kwargs/request before dispatch",
    "sha": "ea6b95dbec77371d517392ffb465017b8eb7001c",
    "files": [
        {
            "sha": "9c82a29d8a5f649a3d8bfcd2949e9f144ba32051",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ea6b95dbec77371d517392ffb465017b8eb7001c/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ea6b95dbec77371d517392ffb465017b8eb7001c/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=ea6b95dbec77371d517392ffb465017b8eb7001c",
            "patch": "@@ -62,6 +62,9 @@ def view(request, *args, **kwargs):\n             self = cls(**initkwargs)\n             if hasattr(self, 'get') and not hasattr(self, 'head'):\n                 self.head = self.get\n+            self.request = request\n+            self.args = args\n+            self.kwargs = kwargs\n             return self.dispatch(request, *args, **kwargs)\n \n         # take name and docstring from class\n@@ -80,9 +83,6 @@ def dispatch(self, request, *args, **kwargs):\n             handler = getattr(self, request.method.lower(), self.http_method_not_allowed)\n         else:\n             handler = self.http_method_not_allowed\n-        self.request = request\n-        self.args = args\n-        self.kwargs = kwargs\n         return handler(request, *args, **kwargs)\n \n     def http_method_not_allowed(self, request, *args, **kwargs):"
        },
        {
            "sha": "c7ad7a0debd27849b9c5d9c8229e05d5844a496f",
            "filename": "tests/regressiontests/generic_views/base.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/ea6b95dbec77371d517392ffb465017b8eb7001c/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ea6b95dbec77371d517392ffb465017b8eb7001c/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py?ref=ea6b95dbec77371d517392ffb465017b8eb7001c",
            "patch": "@@ -216,6 +216,17 @@ def _assert_allows(self, response, *expected_methods):\n         response_allows = set(response['Allow'].split(', '))\n         self.assertEqual(set(expected_methods + ('OPTIONS',)), response_allows)\n \n+    def test_args_kwargs_request_on_self(self):\n+        \"\"\"\n+        Test a view only has args, kwargs & request once `as_view`\n+        has been called.\n+        \"\"\"\n+        bare_view = InstanceView()\n+        view = InstanceView.as_view()(self.rf.get('/'))\n+        for attribute in ('args', 'kwargs', 'request'):\n+            self.assertNotIn(attribute, dir(bare_view))\n+            self.assertIn(attribute, dir(view))\n+\n \n class TemplateViewTest(TestCase):\n     urls = 'regressiontests.generic_views.urls'"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 14,
        "deletions": 3
    }
}