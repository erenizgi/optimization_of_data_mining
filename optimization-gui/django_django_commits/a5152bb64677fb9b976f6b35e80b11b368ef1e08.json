{
    "author": "akaariai",
    "message": "Marked a test as expectedFailure on Oracle",
    "sha": "a5152bb64677fb9b976f6b35e80b11b368ef1e08",
    "files": [
        {
            "sha": "4b8a3277e2a783b5e443ef0fa7177e945da188b5",
            "filename": "tests/regressiontests/introspection/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 2,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/a5152bb64677fb9b976f6b35e80b11b368ef1e08/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/a5152bb64677fb9b976f6b35e80b11b368ef1e08/tests%2Fregressiontests%2Fintrospection%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fintrospection%2Ftests.py?ref=a5152bb64677fb9b976f6b35e80b11b368ef1e08",
            "patch": "@@ -4,10 +4,15 @@\n \n from django.db import connection\n from django.test import TestCase, skipUnlessDBFeature, skipIfDBFeature\n-from django.utils import six\n+from django.utils import six, unittest\n \n from .models import Reporter, Article\n \n+if connection.vendor == 'oracle':\n+    expectedFailureOnOracle = unittest.expectedFailure\n+else:\n+    expectedFailureOnOracle = lambda f: f\n+\n #\n # The introspection module is optional, so methods tested here might raise\n # NotImplementedError. This is perfectly acceptable behavior for the backend\n@@ -89,7 +94,13 @@ def test_get_table_description_types(self):\n             [datatype(r[1], r) for r in desc],\n             ['IntegerField', 'CharField', 'CharField', 'CharField', 'BigIntegerField']\n         )\n-        # Check also length of CharFields\n+\n+    # The following test fails on Oracle due to #17202 (can't correctly\n+    # inspect the length of character columns).\n+    @expectedFailureOnOracle\n+    def test_get_table_description_col_lengths(self):\n+        cursor = connection.cursor()\n+        desc = connection.introspection.get_table_description(cursor, Reporter._meta.db_table)\n         self.assertEqual(\n             [r[3] for r in desc if datatype(r[1], r) == 'CharField'],\n             [30, 30, 75]"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}