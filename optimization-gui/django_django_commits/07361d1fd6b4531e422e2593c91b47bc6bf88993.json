{
    "author": "timgraham",
    "message": "Fixed #19167 - Added a warning regarding module-level database queries\n\nThanks Daniele Procida for the patch.",
    "sha": "07361d1fd6b4531e422e2593c91b47bc6bf88993",
    "files": [
        {
            "sha": "a1524e4f1517324764c864bfa510c1e7bf7f63ea",
            "filename": "docs/topics/testing.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/07361d1fd6b4531e422e2593c91b47bc6bf88993/docs%2Ftopics%2Ftesting.txt",
            "raw_url": "https://github.com/django/django/raw/07361d1fd6b4531e422e2593c91b47bc6bf88993/docs%2Ftopics%2Ftesting.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Ftesting.txt?ref=07361d1fd6b4531e422e2593c91b47bc6bf88993",
            "patch": "@@ -379,6 +379,15 @@ control the particular collation used by the test database. See the\n :doc:`settings documentation </ref/settings>` for details of these\n advanced settings.\n \n+.. admonition:: Finding data from your production database when running tests?\n+\n+    If your code attempts to access the database when its modules are compiled,\n+    this will occur *before* the test database is set up, with potentially\n+    unexpected results. For example, if you have a database query in\n+    module-level code and a real database exists, production data could pollute\n+    your tests. *It is a bad idea to have such import-time database queries in\n+    your code* anyway - rewrite your code so that it doesn't do this.\n+\n .. _topics-testing-masterslave:\n \n Testing master/slave configurations"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}