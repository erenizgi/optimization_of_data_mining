{
    "author": "freakboy3742",
    "message": "Fixed #15217 -- Made the CACHE_BACKEND deprecation warning more selective, so it doesn't catch the default case. Thanks to adamv for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15406 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4306501da7603762fc37dd62cc8a8b87f3f42114",
    "files": [
        {
            "sha": "dad5097620bba59a7e386307e0681c7c46b90a55",
            "filename": "django/conf/global_settings.py",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/4306501da7603762fc37dd62cc8a8b87f3f42114/django%2Fconf%2Fglobal_settings.py",
            "raw_url": "https://github.com/django/django/raw/4306501da7603762fc37dd62cc8a8b87f3f42114/django%2Fconf%2Fglobal_settings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Fglobal_settings.py?ref=4306501da7603762fc37dd62cc8a8b87f3f42114",
            "patch": "@@ -436,7 +436,6 @@\n }\n # The cache backend to use.  See the docstring in django.core.cache for the\n # possible values.\n-CACHE_BACKEND = 'locmem://'\n CACHE_MIDDLEWARE_KEY_PREFIX = ''\n CACHE_MIDDLEWARE_SECONDS = 600\n CACHE_MIDDLEWARE_ALIAS = 'default'"
        },
        {
            "sha": "2c75f6c671a63ee97d4780f6ca2e0612f7122b7a",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 15,
            "deletions": 5,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/4306501da7603762fc37dd62cc8a8b87f3f42114/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4306501da7603762fc37dd62cc8a8b87f3f42114/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=4306501da7603762fc37dd62cc8a8b87f3f42114",
            "patch": "@@ -75,11 +75,21 @@ def parse_backend_uri(backend_uri):\n     return scheme, host, params\n \n if not settings.CACHES:\n-    import warnings\n-    warnings.warn(\n-        \"settings.CACHE_* is deprecated; use settings.CACHES instead.\",\n-        PendingDeprecationWarning\n-    )\n+    legacy_backend = getattr(settings, 'CACHE_BACKEND', None)\n+    if legacy_backend:\n+        import warnings\n+        warnings.warn(\n+            \"settings.CACHE_* is deprecated; use settings.CACHES instead.\",\n+            PendingDeprecationWarning\n+        )\n+    else:\n+        # The default cache setting is put here so that we\n+        # can differentiate between a user who has provided\n+        # an explicit CACHE_BACKEND of locmem://, and the\n+        # default value. When the deprecation cycle has completed,\n+        # the default can be restored to global_settings.py\n+        settings.CACHE_BACKEND = 'locmem://'\n+\n     # Mapping for new-style cache backend api\n     backend_classes = {\n         'memcached': 'memcached.CacheClass',"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 15,
        "deletions": 6
    }
}