{
    "author": "SmileyChris",
    "message": "Fixes #13511 -- make regex parameter to RegexValidator to be optional. Also tidies up related docs (parameters aren't attributes). Thanks for the patch work, davidfischer.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16351 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "b56ef75088e17fa3555766e92a6747411ccd738c",
    "files": [
        {
            "sha": "74db11697b036fb1a6eec28b68e0f35ba39b8d83",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/b56ef75088e17fa3555766e92a6747411ccd738c/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/b56ef75088e17fa3555766e92a6747411ccd738c/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=b56ef75088e17fa3555766e92a6747411ccd738c",
            "patch": "@@ -29,8 +29,9 @@ def __init__(self, regex=None, message=None, code=None):\n         if code is not None:\n             self.code = code\n \n+        # Compile the regex if it was not passed pre-compiled.\n         if isinstance(self.regex, basestring):\n-            self.regex = re.compile(regex)\n+            self.regex = re.compile(self.regex)\n \n     def __call__(self, value):\n         \"\"\""
        },
        {
            "sha": "0bb5abd819912a46ec6d6bbf77835a14d2edb652",
            "filename": "docs/ref/validators.txt",
            "status": "modified",
            "additions": 21,
            "deletions": 13,
            "changes": 34,
            "blob_url": "https://github.com/django/django/blob/b56ef75088e17fa3555766e92a6747411ccd738c/docs%2Fref%2Fvalidators.txt",
            "raw_url": "https://github.com/django/django/raw/b56ef75088e17fa3555766e92a6747411ccd738c/docs%2Fref%2Fvalidators.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fvalidators.txt?ref=b56ef75088e17fa3555766e92a6747411ccd738c",
            "patch": "@@ -60,26 +60,31 @@ to, or in lieu of custom ``field.clean()`` methods.\n \n ``RegexValidator``\n ------------------\n-.. class:: RegexValidator(regex, [message=None, code=None])\n+.. class:: RegexValidator([regex=None, message=None, code=None])\n+\n+    :param regex: If not ``None``, overrides :attr:`regex`. Can be a regular\n+        expression string or a pre-compiled regular expression.\n+    :param message: If not ``None``, overrides :attr:`.message`.\n+    :param code: If not ``None``, overrides :attr:`code`.\n \n     .. attribute:: regex\n \n         The regular expression pattern to search for the provided ``value``,\n         or a pre-compiled regular expression. Raises a\n-        :exc:`~django.core.exceptions.ValidationError` with :attr:`.message`\n-        and :attr:`.code` if no match is found.\n+        :exc:`~django.core.exceptions.ValidationError` with :attr:`message`\n+        and :attr:`code` if no match is found. By default, matches any string\n+        (including an empty string).\n \n     .. attribute:: message\n \n-        The error message used by :exc:`~django.core.exceptions.ValidationError`\n-        if validation fails. If no :attr:`.message` is specified, a generic\n-        ``\"Enter a valid value\"`` message is used. Default value: ``None``.\n+        The error message used by\n+        :exc:`~django.core.exceptions.ValidationError` if validation fails.\n+        Defaults to ``\"Enter a valid value\"``.\n \n     .. attribute:: code\n \n         The error code used by :exc:`~django.core.exceptions.ValidationError`\n-        if validation fails. If :attr:`.code` is not specified, ``\"invalid\"``\n-        is used. Default value: ``None``.\n+        if validation fails. Defaults to ``\"invalid\"``.\n \n ``URLValidator``\n ----------------\n@@ -90,16 +95,19 @@ to, or in lieu of custom ``field.clean()`` methods.\n     404 status code). Raises an error code of ``'invalid'`` if it doesn't look\n     like a URL, and a code of ``'invalid_link'`` if it doesn't exist.\n \n+    :param verify_exists: Sets :attr:`verify_exists`. Defaults to ``False``.\n+    :param validator_user_agent: Sets :attr:`validator_user_agent`. Defaults to\n+        :setting:`URL_VALIDATOR_USER_AGENT` or, if that setting is set to a\n+        null value, ``\"Django (http://www.djangoproject.com/)\"``.\n+\n     .. attribute:: verify_exists\n \n-        Default value: ``False``. If set to ``True``, this validator checks\n-        that the URL actually exists.\n+        If set to ``True``, this validator checks that the URL actually exists.\n \n     .. attribute:: validator_user_agent\n \n-        If :attr:`.verify_exists` is ``True``, Django uses the value of\n-        :attr:`.validator_user_agent` as the \"User-agent\" for the request. This\n-        defaults to :setting:`settings.URL_VALIDATOR_USER_AGENT <URL_VALIDATOR_USER_AGENT>`.\n+        If :attr:`verify_exists` is ``True``, Django uses this value as the\n+        \"User-agent\" for the request.\n \n ``validate_email``\n ------------------"
        },
        {
            "sha": "08965c618f28fdb555042ff7c2cec38c2f4f6444",
            "filename": "tests/modeltests/validators/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/b56ef75088e17fa3555766e92a6747411ccd738c/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b56ef75088e17fa3555766e92a6747411ccd738c/tests%2Fmodeltests%2Fvalidators%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidators%2Ftests.py?ref=b56ef75088e17fa3555766e92a6747411ccd738c",
            "patch": "@@ -112,6 +112,11 @@\n     (BaseValidator(True), True, None),\n     (BaseValidator(True), False, ValidationError),\n \n+    (RegexValidator(), '', None),\n+    (RegexValidator(), 'x1x2', None),\n+    (RegexValidator('[0-9]+'), 'xxxxxx', ValidationError),\n+    (RegexValidator('[0-9]+'), '1234', None),\n+    (RegexValidator(re.compile('[0-9]+')), '1234', None),\n     (RegexValidator('.*'), '', None),\n     (RegexValidator(re.compile('.*')), '', None),\n     (RegexValidator('.*'), 'xxxxx', None),"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 28,
        "deletions": 14
    }
}