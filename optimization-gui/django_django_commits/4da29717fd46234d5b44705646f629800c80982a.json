{
    "author": "jezdez",
    "message": "Fixed #15673 -- Allow limit_choices_to to use a tuple for __in filters. Thanks, EnTeQuAk.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16078 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4da29717fd46234d5b44705646f629800c80982a",
    "files": [
        {
            "sha": "957f94fd00219678520a62f9b36e5802ab52623e",
            "filename": "django/contrib/admin/widgets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/4da29717fd46234d5b44705646f629800c80982a/django%2Fcontrib%2Fadmin%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/4da29717fd46234d5b44705646f629800c80982a/django%2Fcontrib%2Fadmin%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fwidgets.py?ref=4da29717fd46234d5b44705646f629800c80982a",
            "patch": "@@ -99,7 +99,7 @@ def url_params_from_lookup_dict(lookups):\n     if lookups and hasattr(lookups, 'items'):\n         items = []\n         for k, v in lookups.items():\n-            if isinstance(v, list):\n+            if isinstance(v, (tuple, list)):\n                 v = u','.join([str(x) for x in v])\n             elif isinstance(v, bool):\n                 # See django.db.fields.BooleanField.get_prep_lookup"
        },
        {
            "sha": "9fde201366bbd2d36bf59fa82562a6f11b6155ac",
            "filename": "tests/regressiontests/admin_widgets/tests.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/4da29717fd46234d5b44705646f629800c80982a/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4da29717fd46234d5b44705646f629800c80982a/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_widgets%2Ftests.py?ref=4da29717fd46234d5b44705646f629800c80982a",
            "patch": "@@ -8,7 +8,8 @@\n from django.contrib.admin import widgets\n from django.contrib.admin.widgets import (FilteredSelectMultiple,\n     AdminSplitDateTime, AdminFileWidget, ForeignKeyRawIdWidget, AdminRadioSelect,\n-    RelatedFieldWidgetWrapper, ManyToManyRawIdWidget)\n+    RelatedFieldWidgetWrapper, ManyToManyRawIdWidget,\n+    url_params_from_lookup_dict)\n from django.core.files.storage import default_storage\n from django.core.files.uploadedfile import SimpleUploadedFile\n from django.db.models import DateField\n@@ -180,6 +181,12 @@ def test_invalid_target_id(self):\n             self.assertContains(response,\n                 'Select a valid choice. That choice is not one of the available choices.')\n \n+    def test_url_params_from_lookup_dict_any_iterable(self):\n+        lookup1 = url_params_from_lookup_dict({'color__in': ('red', 'blue')})\n+        lookup2 = url_params_from_lookup_dict({'color__in': ['red', 'blue']})\n+        self.assertEqual(lookup1, {'color__in': 'red,blue'})\n+        self.assertEqual(lookup1, lookup2)\n+\n \n class FilteredSelectMultipleWidgetTest(TestCase):\n     def test_render(self):"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 9,
        "deletions": 2
    }
}