{
    "author": "freakboy3742",
    "message": "Fixed #14935 -- Corrected a test failure introduced by r14992, which revealed an unhandled edge case in LogEntry handling in the admin. Thanks to Ramiro Morales for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15024 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "df4cb60004db5cbbe402233138f2f0c804a46f15",
    "files": [
        {
            "sha": "73810b7399375c94d6223310f2fe3fdfb6df649c",
            "filename": "django/contrib/admin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/df4cb60004db5cbbe402233138f2f0c804a46f15/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/df4cb60004db5cbbe402233138f2f0c804a46f15/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmodels.py?ref=df4cb60004db5cbbe402233138f2f0c804a46f15",
            "patch": "@@ -51,4 +51,6 @@ def get_admin_url(self):\n         Returns the admin URL to edit the object represented by this log entry.\n         This is relative to the Django admin index page.\n         \"\"\"\n-        return mark_safe(u\"%s/%s/%s/\" % (self.content_type.app_label, self.content_type.model, quote(self.object_id)))\n+        if self.content_type and self.object_id:\n+            return mark_safe(u\"%s/%s/%s/\" % (self.content_type.app_label, self.content_type.model, quote(self.object_id)))\n+        return None\n\\ No newline at end of file"
        },
        {
            "sha": "d392f075adc78104f60215128b04c3f43963960c",
            "filename": "django/contrib/admin/templates/admin/index.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/df4cb60004db5cbbe402233138f2f0c804a46f15/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html",
            "raw_url": "https://github.com/django/django/raw/df4cb60004db5cbbe402233138f2f0c804a46f15/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Findex.html?ref=df4cb60004db5cbbe402233138f2f0c804a46f15",
            "patch": "@@ -60,7 +60,7 @@ <h3>{% trans 'My Actions' %}</h3>\n             <ul class=\"actionlist\">\n             {% for entry in admin_log %}\n             <li class=\"{% if entry.is_addition %}addlink{% endif %}{% if entry.is_change %}changelink{% endif %}{% if entry.is_deletion %}deletelink{% endif %}\">\n-                {% if entry.is_deletion %}\n+                {% if entry.is_deletion or not entry.get_admin_url %}\n                     {{ entry.object_repr }}\n                 {% else %}\n                     <a href=\"{{ entry.get_admin_url }}\">{{ entry.object_repr }}</a>"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}