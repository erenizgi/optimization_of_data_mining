{
    "author": "ramiro",
    "message": "Modified a try block construct in a test case to be compatible with Python 2.4.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15209 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "8b4dffd8df93610688552e45d4752cad79ff3fcc",
    "files": [
        {
            "sha": "f17bb47197c450fa66de436d1df2f1a5fbf231fa",
            "filename": "tests/regressiontests/i18n/commands/extraction.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/8b4dffd8df93610688552e45d4752cad79ff3fcc/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "raw_url": "https://github.com/django/django/raw/8b4dffd8df93610688552e45d4752cad79ff3fcc/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcommands%2Fextraction.py?ref=8b4dffd8df93610688552e45d4752cad79ff3fcc",
            "patch": "@@ -63,10 +63,11 @@ def test_extraction_error(self):\n         os.chdir(self.test_dir)\n         shutil.copyfile('./templates/template_with_error.txt', './templates/template_with_error.html')\n         self.assertRaises(SyntaxError, management.call_command, 'makemessages', locale=LOCALE, verbosity=0)\n-        try:\n-            management.call_command('makemessages', locale=LOCALE, verbosity=0)\n-        except SyntaxError, e:\n-            self.assertEqual(str(e), 'Translation blocks must not include other block tags: blocktrans (file templates/template_with_error.html, line 3)')\n+        try: # TODO: Simplify this try/try block when we drop support for Python 2.4\n+            try:\n+                management.call_command('makemessages', locale=LOCALE, verbosity=0)\n+            except SyntaxError, e:\n+                self.assertEqual(str(e), 'Translation blocks must not include other block tags: blocktrans (file templates/template_with_error.html, line 3)')\n         finally:\n             os.remove('./templates/template_with_error.html')\n             os.remove('./templates/template_with_error.html.py') # Waiting for #8536 to be fixed"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 5,
        "deletions": 4
    }
}