{
    "author": "freakboy3742",
    "message": "Silenced a DeprecationWarning in formtools caused by testing the deprecated security_hash function\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15996 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4749159d48c42c706cd14ab105179f29deab734d",
    "files": [
        {
            "sha": "b5037f428da6b8383cf935c5e5968c53549ffe06",
            "filename": "django/contrib/formtools/tests/__init__.py",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/4749159d48c42c706cd14ab105179f29deab734d/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/4749159d48c42c706cd14ab105179f29deab734d/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Ftests%2F__init__.py?ref=4749159d48c42c706cd14ab105179f29deab734d",
            "patch": "@@ -1,9 +1,11 @@\n import os\n+import warnings\n \n from django import forms, http\n from django.conf import settings\n from django.contrib.formtools import preview, wizard, utils\n from django.test import TestCase\n+from django.test.utils import get_warnings_state, restore_warnings_state\n from django.utils import unittest\n \n \n@@ -32,12 +34,19 @@ class PreviewTests(TestCase):\n     urls = 'django.contrib.formtools.tests.urls'\n \n     def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.contrib.formtools.utils')\n+\n         # Create a FormPreview instance to share between tests\n         self.preview = preview.FormPreview(TestForm)\n         input_template = '<input type=\"hidden\" name=\"%s\" value=\"%s\" />'\n         self.input = input_template % (self.preview.unused_name('stage'), \"%d\")\n         self.test_data = {'field1':u'foo', 'field1_':u'asdf'}\n \n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     def test_unused_name(self):\n         \"\"\"\n         Verifies name mangling to get uniue field name.\n@@ -150,6 +159,13 @@ def test_form_submit_bad_hash(self):\n \n \n class SecurityHashTests(unittest.TestCase):\n+    def setUp(self):\n+        self._warnings_state = get_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning,\n+                                module='django.contrib.formtools.utils')\n+\n+    def tearDown(self):\n+        restore_warnings_state(self._warnings_state)\n \n     def test_textfield_hash(self):\n         \"\"\""
        }
    ],
    "stats": {
        "total": 16,
        "additions": 16,
        "deletions": 0
    }
}