{
    "author": "ramiro",
    "message": "Added test to demonstrate issue 11263 isn't there anymore.\n\nThanks veena for the report and jaklaassen for the patch. Fixes #11263.",
    "sha": "c4b6659269260e0a9d75859bbe430b0971b1c15d",
    "files": [
        {
            "sha": "18d76239713d670108875ff8d883fe02ee15b46a",
            "filename": "tests/modeltests/generic_relations/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/c4b6659269260e0a9d75859bbe430b0971b1c15d/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/c4b6659269260e0a9d75859bbe430b0971b1c15d/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py?ref=c4b6659269260e0a9d75859bbe430b0971b1c15d",
            "patch": "@@ -94,3 +94,7 @@ def get_query_set(self):\n class Gecko(models.Model):\n     has_tail = models.BooleanField()\n     objects = GeckoManager()\n+\n+# To test fix for #11263\n+class Rock(Mineral):\n+    tags = generic.GenericRelation(TaggedItem)"
        },
        {
            "sha": "27b25185eaccf715c60634a26f2daaefd94fcf36",
            "filename": "tests/modeltests/generic_relations/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 1,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/c4b6659269260e0a9d75859bbe430b0971b1c15d/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c4b6659269260e0a9d75859bbe430b0971b1c15d/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fgeneric_relations%2Ftests.py?ref=c4b6659269260e0a9d75859bbe430b0971b1c15d",
            "patch": "@@ -6,7 +6,7 @@\n from django.test import TestCase\n \n from .models import (TaggedItem, ValuableTaggedItem, Comparison, Animal,\n-    Vegetable, Mineral, Gecko)\n+    Vegetable, Mineral, Gecko, Rock)\n \n \n class GenericRelationsTests(TestCase):\n@@ -231,6 +231,16 @@ def test_gfk_manager(self):\n         tag = TaggedItem.objects.create(content_object=tailless, tag=\"lizard\")\n         self.assertEqual(tag.content_object, tailless)\n \n+    def test_subclasses_with_gen_rel(self):\n+        \"\"\"\n+        Test that concrete model subclasses with generic relations work\n+        correctly (ticket 11263).\n+        \"\"\"\n+        granite = Rock.objects.create(name='granite', hardness=5)\n+        TaggedItem.objects.create(content_object=granite, tag=\"countertop\")\n+        self.assertEqual(Rock.objects.filter(tags__tag=\"countertop\").count(), 1)\n+\n+\n class CustomWidget(forms.TextInput):\n     pass\n "
        }
    ],
    "stats": {
        "total": 16,
        "additions": 15,
        "deletions": 1
    }
}