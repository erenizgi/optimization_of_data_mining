{
    "author": "aaugustin",
    "message": "Fixed #16590 -- Accepted a 'name' argument in the constructor of ContentFile, for consistency with File.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17298 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c458700382724e85d8572fc80cd829f54d57d43d",
    "files": [
        {
            "sha": "48d0be43f0af3b47ea5c2e4c465ba2198d7431fd",
            "filename": "django/core/files/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/c458700382724e85d8572fc80cd829f54d57d43d/django%2Fcore%2Ffiles%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/c458700382724e85d8572fc80cd829f54d57d43d/django%2Fcore%2Ffiles%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fbase.py?ref=c458700382724e85d8572fc80cd829f54d57d43d",
            "patch": "@@ -122,9 +122,9 @@ class ContentFile(File):\n     \"\"\"\n     A File-like object that takes just raw content, rather than an actual file.\n     \"\"\"\n-    def __init__(self, content):\n+    def __init__(self, content, name=None):\n         content = content or ''\n-        super(ContentFile, self).__init__(StringIO(content))\n+        super(ContentFile, self).__init__(StringIO(content), name=name)\n         self.size = len(content)\n \n     def __str__(self):"
        },
        {
            "sha": "d1ecbe60af35f2e7eee75833a1b98792e982f9aa",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/c458700382724e85d8572fc80cd829f54d57d43d/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c458700382724e85d8572fc80cd829f54d57d43d/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=c458700382724e85d8572fc80cd829f54d57d43d",
            "patch": "@@ -542,3 +542,14 @@ def test_multiple_calls(self):\n         size_1, size_2 = get_image_dimensions(image), get_image_dimensions(image)\n         self.assertEqual(image_pil.size, size_1)\n         self.assertEqual(size_1, size_2)\n+\n+class ContentFileTestCase(unittest.TestCase):\n+    \"\"\"\n+    Test that the constructor of ContentFile accepts 'name' (#16590).\n+    \"\"\"\n+    def test_content_file_default_name(self):\n+        self.assertEqual(ContentFile(\"content\").name, None)\n+\n+    def test_content_file_custome_name(self):\n+        name = \"I can have a name too!\"\n+        self.assertEqual(ContentFile(\"content\", name=name).name, name)"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}