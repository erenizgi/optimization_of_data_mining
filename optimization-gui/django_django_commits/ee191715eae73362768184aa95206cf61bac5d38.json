{
    "author": "aaugustin",
    "message": "[py3] Fixed access to dict keys/values/items.",
    "sha": "ee191715eae73362768184aa95206cf61bac5d38",
    "files": [
        {
            "sha": "6325ccb1a91d9a1cc8cd4afaf87eb65e3869e782",
            "filename": "django/conf/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fconf%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fconf%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2F__init__.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -158,7 +158,7 @@ def __getattr__(self, name):\n         return getattr(self.default_settings, name)\n \n     def __dir__(self):\n-        return self.__dict__.keys() + dir(self.default_settings)\n+        return list(six.iterkeys(self.__dict__)) + dir(self.default_settings)\n \n     # For Python < 2.6:\n     __members__ = property(lambda self: self.__dir__())"
        },
        {
            "sha": "4fc78784f440be1bcb541d2901aa0ea5be44d8eb",
            "filename": "django/contrib/admin/helpers.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Fhelpers.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Fhelpers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fhelpers.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -325,11 +325,11 @@ class AdminErrorList(forms.util.ErrorList):\n     \"\"\"\n     def __init__(self, form, inline_formsets):\n         if form.is_bound:\n-            self.extend(form.errors.values())\n+            self.extend(list(six.itervalues(form.errors)))\n             for inline_formset in inline_formsets:\n                 self.extend(inline_formset.non_form_errors())\n                 for errors_in_inline_form in inline_formset.errors:\n-                    self.extend(errors_in_inline_form.values())\n+                    self.extend(list(six.itervalues(errors_in_inline_form)))\n \n def normalize_fieldsets(fieldsets):\n     \"\"\""
        },
        {
            "sha": "ea28125a5ff83b62396d2c38de301905936fd8c4",
            "filename": "django/contrib/admin/options.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Foptions.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -425,7 +425,7 @@ def get_fieldsets(self, request, obj=None):\n         if self.declared_fieldsets:\n             return self.declared_fieldsets\n         form = self.get_form(request, obj)\n-        fields = form.base_fields.keys() + list(self.get_readonly_fields(request, obj))\n+        fields = list(six.iterkeys(form.base_fields)) + list(self.get_readonly_fields(request, obj))\n         return [(None, {'fields': fields})]\n \n     def get_form(self, request, obj=None, **kwargs):\n@@ -608,7 +608,7 @@ def get_action_choices(self, request, default_choices=BLANK_CHOICE_DASH):\n         tuple (name, description).\n         \"\"\"\n         choices = [] + default_choices\n-        for func, name, description in self.get_actions(request).itervalues():\n+        for func, name, description in six.itervalues(self.get_actions(request)):\n             choice = (name, description % model_format_dict(self.opts))\n             choices.append(choice)\n         return choices\n@@ -1415,7 +1415,7 @@ def get_fieldsets(self, request, obj=None):\n         if self.declared_fieldsets:\n             return self.declared_fieldsets\n         form = self.get_formset(request, obj).form\n-        fields = form.base_fields.keys() + list(self.get_readonly_fields(request, obj))\n+        fields = list(six.iterkeys(form.base_fields)) + list(self.get_readonly_fields(request, obj))\n         return [(None, {'fields': fields})]\n \n     def queryset(self, request):"
        },
        {
            "sha": "05773ceac055021db06cc26893ae579163454c2d",
            "filename": "django/contrib/admin/sites.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Fsites.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Fsites.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fsites.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -10,6 +10,7 @@\n from django.core.urlresolvers import reverse, NoReverseMatch\n from django.template.response import TemplateResponse\n from django.utils.safestring import mark_safe\n+from django.utils import six\n from django.utils.text import capfirst\n from django.utils.translation import ugettext as _\n from django.views.decorators.cache import never_cache\n@@ -133,7 +134,7 @@ def actions(self):\n         \"\"\"\n         Get all the enabled actions as an iterable of (name, func).\n         \"\"\"\n-        return self._actions.iteritems()\n+        return six.iteritems(self._actions)\n \n     def has_permission(self, request):\n         \"\"\"\n@@ -239,7 +240,7 @@ def wrapper(*args, **kwargs):\n         )\n \n         # Add in each model's views.\n-        for model, model_admin in self._registry.iteritems():\n+        for model, model_admin in six.iteritems(self._registry):\n             urlpatterns += patterns('',\n                 url(r'^%s/%s/' % (model._meta.app_label, model._meta.module_name),\n                     include(model_admin.urls))\n@@ -370,7 +371,7 @@ def index(self, request, extra_context=None):\n                         }\n \n         # Sort the apps alphabetically.\n-        app_list = app_dict.values()\n+        app_list = list(six.itervalues(app_dict))\n         app_list.sort(key=lambda x: x['name'])\n \n         # Sort the models alphabetically within each app."
        },
        {
            "sha": "a16226a70e25f635538920b6c9de4f4af48b7fc9",
            "filename": "django/contrib/admin/templatetags/admin_list.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -12,6 +12,7 @@\n from django.utils import formats\n from django.utils.html import format_html\n from django.utils.safestring import mark_safe\n+from django.utils import six\n from django.utils.text import capfirst\n from django.utils.translation import ugettext as _\n from django.utils.encoding import smart_unicode, force_unicode\n@@ -125,7 +126,7 @@ def result_headers(cl):\n         if i in ordering_field_columns:\n             sorted = True\n             order_type = ordering_field_columns.get(i).lower()\n-            sort_priority = ordering_field_columns.keys().index(i) + 1\n+            sort_priority = list(six.iterkeys(ordering_field_columns)).index(i) + 1\n             th_classes.append('sorted %sending' % order_type)\n             new_order_type = {'asc': 'desc', 'desc': 'asc'}[order_type]\n "
        },
        {
            "sha": "94963b4d39b5e611da65176e78a6e14477879b65",
            "filename": "django/contrib/admindocs/views.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmindocs%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fadmindocs%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmindocs%2Fviews.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -14,6 +14,7 @@\n from django.contrib.admindocs import utils\n from django.contrib.sites.models import Site\n from django.utils.importlib import import_module\n+from django.utils import six\n from django.utils.translation import ugettext as _\n from django.utils.safestring import mark_safe\n \n@@ -48,7 +49,7 @@ def template_tag_index(request):\n     load_all_installed_template_libraries()\n \n     tags = []\n-    app_libs = template.libraries.items()\n+    app_libs = list(six.iteritems(template.libraries))\n     builtin_libs = [(None, lib) for lib in template.builtins]\n     for module_name, library in builtin_libs + app_libs:\n         for tag_name, tag_func in library.tags.items():\n@@ -83,7 +84,7 @@ def template_filter_index(request):\n     load_all_installed_template_libraries()\n \n     filters = []\n-    app_libs = template.libraries.items()\n+    app_libs = list(six.iteritems(template.libraries))\n     builtin_libs = [(None, lib) for lib in template.builtins]\n     for module_name, library in builtin_libs + app_libs:\n         for filter_name, filter_func in library.filters.items():"
        },
        {
            "sha": "cb09822f52b8437ca0d7ed2f38de1f72eafdabc6",
            "filename": "django/contrib/auth/admin.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fauth%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fauth%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fadmin.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -12,6 +12,7 @@\n from django.utils.html import escape\n from django.utils.decorators import method_decorator\n from django.utils.safestring import mark_safe\n+from django.utils import six\n from django.utils.translation import ugettext, ugettext_lazy as _\n from django.views.decorators.csrf import csrf_protect\n from django.views.decorators.debug import sensitive_post_parameters\n@@ -128,7 +129,7 @@ def user_change_password(self, request, id, form_url=''):\n         else:\n             form = self.change_password_form(user)\n \n-        fieldsets = [(None, {'fields': form.base_fields.keys()})]\n+        fieldsets = [(None, {'fields': list(six.iterkeys(form.base_fields))})]\n         adminForm = admin.helpers.AdminForm(form, fieldsets, {})\n \n         context = {"
        },
        {
            "sha": "2bfe35ac88476d2abce9d1cc1d408b9e87bd8220",
            "filename": "django/contrib/auth/tests/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -9,6 +9,7 @@\n from django.test import TestCase\n from django.test.utils import override_settings\n from django.utils.encoding import force_unicode\n+from django.utils import six\n from django.utils import translation\n from django.utils.translation import ugettext as _\n \n@@ -203,7 +204,7 @@ def test_success(self):\n     def test_field_order(self):\n         # Regression test - check the order of fields:\n         user = User.objects.get(username='testclient')\n-        self.assertEqual(PasswordChangeForm(user, {}).fields.keys(),\n+        self.assertEqual(list(six.iterkeys(PasswordChangeForm(user, {}).fields)),\n                          ['old_password', 'new_password1', 'new_password2'])\n \n "
        },
        {
            "sha": "1b1c9c856280d62917260d48115505dd7c7ccd1e",
            "filename": "django/contrib/contenttypes/management.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fcontenttypes%2Fmanagement.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fcontenttypes%2Fmanagement.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Fmanagement.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -1,6 +1,7 @@\n from django.contrib.contenttypes.models import ContentType\n from django.db.models import get_apps, get_models, signals\n from django.utils.encoding import smart_unicode\n+from django.utils import six\n \n def update_contenttypes(app, created_models, verbosity=2, **kwargs):\n     \"\"\"\n@@ -24,7 +25,7 @@ def update_contenttypes(app, created_models, verbosity=2, **kwargs):\n     )\n     to_remove = [\n         ct\n-        for (model_name, ct) in content_types.iteritems()\n+        for (model_name, ct) in six.iteritems(content_types)\n         if model_name not in app_models\n     ]\n \n@@ -34,7 +35,7 @@ def update_contenttypes(app, created_models, verbosity=2, **kwargs):\n             app_label=app_label,\n             model=model_name,\n         )\n-        for (model_name, model) in app_models.iteritems()\n+        for (model_name, model) in six.iteritems(app_models)\n         if model_name not in content_types\n     ])\n     if verbosity >= 2:"
        },
        {
            "sha": "95d347cac070aaf4fbf9d287808ca265aa7a3ee5",
            "filename": "django/contrib/databrowse/datastructures.py",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -17,7 +17,7 @@ class EasyModel(object):\n     def __init__(self, site, model):\n         self.site = site\n         self.model = model\n-        self.model_list = site.registry.keys()\n+        self.model_list = list(site.registry.keys())\n         self.verbose_name = model._meta.verbose_name\n         self.verbose_name_plural = model._meta.verbose_name_plural\n \n@@ -176,8 +176,6 @@ def urls(self):\n         for plugin_name, plugin in self.model.model_databrowse().plugins.items():\n             urls = plugin.urls(plugin_name, self)\n             if urls is not None:\n-                #plugin_urls.append(urls)\n-                values = self.values()\n                 return zip(self.values(), urls)\n         if self.field.rel:\n             m = EasyModel(self.model.site, self.field.rel.to)\n@@ -196,10 +194,10 @@ def urls(self):\n                 url = '%s%s/%s/fields/%s/%s/' % (self.model.site.root_url, self.model.model._meta.app_label, self.model.model._meta.module_name, self.field.name, iri_to_uri(self.raw_value))\n                 lst.append((value, url))\n         elif isinstance(self.field, models.URLField):\n-            val = self.values()[0]\n+            val = list(self.values())[0]\n             lst = [(val, iri_to_uri(val))]\n         else:\n-            lst = [(self.values()[0], None)]\n+            lst = [(list(self.values())[0], None)]\n         return lst\n \n class EasyQuerySet(QuerySet):"
        },
        {
            "sha": "923adb90f668be853b1c06d2aa46862ccbda5485",
            "filename": "django/contrib/databrowse/plugins/calendars.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Fcalendars.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -96,7 +96,7 @@ def model_view(self, request, model_databrowse, url):\n \n     def homepage_view(self, request):\n         easy_model = EasyModel(self.site, self.model)\n-        field_list = self.fields.values()\n+        field_list = list(self.fields.values())\n         field_list.sort(key=lambda k:k.verbose_name)\n         return render_to_response('databrowse/calendar_homepage.html', {\n                 'root_url': self.site.root_url,"
        },
        {
            "sha": "73298b8d562117cca6858ad8a0400698792827b0",
            "filename": "django/contrib/databrowse/plugins/fieldchoices.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fplugins%2Ffieldchoices.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -63,7 +63,7 @@ def model_view(self, request, model_databrowse, url):\n \n     def homepage_view(self, request):\n         easy_model = EasyModel(self.site, self.model)\n-        field_list = self.fields.values()\n+        field_list = list(self.fields.values())\n         field_list.sort(key=lambda k: k.verbose_name)\n         return render_to_response('databrowse/fieldchoice_homepage.html', {'root_url': self.site.root_url, 'model': easy_model, 'field_list': field_list})\n "
        },
        {
            "sha": "7c802712c17730f4de41c71c10b169ed8f3e43e1",
            "filename": "django/contrib/formtools/wizard/storage/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fstorage%2Fbase.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -2,6 +2,7 @@\n from django.utils.datastructures import MultiValueDict\n from django.utils.encoding import smart_str\n from django.utils.functional import lazy_property\n+from django.utils import six\n \n from django.contrib.formtools.wizard.storage.exceptions import NoFileStorageConfigured\n \n@@ -72,9 +73,9 @@ def get_step_files(self, step):\n             raise NoFileStorageConfigured\n \n         files = {}\n-        for field, field_dict in wizard_files.iteritems():\n+        for field, field_dict in six.iteritems(wizard_files):\n             field_dict = dict((smart_str(k), v)\n-                              for k, v in field_dict.iteritems())\n+                              for k, v in six.iteritems(field_dict))\n             tmp_name = field_dict.pop('tmp_name')\n             files[field] = UploadedFile(\n                 file=self.file_storage.open(tmp_name), **field_dict)\n@@ -87,7 +88,7 @@ def set_step_files(self, step, files):\n         if step not in self.data[self.step_files_key]:\n             self.data[self.step_files_key][step] = {}\n \n-        for field, field_file in (files or {}).iteritems():\n+        for field, field_file in six.iteritems(files or {}):\n             tmp_filename = self.file_storage.save(field_file.name, field_file)\n             file_dict = {\n                 'tmp_name': tmp_filename,"
        },
        {
            "sha": "741b7e52b6bcfe2eab26a5708f23b7ef16ae06c7",
            "filename": "django/contrib/formtools/wizard/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -44,7 +44,7 @@ def __repr__(self):\n     @property\n     def all(self):\n         \"Returns the names of all steps/forms.\"\n-        return self._wizard.get_form_list().keys()\n+        return list(six.iterkeys(self._wizard.get_form_list()))\n \n     @property\n     def count(self):\n@@ -164,14 +164,14 @@ def get_initkwargs(cls, form_list, initial_dict=None,\n                 init_form_list[six.text_type(i)] = form\n \n         # walk through the new created list of forms\n-        for form in init_form_list.itervalues():\n+        for form in six.itervalues(init_form_list):\n             if issubclass(form, formsets.BaseFormSet):\n                 # if the element is based on BaseFormSet (FormSet/ModelFormSet)\n                 # we need to override the form variable.\n                 form = form.form\n             # check if any form contains a FileField, if yes, we need a\n             # file_storage added to the wizardview (by subclassing).\n-            for field in form.base_fields.itervalues():\n+            for field in six.itervalues(form.base_fields):\n                 if (isinstance(field, forms.FileField) and\n                         not hasattr(cls, 'file_storage')):\n                     raise NoFileStorageConfigured\n@@ -196,7 +196,7 @@ def get_form_list(self):\n         could use data from other (maybe previous forms).\n         \"\"\"\n         form_list = SortedDict()\n-        for form_key, form_class in self.form_list.iteritems():\n+        for form_key, form_class in six.iteritems(self.form_list):\n             # try to fetch the value from condition list, by default, the form\n             # gets passed to the new list.\n             condition = self.condition_dict.get(form_key, True)"
        },
        {
            "sha": "277b76481020fd7ec3c09a1e364593df89691d50",
            "filename": "django/contrib/gis/db/backends/mysql/operations.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fmysql%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fmysql%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fmysql%2Foperations.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -3,6 +3,8 @@\n from django.contrib.gis.db.backends.adapter import WKTAdapter\n from django.contrib.gis.db.backends.base import BaseSpatialOperations\n \n+from django.utils import six\n+\n class MySQLOperations(DatabaseOperations, BaseSpatialOperations):\n \n     compiler_module = 'django.contrib.gis.db.backends.mysql.compiler'\n@@ -30,7 +32,7 @@ class MySQLOperations(DatabaseOperations, BaseSpatialOperations):\n         'within' : 'MBRWithin',\n         }\n \n-    gis_terms = dict([(term, None) for term in geometry_functions.keys() + ['isnull']])\n+    gis_terms = dict([(term, None) for term in list(six.iterkeys(geometry_functions)) + ['isnull']])\n \n     def geo_db_type(self, f):\n         return f.geom_type"
        },
        {
            "sha": "5db30e6fc69b1f89e66f8c0e53bff47824320a14",
            "filename": "django/contrib/gis/db/backends/oracle/operations.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Foperations.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -128,7 +128,7 @@ class OracleOperations(DatabaseOperations, BaseSpatialOperations):\n     geometry_functions.update(distance_functions)\n \n     gis_terms = ['isnull']\n-    gis_terms += geometry_functions.keys()\n+    gis_terms += list(six.iterkeys(geometry_functions))\n     gis_terms = dict([(term, None) for term in gis_terms])\n \n     truncate_params = {'relate' : None}"
        },
        {
            "sha": "92f8925a7d8629a93c66adfb1006584c8c89570d",
            "filename": "django/contrib/gis/db/backends/postgis/operations.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Foperations.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -217,8 +217,8 @@ def get_dist_ops(operator):\n \n         # Creating a dictionary lookup of all GIS terms for PostGIS.\n         gis_terms = ['isnull']\n-        gis_terms += self.geometry_operators.keys()\n-        gis_terms += self.geometry_functions.keys()\n+        gis_terms += list(six.iterkeys(self.geometry_operators))\n+        gis_terms += list(six.iterkeys(self.geometry_functions))\n         self.gis_terms = dict([(term, None) for term in gis_terms])\n \n         self.area = prefix + 'Area'"
        },
        {
            "sha": "31c98212e991f1be4ca040e4fe8c520b9173b901",
            "filename": "django/contrib/gis/db/backends/spatialite/operations.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Foperations.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -131,7 +131,7 @@ def __init__(self, connection):\n \n         # Creating the GIS terms dictionary.\n         gis_terms = ['isnull']\n-        gis_terms += self.geometry_functions.keys()\n+        gis_terms += list(six.iterkeys(self.geometry_functions))\n         self.gis_terms = dict([(term, None) for term in gis_terms])\n \n         if version >= (2, 4, 0):"
        },
        {
            "sha": "6dc36d6ab8945c72c13abf8b9a016216b5c970cf",
            "filename": "django/contrib/gis/db/models/query.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fquery.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -1,5 +1,6 @@\n from django.db import connections\n from django.db.models.query import QuerySet, ValuesQuerySet, ValuesListQuerySet\n+from django.utils import six\n \n from django.contrib.gis.db.models import aggregates\n from django.contrib.gis.db.models.fields import get_srid_info, PointField, LineStringField\n@@ -25,7 +26,7 @@ def values_list(self, *fields, **kwargs):\n         flat = kwargs.pop('flat', False)\n         if kwargs:\n             raise TypeError('Unexpected keyword arguments to values_list: %s'\n-                    % (kwargs.keys(),))\n+                    % (list(six.iterkeys(kwargs)),))\n         if flat and len(fields) > 1:\n             raise TypeError(\"'flat' is not valid when values_list is called with more than one field.\")\n         return self._clone(klass=GeoValuesListQuerySet, setup=True, flat=flat,\n@@ -531,7 +532,7 @@ def _spatial_attribute(self, att, settings, field_name=None, model_att=None):\n         if settings.get('setup', True):\n             default_args, geo_field = self._spatial_setup(att, desc=settings['desc'], field_name=field_name,\n                                                           geo_field_type=settings.get('geo_field_type', None))\n-            for k, v in default_args.iteritems(): settings['procedure_args'].setdefault(k, v)\n+            for k, v in six.iteritems(default_args): settings['procedure_args'].setdefault(k, v)\n         else:\n             geo_field = settings['geo_field']\n "
        },
        {
            "sha": "64d1a4d869dc8b7d5e6221758892597104dbb3ef",
            "filename": "django/contrib/gis/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -3,6 +3,7 @@\n from django.db.backends.util import truncate_name, typecast_timestamp\n from django.db.models.sql import compiler\n from django.db.models.sql.constants import MULTI\n+from django.utils import six\n \n SQLCompiler = compiler.SQLCompiler\n \n@@ -24,7 +25,7 @@ def get_columns(self, with_aliases=False):\n         qn = self.quote_name_unless_alias\n         qn2 = self.connection.ops.quote_name\n         result = ['(%s) AS %s' % (self.get_extra_select_format(alias) % col[0], qn2(alias))\n-                  for alias, col in self.query.extra_select.iteritems()]\n+                  for alias, col in six.iteritems(self.query.extra_select)]\n         aliases = set(self.query.extra_select.keys())\n         if with_aliases:\n             col_aliases = aliases.copy()\n@@ -170,7 +171,7 @@ def resolve_columns(self, row, fields=()):\n         objects.\n         \"\"\"\n         values = []\n-        aliases = self.query.extra_select.keys()\n+        aliases = list(six.iterkeys(self.query.extra_select))\n \n         # Have to set a starting row number offset that is used for\n         # determining the correct starting row index -- needed for"
        },
        {
            "sha": "505f0e4f4b4ec283a043637763d45e38de463655",
            "filename": "django/contrib/gis/geometry/test_data.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fgeometry%2Ftest_data.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fgeometry%2Ftest_data.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeometry%2Ftest_data.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -7,6 +7,7 @@\n import os\n \n from django.contrib import gis\n+from django.utils import six\n \n \n # This global used to store reference geometry data.\n@@ -25,7 +26,7 @@ def tuplize(seq):\n \n def strconvert(d):\n     \"Converts all keys in dictionary to str type.\"\n-    return dict([(str(k), v) for k, v in d.iteritems()])\n+    return dict([(str(k), v) for k, v in six.iteritems(d)])\n \n \n def get_ds_file(name, ext):"
        },
        {
            "sha": "fa8bab134078b847fe6ac990e653f87193f267a6",
            "filename": "django/contrib/gis/measure.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fmeasure.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fmeasure.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fmeasure.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -169,7 +169,7 @@ def default_units(self, kwargs):\n         \"\"\"\n         val = 0.0\n         default_unit = self.STANDARD_UNIT\n-        for unit, value in kwargs.iteritems():\n+        for unit, value in six.iteritems(kwargs):\n             if not isinstance(value, float): value = float(value)\n             if unit in self.UNITS:\n                 val += self.UNITS[unit] * value"
        },
        {
            "sha": "6753b9e34a3d6a1260852f966272e7f7424d68b4",
            "filename": "django/contrib/gis/sitemaps/views.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fsitemaps%2Fviews.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -9,6 +9,7 @@\n from django.db import connections, DEFAULT_DB_ALIAS\n from django.db.models import get_model\n from django.utils.encoding import smart_str\n+from django.utils import six\n from django.utils.translation import ugettext as _\n \n from django.contrib.gis.shortcuts import render_to_kml, render_to_kmz\n@@ -46,7 +47,7 @@ def sitemap(request, sitemaps, section=None):\n             raise Http404(_(\"No sitemap available for section: %r\") % section)\n         maps.append(sitemaps[section])\n     else:\n-        maps = sitemaps.values()\n+        maps = list(six.itervalues(sitemaps))\n \n     page = request.GET.get(\"p\", 1)\n     current_site = get_current_site(request)"
        },
        {
            "sha": "5f64ccd0c5d1a02df6afb38741e04ce2d8868561",
            "filename": "django/contrib/messages/storage/cookie.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fmessages%2Fstorage%2Fcookie.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fmessages%2Fstorage%2Fcookie.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Fstorage%2Fcookie.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -4,6 +4,7 @@\n from django.contrib.messages.storage.base import BaseStorage, Message\n from django.http import SimpleCookie\n from django.utils.crypto import salted_hmac, constant_time_compare\n+from django.utils import six\n \n \n class MessageEncoder(json.JSONEncoder):\n@@ -33,7 +34,7 @@ def process_messages(self, obj):\n             return [self.process_messages(item) for item in obj]\n         if isinstance(obj, dict):\n             return dict([(key, self.process_messages(value))\n-                         for key, value in obj.iteritems()])\n+                         for key, value in six.iteritems(obj)])\n         return obj\n \n     def decode(self, s, **kwargs):"
        },
        {
            "sha": "7de2941122fd91e0885dead7bf627fd19bad2ee2",
            "filename": "django/contrib/sessions/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fsessions%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fsessions%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsessions%2Ftests.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -16,6 +16,7 @@\n from django.http import HttpResponse\n from django.test import TestCase, RequestFactory\n from django.test.utils import override_settings\n+from django.utils import six\n from django.utils import timezone\n from django.utils import unittest\n \n@@ -86,16 +87,16 @@ def test_has_key(self):\n         self.assertFalse(self.session.modified)\n \n     def test_values(self):\n-        self.assertEqual(self.session.values(), [])\n+        self.assertEqual(list(self.session.values()), [])\n         self.assertTrue(self.session.accessed)\n         self.session['some key'] = 1\n-        self.assertEqual(self.session.values(), [1])\n+        self.assertEqual(list(self.session.values()), [1])\n \n     def test_iterkeys(self):\n         self.session['x'] = 1\n         self.session.modified = False\n         self.session.accessed = False\n-        i = self.session.iterkeys()\n+        i = six.iterkeys(self.session)\n         self.assertTrue(hasattr(i, '__iter__'))\n         self.assertTrue(self.session.accessed)\n         self.assertFalse(self.session.modified)\n@@ -105,7 +106,7 @@ def test_itervalues(self):\n         self.session['x'] = 1\n         self.session.modified = False\n         self.session.accessed = False\n-        i = self.session.itervalues()\n+        i = six.itervalues(self.session)\n         self.assertTrue(hasattr(i, '__iter__'))\n         self.assertTrue(self.session.accessed)\n         self.assertFalse(self.session.modified)\n@@ -115,7 +116,7 @@ def test_iteritems(self):\n         self.session['x'] = 1\n         self.session.modified = False\n         self.session.accessed = False\n-        i = self.session.iteritems()\n+        i = six.iteritems(self.session)\n         self.assertTrue(hasattr(i, '__iter__'))\n         self.assertTrue(self.session.accessed)\n         self.assertFalse(self.session.modified)\n@@ -125,9 +126,9 @@ def test_clear(self):\n         self.session['x'] = 1\n         self.session.modified = False\n         self.session.accessed = False\n-        self.assertEqual(self.session.items(), [('x', 1)])\n+        self.assertEqual(list(self.session.items()), [('x', 1)])\n         self.session.clear()\n-        self.assertEqual(self.session.items(), [])\n+        self.assertEqual(list(self.session.items()), [])\n         self.assertTrue(self.session.accessed)\n         self.assertTrue(self.session.modified)\n \n@@ -154,10 +155,10 @@ def test_cycle(self):\n         self.session['a'], self.session['b'] = 'c', 'd'\n         self.session.save()\n         prev_key = self.session.session_key\n-        prev_data = self.session.items()\n+        prev_data = list(self.session.items())\n         self.session.cycle_key()\n         self.assertNotEqual(self.session.session_key, prev_key)\n-        self.assertEqual(self.session.items(), prev_data)\n+        self.assertEqual(list(self.session.items()), prev_data)\n \n     def test_invalid_key(self):\n         # Submitting an invalid session key (either by guessing, or if the db has"
        },
        {
            "sha": "cfe3aa66a9261aad25b3a35254030438afd179b0",
            "filename": "django/contrib/sitemaps/views.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fsitemaps%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fsitemaps%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2Fviews.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -3,6 +3,7 @@\n from django.core.paginator import EmptyPage, PageNotAnInteger\n from django.http import Http404\n from django.template.response import TemplateResponse\n+from django.utils import six\n \n def index(request, sitemaps,\n           template_name='sitemap_index.xml', mimetype='application/xml',\n@@ -35,7 +36,7 @@ def sitemap(request, sitemaps, section=None,\n             raise Http404(\"No sitemap available for section: %r\" % section)\n         maps = [sitemaps[section]]\n     else:\n-        maps = sitemaps.values()\n+        maps = list(six.itervalues(sitemaps))\n     page = request.GET.get(\"p\", 1)\n \n     urls = []"
        },
        {
            "sha": "9b06c2cf60c9a2d3c89a25b5e1ab64ec1836a618",
            "filename": "django/contrib/staticfiles/finders.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcontrib%2Fstaticfiles%2Ffinders.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fstaticfiles%2Ffinders.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -6,6 +6,7 @@\n from django.utils.functional import empty, memoize, LazyObject\n from django.utils.importlib import import_module\n from django.utils._os import safe_join\n+from django.utils import six\n \n from django.contrib.staticfiles import utils\n from django.contrib.staticfiles.storage import AppStaticStorage\n@@ -132,7 +133,7 @@ def list(self, ignore_patterns):\n         \"\"\"\n         List all files in all app storages.\n         \"\"\"\n-        for storage in self.storages.itervalues():\n+        for storage in six.itervalues(self.storages):\n             if storage.exists(''):  # check if storage location exists\n                 for path in utils.get_files(storage, ignore_patterns):\n                     yield path, storage"
        },
        {
            "sha": "e2f9798dcd22fca36df97e27c347fed2c7b6edc5",
            "filename": "django/core/management/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fmanagement%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fmanagement%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2F__init__.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -8,6 +8,7 @@\n from django.core.management.base import BaseCommand, CommandError, handle_default_options\n from django.core.management.color import color_style\n from django.utils.importlib import import_module\n+from django.utils import six\n \n # For backwards compatibility: get_version() used to be in this module.\n from django import get_version\n@@ -228,7 +229,7 @@ def main_help_text(self, commands_only=False):\n                 \"Available subcommands:\",\n             ]\n             commands_dict = collections.defaultdict(lambda: [])\n-            for name, app in get_commands().iteritems():\n+            for name, app in six.iteritems(get_commands()):\n                 if app == 'django.core':\n                     app = 'django'\n                 else:\n@@ -294,7 +295,7 @@ def autocomplete(self):\n         except IndexError:\n             curr = ''\n \n-        subcommands = get_commands().keys() + ['help']\n+        subcommands = list(six.iterkeys(get_commands())) + ['help']\n         options = [('--help', None)]\n \n         # subcommand"
        },
        {
            "sha": "aa7395e5eea0bea4fbbcd6e782992ac5cfac2745",
            "filename": "django/core/management/commands/diffsettings.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fmanagement%2Fcommands%2Fdiffsettings.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fmanagement%2Fcommands%2Fdiffsettings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fdiffsettings.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -22,9 +22,7 @@ def handle_noargs(self, **options):\n         default_settings = module_to_dict(global_settings)\n \n         output = []\n-        keys = user_settings.keys()\n-        keys.sort()\n-        for key in keys:\n+        for key in sorted(user_settings.keys()):\n             if key not in default_settings:\n                 output.append(\"%s = %s  ###\" % (key, user_settings[key]))\n             elif user_settings[key] != default_settings[key]:"
        },
        {
            "sha": "2d5e7624a4527f0abd48e9e52ede51211889a646",
            "filename": "django/core/serializers/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fserializers%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fserializers%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2F__init__.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -18,6 +18,7 @@\n \n from django.conf import settings\n from django.utils import importlib\n+from django.utils import six\n from django.core.serializers.base import SerializerDoesNotExist\n \n # Built-in serializers\n@@ -75,12 +76,12 @@ def get_serializer(format):\n def get_serializer_formats():\n     if not _serializers:\n         _load_serializers()\n-    return _serializers.keys()\n+    return list(six.iterkeys(_serializers))\n \n def get_public_serializer_formats():\n     if not _serializers:\n         _load_serializers()\n-    return [k for k, v in _serializers.iteritems() if not v.Serializer.internal_use_only]\n+    return [k for k, v in six.iteritems(_serializers) if not v.Serializer.internal_use_only]\n \n def get_deserializer(format):\n     if not _serializers:"
        },
        {
            "sha": "83c6eb67392ebd3d970f0ba46ddced41866d16e3",
            "filename": "django/core/serializers/python.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fserializers%2Fpython.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fserializers%2Fpython.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fpython.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -9,6 +9,7 @@\n from django.core.serializers import base\n from django.db import models, DEFAULT_DB_ALIAS\n from django.utils.encoding import smart_unicode, is_protected_type\n+from django.utils import six\n \n class Serializer(base.Serializer):\n     \"\"\"\n@@ -87,7 +88,7 @@ def Deserializer(object_list, **options):\n         m2m_data = {}\n \n         # Handle each field\n-        for (field_name, field_value) in d[\"fields\"].iteritems():\n+        for (field_name, field_value) in six.iteritems(d[\"fields\"]):\n             if isinstance(field_value, str):\n                 field_value = smart_unicode(field_value, options.get(\"encoding\", settings.DEFAULT_CHARSET), strings_only=True)\n "
        },
        {
            "sha": "c17168f8cb4cffe796f2973ab16258b6ee29303f",
            "filename": "django/core/urlresolvers.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Furlresolvers.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Furlresolvers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Furlresolvers.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -376,7 +376,7 @@ def _reverse_with_prefix(self, lookup_view, _prefix, *args, **kwargs):\n                     unicode_args = [force_unicode(val) for val in args]\n                     candidate =  (prefix_norm + result) % dict(zip(prefix_args + params, unicode_args))\n                 else:\n-                    if set(kwargs.keys() + defaults.keys()) != set(params + defaults.keys() + prefix_args):\n+                    if set(kwargs.keys()) | set(defaults.keys()) != set(params) | set(defaults.keys()) | set(prefix_args):\n                         continue\n                     matches = True\n                     for k, v in defaults.items():"
        },
        {
            "sha": "91d6f62dcfbfc76e5915a190fcc03d78148722e0",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -138,7 +138,7 @@ def ip_address_validators(protocol, unpack_ipv4):\n         return ip_address_validator_map[protocol.lower()]\n     except KeyError:\n         raise ValueError(\"The protocol '%s' is unknown. Supported: %s\"\n-                         % (protocol, ip_address_validator_map.keys()))\n+                         % (protocol, list(six.iterkeys(ip_address_validator_map))))\n \n comma_separated_int_list_re = re.compile('^[\\d,]+$')\n validate_comma_separated_integer_list = RegexValidator(comma_separated_int_list_re, _('Enter only digits separated by commas.'), 'invalid')"
        },
        {
            "sha": "6aab0b99ab0902a5823a02d0c61783f5b40495eb",
            "filename": "django/db/backends/mysql/introspection.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fmysql%2Fintrospection.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -1,4 +1,5 @@\n from django.db.backends import BaseDatabaseIntrospection\n+from django.utils import six\n from MySQLdb import ProgrammingError, OperationalError\n from MySQLdb.constants import FIELD_TYPE\n import re\n@@ -79,7 +80,7 @@ def get_primary_key_column(self, cursor, table_name):\n         \"\"\"\n         Returns the name of the primary key column for the given table\n         \"\"\"\n-        for column in self.get_indexes(cursor, table_name).iteritems():\n+        for column in six.iteritems(self.get_indexes(cursor, table_name)):\n             if column[1]['primary_key']:\n                 return column[0]\n         return None"
        },
        {
            "sha": "a25c1062900bd0457091e4dda0d9e03b6ded8c04",
            "filename": "django/db/models/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fbase.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -364,14 +364,14 @@ def __init__(self, *args, **kwargs):\n                 setattr(self, field.attname, val)\n \n         if kwargs:\n-            for prop in kwargs.keys():\n+            for prop in list(six.iterkeys(kwargs)):\n                 try:\n                     if isinstance(getattr(self.__class__, prop), property):\n                         setattr(self, prop, kwargs.pop(prop))\n                 except AttributeError:\n                     pass\n             if kwargs:\n-                raise TypeError(\"'%s' is an invalid keyword argument for this function\" % kwargs.keys()[0])\n+                raise TypeError(\"'%s' is an invalid keyword argument for this function\" % list(six.iterkeys(kwargs))[0])\n         super(Model, self).__init__()\n         signals.post_init.send(sender=self.__class__, instance=self)\n "
        },
        {
            "sha": "2e5ed53e6363f520058fae5e4c841f37efe155ee",
            "filename": "django/db/models/deletion.py",
            "status": "modified",
            "additions": 13,
            "deletions": 12,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fdeletion.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fdeletion.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fdeletion.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -4,6 +4,7 @@\n from django.db import connections, transaction, IntegrityError\n from django.db.models import signals, sql\n from django.utils.datastructures import SortedDict\n+from django.utils import six\n \n \n class ProtectedError(IntegrityError):\n@@ -157,7 +158,7 @@ def collect(self, objs, source=None, nullable=False, collect_related=True,\n         # Recursively collect concrete model's parent models, but not their\n         # related objects. These will be found by meta.get_all_related_objects()\n         concrete_model = model._meta.concrete_model\n-        for ptr in concrete_model._meta.parents.itervalues():\n+        for ptr in six.itervalues(concrete_model._meta.parents):\n             if ptr:\n                 parent_objs = [getattr(obj, ptr.name) for obj in new_objs]\n                 self.collect(parent_objs, source=model,\n@@ -199,14 +200,14 @@ def related_objects(self, related, objs):\n         )\n \n     def instances_with_model(self):\n-        for model, instances in self.data.iteritems():\n+        for model, instances in six.iteritems(self.data):\n             for obj in instances:\n                 yield model, obj\n \n     def sort(self):\n         sorted_models = []\n         concrete_models = set()\n-        models = self.data.keys()\n+        models = list(six.iterkeys(self.data))\n         while len(sorted_models) < len(models):\n             found = False\n             for model in models:\n@@ -241,24 +242,24 @@ def delete(self):\n                 )\n \n         # update fields\n-        for model, instances_for_fieldvalues in self.field_updates.iteritems():\n+        for model, instances_for_fieldvalues in six.iteritems(self.field_updates):\n             query = sql.UpdateQuery(model)\n-            for (field, value), instances in instances_for_fieldvalues.iteritems():\n+            for (field, value), instances in six.iteritems(instances_for_fieldvalues):\n                 query.update_batch([obj.pk for obj in instances],\n                                    {field.name: value}, self.using)\n \n         # reverse instance collections\n-        for instances in self.data.itervalues():\n+        for instances in six.itervalues(self.data):\n             instances.reverse()\n \n         # delete batches\n-        for model, batches in self.batches.iteritems():\n+        for model, batches in six.iteritems(self.batches):\n             query = sql.DeleteQuery(model)\n-            for field, instances in batches.iteritems():\n+            for field, instances in six.iteritems(batches):\n                 query.delete_batch([obj.pk for obj in instances], self.using, field)\n \n         # delete instances\n-        for model, instances in self.data.iteritems():\n+        for model, instances in six.iteritems(self.data):\n             query = sql.DeleteQuery(model)\n             pk_list = [obj.pk for obj in instances]\n             query.delete_batch(pk_list, self.using)\n@@ -271,10 +272,10 @@ def delete(self):\n                 )\n \n         # update collected instances\n-        for model, instances_for_fieldvalues in self.field_updates.iteritems():\n-            for (field, value), instances in instances_for_fieldvalues.iteritems():\n+        for model, instances_for_fieldvalues in six.iteritems(self.field_updates):\n+            for (field, value), instances in six.iteritems(instances_for_fieldvalues):\n                 for obj in instances:\n                     setattr(obj, field.attname, value)\n-        for model, instances in self.data.iteritems():\n+        for model, instances in six.iteritems(self.data):\n             for instance in instances:\n                 setattr(instance, model._meta.pk.attname, None)"
        },
        {
            "sha": "bfa8feee9fa67ca2ed0076bf164708affe74b6a3",
            "filename": "django/db/models/fields/related.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2Frelated.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -241,7 +241,7 @@ def get_prefetch_query_set(self, instances):\n         rel_obj_attr = attrgetter(self.related.field.attname)\n         instance_attr = lambda obj: obj._get_pk_val()\n         instances_dict = dict((instance_attr(inst), inst) for inst in instances)\n-        params = {'%s__pk__in' % self.related.field.name: instances_dict.keys()}\n+        params = {'%s__pk__in' % self.related.field.name: list(six.iterkeys(instances_dict))}\n         qs = self.get_query_set(instance=instances[0]).filter(**params)\n         # Since we're going to assign directly in the cache,\n         # we must manage the reverse relation cache manually.\n@@ -335,9 +335,9 @@ def get_prefetch_query_set(self, instances):\n         instance_attr = attrgetter(self.field.attname)\n         instances_dict = dict((instance_attr(inst), inst) for inst in instances)\n         if other_field.rel:\n-            params = {'%s__pk__in' % self.field.rel.field_name: instances_dict.keys()}\n+            params = {'%s__pk__in' % self.field.rel.field_name: list(six.iterkeys(instances_dict))}\n         else:\n-            params = {'%s__in' % self.field.rel.field_name: instances_dict.keys()}\n+            params = {'%s__in' % self.field.rel.field_name: list(six.iterkeys(instances_dict))}\n         qs = self.get_query_set(instance=instances[0]).filter(**params)\n         # Since we're going to assign directly in the cache,\n         # we must manage the reverse relation cache manually.\n@@ -488,7 +488,7 @@ def get_prefetch_query_set(self, instances):\n                 instance_attr = attrgetter(attname)\n                 instances_dict = dict((instance_attr(inst), inst) for inst in instances)\n                 db = self._db or router.db_for_read(self.model, instance=instances[0])\n-                query = {'%s__%s__in' % (rel_field.name, attname): instances_dict.keys()}\n+                query = {'%s__%s__in' % (rel_field.name, attname): list(six.iterkeys(instances_dict))}\n                 qs = super(RelatedManager, self).get_query_set().using(db).filter(**query)\n                 # Since we just bypassed this class' get_query_set(), we must manage\n                 # the reverse relation manually."
        },
        {
            "sha": "7a9cb2cb415ba8fc2ad5e25238fcde2521842d92",
            "filename": "django/db/models/loading.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Floading.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Floading.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Floading.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -5,6 +5,7 @@\n from django.utils.datastructures import SortedDict\n from django.utils.importlib import import_module\n from django.utils.module_loading import module_has_submodule\n+from django.utils import six\n \n import imp\n import sys\n@@ -193,9 +194,9 @@ def get_models(self, app_mod=None,\n         else:\n             if only_installed:\n                 app_list = [self.app_models.get(app_label, SortedDict())\n-                            for app_label in self.app_labels.iterkeys()]\n+                            for app_label in six.iterkeys(self.app_labels)]\n             else:\n-                app_list = self.app_models.itervalues()\n+                app_list = six.itervalues(self.app_models)\n         model_list = []\n         for app in app_list:\n             model_list.extend("
        },
        {
            "sha": "9e8d4120e9fd5f25ac3172dd9532a797c63a3616",
            "filename": "django/db/models/options.py",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Foptions.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -127,7 +127,7 @@ def _prepare(self, model):\n             if self.parents:\n                 # Promote the first parent link in lieu of adding yet another\n                 # field.\n-                field = next(self.parents.itervalues())\n+                field = next(six.itervalues(self.parents))\n                 # Look for a local field with the same name as the\n                 # first parent link. If a local field has already been\n                 # created, use it instead of promoting the parent\n@@ -147,13 +147,13 @@ def _prepare(self, model):\n         # self.duplicate_targets will map each duplicate field column to the\n         # columns it duplicates.\n         collections = {}\n-        for column, target in self.duplicate_targets.iteritems():\n+        for column, target in six.iteritems(self.duplicate_targets):\n             try:\n                 collections[target].add(column)\n             except KeyError:\n                 collections[target] = set([column])\n         self.duplicate_targets = {}\n-        for elt in collections.itervalues():\n+        for elt in six.itervalues(collections):\n             if len(elt) == 1:\n                 continue\n             for column in elt:\n@@ -258,7 +258,7 @@ def _many_to_many(self):\n             self._m2m_cache\n         except AttributeError:\n             self._fill_m2m_cache()\n-        return self._m2m_cache.keys()\n+        return list(six.iterkeys(self._m2m_cache))\n     many_to_many = property(_many_to_many)\n \n     def get_m2m_with_model(self):\n@@ -269,7 +269,7 @@ def get_m2m_with_model(self):\n             self._m2m_cache\n         except AttributeError:\n             self._fill_m2m_cache()\n-        return self._m2m_cache.items()\n+        return list(six.iteritems(self._m2m_cache))\n \n     def _fill_m2m_cache(self):\n         cache = SortedDict()\n@@ -326,8 +326,7 @@ def get_all_field_names(self):\n             cache = self._name_map\n         except AttributeError:\n             cache = self.init_name_map()\n-        names = cache.keys()\n-        names.sort()\n+        names = sorted(cache.keys())\n         # Internal-only names end with \"+\" (symmetrical m2m related names being\n         # the main example). Trim them.\n         return [val for val in names if not val.endswith('+')]\n@@ -417,7 +416,7 @@ def get_all_related_many_to_many_objects(self, local_only=False):\n             cache = self._fill_related_many_to_many_cache()\n         if local_only:\n             return [k for k, v in cache.items() if not v]\n-        return cache.keys()\n+        return list(six.iterkeys(cache))\n \n     def get_all_related_m2m_objects_with_model(self):\n         \"\"\"\n@@ -428,7 +427,7 @@ def get_all_related_m2m_objects_with_model(self):\n             cache = self._related_many_to_many_cache\n         except AttributeError:\n             cache = self._fill_related_many_to_many_cache()\n-        return cache.items()\n+        return list(six.iteritems(cache))\n \n     def _fill_related_many_to_many_cache(self):\n         cache = SortedDict()"
        },
        {
            "sha": "6013233a0f3c5e39c60cd1c3c18d76b64648a650",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -245,8 +245,8 @@ def iterator(self):\n             requested = None\n         max_depth = self.query.max_depth\n \n-        extra_select = self.query.extra_select.keys()\n-        aggregate_select = self.query.aggregate_select.keys()\n+        extra_select = list(six.iterkeys(self.query.extra_select))\n+        aggregate_select = list(six.iterkeys(self.query.aggregate_select))\n \n         only_load = self.query.get_loaded_field_names()\n         if not fill_cache:\n@@ -593,7 +593,7 @@ def values_list(self, *fields, **kwargs):\n         flat = kwargs.pop('flat', False)\n         if kwargs:\n             raise TypeError('Unexpected keyword arguments to values_list: %s'\n-                    % (kwargs.keys(),))\n+                    % (list(six.iterkeys(kwargs)),))\n         if flat and len(fields) > 1:\n             raise TypeError(\"'flat' is not valid when values_list is called with more than one field.\")\n         return self._clone(klass=ValuesListQuerySet, setup=True, flat=flat,\n@@ -693,7 +693,7 @@ def select_related(self, *fields, **kwargs):\n         depth = kwargs.pop('depth', 0)\n         if kwargs:\n             raise TypeError('Unexpected keyword arguments to select_related: %s'\n-                    % (kwargs.keys(),))\n+                    % (list(six.iterkeys(kwargs)),))\n         obj = self._clone()\n         if fields:\n             if depth:\n@@ -751,7 +751,7 @@ def annotate(self, *args, **kwargs):\n \n         obj = self._clone()\n \n-        obj._setup_aggregate_query(kwargs.keys())\n+        obj._setup_aggregate_query(list(six.iterkeys(kwargs)))\n \n         # Add the aggregates to the query\n         for (alias, aggregate_expr) in kwargs.items():\n@@ -966,9 +966,9 @@ def __init__(self, *args, **kwargs):\n \n     def iterator(self):\n         # Purge any extra columns that haven't been explicitly asked for\n-        extra_names = self.query.extra_select.keys()\n+        extra_names = list(six.iterkeys(self.query.extra_select))\n         field_names = self.field_names\n-        aggregate_names = self.query.aggregate_select.keys()\n+        aggregate_names = list(six.iterkeys(self.query.aggregate_select))\n \n         names = extra_names + field_names + aggregate_names\n \n@@ -1097,9 +1097,9 @@ def iterator(self):\n             # When extra(select=...) or an annotation is involved, the extra\n             # cols are always at the start of the row, and we need to reorder\n             # the fields to match the order in self._fields.\n-            extra_names = self.query.extra_select.keys()\n+            extra_names = list(six.iterkeys(self.query.extra_select))\n             field_names = self.field_names\n-            aggregate_names = self.query.aggregate_select.keys()\n+            aggregate_names = list(six.iterkeys(self.query.aggregate_select))\n \n             names = extra_names + field_names + aggregate_names\n \n@@ -1527,7 +1527,7 @@ def __iter__(self):\n             # Associate fields to values\n             if skip:\n                 model_init_kwargs = {}\n-                for attname, pos in model_init_field_names.iteritems():\n+                for attname, pos in six.iteritems(model_init_field_names):\n                     model_init_kwargs[attname] = values[pos]\n                 instance = model_cls(**model_init_kwargs)\n             else:"
        },
        {
            "sha": "c1a690a524e5f4492ef10dd5d8a2840fa2e0bc0a",
            "filename": "django/db/models/query_utils.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fquery_utils.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fquery_utils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery_utils.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -8,6 +8,7 @@\n from __future__ import unicode_literals\n \n from django.db.backends import util\n+from django.utils import six\n from django.utils import tree\n \n \n@@ -40,7 +41,7 @@ class Q(tree.Node):\n     default = AND\n \n     def __init__(self, *args, **kwargs):\n-        super(Q, self).__init__(children=list(args) + kwargs.items())\n+        super(Q, self).__init__(children=list(args) + list(six.iteritems(kwargs)))\n \n     def _combine(self, other, conn):\n         if not isinstance(other, Q):\n@@ -114,7 +115,7 @@ def __set__(self, instance, value):\n \n     def _check_parent_chain(self, instance, name):\n         \"\"\"\n-        Check if the field value can be fetched from a parent field already \n+        Check if the field value can be fetched from a parent field already\n         loaded in the instance. This can be done if the to-be fetched\n         field is a primary key field.\n         \"\"\""
        },
        {
            "sha": "1311ea546ccf3ea19a2f3f5e1511eb912a30e5cf",
            "filename": "django/db/models/sql/compiler.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fcompiler.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -9,6 +9,7 @@\n from django.db.models.sql.expressions import SQLEvaluator\n from django.db.models.sql.query import get_order_dir, Query\n from django.db.utils import DatabaseError\n+from django.utils import six\n \n \n class SQLCompiler(object):\n@@ -82,7 +83,7 @@ def as_sql(self, with_limits=True, with_col_aliases=False):\n         where, w_params = self.query.where.as_sql(qn=qn, connection=self.connection)\n         having, h_params = self.query.having.as_sql(qn=qn, connection=self.connection)\n         params = []\n-        for val in self.query.extra_select.itervalues():\n+        for val in six.itervalues(self.query.extra_select):\n             params.extend(val[1])\n \n         result = ['SELECT']\n@@ -177,7 +178,7 @@ def get_columns(self, with_aliases=False):\n         \"\"\"\n         qn = self.quote_name_unless_alias\n         qn2 = self.connection.ops.quote_name\n-        result = ['(%s) AS %s' % (col[0], qn2(alias)) for alias, col in self.query.extra_select.iteritems()]\n+        result = ['(%s) AS %s' % (col[0], qn2(alias)) for alias, col in six.iteritems(self.query.extra_select)]\n         aliases = set(self.query.extra_select.keys())\n         if with_aliases:\n             col_aliases = aliases.copy()\n@@ -553,7 +554,7 @@ def get_grouping(self):\n             group_by = self.query.group_by or []\n \n             extra_selects = []\n-            for extra_select, extra_params in self.query.extra_select.itervalues():\n+            for extra_select, extra_params in six.itervalues(self.query.extra_select):\n                 extra_selects.append(extra_select)\n                 params.extend(extra_params)\n             cols = (group_by + self.query.select +"
        },
        {
            "sha": "9cf732f26323a4fdf8b9ebce0574da1156f80dac",
            "filename": "django/db/models/sql/query.py",
            "status": "modified",
            "additions": 13,
            "deletions": 12,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fquery.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -12,6 +12,7 @@\n from django.utils.datastructures import SortedDict\n from django.utils.encoding import force_unicode\n from django.utils.tree import Node\n+from django.utils import six\n from django.db import connections, DEFAULT_DB_ALIAS\n from django.db.models import signals\n from django.db.models.expressions import ExpressionNode\n@@ -602,22 +603,22 @@ def deferred_to_data(self, target, callback):\n             # slight complexity here is handling fields that exist on parent\n             # models.\n             workset = {}\n-            for model, values in seen.iteritems():\n+            for model, values in six.iteritems(seen):\n                 for field, m in model._meta.get_fields_with_model():\n                     if field in values:\n                         continue\n                     add_to_dict(workset, m or model, field)\n-            for model, values in must_include.iteritems():\n+            for model, values in six.iteritems(must_include):\n                 # If we haven't included a model in workset, we don't add the\n                 # corresponding must_include fields for that model, since an\n                 # empty set means \"include all fields\". That's why there's no\n                 # \"else\" branch here.\n                 if model in workset:\n                     workset[model].update(values)\n-            for model, values in workset.iteritems():\n+            for model, values in six.iteritems(workset):\n                 callback(target, model, values)\n         else:\n-            for model, values in must_include.iteritems():\n+            for model, values in six.iteritems(must_include):\n                 if model in seen:\n                     seen[model].update(values)\n                 else:\n@@ -631,7 +632,7 @@ def deferred_to_data(self, target, callback):\n             for model in orig_opts.get_parent_list():\n                 if model not in seen:\n                     seen[model] = set()\n-            for model, values in seen.iteritems():\n+            for model, values in six.iteritems(seen):\n                 callback(target, model, values)\n \n \n@@ -770,7 +771,7 @@ def change_aliases(self, change_map):\n         for k, aliases in self.join_map.items():\n             aliases = tuple([change_map.get(a, a) for a in aliases])\n             self.join_map[k] = aliases\n-        for old_alias, new_alias in change_map.iteritems():\n+        for old_alias, new_alias in six.iteritems(change_map):\n             alias_data = self.alias_map[old_alias]\n             alias_data = alias_data._replace(rhs_alias=new_alias)\n             self.alias_refcount[new_alias] = self.alias_refcount[old_alias]\n@@ -792,7 +793,7 @@ def change_aliases(self, change_map):\n                 self.included_inherited_models[key] = change_map[alias]\n \n         # 3. Update any joins that refer to the old alias.\n-        for alias, data in self.alias_map.iteritems():\n+        for alias, data in six.iteritems(self.alias_map):\n             lhs = data.lhs_alias\n             if lhs in change_map:\n                 data = data._replace(lhs_alias=change_map[lhs])\n@@ -842,7 +843,7 @@ def count_active_tables(self):\n         count. Note that after execution, the reference counts are zeroed, so\n         tables added in compiler will not be seen by this method.\n         \"\"\"\n-        return len([1 for count in self.alias_refcount.itervalues() if count])\n+        return len([1 for count in six.itervalues(self.alias_refcount) if count])\n \n     def join(self, connection, always_create=False, exclusions=(),\n             promote=False, outer_if_first=False, nullable=False, reuse=None):\n@@ -1302,7 +1303,7 @@ def setup_joins(self, names, opts, alias, dupe_multis, allow_many=True,\n                         field, model, direct, m2m = opts.get_field_by_name(f.name)\n                         break\n                 else:\n-                    names = opts.get_all_field_names() + self.aggregate_select.keys()\n+                    names = opts.get_all_field_names() + list(six.iterkeys(self.aggregate_select))\n                     raise FieldError(\"Cannot resolve keyword %r into field. \"\n                             \"Choices are: %s\" % (name, \", \".join(names)))\n \n@@ -1571,7 +1572,7 @@ def split_exclude(self, filter_expr, prefix, can_reuse):\n         # Tag.objects.exclude(parent__parent__name='t1'), a tag with no parent\n         # would otherwise be overlooked).\n         active_positions = [pos for (pos, count) in\n-                enumerate(query.alias_refcount.itervalues()) if count]\n+                enumerate(six.itervalues(query.alias_refcount)) if count]\n         if active_positions[-1] > 1:\n             self.add_filter(('%s__isnull' % prefix, False), negate=True,\n                     trim=True, can_reuse=can_reuse)\n@@ -1660,8 +1661,8 @@ def add_fields(self, field_names, allow_m2m=True):\n                 # from the model on which the lookup failed.\n                 raise\n             else:\n-                names = sorted(opts.get_all_field_names() + self.extra.keys()\n-                               + self.aggregate_select.keys())\n+                names = sorted(opts.get_all_field_names() + list(six.iterkeys(self.extra))\n+                               + list(six.iterkeys(self.aggregate_select)))\n                 raise FieldError(\"Cannot resolve keyword %r into field. \"\n                                  \"Choices are: %s\" % (name, \", \".join(names)))\n         self.remove_inherited_models()"
        },
        {
            "sha": "cc7da0eeaf49d68ffde437d7c09de1c81173c195",
            "filename": "django/db/models/sql/subqueries.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -11,6 +11,7 @@\n from django.utils.datastructures import SortedDict\n from django.utils.functional import Promise\n from django.utils.encoding import force_unicode\n+from django.utils import six\n \n \n __all__ = ['DeleteQuery', 'UpdateQuery', 'InsertQuery', 'DateQuery',\n@@ -87,7 +88,7 @@ def add_update_values(self, values):\n         querysets.\n         \"\"\"\n         values_seq = []\n-        for name, val in values.iteritems():\n+        for name, val in six.iteritems(values):\n             field, model, direct, m2m = self.model._meta.get_field_by_name(name)\n             if not direct or m2m:\n                 raise FieldError('Cannot update model field %r (only non-relations and foreign keys permitted).' % field)\n@@ -129,7 +130,7 @@ def get_related_updates(self):\n         if not self.related_updates:\n             return []\n         result = []\n-        for model, values in self.related_updates.iteritems():\n+        for model, values in six.iteritems(self.related_updates):\n             query = UpdateQuery(model)\n             query.values = values\n             if self.related_ids is not None:"
        },
        {
            "sha": "c5ca1424c803be7ddb5510b9b95378c18b135110",
            "filename": "django/forms/extras/widgets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fextras%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fextras%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fextras%2Fwidgets.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -79,7 +79,7 @@ def render(self, name, value, attrs=None):\n                         year_val, month_val, day_val = [int(v) for v in match.groups()]\n         choices = [(i, i) for i in self.years]\n         year_html = self.create_select(name, self.year_field, value, year_val, choices)\n-        choices = MONTHS.items()\n+        choices = list(six.iteritems(MONTHS))\n         month_html = self.create_select(name, self.month_field, value, month_val, choices)\n         choices = [(i, i) for i in range(1, 32)]\n         day_html = self.create_select(name, self.day_field, value, day_val,  choices)"
        },
        {
            "sha": "0f3fdb2e407f28fbbdbc7a434fed6da315852c93",
            "filename": "django/forms/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fforms.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -38,7 +38,7 @@ def get_declared_fields(bases, attrs, with_base_fields=True):\n     used. The distinction is useful in ModelForm subclassing.\n     Also integrates any additional media definitions\n     \"\"\"\n-    fields = [(field_name, attrs.pop(field_name)) for field_name, obj in attrs.items() if isinstance(obj, Field)]\n+    fields = [(field_name, attrs.pop(field_name)) for field_name, obj in list(six.iteritems(attrs)) if isinstance(obj, Field)]\n     fields.sort(key=lambda x: x[1].creation_counter)\n \n     # If this class is subclassing another Form, add that Form's fields.\n@@ -47,11 +47,11 @@ def get_declared_fields(bases, attrs, with_base_fields=True):\n     if with_base_fields:\n         for base in bases[::-1]:\n             if hasattr(base, 'base_fields'):\n-                fields = base.base_fields.items() + fields\n+                fields = list(six.iteritems(base.base_fields)) + fields\n     else:\n         for base in bases[::-1]:\n             if hasattr(base, 'declared_fields'):\n-                fields = base.declared_fields.items() + fields\n+                fields = list(six.iteritems(base.declared_fields)) + fields\n \n     return SortedDict(fields)\n "
        },
        {
            "sha": "a2b5448b14e8f8319ec533197228d266f59f477e",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -18,6 +18,7 @@\n from django.utils import six\n from django.utils.text import get_text_list, capfirst\n from django.utils.translation import ugettext_lazy as _, ugettext\n+from django.utils import six\n \n \n __all__ = (\n@@ -206,7 +207,7 @@ def __new__(cls, name, bases, attrs):\n             fields = fields_for_model(opts.model, opts.fields,\n                                       opts.exclude, opts.widgets, formfield_callback)\n             # make sure opts.fields doesn't specify an invalid field\n-            none_model_fields = [k for k, v in fields.iteritems() if not v]\n+            none_model_fields = [k for k, v in six.iteritems(fields) if not v]\n             missing_fields = set(none_model_fields) - \\\n                              set(declared_fields.keys())\n             if missing_fields:"
        },
        {
            "sha": "13b7d8e7f6a5bfe93b0b3f1c8ca32c696ae63801",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -63,8 +63,7 @@ def render_js(self):\n     def render_css(self):\n         # To keep rendering order consistent, we can't just iterate over items().\n         # We need to sort the keys, and iterate over the sorted list.\n-        media = self._css.keys()\n-        media.sort()\n+        media = sorted(self._css.keys())\n         return chain(*[\n                 [format_html('<link href=\"{0}\" type=\"text/css\" media=\"{1}\" rel=\"stylesheet\" />', self.absolute_path(path), medium)\n                     for path in self._css[medium]]"
        },
        {
            "sha": "d5c243850004fb29b448a6a73a9825bc533ec726",
            "filename": "django/template/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fbase.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -961,7 +961,7 @@ def parse_bits(parser, bits, params, varargs, varkw, defaults,\n         kwarg = token_kwargs([bit], parser)\n         if kwarg:\n             # The kwarg was successfully extracted\n-            param, value = kwarg.items()[0]\n+            param, value = list(six.iteritems(kwarg))[0]\n             if param not in params and varkw is None:\n                 # An unexpected keyword argument was supplied\n                 raise TemplateSyntaxError("
        },
        {
            "sha": "7a00d60361cb461f4833653df99e76e91a0e4d69",
            "filename": "django/template/defaulttags.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Fdefaulttags.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Fdefaulttags.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaulttags.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -17,6 +17,7 @@\n from django.utils.encoding import smart_unicode\n from django.utils.safestring import mark_safe\n from django.utils.html import format_html\n+from django.utils import six\n from django.utils import timezone\n \n register = Library()\n@@ -473,7 +474,7 @@ def __repr__(self):\n \n     def render(self, context):\n         values = dict([(key, val.resolve(context)) for key, val in\n-                       self.extra_context.iteritems()])\n+                       six.iteritems(self.extra_context)])\n         context.update(values)\n         output = self.nodelist.render(context)\n         context.pop()\n@@ -1188,7 +1189,7 @@ def templatetag(parser, token):\n     if tag not in TemplateTagNode.mapping:\n         raise TemplateSyntaxError(\"Invalid templatetag argument: '%s'.\"\n                                   \" Must be one of: %s\" %\n-                                  (tag, TemplateTagNode.mapping.keys()))\n+                                  (tag, list(six.iterkeys(TemplateTagNode.mapping))))\n     return TemplateTagNode(tag)\n \n @register.tag"
        },
        {
            "sha": "d295d058d0779fcd6aaaac92dff55fbdbcb97bf0",
            "filename": "django/template/loader_tags.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Floader_tags.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplate%2Floader_tags.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Floader_tags.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -3,6 +3,7 @@\n     token_kwargs, Variable\n from django.template.loader import get_template\n from django.utils.safestring import mark_safe\n+from django.utils import six\n \n register = Library()\n \n@@ -17,7 +18,7 @@ def __init__(self):\n         self.blocks = {}\n \n     def add_blocks(self, blocks):\n-        for name, block in blocks.iteritems():\n+        for name, block in six.iteritems(blocks):\n             if name in self.blocks:\n                 self.blocks[name].insert(0, block)\n             else:\n@@ -130,7 +131,7 @@ def __init__(self, *args, **kwargs):\n \n     def render_template(self, template, context):\n         values = dict([(name, var.resolve(context)) for name, var\n-                       in self.extra_context.iteritems()])\n+                       in six.iteritems(self.extra_context)])\n         if self.isolated_context:\n             return template.render(context.new(values))\n         context.update(values)"
        },
        {
            "sha": "30eb6b5f761fb0c870fba3f3aca9c3c910d3bbbb",
            "filename": "django/templatetags/i18n.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplatetags%2Fi18n.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Ftemplatetags%2Fi18n.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplatetags%2Fi18n.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -425,7 +425,7 @@ def do_block_translate(parser, token):\n         options[option] = value\n \n     if 'count' in options:\n-        countervar, counter = options['count'].items()[0]\n+        countervar, counter = list(six.iteritems(options['count']))[0]\n     else:\n         countervar, counter = None, None\n     if 'context' in options:"
        },
        {
            "sha": "032eb493b62b08e297ca15f5cf361f0599e5fc0a",
            "filename": "django/utils/dateparse.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fdateparse.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fdateparse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdateparse.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -7,6 +7,7 @@\n \n import datetime\n import re\n+from django.utils import six\n from django.utils.timezone import utc\n from django.utils.tzinfo import FixedOffset\n \n@@ -34,7 +35,7 @@ def parse_date(value):\n     \"\"\"\n     match = date_re.match(value)\n     if match:\n-        kw = dict((k, int(v)) for k, v in match.groupdict().iteritems())\n+        kw = dict((k, int(v)) for k, v in six.iteritems(match.groupdict()))\n         return datetime.date(**kw)\n \n def parse_time(value):\n@@ -53,7 +54,7 @@ def parse_time(value):\n         kw = match.groupdict()\n         if kw['microsecond']:\n             kw['microsecond'] = kw['microsecond'].ljust(6, '0')\n-        kw = dict((k, int(v)) for k, v in kw.iteritems() if v is not None)\n+        kw = dict((k, int(v)) for k, v in six.iteritems(kw) if v is not None)\n         return datetime.time(**kw)\n \n def parse_datetime(value):\n@@ -80,6 +81,6 @@ def parse_datetime(value):\n             if tzinfo[0] == '-':\n                 offset = -offset\n             tzinfo = FixedOffset(offset)\n-        kw = dict((k, int(v)) for k, v in kw.iteritems() if v is not None)\n+        kw = dict((k, int(v)) for k, v in six.iteritems(kw) if v is not None)\n         kw['tzinfo'] = tzinfo\n         return datetime.datetime(**kw)"
        },
        {
            "sha": "f8d6eebf89b3868a748464c99d531b6891e94f5f",
            "filename": "django/utils/dictconfig.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fdictconfig.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fdictconfig.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdictconfig.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -363,7 +363,7 @@ def configure(self):\n                 #which were in the previous configuration but\n                 #which are not in the new configuration.\n                 root = logging.root\n-                existing = root.manager.loggerDict.keys()\n+                existing = list(six.iterkeys(root.manager.loggerDict))\n                 #The list needs to be sorted so that we can\n                 #avoid disabling child loggers of explicitly\n                 #named loggers. With a sorted list it is easier"
        },
        {
            "sha": "177325dfb6ea1bfc5d1f45edeaae6ca5f1fdc0d2",
            "filename": "django/utils/functional.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Ffunctional.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Ffunctional.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffunctional.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -178,7 +178,7 @@ def allow_lazy(func, *resultclasses):\n     \"\"\"\n     @wraps(func)\n     def wrapper(*args, **kwargs):\n-        for arg in list(args) + kwargs.values():\n+        for arg in list(args) + list(six.itervalues(kwargs)):\n             if isinstance(arg, Promise):\n                 break\n         else:"
        },
        {
            "sha": "4e888fc59bfd53fe724d8fcf73aa30c95ba63e5a",
            "filename": "django/utils/html.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhtml.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -84,7 +84,7 @@ def format_html(format_string, *args, **kwargs):\n     \"\"\"\n     args_safe = map(conditional_escape, args)\n     kwargs_safe = dict([(k, conditional_escape(v)) for (k, v) in\n-                        kwargs.iteritems()])\n+                        six.iteritems(kwargs)])\n     return mark_safe(format_string.format(*args_safe, **kwargs_safe))\n \n def format_html_join(sep, format_string, args_generator):"
        },
        {
            "sha": "4f74b564a5a5139dbf7e8df0a854f93549ef85be",
            "filename": "django/utils/termcolors.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Ftermcolors.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Futils%2Ftermcolors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftermcolors.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -2,6 +2,8 @@\n termcolors.py\n \"\"\"\n \n+from django.utils import six\n+\n color_names = ('black', 'red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white')\n foreground = dict([(color_names[x], '3%s' % x) for x in range(8)])\n background = dict([(color_names[x], '4%s' % x) for x in range(8)])\n@@ -41,7 +43,7 @@ def colorize(text='', opts=(), **kwargs):\n     code_list = []\n     if text == '' and len(opts) == 1 and opts[0] == 'reset':\n         return '\\x1b[%sm' % RESET\n-    for k, v in kwargs.iteritems():\n+    for k, v in six.iteritems(kwargs):\n         if k == 'fg':\n             code_list.append(foreground[v])\n         elif k == 'bg':"
        },
        {
            "sha": "08341fe145c2b9fe24819932b3e0e4944b3489c3",
            "filename": "django/views/debug.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fviews%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fviews%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdebug.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -111,7 +111,7 @@ def get_post_parameters(self, request):\n             return request.POST\n \n     def get_traceback_frame_variables(self, request, tb_frame):\n-        return tb_frame.f_locals.items()\n+        return list(six.iteritems(tb_frame.f_locals))\n \n class SafeExceptionReporterFilter(ExceptionReporterFilter):\n     \"\"\""
        },
        {
            "sha": "6554e898cafb6bca0e852ef41d744bb707638f13",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -6,6 +6,7 @@\n from django.template.response import TemplateResponse\n from django.utils.log import getLogger\n from django.utils.decorators import classonlymethod\n+from django.utils import six\n \n logger = getLogger('django.request')\n \n@@ -35,7 +36,7 @@ def __init__(self, **kwargs):\n         \"\"\"\n         # Go through keyword arguments, and either save their values to our\n         # instance, or raise an error.\n-        for key, value in kwargs.iteritems():\n+        for key, value in six.iteritems(kwargs):\n             setattr(self, key, value)\n \n     @classonlymethod"
        },
        {
            "sha": "a38e4b3f753f4ce2150b5cea43aadbd03227d22b",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -20,6 +20,7 @@\n from django.template import Context, RequestContext, Template, TemplateSyntaxError\n from django.test import TestCase, skipIfDBFeature, skipUnlessDBFeature\n from django.test.utils import override_settings\n+from django.utils import six\n from django.utils import timezone\n from django.utils.tzinfo import FixedOffset\n from django.utils.unittest import skipIf, skipUnless\n@@ -690,8 +691,8 @@ def t(*result):\n             }\n         }\n \n-        for k1, dt in datetimes.iteritems():\n-            for k2, tpl in templates.iteritems():\n+        for k1, dt in six.iteritems(datetimes):\n+            for k2, tpl in six.iteritems(templates):\n                 ctx = Context({'dt': dt, 'ICT': ICT})\n                 actual = tpl.render(ctx)\n                 expected = results[k1][k2]\n@@ -703,8 +704,8 @@ def t(*result):\n         results['ict']['notag'] = t('ict', 'eat', 'utc', 'ict')\n \n         with self.settings(USE_TZ=False):\n-            for k1, dt in datetimes.iteritems():\n-                for k2, tpl in templates.iteritems():\n+            for k1, dt in six.iteritems(datetimes):\n+                for k2, tpl in six.iteritems(templates):\n                     ctx = Context({'dt': dt, 'ICT': ICT})\n                     actual = tpl.render(ctx)\n                     expected = results[k1][k2]"
        },
        {
            "sha": "e24eb43b87c9e56bd1136ec6857e01da1cb977dc",
            "filename": "tests/regressiontests/aggregation_regress/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Faggregation_regress%2Ftests.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -8,6 +8,7 @@\n from django.core.exceptions import FieldError\n from django.db.models import Count, Max, Avg, Sum, StdDev, Variance, F, Q\n from django.test import TestCase, Approximate, skipUnlessDBFeature\n+from django.utils import six\n \n from .models import Author, Book, Publisher, Clues, Entries, HardbackBook\n \n@@ -16,7 +17,7 @@ class AggregationTests(TestCase):\n     fixtures = [\"aggregation_regress.json\"]\n \n     def assertObjectAttrs(self, obj, **kwargs):\n-        for attr, value in kwargs.iteritems():\n+        for attr, value in six.iteritems(kwargs):\n             self.assertEqual(getattr(obj, attr), value)\n \n     def test_aggregates_in_where_clause(self):"
        },
        {
            "sha": "2cf835d94e996e04f88b4d0bb9313ffd03524b8b",
            "filename": "tests/regressiontests/db_typecasts/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Fdb_typecasts%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Fdb_typecasts%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdb_typecasts%2Ftests.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -3,6 +3,7 @@\n import datetime\n \n from django.db.backends import util as typecasts\n+from django.utils import six\n from django.utils import unittest\n \n \n@@ -49,7 +50,7 @@\n \n class DBTypeCasts(unittest.TestCase):\n     def test_typeCasts(self):\n-        for k, v in TEST_CASES.iteritems():\n+        for k, v in six.iteritems(TEST_CASES):\n             for inpt, expected in v:\n                 got = getattr(typecasts, k)(inpt)\n                 self.assertEqual(got, expected, \"In %s: %r doesn't match %r. Got %r instead.\" % (k, inpt, expected, got))"
        },
        {
            "sha": "3f513538801c1525e746b08e7a40b98d119c603a",
            "filename": "tests/regressiontests/templates/templatetags/custom.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Ftemplates%2Ftemplatetags%2Fcustom.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Ftemplates%2Ftemplatetags%2Fcustom.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftemplatetags%2Fcustom.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -70,7 +70,7 @@ def simple_only_unlimited_args(*args):\n def simple_unlimited_args_kwargs(one, two='hi', *args, **kwargs):\n     \"\"\"Expected simple_unlimited_args_kwargs __doc__\"\"\"\n     # Sort the dictionary by key to guarantee the order for testing.\n-    sorted_kwarg = sorted(kwargs.iteritems(), key=operator.itemgetter(0))\n+    sorted_kwarg = sorted(six.iteritems(kwargs), key=operator.itemgetter(0))\n     return \"simple_unlimited_args_kwargs - Expected result: %s / %s\" % (\n         ', '.join([six.text_type(arg) for arg in [one, two] + list(args)]),\n         ', '.join(['%s=%s' % (k, v) for (k, v) in sorted_kwarg])\n@@ -221,7 +221,7 @@ def inclusion_tag_use_l10n(context):\n def inclusion_unlimited_args_kwargs(one, two='hi', *args, **kwargs):\n     \"\"\"Expected inclusion_unlimited_args_kwargs __doc__\"\"\"\n     # Sort the dictionary by key to guarantee the order for testing.\n-    sorted_kwarg = sorted(kwargs.iteritems(), key=operator.itemgetter(0))\n+    sorted_kwarg = sorted(six.iteritems(kwargs), key=operator.itemgetter(0))\n     return {\"result\": \"inclusion_unlimited_args_kwargs - Expected result: %s / %s\" % (\n         ', '.join([six.text_type(arg) for arg in [one, two] + list(args)]),\n         ', '.join(['%s=%s' % (k, v) for (k, v) in sorted_kwarg])\n@@ -292,7 +292,7 @@ def assignment_only_unlimited_args(*args):\n def assignment_unlimited_args_kwargs(one, two='hi', *args, **kwargs):\n     \"\"\"Expected assignment_unlimited_args_kwargs __doc__\"\"\"\n     # Sort the dictionary by key to guarantee the order for testing.\n-    sorted_kwarg = sorted(kwargs.iteritems(), key=operator.itemgetter(0))\n+    sorted_kwarg = sorted(six.iteritems(kwargs), key=operator.itemgetter(0))\n     return \"assignment_unlimited_args_kwargs - Expected result: %s / %s\" % (\n         ', '.join([six.text_type(arg) for arg in [one, two] + list(args)]),\n         ', '.join(['%s=%s' % (k, v) for (k, v) in sorted_kwarg])"
        },
        {
            "sha": "edbb21b6bd81aefc6fba1e281909ba93296404bf",
            "filename": "tests/regressiontests/templates/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ee191715eae73362768184aa95206cf61bac5d38/tests%2Fregressiontests%2Ftemplates%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ftests.py?ref=ee191715eae73362768184aa95206cf61bac5d38",
            "patch": "@@ -30,6 +30,7 @@\n from django.utils.formats import date_format\n from django.utils.translation import activate, deactivate, ugettext as _\n from django.utils.safestring import mark_safe\n+from django.utils import six\n from django.utils.tzinfo import LocalTimezone\n \n from .callables import CallableVariablesTests\n@@ -402,7 +403,7 @@ def test_templates(self):\n         template_tests.update(filter_tests)\n \n         cache_loader = setup_test_template_loader(\n-            dict([(name, t[0]) for name, t in template_tests.iteritems()]),\n+            dict([(name, t[0]) for name, t in six.iteritems(template_tests)]),\n             use_cached_loader=True,\n         )\n "
        }
    ],
    "stats": {
        "total": 342,
        "additions": 187,
        "deletions": 155
    }
}