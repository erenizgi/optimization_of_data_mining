{
    "author": "akaariai",
    "message": "Reset password hashers cache on settings_changed.",
    "sha": "2a09404792f9d369718143fdfbe9530fe2e60912",
    "files": [
        {
            "sha": "52d204cce63e12aa3657231ab185359f1edb59b6",
            "filename": "django/contrib/auth/hashers.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/2a09404792f9d369718143fdfbe9530fe2e60912/django%2Fcontrib%2Fauth%2Fhashers.py",
            "raw_url": "https://github.com/django/django/raw/2a09404792f9d369718143fdfbe9530fe2e60912/django%2Fcontrib%2Fauth%2Fhashers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fhashers.py?ref=2a09404792f9d369718143fdfbe9530fe2e60912",
            "patch": "@@ -1,6 +1,8 @@\n import hashlib\n \n+from django.dispatch import receiver\n from django.conf import settings\n+from django.test.signals import setting_changed\n from django.utils import importlib\n from django.utils.datastructures import SortedDict\n from django.utils.encoding import smart_str\n@@ -14,6 +16,13 @@\n HASHERS = None  # lazily loaded from PASSWORD_HASHERS\n PREFERRED_HASHER = None  # defaults to first item in PASSWORD_HASHERS\n \n+@receiver(setting_changed)\n+def reset_hashers(**kwargs):\n+    if kwargs['setting'] == 'PASSWORD_HASHERS':\n+        global HASHERS, PREFERRED_HASHER\n+        HASHERS = None\n+        PREFERRED_HASHER = None\n+\n \n def is_password_usable(encoded):\n     return (encoded is not None and encoded != UNUSABLE_PASSWORD)"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}