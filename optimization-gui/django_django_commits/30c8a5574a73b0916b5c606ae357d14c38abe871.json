{
    "author": "timgraham",
    "message": "Fixed #15003 - assorted edits to admin docs; thanks adamv.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15166 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "30c8a5574a73b0916b5c606ae357d14c38abe871",
    "files": [
        {
            "sha": "ca7609cf803567d6b2b2b642577184139e867e18",
            "filename": "docs/ref/contrib/admin/index.txt",
            "status": "modified",
            "additions": 147,
            "deletions": 151,
            "changes": 298,
            "blob_url": "https://github.com/django/django/blob/30c8a5574a73b0916b5c606ae357d14c38abe871/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/30c8a5574a73b0916b5c606ae357d14c38abe871/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt?ref=30c8a5574a73b0916b5c606ae357d14c38abe871",
            "patch": "@@ -11,13 +11,6 @@ interface that content producers can immediately use to start adding content to\n the site. In this document, we discuss how to activate, use and customize\n Django's admin interface.\n \n-.. admonition:: Note\n-\n-    The admin site has been refactored significantly since Django 0.96. This\n-    document describes the newest version of the admin site, which allows for\n-    much richer customization. If you follow the development of Django itself,\n-    you may have heard this described as \"newforms-admin.\"\n-\n Overview\n ========\n \n@@ -26,8 +19,8 @@ There are six steps in activating the Django admin site:\n     1. Add ``'django.contrib.admin'`` to your :setting:`INSTALLED_APPS`\n        setting.\n \n-    2. Admin has two dependencies - ``django.contrib.auth`` and\n-       ``django.contrib.contenttypes``. If these applications are not\n+    2. Admin has two dependencies - :mod:`django.contrib.auth` and\n+       :mod:`django.contrib.contenttypes`. If these applications are not\n        in your :setting:`INSTALLED_APPS` list, add them.\n \n     3. Determine which of your application's models should be editable in the\n@@ -87,7 +80,7 @@ Other topics\n \n             admin.site.register(Author)\n \n-``ModelAdmin`` Options\n+``ModelAdmin`` options\n ----------------------\n \n The ``ModelAdmin`` is very flexible. It has several options for dealing with\n@@ -97,6 +90,26 @@ subclass::\n     class AuthorAdmin(admin.ModelAdmin):\n         date_hierarchy = 'pub_date'\n \n+.. attribute:: ModelAdmin.actions\n+\n+    A list of actions to make available on the change list page. See\n+    :doc:`/ref/contrib/admin/actions` for details.\n+\n+.. attribute:: ModelAdmin.actions_on_top\n+.. attribute:: ModelAdmin.actions_on_bottom\n+\n+    Controls where on the page the actions bar appears. By default, the admin\n+    changelist displays actions at the top of the page (``actions_on_top = True;\n+    actions_on_bottom = False``).\n+\n+.. attribute:: ModelAdmin.actions_selection_counter\n+\n+    .. versionadded:: 1.2\n+\n+    Controls whether a selection counter is display next to the action dropdown.\n+    By default, the admin changelist will display it\n+    (``actions_selection_counter = True``).\n+\n .. attribute:: ModelAdmin.date_hierarchy\n \n     Set ``date_hierarchy`` to the name of a ``DateField`` or ``DateTimeField``\n@@ -109,18 +122,59 @@ subclass::\n \n     .. versionadded:: 1.3\n \n-        This will intelligently populate itself based on available data,\n-        e.g. if all the dates are in one month, it'll show the day-level\n-        drill-down only.\n+    This will intelligently populate itself based on available data,\n+    e.g. if all the dates are in one month, it'll show the day-level\n+    drill-down only.\n \n-.. attribute:: ModelAdmin.form\n+.. attribute:: ModelAdmin.exclude\n \n-    By default a ``ModelForm`` is dynamically created for your model. It is\n-    used to create the form presented on both the add/change pages. You can\n-    easily provide your own ``ModelForm`` to override any default form behavior\n-    on the add/change pages.\n+    This attribute, if given, should be a list of field names to exclude from\n+    the form.\n \n-    For an example see the section `Adding custom validation to the admin`_.\n+    For example, let's consider the following model::\n+\n+        class Author(models.Model):\n+            name = models.CharField(max_length=100)\n+            title = models.CharField(max_length=3)\n+            birth_date = models.DateField(blank=True, null=True)\n+\n+    If you want a form for the ``Author`` model that includes only the ``name``\n+    and ``title`` fields, you would specify ``fields`` or ``exclude`` like\n+    this::\n+\n+        class AuthorAdmin(admin.ModelAdmin):\n+            fields = ('name', 'title')\n+\n+        class AuthorAdmin(admin.ModelAdmin):\n+            exclude = ('birth_date',)\n+\n+    Since the Author model only has three fields, ``name``, ``title``, and\n+    ``birth_date``, the forms resulting from the above declarations will\n+    contain exactly the same fields.\n+\n+.. attribute:: ModelAdmin.fields\n+\n+    Use this option as an alternative to ``fieldsets`` if the layout does not\n+    matter and if you want to only show a subset of the available fields in the\n+    form. For example, you could define a simpler version of the admin form for\n+    the ``django.contrib.flatpages.FlatPage`` model as follows::\n+\n+        class FlatPageAdmin(admin.ModelAdmin):\n+            fields = ('url', 'title', 'content')\n+\n+    In the above example, only the fields 'url', 'title' and 'content' will be\n+    displayed, sequentially, in the form.\n+\n+    .. versionadded:: 1.2\n+\n+    ``fields`` can contain values defined in :attr:`ModelAdmin.readonly_fields`\n+    to be displayed as read-only.\n+\n+    .. admonition:: Note\n+\n+        This ``fields`` option should not be confused with the ``fields``\n+        dictionary key that is within the ``fieldsets`` option, as described in\n+        the previous section.\n \n .. attribute:: ModelAdmin.fieldsets\n \n@@ -207,67 +261,72 @@ subclass::\n             ``django.utils.html.escape()`` to escape any HTML special\n             characters.\n \n-.. attribute:: ModelAdmin.fields\n-\n-    Use this option as an alternative to ``fieldsets`` if the layout does not\n-    matter and if you want to only show a subset of the available fields in the\n-    form. For example, you could define a simpler version of the admin form for\n-    the ``django.contrib.flatpages.FlatPage`` model as follows::\n+.. attribute:: ModelAdmin.filter_horizontal\n \n-        class FlatPageAdmin(admin.ModelAdmin):\n-            fields = ('url', 'title', 'content')\n+    Use a nifty unobtrusive JavaScript \"filter\" interface instead of the\n+    usability-challenged ``<select multiple>`` in the admin form. The value is\n+    a list of fields that should be displayed as a horizontal filter interface.\n+    See ``filter_vertical`` to use a vertical interface.\n \n-    In the above example, only the fields 'url', 'title' and 'content' will be\n-    displayed, sequentially, in the form.\n+.. attribute:: ModelAdmin.filter_vertical\n \n-    .. versionadded:: 1.2\n+    Same as ``filter_horizontal``, but is a vertical display of the filter\n+    interface.\n \n-    ``fields`` can contain values defined in :attr:`ModelAdmin.readonly_fields`\n-    to be displayed as read-only.\n+.. attribute:: ModelAdmin.form\n \n-    .. admonition:: Note\n+    By default a ``ModelForm`` is dynamically created for your model. It is\n+    used to create the form presented on both the add/change pages. You can\n+    easily provide your own ``ModelForm`` to override any default form behavior\n+    on the add/change pages.\n \n-        This ``fields`` option should not be confused with the ``fields``\n-        dictionary key that is within the ``fieldsets`` option, as described in\n-        the previous section.\n+    For an example see the section `Adding custom validation to the admin`_.\n \n-.. attribute:: ModelAdmin.exclude\n+.. attribute:: ModelAdmin.formfield_overrides\n \n-    This attribute, if given, should be a list of field names to exclude from\n-    the form.\n+    This provides a quick-and-dirty way to override some of the\n+    :class:`~django.forms.Field` options for use in the admin.\n+    ``formfield_overrides`` is a dictionary mapping a field class to a dict of\n+    arguments to pass to the field at construction time.\n \n-    For example, let's consider the following model::\n+    Since that's a bit abstract, let's look at a concrete example. The most\n+    common use of ``formfield_overrides`` is to add a custom widget for a\n+    certain type of field. So, imagine we've written a ``RichTextEditorWidget``\n+    that we'd like to use for large text fields instead of the default\n+    ``<textarea>``. Here's how we'd do that::\n \n-        class Author(models.Model):\n-            name = models.CharField(max_length=100)\n-            title = models.CharField(max_length=3)\n-            birth_date = models.DateField(blank=True, null=True)\n+        from django.db import models\n+        from django.contrib import admin\n \n-    If you want a form for the ``Author`` model that includes only the ``name``\n-    and ``title`` fields, you would specify ``fields`` or ``exclude`` like\n-    this::\n+        # Import our custom widget and our model from where they're defined\n+        from myapp.widgets import RichTextEditorWidget\n+        from myapp.models import MyModel\n \n-        class AuthorAdmin(admin.ModelAdmin):\n-            fields = ('name', 'title')\n+        class MyModelAdmin(admin.ModelAdmin):\n+            formfield_overrides = {\n+                models.TextField: {'widget': RichTextEditorWidget},\n+            }\n \n-        class AuthorAdmin(admin.ModelAdmin):\n-            exclude = ('birth_date',)\n+    Note that the key in the dictionary is the actual field class, *not* a\n+    string. The value is another dictionary; these arguments will be passed to\n+    :meth:`~django.forms.Field.__init__`. See :doc:`/ref/forms/api` for\n+    details.\n \n-    Since the Author model only has three fields, ``name``, ``title``, and\n-    ``birth_date``, the forms resulting from the above declarations will\n-    contain exactly the same fields.\n+    .. warning::\n \n-.. attribute:: ModelAdmin.filter_horizontal\n+        If you want to use a custom widget with a relation field (i.e.\n+        :class:`~django.db.models.ForeignKey` or\n+        :class:`~django.db.models.ManyToManyField`), make sure you haven't\n+        included that field's name in ``raw_id_fields`` or ``radio_fields``.\n \n-    Use a nifty unobtrusive JavaScript \"filter\" interface instead of the\n-    usability-challenged ``<select multiple>`` in the admin form. The value is\n-    a list of fields that should be displayed as a horizontal filter interface.\n-    See ``filter_vertical`` to use a vertical interface.\n+        ``formfield_overrides`` won't let you change the widget on relation\n+        fields that have ``raw_id_fields`` or ``radio_fields`` set. That's\n+        because ``raw_id_fields`` and ``radio_fields`` imply custom widgets of\n+        their own.\n \n-.. attribute:: ModelAdmin.filter_vertical\n+.. attribute:: ModelAdmin.inlines\n \n-    Same as ``filter_horizontal``, but is a vertical display of the filter\n-    interface.\n+    See :class:`InlineModelAdmin` objects below.\n \n .. attribute:: ModelAdmin.list_display\n \n@@ -496,15 +555,11 @@ subclass::\n     regardless of this setting if one of the ``list_display`` fields is a\n     ``ForeignKey``.\n \n-.. attribute:: ModelAdmin.inlines\n-\n-    See :class:`InlineModelAdmin` objects below.\n-\n .. attribute:: ModelAdmin.ordering\n \n     Set ``ordering`` to specify how lists of objects should be ordered in the\n     Django admin views. This should be a list or tuple in the same format as a\n-    model's ``ordering`` parameter.\n+    model's :attr:`~django.db.models.Options.ordering` parameter.\n \n     If this isn't provided, the Django admin will use the model's default\n     ordering.\n@@ -674,68 +729,6 @@ subclass::\n         Performs a full-text match. This is like the default search method but\n         uses an index. Currently this is only available for MySQL.\n \n-.. attribute:: ModelAdmin.formfield_overrides\n-\n-    This provides a quick-and-dirty way to override some of the\n-    :class:`~django.forms.Field` options for use in the admin.\n-    ``formfield_overrides`` is a dictionary mapping a field class to a dict of\n-    arguments to pass to the field at construction time.\n-\n-    Since that's a bit abstract, let's look at a concrete example. The most\n-    common use of ``formfield_overrides`` is to add a custom widget for a\n-    certain type of field. So, imagine we've written a ``RichTextEditorWidget``\n-    that we'd like to use for large text fields instead of the default\n-    ``<textarea>``. Here's how we'd do that::\n-\n-        from django.db import models\n-        from django.contrib import admin\n-\n-        # Import our custom widget and our model from where they're defined\n-        from myapp.widgets import RichTextEditorWidget\n-        from myapp.models import MyModel\n-\n-        class MyModelAdmin(admin.ModelAdmin):\n-            formfield_overrides = {\n-                models.TextField: {'widget': RichTextEditorWidget},\n-            }\n-\n-    Note that the key in the dictionary is the actual field class, *not* a\n-    string. The value is another dictionary; these arguments will be passed to\n-    :meth:`~django.forms.Field.__init__`. See :doc:`/ref/forms/api` for\n-    details.\n-\n-    .. warning::\n-\n-        If you want to use a custom widget with a relation field (i.e.\n-        :class:`~django.db.models.ForeignKey` or\n-        :class:`~django.db.models.ManyToManyField`), make sure you haven't\n-        included that field's name in ``raw_id_fields`` or ``radio_fields``.\n-\n-        ``formfield_overrides`` won't let you change the widget on relation\n-        fields that have ``raw_id_fields`` or ``radio_fields`` set. That's\n-        because ``raw_id_fields`` and ``radio_fields`` imply custom widgets of\n-        their own.\n-\n-.. attribute:: ModelAdmin.actions\n-\n-    A list of actions to make available on the change list page. See\n-    :doc:`/ref/contrib/admin/actions` for details.\n-\n-.. attribute:: ModelAdmin.actions_on_top\n-.. attribute:: ModelAdmin.actions_on_bottom\n-\n-    Controls where on the page the actions bar appears. By default, the admin\n-    changelist displays actions at the top of the page (``actions_on_top = True;\n-    actions_on_bottom = False``).\n-\n-.. attribute:: ModelAdmin.actions_selection_counter\n-\n-    .. versionadded:: 1.2\n-\n-    Controls whether a selection counter is display next to the action dropdown.\n-    By default, the admin changelist will display it\n-    (``actions_selection_counter = True``).\n-\n Custom template options\n ~~~~~~~~~~~~~~~~~~~~~~~\n \n@@ -1043,8 +1036,8 @@ on your ``ModelAdmin``::\n             }\n             js = (\"my_code.js\",)\n \n-Keep in mind that this will be prepended with ``MEDIA_URL``. The same rules\n-apply as :doc:`regular media definitions on forms </topics/forms/media>`.\n+Keep in mind that this will be prepended with :setting:`MEDIA_URL`. The same\n+rules apply as :doc:`regular media definitions on forms </topics/forms/media>`.\n \n Django admin Javascript makes use of the `jQuery`_ library. To avoid\n conflict with user scripts, Django's jQuery is namespaced as\n@@ -1255,17 +1248,18 @@ automatically::\n             FriendshipInline,\n         ]\n \n-Working with Many-to-Many Models\n+Working with many-to-many models\n --------------------------------\n \n .. versionadded:: 1.2\n \n By default, admin widgets for many-to-many relations will be displayed\n-on whichever model contains the actual reference to the ``ManyToManyField``.\n-Depending on your ``ModelAdmin`` definition, each many-to-many field in your\n-model will be represented by a standard HTML ``<select multiple>``, a\n-horizontal or vertical filter, or a ``raw_id_admin`` widget. However, it is\n-also possible to to replace these widgets with inlines.\n+on whichever model contains the actual reference to the\n+:class:`~django.db.models.ManyToManyField`. Depending on your ``ModelAdmin``\n+definition, each many-to-many field in your model will be represented by a\n+standard HTML ``<select multiple>``, a horizontal or vertical filter, or a\n+``raw_id_admin`` widget. However, it is also possible to to replace these\n+widgets with inlines.\n \n Suppose we have the following models::\n \n@@ -1311,14 +1305,15 @@ In all other respects, the ``InlineModelAdmin`` is exactly the same as any\n other. You can customize the appearance using any of the normal\n ``ModelAdmin`` properties.\n \n-Working with Many-to-Many Intermediary Models\n-----------------------------------------------\n+Working with many-to-many intermediary models\n+---------------------------------------------\n \n When you specify an intermediary model using the ``through`` argument to a\n-``ManyToManyField``, the admin will not display a widget by default. This is\n-because each instance of that intermediary model requires more information\n-than could be displayed in a single widget, and the layout required for\n-multiple widgets will vary depending on the intermediate model.\n+:class:`~django.db.models.ManyToManyField`, the admin will not display a\n+widget by default. This is because each instance of that intermediary model\n+requires more information than could be displayed in a single widget, and the\n+layout required for multiple widgets will vary depending on the intermediate\n+model.\n \n However, we still want to be able to edit that information inline. Fortunately,\n this is easy to do with inline admin models. Suppose we have the following\n@@ -1407,7 +1402,7 @@ other inline. In your ``admin.py`` for this example app::\n See the :doc:`contenttypes documentation </ref/contrib/contenttypes>` for more\n specific information.\n \n-Overriding Admin Templates\n+Overriding admin templates\n ==========================\n \n It is relatively easy to override many of the templates which the admin module\n@@ -1422,7 +1417,7 @@ directory.\n \n In order to override one or more of them, first create an ``admin`` directory\n in your project's ``templates`` directory. This can be any of the directories\n-you specified in ``TEMPLATE_DIRS``.\n+you specified in :setting:`TEMPLATE_DIRS`.\n \n Within this ``admin`` directory, create sub-directories named after your app.\n Within these app subdirectories create sub-directories named after your models.\n@@ -1548,10 +1543,10 @@ Templates can override or extend base admin templates as described in\n \n     Path to a custom template that will be used by the admin site login view.\n \n-.. versionadded:: 1.3\n-\n .. attribute:: AdminSite.login_form\n \n+    .. versionadded:: 1.3\n+\n     Subclass of :class:`~django.contrib.auth.forms.AuthenticationForm` that\n     will be used by the admin site login view.\n \n@@ -1652,13 +1647,14 @@ a pattern for your new view.\n .. note::\n     Any view you render that uses the admin templates, or extends the base\n     admin template, should provide the ``current_app`` argument to\n-    ``RequestContext`` or ``Context`` when rendering the template.  It should\n-    be set to either ``self.name`` if your view is on an ``AdminSite`` or\n-    ``self.admin_site.name`` if your view is on a ``ModelAdmin``.\n+    :class:`~django.template.RequestContext` or :class:`~django.template.Context`\n+    when rendering the template.  It should be set to either ``self.name`` if\n+    your view is on an ``AdminSite`` or ``self.admin_site.name`` if your view\n+    is on a ``ModelAdmin``.\n \n .. _admin-reverse-urls:\n \n-Reversing Admin URLs\n+Reversing admin URLs\n ====================\n \n When an :class:`AdminSite` is deployed, the views provided by that site are"
        }
    ],
    "stats": {
        "total": 298,
        "additions": 147,
        "deletions": 151
    }
}