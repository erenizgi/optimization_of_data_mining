{
    "author": "ramiro",
    "message": "Fixed #16597 -- Added Sphinx cross-reference metadata to the form wizard docs. Thanks FunkyBob for the report and jkistler for the patch.\n\nAlso, additional fixes in that document and in the WizardView docstrings.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16904 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "735fbcfe8b955591f2c1db860eafae3fb87d4f48",
    "files": [
        {
            "sha": "15ba14695b76aee0a6d0d7556a616075a15698b0",
            "filename": "django/contrib/formtools/wizard/views.py",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/735fbcfe8b955591f2c1db860eafae3fb87d4f48/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/735fbcfe8b955591f2c1db860eafae3fb87d4f48/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fformtools%2Fwizard%2Fviews.py?ref=735fbcfe8b955591f2c1db860eafae3fb87d4f48",
            "patch": "@@ -124,7 +124,7 @@ def get_initkwargs(cls, form_list, initial_dict=None,\n           The key should be equal to the `step_name` in the `form_list` (or\n           the str of the zero based counter - if no step_names added in the\n           `form_list`)\n-        * `instance_dict` - contains a dictionary of instance objects. This list\n+        * `instance_dict` - contains a dictionary of instance objects. This\n           is only used when `ModelForm`s are used. The key should be equal to\n           the `step_name` in the `form_list`. Same rules as for `initial_dict`\n           apply.\n@@ -286,7 +286,7 @@ def post(self, *args, **kwargs):\n \n     def render_next_step(self, form, **kwargs):\n         \"\"\"\n-        THis method gets called when the next step/form should be rendered.\n+        This method gets called when the next step/form should be rendered.\n         `form` contains the last/current form.\n         \"\"\"\n         # get the form instance based on the data from the storage backend\n@@ -349,14 +349,14 @@ def get_form_instance(self, step):\n         \"\"\"\n         Returns a object which will be passed to the form for `step`\n         as `instance`. If no instance object was provied while initializing\n-        the form wizard, None be returned.\n+        the form wizard, None will be returned.\n         \"\"\"\n         return self.instance_dict.get(step, None)\n \n     def get_form_kwargs(self, step=None):\n         \"\"\"\n         Returns the keyword arguments for instantiating the form\n-        (or formset) on given step.\n+        (or formset) on the given step.\n         \"\"\"\n         return {}\n \n@@ -404,7 +404,7 @@ def process_step_files(self, form):\n     def render_revalidation_failure(self, step, form, **kwargs):\n         \"\"\"\n         Gets called when a form doesn't validate when rendering the done\n-        view. By default, it changed the current step to failing forms step\n+        view. By default, it changes the current step to failing forms step\n         and renders the form.\n         \"\"\"\n         self.storage.current_step = step\n@@ -428,7 +428,7 @@ def get_all_cleaned_data(self):\n         \"\"\"\n         Returns a merged dictionary of all step cleaned_data dictionaries.\n         If a step contains a `FormSet`, the key will be prefixed with formset\n-        and contain a list of the formset' cleaned_data dictionaries.\n+        and contain a list of the formset cleaned_data dictionaries.\n         \"\"\"\n         cleaned_data = {}\n         for form_key in self.get_form_list():\n@@ -532,15 +532,15 @@ def get_context_data(self, form, **kwargs):\n \n     def render(self, form=None, **kwargs):\n         \"\"\"\n-        Returns a ``HttpResponse`` containing a all needed context data.\n+        Returns a ``HttpResponse`` containing all needed context data.\n         \"\"\"\n         form = form or self.get_form()\n         context = self.get_context_data(form, **kwargs)\n         return self.render_to_response(context)\n \n     def done(self, form_list, **kwargs):\n         \"\"\"\n-        This method muss be overrided by a subclass to process to form data\n+        This method must be overridden by a subclass to process to form data\n         after processing all steps.\n         \"\"\"\n         raise NotImplementedError(\"Your %s class has not defined a done() \""
        },
        {
            "sha": "5cecbe8ae4b4bb6fa9a816f041b159c1ed4f1bb3",
            "filename": "docs/ref/contrib/formtools/form-wizard.txt",
            "status": "modified",
            "additions": 45,
            "deletions": 33,
            "changes": 78,
            "blob_url": "https://github.com/django/django/blob/735fbcfe8b955591f2c1db860eafae3fb87d4f48/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt",
            "raw_url": "https://github.com/django/django/raw/735fbcfe8b955591f2c1db860eafae3fb87d4f48/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fformtools%2Fform-wizard.txt?ref=735fbcfe8b955591f2c1db860eafae3fb87d4f48",
            "patch": "@@ -90,9 +90,11 @@ Creating a ``WizardView`` class\n -------------------------------\n \n The next step is to create a\n-:class:`django.contrib.formtools.wizard.view.WizardView` subclass. You can\n-also use the :class:`SessionWizardView` or :class:`CookieWizardView` class\n-which preselects the wizard storage backend.\n+:class:`django.contrib.formtools.wizard.views.WizardView` subclass. You can\n+also use the :class:`SessionWizardView` or :class:`CookieWizardView` classes\n+which preselect the backend used for storing information during execution of the\n+wizard (as their names indicate, server-side sessions and browser cookies\n+respectively).\n \n .. note::\n \n@@ -148,7 +150,8 @@ Next, you'll need to create a template that renders the wizard's forms. By\n default, every form uses a template called\n :file:`formtools/wizard/wizard_form.html`. You can change this template name\n by overriding either the :attr:`~WizardView.template_name` attribute or the\n-:meth:`~WizardView.get_template_names()` method, which is documented below.\n+:meth:`~WizardView.get_template_names()` method, which is documented in the\n+:class:`~django.views.generic.base.TemplateResponseMixin` documentation.\n This hook also allows you to use a different template for each form.\n \n This template expects a ``wizard`` object that has various items attached to\n@@ -171,7 +174,7 @@ it:\n         * ``all`` -- A list of all steps of the wizard.\n \n You can supply additional context variables by using the\n-:meth:`~FormWizard.get_context_data` method of your :class:`FormWizard`\n+:meth:`~WizardView.get_context_data` method of your :class:`WizardView`\n subclass.\n \n Here's a full example template:\n@@ -213,7 +216,7 @@ Hooking the wizard into a URLconf\n ---------------------------------\n \n Finally, we need to specify which forms to use in the wizard, and then\n-deploy the new :class:`WizardView` object a URL in the ``urls.py``. The\n+deploy the new :class:`WizardView` object at an URL in the ``urls.py``. The\n wizard's :meth:`as_view` method takes a list of your\n :class:`~django.forms.Form` classes as an argument during instantiation::\n \n@@ -262,9 +265,10 @@ Advanced ``WizardView`` methods\n \n .. method:: WizardView.get_form_initial(step)\n \n-    Returns a dictionary which will be passed to the form for ``step`` as\n-    ``initial``. If no initial data was provided while initializing the\n-    form wizard, an empty dictionary should be returned.\n+    Returns a dictionary which will be passed as the\n+    :attr:`~django.forms.Form.initial` argument when instantiating the Form\n+    instance for step ``step``. If no initial data was provided while\n+    initializing the form wizard, an empty dictionary should be returned.\n \n     The default implementation::\n \n@@ -283,9 +287,13 @@ Advanced ``WizardView`` methods\n \n .. method:: WizardView.get_form_instance(step)\n \n-    Returns an object which will be passed to the form for ``step`` as\n-    ``instance``. If no instance object was provided while initializing\n-    the form wizard, None be returned.\n+    This method will be called only if a :class:`~django.forms.ModelForm` is\n+    used as the form for step ``step``.\n+\n+    Returns an :class:`~django.db.models.Model` object which will be passed as\n+    the :attr:`~django.forms.ModelForm.instance` argument when instantiating the\n+    ModelForm for step ``step``.  If no instance object was provided while\n+    initializing the form wizard, ``None`` will be returned.\n \n     The default implementation::\n \n@@ -358,9 +366,9 @@ Advanced ``WizardView`` methods\n .. method:: WizardView.process_step(form)\n \n     This method gives you a way to post-process the form data before the data\n-    gets stored within the storage backend. By default it just passed the\n-    form.data dictionary. You should not manipulate the data here but you can\n-    use the data to do some extra work if needed (e.g. set storage extra data).\n+    gets stored within the storage backend. By default it just returns the\n+    ``form.data`` dictionary. You should not manipulate the data here but you\n+    can use it to do some extra work if needed (e.g. set storage extra data).\n \n     Default implementation::\n \n@@ -370,9 +378,9 @@ Advanced ``WizardView`` methods\n .. method:: WizardView.process_step_files(form)\n \n     This method gives you a way to post-process the form files before the\n-    files gets stored within the storage backend. By default it just passed\n+    files gets stored within the storage backend. By default it just returns\n     the ``form.files`` dictionary. You should not manipulate the data here\n-    but you can use the data to do some extra work if needed (e.g. set storage\n+    but you can use it to do some extra work if needed (e.g. set storage\n     extra data).\n \n     Default implementation::\n@@ -382,8 +390,8 @@ Advanced ``WizardView`` methods\n \n .. method:: WizardView.render_revalidation_failure(step, form, **kwargs)\n \n-    When the wizard thinks, all steps passed it revalidates all forms with the\n-    data from the backend storage.\n+    When the wizard thinks all steps have passed it revalidates all forms with\n+    the data from the backend storage.\n \n     If any of the forms don't validate correctly, this method gets called.\n     This method expects two arguments, ``step`` and ``form``.\n@@ -399,9 +407,9 @@ Advanced ``WizardView`` methods\n \n .. method:: WizardView.get_form_step_data(form)\n \n-    This method fetches the form data from and returns the dictionary. You\n-    can use this method to manipulate the values before the data gets stored\n-    in the storage backend.\n+    This method fetches the data from the ``form`` Form instance and returns the\n+    dictionary. You can use this method to manipulate the values before the data\n+    gets stored in the storage backend.\n \n     Default implementation::\n \n@@ -420,8 +428,8 @@ Advanced ``WizardView`` methods\n \n .. method:: WizardView.render(form, **kwargs)\n \n-    This method gets called after the get or post request was handled. You can\n-    hook in this method to, e.g. change the type of http response.\n+    This method gets called after the GET or POST request has been handled. You\n+    can hook in this method to, e.g. change the type of HTTP response.\n \n     Default implementation::\n \n@@ -467,7 +475,7 @@ Handling files\n To handle :class:`~django.forms.FileField` within any step form of the wizard,\n you have to add a :attr:`file_storage` to your :class:`WizardView` subclass.\n \n-This storage will temporarilyy store the uploaded files for the wizard. The\n+This storage will temporarily store the uploaded files for the wizard. The\n :attr:`file_storage` attribute should be a\n :class:`~django.core.files.storage.Storage` subclass.\n \n@@ -482,9 +490,9 @@ Conditionally view/skip specific steps\n \n .. attribute:: WizardView.condition_dict\n \n-The :meth:`~WizardView.as_view` accepts a ``condition_dict`` argument. You can pass a\n-dictionary of boolean values or callables. The key should match the steps\n-name (e.g. '0', '1').\n+The :meth:`~WizardView.as_view` method accepts a ``condition_dict`` argument.\n+You can pass a dictionary of boolean values or callables. The key should match\n+the steps names (e.g. '0', '1').\n \n If the value of a specific step is callable it will be called with the\n :class:`WizardView` instance as the only argument. If the return value is true,\n@@ -493,7 +501,7 @@ the step's form will be used.\n This example provides a contact form including a condition. The condition is\n used to show a message form only if a checkbox in the first step was checked.\n \n-The steps are defined in a ``forms.py``::\n+The steps are defined in a ``forms.py`` file::\n \n     from django import forms\n \n@@ -546,10 +554,14 @@ As you can see, we defined a ``show_message_form_condition`` next to our\n How to work with ModelForm and ModelFormSet\n ===========================================\n \n-The WizardView supports :class:`~django.forms.ModelForm` and\n-:class:`~django.forms.ModelFormSet`. Additionally to the ``initial_dict``,\n-the :meth:`~WizardView.as_view` method takes a ``instance_dict`` argument\n-with a list of instances for the ``ModelForm`` and ``ModelFormSet``.\n+.. attribute:: WizardView.instance_dict\n+\n+WizardView supports :class:`~django.forms.ModelForm` and\n+:class:`~django.forms.ModelFormSet`. Additionally to the ``initial_dict``, the\n+:meth:`~WizardView.as_view` method takes a ``instance_dict`` argument that\n+should contain instances of ``ModelForm`` and ``ModelFormSet``.  Similarly to\n+:attr:`~WizardView.initial_dict`, thos dictionary key values should be equal to\n+the `step_name` in the `form_list`.\n \n Usage of NamedUrlWizardView\n ==========================="
        }
    ],
    "stats": {
        "total": 94,
        "additions": 53,
        "deletions": 41
    }
}