{
    "author": "claudep",
    "message": "Fixed #18220 -- Removed the CACHE_BACKEND setting, as per official deprecation timeline.\n\nThanks Ramiro Morales for the review.",
    "sha": "eefb00f30124f775ca52258ccd8549054fe8230f",
    "files": [
        {
            "sha": "4711baad663b7def77ba2c112d667fc74523a387",
            "filename": "django/conf/global_settings.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/eefb00f30124f775ca52258ccd8549054fe8230f/django%2Fconf%2Fglobal_settings.py",
            "raw_url": "https://github.com/django/django/raw/eefb00f30124f775ca52258ccd8549054fe8230f/django%2Fconf%2Fglobal_settings.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fconf%2Fglobal_settings.py?ref=eefb00f30124f775ca52258ccd8549054fe8230f",
            "patch": "@@ -464,11 +464,12 @@\n # CACHE #\n #########\n \n-# New format\n+# The cache backends to use.\n CACHES = {\n+    'default': {\n+        'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n+    }\n }\n-# The cache backend to use.  See the docstring in django.core.cache for the\n-# possible values.\n CACHE_MIDDLEWARE_KEY_PREFIX = ''\n CACHE_MIDDLEWARE_SECONDS = 600\n CACHE_MIDDLEWARE_ALIAS = 'default'"
        },
        {
            "sha": "8f07f13d3a0e4a569d0687abaa087ff4d2593369",
            "filename": "django/core/cache/__init__.py",
            "status": "modified",
            "additions": 0,
            "deletions": 36,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/eefb00f30124f775ca52258ccd8549054fe8230f/django%2Fcore%2Fcache%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/eefb00f30124f775ca52258ccd8549054fe8230f/django%2Fcore%2Fcache%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2F__init__.py?ref=eefb00f30124f775ca52258ccd8549054fe8230f",
            "patch": "@@ -64,42 +64,6 @@ def parse_backend_uri(backend_uri):\n \n     return scheme, host, params\n \n-if not settings.CACHES:\n-    legacy_backend = getattr(settings, 'CACHE_BACKEND', None)\n-    if legacy_backend:\n-        import warnings\n-        warnings.warn(\n-            \"settings.CACHE_* is deprecated; use settings.CACHES instead.\",\n-            DeprecationWarning\n-        )\n-    else:\n-        # The default cache setting is put here so that we\n-        # can differentiate between a user who has provided\n-        # an explicit CACHE_BACKEND of locmem://, and the\n-        # default value. When the deprecation cycle has completed,\n-        # the default can be restored to global_settings.py\n-        settings.CACHE_BACKEND = 'locmem://'\n-\n-    # Mapping for new-style cache backend api\n-    backend_classes = {\n-        'memcached': 'memcached.CacheClass',\n-        'locmem': 'locmem.LocMemCache',\n-        'file': 'filebased.FileBasedCache',\n-        'db': 'db.DatabaseCache',\n-        'dummy': 'dummy.DummyCache',\n-    }\n-    engine, host, params = parse_backend_uri(settings.CACHE_BACKEND)\n-    if engine in backend_classes:\n-        engine = 'django.core.cache.backends.%s' % backend_classes[engine]\n-    else:\n-        engine = '%s.CacheClass' % engine\n-    defaults = {\n-        'BACKEND': engine,\n-        'LOCATION': host,\n-    }\n-    defaults.update(params)\n-    settings.CACHES[DEFAULT_CACHE_ALIAS] = defaults\n-\n if DEFAULT_CACHE_ALIAS not in settings.CACHES:\n     raise ImproperlyConfigured(\"You must define a '%s' cache\" % DEFAULT_CACHE_ALIAS)\n "
        },
        {
            "sha": "b1b5a4035ed22a8fbc0efdf57963f6273ecdacb3",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/eefb00f30124f775ca52258ccd8549054fe8230f/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/eefb00f30124f775ca52258ccd8549054fe8230f/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=eefb00f30124f775ca52258ccd8549054fe8230f",
            "patch": "@@ -186,6 +186,8 @@ these changes.\n   library earlier than 2.1. An accelerated timeline was used as this was\n   a security related deprecation.\n \n+* The ``CACHE_BACKEND`` setting will be removed. The cache backend(s) should be\n+  specified in the :setting:`CACHES` setting.\n \n 1.6\n ---"
        },
        {
            "sha": "ede2d3741b6c4e10d05295984f896292f4203029",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 9,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/eefb00f30124f775ca52258ccd8549054fe8230f/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/eefb00f30124f775ca52258ccd8549054fe8230f/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=eefb00f30124f775ca52258ccd8549054fe8230f",
            "patch": "@@ -2311,15 +2311,6 @@ ADMIN_MEDIA_PREFIX\n    integration. See the :doc:`Django 1.4 release notes</releases/1.4>` for\n    more information.\n \n-.. setting:: CACHE_BACKEND\n-\n-CACHE_BACKEND\n--------------\n-\n-.. deprecated:: 1.3\n-   This setting has been replaced by :setting:`BACKEND <CACHES-BACKEND>` in\n-   :setting:`CACHES`.\n-\n .. setting:: IGNORABLE_404_ENDS\n \n IGNORABLE_404_ENDS"
        }
    ],
    "stats": {
        "total": 54,
        "additions": 6,
        "deletions": 48
    }
}