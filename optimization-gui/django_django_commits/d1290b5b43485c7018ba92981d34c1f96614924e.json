{
    "author": "freakboy3742",
    "message": "Fixed #3094 -- Accelerated deprecation of XMLField, since it hasn't served any useful purpose since oldforms. Thanks to PaulM for driving the issue and providing the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15723 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d1290b5b43485c7018ba92981d34c1f96614924e",
    "files": [
        {
            "sha": "dac53f819bfcfce46b23bd444c1556c07b0fec7b",
            "filename": "django/contrib/gis/utils/layermapping.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Futils%2Flayermapping.py?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -54,6 +54,8 @@ class LayerMapping(object):\n         models.TextField : OFTString,\n         models.URLField : OFTString,\n         USStateField : OFTString,\n+        # This is a reminder that XMLField is deprecated\n+        # and this needs to be removed in 1.4\n         models.XMLField : OFTString,\n         models.SmallIntegerField : (OFTInteger, OFTReal, OFTString),\n         models.PositiveSmallIntegerField : (OFTInteger, OFTReal, OFTString),"
        },
        {
            "sha": "8081cf3954fb56fefbe65ecc8384d37234a65ac7",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -206,8 +206,8 @@ def db_type(self, connection):\n         #\n         # A Field class can implement the get_internal_type() method to specify\n         # which *preexisting* Django Field class it's most similar to -- i.e.,\n-        # an XMLField is represented by a TEXT column type, which is the same\n-        # as the TextField Django field type, which means XMLField's\n+        # a custom field might be represented by a TEXT column type, which is the\n+        # same as the TextField Django field type, which means the custom field's\n         # get_internal_type() returns 'TextField'.\n         #\n         # But the limitation of the get_internal_type() / data_types approach\n@@ -1136,6 +1136,9 @@ class XMLField(TextField):\n     description = _(\"XML text\")\n \n     def __init__(self, verbose_name=None, name=None, schema_path=None, **kwargs):\n+        import warnings\n+        warnings.warn(\"Use of XMLField has been deprecated; please use TextField instead.\",\n+                      DeprecationWarning)\n         self.schema_path = schema_path\n         Field.__init__(self, verbose_name, name, **kwargs)\n "
        },
        {
            "sha": "95bc25e9d7113af1c9753cfa26d01afc5b07d797",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 10,
            "deletions": 3,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -41,9 +41,10 @@ their deprecation, as per the :ref:`Django deprecation policy\n           removed.\n \n         * The ``get_db_prep_save``, ``get_db_prep_value`` and\n-          ``get_db_prep_lookup`` methods on Field were modified in 1.2 to support\n-          multiple databases. In 1.4, the support functions that allow methods\n-          with the old prototype to continue working will be removed.\n+          ``get_db_prep_lookup`` methods on Field were modified in 1.2\n+          to support multiple databases. In 1.4, the support functions\n+          that allow methods with the old prototype to continue\n+          working will be removed.\n \n         * The ``Message`` model (in ``django.contrib.auth``), its related\n           manager in the ``User`` model (``user.message_set``), and the\n@@ -105,6 +106,12 @@ their deprecation, as per the :ref:`Django deprecation policy\n           with a trailing slash to ensure there is a consistent way to\n           combine paths in templates.\n \n+        * ``django.db.models.fields.XMLField`` will be removed. This was\n+          deprecated as part of the 1.3 release. An accelerated deprecation\n+          schedule has been used because the field hasn't performed any role\n+          beyond that of a simple ``TextField`` since the removal of oldforms.\n+          All uses of ``XMLField`` can be replaced with ``TextField``.\n+\n     * 1.5\n         * The ``mod_python`` request handler has been deprecated since the 1.3\n           release. The ``mod_wsgi`` handler should be used instead."
        },
        {
            "sha": "66bd04791bb963082c1f203ca01688e78aa3c5e6",
            "filename": "docs/ref/models/fields.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 8,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Fref%2Fmodels%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Fref%2Fmodels%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Ffields.txt?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -12,7 +12,7 @@ This document contains all the gory details about all the `field options`_ and\n \n .. seealso::\n \n-    If the built-in fields don't do the trick, you can try \n+    If the built-in fields don't do the trick, you can try\n     :mod:`django.contrib.localflavor`, which contains assorted pieces of code\n     that are useful for particular countries or cultures. Also, you can easily\n     :doc:`write your own custom model fields </howto/custom-model-fields>`.\n@@ -462,7 +462,7 @@ The admin represents this as an ``<input type=\"text\">`` (a single-line input).\n \n     For more information about the differences between the\n     :class:`FloatField` and :class:`DecimalField` classes, please\n-    see :ref:`FloatField vs. DecimalField <floatfield_vs_decimalfield>`. \n+    see :ref:`FloatField vs. DecimalField <floatfield_vs_decimalfield>`.\n \n ``EmailField``\n --------------\n@@ -557,7 +557,7 @@ day. If you upload a file on Jan. 15, 2007, it will be saved in the directory\n \n If you wanted to retrieve the uploaded file's on-disk filename, or the file's\n size, you could use the :attr:`~django.core.files.File.name` and\n-:attr:`~django.core.files.File.size` attributes respectively; for more \n+:attr:`~django.core.files.File.size` attributes respectively; for more\n information on the available attributes and methods, see the\n :class:`~django.core.files.File` class reference and the :doc:`/topics/files`\n topic guide.\n@@ -836,17 +836,18 @@ Like all :class:`CharField` subclasses, :class:`URLField` takes the optional\n ``XMLField``\n ------------\n \n+.. deprecated:: 1.3\n+   ``XMLField`` is deprecated. Use TextField instead.\n+\n .. class:: XMLField(schema_path=None, [**options])\n \n-A :class:`TextField` that checks that the value is valid XML that matches a\n-given schema. Takes one required argument:\n+A :class:`TextField` that stores XML data and a path to a schema. Takes one\n+optional argument:\n \n .. attribute:: schema_path\n \n-    The filesystem path to a RelaxNG_ schema against which to validate the\n-    field.\n+    The filesystem path to a schema for the field.\n \n-.. _RelaxNG: http://www.relaxng.org/\n \n Relationship fields\n ==================="
        },
        {
            "sha": "4b6d8d9c06924d7cb515439271a47997836a168e",
            "filename": "docs/releases/1.3.txt",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Freleases%2F1.3.txt",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Freleases%2F1.3.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.3.txt?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -843,3 +843,21 @@ migration. In Django 1.3, the ``PermWrapper`` class has also been\n moved to ``django.contrib.auth.context_processors``, along with the\n ``PermLookupDict`` support class. The new classes are functionally\n identical to their old versions; only the module location has changed.\n+\n+Removal of ``XMLField``\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When Django was first released, Django included an ``XMLField`` that\n+performed automatic XML validation for any field input. However, this\n+validation function hasn't been performed since the introduction of\n+``newforms``, prior to the 1.0 release. As a result, ``XMLField`` as\n+currently implemented is functionally indistinguishable from a simple\n+``TextField``.\n+\n+For this reason, Django 1.3 has fast-tracked the deprecation of\n+``XMLField`` -- instead of a two-release deprecation, ``XMLField``\n+will be removed entirely in Django 1.4.\n+\n+It's easy to update your code to accommodate this change -- just\n+replace all uses of ``XMLField`` with ``TextField``, and remove the\n+``schema_path`` keyword argument (if it is specified)."
        },
        {
            "sha": "99164ecdae28420d45d1a69e9722fe70c14193dc",
            "filename": "docs/topics/forms/modelforms.txt",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Ftopics%2Fforms%2Fmodelforms.txt",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/docs%2Ftopics%2Fforms%2Fmodelforms.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fforms%2Fmodelforms.txt?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -106,9 +106,6 @@ the full list of conversions:\n \n     ``URLField``                     ``URLField`` with ``verify_exists`` set\n                                      to the model field's ``verify_exists``\n-\n-    ``XMLField``                     ``CharField`` with\n-                                     ``widget=forms.Textarea``\n     ===============================  ========================================\n \n .. versionadded:: 1.2"
        },
        {
            "sha": "3a2c81acefd281dcfa2a761017bbe585a09f1d72",
            "filename": "tests/regressiontests/serializers_regress/models.py",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/tests%2Fregressiontests%2Fserializers_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/tests%2Fregressiontests%2Fserializers_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fserializers_regress%2Fmodels.py?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -79,9 +79,6 @@ class TimeData(models.Model):\n class USStateData(models.Model):\n     data = USStateField(null=True)\n \n-class XMLData(models.Model):\n-    data = models.XMLField(null=True)\n-\n class Tag(models.Model):\n     \"\"\"A tag on an item.\"\"\"\n     data = models.SlugField()\n@@ -218,9 +215,6 @@ class SmallPKData(models.Model):\n class USStatePKData(models.Model):\n     data = USStateField(primary_key=True)\n \n-# class XMLPKData(models.Model):\n-#     data = models.XMLField(primary_key=True)\n-\n class ComplexModel(models.Model):\n     field1 = models.CharField(max_length=10)\n     field2 = models.CharField(max_length=10)"
        },
        {
            "sha": "20581176ab560c8ce2c0afd3e4001822dd8e24b0",
            "filename": "tests/regressiontests/serializers_regress/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/d1290b5b43485c7018ba92981d34c1f96614924e/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d1290b5b43485c7018ba92981d34c1f96614924e/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fserializers_regress%2Ftests.py?ref=d1290b5b43485c7018ba92981d34c1f96614924e",
            "patch": "@@ -222,9 +222,6 @@ def inherited_compare(testcase, pk, klass, data):\n     (data_obj, 180, USStateData, \"MA\"),\n     (data_obj, 181, USStateData, None),\n     (data_obj, 182, USStateData, \"\"),\n-    (data_obj, 190, XMLData, \"<foo></foo>\"),\n-    (data_obj, 191, XMLData, None),\n-    (data_obj, 192, XMLData, \"\"),\n \n     (generic_obj, 200, GenericData, ['Generic Object 1', 'tag1', 'tag2']),\n     (generic_obj, 201, GenericData, ['Generic Object 2', 'tag2', 'tag3']),"
        }
    ],
    "stats": {
        "total": 69,
        "additions": 44,
        "deletions": 25
    }
}