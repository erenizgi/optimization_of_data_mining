{
    "author": "spookylukey",
    "message": "Added a password reset link to default admin login page if a password reset URL is available.\n\nYou no longer have to override the admin login page just to get that link to\nappear!\n\nAlso provided much better docs for how to plug in the provided password\nreset mechanism with minimum effort.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17266 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1c169071998702880b4fa534c06b35c20f184eef",
    "files": [
        {
            "sha": "8872ade70bd68acaed28767f2010074090696655",
            "filename": "django/contrib/admin/static/admin/css/login.css",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/1c169071998702880b4fa534c06b35c20f184eef/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fcss%2Flogin.css",
            "raw_url": "https://github.com/django/django/raw/1c169071998702880b4fa534c06b35c20f184eef/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fcss%2Flogin.css",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fcss%2Flogin.css?ref=1c169071998702880b4fa534c06b35c20f184eef",
            "patch": "@@ -52,3 +52,6 @@ body.login {\n     padding: 1em 0 0 9.4em;\n }\n \n+.login .password-reset-link {\n+    text-align: center;\n+}"
        },
        {
            "sha": "c008957d1b2dc52e2894f04467e2a1079adf0dde",
            "filename": "django/contrib/admin/templates/admin/login.html",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/1c169071998702880b4fa534c06b35c20f184eef/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Flogin.html",
            "raw_url": "https://github.com/django/django/raw/1c169071998702880b4fa534c06b35c20f184eef/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Flogin.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Flogin.html?ref=1c169071998702880b4fa534c06b35c20f184eef",
            "patch": "@@ -1,5 +1,6 @@\n {% extends \"admin/base_site.html\" %}\n {% load i18n admin_static %}\n+{% load url from future %}\n \n {% block extrastyle %}{{ block.super }}<link rel=\"stylesheet\" type=\"text/css\" href=\"{% static \"admin/css/login.css\" %}\" />{% endblock %}\n \n@@ -38,6 +39,12 @@\n     <input type=\"hidden\" name=\"this_is_the_login_form\" value=\"1\" />\n     <input type=\"hidden\" name=\"next\" value=\"{{ next }}\" />\n   </div>\n+  {% url 'admin_password_reset' as password_reset_url %}\n+  {% if password_reset_url %}\n+  <div class=\"password-reset-link\">\n+    <a href=\"{{ password_reset_url }}\">{% trans 'Forgotten your password or username?' %}</a>\n+  </div>\n+  {% endif %}\n   <div class=\"submit-row\">\n     <label>&nbsp;</label><input type=\"submit\" value=\"{% trans 'Log in' %}\" />\n   </div>"
        },
        {
            "sha": "1ab34d80bc0890e91a7b4a4037e159b907a386ea",
            "filename": "docs/releases/1.4.txt",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/1c169071998702880b4fa534c06b35c20f184eef/docs%2Freleases%2F1.4.txt",
            "raw_url": "https://github.com/django/django/raw/1c169071998702880b4fa534c06b35c20f184eef/docs%2Freleases%2F1.4.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.txt?ref=1c169071998702880b4fa534c06b35c20f184eef",
            "patch": "@@ -546,6 +546,11 @@ Django 1.4 also includes several smaller improvements worth noting:\n   For more details, see the documentation for\n   :meth:`~django.db.models.query.QuerySet.distinct`.\n \n+* The admin login page will add a password reset link if you include a URL with\n+  the name `'admin_password_reset'` in your urls.py, so plugging in the builtin\n+  password reset mechanism and making it available is now much easier. For\n+  details, see :ref:`auth_password_reset`.\n+\n Backwards incompatible changes in 1.4\n =====================================\n "
        },
        {
            "sha": "626e7c4b894eeeba9de85dd0c7be642513e9db88",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 28,
            "deletions": 0,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/1c169071998702880b4fa534c06b35c20f184eef/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/1c169071998702880b4fa534c06b35c20f184eef/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=1c169071998702880b4fa534c06b35c20f184eef",
            "patch": "@@ -371,6 +371,34 @@ Don't set the :attr:`~django.contrib.auth.models.User.password` attribute\n directly unless you know what you're doing. This is explained in the next\n section.\n \n+.. _auth_password_reset:\n+\n+User-requested password resets\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+There is a bundled reset mechanism that integrates into the admin, allowing\n+users to reset their passwords by email. It can be customized and is described\n+in detail below under :func:`~django.contrib.auth.views.password_reset`. To\n+enable it without customization, add lines something like the following to your\n+urls.py:\n+\n+.. code-block:: python\n+\n+    url(r'^admin/password_reset/$', 'django.contrib.auth.views.password_reset', name='admin_password_reset'),\n+    (r'^admin/password_reset/done/$', 'django.contrib.auth.views.password_reset_done'),\n+    (r'^reset/(?P<uidb36>[0-9A-Za-z]+)-(?P<token>.+)/$', 'django.contrib.auth.views.password_reset_confirm'),\n+    (r'^reset/done/$', 'django.contrib.auth.views.password_reset_complete'),\n+\n+(This assumes you've added the admin at ``admin/``, and requires that you put\n+the URLs starting with ``^admin/`` before the line that includes the admin app\n+itself).\n+\n+.. versionchanged:: 1.4\n+\n+The presence of the 'admin_password_reset' named URL will cause a \"forgotten\n+your password?\" link to appear on the default admin login page under the\n+password box.\n+\n .. _auth_password_storage:\n \n How Django stores passwords"
        }
    ],
    "stats": {
        "total": 43,
        "additions": 43,
        "deletions": 0
    }
}