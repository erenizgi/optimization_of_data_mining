{
    "author": "jezdez",
    "message": "Re-added a few compatibility modules that were removed in r15927 to lower the impact on 3rd party apps.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15944 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "37ed6f26812e960a034cb1312257bf7436bad965",
    "files": [
        {
            "sha": "bd1a761f8afc74378d1d161eb10c88d371ecd81d",
            "filename": "django/utils/copycompat.py",
            "status": "added",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fcopycompat.py",
            "raw_url": "https://github.com/django/django/raw/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fcopycompat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fcopycompat.py?ref=37ed6f26812e960a034cb1312257bf7436bad965",
            "patch": "@@ -0,0 +1,18 @@\n+\"\"\"\n+Fixes Python 2.4's failure to deepcopy unbound functions.\n+\"\"\"\n+\n+import copy\n+import types\n+import warnings\n+\n+warnings.warn(\"django.utils.copycompat is deprecated; use the native copy module instead\",\n+              PendingDeprecationWarning)\n+\n+# Monkeypatch copy's deepcopy registry to handle functions correctly.\n+if (hasattr(copy, '_deepcopy_dispatch') and types.FunctionType not in copy._deepcopy_dispatch):\n+    copy._deepcopy_dispatch[types.FunctionType] = copy._deepcopy_atomic\n+\n+# Pose as the copy module now.\n+del copy, types\n+from copy import *"
        },
        {
            "sha": "57435b14be6492bb77148915c149a9192ae1c1f2",
            "filename": "django/utils/hashcompat.py",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fhashcompat.py",
            "raw_url": "https://github.com/django/django/raw/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fhashcompat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhashcompat.py?ref=37ed6f26812e960a034cb1312257bf7436bad965",
            "patch": "@@ -0,0 +1,24 @@\n+\"\"\"\n+The md5 and sha modules are deprecated since Python 2.5, replaced by the\n+hashlib module containing both hash algorithms. Here, we provide a common\n+interface to the md5 and sha constructors, depending on system version.\n+\"\"\"\n+import sys\n+import warnings\n+\n+warnings.warn(\"django.utils.hashcompat is deprecated; use hashlib instead\",\n+              PendingDeprecationWarning)\n+\n+if sys.version_info >= (2, 5):\n+    import hashlib\n+    md5_constructor = hashlib.md5\n+    md5_hmac = md5_constructor\n+    sha_constructor = hashlib.sha1\n+    sha_hmac = sha_constructor\n+else:\n+    import md5\n+    md5_constructor = md5.new\n+    md5_hmac = md5\n+    import sha\n+    sha_constructor = sha.new\n+    sha_hmac = sha"
        },
        {
            "sha": "38058e227c2be8abd638b8097a96103bc835b988",
            "filename": "django/utils/itercompat.py",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fitercompat.py",
            "raw_url": "https://github.com/django/django/raw/37ed6f26812e960a034cb1312257bf7436bad965/django%2Futils%2Fitercompat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fitercompat.py?ref=37ed6f26812e960a034cb1312257bf7436bad965",
            "patch": "@@ -5,6 +5,7 @@\n \"\"\"\n \n import itertools\n+import warnings\n \n # Fallback for Python 2.4, Python 2.5\n def product(*args, **kwds):\n@@ -31,3 +32,19 @@ def is_iterable(x):\n         return False\n     else:\n         return True\n+\n+def all(iterable):\n+    warnings.warn(\"django.utils.itercompat.all is deprecated; use the native version instead\",\n+                  PendingDeprecationWarning)\n+    for item in iterable:\n+        if not item:\n+            return False\n+    return True\n+\n+def any(iterable):\n+    warnings.warn(\"django.utils.itercompat.any is deprecated; use the native version instead\",\n+                  PendingDeprecationWarning)\n+    for item in iterable:\n+        if item:\n+            return True\n+    return False"
        },
        {
            "sha": "b1f02863841005c60bff9d329eb7c21421034c0d",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/37ed6f26812e960a034cb1312257bf7436bad965/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/37ed6f26812e960a034cb1312257bf7436bad965/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=37ed6f26812e960a034cb1312257bf7436bad965",
            "patch": "@@ -171,6 +171,14 @@ their deprecation, as per the :ref:`Django deprecation policy\n           with a trailing slash to ensure there is a consistent way to\n           combine paths in templates.\n \n+    * 1.6\n+\n+        * The compatibility modules ``django.utils.copycompat`` and\n+          ``django.utils.hashcompat`` as well as the functions\n+          ``django.utils.itercompat.all`` and ``django.utils.itercompat.any``\n+          have been deprecated since the 1.4 release. The native versions\n+          should be used instead.\n+\n     * 2.0\n         * ``django.views.defaults.shortcut()``. This function has been moved\n           to ``django.contrib.contenttypes.views.shortcut()`` as part of the"
        }
    ],
    "stats": {
        "total": 67,
        "additions": 67,
        "deletions": 0
    }
}