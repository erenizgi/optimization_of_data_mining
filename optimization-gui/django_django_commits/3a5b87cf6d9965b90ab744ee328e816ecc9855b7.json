{
    "author": "adrianholovaty",
    "message": "Importing django.forms no longer requires DJANGO_SETTINGS_MODULE. Moved django.db.connections import in django.forms.models to the method where it's used.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15797 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "3a5b87cf6d9965b90ab744ee328e816ecc9855b7",
    "files": [
        {
            "sha": "8a48e155df579aa92f1b23d16e994e7d998d1993",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/3a5b87cf6d9965b90ab744ee328e816ecc9855b7/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/3a5b87cf6d9965b90ab744ee328e816ecc9855b7/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=3a5b87cf6d9965b90ab744ee328e816ecc9855b7",
            "patch": "@@ -3,7 +3,6 @@\n and database field objects.\n \"\"\"\n \n-from django.db import connections\n from django.utils.encoding import smart_unicode, force_unicode\n from django.utils.datastructures import SortedDict\n from django.utils.text import get_text_list, capfirst\n@@ -428,6 +427,9 @@ def _existing_object(self, pk):\n \n     def _construct_form(self, i, **kwargs):\n         if self.is_bound and i < self.initial_form_count():\n+            # Import goes here instead of module-level because importing\n+            # django.db has side effects.\n+            from django.db import connections\n             pk_key = \"%s-%s\" % (self.add_prefix(i), self.model._meta.pk.name)\n             pk = self.data[pk_key]\n             pk_field = self.model._meta.pk"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}