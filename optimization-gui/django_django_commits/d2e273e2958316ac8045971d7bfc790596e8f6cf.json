{
    "author": "claudep",
    "message": "Fixed #18029 -- Removed leftover mod_python files forgotten in r17835.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17849 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d2e273e2958316ac8045971d7bfc790596e8f6cf",
    "files": [
        {
            "sha": "de961fa4dd667cce24a22ec02f932e29d62c100c",
            "filename": "django/contrib/auth/handlers/modpython.py",
            "status": "removed",
            "additions": 0,
            "deletions": 56,
            "changes": 56,
            "blob_url": "https://github.com/django/django/blob/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodpython.py",
            "raw_url": "https://github.com/django/django/raw/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodpython.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodpython.py?ref=37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a",
            "patch": "@@ -1,56 +0,0 @@\n-from mod_python import apache\n-import os\n-\n-def authenhandler(req, **kwargs):\n-    \"\"\"\n-    Authentication handler that checks against Django's auth database.\n-    \"\"\"\n-\n-    # mod_python fakes the environ, and thus doesn't process SetEnv.  This fixes\n-    # that so that the following import works\n-    os.environ.update(req.subprocess_env)\n-\n-    # apache 2.2 requires a call to req.get_basic_auth_pw() before \n-    # req.user and friends are available.\n-    req.get_basic_auth_pw()\n-\n-    # check for PythonOptions\n-    _str_to_bool = lambda s: s.lower() in ('1', 'true', 'on', 'yes')\n-\n-    options = req.get_options()\n-    permission_name = options.get('DjangoPermissionName', None)\n-    staff_only = _str_to_bool(options.get('DjangoRequireStaffStatus', \"on\"))\n-    superuser_only = _str_to_bool(options.get('DjangoRequireSuperuserStatus', \"off\"))\n-    settings_module = options.get('DJANGO_SETTINGS_MODULE', None)\n-    if settings_module:\n-        os.environ['DJANGO_SETTINGS_MODULE'] = settings_module\n-\n-    from django.contrib.auth.models import User\n-    from django import db\n-    db.reset_queries()\n-\n-    # check that the username is valid\n-    kwargs = {'username': req.user, 'is_active': True}\n-    if staff_only:\n-        kwargs['is_staff'] = True\n-    if superuser_only:\n-        kwargs['is_superuser'] = True\n-    try:\n-        try:\n-            user = User.objects.get(**kwargs)\n-        except User.DoesNotExist:\n-            return apache.HTTP_UNAUTHORIZED\n-    \n-        # check the password and any permission given\n-        if user.check_password(req.get_basic_auth_pw()):\n-            if permission_name:\n-                if user.has_perm(permission_name):\n-                    return apache.OK\n-                else:\n-                    return apache.HTTP_UNAUTHORIZED\n-            else:\n-                return apache.OK\n-        else:\n-            return apache.HTTP_UNAUTHORIZED\n-    finally:\n-        db.connection.close()"
        },
        {
            "sha": "fb23fb497a7a5dbd1b67bbc835964abd0096aa2c",
            "filename": "django/core/handlers/modpython.py",
            "status": "removed",
            "additions": 0,
            "deletions": 180,
            "changes": 180,
            "blob_url": "https://github.com/django/django/blob/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcore%2Fhandlers%2Fmodpython.py",
            "raw_url": "https://github.com/django/django/raw/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcore%2Fhandlers%2Fmodpython.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fmodpython.py?ref=37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a",
            "patch": "@@ -1,180 +0,0 @@\n-import os\n-import sys\n-from warnings import warn\n-\n-from django import http\n-from django.core import signals\n-from django.core.handlers.base import BaseHandler\n-from django.core.urlresolvers import set_script_prefix\n-from django.utils import datastructures\n-from django.utils.encoding import force_unicode, iri_to_uri\n-from django.utils.log import getLogger\n-\n-logger = getLogger('django.request')\n-\n-class ModPythonRequest(http.HttpRequest):\n-    def __init__(self, req):\n-        self._req = req\n-        # FIXME: This isn't ideal. The request URI may be encoded (it's\n-        # non-normalized) slightly differently to the \"real\" SCRIPT_NAME\n-        # and PATH_INFO values. This causes problems when we compute path_info,\n-        # below. For now, don't use script names that will be subject to\n-        # encoding/decoding.\n-        self.path = force_unicode(req.uri)\n-        root = req.get_options().get('django.root', '')\n-        self.django_root = root\n-        # req.path_info isn't necessarily computed correctly in all\n-        # circumstances (it's out of mod_python's control a bit), so we use\n-        # req.uri and some string manipulations to get the right value.\n-        if root and req.uri.startswith(root):\n-            self.path_info = force_unicode(req.uri[len(root):])\n-        else:\n-            self.path_info = self.path\n-        if not self.path_info:\n-            # Django prefers empty paths to be '/', rather than '', to give us\n-            # a common start character for URL patterns. So this is a little\n-            # naughty, but also pretty harmless.\n-            self.path_info = u'/'\n-        self._post_parse_error = False\n-        self._stream = self._req\n-        self._read_started = False\n-\n-    def get_full_path(self):\n-        # RFC 3986 requires self._req.args to be in the ASCII range, but this\n-        # doesn't always happen, so rather than crash, we defensively encode it.\n-        return '%s%s' % (self.path, self._req.args and ('?' + iri_to_uri(self._req.args)) or '')\n-\n-    def _is_secure(self):\n-        try:\n-            return self._req.is_https()\n-        except AttributeError:\n-            # mod_python < 3.2.10 doesn't have req.is_https().\n-            return self._req.subprocess_env.get('HTTPS', '').lower() in ('on', '1')\n-\n-    def _get_request(self):\n-        if not hasattr(self, '_request'):\n-            self._request = datastructures.MergeDict(self.POST, self.GET)\n-        return self._request\n-\n-    def _get_get(self):\n-        if not hasattr(self, '_get'):\n-            self._get = http.QueryDict(self._req.args, encoding=self._encoding)\n-        return self._get\n-\n-    def _set_get(self, get):\n-        self._get = get\n-\n-    def _get_post(self):\n-        if not hasattr(self, '_post'):\n-            self._load_post_and_files()\n-        return self._post\n-\n-    def _set_post(self, post):\n-        self._post = post\n-\n-    def _get_cookies(self):\n-        if not hasattr(self, '_cookies'):\n-            self._cookies = http.parse_cookie(self._req.headers_in.get('cookie', ''))\n-        return self._cookies\n-\n-    def _set_cookies(self, cookies):\n-        self._cookies = cookies\n-\n-    def _get_files(self):\n-        if not hasattr(self, '_files'):\n-            self._load_post_and_files()\n-        return self._files\n-\n-    def _get_meta(self):\n-        \"Lazy loader that returns self.META dictionary\"\n-        if not hasattr(self, '_meta'):\n-            self._meta = {\n-                'AUTH_TYPE':         self._req.ap_auth_type,\n-                'CONTENT_LENGTH':    self._req.headers_in.get('content-length', 0),\n-                'CONTENT_TYPE':      self._req.headers_in.get('content-type'),\n-                'GATEWAY_INTERFACE': 'CGI/1.1',\n-                'PATH_INFO':         self.path_info,\n-                'PATH_TRANSLATED':   None, # Not supported\n-                'QUERY_STRING':      self._req.args,\n-                'REMOTE_ADDR':       self._req.connection.remote_ip,\n-                'REMOTE_HOST':       None, # DNS lookups not supported\n-                'REMOTE_IDENT':      self._req.connection.remote_logname,\n-                'REMOTE_USER':       self._req.user,\n-                'REQUEST_METHOD':    self._req.method,\n-                'SCRIPT_NAME':       self.django_root,\n-                'SERVER_NAME':       self._req.server.server_hostname,\n-                'SERVER_PORT':       self._req.connection.local_addr[1],\n-                'SERVER_PROTOCOL':   self._req.protocol,\n-                'SERVER_SOFTWARE':   'mod_python'\n-            }\n-            for key, value in self._req.headers_in.items():\n-                key = 'HTTP_' + key.upper().replace('-', '_')\n-                self._meta[key] = value\n-        return self._meta\n-\n-    def _get_method(self):\n-        return self.META['REQUEST_METHOD'].upper()\n-\n-    GET = property(_get_get, _set_get)\n-    POST = property(_get_post, _set_post)\n-    COOKIES = property(_get_cookies, _set_cookies)\n-    FILES = property(_get_files)\n-    META = property(_get_meta)\n-    REQUEST = property(_get_request)\n-    method = property(_get_method)\n-\n-class ModPythonHandler(BaseHandler):\n-    request_class = ModPythonRequest\n-\n-    def __call__(self, req):\n-        warn(('The mod_python handler is deprecated; use a WSGI or FastCGI server instead.'),\n-             DeprecationWarning)\n-\n-        # mod_python fakes the environ, and thus doesn't process SetEnv.  This fixes that\n-        os.environ.update(req.subprocess_env)\n-\n-        # now that the environ works we can see the correct settings, so imports\n-        # that use settings now can work\n-        from django.conf import settings\n-\n-        # if we need to set up middleware, now that settings works we can do it now.\n-        if self._request_middleware is None:\n-            self.load_middleware()\n-\n-        set_script_prefix(req.get_options().get('django.root', ''))\n-        signals.request_started.send(sender=self.__class__)\n-        try:\n-            try:\n-                request = self.request_class(req)\n-            except UnicodeDecodeError:\n-                logger.warning('Bad Request (UnicodeDecodeError)',\n-                    exc_info=sys.exc_info(),\n-                    extra={\n-                        'status_code': 400,\n-                    }\n-                )\n-                response = http.HttpResponseBadRequest()\n-            else:\n-                response = self.get_response(request)\n-        finally:\n-            signals.request_finished.send(sender=self.__class__)\n-\n-        # Convert our custom HttpResponse object back into the mod_python req.\n-        req.content_type = response['Content-Type']\n-        for key, value in response.items():\n-            if key != 'content-type':\n-                req.headers_out[str(key)] = str(value)\n-        for c in response.cookies.values():\n-            req.headers_out.add('Set-Cookie', c.output(header=''))\n-        req.status = response.status_code\n-        try:\n-            for chunk in response:\n-                req.write(chunk)\n-        finally:\n-            response.close()\n-\n-        return 0 # mod_python.apache.OK\n-\n-def handler(req):\n-    # mod_python hooks into this function.\n-    return ModPythonHandler()(req)"
        },
        {
            "sha": "0522de6d8462533df0272dd23acad93c87e390d7",
            "filename": "django/core/handlers/profiler-hotshot.py",
            "status": "removed",
            "additions": 0,
            "deletions": 25,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcore%2Fhandlers%2Fprofiler-hotshot.py",
            "raw_url": "https://github.com/django/django/raw/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/django%2Fcore%2Fhandlers%2Fprofiler-hotshot.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fprofiler-hotshot.py?ref=37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a",
            "patch": "@@ -1,25 +0,0 @@\n-import hotshot\n-import os\n-import time\n-\n-from django.core.handlers.modpython import ModPythonHandler\n-\n-PROFILE_DATA_DIR = \"/var/log/cmsprofile\"\n-\n-def handler(req):\n-    '''\n-    Handler that uses hotshot to store profile data.\n-\n-    Stores profile data in PROFILE_DATA_DIR.  Since hotshot has no way (that I\n-    know of) to append profile data to a single file, each request gets its own\n-    profile.  The file names are in the format <url>.<n>.prof where <url> is\n-    the request path with \"/\" replaced by \".\", and <n> is a timestamp with\n-    microseconds to prevent overwriting files.\n-\n-    Use the gather_profile_stats.py script to gather these individual request\n-    profiles into aggregated profiles by request path.\n-    '''\n-    profname = \"%s.%.3f.prof\" % (req.uri.strip(\"/\").replace('/', '.'), time.time())\n-    profname = os.path.join(PROFILE_DATA_DIR, profname)\n-    prof = hotshot.Profile(profname)\n-    return prof.runcall(ModPythonHandler(), req)"
        },
        {
            "sha": "b1ddf581f505f06d495f02a3e8b5fe972be8baad",
            "filename": "docs/howto/deployment/modpython.txt",
            "status": "removed",
            "additions": 0,
            "deletions": 415,
            "changes": 415,
            "blob_url": "https://github.com/django/django/blob/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/docs%2Fhowto%2Fdeployment%2Fmodpython.txt",
            "raw_url": "https://github.com/django/django/raw/37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a/docs%2Fhowto%2Fdeployment%2Fmodpython.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fhowto%2Fdeployment%2Fmodpython.txt?ref=37c8bc89f20104c0ac02dbc9b2aa7f3a09aa771a",
            "patch": "@@ -1,415 +0,0 @@\n-============================================\n-How to use Django with Apache and mod_python\n-============================================\n-\n-.. warning::\n-\n-    Support for mod_python has been deprecated, and will be removed in\n-    Django 1.5. If you are configuring a new deployment, you are\n-    strongly encouraged to consider using :doc:`mod_wsgi\n-    </howto/deployment/wsgi/modwsgi>` or any of the other :doc:`supported\n-    servers </howto/deployment/index>`.\n-\n-.. highlight:: apache\n-\n-The `mod_python`_ module for Apache_ can be used to deploy Django to a\n-production server, although it has been mostly superseded by the simpler\n-:doc:`mod_wsgi deployment option </howto/deployment/wsgi/modwsgi>`.\n-\n-mod_python is similar to (and inspired by) `mod_perl`_ : It embeds Python within\n-Apache and loads Python code into memory when the server starts. Code stays in\n-memory throughout the life of an Apache process, which leads to significant\n-performance gains over other server arrangements.\n-\n-Django requires Apache 2.x and mod_python 3.x, and you should use Apache's\n-`prefork MPM`_, as opposed to the `worker MPM`_.\n-\n-.. seealso::\n-\n-    * Apache is a big, complex animal, and this document only scratches the\n-      surface of what Apache can do. If you need more advanced information about\n-      Apache, there's no better source than `Apache's own official\n-      documentation`_\n-\n-    * You may also be interested in :doc:`How to use Django with FastCGI, SCGI,\n-      or AJP </howto/deployment/fastcgi>`.\n-\n-.. _Apache: http://httpd.apache.org/\n-.. _mod_python: http://www.modpython.org/\n-.. _mod_perl: http://perl.apache.org/\n-.. _prefork MPM: http://httpd.apache.org/docs/2.2/mod/prefork.html\n-.. _worker MPM: http://httpd.apache.org/docs/2.2/mod/worker.html\n-.. _apache's own official documentation: http://httpd.apache.org/docs/\n-\n-Basic configuration\n-===================\n-\n-To configure Django with mod_python, first make sure you have Apache installed,\n-with the mod_python module activated.\n-\n-Then edit your ``httpd.conf`` file and add the following::\n-\n-    <Location \"/mysite/\">\n-        SetHandler python-program\n-        PythonHandler django.core.handlers.modpython\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-        PythonOption django.root /mysite\n-        PythonDebug On\n-    </Location>\n-\n-...and replace ``mysite.settings`` with the Python import path to your Django\n-project's settings file.\n-\n-This tells Apache: \"Use mod_python for any URL at or under '/mysite/', using the\n-Django mod_python handler.\" It passes the value of :ref:`DJANGO_SETTINGS_MODULE\n-<django-settings-module>` so mod_python knows which settings to use.\n-\n-Because mod_python does not know we are serving this site from underneath the\n-``/mysite/`` prefix, this value needs to be passed through to the mod_python\n-handler in Django, via the ``PythonOption django.root ...`` line. The value set\n-on that line (the last item) should match the string given in the ``<Location\n-...>`` directive. The effect of this is that Django will automatically strip the\n-``/mysite`` string from the front of any URLs before matching them against your\n-URLconf patterns. If you later move your site to live under ``/mysite2``, you\n-will not have to change anything except the ``django.root`` option in the config\n-file.\n-\n-When using ``django.root`` you should make sure that what's left, after the\n-prefix has been removed, begins with a slash. Your URLconf patterns that are\n-expecting an initial slash will then work correctly. In the above example,\n-since we want to send things like ``/mysite/admin/`` to ``/admin/``, we need\n-to remove the string ``/mysite`` from the beginning, so that is the\n-``django.root`` value. It would be an error to use ``/mysite/`` (with a\n-trailing slash) in this case.\n-\n-Note that we're using the ``<Location>`` directive, not the ``<Directory>``\n-directive. The latter is used for pointing at places on your filesystem,\n-whereas ``<Location>`` points at places in the URL structure of a Web site.\n-``<Directory>`` would be meaningless here.\n-\n-Also, if your Django project is not on the default ``PYTHONPATH`` for your\n-computer, you'll have to tell mod_python where your project can be found:\n-\n-.. parsed-literal::\n-\n-    <Location \"/mysite/\">\n-        SetHandler python-program\n-        PythonHandler django.core.handlers.modpython\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-        PythonOption django.root /mysite\n-        PythonDebug On\n-        **PythonPath \"['/path/to/project'] + sys.path\"**\n-    </Location>\n-\n-The value you use for ``PythonPath`` should include the parent directories of\n-all the modules you are going to import in your application. It should also\n-include the parent directory of the :ref:`DJANGO_SETTINGS_MODULE\n-<django-settings-module>` location. This is exactly the same situation as\n-setting the Python path for interactive usage. Whenever you try to import\n-something, Python will run through all the directories in ``sys.path`` in turn,\n-from first to last, and try to import from each directory until one succeeds.\n-\n-Make sure that your Python source files' permissions are set such that the\n-Apache user (usually named ``apache`` or ``httpd`` on most systems) will have\n-read access to the files.\n-\n-An example might make this clearer. Suppose you have some applications under\n-``/usr/local/django-apps/`` (for example, ``/usr/local/django-apps/weblog/`` and\n-so forth), your settings file is at ``/var/www/mysite/settings.py`` and you have\n-specified :ref:`DJANGO_SETTINGS_MODULE <django-settings-module>` as in the above\n-example. In this case, you would need to write your ``PythonPath`` directive\n-as::\n-\n-    PythonPath \"['/usr/local/django-apps/', '/var/www'] + sys.path\"\n-\n-With this path, ``import weblog`` and ``import mysite.settings`` will both\n-work. If you had ``import blogroll`` in your code somewhere and ``blogroll``\n-lived under the ``weblog/`` directory, you would *also* need to add\n-``/usr/local/django-apps/weblog/`` to your ``PythonPath``. Remember: the\n-**parent directories** of anything you import directly must be on the Python\n-path.\n-\n-.. note::\n-\n-    If you're using Windows, we still recommended that you use forward\n-    slashes in the pathnames, even though Windows normally uses the backslash\n-    character as its native separator. Apache knows how to convert from the\n-    forward slash format to the native format, so this approach is portable and\n-    easier to read. (It avoids tricky problems with having to double-escape\n-    backslashes.)\n-\n-    This is valid even on a Windows system::\n-\n-        PythonPath \"['c:/path/to/project'] + sys.path\"\n-\n-You can also add directives such as ``PythonAutoReload Off`` for performance.\n-See the `mod_python documentation`_ for a full list of options.\n-\n-Note that you should set ``PythonDebug Off`` on a production server. If you\n-leave ``PythonDebug On``, your users would see ugly (and revealing) Python\n-tracebacks if something goes wrong within mod_python.\n-\n-Restart Apache, and any request to ``/mysite/`` or below will be served by\n-Django. Note that Django's URLconfs won't trim the \"/mysite/\" -- they get passed\n-the full URL.\n-\n-When deploying Django sites on mod_python, you'll need to restart Apache each\n-time you make changes to your Python code.\n-\n-.. _mod_python documentation: http://modpython.org/live/current/doc-html/directives.html\n-\n-Multiple Django installations on the same Apache\n-================================================\n-\n-It's entirely possible to run multiple Django installations on the same Apache\n-instance. Just use ``VirtualHost`` for that, like so::\n-\n-    NameVirtualHost *\n-\n-    <VirtualHost *>\n-        ServerName www.example.com\n-        # ...\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-    </VirtualHost>\n-\n-    <VirtualHost *>\n-        ServerName www2.example.com\n-        # ...\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.other_settings\n-    </VirtualHost>\n-\n-If you need to put two Django installations within the same ``VirtualHost``\n-(or in different ``VirtualHost`` blocks that share the same server name),\n-you'll need to take a special precaution to ensure mod_python's cache doesn't\n-mess things up. Use the ``PythonInterpreter`` directive to give different\n-``<Location>`` directives separate interpreters::\n-\n-    <VirtualHost *>\n-        ServerName www.example.com\n-        # ...\n-        <Location \"/something\">\n-            SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-            PythonInterpreter mysite\n-        </Location>\n-\n-        <Location \"/otherthing\">\n-            SetEnv DJANGO_SETTINGS_MODULE mysite.other_settings\n-            PythonInterpreter othersite\n-        </Location>\n-    </VirtualHost>\n-\n-The values of ``PythonInterpreter`` don't really matter, as long as they're\n-different between the two ``Location`` blocks.\n-\n-Running a development server with mod_python\n-============================================\n-\n-If you use mod_python for your development server, you can avoid the hassle of\n-having to restart the server each time you make code changes. Just set\n-``MaxRequestsPerChild 1`` in your ``httpd.conf`` file to force Apache to reload\n-everything for each request. But don't do that on a production server, or we'll\n-revoke your Django privileges.\n-\n-If you're the type of programmer who debugs using scattered ``print``\n-statements, note that output to ``stdout`` will not appear in the Apache\n-log and can even `cause response errors`_.\n-\n-.. _cause response errors: http://blog.dscpl.com.au/2009/04/wsgi-and-printing-to-standard-output.html\n-\n-If you have the need to print debugging information in a mod_python setup, you\n-have a few options. You can print to ``stderr`` explicitly, like so::\n-\n-    print >> sys.stderr, 'debug text'\n-    sys.stderr.flush()\n-\n-(note that ``stderr`` is buffered, so calling ``flush`` is necessary if you wish\n-debugging information to be displayed promptly.)\n-\n-A more compact approach is to use an assertion::\n-\n-    assert False, 'debug text'\n-\n-Another alternative is to add debugging information to the template of your page.\n-\n-Serving media files\n-===================\n-\n-Django doesn't serve media files itself; it leaves that job to whichever Web\n-server you choose.\n-\n-We recommend using a separate Web server -- i.e., one that's not also running\n-Django -- for serving media. Here are some good choices:\n-\n-* lighttpd_\n-* Nginx_\n-* TUX_\n-* A stripped-down version of Apache_\n-* Cherokee_\n-\n-If, however, you have no option but to serve media or static files on the\n-same Apache ``VirtualHost`` as Django, here's how you can turn off mod_python\n-for a particular part of the site::\n-\n-    <Location \"/media\">\n-        SetHandler None\n-    </Location>\n-\n-Just change ``Location`` to the root URL of your media files. You can also use\n-``<LocationMatch>`` to match a regular expression.\n-\n-This example sets up Django at the site root but explicitly disables Django\n-for the ``media`` and ``static`` subdirectories and any URL that ends with\n-``.jpg``, ``.gif`` or ``.png``::\n-\n-    <Location \"/\">\n-        SetHandler python-program\n-        PythonHandler django.core.handlers.modpython\n-        SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n-    </Location>\n-\n-    <Location \"/media\">\n-        SetHandler None\n-    </Location>\n-\n-    <Location \"/static\">\n-        SetHandler None\n-    </Location>\n-\n-    <LocationMatch \"\\.(jpg|gif|png)$\">\n-        SetHandler None\n-    </LocationMatch>\n-\n-.. _lighttpd: http://www.lighttpd.net/\n-.. _Nginx: http://wiki.nginx.org/Main\n-.. _TUX: http://en.wikipedia.org/wiki/TUX_web_server\n-.. _Apache: http://httpd.apache.org/\n-.. _Cherokee: http://www.cherokee-project.com/\n-\n-Serving the admin files\n-=======================\n-\n-Note that the Django development server automagically serves the static files\n-of the admin app, but this is not the case when you use any other server\n-arrangement. You're responsible for setting up Apache, or whichever media\n-server you're using, to serve the admin files.\n-\n-The admin files live in (:file:`django/contrib/admin/static/admin`) of the\n-Django distribution.\n-\n-We **strongly** recommend using :mod:`django.contrib.staticfiles` to handle the\n-admin files (this means using the :djadmin:`collectstatic` management command\n-to collect the static files in :setting:`STATIC_ROOT`, and then configuring\n-your Web server to serve :setting:`STATIC_ROOT` at :setting:`STATIC_URL`), but\n-here are two other approaches:\n-\n-1. Create a symbolic link to the admin static files from within your\n-   document root.\n-\n-2. Or, copy the admin static files so that they live within your Apache\n-   document root.\n-\n-Using \"eggs\" with mod_python\n-============================\n-\n-If you installed Django from a Python egg_ or are using eggs in your Django\n-project, some extra configuration is required. Create an extra file in your\n-project (or somewhere else) that contains something like the following:\n-\n-.. code-block:: python\n-\n-    import os\n-    os.environ['PYTHON_EGG_CACHE'] = '/some/directory'\n-\n-Here, ``/some/directory`` is a directory that the Apache Web server process can\n-write to. It will be used as the location for any unpacking of code the eggs\n-need to do.\n-\n-Then you have to tell mod_python to import this file before doing anything\n-else. This is done using the PythonImport_ directive to mod_python. You need\n-to ensure that you have specified the ``PythonInterpreter`` directive to\n-mod_python as described above__ (you need to do this even if you aren't\n-serving multiple installations in this case). Then add the ``PythonImport``\n-line in the main server configuration (i.e., outside the ``Location`` or\n-``VirtualHost`` sections). For example::\n-\n-    PythonInterpreter my_django\n-    PythonImport /path/to/my/project/file.py my_django\n-\n-Note that you can use an absolute path here (or a normal dotted import path),\n-as described in the `mod_python manual`_. We use an absolute path in the\n-above example because if any Python path modifications are required to access\n-your project, they will not have been done at the time the ``PythonImport``\n-line is processed.\n-\n-.. _Egg: http://peak.telecommunity.com/DevCenter/PythonEggs\n-.. _PythonImport: http://www.modpython.org/live/current/doc-html/dir-other-pimp.html\n-.. _mod_python manual: PythonImport_\n-__ `Multiple Django installations on the same Apache`_\n-\n-Error handling\n-==============\n-\n-When you use Apache/mod_python, errors will be caught by Django -- in other\n-words, they won't propagate to the Apache level and won't appear in the Apache\n-``error_log``.\n-\n-The exception for this is if something is really wonky in your Django setup. In\n-that case, you'll see an \"Internal Server Error\" page in your browser and the\n-full Python traceback in your Apache ``error_log`` file. The ``error_log``\n-traceback is spread over multiple lines. (Yes, this is ugly and rather hard to\n-read, but it's how mod_python does things.)\n-\n-If you get a segmentation fault\n-===============================\n-\n-If Apache causes a segmentation fault, there are two probable causes, neither\n-of which has to do with Django itself.\n-\n-1. It may be because your Python code is importing the \"pyexpat\" module,\n-   which may conflict with the version embedded in Apache. For full\n-   information, see `Expat Causing Apache Crash`_.\n-\n-2. It may be because you're running mod_python and mod_php in the same\n-   Apache instance, with MySQL as your database backend. In some cases,\n-   this causes a known mod_python issue due to version conflicts in PHP and\n-   the Python MySQL backend. There's full information in the\n-   `mod_python FAQ entry`_.\n-\n-If you continue to have problems setting up mod_python, a good thing to do is\n-get a barebones mod_python site working, without the Django framework. This is\n-an easy way to isolate mod_python-specific problems. `Getting mod_python Working`_\n-details this procedure.\n-\n-The next step should be to edit your test code and add an import of any\n-Django-specific code you're using -- your views, your models, your URLconf,\n-your RSS configuration, etc. Put these imports in your test handler function\n-and access your test URL in a browser. If this causes a crash, you've confirmed\n-it's the importing of Django code that causes the problem. Gradually reduce the\n-set of imports until it stops crashing, so as to find the specific module that\n-causes the problem. Drop down further into modules and look into their imports,\n-as necessary.\n-\n-.. _Expat Causing Apache Crash: http://www.dscpl.com.au/wiki/ModPython/Articles/ExpatCausingApacheCrash\n-.. _mod_python FAQ entry: http://modpython.org/FAQ/faqw.py?req=show&file=faq02.013.htp\n-.. _Getting mod_python Working: http://www.dscpl.com.au/wiki/ModPython/Articles/GettingModPythonWorking\n-\n-If you get a UnicodeEncodeError\n-===============================\n-\n-If you're taking advantage of the internationalization features of Django (see\n-:doc:`/topics/i18n/index`) and you intend to allow users to upload files, you must\n-ensure that the environment used to start Apache is configured to accept\n-non-ASCII file names. If your environment is not correctly configured, you\n-will trigger ``UnicodeEncodeError`` exceptions when calling functions like\n-``os.path()`` on filenames that contain non-ASCII characters.\n-\n-To avoid these problems, the environment used to start Apache should contain\n-settings analogous to the following::\n-\n-    export LANG='en_US.UTF-8'\n-    export LC_ALL='en_US.UTF-8'\n-\n-Consult the documentation for your operating system for the appropriate syntax\n-and location to put these configuration items; ``/etc/apache2/envvars`` is a\n-common location on Unix platforms. Once you have added these statements\n-to your environment, restart Apache."
        }
    ],
    "stats": {
        "total": 676,
        "additions": 0,
        "deletions": 676
    }
}