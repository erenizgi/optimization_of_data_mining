{
    "author": "freakboy3742",
    "message": "Advanced deprecations in contrib.syndication.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15976 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "24b7d9017dc4a155c4cdbaa4823b3cc46f7f57ec",
    "files": [
        {
            "sha": "f61b30a740a64124747ad6a6d77886a405a8d542",
            "filename": "django/contrib/syndication/feeds.py",
            "status": "removed",
            "additions": 0,
            "deletions": 38,
            "changes": 38,
            "blob_url": "https://github.com/django/django/blob/5d5149cd18aa846be88ebcfae5997268359f67bb/django%2Fcontrib%2Fsyndication%2Ffeeds.py",
            "raw_url": "https://github.com/django/django/raw/5d5149cd18aa846be88ebcfae5997268359f67bb/django%2Fcontrib%2Fsyndication%2Ffeeds.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Ffeeds.py?ref=5d5149cd18aa846be88ebcfae5997268359f67bb",
            "patch": "@@ -1,38 +0,0 @@\n-from django.contrib.syndication import views\n-from django.core.exceptions import ObjectDoesNotExist\n-import warnings\n-\n-# This is part of the deprecated API\n-from django.contrib.syndication.views import FeedDoesNotExist, add_domain\n-\n-class Feed(views.Feed):\n-    \"\"\"Provided for backwards compatibility.\"\"\"\n-    def __init__(self, slug, request):\n-        warnings.warn('The syndication feeds.Feed class is deprecated. Please '\n-                      'use the new class based view API.',\n-                      category=DeprecationWarning)\n-\n-        self.slug = slug\n-        self.request = request\n-        self.feed_url = getattr(self, 'feed_url', None) or request.path\n-        self.title_template = self.title_template or ('feeds/%s_title.html' % slug)\n-        self.description_template = self.description_template or ('feeds/%s_description.html' % slug)\n-\n-    def get_object(self, bits):\n-        return None\n-\n-    def get_feed(self, url=None):\n-        \"\"\"\n-        Returns a feedgenerator.DefaultFeed object, fully populated, for\n-        this feed. Raises FeedDoesNotExist for invalid parameters.\n-        \"\"\"\n-        if url:\n-            bits = url.split('/')\n-        else:\n-            bits = []\n-        try:\n-            obj = self.get_object(bits)\n-        except ObjectDoesNotExist:\n-            raise FeedDoesNotExist\n-        return super(Feed, self).get_feed(obj, self.request)\n-"
        },
        {
            "sha": "8e7c1d125c47abad4e65ad7d2bfd4a18964149e8",
            "filename": "django/contrib/syndication/views.py",
            "status": "modified",
            "additions": 0,
            "deletions": 44,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/24b7d9017dc4a155c4cdbaa4823b3cc46f7f57ec/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/24b7d9017dc4a155c4cdbaa4823b3cc46f7f57ec/django%2Fcontrib%2Fsyndication%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsyndication%2Fviews.py?ref=24b7d9017dc4a155c4cdbaa4823b3cc46f7f57ec",
            "patch": "@@ -183,47 +183,3 @@ def get_feed(self, obj, request):\n                 **self.item_extra_kwargs(item)\n             )\n         return feed\n-\n-\n-def feed(request, url, feed_dict=None):\n-    \"\"\"Provided for backwards compatibility.\"\"\"\n-    from django.contrib.syndication.feeds import Feed as LegacyFeed\n-    import warnings\n-    warnings.warn('The syndication feed() view is deprecated. Please use the '\n-                  'new class based view API.',\n-                  category=DeprecationWarning)\n-\n-    if not feed_dict:\n-        raise Http404(\"No feeds are registered.\")\n-\n-    try:\n-        slug, param = url.split('/', 1)\n-    except ValueError:\n-        slug, param = url, ''\n-\n-    try:\n-        f = feed_dict[slug]\n-    except KeyError:\n-        raise Http404(\"Slug %r isn't registered.\" % slug)\n-\n-    # Backwards compatibility within the backwards compatibility;\n-    # Feeds can be updated to be class-based, but still be deployed\n-    # using the legacy feed view. This only works if the feed takes\n-    # no arguments (i.e., get_object returns None). Refs #14176.\n-    if not issubclass(f, LegacyFeed):\n-        instance = f()\n-        instance.feed_url = getattr(f, 'feed_url', None) or request.path\n-        instance.title_template = f.title_template or ('feeds/%s_title.html' % slug)\n-        instance.description_template = f.description_template or ('feeds/%s_description.html' % slug)\n-\n-        return instance(request)\n-\n-    try:\n-        feedgen = f(slug, request).get_feed(param)\n-    except FeedDoesNotExist:\n-        raise Http404(\"Invalid feed parameters. Slug %r is valid, but other parameters, or lack thereof, are not.\" % slug)\n-\n-    response = HttpResponse(mimetype=feedgen.mime_type)\n-    feedgen.write(response, 'utf-8')\n-    return response\n-"
        }
    ],
    "stats": {
        "total": 82,
        "additions": 0,
        "deletions": 82
    }
}