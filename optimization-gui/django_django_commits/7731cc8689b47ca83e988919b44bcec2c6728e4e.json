{
    "author": "ubernostrum",
    "message": "Fix #18062: Document best practices for choices in model fields.",
    "sha": "7731cc8689b47ca83e988919b44bcec2c6728e4e",
    "files": [
        {
            "sha": "a43163c5e9b3581cea4d34eaa102ae668b9779ee",
            "filename": "docs/ref/models/fields.txt",
            "status": "modified",
            "additions": 26,
            "deletions": 25,
            "changes": 51,
            "blob_url": "https://github.com/django/django/blob/7731cc8689b47ca83e988919b44bcec2c6728e4e/docs%2Fref%2Fmodels%2Ffields.txt",
            "raw_url": "https://github.com/django/django/raw/7731cc8689b47ca83e988919b44bcec2c6728e4e/docs%2Fref%2Fmodels%2Ffields.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Ffields.txt?ref=7731cc8689b47ca83e988919b44bcec2c6728e4e",
            "patch": "@@ -86,42 +86,43 @@ field.\n If this is given, Django's admin will use a select box instead of the standard\n text field and will limit choices to the choices given.\n \n-A choices list looks like this::\n+A choices list is an iterable of 2-tuples; the first element in each\n+tuple is the actual value to be stored, and the second element is the\n+human-readable name. For example::\n \n     YEAR_IN_SCHOOL_CHOICES = (\n         ('FR', 'Freshman'),\n         ('SO', 'Sophomore'),\n         ('JR', 'Junior'),\n         ('SR', 'Senior'),\n-        ('GR', 'Graduate'),\n     )\n \n-The first element in each tuple is the actual value to be stored. The second\n-element is the human-readable name for the option.\n+Generally, it's best to define choices inside a model class, and to\n+define a suitably-named constant for each value::\n \n-The choices list can be defined either as part of your model class::\n-\n-    class Foo(models.Model):\n+    class Student(models.Model):\n+        FRESHMAN = 'FR'\n+        SOPHOMORE = 'SO'\n+        JUNIOR = 'JR'\n+        SENIOR = 'SR'\n         YEAR_IN_SCHOOL_CHOICES = (\n-            ('FR', 'Freshman'),\n-            ('SO', 'Sophomore'),\n-            ('JR', 'Junior'),\n-            ('SR', 'Senior'),\n-            ('GR', 'Graduate'),\n+            (FRESHMAN, 'Freshman'),\n+            (SOPHOMORE, 'Sophomore'),\n+            (JUNIOR, 'Junior'),\n+            (SENIOR, 'Senior'),\n         )\n-        year_in_school = models.CharField(max_length=2, choices=YEAR_IN_SCHOOL_CHOICES)\n-\n-or outside your model class altogether::\n-\n-    YEAR_IN_SCHOOL_CHOICES = (\n-        ('FR', 'Freshman'),\n-        ('SO', 'Sophomore'),\n-        ('JR', 'Junior'),\n-        ('SR', 'Senior'),\n-        ('GR', 'Graduate'),\n-    )\n-    class Foo(models.Model):\n-        year_in_school = models.CharField(max_length=2, choices=YEAR_IN_SCHOOL_CHOICES)\n+        year_in_school = models.CharField(max_length=2,\n+                                          choices=YEAR_IN_SCHOOL_CHOICES,\n+                                          default=FRESHMAN)\n+\n+        def is_upperclass(self):\n+\t    return self.year_in_school in (self.JUNIOR, self.SENIOR)\n+\n+Though you can define a choices list outside of a model class and then\n+refer to it, defining the choices and names for each choice inside the\n+model class keeps all of that information with the class that uses it,\n+and makes the choices easy to reference (e.g, ``Student.SOPHOMORE``\n+will work anywhere that the ``Student`` model has been imported).\n \n You can also collect your available choices into named groups that can\n be used for organizational purposes::"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 26,
        "deletions": 25
    }
}