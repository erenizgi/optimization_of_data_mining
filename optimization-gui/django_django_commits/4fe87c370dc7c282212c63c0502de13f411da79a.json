{
    "author": "aaugustin",
    "message": "Removed some Python < 2.6 compatibility code. Refs #17965.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17830 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4fe87c370dc7c282212c63c0502de13f411da79a",
    "files": [
        {
            "sha": "2cc8b2a92d2e12ddaf388b10523e4aaf0e8a03ae",
            "filename": "django/contrib/admin/tests.py",
            "status": "modified",
            "additions": 0,
            "deletions": 4,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Fcontrib%2Fadmin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Fcontrib%2Fadmin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftests.py?ref=4fe87c370dc7c282212c63c0502de13f411da79a",
            "patch": "@@ -1,5 +1,3 @@\n-import sys\n-\n from django.test import LiveServerTestCase\n from django.utils.importlib import import_module\n from django.utils.unittest import SkipTest\n@@ -10,8 +8,6 @@ class AdminSeleniumWebDriverTestCase(LiveServerTestCase):\n \n     @classmethod\n     def setUpClass(cls):\n-        if sys.version_info < (2, 6):\n-            raise SkipTest('Selenium Webdriver does not support Python < 2.6.')\n         try:\n             # Import and start the WebDriver class.\n             module, attr = cls.webdriver_class.rsplit('.', 1)"
        },
        {
            "sha": "9f42476ab0269193f05beaa921cefd695715ea15",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=4fe87c370dc7c282212c63c0502de13f411da79a",
            "patch": "@@ -1,4 +1,3 @@\n-import platform\n import re\n import urllib\n import urllib2\n@@ -123,10 +122,7 @@ def __call__(self, value):\n                 else:\n                     handlers.append(urllib2.HTTPSHandler())\n                 map(opener.add_handler, handlers)\n-                if platform.python_version_tuple() >= (2, 6):\n-                    opener.open(req, timeout=10)\n-                else:\n-                    opener.open(req)\n+                opener.open(req, timeout=10)\n             except ValueError:\n                 raise ValidationError(_(u'Enter a valid URL.'), code='invalid')\n             except: # urllib2.URLError, httplib.InvalidURL, etc."
        },
        {
            "sha": "d9048be98bc9f8d4cfcdd9419c1c3348ae4133ce",
            "filename": "django/test/testcases.py",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Ftest%2Ftestcases.py",
            "raw_url": "https://github.com/django/django/raw/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Ftest%2Ftestcases.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Ftestcases.py?ref=4fe87c370dc7c282212c63c0502de13f411da79a",
            "patch": "@@ -1035,12 +1035,8 @@ def run(self):\n                     self.httpd = StoppableWSGIServer(\n                         (self.host, port), QuietWSGIRequestHandler)\n                 except WSGIServerException, e:\n-                    if sys.version_info < (2, 6):\n-                        error_code = e.args[0].args[0]\n-                    else:\n-                        error_code = e.args[0].errno\n                     if (index + 1 < len(self.possible_ports) and\n-                        error_code == errno.EADDRINUSE):\n+                        e.args[0].errno == errno.EADDRINUSE):\n                         # This port is already in use, so we go on and try with\n                         # the next one in the list.\n                         continue"
        },
        {
            "sha": "dbd18d8ff0755c469ebb02009496e2c560a67811",
            "filename": "django/utils/http.py",
            "status": "modified",
            "additions": 6,
            "deletions": 17,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/4fe87c370dc7c282212c63c0502de13f411da79a/django%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhttp.py?ref=4fe87c370dc7c282212c63c0502de13f411da79a",
            "patch": "@@ -207,20 +207,9 @@ def quote_etag(etag):\n     \"\"\"\n     return '\"%s\"' % etag.replace('\\\\', '\\\\\\\\').replace('\"', '\\\\\"')\n \n-if sys.version_info >= (2, 6):\n-    def same_origin(url1, url2):\n-        \"\"\"\n-        Checks if two URLs are 'same-origin'\n-        \"\"\"\n-        p1, p2 = urlparse.urlparse(url1), urlparse.urlparse(url2)\n-        return (p1.scheme, p1.hostname, p1.port) == (p2.scheme, p2.hostname, p2.port)\n-else:\n-    # Python 2.5 compatibility. This actually works for Python 2.6 and above,\n-    # but the above definition is much more obviously correct and so is\n-    # preferred going forward.\n-    def same_origin(url1, url2):\n-        \"\"\"\n-        Checks if two URLs are 'same-origin'\n-        \"\"\"\n-        p1, p2 = urlparse.urlparse(url1), urlparse.urlparse(url2)\n-        return p1[0:2] == p2[0:2]\n+def same_origin(url1, url2):\n+    \"\"\"\n+    Checks if two URLs are 'same-origin'\n+    \"\"\"\n+    p1, p2 = urlparse.urlparse(url1), urlparse.urlparse(url2)\n+    return (p1.scheme, p1.hostname, p1.port) == (p2.scheme, p2.hostname, p2.port)"
        },
        {
            "sha": "f03a7a8eace47f1aaf840a462424d4d7793f8524",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4fe87c370dc7c282212c63c0502de13f411da79a/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4fe87c370dc7c282212c63c0502de13f411da79a/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=4fe87c370dc7c282212c63c0502de13f411da79a",
            "patch": "@@ -2,7 +2,6 @@\n import errno\n import os\n import shutil\n-import sys\n import tempfile\n import time\n from datetime import datetime, timedelta\n@@ -470,12 +469,7 @@ def test_first_character_dot(self):\n         self.storage.save('dotted.path/.test', ContentFile(\"2\"))\n \n         self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/.test')))\n-        # Before 2.6, a leading dot was treated as an extension, and so\n-        # underscore gets added to beginning instead of end.\n-        if sys.version_info < (2, 6):\n-            self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/_1.test')))\n-        else:\n-            self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/.test_1')))\n+        self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/.test_1')))\n \n class DimensionClosingBug(unittest.TestCase):\n     \"\"\""
        }
    ],
    "stats": {
        "total": 47,
        "additions": 9,
        "deletions": 38
    }
}