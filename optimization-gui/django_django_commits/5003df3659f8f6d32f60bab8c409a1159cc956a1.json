{
    "author": "ramiro",
    "message": "Tweaked changes from r17228 to cater for older simplejson versions.\n\ndump() started accepting the `use_decimal` argument in 2.1.3.\n\nRefs #16850.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17229 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "5003df3659f8f6d32f60bab8c409a1159cc956a1",
    "files": [
        {
            "sha": "7b570f36d8c5d570db53dd93266558e9dcc5b0db",
            "filename": "django/core/serializers/json.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/5003df3659f8f6d32f60bab8c409a1159cc956a1/django%2Fcore%2Fserializers%2Fjson.py",
            "raw_url": "https://github.com/django/django/raw/5003df3659f8f6d32f60bab8c409a1159cc956a1/django%2Fcore%2Fserializers%2Fjson.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2Fjson.py?ref=5003df3659f8f6d32f60bab8c409a1159cc956a1",
            "patch": "@@ -18,7 +18,9 @@ class Serializer(PythonSerializer):\n     internal_use_only = False\n \n     def end_serialization(self):\n-        self.options.update({'use_decimal': False}) # Use JS strings to represent Python Decimal instances (ticket #16850)\n+        if simplejson.__version__.split('.') >= ['2', '1', '3']:\n+            # Use JS strings to represent Python Decimal instances (ticket #16850)\n+            self.options.update({'use_decimal': False})\n         simplejson.dump(self.objects, self.stream, cls=DjangoJSONEncoder, **self.options)\n \n     def getvalue(self):"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}