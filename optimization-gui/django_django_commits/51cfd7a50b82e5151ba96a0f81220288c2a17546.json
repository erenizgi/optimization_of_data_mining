{
    "author": "jezdez",
    "message": "Fixed #11531 -- Removed unused dateparse.js from admin JavaScript directory.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16068 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "51cfd7a50b82e5151ba96a0f81220288c2a17546",
    "files": [
        {
            "sha": "3cb82dea13524c97d53e60d1e5ab31108c522d02",
            "filename": "django/contrib/admin/media/js/dateparse.js",
            "status": "removed",
            "additions": 0,
            "deletions": 239,
            "changes": 239,
            "blob_url": "https://github.com/django/django/blob/a845eba8dded42a58d5b42bcb087b3f4bc65a26e/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fdateparse.js",
            "raw_url": "https://github.com/django/django/raw/a845eba8dded42a58d5b42bcb087b3f4bc65a26e/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fdateparse.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmedia%2Fjs%2Fdateparse.js?ref=a845eba8dded42a58d5b42bcb087b3f4bc65a26e",
            "patch": "@@ -1,239 +0,0 @@\n-/* 'Magic' date parsing, by Simon Willison (6th October 2003)\n-   http://simon.incutio.com/archive/2003/10/06/betterDateInput\n-   Adapted for 6newslawrence.com, 28th January 2004\n-*/\n-\n-/* Finds the index of the first occurence of item in the array, or -1 if not found */\n-if (typeof Array.prototype.indexOf == 'undefined') {\n-    Array.prototype.indexOf = function(item) {\n-        var len = this.length;\n-        for (var i = 0; i < len; i++) {\n-            if (this[i] == item) {\n-                return i;\n-            }\n-        }\n-        return -1;\n-    };\n-}\n-/* Returns an array of items judged 'true' by the passed in test function */\n-if (typeof Array.prototype.filter == 'undefined') {\n-    Array.prototype.filter = function(test) {\n-        var matches = [];\n-        var len = this.length;\n-        for (var i = 0; i < len; i++) {\n-            if (test(this[i])) {\n-                matches[matches.length] = this[i];\n-            }\n-        }\n-        return matches;\n-    };\n-}\n-\n-var monthNames = gettext(\"January February March April May June July August September October November December\").split(\" \");\n-var weekdayNames = gettext(\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\").split(\" \");\n-\n-/* Takes a string, returns the index of the month matching that string, throws\n-   an error if 0 or more than 1 matches\n-*/\n-function parseMonth(month) {\n-    var matches = monthNames.filter(function(item) { \n-        return new RegExp(\"^\" + month, \"i\").test(item);\n-    });\n-    if (matches.length == 0) {\n-        throw new Error(\"Invalid month string\");\n-    }\n-    if (matches.length > 1) {\n-        throw new Error(\"Ambiguous month\");\n-    }\n-    return monthNames.indexOf(matches[0]);\n-}\n-/* Same as parseMonth but for days of the week */\n-function parseWeekday(weekday) {\n-    var matches = weekdayNames.filter(function(item) {\n-        return new RegExp(\"^\" + weekday, \"i\").test(item);\n-    });\n-    if (matches.length == 0) {\n-        throw new Error(\"Invalid day string\");\n-    }\n-    if (matches.length > 1) {\n-        throw new Error(\"Ambiguous weekday\");\n-    }\n-    return weekdayNames.indexOf(matches[0]);\n-}\n-\n-/* Array of objects, each has 're', a regular expression and 'handler', a \n-   function for creating a date from something that matches the regular \n-   expression. Handlers may throw errors if string is unparseable. \n-*/\n-var dateParsePatterns = [\n-    // Today\n-    {   re: /^tod/i,\n-        handler: function() { \n-            return new Date();\n-        } \n-    },\n-    // Tomorrow\n-    {   re: /^tom/i,\n-        handler: function() {\n-            var d = new Date(); \n-            d.setDate(d.getDate() + 1); \n-            return d;\n-        }\n-    },\n-    // Yesterday\n-    {   re: /^yes/i,\n-        handler: function() {\n-            var d = new Date();\n-            d.setDate(d.getDate() - 1);\n-            return d;\n-        }\n-    },\n-    // 4th\n-    {   re: /^(\\d{1,2})(st|nd|rd|th)?$/i, \n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(parseInt(bits[1], 10));\n-            return d;\n-        }\n-    },\n-    // 4th Jan\n-    {   re: /^(\\d{1,2})(?:st|nd|rd|th)? (\\w+)$/i, \n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setMonth(parseMonth(bits[2]));\n-            d.setDate(parseInt(bits[1], 10));\n-            return d;\n-        }\n-    },\n-    // 4th Jan 2003\n-    {   re: /^(\\d{1,2})(?:st|nd|rd|th)? (\\w+),? (\\d{4})$/i,\n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setYear(bits[3]);\n-            d.setMonth(parseMonth(bits[2]));\n-            d.setDate(parseInt(bits[1], 10));\n-            return d;\n-        }\n-    },\n-    // Jan 4th\n-    {   re: /^(\\w+) (\\d{1,2})(?:st|nd|rd|th)?$/i, \n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setMonth(parseMonth(bits[1]));\n-            d.setDate(parseInt(bits[2], 10));\n-            return d;\n-        }\n-    },\n-    // Jan 4th 2003\n-    {   re: /^(\\w+) (\\d{1,2})(?:st|nd|rd|th)?,? (\\d{4})$/i,\n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setYear(bits[3]);\n-            d.setMonth(parseMonth(bits[1]));\n-            d.setDate(parseInt(bits[2], 10));\n-            return d;\n-        }\n-    },\n-    // next Tuesday - this is suspect due to weird meaning of \"next\"\n-    {   re: /^next (\\w+)$/i,\n-        handler: function(bits) {\n-            var d = new Date();\n-            var day = d.getDay();\n-            var newDay = parseWeekday(bits[1]);\n-            var addDays = newDay - day;\n-            if (newDay <= day) {\n-                addDays += 7;\n-            }\n-            d.setDate(d.getDate() + addDays);\n-            return d;\n-        }\n-    },\n-    // last Tuesday\n-    {   re: /^last (\\w+)$/i,\n-        handler: function(bits) {\n-            throw new Error(\"Not yet implemented\");\n-        }\n-    },\n-    // mm/dd/yyyy (American style)\n-    {   re: /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/,\n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setYear(bits[3]);\n-            d.setMonth(parseInt(bits[1], 10) - 1); // Because months indexed from 0\n-            d.setDate(parseInt(bits[2], 10));\n-            return d;\n-        }\n-    },\n-    // yyyy-mm-dd (ISO style)\n-    {   re: /(\\d{4})-(\\d{1,2})-(\\d{1,2})/,\n-        handler: function(bits) {\n-            var d = new Date();\n-            d.setDate(1);\n-            d.setYear(parseInt(bits[1]));\n-            d.setMonth(parseInt(bits[2], 10) - 1);\n-            d.setDate(parseInt(bits[3], 10));\n-            return d;\n-        }\n-    },\n-];\n-\n-function parseDateString(s) {\n-    for (var i = 0; i < dateParsePatterns.length; i++) {\n-        var re = dateParsePatterns[i].re;\n-        var handler = dateParsePatterns[i].handler;\n-        var bits = re.exec(s);\n-        if (bits) {\n-            return handler(bits);\n-        }\n-    }\n-    throw new Error(\"Invalid date string\");\n-}\n-\n-function fmt00(x) {\n-    // fmt00: Tags leading zero onto numbers 0 - 9.\n-    // Particularly useful for displaying results from Date methods.\n-    //\n-    if (Math.abs(parseInt(x)) < 10){\n-        x = \"0\"+ Math.abs(x);\n-    }\n-    return x;\n-}\n-\n-function parseDateStringISO(s) {\n-    try {\n-        var d = parseDateString(s);\n-        return d.getFullYear() + '-' + (fmt00(d.getMonth() + 1)) + '-' + fmt00(d.getDate())\n-    }\n-    catch (e) { return s; }\n-}\n-function magicDate(input) {\n-    var messagespan = input.id + 'Msg';\n-    try {\n-        var d = parseDateString(input.value);\n-        input.value = d.getFullYear() + '-' + (fmt00(d.getMonth() + 1)) + '-' + \n-            fmt00(d.getDate());\n-        input.className = '';\n-        // Human readable date\n-        if (document.getElementById(messagespan)) {\n-            document.getElementById(messagespan).firstChild.nodeValue = d.toDateString();\n-            document.getElementById(messagespan).className = 'normal';\n-        }\n-    }\n-    catch (e) {\n-        input.className = 'error';\n-        var message = e.message;\n-        // Fix for IE6 bug\n-        if (message.indexOf('is null or not an object') > -1) {\n-            message = 'Invalid date string';\n-        }\n-        if (document.getElementById(messagespan)) {\n-            document.getElementById(messagespan).firstChild.nodeValue = message;\n-            document.getElementById(messagespan).className = 'error';\n-        }\n-    }\n-}"
        }
    ],
    "stats": {
        "total": 239,
        "additions": 0,
        "deletions": 239
    }
}