{
    "author": "adrianholovaty",
    "message": "Made a tiny performance improvement in the template system's Parser.parse() -- don't look up the global variables TOKEN_TEXT, etc.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17400 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d6d4d60109af87889e57ee263f64d2f7955890c3",
    "files": [
        {
            "sha": "e2fc66be012ca0ade2353baec1d797e575211e3c",
            "filename": "django/template/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d6d4d60109af87889e57ee263f64d2f7955890c3/django%2Ftemplate%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d6d4d60109af87889e57ee263f64d2f7955890c3/django%2Ftemplate%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fbase.py?ref=d6d4d60109af87889e57ee263f64d2f7955890c3",
            "patch": "@@ -237,15 +237,16 @@ def parse(self, parse_until=None):\n         nodelist = self.create_nodelist()\n         while self.tokens:\n             token = self.next_token()\n-            if token.token_type == TOKEN_TEXT:\n+            # Use the raw values here for TOKEN_* for a tiny performance boost.\n+            if token.token_type == 0: # TOKEN_TEXT\n                 self.extend_nodelist(nodelist, TextNode(token.contents), token)\n-            elif token.token_type == TOKEN_VAR:\n+            elif token.token_type == 1: # TOKEN_VAR\n                 if not token.contents:\n                     self.empty_variable(token)\n                 filter_expression = self.compile_filter(token.contents)\n                 var_node = self.create_variable_node(filter_expression)\n                 self.extend_nodelist(nodelist, var_node, token)\n-            elif token.token_type == TOKEN_BLOCK:\n+            elif token.token_type == 2: # TOKEN_BLOCK\n                 try:\n                     command = token.contents.split()[0]\n                 except IndexError:"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}