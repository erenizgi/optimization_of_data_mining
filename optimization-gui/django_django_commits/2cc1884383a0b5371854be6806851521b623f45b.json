{
    "author": "timgraham",
    "message": "Fixed #19246 - Updated SECURE_PROXY_SSL_HEADER example to use 'X-Forwarded-Proto'\n\nThanks Fred Palmer for the report.",
    "sha": "2cc1884383a0b5371854be6806851521b623f45b",
    "files": [
        {
            "sha": "5544c99dd1f98db4a56783d775ec5dce4f1846cc",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/2cc1884383a0b5371854be6806851521b623f45b/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/2cc1884383a0b5371854be6806851521b623f45b/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=2cc1884383a0b5371854be6806851521b623f45b",
            "patch": "@@ -1560,9 +1560,9 @@ for.\n You'll need to set a tuple with two elements -- the name of the header to look\n for and the required value. For example::\n \n-    SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTOCOL', 'https')\n+    SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')\n \n-Here, we're telling Django that we trust the ``X-Forwarded-Protocol`` header\n+Here, we're telling Django that we trust the ``X-Forwarded-Proto`` header\n that comes from our proxy, and any time its value is ``'https'``, then the\n request is guaranteed to be secure (i.e., it originally came in via HTTPS).\n Obviously, you should *only* set this setting if you control your proxy or\n@@ -1575,16 +1575,18 @@ available in ``request.META``.)\n \n .. warning::\n \n-    **You will probably open security holes in your site if you set this without knowing what you're doing. And if you fail to set it when you should. Seriously.**\n+    **You will probably open security holes in your site if you set this\n+    without knowing what you're doing. And if you fail to set it when you\n+    should. Seriously.**\n \n     Make sure ALL of the following are true before setting this (assuming the\n     values from the example above):\n \n     * Your Django app is behind a proxy.\n-    * Your proxy strips the 'X-Forwarded-Protocol' header from all incoming\n+    * Your proxy strips the ``X-Forwarded-Proto`` header from all incoming\n       requests. In other words, if end users include that header in their\n       requests, the proxy will discard it.\n-    * Your proxy sets the 'X-Forwarded-Protocol' header and sends it to Django,\n+    * Your proxy sets the ``X-Forwarded-Proto`` header and sends it to Django,\n       but only for requests that originally come in via HTTPS.\n \n     If any of those are not true, you should keep this setting set to ``None``"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 7,
        "deletions": 5
    }
}