{
    "author": "timgraham",
    "message": "Fixed #15906 - Documented HEAD method in CBVs; thanks zsiciarz for the patch.",
    "sha": "518c58296667ffc36f90b873eb97aa99fa00eb1e",
    "files": [
        {
            "sha": "cc9aa852f156e386b8a21d0de88c10a246c3abb8",
            "filename": "docs/ref/class-based-views/base.txt",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/518c58296667ffc36f90b873eb97aa99fa00eb1e/docs%2Fref%2Fclass-based-views%2Fbase.txt",
            "raw_url": "https://github.com/django/django/raw/518c58296667ffc36f90b873eb97aa99fa00eb1e/docs%2Fref%2Fclass-based-views%2Fbase.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fbase.txt?ref=518c58296667ffc36f90b873eb97aa99fa00eb1e",
            "patch": "@@ -71,6 +71,11 @@ View\n         delegated to :meth:`~View.get()`, a ``POST`` to :meth:`~View.post()`,\n         and so on.\n \n+        By default, a ``HEAD`` request will be delegated to :meth:`~View.get()`.\n+        If you need to handle ``HEAD`` requests in a different way than ``GET``,\n+        you can override the :meth:`~View.head()` method. See\n+        :ref:`supporting-other-http-methods` for an example.\n+\n         The default implementation also sets ``request``, ``args`` and\n         ``kwargs`` as instance variables, so any method on the view can know\n         the full details of the request that was made to invoke the view."
        },
        {
            "sha": "2d3e00ab4cd74361364289cfea2ba50171ad3f84",
            "filename": "docs/topics/class-based-views/index.txt",
            "status": "modified",
            "additions": 44,
            "deletions": 0,
            "changes": 44,
            "blob_url": "https://github.com/django/django/blob/518c58296667ffc36f90b873eb97aa99fa00eb1e/docs%2Ftopics%2Fclass-based-views%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/518c58296667ffc36f90b873eb97aa99fa00eb1e/docs%2Ftopics%2Fclass-based-views%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fclass-based-views%2Findex.txt?ref=518c58296667ffc36f90b873eb97aa99fa00eb1e",
            "patch": "@@ -84,6 +84,50 @@ function-like entry to class-based views::\n For more information on how to use the built in generic views, consult the next\n topic on :doc:`generic class based views</topics/class-based-views/generic-display>`.\n \n+.. _supporting-other-http-methods:\n+\n+Supporting other HTTP methods\n+-----------------------------\n+\n+Suppose somebody wants to access our book library over HTTP using the views\n+as an API. The API client would connect every now and then and download book\n+data for the books published since last visit. But if no new books appeared\n+since then, it is a waste of CPU time and bandwidth to fetch the books from the\n+database, render a full response and send it to the client. It might be\n+preferable to ask the API when the most recent book was published.\n+\n+We map the URL to book list view in the URLconf::\n+\n+    from django.conf.urls import patterns\n+    from books.views import BookListView\n+\n+    urlpatterns = patterns('',\n+        (r'^books/$', BookListView.as_view()),\n+    )\n+\n+And the view::\n+\n+    from django.http import HttpResponse\n+    from django.views.generic import ListView\n+    from books.models import Book\n+\n+    class BookListView(ListView):\n+        model = Book\n+\n+        def head(self, *args, **kwargs):\n+            last_book = self.get_queryset().latest('publication_date')\n+            response = HttpResponse('')\n+            # RFC 1123 date format\n+            response['Last-Modified'] = last_book.publication_date.strftime('%a, %d %b %Y %H:%M:%S GMT')\n+            return response\n+\n+If the view is accessed from a ``GET`` request, a plain-and-simple object\n+list is returned in the response (using ``book_list.html`` template). But if\n+the client issues a ``HEAD`` request, the response has an empty body and\n+the ``Last-Modified`` header indicates when the most recent book was published.\n+Based on this information, the client may or may not download the full object\n+list.\n+\n Decorating class-based views\n ============================\n "
        }
    ],
    "stats": {
        "total": 49,
        "additions": 49,
        "deletions": 0
    }
}