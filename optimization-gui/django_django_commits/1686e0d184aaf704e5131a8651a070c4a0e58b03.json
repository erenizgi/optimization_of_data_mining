{
    "author": "claudep",
    "message": "Fixed #18460 -- Fixed change detection of ReadOnlyPasswordHashField\n\nThanks jose.sanchez et ezeep.com for the report and Vladimir Ulupov\nfor the initial patch.",
    "sha": "1686e0d184aaf704e5131a8651a070c4a0e58b03",
    "files": [
        {
            "sha": "ee4fb482ce38e8c4a288aac59be55b3c62e1430a",
            "filename": "django/contrib/auth/forms.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/1686e0d184aaf704e5131a8651a070c4a0e58b03/django%2Fcontrib%2Fauth%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/1686e0d184aaf704e5131a8651a070c4a0e58b03/django%2Fcontrib%2Fauth%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fforms.py?ref=1686e0d184aaf704e5131a8651a070c4a0e58b03",
            "patch": "@@ -57,6 +57,9 @@ def bound_data(self, data, initial):\n         # render an input field.\n         return initial\n \n+    def _has_changed(self, initial, data):\n+        return False\n+\n \n class UserCreationForm(forms.ModelForm):\n     \"\"\""
        },
        {
            "sha": "0c0973d5430f2ac1efeefa89a80c25f0e2031b95",
            "filename": "django/contrib/auth/tests/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/1686e0d184aaf704e5131a8651a070c4a0e58b03/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/1686e0d184aaf704e5131a8651a070c4a0e58b03/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py?ref=1686e0d184aaf704e5131a8651a070c4a0e58b03",
            "patch": "@@ -4,7 +4,7 @@\n from django.contrib.auth.models import User\n from django.contrib.auth.forms import (UserCreationForm, AuthenticationForm,\n     PasswordChangeForm, SetPasswordForm, UserChangeForm, PasswordResetForm,\n-    ReadOnlyPasswordHashWidget)\n+    ReadOnlyPasswordHashField, ReadOnlyPasswordHashWidget)\n from django.contrib.auth.tests.utils import skipIfCustomUser\n from django.core import mail\n from django.forms.fields import Field, EmailField, CharField\n@@ -384,11 +384,15 @@ def test_unusable_password(self):\n                          [_(\"The user account associated with this email address cannot reset the password.\")])\n \n \n-class ReadOnlyPasswordHashWidgetTest(TestCase):\n+class ReadOnlyPasswordHashTest(TestCase):\n \n     def test_bug_19349_render_with_none_value(self):\n         # Rendering the widget with value set to None\n         # mustn't raise an exception.\n         widget = ReadOnlyPasswordHashWidget()\n         html = widget.render(name='password', value=None, attrs={})\n         self.assertIn(_(\"No password set.\"), html)\n+\n+    def test_readonly_field_has_changed(self):\n+        field = ReadOnlyPasswordHashField()\n+        self.assertFalse(field._has_changed('aaa', 'bbb'))"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 9,
        "deletions": 2
    }
}