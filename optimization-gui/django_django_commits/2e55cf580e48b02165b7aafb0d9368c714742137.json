{
    "author": "claudep",
    "message": "Adapted test assertion against yaml dump\n\nFixes #12914 (again).",
    "sha": "2e55cf580e48b02165b7aafb0d9368c714742137",
    "files": [
        {
            "sha": "29a490e3fbe18ac1acc31d0833fe11e96e4763b0",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/2e55cf580e48b02165b7aafb0d9368c714742137/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2e55cf580e48b02165b7aafb0d9368c714742137/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=2e55cf580e48b02165b7aafb0d9368c714742137",
            "patch": "@@ -2,6 +2,7 @@\n \n import datetime\n import os\n+import re\n import sys\n import time\n import warnings\n@@ -504,7 +505,9 @@ def assert_xml_contains_datetime(self, xml, dt):\n         self.assertXMLEqual(field.childNodes[0].wholeText, dt)\n \n     def assert_yaml_contains_datetime(self, yaml, dt):\n-        self.assertIn(\"- fields: {dt: !!timestamp '%s'}\" % dt, yaml)\n+        # Depending on the yaml dumper, '!timestamp' might be absent\n+        self.assertRegexpMatches(yaml,\n+            r\"- fields: {dt: !(!timestamp)? '%s'}\" % re.escape(dt))\n \n     def test_naive_datetime(self):\n         dt = datetime.datetime(2011, 9, 1, 13, 20, 30)"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 4,
        "deletions": 1
    }
}