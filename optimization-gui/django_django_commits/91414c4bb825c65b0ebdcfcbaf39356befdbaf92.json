{
    "author": "alex",
    "message": "Fixed #13206 -- call super().__init__() in Model.__init__ to allow mixins to do things there.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15317 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "91414c4bb825c65b0ebdcfcbaf39356befdbaf92",
    "files": [
        {
            "sha": "4000379c3e9bcddb62c89750ab01e35900023271",
            "filename": "django/db/models/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/django%2Fdb%2Fmodels%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/django%2Fdb%2Fmodels%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fbase.py?ref=91414c4bb825c65b0ebdcfcbaf39356befdbaf92",
            "patch": "@@ -1,6 +1,7 @@\n import types\n import sys\n from itertools import izip\n+\n import django.db.models.manager     # Imported to register signal handler.\n from django.core.exceptions import ObjectDoesNotExist, MultipleObjectsReturned, FieldError, ValidationError, NON_FIELD_ERRORS\n from django.core import validators\n@@ -361,6 +362,7 @@ def __init__(self, *args, **kwargs):\n                     pass\n             if kwargs:\n                 raise TypeError(\"'%s' is an invalid keyword argument for this function\" % kwargs.keys()[0])\n+        super(Model, self).__init__()\n         signals.post_init.send(sender=self.__class__, instance=self)\n \n     def __repr__(self):"
        },
        {
            "sha": "a0fed8a5ccd0cd85df533850bc1a35d2ff047074",
            "filename": "tests/modeltests/model_inheritance/models.py",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py?ref=91414c4bb825c65b0ebdcfcbaf39356befdbaf92",
            "patch": "@@ -143,3 +143,11 @@ class Copy(NamedURL):\n \n     def __unicode__(self):\n         return self.content\n+\n+class Mixin(object):\n+    def __init__(self):\n+        self.other_attr = 1\n+        super(Mixin, self).__init__()\n+\n+class MixinModel(models.Model, Mixin):\n+    pass"
        },
        {
            "sha": "334297ae12666e6d318e0921a69f87c4be11c4ca",
            "filename": "tests/modeltests/model_inheritance/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/tests%2Fmodeltests%2Fmodel_inheritance%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/91414c4bb825c65b0ebdcfcbaf39356befdbaf92/tests%2Fmodeltests%2Fmodel_inheritance%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_inheritance%2Ftests.py?ref=91414c4bb825c65b0ebdcfcbaf39356befdbaf92",
            "patch": "@@ -4,7 +4,7 @@\n from django.test import TestCase\n \n from models import (Chef, CommonInfo, ItalianRestaurant, ParkingLot, Place,\n-    Post, Restaurant, Student, StudentWorker, Supplier, Worker)\n+    Post, Restaurant, Student, StudentWorker, Supplier, Worker, MixinModel)\n \n \n class ModelInheritanceTests(TestCase):\n@@ -269,3 +269,7 @@ def test_multiple_table(self):\n         self.assertNumQueries(1,\n             lambda: ItalianRestaurant.objects.select_related(\"chef\")[0].chef\n         )\n+\n+    def test_mixin_init(self):\n+        m = MixinModel()\n+        self.assertEqual(m.other_attr, 1)"
        }
    ],
    "stats": {
        "total": 16,
        "additions": 15,
        "deletions": 1
    }
}