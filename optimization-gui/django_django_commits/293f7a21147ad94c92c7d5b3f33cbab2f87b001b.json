{
    "author": "jphalip",
    "message": "Fixed #17797 -- Enabled support for PATCH requests in the dummy test client. Thanks to pfarmer for the suggestion and initial patch.",
    "sha": "293f7a21147ad94c92c7d5b3f33cbab2f87b001b",
    "files": [
        {
            "sha": "bb0f25e108c81caebbe4496e5381946b3cb6af1a",
            "filename": "django/test/client.py",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/django%2Ftest%2Fclient.py",
            "raw_url": "https://github.com/django/django/raw/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/django%2Ftest%2Fclient.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fclient.py?ref=293f7a21147ad94c92c7d5b3f33cbab2f87b001b",
            "patch": "@@ -319,6 +319,11 @@ def put(self, path, data='', content_type='application/octet-stream',\n         \"Construct a PUT request.\"\n         return self.generic('PUT', path, data, content_type, **extra)\n \n+    def patch(self, path, data='', content_type='application/octet-stream',\n+            **extra):\n+        \"Construct a PATCH request.\"\n+        return self.generic('PATCH', path, data, content_type, **extra)\n+\n     def delete(self, path, data='', content_type='application/octet-stream',\n             **extra):\n         \"Construct a DELETE request.\"\n@@ -496,6 +501,17 @@ def put(self, path, data='', content_type='application/octet-stream',\n             response = self._handle_redirects(response, **extra)\n         return response\n \n+    def patch(self, path, data='', content_type='application/octet-stream',\n+            follow=False, **extra):\n+        \"\"\"\n+        Send a resource to the server using PATCH.\n+        \"\"\"\n+        response = super(Client, self).patch(\n+            path, data=data, content_type=content_type, **extra)\n+        if follow:\n+            response = self._handle_redirects(response, **extra)\n+        return response\n+\n     def delete(self, path, data='', content_type='application/octet-stream',\n             follow=False, **extra):\n         \"\"\""
        },
        {
            "sha": "3b2babd302774695f50dec7ac986007bbf376dc3",
            "filename": "docs/topics/testing/overview.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/docs%2Ftopics%2Ftesting%2Foverview.txt",
            "raw_url": "https://github.com/django/django/raw/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/docs%2Ftopics%2Ftesting%2Foverview.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Ftesting%2Foverview.txt?ref=293f7a21147ad94c92c7d5b3f33cbab2f87b001b",
            "patch": "@@ -633,6 +633,14 @@ Use the ``django.test.client.Client`` class to make requests.\n         The ``follow`` and ``extra`` arguments act the same as for\n         :meth:`Client.get`.\n \n+    .. method:: Client.patch(path, data='', content_type='application/octet-stream', follow=False, **extra)\n+\n+        Makes a PATCH request on the provided ``path`` and returns a\n+        ``Response`` object. Useful for testing RESTful interfaces.\n+\n+        The ``follow`` and ``extra`` arguments act the same as for\n+        :meth:`Client.get`.\n+\n     .. method:: Client.delete(path, data='', content_type='application/octet-stream', follow=False, **extra)\n \n         Makes an DELETE request on the provided ``path`` and returns a"
        },
        {
            "sha": "c52715239b406de46fb76fe973c365585e77ed5d",
            "filename": "tests/regressiontests/test_client_regress/tests.py",
            "status": "modified",
            "additions": 15,
            "deletions": 0,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/tests%2Fregressiontests%2Ftest_client_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/293f7a21147ad94c92c7d5b3f33cbab2f87b001b/tests%2Fregressiontests%2Ftest_client_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftest_client_regress%2Ftests.py?ref=293f7a21147ad94c92c7d5b3f33cbab2f87b001b",
            "patch": "@@ -783,6 +783,13 @@ def test_delete(self):\n         self.assertEqual(response.status_code, 200)\n         self.assertEqual(response.content, b'request method: DELETE')\n \n+    def test_patch(self):\n+        \"Request a view via request method PATCH\"\n+        response = self.client.patch('/test_client_regress/request_methods/')\n+        self.assertEqual(response.status_code, 200)\n+        self.assertEqual(response.content, b'request method: PATCH')\n+\n+\n class RequestMethodStringDataTests(TestCase):\n     def test_post(self):\n         \"Request a view with string data via request method POST\"\n@@ -800,6 +807,14 @@ def test_put(self):\n         self.assertEqual(response.status_code, 200)\n         self.assertEqual(response.content, b'request method: PUT')\n \n+    def test_patch(self):\n+        \"Request a view with string data via request method PATCH\"\n+        # Regression test for #17797\n+        data = u'{\"test\": \"json\"}'\n+        response = self.client.patch('/test_client_regress/request_methods/', data=data, content_type='application/json')\n+        self.assertEqual(response.status_code, 200)\n+        self.assertEqual(response.content, b'request method: PATCH')\n+\n class QueryStringTests(TestCase):\n     def test_get_like_requests(self):\n         # See: https://code.djangoproject.com/ticket/10571."
        }
    ],
    "stats": {
        "total": 39,
        "additions": 39,
        "deletions": 0
    }
}