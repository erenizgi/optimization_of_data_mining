{
    "author": "clelland",
    "message": "Properly support pickling of LazyObjects in Python 3.3",
    "sha": "3266c26eb22599a5577d41856baa04e99f87efe4",
    "files": [
        {
            "sha": "505931e158b1817cc96a47886af38d3211977b7e",
            "filename": "django/utils/functional.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/3266c26eb22599a5577d41856baa04e99f87efe4/django%2Futils%2Ffunctional.py",
            "raw_url": "https://github.com/django/django/raw/3266c26eb22599a5577d41856baa04e99f87efe4/django%2Futils%2Ffunctional.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffunctional.py?ref=3266c26eb22599a5577d41856baa04e99f87efe4",
            "patch": "@@ -293,6 +293,16 @@ def __getstate__(self):\n             self._setup()\n         return self._wrapped.__dict__\n \n+    # Python 3.3 will call __reduce__ when pickling; these methods are needed\n+    # to serialize and deserialize correctly. They are not called in earlier\n+    # versions of Python.\n+    @classmethod\n+    def __newobj__(cls, *args):\n+        return cls.__new__(cls, *args)\n+\n+    def __reduce__(self):\n+        return (self.__newobj__, (self.__class__,), self.__getstate__())\n+\n     # Need to pretend to be the wrapped class, for the sake of objects that care\n     # about this (especially in equality tests)\n     __class__ = property(new_method_proxy(operator.attrgetter(\"__class__\")))"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 10,
        "deletions": 0
    }
}