{
    "author": "aaugustin",
    "message": "Fixed two bugs in 59a35208.\n\n* StandardError doesn't exist any more under Python 3.\n* Python 2.6 still allows `raise \"foo\"`.",
    "sha": "1b100d7beed757246df1da8417590a6f2aabc2bc",
    "files": [
        {
            "sha": "0c98cc23fd26f58483e74ead2b78766ddb41a651",
            "filename": "django/db/utils.py",
            "status": "modified",
            "additions": 7,
            "deletions": 2,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/1b100d7beed757246df1da8417590a6f2aabc2bc/django%2Fdb%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/1b100d7beed757246df1da8417590a6f2aabc2bc/django%2Fdb%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Futils.py?ref=1b100d7beed757246df1da8417590a6f2aabc2bc",
            "patch": "@@ -14,7 +14,7 @@\n DEFAULT_DB_ALIAS = 'default'\n \n \n-class Error(StandardError):\n+class Error(Exception if six.PY3 else StandardError):\n     pass\n \n \n@@ -81,7 +81,12 @@ def __exit__(self, exc_type, exc_value, traceback):\n             ):\n             db_exc_type = getattr(self.database, dj_exc_type.__name__)\n             if issubclass(exc_type, db_exc_type):\n-                dj_exc_value = dj_exc_type(*tuple(exc_value.args))\n+                # Under Python 2.6, exc_value can still be a string.\n+                try:\n+                    args = tuple(exc_value.args)\n+                except AttributeError:\n+                    args = (exc_value,)\n+                dj_exc_value = dj_exc_type(*args)\n                 if six.PY3:\n                     dj_exc_value.__cause__ = exc_value\n                 six.reraise(dj_exc_type, dj_exc_value, traceback)"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 7,
        "deletions": 2
    }
}