{
    "author": "claudep",
    "message": "Fixed #12140 -- Fixed http.urlencode result for empty lists\n\nThanks aneil for the report and the initial patch.",
    "sha": "fe873e276527534b3c0c22f457ee314cf029ced4",
    "files": [
        {
            "sha": "87db2844163462b5bf84bb5e212f0c43f7fe4926",
            "filename": "django/utils/http.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/fe873e276527534b3c0c22f457ee314cf029ced4/django%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/fe873e276527534b3c0c22f457ee314cf029ced4/django%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhttp.py?ref=fe873e276527534b3c0c22f457ee314cf029ced4",
            "patch": "@@ -71,7 +71,7 @@ def urlencode(query, doseq=0):\n         query = query.items()\n     return urllib.urlencode(\n         [(smart_str(k),\n-         isinstance(v, (list,tuple)) and [smart_str(i) for i in v] or smart_str(v))\n+         [smart_str(i) for i in v] if isinstance(v, (list,tuple)) else smart_str(v))\n             for k, v in query],\n         doseq)\n "
        },
        {
            "sha": "67dcd7af89ecdaac0bc71be7af4db370a8d112dc",
            "filename": "tests/regressiontests/utils/http.py",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/fe873e276527534b3c0c22f457ee314cf029ced4/tests%2Fregressiontests%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/fe873e276527534b3c0c22f457ee314cf029ced4/tests%2Fregressiontests%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fhttp.py?ref=fe873e276527534b3c0c22f457ee314cf029ced4",
            "patch": "@@ -31,6 +31,7 @@ def test_urlencode(self):\n         # 2-tuples (the norm)\n         result = http.urlencode((('a', 1), ('b', 2), ('c', 3)))\n         self.assertEqual(result, 'a=1&b=2&c=3')\n+\n         # A dictionary\n         result = http.urlencode({ 'a': 1, 'b': 2, 'c': 3})\n         acceptable_results = [\n@@ -44,6 +45,13 @@ def test_urlencode(self):\n             'c=3&b=2&a=1'\n         ]\n         self.assertTrue(result in acceptable_results)\n+        result = http.urlencode({'a': [1, 2]}, doseq=False)\n+        self.assertEqual(result, 'a=%5B%271%27%2C+%272%27%5D')\n+        result = http.urlencode({'a': [1, 2]}, doseq=True)\n+        self.assertEqual(result, 'a=1&a=2')\n+        result = http.urlencode({'a': []}, doseq=True)\n+        self.assertEqual(result, '')\n+\n         # A MultiValueDict\n         result = http.urlencode(MultiValueDict({\n             'name': ['Adrian', 'Simon'],"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}