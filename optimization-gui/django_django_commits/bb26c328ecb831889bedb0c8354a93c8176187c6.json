{
    "author": "freakboy3742",
    "message": "Fixed #15298 -- Raise a better error when a TemplateResponseMixin doesn't have a template_name defined. Thanks to rasca for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15532 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "bb26c328ecb831889bedb0c8354a93c8176187c6",
    "files": [
        {
            "sha": "d732af5d66795e1a680db5c1ecfbfe76f2dbd9a5",
            "filename": "django/views/generic/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fbase.py?ref=bb26c328ecb831889bedb0c8354a93c8176187c6",
            "patch": "@@ -102,7 +102,9 @@ def get_template_names(self):\n         a list. May not be called if render_to_response is overridden.\n         \"\"\"\n         if self.template_name is None:\n-            return []\n+            raise ImproperlyConfigured(\n+                \"TemplateResponseMixin requires either a definition of \"\n+                \"'template_name' or an implementation of 'get_template_names()'\")\n         else:\n             return [self.template_name]\n "
        },
        {
            "sha": "4fa93e1ec2a12cbb2348f364d855255313663f17",
            "filename": "django/views/generic/detail.py",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Fdetail.py",
            "raw_url": "https://github.com/django/django/raw/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Fdetail.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdetail.py?ref=bb26c328ecb831889bedb0c8354a93c8176187c6",
            "patch": "@@ -108,7 +108,12 @@ def get_template_names(self):\n         Return a list of template names to be used for the request. Must return\n         a list. May not be called if get_template is overridden.\n         \"\"\"\n-        names = super(SingleObjectTemplateResponseMixin, self).get_template_names()\n+        try:\n+            names = super(SingleObjectTemplateResponseMixin, self).get_template_names()\n+        except ImproperlyConfigured:\n+            # If template_name isn't specified, it's not a problem --\n+            # we just start with an empty list.\n+            names = []\n \n         # If self.template_name_field is set, grab the value of the field\n         # of that name from the object; this is the most specific template"
        },
        {
            "sha": "dde23faf40632178153c064315e6215122fe4bf2",
            "filename": "django/views/generic/list.py",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Flist.py",
            "raw_url": "https://github.com/django/django/raw/bb26c328ecb831889bedb0c8354a93c8176187c6/django%2Fviews%2Fgeneric%2Flist.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Flist.py?ref=bb26c328ecb831889bedb0c8354a93c8176187c6",
            "patch": "@@ -127,7 +127,12 @@ def get_template_names(self):\n         Return a list of template names to be used for the request. Must return\n         a list. May not be called if get_template is overridden.\n         \"\"\"\n-        names = super(MultipleObjectTemplateResponseMixin, self).get_template_names()\n+        try:\n+            names = super(MultipleObjectTemplateResponseMixin, self).get_template_names()\n+        except ImproperlyConfigured:\n+            # If template_name isn't specified, it's not a problem --\n+            # we just start with an empty list.\n+            names = []\n \n         # If the list is a queryset, we'll invent a template name based on the\n         # app and model name. This name gets put at the end of the template"
        },
        {
            "sha": "9f20fc4ca17093274960ec031857a134440ac523",
            "filename": "tests/regressiontests/generic_views/base.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/bb26c328ecb831889bedb0c8354a93c8176187c6/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/bb26c328ecb831889bedb0c8354a93c8176187c6/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fbase.py?ref=bb26c328ecb831889bedb0c8354a93c8176187c6",
            "patch": "@@ -181,6 +181,12 @@ def test_get_generic_template(self):\n         \"\"\"\n         self._assert_about(TemplateView.as_view(template_name='generic_views/about.html')(self.rf.get('/about/')))\n \n+    def test_template_name_required(self):\n+        \"\"\"\n+        A template view must provide a template name\n+        \"\"\"\n+        self.assertRaises(ImproperlyConfigured, self.client.get, '/template/no_template/')\n+\n     def test_template_params(self):\n         \"\"\"\n         A generic template view passes kwargs as context."
        },
        {
            "sha": "e5d75d585cd0d2a423e9bbbdd4df711d414b81fb",
            "filename": "tests/regressiontests/generic_views/urls.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/bb26c328ecb831889bedb0c8354a93c8176187c6/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/bb26c328ecb831889bedb0c8354a93c8176187c6/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Furls.py?ref=bb26c328ecb831889bedb0c8354a93c8176187c6",
            "patch": "@@ -11,6 +11,8 @@\n     #    views.DecoratedAboutView()),\n \n     # TemplateView\n+    (r'^template/no_template/$',\n+        TemplateView.as_view()),\n     (r'^template/simple/(?P<foo>\\w+)/$',\n         TemplateView.as_view(template_name='generic_views/about.html')),\n     (r'^template/custom/(?P<foo>\\w+)/$',"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 23,
        "deletions": 3
    }
}