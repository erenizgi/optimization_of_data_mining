{
    "author": "claudep",
    "message": "Fixed #19839 -- Isolated auth tests from customized TEMPLATE_LOADERS\n\nThanks limscoder for the report.",
    "sha": "5ec0405a09c4b05b7ee6c58bf52a06290143d788",
    "files": [
        {
            "sha": "9e56cfce851dfa7ff56428d8a77ab58920095cd6",
            "filename": "django/contrib/auth/tests/context_processors.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/5ec0405a09c4b05b7ee6c58bf52a06290143d788/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/5ec0405a09c4b05b7ee6c58bf52a06290143d788/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py?ref=5ec0405a09c4b05b7ee6c58bf52a06290143d788",
            "patch": "@@ -63,9 +63,10 @@ def test_permlookupdict_in(self):\n \n @skipIfCustomUser\n @override_settings(\n+    TEMPLATE_LOADERS=('django.template.loaders.filesystem.Loader',),\n     TEMPLATE_DIRS=(\n-            os.path.join(os.path.dirname(upath(__file__)), 'templates'),\n-        ),\n+        os.path.join(os.path.dirname(upath(__file__)), 'templates'),\n+    ),\n     USE_TZ=False,                           # required for loading the fixture\n     PASSWORD_HASHERS=('django.contrib.auth.hashers.SHA1PasswordHasher',),\n )"
        },
        {
            "sha": "c5a3fec7ce3c8cabeaf2c90cb6d1db5c4353fa7d",
            "filename": "django/contrib/auth/tests/forms.py",
            "status": "modified",
            "additions": 15,
            "deletions": 11,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/5ec0405a09c4b05b7ee6c58bf52a06290143d788/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/5ec0405a09c4b05b7ee6c58bf52a06290143d788/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py?ref=5ec0405a09c4b05b7ee6c58bf52a06290143d788",
            "patch": "@@ -341,18 +341,22 @@ def test_cleaned_data(self):\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.cleaned_data['email'], email)\n \n+    @override_settings(\n+        TEMPLATE_LOADERS=('django.template.loaders.filesystem.Loader',),\n+        TEMPLATE_DIRS=(\n+            os.path.join(os.path.dirname(upath(__file__)), 'templates'),\n+        ),\n+    )\n     def test_custom_email_subject(self):\n-        template_path = os.path.join(os.path.dirname(upath(__file__)), 'templates')\n-        with self.settings(TEMPLATE_DIRS=(template_path,)):\n-            data = {'email': 'testclient@example.com'}\n-            form = PasswordResetForm(data)\n-            self.assertTrue(form.is_valid())\n-            # Since we're not providing a request object, we must provide a\n-            # domain_override to prevent the save operation from failing in the\n-            # potential case where contrib.sites is not installed. Refs #16412.\n-            form.save(domain_override='example.com')\n-            self.assertEqual(len(mail.outbox), 1)\n-            self.assertEqual(mail.outbox[0].subject, 'Custom password reset on example.com')\n+        data = {'email': 'testclient@example.com'}\n+        form = PasswordResetForm(data)\n+        self.assertTrue(form.is_valid())\n+        # Since we're not providing a request object, we must provide a\n+        # domain_override to prevent the save operation from failing in the\n+        # potential case where contrib.sites is not installed. Refs #16412.\n+        form.save(domain_override='example.com')\n+        self.assertEqual(len(mail.outbox), 1)\n+        self.assertEqual(mail.outbox[0].subject, 'Custom password reset on example.com')\n \n     def test_bug_5605(self):\n         # bug #5605, preserve the case of the user name (before the @ in the"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 18,
        "deletions": 13
    }
}