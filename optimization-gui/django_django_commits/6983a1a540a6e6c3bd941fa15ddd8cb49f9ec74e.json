{
    "author": "loic",
    "message": "Fixed #15363 -- Renamed and normalized to `get_queryset` the methods that return a QuerySet.",
    "sha": "6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
    "files": [
        {
            "sha": "35a316d4c23099c4592698c8abd66c572656a678",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -98,7 +98,7 @@ answer newbie questions, and generally made Django that much better:\n     Natalia Bidart <nataliabidart@gmail.com>\n     Mark Biggers <biggers@utsl.com>\n     Paul Bissex <http://e-scribe.com/>\n-    Loic Bistuer <loic.bistuer@sixmedia.com>\n+    Lo√Øc Bistuer <loic.bistuer@sixmedia.com>\n     Simon Blanchard\n     Craig Blaszczyk <masterjakul@gmail.com>\n     David Blewett <david@dawninglight.net>"
        },
        {
            "sha": "de7614ff249faa271ce81bae15aefb0399fe36b8",
            "filename": "django/contrib/admin/options.py",
            "status": "modified",
            "additions": 19,
            "deletions": 12,
            "changes": 31,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Foptions.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -29,6 +29,7 @@\n from django.utils.html import escape, escapejs\n from django.utils.safestring import mark_safe\n from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n from django.utils.text import capfirst, get_text_list\n from django.utils.translation import ugettext as _\n from django.utils.translation import ungettext\n@@ -64,7 +65,13 @@ class IncorrectLookupParameters(Exception):\n csrf_protect_m = method_decorator(csrf_protect)\n \n \n-class BaseModelAdmin(six.with_metaclass(forms.MediaDefiningClass)):\n+class RenameBaseModelAdminMethods(forms.MediaDefiningClass, RenameMethodsBase):\n+    renamed_methods = (\n+        ('queryset', 'get_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class BaseModelAdmin(six.with_metaclass(RenameBaseModelAdminMethods)):\n     \"\"\"Functionality common to both ModelAdmin and InlineAdmin.\"\"\"\n \n     raw_id_fields = ()\n@@ -239,12 +246,12 @@ def get_prepopulated_fields(self, request, obj=None):\n         \"\"\"\n         return self.prepopulated_fields\n \n-    def queryset(self, request):\n+    def get_queryset(self, request):\n         \"\"\"\n         Returns a QuerySet of all model instances that can be edited by the\n         admin site. This is used by changelist_view.\n         \"\"\"\n-        qs = self.model._default_manager.get_query_set()\n+        qs = self.model._default_manager.get_queryset()\n         # TODO: this should be handled by some parameter to the ChangeList.\n         ordering = self.get_ordering(request)\n         if ordering:\n@@ -496,7 +503,7 @@ def get_object(self, request, object_id):\n         returned if no match is found (or the object_id failed validation\n         against the primary key field).\n         \"\"\"\n-        queryset = self.queryset(request)\n+        queryset = self.get_queryset(request)\n         model = queryset.model\n         try:\n             object_id = model._meta.pk.to_python(object_id)\n@@ -1008,7 +1015,7 @@ def add_view(self, request, form_url='', extra_context=None):\n                 formset = FormSet(data=request.POST, files=request.FILES,\n                                   instance=new_object,\n                                   save_as_new=\"_saveasnew\" in request.POST,\n-                                  prefix=prefix, queryset=inline.queryset(request))\n+                                  prefix=prefix, queryset=inline.get_queryset(request))\n                 formsets.append(formset)\n             if all_valid(formsets) and form_validated:\n                 self.save_model(request, new_object, form, False)\n@@ -1034,7 +1041,7 @@ def add_view(self, request, form_url='', extra_context=None):\n                 if prefixes[prefix] != 1 or not prefix:\n                     prefix = \"%s-%s\" % (prefix, prefixes[prefix])\n                 formset = FormSet(instance=self.model(), prefix=prefix,\n-                                  queryset=inline.queryset(request))\n+                                  queryset=inline.get_queryset(request))\n                 formsets.append(formset)\n \n         adminForm = helpers.AdminForm(form, list(self.get_fieldsets(request)),\n@@ -1104,7 +1111,7 @@ def change_view(self, request, object_id, form_url='', extra_context=None):\n                     prefix = \"%s-%s\" % (prefix, prefixes[prefix])\n                 formset = FormSet(request.POST, request.FILES,\n                                   instance=new_object, prefix=prefix,\n-                                  queryset=inline.queryset(request))\n+                                  queryset=inline.get_queryset(request))\n \n                 formsets.append(formset)\n \n@@ -1124,7 +1131,7 @@ def change_view(self, request, object_id, form_url='', extra_context=None):\n                 if prefixes[prefix] != 1 or not prefix:\n                     prefix = \"%s-%s\" % (prefix, prefixes[prefix])\n                 formset = FormSet(instance=obj, prefix=prefix,\n-                                  queryset=inline.queryset(request))\n+                                  queryset=inline.get_queryset(request))\n                 formsets.append(formset)\n \n         adminForm = helpers.AdminForm(form, self.get_fieldsets(request, obj),\n@@ -1209,7 +1216,7 @@ def changelist_view(self, request, extra_context=None):\n         if (actions and request.method == 'POST' and\n                 'index' in request.POST and '_save' not in request.POST):\n             if selected:\n-                response = self.response_action(request, queryset=cl.get_query_set(request))\n+                response = self.response_action(request, queryset=cl.get_queryset(request))\n                 if response:\n                     return response\n                 else:\n@@ -1225,7 +1232,7 @@ def changelist_view(self, request, extra_context=None):\n                 helpers.ACTION_CHECKBOX_NAME in request.POST and\n                 'index' not in request.POST and '_save' not in request.POST):\n             if selected:\n-                response = self.response_action(request, queryset=cl.get_query_set(request))\n+                response = self.response_action(request, queryset=cl.get_queryset(request))\n                 if response:\n                     return response\n                 else:\n@@ -1521,8 +1528,8 @@ def get_fieldsets(self, request, obj=None):\n         fields = list(form.base_fields) + list(self.get_readonly_fields(request, obj))\n         return [(None, {'fields': fields})]\n \n-    def queryset(self, request):\n-        queryset = super(InlineModelAdmin, self).queryset(request)\n+    def get_queryset(self, request):\n+        queryset = super(InlineModelAdmin, self).get_queryset(request)\n         if not self.has_change_permission(request):\n             queryset = queryset.none()\n         return queryset"
        },
        {
            "sha": "18a45a006f8f81428759345cf738dfa0bd99287d",
            "filename": "django/contrib/admin/templatetags/admin_list.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplatetags%2Fadmin_list.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -306,8 +306,8 @@ def date_hierarchy(cl):\n \n         if not (year_lookup or month_lookup or day_lookup):\n             # select appropriate start level\n-            date_range = cl.query_set.aggregate(first=models.Min(field_name),\n-                                                last=models.Max(field_name))\n+            date_range = cl.queryset.aggregate(first=models.Min(field_name),\n+                                               last=models.Max(field_name))\n             if date_range['first'] and date_range['last']:\n                 if date_range['first'].year == date_range['last'].year:\n                     year_lookup = date_range['first'].year\n@@ -325,7 +325,7 @@ def date_hierarchy(cl):\n                 'choices': [{'title': capfirst(formats.date_format(day, 'MONTH_DAY_FORMAT'))}]\n             }\n         elif year_lookup and month_lookup:\n-            days = cl.query_set.filter(**{year_field: year_lookup, month_field: month_lookup})\n+            days = cl.queryset.filter(**{year_field: year_lookup, month_field: month_lookup})\n             days = getattr(days, dates_or_datetimes)(field_name, 'day')\n             return {\n                 'show': True,\n@@ -339,7 +339,7 @@ def date_hierarchy(cl):\n                 } for day in days]\n             }\n         elif year_lookup:\n-            months = cl.query_set.filter(**{year_field: year_lookup})\n+            months = cl.queryset.filter(**{year_field: year_lookup})\n             months = getattr(months, dates_or_datetimes)(field_name, 'month')\n             return {\n                 'show': True,\n@@ -353,7 +353,7 @@ def date_hierarchy(cl):\n                 } for month in months]\n             }\n         else:\n-            years = getattr(cl.query_set, dates_or_datetimes)(field_name, 'year')\n+            years = getattr(cl.queryset, dates_or_datetimes)(field_name, 'year')\n             return {\n                 'show': True,\n                 'choices': [{"
        },
        {
            "sha": "b7bf85ef9d126fafd48e36b97c08753fb0944b0b",
            "filename": "django/contrib/admin/views/main.py",
            "status": "modified",
            "additions": 31,
            "deletions": 8,
            "changes": 39,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fviews%2Fmain.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -1,12 +1,15 @@\n import operator\n+import warnings\n from functools import reduce\n \n from django.core.exceptions import SuspiciousOperation, ImproperlyConfigured\n from django.core.paginator import InvalidPage\n from django.core.urlresolvers import reverse\n from django.db import models\n from django.db.models.fields import FieldDoesNotExist\n+from django.utils import six\n from django.utils.datastructures import SortedDict\n+from django.utils.deprecation import RenameMethodsBase\n from django.utils.encoding import force_str, force_text\n from django.utils.translation import ugettext, ugettext_lazy\n from django.utils.http import urlencode\n@@ -33,14 +36,20 @@\n EMPTY_CHANGELIST_VALUE = ugettext_lazy('(None)')\n \n \n-class ChangeList(object):\n+class RenameChangeListMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('get_query_set', 'get_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class ChangeList(six.with_metaclass(RenameChangeListMethods)):\n     def __init__(self, request, model, list_display, list_display_links,\n             list_filter, date_hierarchy, search_fields, list_select_related,\n             list_per_page, list_max_show_all, list_editable, model_admin):\n         self.model = model\n         self.opts = model._meta\n         self.lookup_opts = self.opts\n-        self.root_query_set = model_admin.queryset(request)\n+        self.root_queryset = model_admin.get_queryset(request)\n         self.list_display = list_display\n         self.list_display_links = list_display_links\n         self.list_filter = list_filter\n@@ -70,7 +79,7 @@ def __init__(self, request, model, list_display, list_display_links,\n         else:\n             self.list_editable = list_editable\n         self.query = request.GET.get(SEARCH_VAR, '')\n-        self.query_set = self.get_query_set(request)\n+        self.queryset = self.get_queryset(request)\n         self.get_results(request)\n         if self.is_popup:\n             title = ugettext('Select %s')\n@@ -79,6 +88,20 @@ def __init__(self, request, model, list_display, list_display_links,\n         self.title = title % force_text(self.opts.verbose_name)\n         self.pk_attname = self.lookup_opts.pk.attname\n \n+    @property\n+    def root_query_set(self):\n+        warnings.warn(\"`ChangeList.root_query_set` is deprecated, \"\n+                      \"use `root_queryset` instead.\",\n+                      PendingDeprecationWarning, 2)\n+        return self.root_queryset\n+\n+    @property\n+    def query_set(self):\n+        warnings.warn(\"`ChangeList.query_set` is deprecated, \"\n+                      \"use `queryset` instead.\",\n+                      PendingDeprecationWarning, 2)\n+        return self.queryset\n+\n     def get_filters_params(self, params=None):\n         \"\"\"\n         Returns all params except IGNORED_PARAMS\n@@ -169,7 +192,7 @@ def get_query_string(self, new_params=None, remove=None):\n         return '?%s' % urlencode(sorted(p.items()))\n \n     def get_results(self, request):\n-        paginator = self.model_admin.get_paginator(request, self.query_set, self.list_per_page)\n+        paginator = self.model_admin.get_paginator(request, self.queryset, self.list_per_page)\n         # Get the number of objects, with admin filters applied.\n         result_count = paginator.count\n \n@@ -178,15 +201,15 @@ def get_results(self, request):\n         # full_result_count is equal to paginator.count if no filters\n         # were applied\n         if self.get_filters_params():\n-            full_result_count = self.root_query_set.count()\n+            full_result_count = self.root_queryset.count()\n         else:\n             full_result_count = result_count\n         can_show_all = result_count <= self.list_max_show_all\n         multi_page = result_count > self.list_per_page\n \n         # Get the list of objects to display on this page.\n         if (self.show_all and can_show_all) or not multi_page:\n-            result_list = self.query_set._clone()\n+            result_list = self.queryset._clone()\n         else:\n             try:\n                 result_list = paginator.page(self.page_num+1).object_list\n@@ -304,13 +327,13 @@ def get_ordering_field_columns(self):\n                 ordering_fields[idx] = 'desc' if pfx == '-' else 'asc'\n         return ordering_fields\n \n-    def get_query_set(self, request):\n+    def get_queryset(self, request):\n         # First, we collect all the declared list filters.\n         (self.filter_specs, self.has_filters, remaining_lookup_params,\n          use_distinct) = self.get_filters(request)\n \n         # Then, we let every list filter modify the queryset to its liking.\n-        qs = self.root_query_set\n+        qs = self.root_queryset\n         for filter_spec in self.filter_specs:\n             new_qs = filter_spec.queryset(request, qs)\n             if new_qs is not None:"
        },
        {
            "sha": "0abc361a4144c929b9866a67c3dcc4d90da65659",
            "filename": "django/contrib/auth/admin.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fauth%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fauth%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fadmin.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -118,7 +118,7 @@ def add_view(self, request, form_url='', extra_context=None):\n     def user_change_password(self, request, id, form_url=''):\n         if not self.has_change_permission(request):\n             raise PermissionDenied\n-        user = get_object_or_404(self.queryset(request), pk=id)\n+        user = get_object_or_404(self.get_queryset(request), pk=id)\n         if request.method == 'POST':\n             form = self.change_password_form(user, request.POST)\n             if form.is_valid():"
        },
        {
            "sha": "656200437b6b96c1fcf0ab14d137e04836bbddfb",
            "filename": "django/contrib/comments/managers.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcomments%2Fmanagers.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcomments%2Fmanagers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fmanagers.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -8,15 +8,15 @@ def in_moderation(self):\n         \"\"\"\n         QuerySet for all comments currently in the moderation queue.\n         \"\"\"\n-        return self.get_query_set().filter(is_public=False, is_removed=False)\n+        return self.get_queryset().filter(is_public=False, is_removed=False)\n \n     def for_model(self, model):\n         \"\"\"\n         QuerySet for all comments for a particular model (either an instance or\n         a class).\n         \"\"\"\n         ct = ContentType.objects.get_for_model(model)\n-        qs = self.get_query_set().filter(content_type=ct)\n+        qs = self.get_queryset().filter(content_type=ct)\n         if isinstance(model, models.Model):\n             qs = qs.filter(object_pk=force_text(model._get_pk_val()))\n         return qs"
        },
        {
            "sha": "d8eed76ad6ef4b7be3cf2fd7c15121f6c124cf01",
            "filename": "django/contrib/comments/templatetags/comments.py",
            "status": "modified",
            "additions": 13,
            "deletions": 4,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcomments%2Ftemplatetags%2Fcomments.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcomments%2Ftemplatetags%2Fcomments.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Ftemplatetags%2Fcomments.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -3,11 +3,20 @@\n from django.conf import settings\n from django.contrib.contenttypes.models import ContentType\n from django.contrib import comments\n+from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n from django.utils.encoding import smart_text\n \n register = template.Library()\n \n-class BaseCommentNode(template.Node):\n+\n+class RenameBaseCommentNodeMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('get_query_set', 'get_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class BaseCommentNode(six.with_metaclass(RenameBaseCommentNodeMethods, template.Node)):\n     \"\"\"\n     Base helper class (abstract) for handling the get_comment_* template tags.\n     Looks a bit strange, but the subclasses below should make this a bit more\n@@ -64,11 +73,11 @@ def __init__(self, ctype=None, object_pk_expr=None, object_expr=None, as_varname\n         self.comment = comment\n \n     def render(self, context):\n-        qs = self.get_query_set(context)\n+        qs = self.get_queryset(context)\n         context[self.as_varname] = self.get_context_value_from_queryset(context, qs)\n         return ''\n \n-    def get_query_set(self, context):\n+    def get_queryset(self, context):\n         ctype, object_pk = self.get_target_ctype_pk(context)\n         if not object_pk:\n             return self.comment_model.objects.none()\n@@ -205,7 +214,7 @@ def render(self, context):\n                 \"comments/%s/list.html\" % ctype.app_label,\n                 \"comments/list.html\"\n             ]\n-            qs = self.get_query_set(context)\n+            qs = self.get_queryset(context)\n             context.push()\n             liststr = render_to_string(template_search_list, {\n                 \"comment_list\" : self.get_context_value_from_queryset(context, qs)"
        },
        {
            "sha": "fdb05a626a9173f1661af05bc10077c0f7f00290",
            "filename": "django/contrib/contenttypes/generic.py",
            "status": "modified",
            "additions": 14,
            "deletions": 6,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Fgeneric.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -16,10 +16,18 @@\n from django.forms.models import BaseModelFormSet, modelformset_factory, save_instance\n from django.contrib.admin.options import InlineModelAdmin, flatten_fieldsets\n from django.contrib.contenttypes.models import ContentType\n+from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n from django.utils.encoding import smart_text\n \n \n-class GenericForeignKey(object):\n+class RenameGenericForeignKeyMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('get_prefetch_query_set', 'get_prefetch_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class GenericForeignKey(six.with_metaclass(RenameGenericForeignKeyMethods)):\n     \"\"\"\n     Provides a generic relation to any object through content-type/object-id\n     fields.\n@@ -60,7 +68,7 @@ def get_content_type(self, obj=None, id=None, using=None):\n             # This should never happen. I love comments like this, don't you?\n             raise Exception(\"Impossible arguments to GFK.get_content_type!\")\n \n-    def get_prefetch_query_set(self, instances):\n+    def get_prefetch_queryset(self, instances):\n         # For efficiency, group the instances by content type and then do one\n         # query per model\n         fk_dict = defaultdict(set)\n@@ -316,21 +324,21 @@ def __init__(self, model=None, instance=None, symmetrical=None,\n                 '%s__exact' % object_id_field_name: instance._get_pk_val(),\n             }\n \n-        def get_query_set(self):\n+        def get_queryset(self):\n             try:\n                 return self.instance._prefetched_objects_cache[self.prefetch_cache_name]\n             except (AttributeError, KeyError):\n                 db = self._db or router.db_for_read(self.model, instance=self.instance)\n-                return super(GenericRelatedObjectManager, self).get_query_set().using(db).filter(**self.core_filters)\n+                return super(GenericRelatedObjectManager, self).get_queryset().using(db).filter(**self.core_filters)\n \n-        def get_prefetch_query_set(self, instances):\n+        def get_prefetch_queryset(self, instances):\n             db = self._db or router.db_for_read(self.model, instance=instances[0])\n             query = {\n                 '%s__pk' % self.content_type_field_name: self.content_type.id,\n                 '%s__in' % self.object_id_field_name:\n                     set(obj._get_pk_val() for obj in instances)\n                 }\n-            qs = super(GenericRelatedObjectManager, self).get_query_set().using(db).filter(**query)\n+            qs = super(GenericRelatedObjectManager, self).get_queryset().using(db).filter(**query)\n             # We (possibly) need to convert object IDs to the type of the\n             # instances' PK in order to match up instances:\n             object_id_converter = instances[0]._meta.pk.to_python"
        },
        {
            "sha": "aa57e3a5077baba567ec2d723c8e495fc4ae331e",
            "filename": "django/contrib/gis/db/models/manager.py",
            "status": "modified",
            "additions": 31,
            "deletions": 31,
            "changes": 62,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fmanager.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fmanager.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fmodels%2Fmanager.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -9,95 +9,95 @@ class GeoManager(Manager):\n     # properly.\n     use_for_related_fields = True\n \n-    def get_query_set(self):\n+    def get_queryset(self):\n         return GeoQuerySet(self.model, using=self._db)\n \n     def area(self, *args, **kwargs):\n-        return self.get_query_set().area(*args, **kwargs)\n+        return self.get_queryset().area(*args, **kwargs)\n \n     def centroid(self, *args, **kwargs):\n-        return self.get_query_set().centroid(*args, **kwargs)\n+        return self.get_queryset().centroid(*args, **kwargs)\n \n     def collect(self, *args, **kwargs):\n-        return self.get_query_set().collect(*args, **kwargs)\n+        return self.get_queryset().collect(*args, **kwargs)\n \n     def difference(self, *args, **kwargs):\n-        return self.get_query_set().difference(*args, **kwargs)\n+        return self.get_queryset().difference(*args, **kwargs)\n \n     def distance(self, *args, **kwargs):\n-        return self.get_query_set().distance(*args, **kwargs)\n+        return self.get_queryset().distance(*args, **kwargs)\n \n     def envelope(self, *args, **kwargs):\n-        return self.get_query_set().envelope(*args, **kwargs)\n+        return self.get_queryset().envelope(*args, **kwargs)\n \n     def extent(self, *args, **kwargs):\n-        return self.get_query_set().extent(*args, **kwargs)\n+        return self.get_queryset().extent(*args, **kwargs)\n \n     def extent3d(self, *args, **kwargs):\n-        return self.get_query_set().extent3d(*args, **kwargs)\n+        return self.get_queryset().extent3d(*args, **kwargs)\n \n     def force_rhr(self, *args, **kwargs):\n-        return self.get_query_set().force_rhr(*args, **kwargs)\n+        return self.get_queryset().force_rhr(*args, **kwargs)\n \n     def geohash(self, *args, **kwargs):\n-        return self.get_query_set().geohash(*args, **kwargs)\n+        return self.get_queryset().geohash(*args, **kwargs)\n \n     def geojson(self, *args, **kwargs):\n-        return self.get_query_set().geojson(*args, **kwargs)\n+        return self.get_queryset().geojson(*args, **kwargs)\n \n     def gml(self, *args, **kwargs):\n-        return self.get_query_set().gml(*args, **kwargs)\n+        return self.get_queryset().gml(*args, **kwargs)\n \n     def intersection(self, *args, **kwargs):\n-        return self.get_query_set().intersection(*args, **kwargs)\n+        return self.get_queryset().intersection(*args, **kwargs)\n \n     def kml(self, *args, **kwargs):\n-        return self.get_query_set().kml(*args, **kwargs)\n+        return self.get_queryset().kml(*args, **kwargs)\n \n     def length(self, *args, **kwargs):\n-        return self.get_query_set().length(*args, **kwargs)\n+        return self.get_queryset().length(*args, **kwargs)\n \n     def make_line(self, *args, **kwargs):\n-        return self.get_query_set().make_line(*args, **kwargs)\n+        return self.get_queryset().make_line(*args, **kwargs)\n \n     def mem_size(self, *args, **kwargs):\n-        return self.get_query_set().mem_size(*args, **kwargs)\n+        return self.get_queryset().mem_size(*args, **kwargs)\n \n     def num_geom(self, *args, **kwargs):\n-        return self.get_query_set().num_geom(*args, **kwargs)\n+        return self.get_queryset().num_geom(*args, **kwargs)\n \n     def num_points(self, *args, **kwargs):\n-        return self.get_query_set().num_points(*args, **kwargs)\n+        return self.get_queryset().num_points(*args, **kwargs)\n \n     def perimeter(self, *args, **kwargs):\n-        return self.get_query_set().perimeter(*args, **kwargs)\n+        return self.get_queryset().perimeter(*args, **kwargs)\n \n     def point_on_surface(self, *args, **kwargs):\n-        return self.get_query_set().point_on_surface(*args, **kwargs)\n+        return self.get_queryset().point_on_surface(*args, **kwargs)\n \n     def reverse_geom(self, *args, **kwargs):\n-        return self.get_query_set().reverse_geom(*args, **kwargs)\n+        return self.get_queryset().reverse_geom(*args, **kwargs)\n \n     def scale(self, *args, **kwargs):\n-        return self.get_query_set().scale(*args, **kwargs)\n+        return self.get_queryset().scale(*args, **kwargs)\n \n     def snap_to_grid(self, *args, **kwargs):\n-        return self.get_query_set().snap_to_grid(*args, **kwargs)\n+        return self.get_queryset().snap_to_grid(*args, **kwargs)\n \n     def svg(self, *args, **kwargs):\n-        return self.get_query_set().svg(*args, **kwargs)\n+        return self.get_queryset().svg(*args, **kwargs)\n \n     def sym_difference(self, *args, **kwargs):\n-        return self.get_query_set().sym_difference(*args, **kwargs)\n+        return self.get_queryset().sym_difference(*args, **kwargs)\n \n     def transform(self, *args, **kwargs):\n-        return self.get_query_set().transform(*args, **kwargs)\n+        return self.get_queryset().transform(*args, **kwargs)\n \n     def translate(self, *args, **kwargs):\n-        return self.get_query_set().translate(*args, **kwargs)\n+        return self.get_queryset().translate(*args, **kwargs)\n \n     def union(self, *args, **kwargs):\n-        return self.get_query_set().union(*args, **kwargs)\n+        return self.get_queryset().union(*args, **kwargs)\n \n     def unionagg(self, *args, **kwargs):\n-        return self.get_query_set().unionagg(*args, **kwargs)\n+        return self.get_queryset().unionagg(*args, **kwargs)"
        },
        {
            "sha": "becb35b404cba8ad0bf140b3be87e34cea159945",
            "filename": "django/contrib/sites/managers.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fsites%2Fmanagers.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcontrib%2Fsites%2Fmanagers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsites%2Fmanagers.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -35,7 +35,7 @@ def _validate_field_name(self):\n                     (self.__class__.__name__, self.__field_name, self.model._meta.object_name))\n         self.__is_validated = True\n     \n-    def get_query_set(self):\n+    def get_queryset(self):\n         if not self.__is_validated:\n             self._validate_field_name()\n-        return super(CurrentSiteManager, self).get_query_set().filter(**{self.__field_name + '__id__exact': settings.SITE_ID})\n+        return super(CurrentSiteManager, self).get_queryset().filter(**{self.__field_name + '__id__exact': settings.SITE_ID})"
        },
        {
            "sha": "c48050415d22afd2a3e87f00cd7142bd912e3c81",
            "filename": "django/core/serializers/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcore%2Fserializers%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fcore%2Fserializers%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fserializers%2F__init__.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -4,7 +4,7 @@\n Usage::\n \n     from django.core import serializers\n-    json = serializers.serialize(\"json\", some_query_set)\n+    json = serializers.serialize(\"json\", some_queryset)\n     objects = list(serializers.deserialize(\"json\", json))\n \n To add your own serializers, use the SERIALIZATION_MODULES setting::"
        },
        {
            "sha": "3b47eb86bbd2faf66d9088ecbdae9d8b9716c18b",
            "filename": "django/db/models/fields/related.py",
            "status": "modified",
            "additions": 27,
            "deletions": 19,
            "changes": 46,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Ffields%2Frelated.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2Frelated.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -11,6 +11,7 @@\n from django.db.models.deletion import CASCADE\n from django.utils.encoding import smart_text\n from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n from django.utils.translation import ugettext_lazy as _, string_concat\n from django.utils.functional import curry, cached_property\n from django.core import exceptions\n@@ -225,7 +226,14 @@ def related_query_name(self):\n         return self.rel.related_name or self.opts.model_name\n \n \n-class SingleRelatedObjectDescriptor(object):\n+class RenameRelatedObjectDescriptorMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('get_query_set', 'get_queryset', PendingDeprecationWarning),\n+        ('get_prefetch_query_set', 'get_prefetch_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class SingleRelatedObjectDescriptor(six.with_metaclass(RenameRelatedObjectDescriptorMethods)):\n     # This class provides the functionality that makes the related-object\n     # managers available as attributes on a model class, for fields that have\n     # a single \"remote\" value, on the class pointed to by a related field.\n@@ -238,16 +246,16 @@ def __init__(self, related):\n     def is_cached(self, instance):\n         return hasattr(instance, self.cache_name)\n \n-    def get_query_set(self, **db_hints):\n+    def get_queryset(self, **db_hints):\n         db = router.db_for_read(self.related.model, **db_hints)\n         return self.related.model._base_manager.using(db)\n \n-    def get_prefetch_query_set(self, instances):\n+    def get_prefetch_queryset(self, instances):\n         rel_obj_attr = attrgetter(self.related.field.attname)\n         instance_attr = lambda obj: obj._get_pk_val()\n         instances_dict = dict((instance_attr(inst), inst) for inst in instances)\n         params = {'%s__pk__in' % self.related.field.name: list(instances_dict)}\n-        qs = self.get_query_set(instance=instances[0]).filter(**params)\n+        qs = self.get_queryset(instance=instances[0]).filter(**params)\n         # Since we're going to assign directly in the cache,\n         # we must manage the reverse relation cache manually.\n         rel_obj_cache_name = self.related.field.get_cache_name()\n@@ -268,7 +276,7 @@ def __get__(self, instance, instance_type=None):\n             else:\n                 params = {'%s__pk' % self.related.field.name: related_pk}\n                 try:\n-                    rel_obj = self.get_query_set(instance=instance).get(**params)\n+                    rel_obj = self.get_queryset(instance=instance).get(**params)\n                 except self.related.model.DoesNotExist:\n                     rel_obj = None\n                 else:\n@@ -321,7 +329,7 @@ def __set__(self, instance, value):\n         setattr(value, self.related.field.get_cache_name(), instance)\n \n \n-class ReverseSingleRelatedObjectDescriptor(object):\n+class ReverseSingleRelatedObjectDescriptor(six.with_metaclass(RenameRelatedObjectDescriptorMethods)):\n     # This class provides the functionality that makes the related-object\n     # managers available as attributes on a model class, for fields that have\n     # a single \"remote\" value, on the class that defines the related field.\n@@ -334,7 +342,7 @@ def __init__(self, field_with_rel):\n     def is_cached(self, instance):\n         return hasattr(instance, self.cache_name)\n \n-    def get_query_set(self, **db_hints):\n+    def get_queryset(self, **db_hints):\n         db = router.db_for_read(self.field.rel.to, **db_hints)\n         rel_mgr = self.field.rel.to._default_manager\n         # If the related manager indicates that it should be used for\n@@ -344,7 +352,7 @@ def get_query_set(self, **db_hints):\n         else:\n             return QuerySet(self.field.rel.to).using(db)\n \n-    def get_prefetch_query_set(self, instances):\n+    def get_prefetch_queryset(self, instances):\n         other_field = self.field.rel.get_related_field()\n         rel_obj_attr = attrgetter(other_field.attname)\n         instance_attr = attrgetter(self.field.attname)\n@@ -353,7 +361,7 @@ def get_prefetch_query_set(self, instances):\n             params = {'%s__pk__in' % self.field.rel.field_name: list(instances_dict)}\n         else:\n             params = {'%s__in' % self.field.rel.field_name: list(instances_dict)}\n-        qs = self.get_query_set(instance=instances[0]).filter(**params)\n+        qs = self.get_queryset(instance=instances[0]).filter(**params)\n         # Since we're going to assign directly in the cache,\n         # we must manage the reverse relation cache manually.\n         if not self.field.rel.multiple:\n@@ -378,7 +386,7 @@ def __get__(self, instance, instance_type=None):\n                     params = {'%s__%s' % (self.field.rel.field_name, other_field.rel.field_name): val}\n                 else:\n                     params = {'%s__exact' % self.field.rel.field_name: val}\n-                qs = self.get_query_set(instance=instance)\n+                qs = self.get_queryset(instance=instance)\n                 # Assuming the database enforces foreign keys, this won't fail.\n                 rel_obj = qs.get(**params)\n                 if not self.field.rel.multiple:\n@@ -490,26 +498,26 @@ def __init__(self, instance):\n                 }\n                 self.model = rel_model\n \n-            def get_query_set(self):\n+            def get_queryset(self):\n                 try:\n                     return self.instance._prefetched_objects_cache[rel_field.related_query_name()]\n                 except (AttributeError, KeyError):\n                     db = self._db or router.db_for_read(self.model, instance=self.instance)\n-                    qs = super(RelatedManager, self).get_query_set().using(db).filter(**self.core_filters)\n+                    qs = super(RelatedManager, self).get_queryset().using(db).filter(**self.core_filters)\n                     val = getattr(self.instance, attname)\n                     if val is None or val == '' and connections[db].features.interprets_empty_strings_as_nulls:\n                         return qs.none()\n                     qs._known_related_objects = {rel_field: {self.instance.pk: self.instance}}\n                     return qs\n \n-            def get_prefetch_query_set(self, instances):\n+            def get_prefetch_queryset(self, instances):\n                 rel_obj_attr = attrgetter(rel_field.attname)\n                 instance_attr = attrgetter(attname)\n                 instances_dict = dict((instance_attr(inst), inst) for inst in instances)\n                 db = self._db or router.db_for_read(self.model, instance=instances[0])\n                 query = {'%s__%s__in' % (rel_field.name, attname): list(instances_dict)}\n-                qs = super(RelatedManager, self).get_query_set().using(db).filter(**query)\n-                # Since we just bypassed this class' get_query_set(), we must manage\n+                qs = super(RelatedManager, self).get_queryset().using(db).filter(**query)\n+                # Since we just bypassed this class' get_queryset(), we must manage\n                 # the reverse relation manually.\n                 for rel_obj in qs:\n                     instance = instances_dict[rel_obj_attr(rel_obj)]\n@@ -603,20 +611,20 @@ def _get_fk_val(self, obj, field_name):\n             else:\n                 return obj.pk\n \n-        def get_query_set(self):\n+        def get_queryset(self):\n             try:\n                 return self.instance._prefetched_objects_cache[self.prefetch_cache_name]\n             except (AttributeError, KeyError):\n                 db = self._db or router.db_for_read(self.instance.__class__, instance=self.instance)\n-                return super(ManyRelatedManager, self).get_query_set().using(db)._next_is_sticky().filter(**self.core_filters)\n+                return super(ManyRelatedManager, self).get_queryset().using(db)._next_is_sticky().filter(**self.core_filters)\n \n-        def get_prefetch_query_set(self, instances):\n+        def get_prefetch_queryset(self, instances):\n             instance = instances[0]\n             from django.db import connections\n             db = self._db or router.db_for_read(instance.__class__, instance=instance)\n             query = {'%s__pk__in' % self.query_field_name:\n                          set(obj._get_pk_val() for obj in instances)}\n-            qs = super(ManyRelatedManager, self).get_query_set().using(db)._next_is_sticky().filter(**query)\n+            qs = super(ManyRelatedManager, self).get_queryset().using(db)._next_is_sticky().filter(**query)\n \n             # M2M: need to annotate the query in order to get the primary model\n             # that the secondary model was actually related to. We know that"
        },
        {
            "sha": "43a8264f113b64d4105b472437aaf6a0110ee128",
            "filename": "django/db/models/manager.py",
            "status": "modified",
            "additions": 46,
            "deletions": 38,
            "changes": 84,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Fmanager.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Fmanager.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fmanager.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -3,7 +3,8 @@\n from django.db.models.query import QuerySet, insert_query, RawQuerySet\n from django.db.models import signals\n from django.db.models.fields import FieldDoesNotExist\n-\n+from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n \n def ensure_default_manager(sender, **kwargs):\n     \"\"\"\n@@ -47,7 +48,14 @@ def ensure_default_manager(sender, **kwargs):\n signals.class_prepared.connect(ensure_default_manager)\n \n \n-class Manager(object):\n+class RenameManagerMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('get_query_set', 'get_queryset', PendingDeprecationWarning),\n+        ('get_prefetch_query_set', 'get_prefetch_queryset', PendingDeprecationWarning),\n+    )\n+\n+\n+class Manager(six.with_metaclass(RenameManagerMethods)):\n     # Tracks each time a Manager instance is created. Used to retain order.\n     creation_counter = 0\n \n@@ -112,113 +120,113 @@ def db(self):\n     # PROXIES TO QUERYSET #\n     #######################\n \n-    def get_query_set(self):\n+    def get_queryset(self):\n         \"\"\"Returns a new QuerySet object.  Subclasses can override this method\n         to easily customize the behavior of the Manager.\n         \"\"\"\n         return QuerySet(self.model, using=self._db)\n \n     def none(self):\n-        return self.get_query_set().none()\n+        return self.get_queryset().none()\n \n     def all(self):\n-        return self.get_query_set()\n+        return self.get_queryset()\n \n     def count(self):\n-        return self.get_query_set().count()\n+        return self.get_queryset().count()\n \n     def dates(self, *args, **kwargs):\n-        return self.get_query_set().dates(*args, **kwargs)\n+        return self.get_queryset().dates(*args, **kwargs)\n \n     def datetimes(self, *args, **kwargs):\n-        return self.get_query_set().datetimes(*args, **kwargs)\n+        return self.get_queryset().datetimes(*args, **kwargs)\n \n     def distinct(self, *args, **kwargs):\n-        return self.get_query_set().distinct(*args, **kwargs)\n+        return self.get_queryset().distinct(*args, **kwargs)\n \n     def extra(self, *args, **kwargs):\n-        return self.get_query_set().extra(*args, **kwargs)\n+        return self.get_queryset().extra(*args, **kwargs)\n \n     def get(self, *args, **kwargs):\n-        return self.get_query_set().get(*args, **kwargs)\n+        return self.get_queryset().get(*args, **kwargs)\n \n     def get_or_create(self, **kwargs):\n-        return self.get_query_set().get_or_create(**kwargs)\n+        return self.get_queryset().get_or_create(**kwargs)\n \n     def create(self, **kwargs):\n-        return self.get_query_set().create(**kwargs)\n+        return self.get_queryset().create(**kwargs)\n \n     def bulk_create(self, *args, **kwargs):\n-        return self.get_query_set().bulk_create(*args, **kwargs)\n+        return self.get_queryset().bulk_create(*args, **kwargs)\n \n     def filter(self, *args, **kwargs):\n-        return self.get_query_set().filter(*args, **kwargs)\n+        return self.get_queryset().filter(*args, **kwargs)\n \n     def aggregate(self, *args, **kwargs):\n-        return self.get_query_set().aggregate(*args, **kwargs)\n+        return self.get_queryset().aggregate(*args, **kwargs)\n \n     def annotate(self, *args, **kwargs):\n-        return self.get_query_set().annotate(*args, **kwargs)\n+        return self.get_queryset().annotate(*args, **kwargs)\n \n     def complex_filter(self, *args, **kwargs):\n-        return self.get_query_set().complex_filter(*args, **kwargs)\n+        return self.get_queryset().complex_filter(*args, **kwargs)\n \n     def exclude(self, *args, **kwargs):\n-        return self.get_query_set().exclude(*args, **kwargs)\n+        return self.get_queryset().exclude(*args, **kwargs)\n \n     def in_bulk(self, *args, **kwargs):\n-        return self.get_query_set().in_bulk(*args, **kwargs)\n+        return self.get_queryset().in_bulk(*args, **kwargs)\n \n     def iterator(self, *args, **kwargs):\n-        return self.get_query_set().iterator(*args, **kwargs)\n+        return self.get_queryset().iterator(*args, **kwargs)\n \n     def earliest(self, *args, **kwargs):\n-        return self.get_query_set().earliest(*args, **kwargs)\n+        return self.get_queryset().earliest(*args, **kwargs)\n \n     def latest(self, *args, **kwargs):\n-        return self.get_query_set().latest(*args, **kwargs)\n+        return self.get_queryset().latest(*args, **kwargs)\n \n     def order_by(self, *args, **kwargs):\n-        return self.get_query_set().order_by(*args, **kwargs)\n+        return self.get_queryset().order_by(*args, **kwargs)\n \n     def select_for_update(self, *args, **kwargs):\n-        return self.get_query_set().select_for_update(*args, **kwargs)\n+        return self.get_queryset().select_for_update(*args, **kwargs)\n \n     def select_related(self, *args, **kwargs):\n-        return self.get_query_set().select_related(*args, **kwargs)\n+        return self.get_queryset().select_related(*args, **kwargs)\n \n     def prefetch_related(self, *args, **kwargs):\n-        return self.get_query_set().prefetch_related(*args, **kwargs)\n+        return self.get_queryset().prefetch_related(*args, **kwargs)\n \n     def values(self, *args, **kwargs):\n-        return self.get_query_set().values(*args, **kwargs)\n+        return self.get_queryset().values(*args, **kwargs)\n \n     def values_list(self, *args, **kwargs):\n-        return self.get_query_set().values_list(*args, **kwargs)\n+        return self.get_queryset().values_list(*args, **kwargs)\n \n     def update(self, *args, **kwargs):\n-        return self.get_query_set().update(*args, **kwargs)\n+        return self.get_queryset().update(*args, **kwargs)\n \n     def reverse(self, *args, **kwargs):\n-        return self.get_query_set().reverse(*args, **kwargs)\n+        return self.get_queryset().reverse(*args, **kwargs)\n \n     def defer(self, *args, **kwargs):\n-        return self.get_query_set().defer(*args, **kwargs)\n+        return self.get_queryset().defer(*args, **kwargs)\n \n     def only(self, *args, **kwargs):\n-        return self.get_query_set().only(*args, **kwargs)\n+        return self.get_queryset().only(*args, **kwargs)\n \n     def using(self, *args, **kwargs):\n-        return self.get_query_set().using(*args, **kwargs)\n+        return self.get_queryset().using(*args, **kwargs)\n \n     def exists(self, *args, **kwargs):\n-        return self.get_query_set().exists(*args, **kwargs)\n+        return self.get_queryset().exists(*args, **kwargs)\n \n     def _insert(self, objs, fields, **kwargs):\n         return insert_query(self.model, objs, fields, **kwargs)\n \n     def _update(self, values, **kwargs):\n-        return self.get_query_set()._update(values, **kwargs)\n+        return self.get_queryset()._update(values, **kwargs)\n \n     def raw(self, raw_query, params=None, *args, **kwargs):\n         return RawQuerySet(raw_query=raw_query, model=self.model, params=params, using=self._db, *args, **kwargs)\n@@ -265,5 +273,5 @@ def __init__(self, model):\n         super(EmptyManager, self).__init__()\n         self.model = model\n \n-    def get_query_set(self):\n-        return super(EmptyManager, self).get_query_set().none()\n+    def get_queryset(self):\n+        return super(EmptyManager, self).get_queryset().none()"
        },
        {
            "sha": "30be30ca437a3a8e69e87d24620a6f11ead36b4d",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -1733,9 +1733,9 @@ def prefetch_related_objects(result_cache, related_lookups):\n def get_prefetcher(instance, attr):\n     \"\"\"\n     For the attribute 'attr' on the given instance, finds\n-    an object that has a get_prefetch_query_set().\n+    an object that has a get_prefetch_queryset().\n     Returns a 4 tuple containing:\n-    (the object with get_prefetch_query_set (or None),\n+    (the object with get_prefetch_queryset (or None),\n      the descriptor object representing this relationship (or None),\n      a boolean that is False if the attribute was not found at all,\n      a boolean that is True if the attribute has already been fetched)\n@@ -1758,8 +1758,8 @@ def get_prefetcher(instance, attr):\n         attr_found = True\n         if rel_obj_descriptor:\n             # singly related object, descriptor object has the\n-            # get_prefetch_query_set() method.\n-            if hasattr(rel_obj_descriptor, 'get_prefetch_query_set'):\n+            # get_prefetch_queryset() method.\n+            if hasattr(rel_obj_descriptor, 'get_prefetch_queryset'):\n                 prefetcher = rel_obj_descriptor\n                 if rel_obj_descriptor.is_cached(instance):\n                     is_fetched = True\n@@ -1768,7 +1768,7 @@ def get_prefetcher(instance, attr):\n                 # the attribute on the instance rather than the class to\n                 # support many related managers\n                 rel_obj = getattr(instance, attr)\n-                if hasattr(rel_obj, 'get_prefetch_query_set'):\n+                if hasattr(rel_obj, 'get_prefetch_queryset'):\n                     prefetcher = rel_obj\n     return prefetcher, rel_obj_descriptor, attr_found, is_fetched\n \n@@ -1784,7 +1784,7 @@ def prefetch_one_level(instances, prefetcher, attname):\n     prefetches that must be done due to prefetch_related lookups\n     found from default managers.\n     \"\"\"\n-    # prefetcher must have a method get_prefetch_query_set() which takes a list\n+    # prefetcher must have a method get_prefetch_queryset() which takes a list\n     # of instances, and returns a tuple:\n \n     # (queryset of instances of self.model that are related to passed in instances,\n@@ -1797,7 +1797,7 @@ def prefetch_one_level(instances, prefetcher, attname):\n     # in a dictionary.\n \n     rel_qs, rel_obj_attr, instance_attr, single, cache_name =\\\n-        prefetcher.get_prefetch_query_set(instances)\n+        prefetcher.get_prefetch_queryset(instances)\n     # We have to handle the possibility that the default manager itself added\n     # prefetch_related lookups to the QuerySet we just got back. We don't want to\n     # trigger the prefetch_related functionality by evaluating the query."
        },
        {
            "sha": "272f1ddee6615d2a4d2f758293519bd1ff851306",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -478,7 +478,7 @@ def get_queryset(self):\n             if self.queryset is not None:\n                 qs = self.queryset\n             else:\n-                qs = self.model._default_manager.get_query_set()\n+                qs = self.model._default_manager.get_queryset()\n \n             # If the queryset isn't already ordered we need to add an\n             # artificial ordering here to make sure that all formsets\n@@ -668,9 +668,9 @@ def pk_is_not_editable(pk):\n                 except IndexError:\n                     pk_value = None\n             if isinstance(pk, OneToOneField) or isinstance(pk, ForeignKey):\n-                qs = pk.rel.to._default_manager.get_query_set()\n+                qs = pk.rel.to._default_manager.get_queryset()\n             else:\n-                qs = self.model._default_manager.get_query_set()\n+                qs = self.model._default_manager.get_queryset()\n             qs = qs.using(form.instance._state.db)\n             if form._meta.widgets:\n                 widget = form._meta.widgets.get(self._pk_field.name, HiddenInput)"
        },
        {
            "sha": "edbb5ca5ea611af3c81f19c69f050b5f8322518e",
            "filename": "django/utils/deprecation.py",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Futils%2Fdeprecation.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/django%2Futils%2Fdeprecation.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdeprecation.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -0,0 +1,62 @@\n+import inspect\n+import warnings\n+\n+\n+class warn_about_renamed_method(object):\n+    def __init__(self, class_name, old_method_name, new_method_name, deprecation_warning):\n+        self.class_name = class_name\n+        self.old_method_name = old_method_name\n+        self.new_method_name = new_method_name\n+        self.deprecation_warning = deprecation_warning\n+\n+    def __call__(self, f):\n+        def wrapped(*args, **kwargs):\n+            warnings.warn(\n+                \"`%s.%s` is deprecated, use `%s` instead.\" %\n+                (self.class_name, self.old_method_name, self.new_method_name),\n+                self.deprecation_warning, 2)\n+            return f(*args, **kwargs)\n+        return wrapped\n+\n+\n+class RenameMethodsBase(type):\n+    \"\"\"\n+    Handles the deprecation paths when renaming a method.\n+\n+    It does the following:\n+        1) Define the new method if missing and complain about it.\n+        2) Define the old method if missing.\n+        3) Complain whenever an old method is called.\n+\n+    See #15363 for more details.\n+    \"\"\"\n+\n+    renamed_methods = ()\n+\n+    def __new__(cls, name, bases, attrs):\n+        new_class = super(RenameMethodsBase, cls).__new__(cls, name, bases, attrs)\n+\n+        for base in inspect.getmro(new_class):\n+            class_name = base.__name__\n+            for renamed_method in cls.renamed_methods:\n+                old_method_name = renamed_method[0]\n+                old_method = base.__dict__.get(old_method_name)\n+                new_method_name = renamed_method[1]\n+                new_method = base.__dict__.get(new_method_name)\n+                deprecation_warning = renamed_method[2]\n+                wrapper = warn_about_renamed_method(class_name, *renamed_method)\n+\n+                # Define the new method if missing and complain about it\n+                if not new_method and old_method:\n+                    warnings.warn(\n+                        \"`%s.%s` method should be renamed `%s`.\" %\n+                        (class_name, old_method_name, new_method_name),\n+                        deprecation_warning, 2)\n+                    setattr(base, new_method_name, old_method)\n+                    setattr(base, old_method_name, wrapper(old_method))\n+\n+                # Define the old method as a wrapped call to the new method.\n+                if not old_method and new_method:\n+                    setattr(base, old_method_name, wrapper(new_method))\n+\n+        return new_class"
        },
        {
            "sha": "1d9a7c7427a54c417bbfc9ae928cf644150f9254",
            "filename": "docs/faq/admin.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ffaq%2Fadmin.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ffaq%2Fadmin.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ffaq%2Fadmin.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -49,7 +49,7 @@ How do I limit admin access so that objects can only be edited by the users who\n The :class:`~django.contrib.admin.ModelAdmin` class also provides customization\n hooks that allow you to control the visibility and editability of objects in the\n admin. Using the same trick of extracting the user from the request, the\n-:meth:`~django.contrib.admin.ModelAdmin.queryset` and\n+:meth:`~django.contrib.admin.ModelAdmin.get_queryset` and\n :meth:`~django.contrib.admin.ModelAdmin.has_change_permission` can be used to\n control the visibility and editability of objects in the admin.\n "
        },
        {
            "sha": "b5173af298741606c0bd1c96e71d76fb3023b075",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -341,6 +341,15 @@ these changes.\n \n * The private API ``django.db.close_connection`` will be removed.\n \n+* Remove the backward compatible shims introduced to rename ``get_query_set``\n+  and similar queryset methods. This affects the following classes:\n+  ``BaseModelAdmin``, ``ChangeList``, ``BaseCommentNode``,\n+  ``GenericForeignKey``, ``Manager``, ``SingleRelatedObjectDescriptor`` and\n+  ``ReverseSingleRelatedObjectDescriptor``.\n+\n+* Remove the backward compatible shims introduced to rename the attributes\n+  ``ChangeList.root_query_set`` and ``ChangeList.query_set``.\n+\n 2.0\n ---\n "
        },
        {
            "sha": "ae2ee44601d77a4a957cfc07ea319b9c678c4151",
            "filename": "docs/ref/contrib/admin/index.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 6,
            "changes": 15,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -703,7 +703,7 @@ subclass::\n                       Only show the lookups if there actually is\n                       anyone born in the corresponding decades.\n                       \"\"\"\n-                      qs = model_admin.queryset(request)\n+                      qs = model_admin.get_queryset(request)\n                       if qs.filter(birthday__gte=date(1980, 1, 1),\n                                     birthday__lte=date(1989, 12, 31)).exists():\n                           yield ('80s', _('in the eighties'))\n@@ -1326,20 +1326,23 @@ templates used by the :class:`ModelAdmin` views:\n     be interpreted as meaning that the current user is not permitted to delete\n     any object of this type).\n \n-.. method:: ModelAdmin.queryset(self, request)\n+.. method:: ModelAdmin.get_queryset(self, request)\n \n-    The ``queryset`` method on a ``ModelAdmin`` returns a\n+    The ``get_queryset`` method on a ``ModelAdmin`` returns a\n     :class:`~django.db.models.query.QuerySet` of all model instances that\n     can be edited by the admin site. One use case for overriding this method\n     is to show objects owned by the logged-in user::\n \n         class MyModelAdmin(admin.ModelAdmin):\n-            def queryset(self, request):\n-                qs = super(MyModelAdmin, self).queryset(request)\n+            def get_queryset(self, request):\n+                qs = super(MyModelAdmin, self).get_queryset(request)\n                 if request.user.is_superuser:\n                     return qs\n                 return qs.filter(author=request.user)\n \n+    .. versionchanged:: 1.6\n+        The ``get_queryset`` method was previously named ``queryset``.\n+\n .. method:: ModelAdmin.message_user(request, message, level=messages.INFO, extra_tags='', fail_silently=False)\n \n     Sends a message to the user using the :mod:`django.contrib.messages`\n@@ -1549,7 +1552,7 @@ adds some of its own (the shared features are actually defined in the\n - :attr:`~ModelAdmin.filter_vertical`\n - :attr:`~ModelAdmin.ordering`\n - :attr:`~ModelAdmin.prepopulated_fields`\n-- :meth:`~ModelAdmin.queryset`\n+- :meth:`~ModelAdmin.get_queryset`\n - :attr:`~ModelAdmin.radio_fields`\n - :attr:`~ModelAdmin.readonly_fields`\n - :attr:`~InlineModelAdmin.raw_id_fields`"
        },
        {
            "sha": "224c2427b013e5a178bff6c1e81356a7c3a8e8ba",
            "filename": "docs/ref/models/querysets.txt",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Fquerysets.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -1586,32 +1586,32 @@ The most efficient method of finding whether a model with a unique field\n (e.g. ``primary_key``) is a member of a :class:`.QuerySet` is::\n \n     entry = Entry.objects.get(pk=123)\n-    if some_query_set.filter(pk=entry.pk).exists():\n+    if some_queryset.filter(pk=entry.pk).exists():\n         print(\"Entry contained in queryset\")\n \n Which will be faster than the following which requires evaluating and iterating\n through the entire queryset::\n \n-    if entry in some_query_set:\n+    if entry in some_queryset:\n        print(\"Entry contained in QuerySet\")\n \n And to find whether a queryset contains any items::\n \n-    if some_query_set.exists():\n-        print(\"There is at least one object in some_query_set\")\n+    if some_queryset.exists():\n+        print(\"There is at least one object in some_queryset\")\n \n Which will be faster than::\n \n-    if some_query_set:\n-        print(\"There is at least one object in some_query_set\")\n+    if some_queryset:\n+        print(\"There is at least one object in some_queryset\")\n \n ... but not by a large degree (hence needing a large queryset for efficiency\n gains).\n \n-Additionally, if a ``some_query_set`` has not yet been evaluated, but you know\n-that it will be at some point, then using ``some_query_set.exists()`` will do\n+Additionally, if a ``some_queryset`` has not yet been evaluated, but you know\n+that it will be at some point, then using ``some_queryset.exists()`` will do\n more overall work (one query for the existence check plus an extra one to later\n-retrieve the results) than simply using ``bool(some_query_set)``, which\n+retrieve the results) than simply using ``bool(some_queryset)``, which\n retrieves the results and then checks if any were returned.\n \n update"
        },
        {
            "sha": "c8012ab7c283b0832b3f3e71650938b5ba6b0809",
            "filename": "docs/releases/1.6.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Freleases%2F1.6.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Freleases%2F1.6.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.6.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -289,3 +289,9 @@ on a widget, you should now define this method on the form field itself.\n \n ``Model._meta.module_name`` was renamed to ``model_name``. Despite being a\n private API, it will go through a regular deprecation path.\n+\n+``get_query_set`` and similar methods renamed to ``get_queryset``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Methods that return a ``QuerySet`` such as ``Manager.get_query_set`` or\n+``ModelAdmin.queryset`` have been renamed to ``get_queryset``."
        },
        {
            "sha": "a8c0d170766e01040f4c3b4a48e2135011ab0f56",
            "filename": "docs/topics/db/managers.txt",
            "status": "modified",
            "additions": 14,
            "deletions": 11,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ftopics%2Fdb%2Fmanagers.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ftopics%2Fdb%2Fmanagers.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fmanagers.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -108,16 +108,16 @@ example, using this model::\n ...the statement ``Book.objects.all()`` will return all books in the database.\n \n You can override a ``Manager``\\'s base ``QuerySet`` by overriding the\n-``Manager.get_query_set()`` method. ``get_query_set()`` should return a\n+``Manager.get_queryset()`` method. ``get_queryset()`` should return a\n ``QuerySet`` with the properties you require.\n \n For example, the following model has *two* ``Manager``\\s -- one that returns\n all objects, and one that returns only the books by Roald Dahl::\n \n     # First, define the Manager subclass.\n     class DahlBookManager(models.Manager):\n-        def get_query_set(self):\n-            return super(DahlBookManager, self).get_query_set().filter(author='Roald Dahl')\n+        def get_queryset(self):\n+            return super(DahlBookManager, self).get_queryset().filter(author='Roald Dahl')\n \n     # Then hook it into the Book model explicitly.\n     class Book(models.Model):\n@@ -131,7 +131,7 @@ With this sample model, ``Book.objects.all()`` will return all books in the\n database, but ``Book.dahl_objects.all()`` will only return the ones written by\n Roald Dahl.\n \n-Of course, because ``get_query_set()`` returns a ``QuerySet`` object, you can\n+Of course, because ``get_queryset()`` returns a ``QuerySet`` object, you can\n use ``filter()``, ``exclude()`` and all the other ``QuerySet`` methods on it.\n So these statements are all legal::\n \n@@ -147,12 +147,12 @@ models.\n For example::\n \n     class MaleManager(models.Manager):\n-        def get_query_set(self):\n-            return super(MaleManager, self).get_query_set().filter(sex='M')\n+        def get_queryset(self):\n+            return super(MaleManager, self).get_queryset().filter(sex='M')\n \n     class FemaleManager(models.Manager):\n-        def get_query_set(self):\n-            return super(FemaleManager, self).get_query_set().filter(sex='F')\n+        def get_queryset(self):\n+            return super(FemaleManager, self).get_queryset().filter(sex='F')\n \n     class Person(models.Model):\n         first_name = models.CharField(max_length=50)\n@@ -172,9 +172,12 @@ the \"default\" ``Manager``, and several parts of Django\n (including :djadmin:`dumpdata`) will use that ``Manager``\n exclusively for that model. As a result, it's a good idea to be careful in\n your choice of default manager in order to avoid a situation where overriding\n-``get_query_set()`` results in an inability to retrieve objects you'd like to\n+``get_queryset()`` results in an inability to retrieve objects you'd like to\n work with.\n \n+.. versionchanged:: 1.6\n+    The ``get_queryset`` method was previously named ``get_query_set``.\n+\n .. _managers-for-related-objects:\n \n Using managers for related object access\n@@ -379,9 +382,9 @@ to from some other model. In those situations, Django has to be able to see\n all the objects for the model it is fetching, so that *anything* which is\n referred to can be retrieved.\n \n-If you override the ``get_query_set()`` method and filter out any rows, Django\n+If you override the ``get_queryset()`` method and filter out any rows, Django\n will return incorrect results. Don't do that. A manager that filters results\n-in ``get_query_set()`` is not appropriate for use as an automatic manager.\n+in ``get_queryset()`` is not appropriate for use as an automatic manager.\n \n Set ``use_for_related_fields`` when you define the class\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~"
        },
        {
            "sha": "ae23c3d9f3f27f653c6720d44ff20a63c448a0fc",
            "filename": "docs/topics/db/multi-db.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ftopics%2Fdb%2Fmulti-db.txt",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/docs%2Ftopics%2Fdb%2Fmulti-db.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fmulti-db.txt?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -506,19 +506,19 @@ solution is to use ``db_manager()``, like this::\n \n ``db_manager()`` returns a copy of the manager bound to the database you specify.\n \n-Using ``get_query_set()`` with multiple databases\n+Using ``get_queryset()`` with multiple databases\n ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n \n-If you're overriding ``get_query_set()`` on your manager, be sure to\n+If you're overriding ``get_queryset()`` on your manager, be sure to\n either call the method on the parent (using ``super()``) or do the\n appropriate handling of the ``_db`` attribute on the manager (a string\n containing the name of the database to use).\n \n For example, if you want to return a custom ``QuerySet`` class from\n-the ``get_query_set`` method, you could do this::\n+the ``get_queryset`` method, you could do this::\n \n     class MyManager(models.Manager):\n-        def get_query_set(self):\n+        def get_queryset(self):\n             qs = CustomQuerySet(self.model)\n             if self._db is not None:\n                 qs = qs.using(self._db)\n@@ -548,9 +548,9 @@ multiple-database support::\n             # Tell Django to delete objects from the 'other' database\n             obj.delete(using=self.using)\n \n-        def queryset(self, request):\n+        def get_queryset(self, request):\n             # Tell Django to look for objects on the 'other' database.\n-            return super(MultiDBModelAdmin, self).queryset(request).using(self.using)\n+            return super(MultiDBModelAdmin, self).get_queryset(request).using(self.using)\n \n         def formfield_for_foreignkey(self, db_field, request=None, **kwargs):\n             # Tell Django to populate ForeignKey widgets using a query\n@@ -573,9 +573,9 @@ Inlines can be handled in a similar fashion. They require three customized metho\n     class MultiDBTabularInline(admin.TabularInline):\n         using = 'other'\n \n-        def queryset(self, request):\n+        def get_queryset(self, request):\n             # Tell Django to look for inline objects on the 'other' database.\n-            return super(MultiDBTabularInline, self).queryset(request).using(self.using)\n+            return super(MultiDBTabularInline, self).get_queryset(request).using(self.using)\n \n         def formfield_for_foreignkey(self, db_field, request=None, **kwargs):\n             # Tell Django to populate ForeignKey widgets using a query"
        },
        {
            "sha": "8387ba77a1eff61e4728d34fb97fae7816663d66",
            "filename": "tests/admin_changelist/admin.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_changelist%2Fadmin.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -34,8 +34,8 @@ class ChildAdmin(admin.ModelAdmin):\n     list_per_page = 10\n     list_filter = ['parent', 'age']\n \n-    def queryset(self, request):\n-        return super(ChildAdmin, self).queryset(request).select_related(\"parent__name\")\n+    def get_queryset(self, request):\n+        return super(ChildAdmin, self).get_queryset(request).select_related(\"parent__name\")\n \n \n class CustomPaginationAdmin(ChildAdmin):\n@@ -46,8 +46,8 @@ class FilteredChildAdmin(admin.ModelAdmin):\n     list_display = ['name', 'parent']\n     list_per_page = 10\n \n-    def queryset(self, request):\n-        return super(FilteredChildAdmin, self).queryset(request).filter(\n+    def get_queryset(self, request):\n+        return super(FilteredChildAdmin, self).get_queryset(request).filter(\n             name__contains='filtered')\n \n "
        },
        {
            "sha": "786b4385aa09f5d33eb6716ab2cec2a96e4eb2bb",
            "filename": "tests/admin_changelist/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_changelist%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -74,8 +74,8 @@ class UnorderedObject(models.Model):\n \n \n class OrderedObjectManager(models.Manager):\n-    def get_query_set(self):\n-        return super(OrderedObjectManager, self).get_query_set().order_by('number')\n+    def get_queryset(self):\n+        return super(OrderedObjectManager, self).get_queryset().order_by('number')\n \n class OrderedObject(models.Model):\n     \"\"\""
        },
        {
            "sha": "05cdcdb73df5fce0db80f53f72e060ef9dee6c60",
            "filename": "tests/admin_changelist/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_changelist%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_changelist%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -39,15 +39,15 @@ def _mocked_authenticated_request(self, url, user):\n \n     def test_select_related_preserved(self):\n         \"\"\"\n-        Regression test for #10348: ChangeList.get_query_set() shouldn't\n-        overwrite a custom select_related provided by ModelAdmin.queryset().\n+        Regression test for #10348: ChangeList.get_queryset() shouldn't\n+        overwrite a custom select_related provided by ModelAdmin.get_queryset().\n         \"\"\"\n         m = ChildAdmin(Child, admin.site)\n         request = self.factory.get('/child/')\n         cl = ChangeList(request, Child, m.list_display, m.list_display_links,\n                 m.list_filter, m.date_hierarchy, m.search_fields,\n                 m.list_select_related, m.list_per_page, m.list_max_show_all, m.list_editable, m)\n-        self.assertEqual(cl.query_set.query.select_related, {'parent': {'name': {}}})\n+        self.assertEqual(cl.queryset.query.select_related, {'parent': {'name': {}}})\n \n     def test_result_list_empty_changelist_value(self):\n         \"\"\"\n@@ -277,7 +277,7 @@ def test_distinct_for_non_unique_related_object_in_list_filter(self):\n                         m.list_max_show_all, m.list_editable, m)\n \n         # Make sure distinct() was called\n-        self.assertEqual(cl.query_set.count(), 1)\n+        self.assertEqual(cl.queryset.count(), 1)\n \n     def test_distinct_for_non_unique_related_object_in_search_fields(self):\n         \"\"\"\n@@ -297,7 +297,7 @@ def test_distinct_for_non_unique_related_object_in_search_fields(self):\n                         m.list_max_show_all, m.list_editable, m)\n \n         # Make sure distinct() was called\n-        self.assertEqual(cl.query_set.count(), 1)\n+        self.assertEqual(cl.queryset.count(), 1)\n \n     def test_pagination(self):\n         \"\"\"\n@@ -317,7 +317,7 @@ def test_pagination(self):\n                 m.list_filter, m.date_hierarchy, m.search_fields,\n                 m.list_select_related, m.list_per_page, m.list_max_show_all,\n                 m.list_editable, m)\n-        self.assertEqual(cl.query_set.count(), 60)\n+        self.assertEqual(cl.queryset.count(), 60)\n         self.assertEqual(cl.paginator.count, 60)\n         self.assertEqual(list(cl.paginator.page_range), [1, 2, 3, 4, 5, 6])\n \n@@ -327,7 +327,7 @@ def test_pagination(self):\n                 m.list_filter, m.date_hierarchy, m.search_fields,\n                 m.list_select_related, m.list_per_page, m.list_max_show_all,\n                 m.list_editable, m)\n-        self.assertEqual(cl.query_set.count(), 30)\n+        self.assertEqual(cl.queryset.count(), 30)\n         self.assertEqual(cl.paginator.count, 30)\n         self.assertEqual(list(cl.paginator.page_range), [1, 2, 3])\n "
        },
        {
            "sha": "f05e8e2011a7c2914c0d15aeeff1010d204eec21",
            "filename": "tests/admin_filters/tests.py",
            "status": "modified",
            "additions": 25,
            "deletions": 25,
            "changes": 50,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_filters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_filters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_filters%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -61,7 +61,7 @@ def queryset(self, request, queryset):\n class DecadeListFilterWithQuerysetBasedLookups(DecadeListFilterWithTitleAndParameter):\n \n     def lookups(self, request, model_admin):\n-        qs = model_admin.queryset(request)\n+        qs = model_admin.get_queryset(request)\n         if qs.filter(year__gte=1980, year__lte=1989).exists():\n             yield ('the 80s', \"the 1980's\")\n         if qs.filter(year__gte=1990, year__lte=1999).exists():\n@@ -86,7 +86,7 @@ def lookups(self, request, model_admin):\n         return sorted(set([\n             (employee.department.id,  # Intentionally not a string (Refs #19318)\n              employee.department.code)\n-            for employee in model_admin.queryset(request).all()\n+            for employee in model_admin.get_queryset(request).all()\n         ]))\n \n     def queryset(self, request, queryset):\n@@ -183,7 +183,7 @@ def test_datefieldlistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.django_book, self.djangonaut_book])\n \n         # Make sure the correct choice is selected\n@@ -200,7 +200,7 @@ def test_datefieldlistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         if (self.today.year, self.today.month) == (self.one_week_ago.year, self.one_week_ago.month):\n             # In case one week ago is in the same month.\n             self.assertEqual(list(queryset), [self.gipsy_book, self.django_book, self.djangonaut_book])\n@@ -221,7 +221,7 @@ def test_datefieldlistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         if self.today.year == self.one_week_ago.year:\n             # In case one week ago is in the same year.\n             self.assertEqual(list(queryset), [self.gipsy_book, self.django_book, self.djangonaut_book])\n@@ -242,7 +242,7 @@ def test_datefieldlistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.gipsy_book, self.django_book, self.djangonaut_book])\n \n         # Make sure the correct choice is selected\n@@ -266,7 +266,7 @@ def test_allvaluesfieldlistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.django_book])\n \n         # Make sure the last choice is None and is selected\n@@ -293,7 +293,7 @@ def test_relatedfieldlistfilter_foreignkey(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.gipsy_book])\n \n         # Make sure the last choice is None and is selected\n@@ -321,7 +321,7 @@ def test_relatedfieldlistfilter_manytomany(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.django_book, self.bio_book, self.djangonaut_book])\n \n         # Make sure the last choice is None and is selected\n@@ -349,7 +349,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n         changelist = self.get_changelist(request, User, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.lisa])\n \n         # Make sure the last choice is None and is selected\n@@ -374,7 +374,7 @@ def test_relatedfieldlistfilter_reverse_relationships(self):\n         changelist = self.get_changelist(request, User, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.alfred])\n \n         # Make sure the last choice is None and is selected\n@@ -410,7 +410,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         # Make sure the correct choice is selected\n@@ -424,7 +424,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.gipsy_book, self.djangonaut_book])\n \n         # Make sure the correct choice is selected\n@@ -438,7 +438,7 @@ def verify_booleanfieldlistfilter(self, modeladmin):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.django_book])\n \n         # Make sure the correct choice is selected\n@@ -457,7 +457,7 @@ def test_simplelistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), list(Book.objects.all().order_by('-id')))\n \n         # Make sure the correct choice is selected\n@@ -474,7 +474,7 @@ def test_simplelistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [])\n \n         # Make sure the correct choice is selected\n@@ -491,7 +491,7 @@ def test_simplelistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         # Make sure the correct choice is selected\n@@ -508,7 +508,7 @@ def test_simplelistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.gipsy_book, self.djangonaut_book])\n \n         # Make sure the correct choice is selected\n@@ -525,7 +525,7 @@ def test_simplelistfilter(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.djangonaut_book])\n \n         # Make sure the correct choices are selected\n@@ -615,7 +615,7 @@ def test_two_characters_long_field(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         filterspec = changelist.get_filters(request)[0][-1]\n@@ -637,7 +637,7 @@ def test_parameter_ends_with__in__or__isnull(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         # Make sure the correct choice is selected\n@@ -654,7 +654,7 @@ def test_parameter_ends_with__in__or__isnull(self):\n         changelist = self.get_changelist(request, Book, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.bio_book])\n \n         # Make sure the correct choice is selected\n@@ -676,7 +676,7 @@ def test_lookup_with_non_string_value(self):\n         request = self.request_factory.get('/', {'department': self.john.pk})\n         changelist = self.get_changelist(request, Employee, modeladmin)\n \n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n \n         self.assertEqual(list(queryset), [self.john])\n \n@@ -698,7 +698,7 @@ def test_fk_with_to_field(self):\n         changelist = self.get_changelist(request, Employee, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.jack, self.john])\n \n         filterspec = changelist.get_filters(request)[0][-1]\n@@ -723,7 +723,7 @@ def test_fk_with_to_field(self):\n         changelist = self.get_changelist(request, Employee, modeladmin)\n \n         # Make sure the correct queryset is returned\n-        queryset = changelist.get_query_set(request)\n+        queryset = changelist.get_queryset(request)\n         self.assertEqual(list(queryset), [self.john])\n \n         filterspec = changelist.get_filters(request)[0][-1]"
        },
        {
            "sha": "6655ad37ad5c2530dd9fc41b4981be08702def93",
            "filename": "tests/admin_ordering/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_ordering%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_ordering%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_ordering%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -22,8 +22,8 @@ def has_perm(self, perm):\n \n class TestAdminOrdering(TestCase):\n     \"\"\"\n-    Let's make sure that ModelAdmin.queryset uses the ordering we define in\n-    ModelAdmin rather that ordering defined in the model's inner Meta\n+    Let's make sure that ModelAdmin.get_queryset uses the ordering we define\n+    in ModelAdmin rather that ordering defined in the model's inner Meta\n     class.\n     \"\"\"\n \n@@ -42,7 +42,7 @@ def test_default_ordering(self):\n         class.\n         \"\"\"\n         ma = ModelAdmin(Band, None)\n-        names = [b.name for b in ma.queryset(request)]\n+        names = [b.name for b in ma.get_queryset(request)]\n         self.assertEqual(['Aerosmith', 'Radiohead', 'Van Halen'], names)\n \n     def test_specified_ordering(self):\n@@ -53,7 +53,7 @@ def test_specified_ordering(self):\n         class BandAdmin(ModelAdmin):\n             ordering = ('rank',) # default ordering is ('name',)\n         ma = BandAdmin(Band, None)\n-        names = [b.name for b in ma.queryset(request)]\n+        names = [b.name for b in ma.get_queryset(request)]\n         self.assertEqual(['Radiohead', 'Van Halen', 'Aerosmith'], names)\n \n     def test_dynamic_ordering(self):\n@@ -65,17 +65,17 @@ def test_dynamic_ordering(self):\n         request = self.request_factory.get('/')\n         request.user = super_user\n         ma = DynOrderingBandAdmin(Band, None)\n-        names = [b.name for b in ma.queryset(request)]\n+        names = [b.name for b in ma.get_queryset(request)]\n         self.assertEqual(['Radiohead', 'Van Halen', 'Aerosmith'], names)\n         request.user = other_user\n-        names = [b.name for b in ma.queryset(request)]\n+        names = [b.name for b in ma.get_queryset(request)]\n         self.assertEqual(['Aerosmith', 'Radiohead', 'Van Halen'], names)\n \n \n class TestInlineModelAdminOrdering(TestCase):\n     \"\"\"\n-    Let's make sure that InlineModelAdmin.queryset uses the ordering we define\n-    in InlineModelAdmin.\n+    Let's make sure that InlineModelAdmin.get_queryset uses the ordering we\n+    define in InlineModelAdmin.\n     \"\"\"\n \n     def setUp(self):\n@@ -95,15 +95,15 @@ def test_default_ordering(self):\n         class.\n         \"\"\"\n         inline = SongInlineDefaultOrdering(self.b, None)\n-        names = [s.name for s in inline.queryset(request)]\n+        names = [s.name for s in inline.get_queryset(request)]\n         self.assertEqual(['Dude (Looks Like a Lady)', 'Jaded', 'Pink'], names)\n \n     def test_specified_ordering(self):\n         \"\"\"\n         Let's check with ordering set to something different than the default.\n         \"\"\"\n         inline = SongInlineNewOrdering(self.b, None)\n-        names = [s.name for s in inline.queryset(request)]\n+        names = [s.name for s in inline.get_queryset(request)]\n         self.assertEqual(['Jaded', 'Pink', 'Dude (Looks Like a Lady)'], names)\n \n "
        },
        {
            "sha": "cc7585cd2d0626ff4318c2888775e717f10ddd45",
            "filename": "tests/admin_views/admin.py",
            "status": "modified",
            "additions": 18,
            "deletions": 18,
            "changes": 36,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_views%2Fadmin.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -177,10 +177,10 @@ def get_changelist_formset(self, request, **kwargs):\n         return super(PersonAdmin, self).get_changelist_formset(request,\n             formset=BasePersonModelFormSet, **kwargs)\n \n-    def queryset(self, request):\n+    def get_queryset(self, request):\n         # Order by a field that isn't in list display, to be able to test\n         # whether ordering is preserved.\n-        return super(PersonAdmin, self).queryset(request).order_by('age')\n+        return super(PersonAdmin, self).get_queryset(request).order_by('age')\n \n \n class FooAccount(Account):\n@@ -283,8 +283,8 @@ def save_related(self, request, form, formsets, change):\n \n \n class EmptyModelAdmin(admin.ModelAdmin):\n-    def queryset(self, request):\n-        return super(EmptyModelAdmin, self).queryset(request).filter(pk__gt=1)\n+    def get_queryset(self, request):\n+        return super(EmptyModelAdmin, self).get_queryset(request).filter(pk__gt=1)\n \n \n class OldSubscriberAdmin(admin.ModelAdmin):\n@@ -427,8 +427,8 @@ def multiline(self, instance):\n \n \n class CustomChangeList(ChangeList):\n-    def get_query_set(self, request):\n-        return self.root_query_set.filter(pk=9999) # Does not exist\n+    def get_queryset(self, request):\n+        return self.root_queryset.filter(pk=9999) # Does not exist\n \n \n class GadgetAdmin(admin.ModelAdmin):\n@@ -452,52 +452,52 @@ class FoodDeliveryAdmin(admin.ModelAdmin):\n \n class CoverLetterAdmin(admin.ModelAdmin):\n     \"\"\"\n-    A ModelAdmin with a custom queryset() method that uses defer(), to test\n+    A ModelAdmin with a custom get_queryset() method that uses defer(), to test\n     verbose_name display in messages shown after adding/editing CoverLetter\n     instances.\n     Note that the CoverLetter model defines a __unicode__ method.\n     For testing fix for ticket #14529.\n     \"\"\"\n \n-    def queryset(self, request):\n-        return super(CoverLetterAdmin, self).queryset(request).defer('date_written')\n+    def get_queryset(self, request):\n+        return super(CoverLetterAdmin, self).get_queryset(request).defer('date_written')\n \n \n class PaperAdmin(admin.ModelAdmin):\n     \"\"\"\n-    A ModelAdmin with a custom queryset() method that uses only(), to test\n+    A ModelAdmin with a custom get_queryset() method that uses only(), to test\n     verbose_name display in messages shown after adding/editing Paper\n     instances.\n     For testing fix for ticket #14529.\n     \"\"\"\n \n-    def queryset(self, request):\n-        return super(PaperAdmin, self).queryset(request).only('title')\n+    def get_queryset(self, request):\n+        return super(PaperAdmin, self).get_queryset(request).only('title')\n \n \n class ShortMessageAdmin(admin.ModelAdmin):\n     \"\"\"\n-    A ModelAdmin with a custom queryset() method that uses defer(), to test\n+    A ModelAdmin with a custom get_queryset() method that uses defer(), to test\n     verbose_name display in messages shown after adding/editing ShortMessage\n     instances.\n     For testing fix for ticket #14529.\n     \"\"\"\n \n-    def queryset(self, request):\n-        return super(ShortMessageAdmin, self).queryset(request).defer('timestamp')\n+    def get_queryset(self, request):\n+        return super(ShortMessageAdmin, self).get_queryset(request).defer('timestamp')\n \n \n class TelegramAdmin(admin.ModelAdmin):\n     \"\"\"\n-    A ModelAdmin with a custom queryset() method that uses only(), to test\n+    A ModelAdmin with a custom get_queryset() method that uses only(), to test\n     verbose_name display in messages shown after adding/editing Telegram\n     instances.\n     Note that the Telegram model defines a __unicode__ method.\n     For testing fix for ticket #14529.\n     \"\"\"\n \n-    def queryset(self, request):\n-        return super(TelegramAdmin, self).queryset(request).only('title')\n+    def get_queryset(self, request):\n+        return super(TelegramAdmin, self).get_queryset(request).only('title')\n \n \n class StoryForm(forms.ModelForm):"
        },
        {
            "sha": "c204b81edd0817a8573544cef0fe1ba35d8dbfda",
            "filename": "tests/admin_views/customadmin.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Fcustomadmin.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Fcustomadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_views%2Fcustomadmin.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -35,8 +35,8 @@ def my_view(self, request):\n \n class UserLimitedAdmin(UserAdmin):\n     # used for testing password change on a user not in queryset\n-    def queryset(self, request):\n-        qs = super(UserLimitedAdmin, self).queryset(request)\n+    def get_queryset(self, request):\n+        qs = super(UserLimitedAdmin, self).get_queryset(request)\n         return qs.filter(is_superuser=False)\n \n "
        },
        {
            "sha": "53dc74fa88d6d02fe8915a9d57edf41a6d827ad3",
            "filename": "tests/admin_views/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_views%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -291,7 +291,7 @@ def testChangeListSortingPreserveQuerySetOrdering(self):\n         \"\"\"\n         If no ordering is defined in `ModelAdmin.ordering` or in the query\n         string, then the underlying order of the queryset should not be\n-        changed, even if it is defined in `Modeladmin.queryset()`.\n+        changed, even if it is defined in `Modeladmin.get_queryset()`.\n         Refs #11868, #7309.\n         \"\"\"\n         p1 = Person.objects.create(name=\"Amy\", gender=1, alive=True, age=80)\n@@ -440,7 +440,7 @@ def testRelationSpanningFilters(self):\n                         self.urlbit, query_string))\n                 self.assertEqual(filtered_response.status_code, 200)\n                 # ensure changelist contains only valid objects\n-                for obj in filtered_response.context['cl'].query_set.all():\n+                for obj in filtered_response.context['cl'].queryset.all():\n                     self.assertTrue(params['test'](obj, value))\n \n     def testIncorrectLookupParameters(self):\n@@ -2583,7 +2583,7 @@ def test_change_view(self):\n                 self.assertEqual(response.status_code, 404)\n \n     def test_add_model_modeladmin_defer_qs(self):\n-        # Test for #14529. defer() is used in ModelAdmin.queryset()\n+        # Test for #14529. defer() is used in ModelAdmin.get_queryset()\n \n         # model has __unicode__ method\n         self.assertEqual(CoverLetter.objects.count(), 0)\n@@ -2622,7 +2622,7 @@ def test_add_model_modeladmin_defer_qs(self):\n         )\n \n     def test_add_model_modeladmin_only_qs(self):\n-        # Test for #14529. only() is used in ModelAdmin.queryset()\n+        # Test for #14529. only() is used in ModelAdmin.get_queryset()\n \n         # model has __unicode__ method\n         self.assertEqual(Telegram.objects.count(), 0)\n@@ -2661,7 +2661,7 @@ def test_add_model_modeladmin_only_qs(self):\n         )\n \n     def test_edit_model_modeladmin_defer_qs(self):\n-        # Test for #14529. defer() is used in ModelAdmin.queryset()\n+        # Test for #14529. defer() is used in ModelAdmin.get_queryset()\n \n         # model has __unicode__ method\n         cl = CoverLetter.objects.create(author=\"John Doe\")\n@@ -2708,7 +2708,7 @@ def test_edit_model_modeladmin_defer_qs(self):\n         )\n \n     def test_edit_model_modeladmin_only_qs(self):\n-        # Test for #14529. only() is used in ModelAdmin.queryset()\n+        # Test for #14529. only() is used in ModelAdmin.get_queryset()\n \n         # model has __unicode__ method\n         t = Telegram.objects.create(title=\"Frist Telegram\")"
        },
        {
            "sha": "ae19d58cc473d01c5be9a4fd4644cf3019003844",
            "filename": "tests/admin_widgets/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_widgets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fadmin_widgets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fadmin_widgets%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -37,8 +37,8 @@ def __str__(self):\n         return self.name\n \n class HiddenInventoryManager(models.Manager):\n-    def get_query_set(self):\n-        return super(HiddenInventoryManager, self).get_query_set().filter(hidden=False)\n+    def get_queryset(self):\n+        return super(HiddenInventoryManager, self).get_queryset().filter(hidden=False)\n \n @python_2_unicode_compatible\n class Inventory(models.Model):"
        },
        {
            "sha": "2f5e62fc7aaf181007172c561e949f29888a0971",
            "filename": "tests/custom_managers/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fcustom_managers%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fcustom_managers%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcustom_managers%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -30,11 +30,11 @@ class Person(models.Model):\n     def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n-# An example of a custom manager that sets get_query_set().\n+# An example of a custom manager that sets get_queryset().\n \n class PublishedBookManager(models.Manager):\n-    def get_query_set(self):\n-        return super(PublishedBookManager, self).get_query_set().filter(is_published=True)\n+    def get_queryset(self):\n+        return super(PublishedBookManager, self).get_queryset().filter(is_published=True)\n \n @python_2_unicode_compatible\n class Book(models.Model):\n@@ -50,8 +50,8 @@ def __str__(self):\n # An example of providing multiple custom managers.\n \n class FastCarManager(models.Manager):\n-    def get_query_set(self):\n-        return super(FastCarManager, self).get_query_set().filter(top_speed__gt=150)\n+    def get_queryset(self):\n+        return super(FastCarManager, self).get_queryset().filter(top_speed__gt=150)\n \n @python_2_unicode_compatible\n class Car(models.Model):"
        },
        {
            "sha": "95cf6e8ca144bf472c0102d2eff9e375c6e7dcfb",
            "filename": "tests/custom_managers_regress/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fcustom_managers_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fcustom_managers_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcustom_managers_regress%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -10,8 +10,8 @@ class RestrictedManager(models.Manager):\n     \"\"\"\n     A manager that filters out non-public instances.\n     \"\"\"\n-    def get_query_set(self):\n-        return super(RestrictedManager, self).get_query_set().filter(is_public=True)\n+    def get_queryset(self):\n+        return super(RestrictedManager, self).get_queryset().filter(is_public=True)\n \n @python_2_unicode_compatible\n class RelatedModel(models.Model):"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "tests/deprecation/__init__.py",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fdeprecation%2F__init__.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e"
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "tests/deprecation/models.py",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fdeprecation%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e"
        },
        {
            "sha": "df752b3149f4c388000a2393efe5a5a9f9483585",
            "filename": "tests/deprecation/tests.py",
            "status": "added",
            "additions": 158,
            "deletions": 0,
            "changes": 158,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fdeprecation%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fdeprecation%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -0,0 +1,158 @@\n+from __future__ import unicode_literals\n+import warnings\n+\n+from django.test.testcases import SimpleTestCase\n+from django.utils import six\n+from django.utils.deprecation import RenameMethodsBase\n+\n+\n+class RenameManagerMethods(RenameMethodsBase):\n+    renamed_methods = (\n+        ('old', 'new', PendingDeprecationWarning),\n+    )\n+\n+\n+class RenameMethodsTests(SimpleTestCase):\n+    \"\"\"\n+    Tests the `RenameMethodsBase` type introduced to rename `get_query_set`\n+    to `get_queryset` across the code base following #15363.\n+    \"\"\"\n+\n+    def test_class_definition_warnings(self):\n+        \"\"\"\n+        Ensure a warning is raised upon class definition to suggest renaming\n+        the faulty method.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('always')\n+            class Manager(six.with_metaclass(RenameManagerMethods)):\n+                def old(self):\n+                    pass\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded[0].message)\n+            self.assertEqual(msg,\n+                '`Manager.old` method should be renamed `new`.')\n+\n+    def test_get_new_defined(self):\n+        \"\"\"\n+        Ensure `old` complains and not `new` when only `new` is defined.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('ignore')\n+            class Manager(six.with_metaclass(RenameManagerMethods)):\n+                def new(self):\n+                    pass\n+            warnings.simplefilter('always')\n+            manager = Manager()\n+            manager.new()\n+            self.assertEqual(len(recorded), 0)\n+            manager.old()\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded.pop().message)\n+            self.assertEqual(msg,\n+                '`Manager.old` is deprecated, use `new` instead.')\n+\n+    def test_get_old_defined(self):\n+        \"\"\"\n+        Ensure `old` complains when only `old` is defined.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('ignore')\n+            class Manager(six.with_metaclass(RenameManagerMethods)):\n+                def old(self):\n+                    pass\n+            warnings.simplefilter('always')\n+            manager = Manager()\n+            manager.new()\n+            self.assertEqual(len(recorded), 0)\n+            manager.old()\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded.pop().message)\n+            self.assertEqual(msg,\n+                '`Manager.old` is deprecated, use `new` instead.')\n+\n+    def test_deprecated_subclass_renamed(self):\n+        \"\"\"\n+        Ensure the correct warnings are raised when a class that didn't rename\n+        `old` subclass one that did.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('ignore')\n+            class Renamed(six.with_metaclass(RenameManagerMethods)):\n+                def new(self):\n+                    pass\n+            class Deprecated(Renamed):\n+                def old(self):\n+                    super(Deprecated, self).old()\n+            warnings.simplefilter('always')\n+            deprecated = Deprecated()\n+            deprecated.new()\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded.pop().message)\n+            self.assertEqual(msg,\n+                '`Renamed.old` is deprecated, use `new` instead.')\n+            recorded[:] = []\n+            deprecated.old()\n+            self.assertEqual(len(recorded), 2)\n+            msgs = [str(warning.message) for warning in recorded]\n+            self.assertEqual(msgs, [\n+                '`Deprecated.old` is deprecated, use `new` instead.',\n+                '`Renamed.old` is deprecated, use `new` instead.',\n+            ])\n+\n+    def test_renamed_subclass_deprecated(self):\n+        \"\"\"\n+        Ensure the correct warnings are raised when a class that renamed\n+        `old` subclass one that didn't.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('ignore')\n+            class Deprecated(six.with_metaclass(RenameManagerMethods)):\n+                def old(self):\n+                    pass\n+            class Renamed(Deprecated):\n+                def new(self):\n+                    super(Renamed, self).new()\n+            warnings.simplefilter('always')\n+            renamed = Renamed()\n+            renamed.new()\n+            self.assertEqual(len(recorded), 0)\n+            renamed.old()\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded.pop().message)\n+            self.assertEqual(msg,\n+                '`Renamed.old` is deprecated, use `new` instead.')\n+\n+    def test_deprecated_subclass_renamed_and_mixins(self):\n+        \"\"\"\n+        Ensure the correct warnings are raised when a subclass inherit from a\n+        class that renamed `old` and mixins that may or may not have renamed\n+        `new`.\n+        \"\"\"\n+        with warnings.catch_warnings(record=True) as recorded:\n+            warnings.simplefilter('ignore')\n+            class Renamed(six.with_metaclass(RenameManagerMethods)):\n+                def new(self):\n+                    pass\n+            class RenamedMixin(object):\n+                def new(self):\n+                    super(RenamedMixin, self).new()\n+            class DeprecatedMixin(object):\n+                def old(self):\n+                    super(DeprecatedMixin, self).old()\n+            class Deprecated(DeprecatedMixin, RenamedMixin, Renamed):\n+                pass\n+            warnings.simplefilter('always')\n+            deprecated = Deprecated()\n+            deprecated.new()\n+            self.assertEqual(len(recorded), 1)\n+            msg = str(recorded.pop().message)\n+            self.assertEqual(msg,\n+                '`RenamedMixin.old` is deprecated, use `new` instead.')\n+            deprecated.old()\n+            self.assertEqual(len(recorded), 2)\n+            msgs = [str(warning.message) for warning in recorded]\n+            self.assertEqual(msgs, [\n+                '`DeprecatedMixin.old` is deprecated, use `new` instead.',\n+                '`RenamedMixin.old` is deprecated, use `new` instead.',\n+            ])"
        },
        {
            "sha": "976716fdc9d67dccf66332e7882eba62e1186a67",
            "filename": "tests/fixtures/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Ffixtures%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Ffixtures%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Ffixtures%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -78,8 +78,8 @@ def natural_key(self):\n         return (self.name,)\n \n class SpyManager(PersonManager):\n-    def get_query_set(self):\n-        return super(SpyManager, self).get_query_set().filter(cover_blown=False)\n+    def get_queryset(self):\n+        return super(SpyManager, self).get_queryset().filter(cover_blown=False)\n \n class Spy(Person):\n     objects = SpyManager()"
        },
        {
            "sha": "34dc8d3a7dbe5970e6585137d3ed17d541e6aa52",
            "filename": "tests/generic_relations/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fgeneric_relations%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fgeneric_relations%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fgeneric_relations%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -88,8 +88,8 @@ def __str__(self):\n         return self.name\n \n class GeckoManager(models.Manager):\n-    def get_query_set(self):\n-        return super(GeckoManager, self).get_query_set().filter(has_tail=True)\n+    def get_queryset(self):\n+        return super(GeckoManager, self).get_queryset().filter(has_tail=True)\n \n class Gecko(models.Model):\n     has_tail = models.BooleanField()"
        },
        {
            "sha": "bb9aa6038376552aa9402a4157cdbec37c1c8d81",
            "filename": "tests/get_object_or_404/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fget_object_or_404%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fget_object_or_404%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fget_object_or_404%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -22,8 +22,8 @@ def __str__(self):\n         return self.name\n \n class ArticleManager(models.Manager):\n-    def get_query_set(self):\n-        return super(ArticleManager, self).get_query_set().filter(authors__name__icontains='sir')\n+    def get_queryset(self):\n+        return super(ArticleManager, self).get_queryset().filter(authors__name__icontains='sir')\n \n @python_2_unicode_compatible\n class Article(models.Model):"
        },
        {
            "sha": "d8dd22ec9a14c673d278c50ea288ebf3e8857d8d",
            "filename": "tests/managers_regress/models.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fmanagers_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fmanagers_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmanagers_regress%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -7,18 +7,18 @@\n \n \n class OnlyFred(models.Manager):\n-    def get_query_set(self):\n-        return super(OnlyFred, self).get_query_set().filter(name='fred')\n+    def get_queryset(self):\n+        return super(OnlyFred, self).get_queryset().filter(name='fred')\n \n \n class OnlyBarney(models.Manager):\n-    def get_query_set(self):\n-        return super(OnlyBarney, self).get_query_set().filter(name='barney')\n+    def get_queryset(self):\n+        return super(OnlyBarney, self).get_queryset().filter(name='barney')\n \n \n class Value42(models.Manager):\n-    def get_query_set(self):\n-        return super(Value42, self).get_query_set().filter(value=42)\n+    def get_queryset(self):\n+        return super(Value42, self).get_queryset().filter(value=42)\n \n \n class AbstractBase1(models.Model):"
        },
        {
            "sha": "e5450ab8ffac59d0e729043da7736993a67fa687",
            "filename": "tests/modeladmin/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fmodeladmin%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fmodeladmin%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeladmin%2Ftests.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -69,7 +69,7 @@ def test_field_arguments(self):\n         # If we specify the fields argument, fieldsets_add and fielsets_change should\n         # just stick the fields into a formsets structure and return it.\n         class BandAdmin(ModelAdmin):\n-             fields = ['name']\n+            fields = ['name']\n \n         ma = BandAdmin(Band, self.site)\n \n@@ -1074,7 +1074,7 @@ def get_title(self):\n                 return 'awesomeness'\n             def get_choices(self, request):\n                 return (('bit', 'A bit awesome'), ('very', 'Very awesome'), )\n-            def get_query_set(self, cl, qs):\n+            def get_queryset(self, cl, qs):\n                 return qs\n \n         class ValidationTestModelAdmin(ModelAdmin):"
        },
        {
            "sha": "81c569844f2b781c5e618d54c84c0586e4e5f6b8",
            "filename": "tests/prefetch_related/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fprefetch_related%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fprefetch_related%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fprefetch_related%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -87,8 +87,8 @@ class Meta:\n \n \n class TeacherManager(models.Manager):\n-    def get_query_set(self):\n-        return super(TeacherManager, self).get_query_set().prefetch_related('qualifications')\n+    def get_queryset(self):\n+        return super(TeacherManager, self).get_queryset().prefetch_related('qualifications')\n \n \n @python_2_unicode_compatible"
        },
        {
            "sha": "ffb36657e1a54eacb5e45bbfa4e00744eda43065",
            "filename": "tests/proxy_models/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fproxy_models%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fproxy_models%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fproxy_models%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -10,12 +10,12 @@\n # A couple of managers for testing managing overriding in proxy model cases.\n \n class PersonManager(models.Manager):\n-    def get_query_set(self):\n-        return super(PersonManager, self).get_query_set().exclude(name=\"fred\")\n+    def get_queryset(self):\n+        return super(PersonManager, self).get_queryset().exclude(name=\"fred\")\n \n class SubManager(models.Manager):\n-    def get_query_set(self):\n-        return super(SubManager, self).get_query_set().exclude(name=\"wilma\")\n+    def get_queryset(self):\n+        return super(SubManager, self).get_queryset().exclude(name=\"wilma\")\n \n @python_2_unicode_compatible\n class Person(models.Model):"
        },
        {
            "sha": "f7f643d5857878ded0f4dfc6058cf025c3b6399b",
            "filename": "tests/queries/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fqueries%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Fqueries%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fqueries%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -176,8 +176,8 @@ class Meta:\n \n # A model and custom default manager combination.\n class CustomManager(models.Manager):\n-    def get_query_set(self):\n-        qs = super(CustomManager, self).get_query_set()\n+    def get_queryset(self):\n+        qs = super(CustomManager, self).get_queryset()\n         return qs.filter(public=True, tag__name='t1')\n \n @python_2_unicode_compatible\n@@ -197,8 +197,8 @@ class Detail(models.Model):\n     data = models.CharField(max_length=10)\n \n class MemberManager(models.Manager):\n-    def get_query_set(self):\n-        return super(MemberManager, self).get_query_set().select_related(\"details\")\n+    def get_queryset(self):\n+        return super(MemberManager, self).get_queryset().select_related(\"details\")\n \n class Member(models.Model):\n     name = models.CharField(max_length=10)"
        },
        {
            "sha": "30ba345120094d05540f75160dc5a56e78cd6ff1",
            "filename": "tests/reverse_single_related/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Freverse_single_related%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e/tests%2Freverse_single_related%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Freverse_single_related%2Fmodels.py?ref=6983a1a540a6e6c3bd941fa15ddd8cb49f9ec74e",
            "patch": "@@ -2,8 +2,8 @@\n \n \n class SourceManager(models.Manager):\n-    def get_query_set(self):\n-        return super(SourceManager, self).get_query_set().filter(is_public=True)\n+    def get_queryset(self):\n+        return super(SourceManager, self).get_queryset().filter(is_public=True)\n \n class Source(models.Model):\n     is_public = models.BooleanField()"
        }
    ],
    "stats": {
        "total": 872,
        "additions": 588,
        "deletions": 284
    }
}