{
    "author": "claudep",
    "message": "Fixed #16577 -- Added a map_creation block in openlayers.js template",
    "sha": "89136b2725db3cb774ae4b39849684ae8f3847aa",
    "files": [
        {
            "sha": "a67980da403dc373a12ab7cf75b76dd3f48668bf",
            "filename": "django/contrib/gis/templates/gis/admin/openlayers.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/89136b2725db3cb774ae4b39849684ae8f3847aa/django%2Fcontrib%2Fgis%2Ftemplates%2Fgis%2Fadmin%2Fopenlayers.js",
            "raw_url": "https://github.com/django/django/raw/89136b2725db3cb774ae4b39849684ae8f3847aa/django%2Fcontrib%2Fgis%2Ftemplates%2Fgis%2Fadmin%2Fopenlayers.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftemplates%2Fgis%2Fadmin%2Fopenlayers.js?ref=89136b2725db3cb774ae4b39849684ae8f3847aa",
            "patch": "@@ -109,10 +109,12 @@ OpenLayers.Projection.addTransform(\"EPSG:4326\", \"EPSG:3857\", OpenLayers.Layer.Sp\n {% autoescape off %}{% for item in map_options.items %}      '{{ item.0 }}' : {{ item.1 }}{% if not forloop.last %},{% endif %}\n {% endfor %}{% endautoescape %}    };{% endblock %}\n     // The admin map for this geometry field.\n+    {% block map_creation %}\n     {{ module }}.map = new OpenLayers.Map('{{ id }}_map', options);\n     // Base Layer\n     {{ module }}.layers.base = {% block base_layer %}new OpenLayers.Layer.WMS(\"{{ wms_name }}\", \"{{ wms_url }}\", {layers: '{{ wms_layer }}'{{ wms_options|safe }}});{% endblock %}\n     {{ module }}.map.addLayer({{ module }}.layers.base);\n+    {% endblock %}\n     {% block extra_layers %}{% endblock %}\n     {% if is_linestring %}OpenLayers.Feature.Vector.style[\"default\"][\"strokeWidth\"] = 3; // Default too thin for linestrings. {% endif %}\n     {{ module }}.layers.vector = new OpenLayers.Layer.Vector(\" {{ field_name }}\");"
        },
        {
            "sha": "d1a9fc1dcb35c62caefda435bf6c8e4d21438e13",
            "filename": "docs/ref/contrib/gis/admin.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/89136b2725db3cb774ae4b39849684ae8f3847aa/docs%2Fref%2Fcontrib%2Fgis%2Fadmin.txt",
            "raw_url": "https://github.com/django/django/raw/89136b2725db3cb774ae4b39849684ae8f3847aa/docs%2Fref%2Fcontrib%2Fgis%2Fadmin.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fgis%2Fadmin.txt?ref=89136b2725db3cb774ae4b39849684ae8f3847aa",
            "patch": "@@ -45,7 +45,7 @@ GeoDjango's admin site\n    .. attribute:: openlayers_url\n \n    Link to the URL of the OpenLayers JavaScript.  Defaults to\n-   ``'http://openlayers.org/api/2.8/OpenLayers.js'``.\n+   ``'http://openlayers.org/api/2.11/OpenLayers.js'``.\n \n \n    .. attribute:: modifiable"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}