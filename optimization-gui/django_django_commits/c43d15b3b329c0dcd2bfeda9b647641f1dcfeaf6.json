{
    "author": "ramiro",
    "message": "More removal of poorly legible constructs to workaround Python 2.4 shortcomings.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16363 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
    "files": [
        {
            "sha": "42de0dd07bcae34a42c8f199caf2ccc3bbb64a18",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
            "patch": "@@ -6,9 +6,8 @@\n \n \n import datetime\n-import sys\n-import time\n from decimal import Decimal\n+import sys\n \n \n def _setup_environment(environ):\n@@ -341,7 +340,7 @@ def value_to_db_time(self, value):\n             return None\n \n         if isinstance(value, basestring):\n-            return datetime.datetime(*(time.strptime(value, '%H:%M:%S')[:6]))\n+            return datetime.datetime.strptime(value, '%H:%M:%S')\n \n         # Oracle doesn't support tz-aware datetimes\n         if value.tzinfo is not None:"
        },
        {
            "sha": "67564218ab76f44868c8aba59c64e4a38dd61a4c",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
            "patch": "@@ -6,9 +6,7 @@\n import datetime\n import os\n import re\n-import time\n import urlparse\n-import warnings\n from decimal import Decimal, DecimalException\n try:\n     from cStringIO import StringIO\n@@ -20,7 +18,6 @@\n from django.utils import formats\n from django.utils.translation import ugettext_lazy as _\n from django.utils.encoding import smart_unicode, smart_str, force_unicode\n-from django.utils.functional import lazy\n \n # Provide this import for backwards compatibility.\n from django.core.validators import EMPTY_VALUES\n@@ -344,7 +341,8 @@ def to_python(self, value):\n                         try:\n                             datetime_str, usecs_str = value.rsplit('.', 1)\n                             usecs = int(usecs_str)\n-                            return datetime.datetime(*time.strptime(datetime_str, format[:-3])[:6]+(usecs,))\n+                            dt = datetime.datetime.strptime(datetime_str, format[:-3])\n+                            return dt.replace(microsecond=usecs)\n                         except ValueError:\n                             continue\n         raise ValidationError(self.error_messages['invalid'])\n@@ -373,7 +371,7 @@ def to_python(self, value):\n         return super(DateField, self).to_python(value)\n \n     def strptime(self, value, format):\n-        return datetime.date(*time.strptime(value, format)[:3])\n+        return datetime.datetime.strptime(value, format).date()\n \n class TimeField(BaseTemporalField):\n     widget = TimeInput\n@@ -394,7 +392,7 @@ def to_python(self, value):\n         return super(TimeField, self).to_python(value)\n \n     def strptime(self, value, format):\n-        return datetime.time(*time.strptime(value, format)[3:6])\n+        return datetime.datetime.strptime(value, format).time()\n \n class DateTimeField(BaseTemporalField):\n     widget = DateTimeInput"
        },
        {
            "sha": "1df56d0f095602bb18d8899902e78a25d3c4b857",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
            "patch": "@@ -4,7 +4,6 @@\n \n import copy\n import datetime\n-import time\n from itertools import chain\n from urlparse import urljoin\n from util import flatatt\n@@ -397,7 +396,7 @@ def _has_changed(self, initial, data):\n         # necessarily the format used for this widget. Attempt to convert it.\n         try:\n             input_format = formats.get_format('DATE_INPUT_FORMATS')[0]\n-            initial = datetime.date(*time.strptime(initial, input_format)[:3])\n+            initial = datetime.datetime.strptime(initial, input_format).date()\n         except (TypeError, ValueError):\n             pass\n         return super(DateInput, self)._has_changed(self._format_value(initial), data)\n@@ -429,7 +428,7 @@ def _has_changed(self, initial, data):\n         # necessarily the format used for this widget. Attempt to convert it.\n         try:\n             input_format = formats.get_format('DATETIME_INPUT_FORMATS')[0]\n-            initial = datetime.datetime(*time.strptime(initial, input_format)[:6])\n+            initial = datetime.datetime.strptime(initial, input_format)\n         except (TypeError, ValueError):\n             pass\n         return super(DateTimeInput, self)._has_changed(self._format_value(initial), data)\n@@ -460,7 +459,7 @@ def _has_changed(self, initial, data):\n         # necessarily the format used for this  widget. Attempt to convert it.\n         try:\n             input_format = formats.get_format('TIME_INPUT_FORMATS')[0]\n-            initial = datetime.time(*time.strptime(initial, input_format)[3:6])\n+            initial = datetime.datetime.strptime(initial, input_format).time()\n         except (TypeError, ValueError):\n             pass\n         return super(TimeInput, self)._has_changed(self._format_value(initial), data)"
        },
        {
            "sha": "128f71ced01a723d5f510e96a2ab4f90473fca3f",
            "filename": "django/views/generic/dates.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fviews%2Fgeneric%2Fdates.py",
            "raw_url": "https://github.com/django/django/raw/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/django%2Fviews%2Fgeneric%2Fdates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fdates.py?ref=c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
            "patch": "@@ -1,4 +1,3 @@\n-import time\n import datetime\n from django.db import models\n from django.core.exceptions import ImproperlyConfigured\n@@ -495,7 +494,7 @@ def _date_from_string(year, year_format, month, month_format, day='', day_format\n     format = delim.join((year_format, month_format, day_format))\n     datestr = delim.join((year, month, day))\n     try:\n-        return datetime.date(*time.strptime(datestr, format)[:3])\n+        return datetime.datetime.strptime(datestr, format).date()\n     except ValueError:\n         raise Http404(_(u\"Invalid date string '%(datestr)s' given format '%(format)s'\") % {\n             'datestr': datestr,"
        },
        {
            "sha": "7d209616e89f35620cc45f417cbb205eb36117d3",
            "filename": "tests/regressiontests/forms/tests/extra.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "raw_url": "https://github.com/django/django/raw/c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py?ref=c43d15b3b329c0dcd2bfeda9b647641f1dcfeaf6",
            "patch": "@@ -1,6 +1,6 @@\n # -*- coding: utf-8 -*-\n import datetime\n-import time\n+\n from django.conf import settings\n from django.forms import *\n from django.forms.extras import SelectDateWidget\n@@ -379,7 +379,7 @@ def __init__(self, attrs=None):\n             def decompress(self, value):\n                 if value:\n                     data = value.split(',')\n-                    return [data[0], data[1], datetime.datetime(*time.strptime(data[2], \"%Y-%m-%d %H:%M:%S\")[0:6])]\n+                    return [data[0], data[1], datetime.datetime.strptime(data[2], \"%Y-%m-%d %H:%M:%S\")]\n                 return [None, None, None]\n \n             def format_output(self, rendered_widgets):"
        }
    ],
    "stats": {
        "total": 29,
        "additions": 12,
        "deletions": 17
    }
}