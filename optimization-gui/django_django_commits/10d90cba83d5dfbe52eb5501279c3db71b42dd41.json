{
    "author": "spookylukey",
    "message": "Fixed #16935 - misleading message if AttributeError escapes during SimpleTemplateResponse.render\n\nThanks to isagalaev for the report.\n\nAs discussed on django-devs, this reverts some of the changes in [16568]\ni.e.  the addition of `SimpleTemplateResponse.__getattr__`, because this\nmakes it much harder to debug the common case of an AttributeError somewhere\nduring the rendering of a SimpleTemplateResponse.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16917 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "10d90cba83d5dfbe52eb5501279c3db71b42dd41",
    "files": [
        {
            "sha": "bb0b9cbf9d8644a5da0bad2fc382c2178987c643",
            "filename": "django/template/response.py",
            "status": "modified",
            "additions": 0,
            "deletions": 12,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/10d90cba83d5dfbe52eb5501279c3db71b42dd41/django%2Ftemplate%2Fresponse.py",
            "raw_url": "https://github.com/django/django/raw/10d90cba83d5dfbe52eb5501279c3db71b42dd41/django%2Ftemplate%2Fresponse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fresponse.py?ref=10d90cba83d5dfbe52eb5501279c3db71b42dd41",
            "patch": "@@ -6,10 +6,6 @@ class ContentNotRenderedError(Exception):\n     pass\n \n \n-class DiscardedAttributeError(AttributeError):\n-    pass\n-\n-\n class SimpleTemplateResponse(HttpResponse):\n     rendering_attrs = ['template_name', 'context_data', '_post_render_callbacks']\n \n@@ -36,7 +32,6 @@ def __init__(self, template, context=None, mimetype=None, status=None,\n         # True, so we initialize it to False after the call to super __init__.\n         self._is_rendered = False\n \n-\n     def __getstate__(self):\n         \"\"\"Pickling support function.\n \n@@ -54,13 +49,6 @@ def __getstate__(self):\n \n         return obj_dict\n \n-    def __getattr__(self, name):\n-        if name in self.rendering_attrs:\n-            raise DiscardedAttributeError('The %s attribute was discarded '\n-                                          'when this %s class was pickled.' %\n-                                          (name, self.__class__.__name__))\n-        return super(SimpleTemplateResponse, self).__getattr__(name)\n-\n     def resolve_template(self, template):\n         \"Accepts a template object, path-to-template or list of paths\"\n         if isinstance(template, (list, tuple)):"
        },
        {
            "sha": "f7bcb60f1b614ec3721bb4b5bc38166fa5c53342",
            "filename": "tests/regressiontests/templates/response.py",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/10d90cba83d5dfbe52eb5501279c3db71b42dd41/tests%2Fregressiontests%2Ftemplates%2Fresponse.py",
            "raw_url": "https://github.com/django/django/raw/10d90cba83d5dfbe52eb5501279c3db71b42dd41/tests%2Fregressiontests%2Ftemplates%2Fresponse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Fresponse.py?ref=10d90cba83d5dfbe52eb5501279c3db71b42dd41",
            "patch": "@@ -9,8 +9,7 @@\n import django.template.context\n from django.template import Template, Context\n from django.template.response import (TemplateResponse, SimpleTemplateResponse,\n-                                      ContentNotRenderedError,\n-                                      DiscardedAttributeError)\n+                                      ContentNotRenderedError)\n \n def test_processor(request):\n     return {'processors': 'yes'}\n@@ -198,7 +197,7 @@ def test_pickling(self):\n \n         # ...and requesting any of those attributes raises an exception\n         for attr in template_attrs:\n-            with self.assertRaises(DiscardedAttributeError) as cm:\n+            with self.assertRaises(AttributeError):\n                 getattr(unpickled_response, attr)\n \n     def test_repickling(self):\n@@ -282,7 +281,7 @@ def test_pickling(self):\n \n         # ...and requesting any of those attributes raises an exception\n         for attr in template_attrs:\n-            with self.assertRaises(DiscardedAttributeError) as cm:\n+            with self.assertRaises(AttributeError):\n                 getattr(unpickled_response, attr)\n \n     def test_repickling(self):"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 3,
        "deletions": 16
    }
}