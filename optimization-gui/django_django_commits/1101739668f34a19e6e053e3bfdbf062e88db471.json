{
    "author": "jphalip",
    "message": "Fixed #17936 -- Fixed a code sample in the admin `SimpleListFilter` documentation. Thanks to anonymous for the report.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17772 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1101739668f34a19e6e053e3bfdbf062e88db471",
    "files": [
        {
            "sha": "3c94150651002d47ecf5d1a07e324a8cb9fb8d2e",
            "filename": "docs/ref/contrib/admin/index.txt",
            "status": "modified",
            "additions": 10,
            "deletions": 8,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/1101739668f34a19e6e053e3bfdbf062e88db471/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/1101739668f34a19e6e053e3bfdbf062e88db471/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt?ref=1101739668f34a19e6e053e3bfdbf062e88db471",
            "patch": "@@ -606,6 +606,8 @@ subclass::\n       attributes to and override the ``lookups`` and ``queryset`` methods,\n       e.g.::\n \n+           from datetime import date\n+\n            from django.utils.translation import ugettext_lazy as _\n            from django.contrib.admin import SimpleListFilter\n \n@@ -639,11 +641,11 @@ subclass::\n                    # Compare the requested value (either '80s' or 'other')\n                    # to decide how to filter the queryset.\n                    if self.value() == '80s':\n-                       return queryset.filter(birthday__year__gte=1980,\n-                                               birthday__year__lte=1989)\n+                       return queryset.filter(birthday__gte=date(1980, 1, 1),\n+                                               birthday__lte=date(1989, 12, 31))\n                    if self.value() == '90s':\n-                       return queryset.filter(birthday__year__gte=1990,\n-                                              birthday__year__lte=1999)\n+                       return queryset.filter(birthday__gte=date(1990, 1, 1),\n+                                               birthday__lte=date(1999, 12, 31))\n \n            class PersonAdmin(ModelAdmin):\n                list_filter = (DecadeBornListFilter,)\n@@ -677,11 +679,11 @@ subclass::\n                       anyone born in the corresponding decades.\n                       \"\"\"\n                       qs = model_admin.queryset(request)\n-                      if qs.filter(birthday__year__gte=1980,\n-                                    birthday__year__lte=1989).exists():\n+                      if qs.filter(birthday__gte=date(1980, 1, 1),\n+                                    birthday__lte=date(1989, 12, 31)).exists():\n                           yield ('80s', _('in the eighties'))\n-                      if qs.filter(birthday__year__gte=1990,\n-                                    birthday__year__lte=1999).exists():\n+                      if qs.filter(birthday__gte=date(1990, 1, 1),\n+                                    birthday__lte=date(1999, 12, 31)).exists():\n                           yield ('90s', _('in the nineties'))\n \n     * a tuple, where the first element is a field name and the second"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 10,
        "deletions": 8
    }
}