{
    "author": "ubernostrum",
    "message": "Refactor the choices for localflavor's USStateField, and add new US postal code support. Fixes #14937 and #9022, refs #10308 and #8425.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15029 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
    "files": [
        {
            "sha": "a41f7ab72f2ecc22e964affbe16bb18e27aa811b",
            "filename": "django/contrib/localflavor/us/forms.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fus%2Fforms.py?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -111,3 +111,12 @@ class USStateSelect(Select):\n     def __init__(self, attrs=None):\n         from us_states import STATE_CHOICES\n         super(USStateSelect, self).__init__(attrs, choices=STATE_CHOICES)\n+\n+class USPSSelect(Select):\n+    \"\"\"\n+    A Select widget that uses a list of US Postal Service codes as its\n+    choices.\n+    \"\"\"\n+    def __init__(self, attrs=None):\n+        from us_states import USPS_CHOICES\n+        super(USPSSelect, self).__init__(attrs, choices=USPS_CHOICES)"
        },
        {
            "sha": "d5f797665a69d73d2975c4153fd3ab1c70212ee2",
            "filename": "django/contrib/localflavor/us/models.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fus%2Fmodels.py?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -2,6 +2,7 @@\n from django.utils.translation import ugettext_lazy as _\n from django.db.models.fields import CharField\n from django.contrib.localflavor.us.us_states import STATE_CHOICES\n+from django.contrib.localflavor.us.us_states import USPS_CHOICES\n \n class USStateField(CharField):\n \n@@ -12,6 +13,15 @@ def __init__(self, *args, **kwargs):\n         kwargs['max_length'] = 2\n         super(USStateField, self).__init__(*args, **kwargs)\n \n+class USPostalCodeField(CharField):\n+\n+    description = _(\"U.S. postal code (two uppercase letters)\")\n+\n+    def __init__(self, *args, **kwargs):\n+        kwargs['choices'] = USPS_CHOICES\n+        kwargs['max_length'] = 2\n+        super(USPostalCodeField, self).__init__(*args, **kwargs)\n+\n class PhoneNumberField(CharField):\n \n     description = _(\"Phone number\")"
        },
        {
            "sha": "1174218cc0423531f9c60f7243ff247b66452d04",
            "filename": "django/contrib/localflavor/us/us_states.py",
            "status": "modified",
            "additions": 100,
            "deletions": 8,
            "changes": 108,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fus_states.py",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/django%2Fcontrib%2Flocalflavor%2Fus%2Fus_states.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fus%2Fus_states.py?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -1,15 +1,70 @@\n \"\"\"\n-A mapping of state misspellings/abbreviations to normalized abbreviations, and\n-an alphabetical list of states for use as `choices` in a formfield.\n+A mapping of state misspellings/abbreviations to normalized\n+abbreviations, and alphabetical lists of US states, territories,\n+military mail regions and non-US states to which the US provides\n+postal service.\n \n This exists in this standalone file so that it's only imported into memory\n when explicitly needed.\n \"\"\"\n \n-STATE_CHOICES = (\n+# The 48 contiguous states, plus the District of Columbia.\n+CONTIGUOUS_STATES = (\n+    ('AL', 'Alabama'),\n+    ('AZ', 'Arizona'),\n+    ('AR', 'Arkansas'),\n+    ('CA', 'California'),\n+    ('CO', 'Colorado'),\n+    ('CT', 'Connecticut'),\n+    ('DE', 'Delaware'),\n+    ('DC', 'District of Columbia'),\n+    ('FL', 'Florida'),\n+    ('GA', 'Georgia'),\n+    ('ID', 'Idaho'),\n+    ('IL', 'Illinois'),\n+    ('IN', 'Indiana'),\n+    ('IA', 'Iowa'),\n+    ('KS', 'Kansas'),\n+    ('KY', 'Kentucky'),\n+    ('LA', 'Louisiana'),\n+    ('ME', 'Maine'),\n+    ('MD', 'Maryland'),\n+    ('MA', 'Massachusetts'),\n+    ('MI', 'Michigan'),\n+    ('MN', 'Minnesota'),\n+    ('MS', 'Mississippi'),\n+    ('MO', 'Missouri'),\n+    ('MT', 'Montana'),\n+    ('NE', 'Nebraska'),\n+    ('NV', 'Nevada'),\n+    ('NH', 'New Hampshire'),\n+    ('NJ', 'New Jersey'),\n+    ('NM', 'New Mexico'),\n+    ('NY', 'New York'),\n+    ('NC', 'North Carolina'),\n+    ('ND', 'North Dakota'),\n+    ('OH', 'Ohio'),\n+    ('OK', 'Oklahoma'),\n+    ('OR', 'Oregon'),\n+    ('PA', 'Pennsylvania'),\n+    ('RI', 'Rhode Island'),\n+    ('SC', 'South Carolina'),\n+    ('SD', 'South Dakota'),\n+    ('TN', 'Tennessee'),\n+    ('TX', 'Texas'),\n+    ('UT', 'Utah'),\n+    ('VT', 'Vermont'),\n+    ('VA', 'Virginia'),\n+    ('WA', 'Washington'),\n+    ('WV', 'West Virginia'),\n+    ('WI', 'Wisconsin'),\n+    ('WY', 'Wyoming'),\n+)\n+\n+# All 50 states, plus the District of Columbia.\n+US_STATES = (\n     ('AL', 'Alabama'),\n     ('AK', 'Alaska'),\n-    ('AS', 'American Samoa'),\n     ('AZ', 'Arizona'),\n     ('AR', 'Arkansas'),\n     ('CA', 'California'),\n@@ -19,7 +74,6 @@\n     ('DC', 'District of Columbia'),\n     ('FL', 'Florida'),\n     ('GA', 'Georgia'),\n-    ('GU', 'Guam'),\n     ('HI', 'Hawaii'),\n     ('ID', 'Idaho'),\n     ('IL', 'Illinois'),\n@@ -44,27 +98,65 @@\n     ('NY', 'New York'),\n     ('NC', 'North Carolina'),\n     ('ND', 'North Dakota'),\n-    ('MP', 'Northern Mariana Islands'),\n     ('OH', 'Ohio'),\n     ('OK', 'Oklahoma'),\n     ('OR', 'Oregon'),\n     ('PA', 'Pennsylvania'),\n-    ('PR', 'Puerto Rico'),\n     ('RI', 'Rhode Island'),\n     ('SC', 'South Carolina'),\n     ('SD', 'South Dakota'),\n     ('TN', 'Tennessee'),\n     ('TX', 'Texas'),\n     ('UT', 'Utah'),\n     ('VT', 'Vermont'),\n-    ('VI', 'Virgin Islands'),\n     ('VA', 'Virginia'),\n     ('WA', 'Washington'),\n     ('WV', 'West Virginia'),\n     ('WI', 'Wisconsin'),\n     ('WY', 'Wyoming'),\n )\n \n+# Non-state territories.\n+US_TERRITORIES = (\n+    ('AS', 'American Samoa'),\n+    ('GU', 'Guam'),\n+    ('MP', 'Northern Mariana Islands'),\n+    ('PR', 'Puerto Rico'),\n+    ('VI', 'Virgin Islands'),\n+)\n+\n+# Military postal \"states\". Note that 'AE' actually encompasses\n+# Europe, Canada, Africa and the Middle East.\n+ARMED_FORCES_STATES = (\n+    ('AA', 'Armed Forces Americas'),\n+    ('AE', 'Armed Forces Europe'),\n+    ('AP', 'Armed Forces Pacific'),\n+)\n+\n+# Non-US locations serviced by USPS (under Compact of Free\n+# Association).\n+COFA_STATES = (\n+    ('FM', 'Federated States of Micronesia'),\n+    ('MH', 'Marshall Islands'),\n+    ('PW', 'Palau'),\n+)\n+\n+# Obsolete abbreviations (no longer US territories/USPS service, or\n+# code changed).\n+OBSOLETE_STATES = (\n+    ('CM', 'Commonwealth of the Northern Mariana Islands'), # Is now 'MP'\n+    ('CZ', 'Panama Canal Zone'),                            # Reverted to Panama 1979\n+    ('PI', 'Philippine Islands'),                           # Philippine independence 1946\n+    ('TT', 'Trust Territory of the Pacific Islands'),       # Became the independent COFA states + Northern Mariana Islands 1979-1994\n+)\n+\n+\n+# All US states and territories plus DC and military mail.\n+STATE_CHOICES = US_STATES + US_TERRITORIES + ARMED_FORCES_STATES\n+\n+# All US Postal Service locations.\n+USPS_CHOICES = US_STATES + US_TERRITORIES + ARMED_FORCES_STATES + COFA_STATES\n+\n STATES_NORMALIZED = {\n     'ak': 'AK',\n     'al': 'AL',"
        },
        {
            "sha": "f54341ee6eae915ec6413e114a9795d4fa933e98",
            "filename": "docs/ref/contrib/localflavor.txt",
            "status": "modified",
            "additions": 65,
            "deletions": 0,
            "changes": 65,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Flocalflavor.txt?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -937,6 +937,11 @@ United States of America (``us``)\n     A form ``Select`` widget that uses a list of U.S. states/territories as its\n     choices.\n \n+.. class:: us.forms.USPSSelect\n+\n+    A form ``Select`` widget that uses a list of U.S Postal Service\n+    state, territory and country abbreviations as its choices.\n+\n .. class:: us.models.PhoneNumberField\n \n     A :class:`CharField` that checks that the value is a valid U.S.A.-style phone\n@@ -947,6 +952,66 @@ United States of America (``us``)\n     A model field that forms represent as a ``forms.USStateField`` field and\n     stores the two-letter U.S. state abbreviation in the database.\n \n+.. class:: us.models.USPostalCodeField\n+\n+    A model field that forms represent as a ``forms.USPSSelect`` field\n+    and stores the two-letter U.S Postal Service abbreviation in the\n+    database.\n+\n+Additionally, a variety of choice tuples are provided in\n+``django.contrib.localflavor.us.us_states``, allowing customized model\n+and form fields, and form presentations, for subsets of U.S states,\n+territories and U.S Postal Service abbreviations:\n+\n+.. data:: us.us_states.CONTIGUOUS_STATES\n+\n+    A tuple of choices of the postal abbreviations for the\n+    contiguous or \"lower 48\" states (i.e., all except Alaska and\n+    Hawaii), plus the District of Columbia.\n+\n+.. data:: us.us_states.US_STATES\n+\n+    A tuple of choices of the postal abbreviations for all\n+    50 U.S. states, plus the District of Columbia.\n+\n+.. data:: us.us_states.US_TERRITORIES\n+\n+    A tuple of choices of the postal abbreviations for U.S\n+    territories: American Samoa, Guam, the Northern Mariana Islands,\n+    Puerto Rico and the U.S. Virgin Islands.\n+\n+.. data:: us.us_states.ARMED_FORCES_STATES\n+\n+    A tuple of choices of the postal abbreviations of the three U.S\n+    military postal \"states\": Armed Forces Americas, Armed Forces\n+    Europe and Armed Forces Pacific.\n+\n+.. data:: us.us_states.COFA_STATES\n+\n+    A tuple of choices of the postal abbreviations of the three\n+    independent nations which, under the Compact of Free Association,\n+    are served by the U.S. Postal Service: the Federated States of\n+    Micronesia, the Marshall Islands and Palau.\n+\n+.. data:: us.us_states.OBSOLETE_STATES\n+\n+    A tuple of choices of obsolete U.S Postal Service state\n+    abbreviations: the former abbreviation for the Northern Mariana\n+    Islands, plus the Panama Canal Zone, the Philippines and the\n+    former Pacific trust territories.\n+\n+.. data:: us.us_states.STATE_CHOICES\n+\n+    A tuple of choices of all postal abbreviations corresponding to U.S states or\n+    territories, and the District of Columbia..\n+\n+.. data:: us.us_states.USPS_CHOICES\n+\n+    A tuple of choices of all postal abbreviations recognized by the\n+    U.S Postal Service (including all states and territories, the\n+    District of Columbia, armed forces \"states\" and independent\n+    nations serviced by USPS).\n+\n Uruguay (``uy``)\n ================\n "
        },
        {
            "sha": "749a68b14aaa6e0a994710f18070a0a670c1a00b",
            "filename": "docs/releases/1.3-beta-1.txt",
            "status": "modified",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/docs%2Freleases%2F1.3-beta-1.txt",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/docs%2Freleases%2F1.3-beta-1.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.3-beta-1.txt?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -120,6 +120,52 @@ attribute.\n \n .. _r12634: http://code.djangoproject.com/changeset/12634\n \n+Changes to ``USStateField``\n+===========================\n+\n+The :mod:`django.contrib.localflavor` application contains collections\n+of code relevant to specific countries or cultures. One such is\n+:class:`~django.contrib.localflavor.us.models.USStateField`, which\n+provides a field for storing the two-letter postal abbreviation of a\n+U.S. state. This field has consistently caused problems, however,\n+because it is often used to store the state portion of a U.S postal\n+address, but not all \"states\" recognized by the U.S Postal Service are\n+actually states of the U.S. or even U.S. territory. Several\n+compromises over the list of choices resulted in some users feeling\n+the field supported too many locations, while others felt it supported\n+too few.\n+\n+In Django 1.3 we're taking a new approach to this problem, implemented\n+as a pair of changes:\n+\n+* The choice list for `USStateField` has changed. Previously, it\n+  consisted of the 50 U.S. states, the District of Columbia and\n+  U.S. overseas territories. As of Django 1.3 it includes all previous\n+  choices, plus the U.S. Armed Forces postal codes.\n+\n+* A new model field,\n+  :class:`django.contrib.localflavor.us.models.USPostalCodeField`, has\n+  been added which draws its choices from a list of all postal\n+  abbreviations recognized by the U.S Postal Service. This includes\n+  all abbreviations recognized by `USStateField`, plus three\n+  independent nations -- the Federated States of Micronesia, the\n+  Republic of the Marshall Islands and the Republic of Palau -- which\n+  are serviced under treaty by the U.S. postal system. A new form\n+  widget, :class:`django.contrib.localflavor.us.forms.USPSSelect`, is\n+  also available and provides the same set of choices.\n+\n+Additionally, several finer-grained choice tuples are provided which\n+allow mixing and matching of subsets of the U.S. states and\n+territories, and other locations serviced by the U.S. postal\n+system. Consult the :mod:`django.contrib.localflavor` documentation\n+for more details.\n+\n+The change to `USStateField` is technically backwards-incompatible for\n+users who expect this field to exclude Armed Forces locations. If you\n+need to support U.S. mailing addresses without Armed Forces locations,\n+see the list of choice tuples available in the localflavor\n+documentation.\n+\n The Django 1.3 roadmap\n ======================\n "
        },
        {
            "sha": "7ac3826b2f68e9c1fe18799b7dec81c47b0bee2c",
            "filename": "tests/regressiontests/localflavor/us/models.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/tests%2Fregressiontests%2Flocalflavor%2Fus%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/tests%2Fregressiontests%2Flocalflavor%2Fus%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Fus%2Fmodels.py?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -1,5 +1,6 @@\n from django.db import models\n from django.contrib.localflavor.us.models import USStateField\n+from django.contrib.localflavor.us.models import USPostalCodeField\n \n # When creating models you need to remember to add a app_label as\n # 'localflavor', so your model can be found\n@@ -8,6 +9,7 @@ class USPlace(models.Model):\n     state = USStateField(blank=True)\n     state_req = USStateField()\n     state_default = USStateField(default=\"CA\", blank=True)\n+    postal_code = USPostalCodeField(blank=True)\n     name = models.CharField(max_length=20)\n     class Meta:\n         app_label = 'localflavor'"
        },
        {
            "sha": "8df541a8ccc0ad293f0a18b48934e2180d92b5cb",
            "filename": "tests/regressiontests/localflavor/us/tests.py",
            "status": "modified",
            "additions": 79,
            "deletions": 6,
            "changes": 85,
            "blob_url": "https://github.com/django/django/blob/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/tests%2Fregressiontests%2Flocalflavor%2Fus%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d/tests%2Fregressiontests%2Flocalflavor%2Fus%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Fus%2Ftests.py?ref=5ed6e7a4d50eb5a2193133c67fd6fe8f6bbd0e5d",
            "patch": "@@ -3,7 +3,7 @@\n \n class USLocalflavorTests(TestCase):\n     def setUp(self):\n-        self.form = USPlaceForm({'state':'GA', 'state_req':'NC', 'name':'impossible'})\n+        self.form = USPlaceForm({'state':'GA', 'state_req':'NC', 'postal_code': 'GA', 'name':'impossible'})\n \n     def test_get_display_methods(self):\n         \"\"\"Test that the get_*_display() methods are added to the model instances.\"\"\"\n@@ -24,7 +24,6 @@ def test_field_blank_option(self):\n <option value=\"\">---------</option>\n <option value=\"AL\">Alabama</option>\n <option value=\"AK\">Alaska</option>\n-<option value=\"AS\">American Samoa</option>\n <option value=\"AZ\">Arizona</option>\n <option value=\"AR\">Arkansas</option>\n <option value=\"CA\">California</option>\n@@ -34,7 +33,6 @@ def test_field_blank_option(self):\n <option value=\"DC\">District of Columbia</option>\n <option value=\"FL\">Florida</option>\n <option value=\"GA\" selected=\"selected\">Georgia</option>\n-<option value=\"GU\">Guam</option>\n <option value=\"HI\">Hawaii</option>\n <option value=\"ID\">Idaho</option>\n <option value=\"IL\">Illinois</option>\n@@ -59,24 +57,99 @@ def test_field_blank_option(self):\n <option value=\"NY\">New York</option>\n <option value=\"NC\">North Carolina</option>\n <option value=\"ND\">North Dakota</option>\n-<option value=\"MP\">Northern Mariana Islands</option>\n <option value=\"OH\">Ohio</option>\n <option value=\"OK\">Oklahoma</option>\n <option value=\"OR\">Oregon</option>\n <option value=\"PA\">Pennsylvania</option>\n-<option value=\"PR\">Puerto Rico</option>\n <option value=\"RI\">Rhode Island</option>\n <option value=\"SC\">South Carolina</option>\n <option value=\"SD\">South Dakota</option>\n <option value=\"TN\">Tennessee</option>\n <option value=\"TX\">Texas</option>\n <option value=\"UT\">Utah</option>\n <option value=\"VT\">Vermont</option>\n-<option value=\"VI\">Virgin Islands</option>\n <option value=\"VA\">Virginia</option>\n <option value=\"WA\">Washington</option>\n <option value=\"WV\">West Virginia</option>\n <option value=\"WI\">Wisconsin</option>\n <option value=\"WY\">Wyoming</option>\n+<option value=\"AS\">American Samoa</option>\n+<option value=\"GU\">Guam</option>\n+<option value=\"MP\">Northern Mariana Islands</option>\n+<option value=\"PR\">Puerto Rico</option>\n+<option value=\"VI\">Virgin Islands</option>\n+<option value=\"AA\">Armed Forces Americas</option>\n+<option value=\"AE\">Armed Forces Europe</option>\n+<option value=\"AP\">Armed Forces Pacific</option>\n </select>\"\"\"\n         self.assertEqual(str(self.form['state']), state_select_html)\n+\n+    def test_full_postal_code_list(self):\n+        \"\"\"Test that the full USPS code field is really the full list.\"\"\"\n+        usps_select_html = \"\"\"\\\n+<select name=\"postal_code\" id=\"id_postal_code\">\n+<option value=\"\">---------</option>\n+<option value=\"AL\">Alabama</option>\n+<option value=\"AK\">Alaska</option>\n+<option value=\"AZ\">Arizona</option>\n+<option value=\"AR\">Arkansas</option>\n+<option value=\"CA\">California</option>\n+<option value=\"CO\">Colorado</option>\n+<option value=\"CT\">Connecticut</option>\n+<option value=\"DE\">Delaware</option>\n+<option value=\"DC\">District of Columbia</option>\n+<option value=\"FL\">Florida</option>\n+<option value=\"GA\" selected=\"selected\">Georgia</option>\n+<option value=\"HI\">Hawaii</option>\n+<option value=\"ID\">Idaho</option>\n+<option value=\"IL\">Illinois</option>\n+<option value=\"IN\">Indiana</option>\n+<option value=\"IA\">Iowa</option>\n+<option value=\"KS\">Kansas</option>\n+<option value=\"KY\">Kentucky</option>\n+<option value=\"LA\">Louisiana</option>\n+<option value=\"ME\">Maine</option>\n+<option value=\"MD\">Maryland</option>\n+<option value=\"MA\">Massachusetts</option>\n+<option value=\"MI\">Michigan</option>\n+<option value=\"MN\">Minnesota</option>\n+<option value=\"MS\">Mississippi</option>\n+<option value=\"MO\">Missouri</option>\n+<option value=\"MT\">Montana</option>\n+<option value=\"NE\">Nebraska</option>\n+<option value=\"NV\">Nevada</option>\n+<option value=\"NH\">New Hampshire</option>\n+<option value=\"NJ\">New Jersey</option>\n+<option value=\"NM\">New Mexico</option>\n+<option value=\"NY\">New York</option>\n+<option value=\"NC\">North Carolina</option>\n+<option value=\"ND\">North Dakota</option>\n+<option value=\"OH\">Ohio</option>\n+<option value=\"OK\">Oklahoma</option>\n+<option value=\"OR\">Oregon</option>\n+<option value=\"PA\">Pennsylvania</option>\n+<option value=\"RI\">Rhode Island</option>\n+<option value=\"SC\">South Carolina</option>\n+<option value=\"SD\">South Dakota</option>\n+<option value=\"TN\">Tennessee</option>\n+<option value=\"TX\">Texas</option>\n+<option value=\"UT\">Utah</option>\n+<option value=\"VT\">Vermont</option>\n+<option value=\"VA\">Virginia</option>\n+<option value=\"WA\">Washington</option>\n+<option value=\"WV\">West Virginia</option>\n+<option value=\"WI\">Wisconsin</option>\n+<option value=\"WY\">Wyoming</option>\n+<option value=\"AS\">American Samoa</option>\n+<option value=\"GU\">Guam</option>\n+<option value=\"MP\">Northern Mariana Islands</option>\n+<option value=\"PR\">Puerto Rico</option>\n+<option value=\"VI\">Virgin Islands</option>\n+<option value=\"AA\">Armed Forces Americas</option>\n+<option value=\"AE\">Armed Forces Europe</option>\n+<option value=\"AP\">Armed Forces Pacific</option>\n+<option value=\"FM\">Federated States of Micronesia</option>\n+<option value=\"MH\">Marshall Islands</option>\n+<option value=\"PW\">Palau</option>\n+</select>\"\"\"\n+        self.assertEqual(str(self.form['postal_code']), usps_select_html)"
        }
    ],
    "stats": {
        "total": 325,
        "additions": 311,
        "deletions": 14
    }
}