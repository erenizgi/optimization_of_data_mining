{
    "author": "carljm",
    "message": "Refs #17323 -- Updated a test to use try/finally to avoid state leakage. Thanks dstufft for the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17211 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1b312edbeb469c58d8518cc0ece9cdb6c37f5c7e",
    "files": [
        {
            "sha": "e71c6f6eaa13945a492cf5bfcf83c31fca7fd77d",
            "filename": "tests/regressiontests/requests/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/1b312edbeb469c58d8518cc0ece9cdb6c37f5c7e/tests%2Fregressiontests%2Frequests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/1b312edbeb469c58d8518cc0ece9cdb6c37f5c7e/tests%2Fregressiontests%2Frequests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Frequests%2Ftests.py?ref=1b312edbeb469c58d8518cc0ece9cdb6c37f5c7e",
            "patch": "@@ -426,5 +426,7 @@ def test_raw_post_data_returns_body(self):\n \n         warnings_state = get_warnings_state()\n         warnings.filterwarnings('ignore', category=DeprecationWarning, module='django.http')\n-        self.assertEqual(request.body, request.raw_post_data)\n-        restore_warnings_state(warnings_state)\n+        try:\n+            self.assertEqual(request.body, request.raw_post_data)\n+        finally:\n+            restore_warnings_state(warnings_state)"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}