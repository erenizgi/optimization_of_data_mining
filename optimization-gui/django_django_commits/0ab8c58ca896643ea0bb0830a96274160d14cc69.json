{
    "author": "bkg",
    "message": "Fixed #18968 -- Only use separate GML regex for SpatiaLite < 3.0",
    "sha": "0ab8c58ca896643ea0bb0830a96274160d14cc69",
    "files": [
        {
            "sha": "7fc870f64b73baec8536985cdfca1ad7aa2531eb",
            "filename": "django/contrib/gis/tests/geoapp/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/0ab8c58ca896643ea0bb0830a96274160d14cc69/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0ab8c58ca896643ea0bb0830a96274160d14cc69/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Ftests.py?ref=0ab8c58ca896643ea0bb0830a96274160d14cc69",
            "patch": "@@ -520,8 +520,8 @@ def test_gml(self):\n         if oracle:\n             # No precision parameter for Oracle :-/\n             gml_regex = re.compile(r'^<gml:Point srsName=\"SDO:4326\" xmlns:gml=\"http://www.opengis.net/gml\"><gml:coordinates decimal=\"\\.\" cs=\",\" ts=\" \">-104.60925\\d+,38.25500\\d+ </gml:coordinates></gml:Point>')\n-        elif spatialite:\n-            # Spatialite has extra colon in SrsName\n+        elif spatialite and connection.ops.spatial_version < (3, 0, 0):\n+            # Spatialite before 3.0 has extra colon in SrsName\n             gml_regex = re.compile(r'^<gml:Point SrsName=\"EPSG::4326\"><gml:coordinates decimal=\"\\.\" cs=\",\" ts=\" \">-104.609251\\d+,38.255001</gml:coordinates></gml:Point>')\n         else:\n             gml_regex = re.compile(r'^<gml:Point srsName=\"EPSG:4326\"><gml:coordinates>-104\\.60925\\d+,38\\.255001</gml:coordinates></gml:Point>')"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}