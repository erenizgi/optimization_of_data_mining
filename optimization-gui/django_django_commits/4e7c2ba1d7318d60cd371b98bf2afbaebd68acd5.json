{
    "author": "freakboy3742",
    "message": "Cleaned up the tests from r15451 to avoid the need to retrieve a URL twice.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15453 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4e7c2ba1d7318d60cd371b98bf2afbaebd68acd5",
    "files": [
        {
            "sha": "d320db564418470ce036a2789e3453b007aba19f",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/4e7c2ba1d7318d60cd371b98bf2afbaebd68acd5/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4e7c2ba1d7318d60cd371b98bf2afbaebd68acd5/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=4e7c2ba1d7318d60cd371b98bf2afbaebd68acd5",
            "patch": "@@ -441,7 +441,7 @@ def testSingleWidgetFirsFieldFocus(self):\n             response,\n             '<script type=\"text/javascript\">document.getElementById(\"id_name\").focus();</script>'\n         )\n-        \n+\n     def testMultiWidgetFirsFieldFocus(self):\n         \"\"\"\n         JavaScript-assisted auto-focus should work if a model/ModelAdmin setup\n@@ -2619,11 +2619,10 @@ def tearDown(self):\n         settings.USE_THOUSAND_SEPARATOR = self.old_USE_THOUSAND_SEPARATOR\n         settings.USE_L10N = self.old_USE_L10N\n \n-    def assert_non_localized_year(self, url, year):\n+    def assert_non_localized_year(self, response, year):\n         \"\"\"Ensure that the year is not localized with\n         USE_THOUSAND_SEPARATOR. Refs #15234.\n         \"\"\"\n-        response = self.client.get(url)\n         self.assertNotContains(response, formats.number_format(year))\n \n     def assert_contains_year_link(self, response, date):\n@@ -2659,7 +2658,7 @@ def test_single(self):\n         url = reverse('admin:admin_views_podcast_changelist')\n         response = self.client.get(url)\n         self.assert_contains_day_link(response, DATE)\n-        self.assert_non_localized_year(url, 2000)\n+        self.assert_non_localized_year(response, 2000)\n \n     def test_within_month(self):\n         \"\"\"\n@@ -2674,7 +2673,7 @@ def test_within_month(self):\n         response = self.client.get(url)\n         for date in DATES:\n             self.assert_contains_day_link(response, date)\n-        self.assert_non_localized_year(url, 2000)\n+        self.assert_non_localized_year(response, 2000)\n \n     def test_within_year(self):\n         \"\"\"\n@@ -2691,7 +2690,7 @@ def test_within_year(self):\n         self.assertNotContains(response, 'release_date__day=')\n         for date in DATES:\n             self.assert_contains_month_link(response, date)\n-        self.assert_non_localized_year(url, 2000)\n+        self.assert_non_localized_year(response, 2000)\n \n     def test_multiple_years(self):\n         \"\"\"\n@@ -2717,15 +2716,15 @@ def test_multiple_years(self):\n                   date.year)\n             response = self.client.get(url)\n             self.assert_contains_month_link(response, date)\n-            self.assert_non_localized_year(url, 2000)\n-            self.assert_non_localized_year(url, 2003)\n-            self.assert_non_localized_year(url, 2005)\n+            self.assert_non_localized_year(response, 2000)\n+            self.assert_non_localized_year(response, 2003)\n+            self.assert_non_localized_year(response, 2005)\n \n             url = '%s?release_date__year=%d&release_date__month=%d' % (\n                   reverse('admin:admin_views_podcast_changelist'),\n                   date.year, date.month)\n             response = self.client.get(url)\n             self.assert_contains_day_link(response, date)\n-            self.assert_non_localized_year(url, 2000)\n-            self.assert_non_localized_year(url, 2003)\n-            self.assert_non_localized_year(url, 2005)\n+            self.assert_non_localized_year(response, 2000)\n+            self.assert_non_localized_year(response, 2003)\n+            self.assert_non_localized_year(response, 2005)"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 11,
        "deletions": 12
    }
}