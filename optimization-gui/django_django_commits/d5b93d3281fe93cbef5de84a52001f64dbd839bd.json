{
    "author": "akaariai",
    "message": "Fixed #10494 -- Added kwargs to QuerySet.get() error message in the case no objects were found.\n\nThanks brondsem for the report, Szymon Pyzalski for the patch and oinopion for review.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17917 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "d5b93d3281fe93cbef5de84a52001f64dbd839bd",
    "files": [
        {
            "sha": "3d4fd179247104e6c2efdc17ae2cefbfba35c35a",
            "filename": "django/db/models/query.py",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/d5b93d3281fe93cbef5de84a52001f64dbd839bd/django%2Fdb%2Fmodels%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/d5b93d3281fe93cbef5de84a52001f64dbd839bd/django%2Fdb%2Fmodels%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fquery.py?ref=d5b93d3281fe93cbef5de84a52001f64dbd839bd",
            "patch": "@@ -363,10 +363,14 @@ def get(self, *args, **kwargs):\n         if num == 1:\n             return clone._result_cache[0]\n         if not num:\n-            raise self.model.DoesNotExist(\"%s matching query does not exist.\"\n-                    % self.model._meta.object_name)\n-        raise self.model.MultipleObjectsReturned(\"get() returned more than one %s -- it returned %s! Lookup parameters were %s\"\n-                % (self.model._meta.object_name, num, kwargs))\n+            raise self.model.DoesNotExist(\n+                \"%s matching query does not exist. \"\n+                \"Lookup parameters were %s\" %\n+                (self.model._meta.object_name, kwargs))\n+        raise self.model.MultipleObjectsReturned(\n+            \"get() returned more than one %s -- it returned %s! \"\n+            \"Lookup parameters were %s\" %\n+            (self.model._meta.object_name, num, kwargs))\n \n     def create(self, **kwargs):\n         \"\"\""
        },
        {
            "sha": "bd2fdfdb6c074fbf1b7a426319173ae053cb2e37",
            "filename": "docs/intro/overview.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d5b93d3281fe93cbef5de84a52001f64dbd839bd/docs%2Fintro%2Foverview.txt",
            "raw_url": "https://github.com/django/django/raw/d5b93d3281fe93cbef5de84a52001f64dbd839bd/docs%2Fintro%2Foverview.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fintro%2Foverview.txt?ref=d5b93d3281fe93cbef5de84a52001f64dbd839bd",
            "patch": "@@ -93,7 +93,7 @@ access your data. The API is created on the fly, no code generation necessary::\n     >>> Reporter.objects.get(id=2)\n     Traceback (most recent call last):\n         ...\n-    DoesNotExist: Reporter matching query does not exist.\n+    DoesNotExist: Reporter matching query does not exist. Lookup parameters were {'id': 2}\n \n     # Create an article.\n     >>> from datetime import datetime"
        },
        {
            "sha": "d8258c00f82b60f11fef75d2a81e48074c1ad2c4",
            "filename": "docs/intro/tutorial01.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d5b93d3281fe93cbef5de84a52001f64dbd839bd/docs%2Fintro%2Ftutorial01.txt",
            "raw_url": "https://github.com/django/django/raw/d5b93d3281fe93cbef5de84a52001f64dbd839bd/docs%2Fintro%2Ftutorial01.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fintro%2Ftutorial01.txt?ref=d5b93d3281fe93cbef5de84a52001f64dbd839bd",
            "patch": "@@ -664,7 +664,7 @@ Save these changes and start a new Python interactive shell by running\n     >>> Poll.objects.get(id=2)\n     Traceback (most recent call last):\n         ...\n-    DoesNotExist: Poll matching query does not exist.\n+    DoesNotExist: Poll matching query does not exist. Lookup parameters were {'id': 2}\n \n     # Lookup by a primary key is the most common case, so Django provides a\n     # shortcut for primary-key exact lookups."
        },
        {
            "sha": "14d35cc644b4afb8fdd8030b408a1cc5d0dd8a22",
            "filename": "tests/modeltests/basic/tests.py",
            "status": "modified",
            "additions": 14,
            "deletions": 4,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/d5b93d3281fe93cbef5de84a52001f64dbd839bd/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d5b93d3281fe93cbef5de84a52001f64dbd839bd/tests%2Fmodeltests%2Fbasic%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fbasic%2Ftests.py?ref=d5b93d3281fe93cbef5de84a52001f64dbd839bd",
            "patch": "@@ -83,22 +83,32 @@ def test_lookup(self):\n         # parameters don't match any object.\n         self.assertRaisesRegexp(\n             ObjectDoesNotExist,\n-            \"Article matching query does not exist.\",\n+            \"Article matching query does not exist. Lookup parameters were \"\n+            \"{'id__exact': 2000}\",\n             Article.objects.get,\n             id__exact=2000,\n         )\n-\n+        # To avoid dict-ordering related errors check only one lookup\n+        # in single assert.\n+        self.assertRaisesRegexp(\n+            ObjectDoesNotExist,\n+            \".*'pub_date__year': 2005.*\",\n+            Article.objects.get,\n+            pub_date__year=2005,\n+            pub_date__month=8,\n+        )\n         self.assertRaisesRegexp(\n             ObjectDoesNotExist,\n-            \"Article matching query does not exist.\",\n+            \".*'pub_date__month': 8.*\",\n             Article.objects.get,\n             pub_date__year=2005,\n             pub_date__month=8,\n         )\n \n         self.assertRaisesRegexp(\n             ObjectDoesNotExist,\n-            \"Article matching query does not exist.\",\n+            \"Article matching query does not exist. Lookup parameters were \"\n+            \"{'pub_date__week_day': 6}\",\n             Article.objects.get,\n             pub_date__week_day=6,\n         )"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 24,
        "deletions": 10
    }
}