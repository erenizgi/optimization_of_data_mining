{
    "author": "ramiro",
    "message": "Modified tests introduced in r15452 to not run 31 test cases twice. Thanks Julien for discovering this.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17592 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4bbacd2663aab52bc8e55d2051dc69f42b982f42",
    "files": [
        {
            "sha": "dc8f29a281041c61d1a94eda6377a84808108d7b",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 5,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/4bbacd2663aab52bc8e55d2051dc69f42b982f42/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/4bbacd2663aab52bc8e55d2051dc69f42b982f42/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=4bbacd2663aab52bc8e55d2051dc69f42b982f42",
            "patch": "@@ -607,14 +607,22 @@ def test_filter_with_custom_template(self):\n             self.assertTrue('custom_filter_template.html' in [t.name for t in response.templates])\n \n \n-class AdminJavaScriptTest(AdminViewBasicTest):\n+class AdminJavaScriptTest(TestCase):\n+    fixtures = ['admin-views-users.xml']\n+\n     urls = \"regressiontests.admin_views.urls\"\n \n+    def setUp(self):\n+        self.client.login(username='super', password='secret')\n+\n+    def tearDown(self):\n+        self.client.logout()\n+\n     def testSingleWidgetFirsFieldFocus(self):\n         \"\"\"\n         JavaScript-assisted auto-focus on first field.\n         \"\"\"\n-        response = self.client.get('/test_admin/%s/admin_views/picture/add/' % self.urlbit)\n+        response = self.client.get('/test_admin/%s/admin_views/picture/add/' % 'admin')\n         self.assertContains(\n             response,\n             '<script type=\"text/javascript\">document.getElementById(\"id_name\").focus();</script>'\n@@ -625,7 +633,7 @@ def testMultiWidgetFirsFieldFocus(self):\n         JavaScript-assisted auto-focus should work if a model/ModelAdmin setup\n         is such that the first form field has a MultiWidget.\n         \"\"\"\n-        response = self.client.get('/test_admin/%s/admin_views/reservation/add/' % self.urlbit)\n+        response = self.client.get('/test_admin/%s/admin_views/reservation/add/' % 'admin')\n         self.assertContains(\n             response,\n             '<script type=\"text/javascript\">document.getElementById(\"id_start_date_0\").focus();</script>'\n@@ -640,7 +648,7 @@ def test_js_minified_only_if_debug_is_false(self):\n         \"\"\"\n         with override_settings(DEBUG=False):\n             response = self.client.get(\n-                '/test_admin/%s/admin_views/section/add/' % self.urlbit)\n+                '/test_admin/%s/admin_views/section/add/' % 'admin')\n             self.assertNotContains(response, 'jquery.js')\n             self.assertContains(response, 'jquery.min.js')\n             self.assertNotContains(response, 'prepopulate.js')\n@@ -653,7 +661,7 @@ def test_js_minified_only_if_debug_is_false(self):\n             self.assertContains(response, 'inlines.min.js')\n         with override_settings(DEBUG=True):\n             response = self.client.get(\n-                '/test_admin/%s/admin_views/section/add/' % self.urlbit)\n+                '/test_admin/%s/admin_views/section/add/' % 'admin')\n             self.assertContains(response, 'jquery.js')\n             self.assertNotContains(response, 'jquery.min.js')\n             self.assertContains(response, 'prepopulate.js')"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 13,
        "deletions": 5
    }
}