{
    "author": "timgraham",
    "message": "Fixed #19161 - Added missing clean_password method in custom user docs\n\nThanks DavidW for the report.",
    "sha": "e8f696097b19abbd3a98990ea4ca5f58d0444826",
    "files": [
        {
            "sha": "aed482f71020a35c5e33293c0407570b43b2cd0f",
            "filename": "docs/topics/auth.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/e8f696097b19abbd3a98990ea4ca5f58d0444826/docs%2Ftopics%2Fauth.txt",
            "raw_url": "https://github.com/django/django/raw/e8f696097b19abbd3a98990ea4ca5f58d0444826/docs%2Ftopics%2Fauth.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fauth.txt?ref=e8f696097b19abbd3a98990ea4ca5f58d0444826",
            "patch": "@@ -408,7 +408,7 @@ installation supports. The first entry in this list (that is,\n ``settings.PASSWORD_HASHERS[0]``) will be used to store passwords, and all the\n other entries are valid hashers that can be used to check existing passwords.\n This means that if you want to use a different algorithm, you'll need to modify\n-:setting:`PASSWORD_HASHERS` to list your prefered algorithm first in the list.\n+:setting:`PASSWORD_HASHERS` to list your preferred algorithm first in the list.\n \n The default for :setting:`PASSWORD_HASHERS` is::\n \n@@ -2283,13 +2283,19 @@ code would be required in the app's ``admin.py`` file::\n     class UserChangeForm(forms.ModelForm):\n         \"\"\"A form for updateing users. Includes all the fields on\n         the user, but replaces the password field with admin's\n-        pasword hash display field.\n+        password hash display field.\n         \"\"\"\n         password = ReadOnlyPasswordHashField()\n \n         class Meta:\n             model = MyUser\n \n+        def clean_password(self):\n+            # Regardless of what the user provides, return the initial value.\n+            # This is done here, rather than on the field, because the\n+            # field does not have access to the initial value\n+            return self.initial[\"password\"]\n+\n \n     class MyUserAdmin(UserAdmin):\n         # The forms to add and change user instances"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 8,
        "deletions": 2
    }
}