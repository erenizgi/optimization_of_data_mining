{
    "author": "spookylukey",
    "message": "Fixed #14201 - Add a \"security overview\" page to the docs\n\nThanks to davidfischer for the initial patch!\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16360 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
    "files": [
        {
            "sha": "6a502adac87bcbe4fe6b1d5c4953f31a71b32f15",
            "filename": "docs/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Findex.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -185,6 +185,7 @@ Other batteries included\n     * :doc:`Messages <ref/contrib/messages>`\n     * :doc:`Pagination <topics/pagination>`\n     * :doc:`Redirects <ref/contrib/redirects>`\n+    * :doc:`Security <topics/security>`\n     * :doc:`Serialization <topics/serialization>`\n     * :doc:`Sessions <topics/http/sessions>`\n     * :doc:`Signals <topics/signals>`"
        },
        {
            "sha": "b70fe9f90de7bb5b46a13590612015dbe5febbcf",
            "filename": "docs/ref/clickjacking.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Fref%2Fclickjacking.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Fref%2Fclickjacking.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclickjacking.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -26,6 +26,8 @@ the \"Buy Now\" button is invisibly overlaid on the \"I Like Ponies\" button. If the\n user visits the attacker site and clicks \"I Like Ponies\" he will inadvertently\n click on the online store's \"Buy Now\" button and unknowingly purchase the item.\n \n+.. _clickjacking-prevention:\n+\n Preventing clickjacking\n =======================\n "
        },
        {
            "sha": "695b441108847305e12126999506b49329613874",
            "filename": "docs/ref/contrib/csrf.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Fref%2Fcontrib%2Fcsrf.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Fref%2Fcontrib%2Fcsrf.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fcsrf.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -21,6 +21,8 @@ can then be protected by following the steps below.\n .. _Cross Site Request Forgeries: http://www.squarefree.com/securitytips/web-developers.html#CSRF\n .. _9.1.1 Safe Methods, HTTP 1.1, RFC 2616: http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html\n \n+.. _using-csrf:\n+\n How to use it\n =============\n \n@@ -182,6 +184,8 @@ The error page, however, is not very friendly, so you may want to provide your\n own view for handling this condition.  To do this, simply set the\n :setting:`CSRF_FAILURE_VIEW` setting.\n \n+.. _how-csrf-works:\n+\n How it works\n ============\n "
        },
        {
            "sha": "680fa5e99ae3a6af933fd43e1c1c9306c661a752",
            "filename": "docs/topics/db/sql.txt",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Fdb%2Fsql.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Fdb%2Fsql.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fdb%2Fsql.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -13,6 +13,8 @@ return model instances`__, or you can avoid the model layer entirely and\n __ `performing raw queries`_\n __ `executing custom SQL directly`_\n \n+.. _executing-raw-queries:\n+\n Performing raw queries\n ======================\n \n@@ -190,6 +192,8 @@ parameters from the ``params`` list.\n \n __ http://en.wikipedia.org/wiki/SQL_injection\n \n+.. _executing-custom-sql:\n+\n Executing custom SQL directly\n =============================\n "
        },
        {
            "sha": "4b3309990365c386d3360df53eff25dea673686d",
            "filename": "docs/topics/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Findex.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -23,6 +23,7 @@ Introductions to all the key parts of Django you'll need to know:\n    i18n/index\n    logging\n    pagination\n+   security\n    serialization\n    settings\n    signals"
        },
        {
            "sha": "f411bcf7b1058f63e5441fc35f8178bd54fc6f8e",
            "filename": "docs/topics/security.txt",
            "status": "added",
            "additions": 168,
            "deletions": 0,
            "changes": 168,
            "blob_url": "https://github.com/django/django/blob/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Fsecurity.txt",
            "raw_url": "https://github.com/django/django/raw/528157ce73e4e7d9ee65c362d0cb4013eb17c5f0/docs%2Ftopics%2Fsecurity.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fsecurity.txt?ref=528157ce73e4e7d9ee65c362d0cb4013eb17c5f0",
            "patch": "@@ -0,0 +1,168 @@\n+====================\n+ Security in Django\n+====================\n+\n+This document will show you the security features of Django as well\n+as give some advice about securing a Django site.\n+\n+.. _cross-site-scripting:\n+\n+Cross site scripting (XSS) protection\n+=====================================\n+\n+.. highlightlang:: html+django\n+\n+XSS attacks allow a user to inject client side scripts into the\n+browsers of other users. This is usually acheived by storing the malicious\n+scripts to the database where it will be retrieved and displayed to other users\n+or to get users to click a link containing variables containing scripts that\n+will be rendered by the user's browser. However, XSS attacks can originate\n+from any untrusted source of data such as cookies or web services.\n+\n+Using Django templates protects you against the majority of XSS attacks.\n+However, it is important to understand what protections it provides\n+and its limitations.\n+\n+Django templates :ref:`escape specific characters <automatic-html-escaping>`\n+which are particularly dangerous to HTML. While this protects users from most\n+malications input, it is not entirely foolproof. For example, it will not\n+protect the following:\n+\n+.. code-block:: html+django\n+\n+    <style class={{ var }}>...</style>\n+\n+If ``var`` is set to ``'class1 onmouseover=javascript:func()'``, this can result\n+in unauthorized javascript execution depending on how the browser renders\n+imperfect HTML.\n+\n+It is also important to be particularly careful when using ``is_safe`` with\n+custom template tags, the :ttag:`safe` template tag, :mod:`mark_safe\n+<django.utils.safestring>`, and when autoescape is turned off.\n+\n+In addition, if you are using the template system to output something other\n+than HTML, there may be entirely separate characters and words which require\n+escaping.\n+\n+You should also be very careful when storing HTML to the database especially\n+when that HTML will be retrieved and displayed.\n+\n+Cross site request forgery (CSRF) protection\n+============================================\n+\n+CSRF attacks allow a malicious user to execute actions using the credentials\n+of another user without that user's knowledge or consent.\n+\n+Django has built-in protection against most types of CSRF attacks, providing you\n+have :ref:`enabled and used it <using-csrf>` where appropriate. However, as with\n+any mitigation technique, there are limitations. For example, it is possible to\n+disable the CSRF module globally or for particular views. You should only do\n+this if you know what you are doing. There are other :ref:`limitations\n+<csrf-limitations>` if your site has subdomains that are outside of your\n+control.\n+\n+:ref:`CSRF protection works <how-csrf-works>` by checking for a nonce in each\n+POST request. This ensures that a malicious user cannot simply \"replay\" a form\n+POST to your website and have another logged in user unwittingly submit that\n+form. The malicious user would have to know the nonce, which is user specific\n+(using a cookie).\n+\n+Be very careful with marking views with the ``csrf_exempt`` decorator unless\n+it is absolutely necessary.\n+\n+SQL injection protection\n+========================\n+\n+SQL injection is a type of attack where a malicious user is able to execute\n+arbitrary SQL code on a database. This can result in records\n+being deleted or data leakage.\n+\n+By using Django's querysets, the resulting SQL will be properly escaped by\n+the underlying database driver. However, Django also gives developers power to\n+write :ref:`raw queries <executing-raw-queries>` or execute\n+:ref:`custom sql <executing-custom-sql>`. These capabilities should be used\n+sparingly and you should always be careful to properly escape any parameters\n+that the user can control. In addition, you should exercise caution when using\n+:meth:`extra() <django.db.models.query.QuerySet.extra>`.\n+\n+\n+Clickjacking protection\n+=======================\n+\n+Clickjacking is a type of attack where a malicious site wraps another site\n+in a frame. This attack can result in an unsuspecting user being tricked\n+into performing unintended actions on the target site.\n+\n+Django contains :ref:`clickjacking protection <clickjacking-prevention>` in\n+the form of the\n+:mod:`X-Frame-Options middleware <django.middleware.clickjacking.XFrameOptionsMiddleware>`\n+which in a supporting browser can prevent a site from being rendered inside\n+of a frame. It is possible to disable the protection on a per view basis\n+or to configure the exact header value sent.\n+\n+The middleware is strongly recommended for any site that does not need to have\n+its pages wrapped in a frame by third party sites, or only needs to allow that\n+for a small section of the site.\n+\n+SSL/HTTPS\n+=========\n+\n+It is always better for security, though not always practical in all cases, to\n+deploy your site behind HTTPS. Without this, it is possible for malicious\n+network users to sniff authentication credentials or any other information\n+transferred between client and server, and in some cases - **active** network\n+attackers - to alter data that is sent in either direction.\n+\n+If you want the protection that HTTPS provides, and have enabled it on your\n+server, there are some additional steps to consider to ensure that sensitive\n+information is not leaked:\n+\n+* Set up redirection so that requests over HTTP are redirected to HTTPS.\n+\n+  It is possible to do this with a piece of Django middleware. However, this has\n+  problems for the common case of a Django app running behind a reverse\n+  proxy. Often, reverse proxies are configured to set the ``X-Forwarded-SSL``\n+  header (or equivalent) if the incoming connection was HTTPS, and the absence\n+  of this header could be used to detect a request that was not HTTPS. However,\n+  this method usually cannot be relied on, as a client, or a malicious active\n+  network attacker, could also set this header.\n+\n+  So, for the case of a reverse proxy, it is recommended that the main web\n+  server should be configured to do the redirect to HTTPS, or configured to send\n+  HTTP requests to an app that unconditionally redirects to HTTPS.\n+\n+* Use 'secure' cookies.\n+\n+  If a browser connects initially via HTTP, which is the default for most\n+  browsers, it is possible for existing cookies to be leaked. For this reason,\n+  you should set your :setting:`SESSION_COOKIE_SECURE` and\n+  :setting:`CSRF_COOKIE_SECURE` settings to ``True``. This instructs the browser\n+  to only send these cookies over HTTPS connections. Note that this will mean\n+  that sessions will not work over HTTP, and the CSRF protection will prevent\n+  any data POST data being accepted over HTTP (which will be fine if you are\n+  redirecting all HTTP traffic to HTTPS).\n+\n+.. _additional-security-topics:\n+\n+Additional security topics\n+==========================\n+\n+While Django provides good security protection out of the box, it is still\n+important to properly deploy your application and take advantage of the\n+security protection of the web server, operating system and other components.\n+\n+* Make sure that your Python code is outside of the web server's root. This\n+  will ensure that your Python code is not accidentally served as plain text.\n+* Django does not throttle requests to authenticate users. To protect against\n+  brute-force attacks against the authentication system, you may consider\n+  deploying a Django plugin or web server module to throttle these requests.\n+* If your site accepts file uploads, it is strongly advised that you limit\n+  the these uploads in your web server configuration to a reasonable\n+  size in order to prevent denial of service (DOS) attacks. In Apache, this\n+  can be easily set using the LimitRequestBody_ directive.\n+* Keep your :setting:`SECRET_KEY` a secret.\n+* It is a good idea to limit the accessibility of your caching system and\n+  database using a firewall.\n+\n+.. _LimitRequestBody: http://httpd.apache.org/docs/2.2/mod/core.html#limitrequestbody\n+"
        }
    ],
    "stats": {
        "total": 180,
        "additions": 180,
        "deletions": 0
    }
}