{
    "author": "jezdez",
    "message": "Fixed #17597 -- Marked a word for translation in the comments app's form class. Thanks, Claude Paroz.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17438 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "928f605efe0af2362c368e4bd9c280c7620abf3f",
    "files": [
        {
            "sha": "830e24bca93127ea926e208dc7f989d9ebe8d840",
            "filename": "django/contrib/comments/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/928f605efe0af2362c368e4bd9c280c7620abf3f/django%2Fcontrib%2Fcomments%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/928f605efe0af2362c368e4bd9c280c7620abf3f/django%2Fcontrib%2Fcomments%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fforms.py?ref=928f605efe0af2362c368e4bd9c280c7620abf3f",
            "patch": "@@ -8,7 +8,7 @@\n from django.utils.encoding import force_unicode\n from django.utils.text import get_text_list\n from django.utils import timezone\n-from django.utils.translation import ungettext, ugettext_lazy as _\n+from django.utils.translation import ungettext, ugettext, ugettext_lazy as _\n \n COMMENT_MAX_LENGTH = getattr(settings,'COMMENT_MAX_LENGTH', 3000)\n \n@@ -175,8 +175,10 @@ def clean_comment(self):\n             if bad_words:\n                 raise forms.ValidationError(ungettext(\n                     \"Watch your mouth! The word %s is not allowed here.\",\n-                    \"Watch your mouth! The words %s are not allowed here.\", len(bad_words))\n-                    % get_text_list(['\"%s%s%s\"' % (i[0], '-'*(len(i)-2), i[-1]) for i in bad_words], 'and'))\n+                    \"Watch your mouth! The words %s are not allowed here.\",\n+                    len(bad_words)) % get_text_list(\n+                        ['\"%s%s%s\"' % (i[0], '-'*(len(i)-2), i[-1])\n+                         for i in bad_words], ugettext('and')))\n         return comment\n \n class CommentForm(CommentDetailsForm):"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}