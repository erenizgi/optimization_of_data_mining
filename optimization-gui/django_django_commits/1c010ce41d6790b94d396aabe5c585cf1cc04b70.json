{
    "author": "jbronn",
    "message": "Skip `LayerMapRouterTest` if there are not multiple databases.",
    "sha": "1c010ce41d6790b94d396aabe5c585cf1cc04b70",
    "files": [
        {
            "sha": "7c1d99520df302a6cb54520c749b738f23e83a25",
            "filename": "django/contrib/gis/tests/layermap/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/1c010ce41d6790b94d396aabe5c585cf1cc04b70/django%2Fcontrib%2Fgis%2Ftests%2Flayermap%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/1c010ce41d6790b94d396aabe5c585cf1cc04b70/django%2Fcontrib%2Fgis%2Ftests%2Flayermap%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Flayermap%2Ftests.py?ref=1c010ce41d6790b94d396aabe5c585cf1cc04b70",
            "patch": "@@ -1,6 +1,7 @@\n from __future__ import absolute_import\n \n import os\n+import unittest\n from copy import copy\n from decimal import Decimal\n \n@@ -9,6 +10,7 @@\n from django.contrib.gis.utils.layermapping import (LayerMapping, LayerMapError,\n     InvalidDecimal, MissingForeignKey)\n from django.db import router\n+from django.conf import settings\n from django.test import TestCase\n \n from .models import (\n@@ -308,6 +310,7 @@ def setUp(self):\n     def tearDown(self):\n         router.routers = self.old_routers\n \n+    @unittest.skipUnless(len(settings.DATABASES) > 1, 'multiple databases required')\n     def test_layermapping_default_db(self):\n         lm = LayerMapping(City, city_shp, city_mapping)\n         self.assertEqual(lm.using, 'other')"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}