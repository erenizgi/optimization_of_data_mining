{
    "author": "aaugustin",
    "message": "Fixed #17054 -- Ensured the test suite runs when gettext isn't available, after r16981.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17013 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "2bc77be12e2a98ff9e4bc8fe4cf112c17c179403",
    "files": [
        {
            "sha": "38e8af1d0d59a054617c9580ad4260580e4fb5ee",
            "filename": "tests/regressiontests/i18n/commands/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/2bc77be12e2a98ff9e4bc8fe4cf112c17c179403/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2bc77be12e2a98ff9e4bc8fe4cf112c17c179403/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcommands%2Ftests.py?ref=2bc77be12e2a98ff9e4bc8fe4cf112c17c179403",
            "patch": "@@ -2,6 +2,9 @@\n import re\n from subprocess import Popen, PIPE\n \n+can_run_extraction_tests = False\n+can_run_compilation_tests = False\n+\n def find_command(cmd, path=None, pathext=None):\n     if path is None:\n         path = os.environ.get('PATH', []).split(os.pathsep)\n@@ -36,8 +39,8 @@ def find_command(cmd, path=None, pathext=None):\n     if match:\n         xversion = (int(match.group('major')), int(match.group('minor')))\n         if xversion >= (0, 15):\n-            from extraction import *\n+            can_run_extraction_tests = True\n     del p\n \n if find_command('msgfmt'):\n-    from compilation import *\n+    can_run_compilation_tests = True"
        },
        {
            "sha": "17a96ed4336b1cab3b89c0b66549fb3ac7eb2016",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 2,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/2bc77be12e2a98ff9e4bc8fe4cf112c17c179403/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/2bc77be12e2a98ff9e4bc8fe4cf112c17c179403/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=2bc77be12e2a98ff9e4bc8fe4cf112c17c179403",
            "patch": "@@ -22,11 +22,20 @@\n     get_language_info, get_language, get_language_from_request)\n \n \n-from .commands.tests import NoWrapExtractorTests, IgnoredExtractorTests, MessageCompilationTests, PoFileTests, BasicExtractorTests, JavascriptExtractorTests, CopyPluralFormsExtractorTests, SymlinkExtractorTests, ExtractorTests\n+from .commands.tests import can_run_extraction_tests, can_run_compilation_tests\n+if can_run_extraction_tests:\n+    from .commands.extraction import (ExtractorTests, BasicExtractorTests,\n+        JavascriptExtractorTests, IgnoredExtractorTests, SymlinkExtractorTests,\n+        CopyPluralFormsExtractorTests, NoWrapExtractorTests)\n+if can_run_compilation_tests:\n+    from .commands.compilation import MessageCompilationTests, PoFileTests\n from .contenttypes.tests import ContentTypeTests\n from .forms import I18nForm, SelectDateForm, SelectDateWidget, CompanyForm\n from .models import Company, TestModel\n-from .patterns.tests import URLRedirectWithoutTrailingSlashTests, URLTranslationTests, URLDisabledTests, URLTagTests, URLTestCaseBase, URLRedirectWithoutTrailingSlashSettingTests, URLNamespaceTests, URLPrefixTests, URLResponseTests, URLRedirectTests\n+from .patterns.tests import (URLRedirectWithoutTrailingSlashTests,\n+    URLTranslationTests, URLDisabledTests, URLTagTests, URLTestCaseBase,\n+    URLRedirectWithoutTrailingSlashSettingTests, URLNamespaceTests,\n+    URLPrefixTests, URLResponseTests, URLRedirectTests)\n from .test_warnings import DeprecationWarningTests\n \n "
        }
    ],
    "stats": {
        "total": 20,
        "additions": 16,
        "deletions": 4
    }
}