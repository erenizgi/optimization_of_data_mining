{
    "author": "davidfischer",
    "message": "Added CSRF with HTTPS/HSTS and forwarding note",
    "sha": "c65100248ddc4c305487013846b9fd343f7f3078",
    "files": [
        {
            "sha": "797ab0b5943a97545404218f198c7d46b3f9b458",
            "filename": "docs/topics/security.txt",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/c65100248ddc4c305487013846b9fd343f7f3078/docs%2Ftopics%2Fsecurity.txt",
            "raw_url": "https://github.com/django/django/raw/c65100248ddc4c305487013846b9fd343f7f3078/docs%2Ftopics%2Fsecurity.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fsecurity.txt?ref=c65100248ddc4c305487013846b9fd343f7f3078",
            "patch": "@@ -76,9 +76,17 @@ POST to your Web site and have another logged in user unwittingly submit that\n form. The malicious user would have to know the nonce, which is user specific\n (using a cookie).\n \n+When deployed with :ref:`HTTPS <security-recommendation-ssl>`, \n+``CsrfViewMiddleware`` will check that the HTTP referer header is set to a \n+URL on the same origin (including subdomain and port). Because HTTPS\n+provides additional security, it is imperative to ensure connections use HTTPS\n+where it is available by forwarding insecure connection requests and using\n+HSTS for supported browsers.\n+\n Be very careful with marking views with the ``csrf_exempt`` decorator unless\n it is absolutely necessary.\n \n+\n SQL injection protection\n ========================\n \n@@ -112,6 +120,8 @@ The middleware is strongly recommended for any site that does not need to have\n its pages wrapped in a frame by third party sites, or only needs to allow that\n for a small section of the site.\n \n+.. _security-recommendation-ssl:\n+\n SSL/HTTPS\n =========\n \n@@ -155,7 +165,7 @@ server, there are some additional steps you may need:\n   the added security of SSL provided one successful connection has occurred.\n   HSTS is usually configured on the web server.\n \n-.. _additional-security-topics:\n+.. _host-headers-virtual-hosting:\n \n Host headers and virtual hosting\n ================================\n@@ -175,6 +185,8 @@ recommend you ensure your Web server is configured such that:\n Additionally, as of 1.3.1, Django requires you to explicitly enable support for\n the ``X-Forwarded-Host`` header if your configuration requires it.\n \n+.. _additional-security-topics:\n+\n Additional security topics\n ==========================\n "
        }
    ],
    "stats": {
        "total": 14,
        "additions": 13,
        "deletions": 1
    }
}