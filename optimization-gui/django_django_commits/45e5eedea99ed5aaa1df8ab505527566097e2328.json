{
    "author": "andrewgodwin",
    "message": "Remove special-casing for proxy/unmanaged models",
    "sha": "45e5eedea99ed5aaa1df8ab505527566097e2328",
    "files": [
        {
            "sha": "5f45ee93e9a946add37dade864c3c95641a4a7d4",
            "filename": "django/db/backends/schema.py",
            "status": "modified",
            "additions": 4,
            "deletions": 10,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/45e5eedea99ed5aaa1df8ab505527566097e2328/django%2Fdb%2Fbackends%2Fschema.py",
            "raw_url": "https://github.com/django/django/raw/45e5eedea99ed5aaa1df8ab505527566097e2328/django%2Fdb%2Fbackends%2Fschema.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fschema.py?ref=45e5eedea99ed5aaa1df8ab505527566097e2328",
            "patch": "@@ -159,14 +159,11 @@ def effective_default(self, field):\n \n     # Actions\n \n-    def create_model(self, model, force=False):\n+    def create_model(self, model):\n         \"\"\"\n         Takes a model and creates a table for it in the database.\n         Will also create any accompanying indexes or unique constraints.\n         \"\"\"\n-        # Do nothing if this is an unmanaged or proxy model\n-        if not force and (not model._meta.managed or model._meta.proxy):\n-            return\n         # Create column SQL, add FK deferreds if needed\n         column_sqls = []\n         params = []\n@@ -226,15 +223,12 @@ def create_model(self, model, force=False):\n         self.execute(sql, params)\n         # Make M2M tables\n         for field in model._meta.local_many_to_many:\n-            self.create_model(field.rel.through, force=True)\n+            self.create_model(field.rel.through)\n \n-    def delete_model(self, model, force=False):\n+    def delete_model(self, model):\n         \"\"\"\n         Deletes a model from the database.\n         \"\"\"\n-        # Do nothing if this is an unmanaged or proxy model\n-        if not force and (not model._meta.managed or model._meta.proxy):\n-            return\n         # Delete the table\n         self.execute(self.sql_delete_table % {\n             \"table\": self.quote_name(model._meta.db_table),\n@@ -300,7 +294,7 @@ def create_field(self, model, field, keep_default=False):\n         \"\"\"\n         # Special-case implicit M2M tables\n         if isinstance(field, ManyToManyField) and field.rel.through._meta.auto_created:\n-            return self.create_model(field.rel.through, force=True)\n+            return self.create_model(field.rel.through)\n         # Get the column's definition\n         definition, params = self.column_sql(model, field, include_default=True)\n         # It might not actually have a column behind it"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 4,
        "deletions": 10
    }
}