{
    "author": "unknown",
    "message": "Fixed #14820 -- Added more information to the generic relation docs regarding different choices for storing PK references for a GenericForeignKey. Thanks to mrmachine for the all the work on the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15545 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "9323f81dc03047371329c954c8eec8ef97d4dc16",
    "files": [
        {
            "sha": "e232289385afcc2802236ae271ab77b225f3d765",
            "filename": "docs/ref/contrib/contenttypes.txt",
            "status": "modified",
            "additions": 25,
            "deletions": 7,
            "changes": 32,
            "blob_url": "https://github.com/django/django/blob/9323f81dc03047371329c954c8eec8ef97d4dc16/docs%2Fref%2Fcontrib%2Fcontenttypes.txt",
            "raw_url": "https://github.com/django/django/raw/9323f81dc03047371329c954c8eec8ef97d4dc16/docs%2Fref%2Fcontrib%2Fcontenttypes.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fcontenttypes.txt?ref=9323f81dc03047371329c954c8eec8ef97d4dc16",
            "patch": "@@ -251,13 +251,8 @@ model:\n \n         2. Give your model a field that can store primary key values from the\n            models you'll be relating to. For most models, this means a\n-           :class:`~django.db.models.PositiveIntegerField`.\n-           \n-           This field must be of the same type as the primary key of the models\n-           that will be involved in the generic relation. For example, if you use\n-           :class:`~django.db.models.fields.IntegerField`, you won't be able to\n-           form a generic relation with a model that uses a\n-           :class:`~django.db.models.fields.CharField` as a primary key.\n+           :class:`~django.db.models.PositiveIntegerField`. The usual name\n+           for this field is \"object_id\".\n \n         3. Give your model a\n            :class:`~django.contrib.contenttypes.generic.GenericForeignKey`, and\n@@ -267,6 +262,29 @@ model:\n            :class:`~django.contrib.contenttypes.generic.GenericForeignKey` will\n            look for.\n \n+.. admonition:: Primary key type compatibility\n+\n+   The \"object_id\" field doesn't have to be the same type as the\n+   primary key fields on the related models, but their primary key values\n+   must be coercible to the same type as the \"object_id\" field by its\n+   :meth:`~django.db.models.Field.get_db_prep_value` method.\n+\n+   For example, if you want to allow generic relations to models with either\n+   :class:`~django.db.models.IntegerField` or\n+   :class:`~django.db.models.CharField` primary key fields, you\n+   can use :class:`~django.db.models.CharField` for the\n+   \"object_id\" field on your model since integers can be coerced to\n+   strings by :meth:`~django.db.models.Field.get_db_prep_value`.\n+\n+   For maximum flexibility you can use a\n+   :class:`~django.db.models.TextField` which doesn't have a\n+   maximum length defined, however this may incur significant performance\n+   penalties depending on your database backend.\n+\n+   There is no one-size-fits-all solution for which field type is best. You\n+   should evaluate the models you expect to be pointing to and determine\n+   which solution will be most effective for your use case.\n+\n This will enable an API similar to the one used for a normal\n :class:`~django.db.models.ForeignKey`;\n each ``TaggedItem`` will have a ``content_object`` field that returns the"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 25,
        "deletions": 7
    }
}