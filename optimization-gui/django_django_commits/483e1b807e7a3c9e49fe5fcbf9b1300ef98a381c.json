{
    "author": "konarkmodi",
    "message": "Refs #18586 -- Split out long custom_columns lookup test into multiple tests.",
    "sha": "483e1b807e7a3c9e49fe5fcbf9b1300ef98a381c",
    "files": [
        {
            "sha": "51028b0c46021175eda18a960d8bd609ec115329",
            "filename": "tests/custom_columns/tests.py",
            "status": "modified",
            "additions": 27,
            "deletions": 22,
            "changes": 49,
            "blob_url": "https://github.com/django/django/blob/483e1b807e7a3c9e49fe5fcbf9b1300ef98a381c/tests%2Fcustom_columns%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/483e1b807e7a3c9e49fe5fcbf9b1300ef98a381c/tests%2Fcustom_columns%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fcustom_columns%2Ftests.py?ref=483e1b807e7a3c9e49fe5fcbf9b1300ef98a381c",
            "patch": "@@ -8,66 +8,71 @@\n \n \n class CustomColumnsTests(TestCase):\n-    def test_db_column(self):\n+    def setUp(self):\n         a1 = Author.objects.create(first_name=\"John\", last_name=\"Smith\")\n         a2 = Author.objects.create(first_name=\"Peter\", last_name=\"Jones\")\n \n         art = Article.objects.create(headline=\"Django lets you build Web apps easily\")\n         art.authors = [a1, a2]\n \n-        # Although the table and column names on Author have been set to custom\n-        # values, nothing about using the Author model has changed...\n+        self.a1 = a1\n+        self.art = art\n \n-        # Query the available authors\n+    def test_query_all_available_authors(self):\n         self.assertQuerysetEqual(\n             Author.objects.all(), [\n                 \"Peter Jones\", \"John Smith\",\n             ],\n             six.text_type\n         )\n+\n+    def test_get_first_name(self):\n+        self.assertEqual(\n+            Author.objects.get(first_name__exact=\"John\"),\n+            self.a1,\n+        )\n+\n+    def test_filter_first_name(self):\n         self.assertQuerysetEqual(\n             Author.objects.filter(first_name__exact=\"John\"), [\n                 \"John Smith\",\n             ],\n             six.text_type\n-        )\n-        self.assertEqual(\n-            Author.objects.get(first_name__exact=\"John\"),\n-            a1,\n+\n         )\n \n+    def test_field_error(self):\n         self.assertRaises(FieldError,\n             lambda: Author.objects.filter(firstname__exact=\"John\")\n         )\n \n-        a = Author.objects.get(last_name__exact=\"Smith\")\n-        a.first_name = \"John\"\n-        a.last_name = \"Smith\"\n+    def test_attribute_error(self):\n+        with self.assertRaises(AttributeError):\n+            self.a1.firstname\n \n-        self.assertRaises(AttributeError, lambda: a.firstname)\n-        self.assertRaises(AttributeError, lambda: a.last)\n+        with self.assertRaises(AttributeError):\n+            self.a1.last\n \n-        # Although the Article table uses a custom m2m table,\n-        # nothing about using the m2m relationship has changed...\n-\n-        # Get all the authors for an article\n+    def test_get_all_authors_for_an_article(self):\n         self.assertQuerysetEqual(\n-            art.authors.all(), [\n+            self.art.authors.all(), [\n                 \"Peter Jones\",\n                 \"John Smith\",\n             ],\n             six.text_type\n         )\n-        # Get the articles for an author\n+\n+    def test_get_all_articles_for_an_author(self):\n         self.assertQuerysetEqual(\n-            a.article_set.all(), [\n+            self.a1.article_set.all(), [\n                 \"Django lets you build Web apps easily\",\n             ],\n             lambda a: a.headline\n         )\n-        # Query the authors across the m2m relation\n+\n+    def test_get_author_m2m_relation(self):\n         self.assertQuerysetEqual(\n-            art.authors.filter(last_name='Jones'), [\n+            self.art.authors.filter(last_name='Jones'), [\n                 \"Peter Jones\"\n             ],\n             six.text_type"
        }
    ],
    "stats": {
        "total": 49,
        "additions": 27,
        "deletions": 22
    }
}