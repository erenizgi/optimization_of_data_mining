{
    "author": "claudep",
    "message": "Fixed #19378 -- Ensured get_success_url returns a non-lazy URL",
    "sha": "795ac7deda64e67a059b489f8684bb440ca7f7ad",
    "files": [
        {
            "sha": "97a6c0a698fabf481a094ddb0dad7abf9b68437d",
            "filename": "django/views/generic/edit.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/django%2Fviews%2Fgeneric%2Fedit.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/django%2Fviews%2Fgeneric%2Fedit.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fgeneric%2Fedit.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -1,6 +1,7 @@\n from django.forms import models as model_forms\n from django.core.exceptions import ImproperlyConfigured\n from django.http import HttpResponseRedirect\n+from django.utils.encoding import force_text\n from django.views.generic.base import TemplateResponseMixin, ContextMixin, View\n from django.views.generic.detail import (SingleObjectMixin,\n                         SingleObjectTemplateResponseMixin, BaseDetailView)\n@@ -50,7 +51,8 @@ def get_success_url(self):\n         Returns the supplied success URL.\n         \"\"\"\n         if self.success_url:\n-            url = self.success_url\n+            # Forcing possible reverse_lazy evaluation\n+            url = force_text(self.success_url)\n         else:\n             raise ImproperlyConfigured(\n                 \"No URL to redirect to. Provide a success_url.\")"
        },
        {
            "sha": "0f1eb3cca724248b6e792bb6c1a5818ed395b83a",
            "filename": "tests/regressiontests/generic_views/edit.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fedit.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fedit.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fedit.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -20,6 +20,15 @@ def test_initial_data(self):\n          initial_2 = FormMixin().get_initial()\n          self.assertNotEqual(initial_1, initial_2)\n \n+\n+class BasicFormTests(TestCase):\n+    urls = 'regressiontests.generic_views.urls'\n+\n+    def test_post_data(self):\n+        res = self.client.post('/contact/', {'name': \"Me\", 'message': \"Hello\"})\n+        self.assertRedirects(res, 'http://testserver/list/authors/')\n+\n+\n class ModelFormMixinTests(TestCase):\n     def test_get_form(self):\n         form_class = views.AuthorGetQuerySetFormView().get_form_class()"
        },
        {
            "sha": "e036ad8afca69a93bbd38161086c72981501aa67",
            "filename": "tests/regressiontests/generic_views/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fforms.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -11,3 +11,8 @@ class AuthorForm(forms.ModelForm):\n \n     class Meta:\n         model = Author\n+\n+\n+class ContactForm(forms.Form):\n+    name = forms.CharField()\n+    message = forms.CharField(widget=forms.Textarea)"
        },
        {
            "sha": "3f80600efe6c82b155a8ea431dbc83af43dbb869",
            "filename": "tests/regressiontests/generic_views/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Ftests.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -6,6 +6,6 @@\n     MonthArchiveViewTests, WeekArchiveViewTests, DayArchiveViewTests,\n     DateDetailViewTests)\n from .detail import DetailViewTest\n-from .edit import (FormMixinTests, ModelFormMixinTests, CreateViewTests,\n-    UpdateViewTests, DeleteViewTests)\n+from .edit import (FormMixinTests, BasicFormTests, ModelFormMixinTests,\n+    CreateViewTests, UpdateViewTests, DeleteViewTests)\n from .list import ListViewTests"
        },
        {
            "sha": "34b37fa7c4385d5490c8f82ea653fcb577d15a5f",
            "filename": "tests/regressiontests/generic_views/urls.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Furls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Furls.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -56,6 +56,10 @@\n     (r'^detail/nonmodel/1/$',\n         views.NonModelDetail.as_view()),\n \n+    # FormView\n+    (r'^contact/$',\n+        views.ContactView.as_view()),\n+\n     # Create/UpdateView\n     (r'^edit/artists/create/$',\n         views.ArtistCreate.as_view()),"
        },
        {
            "sha": "71e78e82c77a6c873f6823abe0866b947094203f",
            "filename": "tests/regressiontests/generic_views/views.py",
            "status": "modified",
            "additions": 9,
            "deletions": 2,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/795ac7deda64e67a059b489f8684bb440ca7f7ad/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fviews.py?ref=795ac7deda64e67a059b489f8684bb440ca7f7ad",
            "patch": "@@ -2,11 +2,11 @@\n \n from django.contrib.auth.decorators import login_required\n from django.core.paginator import Paginator\n-from django.core.urlresolvers import reverse\n+from django.core.urlresolvers import reverse, reverse_lazy\n from django.utils.decorators import method_decorator\n from django.views import generic\n \n-from .forms import AuthorForm\n+from .forms import AuthorForm, ContactForm\n from .models import Artist, Author, Book, Page, BookSigning\n \n \n@@ -75,6 +75,13 @@ def get_paginator(self, queryset, page_size, orphans=0, allow_empty_first_page=T\n             orphans=2,\n             allow_empty_first_page=allow_empty_first_page)\n \n+\n+class ContactView(generic.FormView):\n+    form_class = ContactForm\n+    success_url = reverse_lazy('authors_list')\n+    template_name = 'generic_views/form.html'\n+\n+\n class ArtistCreate(generic.CreateView):\n     model = Artist\n "
        }
    ],
    "stats": {
        "total": 37,
        "additions": 32,
        "deletions": 5
    }
}