{
    "author": "claudep",
    "message": "Fixed #16519 -- Deprecated mimetype kwarg of HttpResponse __init__\n\nThis keyword was already deprecated in the code (supported for\nbackwards compatibility only), but never formally deprecated.\nThanks Paul McMillan for the report and yasar11732 for the initial\npatch.",
    "sha": "da200c5e35cdbb617572977bcbf97fae33920b2e",
    "files": [
        {
            "sha": "51e6ca23041efa779d75c59bf9ad9ebf11839346",
            "filename": "django/http/__init__.py",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/da200c5e35cdbb617572977bcbf97fae33920b2e/django%2Fhttp%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/da200c5e35cdbb617572977bcbf97fae33920b2e/django%2Fhttp%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2F__init__.py?ref=da200c5e35cdbb617572977bcbf97fae33920b2e",
            "patch": "@@ -524,14 +524,16 @@ class HttpResponse(object):\n \n     status_code = 200\n \n-    def __init__(self, content='', mimetype=None, status=None,\n-            content_type=None):\n+    def __init__(self, content='', content_type=None, status=None,\n+            mimetype=None):\n         # _headers is a mapping of the lower-case name to the original case of\n         # the header (required for working with legacy systems) and the header\n         # value. Both the name of the header and its value are ASCII strings.\n         self._headers = {}\n         self._charset = settings.DEFAULT_CHARSET\n-        if mimetype: # For backwards compatibility.\n+        if mimetype:\n+            warnings.warn(\"Using mimetype keyword argument is deprecated, use\"\n+                          \" content_type instead\", PendingDeprecationWarning)\n             content_type = mimetype\n         if not content_type:\n             content_type = \"%s; charset=%s\" % (settings.DEFAULT_CONTENT_TYPE,"
        },
        {
            "sha": "286417ccdf458e01bb98ae6920abc4a22bf32ab4",
            "filename": "django/template/response.py",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/da200c5e35cdbb617572977bcbf97fae33920b2e/django%2Ftemplate%2Fresponse.py",
            "raw_url": "https://github.com/django/django/raw/da200c5e35cdbb617572977bcbf97fae33920b2e/django%2Ftemplate%2Fresponse.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fresponse.py?ref=da200c5e35cdbb617572977bcbf97fae33920b2e",
            "patch": "@@ -9,8 +9,8 @@ class ContentNotRenderedError(Exception):\n class SimpleTemplateResponse(HttpResponse):\n     rendering_attrs = ['template_name', 'context_data', '_post_render_callbacks']\n \n-    def __init__(self, template, context=None, mimetype=None, status=None,\n-            content_type=None):\n+    def __init__(self, template, context=None, content_type=None, status=None,\n+            mimetype=None):\n         # It would seem obvious to call these next two members 'template' and\n         # 'context', but those names are reserved as part of the test Client\n         # API. To avoid the name collision, we use tricky-to-debug problems\n@@ -22,8 +22,8 @@ def __init__(self, template, context=None, mimetype=None, status=None,\n         # content argument doesn't make sense here because it will be replaced\n         # with rendered template so we always pass empty string in order to\n         # prevent errors and provide shorter signature.\n-        super(SimpleTemplateResponse, self).__init__('', mimetype, status,\n-                                                     content_type)\n+        super(SimpleTemplateResponse, self).__init__('', content_type, status,\n+                                                     mimetype)\n \n         # _is_rendered tracks whether the template and context has been baked\n         # into a final response.\n@@ -137,8 +137,8 @@ class TemplateResponse(SimpleTemplateResponse):\n     rendering_attrs = SimpleTemplateResponse.rendering_attrs + \\\n         ['_request', '_current_app']\n \n-    def __init__(self, request, template, context=None, mimetype=None,\n-            status=None, content_type=None, current_app=None):\n+    def __init__(self, request, template, context=None, content_type=None,\n+            status=None, mimetype=None, current_app=None):\n         # self.request gets over-written by django.test.client.Client - and\n         # unlike context_data and template_name the _request should not\n         # be considered part of the public API.\n@@ -147,7 +147,7 @@ def __init__(self, request, template, context=None, mimetype=None,\n         # having to avoid needing to create the RequestContext directly\n         self._current_app = current_app\n         super(TemplateResponse, self).__init__(\n-            template, context, mimetype, status, content_type)\n+            template, context, content_type, status, mimetype)\n \n     def resolve_context(self, context):\n         \"\"\"Convert context data into a full RequestContext object"
        },
        {
            "sha": "9359c82e4670b21aef35447522beb33b354c48e7",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/da200c5e35cdbb617572977bcbf97fae33920b2e/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/da200c5e35cdbb617572977bcbf97fae33920b2e/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=da200c5e35cdbb617572977bcbf97fae33920b2e",
            "patch": "@@ -280,6 +280,9 @@ these changes.\n   specified as a plain string instead of a tuple will be removed and raise an\n   exception.\n \n+* The ``mimetype`` argument to :class:`~django.http.HttpResponse` ``__init__``\n+  will be removed (``content_type`` should be used instead).\n+\n 2.0\n ---\n "
        },
        {
            "sha": "551ee00c6b156fd604c77d10ddb9da41f89cfdc9",
            "filename": "docs/ref/request-response.txt",
            "status": "modified",
            "additions": 10,
            "deletions": 11,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/da200c5e35cdbb617572977bcbf97fae33920b2e/docs%2Fref%2Frequest-response.txt",
            "raw_url": "https://github.com/django/django/raw/da200c5e35cdbb617572977bcbf97fae33920b2e/docs%2Fref%2Frequest-response.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Frequest-response.txt?ref=da200c5e35cdbb617572977bcbf97fae33920b2e",
            "patch": "@@ -606,27 +606,26 @@ Attributes\n Methods\n -------\n \n-.. method:: HttpResponse.__init__(content='', mimetype=None, status=200, content_type=DEFAULT_CONTENT_TYPE)\n+.. method:: HttpResponse.__init__(content='', content_type=None, status=200)\n \n-    Instantiates an ``HttpResponse`` object with the given page content (a\n-    string) and MIME type. The :setting:`DEFAULT_CONTENT_TYPE` is\n-    ``'text/html'``.\n+    Instantiates an ``HttpResponse`` object with the given page content and\n+    content type.\n \n     ``content`` should be an iterator or a string. If it's an\n     iterator, it should return strings, and those strings will be\n     joined together to form the content of the response. If it is not\n     an iterator or a string, it will be converted to a string when\n     accessed.\n \n+    ``content_type`` is the MIME type optionally completed by a character set\n+    encoding and is used to fill the HTTP ``Content-Type`` header. If not\n+    specified, it is formed by the :setting:`DEFAULT_CONTENT_TYPE` and\n+    :setting:`DEFAULT_CHARSET` settings, by default: \"`text/html; charset=utf-8`\".\n+\n+    Historically, this parameter was called ``mimetype`` (now deprecated).\n+\n     ``status`` is the `HTTP Status code`_ for the response.\n \n-    ``content_type`` is an alias for ``mimetype``. Historically, this parameter\n-    was only called ``mimetype``, but since this is actually the value included\n-    in the HTTP ``Content-Type`` header, it can also include the character set\n-    encoding, which makes it more than just a MIME type specification.\n-    If ``mimetype`` is specified (not ``None``), that value is used.\n-    Otherwise, ``content_type`` is used. If neither is given, the\n-    :setting:`DEFAULT_CONTENT_TYPE` setting is used.\n \n .. method:: HttpResponse.__setitem__(header, value)\n "
        }
    ],
    "stats": {
        "total": 46,
        "additions": 25,
        "deletions": 21
    }
}