{
    "author": "malcolmt",
    "message": "Fix test from r16678 and r16681 properly for Oracle.\n\nFixes #16694, with thanks to aagustin for the Oracle testing and\ntweaking.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16686 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "bb99fe46b7915ef131ba54e8348c9a1d52bd6ddd",
    "files": [
        {
            "sha": "d45b28cd0b2b1a5369187cc1694cefd3c2d7fb1a",
            "filename": "tests/modeltests/invalid_models/invalid_models/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/bb99fe46b7915ef131ba54e8348c9a1d52bd6ddd/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/bb99fe46b7915ef131ba54e8348c9a1d52bd6ddd/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Finvalid_models%2Finvalid_models%2Fmodels.py?ref=bb99fe46b7915ef131ba54e8348c9a1d52bd6ddd",
            "patch": "@@ -5,7 +5,7 @@\n This example exists purely to point out errors in models.\n \"\"\"\n \n-from django.db import models\n+from django.db import connection, models\n \n class FieldErrors(models.Model):\n     charfield = models.CharField()\n@@ -342,5 +342,8 @@ class PrimaryKeyNull(models.Model):\n invalid_models.nonexistingorderingwithsingleunderscore: \"ordering\" refers to \"does_not_exist\", a field that doesn't exist.\n invalid_models.invalidsetnull: 'fk' specifies on_delete=SET_NULL, but cannot be null.\n invalid_models.invalidsetdefault: 'fk' specifies on_delete=SET_DEFAULT, but has no default value.\n-invalid_models.primarykeynull: \"my_pk_field\": Primary key fields cannot have null=True.\n+\"\"\"\n+\n+if not connection.features.interprets_empty_strings_as_nulls:\n+    model_errors += \"\"\"invalid_models.primarykeynull: \"my_pk_field\": Primary key fields cannot have null=True.\n \"\"\""
        }
    ],
    "stats": {
        "total": 7,
        "additions": 5,
        "deletions": 2
    }
}