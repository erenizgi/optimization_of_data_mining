{
    "author": "claudep",
    "message": "Fixed #16820 -- Treated '0' value as True for checkbox inputs\n\nThanks Dan Fairs for the report and the initial patch.",
    "sha": "be29329ccd49a84d3f7238111aebf97c4aaac581",
    "files": [
        {
            "sha": "061988c6c03d1d3d91338e92c40ded2a7633c2c8",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/be29329ccd49a84d3f7238111aebf97c4aaac581/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/be29329ccd49a84d3f7238111aebf97c4aaac581/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=be29329ccd49a84d3f7238111aebf97c4aaac581",
            "patch": "@@ -528,7 +528,7 @@ def value_from_datadict(self, data, files, name):\n         values = {'true': True, 'false': False}\n         if isinstance(value, six.string_types):\n             value = values.get(value.lower(), value)\n-        return value\n+        return bool(value)\n \n     def _has_changed(self, initial, data):\n         # Sometimes data or initial could be None or '' which should be the"
        },
        {
            "sha": "1c83ed04d4b1ec91b418f94f580f90d07846a0d3",
            "filename": "tests/regressiontests/forms/tests/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/be29329ccd49a84d3f7238111aebf97c4aaac581/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/be29329ccd49a84d3f7238111aebf97c4aaac581/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fforms.py?ref=be29329ccd49a84d3f7238111aebf97c4aaac581",
            "patch": "@@ -269,6 +269,11 @@ class SignupForm(Form):\n         f = SignupForm({'email': 'test@example.com', 'get_spam': 'false'}, auto_id=False)\n         self.assertHTMLEqual(str(f['get_spam']), '<input type=\"checkbox\" name=\"get_spam\" />')\n \n+        # A value of '0' should be interpreted as a True value (#16820)\n+        f = SignupForm({'email': 'test@example.com', 'get_spam': '0'})\n+        self.assertTrue(f.is_valid())\n+        self.assertTrue(f.cleaned_data.get('get_spam'))\n+\n     def test_widget_output(self):\n         # Any Field can have a Widget class passed to its constructor:\n         class ContactForm(Form):"
        },
        {
            "sha": "88469a79e88a67c81102ad1780cab085171d302a",
            "filename": "tests/regressiontests/forms/tests/widgets.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/be29329ccd49a84d3f7238111aebf97c4aaac581/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/be29329ccd49a84d3f7238111aebf97c4aaac581/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py?ref=be29329ccd49a84d3f7238111aebf97c4aaac581",
            "patch": "@@ -225,6 +225,10 @@ def test_checkboxinput(self):\n         # checkboxes).\n         self.assertFalse(w.value_from_datadict({}, {}, 'testing'))\n \n+        value = w.value_from_datadict({'testing': '0'}, {}, 'testing')\n+        self.assertIsInstance(value, bool)\n+        self.assertTrue(value)\n+\n         self.assertFalse(w._has_changed(None, None))\n         self.assertFalse(w._has_changed(None, ''))\n         self.assertFalse(w._has_changed('', None))"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 10,
        "deletions": 1
    }
}