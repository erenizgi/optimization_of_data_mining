{
    "author": "claudep",
    "message": "Fixed #19416 -- Fixed multi-line commands in initial SQL files\n\nThanks Aymeric Augustin for detecting this regression.",
    "sha": "5fa5621f574f9ae211ed756c3e2ad453470dae8a",
    "files": [
        {
            "sha": "ea03e9088c3494b67b99fcb38054bd133526ab72",
            "filename": "django/core/management/sql.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/5fa5621f574f9ae211ed756c3e2ad453470dae8a/django%2Fcore%2Fmanagement%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/5fa5621f574f9ae211ed756c3e2ad453470dae8a/django%2Fcore%2Fmanagement%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fsql.py?ref=5fa5621f574f9ae211ed756c3e2ad453470dae8a",
            "patch": "@@ -145,15 +145,15 @@ def sql_all(app, style, connection):\n def _split_statements(content):\n     comment_re = re.compile(r\"^((?:'[^']*'|[^'])*?)--.*$\")\n     statements = []\n-    statement = \"\"\n+    statement = []\n     for line in content.split(\"\\n\"):\n         cleaned_line = comment_re.sub(r\"\\1\", line).strip()\n         if not cleaned_line:\n             continue\n-        statement += cleaned_line\n-        if statement.endswith(\";\"):\n-            statements.append(statement)\n-            statement = \"\"\n+        statement.append(cleaned_line)\n+        if cleaned_line.endswith(\";\"):\n+            statements.append(\" \".join(statement))\n+            statement = []\n     return statements\n \n "
        },
        {
            "sha": "abd9fee92b02b1e698c54453a55597f61daf2859",
            "filename": "tests/regressiontests/initial_sql_regress/sql/simple.sql",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/5fa5621f574f9ae211ed756c3e2ad453470dae8a/tests%2Fregressiontests%2Finitial_sql_regress%2Fsql%2Fsimple.sql",
            "raw_url": "https://github.com/django/django/raw/5fa5621f574f9ae211ed756c3e2ad453470dae8a/tests%2Fregressiontests%2Finitial_sql_regress%2Fsql%2Fsimple.sql",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finitial_sql_regress%2Fsql%2Fsimple.sql?ref=5fa5621f574f9ae211ed756c3e2ad453470dae8a",
            "patch": "@@ -2,7 +2,8 @@\n INSERT INTO initial_sql_regress_simple (name) VALUES ('John'); -- another comment\n INSERT INTO initial_sql_regress_simple (name) VALUES ('-- Comment Man');\n INSERT INTO initial_sql_regress_simple (name) VALUES ('Paul');\n-INSERT INTO initial_sql_regress_simple (name) VALUES ('Ringo');\n+INSERT INTO initial_sql_regress_simple\n+    VALUES (150, 'Ringo');\n INSERT INTO initial_sql_regress_simple (name) VALUES ('George');\n INSERT INTO initial_sql_regress_simple (name) VALUES ('Miles O''Brien');\n INSERT INTO initial_sql_regress_simple (name) VALUES ('Semicolon;Man');"
        }
    ],
    "stats": {
        "total": 13,
        "additions": 7,
        "deletions": 6
    }
}