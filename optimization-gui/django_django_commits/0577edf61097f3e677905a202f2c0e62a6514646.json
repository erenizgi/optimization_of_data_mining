{
    "author": "jezdez",
    "message": "Fixed a test case introduced in r15538 by creating a test file with non-ASCII characters dynamically.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15541 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0577edf61097f3e677905a202f2c0e62a6514646",
    "files": [
        {
            "sha": "5da2e1683153920c735d90933b9d22bf067232bc",
            "filename": "tests/regressiontests/staticfiles_tests/apps/test/static/test/speçial.txt",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/64b042bb3c017e327edc326ce370a16a910ea4a6/tests%2Fregressiontests%2Fstaticfiles_tests%2Fapps%2Ftest%2Fstatic%2Ftest%2Fspec%CC%A7ial.txt",
            "raw_url": "https://github.com/django/django/raw/64b042bb3c017e327edc326ce370a16a910ea4a6/tests%2Fregressiontests%2Fstaticfiles_tests%2Fapps%2Ftest%2Fstatic%2Ftest%2Fspec%CC%A7ial.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fstaticfiles_tests%2Fapps%2Ftest%2Fstatic%2Ftest%2Fspec%CC%A7ial.txt?ref=64b042bb3c017e327edc326ce370a16a910ea4a6",
            "patch": "@@ -1 +0,0 @@\n-speçial in the app dir\n\\ No newline at end of file"
        },
        {
            "sha": "9a2ca6a3ec6b110e1f519ed66f7446f8ee29c455",
            "filename": "tests/regressiontests/staticfiles_tests/tests.py",
            "status": "modified",
            "additions": 13,
            "deletions": 1,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/0577edf61097f3e677905a202f2c0e62a6514646/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0577edf61097f3e677905a202f2c0e62a6514646/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py?ref=0577edf61097f3e677905a202f2c0e62a6514646",
            "patch": "@@ -63,6 +63,16 @@ def setUp(self):\n         # since we're planning on changing that we need to clear out the cache.\n         default_storage._wrapped = None\n \n+        # To make sure SVN doesn't hangs itself with the non-ASCII characters\n+        # during checkout, we actually create one file dynamically.\n+        self._nonascii_filepath = os.path.join(\n+            TEST_ROOT, 'apps', 'test', 'static', 'test', u'fişier.txt')\n+        f = codecs.open(self._nonascii_filepath, 'w', 'utf-8')\n+        try:\n+            f.write(u\"fişier in the app dir\")\n+        finally:\n+            f.close()\n+\n     def tearDown(self):\n         settings.DEBUG = self.old_debug\n         settings.MEDIA_ROOT = self.old_media_root\n@@ -73,6 +83,8 @@ def tearDown(self):\n         settings.STATICFILES_DIRS = self.old_staticfiles_dirs\n         settings.STATICFILES_FINDERS = self.old_staticfiles_finders\n         settings.INSTALLED_APPS = self.old_installed_apps\n+        if os.path.exists(self._nonascii_filepath):\n+            os.unlink(self._nonascii_filepath)\n \n     def assertFileContains(self, filepath, text):\n         self.assertTrue(text in self._get_file(smart_unicode(filepath)),\n@@ -151,7 +163,7 @@ def test_nonascii_filenames(self):\n         \"\"\"\n         Can find a file with non-ASCII character in an app static/ directory.\n         \"\"\"\n-        self.assertFileContains(u'test/speçial.txt', u'speçial in the app dir')\n+        self.assertFileContains(u'test/fişier.txt', u'fişier in the app dir')\n \n \n class TestFindStatic(BuildStaticTestCase, TestDefaults):"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}