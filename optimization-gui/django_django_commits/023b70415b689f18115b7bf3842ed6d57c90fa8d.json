{
    "author": "claudep",
    "message": "Executed SpatialRefSysTest only with spatial backend",
    "sha": "023b70415b689f18115b7bf3842ed6d57c90fa8d",
    "files": [
        {
            "sha": "6ce72b51f012768ade2d6b555858785e04a2ec4a",
            "filename": "django/contrib/gis/tests/test_spatialrefsys.py",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/023b70415b689f18115b7bf3842ed6d57c90fa8d/django%2Fcontrib%2Fgis%2Ftests%2Ftest_spatialrefsys.py",
            "raw_url": "https://github.com/django/django/raw/023b70415b689f18115b7bf3842ed6d57c90fa8d/django%2Fcontrib%2Fgis%2Ftests%2Ftest_spatialrefsys.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Ftest_spatialrefsys.py?ref=023b70415b689f18115b7bf3842ed6d57c90fa8d",
            "patch": "@@ -28,14 +28,18 @@\n              },\n             )\n \n+HAS_SPATIALREFSYS = True\n if oracle:\n     from django.contrib.gis.db.backends.oracle.models import SpatialRefSys\n elif postgis:\n     from django.contrib.gis.db.backends.postgis.models import SpatialRefSys\n elif spatialite:\n     from django.contrib.gis.db.backends.spatialite.models import SpatialRefSys\n+else:\n+    HAS_SPATIALREFSYS = False\n \n-@unittest.skipUnless(HAS_GDAL, \"SpatialRefSysTest needs gdal support\")\n+@unittest.skipUnless(HAS_GDAL and HAS_SPATIALREFSYS,\n+    \"SpatialRefSysTest needs gdal support and a spatial database\")\n class SpatialRefSysTest(unittest.TestCase):\n \n     @no_mysql"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}