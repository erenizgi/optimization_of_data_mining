{
    "author": "adrianholovaty",
    "message": "Fixed super-edge-case bug in debug view where exc_value.args was empty. I managed to trigger this in some template code\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17245 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "98c974c70b4065e649a1d1f0b21062d48bec4bdb",
    "files": [
        {
            "sha": "e150ca07a4aeb4410186e0fd5a7cd152389c9cf7",
            "filename": "django/views/debug.py",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/98c974c70b4065e649a1d1f0b21062d48bec4bdb/django%2Fviews%2Fdebug.py",
            "raw_url": "https://github.com/django/django/raw/98c974c70b4065e649a1d1f0b21062d48bec4bdb/django%2Fviews%2Fdebug.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fviews%2Fdebug.py?ref=98c974c70b4065e649a1d1f0b21062d48bec4bdb",
            "patch": "@@ -302,8 +302,14 @@ def get_template_exception_info(self):\n         top = max(1, line - context_lines)\n         bottom = min(total, line + 1 + context_lines)\n \n+        # In some rare cases, exc_value.args might be empty.\n+        try:\n+            message = self.exc_value.args[0]\n+        except IndexError:\n+            message = '(Could not get exception message)'\n+\n         self.template_info = {\n-            'message': self.exc_value.args[0],\n+            'message': message,\n             'source_lines': source_lines[top:bottom],\n             'before': before,\n             'during': during,"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 7,
        "deletions": 1
    }
}