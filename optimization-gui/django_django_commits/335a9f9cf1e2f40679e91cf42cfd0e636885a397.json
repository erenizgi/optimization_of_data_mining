{
    "author": "unknown",
    "message": "Removed many uses of bare \"except:\", which were either going to a) silence real issues, or b) were impossible to hit.",
    "sha": "335a9f9cf1e2f40679e91cf42cfd0e636885a397",
    "files": [
        {
            "sha": "083b61c49eda8fe9051712cccc5ab18c01f5f565",
            "filename": "django/contrib/localflavor/hr/forms.py",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -4,6 +4,7 @@\n \"\"\"\n from __future__ import absolute_import, unicode_literals\n \n+import datetime\n import re\n \n from django.contrib.localflavor.hr.hr_choices import (\n@@ -91,17 +92,16 @@ def clean(self, value):\n         dd = int(matches.group('dd'))\n         mm = int(matches.group('mm'))\n         yyy = int(matches.group('yyy'))\n-        import datetime\n         try:\n-            datetime.date(yyy,mm,dd)\n-        except:\n+            datetime.date(yyy, mm, dd)\n+        except ValueError:\n             raise ValidationError(self.error_messages['date'])\n \n         # Validate checksum.\n         k = matches.group('k')\n         checksum = 0\n-        for i,j in zip(range(7,1,-1),range(6)):\n-            checksum+=i*(int(value[j])+int(value[13-i]))\n+        for i, j in zip(range(7, 1, -1), range(6)):\n+            checksum += i * (int(value[j]) + int(value[13 - i]))\n         m = 11 - checksum % 11\n         if m == 10:\n             raise ValidationError(self.error_messages['invalid'])"
        },
        {
            "sha": "f6de1534c906cf634a3da52af4d24a1040ee22f5",
            "filename": "django/contrib/localflavor/ro/forms.py",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fro%2Fforms.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -4,6 +4,8 @@\n \"\"\"\n from __future__ import absolute_import, unicode_literals\n \n+import datetime\n+\n from django.contrib.localflavor.ro.ro_counties import COUNTIES_CHOICES\n from django.core.validators import EMPTY_VALUES\n from django.forms import ValidationError, Field, RegexField, Select\n@@ -69,10 +71,9 @@ def clean(self, value):\n         if value in EMPTY_VALUES:\n             return ''\n         # check birthdate digits\n-        import datetime\n         try:\n-            datetime.date(int(value[1:3]),int(value[3:5]),int(value[5:7]))\n-        except:\n+            datetime.date(int(value[1:3]), int(value[3:5]), int(value[5:7]))\n+        except ValueError:\n             raise ValidationError(self.error_messages['invalid'])\n         # checksum\n         key = '279146358279'\n@@ -118,7 +119,7 @@ def clean(self, value):\n         # search for county name\n         normalized_CC = []\n         for entry in COUNTIES_CHOICES:\n-            normalized_CC.append((entry[0],entry[1].upper()))\n+            normalized_CC.append((entry[0], entry[1].upper()))\n         for entry in normalized_CC:\n             if entry[1] == value:\n                 return entry[0]\n@@ -153,8 +154,8 @@ def clean(self, value):\n         value = super(ROIBANField, self).clean(value)\n         if value in EMPTY_VALUES:\n             return ''\n-        value = value.replace('-','')\n-        value = value.replace(' ','')\n+        value = value.replace('-', '')\n+        value = value.replace(' ', '')\n         value = value.upper()\n         if value[0:2] != 'RO':\n             raise ValidationError(self.error_messages['invalid'])\n@@ -185,10 +186,10 @@ def clean(self, value):\n         value = super(ROPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n             return ''\n-        value = value.replace('-','')\n-        value = value.replace('(','')\n-        value = value.replace(')','')\n-        value = value.replace(' ','')\n+        value = value.replace('-', '')\n+        value = value.replace('(', '')\n+        value = value.replace(')', '')\n+        value = value.replace(' ', '')\n         if len(value) != 10:\n             raise ValidationError(self.error_messages['invalid'])\n         return value\n@@ -202,4 +203,3 @@ class ROPostalCodeField(RegexField):\n     def __init__(self, max_length=6, min_length=6, *args, **kwargs):\n         super(ROPostalCodeField, self).__init__(r'^[0-9][0-8][0-9]{4}$',\n                 max_length, min_length, *args, **kwargs)\n-"
        },
        {
            "sha": "9bb47c8344c139b88b662e54532167f420c4a3cc",
            "filename": "django/core/cache/backends/memcached.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcache%2Fbackends%2Fmemcached.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -141,7 +141,7 @@ def __init__(self, server, params):\n         )\n         try:\n             import memcache\n-        except:\n+        except ImportError:\n             raise InvalidCacheBackendError(\n                 \"Memcached cache backend requires either the 'memcache' or 'cmemcache' library\"\n                 )"
        },
        {
            "sha": "ea0cb5d9ad442f60f5b286bebad8dcdcf5fb1a0e",
            "filename": "django/core/mail/backends/console.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcore%2Fmail%2Fbackends%2Fconsole.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fcore%2Fmail%2Fbackends%2Fconsole.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2Fbackends%2Fconsole.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -21,7 +21,7 @@ def send_messages(self, email_messages):\n                 stream_created = self.open()\n                 for message in email_messages:\n                     self.stream.write('%s\\n' % message.message().as_string())\n-                    self.stream.write('-'*79)\n+                    self.stream.write('-' * 79)\n                     self.stream.write('\\n')\n                     self.stream.flush()  # flush after each message\n                 if stream_created:"
        },
        {
            "sha": "0f0b6b74e33d41bdaddaf11c4160449af8ce65c9",
            "filename": "django/db/backends/sqlite3/base.py",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Fsqlite3%2Fbase.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -412,7 +412,4 @@ def _sqlite_format_dtdelta(dt, conn, days, secs, usecs):\n     return str(dt)\n \n def _sqlite_regexp(re_pattern, re_string):\n-    try:\n-        return bool(re.search(re_pattern, re_string))\n-    except:\n-        return False\n+    return bool(re.search(re_pattern, re_string))"
        },
        {
            "sha": "40aefd6e9de3d0ff5a6d473b6de77b456c02741b",
            "filename": "django/http/multipartparser.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fhttp%2Fmultipartparser.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/django%2Fhttp%2Fmultipartparser.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2Fmultipartparser.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -68,11 +68,10 @@ def __init__(self, META, input_data, upload_handlers, encoding=None):\n         if not boundary or not cgi.valid_boundary(boundary):\n             raise MultiPartParserError('Invalid boundary in multipart: %s' % boundary)\n \n-\n         # Content-Length should contain the length of the body we are about\n         # to receive.\n         try:\n-            content_length = int(META.get('HTTP_CONTENT_LENGTH', META.get('CONTENT_LENGTH',0)))\n+            content_length = int(META.get('HTTP_CONTENT_LENGTH', META.get('CONTENT_LENGTH', 0)))\n         except (ValueError, TypeError):\n             content_length = 0\n \n@@ -178,7 +177,7 @@ def parse(self):\n \n                     content_type = meta_data.get('content-type', ('',))[0].strip()\n                     try:\n-                        charset = meta_data.get('content-type', (0,{}))[1].get('charset', None)\n+                        charset = meta_data.get('content-type', (0, {}))[1].get('charset', None)\n                     except:\n                         charset = None\n "
        },
        {
            "sha": "f28d658f52592277d7c954d5ff422cd1698067fb",
            "filename": "tests/regressiontests/file_uploads/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_uploads%2Ftests.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -100,7 +100,7 @@ def test_unicode_file_name(self):\n \n         try:\n             os.unlink(file1.name)\n-        except:\n+        except OSError:\n             pass\n \n         self.assertEqual(response.status_code, 200)"
        },
        {
            "sha": "34863b64930f3eedf16d0c584bb4e6b4b9c1d776",
            "filename": "tests/regressiontests/handlers/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Fhandlers%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Fhandlers%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fhandlers%2Ftests.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -17,10 +17,8 @@ def test_lock_safety(self):\n         # Try running the handler, it will fail in load_middleware\n         handler = WSGIHandler()\n         self.assertEqual(handler.initLock.locked(), False)\n-        try:\n+        with self.assertRaises(Exception):\n             handler(None, None)\n-        except:\n-            pass\n         self.assertEqual(handler.initLock.locked(), False)\n         # Reset settings\n         settings.MIDDLEWARE_CLASSES = old_middleware_classes"
        },
        {
            "sha": "71ac107486c9b85ca3a550a243161c3f5eff5c0e",
            "filename": "tests/regressiontests/queries/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Fqueries%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Fqueries%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fqueries%2Ftests.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -1677,10 +1677,7 @@ def test_evaluated_queryset_as_argument(self):\n         list(n_list)\n         # Use the note queryset in a query, and evalute\n         # that query in a way that involves cloning.\n-        try:\n-            self.assertEqual(ExtraInfo.objects.filter(note__in=n_list)[0].info, 'good')\n-        except:\n-            self.fail('Query should be clonable')\n+        self.assertEqual(ExtraInfo.objects.filter(note__in=n_list)[0].info, 'good')\n \n \n class EmptyQuerySetTests(TestCase):"
        },
        {
            "sha": "472e2aafd9caa885a43134135931bdd4778e5d1b",
            "filename": "tests/regressiontests/transactions_regress/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 15,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Ftransactions_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/335a9f9cf1e2f40679e91cf42cfd0e636885a397/tests%2Fregressiontests%2Ftransactions_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftransactions_regress%2Ftests.py?ref=335a9f9cf1e2f40679e91cf42cfd0e636885a397",
            "patch": "@@ -1,7 +1,6 @@\n from __future__ import absolute_import\n \n-from django.core.exceptions import ImproperlyConfigured\n-from django.db import connection, connections, transaction, DEFAULT_DB_ALIAS\n+from django.db import connection, connections, transaction, DEFAULT_DB_ALIAS, DatabaseError\n from django.db.transaction import commit_on_success, commit_manually, TransactionManagementError\n from django.test import TransactionTestCase, skipUnlessDBFeature\n from django.test.utils import override_settings\n@@ -151,21 +150,14 @@ def create_system_user():\n         # Create a user\n         create_system_user()\n \n-        try:\n-            # The second call to create_system_user should fail for violating a unique constraint\n-            # (it's trying to re-create the same user)\n+        with self.assertRaises(DatabaseError):\n+            # The second call to create_system_user should fail for violating\n+            # a unique constraint (it's trying to re-create the same user)\n             create_system_user()\n-        except:\n-            pass\n-        else:\n-            raise ImproperlyConfigured('Unique constraint not enforced on django.contrib.auth.models.User')\n \n-        try:\n-            # Try to read the database. If the last transaction was indeed closed,\n-            # this should cause no problems\n-            _ = User.objects.all()[0]\n-        except:\n-            self.fail(\"A transaction consisting of a failed operation was not closed.\")\n+        # Try to read the database. If the last transaction was indeed closed,\n+        # this should cause no problems\n+        User.objects.all()[0]\n \n     @override_settings(DEBUG=True)\n     def test_failing_query_transaction_closed_debug(self):"
        }
    ],
    "stats": {
        "total": 79,
        "additions": 31,
        "deletions": 48
    }
}