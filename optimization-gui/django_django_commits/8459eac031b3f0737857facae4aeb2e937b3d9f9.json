{
    "author": "ramiro",
    "message": "Move management helper function to new utils module.\n\nThis allows us to iremove an inter-command import.",
    "sha": "8459eac031b3f0737857facae4aeb2e937b3d9f9",
    "files": [
        {
            "sha": "e0b136a9e227ef56659f90460de69784063357a2",
            "filename": "django/core/management/commands/makemessages.py",
            "status": "modified",
            "additions": 1,
            "deletions": 24,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "raw_url": "https://github.com/django/django/raw/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Fmakemessages.py?ref=8459eac031b3f0737857facae4aeb2e937b3d9f9",
            "patch": "@@ -9,6 +9,7 @@\n \n import django\n from django.core.management.base import CommandError, NoArgsCommand\n+from django.core.management.utils import handle_extensions\n from django.utils.functional import total_ordering\n from django.utils.text import get_text_list\n from django.utils.jslex import prepare_js_for_gettext\n@@ -130,30 +131,6 @@ def write_pot_file(potfile, msgs):\n     with open(potfile, 'a') as fp:\n         fp.write(msgs)\n \n-def handle_extensions(extensions=('html',), ignored=('py',)):\n-    \"\"\"\n-    Organizes multiple extensions that are separated with commas or passed by\n-    using --extension/-e multiple times. Note that the .py extension is ignored\n-    here because of the way non-*.py files are handled in make_messages() (they\n-    are copied to file.ext.py files to trick xgettext to parse them as Python\n-    files).\n-\n-    For example: running 'django-admin makemessages -e js,txt -e xhtml -a'\n-    would result in an extension list: ['.js', '.txt', '.xhtml']\n-\n-    >>> handle_extensions(['.html', 'html,js,py,py,py,.py', 'py,.py'])\n-    set(['.html', '.js'])\n-    >>> handle_extensions(['.html, txt,.tpl'])\n-    set(['.html', '.tpl', '.txt'])\n-    \"\"\"\n-    ext_list = []\n-    for ext in extensions:\n-        ext_list.extend(ext.replace(' ', '').split(','))\n-    for i, ext in enumerate(ext_list):\n-        if not ext.startswith('.'):\n-            ext_list[i] = '.%s' % ext_list[i]\n-    return set([x for x in ext_list if x.strip('.') not in ignored])\n-\n \n class Command(NoArgsCommand):\n     option_list = NoArgsCommand.option_list + ("
        },
        {
            "sha": "0f45399109307f65ea865abf33470d5aee64c101",
            "filename": "django/core/management/templates.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "raw_url": "https://github.com/django/django/raw/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Ftemplates.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Ftemplates.py?ref=8459eac031b3f0737857facae4aeb2e937b3d9f9",
            "patch": "@@ -21,7 +21,7 @@\n from django.utils import archive\n from django.utils._os import rmtree_errorhandler\n from django.core.management.base import BaseCommand, CommandError\n-from django.core.management.commands.makemessages import handle_extensions\n+from django.core.management.utils import handle_extensions\n \n \n _drive_re = re.compile('^([a-z]):', re.I)"
        },
        {
            "sha": "769f9723c11d3a33dd7aac406ecec4d566dc5784",
            "filename": "django/core/management/utils.py",
            "status": "modified",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/8459eac031b3f0737857facae4aeb2e937b3d9f9/django%2Fcore%2Fmanagement%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Futils.py?ref=8459eac031b3f0737857facae4aeb2e937b3d9f9",
            "patch": "@@ -12,3 +12,27 @@ def popen_wrapper(args):\n               close_fds=os.name != 'nt', universal_newlines=True)\n     output, errors = p.communicate()\n     return output, errors, p.returncode\n+\n+def handle_extensions(extensions=('html',), ignored=('py',)):\n+    \"\"\"\n+    Organizes multiple extensions that are separated with commas or passed by\n+    using --extension/-e multiple times. Note that the .py extension is ignored\n+    here because of the way non-*.py files are handled in make_messages() (they\n+    are copied to file.ext.py files to trick xgettext to parse them as Python\n+    files).\n+\n+    For example: running 'django-admin makemessages -e js,txt -e xhtml -a'\n+    would result in an extension list: ['.js', '.txt', '.xhtml']\n+\n+    >>> handle_extensions(['.html', 'html,js,py,py,py,.py', 'py,.py'])\n+    set(['.html', '.js'])\n+    >>> handle_extensions(['.html, txt,.tpl'])\n+    set(['.html', '.tpl', '.txt'])\n+    \"\"\"\n+    ext_list = []\n+    for ext in extensions:\n+        ext_list.extend(ext.replace(' ', '').split(','))\n+    for i, ext in enumerate(ext_list):\n+        if not ext.startswith('.'):\n+            ext_list[i] = '.%s' % ext_list[i]\n+    return set([x for x in ext_list if x.strip('.') not in ignored])"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 26,
        "deletions": 25
    }
}