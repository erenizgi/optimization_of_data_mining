{
    "author": "spookylukey",
    "message": "Added release notes about the removal of Django 1.2 compatibility fallbacks for signed data\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15955 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1f5d684f14b16115973dc76666d0281b485aaa16",
    "files": [
        {
            "sha": "56a59195055fd346a17e6ee5feb30bb2bb9186af",
            "filename": "docs/releases/1.4.txt",
            "status": "modified",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/django/django/blob/1f5d684f14b16115973dc76666d0281b485aaa16/docs%2Freleases%2F1.4.txt",
            "raw_url": "https://github.com/django/django/raw/1f5d684f14b16115973dc76666d0281b485aaa16/docs%2Freleases%2F1.4.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4.txt?ref=1f5d684f14b16115973dc76666d0281b485aaa16",
            "patch": "@@ -21,3 +21,60 @@ What's new in Django 1.4\n \n Backwards incompatible changes in 1.4\n =====================================\n+\n+Compatibility with old signed data\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Django 1.3 changed the cryptographic signing mechanisms used in a number of\n+places in Django. While Django 1.3 kept fallbacks that would accept hashes\n+produced by the previous methods, these fallbacks are removed in Django 1.4.\n+\n+So, if you upgrade to Django 1.4 directly from 1.2 or earlier, you may\n+lose/invalidate certain pieces of data that have been cryptographically signed\n+using an old method. To avoid this, use Django 1.3 first, for a period of time,\n+to allow the signed data to expire naturally. The affected parts are detailed\n+below, with 1) the consequences of ignoring this advice and 2) the amount of\n+time you need to run Django 1.3 for the data to expire or become irrelevant.\n+\n+* contrib.sessions data integrity check\n+\n+  * consequences: the user will be logged out, and session data will be lost.\n+\n+  * time period: defined by SESSION_COOKIE_AGE.\n+\n+* contrib.auth password reset hash\n+\n+  * consequences: password reset links from before the upgrade will not work.\n+\n+  * time period: defined by PASSWORD_RESET_TIMEOUT_DAYS.\n+\n+Form related hashes â€” these are much shorter lifetime, and are relevant only for\n+the short window where a user might fill in a form generated by the pre-upgrade\n+Django instance, and try to submit it to the upgraded Django instance:\n+\n+* contrib.comments form security hash\n+\n+  * consequences: the user will see a validation error \"Security hash failed\".\n+\n+  * time period: the amount of time you expect users to take filling out comment\n+    forms.\n+\n+* FormWizard security hash\n+\n+  * consequences: the user will see an error about the form having expired,\n+    and will be sent back to the first page of the wizard, losing the data\n+    they have inputted so far.\n+\n+  * time period: the amount of time you expect users to take filling out the\n+    affected forms.\n+\n+* CSRF check\n+\n+  * Note: This is actually a Django 1.1 fallback, not Django 1.2,\n+    and applies only if you are upgrading from 1.1.\n+\n+  * consequences: the user will see a 403 error with any CSRF protected POST\n+    form.\n+\n+  * time period: the amount of time you expect user to take filling out\n+    such forms."
        }
    ],
    "stats": {
        "total": 57,
        "additions": 57,
        "deletions": 0
    }
}