{
    "author": "freakboy3742",
    "message": "Fixed #15046 -- Added \"CHROMEFRAME\" as a user agent alias for various MSIE fixes. Thanks to chrj for the report and patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15340 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1f5309a99e94aec310c1fcd9117559356db40a65",
    "files": [
        {
            "sha": "5eea23907b0e088abe9c1aaae089a63f0a4bdd32",
            "filename": "django/http/utils.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/1f5309a99e94aec310c1fcd9117559356db40a65/django%2Fhttp%2Futils.py",
            "raw_url": "https://github.com/django/django/raw/1f5309a99e94aec310c1fcd9117559356db40a65/django%2Fhttp%2Futils.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fhttp%2Futils.py?ref=1f5309a99e94aec310c1fcd9117559356db40a65",
            "patch": "@@ -38,7 +38,8 @@ def fix_IE_for_attach(request, response):\n     while expecting the browser to cache it (only when the browser is IE). This\n     leads to IE not allowing the client to download.\n     \"\"\"\n-    if 'MSIE' not in request.META.get('HTTP_USER_AGENT', '').upper():\n+    useragent = request.META.get('HTTP_USER_AGENT', '').upper()\n+    if 'MSIE' not in useragent and 'CHROMEFRAME' not in useragent:\n         return response\n \n     offending_headers = ('no-cache', 'no-store')\n@@ -66,7 +67,8 @@ def fix_IE_for_vary(request, response):\n     by clearing the Vary header whenever the mime-type is not safe\n     enough for Internet Explorer to handle.  Poor thing.\n     \"\"\"\n-    if 'MSIE' not in request.META.get('HTTP_USER_AGENT', '').upper():\n+    useragent = request.META.get('HTTP_USER_AGENT', '').upper()\n+    if 'MSIE' not in useragent and 'CHROMEFRAME' not in useragent:\n         return response\n \n     # These mime-types that are decreed \"Vary-safe\" for IE:"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}