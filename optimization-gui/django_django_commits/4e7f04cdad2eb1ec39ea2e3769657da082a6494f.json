{
    "author": "akaariai",
    "message": "[py3] Fixed file.read().decode(), used codecs.open() instead",
    "sha": "4e7f04cdad2eb1ec39ea2e3769657da082a6494f",
    "files": [
        {
            "sha": "b02a548314c4535c74c602231d555950f8b2e08f",
            "filename": "django/core/management/sql.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/4e7f04cdad2eb1ec39ea2e3769657da082a6494f/django%2Fcore%2Fmanagement%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/4e7f04cdad2eb1ec39ea2e3769657da082a6494f/django%2Fcore%2Fmanagement%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fsql.py?ref=4e7f04cdad2eb1ec39ea2e3769657da082a6494f",
            "patch": "@@ -1,5 +1,6 @@\n from __future__ import unicode_literals\n \n+import codecs\n import os\n import re\n \n@@ -168,10 +169,10 @@ def custom_sql_for_model(model, style, connection):\n                  os.path.join(app_dir, \"%s.sql\" % opts.object_name.lower())]\n     for sql_file in sql_files:\n         if os.path.exists(sql_file):\n-            with open(sql_file, 'U') as fp:\n+            with codecs.open(sql_file, 'U', encoding=settings.FILE_CHARSET) as fp:\n                 # Some backends can't execute more than one SQL statement at a time,\n                 # so split into separate statements.\n-                output.extend(_split_statements(fp.read().decode(settings.FILE_CHARSET)))\n+                output.extend(_split_statements(fp.read()))\n     return output\n \n "
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}