{
    "author": "ptone",
    "message": "Fixed #18054 -- Deprecated contrib.markup. Thanks to simukis for the initial patch.",
    "sha": "3da43c11113e0ef109ffbecae528aef853879281",
    "files": [
        {
            "sha": "389c919c07a5b774f71ea34bda476fc0863fd357",
            "filename": "django/contrib/markup/templatetags/markup.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/3da43c11113e0ef109ffbecae528aef853879281/django%2Fcontrib%2Fmarkup%2Ftemplatetags%2Fmarkup.py",
            "raw_url": "https://github.com/django/django/raw/3da43c11113e0ef109ffbecae528aef853879281/django%2Fcontrib%2Fmarkup%2Ftemplatetags%2Fmarkup.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmarkup%2Ftemplatetags%2Fmarkup.py?ref=3da43c11113e0ef109ffbecae528aef853879281",
            "patch": "@@ -47,6 +47,9 @@ def markdown(value, arg=''):\n     they will be silently ignored.\n \n     \"\"\"\n+    import warnings\n+    warnings.warn('The markdown filter has been deprecated',\n+                  category=DeprecationWarning)\n     try:\n         import markdown\n     except ImportError:\n@@ -72,6 +75,9 @@ def markdown(value, arg=''):\n \n @register.filter(is_safe=True)\n def restructuredtext(value):\n+    import warnings\n+    warnings.warn('The restructuredtext filter has been deprecated',\n+                  category=DeprecationWarning)\n     try:\n         from docutils.core import publish_parts\n     except ImportError:"
        },
        {
            "sha": "19a3b7e9d002dec9481fbba4bede8bb58686795e",
            "filename": "django/contrib/markup/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 1,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/3da43c11113e0ef109ffbecae528aef853879281/django%2Fcontrib%2Fmarkup%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/3da43c11113e0ef109ffbecae528aef853879281/django%2Fcontrib%2Fmarkup%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmarkup%2Ftests.py?ref=3da43c11113e0ef109ffbecae528aef853879281",
            "patch": "@@ -1,7 +1,9 @@\n # Quick tests for the markup templatetags (django.contrib.markup)\n import re\n+import warnings\n \n from django.template import Template, Context\n+from django import test\n from django.utils import unittest\n from django.utils.html import escape\n \n@@ -21,7 +23,7 @@\n except ImportError:\n     docutils = None\n \n-class Templates(unittest.TestCase):\n+class Templates(test.TestCase):\n \n     textile_content = \"\"\"Paragraph 1\n \n@@ -37,6 +39,13 @@ class Templates(unittest.TestCase):\n \n .. _link: http://www.example.com/\"\"\"\n \n+    def setUp(self):\n+        self.save_warnings_state()\n+        warnings.filterwarnings('ignore', category=DeprecationWarning, module='django.contrib.markup')\n+\n+    def tearDown(self):\n+        self.restore_warnings_state()\n+\n     @unittest.skipUnless(textile, 'textile not installed')\n     def test_textile(self):\n         t = Template(\"{% load markup %}{{ textile_content|textile }}\")"
        },
        {
            "sha": "4add7519126808c1f40065cf1eb5531b3de87357",
            "filename": "docs/internals/deprecation.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/3da43c11113e0ef109ffbecae528aef853879281/docs%2Finternals%2Fdeprecation.txt",
            "raw_url": "https://github.com/django/django/raw/3da43c11113e0ef109ffbecae528aef853879281/docs%2Finternals%2Fdeprecation.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Finternals%2Fdeprecation.txt?ref=3da43c11113e0ef109ffbecae528aef853879281",
            "patch": "@@ -264,6 +264,9 @@ these changes.\n   in 1.4. The backward compatibility will be removed --\n   ``HttpRequest.raw_post_data`` will no longer work.\n \n+* ``django.contrib.markup`` will be removed following an accelerated\n+  deprecation.\n+\n 1.7\n ---\n "
        },
        {
            "sha": "9215c64f932970c449e3be4d884cb0f61f1bd34d",
            "filename": "docs/ref/contrib/markup.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/3da43c11113e0ef109ffbecae528aef853879281/docs%2Fref%2Fcontrib%2Fmarkup.txt",
            "raw_url": "https://github.com/django/django/raw/3da43c11113e0ef109ffbecae528aef853879281/docs%2Fref%2Fcontrib%2Fmarkup.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fmarkup.txt?ref=3da43c11113e0ef109ffbecae528aef853879281",
            "patch": "@@ -5,6 +5,9 @@ django.contrib.markup\n .. module:: django.contrib.markup\n    :synopsis: A collection of template filters that implement common markup languages.\n \n+.. deprecated:: 1.5\n+    This module has been deprecated.\n+\n Django provides template filters that implement the following markup\n languages:\n "
        },
        {
            "sha": "5578e8efcb70df6f46416f769a24aa95431ee753",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/3da43c11113e0ef109ffbecae528aef853879281/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/3da43c11113e0ef109ffbecae528aef853879281/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=3da43c11113e0ef109ffbecae528aef853879281",
            "patch": "@@ -358,3 +358,11 @@ the built-in :func:`itertools.product` instead.\n The :class:`~django.utils.encoding.StrAndUnicode` mix-in has been deprecated.\n Define a ``__str__`` method and apply the\n :func:`~django.utils.encoding.python_2_unicode_compatible` decorator instead.\n+\n+``django.utils.markup``\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The markup contrib module has been deprecated and will follow an accelerated\n+deprecation schedule. Direct use of python markup libraries or 3rd party tag\n+libraries is preferred to Django maintaining this functionality in the\n+framework."
        }
    ],
    "stats": {
        "total": 31,
        "additions": 30,
        "deletions": 1
    }
}