{
    "author": "apollo13",
    "message": "[py3] Properly encode hashlib.md5 and zip.compress args in the tests.",
    "sha": "c1584890b1764831309eba393eba74afba39487d",
    "files": [
        {
            "sha": "ce6b7e74cd147953d148efeb9f10299a1ed7ca72",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/c1584890b1764831309eba393eba74afba39487d/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c1584890b1764831309eba393eba74afba39487d/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=c1584890b1764831309eba393eba74afba39487d",
            "patch": "@@ -364,7 +364,7 @@ def test_binary_string(self):\n         # Binary strings should be cacheable\n         from zlib import compress, decompress\n         value = 'value_to_be_compressed'\n-        compressed_value = compress(value)\n+        compressed_value = compress(value.encode())\n \n         # Test set\n         self.cache.set('binary1', compressed_value)\n@@ -988,7 +988,7 @@ def test_hashing(self):\n         \"\"\"Test that keys are hashed into subdirectories correctly\"\"\"\n         self.cache.set(\"foo\", \"bar\")\n         key = self.cache.make_key(\"foo\")\n-        keyhash = hashlib.md5(key).hexdigest()\n+        keyhash = hashlib.md5(key.encode()).hexdigest()\n         keypath = os.path.join(self.dirname, keyhash[:2], keyhash[2:4], keyhash[4:])\n         self.assertTrue(os.path.exists(keypath))\n \n@@ -998,7 +998,7 @@ def test_subdirectory_removal(self):\n         \"\"\"\n         self.cache.set(\"foo\", \"bar\")\n         key = self.cache.make_key(\"foo\")\n-        keyhash = hashlib.md5(key).hexdigest()\n+        keyhash = hashlib.md5(key.encode()).hexdigest()\n         keypath = os.path.join(self.dirname, keyhash[:2], keyhash[2:4], keyhash[4:])\n         self.assertTrue(os.path.exists(keypath))\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 3,
        "deletions": 3
    }
}