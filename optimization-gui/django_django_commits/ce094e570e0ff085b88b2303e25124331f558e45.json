{
    "author": "akaariai",
    "message": "Fixed Oracle regression in last_executed_query() with unicode strings\n\nThe regression was likely caused by the fix in #19606 which adjusted\nOracle's unicode detection, though it seems this would have been an\nissue in some configurations even before.",
    "sha": "ce094e570e0ff085b88b2303e25124331f558e45",
    "files": [
        {
            "sha": "3c799f01c11e550ad03f0c944a6ec270fd8733ee",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/ce094e570e0ff085b88b2303e25124331f558e45/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/ce094e570e0ff085b88b2303e25124331f558e45/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=ce094e570e0ff085b88b2303e25124331f558e45",
            "patch": "@@ -270,7 +270,8 @@ def last_executed_query(self, cursor, sql, params):\n         if six.PY3:\n             return cursor.statement\n         else:\n-            return cursor.statement.decode(\"utf-8\")\n+            query = cursor.statement\n+            return query if isinstance(query, unicode) else query.decode(\"utf-8\")\n \n     def last_insert_id(self, cursor, table_name, pk_name):\n         sq_name = self._get_sequence_name(table_name)"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 2,
        "deletions": 1
    }
}