{
    "author": "alex",
    "message": "Always close files in the file_storage tests.",
    "sha": "dfbcbf212493b9e5bb527e7ec2d97ae3cec480fa",
    "files": [
        {
            "sha": "b5eb5601f3558c489d0ef06c13c6c0d166a55567",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/dfbcbf212493b9e5bb527e7ec2d97ae3cec480fa/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/dfbcbf212493b9e5bb527e7ec2d97ae3cec480fa/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=dfbcbf212493b9e5bb527e7ec2d97ae3cec480fa",
            "patch": "@@ -197,8 +197,8 @@ def test_file_save_with_path(self):\n             ContentFile(b'file saved with path'))\n \n         self.assertTrue(self.storage.exists('path/to'))\n-        self.assertEqual(self.storage.open('path/to/test.file').read(),\n-            b'file saved with path')\n+        with self.storage.open('path/to/test.file') as f:\n+            self.assertEqual(f.read(), b'file saved with path')\n \n         self.assertTrue(os.path.exists(\n             os.path.join(self.temp_dir, 'path', 'to', 'test.file')))\n@@ -305,13 +305,13 @@ def fake_makedirs(path):\n \n             self.storage.save('normal/test.file',\n                 ContentFile(b'saved normally'))\n-            self.assertEqual(self.storage.open('normal/test.file').read(),\n-                b'saved normally')\n+            with self.storage.open('normal/test.file') as f:\n+                self.assertEqual(f.read(), b'saved normally')\n \n             self.storage.save('raced/test.file',\n                 ContentFile(b'saved with race'))\n-            self.assertEqual(self.storage.open('raced/test.file').read(),\n-                b'saved with race')\n+            with self.storage.open('raced/test.file') as f:\n+                self.assertEqual(f.read(), b'saved with race')\n \n             # Check that OSErrors aside from EEXIST are still raised.\n             self.assertRaises(OSError,"
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}