{
    "author": "PaulMcMillan",
    "message": "Increased pbkdf2 scaling test vectors to lower chance of false test failures.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17308 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "1fed65224f2b5912f8d28cf6de47577f287088e9",
    "files": [
        {
            "sha": "7889ddd43f29276a4a2ed2db75dee1e55007422e",
            "filename": "tests/regressiontests/utils/crypto.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/1fed65224f2b5912f8d28cf6de47577f287088e9/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "raw_url": "https://github.com/django/django/raw/1fed65224f2b5912f8d28cf6de47577f287088e9/tests%2Fregressiontests%2Futils%2Fcrypto.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fcrypto.py?ref=1fed65224f2b5912f8d28cf6de47577f287088e9",
            "patch": "@@ -125,9 +125,11 @@ def test_performance_scalability(self):\n         Theory: If you run with 100 iterations, it should take 100\n         times as long as running with 1 iteration.\n         \"\"\"\n-        n1, n2 = 100, 10000\n+        n1, n2 = 1000, 100000\n         elapsed = lambda f: timeit.Timer(f, 'from django.utils.crypto import pbkdf2').timeit(number=1)\n         t1 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n1)\n         t2 = elapsed('pbkdf2(\"password\", \"salt\", iterations=%d)' % n2)\n         measured_scale_exponent = math.log(t2 / t1, n2 / n1)\n+        #This should be less than 1. We allow up to 1.1 so that tests don't \n+        #fail nondeterministically too often.\n         self.assertLess(measured_scale_exponent, 1.1)"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}