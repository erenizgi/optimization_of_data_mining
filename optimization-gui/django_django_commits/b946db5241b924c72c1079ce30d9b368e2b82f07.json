{
    "author": "apollo13",
    "message": "Fixed #15695 -- Added `ResolverMatch` to the request object.",
    "sha": "b946db5241b924c72c1079ce30d9b368e2b82f07",
    "files": [
        {
            "sha": "39d109405bae20a0eb56e2d2f9a8d45ff5e1b820",
            "filename": "django/core/handlers/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/django%2Fcore%2Fhandlers%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/django%2Fcore%2Fhandlers%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fbase.py?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -95,14 +95,15 @@ def get_response(self, request):\n                         break\n \n                 if response is None:\n-                    if hasattr(request, \"urlconf\"):\n+                    if hasattr(request, 'urlconf'):\n                         # Reset url resolver with a custom urlconf.\n                         urlconf = request.urlconf\n                         urlresolvers.set_urlconf(urlconf)\n                         resolver = urlresolvers.RegexURLResolver(r'^/', urlconf)\n \n-                    callback, callback_args, callback_kwargs = resolver.resolve(\n-                            request.path_info)\n+                    resolver_match = resolver.resolve(request.path_info)\n+                    callback, callback_args, callback_kwargs = resolver_match\n+                    request.resolver_match = resolver_match\n \n                     # Apply view middleware\n                     for middleware_method in self._view_middleware:"
        },
        {
            "sha": "50301b8567803193d2c92b37e080fccb7a44064f",
            "filename": "docs/ref/request-response.txt",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/docs%2Fref%2Frequest-response.txt",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/docs%2Fref%2Frequest-response.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Frequest-response.txt?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -192,6 +192,17 @@ All attributes should be considered read-only, unless stated otherwise below.\n     URLconf for the current request, overriding the :setting:`ROOT_URLCONF`\n     setting. See :ref:`how-django-processes-a-request` for details.\n \n+.. attribute:: HttpRequest.resolver_match\n+\n+    .. versionadded:: 1.5\n+\n+    An instance of :class:`~django.core.urlresolvers.ResolverMatch` representing\n+    the resolved url. This attribute is only set after url resolving took place,\n+    which means it's available in all views but not in middleware methods which\n+    are executed before url resolving takes place (like ``process_request``, you\n+    can use ``process_view`` instead).\n+\n+\n Methods\n -------\n "
        },
        {
            "sha": "f1fcd923b1b06ad890eeeeface3ed23251b39c1b",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -127,6 +127,9 @@ Django 1.5 also includes several smaller improvements worth noting:\n   configuration duplication. More information can be found in the\n   :func:`~django.contrib.auth.decorators.login_required` documentation.\n \n+* An instance of :class:`~django.core.urlresolvers.ResolverMatch` is stored on\n+  the request as ``resolver_match``.\n+\n Backwards incompatible changes in 1.5\n =====================================\n "
        },
        {
            "sha": "ab2e77af24c31ca960fbc32c7e4bb600b23b1aef",
            "filename": "tests/regressiontests/urlpatterns_reverse/namespace_urls.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -28,6 +28,7 @@ def urls(self):\n urlpatterns = patterns('regressiontests.urlpatterns_reverse.views',\n     url(r'^normal/$', 'empty_view', name='normal-view'),\n     url(r'^normal/(?P<arg1>\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='normal-view'),\n+    url(r'^resolver_match/$', 'pass_resolver_match_view', name='test-resolver-match'),\n \n     url(r'^\\+\\\\\\$\\*/$', 'empty_view', name='special-view'),\n "
        },
        {
            "sha": "234897d2673705db57273963217e1ef4b12179d3",
            "filename": "tests/regressiontests/urlpatterns_reverse/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -512,6 +512,11 @@ def test_urlpattern_resolve(self):\n             self.assertEqual(match[1], args)\n             self.assertEqual(match[2], kwargs)\n \n+    def test_resolver_match_on_request(self):\n+        response = self.client.get('/resolver_match/')\n+        resolver_match = response.resolver_match\n+        self.assertEqual(resolver_match.url_name, 'test-resolver-match')\n+\n class ErroneousViewTests(TestCase):\n     urls = 'regressiontests.urlpatterns_reverse.erroneous_urls'\n "
        },
        {
            "sha": "88d169a11828442dc3ac6cba89085aca42013691",
            "filename": "tests/regressiontests/urlpatterns_reverse/views.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/b946db5241b924c72c1079ce30d9b368e2b82f07/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fviews.py?ref=b946db5241b924c72c1079ce30d9b368e2b82f07",
            "patch": "@@ -19,6 +19,11 @@ def defaults_view(request, arg1, arg2):\n def erroneous_view(request):\n     import non_existent\n \n+def pass_resolver_match_view(request, *args, **kwargs):\n+    response = HttpResponse('')\n+    response.resolver_match = request.resolver_match\n+    return response\n+\n uncallable = \"Can I be a view? Pleeeease?\"\n \n class ViewClass(object):"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 29,
        "deletions": 3
    }
}