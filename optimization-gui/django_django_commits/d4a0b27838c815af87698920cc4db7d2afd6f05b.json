{
    "author": "aaugustin",
    "message": "[py3] Refactored __unicode__ to __str__.\n\n* Renamed the __unicode__ methods\n* Applied the python_2_unicode_compatible decorator\n* Removed the StrAndUnicode mix-in that is superseded by\n  python_2_unicode_compatible\n* Kept the __unicode__ methods in classes that specifically\n  test it under Python 2",
    "sha": "d4a0b27838c815af87698920cc4db7d2afd6f05b",
    "files": [
        {
            "sha": "2b12edd4e2dd19a13b41c4be4643b729b1959008",
            "filename": "django/contrib/admin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fadmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -6,6 +6,7 @@\n from django.contrib.admin.util import quote\n from django.utils.translation import ugettext_lazy as _\n from django.utils.encoding import smart_text\n+from django.utils.encoding import python_2_unicode_compatible\n \n ADDITION = 1\n CHANGE = 2\n@@ -16,6 +17,7 @@ def log_action(self, user_id, content_type_id, object_id, object_repr, action_fl\n         e = self.model(None, None, user_id, content_type_id, smart_text(object_id), object_repr[:200], action_flag, change_message)\n         e.save()\n \n+@python_2_unicode_compatible\n class LogEntry(models.Model):\n     action_time = models.DateTimeField(_('action time'), auto_now=True)\n     user = models.ForeignKey(User)\n@@ -36,7 +38,7 @@ class Meta:\n     def __repr__(self):\n         return smart_text(self.action_time)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         if self.action_flag == ADDITION:\n             return _('Added \"%(object)s\".') % {'object': self.object_repr}\n         elif self.action_flag == CHANGE:"
        },
        {
            "sha": "1c21917a8c56ea98340e9f8cc84cfa20feabf5d0",
            "filename": "django/contrib/auth/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fauth%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fauth%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -16,6 +16,7 @@\n     check_password, make_password, is_password_usable, UNUSABLE_PASSWORD)\n from django.contrib.auth.signals import user_logged_in\n from django.contrib.contenttypes.models import ContentType\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n def update_last_login(sender, user, **kwargs):\n@@ -41,6 +42,7 @@ def get_by_natural_key(self, codename, app_label, model):\n         )\n \n \n+@python_2_unicode_compatible\n class Permission(models.Model):\n     \"\"\"\n     The permissions system provides a way to assign permissions to specific\n@@ -76,7 +78,7 @@ class Meta:\n         ordering = ('content_type__app_label', 'content_type__model',\n                     'codename')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s | %s | %s\" % (\n             six.text_type(self.content_type.app_label),\n             six.text_type(self.content_type),\n@@ -94,6 +96,7 @@ class GroupManager(models.Manager):\n     def get_by_natural_key(self, name):\n         return self.get(name=name)\n \n+@python_2_unicode_compatible\n class Group(models.Model):\n     \"\"\"\n     Groups are a generic way of categorizing users to apply permissions, or\n@@ -121,7 +124,7 @@ class Meta:\n         verbose_name = _('group')\n         verbose_name_plural = _('groups')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     def natural_key(self):\n@@ -221,6 +224,7 @@ def _user_has_module_perms(user, app_label):\n     return False\n \n \n+@python_2_unicode_compatible\n class User(models.Model):\n     \"\"\"\n     Users within the Django authentication system are represented by this\n@@ -259,7 +263,7 @@ class Meta:\n         verbose_name = _('user')\n         verbose_name_plural = _('users')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.username\n \n     def natural_key(self):\n@@ -403,6 +407,7 @@ def get_profile(self):\n         return self._profile_cache\n \n \n+@python_2_unicode_compatible\n class AnonymousUser(object):\n     id = None\n     pk = None\n@@ -416,7 +421,7 @@ class AnonymousUser(object):\n     def __init__(self):\n         pass\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'AnonymousUser'\n \n     def __eq__(self, other):"
        },
        {
            "sha": "b043b4187a4c5f46f15651d9ac8538c1f8069587",
            "filename": "django/contrib/comments/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcomments%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcomments%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,6 +8,7 @@\n from django.utils.translation import ugettext_lazy as _\n from django.utils import timezone\n from django.conf import settings\n+from django.utils.encoding import python_2_unicode_compatible\n \n COMMENT_MAX_LENGTH = getattr(settings,'COMMENT_MAX_LENGTH',3000)\n \n@@ -39,6 +40,7 @@ def get_content_object_url(self):\n             args=(self.content_type_id, self.object_pk)\n         )\n \n+@python_2_unicode_compatible\n class Comment(BaseCommentAbstractModel):\n     \"\"\"\n     A user comment about some object.\n@@ -76,7 +78,7 @@ class Meta:\n         verbose_name = _('comment')\n         verbose_name_plural = _('comments')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s: %s...\" % (self.name, self.comment[:50])\n \n     def save(self, *args, **kwargs):\n@@ -153,6 +155,7 @@ def get_as_text(self):\n         }\n         return _('Posted by %(user)s at %(date)s\\n\\n%(comment)s\\n\\nhttp://%(domain)s%(url)s') % d\n \n+@python_2_unicode_compatible\n class CommentFlag(models.Model):\n     \"\"\"\n     Records a flag on a comment. This is intentionally flexible; right now, a\n@@ -182,7 +185,7 @@ class Meta:\n         verbose_name = _('comment flag')\n         verbose_name_plural = _('comment flags')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s flag of comment ID %s by %s\" % \\\n             (self.flag, self.comment_id, self.user.username)\n "
        },
        {
            "sha": "b658655bbbc6c638b40ede8b92b152d1db234ff2",
            "filename": "django/contrib/contenttypes/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcontenttypes%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcontenttypes%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,6 +1,7 @@\n from django.db import models\n from django.utils.translation import ugettext_lazy as _\n from django.utils.encoding import smart_text, force_text\n+from django.utils.encoding import python_2_unicode_compatible\n \n class ContentTypeManager(models.Manager):\n \n@@ -122,6 +123,7 @@ def _add_to_cache(self, using, ct):\n         self.__class__._cache.setdefault(using, {})[key] = ct\n         self.__class__._cache.setdefault(using, {})[ct.id] = ct\n \n+@python_2_unicode_compatible\n class ContentType(models.Model):\n     name = models.CharField(max_length=100)\n     app_label = models.CharField(max_length=100)\n@@ -135,7 +137,7 @@ class Meta:\n         ordering = ('name',)\n         unique_together = (('app_label', 'model'),)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         # self.name is deprecated in favor of using model's verbose_name, which\n         # can be translated. Formal deprecation is delayed until we have DB\n         # migration to be able to remove the field from the database along with"
        },
        {
            "sha": "2f92a345817707d4cf47a34bd8b3edf2ff4867da",
            "filename": "django/contrib/contenttypes/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fcontenttypes%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcontenttypes%2Ftests.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,6 +8,7 @@\n from django.test import TestCase\n from django.utils.http import urlquote\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class ConcreteModel(models.Model):\n@@ -17,13 +18,14 @@ class ProxyModel(ConcreteModel):\n     class Meta:\n         proxy = True\n \n+@python_2_unicode_compatible\n class FooWithoutUrl(models.Model):\n     \"\"\"\n     Fake model not defining ``get_absolute_url`` for\n     :meth:`ContentTypesTests.test_shortcut_view_without_get_absolute_url`\"\"\"\n     name = models.CharField(max_length=30, unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n "
        },
        {
            "sha": "13e24167f5d00650dacdf170f6a4935fb633f800",
            "filename": "django/contrib/databrowse/datastructures.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Fdatastructures.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,6 +9,7 @@\n from django.utils.text import capfirst\n from django.utils.encoding import smart_text, smart_bytes, iri_to_uri\n from django.db.models.query import QuerySet\n+from django.utils.encoding import python_2_unicode_compatible\n \n EMPTY_VALUE = '(None)'\n DISPLAY_SIZE = 100\n@@ -84,14 +85,15 @@ def __repr__(self):\n     def url(self):\n         return '%s%s/%s/%s/%s/' % (self.model.site.root_url, self.model.model._meta.app_label, self.model.model._meta.module_name, self.field.field.name, iri_to_uri(self.value))\n \n+@python_2_unicode_compatible\n class EasyInstance(object):\n     def __init__(self, easy_model, instance):\n         self.model, self.instance = easy_model, instance\n \n     def __repr__(self):\n         return smart_bytes('<EasyInstance for %s (%s)>' % (self.model.model._meta.object_name, self.instance._get_pk_val()))\n \n-    def __unicode__(self):\n+    def __str__(self):\n         val = smart_text(self.instance)\n         if len(val) > DISPLAY_SIZE:\n             return val[:DISPLAY_SIZE] + '...'"
        },
        {
            "sha": "d649b4af6794e513bb10aa5b9334f3d0e1b1488f",
            "filename": "django/contrib/databrowse/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fdatabrowse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fdatabrowse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fdatabrowse%2Ftests.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,26 +1,30 @@\n from django.contrib import databrowse\n from django.db import models\n from django.test import TestCase\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class SomeModel(models.Model):\n     some_field = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.some_field\n \n \n+@python_2_unicode_compatible\n class SomeOtherModel(models.Model):\n     some_other_field = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.some_other_field\n \n \n+@python_2_unicode_compatible\n class YetAnotherModel(models.Model):\n     yet_another_field = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.yet_another_field\n \n "
        },
        {
            "sha": "3a5b4d61354a44313b4da3fc6b8cf97a95d60e31",
            "filename": "django/contrib/flatpages/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fflatpages%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,8 +3,10 @@\n from django.db import models\n from django.contrib.sites.models import Site\n from django.utils.translation import ugettext_lazy as _\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class FlatPage(models.Model):\n     url = models.CharField(_('URL'), max_length=100, db_index=True)\n     title = models.CharField(_('title'), max_length=200)\n@@ -21,7 +23,7 @@ class Meta:\n         verbose_name_plural = _('flat pages')\n         ordering = ('url',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s -- %s\" % (self.url, self.title)\n \n     def get_absolute_url(self):"
        },
        {
            "sha": "f7af420a8d4a2376ef8ee9aaef98b5231bf13f39",
            "filename": "django/contrib/gis/db/backends/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fbase.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,6 +5,7 @@\n import re\n from django.contrib.gis import gdal\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n class BaseSpatialOperations(object):\n     \"\"\"\n@@ -131,6 +132,7 @@ def geometry_columns(self):\n     def spatial_ref_sys(self):\n         raise NotImplementedError\n \n+@python_2_unicode_compatible\n class SpatialRefSysMixin(object):\n     \"\"\"\n     The SpatialRefSysMixin is a class used by the database-dependent\n@@ -325,7 +327,7 @@ def get_spheroid(cls, wkt, string=True):\n                 radius, flattening = sphere_params\n             return 'SPHEROID[\"%s\",%s,%s]' % (sphere_name, radius, flattening)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         \"\"\"\n         Returns the string representation.  If GDAL is installed,\n         it will be 'pretty' OGC WKT."
        },
        {
            "sha": "b7deb3a9461a132ff9e7cacc925e01a2fa9058a9",
            "filename": "django/contrib/gis/db/backends/oracle/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Foracle%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,7 +9,9 @@\n \"\"\"\n from django.contrib.gis.db import models\n from django.contrib.gis.db.backends.base import SpatialRefSysMixin\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class GeometryColumns(models.Model):\n     \"Maps to the Oracle USER_SDO_GEOM_METADATA table.\"\n     table_name = models.CharField(max_length=32)\n@@ -36,7 +38,7 @@ def geom_col_name(cls):\n         \"\"\"\n         return 'column_name'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s - %s (SRID: %s)' % (self.table_name, self.column_name, self.srid)\n \n class SpatialRefSys(models.Model, SpatialRefSysMixin):"
        },
        {
            "sha": "e8052594c65adfdac4c4e99f213e83cc80c6936b",
            "filename": "django/contrib/gis/db/backends/postgis/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fpostgis%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,7 +3,9 @@\n \"\"\"\n from django.db import models\n from django.contrib.gis.db.backends.base import SpatialRefSysMixin\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class GeometryColumns(models.Model):\n     \"\"\"\n     The 'geometry_columns' table from the PostGIS. See the PostGIS\n@@ -37,7 +39,7 @@ def geom_col_name(cls):\n         \"\"\"\n         return 'f_geometry_column'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s.%s - %dD %s field (SRID: %d)\" % \\\n                (self.f_table_name, self.f_geometry_column,\n                 self.coord_dimension, self.type, self.srid)"
        },
        {
            "sha": "b281f0bc62b427e995c6b673562ca1b3379ab9d8",
            "filename": "django/contrib/gis/db/backends/spatialite/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fdb%2Fbackends%2Fspatialite%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,7 +3,9 @@\n \"\"\"\n from django.db import models\n from django.contrib.gis.db.backends.base import SpatialRefSysMixin\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class GeometryColumns(models.Model):\n     \"\"\"\n     The 'geometry_columns' table from SpatiaLite.\n@@ -35,7 +37,7 @@ def geom_col_name(cls):\n         \"\"\"\n         return 'f_geometry_column'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s.%s - %dD %s field (SRID: %d)\" % \\\n                (self.f_table_name, self.f_geometry_column,\n                 self.coord_dimension, self.type, self.srid)"
        },
        {
            "sha": "b82d967da6b481a82514c3e916d8bfa38d507cfd",
            "filename": "django/contrib/gis/maps/google/overlays.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fmaps%2Fgoogle%2Foverlays.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Fmaps%2Fgoogle%2Foverlays.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fmaps%2Fgoogle%2Foverlays.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,8 +2,10 @@\n from django.utils.functional import total_ordering\n from django.utils.safestring import mark_safe\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class GEvent(object):\n     \"\"\"\n     A Python wrapper for the Google GEvent object.\n@@ -48,10 +50,11 @@ def __init__(self, event, action):\n         self.event = event\n         self.action = action\n \n-    def __unicode__(self):\n+    def __str__(self):\n         \"Returns the parameter part of a GEvent.\"\n         return mark_safe('\"%s\", %s' %(self.event, self.action))\n \n+@python_2_unicode_compatible\n class GOverlayBase(object):\n     def __init__(self):\n         self.events = []\n@@ -64,7 +67,7 @@ def add_event(self, event):\n         \"Attaches a GEvent to the overlay object.\"\n         self.events.append(event)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         \"The string representation is the JavaScript API call.\"\n         return mark_safe('%s(%s)' % (self.__class__.__name__, self.js_params))\n "
        },
        {
            "sha": "bf08829eae872faabb717ebe5aa16bcad9124bd0",
            "filename": "django/contrib/gis/tests/distapp/models.py",
            "status": "modified",
            "additions": 15,
            "deletions": 7,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fdistapp%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fdistapp%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fdistapp%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,50 +1,58 @@\n from django.contrib.gis.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class SouthTexasCity(models.Model):\n     \"City model on projected coordinate system for South Texas.\"\n     name = models.CharField(max_length=30)\n     point = models.PointField(srid=32140)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class SouthTexasCityFt(models.Model):\n     \"Same City model as above, but U.S. survey feet are the units.\"\n     name = models.CharField(max_length=30)\n     point = models.PointField(srid=2278)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class AustraliaCity(models.Model):\n     \"City model for Australia, using WGS84.\"\n     name = models.CharField(max_length=30)\n     point = models.PointField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class CensusZipcode(models.Model):\n     \"Model for a few South Texas ZIP codes (in original Census NAD83).\"\n     name = models.CharField(max_length=5)\n     poly = models.PolygonField(srid=4269)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class SouthTexasZipcode(models.Model):\n     \"Model for a few South Texas ZIP codes.\"\n     name = models.CharField(max_length=5)\n     poly = models.PolygonField(srid=32140, null=True)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class Interstate(models.Model):\n     \"Geodetic model for U.S. Interstates.\"\n     name = models.CharField(max_length=10)\n     path = models.LineStringField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class SouthTexasInterstate(models.Model):\n     \"Projected model for South Texas Interstates.\"\n     name = models.CharField(max_length=10)\n     path = models.LineStringField(srid=32140)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name"
        },
        {
            "sha": "81e5f55f7805e84f6c669b7734424e4d1dc6acde",
            "filename": "django/contrib/gis/tests/geo3d/models.py",
            "status": "modified",
            "additions": 17,
            "deletions": 9,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeo3d%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeo3d%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeo3d%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,59 +1,67 @@\n from django.contrib.gis.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class City3D(models.Model):\n     name = models.CharField(max_length=30)\n     point = models.PointField(dim=3)\n     objects = models.GeoManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Interstate2D(models.Model):\n     name = models.CharField(max_length=30)\n     line = models.LineStringField(srid=4269)\n     objects = models.GeoManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Interstate3D(models.Model):\n     name = models.CharField(max_length=30)\n     line = models.LineStringField(dim=3, srid=4269)\n     objects = models.GeoManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class InterstateProj2D(models.Model):\n     name = models.CharField(max_length=30)\n     line = models.LineStringField(srid=32140)\n     objects = models.GeoManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class InterstateProj3D(models.Model):\n     name = models.CharField(max_length=30)\n     line = models.LineStringField(dim=3, srid=32140)\n     objects = models.GeoManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Polygon2D(models.Model):\n     name = models.CharField(max_length=30)\n     poly = models.PolygonField(srid=32140)\n     objects = models.GeoManager()\n-    \n-    def __unicode__(self):\n+\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Polygon3D(models.Model):\n     name = models.CharField(max_length=30)\n     poly = models.PolygonField(dim=3, srid=32140)\n     objects = models.GeoManager()\n-    \n-    def __unicode__(self):\n+\n+    def __str__(self):\n         return self.name\n \n class Point2D(models.Model):"
        },
        {
            "sha": "af0898823d02c3e320b7a71cb6617e6dcf1fa58a",
            "filename": "django/contrib/gis/tests/geoadmin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoadmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoadmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoadmin%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,10 +1,12 @@\n from django.contrib.gis.db import models\n from django.contrib.gis import admin\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class City(models.Model):\n     name = models.CharField(max_length=30)\n     point = models.PointField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n admin.site.register(City, admin.OSMGeoAdmin)"
        },
        {
            "sha": "abde509c8bb202ba1833a659db7d3e5f079242a2",
            "filename": "django/contrib/gis/tests/geoapp/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeoapp%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,49 +1,55 @@\n from django.contrib.gis.db import models\n from django.contrib.gis.tests.utils import mysql, spatialite\n+from django.utils.encoding import python_2_unicode_compatible\n \n # MySQL spatial indices can't handle NULL geometries.\n null_flag = not mysql\n \n+@python_2_unicode_compatible\n class Country(models.Model):\n     name = models.CharField(max_length=30)\n     mpoly = models.MultiPolygonField() # SRID, by default, is 4326\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class City(models.Model):\n     name = models.CharField(max_length=30)\n     point = models.PointField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n # This is an inherited model from City\n class PennsylvaniaCity(City):\n     county = models.CharField(max_length=30)\n     founded = models.DateTimeField(null=True)\n     objects = models.GeoManager() # TODO: This should be implicitly inherited.\n \n+@python_2_unicode_compatible\n class State(models.Model):\n     name = models.CharField(max_length=30)\n     poly = models.PolygonField(null=null_flag) # Allowing NULL geometries here.\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class Track(models.Model):\n     name = models.CharField(max_length=30)\n     line = models.LineStringField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n class Truth(models.Model):\n     val = models.BooleanField()\n     objects = models.GeoManager()\n \n if not spatialite:\n+    @python_2_unicode_compatible\n     class Feature(models.Model):\n         name = models.CharField(max_length=20)\n         geom = models.GeometryField()\n         objects = models.GeoManager()\n-        def __unicode__(self): return self.name\n+        def __str__(self): return self.name\n \n     class MinusOneSRID(models.Model):\n         geom = models.PointField(srid=-1) # Minus one SRID."
        },
        {
            "sha": "7e802f932198543260ee392e556a86a2e0d1279a",
            "filename": "django/contrib/gis/tests/geogapp/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeogapp%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Fgeogapp%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Fgeogapp%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,20 +1,24 @@\n from django.contrib.gis.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class City(models.Model):\n     name = models.CharField(max_length=30)\n     point = models.PointField(geography=True)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n+@python_2_unicode_compatible\n class Zipcode(models.Model):\n     code = models.CharField(max_length=10)\n     poly = models.PolygonField(geography=True)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.code\n+    def __str__(self): return self.code\n \n+@python_2_unicode_compatible\n class County(models.Model):\n     name = models.CharField(max_length=25)\n     state = models.CharField(max_length=20)\n     mpoly = models.MultiPolygonField(geography=True)\n     objects = models.GeoManager()\n-    def __unicode__(self): return ' County, '.join([self.name, self.state])\n+    def __str__(self): return ' County, '.join([self.name, self.state])"
        },
        {
            "sha": "659fef7a938ba0ada0a3523e72e5f67c2ce2a9e0",
            "filename": "django/contrib/gis/tests/relatedapp/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 5,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Frelatedapp%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Ftests%2Frelatedapp%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Ftests%2Frelatedapp%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,37 +1,41 @@\n from django.contrib.gis.db import models\n from django.contrib.localflavor.us.models import USStateField\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class Location(models.Model):\n     point = models.PointField()\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.point.wkt\n+    def __str__(self): return self.point.wkt\n \n+@python_2_unicode_compatible\n class City(models.Model):\n     name = models.CharField(max_length=50)\n     state = USStateField()\n     location = models.ForeignKey(Location)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n class AugmentedLocation(Location):\n     extra_text = models.TextField(blank=True)\n     objects = models.GeoManager()\n-    \n+\n class DirectoryEntry(models.Model):\n     listing_text = models.CharField(max_length=50)\n     location = models.ForeignKey(AugmentedLocation)\n     objects = models.GeoManager()\n \n+@python_2_unicode_compatible\n class Parcel(models.Model):\n     name = models.CharField(max_length=30)\n     city = models.ForeignKey(City)\n     center1 = models.PointField()\n     # Throwing a curveball w/`db_column` here.\n-    center2 = models.PointField(srid=2276, db_column='mycenter') \n+    center2 = models.PointField(srid=2276, db_column='mycenter')\n     border1 = models.PolygonField()\n     border2 = models.PolygonField(srid=2276)\n     objects = models.GeoManager()\n-    def __unicode__(self): return self.name\n+    def __str__(self): return self.name\n \n # These use the GeoManager but do not have any geographic fields.\n class Author(models.Model):"
        },
        {
            "sha": "4266ee4b4c77e2e08f8d4d61011fb4117140b30e",
            "filename": "django/contrib/gis/utils/ogrinspect.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Futils%2Fogrinspect.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -223,4 +223,4 @@ def get_kwargs_str(field_name):\n \n     if name_field:\n         yield ''\n-        yield '    def __unicode__(self): return self.%s' % name_field\n+        yield '    def __str__(self): return self.%s' % name_field"
        },
        {
            "sha": "7fe8a077ed714baedc1b04ed718d5e5e07c2bb65",
            "filename": "django/contrib/messages/storage/base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Fstorage%2Fbase.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,14 +1,15 @@\n from __future__ import unicode_literals\n \n from django.conf import settings\n-from django.utils.encoding import force_text, StrAndUnicode\n+from django.utils.encoding import force_text, python_2_unicode_compatible\n from django.contrib.messages import constants, utils\n \n \n LEVEL_TAGS = utils.get_level_tags()\n \n \n-class Message(StrAndUnicode):\n+@python_2_unicode_compatible\n+class Message(object):\n     \"\"\"\n     Represents an actual message that can be stored in any of the supported\n     storage classes (typically session- or cookie-based) and rendered in a view\n@@ -35,7 +36,7 @@ def __eq__(self, other):\n         return isinstance(other, Message) and self.level == other.level and \\\n                                               self.message == other.message\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return force_text(self.message)\n \n     def _get_tags(self):"
        },
        {
            "sha": "a0376b55782947d306220a52324c5f7e2fe6275b",
            "filename": "django/contrib/redirects/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fredirects%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fredirects%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fredirects%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,7 +1,9 @@\n from django.db import models\n from django.contrib.sites.models import Site\n from django.utils.translation import ugettext_lazy as _\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class Redirect(models.Model):\n     site = models.ForeignKey(Site)\n     old_path = models.CharField(_('redirect from'), max_length=200, db_index=True,\n@@ -15,6 +17,6 @@ class Meta:\n         db_table = 'django_redirect'\n         unique_together=(('site', 'old_path'),)\n         ordering = ('old_path',)\n-    \n-    def __unicode__(self):\n+\n+    def __str__(self):\n         return \"%s ---> %s\" % (self.old_path, self.new_path)"
        },
        {
            "sha": "85907406584deb35bc04b1901354fba4bf59e1b5",
            "filename": "django/contrib/sites/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fsites%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcontrib%2Fsites%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsites%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,5 +1,6 @@\n from django.db import models\n from django.utils.translation import ugettext_lazy as _\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n SITE_CACHE = {}\n@@ -32,6 +33,7 @@ def clear_cache(self):\n         SITE_CACHE = {}\n \n \n+@python_2_unicode_compatible\n class Site(models.Model):\n \n     domain = models.CharField(_('domain name'), max_length=100)\n@@ -44,7 +46,7 @@ class Meta:\n         verbose_name_plural = _('sites')\n         ordering = ('domain',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.domain\n \n     def save(self, *args, **kwargs):\n@@ -62,6 +64,7 @@ def delete(self):\n             pass\n \n \n+@python_2_unicode_compatible\n class RequestSite(object):\n     \"\"\"\n     A class that shares the primary interface of Site (i.e., it has\n@@ -73,7 +76,7 @@ class RequestSite(object):\n     def __init__(self, request):\n         self.domain = self.name = request.get_host()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.domain\n \n     def save(self, force_insert=False, force_update=False):"
        },
        {
            "sha": "d7a8cb85394affcd183052ee740a082ad69bbc44",
            "filename": "django/core/files/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcore%2Ffiles%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcore%2Ffiles%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fbase.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,7 +5,9 @@\n \n from django.utils.encoding import smart_bytes, smart_text\n from django.core.files.utils import FileProxyMixin\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class File(FileProxyMixin):\n     DEFAULT_CHUNK_SIZE = 64 * 2**10\n \n@@ -17,7 +19,7 @@ def __init__(self, file, name=None):\n         if hasattr(file, 'mode'):\n             self.mode = file.mode\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return smart_text(self.name or '')\n \n     def __repr__(self):\n@@ -121,6 +123,7 @@ def open(self, mode=None):\n     def close(self):\n         self.file.close()\n \n+@python_2_unicode_compatible\n class ContentFile(File):\n     \"\"\"\n     A File-like object that takes just raw content, rather than an actual file.\n@@ -130,7 +133,7 @@ def __init__(self, content, name=None):\n         super(ContentFile, self).__init__(BytesIO(content), name=name)\n         self.size = len(content)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'Raw content'\n \n     def __bool__(self):"
        },
        {
            "sha": "c422945d6f0b8237c127408822de8fc3fbd5132a",
            "filename": "django/core/files/uploadhandler.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fcore%2Ffiles%2Fuploadhandler.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Ffiles%2Fuploadhandler.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -10,6 +10,7 @@\n from django.core.exceptions import ImproperlyConfigured\n from django.core.files.uploadedfile import TemporaryUploadedFile, InMemoryUploadedFile\n from django.utils import importlib\n+from django.utils.encoding import python_2_unicode_compatible\n \n __all__ = ['UploadFileException','StopUpload', 'SkipFile', 'FileUploadHandler',\n            'TemporaryFileUploadHandler', 'MemoryFileUploadHandler',\n@@ -21,6 +22,7 @@ class UploadFileException(Exception):\n     \"\"\"\n     pass\n \n+@python_2_unicode_compatible\n class StopUpload(UploadFileException):\n     \"\"\"\n     This exception is raised when an upload must abort.\n@@ -33,7 +35,7 @@ def __init__(self, connection_reset=False):\n         \"\"\"\n         self.connection_reset = connection_reset\n \n-    def __unicode__(self):\n+    def __str__(self):\n         if self.connection_reset:\n             return 'StopUpload: Halt current upload.'\n         else:"
        },
        {
            "sha": "014b8bf35978ca5e92c9494a76f6068a13d313ec",
            "filename": "django/db/models/options.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fdb%2Fmodels%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fdb%2Fmodels%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Foptions.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -13,6 +13,7 @@\n from django.utils.encoding import force_text, smart_text\n from django.utils.datastructures import SortedDict\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n # Calculate the verbose_name by converting from InitialCaps to \"lowercase with spaces\".\n get_verbose_name = lambda class_name: re.sub('(((?<=[a-z])[A-Z])|([A-Z](?![A-Z]|$)))', ' \\\\1', class_name).lower().strip()\n@@ -22,6 +23,7 @@\n                  'order_with_respect_to', 'app_label', 'db_tablespace',\n                  'abstract', 'managed', 'proxy', 'auto_created')\n \n+@python_2_unicode_compatible\n class Options(object):\n     def __init__(self, meta, app_label=None):\n         self.local_fields, self.local_many_to_many = [], []\n@@ -200,7 +202,7 @@ def setup_proxy(self, target):\n     def __repr__(self):\n         return '<Options for %s>' % self.object_name\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s.%s\" % (smart_text(self.app_label), smart_text(self.module_name))\n \n     def verbose_name_raw(self):"
        },
        {
            "sha": "3299c2becc464603d92c7c97e10200694d845e07",
            "filename": "django/forms/forms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fforms.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -12,7 +12,7 @@\n from django.forms.widgets import Media, media_property, TextInput, Textarea\n from django.utils.datastructures import SortedDict\n from django.utils.html import conditional_escape, format_html\n-from django.utils.encoding import StrAndUnicode, smart_text, force_text\n+from django.utils.encoding import smart_text, force_text, python_2_unicode_compatible\n from django.utils.safestring import mark_safe\n from django.utils import six\n \n@@ -68,7 +68,8 @@ def __new__(cls, name, bases, attrs):\n             new_class.media = media_property(new_class)\n         return new_class\n \n-class BaseForm(StrAndUnicode):\n+@python_2_unicode_compatible\n+class BaseForm(object):\n     # This is the main implementation of all the Form logic. Note that this\n     # class is different than Form. See the comments by the Form class for more\n     # information. Any improvements to the form API should be made to *this*\n@@ -95,7 +96,7 @@ def __init__(self, data=None, files=None, auto_id='id_%s', prefix=None,\n         # self.base_fields.\n         self.fields = copy.deepcopy(self.base_fields)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.as_table()\n \n     def __iter__(self):\n@@ -387,7 +388,8 @@ class Form(six.with_metaclass(DeclarativeFieldsMetaclass, BaseForm)):\n     # to define a form using declarative syntax.\n     # BaseForm itself has no way of designating self.fields.\n \n-class BoundField(StrAndUnicode):\n+@python_2_unicode_compatible\n+class BoundField(object):\n     \"A Field plus data\"\n     def __init__(self, form, field, name):\n         self.form = form\n@@ -402,7 +404,7 @@ def __init__(self, form, field, name):\n             self.label = self.field.label\n         self.help_text = field.help_text or ''\n \n-    def __unicode__(self):\n+    def __str__(self):\n         \"\"\"Renders this field as an HTML widget.\"\"\"\n         if self.field.show_hidden_initial:\n             return self.as_widget() + self.as_hidden(only_initial=True)"
        },
        {
            "sha": "258c673da8daa394fe537fcf287b6b9381e5c200",
            "filename": "django/forms/formsets.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fformsets.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,7 +5,7 @@\n from django.forms.fields import IntegerField, BooleanField\n from django.forms.util import ErrorList\n from django.forms.widgets import Media, HiddenInput\n-from django.utils.encoding import StrAndUnicode\n+from django.utils.encoding import python_2_unicode_compatible\n from django.utils.safestring import mark_safe\n from django.utils import six\n from django.utils.six.moves import xrange\n@@ -33,7 +33,8 @@ def __init__(self, *args, **kwargs):\n         self.base_fields[MAX_NUM_FORM_COUNT] = IntegerField(required=False, widget=HiddenInput)\n         super(ManagementForm, self).__init__(*args, **kwargs)\n \n-class BaseFormSet(StrAndUnicode):\n+@python_2_unicode_compatible\n+class BaseFormSet(object):\n     \"\"\"\n     A collection of instances of the same Form class.\n     \"\"\"\n@@ -51,7 +52,7 @@ def __init__(self, data=None, files=None, auto_id='id_%s', prefix=None,\n         # construct the forms in the formset\n         self._construct_forms()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.as_table()\n \n     def __iter__(self):"
        },
        {
            "sha": "9b1bcebe337e54ec8edcfe84959b7b25ca43f921",
            "filename": "django/forms/util.py",
            "status": "modified",
            "additions": 7,
            "deletions": 5,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Futil.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,7 +2,7 @@\n \n from django.conf import settings\n from django.utils.html import format_html, format_html_join\n-from django.utils.encoding import StrAndUnicode, force_text\n+from django.utils.encoding import force_text, python_2_unicode_compatible\n from django.utils.safestring import mark_safe\n from django.utils import timezone\n from django.utils.translation import ugettext_lazy as _\n@@ -22,13 +22,14 @@ def flatatt(attrs):\n     \"\"\"\n     return format_html_join('', ' {0}=\"{1}\"', attrs.items())\n \n-class ErrorDict(dict, StrAndUnicode):\n+@python_2_unicode_compatible\n+class ErrorDict(dict):\n     \"\"\"\n     A collection of errors that knows how to display itself in various formats.\n \n     The dictionary keys are the field names, and the values are the errors.\n     \"\"\"\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.as_ul()\n \n     def as_ul(self):\n@@ -42,11 +43,12 @@ def as_ul(self):\n     def as_text(self):\n         return '\\n'.join(['* %s\\n%s' % (k, '\\n'.join(['  * %s' % force_text(i) for i in v])) for k, v in self.items()])\n \n-class ErrorList(list, StrAndUnicode):\n+@python_2_unicode_compatible\n+class ErrorList(list):\n     \"\"\"\n     A collection of errors that knows how to display itself in various formats.\n     \"\"\"\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.as_ul()\n \n     def as_ul(self):"
        },
        {
            "sha": "fe7c06ff34dc59d24ca1bffe674e4406b7f66f69",
            "filename": "django/forms/widgets.py",
            "status": "modified",
            "additions": 12,
            "deletions": 8,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Fforms%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fwidgets.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -17,7 +17,7 @@\n from django.utils.datastructures import MultiValueDict, MergeDict\n from django.utils.html import conditional_escape, format_html, format_html_join\n from django.utils.translation import ugettext, ugettext_lazy\n-from django.utils.encoding import StrAndUnicode, force_text\n+from django.utils.encoding import force_text, python_2_unicode_compatible\n from django.utils.safestring import mark_safe\n from django.utils import six\n from django.utils import datetime_safe, formats\n@@ -34,7 +34,8 @@\n \n MEDIA_TYPES = ('css','js')\n \n-class Media(StrAndUnicode):\n+@python_2_unicode_compatible\n+class Media(object):\n     def __init__(self, media=None, **kwargs):\n         if media:\n             media_attrs = media.__dict__\n@@ -51,7 +52,7 @@ def __init__(self, media=None, **kwargs):\n         # if media_attrs != {}:\n         #     raise TypeError(\"'class Media' has invalid attribute(s): %s\" % ','.join(media_attrs.keys()))\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.render()\n \n     def render(self):\n@@ -142,7 +143,8 @@ def __new__(cls, name, bases, attrs):\n             new_class.media = media_property(new_class)\n         return new_class\n \n-class SubWidget(StrAndUnicode):\n+@python_2_unicode_compatible\n+class SubWidget(object):\n     \"\"\"\n     Some widgets are made of multiple HTML elements -- namely, RadioSelect.\n     This is a class that represents the \"inner\" HTML element of a widget.\n@@ -152,7 +154,7 @@ def __init__(self, parent_widget, name, value, attrs, choices):\n         self.name, self.value = name, value\n         self.attrs, self.choices = attrs, choices\n \n-    def __unicode__(self):\n+    def __str__(self):\n         args = [self.name, self.value, self.attrs]\n         if self.choices:\n             args.append(self.choices)\n@@ -647,6 +649,7 @@ def _has_changed(self, initial, data):\n         data_set = set([force_text(value) for value in data])\n         return data_set != initial_set\n \n+@python_2_unicode_compatible\n class RadioInput(SubWidget):\n     \"\"\"\n     An object used by RadioFieldRenderer that represents a single\n@@ -660,7 +663,7 @@ def __init__(self, name, value, attrs, choice, index):\n         self.choice_label = force_text(choice[1])\n         self.index = index\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.render()\n \n     def render(self, name=None, value=None, attrs=None, choices=()):\n@@ -685,7 +688,8 @@ def tag(self):\n             final_attrs['checked'] = 'checked'\n         return format_html('<input{0} />', flatatt(final_attrs))\n \n-class RadioFieldRenderer(StrAndUnicode):\n+@python_2_unicode_compatible\n+class RadioFieldRenderer(object):\n     \"\"\"\n     An object used by RadioSelect to enable customization of radio widgets.\n     \"\"\"\n@@ -702,7 +706,7 @@ def __getitem__(self, idx):\n         choice = self.choices[idx] # Let the IndexError propogate\n         return RadioInput(self.name, self.value, self.attrs.copy(), choice, idx)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.render()\n \n     def render(self):"
        },
        {
            "sha": "24ad9320e0f86b7e3e93502eb0577e16c065525d",
            "filename": "django/template/base.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Ftemplate%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Ftemplate%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fbase.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -20,6 +20,7 @@\n from django.utils.module_loading import module_has_submodule\n from django.utils import six\n from django.utils.timezone import template_localtime\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n TOKEN_TEXT = 0\n@@ -79,13 +80,14 @@ class TemplateDoesNotExist(Exception):\n class TemplateEncodingError(Exception):\n     pass\n \n+@python_2_unicode_compatible\n class VariableDoesNotExist(Exception):\n \n     def __init__(self, msg, params=()):\n         self.msg = msg\n         self.params = params\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.msg % tuple([force_text(p, errors='replace')\n                                  for p in self.params])\n "
        },
        {
            "sha": "274810cab466ed9295aae054849d6487a429dfc4",
            "filename": "django/test/html.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Ftest%2Fhtml.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/django%2Ftest%2Fhtml.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftest%2Fhtml.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,6 +8,7 @@\n from django.utils.encoding import force_text\n from django.utils.html_parser import HTMLParser, HTMLParseError\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n WHITESPACE = re.compile('\\s+')\n@@ -17,6 +18,7 @@ def normalize_whitespace(string):\n     return WHITESPACE.sub(' ', string)\n \n \n+@python_2_unicode_compatible\n class Element(object):\n     def __init__(self, name, attributes):\n         self.name = name\n@@ -117,7 +119,7 @@ def count(self, element):\n     def __getitem__(self, key):\n         return self.children[key]\n \n-    def __unicode__(self):\n+    def __str__(self):\n         output = '<%s' % self.name\n         for key, value in self.attributes:\n             if value:\n@@ -136,11 +138,12 @@ def __repr__(self):\n         return six.text_type(self)\n \n \n+@python_2_unicode_compatible\n class RootElement(Element):\n     def __init__(self):\n         super(RootElement, self).__init__(None, ())\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return ''.join(six.text_type(c) for c in self.children)\n \n "
        },
        {
            "sha": "b4f797ee03e84e74d6262ac1014895c2d4544db4",
            "filename": "tests/modeltests/aggregation/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Faggregation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Faggregation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Faggregation%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,22 +1,26 @@\n # coding: utf-8\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=100)\n     age = models.IntegerField()\n     friends = models.ManyToManyField('self', blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Publisher(models.Model):\n     name = models.CharField(max_length=255)\n     num_awards = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     isbn = models.CharField(max_length=9)\n     name = models.CharField(max_length=255)\n@@ -28,15 +32,16 @@ class Book(models.Model):\n     publisher = models.ForeignKey(Publisher)\n     pubdate = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Store(models.Model):\n     name = models.CharField(max_length=255)\n     books = models.ManyToManyField(Book)\n     original_opening = models.DateTimeField()\n     friday_night_closing = models.TimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n "
        },
        {
            "sha": "660beddf497f01a2d90203c1ce71bd6dd5520dcc",
            "filename": "tests/modeltests/basic/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fbasic%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fbasic%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fbasic%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,14 +5,16 @@\n This is a basic model with only two non-primary-key fields.\n \"\"\"\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n \n     class Meta:\n         ordering = ('pub_date','headline')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "2fa33a9680589ff6af713bb5df9997c3a217460c",
            "filename": "tests/modeltests/choices/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fchoices%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fchoices%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fchoices%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -10,16 +10,18 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n GENDER_CHOICES = (\n     ('M', 'Male'),\n     ('F', 'Female'),\n )\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=20)\n     gender = models.CharField(max_length=1, choices=GENDER_CHOICES)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "16f0563d6bb0655fdb212dd16be9346ea4097a47",
            "filename": "tests/modeltests/custom_columns/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_columns%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -18,24 +18,27 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     first_name = models.CharField(max_length=30, db_column='firstname')\n     last_name = models.CharField(max_length=30, db_column='last')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.first_name, self.last_name)\n \n     class Meta:\n         db_table = 'my_author_table'\n         ordering = ('last_name','first_name')\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     authors = models.ManyToManyField(Author, db_table='my_m2m_table')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "de7c1772ed6204c752090a14eba57fb51eb85d2d",
            "filename": "tests/modeltests/custom_managers/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_managers%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -12,20 +12,22 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n # An example of a custom manager called \"objects\".\n \n class PersonManager(models.Manager):\n     def get_fun_people(self):\n         return self.filter(fun=True)\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n     fun = models.BooleanField()\n     objects = PersonManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n # An example of a custom manager that sets get_query_set().\n@@ -34,14 +36,15 @@ class PublishedBookManager(models.Manager):\n     def get_query_set(self):\n         return super(PublishedBookManager, self).get_query_set().filter(is_published=True)\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     title = models.CharField(max_length=50)\n     author = models.CharField(max_length=30)\n     is_published = models.BooleanField()\n     published_objects = PublishedBookManager()\n     authors = models.ManyToManyField(Person, related_name='books')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n # An example of providing multiple custom managers.\n@@ -50,12 +53,13 @@ class FastCarManager(models.Manager):\n     def get_query_set(self):\n         return super(FastCarManager, self).get_query_set().filter(top_speed__gt=150)\n \n+@python_2_unicode_compatible\n class Car(models.Model):\n     name = models.CharField(max_length=10)\n     mileage = models.IntegerField()\n     top_speed = models.IntegerField(help_text=\"In miles per hour.\")\n     cars = models.Manager()\n     fast_cars = FastCarManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "cef3fd722bebe39f2944035dd33d68596b595543",
            "filename": "tests/modeltests/custom_methods/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_methods%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_methods%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_methods%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,13 +7,15 @@\n import datetime\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     def was_published_today(self):"
        },
        {
            "sha": "d25eeca1d56857143c5d2e03d3bb63408a9981a9",
            "filename": "tests/modeltests/custom_pk/fields.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_pk%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_pk%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_pk%2Ffields.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,16 +3,18 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class MyWrapper(object):\n     def __init__(self, value):\n         self.value = value\n \n     def __repr__(self):\n         return \"<%s: %s>\" % (self.__class__.__name__, self.value)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.value\n \n     def __eq__(self, other):"
        },
        {
            "sha": "5ef9b69f0c8d67651f528fddc129b211292068c3",
            "filename": "tests/modeltests/custom_pk/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fcustom_pk%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -11,31 +11,35 @@\n from django.db import models\n \n from .fields import MyAutoField\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Employee(models.Model):\n     employee_code = models.IntegerField(primary_key=True, db_column = 'code')\n     first_name = models.CharField(max_length=20)\n     last_name = models.CharField(max_length=20)\n     class Meta:\n         ordering = ('last_name', 'first_name')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Business(models.Model):\n     name = models.CharField(max_length=20, primary_key=True)\n     employees = models.ManyToManyField(Employee)\n     class Meta:\n         verbose_name_plural = 'businesses'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Bar(models.Model):\n     id = MyAutoField(primary_key=True, db_index=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return repr(self.pk)\n \n "
        },
        {
            "sha": "0688cbc9840745b15022c16922b2ba65340cee36",
            "filename": "tests/modeltests/defer/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdefer%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdefer%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fdefer%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,18 +3,20 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Secondary(models.Model):\n     first = models.CharField(max_length=50)\n     second = models.CharField(max_length=50)\n \n+@python_2_unicode_compatible\n class Primary(models.Model):\n     name = models.CharField(max_length=50)\n     value = models.CharField(max_length=50)\n     related = models.ForeignKey(Secondary)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Child(Primary):"
        },
        {
            "sha": "e0cec426eacf2230ea06ac7f56379e0f5bc27bc0",
            "filename": "tests/modeltests/delete/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdelete%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdelete%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fdelete%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,12 +1,14 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class R(models.Model):\n     is_default = models.BooleanField(default=False)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s\" % self.pk\n \n "
        },
        {
            "sha": "7982f435d0cb127e8c0b82af2f9a43a9ffb30e62",
            "filename": "tests/modeltests/distinct_on_fields/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fdistinct_on_fields%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,7 +1,9 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class Tag(models.Model):\n     name = models.CharField(max_length=10)\n     parent = models.ForeignKey('self', blank=True, null=True,\n@@ -10,32 +12,35 @@ class Tag(models.Model):\n     class Meta:\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Celebrity(models.Model):\n     name = models.CharField(\"Name\", max_length=20)\n     greatest_fan = models.ForeignKey(\"Fan\", null=True, unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Fan(models.Model):\n     fan_of = models.ForeignKey(Celebrity)\n \n+@python_2_unicode_compatible\n class Staff(models.Model):\n     id = models.IntegerField(primary_key=True)\n     name = models.CharField(max_length=50)\n     organisation = models.CharField(max_length=100)\n     tags = models.ManyToManyField(Tag, through='StaffTag')\n     coworkers = models.ManyToManyField('self')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class StaffTag(models.Model):\n     staff = models.ForeignKey(Staff)\n     tag = models.ForeignKey(Tag)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s -> %s\" % (self.tag, self.staff)"
        },
        {
            "sha": "f592a0eb135a3590ddd28ba4576e393e44c850f3",
            "filename": "tests/modeltests/expressions/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fexpressions%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fexpressions%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fexpressions%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,15 +4,18 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Employee(models.Model):\n     firstname = models.CharField(max_length=50)\n     lastname = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.firstname, self.lastname)\n \n+@python_2_unicode_compatible\n class Company(models.Model):\n     name = models.CharField(max_length=100)\n     num_employees = models.PositiveIntegerField()\n@@ -25,5 +28,5 @@ class Company(models.Model):\n         related_name='company_point_of_contact_set',\n         null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "c99d4871cd1eddb11bdd302729abffc371fbfead",
            "filename": "tests/modeltests/field_defaults/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_defaults%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_defaults%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_defaults%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -13,11 +13,13 @@\n from datetime import datetime\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField(default=datetime.now)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "6fecbb63fcd30f70818fbb48a8e7b8b3d6c1db13",
            "filename": "tests/modeltests/field_subclassing/fields.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_subclassing%2Ffields.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,8 +5,10 @@\n from django.db import models\n from django.utils.encoding import force_text\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Small(object):\n     \"\"\"\n     A simple class to show that non-trivial Python objects can be used as\n@@ -15,7 +17,7 @@ class Small(object):\n     def __init__(self, first, second):\n         self.first, self.second = first, second\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s%s' % (force_text(self.first), force_text(self.second))\n \n class SmallField(models.Field):"
        },
        {
            "sha": "642573cc83bf92b5635df9900fa90ee8a4225920",
            "filename": "tests/modeltests/field_subclassing/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_subclassing%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffield_subclassing%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_subclassing%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,13 +8,15 @@\n from django.utils.encoding import force_text\n \n from .fields import SmallField, SmallerField, JSONField\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class MyModel(models.Model):\n     name = models.CharField(max_length=10)\n     data = SmallField('small field')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return force_text(self.name)\n \n class OtherModel(models.Model):"
        },
        {
            "sha": "8bd35019264b848c13700ac9333328ef8bd45ec9",
            "filename": "tests/modeltests/fixtures/models.py",
            "status": "modified",
            "additions": 15,
            "deletions": 7,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffixtures%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffixtures%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffixtures%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -12,57 +12,63 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     title = models.CharField(max_length=100)\n     description = models.TextField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     class Meta:\n         ordering = ('title',)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:\n         ordering = ('-pub_date', 'headline')\n \n+@python_2_unicode_compatible\n class Blog(models.Model):\n     name = models.CharField(max_length=100)\n     featured = models.ForeignKey(Article, related_name='fixtures_featured_set')\n     articles = models.ManyToManyField(Article, blank=True,\n                                       related_name='fixtures_articles_set')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Tag(models.Model):\n     name = models.CharField(max_length=100)\n     tagged_type = models.ForeignKey(ContentType, related_name=\"fixtures_tag_set\")\n     tagged_id = models.PositiveIntegerField(default=0)\n     tagged = generic.GenericForeignKey(ct_field='tagged_type',\n                                        fk_field='tagged_id')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '<%s: %s> tagged \"%s\"' % (self.tagged.__class__.__name__,\n                                          self.tagged, self.name)\n \n class PersonManager(models.Manager):\n     def get_by_natural_key(self, name):\n         return self.get(name=name)\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     objects = PersonManager()\n     name = models.CharField(max_length=100)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:\n@@ -79,19 +85,21 @@ class Spy(Person):\n     objects = SpyManager()\n     cover_blown = models.BooleanField(default=False)\n \n+@python_2_unicode_compatible\n class Visa(models.Model):\n     person = models.ForeignKey(Person)\n     permissions = models.ManyToManyField(Permission, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.person.name,\n                           ', '.join(p.name for p in self.permissions.all()))\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     name = models.CharField(max_length=100)\n     authors = models.ManyToManyField(Person)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         authors = ' and '.join(a.name for a in self.authors.all())\n         return '%s by %s' % (self.name, authors) if authors else self.name\n "
        },
        {
            "sha": "deeba48aa9f55e710bf84b34264159e82b335e5f",
            "filename": "tests/modeltests/fixtures_model_package/models/__init__.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffixtures_model_package%2Fmodels%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ffixtures_model_package%2Fmodels%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffixtures_model_package%2Fmodels%2F__init__.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,11 +1,13 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "2f025e660b42aff7d5a7419be3db448d02ee758e",
            "filename": "tests/modeltests/generic_relations/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fgeneric_relations%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -14,8 +14,10 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class TaggedItem(models.Model):\n     \"\"\"A tag on an item.\"\"\"\n     tag = models.SlugField()\n@@ -27,12 +29,13 @@ class TaggedItem(models.Model):\n     class Meta:\n         ordering = [\"tag\", \"content_type__name\"]\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.tag\n \n class ValuableTaggedItem(TaggedItem):\n     value = models.PositiveIntegerField()\n \n+@python_2_unicode_compatible\n class Comparison(models.Model):\n     \"\"\"\n     A model that tests having multiple GenericForeignKeys\n@@ -48,9 +51,10 @@ class Comparison(models.Model):\n     first_obj = generic.GenericForeignKey(ct_field=\"content_type1\", fk_field=\"object_id1\")\n     other_obj = generic.GenericForeignKey(ct_field=\"content_type2\", fk_field=\"object_id2\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is %s than %s\" % (self.first_obj, self.comparative, self.other_obj)\n \n+@python_2_unicode_compatible\n class Animal(models.Model):\n     common_name = models.CharField(max_length=150)\n     latin_name = models.CharField(max_length=150)\n@@ -60,25 +64,27 @@ class Animal(models.Model):\n                                           object_id_field=\"object_id1\",\n                                           content_type_field=\"content_type1\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.common_name\n \n+@python_2_unicode_compatible\n class Vegetable(models.Model):\n     name = models.CharField(max_length=150)\n     is_yucky = models.BooleanField(default=True)\n \n     tags = generic.GenericRelation(TaggedItem)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Mineral(models.Model):\n     name = models.CharField(max_length=150)\n     hardness = models.PositiveSmallIntegerField()\n \n     # note the lack of an explicit GenericRelation here...\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class GeckoManager(models.Manager):"
        },
        {
            "sha": "fe594dd802250ef1a1b1de90511007194598ead4",
            "filename": "tests/modeltests/get_latest/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_latest%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_latest%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fget_latest%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,23 +9,26 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n     expire_date = models.DateField()\n     class Meta:\n         get_latest_by = 'pub_date'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=30)\n     birthday = models.DateField()\n \n     # Note that this model doesn't have \"get_latest_by\" set.\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "bda060569e3c147f5b1df33e9ce611bd2d2d9da0",
            "filename": "tests/modeltests/get_object_or_404/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_object_or_404%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_object_or_404%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fget_object_or_404%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -11,23 +11,26 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class ArticleManager(models.Manager):\n     def get_query_set(self):\n         return super(ArticleManager, self).get_query_set().filter(authors__name__icontains='sir')\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     authors = models.ManyToManyField(Author)\n     title = models.CharField(max_length=50)\n     objects = models.Manager()\n     by_a_sir = ArticleManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title"
        },
        {
            "sha": "678f5a401c08a4113bb08723711b3a102533eed0",
            "filename": "tests/modeltests/get_or_create/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fget_or_create%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,14 +9,16 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     first_name = models.CharField(max_length=100)\n     last_name = models.CharField(max_length=100)\n     birthday = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.first_name, self.last_name)\n \n class ManualPrimaryKeyTest(models.Model):"
        },
        {
            "sha": "f388ddf403dca795b9bb2462210991d97fef6d15",
            "filename": "tests/modeltests/lookup/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Flookup%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Flookup%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Flookup%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,21 +8,23 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Author(models.Model):\n     name = models.CharField(max_length=100)\n     class Meta:\n         ordering = ('name', )\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateTimeField()\n     author = models.ForeignKey(Author, blank=True, null=True)\n     class Meta:\n         ordering = ('-pub_date', 'headline')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n class Tag(models.Model):\n@@ -31,24 +33,27 @@ class Tag(models.Model):\n     class Meta:\n         ordering = ('name', )\n \n+@python_2_unicode_compatible\n class Season(models.Model):\n     year = models.PositiveSmallIntegerField()\n     gt = models.IntegerField(null=True, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.year)\n \n+@python_2_unicode_compatible\n class Game(models.Model):\n     season = models.ForeignKey(Season, related_name='games')\n     home = models.CharField(max_length=100)\n     away = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s at %s\" % (self.away, self.home)\n \n+@python_2_unicode_compatible\n class Player(models.Model):\n     name = models.CharField(max_length=100)\n     games = models.ManyToManyField(Game, related_name='players')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "99c7b0101795fd52f89529b37547e0b8ac924d3c",
            "filename": "tests/modeltests/m2m_and_m2o/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_and_m2o%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,17 +7,19 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class User(models.Model):\n     username = models.CharField(max_length=20)\n \n+@python_2_unicode_compatible\n class Issue(models.Model):\n     num = models.IntegerField()\n     cc = models.ManyToManyField(User, blank=True, related_name='test_issue_cc')\n     client = models.ForeignKey(User, related_name='test_issue_client')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.num)\n \n     class Meta:"
        },
        {
            "sha": "e9ae422afb5a9cea8dacc360ed6e8874458c09e5",
            "filename": "tests/modeltests/m2m_intermediary/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_intermediary%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -12,27 +12,31 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n+@python_2_unicode_compatible\n class Writer(models.Model):\n     reporter = models.ForeignKey(Reporter)\n     article = models.ForeignKey(Article)\n     position = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s (%s)' % (self.reporter, self.position)\n "
        },
        {
            "sha": "c2e3b030a4419f034b7f95b37a2a19e222aa09c4",
            "filename": "tests/modeltests/m2m_multiple/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_multiple%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_multiple%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_multiple%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,16 +8,19 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     name = models.CharField(max_length=20)\n     class Meta:\n        ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=50)\n     pub_date = models.DateTimeField()\n@@ -26,6 +29,6 @@ class Article(models.Model):\n     class Meta:\n        ordering = ('pub_date',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n "
        },
        {
            "sha": "b69930208c2bf74102d1394310b2522f75fa2c2e",
            "filename": "tests/modeltests/m2m_recursive/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_recursive%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_recursive%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_recursive%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -17,12 +17,14 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=20)\n     friends = models.ManyToManyField('self')\n     idols = models.ManyToManyField('self', symmetrical=False, related_name='stalkers')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "e997d87f21bbfc1f3787921e96c143dffe42b759",
            "filename": "tests/modeltests/m2m_signals/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_signals%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_signals%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_signals%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,15 +1,18 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Part(models.Model):\n     name = models.CharField(max_length=20)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Car(models.Model):\n     name = models.CharField(max_length=20)\n     default_parts = models.ManyToManyField(Part)\n@@ -18,12 +21,13 @@ class Car(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class SportsCar(Car):\n     price = models.IntegerField()\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=20)\n     fans = models.ManyToManyField('self', related_name='idols', symmetrical=False)\n@@ -32,5 +36,5 @@ class Person(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "a896f6d9ff874fc51b87ba7a4dc9e2e51730db68",
            "filename": "tests/modeltests/m2m_through/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_through%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2m_through%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2m_through%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,18 +1,21 @@\n from datetime import datetime\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n # M2M described on one of the models\n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=128)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Group(models.Model):\n     name = models.CharField(max_length=128)\n     members = models.ManyToManyField(Person, through='Membership')\n@@ -22,9 +25,10 @@ class Group(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Membership(models.Model):\n     person = models.ForeignKey(Person)\n     group = models.ForeignKey(Group)\n@@ -34,16 +38,17 @@ class Membership(models.Model):\n     class Meta:\n         ordering = ('date_joined', 'invite_reason', 'group')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is a member of %s\" % (self.person.name, self.group.name)\n \n+@python_2_unicode_compatible\n class CustomMembership(models.Model):\n     person = models.ForeignKey(Person, db_column=\"custom_person_column\", related_name=\"custom_person_related_name\")\n     group = models.ForeignKey(Group)\n     weird_fk = models.ForeignKey(Membership, null=True)\n     date_joined = models.DateTimeField(default=datetime.now)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is a member of %s\" % (self.person.name, self.group.name)\n \n     class Meta:\n@@ -54,11 +59,12 @@ class TestNoDefaultsOrNulls(models.Model):\n     group = models.ForeignKey(Group)\n     nodefaultnonull = models.CharField(max_length=5)\n \n+@python_2_unicode_compatible\n class PersonSelfRefM2M(models.Model):\n     name = models.CharField(max_length=5)\n     friends = models.ManyToManyField('self', through=\"Friendship\", symmetrical=False)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Friendship(models.Model):"
        },
        {
            "sha": "2775d713dd3137d00a6d3eaf73755647f6b00bb9",
            "filename": "tests/modeltests/m2o_recursive/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2o_recursive%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fm2o_recursive%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fm2o_recursive%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -11,19 +11,22 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     name = models.CharField(max_length=20)\n     parent = models.ForeignKey('self', blank=True, null=True, related_name='child_set')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     full_name = models.CharField(max_length=20)\n     mother = models.ForeignKey('self', null=True, related_name='mothers_child_set')\n     father = models.ForeignKey('self', null=True, related_name='fathers_child_set')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.full_name"
        },
        {
            "sha": "a196c85092b25c2448233d73b151e064f3866680",
            "filename": "tests/modeltests/many_to_many/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_many%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_many%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmany_to_many%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,22 +8,25 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Publication(models.Model):\n     title = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     class Meta:\n         ordering = ('title',)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     publications = models.ManyToManyField(Publication)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "4e2ed67eeaab3a5eaa300c75beaafd26e4b845f8",
            "filename": "tests/modeltests/many_to_one/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmany_to_one%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -6,22 +6,25 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n     email = models.EmailField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n     reporter = models.ForeignKey(Reporter)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "e00ca85928a795e2159f4c3ce3c2cd23347e0ee8",
            "filename": "tests/modeltests/many_to_one_null/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_one_null%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmany_to_one_null%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmany_to_one_null%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -6,20 +6,23 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     name = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     reporter = models.ForeignKey(Reporter, null=True)\n \n     class Meta:\n         ordering = ('headline',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "f4bdcad4af4f3c0f2700f08684867f75a51b0d6a",
            "filename": "tests/modeltests/model_forms/models.py",
            "status": "modified",
            "additions": 31,
            "deletions": 15,
            "changes": 46,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -14,6 +14,7 @@\n from django.core.files.storage import FileSystemStorage\n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n temp_storage_dir = tempfile.mkdtemp(dir=os.environ['DJANGO_TEST_TEMP_DIR'])\n@@ -31,23 +32,26 @@\n     ('l', 'Live'),\n )\n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     name = models.CharField(max_length=20)\n     slug = models.SlugField(max_length=20)\n     url = models.CharField('The URL', max_length=40)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Writer(models.Model):\n     name = models.CharField(max_length=50, help_text='Use both first and last names.')\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=50)\n     slug = models.SlugField()\n@@ -64,7 +68,7 @@ def save(self):\n             self.created = datetime.date.today()\n         return super(Article, self).save()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n class ImprovedArticle(models.Model):\n@@ -76,26 +80,29 @@ class ImprovedArticleWithParentLink(models.Model):\n class BetterWriter(Writer):\n     score = models.IntegerField()\n \n+@python_2_unicode_compatible\n class WriterProfile(models.Model):\n     writer = models.OneToOneField(Writer, primary_key=True)\n     age = models.PositiveIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is %s\" % (self.writer, self.age)\n \n from django.contrib.localflavor.us.models import PhoneNumberField\n+@python_2_unicode_compatible\n class PhoneNumber(models.Model):\n     phone = PhoneNumberField()\n     description = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.phone\n \n+@python_2_unicode_compatible\n class TextFile(models.Model):\n     description = models.CharField(max_length=20)\n     file = models.FileField(storage=temp_storage, upload_to='tests', max_length=15)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.description\n \n try:\n@@ -110,6 +117,7 @@ def __unicode__(self):\n \n     test_images = True\n \n+    @python_2_unicode_compatible\n     class ImageFile(models.Model):\n         def custom_upload_path(self, filename):\n             path = self.path or 'tests'\n@@ -125,9 +133,10 @@ def custom_upload_path(self, filename):\n                                   width_field='width', height_field='height')\n         path = models.CharField(max_length=16, blank=True, default='')\n \n-        def __unicode__(self):\n+        def __str__(self):\n             return self.description\n \n+    @python_2_unicode_compatible\n     class OptionalImageFile(models.Model):\n         def custom_upload_path(self, filename):\n             path = self.path or 'tests'\n@@ -141,28 +150,31 @@ def custom_upload_path(self, filename):\n         height = models.IntegerField(editable=False, null=True)\n         path = models.CharField(max_length=16, blank=True, default='')\n \n-        def __unicode__(self):\n+        def __str__(self):\n             return self.description\n except ImportError:\n     test_images = False\n \n+@python_2_unicode_compatible\n class CommaSeparatedInteger(models.Model):\n     field = models.CommaSeparatedIntegerField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.field\n \n+@python_2_unicode_compatible\n class Product(models.Model):\n     slug = models.SlugField(unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.slug\n \n+@python_2_unicode_compatible\n class Price(models.Model):\n     price = models.DecimalField(max_digits=10, decimal_places=2)\n     quantity = models.PositiveIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s for %s\" % (self.quantity, self.price)\n \n     class Meta:\n@@ -171,6 +183,7 @@ class Meta:\n class ArticleStatus(models.Model):\n     status = models.CharField(max_length=2, choices=ARTICLE_STATUS_CHAR, blank=True, null=True)\n \n+@python_2_unicode_compatible\n class Inventory(models.Model):\n     barcode = models.PositiveIntegerField(unique=True)\n     parent = models.ForeignKey('self', to_field='barcode', blank=True, null=True)\n@@ -179,7 +192,7 @@ class Inventory(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Book(models.Model):\n@@ -202,31 +215,34 @@ class Meta:\n class DerivedBook(Book, BookXtra):\n     pass\n \n+@python_2_unicode_compatible\n class ExplicitPK(models.Model):\n     key = models.CharField(max_length=20, primary_key=True)\n     desc = models.CharField(max_length=20, blank=True, unique=True)\n     class Meta:\n         unique_together = ('key', 'desc')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.key\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     title = models.CharField(max_length=50, unique_for_date='posted', blank=True)\n     slug = models.CharField(max_length=50, unique_for_year='posted', blank=True)\n     subtitle = models.CharField(max_length=50, unique_for_month='posted', blank=True)\n     posted = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class DerivedPost(Post):\n     pass\n \n+@python_2_unicode_compatible\n class BigInt(models.Model):\n     biggie = models.BigIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.biggie)\n \n class MarkupField(models.CharField):"
        },
        {
            "sha": "ae152448abd15b38d13c9f71aca3b2a865a0be1a",
            "filename": "tests/modeltests/model_formsets/models.py",
            "status": "modified",
            "additions": 37,
            "deletions": 18,
            "changes": 55,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_formsets%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,20 +4,23 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=100)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class BetterAuthor(Author):\n     write_speed = models.IntegerField()\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     author = models.ForeignKey(Author)\n     title = models.CharField(max_length=100)\n@@ -28,20 +31,22 @@ class Meta:\n         )\n         ordering = ['id']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class BookWithCustomPK(models.Model):\n     my_pk = models.DecimalField(max_digits=5, decimal_places=0, primary_key=True)\n     author = models.ForeignKey(Author)\n     title = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s: %s' % (self.my_pk, self.title)\n \n class Editor(models.Model):\n     name = models.CharField(max_length=100)\n \n+@python_2_unicode_compatible\n class BookWithOptionalAltEditor(models.Model):\n     author = models.ForeignKey(Author)\n     # Optional secondary author\n@@ -53,21 +58,23 @@ class Meta:\n             ('author', 'title', 'alt_editor'),\n         )\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class AlternateBook(Book):\n     notes = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s - %s' % (self.title, self.notes)\n \n+@python_2_unicode_compatible\n class AuthorMeeting(models.Model):\n     name = models.CharField(max_length=100)\n     authors = models.ManyToManyField(Author)\n     created = models.DateField(editable=False)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class CustomPrimaryKey(models.Model):\n@@ -77,19 +84,21 @@ class CustomPrimaryKey(models.Model):\n \n # models for inheritance tests.\n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     city = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Owner(models.Model):\n     auto_id = models.AutoField(primary_key=True)\n     name = models.CharField(max_length=100)\n     place = models.ForeignKey(Place)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s at %s\" % (self.name, self.place)\n \n class Location(models.Model):\n@@ -98,30 +107,34 @@ class Location(models.Model):\n     lat = models.CharField(max_length=100)\n     lon = models.CharField(max_length=100)\n \n+@python_2_unicode_compatible\n class OwnerProfile(models.Model):\n     owner = models.OneToOneField(Owner, primary_key=True)\n     age = models.PositiveIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is %d\" % (self.owner.name, self.age)\n \n+@python_2_unicode_compatible\n class Restaurant(Place):\n     serves_pizza = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Product(models.Model):\n     slug = models.SlugField(unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.slug\n \n+@python_2_unicode_compatible\n class Price(models.Model):\n     price = models.DecimalField(max_digits=10, decimal_places=2)\n     quantity = models.PositiveIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s for %s\" % (self.quantity, self.price)\n \n     class Meta:\n@@ -136,20 +149,22 @@ class ClassyMexicanRestaurant(MexicanRestaurant):\n \n # models for testing unique_together validation when a fk is involved and\n # using inlineformset_factory.\n+@python_2_unicode_compatible\n class Repository(models.Model):\n     name = models.CharField(max_length=25)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Revision(models.Model):\n     repository = models.ForeignKey(Repository)\n     revision = models.CharField(max_length=40)\n \n     class Meta:\n         unique_together = ((\"repository\", \"revision\"),)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s (%s)\" % (self.revision, six.text_type(self.repository))\n \n # models for testing callable defaults (see bug #7975). If you define a model\n@@ -167,32 +182,36 @@ class Membership(models.Model):\n class Team(models.Model):\n     name = models.CharField(max_length=100)\n \n+@python_2_unicode_compatible\n class Player(models.Model):\n     team = models.ForeignKey(Team, null=True)\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # Models for testing custom ModelForm save methods in formsets and inline formsets\n+@python_2_unicode_compatible\n class Poet(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Poem(models.Model):\n     poet = models.ForeignKey(Poet)\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     title = models.CharField(max_length=50, unique_for_date='posted', blank=True)\n     slug = models.CharField(max_length=50, unique_for_year='posted', blank=True)\n     subtitle = models.CharField(max_length=50, unique_for_month='posted', blank=True)\n     posted = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "2101f394f77043863f2a363d79d6b1d448adde0b",
            "filename": "tests/modeltests/model_inheritance/models.py",
            "status": "modified",
            "additions": 19,
            "deletions": 9,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_inheritance%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -14,11 +14,13 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n #\n # Abstract base classes\n #\n \n+@python_2_unicode_compatible\n class CommonInfo(models.Model):\n     name = models.CharField(max_length=50)\n     age = models.PositiveIntegerField()\n@@ -27,7 +29,7 @@ class Meta:\n         abstract = True\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.__class__.__name__, self.name)\n \n class Worker(CommonInfo):\n@@ -49,14 +51,15 @@ class StudentWorker(Student, Worker):\n class Post(models.Model):\n     title = models.CharField(max_length=50)\n \n+@python_2_unicode_compatible\n class Attachment(models.Model):\n     post = models.ForeignKey(Post, related_name='attached_%(class)s_set')\n     content = models.TextField()\n \n     class Meta:\n         abstract = True\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.content\n \n class Comment(Attachment):\n@@ -69,17 +72,19 @@ class Link(Attachment):\n # Multi-table inheritance\n #\n \n+@python_2_unicode_compatible\n class Chef(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the chef\" % self.name\n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     address = models.CharField(max_length=80)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the place\" % self.name\n \n class Rating(models.Model):\n@@ -89,6 +94,7 @@ class Meta:\n         abstract = True\n         ordering = ['-rating']\n \n+@python_2_unicode_compatible\n class Restaurant(Place, Rating):\n     serves_hot_dogs = models.BooleanField()\n     serves_pizza = models.BooleanField()\n@@ -97,27 +103,30 @@ class Restaurant(Place, Rating):\n     class Meta(Rating.Meta):\n         db_table = 'my_restaurant'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the restaurant\" % self.name\n \n+@python_2_unicode_compatible\n class ItalianRestaurant(Restaurant):\n     serves_gnocchi = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the italian restaurant\" % self.name\n \n+@python_2_unicode_compatible\n class Supplier(Place):\n     customers = models.ManyToManyField(Restaurant, related_name='provider')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the supplier\" % self.name\n \n+@python_2_unicode_compatible\n class ParkingLot(Place):\n     # An explicit link to the parent (we can control the attribute name).\n     parent = models.OneToOneField(Place, primary_key=True, parent_link=True)\n     main_site = models.ForeignKey(Place, related_name='lot')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the parking lot\" % self.name\n \n #\n@@ -139,10 +148,11 @@ class NamedURL(models.Model):\n     class Meta:\n         abstract = True\n \n+@python_2_unicode_compatible\n class Copy(NamedURL):\n     content = models.TextField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.content\n \n class Mixin(object):"
        },
        {
            "sha": "801724df182fda5d0330645ffdcc1a248e0e4b99",
            "filename": "tests/modeltests/model_inheritance_same_model_name/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_inheritance_same_model_name%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fmodel_inheritance_same_model_name%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_inheritance_same_model_name%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -11,12 +11,14 @@\n from django.db import models\n \n from ..model_inheritance.models import NamedURL\n+from django.utils.encoding import python_2_unicode_compatible\n \n #\n # Abstract base classes with related models\n #\n+@python_2_unicode_compatible\n class Copy(NamedURL):\n     content = models.TextField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.content"
        },
        {
            "sha": "9599496cb7d67a65833a8783f9bc0ed50e4e387e",
            "filename": "tests/modeltests/one_to_one/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fone_to_one%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,28 +8,32 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     address = models.CharField(max_length=80)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the place\" % self.name\n \n+@python_2_unicode_compatible\n class Restaurant(models.Model):\n     place = models.OneToOneField(Place, primary_key=True)\n     serves_hot_dogs = models.BooleanField()\n     serves_pizza = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the restaurant\" % self.place.name\n \n+@python_2_unicode_compatible\n class Waiter(models.Model):\n     restaurant = models.ForeignKey(Restaurant)\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the waiter at %s\" % (self.name, self.restaurant)\n \n class ManualPrimaryKey(models.Model):\n@@ -40,10 +44,11 @@ class RelatedModel(models.Model):\n     link = models.OneToOneField(ManualPrimaryKey)\n     name = models.CharField(max_length = 50)\n \n+@python_2_unicode_compatible\n class MultiModel(models.Model):\n     link1 = models.OneToOneField(Place)\n     link2 = models.OneToOneField(ManualPrimaryKey)\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Multimodel %s\" % self.name"
        },
        {
            "sha": "f146b2e72ddf69d4cd263671ca990e61606478cc",
            "filename": "tests/modeltests/or_lookups/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2For_lookups%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2For_lookups%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2For_lookups%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -10,14 +10,16 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=50)\n     pub_date = models.DateTimeField()\n \n     class Meta:\n        ordering = ('pub_date',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "06bb56b14197ac64fb7d3113cd2ff8c318cf11d7",
            "filename": "tests/modeltests/order_with_respect_to/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Forder_with_respect_to%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Forder_with_respect_to%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Forder_with_respect_to%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,27 +4,30 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Question(models.Model):\n     text = models.CharField(max_length=200)\n \n+@python_2_unicode_compatible\n class Answer(models.Model):\n     text = models.CharField(max_length=200)\n     question = models.ForeignKey(Question)\n \n     class Meta:\n         order_with_respect_to = 'question'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.text)\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     title = models.CharField(max_length=200)\n     parent = models.ForeignKey(\"self\", related_name=\"children\", null=True)\n \n     class Meta:\n         order_with_respect_to = \"parent\"\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title"
        },
        {
            "sha": "67126e1bdaea5b9565163e970af0b417f1caca8e",
            "filename": "tests/modeltests/ordering/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fordering%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fordering%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fordering%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -14,22 +14,25 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateTimeField()\n     class Meta:\n         ordering = ('-pub_date', 'headline')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n+@python_2_unicode_compatible\n class ArticlePKOrdering(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateTimeField()\n     class Meta:\n         ordering = ('-pk',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "779d3029ba3522ff5e144b080190e94e72601dc5",
            "filename": "tests/modeltests/pagination/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fpagination%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fpagination%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fpagination%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,11 +7,13 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "85488f08790d32ae272309261d060cdfbede2242",
            "filename": "tests/modeltests/prefetch_related/models.py",
            "status": "modified",
            "additions": 15,
            "deletions": 7,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fprefetch_related%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fprefetch_related%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fprefetch_related%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,16 +1,18 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n ## Basic tests\n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=50, unique=True)\n     first_book = models.ForeignKey('Book', related_name='first_time_authors')\n     favorite_authors = models.ManyToManyField(\n         'self', through='FavoriteAuthors', symmetrical=False, related_name='favors_me')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:\n@@ -30,22 +32,24 @@ class Meta:\n          ordering = ['id']\n \n \n+@python_2_unicode_compatible\n class AuthorAddress(models.Model):\n     author = models.ForeignKey(Author, to_field='name', related_name='addresses')\n     address = models.TextField()\n \n     class Meta:\n         ordering = ['id']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.address\n \n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     title = models.CharField(max_length=255)\n     authors = models.ManyToManyField(Author, related_name='books')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     class Meta:\n@@ -58,11 +62,12 @@ class BookWithYear(Book):\n         AuthorWithAge, related_name='books_with_year')\n \n \n+@python_2_unicode_compatible\n class Reader(models.Model):\n     name = models.CharField(max_length=50)\n     books_read = models.ManyToManyField(Book, related_name='read_by')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:\n@@ -86,13 +91,14 @@ def get_query_set(self):\n         return super(TeacherManager, self).get_query_set().prefetch_related('qualifications')\n \n \n+@python_2_unicode_compatible\n class Teacher(models.Model):\n     name = models.CharField(max_length=50)\n     qualifications = models.ManyToManyField(Qualification)\n \n     objects = TeacherManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s (%s)\" % (self.name, \", \".join(q.name for q in self.qualifications.all()))\n \n     class Meta:\n@@ -109,6 +115,7 @@ class Meta:\n \n ## GenericRelation/GenericForeignKey tests\n \n+@python_2_unicode_compatible\n class TaggedItem(models.Model):\n     tag = models.SlugField()\n     content_type = models.ForeignKey(ContentType, related_name=\"taggeditem_set2\")\n@@ -119,7 +126,7 @@ class TaggedItem(models.Model):\n     created_by_fkey = models.PositiveIntegerField(null=True)\n     created_by = generic.GenericForeignKey('created_by_ct', 'created_by_fkey',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.tag\n \n \n@@ -169,12 +176,13 @@ class Meta:\n \n ## Models for nullable FK tests\n \n+@python_2_unicode_compatible\n class Employee(models.Model):\n     name = models.CharField(max_length=50)\n     boss = models.ForeignKey('self', null=True,\n                              related_name='serfs')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:"
        },
        {
            "sha": "6c962aadc8c907b81b84c4fd508a6825a7a1ae85",
            "filename": "tests/modeltests/proxy_models/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fproxy_models%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fproxy_models%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fproxy_models%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,6 +5,7 @@\n providing a modified interface to the data from the base class.\n \"\"\"\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n # A couple of managers for testing managing overriding in proxy model cases.\n \n@@ -16,6 +17,7 @@ class SubManager(models.Manager):\n     def get_query_set(self):\n         return super(SubManager, self).get_query_set().exclude(name=\"wilma\")\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     \"\"\"\n     A simple concrete base class.\n@@ -24,7 +26,7 @@ class Person(models.Model):\n \n     objects = PersonManager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Abstract(models.Model):\n@@ -82,10 +84,11 @@ class Meta:\n class LowerStatusPerson(MyPersonProxy):\n     status = models.CharField(max_length=80)\n \n+@python_2_unicode_compatible\n class User(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class UserProxy(User):\n@@ -100,11 +103,12 @@ class Meta:\n class Country(models.Model):\n     name = models.CharField(max_length=50)\n \n+@python_2_unicode_compatible\n class State(models.Model):\n     name = models.CharField(max_length=50)\n     country = models.ForeignKey(Country)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class StateProxy(State):\n@@ -124,11 +128,12 @@ class Meta:\n         proxy = True\n \n \n+@python_2_unicode_compatible\n class Issue(models.Model):\n     summary = models.CharField(max_length=255)\n     assignee = models.ForeignKey(TrackerUser)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return ':'.join((self.__class__.__name__,self.summary,))\n \n class Bug(Issue):"
        },
        {
            "sha": "8e942b20e8e2a12a02e65b08345449dddef81bc9",
            "filename": "tests/modeltests/reserved_names/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Freserved_names%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Freserved_names%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Freserved_names%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,8 +8,10 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Thing(models.Model):\n     when = models.CharField(max_length=1, primary_key=True)\n     join = models.CharField(max_length=1)\n@@ -22,5 +24,5 @@ class Thing(models.Model):\n     class Meta:\n        db_table = 'select'\n \n-    def __unicode__(self):\n-        return self.when\n\\ No newline at end of file\n+    def __str__(self):\n+        return self.when"
        },
        {
            "sha": "ed58177770908e8b65c7b8fdcd18a8468fad2ebd",
            "filename": "tests/modeltests/reverse_lookup/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Freverse_lookup%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Freverse_lookup%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Freverse_lookup%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,25 +5,29 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class User(models.Model):\n     name = models.CharField(max_length=200)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Poll(models.Model):\n     question = models.CharField(max_length=200)\n     creator = models.ForeignKey(User)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.question\n \n+@python_2_unicode_compatible\n class Choice(models.Model):\n     name = models.CharField(max_length=100)\n     poll = models.ForeignKey(Poll, related_name=\"poll_choice\")\n     related_poll = models.ForeignKey(Poll, related_name=\"related_choice\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "a6e1abfb77fc7c89352a0309453a61a12cf5156a",
            "filename": "tests/modeltests/save_delete_hooks/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fsave_delete_hooks%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,8 +7,10 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     first_name = models.CharField(max_length=20)\n     last_name = models.CharField(max_length=20)\n@@ -17,7 +19,7 @@ def __init__(self, *args, **kwargs):\n         super(Person, self).__init__(*args, **kwargs)\n         self.data = []\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n     def save(self, *args, **kwargs):"
        },
        {
            "sha": "ec41957adfc2a3f486beefd9652799b7abd9e4d0",
            "filename": "tests/modeltests/select_related/models.py",
            "status": "modified",
            "additions": 18,
            "deletions": 9,
            "changes": 27,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fselect_related%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fselect_related%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fselect_related%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,52 +8,61 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n # Who remembers high school biology?\n \n+@python_2_unicode_compatible\n class Domain(models.Model):\n     name = models.CharField(max_length=50)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Kingdom(models.Model):\n     name = models.CharField(max_length=50)\n     domain = models.ForeignKey(Domain)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Phylum(models.Model):\n     name = models.CharField(max_length=50)\n     kingdom = models.ForeignKey(Kingdom)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Klass(models.Model):\n     name = models.CharField(max_length=50)\n     phylum = models.ForeignKey(Phylum)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Order(models.Model):\n     name = models.CharField(max_length=50)\n     klass = models.ForeignKey(Klass)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Family(models.Model):\n     name = models.CharField(max_length=50)\n     order = models.ForeignKey(Order)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Genus(models.Model):\n     name = models.CharField(max_length=50)\n     family = models.ForeignKey(Family)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Species(models.Model):\n     name = models.CharField(max_length=50)\n     genus = models.ForeignKey(Genus)\n-    def __unicode__(self):\n-        return self.name\n\\ No newline at end of file\n+    def __str__(self):\n+        return self.name"
        },
        {
            "sha": "290478607bb0bc9eae9bfc523beea6d3edcb7d31",
            "filename": "tests/modeltests/serializers/models.py",
            "status": "modified",
            "additions": 17,
            "deletions": 8,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fserializers%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fserializers%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fserializers%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -11,28 +11,32 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     name = models.CharField(max_length=20)\n \n     class Meta:\n        ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=20)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     author = models.ForeignKey(Author)\n     headline = models.CharField(max_length=50)\n@@ -42,28 +46,31 @@ class Article(models.Model):\n     class Meta:\n        ordering = ('pub_date',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n \n+@python_2_unicode_compatible\n class AuthorProfile(models.Model):\n     author = models.OneToOneField(Author, primary_key=True)\n     date_of_birth = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Profile of %s\" % self.author\n \n \n+@python_2_unicode_compatible\n class Actor(models.Model):\n     name = models.CharField(max_length=20, primary_key=True)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Movie(models.Model):\n     actor = models.ForeignKey(Actor)\n     title = models.CharField(max_length=50)\n@@ -72,19 +79,20 @@ class Movie(models.Model):\n     class Meta:\n        ordering = ('title',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n \n class Score(models.Model):\n     score = models.FloatField()\n \n \n+@python_2_unicode_compatible\n class Team(object):\n     def __init__(self, title):\n         self.title = title\n \n-    def __unicode__(self):\n+    def __str__(self):\n         raise NotImplementedError(\"Not so simple\")\n \n     def to_string(self):\n@@ -109,10 +117,11 @@ def value_to_string(self, obj):\n         return self._get_val_from_obj(obj).to_string()\n \n \n+@python_2_unicode_compatible\n class Player(models.Model):\n     name = models.CharField(max_length=50)\n     rank = models.IntegerField()\n     team = TeamField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s (%d) playing for %s' % (self.name, self.rank, self.team.to_string())"
        },
        {
            "sha": "e54a22fce9c88368f0de1c2e5060c6dad5bbf82c",
            "filename": "tests/modeltests/signals/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fsignals%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fsignals%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fsignals%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,18 +4,21 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     first_name = models.CharField(max_length=20)\n     last_name = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Car(models.Model):\n     make = models.CharField(max_length=20)\n     model = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.make, self.model)"
        },
        {
            "sha": "488012e8619e43d122de9767961db3f03c53912b",
            "filename": "tests/modeltests/str/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fstr%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fstr%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fstr%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -15,6 +15,7 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Article(models.Model):\n@@ -26,9 +27,10 @@ def __str__(self):\n         # in ASCII.\n         return self.headline\n \n+@python_2_unicode_compatible\n class InternationalArticle(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateTimeField()\n \n-    def __unicode__(self):\n-        return self.headline\n\\ No newline at end of file\n+    def __str__(self):\n+        return self.headline"
        },
        {
            "sha": "0f8d6b16ec17abc401e7c20c6796dd26a64cb60c",
            "filename": "tests/modeltests/transactions/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ftransactions%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Ftransactions%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftransactions%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,8 +9,10 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n@@ -19,5 +21,5 @@ class Reporter(models.Model):\n     class Meta:\n         ordering = ('first_name', 'last_name')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)"
        },
        {
            "sha": "0eef69977c256267a4b9436b38176b885b59c394",
            "filename": "tests/modeltests/unmanaged_models/models.py",
            "status": "modified",
            "additions": 13,
            "deletions": 6,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Funmanaged_models%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Funmanaged_models%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Funmanaged_models%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,19 +4,22 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n #  All of these models are created in the database by Django.\n \n+@python_2_unicode_compatible\n class A01(models.Model):\n     f_a = models.CharField(max_length=10, db_index=True)\n     f_b = models.IntegerField()\n \n     class Meta:\n         db_table = 'a01'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n+@python_2_unicode_compatible\n class B01(models.Model):\n     fk_a = models.ForeignKey(A01)\n     f_a = models.CharField(max_length=10, db_index=True)\n@@ -27,9 +30,10 @@ class Meta:\n         # 'managed' is True by default. This tests we can set it explicitly.\n         managed = True\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n+@python_2_unicode_compatible\n class C01(models.Model):\n     mm_a = models.ManyToManyField(A01, db_table='d01')\n     f_a = models.CharField(max_length=10, db_index=True)\n@@ -38,23 +42,25 @@ class C01(models.Model):\n     class Meta:\n         db_table = 'c01'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n # All of these models use the same tables as the previous set (they are shadows\n # of possibly a subset of the columns). There should be no creation errors,\n # since we have told Django they aren't managed by Django.\n \n+@python_2_unicode_compatible\n class A02(models.Model):\n     f_a = models.CharField(max_length=10, db_index=True)\n \n     class Meta:\n         db_table = 'a01'\n         managed = False\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n+@python_2_unicode_compatible\n class B02(models.Model):\n     class Meta:\n         db_table = 'b01'\n@@ -64,11 +70,12 @@ class Meta:\n     f_a = models.CharField(max_length=10, db_index=True)\n     f_b = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n # To re-use the many-to-many intermediate table, we need to manually set up\n # things up.\n+@python_2_unicode_compatible\n class C02(models.Model):\n     mm_a = models.ManyToManyField(A02, through=\"Intermediate\")\n     f_a = models.CharField(max_length=10, db_index=True)\n@@ -78,7 +85,7 @@ class Meta:\n         db_table = 'c01'\n         managed = False\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.f_a\n \n class Intermediate(models.Model):"
        },
        {
            "sha": "08472d98b1ef4852041fdafd503dd482a517affe",
            "filename": "tests/modeltests/update/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fupdate%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fupdate%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fupdate%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,21 +5,24 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class DataPoint(models.Model):\n     name = models.CharField(max_length=20)\n     value = models.CharField(max_length=20)\n     another_value = models.CharField(max_length=20, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.name)\n \n+@python_2_unicode_compatible\n class RelatedPoint(models.Model):\n     name = models.CharField(max_length=20)\n     data = models.ForeignKey(DataPoint)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.name)\n \n "
        },
        {
            "sha": "01184f715b881d085c5b97fad4a826a2ad6489eb",
            "filename": "tests/modeltests/update_only_fields/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fupdate_only_fields%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fupdate_only_fields%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fupdate_only_fields%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,5 +1,6 @@\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n GENDER_CHOICES = (\n     ('M', 'Male'),\n@@ -10,11 +11,12 @@ class Account(models.Model):\n     num = models.IntegerField()\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=20)\n     gender = models.CharField(max_length=1, choices=GENDER_CHOICES)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n@@ -24,11 +26,12 @@ class Employee(Person):\n     accounts = models.ManyToManyField('Account', related_name='employees', blank=True, null=True)\n \n \n+@python_2_unicode_compatible\n class Profile(models.Model):\n     name = models.CharField(max_length=200)\n     salary = models.FloatField(default=1000.0)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n "
        },
        {
            "sha": "dcd9ced52c59cdb84c33b0af0ac65e3b0c01e740",
            "filename": "tests/modeltests/validation/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fmodeltests%2Fvalidation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fvalidation%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,6 +4,7 @@\n \n from django.core.exceptions import ValidationError\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n def validate_answer_to_universe(value):\n@@ -66,13 +67,14 @@ def clean(self):\n         if self.pub_date is None:\n             self.pub_date = datetime.now()\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     title = models.CharField(max_length=50, unique_for_date='posted', blank=True)\n     slug = models.CharField(max_length=50, unique_for_year='posted', blank=True)\n     subtitle = models.CharField(max_length=50, unique_for_month='posted', blank=True)\n     posted = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class FlexibleDatePost(models.Model):"
        },
        {
            "sha": "4ba2f9c503baca3509dfe257a3db5f750a8cbcbf",
            "filename": "tests/regressiontests/admin_changelist/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_changelist%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_changelist%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_changelist%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,4 +1,5 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n class Event(models.Model):\n     # Oracle can have problems with a column named \"date\"\n@@ -20,17 +21,19 @@ class Band(models.Model):\n     nr_of_members = models.PositiveIntegerField()\n     genres = models.ManyToManyField(Genre)\n \n+@python_2_unicode_compatible\n class Musician(models.Model):\n     name = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Group(models.Model):\n     name = models.CharField(max_length=30)\n     members = models.ManyToManyField(Musician, through='Membership')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Membership(models.Model):"
        },
        {
            "sha": "4bc9ce561e029b3610421b9f383b7c967c6f831c",
            "filename": "tests/regressiontests/admin_custom_urls/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_custom_urls%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,13 +2,15 @@\n \n from django.contrib import admin\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Action(models.Model):\n     name = models.CharField(max_length=50, primary_key=True)\n     description = models.CharField(max_length=70)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n "
        },
        {
            "sha": "e0b8bde2de4499a7d036b8f677ae95f0972b77e6",
            "filename": "tests/regressiontests/admin_filters/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_filters%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,8 +2,10 @@\n \n from django.contrib.auth.models import User\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     title = models.CharField(max_length=50)\n     year = models.PositiveIntegerField(null=True, blank=True)\n@@ -13,20 +15,22 @@ class Book(models.Model):\n     date_registered = models.DateField(null=True)\n     no = models.IntegerField(verbose_name='number', blank=True, null=True) # This field is intentionally 2 characters long. See #16080.\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n \n+@python_2_unicode_compatible\n class Department(models.Model):\n     code = models.CharField(max_length=4, unique=True)\n     description = models.CharField(max_length=50, blank=True, null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.description\n \n+@python_2_unicode_compatible\n class Employee(models.Model):\n     department = models.ForeignKey(Department, to_field=\"code\")\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "5b703a74818d00b8e6beb5fa90ca46648a69f917",
            "filename": "tests/regressiontests/admin_inlines/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_inlines%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,22 +7,26 @@\n from django.db import models\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.contenttypes import generic\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Parent(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Teacher(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Child(models.Model):\n     name = models.CharField(max_length=50)\n     teacher = models.ForeignKey(Teacher)\n@@ -31,7 +35,7 @@ class Child(models.Model):\n     object_id = models.PositiveIntegerField()\n     parent = generic.GenericForeignKey()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'I am %s, a child of %s' % (self.name, self.parent)\n \n "
        },
        {
            "sha": "cd96052098010b85ca1fc011da19e4a563ff3578",
            "filename": "tests/regressiontests/admin_scripts/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_scripts%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_scripts%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_scripts%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,11 +1,13 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "b3504a1fa473a0877760f69dda120ac344197d82",
            "filename": "tests/regressiontests/admin_util/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_util%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_util%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_util%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,5 +1,6 @@\n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Article(models.Model):\n@@ -18,11 +19,12 @@ def test_from_model_with_override(self):\n         return \"nothing\"\n     test_from_model_with_override.short_description = \"not What you Expect\"\n \n+@python_2_unicode_compatible\n class Count(models.Model):\n     num = models.PositiveSmallIntegerField()\n     parent = models.ForeignKey('self', null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.num)\n \n class Event(models.Model):"
        },
        {
            "sha": "d23849a2a85ff94b98e24e9776cddbd15ec1b20d",
            "filename": "tests/regressiontests/admin_validation/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_validation%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_validation%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_validation%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,12 +3,14 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Album(models.Model):\n     title = models.CharField(max_length=150)\n \n \n+@python_2_unicode_compatible\n class Song(models.Model):\n     title = models.CharField(max_length=150)\n     album = models.ForeignKey(Album)\n@@ -17,7 +19,7 @@ class Song(models.Model):\n     class Meta:\n         ordering = ('title',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     def readonly_method_on_model(self):"
        },
        {
            "sha": "0d5e327ecff59fe11f25d6d8523e9fb4de5da77d",
            "filename": "tests/regressiontests/admin_views/models.py",
            "status": "modified",
            "additions": 61,
            "deletions": 30,
            "changes": 91,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -10,6 +10,7 @@\n from django.contrib.contenttypes.models import ContentType\n from django.core.files.storage import FileSystemStorage\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Section(models.Model):\n@@ -20,6 +21,7 @@ class Section(models.Model):\n     name = models.CharField(max_length=100)\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     \"\"\"\n     A simple article to test admin views. Test backwards compatibility.\n@@ -29,7 +31,7 @@ class Article(models.Model):\n     date = models.DateTimeField()\n     section = models.ForeignKey(Section, null=True, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     def model_year(self):\n@@ -38,50 +40,55 @@ def model_year(self):\n     model_year.short_description = ''\n \n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     \"\"\"\n     A simple book that has chapters.\n     \"\"\"\n     name = models.CharField(max_length=100, verbose_name='Name?')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Promo(models.Model):\n     name = models.CharField(max_length=100, verbose_name='Name?')\n     book = models.ForeignKey(Book)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Chapter(models.Model):\n     title = models.CharField(max_length=100, verbose_name='Title?')\n     content = models.TextField()\n     book = models.ForeignKey(Book)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     class Meta:\n         # Use a utf-8 bytestring to ensure it works (see #11710)\n         verbose_name = 'Chapter?'\n \n \n+@python_2_unicode_compatible\n class ChapterXtra1(models.Model):\n     chap = models.OneToOneField(Chapter, verbose_name='Chap?')\n     xtra = models.CharField(max_length=100, verbose_name='Xtra?')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'Xtra1: %s' % self.xtra\n \n \n+@python_2_unicode_compatible\n class ChapterXtra2(models.Model):\n     chap = models.OneToOneField(Chapter, verbose_name='Chap?')\n     xtra = models.CharField(max_length=100, verbose_name='Xtra?')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'Xtra2: %s' % self.xtra\n \n \n@@ -94,58 +101,64 @@ class CustomArticle(models.Model):\n     date = models.DateTimeField()\n \n \n+@python_2_unicode_compatible\n class ModelWithStringPrimaryKey(models.Model):\n     string_pk = models.CharField(max_length=255, primary_key=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.string_pk\n \n     def get_absolute_url(self):\n         return '/dummy/%s/' % self.string_pk\n \n \n+@python_2_unicode_compatible\n class Color(models.Model):\n     value = models.CharField(max_length=10)\n     warm = models.BooleanField()\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.value\n \n # we replicate Color to register with another ModelAdmin\n class Color2(Color):\n     class Meta:\n         proxy = True\n \n+@python_2_unicode_compatible\n class Thing(models.Model):\n     title = models.CharField(max_length=20)\n     color = models.ForeignKey(Color, limit_choices_to={'warm': True})\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n \n+@python_2_unicode_compatible\n class Actor(models.Model):\n     name = models.CharField(max_length=50)\n     age = models.IntegerField()\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Inquisition(models.Model):\n     expected = models.BooleanField()\n     leader = models.ForeignKey(Actor)\n     country = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"by %s from %s\" % (self.leader, self.country)\n \n \n+@python_2_unicode_compatible\n class Sketch(models.Model):\n     title = models.CharField(max_length=100)\n     inquisition = models.ForeignKey(Inquisition, limit_choices_to={'leader__name': 'Palin',\n                                                                    'leader__age': 27,\n                                                                    'expected': False,\n                                                                    })\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n \n@@ -161,6 +174,7 @@ class Fabric(models.Model):\n     surface = models.CharField(max_length=20, choices=NG_CHOICES)\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     GENDER_CHOICES = (\n         (1, \"Male\"),\n@@ -171,20 +185,22 @@ class Person(models.Model):\n     age = models.IntegerField(default=21)\n     alive = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Persona(models.Model):\n     \"\"\"\n     A simple persona associated with accounts, to test inlining of related\n     accounts which inherit from a common accounts class.\n     \"\"\"\n     name = models.CharField(blank=False,  max_length=80)\n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Account(models.Model):\n     \"\"\"\n     A simple, generic account encapsulating the information shared by all\n@@ -194,7 +210,7 @@ class Account(models.Model):\n     persona = models.ForeignKey(Persona, related_name=\"accounts\")\n     servicename = 'generic service'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s: %s\" % (self.servicename, self.username)\n \n \n@@ -208,11 +224,12 @@ class BarAccount(Account):\n     servicename = 'bar'\n \n \n+@python_2_unicode_compatible\n class Subscriber(models.Model):\n     name = models.CharField(blank=False, max_length=80)\n     email = models.EmailField(blank=False, max_length=175)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s (%s)\" % (self.name, self.email)\n \n \n@@ -249,8 +266,9 @@ class Child(models.Model):\n     name = models.CharField(max_length=30, blank=True)\n \n \n+@python_2_unicode_compatible\n class EmptyModel(models.Model):\n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Primary key = %s\" % self.id\n \n \n@@ -332,14 +350,15 @@ class FancyDoodad(Doodad):\n     expensive = models.BooleanField(default=True)\n \n \n+@python_2_unicode_compatible\n class Category(models.Model):\n     collector = models.ForeignKey(Collector)\n     order = models.PositiveIntegerField()\n \n     class Meta:\n         ordering = ('order',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s:o%s' % (self.id, self.order)\n \n \n@@ -376,84 +395,93 @@ def awesomeness_level(self):\n         return \"Very awesome.\"\n \n \n+@python_2_unicode_compatible\n class Gadget(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Villain(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n class SuperVillain(Villain):\n     pass\n \n \n+@python_2_unicode_compatible\n class FunkyTag(models.Model):\n     \"Because we all know there's only one real use case for GFKs.\"\n     name = models.CharField(max_length=25)\n     content_type = models.ForeignKey(ContentType)\n     object_id = models.PositiveIntegerField()\n     content_object = generic.GenericForeignKey('content_type', 'object_id')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Plot(models.Model):\n     name = models.CharField(max_length=100)\n     team_leader = models.ForeignKey(Villain, related_name='lead_plots')\n     contact = models.ForeignKey(Villain, related_name='contact_plots')\n     tags = generic.GenericRelation(FunkyTag)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class PlotDetails(models.Model):\n     details = models.CharField(max_length=100)\n     plot = models.OneToOneField(Plot)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.details\n \n \n+@python_2_unicode_compatible\n class SecretHideout(models.Model):\n     \"\"\" Secret! Not registered with the admin! \"\"\"\n     location = models.CharField(max_length=100)\n     villain = models.ForeignKey(Villain)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.location\n \n \n+@python_2_unicode_compatible\n class SuperSecretHideout(models.Model):\n     \"\"\" Secret! Not registered with the admin! \"\"\"\n     location = models.CharField(max_length=100)\n     supervillain = models.ForeignKey(SuperVillain)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.location\n \n \n+@python_2_unicode_compatible\n class CyclicOne(models.Model):\n     name = models.CharField(max_length=25)\n     two = models.ForeignKey('CyclicTwo')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class CyclicTwo(models.Model):\n     name = models.CharField(max_length=25)\n     one = models.ForeignKey(CyclicOne)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n@@ -484,11 +512,12 @@ class Question(models.Model):\n     question = models.CharField(max_length=20)\n \n \n+@python_2_unicode_compatible\n class Answer(models.Model):\n     question = models.ForeignKey(Question, on_delete=models.PROTECT)\n     answer = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.answer\n \n \n@@ -523,11 +552,12 @@ class Paper(models.Model):\n     author = models.CharField(max_length=30, blank=True, null=True)\n \n \n+@python_2_unicode_compatible\n class CoverLetter(models.Model):\n     author = models.CharField(max_length=30)\n     date_written = models.DateField(null=True, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.author\n \n \n@@ -575,10 +605,11 @@ class AdminOrderedCallable(models.Model):\n     order = models.IntegerField()\n     stuff = models.CharField(max_length=200)\n \n+@python_2_unicode_compatible\n class Report(models.Model):\n     title = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n "
        },
        {
            "sha": "2e452798b70fd9d9a5e52f3b21d7a1285726ba41",
            "filename": "tests/regressiontests/admin_widgets/models.py",
            "status": "modified",
            "additions": 16,
            "deletions": 8,
            "changes": 24,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_widgets%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,39 +2,44 @@\n \n from django.db import models\n from django.contrib.auth.models import User\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class MyFileField(models.FileField):\n     pass\n \n+@python_2_unicode_compatible\n class Member(models.Model):\n     name = models.CharField(max_length=100)\n     birthdate = models.DateTimeField(blank=True, null=True)\n     gender = models.CharField(max_length=1, blank=True, choices=[('M','Male'), ('F', 'Female')])\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Band(models.Model):\n     name = models.CharField(max_length=100)\n     members = models.ManyToManyField(Member)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Album(models.Model):\n     band = models.ForeignKey(Band)\n     name = models.CharField(max_length=100)\n     cover_art = models.FileField(upload_to='albums')\n     backside_art = MyFileField(upload_to='albums_back', null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class HiddenInventoryManager(models.Manager):\n     def get_query_set(self):\n         return super(HiddenInventoryManager, self).get_query_set().filter(hidden=False)\n \n+@python_2_unicode_compatible\n class Inventory(models.Model):\n    barcode = models.PositiveIntegerField(unique=True)\n    parent = models.ForeignKey('self', to_field='barcode', blank=True, null=True)\n@@ -45,7 +50,7 @@ class Inventory(models.Model):\n    default_manager = models.Manager()\n    objects = HiddenInventoryManager()\n \n-   def __unicode__(self):\n+   def __str__(self):\n       return self.name\n \n class Event(models.Model):\n@@ -56,12 +61,13 @@ class Event(models.Model):\n     link = models.URLField(blank=True)\n     min_age = models.IntegerField(blank=True, null=True)\n \n+@python_2_unicode_compatible\n class Car(models.Model):\n     owner = models.ForeignKey(User)\n     make = models.CharField(max_length=30)\n     model = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.make, self.model)\n \n class CarTire(models.Model):\n@@ -103,19 +109,21 @@ class Advisor(models.Model):\n     companies = models.ManyToManyField(Company)\n \n \n+@python_2_unicode_compatible\n class Student(models.Model):\n     name = models.CharField(max_length=255)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:\n         ordering = ('name',)\n \n+@python_2_unicode_compatible\n class School(models.Model):\n     name = models.CharField(max_length=255)\n     students = models.ManyToManyField(Student, related_name='current_schools')\n     alumni = models.ManyToManyField(Student, related_name='previous_schools')\n \n-    def __unicode__(self):\n-        return self.name\n\\ No newline at end of file\n+    def __str__(self):\n+        return self.name"
        },
        {
            "sha": "dd4ff50aec093526827fe15867c543b7a25b54d3",
            "filename": "tests/regressiontests/aggregation_regress/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Faggregation_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Faggregation_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Faggregation_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,24 +1,28 @@\n # coding: utf-8\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=100)\n     age = models.IntegerField()\n     friends = models.ManyToManyField('self', blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Publisher(models.Model):\n     name = models.CharField(max_length=255)\n     num_awards = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     isbn = models.CharField(max_length=9)\n     name = models.CharField(max_length=255)\n@@ -33,17 +37,18 @@ class Book(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Store(models.Model):\n     name = models.CharField(max_length=255)\n     books = models.ManyToManyField(Book)\n     original_opening = models.DateTimeField()\n     friday_night_closing = models.TimeField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Entries(models.Model):\n@@ -58,8 +63,9 @@ class Clues(models.Model):\n     Clue = models.CharField(max_length=150)\n \n \n+@python_2_unicode_compatible\n class HardbackBook(Book):\n     weight = models.FloatField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s (hardback): %s\" % (self.name, self.weight)"
        },
        {
            "sha": "344cf4c798dcaee3236062ac7323c57c8ee3f5b6",
            "filename": "tests/regressiontests/backends/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fbackends%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fbackends%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,21 +3,24 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models, connection\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Square(models.Model):\n     root = models.IntegerField()\n     square = models.PositiveIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s ** 2 == %s\" % (self.root, self.square)\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     first_name = models.CharField(max_length=20)\n     last_name = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.first_name, self.last_name)\n \n \n@@ -55,18 +58,20 @@ class Meta:\n         db_table = 'CaseSensitive_Post'\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n     reporter = models.ForeignKey(Reporter)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline"
        },
        {
            "sha": "472b66decdd7b4559275f82926275a4e0814366f",
            "filename": "tests/regressiontests/comment_tests/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcomment_tests%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcomment_tests%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -6,29 +6,33 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     author = models.ForeignKey(Author)\n     headline = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n+@python_2_unicode_compatible\n class Entry(models.Model):\n     title = models.CharField(max_length=250)\n     body = models.TextField()\n     pub_date = models.DateField()\n     enable_comments = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n class Book(models.Model):"
        },
        {
            "sha": "169b2246c36a21eda4292ff5eb8bc7ce55af1355",
            "filename": "tests/regressiontests/custom_columns_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcustom_columns_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,26 +8,29 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     Article_ID = models.AutoField(primary_key=True, db_column='Article ID')\n     headline = models.CharField(max_length=100)\n     authors = models.ManyToManyField('Author', db_table='my m2m table')\n     primary_author = models.ForeignKey('Author', db_column='Author ID', related_name='primary_set')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:\n         ordering = ('headline',)\n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     Author_ID = models.AutoField(primary_key=True, db_column='Author ID')\n     first_name = models.CharField(max_length=30, db_column='first name')\n     last_name = models.CharField(max_length=30, db_column='last name')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s' % (self.first_name, self.last_name)\n \n     class Meta:"
        },
        {
            "sha": "71073f0fe712e968f5d9a13ee1ed774ed589f035",
            "filename": "tests/regressiontests/custom_managers_regress/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcustom_managers_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fcustom_managers_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcustom_managers_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,6 +3,7 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class RestrictedManager(models.Manager):\n@@ -12,12 +13,14 @@ class RestrictedManager(models.Manager):\n     def get_query_set(self):\n         return super(RestrictedManager, self).get_query_set().filter(is_public=True)\n \n+@python_2_unicode_compatible\n class RelatedModel(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class RestrictedModel(models.Model):\n     name = models.CharField(max_length=50)\n     is_public = models.BooleanField(default=False)\n@@ -26,9 +29,10 @@ class RestrictedModel(models.Model):\n     objects = RestrictedManager()\n     plain_manager = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class OneToOneRestrictedModel(models.Model):\n     name = models.CharField(max_length=50)\n     is_public = models.BooleanField(default=False)\n@@ -37,5 +41,5 @@ class OneToOneRestrictedModel(models.Model):\n     objects = RestrictedManager()\n     plain_manager = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "8e6027dd0f82c7151095ad344124576f22b917b0",
            "filename": "tests/regressiontests/datatypes/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdatatypes%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdatatypes%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdatatypes%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,8 +4,10 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Donut(models.Model):\n     name = models.CharField(max_length=100)\n     is_frosted = models.BooleanField(default=False)\n@@ -18,7 +20,7 @@ class Donut(models.Model):\n     class Meta:\n         ordering = ('consumed_at',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class RumBaba(models.Model):"
        },
        {
            "sha": "e4bffb71998ae5588b6cff2688616192ea35adbc",
            "filename": "tests/regressiontests/dates/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdates%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdates%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdates%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,22 +1,25 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     title = models.CharField(max_length=100)\n     pub_date = models.DateField()\n \n     categories = models.ManyToManyField(\"Category\", related_name=\"articles\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class Comment(models.Model):\n     article = models.ForeignKey(Article, related_name=\"comments\")\n     text = models.TextField()\n     pub_date = models.DateField()\n     approval_date = models.DateField(null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'Comment to %s (%s)' % (self.article.title, self.pub_date)\n \n class Category(models.Model):"
        },
        {
            "sha": "bdf3c867c6e650b52b1f7d1fd18812dd56f8bfde",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -9,6 +9,7 @@\n from django.utils import six\n from django.utils import unittest, translation\n from django.utils.safestring import SafeData\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class DefaultFiltersTests(TestCase):\n@@ -456,10 +457,11 @@ def test_unordered_list(self):\n             'Lawrence</li>\\n\\t\\t\\t<li>Topeka</li>\\n\\t\\t</ul>\\n\\t\\t</li>'\\\n             '\\n\\t\\t<li>Illinois</li>\\n\\t</ul>\\n\\t</li>')\n \n+        @python_2_unicode_compatible\n         class ULItem(object):\n             def __init__(self, title):\n               self.title = title\n-            def __unicode__(self):\n+            def __str__(self):\n                 return 'ulitem-%s' % str(self.title)\n \n         a = ULItem('a')"
        },
        {
            "sha": "d02adccde9d01a9f3c988a0da84c84f036112406",
            "filename": "tests/regressiontests/defer_regress/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdefer_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fdefer_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefer_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,15 +3,17 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Item(models.Model):\n     name = models.CharField(max_length=15)\n     text = models.TextField(default=\"xyzzy\")\n     value = models.IntegerField()\n     other_value = models.IntegerField(default=0)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class RelatedItem(models.Model):\n@@ -21,13 +23,14 @@ class Child(models.Model):\n     name = models.CharField(max_length=10)\n     value = models.IntegerField()\n \n+@python_2_unicode_compatible\n class Leaf(models.Model):\n     name = models.CharField(max_length=10)\n     child = models.ForeignKey(Child)\n     second_child = models.ForeignKey(Child, related_name=\"other\", null=True)\n     value = models.IntegerField(default=42)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class ResolveThis(models.Model):\n@@ -38,11 +41,12 @@ class Proxy(Item):\n     class Meta:\n         proxy = True\n \n+@python_2_unicode_compatible\n class SimpleItem(models.Model):\n     name = models.CharField(max_length=15)\n     value = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Feature(models.Model):"
        },
        {
            "sha": "711329031dc1f3c409ad9d9001f860a0afa1ed4c",
            "filename": "tests/regressiontests/expressions_regress/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fexpressions_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,15 +1,17 @@\n from __future__ import unicode_literals\n+from django.utils.encoding import python_2_unicode_compatible\n \"\"\"\n Model for testing arithmetic expressions.\n \"\"\"\n from django.db import models\n \n \n+@python_2_unicode_compatible\n class Number(models.Model):\n     integer = models.IntegerField(db_column='the_integer')\n     float = models.FloatField(null=True, db_column='the_float')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%i, %.3f' % (self.integer, self.float)\n \n class Experiment(models.Model):"
        },
        {
            "sha": "11996438b428e5f616e3ce96fcfc839965a8872a",
            "filename": "tests/regressiontests/extra_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fextra_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,14 +5,16 @@\n \n from django.contrib.auth.models import User\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class RevisionableModel(models.Model):\n     base = models.ForeignKey('self', null=True)\n     title = models.CharField(blank=True, max_length=255)\n     when = models.DateTimeField(default=datetime.datetime.now)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s (%s, %s)\" % (self.title, self.id, self.base.id)\n \n     def save(self, *args, **kwargs):\n@@ -32,11 +34,12 @@ class Order(models.Model):\n     created_by = models.ForeignKey(User)\n     text = models.TextField()\n \n+@python_2_unicode_compatible\n class TestObject(models.Model):\n     first = models.CharField(max_length=20)\n     second = models.CharField(max_length=20)\n     third = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'TestObject: %s,%s,%s' % (self.first,self.second,self.third)\n "
        },
        {
            "sha": "1cc30d2e51fc5beefe594083480113affe208a4d",
            "filename": "tests/regressiontests/fixtures_regress/models.py",
            "status": "modified",
            "additions": 17,
            "deletions": 8,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffixtures_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,8 +3,10 @@\n from django.contrib.auth.models import User\n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Animal(models.Model):\n     name = models.CharField(max_length=150)\n     latin_name = models.CharField(max_length=150)\n@@ -14,7 +16,7 @@ class Animal(models.Model):\n     # use a non-default name for the default manager\n     specimens = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n@@ -25,11 +27,12 @@ class Meta:\n         # For testing when upper case letter in app name; regression for #4057\n         db_table = \"Fixtures_regress_plant\"\n \n+@python_2_unicode_compatible\n class Stuff(models.Model):\n     name = models.CharField(max_length=20, null=True)\n     owner = models.ForeignKey(User, null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.name) + ' is owned by ' + six.text_type(self.owner)\n \n \n@@ -68,13 +71,14 @@ class Meta:\n \n \n # Models to regression test #11428\n+@python_2_unicode_compatible\n class Widget(models.Model):\n     name = models.CharField(max_length=255)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n@@ -89,6 +93,7 @@ def get_by_natural_key(self, key):\n         return self.get(name=key)\n \n \n+@python_2_unicode_compatible\n class Store(models.Model):\n     objects = TestManager()\n     name = models.CharField(max_length=255)\n@@ -97,21 +102,22 @@ class Store(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     def natural_key(self):\n         return (self.name,)\n \n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     objects = TestManager()\n     name = models.CharField(max_length=255)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     # Person doesn't actually have a dependency on store, but we need to define\n@@ -121,6 +127,7 @@ def natural_key(self):\n     natural_key.dependencies = ['fixtures_regress.store']\n \n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     name = models.CharField(max_length=255)\n     author = models.ForeignKey(Person)\n@@ -129,7 +136,7 @@ class Book(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s by %s (available at %s)' % (\n             self.name,\n             self.author.name,\n@@ -142,23 +149,25 @@ def get_by_natural_key(self, data):\n         return self.get(data=data)\n \n \n+@python_2_unicode_compatible\n class NKChild(Parent):\n     data = models.CharField(max_length=10, unique=True)\n     objects = NKManager()\n \n     def natural_key(self):\n         return self.data\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'NKChild %s:%s' % (self.name, self.data)\n \n \n+@python_2_unicode_compatible\n class RefToNKChild(models.Model):\n     text = models.CharField(max_length=10)\n     nk_fk = models.ForeignKey(NKChild, related_name='ref_fks')\n     nk_m2m = models.ManyToManyField(NKChild, related_name='ref_m2ms')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s: Reference to %s [%s]' % (\n             self.text,\n             self.nk_fk,"
        },
        {
            "sha": "2f3ee9fa31307e338cec3ea78fa5114ce0a7b13e",
            "filename": "tests/regressiontests/forms/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,6 +7,7 @@\n \n from django.core.files.storage import FileSystemStorage\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n temp_storage_location = tempfile.mkdtemp(dir=os.environ['DJANGO_TEST_TEMP_DIR'])\n@@ -36,6 +37,7 @@ class ChoiceModel(models.Model):\n     name = models.CharField(max_length=10)\n \n \n+@python_2_unicode_compatible\n class ChoiceOptionModel(models.Model):\n     \"\"\"Destination for ChoiceFieldModel's ForeignKey.\n     Can't reuse ChoiceModel because error_message tests require that it have no instances.\"\"\"\n@@ -44,7 +46,7 @@ class ChoiceOptionModel(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'ChoiceOption %d' % self.pk\n \n \n@@ -66,10 +68,11 @@ class FileModel(models.Model):\n     file = models.FileField(storage=temp_storage, upload_to='tests')\n \n \n+@python_2_unicode_compatible\n class Group(models.Model):\n     name = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s' % self.name\n \n "
        },
        {
            "sha": "b76e122bc027adb6f74e764e081b7e7de143d2f4",
            "filename": "tests/regressiontests/forms/tests/error_messages.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ferror_messages.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,6 +5,7 @@\n from django.forms import *\n from django.test import TestCase\n from django.utils.safestring import mark_safe\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class AssertFormErrorsMixin(object):\n@@ -213,8 +214,9 @@ class TestForm(Form):\n             def clean(self):\n                 raise ValidationError(\"I like to be awkward.\")\n \n+        @python_2_unicode_compatible\n         class CustomErrorList(util.ErrorList):\n-            def __unicode__(self):\n+            def __str__(self):\n                 return self.as_divs()\n \n             def as_divs(self):"
        },
        {
            "sha": "2ab5d40942235f716be9f83ef207e47a1838e4e8",
            "filename": "tests/regressiontests/forms/tests/extra.py",
            "status": "modified",
            "additions": 20,
            "deletions": 8,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fextra.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,8 +8,9 @@\n from django.forms.extras import SelectDateWidget\n from django.forms.util import ErrorList\n from django.test import TestCase\n+from django.utils import six\n from django.utils import translation\n-from django.utils.encoding import force_text, smart_text\n+from django.utils.encoding import force_text, smart_text, python_2_unicode_compatible\n \n from .error_messages import AssertFormErrorsMixin\n \n@@ -553,14 +554,24 @@ def test_generic_ipaddress_normalization(self):\n \n     def test_smart_text(self):\n         class Test:\n-            def __str__(self):\n-               return ''.encode('utf-8')\n+            if six.PY3:\n+                def __str__(self):\n+                    return ''\n+            else:\n+                def __str__(self):\n+                    return ''.encode('utf-8')\n \n         class TestU:\n-            def __str__(self):\n-               return 'Foo'\n-            def __unicode__(self):\n-               return '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111'\n+            if six.PY3:\n+                def __str__(self):\n+                    return ''\n+                def __bytes__(self):\n+                    return b'Foo'\n+            else:\n+                def __str__(self):\n+                    return b'Foo'\n+                def __unicode__(self):\n+                    return '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111'\n \n         self.assertEqual(smart_text(Test()), '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n         self.assertEqual(smart_text(TestU()), '\\u0160\\u0110\\u0106\\u017d\\u0107\\u017e\\u0161\\u0111')\n@@ -585,8 +596,9 @@ def clean(self):\n         self.assertEqual(f.cleaned_data['username'], 'sirrobin')\n \n     def test_overriding_errorlist(self):\n+        @python_2_unicode_compatible\n         class DivErrorList(ErrorList):\n-            def __unicode__(self):\n+            def __str__(self):\n                 return self.as_divs()\n \n             def as_divs(self):"
        },
        {
            "sha": "c2d213ae2327a6ddcd9474f51272a052b8d48a5c",
            "filename": "tests/regressiontests/forms/tests/util.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Futil.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,6 +7,7 @@\n from django.utils.safestring import mark_safe\n from django.utils import six\n from django.utils.translation import ugettext_lazy\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class FormsUtilTestCase(TestCase):\n@@ -46,8 +47,9 @@ def test_validation_error(self):\n         self.assertHTMLEqual(str(ErrorList(ValidationError([\"First error.\", \"Not \\u03C0.\", ugettext_lazy(\"Error.\")]).messages)),\n                          '<ul class=\"errorlist\"><li>First error.</li><li>Not .</li><li>Error.</li></ul>')\n \n+        @python_2_unicode_compatible\n         class VeryBadError:\n-            def __unicode__(self): return \"A very bad error.\"\n+            def __str__(self): return \"A very bad error.\"\n \n         # Can take a non-string.\n         self.assertHTMLEqual(str(ErrorList(ValidationError(VeryBadError()).messages)),"
        },
        {
            "sha": "c950aef7198f74f855aa7451f4c2938fa7c6883b",
            "filename": "tests/regressiontests/forms/tests/widgets.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fwidgets.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -13,6 +13,7 @@\n from django.utils import six\n from django.utils.translation import activate, deactivate\n from django.test import TestCase\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class FormsWidgetTestCase(TestCase):\n@@ -1096,6 +1097,7 @@ class SplitDateRequiredForm(Form):\n         self.assertFalse(form.is_valid())\n \n \n+@python_2_unicode_compatible\n class FakeFieldFile(object):\n     \"\"\"\n     Quacks like a FieldFile (has a .url and unicode representation), but\n@@ -1104,7 +1106,7 @@ class FakeFieldFile(object):\n     \"\"\"\n     url = 'something'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.url\n \n class ClearableFileInputTests(TestCase):\n@@ -1125,10 +1127,11 @@ def test_html_escaped(self):\n         rendering HTML. Refs #15182.\n         \"\"\"\n \n+        @python_2_unicode_compatible\n         class StrangeFieldFile(object):\n             url = \"something?chapter=1&sect=2&copy=3&lang=en\"\n \n-            def __unicode__(self):\n+            def __str__(self):\n                 return '''something<div onclick=\"alert('oops')\">.jpg'''\n \n         widget = ClearableFileInput()"
        },
        {
            "sha": "dedc351075c2c1c2431876f8e9ff33705a232b0d",
            "filename": "tests/regressiontests/generic_inline_admin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_inline_admin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_inline_admin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_inline_admin%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,6 +1,7 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Episode(models.Model):\n@@ -9,6 +10,7 @@ class Episode(models.Model):\n     author = models.CharField(max_length=100, blank=True)\n \n \n+@python_2_unicode_compatible\n class Media(models.Model):\n     \"\"\"\n     Media that can associated to any object.\n@@ -20,7 +22,7 @@ class Media(models.Model):\n     description = models.CharField(max_length=100, blank=True)\n     keywords = models.CharField(max_length=100, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.url\n \n #"
        },
        {
            "sha": "dacc9b380bafbb6ce5e1111d1aabf6bf1932d39d",
            "filename": "tests/regressiontests/generic_relations_regress/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_relations_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_relations_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_relations_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,31 +1,36 @@\n from django.contrib.contenttypes import generic\n from django.contrib.contenttypes.models import ContentType\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n __all__ = ('Link', 'Place', 'Restaurant', 'Person', 'Address',\n            'CharLink', 'TextLink', 'OddRelation1', 'OddRelation2',\n            'Contact', 'Organization', 'Note')\n \n+@python_2_unicode_compatible\n class Link(models.Model):\n     content_type = models.ForeignKey(ContentType)\n     object_id = models.PositiveIntegerField()\n     content_object = generic.GenericForeignKey()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Link to %s id=%s\" % (self.content_type, self.object_id)\n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=100)\n     links = generic.GenericRelation(Link)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Place: %s\" % self.name\n \n+@python_2_unicode_compatible\n class Restaurant(Place):\n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Restaurant: %s\" % self.name\n \n+@python_2_unicode_compatible\n class Address(models.Model):\n     street = models.CharField(max_length=80)\n     city = models.CharField(max_length=50)\n@@ -35,15 +40,16 @@ class Address(models.Model):\n     object_id = models.PositiveIntegerField()\n     content_object = generic.GenericForeignKey()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%s %s, %s %s' % (self.street, self.city, self.state, self.zipcode)\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     account = models.IntegerField(primary_key=True)\n     name = models.CharField(max_length=128)\n     addresses = generic.GenericRelation(Address)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class CharLink(models.Model):"
        },
        {
            "sha": "f59389ef785b7bfe1f2ab5431e891d1b0bb1325d",
            "filename": "tests/regressiontests/generic_views/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_views%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fgeneric_views%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fgeneric_views%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,6 +1,8 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Artist(models.Model):\n     name = models.CharField(max_length=100)\n \n@@ -9,23 +11,25 @@ class Meta:\n         verbose_name = 'professional artist'\n         verbose_name_plural = 'professional artists'\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     @models.permalink\n     def get_absolute_url(self):\n         return ('artist_detail', (), {'pk': self.id})\n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=100)\n     slug = models.SlugField()\n \n     class Meta:\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     name = models.CharField(max_length=300)\n     slug = models.SlugField()\n@@ -36,7 +40,7 @@ class Book(models.Model):\n     class Meta:\n         ordering = ['-pubdate']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Page(models.Model):"
        },
        {
            "sha": "40c85fe739dbdc3abbc93406773f291f1dc1c6db",
            "filename": "tests/regressiontests/inline_formsets/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Finline_formsets%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Finline_formsets%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finline_formsets%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,5 +1,6 @@\n # coding: utf-8\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class School(models.Model):\n@@ -14,15 +15,17 @@ class Child(models.Model):\n     school = models.ForeignKey(School)\n     name = models.CharField(max_length=100)\n \n+@python_2_unicode_compatible\n class Poet(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Poem(models.Model):\n     poet = models.ForeignKey(Poet)\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "6e5beba61d28bdbfade0785806bcd3ee9fc3e3d5",
            "filename": "tests/regressiontests/introspection/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fintrospection%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fintrospection%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fintrospection%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,8 +1,10 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Reporter(models.Model):\n     first_name = models.CharField(max_length=30)\n     last_name = models.CharField(max_length=30)\n@@ -12,15 +14,16 @@ class Reporter(models.Model):\n     class Meta:\n         unique_together = ('first_name', 'last_name')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s %s\" % (self.first_name, self.last_name)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateField()\n     reporter = models.ForeignKey(Reporter)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n     class Meta:"
        },
        {
            "sha": "7c1108456e7942c14e3f26b5bf2640ee5cc6359d",
            "filename": "tests/regressiontests/m2m_regress/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fm2m_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fm2m_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fm2m_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,37 +1,42 @@\n from django.contrib.auth import models as auth\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n # No related name is needed here, since symmetrical relations are not\n # explicitly reversible.\n+@python_2_unicode_compatible\n class SelfRefer(models.Model):\n     name = models.CharField(max_length=10)\n     references = models.ManyToManyField('self')\n     related = models.ManyToManyField('self')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Tag(models.Model):\n     name = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # Regression for #11956 -- a many to many to the base class\n+@python_2_unicode_compatible\n class TagCollection(Tag):\n     tags = models.ManyToManyField(Tag, related_name='tag_collections')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # A related_name is required on one of the ManyToManyField entries here because\n # they are both addressable as reverse relations from Tag.\n+@python_2_unicode_compatible\n class Entry(models.Model):\n     name = models.CharField(max_length=10)\n     topics = models.ManyToManyField(Tag)\n     related = models.ManyToManyField(Tag, related_name=\"similar\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # Two models both inheriting from a base model with a self-referential m2m field"
        },
        {
            "sha": "1995b789845a5e5b02fdb009c3550bebf48bfee9",
            "filename": "tests/regressiontests/m2m_through_regress/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fm2m_through_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fm2m_through_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fm2m_through_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,40 +2,45 @@\n \n from django.contrib.auth.models import User\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n # Forward declared intermediate model\n+@python_2_unicode_compatible\n class Membership(models.Model):\n     person = models.ForeignKey('Person')\n     group = models.ForeignKey('Group')\n     price = models.IntegerField(default=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is a member of %s\" % (self.person.name, self.group.name)\n \n # using custom id column to test ticket #11107\n+@python_2_unicode_compatible\n class UserMembership(models.Model):\n     id = models.AutoField(db_column='usermembership_id', primary_key=True)\n     user = models.ForeignKey(User)\n     group = models.ForeignKey('Group')\n     price = models.IntegerField(default=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s is a user and member of %s\" % (self.user.username, self.group.name)\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=128)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Group(models.Model):\n     name = models.CharField(max_length=128)\n     # Membership object defined as a class\n     members = models.ManyToManyField(Person, through=Membership)\n     user_members = models.ManyToManyField(User, through='UserMembership')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # A set of models that use an non-abstract inherited model as the 'through' model."
        },
        {
            "sha": "892505f24a2dcc32109561f0606942441763ca77",
            "filename": "tests/regressiontests/managers_regress/models.py",
            "status": "modified",
            "additions": 13,
            "deletions": 6,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmanagers_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmanagers_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmanagers_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,6 +3,7 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class OnlyFred(models.Manager):\n@@ -44,52 +45,58 @@ class AbstractBase3(models.Model):\n     class Meta:\n         abstract = True\n \n+@python_2_unicode_compatible\n class Parent(models.Model):\n     name = models.CharField(max_length=50)\n \n     manager = OnlyFred()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # Managers from base classes are inherited and, if no manager is specified\n # *and* the parent has a manager specified, the first one (in the MRO) will\n # become the default.\n+@python_2_unicode_compatible\n class Child1(AbstractBase1):\n     data = models.CharField(max_length=25)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n+@python_2_unicode_compatible\n class Child2(AbstractBase1, AbstractBase2):\n     data = models.CharField(max_length=25)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n+@python_2_unicode_compatible\n class Child3(AbstractBase1, AbstractBase3):\n     data = models.CharField(max_length=25)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n+@python_2_unicode_compatible\n class Child4(AbstractBase1):\n     data = models.CharField(max_length=25)\n \n     # Should be the default manager, although the parent managers are\n     # inherited.\n     default = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n+@python_2_unicode_compatible\n class Child5(AbstractBase3):\n     name = models.CharField(max_length=25)\n \n     default = OnlyFred()\n     objects = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # Will inherit managers from AbstractBase1, but not Child4."
        },
        {
            "sha": "f3727820f8a66ee81cdd5c87d62e7a4a0df36163",
            "filename": "tests/regressiontests/many_to_one_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmany_to_one_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmany_to_one_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmany_to_one_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,6 +4,7 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n # If ticket #1578 ever slips back in, these models will not be able to be\n # created (the field names being lower-cased versions of their opposite\n@@ -30,18 +31,20 @@ class Child(models.Model):\n \n \n # Multiple paths to the same model (#7110, #7125)\n+@python_2_unicode_compatible\n class Category(models.Model):\n     name = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Record(models.Model):\n     category = models.ForeignKey(Category)\n \n+@python_2_unicode_compatible\n class Relation(models.Model):\n     left = models.ForeignKey(Record, related_name='left_set')\n     right = models.ForeignKey(Record, related_name='right_set')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s - %s\" % (self.left.category.name, self.right.category.name)"
        },
        {
            "sha": "f6e08d24dc72cbb8c1212111ce5ba2191ff5aeed",
            "filename": "tests/regressiontests/model_forms_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_forms_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_forms_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_forms_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,6 +4,7 @@\n \n from django.core.exceptions import ValidationError\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class Person(models.Model):\n@@ -20,18 +21,20 @@ class Meta:\n class FilePathModel(models.Model):\n     path = models.FilePathField(path=os.path.dirname(__file__), match=\".*\\.py$\", blank=True)\n \n+@python_2_unicode_compatible\n class Publication(models.Model):\n     title = models.CharField(max_length=30)\n     date_published = models.DateField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     publications = models.ManyToManyField(Publication)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n class CustomFileField(models.FileField):"
        },
        {
            "sha": "f94ad51929420a9df6641b04d954802d88f6f8ba",
            "filename": "tests/regressiontests/model_formsets_regress/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_formsets_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_formsets_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_formsets_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,4 +1,5 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class User(models.Model):\n@@ -22,9 +23,10 @@ class Manager(models.Model):\n class Network(models.Model):\n     name = models.CharField(max_length=15)\n \n+@python_2_unicode_compatible\n class Host(models.Model):\n     network = models.ForeignKey(Network)\n     hostname = models.CharField(max_length=25)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.hostname"
        },
        {
            "sha": "811c8175bb71ab5f3c1c5e878c8f3a15e4d4cd32",
            "filename": "tests/regressiontests/model_inheritance_regress/models.py",
            "status": "modified",
            "additions": 19,
            "deletions": 9,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_inheritance_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_inheritance_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_inheritance_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,36 +3,41 @@\n import datetime\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     address = models.CharField(max_length=80)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the place\" % self.name\n \n+@python_2_unicode_compatible\n class Restaurant(Place):\n     serves_hot_dogs = models.BooleanField()\n     serves_pizza = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the restaurant\" % self.name\n \n+@python_2_unicode_compatible\n class ItalianRestaurant(Restaurant):\n     serves_gnocchi = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the italian restaurant\" % self.name\n \n+@python_2_unicode_compatible\n class ParkingLot(Place):\n     # An explicit link to the parent (we can control the attribute name).\n     parent = models.OneToOneField(Place, primary_key=True, parent_link=True)\n     capacity = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the parking lot\" % self.name\n \n class ParkingLot2(Place):\n@@ -64,13 +69,14 @@ class SelfRefParent(models.Model):\n class SelfRefChild(SelfRefParent):\n     child_data = models.IntegerField()\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100)\n     pub_date = models.DateTimeField()\n     class Meta:\n         ordering = ('-pub_date', 'headline')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n class ArticleWithAuthor(Article):\n@@ -91,17 +97,19 @@ class Meta:\n class QualityControl(Evaluation):\n     assignee = models.CharField(max_length=50)\n \n+@python_2_unicode_compatible\n class BaseM(models.Model):\n     base_name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.base_name\n \n+@python_2_unicode_compatible\n class DerivedM(BaseM):\n     customPK = models.IntegerField(primary_key=True)\n     derived_name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"PK = %d, base_name = %s, derived_name = %s\" \\\n                 % (self.customPK, self.base_name, self.derived_name)\n \n@@ -120,15 +128,17 @@ class InternalCertificationAudit(CertificationAudit):\n     auditing_dept = models.CharField(max_length=20)\n \n # Check that abstract classes don't get m2m tables autocreated.\n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=100)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class AbstractEvent(models.Model):\n     name = models.CharField(max_length=100)\n     attendees = models.ManyToManyField(Person, related_name=\"%(class)s_set\")\n@@ -137,7 +147,7 @@ class Meta:\n         abstract = True\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class BirthdayParty(AbstractEvent):"
        },
        {
            "sha": "6b287726201e809a84c3307a584075ff1297e7e1",
            "filename": "tests/regressiontests/model_inheritance_select_related/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_inheritance_select_related%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_inheritance_select_related%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_inheritance_select_related%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -5,27 +5,31 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n \n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the place\" % self.name\n \n+@python_2_unicode_compatible\n class Restaurant(Place):\n     serves_sushi = models.BooleanField()\n     serves_steak = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the restaurant\" % self.name\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     name = models.CharField(max_length=50)\n     favorite_restaurant = models.ForeignKey(Restaurant)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "6c350d1b5dbae3971dd885b7c3b1c076d339b630",
            "filename": "tests/regressiontests/model_regress/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodel_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,5 +1,6 @@\n # coding: utf-8\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n CHOICES = (\n@@ -8,6 +9,7 @@\n )\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     headline = models.CharField(max_length=100, default='Default headline')\n     pub_date = models.DateTimeField()\n@@ -20,7 +22,7 @@ class Meta:\n         # A utf-8 verbose name (ngstrm's Articles) to test they are valid.\n         verbose_name = \"\\xc3\\x85ngstr\\xc3\\xb6m's Articles\"\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.headline\n \n \n@@ -38,26 +40,29 @@ class Event(models.Model):\n     when = models.DateTimeField()\n \n \n+@python_2_unicode_compatible\n class Department(models.Model):\n     id = models.PositiveIntegerField(primary_key=True)\n     name = models.CharField(max_length=200)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class Worker(models.Model):\n     department = models.ForeignKey(Department)\n     name = models.CharField(max_length=200)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n \n+@python_2_unicode_compatible\n class BrokenUnicodeMethod(models.Model):\n     name = models.CharField(max_length=7)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         # Intentionally broken (trying to insert a unicode value into a str\n         # object).\n         return 'Nzov: %s' % self.name"
        },
        {
            "sha": "fdbcabd1873f7d0d409e170ee24f82f2ace7e8c2",
            "filename": "tests/regressiontests/modeladmin/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodeladmin%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmodeladmin%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodeladmin%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,8 +1,10 @@\n # coding: utf-8\n from django.contrib.auth.models import User\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Band(models.Model):\n     name = models.CharField(max_length=100)\n     bio = models.TextField()\n@@ -11,7 +13,7 @@ class Band(models.Model):\n     class Meta:\n         ordering = ('name',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Concert(models.Model):"
        },
        {
            "sha": "e46438649b34aafcbd75d60a466525011a2346b9",
            "filename": "tests/regressiontests/multiple_database/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmultiple_database%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fmultiple_database%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmultiple_database%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -4,15 +4,17 @@\n from django.contrib.contenttypes.models import ContentType\n from django.contrib.contenttypes import generic\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Review(models.Model):\n     source = models.CharField(max_length=100)\n     content_type = models.ForeignKey(ContentType)\n     object_id = models.PositiveIntegerField()\n     content_object = generic.GenericForeignKey()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.source\n \n     class Meta:\n@@ -22,11 +24,12 @@ class PersonManager(models.Manager):\n     def get_by_natural_key(self, name):\n         return self.get(name=name)\n \n+@python_2_unicode_compatible\n class Person(models.Model):\n     objects = PersonManager()\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:\n@@ -45,6 +48,7 @@ def get_or_create(self, *args, **kwargs):\n         kwargs.pop('extra_arg', None)\n         return super(BookManager, self).get_or_create(*args, **kwargs)\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     objects = BookManager()\n     title = models.CharField(max_length=100)\n@@ -54,17 +58,18 @@ class Book(models.Model):\n     reviews = generic.GenericRelation(Review)\n     pages = models.IntegerField(default=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     class Meta:\n         ordering = ('title',)\n \n+@python_2_unicode_compatible\n class Pet(models.Model):\n     name = models.CharField(max_length=100)\n     owner = models.ForeignKey(Person)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     class Meta:"
        },
        {
            "sha": "c86ee8a5a935743b7fb26c32b7c23f8d88959e32",
            "filename": "tests/regressiontests/null_fk/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_fk%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_fk%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fnull_fk%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,6 +3,7 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class SystemDetails(models.Model):\n@@ -16,21 +17,23 @@ class Forum(models.Model):\n     system_info = models.ForeignKey(SystemInfo)\n     forum_name = models.CharField(max_length=32)\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     forum = models.ForeignKey(Forum, null=True)\n     title = models.CharField(max_length=32)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class Comment(models.Model):\n     post = models.ForeignKey(Post, null=True)\n     comment_text = models.CharField(max_length=250)\n \n     class Meta:\n         ordering = ('comment_text',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.comment_text\n \n # Ticket 15823"
        },
        {
            "sha": "3caff0d59405255725e808022dda58f599e879e5",
            "filename": "tests/regressiontests/null_fk_ordering/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_fk_ordering%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_fk_ordering%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fnull_fk_ordering%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -8,17 +8,19 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n # The first two models represent a very simple null FK ordering case.\n class Author(models.Model):\n     name = models.CharField(max_length=150)\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     title = models.CharField(max_length=150)\n     author = models.ForeignKey(Author, null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'Article titled: %s' % (self.title, )\n \n     class Meta:\n@@ -33,19 +35,21 @@ class Forum(models.Model):\n     system_info = models.ForeignKey(SystemInfo)\n     forum_name = models.CharField(max_length=32)\n \n+@python_2_unicode_compatible\n class Post(models.Model):\n     forum = models.ForeignKey(Forum, null=True)\n     title = models.CharField(max_length=32)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class Comment(models.Model):\n     post = models.ForeignKey(Post, null=True)\n     comment_text = models.CharField(max_length=250)\n \n     class Meta:\n         ordering = ['post__forum__system_info__system_name', 'comment_text']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.comment_text"
        },
        {
            "sha": "25560fbab79082ba061665329cec9de9141a6e01",
            "filename": "tests/regressiontests/null_queries/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_queries%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fnull_queries%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fnull_queries%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,19 +1,22 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Poll(models.Model):\n     question = models.CharField(max_length=200)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Q: %s \" % self.question\n \n+@python_2_unicode_compatible\n class Choice(models.Model):\n     poll = models.ForeignKey(Poll)\n     choice = models.CharField(max_length=200)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Choice: %s in poll %s\" % (self.choice, self.poll)\n \n # A set of models with an inner one pointing to two outer ones."
        },
        {
            "sha": "38b801f40ed71bcb8757cb00f4868e607d2e45f0",
            "filename": "tests/regressiontests/one_to_one_regress/models.py",
            "status": "modified",
            "additions": 9,
            "deletions": 4,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fone_to_one_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fone_to_one_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fone_to_one_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,39 +1,44 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Place(models.Model):\n     name = models.CharField(max_length=50)\n     address = models.CharField(max_length=80)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the place\" % self.name\n \n+@python_2_unicode_compatible\n class Restaurant(models.Model):\n     place = models.OneToOneField(Place)\n     serves_hot_dogs = models.BooleanField()\n     serves_pizza = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the restaurant\" % self.place.name\n \n+@python_2_unicode_compatible\n class Bar(models.Model):\n     place = models.OneToOneField(Place)\n     serves_cocktails = models.BooleanField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s the bar\" % self.place.name\n \n class UndergroundBar(models.Model):\n     place = models.OneToOneField(Place, null=True)\n     serves_cocktails = models.BooleanField()\n \n+@python_2_unicode_compatible\n class Favorites(models.Model):\n     name = models.CharField(max_length = 50)\n     restaurants = models.ManyToManyField(Restaurant)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Favorites for %s\" % self.name\n \n class Target(models.Model):"
        },
        {
            "sha": "45a48ee77c6353fba280c440ba66aa865aed7584",
            "filename": "tests/regressiontests/queries/models.py",
            "status": "modified",
            "additions": 53,
            "deletions": 26,
            "changes": 79,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fqueries%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fqueries%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fqueries%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -7,6 +7,7 @@\n \n from django.db import models\n from django.utils import six\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n class DumbCategory(models.Model):\n@@ -19,6 +20,7 @@ class Meta:\n class NamedCategory(DumbCategory):\n     name = models.CharField(max_length=10)\n \n+@python_2_unicode_compatible\n class Tag(models.Model):\n     name = models.CharField(max_length=10)\n     parent = models.ForeignKey('self', blank=True, null=True,\n@@ -28,17 +30,18 @@ class Tag(models.Model):\n     class Meta:\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Note(models.Model):\n     note = models.CharField(max_length=100)\n     misc = models.CharField(max_length=10)\n \n     class Meta:\n         ordering = ['note']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.note\n \n     def __init__(self, *args, **kwargs):\n@@ -48,24 +51,27 @@ def __init__(self, *args, **kwargs):\n         # that use objects of that type as an argument.\n         self.lock = threading.Lock()\n \n+@python_2_unicode_compatible\n class Annotation(models.Model):\n     name = models.CharField(max_length=10)\n     tag = models.ForeignKey(Tag)\n     notes = models.ManyToManyField(Note)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class ExtraInfo(models.Model):\n     info = models.CharField(max_length=100)\n     note = models.ForeignKey(Note)\n \n     class Meta:\n         ordering = ['info']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.info\n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=10)\n     num = models.IntegerField(unique=True)\n@@ -74,9 +80,10 @@ class Author(models.Model):\n     class Meta:\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Item(models.Model):\n     name = models.CharField(max_length=10)\n     created = models.DateTimeField()\n@@ -88,16 +95,18 @@ class Item(models.Model):\n     class Meta:\n         ordering = ['-note', 'name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Report(models.Model):\n     name = models.CharField(max_length=10)\n     creator = models.ForeignKey(Author, to_field='num', null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Ranking(models.Model):\n     rank = models.IntegerField()\n     author = models.ForeignKey(Author)\n@@ -106,23 +115,25 @@ class Meta:\n         # A complex ordering specification. Should stress the system a bit.\n         ordering = ('author__extra__note', 'author__name', 'rank')\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return '%d: %s' % (self.rank, self.author.name)\n \n+@python_2_unicode_compatible\n class Cover(models.Model):\n     title = models.CharField(max_length=50)\n     item = models.ForeignKey(Item)\n \n     class Meta:\n         ordering = ['item']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n+@python_2_unicode_compatible\n class Number(models.Model):\n     num = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return six.text_type(self.num)\n \n # Symmetrical m2m field with a normal field using the reverse accesor name\n@@ -168,6 +179,7 @@ def get_query_set(self):\n         qs = super(CustomManager, self).get_query_set()\n         return qs.filter(public=True, tag__name='t1')\n \n+@python_2_unicode_compatible\n class ManagedModel(models.Model):\n     data = models.CharField(max_length=10)\n     tag = models.ForeignKey(Tag)\n@@ -176,7 +188,7 @@ class ManagedModel(models.Model):\n     objects = CustomManager()\n     normal_manager = models.Manager()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n # An inter-related setup with multiple paths from Child to Detail.\n@@ -211,11 +223,12 @@ class Related(models.Model):\n # An inter-related setup with a model subclass that has a nullable\n # path to another model, and a return path from that model.\n \n+@python_2_unicode_compatible\n class Celebrity(models.Model):\n     name = models.CharField(\"Name\", max_length=20)\n     greatest_fan = models.ForeignKey(\"Fan\", null=True, unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class TvChef(Celebrity):\n@@ -225,10 +238,11 @@ class Fan(models.Model):\n     fan_of = models.ForeignKey(Celebrity)\n \n # Multiple foreign keys\n+@python_2_unicode_compatible\n class LeafA(models.Model):\n     data = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.data\n \n class LeafB(models.Model):\n@@ -238,11 +252,12 @@ class Join(models.Model):\n     a = models.ForeignKey(LeafA)\n     b = models.ForeignKey(LeafB)\n \n+@python_2_unicode_compatible\n class ReservedName(models.Model):\n     name = models.CharField(max_length=20)\n     order = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n # A simpler shared-foreign-key setup that can expose some problems.\n@@ -256,13 +271,14 @@ class PointerB(models.Model):\n     connection = models.ForeignKey(SharedConnection)\n \n # Multi-layer ordering\n+@python_2_unicode_compatible\n class SingleObject(models.Model):\n     name = models.CharField(max_length=10)\n \n     class Meta:\n         ordering = ['name']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class RelatedObject(models.Model):\n@@ -271,86 +287,97 @@ class RelatedObject(models.Model):\n     class Meta:\n         ordering = ['single']\n \n+@python_2_unicode_compatible\n class Plaything(models.Model):\n     name = models.CharField(max_length=10)\n     others = models.ForeignKey(RelatedObject, null=True)\n \n     class Meta:\n         ordering = ['others']\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Article(models.Model):\n     name = models.CharField(max_length=20)\n     created = models.DateTimeField()\n \n+@python_2_unicode_compatible\n class Food(models.Model):\n     name = models.CharField(max_length=20, unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Eaten(models.Model):\n     food = models.ForeignKey(Food, to_field=\"name\")\n     meal = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s at %s\" % (self.food, self.meal)\n \n+@python_2_unicode_compatible\n class Node(models.Model):\n     num = models.IntegerField(unique=True)\n     parent = models.ForeignKey(\"self\", to_field=\"num\", null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s\" % self.num\n \n # Bug #12252\n+@python_2_unicode_compatible\n class ObjectA(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class ObjectB(models.Model):\n     name = models.CharField(max_length=50)\n     objecta = models.ForeignKey(ObjectA)\n     num = models.PositiveSmallIntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class ObjectC(models.Model):\n     name = models.CharField(max_length=50)\n     objecta = models.ForeignKey(ObjectA)\n     objectb = models.ForeignKey(ObjectB)\n \n-    def __unicode__(self):\n+    def __str__(self):\n        return self.name\n \n+@python_2_unicode_compatible\n class SimpleCategory(models.Model):\n     name = models.CharField(max_length=15)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class SpecialCategory(SimpleCategory):\n     special_name = models.CharField(max_length=15)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name + \" \" + self.special_name\n \n+@python_2_unicode_compatible\n class CategoryItem(models.Model):\n     category = models.ForeignKey(SimpleCategory)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"category item: \" + str(self.category)\n \n+@python_2_unicode_compatible\n class OneToOneCategory(models.Model):\n     new_name = models.CharField(max_length=15)\n     category = models.OneToOneField(SimpleCategory)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"one2one \" + self.new_name\n \n class NullableName(models.Model):"
        },
        {
            "sha": "3284defb117e144eafdd5c6e97a1786373fb9d44",
            "filename": "tests/regressiontests/select_related_onetoone/models.py",
            "status": "modified",
            "additions": 11,
            "deletions": 5,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fselect_related_onetoone%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fselect_related_onetoone%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fselect_related_onetoone%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,44 +1,50 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class User(models.Model):\n     username = models.CharField(max_length=100)\n     email = models.EmailField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.username\n \n \n+@python_2_unicode_compatible\n class UserProfile(models.Model):\n     user = models.OneToOneField(User)\n     city = models.CharField(max_length=100)\n     state = models.CharField(max_length=2)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s, %s\" % (self.city, self.state)\n \n \n+@python_2_unicode_compatible\n class UserStatResult(models.Model):\n     results = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'UserStatResults, results = %s' % (self.results,)\n \n \n+@python_2_unicode_compatible\n class UserStat(models.Model):\n     user = models.OneToOneField(User, primary_key=True)\n     posts = models.IntegerField()\n     results = models.ForeignKey(UserStatResult)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'UserStat, posts = %s' % (self.posts,)\n \n \n+@python_2_unicode_compatible\n class StatDetails(models.Model):\n     base_stats = models.OneToOneField(UserStat)\n     comments = models.IntegerField()\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return 'StatDetails, comments = %s' % (self.comments,)\n \n "
        },
        {
            "sha": "a291a547f7c5fbe4c9c1cfe75a030885b0ecc54d",
            "filename": "tests/regressiontests/select_related_regress/models.py",
            "status": "modified",
            "additions": 13,
            "deletions": 6,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fselect_related_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fselect_related_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fselect_related_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,34 +1,39 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Building(models.Model):\n     name = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Building: %s\" % self.name\n \n+@python_2_unicode_compatible\n class Device(models.Model):\n     building = models.ForeignKey('Building')\n     name = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"device '%s' in building %s\" % (self.name, self.building)\n \n+@python_2_unicode_compatible\n class Port(models.Model):\n     device = models.ForeignKey('Device')\n     port_number = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s/%s\" % (self.device.name, self.port_number)\n \n+@python_2_unicode_compatible\n class Connection(models.Model):\n     start = models.ForeignKey(Port, related_name='connection_start',\n             unique=True)\n     end = models.ForeignKey(Port, related_name='connection_end', unique=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"%s to %s\" % (self.start, self.end)\n \n # Another non-tree hierarchy that exercises code paths similar to the above\n@@ -72,18 +77,20 @@ class SpecialClient(Client):\n     value = models.IntegerField()\n \n # Some model inheritance exercises\n+@python_2_unicode_compatible\n class Parent(models.Model):\n     name = models.CharField(max_length=10)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n class Child(Parent):\n     value = models.IntegerField()\n \n+@python_2_unicode_compatible\n class Item(models.Model):\n     name = models.CharField(max_length=10)\n     child = models.ForeignKey(Child, null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "829314c06cae35ccc87ee721c9a28b199319ded0",
            "filename": "tests/regressiontests/signals_regress/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsignals_regress%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsignals_regress%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsignals_regress%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,15 +1,18 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=20)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n+@python_2_unicode_compatible\n class Book(models.Model):\n     name = models.CharField(max_length=20)\n     authors = models.ManyToManyField(Author)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name"
        },
        {
            "sha": "55c4f4992e2adf72b907d146ff70f03d807465ad",
            "filename": "tests/regressiontests/sites_framework/models.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsites_framework%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsites_framework%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsites_framework%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,7 +1,9 @@\n from django.contrib.sites.managers import CurrentSiteManager\n from django.contrib.sites.models import Site\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class AbstractArticle(models.Model):\n     title = models.CharField(max_length=50)\n \n@@ -11,7 +13,7 @@ class AbstractArticle(models.Model):\n     class Meta:\n         abstract = True\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n class SyndicatedArticle(AbstractArticle):"
        },
        {
            "sha": "a2d64cd0b2d6683a8190dbc9ef0c71d1221857a2",
            "filename": "tests/regressiontests/string_lookup/models.py",
            "status": "modified",
            "additions": 13,
            "deletions": 6,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fstring_lookup%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fstring_lookup%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fstring_lookup%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -2,47 +2,54 @@\n from __future__ import unicode_literals\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Foo(models.Model):\n     name = models.CharField(max_length=50)\n     friend = models.CharField(max_length=50, blank=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Foo %s\" % self.name\n \n+@python_2_unicode_compatible\n class Bar(models.Model):\n     name = models.CharField(max_length=50)\n     normal = models.ForeignKey(Foo, related_name='normal_foo')\n     fwd = models.ForeignKey(\"Whiz\")\n     back = models.ForeignKey(\"Foo\")\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Bar %s\" % self.place.name\n \n+@python_2_unicode_compatible\n class Whiz(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Whiz %s\" % self.name\n \n+@python_2_unicode_compatible\n class Child(models.Model):\n     parent = models.OneToOneField('Base')\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Child %s\" % self.name\n \n+@python_2_unicode_compatible\n class Base(models.Model):\n     name = models.CharField(max_length=50)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Base %s\" % self.name\n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     name = models.CharField(max_length=50)\n     text = models.TextField()\n     submitted_from = models.IPAddressField(blank=True, null=True)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return \"Article %s\" % self.name"
        },
        {
            "sha": "10b3fe3a0cff24e0379e967d6f64ee26b489496c",
            "filename": "tests/regressiontests/syndication/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsyndication%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fsyndication%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsyndication%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -1,24 +1,27 @@\n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n \n+@python_2_unicode_compatible\n class Entry(models.Model):\n     title = models.CharField(max_length=200)\n     date = models.DateTimeField()\n \n     class Meta:\n         ordering = ('date',)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n     def get_absolute_url(self):\n         return \"/blog/%s/\" % self.pk\n \n \n+@python_2_unicode_compatible\n class Article(models.Model):\n     title = models.CharField(max_length=200)\n     entry = models.ForeignKey(Entry)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n "
        },
        {
            "sha": "606282ecc594fe9092f20632aeb51a31c23bbbc3",
            "filename": "tests/regressiontests/templates/filters.py",
            "status": "modified",
            "additions": 10,
            "deletions": 7,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Ftemplates%2Ffilters.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Ftemplates%2Ffilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ftemplates%2Ffilters.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -13,14 +13,17 @@\n from django.test.utils import str_prefix\n from django.utils.tzinfo import LocalTimezone, FixedOffset\n from django.utils.safestring import mark_safe\n+from django.utils.encoding import python_2_unicode_compatible\n \n # These two classes are used to test auto-escaping of __unicode__ output.\n+@python_2_unicode_compatible\n class UnsafeClass:\n-    def __unicode__(self):\n+    def __str__(self):\n         return 'you & me'\n \n+@python_2_unicode_compatible\n class SafeClass:\n-    def __unicode__(self):\n+    def __str__(self):\n         return mark_safe('you &gt; me')\n \n # RESULT SYNTAX --\n@@ -338,11 +341,11 @@ def get_filter_tests():\n         'join04': (r'{% autoescape off %}{{ a|join:\" &amp; \" }}{% endautoescape %}', {'a': ['alpha', 'beta & me']}, 'alpha &amp; beta & me'),\n \n         # Test that joining with unsafe joiners don't result in unsafe strings (#11377)\n-        'join05': (r'{{ a|join:var }}', {'a': ['alpha', 'beta & me'], 'var': ' & '}, 'alpha &amp; beta &amp; me'), \n-        'join06': (r'{{ a|join:var }}', {'a': ['alpha', 'beta & me'], 'var': mark_safe(' & ')}, 'alpha & beta &amp; me'), \n-        'join07': (r'{{ a|join:var|lower }}', {'a': ['Alpha', 'Beta & me'], 'var': ' & ' }, 'alpha &amp; beta &amp; me'), \n-        'join08': (r'{{ a|join:var|lower }}', {'a': ['Alpha', 'Beta & me'], 'var': mark_safe(' & ')}, 'alpha & beta &amp; me'), \n-        \n+        'join05': (r'{{ a|join:var }}', {'a': ['alpha', 'beta & me'], 'var': ' & '}, 'alpha &amp; beta &amp; me'),\n+        'join06': (r'{{ a|join:var }}', {'a': ['alpha', 'beta & me'], 'var': mark_safe(' & ')}, 'alpha & beta &amp; me'),\n+        'join07': (r'{{ a|join:var|lower }}', {'a': ['Alpha', 'Beta & me'], 'var': ' & ' }, 'alpha &amp; beta &amp; me'),\n+        'join08': (r'{{ a|join:var|lower }}', {'a': ['Alpha', 'Beta & me'], 'var': mark_safe(' & ')}, 'alpha & beta &amp; me'),\n+\n         'date01': (r'{{ d|date:\"m\" }}', {'d': datetime(2008, 1, 1)}, '01'),\n         'date02': (r'{{ d|date }}', {'d': datetime(2008, 1, 1)}, 'Jan. 1, 2008'),\n         #Ticket 9520: Make sure |date doesn't blow up on non-dates"
        },
        {
            "sha": "461f98c028adac03ecfe063149804347e4090f6f",
            "filename": "tests/regressiontests/views/models.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fviews%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/d4a0b27838c815af87698920cc4db7d2afd6f05b/tests%2Fregressiontests%2Fviews%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fviews%2Fmodels.py?ref=d4a0b27838c815af87698920cc4db7d2afd6f05b",
            "patch": "@@ -3,16 +3,19 @@\n \"\"\"\n \n from django.db import models\n+from django.utils.encoding import python_2_unicode_compatible\n \n+@python_2_unicode_compatible\n class Author(models.Model):\n     name = models.CharField(max_length=100)\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.name\n \n     def get_absolute_url(self):\n         return '/views/authors/%s/' % self.id\n \n+@python_2_unicode_compatible\n class BaseArticle(models.Model):\n     \"\"\"\n     An abstract article Model so that we can create article models with and\n@@ -25,7 +28,7 @@ class BaseArticle(models.Model):\n     class Meta:\n         abstract = True\n \n-    def __unicode__(self):\n+    def __str__(self):\n         return self.title\n \n class Article(BaseArticle):"
        }
    ],
    "stats": {
        "total": 1553,
        "additions": 1072,
        "deletions": 481
    }
}