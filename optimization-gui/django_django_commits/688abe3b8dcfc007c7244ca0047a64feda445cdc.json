{
    "author": "jezdez",
    "message": "Fixed #15981 -- Use ungettext instead of manually checking for plurals. Thanks, gasperzejn.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16181 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "688abe3b8dcfc007c7244ca0047a64feda445cdc",
    "files": [
        {
            "sha": "a08dc329d0d244421daa4fb60a6eb5f10ffb3edd",
            "filename": "django/contrib/humanize/locale/en/LC_MESSAGES/django.mo",
            "status": "modified",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.mo",
            "raw_url": "https://github.com/django/django/raw/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.mo",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.mo?ref=688abe3b8dcfc007c7244ca0047a64feda445cdc"
        },
        {
            "sha": "0e7f3f33ed558e2a133a8296c14e31d72764bc36",
            "filename": "django/contrib/humanize/locale/en/LC_MESSAGES/django.po",
            "status": "modified",
            "additions": 33,
            "deletions": 35,
            "changes": 68,
            "blob_url": "https://github.com/django/django/blob/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.po",
            "raw_url": "https://github.com/django/django/raw/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.po",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Flocale%2Fen%2FLC_MESSAGES%2Fdjango.po?ref=688abe3b8dcfc007c7244ca0047a64feda445cdc",
            "patch": "@@ -4,7 +4,7 @@ msgid \"\"\n msgstr \"\"\n \"Project-Id-Version: Django\\n\"\n \"Report-Msgid-Bugs-To: \\n\"\n-\"POT-Creation-Date: 2011-05-06 14:14+0200\\n\"\n+\"POT-Creation-Date: 2011-05-07 21:53+0200\\n\"\n \"PO-Revision-Date: 2010-05-13 15:35+0200\\n\"\n \"Last-Translator: Django team\\n\"\n \"Language-Team: English <en@li.org>\\n\"\n@@ -28,119 +28,117 @@ msgstr \"\"\n msgid \"rd\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:68\n+#: templatetags/humanize.py:74\n #, python-format\n msgid \"%(value).1f million\"\n msgid_plural \"%(value).1f million\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:69\n+#: templatetags/humanize.py:75\n #, python-format\n msgid \"%(value)s million\"\n msgid_plural \"%(value)s million\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:74\n+#: templatetags/humanize.py:80\n #, python-format\n msgid \"%(value).1f billion\"\n msgid_plural \"%(value).1f billion\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:75\n+#: templatetags/humanize.py:81\n #, python-format\n msgid \"%(value)s billion\"\n msgid_plural \"%(value)s billion\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:80\n+#: templatetags/humanize.py:86\n #, python-format\n msgid \"%(value).1f trillion\"\n msgid_plural \"%(value).1f trillion\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:81\n+#: templatetags/humanize.py:87\n #, python-format\n msgid \"%(value)s trillion\"\n msgid_plural \"%(value)s trillion\"\n msgstr[0] \"\"\n msgstr[1] \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"one\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"two\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"three\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"four\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"five\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"six\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"seven\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"eight\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:98\n+#: templatetags/humanize.py:104\n msgid \"nine\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:121\n+#: templatetags/humanize.py:127\n msgid \"today\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:123\n+#: templatetags/humanize.py:129\n msgid \"tomorrow\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:125\n+#: templatetags/humanize.py:131\n msgid \"yesterday\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:147\n+#: templatetags/humanize.py:153\n msgid \"now\"\n msgstr \"\"\n \n-#: templatetags/humanize.py:149\n+#: templatetags/humanize.py:155\n #, python-format\n msgid \"%s seconds ago\"\n-msgstr \"\"\n+msgid_plural \"%s seconds ago\"\n+msgstr[0] \"\"\n+msgstr[1] \"\"\n \n-#: templatetags/humanize.py:151\n+#: templatetags/humanize.py:157\n+#, python-format\n msgid \"a minute ago\"\n-msgstr \"\"\n+msgid_plural \"%s minutes ago\"\n+msgstr[0] \"\"\n+msgstr[1] \"\"\n \n-#: templatetags/humanize.py:153\n+#: templatetags/humanize.py:159\n #, python-format\n-msgid \"%s minutes ago\"\n-msgstr \"\"\n-\n-#: templatetags/humanize.py:155\n msgid \"an hour ago\"\n-msgstr \"\"\n-\n-#: templatetags/humanize.py:157\n-#, python-format\n-msgid \"%s hours ago\"\n-msgstr \"\"\n+msgid_plural \"%s hours ago\"\n+msgstr[0] \"\"\n+msgstr[1] \"\""
        },
        {
            "sha": "560f2a49ecdf2899095f9d88a4c8d63683b7ce3d",
            "filename": "django/contrib/humanize/templatetags/humanize.py",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py",
            "raw_url": "https://github.com/django/django/raw/688abe3b8dcfc007c7244ca0047a64feda445cdc/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fhumanize%2Ftemplatetags%2Fhumanize.py?ref=688abe3b8dcfc007c7244ca0047a64feda445cdc",
            "patch": "@@ -152,13 +152,9 @@ def naturaltime(value, arg=None):\n     elif delta.seconds == 0:\n         return _(u'now')\n     elif delta.seconds < 60:\n-        return _(u'%s seconds ago' % (delta.seconds))\n-    elif delta.seconds / 60 < 2:\n-        return _(r'a minute ago')\n+        return ungettext(u'%s seconds ago', u'%s seconds ago', delta.seconds)\n     elif delta.seconds / 60 < 60:\n-        return _(u'%s minutes ago' % (delta.seconds/60))\n-    elif delta.seconds / 60 / 60 < 2:\n-        return _(u'an hour ago')\n+        return ungettext(u'a minute ago', u'%s minutes ago', delta.seconds/60)\n     elif delta.seconds / 60 / 60 < 24:\n-        return _(u'%s hours ago' % (delta.seconds/60/60))\n+        return ungettext(u'an hour ago', u'%s hours ago', delta.seconds/60/60)\n     return naturalday(value, arg)"
        }
    ],
    "stats": {
        "total": 78,
        "additions": 36,
        "deletions": 42
    }
}