{
    "author": "akaariai",
    "message": "Fixed regression caused by #19102",
    "sha": "bd6d9ea87cfa252c2992904897e137bc23da56c3",
    "files": [
        {
            "sha": "cef01c48ab61e3602a94bd3d807d68b16da4d429",
            "filename": "django/db/models/sql/query.py",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/bd6d9ea87cfa252c2992904897e137bc23da56c3/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "raw_url": "https://github.com/django/django/raw/bd6d9ea87cfa252c2992904897e137bc23da56c3/django%2Fdb%2Fmodels%2Fsql%2Fquery.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fquery.py?ref=bd6d9ea87cfa252c2992904897e137bc23da56c3",
            "patch": "@@ -115,7 +115,6 @@ def __init__(self, model, where=WhereNode):\n         self.default_ordering = True\n         self.standard_ordering = True\n         self.ordering_aliases = []\n-        self.select_fields = []\n         self.related_select_fields = []\n         self.dupe_avoidance = {}\n         self.used_aliases = set()\n@@ -124,6 +123,9 @@ def __init__(self, model, where=WhereNode):\n \n         # SQL-related attributes\n         self.select = []\n+        # For each to-be-selected field in self.select there must be a\n+        # corresponding entry in self.select - git seems to need this.\n+        self.select_fields = []\n         self.tables = []    # Aliases in the order they are created.\n         self.where = where()\n         self.where_class = where"
        },
        {
            "sha": "24ac957cbf4a8d827df0d4152aa7d586924493a4",
            "filename": "django/db/models/sql/subqueries.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/bd6d9ea87cfa252c2992904897e137bc23da56c3/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py",
            "raw_url": "https://github.com/django/django/raw/bd6d9ea87cfa252c2992904897e137bc23da56c3/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fsql%2Fsubqueries.py?ref=bd6d9ea87cfa252c2992904897e137bc23da56c3",
            "patch": "@@ -76,7 +76,7 @@ def delete_qs(self, query, using):\n                 return\n             else:\n                 innerq.clear_select_clause()\n-                innerq.select = [(self.get_initial_alias(), pk.column)]\n+                innerq.select, innerq.select_fields = [(self.get_initial_alias(), pk.column)], [None]\n                 values = innerq\n             where = self.where_class()\n             where.add((Constraint(None, pk.column, pk), 'in', values), AND)\n@@ -244,7 +244,7 @@ def add_date_select(self, field_name, lookup_type, order='ASC'):\n         alias = result[3][-1]\n         select = Date((alias, field.column), lookup_type)\n         self.clear_select_clause()\n-        self.select = [select]\n+        self.select, self.select_fields = [select], [None]\n         self.distinct = True\n         self.order_by = order == 'ASC' and [1] or [-1]\n "
        }
    ],
    "stats": {
        "total": 8,
        "additions": 5,
        "deletions": 3
    }
}