{
    "author": "unknown",
    "message": "Fixed #13605 -- Improved documentation of the django.core.files.storage module. Added documentation for DefaultStorage, get_storage_class, FileSystemStorage, and some missing public methods on Storage. New metadata targets included for everything. Thanks to kopernikus for the report and elbarto for contributing to the patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14831 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0ab50aad36f849d710a0ac053a99eb058e489e24",
    "files": [
        {
            "sha": "923a098bc4dbbbbb4d6da5a8b86103d445f3faaf",
            "filename": "docs/ref/files/storage.txt",
            "status": "modified",
            "additions": 116,
            "deletions": 52,
            "changes": 168,
            "blob_url": "https://github.com/django/django/blob/0ab50aad36f849d710a0ac053a99eb058e489e24/docs%2Fref%2Ffiles%2Fstorage.txt",
            "raw_url": "https://github.com/django/django/raw/0ab50aad36f849d710a0ac053a99eb058e489e24/docs%2Fref%2Ffiles%2Fstorage.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Ffiles%2Fstorage.txt?ref=0ab50aad36f849d710a0ac053a99eb058e489e24",
            "patch": "@@ -1,79 +1,143 @@\n File storage API\n ================\n \n-``Storage.exists(name)``\n-~~~~~~~~~~~~~~~~~~~~~~~~\n+.. module:: django.core.files.storage\n \n-``True`` if a file exists given some ``name``.\n+Getting the current storage class\n+---------------------------------\n \n-``Storage.path(name)``\n-~~~~~~~~~~~~~~~~~~~~~~\n+Django provides two convenient ways to access the current storage class:\n \n-The local filesystem path where the file can be opened using Python's standard\n-``open()``. For storage systems that aren't accessible from the local\n-filesystem, this will raise ``NotImplementedError`` instead.\n+.. class:: DefaultStorage\n \n-``Storage.accessed_time(name)``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+    :class:`~django.core.files.storage.DefaultStorage` provides\n+    lazy access to the current default storage system as defined by\n+    :setting:`DEFAULT_FILE_STORAGE`. :class:`DefaultStorage` uses\n+    :func:`~django.core.files.storage.get_storage_class` internally.\n \n-.. versionadded:: 1.3\n+.. function:: get_storage_class([import_path=None])\n \n-Returns a ``datetime`` object containing the last accessed time of the file.\n-For storage systems that aren't able to return the last accessed time, this\n-will raise ``NotImplementedError`` instead.\n+    Returns a class or module which implements the storage API.\n+    \n+    When called without the ``import_path`` parameter ``get_storage_class``\n+    will return the current default storage system as defined by\n+    :setting:`DEFAULT_FILE_STORAGE`. If ``import_path`` is provided,\n+    ``get_storage_class`` will attempt to import the class or module from the\n+    given path and will return it if successful. An exception will be\n+    raised if the import is unsuccessful.\n \n-``Storage.created_time(name)``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+The FileSystemStorage Class\n+---------------------------\n \n-.. versionadded:: 1.3\n+.. class:: FileSystemStorage\n \n-Returns a ``datetime`` object containing the creation time of the file.\n-For storage systems that aren't able to return the creation time, this\n-will raise ``NotImplementedError`` instead.\n+    The :class:`~django.core.files.storage.FileSystemStorage` class implements\n+    basic file storage on a local filesystem. It inherits from\n+    :class:`~django.core.files.storage.Storage` and provides implementations\n+    for all the public methods thereof.\n+    \n+    .. note::\n+    \n+        The :class:`FileSystemStorage.delete` method will not raise\n+        raise an exception if the given file name does not exist.\n \n-``Storage.modified_time(name)``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+The Storage Class\n+-----------------\n \n-.. versionadded:: 1.3\n+.. class:: Storage\n \n-Returns a ``datetime`` object containing the last modified time. For storage\n-systems that aren't able to return the last modified time, this will raise\n-``NotImplementedError`` instead.\n+    The :class:`~django.core.files.storage.Storage` class provides a\n+    standardized API for storing files, along with a set of default\n+    behaviors that all other storage systems can inherit or override\n+    as necessary.\n \n-``Storage.size(name)``\n-~~~~~~~~~~~~~~~~~~~~~~\n+    .. method:: accessed_time(name)\n \n-Returns the total size, in bytes, of the file referenced by ``name``.\n+        .. versionadded:: 1.3\n \n-``Storage.url(name)``\n-~~~~~~~~~~~~~~~~~~~~~\n+        Returns a ``datetime`` object containing the last accessed time of the\n+        file. For storage systems that aren't able to return the last accessed\n+        time this will raise ``NotImplementedError`` instead.\n \n-Returns the URL where the contents of the file referenced by ``name`` can be\n-accessed.\n+    .. method:: created_time(name)\n \n-``Storage.open(name, mode='rb')``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+        .. versionadded:: 1.3\n \n-Opens the file given by ``name``. Note that although the returned file is\n-guaranteed to be a ``File`` object, it might actually be some subclass. In the\n-case of remote file storage this means that reading/writing could be quite slow,\n-so be warned.\n+        Returns a ``datetime`` object containing the creation time of the file.\n+        For storage systems that aren't able to return the creation time this\n+        will raise ``NotImplementedError`` instead.\n \n-``Storage.save(name, content)``\n-~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+    .. method:: delete(name)\n \n-Saves a new file using the storage system, preferably with the name specified.\n-If there already exists a file with this name ``name``, the storage system may\n-modify the filename as necessary to get a unique name. The actual name of the\n-stored file will be returned.\n+        Deletes the file referenced by ``name``. If deletion is not supported\n+        on the targest storage system this will raise ``NotImplementedError``\n+        instead\n \n-The ``content`` argument must be an instance of\n-:class:`django.core.files.File` or of a subclass of\n-:class:`~django.core.files.File`.\n+    .. method:: exists(name)\n \n-``Storage.delete(name)``\n-~~~~~~~~~~~~~~~~~~~~~~~~\n+        Returns ``True`` if a file referened by the given name already exists\n+        in the storage system, or ``False`` if the name is available for a new\n+        file.\n \n-Deletes the file referenced by ``name``. This method won't raise an exception if\n-the file doesn't exist.\n+    .. method:: get_available_name(name)\n \n+        Returns a filename based on the ``name`` parameter that's free and\n+        available for new content to be written to on the target storage\n+        system.\n+\n+\n+    .. method:: get_valid_name(name)\n+\n+        Returns a filename based on the ``name`` parameter that's suitable\n+        for use on the target storage system.\n+\n+    .. method:: listdir(path)\n+\n+        Lists the contents of the specified path, returning a 2-tuple of lists;\n+        the first item being directories, the second item being files. For\n+        storage systems that aren't ale to provide such a listing, this will\n+        raise a ``NotImplementedError`` instead.\n+\n+    .. method:: modified_time(name)\n+\n+        .. versionadded:: 1.3\n+\n+        Returns a ``datetime`` object containing the last modified time. For\n+        storage systems that aren't able to return the last modified time, this\n+        will raise ``NotImplementedError`` instead.\n+\n+    .. method:: open(name, mode='rb')\n+\n+        Opens the file given by ``name``. Note that although the returned file\n+        is guaranteed to be a ``File`` object, it might actually be some\n+        subclass. In the case of remote file storage this means that\n+        reading/writing could be quite slow, so be warned.\n+\n+    .. method:: path(name)\n+\n+        The local filesystem path where the file can be opened using Python's\n+        standard ``open()``. For storage systems that aren't accessible from\n+        the local filesystem, this will raise ``NotImplementedError`` instead.\n+\n+    .. method:: save(name, content)\n+\n+        Saves a new file using the storage system, preferably with the name\n+        specified. If there already exists a file with this name ``name``, the\n+        storage system may modify the filename as necessary to get a unique\n+        name. The actual name of the stored file will be returned.\n+\n+        The ``content`` argument must be an instance of\n+        :class:`django.core.files.File` or of a subclass of\n+        :class:`~django.core.files.File`.\n+\n+    .. method:: size(name)\n+\n+        Returns the total size, in bytes, of the file referenced by ``name``.\n+        For storage systems that aren't able to return the file size this will\n+        raise ``NotImplementedError`` instead.\n+\n+    .. method:: url(name)\n+\n+        Returns the URL where the contents of the file referenced by ``name``\n+        can be accessed. For storage systems that don't support access by URL\n+        this will raise ``NotImplementedError`` instead."
        },
        {
            "sha": "47fa486fe0ee98abb2fde0581c25626ae423f3ca",
            "filename": "docs/ref/settings.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/0ab50aad36f849d710a0ac053a99eb058e489e24/docs%2Fref%2Fsettings.txt",
            "raw_url": "https://github.com/django/django/raw/0ab50aad36f849d710a0ac053a99eb058e489e24/docs%2Fref%2Fsettings.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fsettings.txt?ref=0ab50aad36f849d710a0ac053a99eb058e489e24",
            "patch": "@@ -655,7 +655,7 @@ isn't manually specified. Used with ``DEFAULT_CHARSET`` to construct the\n DEFAULT_FILE_STORAGE\n --------------------\n \n-Default: ``'django.core.files.storage.FileSystemStorage'``\n+Default: :class:`django.core.files.storage.FileSystemStorage`\n \n Default file storage class to be used for any file-related operations that don't\n specify a particular storage system. See :doc:`/topics/files`."
        }
    ],
    "stats": {
        "total": 170,
        "additions": 117,
        "deletions": 53
    }
}