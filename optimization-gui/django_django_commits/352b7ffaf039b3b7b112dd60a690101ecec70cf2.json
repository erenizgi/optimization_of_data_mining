{
    "author": "jezdez",
    "message": "Fixed #16322 -- Fixed Accept-Language parsing to allow spaces around semicolons. Thanks, Max Arnold.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16457 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "352b7ffaf039b3b7b112dd60a690101ecec70cf2",
    "files": [
        {
            "sha": "edecfeca61fb47069610cb4f0a241834613dab7d",
            "filename": "django/utils/translation/trans_real.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/352b7ffaf039b3b7b112dd60a690101ecec70cf2/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "raw_url": "https://github.com/django/django/raw/352b7ffaf039b3b7b112dd60a690101ecec70cf2/django%2Futils%2Ftranslation%2Ftrans_real.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ftranslation%2Ftrans_real.py?ref=352b7ffaf039b3b7b112dd60a690101ecec70cf2",
            "patch": "@@ -30,9 +30,9 @@\n \n # Format of Accept-Language header values. From RFC 2616, section 14.4 and 3.9.\n accept_language_re = re.compile(r'''\n-        ([A-Za-z]{1,8}(?:-[A-Za-z]{1,8})*|\\*)   # \"en\", \"en-au\", \"x-y-z\", \"*\"\n-        (?:;q=(0(?:\\.\\d{,3})?|1(?:.0{,3})?))?   # Optional \"q=1.00\", \"q=0.8\"\n-        (?:\\s*,\\s*|$)                            # Multiple accepts per header.\n+        ([A-Za-z]{1,8}(?:-[A-Za-z]{1,8})*|\\*)         # \"en\", \"en-au\", \"x-y-z\", \"*\"\n+        (?:\\s*;\\s*q=(0(?:\\.\\d{,3})?|1(?:.0{,3})?))?   # Optional \"q=1.00\", \"q=0.8\"\n+        (?:\\s*,\\s*|$)                                 # Multiple accepts per header.\n         ''', re.VERBOSE)\n \n language_code_prefix_re = re.compile(r'^/([\\w-]+)/')"
        },
        {
            "sha": "0b955ad3da90e78d10f6c60f6aa759ad2f4a9977",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/352b7ffaf039b3b7b112dd60a690101ecec70cf2/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/352b7ffaf039b3b7b112dd60a690101ecec70cf2/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=352b7ffaf039b3b7b112dd60a690101ecec70cf2",
            "patch": "@@ -516,6 +516,7 @@ def test_parse_spec_http_header(self):\n         self.assertEqual([('de', 1.0), ('en-au', 0.75), ('en-us', 0.5), ('en', 0.25), ('es', 0.125), ('fa', 0.125)], p('de,en-au;q=0.75,en-us;q=0.5,en;q=0.25,es;q=0.125,fa;q=0.125'))\n         self.assertEqual([('*', 1.0)], p('*'))\n         self.assertEqual([('de', 1.0)], p('de;q=0.'))\n+        self.assertEqual([('en', 1.0), ('*', 0.5)], p('en; q=1.0, * ; q=0.5'))\n         self.assertEqual([], p(''))\n \n         # Bad headers; should always return []."
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}