{
    "author": "claudep",
    "message": "Fixed #17892 -- Do not include whole RegexURLPattern lists in RegexURLResolver repr\n\nThanks milosu for the report and the initial patch.",
    "sha": "28fd876bae15df747d164dcae229840d2cf135ca",
    "files": [
        {
            "sha": "af3df83d0a88d36659cc6c2b8f85c4893abe5873",
            "filename": "django/core/urlresolvers.py",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/28fd876bae15df747d164dcae229840d2cf135ca/django%2Fcore%2Furlresolvers.py",
            "raw_url": "https://github.com/django/django/raw/28fd876bae15df747d164dcae229840d2cf135ca/django%2Fcore%2Furlresolvers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Furlresolvers.py?ref=28fd876bae15df747d164dcae229840d2cf135ca",
            "patch": "@@ -245,8 +245,13 @@ def __init__(self, regex, urlconf_name, default_kwargs=None, app_name=None, name\n         self._app_dict = {}\n \n     def __repr__(self):\n+        if isinstance(self.urlconf_name, list) and len(self.urlconf_name):\n+            # Don't bother to output the whole list, it can be huge\n+            urlconf_repr = '<%s list>' % self.urlconf_name[0].__class__.__name__\n+        else:\n+            urlconf_repr = repr(self.urlconf_name)\n         return force_str('<%s %s (%s:%s) %s>' % (\n-            self.__class__.__name__, self.urlconf_name, self.app_name,\n+            self.__class__.__name__, urlconf_repr, self.app_name,\n             self.namespace, self.regex.pattern))\n \n     def _populate(self):"
        },
        {
            "sha": "168892719ac94e70db7ce718321db06850d73a7c",
            "filename": "tests/regressiontests/urlpatterns_reverse/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 1,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/28fd876bae15df747d164dcae229840d2cf135ca/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/28fd876bae15df747d164dcae229840d2cf135ca/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py?ref=28fd876bae15df747d164dcae229840d2cf135ca",
            "patch": "@@ -6,7 +6,7 @@\n from django.conf import settings\n from django.core.exceptions import ImproperlyConfigured, ViewDoesNotExist\n from django.core.urlresolvers import (reverse, resolve, get_callable,\n-    NoReverseMatch, Resolver404, ResolverMatch, RegexURLResolver,\n+    get_resolver, NoReverseMatch, Resolver404, ResolverMatch, RegexURLResolver,\n     RegexURLPattern)\n from django.http import HttpResponseRedirect, HttpResponsePermanentRedirect\n from django.shortcuts import redirect\n@@ -172,6 +172,16 @@ def test_reverse_none(self):\n         self.assertRaises(NoReverseMatch, reverse, None)\n \n class ResolverTests(unittest.TestCase):\n+    def test_resolver_repr(self):\n+        \"\"\"\n+        Test repr of RegexURLResolver, especially when urlconf_name is a list\n+        (#17892).\n+        \"\"\"\n+        # Pick a resolver from a namespaced urlconf\n+        resolver = get_resolver('regressiontests.urlpatterns_reverse.namespace_urls')\n+        sub_resolver = resolver.namespace_dict['test-ns1'][1]\n+        self.assertIn('<RegexURLPattern list>', repr(sub_resolver))\n+\n     def test_non_regex(self):\n         \"\"\"\n         Verifies that we raise a Resolver404 if what we are resolving doesn't"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 17,
        "deletions": 2
    }
}