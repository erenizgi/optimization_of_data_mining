{
    "author": "claudep",
    "message": "Removed numbering of GEOS tests.",
    "sha": "a768b1d94a708a06be67619e72149d5bb6d286e5",
    "files": [
        {
            "sha": "9946495f541ccd36adac4614208f9df33616e79c",
            "filename": "django/contrib/gis/geos/tests/test_geos.py",
            "status": "modified",
            "additions": 58,
            "deletions": 53,
            "changes": 111,
            "blob_url": "https://github.com/django/django/blob/a768b1d94a708a06be67619e72149d5bb6d286e5/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "raw_url": "https://github.com/django/django/raw/a768b1d94a708a06be67619e72149d5bb6d286e5/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py?ref=a768b1d94a708a06be67619e72149d5bb6d286e5",
            "patch": "@@ -1,26 +1,30 @@\n import ctypes\n import random\n import unittest\n-from django.contrib.gis.geos import *\n+\n+from django.contrib.gis.geos import (GEOSException, GEOSIndexError, GEOSGeometry,\n+    GeometryCollection, Point, MultiPoint, Polygon, MultiPolygon, LinearRing,\n+    LineString, MultiLineString, fromfile, fromstr, geos_version_info)\n from django.contrib.gis.geos.base import gdal, numpy, GEOSBase\n from django.contrib.gis.geos.libgeos import GEOS_PREPARE\n from django.contrib.gis.geometry.test_data import TestDataMixin\n \n+\n class GEOSTest(unittest.TestCase, TestDataMixin):\n \n     @property\n     def null_srid(self):\n         \"\"\"\n         Returns the proper null SRID depending on the GEOS version.\n-        See the comments in `test15_srid` for more details.\n+        See the comments in `test_srid` for more details.\n         \"\"\"\n         info = geos_version_info()\n         if info['version'] == '3.0.0' and info['release_candidate']:\n             return -1\n         else:\n             return None\n \n-    def test00_base(self):\n+    def test_base(self):\n         \"Tests out the GEOSBase class.\"\n         # Testing out GEOSBase class, which provides a `ptr` property\n         # that abstracts out access to underlying C pointers.\n@@ -62,19 +66,19 @@ class FakeGeom2(GEOSBase):\n             self.assertRaises(TypeError, fg1._set_ptr, bad_ptr)\n             self.assertRaises(TypeError, fg2._set_ptr, bad_ptr)\n \n-    def test01a_wkt(self):\n+    def test_wkt(self):\n         \"Testing WKT output.\"\n         for g in self.geometries.wkt_out:\n             geom = fromstr(g.wkt)\n             self.assertEqual(g.ewkt, geom.wkt)\n \n-    def test01b_hex(self):\n+    def test_hex(self):\n         \"Testing HEX output.\"\n         for g in self.geometries.hex_wkt:\n             geom = fromstr(g.wkt)\n             self.assertEqual(g.hex, geom.hex)\n \n-    def test01b_hexewkb(self):\n+    def test_hexewkb(self):\n         \"Testing (HEX)EWKB output.\"\n         from binascii import a2b_hex\n \n@@ -124,14 +128,14 @@ def test01b_hexewkb(self):\n         # Redundant sanity check.\n         self.assertEqual(4326, GEOSGeometry(hexewkb_2d).srid)\n \n-    def test01c_kml(self):\n+    def test_kml(self):\n         \"Testing KML output.\"\n         for tg in self.geometries.wkt_out:\n             geom = fromstr(tg.wkt)\n             kml = getattr(tg, 'kml', False)\n             if kml: self.assertEqual(kml, geom.kml)\n \n-    def test01d_errors(self):\n+    def test_errors(self):\n         \"Testing the Error handlers.\"\n         # string-based\n         print(\"\\nBEGIN - expecting GEOS_ERROR; safe to ignore.\\n\")\n@@ -154,23 +158,23 @@ class NotAGeometry(object):\n         # None\n         self.assertRaises(TypeError, GEOSGeometry, None)\n \n-    def test01e_wkb(self):\n+    def test_wkb(self):\n         \"Testing WKB output.\"\n         from binascii import b2a_hex\n         for g in self.geometries.hex_wkt:\n             geom = fromstr(g.wkt)\n             wkb = geom.wkb\n             self.assertEqual(b2a_hex(wkb).upper(), g.hex)\n \n-    def test01f_create_hex(self):\n+    def test_create_hex(self):\n         \"Testing creation from HEX.\"\n         for g in self.geometries.hex_wkt:\n             geom_h = GEOSGeometry(g.hex)\n             # we need to do this so decimal places get normalised\n             geom_t = fromstr(g.wkt)\n             self.assertEqual(geom_t.wkt, geom_h.wkt)\n \n-    def test01g_create_wkb(self):\n+    def test_create_wkb(self):\n         \"Testing creation from WKB.\"\n         from binascii import a2b_hex\n         for g in self.geometries.hex_wkt:\n@@ -180,7 +184,7 @@ def test01g_create_wkb(self):\n             geom_t = fromstr(g.wkt)\n             self.assertEqual(geom_t.wkt, geom_h.wkt)\n \n-    def test01h_ewkt(self):\n+    def test_ewkt(self):\n         \"Testing EWKT.\"\n         srids = (-1, 32140)\n         for srid in srids:\n@@ -191,7 +195,7 @@ def test01h_ewkt(self):\n                 self.assertEqual(srid, poly.shell.srid)\n                 self.assertEqual(srid, fromstr(poly.ewkt).srid) # Checking export\n \n-    def test01i_json(self):\n+    def test_json(self):\n         \"Testing GeoJSON input/output (via GDAL).\"\n         if not gdal or not gdal.GEOJSON: return\n         for g in self.geometries.json_geoms:\n@@ -201,7 +205,7 @@ def test01i_json(self):\n                 self.assertEqual(g.json, geom.geojson)\n             self.assertEqual(GEOSGeometry(g.wkt), GEOSGeometry(geom.json))\n \n-    def test01k_fromfile(self):\n+    def test_fromfile(self):\n         \"Testing the fromfile() factory.\"\n         from io import BytesIO\n         ref_pnt = GEOSGeometry('POINT(5 23)')\n@@ -218,7 +222,7 @@ def test01k_fromfile(self):\n             pnt = fromfile(fh)\n             self.assertEqual(ref_pnt, pnt)\n \n-    def test01k_eq(self):\n+    def test_eq(self):\n         \"Testing equivalence.\"\n         p = fromstr('POINT(5 23)')\n         self.assertEqual(p, p.wkt)\n@@ -233,7 +237,7 @@ def test01k_eq(self):\n             self.assertNotEqual(g, {'foo' : 'bar'})\n             self.assertNotEqual(g, False)\n \n-    def test02a_points(self):\n+    def test_points(self):\n         \"Testing Point objects.\"\n         prev = fromstr('POINT(0 0)')\n         for p in self.geometries.points:\n@@ -288,7 +292,7 @@ def test02a_points(self):\n \n             prev = pnt # setting the previous geometry\n \n-    def test02b_multipoints(self):\n+    def test_multipoints(self):\n         \"Testing MultiPoint objects.\"\n         for mp in self.geometries.multipoints:\n             mpnt = fromstr(mp.wkt)\n@@ -307,7 +311,7 @@ def test02b_multipoints(self):\n                 self.assertEqual(p.empty, False)\n                 self.assertEqual(p.valid, True)\n \n-    def test03a_linestring(self):\n+    def test_linestring(self):\n         \"Testing LineString objects.\"\n         prev = fromstr('POINT(0 0)')\n         for l in self.geometries.linestrings:\n@@ -333,7 +337,7 @@ def test03a_linestring(self):\n             self.assertEqual(ls.wkt, LineString(*tuple(Point(tup) for tup in ls.tuple)).wkt) # Point individual arguments\n             if numpy: self.assertEqual(ls, LineString(numpy.array(ls.tuple))) # as numpy array\n \n-    def test03b_multilinestring(self):\n+    def test_multilinestring(self):\n         \"Testing MultiLineString objects.\"\n         prev = fromstr('POINT(0 0)')\n         for l in self.geometries.multilinestrings:\n@@ -357,7 +361,7 @@ def test03b_multilinestring(self):\n             self.assertEqual(ml.wkt, MultiLineString(*tuple(s.clone() for s in ml)).wkt)\n             self.assertEqual(ml, MultiLineString(*tuple(LineString(s.tuple) for s in ml)))\n \n-    def test04_linearring(self):\n+    def test_linearring(self):\n         \"Testing LinearRing objects.\"\n         for rr in self.geometries.linearrings:\n             lr = fromstr(rr.wkt)\n@@ -373,14 +377,15 @@ def test04_linearring(self):\n             self.assertEqual(lr, LinearRing([list(tup) for tup in lr.tuple]))\n             if numpy: self.assertEqual(lr, LinearRing(numpy.array(lr.tuple)))\n \n-    def test05a_polygons(self):\n-        \"Testing Polygon objects.\"\n-\n-        # Testing `from_bbox` class method\n+    def test_polygons_from_bbox(self):\n+        \"Testing `from_bbox` class method.\"\n         bbox = (-180, -90, 180, 90)\n-        p = Polygon.from_bbox( bbox )\n+        p = Polygon.from_bbox(bbox)\n         self.assertEqual(bbox, p.extent)\n \n+    def test_polygons(self):\n+        \"Testing Polygon objects.\"\n+\n         prev = fromstr('POINT(0 0)')\n         for p in self.geometries.polygons:\n             # Creating the Polygon, testing its properties.\n@@ -437,7 +442,7 @@ def test05a_polygons(self):\n             self.assertEqual(poly.wkt, Polygon(*tuple(r for r in poly)).wkt)\n             self.assertEqual(poly.wkt, Polygon(*tuple(LinearRing(r.tuple) for r in poly)).wkt)\n \n-    def test05b_multipolygons(self):\n+    def test_multipolygons(self):\n         \"Testing MultiPolygon objects.\"\n         print(\"\\nBEGIN - expecting GEOS_NOTICE; safe to ignore.\\n\")\n         prev = fromstr('POINT (0 0)')\n@@ -460,7 +465,7 @@ def test05b_multipolygons(self):\n \n         print(\"\\nEND - expecting GEOS_NOTICE; safe to ignore.\\n\")\n \n-    def test06a_memory_hijinks(self):\n+    def test_memory_hijinks(self):\n         \"Testing Geometry __del__() on rings and polygons.\"\n         #### Memory issues with rings and polygons\n \n@@ -483,7 +488,7 @@ def test06a_memory_hijinks(self):\n         # Access to these rings is OK since they are clones.\n         s1, s2 = str(ring1), str(ring2)\n \n-    def test08_coord_seq(self):\n+    def test_coord_seq(self):\n         \"Testing Coordinate Sequence objects.\"\n         for p in self.geometries.polygons:\n             if p.ext_ring_cs:\n@@ -510,7 +515,7 @@ def test08_coord_seq(self):\n                         cs[i] = tset\n                         self.assertEqual(tset[j], cs[i][j])\n \n-    def test09_relate_pattern(self):\n+    def test_relate_pattern(self):\n         \"Testing relate() and relate_pattern().\"\n         g = fromstr('POINT (0 0)')\n         self.assertRaises(GEOSException, g.relate_pattern, 0, 'invalid pattern, yo')\n@@ -520,7 +525,7 @@ def test09_relate_pattern(self):\n             self.assertEqual(rg.result, a.relate_pattern(b, rg.pattern))\n             self.assertEqual(rg.pattern, a.relate(b))\n \n-    def test10_intersection(self):\n+    def test_intersection(self):\n         \"Testing intersects() and intersection().\"\n         for i in xrange(len(self.geometries.topology_geoms)):\n             a = fromstr(self.geometries.topology_geoms[i].wkt_a)\n@@ -533,7 +538,7 @@ def test10_intersection(self):\n             a &= b # testing __iand__\n             self.assertEqual(i1, a)\n \n-    def test11_union(self):\n+    def test_union(self):\n         \"Testing union().\"\n         for i in xrange(len(self.geometries.topology_geoms)):\n             a = fromstr(self.geometries.topology_geoms[i].wkt_a)\n@@ -545,7 +550,7 @@ def test11_union(self):\n             a |= b # testing __ior__\n             self.assertEqual(u1, a)\n \n-    def test12_difference(self):\n+    def test_difference(self):\n         \"Testing difference().\"\n         for i in xrange(len(self.geometries.topology_geoms)):\n             a = fromstr(self.geometries.topology_geoms[i].wkt_a)\n@@ -557,7 +562,7 @@ def test12_difference(self):\n             a -= b # testing __isub__\n             self.assertEqual(d1, a)\n \n-    def test13_symdifference(self):\n+    def test_symdifference(self):\n         \"Testing sym_difference().\"\n         for i in xrange(len(self.geometries.topology_geoms)):\n             a = fromstr(self.geometries.topology_geoms[i].wkt_a)\n@@ -569,7 +574,7 @@ def test13_symdifference(self):\n             a ^= b # testing __ixor__\n             self.assertEqual(d1, a)\n \n-    def test14_buffer(self):\n+    def test_buffer(self):\n         \"Testing buffer().\"\n         for bg in self.geometries.buffer_geoms:\n             g = fromstr(bg.wkt)\n@@ -597,7 +602,7 @@ def test14_buffer(self):\n                     self.assertAlmostEqual(exp_ring[k][0], buf_ring[k][0], 9)\n                     self.assertAlmostEqual(exp_ring[k][1], buf_ring[k][1], 9)\n \n-    def test15_srid(self):\n+    def test_srid(self):\n         \"Testing the SRID property and keyword.\"\n         # Testing SRID keyword on Point\n         pnt = Point(5, 23, srid=4326)\n@@ -635,7 +640,7 @@ def test15_srid(self):\n         p3 = fromstr(p1.hex, srid=-1) # -1 is intended.\n         self.assertEqual(-1, p3.srid)\n \n-    def test16_mutable_geometries(self):\n+    def test_mutable_geometries(self):\n         \"Testing the mutability of Polygons and Geometry Collections.\"\n         ### Testing the mutability of Polygons ###\n         for p in self.geometries.polygons:\n@@ -699,7 +704,7 @@ def test16_mutable_geometries(self):\n         #self.assertEqual((3.14, 2.71), mpoly[0].shell[0])\n         #del mpoly\n \n-    def test17_threed(self):\n+    def test_threed(self):\n         \"Testing three-dimensional geometries.\"\n         # Testing a 3D Point\n         pnt = Point(2, 3, 8)\n@@ -715,7 +720,7 @@ def test17_threed(self):\n         ls[0] = (1.,2.,3.)\n         self.assertEqual((1.,2.,3.), ls[0])\n \n-    def test18_distance(self):\n+    def test_distance(self):\n         \"Testing the distance() function.\"\n         # Distance to self should be 0.\n         pnt = Point(0, 0)\n@@ -733,7 +738,7 @@ def test18_distance(self):\n         ls2 = LineString((5, 2), (6, 1), (7, 0))\n         self.assertEqual(3, ls1.distance(ls2))\n \n-    def test19_length(self):\n+    def test_length(self):\n         \"Testing the length property.\"\n         # Points have 0 length.\n         pnt = Point(0, 0)\n@@ -751,7 +756,7 @@ def test19_length(self):\n         mpoly = MultiPolygon(poly.clone(), poly)\n         self.assertEqual(8.0, mpoly.length)\n \n-    def test20a_emptyCollections(self):\n+    def test_emptyCollections(self):\n         \"Testing empty geometries and collections.\"\n         gc1 = GeometryCollection([])\n         gc2 = fromstr('GEOMETRYCOLLECTION EMPTY')\n@@ -789,7 +794,7 @@ def test20a_emptyCollections(self):\n             else:\n                 self.assertRaises(GEOSIndexError, g.__getitem__, 0)\n \n-    def test20b_collections_of_collections(self):\n+    def test_collections_of_collections(self):\n         \"Testing GeometryCollection handling of other collections.\"\n         # Creating a GeometryCollection WKT string composed of other\n         # collections and polygons.\n@@ -808,7 +813,7 @@ def test20b_collections_of_collections(self):\n         # And, they should be equal.\n         self.assertEqual(gc1, gc2)\n \n-    def test21_test_gdal(self):\n+    def test_gdal(self):\n         \"Testing `ogr` and `srs` properties.\"\n         if not gdal.HAS_GDAL: return\n         g1 = fromstr('POINT(5 23)')\n@@ -821,7 +826,7 @@ def test21_test_gdal(self):\n         self.assertEqual(g2.hex, g2.ogr.hex)\n         self.assertEqual('WGS 84', g2.srs.name)\n \n-    def test22_copy(self):\n+    def test_copy(self):\n         \"Testing use with the Python `copy` module.\"\n         import copy\n         poly = GEOSGeometry('POLYGON((0 0, 0 23, 23 23, 23 0, 0 0), (5 5, 5 10, 10 10, 10 5, 5 5))')\n@@ -830,7 +835,7 @@ def test22_copy(self):\n         self.assertNotEqual(poly._ptr, cpy1._ptr)\n         self.assertNotEqual(poly._ptr, cpy2._ptr)\n \n-    def test23_transform(self):\n+    def test_transform(self):\n         \"Testing `transform` method.\"\n         if not gdal.HAS_GDAL: return\n         orig = GEOSGeometry('POINT (-104.609 38.255)', 4326)\n@@ -855,7 +860,7 @@ def test23_transform(self):\n             self.assertAlmostEqual(trans.x, p.x, prec)\n             self.assertAlmostEqual(trans.y, p.y, prec)\n \n-    def test23_transform_noop(self):\n+    def test_transform_noop(self):\n         \"\"\" Testing `transform` method (SRID match) \"\"\"\n         # transform() should no-op if source & dest SRIDs match,\n         # regardless of whether GDAL is available.\n@@ -890,7 +895,7 @@ def test23_transform_noop(self):\n         finally:\n             gdal.HAS_GDAL = old_has_gdal\n \n-    def test23_transform_nosrid(self):\n+    def test_transform_nosrid(self):\n         \"\"\" Testing `transform` method (no SRID or negative SRID) \"\"\"\n \n         g = GEOSGeometry('POINT (-104.609 38.255)', srid=None)\n@@ -905,7 +910,7 @@ def test23_transform_nosrid(self):\n         g = GEOSGeometry('POINT (-104.609 38.255)', srid=-1)\n         self.assertRaises(GEOSException, g.transform, 2774, clone=True)\n \n-    def test23_transform_nogdal(self):\n+    def test_transform_nogdal(self):\n         \"\"\" Testing `transform` method (GDAL not available) \"\"\"\n         old_has_gdal = gdal.HAS_GDAL\n         try:\n@@ -919,7 +924,7 @@ def test23_transform_nogdal(self):\n         finally:\n             gdal.HAS_GDAL = old_has_gdal\n \n-    def test24_extent(self):\n+    def test_extent(self):\n         \"Testing `extent` method.\"\n         # The xmin, ymin, xmax, ymax of the MultiPoint should be returned.\n         mp = MultiPoint(Point(5, 23), Point(0, 0), Point(10, 50))\n@@ -935,7 +940,7 @@ def test24_extent(self):\n         xmax, ymax = max(x), max(y)\n         self.assertEqual((xmin, ymin, xmax, ymax), poly.extent)\n \n-    def test25_pickle(self):\n+    def test_pickle(self):\n         \"Testing pickling and unpickling support.\"\n         # Using both pickle and cPickle -- just 'cause.\n         import pickle, cPickle\n@@ -958,7 +963,7 @@ def get_geoms(lst, srid=None):\n                 self.assertEqual(geom, tmpg)\n                 if not no_srid: self.assertEqual(geom.srid, tmpg.srid)\n \n-    def test26_prepared(self):\n+    def test_prepared(self):\n         \"Testing PreparedGeometry support.\"\n         if not GEOS_PREPARE: return\n         # Creating a simple multipolygon and getting a prepared version.\n@@ -974,7 +979,7 @@ def test26_prepared(self):\n             self.assertEqual(mpoly.intersects(pnt), prep.intersects(pnt))\n             self.assertEqual(c, prep.covers(pnt))\n \n-    def test26_line_merge(self):\n+    def test_line_merge(self):\n         \"Testing line merge support\"\n         ref_geoms = (fromstr('LINESTRING(1 1, 1 1, 3 3)'),\n                      fromstr('MULTILINESTRING((1 1, 3 3), (3 3, 4 2))'),\n@@ -985,7 +990,7 @@ def test26_line_merge(self):\n         for geom, merged in zip(ref_geoms, ref_merged):\n             self.assertEqual(merged, geom.merged)\n \n-    def test27_valid_reason(self):\n+    def test_valid_reason(self):\n         \"Testing IsValidReason support\"\n         # Skipping tests if GEOS < v3.1.\n         if not GEOS_PREPARE: return\n@@ -1005,7 +1010,7 @@ def test27_valid_reason(self):\n \n         print(\"\\nEND - expecting GEOS_NOTICE; safe to ignore.\\n\")\n \n-    def test28_geos_version(self):\n+    def test_geos_version(self):\n         \"Testing the GEOS version regular expression.\"\n         from django.contrib.gis.geos.libgeos import version_regex\n         versions = [ ('3.0.0rc4-CAPI-1.3.3', '3.0.0'),"
        }
    ],
    "stats": {
        "total": 111,
        "additions": 58,
        "deletions": 53
    }
}