{
    "author": "jezdez",
    "message": "Fixed #15705 -- Added Croatian (hr) localflavor. Thanks, Zlatko Mašek and Julien Phalip.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16077 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "7478aeb0a7f0726e7099586a30f980f369d676e6",
    "files": [
        {
            "sha": "57601283684dd6823bd868d2b2e2a11110b3c714",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -531,6 +531,7 @@ answer newbie questions, and generally made Django that much better:\n     Gasper Zejn <zejn@kiberpipa.org>\n     Jarek Zgoda <jarek.zgoda@gmail.com>\n     Cheng Zhang\n+    Zlatko Mašek <zlatko.masek@gmail.com>\n \n A big THANK YOU goes to:\n "
        },
        {
            "sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391",
            "filename": "django/contrib/localflavor/hr/__init__.py",
            "status": "added",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2F__init__.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6"
        },
        {
            "sha": "7bc9ba153a1c6fb2e7ecbd6223e71b55abe0fca8",
            "filename": "django/contrib/localflavor/hr/forms.py",
            "status": "added",
            "additions": 281,
            "deletions": 0,
            "changes": 281,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2Fforms.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -0,0 +1,281 @@\n+# -*- coding: utf-8 -*-\n+\"\"\"\n+HR-specific Form helpers\n+\"\"\"\n+import re\n+\n+from django.forms.fields import Field, Select, RegexField\n+from django.core.validators import EMPTY_VALUES\n+from django.forms import ValidationError\n+from django.utils.translation import ugettext_lazy as _\n+from django.utils.encoding import smart_unicode\n+\n+jmbg_re = re.compile(r'^(?P<dd>\\d{2})(?P<mm>\\d{2})(?P<yyy>\\d{3})' + \\\n+            r'(?P<rr>\\d{2})(?P<bbb>\\d{3})(?P<k>\\d{1})$')\n+oib_re = re.compile(r'^\\d{11}$')\n+plate_re = re.compile(ur'^(?P<prefix>[A-ZČŠŽ]{2})' + \\\n+            ur'(?P<number>\\d{3,4})(?P<suffix>[ABCDEFGHIJKLMNOPRSTUVZ]{1,2})$')\n+postal_code_re = re.compile(r'^\\d{5}$')\n+phone_re = re.compile(r'^(\\+385|00385|0)(?P<prefix>\\d{2})(?P<number>\\d{6,7})$')\n+jmbag_re = re.compile(r'^601983(?P<copy>\\d{1})1(?P<jmbag>\\d{10})(?P<k>\\d{1})$')\n+\n+\n+class HRCountySelect(Select):\n+    \"\"\"\n+    A Select widget that uses a list of counties of Croatia as its choices.\n+    \"\"\"\n+\n+    def __init__(self, attrs=None):\n+        from hr_choices import HR_COUNTY_CHOICES\n+        super(HRCountySelect, self).__init__(attrs, choices=HR_COUNTY_CHOICES)\n+\n+\n+class HRLicensePlatePrefixSelect(Select):\n+    \"\"\"\n+    A Select widget that uses a list of vehicle license plate prefixes of\n+    Croatia as its choices.\n+    \"\"\"\n+\n+    def __init__(self, attrs=None):\n+        from hr_choices import HR_LICENSE_PLATE_PREFIX_CHOICES\n+        super(HRLicensePlatePrefixSelect, self).__init__(attrs,\n+            choices=HR_LICENSE_PLATE_PREFIX_CHOICES)\n+\n+\n+class HRPhoneNumberPrefixSelect(Select):\n+    \"\"\"\n+    A Select widget that uses a list of phone number prefixes of Croatia as its\n+    choices.\n+    \"\"\"\n+\n+    def __init__(self, attrs=None):\n+        from hr_choices import HR_PHONE_NUMBER_PREFIX_CHOICES\n+        super(HRPhoneNumberPrefixSelect, self).__init__(attrs,\n+            choices=HR_PHONE_NUMBER_PREFIX_CHOICES)\n+\n+\n+class HRJMBGField(Field):\n+    \"\"\"\n+    Unique Master Citizen Number (JMBG) field.\n+    The number is still in use in Croatia, but it is being replaced by OIB.\n+\n+    Source: http://en.wikipedia.org/wiki/Unique_Master_Citizen_Number\n+\n+    For who might be reimplementing:\n+    The \"area\" regular expression group is used to calculate the region where a\n+    person was registered. Additional validation can be implemented in\n+    accordance with it, however this could result in exclusion of legit\n+    immigrated citizens. Therefore, this field works for any ex-Yugoslavia\n+    country.\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid 13 digit JMBG'),\n+        'date': _('Error in date segment'),\n+    }\n+\n+    def clean(self, value):\n+        super(HRJMBGField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        value = value.strip()\n+\n+        matches = jmbg_re.search(value)\n+        if matches is None:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        # Make sure the date part is correct.\n+        dd = int(matches.group('dd'))\n+        mm = int(matches.group('mm'))\n+        yyy = int(matches.group('yyy'))\n+        import datetime\n+        try:\n+            datetime.date(yyy,mm,dd)\n+        except:\n+            raise ValidationError(self.error_messages['date'])\n+\n+        # Validate checksum.\n+        k = matches.group('k')\n+        checksum = 0\n+        for i,j in zip(range(7,1,-1),range(6)):\n+            checksum+=i*(int(value[j])+int(value[13-i]))\n+        m = 11 - checksum % 11\n+        if m == 10:\n+            raise ValidationError(self.error_messages['invalid'])\n+        if m == 11 and k != '0':\n+            raise ValidationError(self.error_messages['invalid'])\n+        if not str(m) == k:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        return u'%s' % (value, )\n+\n+\n+class HROIBField(RegexField):\n+    \"\"\"\n+    Personal Identification Number of Croatia (OIB) field.\n+\n+    http://www.oib.hr/\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid 11 digit OIB'),\n+    }\n+\n+    def __init__(self, *args, **kwargs):\n+        super(HROIBField, self).__init__(r'^\\d{11}$',\n+            min_length=11, max_length=11, *args, **kwargs)\n+\n+    def clean(self, value):\n+        super(HROIBField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        return '%s' % (value, )\n+\n+\n+class HRLicensePlateField(Field):\n+    \"\"\"\n+    Vehicle license plate of Croatia field. Normalizes to the specific format\n+    below. Suffix is constructed from the shared letters of the Croatian and\n+    English alphabets.\n+\n+    Format examples:\n+        SB 123-A\n+        (but also supports more characters)\n+        ZG 1234-AA\n+\n+    Used for standardized license plates only.\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid vehicle license plate number'),\n+        'area': _('Enter a valid location code'),\n+        'number': _('Number part cannot be zero'),\n+    }\n+\n+    def clean(self, value):\n+        super(HRLicensePlateField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        value = re.sub(r'[\\s\\-]+', '', smart_unicode(value.strip())).upper()\n+\n+        matches = plate_re.search(value)\n+        if matches is None:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        # Make sure the prefix is in the list of known codes.\n+        from hr_choices import HR_LICENSE_PLATE_PREFIX_CHOICES\n+        prefix = matches.group('prefix')\n+        if prefix not in [choice[0] for choice in HR_LICENSE_PLATE_PREFIX_CHOICES]:\n+            raise ValidationError(self.error_messages['area'])\n+\n+        # Make sure the number portion is not zero.\n+        number = matches.group('number')\n+        if int(number) == 0:\n+            raise ValidationError(self.error_messages['number'])\n+\n+        return u'%s %s-%s' % (prefix,number,matches.group('suffix'), )\n+\n+\n+class HRPostalCodeField(Field):\n+    \"\"\"\n+    Postal code of Croatia field.\n+    It consists of exactly five digits ranging from 10000 to possibly less than\n+    60000.\n+\n+    http://www.posta.hr/main.aspx?id=66\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid 5 digit postal code'),\n+    }\n+\n+    def clean(self, value):\n+        super(HRPostalCodeField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        value = value.strip()\n+        if not postal_code_re.search(value):\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        # Make sure the number is in valid range.\n+        if not 9999<int(value)<60000:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        return '%s' % (value, )\n+\n+\n+class HRPhoneNumberField(Field):\n+    \"\"\"\n+    Phone number of Croatia field.\n+    Format: Complete country code or leading zero, area code prefix, 6 or 7\n+    digit number.\n+    Validates fixed, mobile and FGSM numbers. Normalizes to a full number with\n+    country code (+385 prefix).\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid phone number'),\n+        'area': _('Enter a valid area or mobile network code'),\n+        'number': _('The phone nubmer is too long'),\n+    }\n+\n+    def clean(self, value):\n+        super(HRPhoneNumberField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        value = re.sub(r'[\\-\\s\\(\\)]', '', smart_unicode(value))\n+\n+        matches = phone_re.search(value)\n+        if matches is None:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        # Make sure the prefix is in the list of known codes.\n+        from hr_choices import HR_PHONE_NUMBER_PREFIX_CHOICES\n+        prefix = matches.group('prefix')\n+        number = matches.group('number')\n+        if prefix[0] == '1':\n+            number = prefix[1] + number\n+            prefix = prefix[0]\n+        if prefix not in [choice[0] for choice in HR_PHONE_NUMBER_PREFIX_CHOICES]:\n+            raise ValidationError(self.error_messages['area'])\n+\n+        # Make sure the number is of adequate length.\n+        if prefix=='1' and len(number)!=7:\n+            raise ValidationError(self.error_messages['number'])\n+\n+        return '%s%s%s' % ('+385',prefix,number)\n+\n+\n+class HRJMBAGField(Field):\n+    \"\"\"\n+    Unique Master Academic Citizen Number of Croatia (JMBAG) field.\n+    This number is used by college students and professors in Croatia.\n+\n+    http://www.cap.srce.hr/IzgledX.aspx\n+    \"\"\"\n+    default_error_messages = {\n+        'invalid': _('Enter a valid 19 digit JMBAG starting with 601983'),\n+        'copy': _('Card issue number cannot be zero'),\n+    }\n+\n+    def clean(self, value):\n+        super(HRJMBAGField, self).clean(value)\n+        if value in EMPTY_VALUES:\n+            return u''\n+\n+        value = re.sub(r'[\\-\\s]', '', value.strip())\n+\n+        matches = jmbag_re.search(value)\n+        if matches is None:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        # Make sure the issue number is not zero.\n+        if matches.group('copy')=='0':\n+            raise ValidationError(self.error_messages['copy'])\n+\n+        # Validate checksum using Luhn algorithm.\n+        num = [int(x) for x in value]\n+        if not sum(num[::-2] + [sum(divmod(d * 2, 10)) for d in num[-2::-2]]) % 10 == 0:\n+            raise ValidationError(self.error_messages['invalid'])\n+\n+        return '%s' % (value, )"
        },
        {
            "sha": "24d3d42c5be02c40ba15539ff430d6a9e6280a7e",
            "filename": "django/contrib/localflavor/hr/hr_choices.py",
            "status": "added",
            "additions": 110,
            "deletions": 0,
            "changes": 110,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Fhr%2Fhr_choices.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -0,0 +1,110 @@\n+# -*- coding: utf-8 -*-\n+\"\"\"\n+Sources:\n+    Croatian Counties: http://en.wikipedia.org/wiki/ISO_3166-2:HR\n+\n+    Croatia doesn't have official abbreviations for counties.\n+    The ones provided are in common use.\n+\"\"\"\n+from django.utils.translation import ugettext_lazy as _\n+\n+HR_COUNTY_CHOICES = (\n+    ('GZG', _('Grad Zagreb')),\n+    (u'BBŽ', _(u'Bjelovarsko-bilogorska županija')),\n+    (u'BPŽ', _(u'Brodsko-posavska županija')),\n+    (u'DNŽ', _(u'Dubrovačko-neretvanska županija')),\n+    (u'IŽ', _(u'Istarska županija')),\n+    (u'KŽ', _(u'Karlovačka županija')),\n+    (u'KKŽ', _(u'Koprivničko-križevačka županija')),\n+    (u'KZŽ', _(u'Krapinsko-zagorska županija')),\n+    (u'LSŽ', _(u'Ličko-senjska županija')),\n+    (u'MŽ', _(u'Međimurska županija')),\n+    (u'OBŽ', _(u'Osječko-baranjska županija')),\n+    (u'PSŽ', _(u'Požeško-slavonska županija')),\n+    (u'PGŽ', _(u'Primorsko-goranska županija')),\n+    (u'SMŽ', _(u'Sisačko-moslavačka županija')),\n+    (u'SDŽ', _(u'Splitsko-dalmatinska županija')),\n+    (u'ŠKŽ', _(u'Šibensko-kninska županija')),\n+    (u'VŽ', _(u'Varaždinska županija')),\n+    (u'VPŽ', _(u'Virovitičko-podravska županija')),\n+    (u'VSŽ', _(u'Vukovarsko-srijemska županija')),\n+    (u'ZDŽ', _(u'Zadarska županija')),\n+    (u'ZGŽ', _(u'Zagrebačka županija')),\n+)\n+\n+\"\"\"\n+Sources:\n+http://hr.wikipedia.org/wiki/Dodatak:Popis_registracijskih_oznaka_za_cestovna_vozila_u_Hrvatskoj\n+\n+Only common license plate prefixes are provided. Special cases and obsolete prefixes are omitted.\n+\"\"\"\n+\n+HR_LICENSE_PLATE_PREFIX_CHOICES = (\n+    ('BJ', 'BJ'),\n+    ('BM', 'BM'),\n+    (u'ČK', u'ČK'),\n+    ('DA', 'DA'),\n+    ('DE', 'DE'),\n+    ('DJ', 'DJ'),\n+    ('DU', 'DU'),\n+    ('GS', 'GS'),\n+    ('IM', 'IM'),\n+    ('KA', 'KA'),\n+    ('KC', 'KC'),\n+    ('KR', 'KR'),\n+    ('KT', 'KT'),\n+    (u'KŽ', u'KŽ'),\n+    ('MA', 'MA'),\n+    ('NA', 'NA'),\n+    ('NG', 'NG'),\n+    ('OG', 'OG'),\n+    ('OS', 'OS'),\n+    ('PU', 'PU'),\n+    (u'PŽ', u'PŽ'),\n+    ('RI', 'RI'),\n+    ('SB', 'SB'),\n+    ('SK', 'SK'),\n+    ('SL', 'SL'),\n+    ('ST', 'ST'),\n+    (u'ŠI', u'ŠI'),\n+    ('VK', 'VK'),\n+    ('VT', 'VT'),\n+    ('VU', 'VU'),\n+    (u'VŽ', u'VŽ'),\n+    ('ZD', 'ZD'),\n+    ('ZG', 'ZG'),\n+    (u'ŽU', u'ŽU'),\n+)\n+\n+\"\"\"\n+The list includes county and cellular network phone number prefixes.\n+\"\"\"\n+\n+HR_PHONE_NUMBER_PREFIX_CHOICES = (\n+    ('1', '01'),\n+    ('20', '020'),\n+    ('21', '021'),\n+    ('22', '022'),\n+    ('23', '023'),\n+    ('31', '031'),\n+    ('32', '032'),\n+    ('33', '033'),\n+    ('34', '034'),\n+    ('35', '035'),\n+    ('40', '040'),\n+    ('42', '042'),\n+    ('43', '043'),\n+    ('44', '044'),\n+    ('47', '047'),\n+    ('48', '048'),\n+    ('49', '049'),\n+    ('51', '051'),\n+    ('52', '052'),\n+    ('53', '053'),\n+    ('91', '091'),\n+    ('92', '092'),\n+    ('95', '095'),\n+    ('97', '097'),\n+    ('98', '098'),\n+    ('99', '099'),\n+)"
        },
        {
            "sha": "f27f57c8b091e6ad94c892984715f146d19bb976",
            "filename": "docs/ref/contrib/localflavor.txt",
            "status": "modified",
            "additions": 68,
            "deletions": 0,
            "changes": 68,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/docs%2Fref%2Fcontrib%2Flocalflavor.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Flocalflavor.txt?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -44,6 +44,7 @@ Countries currently supported by :mod:`~django.contrib.localflavor` are:\n     * Canada_\n     * Chile_\n     * China_\n+    * Croatia_\n     * Czech_\n     * Finland_\n     * France_\n@@ -95,6 +96,7 @@ Here's an example of how to use them::\n .. _Canada: `Canada (ca)`_\n .. _Chile: `Chile (cl)`_\n .. _China: `China (cn)`_\n+.. _Croatia: `Croatia (hr)`_\n .. _Czech: `Czech (cz)`_\n .. _Finland: `Finland (fi)`_\n .. _France: `France (fr)`_\n@@ -374,6 +376,72 @@ China (``cn``)\n     Valid formats are like 1XXXXXXXXXX, where X is digit.\n     The second digit could only be 3, 5 and 8.\n \n+Croatia (``hr``)\n+==============\n+\n+.. versionadded:: 1.4\n+\n+.. class:: hr.forms.HRCountySelect\n+\n+    A ``Select`` widget that uses a list of counties of Croatia as its choices.\n+\n+.. class:: hr.forms.HRPhoneNumberPrefixSelect\n+\n+    A ``Select`` widget that uses a list of phone number prefixes of Croatia as\n+    its choices.\n+\n+.. class:: hr.forms.HRLicensePlatePrefixSelect\n+\n+    A ``Select`` widget that uses a list of vehicle license plate prefixes of\n+    Croatia as its choices.\n+\n+.. class:: hr.forms.HRPhoneNumberField\n+\n+    A form field that validates input as a phone number of Croatia.\n+    A valid format is a country code or a leading zero, area code prefix, 6 or 7\n+    digit number; e.g. +385XXXXXXXX or 0XXXXXXXX\n+    Validates fixed, mobile and FGSM numbers. Normalizes to a full number with\n+    country code (+385 prefix).\n+\n+.. class:: hr.forms.HRLicensePlateField\n+\n+    A form field that validates input as a vehicle license plate of Croatia.\n+    Normalizes to the specific format XX YYYY-XX where X is a letter and Y a\n+    digit. There can be three or four digits.\n+    Suffix is constructed from the shared letters of the Croatian and English\n+    alphabets.\n+    It is used for standardized license plates only. Special cases like license\n+    plates for oldtimers, temporary license plates, government institution\n+    license plates and customized license plates are not covered by this field.\n+\n+.. class:: hr.forms.HRPostalCodeField\n+\n+    A form field that validates input as a postal code of Croatia.\n+    It consists of exactly five digits ranging from 10000 to 59999 inclusive.\n+\n+.. class:: hr.forms.HROIBField\n+\n+    A form field that validates input as a Personal Identification Number (OIB)\n+    of Croatia.\n+    It consists of exactly eleven digits.\n+\n+.. class:: hr.forms.HRJMBGField\n+\n+    A form field that validates input as a Unique Master Citizen Number (JMBG).\n+    The number is still in use in Croatia, but it is being replaced by OIB.\n+    This field works for other ex-Yugoslavia countries as well where the JMBG is\n+    still in use.\n+    The area segment of the JMBG is not validated because the citizens might\n+    have emigrated to another ex-Yugoslavia country.\n+    The number consists of exactly thirteen digits.\n+\n+.. class:: hr.forms.HRJMBAGField\n+\n+    A form field that validates input as a Unique Master Academic Citizen Number\n+    (JMBAG) of Croatia.\n+    This number is used by college students and professors in Croatia.\n+    The number consists of exactly nineteen digits.\n+\n Czech (``cz``)\n ==============\n "
        },
        {
            "sha": "5a7a6b167da2fb57ded39b82ff5c598ab083c16b",
            "filename": "tests/regressiontests/forms/localflavor/hr.py",
            "status": "added",
            "additions": 190,
            "deletions": 0,
            "changes": 190,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fhr.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fhr.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavor%2Fhr.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -0,0 +1,190 @@\n+# -*- coding: utf-8 -*-\n+from django.contrib.localflavor.hr.forms import (HRCountySelect,\n+    HRPhoneNumberPrefixSelect, HRLicensePlatePrefixSelect, HRPhoneNumberField,\n+    HRLicensePlateField, HRPostalCodeField, HROIBField, HRJMBGField,\n+    HRJMBAGField)\n+\n+from utils import LocalFlavorTestCase\n+\n+class HRLocalFlavorTests(LocalFlavorTestCase):\n+    def test_HRCountySelect(self):\n+        f = HRCountySelect()\n+        out = u'''<select name=\"county\">\n+<option value=\"GZG\" selected=\"selected\">Grad Zagreb</option>\n+<option value=\"BBŽ\">Bjelovarsko-bilogorska županija</option>\n+<option value=\"BPŽ\">Brodsko-posavska županija</option>\n+<option value=\"DNŽ\">Dubrovačko-neretvanska županija</option>\n+<option value=\"IŽ\">Istarska županija</option>\n+<option value=\"KŽ\">Karlovačka županija</option>\n+<option value=\"KKŽ\">Koprivničko-križevačka županija</option>\n+<option value=\"KZŽ\">Krapinsko-zagorska županija</option>\n+<option value=\"LSŽ\">Ličko-senjska županija</option>\n+<option value=\"MŽ\">Međimurska županija</option>\n+<option value=\"OBŽ\">Osječko-baranjska županija</option>\n+<option value=\"PSŽ\">Požeško-slavonska županija</option>\n+<option value=\"PGŽ\">Primorsko-goranska županija</option>\n+<option value=\"SMŽ\">Sisačko-moslavačka županija</option>\n+<option value=\"SDŽ\">Splitsko-dalmatinska županija</option>\n+<option value=\"ŠKŽ\">Šibensko-kninska županija</option>\n+<option value=\"VŽ\">Varaždinska županija</option>\n+<option value=\"VPŽ\">Virovitičko-podravska županija</option>\n+<option value=\"VSŽ\">Vukovarsko-srijemska županija</option>\n+<option value=\"ZDŽ\">Zadarska županija</option>\n+<option value=\"ZGŽ\">Zagrebačka županija</option>\n+</select>'''\n+        self.assertEqual(f.render('county', 'GZG'), out)\n+\n+    def test_HRPhoneNumberPrefixSelect(self):\n+        f = HRPhoneNumberPrefixSelect()\n+        out = u'''<select name=\"phone\">\n+<option value=\"1\" selected=\"selected\">01</option>\n+<option value=\"20\">020</option>\n+<option value=\"21\">021</option>\n+<option value=\"22\">022</option>\n+<option value=\"23\">023</option>\n+<option value=\"31\">031</option>\n+<option value=\"32\">032</option>\n+<option value=\"33\">033</option>\n+<option value=\"34\">034</option>\n+<option value=\"35\">035</option>\n+<option value=\"40\">040</option>\n+<option value=\"42\">042</option>\n+<option value=\"43\">043</option>\n+<option value=\"44\">044</option>\n+<option value=\"47\">047</option>\n+<option value=\"48\">048</option>\n+<option value=\"49\">049</option>\n+<option value=\"51\">051</option>\n+<option value=\"52\">052</option>\n+<option value=\"53\">053</option>\n+<option value=\"91\">091</option>\n+<option value=\"92\">092</option>\n+<option value=\"95\">095</option>\n+<option value=\"97\">097</option>\n+<option value=\"98\">098</option>\n+<option value=\"99\">099</option>\n+</select>'''\n+        self.assertEqual(f.render('phone', '1'), out)\n+\n+    def test_HRLicensePlatePrefixSelect(self):\n+        f = HRLicensePlatePrefixSelect()\n+        out = u'''<select name=\"license\">\n+<option value=\"BJ\" selected=\"selected\">BJ</option>\n+<option value=\"BM\">BM</option>\n+<option value=\"ČK\">ČK</option>\n+<option value=\"DA\">DA</option>\n+<option value=\"DE\">DE</option>\n+<option value=\"DJ\">DJ</option>\n+<option value=\"DU\">DU</option>\n+<option value=\"GS\">GS</option>\n+<option value=\"IM\">IM</option>\n+<option value=\"KA\">KA</option>\n+<option value=\"KC\">KC</option>\n+<option value=\"KR\">KR</option>\n+<option value=\"KT\">KT</option>\n+<option value=\"KŽ\">KŽ</option>\n+<option value=\"MA\">MA</option>\n+<option value=\"NA\">NA</option>\n+<option value=\"NG\">NG</option>\n+<option value=\"OG\">OG</option>\n+<option value=\"OS\">OS</option>\n+<option value=\"PU\">PU</option>\n+<option value=\"PŽ\">PŽ</option>\n+<option value=\"RI\">RI</option>\n+<option value=\"SB\">SB</option>\n+<option value=\"SK\">SK</option>\n+<option value=\"SL\">SL</option>\n+<option value=\"ST\">ST</option>\n+<option value=\"ŠI\">ŠI</option>\n+<option value=\"VK\">VK</option>\n+<option value=\"VT\">VT</option>\n+<option value=\"VU\">VU</option>\n+<option value=\"VŽ\">VŽ</option>\n+<option value=\"ZD\">ZD</option>\n+<option value=\"ZG\">ZG</option>\n+<option value=\"ŽU\">ŽU</option>\n+</select>'''\n+        self.assertEqual(f.render('license', 'BJ'), out)\n+\n+    def test_HRPhoneNumberField(self):\n+        error_invalid = [u'Enter a valid phone number']\n+        error_area = [u'Enter a valid area or mobile network code']\n+        error_number = [u'The phone nubmer is too long']\n+        valid = {\n+            '+38511234567': '+38511234567',\n+            '0038511234567': '+38511234567',\n+            '011234567': '+38511234567',\n+            '+38521123456': '+38521123456',\n+            '0038521123456': '+38521123456',\n+            '021123456': '+38521123456',\n+        }\n+        invalid = {\n+            '123456789': error_invalid,\n+            '0811234567': error_area,\n+            '0111234567': error_number,\n+        }\n+        self.assertFieldOutput(HRPhoneNumberField, valid, invalid)\n+\n+    def test_HRLicensePlateField(self):\n+        error_invalid = [u'Enter a valid vehicle license plate number']\n+        error_area = [u'Enter a valid location code']\n+        error_number = [u'Number part cannot be zero']\n+        valid = {\n+            'ZG 1234-AA': u'ZG 1234-AA',\n+            'ZG 123-A': u'ZG 123-A',\n+        }\n+        invalid = {\n+            'PV12345': error_invalid,\n+            'PV1234AA': error_area,\n+            'ZG0000CC': error_number,\n+        }\n+        self.assertFieldOutput(HRLicensePlateField, valid, invalid)\n+\n+    def test_HRPostalCodeField(self):\n+        error_invalid = [u'Enter a valid 5 digit postal code']\n+        valid = {\n+            '10000': '10000',\n+            '35410': '35410',\n+        }\n+        invalid = {\n+            'ABCD': error_invalid,\n+            '99999': error_invalid,\n+        }\n+        self.assertFieldOutput(HRPostalCodeField, valid, invalid)\n+\n+    def test_HROIBField(self):\n+        error_invalid = [u'Enter a valid 11 digit OIB']\n+        valid = {\n+            '12345678901': '12345678901',\n+        }\n+        invalid = {\n+            '1234567890': error_invalid,\n+            'ABCDEFGHIJK': error_invalid,\n+        }\n+        self.assertFieldOutput(HROIBField, valid, invalid)\n+\n+    def test_HRJMBGField(self):\n+        error_invalid = [u'Enter a valid 13 digit JMBG']\n+        error_date = [u'Error in date segment']\n+        valid = {\n+            '1211984302155': '1211984302155',\n+            '2701984307107': '2701984307107',\n+        }\n+        invalid = {\n+            '1211984302156': error_invalid,\n+            'ABCDEFG': error_invalid,\n+            '9999999123456': error_date,\n+        }\n+        self.assertFieldOutput(HRJMBGField, valid, invalid)\n+\n+    def test_HRJMBAGField(self):\n+        error_invalid = [u'Enter a valid 19 digit JMBAG starting with 601983']\n+        error_copy = [u'Card issue number cannot be zero']\n+        valid = {\n+            '601983 11 0130185856 4': '6019831101301858564',\n+        }\n+        invalid = {\n+            '601983 11 0130185856 5': error_invalid,\n+            '601983 01 0130185856 4': error_copy,\n+        }\n+        self.assertFieldOutput(HRJMBAGField, valid, invalid)"
        },
        {
            "sha": "73f46a7201e7aeb3599b6f60443b5489157d4134",
            "filename": "tests/regressiontests/forms/localflavortests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Flocalflavortests.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Flocalflavortests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Flocalflavortests.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -13,6 +13,7 @@\n from localflavor.fi import FILocalFlavorTests\n from localflavor.fr import FRLocalFlavorTests\n from localflavor.generic import GenericLocalFlavorTests\n+from localflavor.hr import HRLocalFlavorTests\n from localflavor.id import IDLocalFlavorTests\n from localflavor.ie import IELocalFlavorTests\n from localflavor.il import ILLocalFlavorTests"
        },
        {
            "sha": "2d8f9e9efeaedc27f2c2588fd9cf114e673d516c",
            "filename": "tests/regressiontests/forms/tests/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Ftests%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/7478aeb0a7f0726e7099586a30f980f369d676e6/tests%2Fregressiontests%2Fforms%2Ftests%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2F__init__.py?ref=7478aeb0a7f0726e7099586a30f980f369d676e6",
            "patch": "@@ -27,6 +27,7 @@\n     FILocalFlavorTests,\n     FRLocalFlavorTests,\n     GenericLocalFlavorTests,\n+    HRLocalFlavorTests,\n     IDLocalFlavorTests,\n     IELocalFlavorTests,\n     ILLocalFlavorTests,"
        }
    ],
    "stats": {
        "total": 652,
        "additions": 652,
        "deletions": 0
    }
}