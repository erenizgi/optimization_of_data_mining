{
    "author": "jezdez",
    "message": "Fixed #16403 -- Correctly use ungettext in comments form. Thanks, poirier.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16505 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c6ae0fa549a250fb862436587c88ae6ad81da90c",
    "files": [
        {
            "sha": "bdeac993153767c7835a6a325a631f2bcf76fd8f",
            "filename": "django/contrib/comments/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/c6ae0fa549a250fb862436587c88ae6ad81da90c/django%2Fcontrib%2Fcomments%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/c6ae0fa549a250fb862436587c88ae6ad81da90c/django%2Fcontrib%2Fcomments%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fcomments%2Fforms.py?ref=c6ae0fa549a250fb862436587c88ae6ad81da90c",
            "patch": "@@ -173,11 +173,10 @@ def clean_comment(self):\n         if settings.COMMENTS_ALLOW_PROFANITIES == False:\n             bad_words = [w for w in settings.PROFANITIES_LIST if w in comment.lower()]\n             if bad_words:\n-                plural = len(bad_words) > 1\n                 raise forms.ValidationError(ungettext(\n                     \"Watch your mouth! The word %s is not allowed here.\",\n-                    \"Watch your mouth! The words %s are not allowed here.\", plural) % \\\n-                    get_text_list(['\"%s%s%s\"' % (i[0], '-'*(len(i)-2), i[-1]) for i in bad_words], 'and'))\n+                    \"Watch your mouth! The words %s are not allowed here.\", len(bad_words))\n+                    % get_text_list(['\"%s%s%s\"' % (i[0], '-'*(len(i)-2), i[-1]) for i in bad_words], 'and'))\n         return comment\n \n class CommentForm(CommentDetailsForm):"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 2,
        "deletions": 3
    }
}