{
    "author": "unknown",
    "message": "Removed some now dead code from deletion (thanks to Carl Meyer for noticing it).",
    "sha": "a170c3f755351beb35f8166ec3c7e9d524d9602d",
    "files": [
        {
            "sha": "1c3a582fc54ffc10458274312050666e18b37eaa",
            "filename": "django/db/models/deletion.py",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/a170c3f755351beb35f8166ec3c7e9d524d9602d/django%2Fdb%2Fmodels%2Fdeletion.py",
            "raw_url": "https://github.com/django/django/raw/a170c3f755351beb35f8166ec3c7e9d524d9602d/django%2Fdb%2Fmodels%2Fdeletion.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Fdeletion.py?ref=a170c3f755351beb35f8166ec3c7e9d524d9602d",
            "patch": "@@ -75,7 +75,6 @@ def __init__(self, using):\n         self.using = using\n         # Initially, {model: set([instances])}, later values become lists.\n         self.data = {}\n-        self.batches = {} # {model: {field: set([instances])}}\n         self.field_updates = {} # {model: {(field, value): set([instances])}}\n         # fast_deletes is a list of queryset-likes that can be deleted without\n         # fetching the objects into memory.\n@@ -115,13 +114,6 @@ def add(self, objs, source=None, nullable=False, reverse_dependency=False):\n                 source._meta.concrete_model, set()).add(model._meta.concrete_model)\n         return new_objs\n \n-    def add_batch(self, model, field, objs):\n-        \"\"\"\n-        Schedules a batch delete. Every instance of 'model' that is related to\n-        an instance of 'obj' through 'field' will be deleted.\n-        \"\"\"\n-        self.batches.setdefault(model, {}).setdefault(field, set()).update(objs)\n-\n     def add_field_update(self, field, value, objs):\n         \"\"\"\n         Schedules a field update. 'objs' must be a homogenous iterable\n@@ -303,12 +295,6 @@ def delete(self):\n         for instances in six.itervalues(self.data):\n             instances.reverse()\n \n-        # delete batches\n-        for model, batches in six.iteritems(self.batches):\n-            query = sql.DeleteQuery(model)\n-            for field, instances in six.iteritems(batches):\n-                query.delete_batch([obj.pk for obj in instances], self.using, field)\n-\n         # delete instances\n         for model, instances in six.iteritems(self.data):\n             query = sql.DeleteQuery(model)"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 0,
        "deletions": 14
    }
}