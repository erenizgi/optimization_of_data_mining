{
    "author": "claudep",
    "message": "Removed unnecessary bytes prefix for ContentFile",
    "sha": "b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e",
    "files": [
        {
            "sha": "71ca1032054168b93fefd1c7a6649705a791f78b",
            "filename": "tests/modeltests/files/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e/tests%2Fmodeltests%2Ffiles%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e/tests%2Fmodeltests%2Ffiles%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffiles%2Ftests.py?ref=b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e",
            "patch": "@@ -20,7 +20,7 @@ def tearDown(self):\n         shutil.rmtree(temp_storage_location)\n \n     def test_files(self):\n-        temp_storage.save('tests/default.txt', ContentFile(b'default content'))\n+        temp_storage.save('tests/default.txt', ContentFile('default content'))\n         # Attempting to access a FileField from the class raises a descriptive\n         # error\n         self.assertRaises(AttributeError, lambda: Storage.normal)\n@@ -31,7 +31,7 @@ def test_files(self):\n         self.assertRaises(ValueError, lambda: obj1.normal.size)\n \n         # Saving a file enables full functionality.\n-        obj1.normal.save(\"django_test.txt\", ContentFile(b\"content\"))\n+        obj1.normal.save(\"django_test.txt\", ContentFile(\"content\"))\n         self.assertEqual(obj1.normal.name, \"tests/django_test.txt\")\n         self.assertEqual(obj1.normal.size, 7)\n         self.assertEqual(obj1.normal.read(), b\"content\")\n@@ -59,7 +59,7 @@ def test_files(self):\n \n         # Save another file with the same name.\n         obj2 = Storage()\n-        obj2.normal.save(\"django_test.txt\", ContentFile(b\"more content\"))\n+        obj2.normal.save(\"django_test.txt\", ContentFile(\"more content\"))\n         self.assertEqual(obj2.normal.name, \"tests/django_test_1.txt\")\n         self.assertEqual(obj2.normal.size, 12)\n \n@@ -70,13 +70,13 @@ def test_files(self):\n \n         # Deleting an object does not delete the file it uses.\n         obj2.delete()\n-        obj2.normal.save(\"django_test.txt\", ContentFile(b\"more content\"))\n+        obj2.normal.save(\"django_test.txt\", ContentFile(\"more content\"))\n         self.assertEqual(obj2.normal.name, \"tests/django_test_2.txt\")\n \n         # Multiple files with the same name get _N appended to them.\n         objs = [Storage() for i in range(3)]\n         for o in objs:\n-            o.normal.save(\"multiple_files.txt\", ContentFile(b\"Same Content\"))\n+            o.normal.save(\"multiple_files.txt\", ContentFile(\"Same Content\"))\n         self.assertEqual(\n             [o.normal.name for o in objs],\n             [\"tests/multiple_files.txt\", \"tests/multiple_files_1.txt\", \"tests/multiple_files_2.txt\"]\n@@ -100,7 +100,7 @@ def test_files(self):\n         # Verify the fix for #5655, making sure the directory is only\n         # determined once.\n         obj4 = Storage()\n-        obj4.random.save(\"random_file\", ContentFile(b\"random content\"))\n+        obj4.random.save(\"random_file\", ContentFile(\"random content\"))\n         self.assertTrue(obj4.random.name.endswith(\"/random_file\"))\n \n     def test_max_length(self):"
        },
        {
            "sha": "396e70f5e6e95e9ce66fbee723db7f0852bf14f1",
            "filename": "tests/regressiontests/file_storage/tests.py",
            "status": "modified",
            "additions": 21,
            "deletions": 21,
            "changes": 42,
            "blob_url": "https://github.com/django/django/blob/b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e/tests%2Fregressiontests%2Ffile_storage%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffile_storage%2Ftests.py?ref=b5240d25c1bf724f0008478e7f6cccd0a6d6bd1e",
            "patch": "@@ -128,7 +128,7 @@ def test_file_accessed_time(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('test.file'))\n \n-        f = ContentFile(b'custom contents')\n+        f = ContentFile('custom contents')\n         f_name = self.storage.save('test.file', f)\n         atime = self.storage.accessed_time(f_name)\n \n@@ -144,7 +144,7 @@ def test_file_created_time(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('test.file'))\n \n-        f = ContentFile(b'custom contents')\n+        f = ContentFile('custom contents')\n         f_name = self.storage.save('test.file', f)\n         ctime = self.storage.created_time(f_name)\n \n@@ -161,7 +161,7 @@ def test_file_modified_time(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('test.file'))\n \n-        f = ContentFile(b'custom contents')\n+        f = ContentFile('custom contents')\n         f_name = self.storage.save('test.file', f)\n         mtime = self.storage.modified_time(f_name)\n \n@@ -178,7 +178,7 @@ def test_file_save_without_name(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('test.file'))\n \n-        f = ContentFile(b'custom contents')\n+        f = ContentFile('custom contents')\n         f.name = 'test.file'\n \n         storage_f_name = self.storage.save(None, f)\n@@ -195,7 +195,7 @@ def test_file_save_with_path(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('path/to'))\n         self.storage.save('path/to/test.file',\n-            ContentFile(b'file saved with path'))\n+            ContentFile('file saved with path'))\n \n         self.assertTrue(self.storage.exists('path/to'))\n         with self.storage.open('path/to/test.file') as f:\n@@ -212,7 +212,7 @@ def test_file_path(self):\n         \"\"\"\n         self.assertFalse(self.storage.exists('test.file'))\n \n-        f = ContentFile(b'custom contents')\n+        f = ContentFile('custom contents')\n         f_name = self.storage.save('test.file', f)\n \n         self.assertEqual(self.storage.path(f_name),\n@@ -247,8 +247,8 @@ def test_listdir(self):\n         self.assertFalse(self.storage.exists('storage_test_2'))\n         self.assertFalse(self.storage.exists('storage_dir_1'))\n \n-        f = self.storage.save('storage_test_1', ContentFile(b'custom content'))\n-        f = self.storage.save('storage_test_2', ContentFile(b'custom content'))\n+        f = self.storage.save('storage_test_1', ContentFile('custom content'))\n+        f = self.storage.save('storage_test_2', ContentFile('custom content'))\n         os.mkdir(os.path.join(self.temp_dir, 'storage_dir_1'))\n \n         dirs, files = self.storage.listdir('')\n@@ -305,18 +305,18 @@ def fake_makedirs(path):\n             os.makedirs = fake_makedirs\n \n             self.storage.save('normal/test.file',\n-                ContentFile(b'saved normally'))\n+                ContentFile('saved normally'))\n             with self.storage.open('normal/test.file') as f:\n                 self.assertEqual(f.read(), b'saved normally')\n \n             self.storage.save('raced/test.file',\n-                ContentFile(b'saved with race'))\n+                ContentFile('saved with race'))\n             with self.storage.open('raced/test.file') as f:\n                 self.assertEqual(f.read(), b'saved with race')\n \n             # Check that OSErrors aside from EEXIST are still raised.\n             self.assertRaises(OSError,\n-                self.storage.save, 'error/test.file', ContentFile(b'not saved'))\n+                self.storage.save, 'error/test.file', ContentFile('not saved'))\n         finally:\n             os.makedirs = real_makedirs\n \n@@ -342,16 +342,16 @@ def fake_remove(path):\n         try:\n             os.remove = fake_remove\n \n-            self.storage.save('normal.file', ContentFile(b'delete normally'))\n+            self.storage.save('normal.file', ContentFile('delete normally'))\n             self.storage.delete('normal.file')\n             self.assertFalse(self.storage.exists('normal.file'))\n \n-            self.storage.save('raced.file', ContentFile(b'delete with race'))\n+            self.storage.save('raced.file', ContentFile('delete with race'))\n             self.storage.delete('raced.file')\n             self.assertFalse(self.storage.exists('normal.file'))\n \n             # Check that OSErrors aside from ENOENT are still raised.\n-            self.storage.save('error.file', ContentFile(b'delete with error'))\n+            self.storage.save('error.file', ContentFile('delete with error'))\n             self.assertRaises(OSError, self.storage.delete, 'error.file')\n         finally:\n             os.remove = real_remove\n@@ -375,9 +375,9 @@ class CustomStorageTests(FileStorageTests):\n     storage_class = CustomStorage\n \n     def test_custom_get_available_name(self):\n-        first = self.storage.save('custom_storage', ContentFile(b'custom contents'))\n+        first = self.storage.save('custom_storage', ContentFile('custom contents'))\n         self.assertEqual(first, 'custom_storage')\n-        second = self.storage.save('custom_storage', ContentFile(b'more contents'))\n+        second = self.storage.save('custom_storage', ContentFile('more contents'))\n         self.assertEqual(second, 'custom_storage.2')\n         self.storage.delete(first)\n         self.storage.delete(second)\n@@ -434,7 +434,7 @@ def tearDown(self):\n         shutil.rmtree(self.storage_dir)\n \n     def test_file_upload_permissions(self):\n-        name = self.storage.save(\"the_file\", ContentFile(b\"data\"))\n+        name = self.storage.save(\"the_file\", ContentFile(\"data\"))\n         actual_mode = os.stat(self.storage.path(name))[0] & 0o777\n         self.assertEqual(actual_mode, 0o666)\n \n@@ -454,8 +454,8 @@ def test_directory_with_dot(self):\n         sure we still mangle the file name instead of the directory name.\n         \"\"\"\n \n-        self.storage.save('dotted.path/test', ContentFile(b\"1\"))\n-        self.storage.save('dotted.path/test', ContentFile(b\"2\"))\n+        self.storage.save('dotted.path/test', ContentFile(\"1\"))\n+        self.storage.save('dotted.path/test', ContentFile(\"2\"))\n \n         self.assertFalse(os.path.exists(os.path.join(self.storage_dir, 'dotted_.path')))\n         self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/test')))\n@@ -466,8 +466,8 @@ def test_first_character_dot(self):\n         File names with a dot as their first character don't have an extension,\n         and the underscore should get added to the end.\n         \"\"\"\n-        self.storage.save('dotted.path/.test', ContentFile(b\"1\"))\n-        self.storage.save('dotted.path/.test', ContentFile(b\"2\"))\n+        self.storage.save('dotted.path/.test', ContentFile(\"1\"))\n+        self.storage.save('dotted.path/.test', ContentFile(\"2\"))\n \n         self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/.test')))\n         self.assertTrue(os.path.exists(os.path.join(self.storage_dir, 'dotted.path/.test_1')))"
        }
    ],
    "stats": {
        "total": 54,
        "additions": 27,
        "deletions": 27
    }
}