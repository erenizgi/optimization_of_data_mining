{
    "author": "unknown",
    "message": "Fixed a bunch more tests that were failing in Oracle due to false assumptions about the primary keys of objects.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15789 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f17fc56602f8de37ef8c5565ddf04991e8c91442",
    "files": [
        {
            "sha": "e8ca2b8e5c2adadf6be8e2b7eb3aa2152f87097f",
            "filename": "django/contrib/flatpages/tests/forms.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Ftests%2Fforms.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -1,3 +1,4 @@\n+from django.conf import settings\n from django.contrib.flatpages.admin import FlatpageForm\n from django.test import TestCase\n \n@@ -6,7 +7,7 @@ def setUp(self):\n         self.form_data = {\n             'title': \"A test page\",\n             'content': \"This is a test\",\n-            'sites': [1],\n+            'sites': [settings.SITE_ID],\n         }\n \n     def test_flatpage_admin_form_url_validation(self):"
        },
        {
            "sha": "4452745393fb83f1c2dd0062b1396ca80a0781c5",
            "filename": "django/contrib/flatpages/tests/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/django%2Fcontrib%2Fflatpages%2Ftests%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/django%2Fcontrib%2Fflatpages%2Ftests%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fflatpages%2Ftests%2Fviews.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -68,7 +68,7 @@ def test_view_flatpage_special_chars(self):\n             enable_comments=False,\n             registration_required=False,\n         )\n-        fp.sites.add(1)\n+        fp.sites.add(settings.SITE_ID)\n \n         response = self.client.get('/flatpage_root/some.very_special~chars-here/')\n         self.assertEqual(response.status_code, 200)"
        },
        {
            "sha": "ee32384f0c7b1c5225a63fea95df1849c8dedc3c",
            "filename": "tests/modeltests/field_subclassing/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Ffield_subclassing%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Ffield_subclassing%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffield_subclassing%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -55,7 +55,7 @@ def test_custom_field(self):\n \n         # Serialization works, too.\n         stream = serializers.serialize(\"json\", MyModel.objects.all())\n-        self.assertEqual(stream, '[{\"pk\": 1, \"model\": \"field_subclassing.mymodel\", \"fields\": {\"data\": \"12\", \"name\": \"m\"}}]')\n+        self.assertEqual(stream, '[{\"pk\": %d, \"model\": \"field_subclassing.mymodel\", \"fields\": {\"data\": \"12\", \"name\": \"m\"}}]' % m1.pk)\n \n         obj = list(serializers.deserialize(\"json\", stream))[0]\n         self.assertEqual(obj.object, m)"
        },
        {
            "sha": "31f72f02ca4984a125e14179084feed11905b188",
            "filename": "tests/modeltests/fixtures/tests.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Ffixtures%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Ffixtures%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ffixtures%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -2,6 +2,7 @@\n import sys\n \n from django.conf import settings\n+from django.contrib.sites.models import Site\n from django.core import management\n from django.db import DEFAULT_DB_ALIAS\n from django.test import TestCase, TransactionTestCase, skipUnlessDBFeature\n@@ -45,6 +46,7 @@ def test_initial_data(self):\n     def test_loading_and_dumping(self):\n         new_io = StringIO.StringIO()\n \n+        Site.objects.all().delete()\n         # Load fixture 1. Single JSON file, with two objects.\n         management.call_command('loaddata', 'fixture1.json', verbosity=0, commit=False)\n         self.assertQuerysetEqual(Article.objects.all(), [\n@@ -159,6 +161,7 @@ def test_loading_and_dumping(self):\n \n     def test_dumpdata_with_excludes(self):\n         # Load fixture1 which has a site, two articles, and a category\n+        Site.objects.all().delete()\n         management.call_command('loaddata', 'fixture1.json', verbosity=0, commit=False)\n \n         # Excluding fixtures app should only leave sites\n@@ -200,15 +203,15 @@ def test_dumpdata_with_excludes(self):\n                           exclude_list=['fixtures.FooModel'])\n \n     def test_dumpdata_with_filtering_manager(self):\n-        Spy(name='Paul').save()\n-        Spy(name='Alex', cover_blown=True).save()\n+        spy1 = Spy.objects.create(name='Paul')\n+        spy2 = Spy.objects.create(name='Alex', cover_blown=True)\n         self.assertQuerysetEqual(Spy.objects.all(),\n                                  ['<Spy: Paul>'])\n         # Use the default manager\n-        self._dumpdata_assert(['fixtures.Spy'],'[{\"pk\": 1, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": false}}]')\n+        self._dumpdata_assert(['fixtures.Spy'],'[{\"pk\": %d, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": false}}]' % spy1.pk)\n         # Dump using Django's base manager. Should return all objects,\n         # even those normally filtered by the manager\n-        self._dumpdata_assert(['fixtures.Spy'], '[{\"pk\": 2, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": true}}, {\"pk\": 1, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": false}}]', use_base_manager=True)\n+        self._dumpdata_assert(['fixtures.Spy'], '[{\"pk\": %d, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": true}}, {\"pk\": %d, \"model\": \"fixtures.spy\", \"fields\": {\"cover_blown\": false}}]' % (spy2.pk, spy1.pk), use_base_manager=True)\n \n     def test_compress_format_loading(self):\n         # Load fixture 4 (compressed), using format specification"
        },
        {
            "sha": "9a962ad72ebad92544850015a39d7010b7eafc25",
            "filename": "tests/modeltests/model_forms/models.py",
            "status": "modified",
            "additions": 97,
            "deletions": 90,
            "changes": 187,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fmodel_forms%2Fmodels.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -472,8 +472,8 @@ class FlexibleDatePost(models.Model):\n u'Entertainment'\n >>> f.cleaned_data['slug']\n u'entertainment'\n->>> obj = f.save()\n->>> obj\n+>>> c1 = f.save()\n+>>> c1\n <Category: Entertainment>\n >>> Category.objects.all()\n [<Category: Entertainment>]\n@@ -487,8 +487,8 @@ class FlexibleDatePost(models.Model):\n u\"It's a test\"\n >>> f.cleaned_data['slug']\n u'its-test'\n->>> obj = f.save()\n->>> obj\n+>>> c2 = f.save()\n+>>> c2\n <Category: It's a test>\n >>> Category.objects.order_by('name')\n [<Category: Entertainment>, <Category: It's a test>]\n@@ -505,12 +505,12 @@ class FlexibleDatePost(models.Model):\n u'Third test'\n >>> f.cleaned_data['slug']\n u'third-test'\n->>> obj = f.save(commit=False)\n->>> obj\n+>>> c3 = f.save(commit=False)\n+>>> c3\n <Category: Third test>\n >>> Category.objects.order_by('name')\n [<Category: Entertainment>, <Category: It's a test>]\n->>> obj.save()\n+>>> c3.save()\n >>> Category.objects.order_by('name')\n [<Category: Entertainment>, <Category: It's a test>, <Category: Third test>]\n \n@@ -563,9 +563,9 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></td></tr>\n <tr><th>Categories:</th><td><select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\">Entertainment</option>\n-<option value=\"2\">It&#39;s a test</option>\n-<option value=\"3\">Third test</option>\n+<option value=\"...\">Entertainment</option>\n+<option value=\"...\">It&#39;s a test</option>\n+<option value=\"...\">Third test</option>\n </select><br /><span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></td></tr>\n \n You can restrict a form to a subset of the complete list of fields\n@@ -595,8 +595,9 @@ class FlexibleDatePost(models.Model):\n \n >>> art = Article(headline='Test article', slug='test-article', pub_date=datetime.date(1988, 1, 4), writer=w, article='Hello.')\n >>> art.save()\n->>> art.id\n-1\n+>>> art_id_1 = art.id\n+>>> art_id_1 is not None\n+True\n >>> class TestArticleForm(ModelForm):\n ...     class Meta:\n ...         model = Article\n@@ -618,19 +619,19 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></li>\n <li>Categories: <select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\">Entertainment</option>\n-<option value=\"2\">It&#39;s a test</option>\n-<option value=\"3\">Third test</option>\n+<option value=\"...\">Entertainment</option>\n+<option value=\"...\">It&#39;s a test</option>\n+<option value=\"...\">Third test</option>\n </select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\n >>> f = TestArticleForm({'headline': u'Test headline', 'slug': 'test-headline', 'pub_date': u'1984-02-06', 'writer': unicode(w_royko.pk), 'article': 'Hello.'}, instance=art)\n >>> f.errors\n {}\n >>> f.is_valid()\n True\n >>> test_art = f.save()\n->>> test_art.id\n-1\n->>> test_art = Article.objects.get(id=1)\n+>>> test_art.id == art_id_1\n+True\n+>>> test_art = Article.objects.get(id=art_id_1)\n >>> test_art.headline\n u'Test headline'\n \n@@ -648,9 +649,9 @@ class FlexibleDatePost(models.Model):\n >>> f.is_valid()\n True\n >>> new_art = f.save()\n->>> new_art.id\n-1\n->>> new_art = Article.objects.get(id=1)\n+>>> new_art.id == art_id_1\n+True\n+>>> new_art = Article.objects.get(id=art_id_1)\n >>> new_art.headline\n u'New headline'\n \n@@ -681,13 +682,13 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></li>\n <li>Categories: <select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\" selected=\"selected\">Entertainment</option>\n-<option value=\"2\">It&#39;s a test</option>\n-<option value=\"3\">Third test</option>\n+<option value=\"...\" selected=\"selected\">Entertainment</option>\n+<option value=\"...\">It&#39;s a test</option>\n+<option value=\"...\">Third test</option>\n </select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\n \n Initial values can be provided for model forms\n->>> f = TestArticleForm(auto_id=False, initial={'headline': 'Your headline here', 'categories': ['1','2']})\n+>>> f = TestArticleForm(auto_id=False, initial={'headline': 'Your headline here', 'categories': [str(c1.id), str(c2.id)]})\n >>> print f.as_ul()\n <li>Headline: <input type=\"text\" name=\"headline\" value=\"Your headline here\" maxlength=\"50\" /></li>\n <li>Slug: <input type=\"text\" name=\"slug\" maxlength=\"50\" /></li>\n@@ -705,27 +706,27 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></li>\n <li>Categories: <select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\" selected=\"selected\">Entertainment</option>\n-<option value=\"2\" selected=\"selected\">It&#39;s a test</option>\n-<option value=\"3\">Third test</option>\n+<option value=\"...\" selected=\"selected\">Entertainment</option>\n+<option value=\"...\" selected=\"selected\">It&#39;s a test</option>\n+<option value=\"...\">Third test</option>\n </select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\n \n >>> f = TestArticleForm({'headline': u'New headline', 'slug': u'new-headline', 'pub_date': u'1988-01-04',\n-...     'writer': unicode(w_royko.pk), 'article': u'Hello.', 'categories': [u'1', u'2']}, instance=new_art)\n+...     'writer': unicode(w_royko.pk), 'article': u'Hello.', 'categories': [unicode(c1.id), unicode(c2.id)]}, instance=new_art)\n >>> new_art = f.save()\n->>> new_art.id\n-1\n->>> new_art = Article.objects.get(id=1)\n+>>> new_art.id == art_id_1\n+True\n+>>> new_art = Article.objects.get(id=art_id_1)\n >>> new_art.categories.order_by('name')\n [<Category: Entertainment>, <Category: It's a test>]\n \n Now, submit form data with no categories. This deletes the existing categories.\n >>> f = TestArticleForm({'headline': u'New headline', 'slug': u'new-headline', 'pub_date': u'1988-01-04',\n ...     'writer': unicode(w_royko.pk), 'article': u'Hello.'}, instance=new_art)\n >>> new_art = f.save()\n->>> new_art.id\n-1\n->>> new_art = Article.objects.get(id=1)\n+>>> new_art.id == art_id_1\n+True\n+>>> new_art = Article.objects.get(id=art_id_1)\n >>> new_art.categories.all()\n []\n \n@@ -734,11 +735,12 @@ class FlexibleDatePost(models.Model):\n ...     class Meta:\n ...         model = Article\n >>> f = ArticleForm({'headline': u'The walrus was Paul', 'slug': u'walrus-was-paul', 'pub_date': u'1967-11-01',\n-...     'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [u'1', u'2']})\n+...     'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n >>> new_art = f.save()\n->>> new_art.id\n-2\n->>> new_art = Article.objects.get(id=2)\n+>>> art_id_2 = new_art.id\n+>>> art_id_2 not in (None, art_id_1)\n+True\n+>>> new_art = Article.objects.get(id=art_id_2)\n >>> new_art.categories.order_by('name')\n [<Category: Entertainment>, <Category: It's a test>]\n \n@@ -749,9 +751,10 @@ class FlexibleDatePost(models.Model):\n >>> f = ArticleForm({'headline': u'The walrus was Paul', 'slug': u'walrus-was-paul', 'pub_date': u'1967-11-01',\n ...     'writer': unicode(w_royko.pk), 'article': u'Test.'})\n >>> new_art = f.save()\n->>> new_art.id\n-3\n->>> new_art = Article.objects.get(id=3)\n+>>> art_id_3 = new_art.id\n+>>> art_id_3 not in (None, art_id_1, art_id_2)\n+True\n+>>> new_art = Article.objects.get(id=art_id_3)\n >>> new_art.categories.all()\n []\n \n@@ -761,16 +764,17 @@ class FlexibleDatePost(models.Model):\n ...     class Meta:\n ...         model = Article\n >>> f = ArticleForm({'headline': u'The walrus was Paul', 'slug': 'walrus-was-paul', 'pub_date': u'1967-11-01',\n-...     'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [u'1', u'2']})\n+...     'writer': unicode(w_royko.pk), 'article': u'Test.', 'categories': [unicode(c1.id), unicode(c2.id)]})\n >>> new_art = f.save(commit=False)\n \n # Manually save the instance\n >>> new_art.save()\n->>> new_art.id\n-4\n+>>> art_id_4 = new_art.id\n+>>> art_id_4 not in (None, art_id_1, art_id_2, art_id_3)\n+True\n \n # The instance doesn't have m2m data yet\n->>> new_art = Article.objects.get(id=4)\n+>>> new_art = Article.objects.get(id=art_id_4)\n >>> new_art.categories.all()\n []\n \n@@ -789,12 +793,12 @@ class FlexibleDatePost(models.Model):\n >>> cat = Category.objects.get(name='Third test')\n >>> cat\n <Category: Third test>\n->>> cat.id\n-3\n+>>> cat.id == c3.id\n+True\n >>> form = ShortCategory({'name': 'Third', 'slug': 'third', 'url': '3rd'}, instance=cat)\n >>> form.save()\n <Category: Third>\n->>> Category.objects.get(id=3)\n+>>> Category.objects.get(id=c3.id)\n <Category: Third>\n \n Here, we demonstrate that choices for a ForeignKey ChoiceField are determined\n@@ -821,11 +825,12 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></li>\n <li>Categories: <select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\">Entertainment</option>\n-<option value=\"2\">It&#39;s a test</option>\n-<option value=\"3\">Third</option>\n+<option value=\"...\">Entertainment</option>\n+<option value=\"...\">It&#39;s a test</option>\n+<option value=\"...\">Third</option>\n </select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\n->>> Category.objects.create(name='Fourth', url='4th')\n+>>> c4 = Category.objects.create(name='Fourth', url='4th')\n+>>> c4\n <Category: Fourth>\n >>> Writer.objects.create(name='Carl Bernstein')\n <Writer: Carl Bernstein>\n@@ -847,10 +852,10 @@ class FlexibleDatePost(models.Model):\n <option value=\"3\">Live</option>\n </select></li>\n <li>Categories: <select multiple=\"multiple\" name=\"categories\">\n-<option value=\"1\">Entertainment</option>\n-<option value=\"2\">It&#39;s a test</option>\n-<option value=\"3\">Third</option>\n-<option value=\"4\">Fourth</option>\n+<option value=\"...\">Entertainment</option>\n+<option value=\"...\">It&#39;s a test</option>\n+<option value=\"...\">Third</option>\n+<option value=\"...\">Fourth</option>\n </select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\n \n # ModelChoiceField ############################################################\n@@ -859,7 +864,7 @@ class FlexibleDatePost(models.Model):\n \n >>> f = ModelChoiceField(Category.objects.all())\n >>> list(f.choices)\n-[(u'', u'---------'), (1, u'Entertainment'), (2, u\"It's a test\"), (3, u'Third'), (4, u'Fourth')]\n+[(u'', u'---------'), (..., u'Entertainment'), (..., u\"It's a test\"), (..., u'Third'), (..., u'Fourth')]\n >>> f.clean('')\n Traceback (most recent call last):\n ...\n@@ -872,33 +877,34 @@ class FlexibleDatePost(models.Model):\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. That choice is not one of the available choices.']\n->>> f.clean(3)\n+>>> f.clean(c3.id)\n <Category: Third>\n->>> f.clean(2)\n+>>> f.clean(c2.id)\n <Category: It's a test>\n \n # Add a Category object *after* the ModelChoiceField has already been\n # instantiated. This proves clean() checks the database during clean() rather\n # than caching it at time of instantiation.\n->>> Category.objects.create(name='Fifth', url='5th')\n+>>> c5 = Category.objects.create(name='Fifth', url='5th')\n+>>> c5\n <Category: Fifth>\n->>> f.clean(5)\n+>>> f.clean(c5.id)\n <Category: Fifth>\n \n # Delete a Category object *after* the ModelChoiceField has already been\n # instantiated. This proves clean() checks the database during clean() rather\n # than caching it at time of instantiation.\n >>> Category.objects.get(url='5th').delete()\n->>> f.clean(5)\n+>>> f.clean(c5.id)\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. That choice is not one of the available choices.']\n \n->>> f = ModelChoiceField(Category.objects.filter(pk=1), required=False)\n+>>> f = ModelChoiceField(Category.objects.filter(pk=c1.id), required=False)\n >>> print f.clean('')\n None\n >>> f.clean('')\n->>> f.clean('1')\n+>>> f.clean(str(c1.id))\n <Category: Entertainment>\n >>> f.clean('100')\n Traceback (most recent call last):\n@@ -908,10 +914,10 @@ class FlexibleDatePost(models.Model):\n # queryset can be changed after the field is created.\n >>> f.queryset = Category.objects.exclude(name='Fourth')\n >>> list(f.choices)\n-[(u'', u'---------'), (1, u'Entertainment'), (2, u\"It's a test\"), (3, u'Third')]\n->>> f.clean(3)\n+[(u'', u'---------'), (..., u'Entertainment'), (..., u\"It's a test\"), (..., u'Third')]\n+>>> f.clean(c3.id)\n <Category: Third>\n->>> f.clean(4)\n+>>> f.clean(c4.id)\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. That choice is not one of the available choices.']\n@@ -920,21 +926,21 @@ class FlexibleDatePost(models.Model):\n >>> gen_one = list(f.choices)\n >>> gen_two = f.choices\n >>> gen_one[2]\n-(2L, u\"It's a test\")\n+(..., u\"It's a test\")\n >>> list(gen_two)\n-[(u'', u'---------'), (1L, u'Entertainment'), (2L, u\"It's a test\"), (3L, u'Third')]\n+[(u'', u'---------'), (..., u'Entertainment'), (..., u\"It's a test\"), (..., u'Third')]\n \n # check that we can override the label_from_instance method to print custom labels (#4620)\n >>> f.queryset = Category.objects.all()\n >>> f.label_from_instance = lambda obj: \"category \" + str(obj)\n >>> list(f.choices)\n-[(u'', u'---------'), (1L, 'category Entertainment'), (2L, \"category It's a test\"), (3L, 'category Third'), (4L, 'category Fourth')]\n+[(u'', u'---------'), (..., 'category Entertainment'), (..., \"category It's a test\"), (..., 'category Third'), (..., 'category Fourth')]\n \n # ModelMultipleChoiceField ####################################################\n \n >>> f = ModelMultipleChoiceField(Category.objects.all())\n >>> list(f.choices)\n-[(1, u'Entertainment'), (2, u\"It's a test\"), (3, u'Third'), (4, u'Fourth')]\n+[(..., u'Entertainment'), (..., u\"It's a test\"), (..., u'Third'), (..., u'Fourth')]\n >>> f.clean(None)\n Traceback (most recent call last):\n ...\n@@ -943,17 +949,17 @@ class FlexibleDatePost(models.Model):\n Traceback (most recent call last):\n ...\n ValidationError: [u'This field is required.']\n->>> f.clean([1])\n+>>> f.clean([c1.id])\n [<Category: Entertainment>]\n->>> f.clean([2])\n+>>> f.clean([c2.id])\n [<Category: It's a test>]\n->>> f.clean(['1'])\n+>>> f.clean([str(c1.id)])\n [<Category: Entertainment>]\n->>> f.clean(['1', '2'])\n+>>> f.clean([str(c1.id), str(c2.id)])\n [<Category: Entertainment>, <Category: It's a test>]\n->>> f.clean([1, '2'])\n+>>> f.clean([c1.id, str(c2.id)])\n [<Category: Entertainment>, <Category: It's a test>]\n->>> f.clean((1, '2'))\n+>>> f.clean((c1.id, str(c2.id)))\n [<Category: Entertainment>, <Category: It's a test>]\n >>> f.clean(['100'])\n Traceback (most recent call last):\n@@ -971,16 +977,17 @@ class FlexibleDatePost(models.Model):\n # Add a Category object *after* the ModelMultipleChoiceField has already been\n # instantiated. This proves clean() checks the database during clean() rather\n # than caching it at time of instantiation.\n->>> Category.objects.create(id=6, name='Sixth', url='6th')\n+>>> c6 = Category.objects.create(id=6, name='Sixth', url='6th')\n+>>> c6\n <Category: Sixth>\n->>> f.clean([6])\n+>>> f.clean([c6.id])\n [<Category: Sixth>]\n \n # Delete a Category object *after* the ModelMultipleChoiceField has already been\n # instantiated. This proves clean() checks the database during clean() rather\n # than caching it at time of instantiation.\n >>> Category.objects.get(url='6th').delete()\n->>> f.clean([6])\n+>>> f.clean([c6.id])\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. 6 is not one of the available choices.']\n@@ -994,34 +1001,34 @@ class FlexibleDatePost(models.Model):\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. 10 is not one of the available choices.']\n->>> f.clean(['3', '10'])\n+>>> f.clean([str(c3.id), '10'])\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. 10 is not one of the available choices.']\n->>> f.clean(['1', '10'])\n+>>> f.clean([str(c1.id), '10'])\n Traceback (most recent call last):\n ...\n ValidationError: [u'Select a valid choice. 10 is not one of the available choices.']\n \n # queryset can be changed after the field is created.\n >>> f.queryset = Category.objects.exclude(name='Fourth')\n >>> list(f.choices)\n-[(1, u'Entertainment'), (2, u\"It's a test\"), (3, u'Third')]\n->>> f.clean([3])\n+[(..., u'Entertainment'), (..., u\"It's a test\"), (..., u'Third')]\n+>>> f.clean([c3.id])\n [<Category: Third>]\n->>> f.clean([4])\n+>>> f.clean([c4.id])\n Traceback (most recent call last):\n ...\n-ValidationError: [u'Select a valid choice. 4 is not one of the available choices.']\n->>> f.clean(['3', '4'])\n+ValidationError: [u'Select a valid choice. ... is not one of the available choices.']\n+>>> f.clean([str(c3.id), str(c4.id)])\n Traceback (most recent call last):\n ...\n-ValidationError: [u'Select a valid choice. 4 is not one of the available choices.']\n+ValidationError: [u'Select a valid choice. ... is not one of the available choices.']\n \n >>> f.queryset = Category.objects.all()\n >>> f.label_from_instance = lambda obj: \"multicategory \" + str(obj)\n >>> list(f.choices)\n-[(1L, 'multicategory Entertainment'), (2L, \"multicategory It's a test\"), (3L, 'multicategory Third'), (4L, 'multicategory Fourth')]\n+[(..., 'multicategory Entertainment'), (..., \"multicategory It's a test\"), (..., 'multicategory Third'), (..., 'multicategory Fourth')]\n \n # OneToOneField ###############################################################\n "
        },
        {
            "sha": "0a46a252c5ff40a445c8690c01adf9805f36e6a3",
            "filename": "tests/modeltests/proxy_models/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Fproxy_models%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fmodeltests%2Fproxy_models%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fproxy_models%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -39,11 +39,11 @@ def test_basic_proxy(self):\n         \"\"\"\n         Creating a Person makes them accessible through the MyPerson proxy.\n         \"\"\"\n-        Person.objects.create(name=\"Foo McBar\")\n+        person = Person.objects.create(name=\"Foo McBar\")\n         self.assertEqual(len(Person.objects.all()), 1)\n         self.assertEqual(len(MyPerson.objects.all()), 1)\n-        self.assertEqual(MyPerson.objects.get(name=\"Foo McBar\").id, 1)\n-        self.assertFalse(MyPerson.objects.get(id=1).has_special_name())\n+        self.assertEqual(MyPerson.objects.get(name=\"Foo McBar\").id, person.id)\n+        self.assertFalse(MyPerson.objects.get(id=person.id).has_special_name())\n \n     def test_no_proxy(self):\n         \"\"\""
        },
        {
            "sha": "0e61addc118d33d3d659af686f5d0b183cfef926",
            "filename": "tests/regressiontests/admin_changelist/tests.py",
            "status": "modified",
            "additions": 15,
            "deletions": 13,
            "changes": 28,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fadmin_changelist%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fadmin_changelist%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_changelist%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -36,7 +36,7 @@ def test_result_list_empty_changelist_value(self):\n         template = Template('{% load admin_list %}{% spaceless %}{% result_list cl %}{% endspaceless %}')\n         context = Context({'cl': cl})\n         table_output = template.render(context)\n-        row_html = '<tbody><tr class=\"row1\"><td class=\"action-checkbox\"><input type=\"checkbox\" class=\"action-select\" value=\"1\" name=\"_selected_action\" /></td><th><a href=\"1/\">name</a></th><td class=\"nowrap\">(None)</td></tr></tbody>'\n+        row_html = '<tbody><tr class=\"row1\"><td class=\"action-checkbox\"><input type=\"checkbox\" class=\"action-select\" value=\"%d\" name=\"_selected_action\" /></td><th><a href=\"%d/\">name</a></th><td class=\"nowrap\">(None)</td></tr></tbody>' % (new_child.id, new_child.id)\n         self.assertFalse(table_output.find(row_html) == -1,\n             'Failed to find expected row element: %s' % table_output)\n \n@@ -57,7 +57,7 @@ def test_result_list_html(self):\n         template = Template('{% load admin_list %}{% spaceless %}{% result_list cl %}{% endspaceless %}')\n         context = Context({'cl': cl})\n         table_output = template.render(context)\n-        row_html = '<tbody><tr class=\"row1\"><td class=\"action-checkbox\"><input type=\"checkbox\" class=\"action-select\" value=\"1\" name=\"_selected_action\" /></td><th><a href=\"1/\">name</a></th><td class=\"nowrap\">Parent object</td></tr></tbody>'\n+        row_html = '<tbody><tr class=\"row1\"><td class=\"action-checkbox\"><input type=\"checkbox\" class=\"action-select\" value=\"%d\" name=\"_selected_action\" /></td><th><a href=\"%d/\">name</a></th><td class=\"nowrap\">Parent object</td></tr></tbody>' % (new_child.id, new_child.id)\n         self.assertFalse(table_output.find(row_html) == -1,\n             'Failed to find expected row element: %s' % table_output)\n \n@@ -88,7 +88,7 @@ def test_result_list_editable_html(self):\n         context = Context({'cl': cl})\n         table_output = template.render(context)\n         # make sure that hidden fields are in the correct place\n-        hiddenfields_div = '<div class=\"hiddenfields\"><input type=\"hidden\" name=\"form-0-id\" value=\"1\" id=\"id_form-0-id\" /></div>'\n+        hiddenfields_div = '<div class=\"hiddenfields\"><input type=\"hidden\" name=\"form-0-id\" value=\"%d\" id=\"id_form-0-id\" /></div>' % new_child.id\n         self.assertFalse(table_output.find(hiddenfields_div) == -1,\n             'Failed to find hidden fields in: %s' % table_output)\n         # make sure that list editable fields are rendered in divs correctly\n@@ -148,12 +148,12 @@ def test_distinct_for_m2m_in_list_filter(self):\n         band.genres.add(blues)\n \n         m = BandAdmin(Band, admin.site)\n-        cl = ChangeList(MockFilteredRequestA(), Band, m.list_display,\n+        cl = ChangeList(MockFilteredRequestA(blues.pk), Band, m.list_display,\n                 m.list_display_links, m.list_filter, m.date_hierarchy,\n                 m.search_fields, m.list_select_related, m.list_per_page,\n                 m.list_editable, m)\n \n-        cl.get_results(MockFilteredRequestA())\n+        cl.get_results(MockFilteredRequestA(blues.pk))\n \n         # There's only one Group instance\n         self.assertEqual(cl.result_count, 1)\n@@ -169,12 +169,12 @@ def test_distinct_for_through_m2m_in_list_filter(self):\n         Membership.objects.create(group=band, music=lead, role='bass player')\n \n         m = GroupAdmin(Group, admin.site)\n-        cl = ChangeList(MockFilteredRequestB(), Group, m.list_display,\n+        cl = ChangeList(MockFilteredRequestB(lead.pk), Group, m.list_display,\n                 m.list_display_links, m.list_filter, m.date_hierarchy,\n                 m.search_fields, m.list_select_related, m.list_per_page,\n                 m.list_editable, m)\n \n-        cl.get_results(MockFilteredRequestB())\n+        cl.get_results(MockFilteredRequestB(lead.pk))\n \n         # There's only one Group instance\n         self.assertEqual(cl.result_count, 1)\n@@ -191,12 +191,12 @@ def test_distinct_for_inherited_m2m_in_list_filter(self):\n         Membership.objects.create(group=four, music=lead, role='guitar player')\n \n         m = QuartetAdmin(Quartet, admin.site)\n-        cl = ChangeList(MockFilteredRequestB(), Quartet, m.list_display,\n+        cl = ChangeList(MockFilteredRequestB(lead.pk), Quartet, m.list_display,\n                 m.list_display_links, m.list_filter, m.date_hierarchy,\n                 m.search_fields, m.list_select_related, m.list_per_page,\n                 m.list_editable, m)\n \n-        cl.get_results(MockFilteredRequestB())\n+        cl.get_results(MockFilteredRequestB(lead.pk))\n \n         # There's only one Quartet instance\n         self.assertEqual(cl.result_count, 1)\n@@ -213,12 +213,12 @@ def test_distinct_for_m2m_to_inherited_in_list_filter(self):\n         Invitation.objects.create(band=three, player=lead, instrument='bass')\n \n         m = ChordsBandAdmin(ChordsBand, admin.site)\n-        cl = ChangeList(MockFilteredRequestB(), ChordsBand, m.list_display,\n+        cl = ChangeList(MockFilteredRequestB(lead.pk), ChordsBand, m.list_display,\n                 m.list_display_links, m.list_filter, m.date_hierarchy,\n                 m.search_fields, m.list_select_related, m.list_per_page,\n                 m.list_editable, m)\n \n-        cl.get_results(MockFilteredRequestB())\n+        cl.get_results(MockFilteredRequestB(lead.pk))\n \n         # There's only one ChordsBand instance\n         self.assertEqual(cl.result_count, 1)\n@@ -289,7 +289,9 @@ class ChordsBandAdmin(admin.ModelAdmin):\n     list_filter = ['members']\n \n class MockFilteredRequestA(object):\n-    GET = { 'genres': 1 }\n+    def __init__(self, pk):\n+        self.GET = { 'genres' : pk }\n \n class MockFilteredRequestB(object):\n-    GET = { 'members': 1 }\n+    def __init__(self, pk):\n+        self.GET = { 'members': pk }"
        },
        {
            "sha": "3dc4edee5555fdbfee576482c5aa6f11f0357222",
            "filename": "tests/regressiontests/fixtures_regress/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Ffixtures_regress%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -349,7 +349,7 @@ def test_proxy_model_included(self):\n         \"\"\"\n         stdout = StringIO()\n         # Create an instance of the concrete class\n-        Widget(name='grommet').save()\n+        widget = Widget.objects.create(name='grommet')\n         management.call_command(\n             'dumpdata',\n             'fixtures_regress.widget',\n@@ -359,7 +359,8 @@ def test_proxy_model_included(self):\n         )\n         self.assertEqual(\n             stdout.getvalue(),\n-            \"\"\"[{\"pk\": 1, \"model\": \"fixtures_regress.widget\", \"fields\": {\"name\": \"grommet\"}}]\"\"\"\n+            \"\"\"[{\"pk\": %d, \"model\": \"fixtures_regress.widget\", \"fields\": {\"name\": \"grommet\"}}]\"\"\"\n+            % widget.pk\n             )\n \n "
        },
        {
            "sha": "b6d9a3d713d58d264f186ba5369939374b20fcdf",
            "filename": "tests/regressiontests/model_fields/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -116,8 +116,8 @@ def test_distinct_choice_limit(self):\n         bar_b = Bar.objects.create(b='bla', a=b)\n         form = BazForm()\n         fk_field = str(form['foo'])\n-        self.assertEqual(len(re.findall(r'value=\"2\"', fk_field)), 0)\n-        self.assertEqual(len(re.findall(r'value=\"1\"', fk_field)), 1)\n+        self.assertEqual(len(re.findall(r'value=\"%d\"' % b.pk, fk_field)), 0)\n+        self.assertEqual(len(re.findall(r'value=\"%d\"' % a.pk, fk_field)), 1)\n \n class DateTimeFieldTests(unittest.TestCase):\n     def test_datetimefield_to_python_usecs(self):"
        },
        {
            "sha": "f53600195b07fc1e19f6fcea28ebe88f7bfe4826",
            "filename": "tests/regressiontests/model_forms_regress/tests.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_forms_regress%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -18,11 +18,10 @@ def test_model_multiple_choice_number_of_queries(self):\n         Test that ModelMultipleChoiceField does O(1) queries instead of\n         O(n) (#10156).\n         \"\"\"\n-        for i in range(30):\n-            Person.objects.create(name=\"Person %s\" % i)\n+        persons = [Person.objects.create(name=\"Person %s\" % i) for i in range(30)]\n \n         f = forms.ModelMultipleChoiceField(queryset=Person.objects.all())\n-        self.assertNumQueries(1, f.clean, [1, 3, 5, 7, 9])\n+        self.assertNumQueries(1, f.clean, [p.pk for p in persons[1:11:2]])\n \n     def test_model_multiple_choice_run_validators(self):\n         \"\"\"\n@@ -126,19 +125,20 @@ def formfield_for_dbfield(db_field, **kwargs):\n             return db_field.formfield(**kwargs)\n \n         # Set up some Publications to use as data\n-        Publication(title=\"First Book\", date_published=date(2007,1,1)).save()\n-        Publication(title=\"Second Book\", date_published=date(2008,1,1)).save()\n-        Publication(title=\"Third Book\", date_published=date(2009,1,1)).save()\n+        book1 = Publication.objects.create(title=\"First Book\", date_published=date(2007,1,1))\n+        book2 = Publication.objects.create(title=\"Second Book\", date_published=date(2008,1,1))\n+        book3 = Publication.objects.create(title=\"Third Book\", date_published=date(2009,1,1))\n \n         # Create a ModelForm, instantiate it, and check that the output is as expected\n         ModelForm = modelform_factory(Article, formfield_callback=formfield_for_dbfield)\n         form = ModelForm()\n         self.assertEqual(form.as_ul(), u\"\"\"<li><label for=\"id_headline\">Headline:</label> <input id=\"id_headline\" type=\"text\" name=\"headline\" maxlength=\"100\" /></li>\n <li><label for=\"id_publications\">Publications:</label> <select multiple=\"multiple\" name=\"publications\" id=\"id_publications\">\n-<option value=\"1\" selected=\"selected\">First Book</option>\n-<option value=\"2\" selected=\"selected\">Second Book</option>\n-<option value=\"3\">Third Book</option>\n-</select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\"\"\")\n+<option value=\"%d\" selected=\"selected\">First Book</option>\n+<option value=\"%d\" selected=\"selected\">Second Book</option>\n+<option value=\"%d\">Third Book</option>\n+</select> <span class=\"helptext\"> Hold down \"Control\", or \"Command\" on a Mac, to select more than one.</span></li>\"\"\"\n+            % (book1.pk, book2.pk, book3.pk))\n \n class CFFForm(forms.ModelForm):\n     class Meta:"
        },
        {
            "sha": "ab4bd522a0eaada7faf3519591b767f7ca949040",
            "filename": "tests/regressiontests/null_fk/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fnull_fk%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fnull_fk%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fnull_fk%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -16,15 +16,15 @@ def test_null_fk(self):\n         # set of fields will properly LEFT JOIN multiple levels of NULLs (and the things\n         # that come after the NULLs, or else data that should exist won't). Regression\n         # test for #7369.\n-        c = Comment.objects.select_related().get(id=1)\n+        c = Comment.objects.select_related().get(id=c1.id)\n         self.assertEqual(c.post, p)\n-        self.assertEqual(Comment.objects.select_related().get(id=2).post, None)\n+        self.assertEqual(Comment.objects.select_related().get(id=c2.id).post, None)\n \n         self.assertQuerysetEqual(\n             Comment.objects.select_related('post__forum__system_info').all(),\n             [\n-                (1, u'My first comment', '<Post: First Post>'),\n-                (2, u'My second comment', 'None')\n+                (c1.id, u'My first comment', '<Post: First Post>'),\n+                (c2.id, u'My second comment', 'None')\n             ],\n             transform = lambda c: (c.id, c.comment_text, repr(c.post))\n         )\n@@ -35,8 +35,8 @@ def test_null_fk(self):\n         self.assertQuerysetEqual(\n             Comment.objects.select_related('post__forum__system_info__system_details'),\n             [\n-                (1, u'My first comment', '<Post: First Post>'),\n-                (2, u'My second comment', 'None')\n+                (c1.id, u'My first comment', '<Post: First Post>'),\n+                (c2.id, u'My second comment', 'None')\n             ],\n             transform = lambda c: (c.id, c.comment_text, repr(c.post))\n         )"
        },
        {
            "sha": "ede1385351eb733eeb90898442fd9dc416cbf095",
            "filename": "tests/regressiontests/select_related_regress/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fselect_related_regress%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/f17fc56602f8de37ef8c5565ddf04991e8c91442/tests%2Fregressiontests%2Fselect_related_regress%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fselect_related_regress%2Ftests.py?ref=f17fc56602f8de37ef8c5565ddf04991e8c91442",
            "patch": "@@ -28,11 +28,11 @@ def test_regression_7110(self):\n \n         connections=Connection.objects.filter(start__device__building=b, end__device__building=b).order_by('id')\n         self.assertEqual([(c.id, unicode(c.start), unicode(c.end)) for c in connections],\n-            [(1, u'router/4', u'switch/7'), (2, u'switch/7', u'server/1')])\n+            [(c1.id, u'router/4', u'switch/7'), (c2.id, u'switch/7', u'server/1')])\n \n         connections=Connection.objects.filter(start__device__building=b, end__device__building=b).select_related().order_by('id')\n         self.assertEqual([(c.id, unicode(c.start), unicode(c.end)) for c in connections],\n-            [(1, u'router/4', u'switch/7'), (2, u'switch/7', u'server/1')])\n+            [(c1.id, u'router/4', u'switch/7'), (c2.id, u'switch/7', u'server/1')])\n \n         # This final query should only join seven tables (port, device and building\n         # twice each, plus connection once)."
        }
    ],
    "stats": {
        "total": 284,
        "additions": 149,
        "deletions": 135
    }
}