{
    "author": "claudep",
    "message": "Fixed parse_http_date docstring and moved related tests\n\nRefs #18675.",
    "sha": "b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb",
    "files": [
        {
            "sha": "1c3b0039b51ce776822a9b608112c4ba7e849670",
            "filename": "django/utils/http.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/django%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/django%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fhttp.py?ref=b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb",
            "patch": "@@ -118,8 +118,7 @@ def parse_http_date(date):\n     The three formats allowed by the RFC are accepted, even if only the first\n     one is still in widespread use.\n \n-    Returns an floating point number expressed in seconds since the epoch, in\n-    UTC.\n+    Returns an integer expressed in seconds since the epoch, in UTC.\n     \"\"\"\n     # emails.Util.parsedate does the job for RFC1123 dates; unfortunately\n     # RFC2616 makes it mandatory to support RFC850 dates too. So we roll"
        },
        {
            "sha": "b47fdf6fb5f4f272bfb41ab2728c34a0ba0a6a94",
            "filename": "tests/regressiontests/conditional_processing/models.py",
            "status": "modified",
            "additions": 0,
            "deletions": 29,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Fconditional_processing%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Fconditional_processing%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fconditional_processing%2Fmodels.py?ref=b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb",
            "patch": "@@ -4,8 +4,6 @@\n from datetime import datetime\n \n from django.test import TestCase\n-from django.utils import unittest\n-from django.utils.http import parse_etags, quote_etag, parse_http_date\n \n \n FULL_RESPONSE = 'Test conditional get response'\n@@ -129,30 +127,3 @@ def testInvalidETag(self):\n         self.client.defaults['HTTP_IF_NONE_MATCH'] = r'\"\\\"'\n         response = self.client.get('/condition/etag/')\n         self.assertFullResponse(response, check_last_modified=False)\n-\n-\n-class ETagProcessing(unittest.TestCase):\n-    def testParsing(self):\n-        etags = parse_etags(r'\"\", \"etag\", \"e\\\"t\\\"ag\", \"e\\\\tag\", W/\"weak\"')\n-        self.assertEqual(etags, ['', 'etag', 'e\"t\"ag', r'e\\tag', 'weak'])\n-\n-    def testQuoting(self):\n-        quoted_etag = quote_etag(r'e\\t\"ag')\n-        self.assertEqual(quoted_etag, r'\"e\\\\t\\\"ag\"')\n-\n-\n-class HttpDateProcessing(unittest.TestCase):\n-    def testParsingRfc1123(self):\n-        parsed = parse_http_date('Sun, 06 Nov 1994 08:49:37 GMT')\n-        self.assertEqual(datetime.utcfromtimestamp(parsed),\n-                         datetime(1994, 11, 6, 8, 49, 37))\n-\n-    def testParsingRfc850(self):\n-        parsed = parse_http_date('Sunday, 06-Nov-94 08:49:37 GMT')\n-        self.assertEqual(datetime.utcfromtimestamp(parsed),\n-                         datetime(1994, 11, 6, 8, 49, 37))\n-\n-    def testParsingAsctime(self):\n-        parsed = parse_http_date('Sun Nov  6 08:49:37 1994')\n-        self.assertEqual(datetime.utcfromtimestamp(parsed),\n-                         datetime(1994, 11, 6, 8, 49, 37))"
        },
        {
            "sha": "6d3bc025af47157e17c8a4f29758c7f8445af3d8",
            "filename": "tests/regressiontests/utils/http.py",
            "status": "modified",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Futils%2Fhttp.py",
            "raw_url": "https://github.com/django/django/raw/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Futils%2Fhttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fhttp.py?ref=b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb",
            "patch": "@@ -1,3 +1,4 @@\n+from datetime import datetime\n import sys\n \n from django.http import HttpResponse, utils\n@@ -7,6 +8,7 @@\n from django.utils import six\n from django.utils import unittest\n \n+\n class TestUtilsHttp(unittest.TestCase):\n \n     def test_same_origin_true(self):\n@@ -132,3 +134,30 @@ def test_base36(self):\n         for n, b36 in [(0, '0'), (1, '1'), (42, '16'), (818469960, 'django')]:\n             self.assertEqual(http.int_to_base36(n), b36)\n             self.assertEqual(http.base36_to_int(b36), n)\n+\n+\n+class ETagProcessingTests(unittest.TestCase):\n+    def testParsing(self):\n+        etags = http.parse_etags(r'\"\", \"etag\", \"e\\\"t\\\"ag\", \"e\\\\tag\", W/\"weak\"')\n+        self.assertEqual(etags, ['', 'etag', 'e\"t\"ag', r'e\\tag', 'weak'])\n+\n+    def testQuoting(self):\n+        quoted_etag = http.quote_etag(r'e\\t\"ag')\n+        self.assertEqual(quoted_etag, r'\"e\\\\t\\\"ag\"')\n+\n+\n+class HttpDateProcessingTests(unittest.TestCase):\n+    def testParsingRfc1123(self):\n+        parsed = http.parse_http_date('Sun, 06 Nov 1994 08:49:37 GMT')\n+        self.assertEqual(datetime.utcfromtimestamp(parsed),\n+                         datetime(1994, 11, 6, 8, 49, 37))\n+\n+    def testParsingRfc850(self):\n+        parsed = http.parse_http_date('Sunday, 06-Nov-94 08:49:37 GMT')\n+        self.assertEqual(datetime.utcfromtimestamp(parsed),\n+                         datetime(1994, 11, 6, 8, 49, 37))\n+\n+    def testParsingAsctime(self):\n+        parsed = http.parse_http_date('Sun Nov  6 08:49:37 1994')\n+        self.assertEqual(datetime.utcfromtimestamp(parsed),\n+                         datetime(1994, 11, 6, 8, 49, 37))"
        },
        {
            "sha": "11dd7c320eb9dd441d8a9a78bcb4995017fcbccc",
            "filename": "tests/regressiontests/utils/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Futils%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb/tests%2Fregressiontests%2Futils%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Ftests.py?ref=b3ee80a0cf0e60876f03b797d2bdc69505dbdfcb",
            "patch": "@@ -17,7 +17,7 @@\n from .feedgenerator import FeedgeneratorTest\n from .functional import FunctionalTestCase\n from .html import TestUtilsHtml\n-from .http import TestUtilsHttp\n+from .http import TestUtilsHttp, ETagProcessingTests, HttpDateProcessingTests\n from .ipv6 import TestUtilsIPv6\n from .jslex import JsToCForGettextTest, JsTokensTest\n from .module_loading import CustomLoader, DefaultLoader, EggLoader"
        }
    ],
    "stats": {
        "total": 63,
        "additions": 31,
        "deletions": 32
    }
}