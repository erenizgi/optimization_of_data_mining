{
    "author": "claudep",
    "message": "Fixed test failure after IDN domain validation fix\n\nRefs #17867.\nThe address in test_email_regexp_for_performance used to take forever\n(security issue), then was supposed to fail after the fix (commit 9f8287a3f).\nNow we are less strict with domain validation, due to new IDN domains,\nhence the validation of this address pass now.",
    "sha": "252cd271e88e1c60fc49c06fac9d45e4c7f8750e",
    "files": [
        {
            "sha": "1027afceb1a53dc9f24de234c39ca807a93b16dc",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/252cd271e88e1c60fc49c06fac9d45e4c7f8750e/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/252cd271e88e1c60fc49c06fac9d45e4c7f8750e/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=252cd271e88e1c60fc49c06fac9d45e4c7f8750e",
            "patch": "@@ -516,12 +516,8 @@ def test_email_regexp_for_performance(self):\n         f = EmailField()\n         # Check for runaway regex security problem. This will take for-freeking-ever\n         # if the security fix isn't in place.\n-        self.assertRaisesMessage(\n-                ValidationError,\n-                \"'Enter a valid email address.'\",\n-                f.clean,\n-                'viewx3dtextx26qx3d@yahoo.comx26latlngx3d15854521645943074058'\n-            )\n+        addr = 'viewx3dtextx26qx3d@yahoo.comx26latlngx3d15854521645943074058'\n+        self.assertEqual(addr, f.clean(addr))\n \n     def test_emailfield_not_required(self):\n         f = EmailField(required=False)"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 2,
        "deletions": 6
    }
}