{
    "author": "jphalip",
    "message": "Merge pull request #101 from jphalip/tickets/18409-regexfield-unicode\n\nFixed #18409 -- Made RegexField work with unicode characters.",
    "sha": "314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08",
    "files": [
        {
            "sha": "3811510326ba81847d74eee12d2c27d05c5ee9b7",
            "filename": "django/forms/fields.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08/django%2Fforms%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08/django%2Fforms%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Ffields.py?ref=314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08",
            "patch": "@@ -446,7 +446,7 @@ def _get_regex(self):\n \n     def _set_regex(self, regex):\n         if isinstance(regex, basestring):\n-            regex = re.compile(regex)\n+            regex = re.compile(regex, re.UNICODE)\n         self._regex = regex\n         if hasattr(self, '_regex_validator') and self._regex_validator in self.validators:\n             self.validators.remove(self._regex_validator)"
        },
        {
            "sha": "c4a8a9a3fa24d08af2b5a3e00b34653a41f45d10",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=314d82a94e2d4270b6ec8aa4b3fc2e8ebc404f08",
            "patch": "@@ -478,6 +478,14 @@ def test_regexfield_5(self):\n         self.assertRaisesMessage(ValidationError, \"[u'Ensure this value has at most 10 characters (it has 11).']\", f.clean, '12345678901')\n         self.assertRaisesMessage(ValidationError, \"[u'Enter a valid value.']\", f.clean, '12345a')\n \n+    def test_regexfield_6(self):\n+        \"\"\"\n+        Ensure that it works with unicode characters.\n+        Refs #.\n+        \"\"\"\n+        f = RegexField('^\\w+$')\n+        self.assertEqual(u'éèøçÎÎ你好', f.clean(u'éèøçÎÎ你好'))\n+\n     def test_change_regex_after_init(self):\n         f = RegexField('^[a-z]+$')\n         f.regex = '^\\d+$'"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 9,
        "deletions": 1
    }
}