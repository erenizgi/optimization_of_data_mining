{
    "author": "ramiro",
    "message": "Removed compatibility with Sphinx < 1.0 workarounds in our extension code. Also, started to use the 'needs_sphinx' Sphinx config var.\n\nFollow up on r14624.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14631 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "f60930634978e49e97112fc4253f4a5d425c9950",
    "files": [
        {
            "sha": "898a2ee2bebca3d86282b469677d70b8e1d5b9ba",
            "filename": "docs/_ext/djangodocs.py",
            "status": "modified",
            "additions": 2,
            "deletions": 8,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/f60930634978e49e97112fc4253f4a5d425c9950/docs%2F_ext%2Fdjangodocs.py",
            "raw_url": "https://github.com/django/django/raw/f60930634978e49e97112fc4253f4a5d425c9950/docs%2F_ext%2Fdjangodocs.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2F_ext%2Fdjangodocs.py?ref=f60930634978e49e97112fc4253f4a5d425c9950",
            "patch": "@@ -83,10 +83,7 @@ def run(self):\n         if not is_nextversion:\n             if len(self.arguments) == 1:\n                 linktext = 'Please, see the release notes </releases/%s>' % (arg0)\n-                try:\n-                    xrefs = roles.XRefRole()('doc', linktext, linktext, self.lineno, self.state) # Sphinx >= 1.0\n-                except AttributeError:\n-                    xrefs = roles.xfileref_role('doc', linktext, linktext, self.lineno, self.state) # Sphinx < 1.0\n+                xrefs = roles.XRefRole()('doc', linktext, linktext, self.lineno, self.state)\n                 node.extend(xrefs[0])\n             node['version'] = arg0\n         else:\n@@ -196,10 +193,7 @@ def parse_django_admin_node(env, sig, signode):\n \n def parse_django_adminopt_node(env, sig, signode):\n     \"\"\"A copy of sphinx.directives.CmdoptionDesc.parse_signature()\"\"\"\n-    try:\n-        from sphinx.domains.std import option_desc_re # Sphinx >= 1.0\n-    except ImportError:\n-        from sphinx.directives.desc import option_desc_re # Sphinx < 1.0\n+    from sphinx.domains.std import option_desc_re\n     count = 0\n     firstname = ''\n     for m in option_desc_re.finditer(sig):"
        },
        {
            "sha": "6136259ad3753f8904cb17f4d080f025cca7eae7",
            "filename": "docs/conf.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/f60930634978e49e97112fc4253f4a5d425c9950/docs%2Fconf.py",
            "raw_url": "https://github.com/django/django/raw/f60930634978e49e97112fc4253f4a5d425c9950/docs%2Fconf.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fconf.py?ref=f60930634978e49e97112fc4253f4a5d425c9950",
            "patch": "@@ -22,7 +22,7 @@\n # -- General configuration -----------------------------------------------------\n \n # If your documentation needs a minimal Sphinx version, state it here.\n-#needs_sphinx = '1.0'\n+needs_sphinx = '1.0'\n \n # Add any Sphinx extension module names here, as strings. They can be extensions\n # coming with Sphinx (named 'sphinx.ext.*') or your custom ones."
        }
    ],
    "stats": {
        "total": 12,
        "additions": 3,
        "deletions": 9
    }
}