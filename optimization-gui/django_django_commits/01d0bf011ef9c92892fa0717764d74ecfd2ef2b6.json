{
    "author": "jezdez",
    "message": "Fixed #13810 -- Truncate numbers correctly when given number of decimal positions is zero. Thanks, milosu  and ≈Åukasz Rekucki.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16074 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "01d0bf011ef9c92892fa0717764d74ecfd2ef2b6",
    "files": [
        {
            "sha": "9597cdd063170e20c6d876e4ef348c4801b5bee8",
            "filename": "django/utils/numberformat.py",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/01d0bf011ef9c92892fa0717764d74ecfd2ef2b6/django%2Futils%2Fnumberformat.py",
            "raw_url": "https://github.com/django/django/raw/01d0bf011ef9c92892fa0717764d74ecfd2ef2b6/django%2Futils%2Fnumberformat.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fnumberformat.py?ref=01d0bf011ef9c92892fa0717764d74ecfd2ef2b6",
            "patch": "@@ -2,7 +2,7 @@\n from django.utils.safestring import mark_safe\n \n \n-def format(number, decimal_sep, decimal_pos, grouping=0, thousand_sep=''):\n+def format(number, decimal_sep, decimal_pos=None, grouping=0, thousand_sep=''):\n     \"\"\"\n     Gets a number (as a number or string), and returns it as a string,\n     using formats definied as arguments:\n@@ -29,11 +29,11 @@ def format(number, decimal_sep, decimal_pos, grouping=0, thousand_sep=''):\n     # decimal part\n     if '.' in str_number:\n         int_part, dec_part = str_number.split('.')\n-        if decimal_pos:\n+        if decimal_pos is not None:\n             dec_part = dec_part[:decimal_pos]\n     else:\n         int_part, dec_part = str_number, ''\n-    if decimal_pos:\n+    if decimal_pos is not None:\n         dec_part = dec_part + ('0' * (decimal_pos - len(dec_part)))\n     if dec_part: dec_part = decimal_sep + dec_part\n     # grouping"
        },
        {
            "sha": "2a7f0c2841a234997f3d881320c532d3084bcefb",
            "filename": "tests/regressiontests/i18n/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/01d0bf011ef9c92892fa0717764d74ecfd2ef2b6/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/01d0bf011ef9c92892fa0717764d74ecfd2ef2b6/tests%2Fregressiontests%2Fi18n%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Ftests.py?ref=01d0bf011ef9c92892fa0717764d74ecfd2ef2b6",
            "patch": "@@ -171,6 +171,7 @@ def test_locale_independent(self):\n         settings.USE_THOUSAND_SEPARATOR = False\n         self.assertEqual(u'66666.66', nformat(self.n, decimal_sep='.', decimal_pos=2, grouping=3, thousand_sep=','))\n         self.assertEqual(u'66666A6', nformat(self.n, decimal_sep='A', decimal_pos=1, grouping=1, thousand_sep='B'))\n+        self.assertEqual(u'66666', nformat(self.n, decimal_sep='X', decimal_pos=0, grouping=1, thousand_sep='Y'))\n \n         settings.USE_THOUSAND_SEPARATOR = True\n         self.assertEqual(u'66,666.66', nformat(self.n, decimal_sep='.', decimal_pos=2, grouping=3, thousand_sep=','))"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}