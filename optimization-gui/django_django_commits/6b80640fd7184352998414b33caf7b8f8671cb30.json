{
    "author": "jezdez",
    "message": "Fixed #16413 -- Stopped an auth test from failing if LOGIN_URL is set to a non-default value. Thanks, Aymeric Augustin.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16552 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "6b80640fd7184352998414b33caf7b8f8671cb30",
    "files": [
        {
            "sha": "832b65b95232ae5be3fcf1b47848b49e35c1a184",
            "filename": "django/contrib/auth/tests/views.py",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/6b80640fd7184352998414b33caf7b8f8671cb30/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/6b80640fd7184352998414b33caf7b8f8671cb30/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py?ref=6b80640fd7184352998414b33caf7b8f8671cb30",
            "patch": "@@ -205,9 +205,10 @@ def test_password_change_done_succeeds(self):\n         self.assertTrue(response['Location'].endswith('/password_change/done/'))\n \n     def test_password_change_done_fails(self):\n-        response = self.client.get('/password_change/done/')\n-        self.assertEqual(response.status_code, 302)\n-        self.assertTrue(response['Location'].endswith('/login/?next=/password_change/done/'))\n+        with self.settings(LOGIN_URL='/login/'):\n+            response = self.client.get('/password_change/done/')\n+            self.assertEqual(response.status_code, 302)\n+            self.assertTrue(response['Location'].endswith('/login/?next=/password_change/done/'))\n \n \n class LoginTest(AuthViewsTestCase):"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}