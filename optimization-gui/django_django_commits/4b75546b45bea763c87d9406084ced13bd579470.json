{
    "author": "adrianholovaty",
    "message": "Merge pull request #70 from tswicegood/fix-js-scope\n\nCleaned up various JavaScript in admin JS.",
    "sha": "4b75546b45bea763c87d9406084ced13bd579470",
    "files": [
        {
            "sha": "8494970aa18bbae656d0cb53d3532e8c3a906252",
            "filename": "django/contrib/admin/static/admin/js/actions.js",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/4b75546b45bea763c87d9406084ced13bd579470/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Factions.js",
            "raw_url": "https://github.com/django/django/raw/4b75546b45bea763c87d9406084ced13bd579470/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Factions.js",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fstatic%2Fadmin%2Fjs%2Factions.js?ref=4b75546b45bea763c87d9406084ced13bd579470",
            "patch": "@@ -3,15 +3,15 @@\n \t\tvar options = $.extend({}, $.fn.actions.defaults, opts);\n \t\tvar actionCheckboxes = $(this);\n \t\tvar list_editable_changed = false;\n-\t\tchecker = function(checked) {\n+\t\tvar checker = function(checked) {\n \t\t\tif (checked) {\n \t\t\t\tshowQuestion();\n \t\t\t} else {\n \t\t\t\treset();\n \t\t\t}\n \t\t\t$(actionCheckboxes).attr(\"checked\", checked)\n \t\t\t\t.parent().parent().toggleClass(options.selectedClass, checked);\n-\t\t}\n+\t\t},\n \t\tupdateCounter = function() {\n \t\t\tvar sel = $(actionCheckboxes).filter(\":checked\").length;\n \t\t\t$(options.counterContainer).html(interpolate(\n@@ -29,30 +29,30 @@\n \t\t\t\t}\n \t\t\t\treturn value;\n \t\t\t});\n-\t\t}\n+\t\t},\n \t\tshowQuestion = function() {\n \t\t\t$(options.acrossClears).hide();\n \t\t\t$(options.acrossQuestions).show();\n \t\t\t$(options.allContainer).hide();\n-\t\t}\n+\t\t},\n \t\tshowClear = function() {\n \t\t\t$(options.acrossClears).show();\n \t\t\t$(options.acrossQuestions).hide();\n \t\t\t$(options.actionContainer).toggleClass(options.selectedClass);\n \t\t\t$(options.allContainer).show();\n \t\t\t$(options.counterContainer).hide();\n-\t\t}\n+\t\t},\n \t\treset = function() {\n \t\t\t$(options.acrossClears).hide();\n \t\t\t$(options.acrossQuestions).hide();\n \t\t\t$(options.allContainer).hide();\n \t\t\t$(options.counterContainer).show();\n-\t\t}\n+\t\t},\n \t\tclearAcross = function() {\n \t\t\treset();\n \t\t\t$(options.acrossInput).val(0);\n \t\t\t$(options.actionContainer).removeClass(options.selectedClass);\n-\t\t}\n+\t\t};\n \t\t// Show counter by default\n \t\t$(options.counterContainer).show();\n \t\t// Check state of checkboxes and reinit state if needed\n@@ -81,9 +81,9 @@\n \t\t});\n \t\tlastChecked = null;\n \t\t$(actionCheckboxes).click(function(event) {\n-\t\t\tif (!event) { var event = window.event; }\n+\t\t\tif (!event) { event = window.event; }\n \t\t\tvar target = event.target ? event.target : event.srcElement;\n-\t\t\tif (lastChecked && $.data(lastChecked) != $.data(target) && event.shiftKey == true) {\n+\t\t\tif (lastChecked && $.data(lastChecked) != $.data(target) && event.shiftKey === true) {\n \t\t\t\tvar inrange = false;\n \t\t\t\t$(lastChecked).attr(\"checked\", target.checked)\n \t\t\t\t\t.parent().parent().toggleClass(options.selectedClass, target.checked);\n@@ -124,7 +124,7 @@\n \t\t\t\t}\n \t\t\t}\n \t\t});\n-\t}\n+\t};\n \t/* Setup plugin defaults */\n \t$.fn.actions.defaults = {\n \t\tactionContainer: \"div.actions\",\n@@ -135,5 +135,5 @@\n \t\tacrossClears: \"div.actions span.clear\",\n \t\tallToggle: \"#action-toggle\",\n \t\tselectedClass: \"selected\"\n-\t}\n+\t};\n })(django.jQuery);"
        }
    ],
    "stats": {
        "total": 22,
        "additions": 11,
        "deletions": 11
    }
}