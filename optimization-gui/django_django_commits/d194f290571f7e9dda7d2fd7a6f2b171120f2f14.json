{
    "author": "unknown",
    "message": "Fixed #19606 -- Adjusted cx_Oracle unicode detection.",
    "sha": "d194f290571f7e9dda7d2fd7a6f2b171120f2f14",
    "files": [
        {
            "sha": "17faa17270017d3824dc7e2ee1ab014ea08a8877",
            "filename": "django/db/backends/oracle/base.py",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/d194f290571f7e9dda7d2fd7a6f2b171120f2f14/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "raw_url": "https://github.com/django/django/raw/d194f290571f7e9dda7d2fd7a6f2b171120f2f14/django%2Fdb%2Fbackends%2Foracle%2Fbase.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2Foracle%2Fbase.py?ref=d194f290571f7e9dda7d2fd7a6f2b171120f2f14",
            "patch": "@@ -58,10 +58,11 @@ def _setup_environment(environ):\n DatabaseError = Database.DatabaseError\n IntegrityError = Database.IntegrityError\n \n-\n-# Check whether cx_Oracle was compiled with the WITH_UNICODE option.  This will\n-# also be True in Python 3.0.\n-if int(Database.version.split('.', 1)[0]) >= 5 and not hasattr(Database, 'UNICODE'):\n+# Check whether cx_Oracle was compiled with the WITH_UNICODE option if cx_Oracle is pre-5.1. This will\n+# also be True for cx_Oracle 5.1 and in Python 3.0. See #19606\n+if int(Database.version.split('.', 1)[0]) >= 5 and \\\n+        (int(Database.version.split('.', 2)[1]) >= 1 or\n+         not hasattr(Database, 'UNICODE')):\n     convert_unicode = force_text\n else:\n     convert_unicode = force_bytes"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 5,
        "deletions": 4
    }
}