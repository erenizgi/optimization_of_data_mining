{
    "author": "claudep",
    "message": "Fixed #19226 -- Applied linebreaksbr to read-only fields in admin\n\nThanks shadow for the report, and Melevir and thiderman for the\npatch.",
    "sha": "ec9d6b1122dd09168d8b2dbcabc745f22f0ef766",
    "files": [
        {
            "sha": "09bc971d2f08c16809079e84c193881e34e4dec7",
            "filename": "django/contrib/admin/templates/admin/includes/fieldset.html",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fincludes%2Ffieldset.html",
            "raw_url": "https://github.com/django/django/raw/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fincludes%2Ffieldset.html",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Ftemplates%2Fadmin%2Fincludes%2Ffieldset.html?ref=ec9d6b1122dd09168d8b2dbcabc745f22f0ef766",
            "patch": "@@ -14,7 +14,7 @@\n                     {% else %}\n                         {{ field.label_tag }}\n                         {% if field.is_readonly %}\n-                            <p>{{ field.contents }}</p>\n+                            <p>{{ field.contents|linebreaksbr }}</p>\n                         {% else %}\n                             {{ field.field }}\n                         {% endif %}"
        },
        {
            "sha": "6bb6ba59b0d3c610b06e310d35d2db4893b69549",
            "filename": "tests/regressiontests/admin_views/admin.py",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Fadmin.py?ref=ec9d6b1122dd09168d8b2dbcabc745f22f0ef766",
            "patch": "@@ -388,7 +388,10 @@ def get_prepopulated_fields(self, request, obj=None):\n \n class PostAdmin(admin.ModelAdmin):\n     list_display = ['title', 'public']\n-    readonly_fields = ('posted', 'awesomeness_level', 'coolness', 'value', lambda obj: \"foo\")\n+    readonly_fields = (\n+        'posted', 'awesomeness_level', 'coolness', 'value', 'multiline',\n+        lambda obj: \"foo\"\n+    )\n \n     inlines = [\n         LinkInline\n@@ -402,6 +405,10 @@ def coolness(self, instance):\n \n     def value(self, instance):\n         return 1000\n+\n+    def multiline(self, instance):\n+        return \"Multiline\\ntest\\nstring\"\n+\n     value.short_description = 'Value in $US'\n \n "
        },
        {
            "sha": "b5e0f407e5872531d91e7ca84d40079c56d2bd83",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/ec9d6b1122dd09168d8b2dbcabc745f22f0ef766/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=ec9d6b1122dd09168d8b2dbcabc745f22f0ef766",
            "patch": "@@ -3149,6 +3149,10 @@ def test_readonly_get(self):\n         self.assertContains(response, \"Very awesome.\")\n         self.assertContains(response, \"Unkown coolness.\")\n         self.assertContains(response, \"foo\")\n+\n+        # Checks that multiline text in a readonly field gets <br /> tags\n+        self.assertContains(response, \"Multiline<br />test<br />string\")\n+\n         self.assertContains(response,\n             formats.localize(datetime.date.today() - datetime.timedelta(days=7))\n         )"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}