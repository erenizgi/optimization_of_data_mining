{
    "author": "timgraham",
    "message": "Fixed #10239 - Added docs for modelform_factory\n\nThanks ingenieroariel for the suggestion and slurms for the review.",
    "sha": "71d76ec011b393990ba9f5fb63727dbe36c3c440",
    "files": [
        {
            "sha": "1b6821cd5bbba580e4de240703b4976e18c6d88e",
            "filename": "django/forms/models.py",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/71d76ec011b393990ba9f5fb63727dbe36c3c440/django%2Fforms%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/71d76ec011b393990ba9f5fb63727dbe36c3c440/django%2Fforms%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fmodels.py?ref=71d76ec011b393990ba9f5fb63727dbe36c3c440",
            "patch": "@@ -141,6 +141,11 @@ def fields_for_model(model, fields=None, exclude=None, widgets=None, formfield_c\n     ``exclude`` is an optional list of field names. If provided, the named\n     fields will be excluded from the returned fields, even if they are listed\n     in the ``fields`` argument.\n+\n+    ``widgets`` is a dictionary of model field names mapped to a widget\n+\n+    ``formfield_callback`` is a callable that takes a model field and returns\n+    a form field.\n     \"\"\"\n     field_list = []\n     ignored = []\n@@ -371,6 +376,21 @@ class ModelForm(six.with_metaclass(ModelFormMetaclass, BaseModelForm)):\n \n def modelform_factory(model, form=ModelForm, fields=None, exclude=None,\n                       formfield_callback=None,  widgets=None):\n+    \"\"\"\n+    Returns a ModelForm containing form fields for the given model.\n+\n+    ``fields`` is an optional list of field names. If provided, only the named\n+    fields will be included in the returned fields.\n+\n+    ``exclude`` is an optional list of field names. If provided, the named\n+    fields will be excluded from the returned fields, even if they are listed\n+    in the ``fields`` argument.\n+\n+    ``widgets`` is a dictionary of model field names mapped to a widget.\n+\n+    ``formfield_callback`` is a callable that takes a model field and returns\n+    a form field.\n+    \"\"\"\n     # Create the inner Meta class. FIXME: ideally, we should be able to\n     # construct a ModelForm without creating and passing in a temporary\n     # inner class."
        },
        {
            "sha": "446fdb82deda6b0d6db5917c9e11d9a9fd346209",
            "filename": "docs/ref/forms/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Fref%2Fforms%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Fref%2Fforms%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Findex.txt?ref=71d76ec011b393990ba9f5fb63727dbe36c3c440",
            "patch": "@@ -9,5 +9,6 @@ Detailed form API reference. For introductory material, see :doc:`/topics/forms/\n \n    api\n    fields\n+   models\n    widgets\n    validation"
        },
        {
            "sha": "1f4a0d0c3d13e4a33be496e42288f95a3b9de8fc",
            "filename": "docs/ref/forms/models.txt",
            "status": "added",
            "additions": 40,
            "deletions": 0,
            "changes": 40,
            "blob_url": "https://github.com/django/django/blob/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Fref%2Fforms%2Fmodels.txt",
            "raw_url": "https://github.com/django/django/raw/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Fref%2Fforms%2Fmodels.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fforms%2Fmodels.txt?ref=71d76ec011b393990ba9f5fb63727dbe36c3c440",
            "patch": "@@ -0,0 +1,40 @@\n+====================\n+Model Form Functions\n+====================\n+\n+.. module:: django.forms.models\n+   :synopsis: Django's functions for building model forms and formsets.\n+\n+.. method:: modelform_factory(model, form=ModelForm, fields=None, exclude=None, formfield_callback=None,  widgets=None)\n+\n+    Returns a :class:`~django.forms.ModelForm` class for the given ``model``.\n+    You can optionally pass a ``form`` argument to use as a starting point for\n+    constructing the ``ModelForm``.\n+\n+    ``fields`` is an optional list of field names. If provided, only the named\n+    fields will be included in the returned fields.\n+\n+    ``exclude`` is an optional list of field names. If provided, the named\n+    fields will be excluded from the returned fields, even if they are listed\n+    in the ``fields`` argument.\n+\n+    ``widgets`` is a dictionary of model field names mapped to a widget.\n+\n+    ``formfield_callback`` is a callable that takes a model field and returns\n+    a form field.\n+\n+    See :ref:`modelforms-factory` for example usage.\n+\n+.. method:: modelformset_factory(model, form=ModelForm, formfield_callback=None, formset=BaseModelFormSet, extra=1, can_delete=False, can_order=False, max_num=None, fields=None, exclude=None)\n+\n+    Returns a ``FormSet`` class for the given ``model`` class.\n+\n+    Arguments ``model``, ``form``, ``fields``, ``exclude``, and\n+    ``formfield_callback`` are all passed through to\n+    :meth:`~django.forms.models.modelform_factory`.\n+\n+    Arguments ``formset``, ``extra``, ``max_num``, ``can_order``, and\n+    ``can_delete`` are passed through to ``formset_factory``. See\n+    :ref:`formsets` for details.\n+\n+    See :ref:`model-formsets` for example usage."
        },
        {
            "sha": "9a33d68cf7c7124f119ac48af0ebf6d187c2ef1a",
            "filename": "docs/topics/forms/modelforms.txt",
            "status": "modified",
            "additions": 39,
            "deletions": 7,
            "changes": 46,
            "blob_url": "https://github.com/django/django/blob/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Ftopics%2Fforms%2Fmodelforms.txt",
            "raw_url": "https://github.com/django/django/raw/71d76ec011b393990ba9f5fb63727dbe36c3c440/docs%2Ftopics%2Fforms%2Fmodelforms.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Fforms%2Fmodelforms.txt?ref=71d76ec011b393990ba9f5fb63727dbe36c3c440",
            "patch": "@@ -544,6 +544,33 @@ for more on how field cleaning and validation work. Also, your model's\n :ref:`Validating objects <validating-objects>` for more information on the\n model's ``clean()`` hook.\n \n+.. _modelforms-factory:\n+\n+ModelForm factory function\n+--------------------------\n+\n+You can create forms from a given model using the standalone function\n+:class:`~django.forms.models.modelform_factory`, instead of using a class\n+definition. This may be more convenient if you do not have many customizations\n+to make::\n+\n+    >>> from django.forms.models import modelform_factory\n+    >>> BookForm = modelform_factory(Book)\n+\n+This can also be used to make simple modifications to existing forms, for\n+example by specifying which fields should be displayed::\n+\n+    >>> Form = modelform_factory(Book, form=BookForm, fields=(\"author\",))\n+\n+... or which fields should be excluded::\n+\n+    >>> Form = modelform_factory(Book, form=BookForm, exclude=(\"title\",))\n+\n+You can also specify the widgets to be used for a given field::\n+\n+    >>> from django.forms import Textarea\n+    >>> Form = modelform_factory(Book, form=BookForm, widgets={\"title\": Textarea()})\n+\n .. _model-formsets:\n \n Model formsets\n@@ -574,9 +601,10 @@ with the ``Author`` model. It works just like a regular formset::\n     <tr><th><label for=\"id_form-0-birth_date\">Birth date:</label></th><td><input type=\"text\" name=\"form-0-birth_date\" id=\"id_form-0-birth_date\" /><input type=\"hidden\" name=\"form-0-id\" id=\"id_form-0-id\" /></td></tr>\n \n .. note::\n-    ``modelformset_factory`` uses ``formset_factory`` to generate formsets.\n-    This means that a model formset is just an extension of a basic formset\n-    that knows how to interact with a particular model.\n+\n+    :func:`~django.forms.models.modelformset_factory` uses ``formset_factory``\n+    to generate formsets. This means that a model formset is just an extension\n+    of a basic formset that knows how to interact with a particular model.\n \n Changing the queryset\n ---------------------\n@@ -628,8 +656,9 @@ Providing initial values\n As with regular formsets, it's possible to :ref:`specify initial data\n <formsets-initial-data>` for forms in the formset by specifying an ``initial``\n parameter when instantiating the model formset class returned by\n-``modelformset_factory``. However, with model formsets, the initial values only\n-apply to extra forms, those that aren't bound to an existing object instance.\n+:func:`~django.forms.models.modelformset_factory`. However, with model\n+formsets, the initial values only apply to extra forms, those that aren't bound\n+to an existing object instance.\n \n .. _saving-objects-in-the-formset:\n \n@@ -675,7 +704,8 @@ Limiting the number of editable objects\n ---------------------------------------\n \n As with regular formsets, you can use the ``max_num`` and ``extra`` parameters\n-to ``modelformset_factory`` to limit the number of extra forms displayed.\n+to :func:`~django.forms.models.modelformset_factory` to limit the number of\n+extra forms displayed.\n \n ``max_num`` does not prevent existing objects from being displayed::\n \n@@ -850,7 +880,9 @@ a particular author, you could do this::\n     >>> formset = BookFormSet(instance=author)\n \n .. note::\n-    ``inlineformset_factory`` uses ``modelformset_factory`` and marks\n+\n+    ``inlineformset_factory`` uses\n+    :func:`~django.forms.models.modelformset_factory` and marks\n     ``can_delete=True``.\n \n .. seealso::"
        }
    ],
    "stats": {
        "total": 107,
        "additions": 100,
        "deletions": 7
    }
}