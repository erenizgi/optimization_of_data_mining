{
    "author": "freakboy3742",
    "message": "Advanced deprecations in core.mail, core.commands, core.context_processors and core.handlers.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15978 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "af00f29ecb7647e455d3207a4af1c587d7d53e2f",
    "files": [
        {
            "sha": "5597f68a55a4578c5e975e88d9a54e8f8fcb637b",
            "filename": "django/core/context_processors.py",
            "status": "modified",
            "additions": 2,
            "deletions": 20,
            "changes": 22,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fcontext_processors.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -11,24 +11,6 @@\n from django.middleware.csrf import get_token\n from django.utils.functional import lazy\n \n-def auth(request):\n-    \"\"\"\n-    DEPRECATED. This context processor is the old location, and has been moved\n-    to `django.contrib.auth.context_processors`.\n-\n-    This function still exists for backwards-compatibility; it will be removed\n-    in Django 1.4.\n-    \"\"\"\n-    import warnings\n-    warnings.warn(\n-        \"The context processor at `django.core.context_processors.auth` is \" \\\n-        \"deprecated; use the path `django.contrib.auth.context_processors.auth` \" \\\n-        \"instead.\",\n-        DeprecationWarning\n-    )\n-    from django.contrib.auth.context_processors import auth as auth_context_processor\n-    return auth_context_processor(request)\n-\n def csrf(request):\n     \"\"\"\n     Context processor that provides a CSRF token, or the string 'NOTPROVIDED' if\n@@ -97,7 +79,7 @@ def __init__(self, *args, **kwargs):\n             \"`django.core.context_processors.PermLookupDict` is \" \\\n             \"deprecated; use `django.contrib.auth.context_processors.PermLookupDict` \" \\\n             \"instead.\",\n-            PendingDeprecationWarning\n+            DeprecationWarning\n         )\n         super(PermLookupDict, self).__init__(*args, **kwargs)\n \n@@ -108,6 +90,6 @@ def __init__(self, *args, **kwargs):\n             \"`django.core.context_processors.PermWrapper` is \" \\\n             \"deprecated; use `django.contrib.auth.context_processors.PermWrapper` \" \\\n             \"instead.\",\n-            PendingDeprecationWarning\n+            DeprecationWarning\n         )\n         super(PermWrapper, self).__init__(*args, **kwargs)"
        },
        {
            "sha": "e5c7467072621d9a7c89c30ea85306568f5d2e87",
            "filename": "django/core/handlers/modpython.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fhandlers%2Fmodpython.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fhandlers%2Fmodpython.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fhandlers%2Fmodpython.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -160,7 +160,7 @@ class ModPythonHandler(BaseHandler):\n \n     def __call__(self, req):\n         warn(('The mod_python handler is deprecated; use a WSGI or FastCGI server instead.'),\n-             PendingDeprecationWarning)\n+             DeprecationWarning)\n \n         # mod_python fakes the environ, and thus doesn't process SetEnv.  This fixes that\n         os.environ.update(req.subprocess_env)"
        },
        {
            "sha": "2c71b115419e2b241ff151e18217249e889d9907",
            "filename": "django/core/mail/__init__.py",
            "status": "modified",
            "additions": 0,
            "deletions": 10,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmail%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmail%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmail%2F__init__.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -107,13 +107,3 @@ def mail_managers(subject, message, fail_silently=False, connection=None,\n     if html_message:\n         mail.attach_alternative(html_message, 'text/html')\n     mail.send(fail_silently=fail_silently)\n-\n-\n-class SMTPConnection(_SMTPConnection):\n-    def __init__(self, *args, **kwds):\n-        import warnings\n-        warnings.warn(\n-            'mail.SMTPConnection is deprecated; use mail.get_connection() instead.',\n-            DeprecationWarning\n-        )\n-        super(SMTPConnection, self).__init__(*args, **kwds)"
        },
        {
            "sha": "8aa7e8862680a1ab66e6dfc1d2718f33ce8b9121",
            "filename": "django/core/management/commands/reset.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fcommands%2Freset.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fcommands%2Freset.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Freset.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -24,7 +24,7 @@ def handle_app(self, app, **options):\n         import warnings\n         warnings.warn(\n             'This command has been deprecated. The command ``flush`` can be used to delete everything. You can also use ALTER TABLE or DROP TABLE statements manually.',\n-            PendingDeprecationWarning\n+            DeprecationWarning\n         )\n         using = options.get('database', DEFAULT_DB_ALIAS)\n         connection = connections[using]"
        },
        {
            "sha": "1be1e1e7681d5e6a2f58e3df190bd0d4c05c820f",
            "filename": "django/core/management/commands/test.py",
            "status": "modified",
            "additions": 2,
            "deletions": 12,
            "changes": 14,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fcommands%2Ftest.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fcommands%2Ftest.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fcommands%2Ftest.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -23,18 +23,8 @@ def handle(self, *test_labels, **options):\n         failfast = options.get('failfast', False)\n         TestRunner = get_runner(settings)\n \n-        if hasattr(TestRunner, 'func_name'):\n-            # Pre 1.2 test runners were just functions,\n-            # and did not support the 'failfast' option.\n-            import warnings\n-            warnings.warn(\n-                'Function-based test runners are deprecated. Test runners should be classes with a run_tests() method.',\n-                DeprecationWarning\n-            )\n-            failures = TestRunner(test_labels, verbosity=verbosity, interactive=interactive)\n-        else:\n-            test_runner = TestRunner(verbosity=verbosity, interactive=interactive, failfast=failfast)\n-            failures = test_runner.run_tests(test_labels)\n+        test_runner = TestRunner(verbosity=verbosity, interactive=interactive, failfast=failfast)\n+        failures = test_runner.run_tests(test_labels)\n \n         if failures:\n             sys.exit(bool(failures))"
        },
        {
            "sha": "dc3fc5794ecc0e74c12f202616b3d31bb79ea42e",
            "filename": "django/core/management/sql.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fsql.py",
            "raw_url": "https://github.com/django/django/raw/af00f29ecb7647e455d3207a4af1c587d7d53e2f/django%2Fcore%2Fmanagement%2Fsql.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fmanagement%2Fsql.py?ref=af00f29ecb7647e455d3207a4af1c587d7d53e2f",
            "patch": "@@ -102,7 +102,7 @@ def sql_reset(app, style, connection):\n     import warnings\n     warnings.warn(\n         'This command has been deprecated. The command ``sqlflush`` can be used to delete everything. You can also use ALTER TABLE or DROP TABLE statements manually.',\n-        PendingDeprecationWarning\n+        DeprecationWarning\n     )\n     return sql_delete(app, style, connection) + sql_all(app, style, connection)\n "
        }
    ],
    "stats": {
        "total": 52,
        "additions": 7,
        "deletions": 45
    }
}