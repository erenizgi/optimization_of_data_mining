{
    "author": "kmtracey",
    "message": "Fixed #15722: ensure formsets evaluate to True even if they have no forms. Thanks mlavin.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16756 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "e061b036a54597b6a994573ea6aa2ee02ca8838e",
    "files": [
        {
            "sha": "6f4783116d866b0612bcdccc5b61889597dd5cd2",
            "filename": "django/forms/formsets.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/e061b036a54597b6a994573ea6aa2ee02ca8838e/django%2Fforms%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/e061b036a54597b6a994573ea6aa2ee02ca8838e/django%2Fforms%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fforms%2Fformsets.py?ref=e061b036a54597b6a994573ea6aa2ee02ca8838e",
            "patch": "@@ -60,6 +60,10 @@ def __getitem__(self, index):\n     def __len__(self):\n         return len(self.forms)\n \n+    def __nonzero__(self):\n+        \"\"\"All formsets have a management form which is not included in the length\"\"\"\n+        return True\n+\n     def _management_form(self):\n         \"\"\"Returns the ManagementForm instance for this FormSet.\"\"\"\n         if self.is_bound:"
        },
        {
            "sha": "869b6e35a6c940c1652578463c7007422279fff1",
            "filename": "tests/regressiontests/forms/tests/formsets.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/e061b036a54597b6a994573ea6aa2ee02ca8838e/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "raw_url": "https://github.com/django/django/raw/e061b036a54597b6a994573ea6aa2ee02ca8838e/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fformsets.py?ref=e061b036a54597b6a994573ea6aa2ee02ca8838e",
            "patch": "@@ -805,6 +805,17 @@ def __iter__(self):\n         self.assertEqual(str(reverse_formset[1]), str(forms[-2]))\n         self.assertEqual(len(reverse_formset), len(forms))\n \n+    def test_formset_nonzero(self):\n+        \"\"\"\n+        Formsets with no forms should still evaluate as true.\n+        Regression test for #15722\n+        \"\"\"\n+        ChoiceFormset = formset_factory(Choice, extra=0)\n+        formset = ChoiceFormset()\n+        self.assertEqual(len(formset.forms), 0)\n+        self.assertTrue(formset)\n+\n+\n data = {\n     'choices-TOTAL_FORMS': '1', # the number of forms rendered\n     'choices-INITIAL_FORMS': '0', # the number of forms with initial data"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 15,
        "deletions": 0
    }
}