{
    "author": "jezdez",
    "message": "Fixed #15008 -- Replaced all calls in the admin to render_to_response with TemplateResponses for easier customization. Thanks to Chris Adams for the initial patch.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16087 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "c8092b840b4151724a6babdbeb84cf3138057c6a",
    "files": [
        {
            "sha": "bd661f3f3e7596dcbf8df1d4e34c37e248d6200b",
            "filename": "django/contrib/admin/actions.py",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Factions.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Factions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Factions.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -2,12 +2,11 @@\n Built-in, globally-available admin actions.\n \"\"\"\n \n-from django import template\n from django.core.exceptions import PermissionDenied\n from django.contrib.admin import helpers\n from django.contrib.admin.util import get_deleted_objects, model_ngettext\n from django.db import router\n-from django.shortcuts import render_to_response\n+from django.template.response import TemplateResponse\n from django.utils.encoding import force_unicode\n from django.utils.translation import ugettext_lazy, ugettext as _\n \n@@ -76,10 +75,10 @@ def delete_selected(modeladmin, request, queryset):\n     }\n \n     # Display the confirmation page\n-    return render_to_response(modeladmin.delete_selected_confirmation_template or [\n+    return TemplateResponse(request, modeladmin.delete_selected_confirmation_template or [\n         \"admin/%s/%s/delete_selected_confirmation.html\" % (app_label, opts.object_name.lower()),\n         \"admin/%s/delete_selected_confirmation.html\" % app_label,\n         \"admin/delete_selected_confirmation.html\"\n-    ], context, context_instance=template.RequestContext(request))\n+    ], context, current_app=modeladmin.admin_site.name)\n \n delete_selected.short_description = ugettext_lazy(\"Delete selected %(verbose_name_plural)s\")"
        },
        {
            "sha": "098eda5463358b8e6a073b69ad28c9d536b1bad1",
            "filename": "django/contrib/admin/options.py",
            "status": "modified",
            "additions": 17,
            "deletions": 15,
            "changes": 32,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Foptions.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Foptions.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Foptions.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -1,5 +1,5 @@\n from functools import update_wrapper, partial\n-from django import forms, template\n+from django import forms\n from django.forms.formsets import all_valid\n from django.forms.models import (modelform_factory, modelformset_factory,\n     inlineformset_factory, BaseInlineFormSet)\n@@ -15,7 +15,8 @@\n from django.db.models.fields import BLANK_CHOICE_DASH, FieldDoesNotExist\n from django.db.models.sql.constants import LOOKUP_SEP, QUERY_TERMS\n from django.http import Http404, HttpResponse, HttpResponseRedirect\n-from django.shortcuts import get_object_or_404, render_to_response\n+from django.shortcuts import get_object_or_404\n+from django.template.response import SimpleTemplateResponse, TemplateResponse\n from django.utils.decorators import method_decorator\n from django.utils.datastructures import SortedDict\n from django.utils.html import escape, escapejs\n@@ -708,12 +709,12 @@ def render_change_form(self, request, context, add=False, change=False, form_url\n             form_template = self.add_form_template\n         else:\n             form_template = self.change_form_template\n-        context_instance = template.RequestContext(request, current_app=self.admin_site.name)\n-        return render_to_response(form_template or [\n+\n+        return TemplateResponse(request, form_template or [\n             \"admin/%s/%s/change_form.html\" % (app_label, opts.object_name.lower()),\n             \"admin/%s/change_form.html\" % app_label,\n             \"admin/change_form.html\"\n-        ], context, context_instance=context_instance)\n+        ], context, current_app=self.admin_site.name)\n \n     def response_add(self, request, obj, post_url_continue='../%s/'):\n         \"\"\"\n@@ -1074,7 +1075,9 @@ def changelist_view(self, request, extra_context=None):\n             # something is screwed up with the database, so display an error\n             # page.\n             if ERROR_FLAG in request.GET.keys():\n-                return render_to_response('admin/invalid_setup.html', {'title': _('Database error')})\n+                return SimpleTemplateResponse('admin/invalid_setup.html', {\n+                    'title': _('Database error'),\n+                })\n             return HttpResponseRedirect(request.path + '?' + ERROR_FLAG + '=1')\n \n         # If the request was POSTed, this might be a bulk action or a bulk\n@@ -1183,12 +1186,12 @@ def changelist_view(self, request, extra_context=None):\n             'actions_selection_counter': self.actions_selection_counter,\n         }\n         context.update(extra_context or {})\n-        context_instance = template.RequestContext(request, current_app=self.admin_site.name)\n-        return render_to_response(self.change_list_template or [\n+\n+        return TemplateResponse(request, self.change_list_template or [\n             'admin/%s/%s/change_list.html' % (app_label, opts.object_name.lower()),\n             'admin/%s/change_list.html' % app_label,\n             'admin/change_list.html'\n-        ], context, context_instance=context_instance)\n+        ], context, current_app=self.admin_site.name)\n \n     @csrf_protect_m\n     @transaction.commit_on_success\n@@ -1244,12 +1247,12 @@ def delete_view(self, request, object_id, extra_context=None):\n             \"app_label\": app_label,\n         }\n         context.update(extra_context or {})\n-        context_instance = template.RequestContext(request, current_app=self.admin_site.name)\n-        return render_to_response(self.delete_confirmation_template or [\n+\n+        return TemplateResponse(request, self.delete_confirmation_template or [\n             \"admin/%s/%s/delete_confirmation.html\" % (app_label, opts.object_name.lower()),\n             \"admin/%s/delete_confirmation.html\" % app_label,\n             \"admin/delete_confirmation.html\"\n-        ], context, context_instance=context_instance)\n+        ], context, current_app=self.admin_site.name)\n \n     def history_view(self, request, object_id, extra_context=None):\n         \"The 'history' admin view for this model.\"\n@@ -1272,12 +1275,11 @@ def history_view(self, request, object_id, extra_context=None):\n             'app_label': app_label,\n         }\n         context.update(extra_context or {})\n-        context_instance = template.RequestContext(request, current_app=self.admin_site.name)\n-        return render_to_response(self.object_history_template or [\n+        return TemplateResponse(request, self.object_history_template or [\n             \"admin/%s/%s/object_history.html\" % (app_label, opts.object_name.lower()),\n             \"admin/%s/object_history.html\" % app_label,\n             \"admin/object_history.html\"\n-        ], context, context_instance=context_instance)\n+        ], context, current_app=self.admin_site.name)\n \n class InlineModelAdmin(BaseModelAdmin):\n     \"\"\""
        },
        {
            "sha": "a933d9ed6815f2f77fb0564ebe87fd051d575d98",
            "filename": "django/contrib/admin/sites.py",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Fsites.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fadmin%2Fsites.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fadmin%2Fsites.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -9,7 +9,8 @@\n from django.db.models.base import ModelBase\n from django.core.exceptions import ImproperlyConfigured\n from django.core.urlresolvers import reverse\n-from django.shortcuts import render_to_response\n+from django.template.response import TemplateResponse\n+from django.utils.functional import update_wrapper\n from django.utils.safestring import mark_safe\n from django.utils.text import capfirst\n from django.utils.translation import ugettext as _\n@@ -377,10 +378,9 @@ def index(self, request, extra_context=None):\n             'root_path': self.root_path,\n         }\n         context.update(extra_context or {})\n-        context_instance = template.RequestContext(request, current_app=self.name)\n-        return render_to_response(self.index_template or 'admin/index.html', context,\n-            context_instance=context_instance\n-        )\n+        return TemplateResponse(request, [\n+            self.index_template or 'admin/index.html',\n+        ], context, current_app=self.name)\n \n     def app_index(self, request, app_label, extra_context=None):\n         user = request.user\n@@ -421,11 +421,11 @@ def app_index(self, request, app_label, extra_context=None):\n             'root_path': self.root_path,\n         }\n         context.update(extra_context or {})\n-        context_instance = template.RequestContext(request, current_app=self.name)\n-        return render_to_response(self.app_index_template or ('admin/%s/app_index.html' % app_label,\n-            'admin/app_index.html'), context,\n-            context_instance=context_instance\n-        )\n+\n+        return TemplateResponse(request, self.app_index_template or [\n+            'admin/%s/app_index.html' % app_label,\n+            'admin/app_index.html'\n+        ], context, current_app=self.name)\n \n # This global object represents the default admin site, for the common case.\n # You can instantiate AdminSite in your own code to create a custom admin site."
        },
        {
            "sha": "7d855d855d54d67c78f3d50f901ef4b2350fd59e",
            "filename": "django/contrib/auth/admin.py",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fauth%2Fadmin.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fauth%2Fadmin.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fadmin.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -6,8 +6,8 @@\n from django.contrib import messages\n from django.core.exceptions import PermissionDenied\n from django.http import HttpResponseRedirect, Http404\n-from django.shortcuts import render_to_response, get_object_or_404\n-from django.template import RequestContext\n+from django.shortcuts import get_object_or_404\n+from django.template.response import TemplateResponse\n from django.utils.html import escape\n from django.utils.decorators import method_decorator\n from django.utils.translation import ugettext, ugettext_lazy as _\n@@ -119,7 +119,7 @@ def user_change_password(self, request, id):\n         fieldsets = [(None, {'fields': form.base_fields.keys()})]\n         adminForm = admin.helpers.AdminForm(form, fieldsets, {})\n \n-        return render_to_response(self.change_user_password_template or 'admin/auth/user/change_password.html', {\n+        context = {\n             'title': _('Change password: %s') % escape(user.username),\n             'adminForm': adminForm,\n             'form': form,\n@@ -134,7 +134,11 @@ def user_change_password(self, request, id):\n             'save_as': False,\n             'show_save': True,\n             'root_path': self.admin_site.root_path,\n-        }, context_instance=RequestContext(request))\n+        }\n+        return TemplateResponse(request, [\n+            self.change_user_password_template or\n+            'admin/auth/user/change_password.html'\n+        ], context, current_app=self.admin_site.name)\n \n     def response_add(self, request, obj, post_url_continue='../%s/'):\n         \"\"\""
        },
        {
            "sha": "cfb265907bcf37240b8688fab92f2241e8891f4c",
            "filename": "django/contrib/auth/views.py",
            "status": "modified",
            "additions": 34,
            "deletions": 27,
            "changes": 61,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fauth%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/django%2Fcontrib%2Fauth%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fviews.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -3,8 +3,7 @@\n from django.conf import settings\n from django.core.urlresolvers import reverse\n from django.http import HttpResponseRedirect, QueryDict\n-from django.shortcuts import render_to_response\n-from django.template import RequestContext\n+from django.template.response import TemplateResponse\n from django.utils.http import base36_to_int\n from django.utils.translation import ugettext as _\n from django.views.decorators.cache import never_cache\n@@ -39,7 +38,7 @@ def login(request, template_name='registration/login.html',\n             if not redirect_to:\n                 redirect_to = settings.LOGIN_REDIRECT_URL\n \n-            # Security check -- don't allow redirection to a different\n+            # Heavier security check -- don't allow redirection to a different\n             # host.\n             elif netloc and netloc != request.get_host():\n                 redirect_to = settings.LOGIN_REDIRECT_URL\n@@ -64,9 +63,10 @@ def login(request, template_name='registration/login.html',\n         'site': current_site,\n         'site_name': current_site.name,\n     }\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n def logout(request, next_page=None,\n            template_name='registration/logged_out.html',\n@@ -90,9 +90,10 @@ def logout(request, next_page=None,\n             'site_name': current_site.name,\n             'title': _('Logged out')\n         }\n-        context.update(extra_context or {})\n-        return render_to_response(template_name, context,\n-                                  context_instance=RequestContext(request, current_app=current_app))\n+        if extra_context is not None:\n+            context.update(extra_context)\n+        return TemplateResponse(request, template_name, context,\n+                                current_app=current_app)\n     else:\n         # Redirect to this page until the session has been cleared.\n         return HttpResponseRedirect(next_page or request.path)\n@@ -159,17 +160,19 @@ def password_reset(request, is_admin_site=False,\n     context = {\n         'form': form,\n     }\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n def password_reset_done(request,\n                         template_name='registration/password_reset_done.html',\n                         current_app=None, extra_context=None):\n     context = {}\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n # Doesn't need csrf_protect since no-one can guess the URL\n @never_cache\n@@ -208,19 +211,21 @@ def password_reset_confirm(request, uidb36=None, token=None,\n         'form': form,\n         'validlink': validlink,\n     }\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n def password_reset_complete(request,\n                             template_name='registration/password_reset_complete.html',\n                             current_app=None, extra_context=None):\n     context = {\n         'login_url': settings.LOGIN_URL\n     }\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n @csrf_protect\n @login_required\n@@ -241,14 +246,16 @@ def password_change(request,\n     context = {\n         'form': form,\n     }\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)\n \n def password_change_done(request,\n                          template_name='registration/password_change_done.html',\n                          current_app=None, extra_context=None):\n     context = {}\n-    context.update(extra_context or {})\n-    return render_to_response(template_name, context,\n-                              context_instance=RequestContext(request, current_app=current_app))\n+    if extra_context is not None:\n+        context.update(extra_context)\n+    return TemplateResponse(request, template_name, context,\n+                            current_app=current_app)"
        },
        {
            "sha": "633c53f09a0d4f4f63f0e848f27e0fbf0aa444f8",
            "filename": "docs/ref/contrib/admin/index.txt",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fcontrib%2Fadmin%2Findex.txt?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -1064,6 +1064,13 @@ provided some extra mapping data that would not otherwise be available::\n             return super(MyModelAdmin, self).change_view(request, object_id,\n                 extra_context=my_context)\n \n+.. versionadded:: 1.4\n+\n+These views now return :class:`~django.template.response.TemplateResponse`\n+instances which allow you to easily customize the response data before\n+rendering. For more details, see the\n+:doc:`TemplateResponse documentation </ref/template-response>`.\n+\n ``ModelAdmin`` media definitions\n --------------------------------\n "
        },
        {
            "sha": "0537160cc03add132121dfccaeba813dce50932b",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 18,
            "deletions": 7,
            "changes": 25,
            "blob_url": "https://github.com/django/django/blob/c8092b840b4151724a6babdbeb84cf3138057c6a/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/c8092b840b4151724a6babdbeb84cf3138057c6a/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=c8092b840b4151724a6babdbeb84cf3138057c6a",
            "patch": "@@ -20,6 +20,7 @@\n from django.contrib.admin.views.main import IS_POPUP_VAR\n from django.forms.util import ErrorList\n import django.template.context\n+from django.template.response import TemplateResponse\n from django.test import TestCase\n from django.utils import formats\n from django.utils.cache import get_max_age\n@@ -76,6 +77,7 @@ def testBasicAddGet(self):\n         A smoke test to ensure GET on the add_view works.\n         \"\"\"\n         response = self.client.get('/test_admin/%s/admin_views/section/add/' % self.urlbit)\n+        self.assertIsInstance(response, TemplateResponse)\n         self.assertEqual(response.status_code, 200)\n \n     def testAddWithGETArgs(self):\n@@ -91,6 +93,7 @@ def testBasicEditGet(self):\n         A smoke test to ensure GET on the change_view works.\n         \"\"\"\n         response = self.client.get('/test_admin/%s/admin_views/section/1/' % self.urlbit)\n+        self.assertIsInstance(response, TemplateResponse)\n         self.assertEqual(response.status_code, 200)\n \n     def testBasicEditGetStringPK(self):\n@@ -488,40 +491,47 @@ class CustomModelAdminTest(AdminViewBasicTest):\n \n     def testCustomAdminSiteLoginForm(self):\n         self.client.logout()\n-        request = self.client.get('/test_admin/admin2/')\n-        self.assertEqual(request.status_code, 200)\n+        response = self.client.get('/test_admin/admin2/')\n+        self.assertIsInstance(response, TemplateResponse)\n+        self.assertEqual(response.status_code, 200)\n         login = self.client.post('/test_admin/admin2/', {\n             REDIRECT_FIELD_NAME: '/test_admin/admin2/',\n             LOGIN_FORM_KEY: 1,\n             'username': 'customform',\n             'password': 'secret',\n         })\n+        self.assertIsInstance(login, TemplateResponse)\n         self.assertEqual(login.status_code, 200)\n         self.assertContains(login, 'custom form error')\n \n     def testCustomAdminSiteLoginTemplate(self):\n         self.client.logout()\n         request = self.client.get('/test_admin/admin2/')\n+        self.assertIsInstance(request, TemplateResponse)\n         self.assertTemplateUsed(request, 'custom_admin/login.html')\n         self.assertTrue('Hello from a custom login template' in request.content)\n \n     def testCustomAdminSiteLogoutTemplate(self):\n         request = self.client.get('/test_admin/admin2/logout/')\n+        self.assertIsInstance(request, TemplateResponse)\n         self.assertTemplateUsed(request, 'custom_admin/logout.html')\n         self.assertTrue('Hello from a custom logout template' in request.content)\n \n     def testCustomAdminSiteIndexViewAndTemplate(self):\n         request = self.client.get('/test_admin/admin2/')\n+        self.assertIsInstance(request, TemplateResponse)\n         self.assertTemplateUsed(request, 'custom_admin/index.html')\n         self.assertTrue('Hello from a custom index template *bar*' in request.content)\n \n     def testCustomAdminSitePasswordChangeTemplate(self):\n         request = self.client.get('/test_admin/admin2/password_change/')\n+        self.assertIsInstance(request, TemplateResponse)\n         self.assertTemplateUsed(request, 'custom_admin/password_change_form.html')\n         self.assertTrue('Hello from a custom password change form template' in request.content)\n \n     def testCustomAdminSitePasswordChangeDoneTemplate(self):\n         request = self.client.get('/test_admin/admin2/password_change/done/')\n+        self.assertIsInstance(request, TemplateResponse)\n         self.assertTemplateUsed(request, 'custom_admin/password_change_done.html')\n         self.assertTrue('Hello from a custom password change done template' in request.content)\n \n@@ -631,7 +641,7 @@ def testLogin(self):\n         self.assertFalse(login.context)\n         self.client.get('/test_admin/admin/logout/')\n \n-        # Test if user enters email address\n+        # Test if user enters e-mail address\n         request = self.client.get('/test_admin/admin/')\n         self.assertEqual(request.status_code, 200)\n         login = self.client.post('/test_admin/admin/', self.super_email_login)\n@@ -641,7 +651,7 @@ def testLogin(self):\n         self.assertContains(login, \"Please enter a correct username and password.\")\n         new_user = User(username='jondoe', password='secret', email='super@example.com')\n         new_user.save()\n-        # check to ensure if there are multiple email addresses a user doesn't get a 500\n+        # check to ensure if there are multiple e-mail addresses a user doesn't get a 500\n         login = self.client.post('/test_admin/admin/', self.super_email_login)\n         self.assertContains(login, \"Please enter a correct username and password.\")\n \n@@ -1227,7 +1237,7 @@ def test_staff_member_required_decorator_works_as_per_admin_login(self):\n         # make sure the view removes test cookie\n         self.assertEqual(self.client.session.test_cookie_worked(), False)\n \n-        # Test if user enters email address\n+        # Test if user enters e-mail address\n         request = self.client.get('/test_admin/admin/secure-view/')\n         self.assertEqual(request.status_code, 200)\n         login = self.client.post('/test_admin/admin/secure-view/', self.super_email_login)\n@@ -1237,7 +1247,7 @@ def test_staff_member_required_decorator_works_as_per_admin_login(self):\n         self.assertContains(login, \"Please enter a correct username and password.\")\n         new_user = User(username='jondoe', password='secret', email='super@example.com')\n         new_user.save()\n-        # check to ensure if there are multiple email addresses a user doesn't get a 500\n+        # check to ensure if there are multiple e-mail addresses a user doesn't get a 500\n         login = self.client.post('/test_admin/admin/secure-view/', self.super_email_login)\n         self.assertContains(login, \"Please enter a correct username and password.\")\n \n@@ -1874,7 +1884,8 @@ def test_model_admin_default_delete_action(self):\n             'post': 'yes',\n         }\n         confirmation = self.client.post('/test_admin/admin/admin_views/subscriber/', action_data)\n-        self.assertContains(confirmation, \"Are you sure you want to delete the selected subscribers\")\n+        self.assertIsInstance(confirmation, TemplateResponse)\n+        self.assertContains(confirmation, \"Are you sure you want to delete the selected subscribers?\")\n         self.assertTrue(confirmation.content.count(ACTION_CHECKBOX_NAME) == 2)\n         response = self.client.post('/test_admin/admin/admin_views/subscriber/', delete_confirmation_data)\n         self.assertEqual(Subscriber.objects.count(), 0)"
        }
    ],
    "stats": {
        "total": 164,
        "additions": 97,
        "deletions": 67
    }
}