{
    "author": "aaugustin",
    "message": "Use the class decorator syntax available in Python >= 2.6. Refs #17965.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17829 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "eb163f37cb62268443d592f8ce08bd8a0ab9631d",
    "files": [
        {
            "sha": "bba2046b31bb261f735431cf5e5fa5b64c1806e7",
            "filename": "django/contrib/auth/tests/context_processors.py",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fcontext_processors.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -8,6 +8,12 @@\n from django.test.utils import override_settings\n \n \n+@override_settings(\n+    TEMPLATE_DIRS=(\n+            os.path.join(os.path.dirname(__file__), 'templates'),\n+        ),\n+    USE_TZ=False,                           # required for loading the fixture\n+)\n class AuthContextProcessorTests(TestCase):\n     \"\"\"\n     Tests for the ``django.contrib.auth.context_processors.auth`` processor\n@@ -95,10 +101,3 @@ def test_user_attrs(self):\n         # See bug #12060\n         self.assertEqual(response.context['user'], user)\n         self.assertEqual(user, response.context['user'])\n-\n-AuthContextProcessorTests = override_settings(\n-    TEMPLATE_DIRS=(\n-            os.path.join(os.path.dirname(__file__), 'templates'),\n-        ),\n-    USE_TZ=False,                           # required for loading the fixture\n-)(AuthContextProcessorTests)"
        },
        {
            "sha": "3ad2afd592badc16f71a8fdc88eddeacb43246f8",
            "filename": "django/contrib/auth/tests/forms.py",
            "status": "modified",
            "additions": 6,
            "deletions": 13,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fforms.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -11,6 +11,7 @@\n from django.utils.translation import ugettext as _\n \n \n+@override_settings(USE_TZ=False)\n class UserCreationFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -75,9 +76,8 @@ def test_success(self):\n         u = form.save()\n         self.assertEqual(repr(u), '<User: jsmith@example.com>')\n \n-UserCreationFormTest = override_settings(USE_TZ=False)(UserCreationFormTest)\n-\n \n+@override_settings(USE_TZ=False)\n class AuthenticationFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -128,9 +128,8 @@ def test_success(self):\n         self.assertTrue(form.is_valid())\n         self.assertEqual(form.non_field_errors(), [])\n \n-AuthenticationFormTest = override_settings(USE_TZ=False)(AuthenticationFormTest)\n-\n \n+@override_settings(USE_TZ=False)\n class SetPasswordFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -156,9 +155,8 @@ def test_success(self):\n         form = SetPasswordForm(user, data)\n         self.assertTrue(form.is_valid())\n \n-SetPasswordFormTest = override_settings(USE_TZ=False)(SetPasswordFormTest)\n-\n \n+@override_settings(USE_TZ=False)\n class PasswordChangeFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -205,9 +203,8 @@ def test_field_order(self):\n         self.assertEqual(PasswordChangeForm(user, {}).fields.keys(),\n                          ['old_password', 'new_password1', 'new_password2'])\n \n-PasswordChangeFormTest = override_settings(USE_TZ=False)(PasswordChangeFormTest)\n-\n \n+@override_settings(USE_TZ=False)\n class UserChangeFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -254,9 +251,7 @@ def test_bug_17944_unknown_password_algorithm(self):\n         form.as_table()\n \n \n-UserChangeFormTest = override_settings(USE_TZ=False)(UserChangeFormTest)\n-\n-\n+@override_settings(USE_TZ=False)\n class PasswordResetFormTest(TestCase):\n \n     fixtures = ['authtestdata.json']\n@@ -334,5 +329,3 @@ def test_unusable_password(self):\n         self.assertFalse(form.is_valid())\n         self.assertEqual(form[\"email\"].errors,\n                          [_(u\"The user account associated with this e-mail address cannot reset the password.\")])\n-\n-PasswordResetFormTest = override_settings(USE_TZ=False)(PasswordResetFormTest)"
        },
        {
            "sha": "8a1151168821aa71ccef6ffa08592c2a3badf85b",
            "filename": "django/contrib/auth/tests/hashers.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fhashers.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -4,7 +4,6 @@\n     PBKDF2SHA1PasswordHasher, get_hasher, UNUSABLE_PASSWORD)\n from django.utils import unittest\n from django.utils.unittest import skipUnless\n-from django.test.utils import override_settings\n \n \n try:\n@@ -19,6 +18,7 @@\n \n \n class TestUtilsHashPass(unittest.TestCase):\n+\n     def setUp(self):\n         load_hashers(password_hashers=default_hashers)\n "
        },
        {
            "sha": "324f433df6226d273209a82030f8e6efb5b4c2a6",
            "filename": "django/contrib/auth/tests/models.py",
            "status": "modified",
            "additions": 4,
            "deletions": 8,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fmodels.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -5,6 +5,7 @@\n     SiteProfileNotAvailable, UserManager)\n \n \n+@override_settings(USE_TZ=False)\n class ProfileTestCase(TestCase):\n     fixtures = ['authtestdata.json']\n \n@@ -38,9 +39,8 @@ def test_site_profile_not_available(self):\n         settings.AUTH_PROFILE_MODULE = 'foo.bar'\n         self.assertRaises(SiteProfileNotAvailable, user.get_profile)\n \n-ProfileTestCase = override_settings(USE_TZ=False)(ProfileTestCase)\n-\n \n+@override_settings(USE_TZ=False)\n class NaturalKeysTestCase(TestCase):\n     fixtures = ['authtestdata.json']\n \n@@ -53,9 +53,8 @@ def test_group_natural_key(self):\n         users_group = Group.objects.create(name='users')\n         self.assertEquals(Group.objects.get_by_natural_key('users'), users_group)\n \n-NaturalKeysTestCase = override_settings(USE_TZ=False)(NaturalKeysTestCase)\n-\n \n+@override_settings(USE_TZ=False)\n class LoadDataWithoutNaturalKeysTestCase(TestCase):\n     fixtures = ['regular.json']\n \n@@ -64,9 +63,8 @@ def test_user_is_created_and_added_to_group(self):\n         group = Group.objects.get(name='my_group')\n         self.assertEquals(group, user.groups.get())\n \n-LoadDataWithoutNaturalKeysTestCase = override_settings(USE_TZ=False)(LoadDataWithoutNaturalKeysTestCase)\n-\n \n+@override_settings(USE_TZ=False)\n class LoadDataWithNaturalKeysTestCase(TestCase):\n     fixtures = ['natural.json']\n \n@@ -75,8 +73,6 @@ def test_user_is_created_and_added_to_group(self):\n         group = Group.objects.get(name='my_group')\n         self.assertEquals(group, user.groups.get())\n \n-LoadDataWithNaturalKeysTestCase = override_settings(USE_TZ=False)(LoadDataWithNaturalKeysTestCase)\n-\n \n class UserManagerTestCase(TestCase):\n "
        },
        {
            "sha": "7730ab0952f1dd08d3dd931ab6c0ea9af210b5a2",
            "filename": "django/contrib/auth/tests/signals.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fsignals.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fsignals.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fsignals.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -3,6 +3,7 @@\n from django.contrib.auth import signals\n \n \n+@override_settings(USE_TZ=False)\n class SignalTestCase(TestCase):\n     urls = 'django.contrib.auth.tests.urls'\n     fixtures = ['authtestdata.json']\n@@ -46,5 +47,3 @@ def test_logout(self):\n         self.client.get('/logout/next_page/')\n         self.assertEqual(len(self.logged_out), 1)\n         self.assertEqual(self.logged_out[0].username, 'testclient')\n-\n-SignalTestCase = override_settings(USE_TZ=False)(SignalTestCase)"
        },
        {
            "sha": "ac1e225a3b9c74d72eacadba2d07ddb4facb6213",
            "filename": "django/contrib/auth/tests/views.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Ftests%2Fviews.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -18,6 +18,7 @@\n                 SetPasswordForm, PasswordResetForm)\n \n \n+@override_settings(USE_TZ=False)\n class AuthViewsTestCase(TestCase):\n     \"\"\"\n     Helper base class for all the follow test cases.\n@@ -52,8 +53,6 @@ def login(self, password='password'):\n     def assertContainsEscaped(self, response, text, **kwargs):\n         return self.assertContains(response, escape(force_unicode(text)), **kwargs)\n \n-AuthViewsTestCase = override_settings(USE_TZ=False)(AuthViewsTestCase)\n-\n \n class AuthViewNamedURLTests(AuthViewsTestCase):\n     urls = 'django.contrib.auth.urls'"
        },
        {
            "sha": "3cba692286e870744f268d2022bcb41b636d2544",
            "filename": "django/contrib/messages/tests/cookie.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fmessages%2Ftests%2Fcookie.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fmessages%2Ftests%2Fcookie.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fmessages%2Ftests%2Fcookie.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -38,6 +38,7 @@ def stored_cookie_messages_count(storage, response):\n     return len(data)\n \n \n+@override_settings(SESSION_COOKIE_DOMAIN='.lawrence.com')\n class CookieTest(BaseTest):\n     storage_class = CookieStorage\n \n@@ -130,6 +131,3 @@ def test_json_encoder_decoder(self):\n         value = encoder.encode(messages)\n         decoded_messages = json.loads(value, cls=MessageDecoder)\n         self.assertEqual(messages, decoded_messages)\n-\n-CookieTest = override_settings(\n-        SESSION_COOKIE_DOMAIN='.lawrence.com')(CookieTest)"
        },
        {
            "sha": "89bcce84ff22f752cfc9507a2bb5ecb2a82f606c",
            "filename": "django/contrib/sessions/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fsessions%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fsessions%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsessions%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -287,7 +287,9 @@ def test_sessionmanager_save(self):\n         self.assertEqual(self.session['y'], 2)\n \n \n-DatabaseSessionWithTimeZoneTests = override_settings(USE_TZ=True)(DatabaseSessionTests)\n+@override_settings(USE_TZ=True)\n+class DatabaseSessionWithTimeZoneTests(DatabaseSessionTests):\n+    pass\n \n \n class CacheDBSessionTests(SessionTestsMixin, TestCase):\n@@ -308,7 +310,9 @@ def test_load_overlong_key(self):\n         restore_warnings_state(warnings_state)\n \n \n-CacheDBSessionWithTimeZoneTests = override_settings(USE_TZ=True)(CacheDBSessionTests)\n+@override_settings(USE_TZ=True)\n+class CacheDBSessionWithTimeZoneTests(CacheDBSessionTests):\n+    pass\n \n \n # Don't need DB flushing for these tests, so can use unittest.TestCase as base class"
        },
        {
            "sha": "d4f9053fc8ca8f19ce3fbb52b868c5fd5e1c0870",
            "filename": "django/contrib/sitemaps/tests/https.py",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttps.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttps.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fsitemaps%2Ftests%2Fhttps.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -26,7 +26,8 @@ def test_secure_sitemap_section(self):\n </urlset>\n \"\"\" % (self.base_url, date.today()))\n \n-#@override_settings(SECURE_PROXY_SSL_HEADER=False)\n+\n+@override_settings(SECURE_PROXY_SSL_HEADER=False)\n class HTTPSDetectionSitemapTests(SitemapTestsBase):\n     extra = {'wsgi.url_scheme': 'https'}\n \n@@ -47,5 +48,3 @@ def test_sitemap_section_with_https_request(self):\n <url><loc>%s/location/</loc><lastmod>%s</lastmod><changefreq>never</changefreq><priority>0.5</priority></url>\n </urlset>\n \"\"\" % (self.base_url.replace('http://', 'https://'), date.today()))\n-\n-HTTPSDetectionSitemapTests = override_settings(SECURE_PROXY_SSL_HEADER=False)(HTTPSDetectionSitemapTests)"
        },
        {
            "sha": "39f07708ff3f7c338bf34f5cf91f572574577484",
            "filename": "docs/topics/testing.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 15,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/docs%2Ftopics%2Ftesting.txt",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/docs%2Ftopics%2Ftesting.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Ftopics%2Ftesting.txt?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -1450,14 +1450,13 @@ The decorator can also be applied to test case classes::\n     from django.test import TestCase\n     from django.test.utils import override_settings\n \n+    @override_settings(LOGIN_URL='/other/login/')\n     class LoginTestCase(TestCase):\n \n         def test_login(self):\n             response = self.client.get('/sekrit/')\n             self.assertRedirects(response, '/other/login/?next=/sekrit/')\n \n-    LoginTestCase = override_settings(LOGIN_URL='/other/login/')(LoginTestCase)\n-\n .. note::\n \n     When given a class, the decorator modifies the class directly and\n@@ -1467,19 +1466,6 @@ The decorator can also be applied to test case classes::\n     the original ``LoginTestCase`` is still equally affected by the\n     decorator.\n \n-On Python 2.6 and higher you can also use the well known decorator syntax to\n-decorate the class::\n-\n-    from django.test import TestCase\n-    from django.test.utils import override_settings\n-\n-    @override_settings(LOGIN_URL='/other/login/')\n-    class LoginTestCase(TestCase):\n-\n-        def test_login(self):\n-            response = self.client.get('/sekrit/')\n-            self.assertRedirects(response, '/other/login/?next=/sekrit/')\n-\n .. note::\n \n     When overriding settings, make sure to handle the cases in which your app's"
        },
        {
            "sha": "ae5ab20b5fa05370185e9590189894a068540790",
            "filename": "tests/modeltests/proxy_model_inheritance/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fproxy_model_inheritance%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -18,7 +18,7 @@\n from django.test.utils import override_settings\n \n \n-# @override_settings(INSTALLED_APPS=('app1', 'app2'))\n+@override_settings(INSTALLED_APPS=('app1', 'app2'))\n class ProxyModelInheritanceTests(TransactionTestCase):\n \n     def setUp(self):\n@@ -41,5 +41,3 @@ def test_table_exists(self):\n         from .app2.models import NiceModel\n         self.assertEqual(NiceModel.objects.all().count(), 0)\n         self.assertEqual(ProxyModel.objects.all().count(), 0)\n-\n-ProxyModelInheritanceTests = override_settings(INSTALLED_APPS=('app1', 'app2'))(ProxyModelInheritanceTests)"
        },
        {
            "sha": "7505503d1fc60f8357e0751398d25cd21d0839e6",
            "filename": "tests/modeltests/timezones/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 20,
            "changes": 26,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fmodeltests%2Ftimezones%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Ftimezones%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -74,7 +74,7 @@ def tearDownClass(self):\n             time.tzset()\n \n \n-#@override_settings(USE_TZ=False)\n+@override_settings(USE_TZ=False)\n class LegacyDatabaseTests(BaseDateTimeTests):\n \n     def test_naive_datetime(self):\n@@ -268,14 +268,11 @@ def test_raw_sql(self):\n                 [event],\n                 transform=lambda d: d)\n \n-LegacyDatabaseTests = override_settings(USE_TZ=False)(LegacyDatabaseTests)\n \n-\n-#@override_settings(USE_TZ=True)\n+@override_settings(USE_TZ=True)\n class NewDatabaseTests(BaseDateTimeTests):\n \n     @requires_tz_support\n-    @skipIf(sys.version_info < (2, 6), \"this test requires Python >= 2.6\")\n     def test_naive_datetime(self):\n         dt = datetime.datetime(2011, 9, 1, 13, 20, 30)\n         with warnings.catch_warnings(record=True) as recorded:\n@@ -289,7 +286,6 @@ def test_naive_datetime(self):\n         self.assertEqual(event.dt, dt.replace(tzinfo=EAT))\n \n     @requires_tz_support\n-    @skipIf(sys.version_info < (2, 6), \"this test requires Python >= 2.6\")\n     def test_datetime_from_date(self):\n         dt = datetime.date(2011, 9, 1)\n         with warnings.catch_warnings(record=True) as recorded:\n@@ -302,7 +298,6 @@ def test_datetime_from_date(self):\n         self.assertEqual(event.dt, datetime.datetime(2011, 9, 1, tzinfo=EAT))\n \n     @requires_tz_support\n-    @skipIf(sys.version_info < (2, 6), \"this test requires Python >= 2.6\")\n     @skipUnlessDBFeature('supports_microsecond_precision')\n     def test_naive_datetime_with_microsecond(self):\n         dt = datetime.datetime(2011, 9, 1, 13, 20, 30, 405060)\n@@ -317,7 +312,6 @@ def test_naive_datetime_with_microsecond(self):\n         self.assertEqual(event.dt, dt.replace(tzinfo=EAT))\n \n     @requires_tz_support\n-    @skipIf(sys.version_info < (2, 6), \"this test requires Python >= 2.6\")\n     @skipIfDBFeature('supports_microsecond_precision')\n     def test_naive_datetime_with_microsecond_unsupported(self):\n         dt = datetime.datetime(2011, 9, 1, 13, 20, 30, 405060)\n@@ -400,7 +394,6 @@ def test_query_filter_with_pytz_timezones(self):\n         self.assertEqual(Event.objects.filter(dt__range=(prev, next)).count(), 1)\n \n     @requires_tz_support\n-    @skipIf(sys.version_info < (2, 6), \"this test requires Python >= 2.6\")\n     def test_query_filter_with_naive_datetime(self):\n         dt = datetime.datetime(2011, 9, 1, 12, 20, 30, tzinfo=EAT)\n         Event.objects.create(dt=dt)\n@@ -492,8 +485,6 @@ def test_null_datetime(self):\n         e = MaybeEvent.objects.create()\n         self.assertEqual(e.dt, None)\n \n-NewDatabaseTests = override_settings(USE_TZ=True)(NewDatabaseTests)\n-\n \n class SerializationTests(BaseDateTimeTests):\n \n@@ -648,7 +639,7 @@ def test_aware_datetime_in_other_timezone(self):\n             obj = serializers.deserialize('yaml', data).next().object\n             self.assertEqual(obj.dt.replace(tzinfo=UTC), dt)\n \n-#@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n+@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n class TemplateTests(BaseDateTimeTests):\n \n     @requires_tz_support\n@@ -887,9 +878,8 @@ def test_now_template_tag_uses_current_time_zone(self):\n         with timezone.override(ICT):\n             self.assertEqual(tpl.render(Context({})), \"+0700\")\n \n-TemplateTests = override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)(TemplateTests)\n \n-#@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=False)\n+@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=False)\n class LegacyFormsTests(BaseDateTimeTests):\n \n     def test_form(self):\n@@ -923,9 +913,8 @@ def test_model_form(self):\n         e = Event.objects.get()\n         self.assertEqual(e.dt, datetime.datetime(2011, 9, 1, 13, 20, 30))\n \n-LegacyFormsTests = override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=False)(LegacyFormsTests)\n \n-#@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n+@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n class NewFormsTests(BaseDateTimeTests):\n \n     @requires_tz_support\n@@ -970,9 +959,8 @@ def test_model_form(self):\n         e = Event.objects.get()\n         self.assertEqual(e.dt, datetime.datetime(2011, 9, 1, 10, 20, 30, tzinfo=UTC))\n \n-NewFormsTests = override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)(NewFormsTests)\n \n-#@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n+@override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)\n class AdminTests(BaseDateTimeTests):\n \n     urls = 'modeltests.timezones.urls'\n@@ -1023,8 +1011,6 @@ def test_change_readonly_in_other_timezone(self):\n             response = self.client.get(reverse('admin:timezones_timestamp_change', args=(t.pk,)))\n         self.assertContains(response, t.created.astimezone(ICT).isoformat())\n \n-AdminTests = override_settings(DATETIME_FORMAT='c', USE_L10N=False, USE_TZ=True)(AdminTests)\n-\n \n class UtilitiesTests(BaseDateTimeTests):\n "
        },
        {
            "sha": "564e4924bbb35befe2542d5df258d524bc1e59bd",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -3315,7 +3315,7 @@ def test_css_classes(self):\n except ImportError:\n     docutils = None\n \n-#@unittest.skipUnless(docutils, \"no docutils installed.\")\n+@unittest.skipUnless(docutils, \"no docutils installed.\")\n class AdminDocsTest(TestCase):\n     urls = \"regressiontests.admin_views.urls\"\n     fixtures = ['admin-views-users.xml']\n@@ -3357,7 +3357,6 @@ def test_filters(self):\n         self.assertContains(response, '<h3 id=\"built_in-add\">add</h3>', html=True)\n         self.assertContains(response, '<li><a href=\"#built_in-add\">add</a></li>', html=True)\n \n-AdminDocsTest = unittest.skipUnless(docutils, \"no docutils installed.\")(AdminDocsTest)\n \n class ValidXHTMLTests(TestCase):\n     urls = \"regressiontests.admin_views.urls\""
        },
        {
            "sha": "00ccda6102a4a4a4382a9d09a8995db1ee66a0b0",
            "filename": "tests/regressiontests/cache/tests.py",
            "status": "modified",
            "additions": 61,
            "deletions": 57,
            "changes": 118,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fcache%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcache%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -824,7 +824,9 @@ def test_second_call_doesnt_crash(self):\n         self.assertTrue(\"Cache table 'test cache table' could not be created\" in err.getvalue())\n \n \n-DBCacheWithTimeZoneTests = override_settings(USE_TZ=True)(DBCacheTests)\n+@override_settings(USE_TZ=True)\n+class DBCacheWithTimeZoneTests(DBCacheTests):\n+    pass\n \n \n class DBCacheRouter(object):\n@@ -927,6 +929,9 @@ def test_incr_decr_timeout(self):\n # To check the memcached backend, the test settings file will\n # need to contain a cache backend setting that points at\n # your memcache server.\n+@unittest.skipUnless(\n+    settings.CACHES[DEFAULT_CACHE_ALIAS]['BACKEND'].startswith('django.core.cache.backends.memcached.'),\n+    \"memcached not available\")\n class MemcachedCacheTests(unittest.TestCase, BaseCacheTests):\n     backend_name = 'django.core.cache.backends.memcached.MemcachedCache'\n \n@@ -956,8 +961,6 @@ def test_invalid_keys(self):\n         # memcached limits key length to 250\n         self.assertRaises(Exception, self.cache.set, 'a' * 251, 'value')\n \n-MemcachedCacheTests = unittest.skipUnless(settings.CACHES[DEFAULT_CACHE_ALIAS]['BACKEND'].startswith('django.core.cache.backends.memcached.'), \"memcached not available\")(MemcachedCacheTests)\n-\n \n class FileBasedCacheTests(unittest.TestCase, BaseCacheTests):\n     \"\"\"\n@@ -1048,6 +1051,16 @@ def test_close(self):\n         self.assertTrue(cache.closed)\n \n \n+@override_settings(\n+        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n+        CACHE_MIDDLEWARE_SECONDS=1,\n+        CACHES={\n+            'default': {\n+                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n+            },\n+        },\n+        USE_I18N=False,\n+)\n class CacheUtils(TestCase):\n     \"\"\"TestCase for django.utils.cache functions.\"\"\"\n \n@@ -1144,27 +1157,28 @@ def test_patch_cache_control(self):\n             parts = set(cc_delim_re.split(response['Cache-Control']))\n             self.assertEqual(parts, expected_cc)\n \n-CacheUtils = override_settings(\n-        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n-        CACHE_MIDDLEWARE_SECONDS=1,\n+\n+@override_settings(\n         CACHES={\n             'default': {\n                 'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n+                'KEY_PREFIX': 'cacheprefix',\n             },\n         },\n-        USE_I18N=False,\n-)(CacheUtils)\n+)\n+class PrefixedCacheUtils(CacheUtils):\n+    pass\n+\n \n-PrefixedCacheUtils = override_settings(\n+@override_settings(\n+        CACHE_MIDDLEWARE_SECONDS=60,\n+        CACHE_MIDDLEWARE_KEY_PREFIX='test',\n         CACHES={\n             'default': {\n                 'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n-                'KEY_PREFIX': 'cacheprefix',\n             },\n         },\n-)(CacheUtils)\n-\n-\n+)\n class CacheHEADTest(TestCase):\n \n     def setUp(self):\n@@ -1216,17 +1230,19 @@ def test_head_with_cached_get(self):\n         self.assertNotEqual(get_cache_data, None)\n         self.assertEqual(test_content, get_cache_data.content)\n \n-CacheHEADTest = override_settings(\n-        CACHE_MIDDLEWARE_SECONDS=60,\n-        CACHE_MIDDLEWARE_KEY_PREFIX='test',\n+\n+@override_settings(\n+        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n         CACHES={\n             'default': {\n                 'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n             },\n         },\n-)(CacheHEADTest)\n-\n-\n+        LANGUAGES=(\n+            ('en', 'English'),\n+            ('es', 'Spanish'),\n+        ),\n+)\n class CacheI18nTest(TestCase):\n \n     def setUp(self):\n@@ -1391,33 +1407,39 @@ def set_cache(request, lang, msg):\n         # reset the language\n         translation.deactivate()\n \n-CacheI18nTest = override_settings(\n-        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n-        CACHES={\n-            'default': {\n-                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n-            },\n-        },\n-        LANGUAGES=(\n-            ('en', 'English'),\n-            ('es', 'Spanish'),\n-        ),\n-)(CacheI18nTest)\n \n-PrefixedCacheI18nTest = override_settings(\n+@override_settings(\n         CACHES={\n             'default': {\n                 'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n                 'KEY_PREFIX': 'cacheprefix'\n             },\n         },\n-)(CacheI18nTest)\n+)\n+class PrefixedCacheI18nTest(CacheI18nTest):\n+    pass\n \n \n def hello_world_view(request, value):\n     return HttpResponse('Hello World %s' % value)\n \n \n+@override_settings(\n+        CACHE_MIDDLEWARE_ALIAS='other',\n+        CACHE_MIDDLEWARE_KEY_PREFIX='middlewareprefix',\n+        CACHE_MIDDLEWARE_SECONDS=30,\n+        CACHE_MIDDLEWARE_ANONYMOUS_ONLY=False,\n+        CACHES={\n+            'default': {\n+                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n+            },\n+            'other': {\n+                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n+                'LOCATION': 'other',\n+                'TIMEOUT': '1',\n+            },\n+        },\n+)\n class CacheMiddlewareTest(TestCase):\n \n     def setUp(self):\n@@ -1635,24 +1657,17 @@ def test_view_decorator(self):\n         response = other_with_timeout_view(request, '18')\n         self.assertEqual(response.content, 'Hello World 18')\n \n-CacheMiddlewareTest = override_settings(\n-        CACHE_MIDDLEWARE_ALIAS='other',\n-        CACHE_MIDDLEWARE_KEY_PREFIX='middlewareprefix',\n-        CACHE_MIDDLEWARE_SECONDS=30,\n-        CACHE_MIDDLEWARE_ANONYMOUS_ONLY=False,\n+\n+@override_settings(\n+        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n+        CACHE_MIDDLEWARE_SECONDS=1,\n         CACHES={\n             'default': {\n                 'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n             },\n-            'other': {\n-                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n-                'LOCATION': 'other',\n-                'TIMEOUT': '1',\n-            },\n         },\n-)(CacheMiddlewareTest)\n-\n-\n+        USE_I18N=False,\n+)\n class TestWithTemplateResponse(TestCase):\n     \"\"\"\n     Tests various headers w/ TemplateResponse.\n@@ -1740,17 +1755,6 @@ def test_with_etag(self):\n         response = response.render()\n         self.assertTrue(response.has_header('ETag'))\n \n-TestWithTemplateResponse = override_settings(\n-        CACHE_MIDDLEWARE_KEY_PREFIX='settingsprefix',\n-        CACHE_MIDDLEWARE_SECONDS=1,\n-        CACHES={\n-            'default': {\n-                'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n-            },\n-        },\n-        USE_I18N=False,\n-)(TestWithTemplateResponse)\n-\n \n class TestEtagWithAdmin(TestCase):\n     # See https://code.djangoproject.com/ticket/16003"
        },
        {
            "sha": "c492a1e539ecf9aef4e97d1a32d708a75a691b9d",
            "filename": "tests/regressiontests/forms/tests/media.py",
            "status": "modified",
            "additions": 8,
            "deletions": 11,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fforms%2Ftests%2Fmedia.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fforms%2Ftests%2Fmedia.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Fmedia.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -5,6 +5,10 @@\n from django.test.utils import override_settings\n \n \n+@override_settings(\n+    STATIC_URL=None,\n+    MEDIA_URL='http://media.example.com/media/',\n+)\n class FormsMediaTestCase(TestCase):\n     \"\"\"Tests for the media handling on widgets and forms\"\"\"\n \n@@ -451,12 +455,11 @@ class Media:\n <link href=\"/path/to/css3\" type=\"text/css\" media=\"all\" rel=\"stylesheet\" />\n <link href=\"/some/form/css\" type=\"text/css\" media=\"all\" rel=\"stylesheet\" />\"\"\")\n \n-FormsMediaTestCase = override_settings(\n-    STATIC_URL=None,\n-    MEDIA_URL='http://media.example.com/media/',\n-)(FormsMediaTestCase)\n-\n \n+@override_settings(\n+    STATIC_URL='http://media.example.com/static/',\n+    MEDIA_URL='http://media.example.com/media/',\n+)\n class StaticFormsMediaTestCase(TestCase):\n     \"\"\"Tests for the media handling on widgets and forms\"\"\"\n \n@@ -902,9 +905,3 @@ class Media:\n <link href=\"/path/to/css2\" type=\"text/css\" media=\"all\" rel=\"stylesheet\" />\n <link href=\"/path/to/css3\" type=\"text/css\" media=\"all\" rel=\"stylesheet\" />\n <link href=\"/some/form/css\" type=\"text/css\" media=\"all\" rel=\"stylesheet\" />\"\"\")\n-\n-\n-StaticFormsMediaTestCase = override_settings(\n-    STATIC_URL='http://media.example.com/static/',\n-    MEDIA_URL='http://media.example.com/media/',\n-)(StaticFormsMediaTestCase)"
        },
        {
            "sha": "baaa6ada42b0aa88e1400569d2d18dbdb5728226",
            "filename": "tests/regressiontests/i18n/contenttypes/tests.py",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fi18n%2Fcontenttypes%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fi18n%2Fcontenttypes%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fcontenttypes%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -8,6 +8,17 @@\n from django.utils import translation\n \n \n+@override_settings(\n+    USE_I18N=True,\n+    LOCALE_PATHS=(\n+        os.path.join(os.path.dirname(__file__), 'locale'),\n+    ),\n+    LANGUAGE_CODE='en',\n+    LANGUAGES=(\n+        ('en', 'English'),\n+        ('fr', 'French'),\n+    ),\n+)\n class ContentTypeTests(TestCase):\n     def test_verbose_name(self):\n         company_type = ContentType.objects.get(app_label='i18n', model='company')\n@@ -20,15 +31,3 @@ def test_field_override(self):\n         company_type = ContentType.objects.get(app_label='i18n', model='company')\n         company_type.name = 'Other'\n         self.assertEqual(unicode(company_type), 'Other')\n-\n-ContentTypeTests = override_settings(\n-    USE_I18N=True,\n-    LOCALE_PATHS=(\n-        os.path.join(os.path.dirname(__file__), 'locale'),\n-    ),\n-    LANGUAGE_CODE='en',\n-    LANGUAGES=(\n-        ('en', 'English'),\n-        ('fr', 'French'),\n-    ),\n-)(ContentTypeTests)"
        },
        {
            "sha": "d8ca3accd62f3661dc3dea0e16704b5954e10575",
            "filename": "tests/regressiontests/i18n/patterns/tests.py",
            "status": "modified",
            "additions": 15,
            "deletions": 16,
            "changes": 31,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fi18n%2Fpatterns%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fi18n%2Fpatterns%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fi18n%2Fpatterns%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -9,21 +9,7 @@\n from django.utils import translation\n \n \n-class URLTestCaseBase(TestCase):\n-    \"\"\"\n-    TestCase base-class for the URL tests.\n-    \"\"\"\n-    urls = 'regressiontests.i18n.patterns.urls.default'\n-\n-    def setUp(self):\n-        # Make sure the cache is empty before we are doing our tests.\n-        clear_url_caches()\n-\n-    def tearDown(self):\n-        # Make sure we will leave an empty cache for other testcases.\n-        clear_url_caches()\n-\n-URLTestCaseBase = override_settings(\n+@override_settings(\n     USE_I18N=True,\n     LOCALE_PATHS=(\n         os.path.join(os.path.dirname(__file__), 'locale'),\n@@ -41,7 +27,20 @@ def tearDown(self):\n         'django.middleware.locale.LocaleMiddleware',\n         'django.middleware.common.CommonMiddleware',\n     ),\n-)(URLTestCaseBase)\n+)\n+class URLTestCaseBase(TestCase):\n+    \"\"\"\n+    TestCase base-class for the URL tests.\n+    \"\"\"\n+    urls = 'regressiontests.i18n.patterns.urls.default'\n+\n+    def setUp(self):\n+        # Make sure the cache is empty before we are doing our tests.\n+        clear_url_caches()\n+\n+    def tearDown(self):\n+        # Make sure we will leave an empty cache for other testcases.\n+        clear_url_caches()\n \n \n class URLPrefixTests(URLTestCaseBase):"
        },
        {
            "sha": "3adb10964afc0ad17b82052e4d32edec0aa5bcb7",
            "filename": "tests/regressiontests/middleware/tests.py",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fmiddleware%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fmiddleware%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmiddleware%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -584,6 +584,7 @@ def test_no_compress_uncompressible_response(self):\n         self.assertEqual(r.get('Content-Encoding'), None)\n \n \n+@override_settings(USE_ETAGS=True)\n class ETagGZipMiddlewareTest(TestCase):\n     \"\"\"\n     Tests if the ETag middleware behaves correctly with GZip middleware.\n@@ -610,6 +611,3 @@ def test_compress_response(self):\n         nogzip_etag = response.get('ETag')\n \n         self.assertNotEqual(gzip_etag, nogzip_etag)\n-ETagGZipMiddlewareTest = override_settings(\n-    USE_ETAGS=True,\n-)(ETagGZipMiddlewareTest)"
        },
        {
            "sha": "48dc1a19949ab2d2ee5abf7d1c1bfd758e8f0a73",
            "filename": "tests/regressiontests/settings_tests/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fsettings_tests%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -6,7 +6,7 @@\n from django.test.utils import override_settings\n \n \n-# @override_settings(TEST='override')\n+@override_settings(TEST='override')\n class FullyDecoratedTranTestCase(TransactionTestCase):\n \n     def test_override(self):\n@@ -22,9 +22,8 @@ def test_decorated_testcase_name(self):\n     def test_decorated_testcase_module(self):\n         self.assertEquals(FullyDecoratedTranTestCase.__module__, __name__)\n \n-FullyDecoratedTranTestCase = override_settings(TEST='override')(FullyDecoratedTranTestCase)\n \n-# @override_settings(TEST='override')\n+@override_settings(TEST='override')\n class FullyDecoratedTestCase(TestCase):\n \n     def test_override(self):\n@@ -34,8 +33,6 @@ def test_override(self):\n     def test_method_override(self):\n         self.assertEqual(settings.TEST, 'override2')\n \n-FullyDecoratedTestCase = override_settings(TEST='override')(FullyDecoratedTestCase)\n-\n \n class ClassDecoratedTestCaseSuper(TestCase):\n     \"\"\"\n@@ -47,6 +44,7 @@ def test_max_recursion_error(self):\n         pass\n \n \n+@override_settings(TEST='override')\n class ClassDecoratedTestCase(ClassDecoratedTestCaseSuper):\n     def test_override(self):\n         self.assertEqual(settings.TEST, 'override')\n@@ -66,7 +64,6 @@ def test_max_recursion_error(self):\n         except RuntimeError, e:\n             self.fail()\n \n-ClassDecoratedTestCase = override_settings(TEST='override')(ClassDecoratedTestCase)\n \n class SettingGetter(object):\n     def __init__(self):"
        },
        {
            "sha": "691412898934cb99ade13359cddbb147941dc167",
            "filename": "tests/regressiontests/staticfiles_tests/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 11,
            "changes": 20,
            "blob_url": "https://github.com/django/django/blob/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/eb163f37cb62268443d592f8ce08bd8a0ab9631d/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fstaticfiles_tests%2Ftests.py?ref=eb163f37cb62268443d592f8ce08bd8a0ab9631d",
            "patch": "@@ -98,9 +98,9 @@ def assertStaticRaises(self, exc, path, result, **kwargs):\n         self.assertRaises(exc, self.assertStaticRenders, path, result, **kwargs)\n \n \n+@override_settings(**TEST_SETTINGS)\n class StaticFilesTestCase(BaseStaticFilesTestCase, TestCase):\n     pass\n-StaticFilesTestCase = override_settings(**TEST_SETTINGS)(StaticFilesTestCase)\n \n \n class BaseCollectionTestCase(BaseStaticFilesTestCase):\n@@ -343,17 +343,21 @@ def test_ordering_override(self):\n         self.assertFileContains('file2.txt', 'duplicate of file2.txt')\n \n \n+@override_settings(\n+    STATICFILES_STORAGE='regressiontests.staticfiles_tests.storage.DummyStorage',\n+)\n class TestCollectionNonLocalStorage(CollectionTestCase, TestNoFilesCreated):\n     \"\"\"\n     Tests for #15035\n     \"\"\"\n     pass\n \n-TestCollectionNonLocalStorage = override_settings(\n-    STATICFILES_STORAGE='regressiontests.staticfiles_tests.storage.DummyStorage',\n-)(TestCollectionNonLocalStorage)\n-\n \n+# we set DEBUG to False here since the template tag wouldn't work otherwise\n+@override_settings(**dict(TEST_SETTINGS,\n+    STATICFILES_STORAGE='django.contrib.staticfiles.storage.CachedStaticFilesStorage',\n+    DEBUG=False,\n+))\n class TestCollectionCachedStorage(BaseCollectionTestCase,\n         BaseStaticFilesTestCase, TestCase):\n     \"\"\"\n@@ -515,12 +519,6 @@ def test_cache_key_memcache_validation(self):\n         self.assertEqual(cache_key, 'staticfiles:e95bbc36387084582df2a70750d7b351')\n \n \n-# we set DEBUG to False here since the template tag wouldn't work otherwise\n-TestCollectionCachedStorage = override_settings(**dict(TEST_SETTINGS,\n-    STATICFILES_STORAGE='django.contrib.staticfiles.storage.CachedStaticFilesStorage',\n-    DEBUG=False,\n-))(TestCollectionCachedStorage)\n-\n if sys.platform != 'win32':\n \n     class TestCollectionLinks(CollectionTestCase, TestDefaults):"
        }
    ],
    "stats": {
        "total": 342,
        "additions": 145,
        "deletions": 197
    }
}