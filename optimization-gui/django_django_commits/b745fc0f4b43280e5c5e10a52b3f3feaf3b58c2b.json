{
    "author": "SmileyChris",
    "message": "Fixes #17173 -- Added some extra regression tests for reversing namespaced urls with special characters\n\nThe actual code was already fixed between 1.3.1 and trunk, but more thorough tests are always a good thing. Thanks for the patch, Yann Kaiser.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17075 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b",
    "files": [
        {
            "sha": "8fe69ab8edcb3c8b003437ed70b8409edfd9e57d",
            "filename": "tests/regressiontests/urlpatterns_reverse/included_namespace_urls.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Fincluded_namespace_urls.py",
            "raw_url": "https://github.com/django/django/raw/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Fincluded_namespace_urls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fincluded_namespace_urls.py?ref=b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b",
            "patch": "@@ -12,6 +12,8 @@\n     url(r'^normal/$', 'empty_view', name='inc-normal-view'),\n     url(r'^normal/(?P<arg1>\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='inc-normal-view'),\n \n+    url(r'^\\+\\\\\\$\\*/$', 'empty_view', name='inc-special-view'),\n+\n     url(r'^mixed_args/(\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='inc-mixed-args'),\n     url(r'^no_kwargs/(\\d+)/(\\d+)/$', 'empty_view', name='inc-no-kwargs'),\n "
        },
        {
            "sha": "6f6e8893e7b144fff789979963fa33d519e99ee8",
            "filename": "tests/regressiontests/urlpatterns_reverse/namespace_urls.py",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "raw_url": "https://github.com/django/django/raw/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Fnamespace_urls.py?ref=b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b",
            "patch": "@@ -14,6 +14,7 @@ def urls(self):\n         return patterns('',\n             url(r'^inner/$', 'empty_view', name='urlobject-view'),\n             url(r'^inner/(?P<arg1>\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='urlobject-view'),\n+            url(r'^inner/\\+\\\\\\$\\*/$', 'empty_view', name='urlobject-special-view'),\n         ), self.app_name, self.namespace\n     urls = property(urls)\n \n@@ -28,6 +29,8 @@ def urls(self):\n     url(r'^normal/$', 'empty_view', name='normal-view'),\n     url(r'^normal/(?P<arg1>\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='normal-view'),\n \n+    url(r'^\\+\\\\\\$\\*/$', 'empty_view', name='special-view'),\n+\n     url(r'^mixed_args/(\\d+)/(?P<arg2>\\d+)/$', 'empty_view', name='mixed-args'),\n     url(r'^no_kwargs/(\\d+)/(\\d+)/$', 'empty_view', name='no-kwargs'),\n \n@@ -50,4 +53,5 @@ def urls(self):\n \n     (r'^ns-outer/(?P<outer>\\d+)/', include('regressiontests.urlpatterns_reverse.included_namespace_urls', namespace='inc-outer')),\n \n+    (r'^\\+\\\\\\$\\*/', include('regressiontests.urlpatterns_reverse.namespace_urls', namespace='special')),\n )"
        },
        {
            "sha": "307d8daabb4e37bf4d9a780427e1512747552241",
            "filename": "tests/regressiontests/urlpatterns_reverse/tests.py",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/django/django/blob/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Furlpatterns_reverse%2Ftests.py?ref=b745fc0f4b43280e5c5e10a52b3f3feaf3b58c2b",
            "patch": "@@ -294,71 +294,90 @@ def test_normal_name(self):\n         self.assertEqual('/normal/', reverse('normal-view'))\n         self.assertEqual('/normal/37/42/', reverse('normal-view', args=[37,42]))\n         self.assertEqual('/normal/42/37/', reverse('normal-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/+%5C$*/', reverse('special-view'))\n \n     def test_simple_included_name(self):\n         \"Normal lookups work on names included from other patterns\"\n         self.assertEqual('/included/normal/', reverse('inc-normal-view'))\n         self.assertEqual('/included/normal/37/42/', reverse('inc-normal-view', args=[37,42]))\n         self.assertEqual('/included/normal/42/37/', reverse('inc-normal-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/included/+%5C$*/', reverse('inc-special-view'))\n \n     def test_namespace_object(self):\n         \"Dynamic URL objects can be found using a namespace\"\n         self.assertEqual('/test1/inner/', reverse('test-ns1:urlobject-view'))\n         self.assertEqual('/test1/inner/37/42/', reverse('test-ns1:urlobject-view', args=[37,42]))\n         self.assertEqual('/test1/inner/42/37/', reverse('test-ns1:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/test1/inner/+%5C$*/', reverse('test-ns1:urlobject-special-view'))\n \n     def test_embedded_namespace_object(self):\n         \"Namespaces can be installed anywhere in the URL pattern tree\"\n         self.assertEqual('/included/test3/inner/', reverse('test-ns3:urlobject-view'))\n         self.assertEqual('/included/test3/inner/37/42/', reverse('test-ns3:urlobject-view', args=[37,42]))\n         self.assertEqual('/included/test3/inner/42/37/', reverse('test-ns3:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/included/test3/inner/+%5C$*/', reverse('test-ns3:urlobject-special-view'))\n \n     def test_namespace_pattern(self):\n         \"Namespaces can be applied to include()'d urlpatterns\"\n         self.assertEqual('/ns-included1/normal/', reverse('inc-ns1:inc-normal-view'))\n         self.assertEqual('/ns-included1/normal/37/42/', reverse('inc-ns1:inc-normal-view', args=[37,42]))\n         self.assertEqual('/ns-included1/normal/42/37/', reverse('inc-ns1:inc-normal-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/ns-included1/+%5C$*/', reverse('inc-ns1:inc-special-view'))\n \n     def test_namespace_pattern_with_variable_prefix(self):\n         \"When using a include with namespaces when there is a regex variable in front of it\"\n         self.assertEqual('/ns-outer/42/normal/', reverse('inc-outer:inc-normal-view', kwargs={'outer':42}))\n         self.assertEqual('/ns-outer/42/normal/', reverse('inc-outer:inc-normal-view', args=[42]))\n         self.assertEqual('/ns-outer/42/normal/37/4/', reverse('inc-outer:inc-normal-view', kwargs={'outer':42, 'arg1': 37, 'arg2': 4}))\n         self.assertEqual('/ns-outer/42/normal/37/4/', reverse('inc-outer:inc-normal-view', args=[42, 37, 4]))\n+        self.assertEqual('/ns-outer/42/+%5C$*/', reverse('inc-outer:inc-special-view',  kwargs={'outer':42}))\n+        self.assertEqual('/ns-outer/42/+%5C$*/', reverse('inc-outer:inc-special-view',  args=[42]))\n \n     def test_multiple_namespace_pattern(self):\n         \"Namespaces can be embedded\"\n         self.assertEqual('/ns-included1/test3/inner/', reverse('inc-ns1:test-ns3:urlobject-view'))\n         self.assertEqual('/ns-included1/test3/inner/37/42/', reverse('inc-ns1:test-ns3:urlobject-view', args=[37,42]))\n         self.assertEqual('/ns-included1/test3/inner/42/37/', reverse('inc-ns1:test-ns3:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/ns-included1/test3/inner/+%5C$*/', reverse('inc-ns1:test-ns3:urlobject-special-view'))\n \n     def test_nested_namespace_pattern(self):\n         \"Namespaces can be nested\"\n         self.assertEqual('/ns-included1/ns-included4/ns-included1/test3/inner/', reverse('inc-ns1:inc-ns4:inc-ns1:test-ns3:urlobject-view'))\n         self.assertEqual('/ns-included1/ns-included4/ns-included1/test3/inner/37/42/', reverse('inc-ns1:inc-ns4:inc-ns1:test-ns3:urlobject-view', args=[37,42]))\n         self.assertEqual('/ns-included1/ns-included4/ns-included1/test3/inner/42/37/', reverse('inc-ns1:inc-ns4:inc-ns1:test-ns3:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/ns-included1/ns-included4/ns-included1/test3/inner/+%5C$*/', reverse('inc-ns1:inc-ns4:inc-ns1:test-ns3:urlobject-special-view'))\n \n     def test_app_lookup_object(self):\n         \"A default application namespace can be used for lookup\"\n         self.assertEqual('/default/inner/', reverse('testapp:urlobject-view'))\n         self.assertEqual('/default/inner/37/42/', reverse('testapp:urlobject-view', args=[37,42]))\n         self.assertEqual('/default/inner/42/37/', reverse('testapp:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/default/inner/+%5C$*/', reverse('testapp:urlobject-special-view'))\n \n     def test_app_lookup_object_with_default(self):\n         \"A default application namespace is sensitive to the 'current' app can be used for lookup\"\n         self.assertEqual('/included/test3/inner/', reverse('testapp:urlobject-view', current_app='test-ns3'))\n         self.assertEqual('/included/test3/inner/37/42/', reverse('testapp:urlobject-view', args=[37,42], current_app='test-ns3'))\n         self.assertEqual('/included/test3/inner/42/37/', reverse('testapp:urlobject-view', kwargs={'arg1':42, 'arg2':37}, current_app='test-ns3'))\n+        self.assertEqual('/included/test3/inner/+%5C$*/', reverse('testapp:urlobject-special-view', current_app='test-ns3'))\n \n     def test_app_lookup_object_without_default(self):\n         \"An application namespace without a default is sensitive to the 'current' app can be used for lookup\"\n         self.assertEqual('/other2/inner/', reverse('nodefault:urlobject-view'))\n         self.assertEqual('/other2/inner/37/42/', reverse('nodefault:urlobject-view', args=[37,42]))\n         self.assertEqual('/other2/inner/42/37/', reverse('nodefault:urlobject-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/other2/inner/+%5C$*/', reverse('nodefault:urlobject-special-view'))\n \n         self.assertEqual('/other1/inner/', reverse('nodefault:urlobject-view', current_app='other-ns1'))\n         self.assertEqual('/other1/inner/37/42/', reverse('nodefault:urlobject-view', args=[37,42], current_app='other-ns1'))\n         self.assertEqual('/other1/inner/42/37/', reverse('nodefault:urlobject-view', kwargs={'arg1':42, 'arg2':37}, current_app='other-ns1'))\n+        self.assertEqual('/other1/inner/+%5C$*/', reverse('nodefault:urlobject-special-view', current_app='other-ns1'))\n+\n+    def test_special_chars_namespace(self):\n+        self.assertEqual('/+%5C$*/included/normal/', reverse('special:inc-normal-view'))\n+        self.assertEqual('/+%5C$*/included/normal/37/42/', reverse('special:inc-normal-view', args=[37,42]))\n+        self.assertEqual('/+%5C$*/included/normal/42/37/', reverse('special:inc-normal-view', kwargs={'arg1':42, 'arg2':37}))\n+        self.assertEqual('/+%5C$*/included/+%5C$*/', reverse('special:inc-special-view'))\n \n class RequestURLconfTests(TestCase):\n     def setUp(self):"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 25,
        "deletions": 0
    }
}