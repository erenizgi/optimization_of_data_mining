{
    "author": "aaugustin",
    "message": "Added documentation for r17418. Refs #17481.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17513 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "61fe50fdd6c74e03c365606d3270e831e81a1e4b",
    "files": [
        {
            "sha": "52f265181a039a7037d20531bac36d79c9283314",
            "filename": "docs/releases/1.4-beta-1.txt",
            "status": "modified",
            "additions": 16,
            "deletions": 1,
            "changes": 17,
            "blob_url": "https://github.com/django/django/blob/61fe50fdd6c74e03c365606d3270e831e81a1e4b/docs%2Freleases%2F1.4-beta-1.txt",
            "raw_url": "https://github.com/django/django/raw/61fe50fdd6c74e03c365606d3270e831e81a1e4b/docs%2Freleases%2F1.4-beta-1.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.4-beta-1.txt?ref=61fe50fdd6c74e03c365606d3270e831e81a1e4b",
            "patch": "@@ -115,6 +115,21 @@ details, see :ref:`auth_password_storage`.\n .. _nist: http://csrc.nist.gov/publications/nistpubs/800-132/nist-sp800-132.pdf\n .. _bcrypt: http://en.wikipedia.org/wiki/Bcrypt\n \n+.. warning::\n+\n+    Django 1.4 alpha contained a bug that corrupted PBKDF2 hashes. To\n+    determine which accounts are affected, run :djadmin:`manage.py shell\n+    <shell>` and paste this snippet::\n+\n+        from base64 import b64decode\n+        from django.contrib.auth.models import User\n+        hash_len = {'pbkdf2_sha1': 20, 'pbkdf2_sha256': 32}\n+        for user in User.objects.filter(password__startswith='pbkdf2_'):\n+            algo, _, _, hash = user.password.split('$')\n+            if len(b64decode(hash)) != hash_len[algo]:\n+                print user\n+\n+    These users should reset their passwords.\n \n HTML5 Doctype\n ~~~~~~~~~~~~~\n@@ -557,7 +572,7 @@ Django 1.4 also includes several smaller improvements worth noting:\n \n * New phrases added to ``HIDDEN_SETTINGS`` regex in `django/views/debug.py`_.\n \n-  ``'API'``, ``'TOKEN'``, ``'KEY'`` were added, ``'PASSWORD'`` was changed to \n+  ``'API'``, ``'TOKEN'``, ``'KEY'`` were added, ``'PASSWORD'`` was changed to\n   ``'PASS'``.\n \n .. _django/views/debug.py: http://code.djangoproject.com/browser/django/trunk/django/views/debug.py"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 16,
        "deletions": 1
    }
}