{
    "author": "alex",
    "message": "Added tests for deprecation warnings and fixed the argument order for the warnings.",
    "sha": "38ce709fe44ebf37e6c8531451eab98fe0a552a0",
    "files": [
        {
            "sha": "41b43b286cb00a67a3cd720c9f07fb1f459a3e8b",
            "filename": "django/utils/datastructures.py",
            "status": "modified",
            "additions": 8,
            "deletions": 4,
            "changes": 12,
            "blob_url": "https://github.com/django/django/blob/38ce709fe44ebf37e6c8531451eab98fe0a552a0/django%2Futils%2Fdatastructures.py",
            "raw_url": "https://github.com/django/django/raw/38ce709fe44ebf37e6c8531451eab98fe0a552a0/django%2Futils%2Fdatastructures.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Fdatastructures.py?ref=38ce709fe44ebf37e6c8531451eab98fe0a552a0",
            "patch": "@@ -196,14 +196,18 @@ def value_for_index(self, index):\n         # This, and insert() are deprecated because they cannot be implemented\n         # using collections.OrderedDict (Python 2.7 and up), which we'll\n         # eventually switch to\n-        warnings.warn(PendingDeprecationWarning,\n-            \"SortedDict.value_for_index is deprecated\", stacklevel=2)\n+        warnings.warn(\n+            \"SortedDict.value_for_index is deprecated\", PendingDeprecationWarning,\n+            stacklevel=2\n+        )\n         return self[self.keyOrder[index]]\n \n     def insert(self, index, key, value):\n         \"\"\"Inserts the key, value pair before the item with the given index.\"\"\"\n-        warnings.warn(PendingDeprecationWarning,\n-            \"SortedDict.insert is deprecated\", stacklevel=2)\n+        warnings.warn(\n+            \"SortedDict.insert is deprecated\", PendingDeprecationWarning,\n+            stacklevel=2\n+        )\n         if key in self.keyOrder:\n             n = self.keyOrder.index(key)\n             del self.keyOrder[n]"
        },
        {
            "sha": "aea5393aabfdafb40f75e01460f14798e480d0ca",
            "filename": "tests/regressiontests/utils/datastructures.py",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/django/django/blob/38ce709fe44ebf37e6c8531451eab98fe0a552a0/tests%2Fregressiontests%2Futils%2Fdatastructures.py",
            "raw_url": "https://github.com/django/django/raw/38ce709fe44ebf37e6c8531451eab98fe0a552a0/tests%2Fregressiontests%2Futils%2Fdatastructures.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Futils%2Fdatastructures.py?ref=38ce709fe44ebf37e6c8531451eab98fe0a552a0",
            "patch": "@@ -4,6 +4,7 @@\n \n import copy\n import pickle\n+import warnings\n \n from django.test import SimpleTestCase\n from django.utils.datastructures import (DictWrapper, ImmutableList,\n@@ -122,6 +123,21 @@ def test_clear(self):\n         self.assertEqual(self.d1, {})\n         self.assertEqual(self.d1.keyOrder, [])\n \n+    def test_insert(self):\n+        d = SortedDict()\n+        with warnings.catch_warnings(record=True) as w:\n+            warnings.simplefilter(\"always\")\n+            d.insert(0, \"hello\", \"world\")\n+        assert w[0].category is PendingDeprecationWarning\n+\n+    def test_value_for_index(self):\n+        d = SortedDict({\"a\": 3})\n+        with warnings.catch_warnings(record=True) as w:\n+            warnings.simplefilter(\"always\")\n+            self.assertEqual(d.value_for_index(0), 3)\n+        assert w[0].category is PendingDeprecationWarning\n+\n+\n class MergeDictTests(SimpleTestCase):\n \n     def test_simple_mergedict(self):"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 24,
        "deletions": 4
    }
}