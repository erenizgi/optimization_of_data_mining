{
    "author": "ptone",
    "message": "Made modwsgi groups_for_user consistent with check_password\n\n2b5f848207b1dab35afd6f63d0107629c76d4d9a based its changes on #19061\nthat made the is_active attribute mandatory for user models.\nThe try/except was not removed for the groups_for_user function.\n\nrefs #19780",
    "sha": "0e18fb04bad99de237b5eb8ea4f9ff2f3cd147d3",
    "files": [
        {
            "sha": "df20f1283af34cd92066b688b231e25070b9fb92",
            "filename": "django/contrib/auth/handlers/modwsgi.py",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/0e18fb04bad99de237b5eb8ea4f9ff2f3cd147d3/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodwsgi.py",
            "raw_url": "https://github.com/django/django/raw/0e18fb04bad99de237b5eb8ea4f9ff2f3cd147d3/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodwsgi.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2Fhandlers%2Fmodwsgi.py?ref=0e18fb04bad99de237b5eb8ea4f9ff2f3cd147d3",
            "patch": "@@ -40,11 +40,7 @@ def groups_for_user(environ, username):\n             user = UserModel._default_manager.get_by_natural_key(username)\n         except UserModel.DoesNotExist:\n             return []\n-        try:\n-            if not user.is_active:\n-                return []\n-        except AttributeError as e:\n-            # a custom user may not support is_active\n+        if not user.is_active:\n             return []\n         return [force_bytes(group.name) for group in user.groups.all()]\n     finally:"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 1,
        "deletions": 5
    }
}