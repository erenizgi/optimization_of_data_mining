{
    "author": "jezdez",
    "message": "Fixed #14941 -- Stop raising ValidationError in form fields that use the URLValidator and get a IDN domain passed. Thanks, Claude Paroz.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15504 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "ba1876cef22e46fe4e80ce32547ec9870991b63b",
    "files": [
        {
            "sha": "d6c4b2874383cc87e7ded58994364eb9f4a4fe60",
            "filename": "django/core/validators.py",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/ba1876cef22e46fe4e80ce32547ec9870991b63b/django%2Fcore%2Fvalidators.py",
            "raw_url": "https://github.com/django/django/raw/ba1876cef22e46fe4e80ce32547ec9870991b63b/django%2Fcore%2Fvalidators.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fvalidators.py?ref=ba1876cef22e46fe4e80ce32547ec9870991b63b",
            "patch": "@@ -84,6 +84,7 @@ def __call__(self, value):\n                 \"Connection\": \"close\",\n                 \"User-Agent\": self.user_agent,\n             }\n+            url = url.encode('utf-8')\n             broken_error = ValidationError(\n                 _(u'This URL appears to be a broken link.'), code='invalid_link')\n             try:"
        },
        {
            "sha": "3f7bc07f60078c83b33a71dec55111a7b185c333",
            "filename": "tests/regressiontests/forms/tests/fields.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/ba1876cef22e46fe4e80ce32547ec9870991b63b/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "raw_url": "https://github.com/django/django/raw/ba1876cef22e46fe4e80ce32547ec9870991b63b/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fforms%2Ftests%2Ffields.py?ref=ba1876cef22e46fe4e80ce32547ec9870991b63b",
            "patch": "@@ -571,6 +571,8 @@ def test_urlfield_3(self):\n             f.clean('http://google.com/we-love-microsoft.html') # good domain, bad page\n         except ValidationError, e:\n             self.assertEqual(\"[u'This URL appears to be a broken link.']\", str(e))\n+        # UTF-8 char in path\n+        self.assertEqual(u'http://de.wikipedia.org/wiki/T\\xfcr', f.clean(u'http://de.wikipedia.org/wiki/T\\xfcr'))\n \n     def test_urlfield_4(self):\n         f = URLField(verify_exists=True, required=False)"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}