{
    "author": "unknown",
    "message": "Added a regression test for r14781.  Also fixed a bug where connection.vendor was effectively always 'unknown', causing all vendor-specific tests to be skipped.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14783 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "5475da1c32efacab3d740bc599f19f2f33be6d2c",
    "files": [
        {
            "sha": "23df66a762dfb50d8eed3388093324da0d1b8546",
            "filename": "django/db/backends/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/django/django/blob/5475da1c32efacab3d740bc599f19f2f33be6d2c/django%2Fdb%2Fbackends%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/5475da1c32efacab3d740bc599f19f2f33be6d2c/django%2Fdb%2Fbackends%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fbackends%2F__init__.py?ref=5475da1c32efacab3d740bc599f19f2f33be6d2c",
            "patch": "@@ -11,6 +11,7 @@ class BaseDatabaseWrapper(local):\n     Represents a database connection.\n     \"\"\"\n     ops = None\n+    vendor = 'unknown'\n \n     def __init__(self, settings_dict, alias=DEFAULT_DB_ALIAS):\n         # `settings_dict` should be a dictionary containing keys such as\n@@ -20,7 +21,6 @@ def __init__(self, settings_dict, alias=DEFAULT_DB_ALIAS):\n         self.queries = []\n         self.settings_dict = settings_dict\n         self.alias = alias\n-        self.vendor = 'unknown'\n         self.use_debug_cursor = None\n \n     def __eq__(self, other):"
        },
        {
            "sha": "efa3e0c7d3af8a224dcd05a33cc4d98954fb4ac0",
            "filename": "tests/regressiontests/backends/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/5475da1c32efacab3d740bc599f19f2f33be6d2c/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/5475da1c32efacab3d740bc599f19f2f33be6d2c/tests%2Fregressiontests%2Fbackends%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fbackends%2Ftests.py?ref=5475da1c32efacab3d740bc599f19f2f33be6d2c",
            "patch": "@@ -47,6 +47,15 @@ def test_long_string(self):\n         self.assertEqual(long_str, row[0].read())\n         c.execute('DROP TABLE ltext')\n \n+    @unittest.skipUnless(connection.vendor == 'oracle',\n+                         \"No need to check Oracle connection semantics\")\n+    def test_client_encoding(self):\n+        # If the backend is Oracle, test that the client encoding is set\n+        # correctly.  This was broken under Cygwin prior to r14781.\n+        c = connection.cursor()  # Ensure the connection is initialized.\n+        self.assertEqual(connection.connection.encoding, \"UTF-8\")\n+        self.assertEqual(connection.connection.nencoding, \"UTF-8\")\n+\n class DateQuotingTest(TestCase):\n \n     def test_django_date_trunc(self):"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 10,
        "deletions": 1
    }
}