{
    "author": "malcolmt",
    "message": "Clarify the documentation around SQLite and case-sensitive string matching.\n\nThis was still causing some confusion, so I rewrote the section in the\ndatabase notes to encompass both substring matching and non-ASCII\ncase-insensitive equality checks, as well as putting in a stronger\ncallout on the \"contains\" filter.\n\nRefs #16569.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16694 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "4d2151196163f401c42da5adae4bb06f6adf3d71",
    "files": [
        {
            "sha": "d9ea008521eddbcef8f5c332329e2d16e3c77e36",
            "filename": "docs/ref/databases.txt",
            "status": "modified",
            "additions": 21,
            "deletions": 8,
            "changes": 29,
            "blob_url": "https://github.com/django/django/blob/4d2151196163f401c42da5adae4bb06f6adf3d71/docs%2Fref%2Fdatabases.txt",
            "raw_url": "https://github.com/django/django/raw/4d2151196163f401c42da5adae4bb06f6adf3d71/docs%2Fref%2Fdatabases.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fdatabases.txt?ref=4d2151196163f401c42da5adae4bb06f6adf3d71",
            "patch": "@@ -380,14 +380,27 @@ specific to SQLite that you should be aware of.\n \n .. _sqlite-string-matching:\n \n-String matching for non-ASCII strings\n---------------------------------------\n-\n-SQLite doesn't support case-insensitive matching for non-ASCII strings. Some\n-possible workarounds for this are `documented at sqlite.org`_, but they are\n-not utilised by the default SQLite backend in Django. Therefore, if you are\n-using the ``iexact`` lookup type in your queryset filters, be aware that it\n-will not work as expected for non-ASCII strings.\n+Substring matching and case sensitivity\n+-----------------------------------------\n+\n+For all SQLite versions, there is some slightly counter-intuitive behavior when\n+attempting to match some types of strings.  These are triggered when using the\n+:lookup:`iexact` or :lookup:`contains` filters in Querysets. The behavior\n+splits into two cases:\n+\n+1. For substring matching, all matches are done case-insensitively. That is a\n+filter such as ``filter(name__contains=\"aa\")`` will match a name of ``\"Aabb\"``.\n+\n+2. For strings containing characters outside the ASCII range, all exact string\n+matches are performed case-sensitively, even when the case-insensitive options\n+are passed into the query. So the :lookup:`iexact` filter will behave exactly\n+the same as the :lookup:`exact` filter in these cases.\n+\n+Some possible workarounds for this are `documented at sqlite.org`_, but they\n+aren't utilised by the default SQLite backend in Django, as incorporating them\n+would be fairly difficult to do robustly. Thus, Django exposes the default\n+SQLite behavior and you should be aware of this when doing case-insensitive or\n+substring filtering.\n \n .. _documented at sqlite.org: http://www.sqlite.org/faq.html#q18\n "
        },
        {
            "sha": "729efc1aa2e1f311858ecea7c181e4586bc42621",
            "filename": "docs/ref/models/querysets.txt",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/django/django/blob/4d2151196163f401c42da5adae4bb06f6adf3d71/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "raw_url": "https://github.com/django/django/raw/4d2151196163f401c42da5adae4bb06f6adf3d71/docs%2Fref%2Fmodels%2Fquerysets.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fmodels%2Fquerysets.txt?ref=4d2151196163f401c42da5adae4bb06f6adf3d71",
            "patch": "@@ -1476,8 +1476,12 @@ SQL equivalent::\n Note this will match the headline ``'Today Lennon honored'`` but not\n ``'today lennon honored'``.\n \n-SQLite doesn't support case-sensitive ``LIKE`` statements; ``contains`` acts\n-like ``icontains`` for SQLite.\n+.. admonition:: SQLite users\n+\n+    SQLite doesn't support case-sensitive ``LIKE`` statements; ``contains``\n+    acts like ``icontains`` for SQLite. See the :ref:`database note\n+    <sqlite-string-matching>` for more information.\n+\n \n .. fieldlookup:: icontains\n "
        }
    ],
    "stats": {
        "total": 37,
        "additions": 27,
        "deletions": 10
    }
}