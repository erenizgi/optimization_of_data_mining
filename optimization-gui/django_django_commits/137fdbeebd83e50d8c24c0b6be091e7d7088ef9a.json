{
    "author": "jacobian",
    "message": "Added release notes for Django 1.5 alpha 1.\n\nAlso updated 1.5-proper release notes a bit.",
    "sha": "137fdbeebd83e50d8c24c0b6be091e7d7088ef9a",
    "files": [
        {
            "sha": "8f027c6859e0ce5134e0555dfa0b14f018c896f5",
            "filename": "docs/releases/1.5-alpha-1.txt",
            "status": "added",
            "additions": 631,
            "deletions": 0,
            "changes": 631,
            "blob_url": "https://github.com/django/django/blob/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2F1.5-alpha-1.txt",
            "raw_url": "https://github.com/django/django/raw/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2F1.5-alpha-1.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5-alpha-1.txt?ref=137fdbeebd83e50d8c24c0b6be091e7d7088ef9a",
            "patch": "@@ -0,0 +1,631 @@\n+============================================\n+Django 1.5 release notes - UNDER DEVELOPMENT\n+============================================\n+\n+October 25, 2012.\n+\n+Welcome to Django 1.5 alpha!\n+\n+This is the first in a series of preview/development releases leading up to the\n+eventual release of Django 1.5, scheduled for December 2012. This release is\n+primarily targeted at developers who are interested in trying out new features\n+and testing the Django codebase to help identify and resolve bugs prior to the\n+final 1.5 release.\n+\n+As such, this release is *not* intended for production use, and any such use\n+is discouraged.\n+\n+In particular, we need the community's help to test Django 1.5's new `Python 3\n+support`_ -- not just to report bugs on Python 3, but also regressions on Python\n+2. While Django is very conservative with regards to backwards compatibility,\n+mistakes are always possible, and it's likely that the Python 3 refactoring work\n+introduced some regressions.\n+\n+Django 1.5 alpha includes various `new features`_ and some minor `backwards\n+incompatible changes`_. There are also some features that have been dropped,\n+which are detailed in :doc:`our deprecation plan </internals/deprecation>`,\n+and we've `begun the deprecation process for some features`_.\n+\n+.. _`new features`: `What's new in Django 1.5`_\n+.. _`backwards incompatible changes`: `Backwards incompatible changes in 1.5`_\n+.. _`begun the deprecation process for some features`: `Features deprecated in 1.5`_\n+\n+Overview\n+========\n+\n+The biggest new feature in Django 1.5 is the `configurable User model`_. Before\n+Django 1.5, applications that wanted to use Django's auth framework\n+(:mod:`django.contrib.auth`) were forced to use Django's definition of a \"user\".\n+In Django 1.5, you can now swap out the ``User`` model for one that you write\n+yourself. This could be a simple extension to the existing ``User`` model -- for\n+example, you could add a Twitter or Facebook ID field -- or you could completely\n+replace the ``User`` with one totally customized for your site.\n+\n+Django 1.5 is also the first release with `Python 3 support`_! We're labeling\n+this support \"experimental\" because we don't yet consider it production-ready,\n+but everything's in place for you to start porting your apps to Python 3.\n+Our next release, Django 1.6, will support Python 3 without reservations.\n+\n+Other notable new features in Django 1.5 include:\n+\n+* `Support for saving a subset of model's fields`_ -\n+  :meth:`Model.save() <django.db.models.Model.save()>` now accepts an\n+  ``update_fields`` argument, letting you specify which fields are\n+  written back to the databse when you call ``save()``. This can help\n+  in high-concurrancy operations, and can improve performance.\n+\n+* Better `support for streaming responses <#explicit-streaming-responses>`_ via\n+  the new  :class:`~django.http.StreamingHttpResponse` response class.\n+\n+* `GeoDjango`_ now supports PostGIS 2.0.\n+\n+* ... and more; `see below <#what-s-new-in-django-1-5>`_.\n+\n+Wherever possible we try to introduce new features in a backwards-compatible\n+manner per :doc:`our API stability policy </misc/api-stability>` policy.\n+However, as with previous releases, Django 1.5 ships with some minor\n+`backwards incompatible changes`_; people upgrading from previous versions\n+of Django should read that list carefully.\n+\n+One deprecated feature worth noting is the shift to \"new-style\" :ttag:`url` tag.\n+Prior to Django 1.3, syntax like ``{% url myview %}`` was interpreted\n+incorrectly (Django considered ``\"myview\"`` to be a literal name of a view, not\n+a template variable named ``myview``). Django 1.3 and above introduced the\n+``{% load url from future %}`` syntax to bring in the corrected behavior where\n+``myview`` was seen as a variable.\n+\n+The upshot of this is that if you are not using ``{% load url from future %}``\n+in your templates, you'll need to change tags like ``{% url myview %}`` to\n+``{% url \"myview\" %}``. If you *were* using ``{% load url from future %}`` you\n+can simply remove that line under Django 1.5\n+\n+Python compatibility\n+====================\n+\n+Django 1.5 requires Python 2.6.5 or above, though we **highly recommended**\n+Python 2.7.3 or above. Support for Python 2.5 and below as been dropped.\n+\n+This change should affect only a small number of Django users, as most\n+operating-system vendors today are shipping Python 2.6 or newer as their default\n+version. If you're still using Python 2.5, however, you'll need to stick to\n+Django 1.4 until you can upgrade your Python version. Per :doc:`our support\n+policy </internals/release-process>`, Django 1.4 will continue to receive\n+security support until the release of Django 1.6.\n+\n+Django 1.5 does not run on a Jython final release, because Jython's latest\n+release doesn't currently support Python 2.6. However, Jython currently does\n+offer an alpha release featuring 2.7 support, and Django 1.5 supports that alpha\n+release.\n+\n+Python 3 support\n+~~~~~~~~~~~~~~~~\n+\n+Django 1.5 introduces support for Python 3 - specifically, Python\n+3.2 and above. This comes in the form of a **single** codebase; you don't\n+need to install a different version of Django on Python 3. This means that\n+you can write application targeted for just Python 2, just Python 3, or single\n+applications that support both platforms.\n+\n+However, we're labling this support \"experimental\" for now: although it's\n+receved extensive testing via our automated test suite, it's recieved very\n+little real-world testing. We've done our best to eliminate bugs, but we can't\n+be sure we covered all possible uses of Django. Further, Django's more than a\n+web framework; it's an ecosystem of pluggable components. At this point, very\n+few third-party applications have been ported to Python 3, so it's unliukely\n+that a real-world application will have all its dependecies satisfied under\n+Python 3.\n+\n+Thus, we're recommending that Django 1.5 not be used in production under Python\n+3. Instead, use this oportunity to begin :doc:`porting applications to Python 3\n+</topics/python3>`. If you're an author of a pluggable component, we encourage you\n+to start porting now.\n+\n+We plan to offer first-class, production-ready support for Python 3 in our next\n+release, Django 1.6.\n+\n+What's new in Django 1.5\n+========================\n+\n+Configurable User model\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+In Django 1.5, you can now use your own model as the store for user-related\n+data. If your project needs a username with more than 30 characters, or if\n+you want to store usernames in a format other than first name/last name, or\n+you want to put custom profile information onto your User object, you can\n+now do so.\n+\n+If you have a third-party reusable application that references the User model,\n+you may need to make some changes to the way you reference User instances. You\n+should also document any specific features of the User model that your\n+application relies upon.\n+\n+See the :ref:`documentation on custom User models <auth-custom-user>` for\n+more details.\n+\n+Support for saving a subset of model's fields\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The method :meth:`Model.save() <django.db.models.Model.save()>` has a new\n+keyword argument ``update_fields``. By using this argument it is possible to\n+save only a select list of model's fields. This can be useful for performance\n+reasons or when trying to avoid overwriting concurrent changes.\n+\n+Deferred instances (those loaded by .only() or .defer()) will automatically\n+save just the loaded fields. If any field is set manually after load, that\n+field will also get updated on save.\n+\n+See the :meth:`Model.save() <django.db.models.Model.save()>` documentation for\n+more details.\n+\n+Caching of related model instances\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When traversing relations, the ORM will avoid re-fetching objects that were\n+previously loaded. For example, with the tutorial's models::\n+\n+    >>> first_poll = Poll.objects.all()[0]\n+    >>> first_choice = first_poll.choice_set.all()[0]\n+    >>> first_choice.poll is first_poll\n+    True\n+\n+In Django 1.5, the third line no longer triggers a new SQL query to fetch\n+``first_choice.poll``; it was set by the second line.\n+\n+For one-to-one relationships, both sides can be cached. For many-to-one\n+relationships, only the single side of the relationship can be cached. This\n+is particularly helpful in combination with ``prefetch_related``.\n+\n+Explicit support for streaming responses\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Before Django 1.5, it was possible to create a streaming response by passing\n+an iterator to :class:`~django.http.HttpResponse`. But this was unreliable:\n+any middleware that accessed the :attr:`~django.http.HttpResponse.content`\n+attribute would consume the iterator prematurely.\n+\n+You can now explicitly generate a streaming response with the new\n+:class:`~django.http.StreamingHttpResponse` class. This class exposes a\n+:class:`~django.http.StreamingHttpResponse.streaming_content` attribute which\n+is an iterator.\n+\n+Since :class:`~django.http.StreamingHttpResponse` does not have a ``content``\n+attribute, middleware that needs access to the response content must test for\n+streaming responses and behave accordingly. See :ref:`response-middleware` for\n+more information.\n+\n+``{% verbatim %}`` template tag\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+To make it easier to deal with javascript templates which collide with Django's\n+syntax, you can now use the :ttag:`verbatim` block tag to avoid parsing the\n+tag's content.\n+\n+Retrieval of ``ContentType`` instances associated with proxy models\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The methods :meth:`ContentTypeManager.get_for_model() <django.contrib.contenttypes.models.ContentTypeManager.get_for_model()>`\n+and :meth:`ContentTypeManager.get_for_models() <django.contrib.contenttypes.models.ContentTypeManager.get_for_models()>`\n+have a new keyword argument â€“ respectively ``for_concrete_model`` and ``for_concrete_models``.\n+By passing ``False`` using this argument it is now possible to retreive the\n+:class:`ContentType <django.contrib.contenttypes.models.ContentType>`\n+associated with proxy models.\n+\n+New ``view`` variable in class-based views context\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+In all :doc:`generic class-based views </topics/class-based-views/index>`\n+(or any class-based view inheriting from ``ContextMixin``), the context dictionary\n+contains a ``view`` variable that points to the ``View`` instance.\n+\n+GeoDjango\n+~~~~~~~~~\n+\n+* :class:`~django.contrib.gis.geos.LineString` and\n+  :class:`~django.contrib.gis.geos.MultiLineString` GEOS objects now support the\n+  :meth:`~django.contrib.gis.geos.GEOSGeometry.interpolate()` and\n+  :meth:`~django.contrib.gis.geos.GEOSGeometry.project()` methods\n+  (so-called linear referencing).\n+\n+* The wkb and hex properties of `GEOSGeometry` objects preserve the Z dimension.\n+\n+* Support for PostGIS 2.0 has been added and support for GDAL < 1.5 has been\n+  dropped.\n+\n+Minor features\n+~~~~~~~~~~~~~~\n+\n+Django 1.5 also includes several smaller improvements worth noting:\n+\n+* The template engine now interprets ``True``, ``False`` and ``None`` as the\n+  corresponding Python objects.\n+\n+* :mod:`django.utils.timezone` provides a helper for converting aware\n+  datetimes between time zones. See :func:`~django.utils.timezone.localtime`.\n+\n+* The generic views support OPTIONS requests.\n+\n+* Management commands do not raise ``SystemExit`` any more when called by code\n+  from :ref:`call_command <call-command>`. Any exception raised by the command\n+  (mostly :ref:`CommandError <ref-command-exceptions>`) is propagated.\n+\n+* The dumpdata management command outputs one row at a time, preventing\n+  out-of-memory errors when dumping large datasets.\n+\n+* In the localflavor for Canada, \"pq\" was added to the acceptable codes for\n+  Quebec. It's an old abbreviation.\n+\n+* The :ref:`receiver <connecting-receiver-functions>` decorator is now able to\n+  connect to more than one signal by supplying a list of signals.\n+\n+* In the admin, you can now filter users by groups which they are members of.\n+\n+* :meth:`QuerySet.bulk_create()\n+  <django.db.models.query.QuerySet.bulk_create>` now has a batch_size\n+  argument. By default the batch_size is unlimited except for SQLite where\n+  single batch is limited so that 999 parameters per query isn't exceeded.\n+\n+* The :setting:`LOGIN_URL` and :setting:`LOGIN_REDIRECT_URL` settings now also\n+  accept view function names and\n+  :ref:`named URL patterns <naming-url-patterns>`. This allows you to reduce\n+  configuration duplication. More information can be found in the\n+  :func:`~django.contrib.auth.decorators.login_required` documentation.\n+\n+* Django now provides a mod_wsgi :doc:`auth handler\n+  </howto/deployment/wsgi/apache-auth>`.\n+\n+* The :meth:`QuerySet.delete() <django.db.models.query.QuerySet.delete>`\n+  and :meth:`Model.delete() <django.db.models.Model.delete()>` can now take\n+  fast-path in some cases. The fast-path allows for less queries and less\n+  objects fetched into memory. See :meth:`QuerySet.delete()\n+  <django.db.models.query.QuerySet.delete>` for details.\n+\n+* An instance of :class:`~django.core.urlresolvers.ResolverMatch` is stored on\n+  the request as ``resolver_match``.\n+\n+* By default, all logging messages reaching the `django` logger when\n+  :setting:`DEBUG` is `True` are sent to the console (unless you redefine the\n+  logger in your :setting:`LOGGING` setting).\n+\n+* When using :class:`~django.template.RequestContext`, it is now possible to\n+  look up permissions by using ``{% if 'someapp.someperm' in perms %}``\n+  in templates.\n+\n+* It's not required any more to have ``404.html`` and ``500.html`` templates in\n+  the root templates directory. Django will output some basic error messages for\n+  both situations when those templates are not found. Of course, it's still\n+  recommended as good practice to provide those templates in order to present\n+  pretty error pages to the user.\n+\n+* :mod:`django.contrib.auth` provides a new signal that is emitted\n+  whenever a user fails to login successfully. See\n+  :data:`~django.contrib.auth.signals.user_login_failed`\n+\n+* The loaddata management command now supports an `ignorenonexistent` option to\n+  ignore data for fields that no longer exist.\n+\n+* :meth:`~django.test.SimpleTestCase.assertXMLEqual` and\n+  :meth:`~django.test.SimpleTestCase.assertXMLNotEqual` new assertions allow\n+  you to test equality for XML content at a semantic level, without caring for\n+  syntax differences (spaces, attribute order, etc.).\n+\n+Backwards incompatible changes in 1.5\n+=====================================\n+\n+.. warning::\n+\n+    In addition to the changes outlined in this section, be sure to review the\n+    :doc:`deprecation plan </internals/deprecation>` for any features that\n+    have been removed. If you haven't updated your code within the\n+    deprecation timeline for a given feature, its removal may appear as a\n+    backwards incompatible change.\n+\n+Context in year archive class-based views\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+For consistency with the other date-based generic views,\n+:class:`~django.views.generic.dates.YearArchiveView` now passes ``year`` in\n+the context as a :class:`datetime.date` rather than a string.  If you are\n+using ``{{ year }}`` in your templates, you must replace it with ``{{\n+year|date:\"Y\" }}``.\n+\n+``next_year`` and ``previous_year`` were also added in the context. They are\n+calculated according to ``allow_empty`` and ``allow_future``.\n+\n+Context in year and month archive class-based views\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+:class:`~django.views.generic.dates.YearArchiveView` and\n+:class:`~django.views.generic.dates.MonthArchiveView` were documented to\n+provide a ``date_list`` sorted in ascending order in the context, like their\n+function-based predecessors, but it actually was in descending order. In 1.5,\n+the documented order was restored. You may want to add (or remove) the\n+``reversed`` keyword when you're iterating on ``date_list`` in a template::\n+\n+    {% for date in date_list reversed %}\n+\n+:class:`~django.views.generic.dates.ArchiveIndexView` still provides a\n+``date_list`` in descending order.\n+\n+Context in TemplateView\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+For consistency with the design of the other generic views,\n+:class:`~django.views.generic.base.TemplateView` no longer passes a ``params``\n+dictionary into the context, instead passing the variables from the URLconf\n+directly into the context.\n+\n+Non-form data in HTTP requests\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+:attr:`request.POST <django.http.HttpRequest.POST>` will no longer include data\n+posted via HTTP requests with non form-specific content-types in the header.\n+In prior versions, data posted with content-types other than\n+``multipart/form-data`` or ``application/x-www-form-urlencoded`` would still\n+end up represented in the :attr:`request.POST <django.http.HttpRequest.POST>`\n+attribute. Developers wishing to access the raw POST data for these cases,\n+should use the :attr:`request.body <django.http.HttpRequest.body>` attribute\n+instead.\n+\n+OPTIONS, PUT and DELETE requests in the test client\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Unlike GET and POST, these HTTP methods aren't implemented by web browsers.\n+Rather, they're used in APIs, which transfer data in various formats such as\n+JSON or XML. Since such requests may contain arbitrary data, Django doesn't\n+attempt to decode their body.\n+\n+However, the test client used to build a query string for OPTIONS and DELETE\n+requests like for GET, and a request body for PUT requests like for POST. This\n+encoding was arbitrary and inconsistent with Django's behavior when it\n+receives the requests, so it was removed in Django 1.5.\n+\n+If you were using the ``data`` parameter in an OPTIONS or a DELETE request,\n+you must convert it to a query string and append it to the ``path`` parameter.\n+\n+If you were using the ``data`` parameter in a PUT request without a\n+``content_type``, you must encode your data before passing it to the test\n+client and set the ``content_type`` argument.\n+\n+System version of :mod:`simplejson` no longer used\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+As explained below, Django 1.5 deprecates\n+:mod:`django.utils.simplejson` in favor of Python 2.6's built-in :mod:`json`\n+module. In theory, this change is harmless. Unfortunately, because of\n+incompatibilities between versions of :mod:`simplejson`, it may trigger errors\n+in some circumstances.\n+\n+JSON-related features in Django 1.4 always used :mod:`django.utils.simplejson`.\n+This module was actually:\n+\n+- A system version of :mod:`simplejson`, if one was available (ie. ``import\n+  simplejson`` works), if it was more recent than Django's built-in copy or it\n+  had the C speedups, or\n+- The :mod:`json` module from the standard library, if it was available (ie.\n+  Python 2.6 or greater), or\n+- A built-in copy of version 2.0.7 of :mod:`simplejson`.\n+\n+In Django 1.5, those features use Python's :mod:`json` module, which is based\n+on version 2.0.9 of :mod:`simplejson`.\n+\n+There are no known incompatibilities between Django's copy of version 2.0.7 and\n+Python's copy of version 2.0.9. However, there are some incompatibilities\n+between other versions of :mod:`simplejson`:\n+\n+- While the :mod:`simplejson` API is documented as always returning unicode\n+  strings, the optional C implementation can return a byte string. This was\n+  fixed in Python 2.7.\n+- :class:`simplejson.JSONEncoder` gained a ``namedtuple_as_object`` keyword\n+  argument in version 2.2.\n+\n+More information on these incompatibilities is available in `ticket #18023`_.\n+\n+The net result is that, if you have installed :mod:`simplejson` and your code\n+uses Django's serialization internals directly -- for instance\n+:class:`django.core.serializers.json.DjangoJSONEncoder`, the switch from\n+:mod:`simplejson` to :mod:`json` could break your code. (In general, changes to\n+internals aren't documented; we're making an exception here.)\n+\n+At this point, the maintainers of Django believe that using :mod:`json` from\n+the standard library offers the strongest guarantee of backwards-compatibility.\n+They recommend to use it from now on.\n+\n+.. _ticket #18023: https://code.djangoproject.com/ticket/18023#comment:10\n+\n+String types of hasher method parameters\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+If you have written a :ref:`custom password hasher <auth_password_storage>`,\n+your ``encode()``, ``verify()`` or ``safe_summary()`` methods should accept\n+Unicode parameters (``password``, ``salt`` or ``encoded``). If any of the\n+hashing methods need byte strings, you can use the\n+:func:`~django.utils.encoding.force_bytes` utility to encode the strings.\n+\n+Validation of previous_page_number and next_page_number\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+When using :doc:`object pagination </topics/pagination>`,\n+the ``previous_page_number()`` and ``next_page_number()`` methods of the\n+:class:`~django.core.paginator.Page` object did not check if the returned\n+number was inside the existing page range.\n+It does check it now and raises an :exc:`InvalidPage` exception when the number\n+is either too low or too high.\n+\n+Behavior of autocommit database option on PostgreSQL changed\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+PostgreSQL's autocommit option didn't work as advertised previously. It did\n+work for single transaction block, but after the first block was left the\n+autocommit behavior was never restored. This bug is now fixed in 1.5. While\n+this is only a bug fix, it is worth checking your applications behavior if\n+you are using PostgreSQL together with the autocommit option.\n+\n+Session not saved on 500 responses\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Django's session middleware will skip saving the session data if the\n+response's status code is 500.\n+\n+Email checks on failed admin login\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Prior to Django 1.5, if you attempted to log into the admin interface and\n+mistakenly used your email address instead of your username, the admin\n+interface would provide a warning advising that your email address was\n+not your username. In Django 1.5, the introduction of\n+:ref:`custom User models <auth-custom-user>` has required the removal of this\n+warning. This doesn't change the login behavior of the admin site; it only\n+affects the warning message that is displayed under one particular mode of\n+login failure.\n+\n+Changes in tests execution\n+~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Some changes have been introduced in the execution of tests that might be\n+backward-incompatible for some testing setups:\n+\n+Database flushing in ``django.test.TransactionTestCase``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Previously, the test database was truncated *before* each test run in a\n+:class:`~django.test.TransactionTestCase`.\n+\n+In order to be able to run unit tests in any order and to make sure they are\n+always isolated from each other, :class:`~django.test.TransactionTestCase` will\n+now reset the database *after* each test run instead.\n+\n+No more implict DB sequences reset\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+:class:`~django.test.TransactionTestCase` tests used to reset primary key\n+sequences automatically together with the database flushing actions described\n+above.\n+\n+This has been changed so no sequences are implicitly reset. This can cause\n+:class:`~django.test.TransactionTestCase` tests that depend on hard-coded\n+primary key values to break.\n+\n+The new :attr:`~django.test.TransactionTestCase.reset_sequences` attribute can\n+be used to force the old behavior for :class:`~django.test.TransactionTestCase`\n+that might need it.\n+\n+Ordering of tests\n+^^^^^^^^^^^^^^^^^\n+\n+In order to make sure all ``TestCase`` code starts with a clean database,\n+tests are now executed in the following order:\n+\n+* First, all unittests (including :class:`unittest.TestCase`,\n+  :class:`~django.test.SimpleTestCase`, :class:`~django.test.TestCase` and\n+  :class:`~django.test.TransactionTestCase`) are run with no particular ordering\n+  guaranteed nor enforced among them.\n+\n+* Then any other tests (e.g. doctests) that may alter the database without\n+  restoring it to its original state are run.\n+\n+This should not cause any problems unless you have existing doctests which\n+assume a :class:`~django.test.TransactionTestCase` executed earlier left some\n+database state behind or unit tests that rely on some form of state being\n+preserved after the execution of other tests. Such tests are already very\n+fragile, and must now be changed to be able to run independently.\n+\n+`cleaned_data` dictionary kept for invalid forms\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The :attr:`~django.forms.Form.cleaned_data` dictionary is now always present\n+after form validation. When the form doesn't validate, it contains only the\n+fields that passed validation. You should test the success of the validation\n+with the :meth:`~django.forms.Form.is_valid()` method and not with the\n+presence or absence of the :attr:`~django.forms.Form.cleaned_data` attribute\n+on the form.\n+\n+Miscellaneous\n+~~~~~~~~~~~~~\n+\n+* :class:`django.forms.ModelMultipleChoiceField` now returns an empty\n+  ``QuerySet`` as the empty value instead of an empty list.\n+\n+* :func:`~django.utils.http.int_to_base36` properly raises a :exc:`TypeError`\n+  instead of :exc:`ValueError` for non-integer inputs.\n+\n+* The ``slugify`` template filter is now available as a standard python\n+  function at :func:`django.utils.text.slugify`. Similarly, ``remove_tags`` is\n+  available at :func:`django.utils.html.remove_tags`.\n+\n+* Uploaded files are no longer created as executable by default. If you need\n+  them to be executeable change :setting:`FILE_UPLOAD_PERMISSIONS` to your\n+  needs. The new default value is `0666` (octal) and the current umask value\n+  is first masked out.\n+\n+* The :ref:`F() expressions <query-expressions>` supported bitwise operators by\n+  ``&`` and ``|``. These operators are now available using ``.bitand()`` and\n+  ``.bitor()`` instead. The removal of ``&`` and ``|`` was done to be consistent with\n+  :ref:`Q() expressions <complex-lookups-with-q>` and ``QuerySet`` combining where\n+  the operators are used as boolean AND and OR operators.\n+\n+* The :ttag:`csrf_token` template tag is no longer enclosed in a div. If you need\n+  HTML validation against pre-HTML5 Strict DTDs, you should add a div around it\n+  in your pages.\n+\n+Features deprecated in 1.5\n+==========================\n+\n+:setting:`AUTH_PROFILE_MODULE`\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+With the introduction of :ref:`custom User models <auth-custom-user>`, there is\n+no longer any need for a built-in mechanism to store user profile data.\n+\n+You can still define user profiles models that have a one-to-one relation with\n+the User model - in fact, for many applications needing to associate data with\n+a User account, this will be an appropriate design pattern to follow. However,\n+the :setting:`AUTH_PROFILE_MODULE` setting, and the\n+:meth:`~django.contrib.auth.models.User.get_profile()` method for accessing\n+the user profile model, should not be used any longer.\n+\n+Streaming behavior of :class:`HttpResponse`\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Django 1.5 deprecates the ability to stream a response by passing an iterator\n+to :class:`~django.http.HttpResponse`. If you rely on this behavior, switch to\n+:class:`~django.http.StreamingHttpResponse`. See above for more details.\n+\n+In Django 1.7 and above, the iterator will be consumed immediately by\n+:class:`~django.http.HttpResponse`.\n+\n+``django.utils.simplejson``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Since Django 1.5 drops support for Python 2.5, we can now rely on the\n+:mod:`json` module being available in Python's standard library, so we've\n+removed our own copy of :mod:`simplejson`. You should now import :mod:`json`\n+instead :mod:`django.utils.simplejson`.\n+\n+Unfortunately, this change might have unwanted side-effects, because of\n+incompatibilities between versions of :mod:`simplejson` -- see the backwards-\n+incompatible changes section. If you rely on features added to :mod:`simplejson`\n+after it became Python's :mod:`json`, you should import :mod:`simplejson`\n+explicitly.\n+\n+``django.utils.encoding.StrAndUnicode``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The :class:`~django.utils.encoding.StrAndUnicode` mix-in has been deprecated.\n+Define a ``__str__`` method and apply the\n+:func:`~django.utils.encoding.python_2_unicode_compatible` decorator instead.\n+\n+``django.utils.itercompat.product``\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The :func:`~django.utils.itercompat.product` function has been deprecated. Use\n+the built-in :func:`itertools.product` instead.\n+\n+\n+``django.utils.markup``\n+~~~~~~~~~~~~~~~~~~~~~~~\n+\n+The markup contrib module has been deprecated and will follow an accelerated\n+deprecation schedule. Direct use of python markup libraries or 3rd party tag\n+libraries is preferred to Django maintaining this functionality in the\n+framework."
        },
        {
            "sha": "f68f93d9586e49072b319ace31889700db3c95b2",
            "filename": "docs/releases/1.5.txt",
            "status": "modified",
            "additions": 87,
            "deletions": 10,
            "changes": 97,
            "blob_url": "https://github.com/django/django/blob/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2F1.5.txt",
            "raw_url": "https://github.com/django/django/raw/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2F1.5.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2F1.5.txt?ref=137fdbeebd83e50d8c24c0b6be091e7d7088ef9a",
            "patch": "@@ -2,6 +2,8 @@\n Django 1.5 release notes - UNDER DEVELOPMENT\n ============================================\n \n+Welcome to Django 1.5!\n+\n These release notes cover the `new features`_, as well\n as some `backwards incompatible changes`_ you'll want to be aware of\n when upgrading from Django 1.4 or older versions. We've also dropped some\n@@ -13,23 +15,98 @@ features`_.\n .. _`backwards incompatible changes`: `Backwards incompatible changes in 1.5`_\n .. _`begun the deprecation process for some features`: `Features deprecated in 1.5`_\n \n+Overview\n+========\n+\n+The biggest new feature in Django 1.5 is the `configurable User model`_. Before\n+Django 1.5, applications that wanted to use Django's auth framework\n+(:mod:`django.contrib.auth`) were forced to use Django's definition of a \"user\".\n+In Django 1.5, you can now swap out the ``User`` model for one that you write\n+yourself. This could be a simple extension to the existing ``User`` model -- for\n+example, you could add a Twitter or Facebook ID field -- or you could completely\n+replace the ``User`` with one totally customized for your site.\n+\n+Django 1.5 is also the first release with `Python 3 support`_! We're labling\n+this support \"experimental\" because we don't yet consider it production-ready,\n+but everything's in place for you to start porting your apps to Python 3.\n+Our next release, Django 1.6, will support Python 3 without reservations.\n+\n+Other notable new features in Django 1.5 include:\n+\n+* `Support for saving a subset of model's fields`_ -\n+  :meth:`Model.save() <django.db.models.Model.save()>` now accepts an\n+  ``update_fields`` argument, letting you specify which fields are\n+  written back to the databse when you call ``save()``. This can help\n+  in high-concurrancy operations, and can improve performance.\n+\n+* Better `support for streaming responses <#explicit-streaming-responses>`_ via\n+  the new  :class:`~django.http.StreamingHttpResponse` response class.\n+\n+* `GeoDjango`_ now supports PostGIS 2.0.\n+\n+* ... and more; `see below <#what-s-new-in-django-1-5>`_.\n+\n+Wherever possible we try to introduce new features in a backwards-compatible\n+manner per :doc:`our API stability policy </misc/api-stability>` policy.\n+However, as with previous releases, Django 1.5 ships with some minor\n+`backwards incompatible changes`_; people upgrading from previous versions\n+of Django should read that list carefully.\n+\n+One deprecated feature worth noting is the shift to \"new-style\" :ttag:`url` tag.\n+Prior to Django 1.3, syntax like ``{% url myview %}`` was interpreted\n+incorrectly (Django considered ``\"myview\"`` to be a literal name of a view, not\n+a template variable named ``myview``). Django 1.3 and above introduced the\n+``{% load url from future %}`` syntax to bring in the corrected behavior where\n+``myview`` was seen as a variable.\n+\n+The upshot of this is that if you are not using ``{% load url from future %}``\n+in your templates, you'll need to change tags like ``{% url myview %}`` to\n+``{% url \"myview\" %}``. If you *were* using ``{% load url from future %}`` you\n+can simply remove that line under Django 1.5\n+\n Python compatibility\n ====================\n \n-Django 1.5 has dropped support for Python 2.5. Python 2.6.5 is now the minimum\n-required Python version. Django is tested and supported on Python 2.6 and\n-2.7.\n+Django 1.5 requires Python 2.6.5 or above, though we **highly recommended**\n+Python 2.7.3 or above. Support for Python 2.5 and below as been dropped.\n \n This change should affect only a small number of Django users, as most\n operating-system vendors today are shipping Python 2.6 or newer as their default\n version. If you're still using Python 2.5, however, you'll need to stick to\n-Django 1.4 until you can upgrade your Python version. Per :doc:`our support policy\n-</internals/release-process>`, Django 1.4 will continue to receive security\n-support until the release of Django 1.6.\n-\n-Django 1.5 does not run on a Jython final release, because Jython's latest release\n-doesn't currently support Python 2.6. However, Jython currently does offer an alpha\n-release featuring 2.7 support.\n+Django 1.4 until you can upgrade your Python version. Per :doc:`our support\n+policy </internals/release-process>`, Django 1.4 will continue to receive\n+security support until the release of Django 1.6.\n+\n+Django 1.5 does not run on a Jython final release, because Jython's latest\n+release doesn't currently support Python 2.6. However, Jython currently does\n+offer an alpha release featuring 2.7 support, and Django 1.5 supports that alpha\n+release.\n+\n+Python 3 support\n+~~~~~~~~~~~~~~~~\n+\n+Django 1.5 introduces support for Python 3 - specifically, Python\n+3.2 and above. This comes in the form of a **single** codebase; you don't\n+need to install a different version of Django on Python 3. This means that\n+you can write application targeted for just Python 2, just Python 3, or single\n+applications that support both platforms.\n+\n+However, we're labeling this support \"experimental\" for now: although it's\n+receved extensive testing via our automated test suite, it's recieved very\n+little real-world testing. We've done our best to eliminate bugs, but we can't\n+be sure we covered all possible uses of Django. Further, Django's more than a\n+web framework; it's an ecosystem of pluggable components. At this point, very\n+few third-party applications have been ported to Python 3, so it's unliukely\n+that a real-world application will have all its dependecies satisfied under\n+Python 3.\n+\n+Thus, we're recommending that Django 1.5 not be used in production under Python\n+3. Instead, use this oportunity to begin :doc:`porting applications to Python 3\n+<topics/python>`. If you're an author of a pluggable component, we encourage you\n+to start porting now.\n+\n+We plan to offer first-class, production-ready support for Python 3 in our next\n+release, Django 1.6.\n \n What's new in Django 1.5\n ========================"
        },
        {
            "sha": "6df9821f565df8ada8db76e2bb4378a7bf5aff93",
            "filename": "docs/releases/index.txt",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2Findex.txt",
            "raw_url": "https://github.com/django/django/raw/137fdbeebd83e50d8c24c0b6be091e7d7088ef9a/docs%2Freleases%2Findex.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Freleases%2Findex.txt?ref=137fdbeebd83e50d8c24c0b6be091e7d7088ef9a",
            "patch": "@@ -92,6 +92,7 @@ notes.\n .. toctree::\n    :maxdepth: 1\n \n+   1.5-alpha-1\n    1.4-beta-1\n    1.4-alpha-1\n    1.3-beta-1"
        }
    ],
    "stats": {
        "total": 729,
        "additions": 719,
        "deletions": 10
    }
}