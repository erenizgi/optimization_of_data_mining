{
    "author": "timgraham",
    "message": "Fixed #19239 - Added examples for generic date views\n\nThank-you Daniel Greenfeld and Scott Nixon.",
    "sha": "38055222bd4f56bac6ae0f7a53c07bf924967daf",
    "files": [
        {
            "sha": "0ae0bcdf421313c5808ab72154584914134361ba",
            "filename": "docs/ref/class-based-views/generic-date-based.txt",
            "status": "modified",
            "additions": 297,
            "deletions": 2,
            "changes": 299,
            "blob_url": "https://github.com/django/django/blob/38055222bd4f56bac6ae0f7a53c07bf924967daf/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt",
            "raw_url": "https://github.com/django/django/raw/38055222bd4f56bac6ae0f7a53c07bf924967daf/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fgeneric-date-based.txt?ref=38055222bd4f56bac6ae0f7a53c07bf924967daf",
            "patch": "@@ -7,6 +7,21 @@ Generic date views\n Date-based generic views, provided in :mod:`django.views.generic.dates`, are\n views for displaying drilldown pages for date-based data.\n \n+.. note::\n+\n+    Some of the examples on this page assume that an ``Article`` model has been\n+    defined as follows in ``myapp/models.py``::\n+\n+        from django.db import models\n+        from django.core.urlresolvers import reverse\n+\n+        class Article(models.Model):\n+            title = models.CharField(max_length=200)\n+            pub_date = models.DateField()\n+\n+            def get_absolute_url(self):\n+                return reverse('article-detail', kwargs={'pk': self.pk})\n+\n ArchiveIndexView\n ----------------\n \n@@ -35,6 +50,31 @@ ArchiveIndexView\n       month or day using the attribute ``date_list_period``. This also applies\n       to all subclass views.\n \n+    **Example views.py**::\n+\n+        from django.conf.urls import patterns, url\n+        from django.views.generic.dates import ArchiveIndexView\n+\n+        from myapp.models import Article\n+\n+        urlpatterns = patterns('',\n+            url(r'^archive/$',\n+                ArchiveIndexView.as_view(model=Article, date_field=\"pub_date\"),\n+                name=\"article_archive\"),\n+        )\n+\n+    **Example myapp/article_archive.html**:\n+\n+    .. code-block:: html+django\n+\n+        <ul>\n+            {% for article in latest %}\n+                <li>{{ article.pub_date }}: {{ article.title }}</li>\n+            {% endfor %}\n+        </ul>\n+\n+    This will output all articles.\n+\n YearArchiveView\n ---------------\n \n@@ -109,6 +149,49 @@ YearArchiveView\n \n     * Uses a default ``template_name_suffix`` of ``_archive_year``.\n \n+    **Example views.py**::\n+\n+        from django.views.generic.dates import YearArchiveView\n+\n+        from myapp.models import Article\n+\n+        class ArticleYearArchiveView(YearArchiveView):\n+            queryset = Article.objects.all()\n+            date_field = \"pub_date\"\n+            make_object_list = True\n+            allow_future = True\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import ArticleYearArchiveView\n+\n+        urlpatterns = patterns('',\n+            url(r'^(?P<year>\\d{4})/$',\n+                ArticleYearArchiveView.as_view(),\n+                name=\"article_year_archive\"),\n+        )\n+\n+    **Example myapp/article_archive_year.html**:\n+\n+    .. code-block:: html+django\n+\n+        <ul>\n+            {% for date in date_list %}\n+                <li>{{ date|date }}</li>\n+            {% endfor %}\n+        </ul>\n+\n+        <div>\n+            <h1>All Articles for {{ year|date:\"Y\" }}</h1>\n+            {% for obj in object_list %}\n+                <p>\n+                    {{ obj.title }} - {{ obj.pub_date|date:\"F j, Y\" }}\n+                </p>\n+            {% endfor %}\n+        </div>\n+\n MonthArchiveView\n ----------------\n \n@@ -162,6 +245,54 @@ MonthArchiveView\n \n     * Uses a default ``template_name_suffix`` of ``_archive_month``.\n \n+    **Example views.py**::\n+\n+        from django.views.generic.dates import MonthArchiveView\n+\n+        from myapp.models import Article\n+\n+        class ArticleMonthArchiveView(MonthArchiveView):\n+            queryset = Article.objects.all()\n+            date_field = \"pub_date\"\n+            make_object_list = True\n+            allow_future = True\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import ArticleMonthArchiveView\n+\n+        urlpatterns = patterns('',\n+            # Example: /2012/aug/\n+            url(r'^(?P<year>\\d{4})/(?P<month>[-\\w]+)/$',\n+                ArticleMonthArchiveView.as_view(),\n+                name=\"archive_month\"),\n+            # Example: /2012/08/\n+            url(r'^(?P<year>\\d{4})/(?P<month>\\d+)/$',\n+                ArticleMonthArchiveView.as_view(month_format='%m'),\n+                name=\"archive_month_numeric\"),\n+        )\n+\n+    **Example myapp/article_archive_month.html**:\n+\n+    .. code-block:: html+django\n+\n+        <ul>\n+            {% for article in object_list %}\n+                <li>{{ article.pub_date|date:\"F j, Y\" }}: {{ article.title }}</li>\n+            {% endfor %}\n+        </ul>\n+\n+        <p>\n+            {% if previous_month %}\n+                Previous Month: {{ previous_month|date:\"F Y\" }}\n+            {% endif %}\n+            {% if next_month %}\n+                Next Month: {{ next_month|date:\"F Y\" }}\n+            {% endif %}\n+        </p>\n+\n WeekArchiveView\n ---------------\n \n@@ -208,6 +339,65 @@ WeekArchiveView\n \n     * Uses a default ``template_name_suffix`` of ``_archive_week``.\n \n+    **Example views.py**::\n+\n+        from django.views.generic.dates import WeekArchiveView\n+\n+        from myapp.models import Article\n+\n+        class ArticleWeekArchiveView(WeekArchiveView):\n+            queryset = Article.objects.all()\n+            date_field = \"pub_date\"\n+            make_object_list = True\n+            week_format = \"%W\"\n+            allow_future = True\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import ArticleWeekArchiveView\n+\n+        urlpatterns = patterns('',\n+            # Example: /2012/week/23/\n+            url(r'^(?P<year>\\d{4})/week/(?P<week>\\d+)/$',\n+                ArticleWeekArchiveView.as_view(),\n+                name=\"archive_week\"),\n+        )\n+\n+    **Example myapp/article_archive_week.html**:\n+\n+    .. code-block:: html+django\n+\n+        <h1>Week {{ week|date:'W' }}</h1>\n+\n+        <ul>\n+            {% for article in object_list %}\n+                <li>{{ article.pub_date|date:\"F j, Y\" }}: {{ article.title }}</li>\n+            {% endfor %}\n+        </ul>\n+\n+        <p>\n+            {% if previous_week %}\n+                Previous Week: {{ previous_week|date:\"F Y\" }}\n+            {% endif %}\n+            {% if previous_week and next_week %}--{% endif %}\n+            {% if next_week %}\n+                Next week: {{ next_week|date:\"F Y\" }}\n+            {% endif %}\n+        </p>\n+\n+    In this example, you are outputting the week number. The default\n+    ``week_format`` in the ``WeekArchiveView`` uses  week format ``'%U'``\n+    which is based on the United States week system where the week begins on a\n+    Sunday. The ``'%W'`` format uses the ISO week format and its week\n+    begins on a Monday.  The ``'%W'`` format is the same in both the\n+    :func:`~time.strftime` and the :tfilter:`date`.\n+\n+    However, the :tfilter:`date` template filter does not have an equivalent\n+    output format that supports the US based week system. The :tfilter:`date`\n+    filter ``'%U'`` outputs the number of seconds since the Unix epoch.\n+\n DayArchiveView\n --------------\n \n@@ -265,6 +455,53 @@ DayArchiveView\n \n     * Uses a default ``template_name_suffix`` of ``_archive_day``.\n \n+    **Example views.py**::\n+\n+        from django.views.generic.dates import DayArchiveView\n+\n+        from myapp.models import Article\n+\n+        class ArticleDayArchiveView(DayArchiveView):\n+            queryset = Article.objects.all()\n+            date_field = \"pub_date\"\n+            make_object_list = True\n+            allow_future = True\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import ArticleDayArchiveView\n+\n+        urlpatterns = patterns('',\n+            # Example: /2012/nov/10/\n+            url(r'^(?P<year>\\d{4})/(?P<month>[-\\w]+)/(?P<day>\\d+)/$',\n+                ArticleDayArchiveView.as_view(),\n+                name=\"archive_day\"),\n+        )\n+\n+    **Example myapp/article_archive_day.html**:\n+\n+    .. code-block:: html+django\n+\n+        <h1>{{ day }}</h1>\n+\n+        <ul>\n+            {% for article in object_list %}\n+                <li>{{ article.pub_date|date:\"F j, Y\" }}: {{ article.title }}</li>\n+            {% endfor %}\n+        </ul>\n+\n+        <p>\n+            {% if previous_day %}\n+                Previous Day: {{ previous_day }}\n+            {% endif %}\n+            {% if previous_day and next_day %}--{% endif %}\n+            {% if next_day %}\n+                Next Day: {{ next_day }}\n+            {% endif %}\n+        </p>\n+\n TodayArchiveView\n ----------------\n \n@@ -289,6 +526,40 @@ TodayArchiveView\n     * :class:`django.views.generic.dates.DateMixin`\n     * :class:`django.views.generic.base.View`\n \n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_archive_today``.\n+\n+    **Example views.py**::\n+\n+        from django.views.generic.dates import TodayArchiveView\n+\n+        from myapp.models import Article\n+\n+        class ArticleTodayArchiveView(TodayArchiveView):\n+            queryset = Article.objects.all()\n+            date_field = \"pub_date\"\n+            make_object_list = True\n+            allow_future = True\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+\n+        from myapp.views import ArticleTodayArchiveView\n+\n+        urlpatterns = patterns('',\n+            url(r'^today/$',\n+                ArticleTodayArchiveView.as_view(),\n+                name=\"archive_today\"),\n+        )\n+\n+    .. admonition:: Where is the example template for ``TodayArchiveView``?\n+\n+        This view uses by default the same template as the\n+        :class:`~DayArchiveView`, which is in the previous example. If you need\n+        a different template, set the ``template_name`` attribute to be the\n+        name of the new template.\n \n DateDetailView\n --------------\n@@ -313,6 +584,32 @@ DateDetailView\n     * :class:`django.views.generic.detail.SingleObjectMixin`\n     * :class:`django.views.generic.base.View`\n \n+    **Context**\n+\n+    * Includes the single object associated with the ``model`` specified in\n+      the ``DateDetailView``.\n+\n+    **Notes**\n+\n+    * Uses a default ``template_name_suffix`` of ``_detail``.\n+\n+    **Example urls.py**::\n+\n+        from django.conf.urls import patterns, url\n+        from django.views.generic.dates import DateDetailView\n+\n+        urlpatterns = patterns('',\n+            url(r'^(?P<year>\\d+)/(?P<month>[-\\w]+)/(?P<day>\\d+)/(?P<pk>\\d+)/$',\n+                DateDetailView.as_view(model=Article, date_field=\"pub_date\"),\n+                name=\"archive_date_detail\"),\n+        )\n+\n+    **Example myapp/article_detail.html**:\n+\n+    .. code-block:: html+django\n+\n+        <h1>{{ object.title }}</h1>\n+\n .. note::\n \n     All of the generic views listed above have matching ``Base`` views that\n@@ -332,5 +629,3 @@ DateDetailView\n     .. class:: BaseTodayArchiveView\n \n     .. class:: BaseDateDetailView\n-\n-"
        },
        {
            "sha": "7ce5c1d1bef116b9a8d92579eb349656e49f582b",
            "filename": "docs/ref/class-based-views/generic-editing.txt",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/38055222bd4f56bac6ae0f7a53c07bf924967daf/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt",
            "raw_url": "https://github.com/django/django/raw/38055222bd4f56bac6ae0f7a53c07bf924967daf/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt",
            "contents_url": "https://api.github.com/repos/django/django/contents/docs%2Fref%2Fclass-based-views%2Fgeneric-editing.txt?ref=38055222bd4f56bac6ae0f7a53c07bf924967daf",
            "patch": "@@ -12,9 +12,8 @@ editing content:\n \n .. note::\n \n-    Some of the examples on this page assume that a model titled 'Author'\n-    has been defined. For these cases we assume the following has been defined\n-    in `myapp/models.py`::\n+    Some of the examples on this page assume that an ``Article`` model has been\n+    defined as follows in ``myapp/models.py``::\n \n         from django.core.urlresolvers import reverse\n         from django.db import models"
        }
    ],
    "stats": {
        "total": 304,
        "additions": 299,
        "deletions": 5
    }
}