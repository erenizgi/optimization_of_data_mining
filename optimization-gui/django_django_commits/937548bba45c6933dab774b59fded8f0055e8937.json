{
    "author": "jezdez",
    "message": "Fixed #15043 -- Updated the login function to send the user_logged_in signal after the user's session got recycled instead of before. Thanks, Rob Hudson.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15168 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "937548bba45c6933dab774b59fded8f0055e8937",
    "files": [
        {
            "sha": "7fb6370c3217b73b58ff2a46aeb8f46ba2dcb93f",
            "filename": "django/contrib/auth/__init__.py",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/937548bba45c6933dab774b59fded8f0055e8937/django%2Fcontrib%2Fauth%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/937548bba45c6933dab774b59fded8f0055e8937/django%2Fcontrib%2Fauth%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fauth%2F__init__.py?ref=937548bba45c6933dab774b59fded8f0055e8937",
            "patch": "@@ -70,8 +70,6 @@ def login(request, user):\n     if user is None:\n         user = request.user\n     # TODO: It would be nice to support different login methods, like signed cookies.\n-    user_logged_in.send(sender=user.__class__, request=request, user=user)\n-\n     if SESSION_KEY in request.session:\n         if request.session[SESSION_KEY] != user.id:\n             # To avoid reusing another user's session, create a new, empty\n@@ -84,6 +82,7 @@ def login(request, user):\n     request.session[BACKEND_SESSION_KEY] = user.backend\n     if hasattr(request, 'user'):\n         request.user = user\n+    user_logged_in.send(sender=user.__class__, request=request, user=user)\n \n def logout(request):\n     \"\"\""
        }
    ],
    "stats": {
        "total": 3,
        "additions": 1,
        "deletions": 2
    }
}