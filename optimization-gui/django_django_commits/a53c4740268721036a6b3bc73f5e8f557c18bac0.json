{
    "author": "aaugustin",
    "message": "Fixed #16241 -- Ensured the WSGI iterable's close() is always called.\n\nThanks Graham Dumpleton for the report.",
    "sha": "a53c4740268721036a6b3bc73f5e8f557c18bac0",
    "files": [
        {
            "sha": "68ca0c10795aa91fee5eb755b26e6503c8513487",
            "filename": "django/core/servers/basehttp.py",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/a53c4740268721036a6b3bc73f5e8f557c18bac0/django%2Fcore%2Fservers%2Fbasehttp.py",
            "raw_url": "https://github.com/django/django/raw/a53c4740268721036a6b3bc73f5e8f557c18bac0/django%2Fcore%2Fservers%2Fbasehttp.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcore%2Fservers%2Fbasehttp.py?ref=a53c4740268721036a6b3bc73f5e8f557c18bac0",
            "patch": "@@ -109,6 +109,17 @@ def error_output(self, environ, start_response):\n         super(ServerHandler, self).error_output(environ, start_response)\n         return ['\\n'.join(traceback.format_exception(*sys.exc_info()))]\n \n+    # Backport of http://hg.python.org/cpython/rev/d5af1b235dab. See #16241.\n+    # This can be removed when support for Python <= 2.7.3 is deprecated.\n+    def finish_response(self):\n+        try:\n+            if not self.result_is_file() or not self.sendfile():\n+                for data in self.result:\n+                    self.write(data)\n+                self.finish_content()\n+        finally:\n+            self.close()\n+\n \n class WSGIServer(simple_server.WSGIServer, object):\n     \"\"\"BaseHTTPServer that implements the Python WSGI protocol\"\"\""
        }
    ],
    "stats": {
        "total": 11,
        "additions": 11,
        "deletions": 0
    }
}