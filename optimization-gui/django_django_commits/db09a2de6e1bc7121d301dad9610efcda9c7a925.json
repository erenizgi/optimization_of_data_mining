{
    "author": "jphalip",
    "message": "Cleaned up some lingering signals in the test suite that were causing spurious failures with Pypy and Postgres.",
    "sha": "db09a2de6e1bc7121d301dad9610efcda9c7a925",
    "files": [
        {
            "sha": "97c05ddc7936ee8c9e449dfcb3d18bcfe78c899f",
            "filename": "tests/modeltests/update_only_fields/tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fmodeltests%2Fupdate_only_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fmodeltests%2Fupdate_only_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fmodeltests%2Fupdate_only_fields%2Ftests.py?ref=db09a2de6e1bc7121d301dad9610efcda9c7a925",
            "patch": "@@ -207,6 +207,9 @@ def post_save_receiver(**kwargs):\n         self.assertEqual(len(post_save_data[0]), 1)\n         self.assertTrue('name' in post_save_data[0])\n \n+        pre_save.disconnect(pre_save_receiver)\n+        post_save.disconnect(post_save_receiver)\n+\n     def test_update_fields_incorrect_params(self):\n         s = Person.objects.create(name='Sara', gender='F')\n \n@@ -233,6 +236,9 @@ def post_save_receiver(**kwargs):\n         self.assertEqual(len(pre_save_data), 0)\n         self.assertEqual(len(post_save_data), 0)\n \n+        pre_save.disconnect(pre_save_receiver)\n+        post_save.disconnect(post_save_receiver)\n+\n     def test_num_queries_inheritance(self):\n         s = Employee.objects.create(name='Sara', gender='F')\n         s.employee_num = 1"
        },
        {
            "sha": "c932fed2d270aa2891c328a66d628a69dd97651d",
            "filename": "tests/regressiontests/comment_tests/tests/moderation_view_tests.py",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/django/django/blob/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fmoderation_view_tests.py",
            "raw_url": "https://github.com/django/django/raw/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fmoderation_view_tests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fcomment_tests%2Ftests%2Fmoderation_view_tests.py?ref=db09a2de6e1bc7121d301dad9610efcda9c7a925",
            "patch": "@@ -93,6 +93,8 @@ def receive(sender, **kwargs):\n         self.testFlagPost()\n         self.assertEqual(received_signals, [signals.comment_was_flagged])\n \n+        signals.comment_was_flagged.disconnect(receive)\n+\n def makeModerator(username):\n     u = User.objects.get(username=username)\n     ct = ContentType.objects.get_for_model(Comment)\n@@ -164,6 +166,8 @@ def receive(sender, **kwargs):\n         self.testDeletePost()\n         self.assertEqual(received_signals, [signals.comment_was_flagged])\n \n+        signals.comment_was_flagged.disconnect(receive)\n+\n     def testDeletedView(self):\n         comments = self.createSomeComments()\n         pk = comments[0].pk\n@@ -239,6 +243,8 @@ def receive(sender, **kwargs):\n         self.testApprovePost()\n         self.assertEqual(received_signals, [signals.comment_was_flagged])\n \n+        signals.comment_was_flagged.disconnect(receive)\n+\n     def testApprovedView(self):\n         comments = self.createSomeComments()\n         pk = comments[0].pk"
        },
        {
            "sha": "2bff7b3b66fbb0bfb66b80854aa9b63a459159eb",
            "filename": "tests/regressiontests/multiple_database/tests.py",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/django/django/blob/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/db09a2de6e1bc7121d301dad9610efcda9c7a925/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmultiple_database%2Ftests.py?ref=db09a2de6e1bc7121d301dad9610efcda9c7a925",
            "patch": "@@ -1761,6 +1761,11 @@ def test_database_arg_save_and_delete(self):\n         self.assertEqual(pre_delete_receiver._database, \"other\")\n         self.assertEqual(post_delete_receiver._database, \"other\")\n \n+        signals.pre_save.disconnect(sender=Person, receiver=pre_save_receiver)\n+        signals.post_save.disconnect(sender=Person, receiver=post_save_receiver)\n+        signals.pre_delete.disconnect(sender=Person, receiver=pre_delete_receiver)\n+        signals.post_delete.disconnect(sender=Person, receiver=post_delete_receiver)\n+\n     def test_database_arg_m2m(self):\n         \"\"\"\n         Test that the m2m_changed signal has a correct database arg (#13552)"
        }
    ],
    "stats": {
        "total": 17,
        "additions": 17,
        "deletions": 0
    }
}