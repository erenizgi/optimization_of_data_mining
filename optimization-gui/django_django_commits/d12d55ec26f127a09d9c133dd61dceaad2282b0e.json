{
    "author": "aviraldg",
    "message": "Added regression test for #17967.",
    "sha": "d12d55ec26f127a09d9c133dd61dceaad2282b0e",
    "files": [
        {
            "sha": "5f6467fb47971c1e13f406f54e8712306424219b",
            "filename": "tests/regressiontests/admin_views/tests.py",
            "status": "modified",
            "additions": 18,
            "deletions": 0,
            "changes": 18,
            "blob_url": "https://github.com/django/django/blob/d12d55ec26f127a09d9c133dd61dceaad2282b0e/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/d12d55ec26f127a09d9c133dd61dceaad2282b0e/tests%2Fregressiontests%2Fadmin_views%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fadmin_views%2Ftests.py?ref=d12d55ec26f127a09d9c133dd61dceaad2282b0e",
            "patch": "@@ -572,6 +572,24 @@ def test_allowed_filtering_15103(self):\n         except SuspiciousOperation:\n             self.fail(\"Filters should be allowed if they are defined on a ForeignKey pointing to this model\")\n \n+    def test_hide_change_password(self):\n+        \"\"\"\n+        Tests if the \"change password\" link in the admin is hidden if the User\n+        does not have a usable password set.\n+        (against 9bea85795705d015cdadc82c68b99196a8554f5c)\n+        \"\"\"\n+        user = User.objects.get(username='super')\n+        password = user.password\n+        user.set_unusable_password()\n+        user.save()\n+\n+        response = self.client.get('/test_admin/admin/')\n+        if reverse('admin:password_change') in response.content:\n+            self.fail('The \"change password\" link should not be displayed if a user does not have a usable password.')\n+\n+        user.password = password\n+        user.save()\n+\n \n class AdminViewFormUrlTest(TestCase):\n     urls = \"regressiontests.admin_views.urls\""
        }
    ],
    "stats": {
        "total": 18,
        "additions": 18,
        "deletions": 0
    }
}