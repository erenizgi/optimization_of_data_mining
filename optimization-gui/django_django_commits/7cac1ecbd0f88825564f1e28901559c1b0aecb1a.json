{
    "author": "adrianholovaty",
    "message": "Simplified django.utils.feedgenerator.get_tag_uri now that we don't require Python 2.4\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15930 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "7cac1ecbd0f88825564f1e28901559c1b0aecb1a",
    "files": [
        {
            "sha": "e23fde71aef1937ae877dfc79d59b75e99f5dd4e",
            "filename": "django/utils/feedgenerator.py",
            "status": "modified",
            "additions": 2,
            "deletions": 8,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/7cac1ecbd0f88825564f1e28901559c1b0aecb1a/django%2Futils%2Ffeedgenerator.py",
            "raw_url": "https://github.com/django/django/raw/7cac1ecbd0f88825564f1e28901559c1b0aecb1a/django%2Futils%2Ffeedgenerator.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Futils%2Ffeedgenerator.py?ref=7cac1ecbd0f88825564f1e28901559c1b0aecb1a",
            "patch": "@@ -66,17 +66,11 @@ def get_tag_uri(url, date):\n \n     See http://diveintomark.org/archives/2004/05/28/howto-atom-id\n     \"\"\"\n-    url_split = urlparse.urlparse(url)\n-\n-    # Python 2.4 didn't have named attributes on split results or the hostname.\n-    hostname = getattr(url_split, 'hostname', url_split[1].split(':')[0])\n-    path = url_split[2]\n-    fragment = url_split[5]\n-\n+    bits = urlparse.urlparse(url)\n     d = ''\n     if date is not None:\n         d = ',%s' % datetime_safe.new_datetime(date).strftime('%Y-%m-%d')\n-    return u'tag:%s%s:%s/%s' % (hostname, d, path, fragment)\n+    return u'tag:%s%s:%s/%s' % (bits.hostname, d, bits.path, bits.fragment)\n \n class SyndicationFeed(object):\n     \"Base class for all syndication feeds. Subclasses should provide write()\""
        }
    ],
    "stats": {
        "total": 10,
        "additions": 2,
        "deletions": 8
    }
}