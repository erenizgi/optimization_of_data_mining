{
    "author": "alex",
    "message": "Simplify the tests for [15296].\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15297 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "09a63632c5072695d3b3293a046c197ea3c3299a",
    "files": [
        {
            "sha": "8b137891791fe96927ad78e64b0aad7bded08bdc",
            "filename": "tests/regressiontests/inspectdb/bug/__init__.py",
            "status": "removed",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/bafe879188f3cd268f81e426bcdf4addc2d9a10a/tests%2Fregressiontests%2Finspectdb%2Fbug%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/bafe879188f3cd268f81e426bcdf4addc2d9a10a/tests%2Fregressiontests%2Finspectdb%2Fbug%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finspectdb%2Fbug%2F__init__.py?ref=bafe879188f3cd268f81e426bcdf4addc2d9a10a",
            "patch": "@@ -1 +0,0 @@\n-"
        },
        {
            "sha": "6fec2273e0be6411c6506d4a0fff1d6208b53186",
            "filename": "tests/regressiontests/inspectdb/bug/models.py",
            "status": "removed",
            "additions": 0,
            "deletions": 7,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/bafe879188f3cd268f81e426bcdf4addc2d9a10a/tests%2Fregressiontests%2Finspectdb%2Fbug%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/bafe879188f3cd268f81e426bcdf4addc2d9a10a/tests%2Fregressiontests%2Finspectdb%2Fbug%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finspectdb%2Fbug%2Fmodels.py?ref=bafe879188f3cd268f81e426bcdf4addc2d9a10a",
            "patch": "@@ -1,7 +0,0 @@\n-from django.db import models\n-\n-class People(models.Model):\n-    name = models.CharField(max_length=255)\n-\n-class Message(models.Model):\n-    from_field = models.ForeignKey(People, db_column='from_id')"
        },
        {
            "sha": "fc2548b441bae900698465a52c5888b9076431f2",
            "filename": "tests/regressiontests/inspectdb/models.py",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/09a63632c5072695d3b3293a046c197ea3c3299a/tests%2Fregressiontests%2Finspectdb%2Fmodels.py",
            "raw_url": "https://github.com/django/django/raw/09a63632c5072695d3b3293a046c197ea3c3299a/tests%2Fregressiontests%2Finspectdb%2Fmodels.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finspectdb%2Fmodels.py?ref=09a63632c5072695d3b3293a046c197ea3c3299a",
            "patch": "@@ -1 +1,8 @@\n+from django.db import models\n \n+\n+class People(models.Model):\n+    name = models.CharField(max_length=255)\n+\n+class Message(models.Model):\n+    from_field = models.ForeignKey(People, db_column='from_id')"
        },
        {
            "sha": "c6f9e6f88a82c9b6b9ecb400ca5cfc6ff1f00bea",
            "filename": "tests/regressiontests/inspectdb/tests.py",
            "status": "modified",
            "additions": 3,
            "deletions": 18,
            "changes": 21,
            "blob_url": "https://github.com/django/django/blob/09a63632c5072695d3b3293a046c197ea3c3299a/tests%2Fregressiontests%2Finspectdb%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/09a63632c5072695d3b3293a046c197ea3c3299a/tests%2Fregressiontests%2Finspectdb%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Finspectdb%2Ftests.py?ref=09a63632c5072695d3b3293a046c197ea3c3299a",
            "patch": "@@ -1,29 +1,14 @@\n-import os\n-import sys\n from StringIO import StringIO\n \n-from django.conf import settings\n from django.core.management import call_command\n-from django.db.models.loading import load_app\n from django.test import TestCase\n \n+\n class InspectDBTestCase(TestCase):\n-    \n-    def setUp(self):\n-        self.old_sys_path = sys.path[:]\n-        sys.path.append(os.path.dirname(os.path.abspath(__file__)))\n-        self.old_installed_apps = settings.INSTALLED_APPS\n-        settings.INSTALLED_APPS = ('bug',)\n-        map(load_app, settings.INSTALLED_APPS)\n-        call_command('syncdb', verbosity=0)\n-        \n     def test_attribute_name_not_python_keyword(self):\n         out = StringIO()\n         call_command('inspectdb', stdout=out)\n         error_message = \"inspectdb generated an attribute name which is a python keyword\"\n-        self.assertNotIn(\"from = models.ForeignKey(BugPeople)\", out.getvalue(), msg=error_message)\n+        self.assertNotIn(\"from = models.ForeignKey(InspectdbPeople)\", out.getvalue(), msg=error_message)\n+        self.assertIn(\"from_field = models.ForeignKey(InspectdbPeople)\", out.getvalue())\n         out.close()\n-        \n-    def tearDown(self):\n-        settings.INSTALLED_APPS = self.old_installed_apps\n-        sys.path = self.old_sys_path"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 10,
        "deletions": 26
    }
}