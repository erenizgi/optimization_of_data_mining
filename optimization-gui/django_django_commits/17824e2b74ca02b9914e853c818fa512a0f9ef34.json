{
    "author": "claudep",
    "message": "Fixed #17736 -- Kept maximal floating-point accuracy in from_bbox\n\nWhen constructing a polygon with Polygon.from_bbox, do not convert\nparameters to strings at this stage (str defaults to 12 significant\ndigits).\nThanks tdihp@hotmail.com for the report and David Eklung for the patch.",
    "sha": "17824e2b74ca02b9914e853c818fa512a0f9ef34",
    "files": [
        {
            "sha": "ad0e88698179d53aae8b8b814712fb61fdeb63c3",
            "filename": "AUTHORS",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/django/django/blob/17824e2b74ca02b9914e853c818fa512a0f9ef34/AUTHORS",
            "raw_url": "https://github.com/django/django/raw/17824e2b74ca02b9914e853c818fa512a0f9ef34/AUTHORS",
            "contents_url": "https://api.github.com/repos/django/django/contents/AUTHORS?ref=17824e2b74ca02b9914e853c818fa512a0f9ef34",
            "patch": "@@ -171,6 +171,7 @@ answer newbie questions, and generally made Django that much better:\n     Clint Ecker\n     Nick Efford <nick@efford.org>\n     eibaan@gmail.com\n+    David Eklund\n     Julia Elman\n     enlight\n     Enrico <rico.bl@gmail.com>"
        },
        {
            "sha": "2c0f90be3ca8c3a8d038d895b981cebad5442d0f",
            "filename": "django/contrib/gis/geos/polygon.py",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/17824e2b74ca02b9914e853c818fa512a0f9ef34/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py",
            "raw_url": "https://github.com/django/django/raw/17824e2b74ca02b9914e853c818fa512a0f9ef34/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Fpolygon.py?ref=17824e2b74ca02b9914e853c818fa512a0f9ef34",
            "patch": "@@ -55,8 +55,11 @@ def __len__(self):\n     def from_bbox(cls, bbox):\n         \"Constructs a Polygon from a bounding box (4-tuple).\"\n         x0, y0, x1, y1 = bbox\n-        return GEOSGeometry( 'POLYGON((%s %s, %s %s, %s %s, %s %s, %s %s))' %  (\n-                x0, y0, x0, y1, x1, y1, x1, y0, x0, y0) )\n+        for z in bbox:\n+            if not isinstance(z, (int, long, float)):\n+                return GEOSGeometry('POLYGON((%s %s, %s %s, %s %s, %s %s, %s %s))' %\n+                                    (x0, y0, x0, y1, x1, y1, x1, y0, x0, y0))\n+        return Polygon(((x0, y0), (x0, y1), (x1, y1), (x1, y0), (x0, y0)))\n \n     ### These routines are needed for list-like operation w/ListMixin ###\n     def _create_polygon(self, length, items):"
        },
        {
            "sha": "ed38283dfca67d6d1b02c3d33f17ea7b2ece9f25",
            "filename": "django/contrib/gis/geos/tests/test_geos.py",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/django/django/blob/17824e2b74ca02b9914e853c818fa512a0f9ef34/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "raw_url": "https://github.com/django/django/raw/17824e2b74ca02b9914e853c818fa512a0f9ef34/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Fgis%2Fgeos%2Ftests%2Ftest_geos.py?ref=17824e2b74ca02b9914e853c818fa512a0f9ef34",
            "patch": "@@ -384,6 +384,13 @@ def test_polygons_from_bbox(self):\n         p = Polygon.from_bbox(bbox)\n         self.assertEqual(bbox, p.extent)\n \n+        # Testing numerical precision\n+        x = 3.14159265358979323\n+        bbox = (0, 0, 1, x)\n+        p = Polygon.from_bbox(bbox)\n+        y = p.extent[-1]\n+        self.assertEqual(format(x, '.13f'), format(y, '.13f'))\n+\n     def test_polygons(self):\n         \"Testing Polygon objects.\"\n "
        }
    ],
    "stats": {
        "total": 15,
        "additions": 13,
        "deletions": 2
    }
}