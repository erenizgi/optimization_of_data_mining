{
    "author": "jezdez",
    "message": "Fixed #5931 -- Added __repr__ to db fields. Thanks, Thomas GÃ¼ttler, emulbreh and magopian.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@16145 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad",
    "files": [
        {
            "sha": "9037265e8b9c2dad35586a7096fe0bad5638423c",
            "filename": "django/db/models/fields/__init__.py",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/django/django/blob/48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "raw_url": "https://github.com/django/django/raw/48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad/django%2Fdb%2Fmodels%2Ffields%2F__init__.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fdb%2Fmodels%2Ffields%2F__init__.py?ref=48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad",
            "patch": "@@ -444,6 +444,16 @@ def value_from_object(self, obj):\n         \"Returns the value of this field in the given model instance.\"\n         return getattr(obj, self.attname)\n \n+    def __repr__(self):\n+        \"\"\"\n+        Displays the module, class and name of the field.\n+        \"\"\"\n+        path = '%s.%s' % (self.__class__.__module__, self.__class__.__name__)\n+        name = getattr(self, 'name', None)\n+        if name is not None:\n+            return '<%s: %s>' % (path, name)\n+        return '<%s>' % path\n+\n class AutoField(Field):\n     description = _(\"Integer\")\n "
        },
        {
            "sha": "b42c0af784a0d501bde658fe4dda7e5d93f9fa4e",
            "filename": "tests/regressiontests/model_fields/tests.py",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/django/django/blob/48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fmodel_fields%2Ftests.py?ref=48cffd9e459d8aaf9d1afa36f4e07f9624b2c4ad",
            "patch": "@@ -48,6 +48,15 @@ def test_nullbooleanfield_blank(self):\n         except ValidationError, e:\n             self.fail(\"NullBooleanField failed validation with value of None: %s\" % e.messages)\n \n+    def test_field_repr(self):\n+        \"\"\"\n+        Regression test for #5931: __repr__ of a field also displays its name\n+        \"\"\"\n+        f = Foo._meta.get_field('a')\n+        self.assertEqual(repr(f), '<django.db.models.fields.CharField: a>')\n+        f = models.fields.CharField()\n+        self.assertEqual(repr(f), '<django.db.models.fields.CharField>')\n+\n class DecimalFieldTests(test.TestCase):\n     def test_to_python(self):\n         f = models.DecimalField(max_digits=4, decimal_places=2)"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 19,
        "deletions": 0
    }
}