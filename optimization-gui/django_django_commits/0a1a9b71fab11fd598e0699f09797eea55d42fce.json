{
    "author": "aaugustin",
    "message": "Made the defaultfilters tests run on the actual filters, not on functions imported from django.utils.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@17054 bcc190cf-cafb-0310-a4f2-bffc1f526a37",
    "sha": "0a1a9b71fab11fd598e0699f09797eea55d42fce",
    "files": [
        {
            "sha": "5301c7cc867b657ea1a1e847d41ccbc0aced1944",
            "filename": "django/template/defaultfilters.py",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/django/django/blob/0a1a9b71fab11fd598e0699f09797eea55d42fce/django%2Ftemplate%2Fdefaultfilters.py",
            "raw_url": "https://github.com/django/django/raw/0a1a9b71fab11fd598e0699f09797eea55d42fce/django%2Ftemplate%2Fdefaultfilters.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Ftemplate%2Fdefaultfilters.py?ref=0a1a9b71fab11fd598e0699f09797eea55d42fce",
            "patch": "@@ -581,7 +581,7 @@ def random(value):\n random.is_safe = True\n \n @register.filter(\"slice\")\n-def slice_(value, arg):\n+def slice_filter(value, arg):\n     \"\"\"\n     Returns a slice of the list.\n \n@@ -600,7 +600,7 @@ def slice_(value, arg):\n \n     except (ValueError, TypeError):\n         return value # Fail silently.\n-slice_.is_safe = True\n+slice_filter.is_safe = True\n \n @register.filter\n def unordered_list(value, autoescape=None):"
        },
        {
            "sha": "b18334d0118d40bcd66d4af8e0704ece77b1794e",
            "filename": "tests/regressiontests/defaultfilters/tests.py",
            "status": "modified",
            "additions": 26,
            "deletions": 25,
            "changes": 51,
            "blob_url": "https://github.com/django/django/blob/0a1a9b71fab11fd598e0699f09797eea55d42fce/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/0a1a9b71fab11fd598e0699f09797eea55d42fce/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Fdefaultfilters%2Ftests.py?ref=0a1a9b71fab11fd598e0699f09797eea55d42fce",
            "patch": "@@ -75,20 +75,20 @@ def test_capfirst(self):\n         self.assertEqual(capfirst(u'hello world'), u'Hello world')\n \n     def test_escapejs(self):\n-        self.assertEqual(escapejs(u'\"double quotes\" and \\'single quotes\\''),\n+        self.assertEqual(escapejs_filter(u'\"double quotes\" and \\'single quotes\\''),\n             u'\\\\u0022double quotes\\\\u0022 and \\\\u0027single quotes\\\\u0027')\n-        self.assertEqual(escapejs(ur'\\ : backslashes, too'),\n+        self.assertEqual(escapejs_filter(ur'\\ : backslashes, too'),\n             u'\\\\u005C : backslashes, too')\n-        self.assertEqual(escapejs(u'and lots of whitespace: \\r\\n\\t\\v\\f\\b'),\n+        self.assertEqual(escapejs_filter(u'and lots of whitespace: \\r\\n\\t\\v\\f\\b'),\n             u'and lots of whitespace: \\\\u000D\\\\u000A\\\\u0009\\\\u000B\\\\u000C\\\\u0008')\n-        self.assertEqual(escapejs(ur'<script>and this</script>'),\n+        self.assertEqual(escapejs_filter(ur'<script>and this</script>'),\n             u'\\\\u003Cscript\\\\u003Eand this\\\\u003C/script\\\\u003E')\n         self.assertEqual(\n-            escapejs(u'paragraph separator:\\u2029and line separator:\\u2028'),\n+            escapejs_filter(u'paragraph separator:\\u2029and line separator:\\u2028'),\n             u'paragraph separator:\\\\u2029and line separator:\\\\u2028')\n \n     def test_fix_ampersands(self):\n-        self.assertEqual(fix_ampersands(u'Jack & Jill & Jeroboam'),\n+        self.assertEqual(fix_ampersands_filter(u'Jack & Jill & Jeroboam'),\n                           u'Jack &amp; Jill &amp; Jeroboam')\n \n     def test_linenumbers(self):\n@@ -265,12 +265,12 @@ def test_force_escape(self):\n             u' \\u0110\\xc5\\u20ac\\xa3')\n \n     def test_linebreaks(self):\n-        self.assertEqual(linebreaks(u'line 1'), u'<p>line 1</p>')\n-        self.assertEqual(linebreaks(u'line 1\\nline 2'),\n+        self.assertEqual(linebreaks_filter(u'line 1'), u'<p>line 1</p>')\n+        self.assertEqual(linebreaks_filter(u'line 1\\nline 2'),\n                           u'<p>line 1<br />line 2</p>')\n-        self.assertEqual(linebreaks(u'line 1\\rline 2'),\n+        self.assertEqual(linebreaks_filter(u'line 1\\rline 2'),\n                           u'<p>line 1<br />line 2</p>')\n-        self.assertEqual(linebreaks(u'line 1\\r\\nline 2'),\n+        self.assertEqual(linebreaks_filter(u'line 1\\r\\nline 2'),\n                           u'<p>line 1<br />line 2</p>')\n \n     def test_linebreaksbr(self):\n@@ -327,12 +327,12 @@ def test_length(self):\n         self.assertEqual(length_is(u'a', 10), False)\n \n     def test_slice(self):\n-        self.assertEqual(slice_(u'abcdefg', u'0'), u'')\n-        self.assertEqual(slice_(u'abcdefg', u'1'), u'a')\n-        self.assertEqual(slice_(u'abcdefg', u'-1'), u'abcdef')\n-        self.assertEqual(slice_(u'abcdefg', u'1:2'), u'b')\n-        self.assertEqual(slice_(u'abcdefg', u'1:3'), u'bc')\n-        self.assertEqual(slice_(u'abcdefg', u'0::2'), u'aceg')\n+        self.assertEqual(slice_filter(u'abcdefg', u'0'), u'')\n+        self.assertEqual(slice_filter(u'abcdefg', u'1'), u'a')\n+        self.assertEqual(slice_filter(u'abcdefg', u'-1'), u'abcdef')\n+        self.assertEqual(slice_filter(u'abcdefg', u'1:2'), u'b')\n+        self.assertEqual(slice_filter(u'abcdefg', u'1:3'), u'bc')\n+        self.assertEqual(slice_filter(u'abcdefg', u'0::2'), u'aceg')\n \n     def test_unordered_list(self):\n         self.assertEqual(unordered_list([u'item 1', u'item 2']),\n@@ -411,22 +411,23 @@ def test_time(self):\n     def test_timesince(self):\n         # real testing is done in timesince.py, where we can provide our own 'now'\n         self.assertEqual(\n-            timesince(datetime.datetime.now() - datetime.timedelta(1)),\n+            timesince_filter(datetime.datetime.now() - datetime.timedelta(1)),\n             u'1 day')\n \n         self.assertEqual(\n-            timesince(datetime.datetime(2005, 12, 29),\n-                      datetime.datetime(2005, 12, 30)),\n+            timesince_filter(datetime.datetime(2005, 12, 29),\n+                             datetime.datetime(2005, 12, 30)),\n             u'1 day')\n \n     def test_timeuntil(self):\n         self.assertEqual(\n-            timeuntil(datetime.datetime.now() + datetime.timedelta(1)),\n+            timeuntil_filter(datetime.datetime.now() + datetime.timedelta(1)),\n             u'1 day')\n \n-        self.assertEqual(timeuntil(datetime.datetime(2005, 12, 30),\n-                                    datetime.datetime(2005, 12, 29)),\n-                          u'1 day')\n+        self.assertEqual(\n+            timeuntil_filter(datetime.datetime(2005, 12, 30),\n+                             datetime.datetime(2005, 12, 29)),\n+            u'1 day')\n \n     def test_default(self):\n         self.assertEqual(default(u\"val\", u\"default\"), u'val')\n@@ -510,7 +511,7 @@ def test_pluralize(self):\n         self.assertEqual(pluralize(0,u'y,ies,error'), u'')\n \n     def test_phone2numeric(self):\n-        self.assertEqual(phone2numeric(u'0800 flowers'), u'0800 3569377')\n+        self.assertEqual(phone2numeric_filter(u'0800 flowers'), u'0800 3569377')\n \n     def test_non_string_input(self):\n         # Filters shouldn't break if passed non-strings\n@@ -533,7 +534,7 @@ def test_non_string_input(self):\n         self.assertEqual(center('123', 6), u' 123  ')\n         self.assertEqual(cut(123, '2'), u'13')\n         self.assertEqual(escape(123), u'123')\n-        self.assertEqual(linebreaks(123), u'<p>123</p>')\n+        self.assertEqual(linebreaks_filter(123), u'<p>123</p>')\n         self.assertEqual(linebreaksbr(123), u'123')\n         self.assertEqual(removetags(123, 'a'), u'123')\n         self.assertEqual(striptags(123), u'123')"
        }
    ],
    "stats": {
        "total": 55,
        "additions": 28,
        "deletions": 27
    }
}