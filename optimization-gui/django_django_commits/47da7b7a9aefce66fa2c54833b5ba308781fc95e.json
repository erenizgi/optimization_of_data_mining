{
    "author": "claudep",
    "message": "Fixed #18102 -- Defined min/max_length on French localflavor form fields\n\nThanks mothsART for the report and the initial patch.",
    "sha": "47da7b7a9aefce66fa2c54833b5ba308781fc95e",
    "files": [
        {
            "sha": "d836dd6397b0fed66a76e36f66a26454a78c694a",
            "filename": "django/contrib/localflavor/fr/forms.py",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/django/django/blob/47da7b7a9aefce66fa2c54833b5ba308781fc95e/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py",
            "raw_url": "https://github.com/django/django/raw/47da7b7a9aefce66fa2c54833b5ba308781fc95e/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/django%2Fcontrib%2Flocalflavor%2Ffr%2Fforms.py?ref=47da7b7a9aefce66fa2c54833b5ba308781fc95e",
            "patch": "@@ -8,7 +8,7 @@\n from django.contrib.localflavor.fr.fr_department import DEPARTMENT_CHOICES\n from django.core.validators import EMPTY_VALUES\n from django.forms import ValidationError\n-from django.forms.fields import Field, RegexField, Select\n+from django.forms.fields import CharField, RegexField, Select\n from django.utils.encoding import smart_unicode\n from django.utils.translation import ugettext_lazy as _\n \n@@ -20,11 +20,11 @@ class FRZipCodeField(RegexField):\n         'invalid': _('Enter a zip code in the format XXXXX.'),\n     }\n \n-    def __init__(self, max_length=None, min_length=None, *args, **kwargs):\n+    def __init__(self, max_length=5, min_length=5, *args, **kwargs):\n         super(FRZipCodeField, self).__init__(r'^\\d{5}$',\n             max_length, min_length, *args, **kwargs)\n \n-class FRPhoneNumberField(Field):\n+class FRPhoneNumberField(CharField):\n     \"\"\"\n     Validate local French phone number (not international ones)\n     The correct format is '0X XX XX XX XX'.\n@@ -35,6 +35,10 @@ class FRPhoneNumberField(Field):\n         'invalid': _('Phone numbers must be in 0X XX XX XX XX format.'),\n     }\n \n+    def __init__(self, max_length=14, min_length=10, *args, **kwargs):\n+        super(FRPhoneNumberField, self).__init__(\n+            max_length, min_length, *args, **kwargs)\n+\n     def clean(self, value):\n         super(FRPhoneNumberField, self).clean(value)\n         if value in EMPTY_VALUES:\n@@ -51,4 +55,3 @@ class FRDepartmentSelect(Select):\n     \"\"\"\n     def __init__(self, attrs=None):\n         super(FRDepartmentSelect, self).__init__(attrs, choices=DEPARTMENT_CHOICES)\n-"
        },
        {
            "sha": "8e99ef462bbfb2a2ce33df320aef9e9df2a7c2d0",
            "filename": "tests/regressiontests/localflavor/fr/tests.py",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/django/django/blob/47da7b7a9aefce66fa2c54833b5ba308781fc95e/tests%2Fregressiontests%2Flocalflavor%2Ffr%2Ftests.py",
            "raw_url": "https://github.com/django/django/raw/47da7b7a9aefce66fa2c54833b5ba308781fc95e/tests%2Fregressiontests%2Flocalflavor%2Ffr%2Ftests.py",
            "contents_url": "https://api.github.com/repos/django/django/contents/tests%2Fregressiontests%2Flocalflavor%2Ffr%2Ftests.py?ref=47da7b7a9aefce66fa2c54833b5ba308781fc95e",
            "patch": "@@ -16,7 +16,8 @@ def test_FRZipCodeField(self):\n         }\n         invalid = {\n             '2A200': error_format,\n-            '980001': error_format,\n+            '980001': ['Ensure this value has at most 5 characters (it has 6).'\n+                      ] + error_format,\n         }\n         self.assertFieldOutput(FRZipCodeField, valid, invalid)\n "
        }
    ],
    "stats": {
        "total": 14,
        "additions": 9,
        "deletions": 5
    }
}