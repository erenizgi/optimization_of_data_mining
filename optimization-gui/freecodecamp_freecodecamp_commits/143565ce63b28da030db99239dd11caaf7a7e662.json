{
    "author": "ShaunSHamilton",
    "message": "feat(api): add attempt id and exam id to response (#61637)",
    "sha": "143565ce63b28da030db99239dd11caaf7a7e662",
    "files": [
        {
            "sha": "e4e04c73e88c55d1d4a992b5752885371be5ed95",
            "filename": "api/src/exam-environment/routes/exam-environment.test.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts?ref=143565ce63b28da030db99239dd11caaf7a7e662",
            "patch": "@@ -849,6 +849,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: null,\n           startTimeInMS: attempt.startTimeInMS,\n           questionSets: attempt.questionSets\n@@ -887,6 +889,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: null,\n           startTimeInMS: attempt.startTimeInMS,\n           questionSets: attempt.questionSets\n@@ -919,6 +923,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: {\n             score: 25,\n             passingPercent: 80\n@@ -975,6 +981,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: null,\n           startTimeInMS: attempt.startTimeInMS,\n           questionSets: attempt.questionSets\n@@ -1003,6 +1011,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: null,\n           startTimeInMS: attempt.startTimeInMS,\n           questionSets: attempt.questionSets\n@@ -1033,6 +1043,8 @@ describe('/exam-environment/', () => {\n         );\n \n         const examEnvironmentExamAttempt = {\n+          id: attempt.id,\n+          examId: mock.exam.id,\n           result: {\n             score: 25,\n             passingPercent: 80"
        },
        {
            "sha": "8a142be4dd63b83e144cb1e2b7c7dd7fe85652d7",
            "filename": "api/src/exam-environment/schemas/exam-environment-exam-attempt.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Fschemas%2Fexam-environment-exam-attempt.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Fschemas%2Fexam-environment-exam-attempt.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Fschemas%2Fexam-environment-exam-attempt.ts?ref=143565ce63b28da030db99239dd11caaf7a7e662",
            "patch": "@@ -27,6 +27,8 @@ export const examEnvironmentPostExamAttempt = {\n };\n \n const examEnvAttempt = Type.Object({\n+  id: Type.String(),\n+  examId: Type.String(),\n   startTimeInMS: Type.Number(),\n   questionSets: Type.Array(\n     Type.Object({\n@@ -51,7 +53,9 @@ const examEnvAttempt = Type.Object({\n \n export const examEnvironmentGetExamAttempts = {\n   headers: Type.Object({\n-    'exam-environment-authorization-token': Type.String()\n+    // Optional, because the handler is used in both the `/user/` base and `/exam-environment/` base\n+    // If it is missing, auth will catch.\n+    'exam-environment-authorization-token': Type.Optional(Type.String())\n   }),\n   response: {\n     200: Type.Array(examEnvAttempt),\n@@ -64,7 +68,9 @@ export const examEnvironmentGetExamAttempt = {\n     attemptId: Type.String({ format: 'objectid' })\n   }),\n   headers: Type.Object({\n-    'exam-environment-authorization-token': Type.String()\n+    // Optional, because the handler is used in both the `/user/` base and `/exam-environment/` base.\n+    // If it is missing, auth will catch.\n+    'exam-environment-authorization-token': Type.Optional(Type.String())\n   }),\n   response: {\n     200: examEnvAttempt,"
        },
        {
            "sha": "8ea0a4bdd73ff31db8ac0fe8d03ef7dd6c5dcda8",
            "filename": "api/src/exam-environment/utils/exam-environment.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Futils%2Fexam-environment.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/143565ce63b28da030db99239dd11caaf7a7e662/api%2Fsrc%2Fexam-environment%2Futils%2Fexam-environment.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Futils%2Fexam-environment.ts?ref=143565ce63b28da030db99239dd11caaf7a7e662",
            "patch": "@@ -932,5 +932,5 @@ export async function constructEnvExamAttempt(\n }\n \n function omitAttemptReferenceIds(attempt: ExamEnvironmentExamAttempt) {\n-  return omit(attempt, ['examId', 'id', 'generatedExamId', 'userId']);\n+  return omit(attempt, ['generatedExamId', 'userId']);\n }"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 21,
        "deletions": 3
    }
}