{
    "author": "ojeytonwilliams",
    "message": "fix(client): render hint for failed test (not console logs) in editor (#56364)",
    "sha": "843830359fa78d69b307b8ba7d62d173ff5a056e",
    "files": [
        {
            "sha": "b1d6f82819d5a0166e59fe0e99f938ed651b68cb",
            "filename": "client/src/templates/Challenges/classic/editor.tsx",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/843830359fa78d69b307b8ba7d62d173ff5a056e/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/843830359fa78d69b307b8ba7d62d173ff5a056e/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx?ref=843830359fa78d69b307b8ba7d62d173ff5a056e",
            "patch": "@@ -27,6 +27,7 @@ import {\n } from '../../../redux/selectors';\n import {\n   ChallengeFiles,\n+  ChallengeTest,\n   Dimensions,\n   FileKey,\n   ResizeProps,\n@@ -51,7 +52,6 @@ import {\n   attemptsSelector,\n   canFocusEditorSelector,\n   challengeMetaSelector,\n-  consoleOutputSelector,\n   challengeTestsSelector,\n   isResettingSelector,\n   isProjectPreviewModalOpenSelector,\n@@ -93,7 +93,6 @@ export interface EditorProps {\n   isUsingKeyboardInTablist: boolean;\n   openHelpModal: () => void;\n   openResetModal: () => void;\n-  output: string[];\n   resizeProps: ResizeProps;\n   saveChallenge: () => void;\n   sendRenderTime: (renderTime: number) => void;\n@@ -135,7 +134,6 @@ const mapStateToProps = createSelector(\n   attemptsSelector,\n   canFocusEditorSelector,\n   challengeMetaSelector,\n-  consoleOutputSelector,\n   isDonationModalOpenSelector,\n   isProjectPreviewModalOpenSelector,\n   isResettingSelector,\n@@ -147,7 +145,6 @@ const mapStateToProps = createSelector(\n     attempts: number,\n     canFocus: boolean,\n     { challengeType }: { challengeType: number },\n-    output: string[],\n     open,\n     previewOpen: boolean,\n     isResetting: boolean,\n@@ -162,7 +159,6 @@ const mapStateToProps = createSelector(\n     previewOpen,\n     isResetting,\n     isSignedIn,\n-    output,\n     theme,\n     tests,\n     isChallengeCompleted\n@@ -1280,6 +1276,12 @@ const Editor = (props: EditorProps): JSX.Element => {\n         ? 'vs-custom'\n         : editorSystemTheme;\n \n+  const isFailedChallengeTest = (test: Test): test is ChallengeTest =>\n+    !!test.err && 'text' in test;\n+  const firstFailedTest = props.tests.find<ChallengeTest>(test =>\n+    isFailedChallengeTest(test)\n+  );\n+\n   return (\n     <Suspense fallback={<Loader loaderDelay={600} />}>\n       <span className='notranslate'>\n@@ -1297,7 +1299,7 @@ const Editor = (props: EditorProps): JSX.Element => {\n             openHelpModal={props.openHelpModal}\n             openResetModal={props.openResetModal}\n             tryToExecuteChallenge={tryToExecuteChallenge}\n-            hint={props.output[1]}\n+            hint={firstFailedTest?.text}\n             testsLength={props.tests.length}\n             attempts={attemptsRef.current}\n             challengeIsCompleted={challengeIsComplete()}"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 8,
        "deletions": 6
    }
}