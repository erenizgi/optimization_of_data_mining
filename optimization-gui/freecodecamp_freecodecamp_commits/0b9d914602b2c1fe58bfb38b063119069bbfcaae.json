{
    "author": "ojeytonwilliams",
    "message": "refactor: memoize only selectors that compute (#58499)",
    "sha": "0b9d914602b2c1fe58bfb38b063119069bbfcaae",
    "files": [
        {
            "sha": "fcdf572616e334b7ff72bb32468fefa793c6c0b4",
            "filename": "client/src/templates/Challenges/classic/show.tsx",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0b9d914602b2c1fe58bfb38b063119069bbfcaae/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0b9d914602b2c1fe58bfb38b063119069bbfcaae/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx?ref=0b9d914602b2c1fe58bfb38b063119069bbfcaae",
            "patch": "@@ -6,7 +6,6 @@ import { connect } from 'react-redux';\n import { HandlerProps } from 'react-reflex';\n import { useMediaQuery } from 'react-responsive';\n import { bindActionCreators, Dispatch } from 'redux';\n-import { createStructuredSelector } from 'reselect';\n import store from 'store';\n import { editor } from 'monaco-editor';\n import type { FitAddon } from 'xterm-addon-fit';\n@@ -22,6 +21,7 @@ import {\n   ChallengeNode,\n   CompletedChallenge,\n   ResizeProps,\n+  SavedChallenge,\n   SavedChallengeFiles,\n   Test\n } from '../../../redux/prop-types';\n@@ -72,11 +72,11 @@ import { mergeChallengeFiles } from './saved-challenges';\n import './classic.css';\n import '../components/test-frame.css';\n \n-const mapStateToProps = createStructuredSelector({\n-  challengeFiles: challengeFilesSelector,\n-  output: consoleOutputSelector,\n-  isChallengeCompleted: isChallengeCompletedSelector,\n-  savedChallenges: savedChallengesSelector\n+const mapStateToProps = (state: unknown) => ({\n+  challengeFiles: challengeFilesSelector(state) as ChallengeFiles,\n+  output: consoleOutputSelector(state) as string[],\n+  isChallengeCompleted: isChallengeCompletedSelector(state) as boolean,\n+  savedChallenges: savedChallengesSelector(state) as SavedChallenge[]\n });\n \n const mapDispatchToProps = (dispatch: Dispatch) =>\n@@ -120,7 +120,7 @@ interface ShowClassicProps extends Pick<PreviewProps, 'previewMounted'> {\n   openModal: (modal: string) => void;\n   setEditorFocusability: (canFocus: boolean) => void;\n   setIsAdvancing: (arg: boolean) => void;\n-  savedChallenges: CompletedChallenge[];\n+  savedChallenges: SavedChallenge[];\n }\n \n interface ReflexLayout {"
        },
        {
            "sha": "586ef43e057eda84734f42c60172f135a9fab602",
            "filename": "client/src/templates/Challenges/redux/selectors.js",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0b9d914602b2c1fe58bfb38b063119069bbfcaae/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0b9d914602b2c1fe58bfb38b063119069bbfcaae/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js?ref=0b9d914602b2c1fe58bfb38b063119069bbfcaae",
            "patch": "@@ -20,11 +20,10 @@ export const completedChallengesIdsSelector = createSelector(\n   completedChallengesSelector,\n   completedChallenges => completedChallenges.map(node => node.id)\n );\n-export const isChallengeCompletedSelector = state => {\n-  const completedChallenges = completedChallengesSelector(state);\n-  const { id: currentChallengeId } = challengeMetaSelector(state);\n-  return completedChallenges.some(({ id }) => id === currentChallengeId);\n-};\n+export const isChallengeCompletedSelector = createSelector(\n+  [completedChallengesIdsSelector, challengeMetaSelector],\n+  (ids, meta) => ids.includes(meta.id)\n+);\n export const isCodeLockedSelector = state => state[ns].isCodeLocked;\n export const isCompletionModalOpenSelector = state =>\n   state[ns].modal.completion;"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 11,
        "deletions": 12
    }
}