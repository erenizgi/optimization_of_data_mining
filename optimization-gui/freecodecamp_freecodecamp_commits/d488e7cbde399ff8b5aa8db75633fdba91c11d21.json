{
    "author": "ojeytonwilliams",
    "message": "chore: simplify lintstaged config (#62550)",
    "sha": "d488e7cbde399ff8b5aa8db75633fdba91c11d21",
    "files": [
        {
            "sha": "7e33182ca5fa6bbfb7ed1c9a5cf620bae92ef1e0",
            "filename": ".lintstagedrc.js",
            "status": "modified",
            "additions": 9,
            "deletions": 49,
            "changes": 58,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d488e7cbde399ff8b5aa8db75633fdba91c11d21/.lintstagedrc.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d488e7cbde399ff8b5aa8db75633fdba91c11d21/.lintstagedrc.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.lintstagedrc.js?ref=d488e7cbde399ff8b5aa8db75633fdba91c11d21",
            "patch": "@@ -1,64 +1,24 @@\n const { ESLint } = require('eslint');\n \n const cli = new ESLint();\n-\n-// This lets us abort if we've already run a stage for all files\n-const completedStages = new Set();\n-\n // if a lot of files are changed, it's faster to run prettier/eslint on the\n // whole project than to run them on each file separately\n module.exports = {\n   '*.(js|ts|tsx)': async files => {\n-    if (completedStages.has('js')) return [];\n-\n     const ignoredIds = await Promise.all(\n       files.map(file => cli.isPathIgnored(file))\n     );\n     const lintableFiles = files.filter((_, i) => !ignoredIds[i]);\n-    if (files.length > 10) {\n-      completedStages.add('js');\n-      return ['eslint --max-warnings=0 --cache --fix .', 'prettier --write .'];\n-    } else {\n-      return [\n-        'eslint --max-warnings=0 --cache --fix ' + lintableFiles.join(' '),\n-        ...files.map(filename => `prettier --write '${filename}'`)\n-      ];\n-    }\n-  },\n-  '*.!(js|ts|tsx|css)': files => {\n-    if (completedStages.has('not-js')) return [];\n \n-    if (files.length > 10) {\n-      completedStages.add('not-js');\n-      return 'prettier --write .';\n-    } else {\n-      return files.map(\n-        filename => `prettier --write --ignore-unknown '${filename}'`\n-      );\n-    }\n+    return [\n+      'eslint --max-warnings=0 --cache --fix ' + lintableFiles.join(' '),\n+      ...files.map(filename => `prettier --write '${filename}'`)\n+    ];\n   },\n+  '*.!(js|ts|tsx|css)': files =>\n+    files.map(filename => `prettier --write --ignore-unknown '${filename}'`),\n \n-  './curriculum/challenges/**/*.md': files => {\n-    if (completedStages.has('markdown')) return [];\n-\n-    if (files.length > 10) {\n-      completedStages.add('markdown');\n-      return 'pnpm run lint:challenges';\n-    } else {\n-      return files.map(\n-        filename => `node ./tools/scripts/lint/index.js '${filename}'`\n-      );\n-    }\n-  },\n-\n-  '*.css': files => {\n-    if (completedStages.has('css')) return [];\n-\n-    if (files.length > 10) {\n-      completedStages.add('css');\n-      return 'stylelint --fix ./**/*.css';\n-    } else {\n-      return files.map(filename => `stylelint --fix '${filename}'`);\n-    }\n-  }\n+  './curriculum/challenges/**/*.md': files =>\n+    files.map(filename => `node ./tools/scripts/lint/index.js '${filename}'`),\n+  '*.css': files => files.map(filename => `stylelint --fix '${filename}'`)\n };"
        }
    ],
    "stats": {
        "total": 58,
        "additions": 9,
        "deletions": 49
    }
}