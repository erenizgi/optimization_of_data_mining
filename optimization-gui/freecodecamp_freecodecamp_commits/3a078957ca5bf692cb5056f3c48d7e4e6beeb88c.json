{
    "author": "lasjorg",
    "message": "fix(curriculum): update tests for pokemon search app (#55221)",
    "sha": "3a078957ca5bf692cb5056f3c48d7e4e6beeb88c",
    "files": [
        {
            "sha": "fe53b0285f3034d95abb202bb1ff9e0192186c67",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/build-a-pokemon-search-app-project/build-a-pokemon-search-app.md",
            "status": "modified",
            "additions": 12,
            "deletions": 27,
            "changes": 39,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3a078957ca5bf692cb5056f3c48d7e4e6beeb88c/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3a078957ca5bf692cb5056f3c48d7e4e6beeb88c/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md?ref=3a078957ca5bf692cb5056f3c48d7e4e6beeb88c",
            "patch": "@@ -361,30 +361,17 @@ async () => {\n     const searchButton = document.getElementById('search-button');\n     let alertMessage;\n     window.alert = (message) => alertMessage = message; // Override alert and store message\n-    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'\n-    const numbers = '0123456789';\n-    const charactersLength = letters.length;\n-    const numbersLength = numbers.length; \n-\n-\n-    const firstLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n-    const secondLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n-    const thirdLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n-    const fourthLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n-    const randomNumber1 = numbers.charAt(Math.floor(Math.random() * numbersLength));\n-    const randomNumber2 = numbers.charAt(Math.floor(Math.random() * numbersLength));\n-    \n-    const badName = firstLetter + secondLetter + thirdLetter + fourthLetter + randomNumber1 + randomNumber2; \n-\n-    const randomInvalidPokeId = badName; \n+\n+    const randomInvalidPokeId = crypto.randomUUID().substring(0, 6);\n+\n     searchInput.value = randomInvalidPokeId;\n     searchInput.dispatchEvent(new Event('change'));\n     searchButton.click();\n \n-    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' + randomInvalidPokeId.toString()); // Fetch from proxy to simulate network delay\n+    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' + randomInvalidPokeId); // Fetch from proxy to simulate network delay\n \n     if (!res.ok) {\n-      await new Promise(resolve => setTimeout(resolve, 1000)); // Additional delay to allow the alert to trigger\n+      await new Promise(resolve => setTimeout(resolve, 2000)); // Additional delay to allow the alert to trigger\n \n       assert.include(['pokÃ©mon not found', 'pokemon not found'], alertMessage.trim().replace(/[.,?!]+$/g, '').toLowerCase());\n     }\n@@ -405,24 +392,22 @@ async () => {\n     let alertMessage;\n     window.alert = (message) => alertMessage = message; // Override alert and store message\n \n-    const randomValidPokeId = Math.floor(Math.random() * 1025) + 1; \n+    const randomValidPokeId = String(Math.floor(Math.random() * 1025) + 1);\n+\n     searchInput.value = randomValidPokeId;\n     searchInput.dispatchEvent(new Event('change'));\n     searchButton.click();\n \n-    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' +  randomValidPokeId.toString()); // Fetch from proxy to simulate network delay\n+    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' +  randomValidPokeId); // Fetch from proxy to simulate network delay\n \n     if (res.ok) {\n-      await new Promise(resolve => setTimeout(resolve, 1000)); // Additional delay to allow UI to update\n+      await new Promise(resolve => setTimeout(resolve, 2000)); // Additional delay to allow UI to update\n      \n-      const data = await res.json(); \n-\n-      const typesEl = document.getElementById('types');      \n-      \n-      const actualTypes = data.types.map(typeSlot => typeSlot.type.name); \n+      const data = await res.json();\n+      const typesEl = document.getElementById('types');\n+      const actualTypes = data.types.map(typeSlot => typeSlot.type.name);\n \n       assert.lengthOf(typesEl.children, actualTypes.length);\n-\n       assert.sameMembers(actualTypes, [...typesEl.children].map(el => el.innerText.trim().toLowerCase()));\n     }\n   } catch (err) {"
        }
    ],
    "stats": {
        "total": 39,
        "additions": 12,
        "deletions": 27
    }
}