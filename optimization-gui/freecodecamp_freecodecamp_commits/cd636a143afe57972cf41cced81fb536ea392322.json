{
    "author": "a2937",
    "message": "feat(tools/scripts): test project create tool (#55247)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "cd636a143afe57972cf41cced81fb536ea392322",
    "files": [
        {
            "sha": "f0fb390126f9321ad86ad31625ba02900a1c1e08",
            "filename": "tools/challenge-helper-scripts/create-project.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 11,
            "changes": 14,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Fcreate-project.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Fcreate-project.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Fcreate-project.ts?ref=cd636a143afe57972cf41cced81fb536ea392322",
            "patch": "@@ -6,7 +6,7 @@ import { format } from 'prettier';\n import ObjectID from 'bson-objectid';\n \n import { SuperBlocks } from '../../shared/config/superblocks';\n-import { createStepFile } from './utils';\n+import { createStepFile, validateBlockName } from './utils';\n import { getSuperBlockSubPath } from './fs-utils';\n import { Meta } from './helpers/project-metadata';\n \n@@ -198,17 +198,9 @@ void prompt([\n   {\n     name: 'block',\n     message: 'What is the dashed name (in kebab-case) for this project?',\n-    validate: (block: string) => {\n-      if (!block.length) {\n-        return 'please enter a dashed name';\n-      }\n-      if (/[^a-z0-9-]/.test(block)) {\n-        return 'please use alphanumerical characters and kebab case';\n-      }\n-      return true;\n-    },\n+    validate: validateBlockName,\n     filter: (block: string) => {\n-      return block.toLowerCase();\n+      return block.toLowerCase().trim();\n     }\n   },\n   {"
        },
        {
            "sha": "5663bb325b1986fa9c1acd6e838fa5807dc57288",
            "filename": "tools/challenge-helper-scripts/utils.test.ts",
            "status": "modified",
            "additions": 26,
            "deletions": 1,
            "changes": 27,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Futils.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Futils.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Futils.test.ts?ref=cd636a143afe57972cf41cced81fb536ea392322",
            "patch": "@@ -21,7 +21,8 @@ import {\n   createChallengeFile,\n   createStepFile,\n   insertStepIntoMeta,\n-  updateStepTitles\n+  updateStepTitles,\n+  validateBlockName\n } from './utils';\n \n const basePath = join(\n@@ -78,6 +79,30 @@ describe('Challenge utils helper scripts', () => {\n     });\n   });\n \n+  describe('createProject util', () => {\n+    it('should allow alphanumerical names with trailing whitespace', () => {\n+      expect(\n+        validateBlockName('learn-callbacks-by-creating-a-bookshelf ')\n+      ).toBe(true);\n+    });\n+    it('should allow alphanumerical names with no trailing whitespace', () => {\n+      expect(validateBlockName('learn-callbacks-by-creating-a-bookshelf')).toBe(\n+        true\n+      );\n+    });\n+    it('should not allow non-kebab case names', () => {\n+      expect(validateBlockName('learnCallbacksBetter')).toBe(\n+        'please use alphanumerical characters and kebab case'\n+      );\n+    });\n+    it('should not allow white space names', () => {\n+      expect(validateBlockName(' ')).toBe('please enter a dashed name');\n+    });\n+    it('should not allow empty names', () => {\n+      expect(validateBlockName('')).toBe('please enter a dashed name');\n+    });\n+  });\n+\n   describe('createChallengeFile util', () => {\n     it('should create the challenge', () => {\n       fs.writeFileSync("
        },
        {
            "sha": "1090d3a88d3f22a9b974b63d888a0eb3d0e235de",
            "filename": "tools/challenge-helper-scripts/utils.ts",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Futils.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/cd636a143afe57972cf41cced81fb536ea392322/tools%2Fchallenge-helper-scripts%2Futils.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Futils.ts?ref=cd636a143afe57972cf41cced81fb536ea392322",
            "patch": "@@ -201,6 +201,16 @@ const getChallengeSeeds = (\n   return parseMDSync(challengeFilePath).challengeFiles;\n };\n \n+const validateBlockName = (block: string): boolean | string => {\n+  if (!block.trim().length) {\n+    return 'please enter a dashed name';\n+  }\n+  if (/[^a-z0-9-]/.test(block.trim())) {\n+    return 'please use alphanumerical characters and kebab case';\n+  }\n+  return true;\n+};\n+\n export {\n   createStepFile,\n   createChallengeFile,\n@@ -211,5 +221,6 @@ export {\n   insertChallengeIntoMeta,\n   insertStepIntoMeta,\n   deleteChallengeFromMeta,\n-  deleteStepFromMeta\n+  deleteStepFromMeta,\n+  validateBlockName\n };"
        }
    ],
    "stats": {
        "total": 54,
        "additions": 41,
        "deletions": 13
    }
}