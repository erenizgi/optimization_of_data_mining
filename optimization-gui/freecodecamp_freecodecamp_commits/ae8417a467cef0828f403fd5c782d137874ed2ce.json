{
    "author": "huyenltnguyen",
    "message": "feat(client): add action row with interactive editor toggle to lectures (#62928)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "ae8417a467cef0828f403fd5c782d137874ed2ce",
    "files": [
        {
            "sha": "9a69e69c50d9023f4e91ae3b3862f554360c8e11",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -523,7 +523,8 @@\n       \"instructions\": \"Instructions\",\n       \"notes\": \"Notes\",\n       \"preview\": \"Preview\",\n-      \"editor\": \"Editor\"\n+      \"editor\": \"Editor\",\n+      \"interactive-editor\": \"Interactive Editor\"\n     },\n     \"editor-alerts\": {\n       \"tab-trapped\": \"Pressing tab will now insert the tab character\",\n@@ -952,7 +953,8 @@\n     \"editor-a11y-on-macos\": \"{{editorName}} editor content. Accessibility mode set to 'on'. Press Command+E to disable or press Option+F1 for more options.\",\n     \"editor-a11y-on-non-macos\": \"{{editorName}} editor content. Accessibility mode set to 'on'. Press Ctrl+E to disable or press Alt+F1 for more options.\",\n     \"terminal-output\": \"Terminal output\",\n-    \"not-available\": \"Not available\"\n+    \"not-available\": \"Not available\",\n+    \"interactive-editor-desc\": \"Turn static code examples into interactive editors. This allows you to edit and run the code directly on the page.\"\n   },\n   \"flash\": {\n     \"no-email-in-userinfo\": \"We could not retrieve an email from your chosen provider. Please try another provider or use the 'Continue with Email' option.\","
        },
        {
            "sha": "88fccd1ad2aca26a03c2e7d5fb650131da892a9d",
            "filename": "client/src/components/Flash/flash.css",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2FFlash%2Fflash.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2FFlash%2Fflash.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FFlash%2Fflash.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -10,5 +10,5 @@ div.flash-message {\n   padding-bottom: 3px;\n   position: fixed;\n   width: 100%;\n-  z-index: 150;\n+  z-index: var(--z-index-flash);\n }"
        },
        {
            "sha": "85ed12e07597e477bec6c79049399439b327a18e",
            "filename": "client/src/components/Header/components/universal-nav.css",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Funiversal-nav.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Funiversal-nav.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Funiversal-nav.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -73,6 +73,7 @@\n   position: absolute;\n   right: 0;\n   width: 100%;\n+  z-index: var(--z-index-site-header);\n }\n \n @media (min-width: 980px) {"
        },
        {
            "sha": "a12de135c44f0bf45f92fe63251708bd43b7ac0e",
            "filename": "client/src/components/layouts/global.css",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2Flayouts%2Fglobal.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2Flayouts%2Fglobal.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flayouts%2Fglobal.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -139,6 +139,14 @@ hr {\n   min-height: 0;\n }\n \n+.default-layout:has(.breadcrumbs-demo) #learn-app-wrapper {\n+  padding-top: var(--breadcrumbs-height);\n+}\n+\n+.default-layout:has(.action-row) #learn-app-wrapper {\n+  padding-top: calc(var(--breadcrumbs-height) + var(--action-row-height));\n+}\n+\n h1 {\n   color: var(--secondary-color);\n   font-weight: 700;"
        },
        {
            "sha": "cef8009552130ea182776b726afb30b7eff89bb6",
            "filename": "client/src/components/layouts/variables.css",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2Flayouts%2Fvariables.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fcomponents%2Flayouts%2Fvariables.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flayouts%2Fvariables.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -37,6 +37,9 @@\n   --header-sub-element-size: 45px;\n   --header-height: 38px;\n   --breadcrumbs-height: 44px;\n+  --action-row-height: 64px;\n+  --z-index-breadcrumbs: 100;\n+  --z-index-flash: 150;\n   --z-index-site-header: 200;\n }\n "
        },
        {
            "sha": "39c1fb56881dc1e4b1e8c4ab57d0709332f9f573",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -182,7 +182,12 @@ type ParagraphNodule = {\n \n type InteractiveEditorNodule = {\n   type: 'interactiveEditor';\n-  data: { ext: Ext; name: string; contents: string }[];\n+  data: {\n+    ext: Ext;\n+    name: string;\n+    contents: string;\n+    contentsHtml: string;\n+  }[];\n };\n \n export type ChallengeNode = {"
        },
        {
            "sha": "c14fe5d4aef2186e5205b5c1416079747e8a17b3",
            "filename": "client/src/templates/Challenges/classic/action-row.tsx",
            "status": "modified",
            "additions": 49,
            "deletions": 15,
            "changes": 64,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Faction-row.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Faction-row.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Faction-row.tsx?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -6,7 +6,7 @@ import store from 'store';\n import { DailyCodingChallengeLanguages } from '../../../redux/prop-types';\n import EditorTabs from './editor-tabs';\n \n-interface ActionRowProps {\n+interface ClassicLayoutProps {\n   dailyCodingChallengeLanguage: DailyCodingChallengeLanguages;\n   hasNotes: boolean;\n   hasPreview: boolean;\n@@ -21,24 +21,58 @@ interface ActionRowProps {\n   showPreviewPane: boolean;\n   showPreviewPortal: boolean;\n   togglePane: (pane: string) => void;\n+  hasInteractiveEditor?: never;\n }\n \n-const ActionRow = ({\n-  hasPreview,\n-  hasNotes,\n-  togglePane,\n-  showNotes,\n-  showPreviewPane,\n-  showPreviewPortal,\n-  showConsole,\n-  showInstructions,\n-  areInstructionsDisplayable,\n-  isDailyCodingChallenge,\n-  dailyCodingChallengeLanguage,\n-  setDailyCodingChallengeLanguage\n-}: ActionRowProps): JSX.Element => {\n+interface InteractiveEditorProps {\n+  hasInteractiveEditor: true;\n+  showInteractiveEditor: boolean;\n+  toggleInteractiveEditor: () => void;\n+}\n+\n+type ActionRowProps = ClassicLayoutProps | InteractiveEditorProps;\n+\n+const ActionRow = (props: ActionRowProps): JSX.Element => {\n   const { t } = useTranslation();\n \n+  if (props.hasInteractiveEditor) {\n+    const { toggleInteractiveEditor, showInteractiveEditor } = props;\n+\n+    return (\n+      <div className='action-row'>\n+        <div className='tabs-row'>\n+          <div className='tabs-row-right'>\n+            <button\n+              aria-expanded={!!showInteractiveEditor}\n+              aria-describedby='interactive-editor-desc'\n+              onClick={toggleInteractiveEditor}\n+            >\n+              {t('learn.editor-tabs.interactive-editor')}\n+            </button>\n+            <span id='interactive-editor-desc' className='sr-only'>\n+              {t('aria.interactive-editor-desc')}\n+            </span>\n+          </div>\n+        </div>\n+      </div>\n+    );\n+  }\n+\n+  const {\n+    togglePane,\n+    hasPreview,\n+    hasNotes,\n+    areInstructionsDisplayable,\n+    showConsole,\n+    showNotes,\n+    showInstructions,\n+    showPreviewPane,\n+    showPreviewPortal,\n+    isDailyCodingChallenge,\n+    dailyCodingChallengeLanguage,\n+    setDailyCodingChallengeLanguage\n+  } = props;\n+\n   // sets screen reader text for the two preview buttons\n   function getPreviewBtnsSrText() {\n     // no preview open"
        },
        {
            "sha": "df482e7f517b0952279d37fb7b1297802daad2a5",
            "filename": "client/src/templates/Challenges/classic/classic.css",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fclassic.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fclassic.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fclassic.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -18,8 +18,15 @@\n }\n \n .action-row {\n+  height: var(--action-row-height);\n+  position: fixed;\n+  top: calc(var(--header-height) + var(--breadcrumbs-height));\n+  left: 0;\n+  right: 0;\n+  z-index: 100;\n   padding: 10px;\n   border-bottom: 1px solid var(--quaternary-background);\n+  background-color: var(--secondary-background);\n }\n \n .monaco-editor-tabs button[aria-expanded='true'],\n@@ -79,6 +86,7 @@\n   width: 30%;\n   display: flex;\n   justify-content: flex-end;\n+  margin-inline-start: auto;\n }\n \n .monaco-editor-tabs button + button {"
        },
        {
            "sha": "9480a784f7263acce8dc824b1c47fc5c815d482d",
            "filename": "client/src/templates/Challenges/classic/editor.css",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -32,10 +32,16 @@ textarea.inputarea {\n }\n \n .breadcrumbs-demo {\n+  position: fixed;\n+  top: var(--header-height);\n+  left: 0;\n+  right: 0;\n+  z-index: var(--z-index-breadcrumbs);\n   font-size: 16px;\n   margin: 0;\n   padding: 10px;\n   height: var(--breadcrumbs-height);\n+  background: var(--secondary-background);\n }\n \n @media screen and (max-height: 300px) {"
        },
        {
            "sha": "8a9c80705ae5f5f131c31ca55cab421d0f8a3578",
            "filename": "client/src/templates/Challenges/components/interactive-editor.css",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.css?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -23,7 +23,7 @@\n }\n \n .sp-preview-actions .sp-button:hover {\n-  background-color: var(--gray-10);\n+  background-color: var(--gray-10) !important;\n   color: var(--gray-90) !important;\n-  border-color: var(--gray-90);\n+  border-color: var(--gray-90) !important;\n }"
        },
        {
            "sha": "12c836ddba4de0d72752e35a9c772cd73415d31f",
            "filename": "client/src/templates/Challenges/components/interactive-editor.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Finteractive-editor.tsx?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -7,6 +7,7 @@ export interface InteractiveFile {\n   ext: string;\n   name: string;\n   contents: string;\n+  contentsHtml: string;\n   fileKey?: string;\n }\n \n@@ -52,7 +53,7 @@ const InteractiveEditor = ({ files }: Props) => {\n   };\n \n   return (\n-    <div className='interactive-editor-wrapper' aria-hidden='true'>\n+    <div className='interactive-editor-wrapper'>\n       <Sandpack\n         template={\n           got('tsx')"
        },
        {
            "sha": "caeddf64b9ee5b0fa7f5e140f7c7b5012dce7fad",
            "filename": "client/src/templates/Challenges/generic/show.tsx",
            "status": "modified",
            "additions": 142,
            "deletions": 102,
            "changes": 244,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -15,6 +15,7 @@ import LearnLayout from '../../../components/layouts/learn';\n import { ChallengeNode, ChallengeMeta, Test } from '../../../redux/prop-types';\n import ChallengeDescription from '../components/challenge-description';\n import InteractiveEditor from '../components/interactive-editor';\n+import ActionRow from '../classic/action-row';\n import Hotkeys from '../components/hotkeys';\n import ChallengeTitle from '../components/challenge-title';\n import VideoPlayer from '../components/video-player';\n@@ -70,12 +71,22 @@ interface ShowQuizProps {\n   updateSolutionFormValues: () => void;\n }\n \n-function renderNodule(nodule: ChallengeNode['challenge']['nodules'][number]) {\n+function renderNodule(\n+  nodule: ChallengeNode['challenge']['nodules'][number],\n+  showInteractiveEditor: boolean\n+) {\n   switch (nodule.type) {\n     case 'paragraph':\n       return <PrismFormatted text={nodule.data} />;\n     case 'interactiveEditor':\n-      return <InteractiveEditor files={nodule.data} />;\n+      if (showInteractiveEditor) {\n+        return <InteractiveEditor files={nodule.data} />;\n+      } else {\n+        const files = nodule.data;\n+        return files.map((file, index) => (\n+          <PrismFormatted key={index} text={file.contentsHtml} />\n+        ));\n+      }\n     default:\n       return null;\n   }\n@@ -207,6 +218,20 @@ const ShowGeneric = ({\n \n   const sceneSubject = new SceneSubject();\n \n+  // interactive editor\n+  const hasInteractiveEditor = nodules?.some(\n+    nodule => nodule.type === 'interactiveEditor'\n+  );\n+\n+  const [showInteractiveEditor, setShowInteractiveEditor] = useState(\n+    () => !!store.get('showInteractiveEditor')\n+  );\n+\n+  const toggleInteractiveEditor = () => {\n+    store.set('showInteractiveEditor', !showInteractiveEditor);\n+    setShowInteractiveEditor(!showInteractiveEditor);\n+  };\n+\n   return (\n     <Hotkeys\n       executeChallenge={handleSubmit}\n@@ -217,114 +242,129 @@ const ShowGeneric = ({\n         <Helmet\n           title={`${blockNameTitle} | ${t('learn.learn')} | freeCodeCamp.org`}\n         />\n-        <Container>\n-          <Row>\n-            <Spacer size='m' />\n-            <ChallengeTitle\n-              isCompleted={isChallengeCompleted}\n-              translationPending={translationPending}\n-            >\n-              {title}\n-            </ChallengeTitle>\n-\n-            <Spacer size='m' />\n-\n-            {description && (\n-              <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n-                <ChallengeDescription\n-                  description={description}\n-                  superBlock={superBlock}\n-                />\n-                <Spacer size='m' />\n-              </Col>\n-            )}\n-\n-            {nodules?.map((nodule, i) => {\n-              return (\n-                <React.Fragment key={i}>{renderNodule(nodule)}</React.Fragment>\n-              );\n-            })}\n-\n-            <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n-              {videoId && (\n-                <>\n-                  <VideoPlayer\n-                    bilibiliIds={bilibiliIds}\n-                    onVideoLoad={handleVideoIsLoaded}\n-                    title={title}\n-                    videoId={videoId}\n-                    videoIsLoaded={videoIsLoaded}\n-                    videoLocaleIds={videoLocaleIds}\n-                  />\n-                  <Spacer size='m' />\n-                </>\n-              )}\n-            </Col>\n-\n-            {scene && <Scene scene={scene} sceneSubject={sceneSubject} />}\n-\n-            <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n-              {transcript && <ChallengeTranscript transcript={transcript} />}\n-\n-              {instructions && (\n-                <>\n+        <Container\n+          fluid\n+          className={`generic-challenge-container${hasInteractiveEditor ? ' has-action-row' : ''}`}\n+        >\n+          {hasInteractiveEditor && (\n+            <ActionRow\n+              hasInteractiveEditor={hasInteractiveEditor}\n+              showInteractiveEditor={showInteractiveEditor}\n+              toggleInteractiveEditor={toggleInteractiveEditor}\n+            />\n+          )}\n+\n+          <Container>\n+            <Row>\n+              <Spacer size='m' />\n+              <ChallengeTitle\n+                isCompleted={isChallengeCompleted}\n+                translationPending={translationPending}\n+              >\n+                {title}\n+              </ChallengeTitle>\n+\n+              <Spacer size='m' />\n+\n+              {description && (\n+                <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                   <ChallengeDescription\n-                    instructions={instructions}\n+                    description={description}\n                     superBlock={superBlock}\n                   />\n                   <Spacer size='m' />\n-                </>\n+                </Col>\n               )}\n \n-              {assignments.length > 0 && (\n-                <ObserveKeys only={['ctrl', 'cmd', 'enter']}>\n-                  <Assignments\n-                    assignments={assignments}\n-                    allAssignmentsCompleted={allAssignmentsCompleted}\n-                    handleAssignmentChange={handleAssignmentChange}\n-                  />\n-                </ObserveKeys>\n-              )}\n-\n-              {questions.length > 0 && (\n-                <ObserveKeys only={['ctrl', 'cmd', 'enter']}>\n-                  <MultipleChoiceQuestions\n-                    questions={questions}\n-                    selectedOptions={selectedMcqOptions}\n-                    handleOptionChange={handleMcqOptionChange}\n-                    submittedMcqAnswers={submittedMcqAnswers}\n-                    showFeedback={showFeedback}\n-                  />\n-                </ObserveKeys>\n-              )}\n-\n-              {explanation ? (\n-                <ChallengeExplanation explanation={explanation} />\n-              ) : null}\n+              {nodules?.map((nodule, i) => {\n+                return (\n+                  <React.Fragment key={i}>\n+                    {renderNodule(nodule, showInteractiveEditor)}\n+                  </React.Fragment>\n+                );\n+              })}\n+\n+              <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n+                {videoId && (\n+                  <>\n+                    <VideoPlayer\n+                      bilibiliIds={bilibiliIds}\n+                      onVideoLoad={handleVideoIsLoaded}\n+                      title={title}\n+                      videoId={videoId}\n+                      videoIsLoaded={videoIsLoaded}\n+                      videoLocaleIds={videoLocaleIds}\n+                    />\n+                    <Spacer size='m' />\n+                  </>\n+                )}\n+              </Col>\n \n-              {!hasAnsweredMcqCorrectly && (\n-                <p className='text-center'>{t('learn.answered-mcq')}</p>\n-              )}\n+              {scene && <Scene scene={scene} sceneSubject={sceneSubject} />}\n \n-              <Button block={true} variant='primary' onClick={handleSubmit}>\n-                {questions.length == 0\n-                  ? t('buttons.submit')\n-                  : t('buttons.check-answer')}\n-              </Button>\n-              <Spacer size='xxs' />\n-              <Button block={true} variant='primary' onClick={openHelpModal}>\n-                {t('buttons.ask-for-help')}\n-              </Button>\n-\n-              <Spacer size='l' />\n-            </Col>\n-            <CompletionModal />\n-            <HelpModal\n-              challengeTitle={title}\n-              challengeBlock={blockName}\n-              superBlock={superBlock}\n-            />\n-          </Row>\n+              <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n+                {transcript && <ChallengeTranscript transcript={transcript} />}\n+\n+                {instructions && (\n+                  <>\n+                    <ChallengeDescription\n+                      instructions={instructions}\n+                      superBlock={superBlock}\n+                    />\n+                    <Spacer size='m' />\n+                  </>\n+                )}\n+\n+                {assignments.length > 0 && (\n+                  <ObserveKeys only={['ctrl', 'cmd', 'enter']}>\n+                    <Assignments\n+                      assignments={assignments}\n+                      allAssignmentsCompleted={allAssignmentsCompleted}\n+                      handleAssignmentChange={handleAssignmentChange}\n+                    />\n+                  </ObserveKeys>\n+                )}\n+\n+                {questions.length > 0 && (\n+                  <ObserveKeys only={['ctrl', 'cmd', 'enter']}>\n+                    <MultipleChoiceQuestions\n+                      questions={questions}\n+                      selectedOptions={selectedMcqOptions}\n+                      handleOptionChange={handleMcqOptionChange}\n+                      submittedMcqAnswers={submittedMcqAnswers}\n+                      showFeedback={showFeedback}\n+                    />\n+                  </ObserveKeys>\n+                )}\n+\n+                {explanation ? (\n+                  <ChallengeExplanation explanation={explanation} />\n+                ) : null}\n+\n+                {!hasAnsweredMcqCorrectly && (\n+                  <p className='text-center'>{t('learn.answered-mcq')}</p>\n+                )}\n+\n+                <Button block={true} variant='primary' onClick={handleSubmit}>\n+                  {questions.length == 0\n+                    ? t('buttons.submit')\n+                    : t('buttons.check-answer')}\n+                </Button>\n+                <Spacer size='xxs' />\n+                <Button block={true} variant='primary' onClick={openHelpModal}>\n+                  {t('buttons.ask-for-help')}\n+                </Button>\n+\n+                <Spacer size='l' />\n+              </Col>\n+              <CompletionModal />\n+              <HelpModal\n+                challengeTitle={title}\n+                challengeBlock={blockName}\n+                superBlock={superBlock}\n+              />\n+            </Row>\n+          </Container>\n         </Container>\n       </LearnLayout>\n     </Hotkeys>"
        },
        {
            "sha": "affad7cc2da0da1d56770df697ff820efb8dd3e5",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -192,7 +192,8 @@ const schema = Joi.object().keys({\n           Joi.object().keys({\n             ext: Joi.string().required(),\n             name: Joi.string().required(),\n-            contents: Joi.string().required()\n+            contents: Joi.string().required(),\n+            contentsHtml: Joi.string().required()\n           })\n         ),\n         otherwise: Joi.string().required()"
        },
        {
            "sha": "21ab46d4bbb5275b8e1d1ec7bda2855b1059c8e6",
            "filename": "tools/challenge-parser/parser/plugins/add-interactive-elements.js",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.js?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -54,12 +54,16 @@ function getFiles(filesNodes) {\n \n   return filesNodes.map(node => {\n     counts[node.lang] = counts[node.lang] ? counts[node.lang] + 1 : 1;\n+\n+    const contentsHtml = mdastToHTML([node]);\n+\n     const out = {\n       contents: node.value,\n       ext: node.lang,\n       name:\n         getFilenames(node.lang) +\n-        (counts[node.lang] ? `-${counts[node.lang]}` : '')\n+        (counts[node.lang] ? `-${counts[node.lang]}` : ''),\n+      contentsHtml\n     };\n \n     return out;"
        },
        {
            "sha": "1bdc7167a1d901e8bb6abf3d61b3ca00d355847c",
            "filename": "tools/challenge-parser/parser/plugins/add-interactive-elements.test.js",
            "status": "modified",
            "additions": 48,
            "deletions": 45,
            "changes": 93,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae8417a467cef0828f403fd5c782d137874ed2ce/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.test.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae8417a467cef0828f403fd5c782d137874ed2ce/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.test.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-interactive-elements.test.js?ref=ae8417a467cef0828f403fd5c782d137874ed2ce",
            "patch": "@@ -28,51 +28,51 @@ describe('add-interactive-editor plugin', () => {\n       element => element.type === 'interactiveEditor'\n     );\n \n-    expect(editorElements).toEqual(\n-      expect.arrayContaining([\n-        {\n-          data: [\n-            {\n-              ext: expect.any(String),\n-              name: expect.any(String),\n-              contents: expect.stringContaining(\n-                '<div>This is an interactive element</div>'\n-              )\n-            }\n-          ],\n-          type: 'interactiveEditor'\n-        }\n-      ])\n-    );\n-\n-    expect(editorElements).toEqual(\n-      expect.arrayContaining([\n-        {\n-          data: [\n-            {\n-              ext: expect.any(String),\n-              name: expect.any(String),\n-              contents: expect.stringContaining(\n-                'This is an interactive element'\n-              )\n-            }\n-          ],\n-          type: 'interactiveEditor'\n-        },\n-        {\n-          data: [\n-            {\n-              ext: expect.any(String),\n-              name: expect.any(String),\n-              contents: expect.stringContaining(\n-                \"console.log('Interactive JS');\"\n-              )\n-            }\n-          ],\n-          type: 'interactiveEditor'\n-        }\n-      ])\n-    );\n+    expect(editorElements).toEqual([\n+      {\n+        type: 'interactiveEditor',\n+        data: [\n+          {\n+            contents: \"console.log('Interactive JS');\",\n+            ext: 'js',\n+            name: 'script-1',\n+            contentsHtml:\n+              '<pre><code class=\"language-js\">console.log(\\'Interactive JS\\');\\n</code></pre>'\n+          }\n+        ]\n+      },\n+      {\n+        type: 'interactiveEditor',\n+        data: [\n+          {\n+            contents: '<div>This is an interactive element</div>',\n+            ext: 'html',\n+            name: 'index-1',\n+            contentsHtml:\n+              '<pre><code class=\"language-html\">&#x3C;div>This is an interactive element&#x3C;/div>\\n</code></pre>'\n+          }\n+        ]\n+      },\n+      {\n+        type: 'interactiveEditor',\n+        data: [\n+          {\n+            contents: '<div>This is an interactive element</div>',\n+            ext: 'html',\n+            name: 'index-1',\n+            contentsHtml:\n+              '<pre><code class=\"language-html\">&#x3C;div>This is an interactive element&#x3C;/div>\\n</code></pre>'\n+          },\n+          {\n+            contents: \"console.log('Interactive JS');\",\n+            ext: 'js',\n+            name: 'script-1',\n+            contentsHtml:\n+              '<pre><code class=\"language-js\">console.log(\\'Interactive JS\\');\\n</code></pre>'\n+          }\n+        ]\n+      }\n+    ]);\n   });\n \n   it('provides unique names for each file with the same extension', async () => {\n@@ -97,6 +97,9 @@ describe('add-interactive-editor plugin', () => {\n     // Contents should match\n     expect(files[0].contents).toBe(\"console.log('First JavaScript file');\");\n     expect(files[1].contents).toBe(\"console.log('Second JavaScript file');\");\n+\n+    expect(files[0].contentsHtml).toContain('<pre><code class=\"language-js\">');\n+    expect(files[1].contentsHtml).toContain('<pre><code class=\"language-js\">');\n   });\n \n   it('respects the order of elements in the original markdown', async () => {"
        }
    ],
    "stats": {
        "total": 458,
        "additions": 287,
        "deletions": 171
    }
}