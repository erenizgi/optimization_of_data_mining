{
    "author": "mcehme",
    "message": "fix(curriculum): removing long running loop in test by overriding Math.random (#55499)\n\nCo-authored-by: Jeremy L Thompson <jeremy@jeremylt.org>",
    "sha": "198523c7783b7874cd6245bc7ca3b1bf65c7b99c",
    "files": [
        {
            "sha": "866420a8a2fddbf87e0086917bf6c57b9c4f9d86",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/review-algorithmic-thinking-by-building-a-dice-game/657e0c2c6a9d37705146f34d.md",
            "status": "modified",
            "additions": 16,
            "deletions": 11,
            "changes": 27,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/198523c7783b7874cd6245bc7ca3b1bf65c7b99c/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Freview-algorithmic-thinking-by-building-a-dice-game%2F657e0c2c6a9d37705146f34d.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/198523c7783b7874cd6245bc7ca3b1bf65c7b99c/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Freview-algorithmic-thinking-by-building-a-dice-game%2F657e0c2c6a9d37705146f34d.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Freview-algorithmic-thinking-by-building-a-dice-game%2F657e0c2c6a9d37705146f34d.md?ref=198523c7783b7874cd6245bc7ca3b1bf65c7b99c",
            "patch": "@@ -45,19 +45,24 @@ assert.strictEqual(scoreSpans[5].innerText, \", score = 0\");\n You should call your `detectFullHouse` function when your `rollDiceBtn` is clicked.\n \n ```js\n-const counts = (arr) => arr.reduce((counts, num) => {counts[num] = ++counts[num] || 1; return counts}, {});\n-const isFullHouse = (arr) => arr.includes(3) && arr.includes(2) && arr.length === 2;\n-// Absurdly high, but will either timeout or bail early when assertion runs.\n-for (let i = 0; i < 100_000; i++) {\n-  rolls = 0;\n+// Temporarily modifies Math.random to guarantee full house.\n+const origMathRandom = Math.random\n+const myMathRandom = (() => {\n+  let i = 0;\n+  const values = [0, 0, 0, 1 / 6 + 0.000001, 1 / 6 + 0.000001];\n+  return () => values[i++ % 5];\n+})();\n+\n+Math.random = myMathRandom;\n+try {\n   rollDiceBtn.click();\n-  if (isFullHouse(diceValuesArr)) {\n-    assert.isFalse(scoreInputs[2].disabled);\n-    assert.strictEqual(scoreInputs[2].value, \"25\");\n-    assert.strictEqual(scoreSpans[2].innerText, \", score = 25\");\n-    break;\n-  }\n+} finally {\n+  Math.random = origMathRandom;\n }\n+\n+assert.isFalse(scoreInputs[2].disabled);\n+assert.strictEqual(scoreInputs[2].value, \"25\");\n+assert.strictEqual(scoreSpans[2].innerText, \", score = 25\");\n ```\n \n # --seed--"
        }
    ],
    "stats": {
        "total": 27,
        "additions": 16,
        "deletions": 11
    }
}