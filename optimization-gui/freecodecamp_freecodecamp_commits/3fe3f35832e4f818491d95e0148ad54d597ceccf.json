{
    "author": "raisedadead",
    "message": "chore: formating",
    "sha": "3fe3f35832e4f818491d95e0148ad54d597ceccf",
    "files": [
        {
            "sha": "1b1ae4bca2ee9659dbc1af8271ac09e8cce6664b",
            "filename": ".github/workflows/deploy-legacy.yml",
            "status": "modified",
            "additions": 40,
            "deletions": 41,
            "changes": 81,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3fe3f35832e4f818491d95e0148ad54d597ceccf/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3fe3f35832e4f818491d95e0148ad54d597ceccf/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fdeploy-legacy.yml?ref=3fe3f35832e4f818491d95e0148ad54d597ceccf",
            "patch": "@@ -242,48 +242,47 @@ jobs:\n       - name: Upload and Deploy\n         run: |\n           for i in {0..1}; do\n+            TS_MACHINE_NAME=${TS_MACHINE_NAME_PREFIX}-${{ matrix.lang-name-short }}-${i}\n+            CURRENT_DATE=$(date +%Y%m%d)\n+            CLIENT_SRC=client-${{ matrix.lang-name-short }}.tar\n+            CLIENT_DST=/tmp/client-${{ matrix.lang-name-short }}-${CURRENT_DATE}-${{ github.run_id }}.tar\n+            CLIENT_BINARIES=${{needs.setup-jobs.outputs.tgt_env_short}}-release-$CURRENT_DATE-${{ github.run_id }}\n+\n+            # Upload client archive\n+            scp $CLIENT_SRC $TS_USERNAME@$TS_MACHINE_NAME:$CLIENT_DST\n+            if [ $? -ne 0 ]; then echo \"::error::Failed to upload client archive\"; exit 1; fi\n+\n+            ssh $TS_USERNAME@$TS_MACHINE_NAME /bin/bash << EOF\n+              set -e\n+\n+              # Extract client archive\n+              mkdir -p /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES && \\\n+              tar -xzf $CLIENT_DST -C /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES --strip-components=2 && \\\n+              rm $CLIENT_DST && \\\n+              du -sh /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES\n+\n+              cd /home/$TS_USERNAME/client\n+\n+              # Environment setup\n+              export NVM_DIR=\\$HOME/.nvm && [ -s \"\\$NVM_DIR/nvm.sh\" ] && source \"\\$NVM_DIR/nvm.sh\" && \\\n+              nvm ls | grep 'default' && \\\n+              echo \"Node.js version:\" && node --version\n \n-          TS_MACHINE_NAME=${TS_MACHINE_NAME_PREFIX}-${{ matrix.lang-name-short }}-${i}\n-          CURRENT_DATE=$(date +%Y%m%d)\n-          CLIENT_SRC=client-${{ matrix.lang-name-short }}.tar\n-          CLIENT_DST=/tmp/client-${{ matrix.lang-name-short }}-${CURRENT_DATE}-${{ github.run_id }}.tar\n-          CLIENT_BINARIES=${{needs.setup-jobs.outputs.tgt_env_short}}-release-$CURRENT_DATE-${{ github.run_id }}\n-\n-          # Upload client archive\n-          scp $CLIENT_SRC $TS_USERNAME@$TS_MACHINE_NAME:$CLIENT_DST\n-          if [ $? -ne 0 ]; then echo \"::error::Failed to upload client archive\"; exit 1; fi\n-\n-          ssh $TS_USERNAME@$TS_MACHINE_NAME /bin/bash << EOF\n-            set -e\n-\n-            # Extract client archive\n-            mkdir -p /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES && \\\n-            tar -xzf $CLIENT_DST -C /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES --strip-components=2 && \\\n-            rm $CLIENT_DST && \\\n-            du -sh /home/$TS_USERNAME/client/releases/$CLIENT_BINARIES\n-\n-            cd /home/$TS_USERNAME/client\n-\n-            # Environment setup\n-            export NVM_DIR=\\$HOME/.nvm && [ -s \"\\$NVM_DIR/nvm.sh\" ] && source \"\\$NVM_DIR/nvm.sh\" && \\\n-            nvm ls | grep 'default' && \\\n-            echo \"Node.js version:\" && node --version\n-\n-            npm install -g serve@13\n-\n-            # Primary client setup\n-            rm -f client-start-primary.sh && \\\n-            echo \"serve -c ../../serve.json releases/$CLIENT_BINARIES -p 50505\" >> client-start-primary.sh && \\\n-            chmod +x client-start-primary.sh && \\\n-            pm2 delete client-primary || true && \\\n-            pm2 start ./client-start-primary.sh --name client-primary\n-\n-            # Secondary client setup\n-            rm -f client-start-secondary.sh && \\\n-            echo \"serve -c ../../serve.json releases/$CLIENT_BINARIES -p 52525\" >> client-start-secondary.sh && \\\n-            chmod +x client-start-secondary.sh && \\\n-            pm2 delete client-secondary || true && \\\n-            pm2 start ./client-start-secondary.sh --name client-secondary\n+              npm install -g serve@13\n+\n+              # Primary client setup\n+              rm -f client-start-primary.sh && \\\n+              echo \"serve -c ../../serve.json releases/$CLIENT_BINARIES -p 50505\" >> client-start-primary.sh && \\\n+              chmod +x client-start-primary.sh && \\\n+              pm2 delete client-primary || true && \\\n+              pm2 start ./client-start-primary.sh --name client-primary\n+\n+              # Secondary client setup\n+              rm -f client-start-secondary.sh && \\\n+              echo \"serve -c ../../serve.json releases/$CLIENT_BINARIES -p 52525\" >> client-start-secondary.sh && \\\n+              chmod +x client-start-secondary.sh && \\\n+              pm2 delete client-secondary || true && \\\n+              pm2 start ./client-start-secondary.sh --name client-secondary\n           EOF\n             if [ $? -ne 0 ]; then\n               echo \"::error::Deployment to $TS_MACHINE_NAME failed\""
        }
    ],
    "stats": {
        "total": 81,
        "additions": 40,
        "deletions": 41
    }
}