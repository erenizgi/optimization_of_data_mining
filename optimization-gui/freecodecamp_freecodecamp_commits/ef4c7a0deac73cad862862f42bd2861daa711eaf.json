{
    "author": "huyenltnguyen",
    "message": "fix(client): render chapter-level review and exam as standalone link (#57250)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "ef4c7a0deac73cad862862f42bd2861daa711eaf",
    "files": [
        {
            "sha": "8c7a5562bd8ec7b5970086b43efd88899c951dc1",
            "filename": "client/i18n/locales/english/intro.json",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -1743,16 +1743,12 @@\n       \"functional-programming\": \"Functional Programming\",\n       \"asynchronous-javascript\": \"Asynchronous JavaScript\",\n       \"react-fundamentals\": \"React Fundamentals\",\n-      \"react-state-hooks-and-routing\": \"React state, hooks, and routing\",\n+      \"react-state-hooks-and-routing\": \"React State, Hooks, and Routing\",\n       \"performance\": \"Performance\",\n       \"css-libraries-and-frameworks\": \"CSS Libraries and Frameworks\",\n       \"testing\": \"Testing\",\n       \"typescript-fundamentals\": \"TypeScript Fundamentals\",\n-      \"bash-fundamentals\": \"Bash Fundamentals\",\n-      \"relational-databases\": \"Relational Databases\",\n-      \"bash-scripting\": \"Bash Scripting\",\n       \"sql-and-bash\": \"SQL and Bash\",\n-      \"nano\": \"Nano\",\n       \"git\": \"Git\",\n       \"security-and-privacy\": \"Security and Privacy\"\n     },"
        },
        {
            "sha": "d8c7529c2b7b57b88b66e2a88619a4f5f9d2cfa5",
            "filename": "client/src/templates/Introduction/components/block.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -465,7 +465,9 @@ class Block extends Component<BlockProps> {\n     return (\n       <>\n         {layoutToComponent[challenges[0].blockLayout]}\n-        {(!isGridBlock || isProjectBlock) && <Spacer size='m' />}\n+        {(!isGridBlock || isProjectBlock) && !BlockLayouts.Link && (\n+          <Spacer size='m' />\n+        )}\n       </>\n     );\n   }"
        },
        {
            "sha": "57c098c940629103aef065d5852aad804dc080a9",
            "filename": "client/src/templates/Introduction/components/super-block-accordion.css",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.css?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -18,7 +18,8 @@\n }\n \n .super-block-accordion .chapter,\n-.super-block-accordion .exam {\n+.super-block-accordion .link-chapter,\n+.super-block-accordion .link-module {\n   background-color: var(--primary-background);\n }\n \n@@ -67,3 +68,7 @@\n .super-block-accordion .module-panel {\n   padding: 0 24px;\n }\n+\n+.super-block-accordion .chapter-panel > li:last-child .block-grid {\n+  border-bottom: 0;\n+}"
        },
        {
            "sha": "c1c25b2a0c2cfc38219e67d0c0d8a8c931505eb7",
            "filename": "client/src/templates/Introduction/components/super-block-accordion.tsx",
            "status": "modified",
            "additions": 64,
            "deletions": 26,
            "changes": 90,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -7,7 +7,9 @@ import { Disclosure } from '@headlessui/react';\n import { ChallengeNode } from '../../../redux/prop-types';\n import { SuperBlocks } from '../../../../../shared/config/curriculum';\n import DropDown from '../../../assets/icons/dropdown';\n-import { BlockTypes } from '../../../../../shared/config/blocks';\n+// TODO: See if there's a nice way to incorporate the structure into data Gatsby\n+// sources from the curriculum, rather than importing it directly.\n+import superBlockStructure from '../../../../../curriculum/superblock-structure/full-stack.json';\n import Block from './block';\n \n import './super-block-accordion.css';\n@@ -29,6 +31,24 @@ interface SuperBlockTreeViewProps {\n   chosenBlock: string;\n }\n \n+const modules = superBlockStructure.chapters.flatMap(\n+  chapter => chapter.modules\n+);\n+\n+const isLinkModule = (name: string) => {\n+  const module = modules.find(module => module.dashedName === name);\n+\n+  return module?.moduleType === 'review';\n+};\n+\n+const isLinkChapter = (name: string) => {\n+  const chapter = superBlockStructure.chapters.find(\n+    chapter => chapter.dashedName === name\n+  );\n+\n+  return chapter?.chapterType === 'exam';\n+};\n+\n const Chapter = ({ dashedName, children, isExpanded }: ChapterProps) => {\n   const { t } = useTranslation();\n \n@@ -66,7 +86,7 @@ export const SuperBlockAccordion = ({\n   superBlock,\n   chosenBlock\n }: SuperBlockTreeViewProps) => {\n-  const { allChapters, allBlocks, examChallenge } = useMemo(() => {\n+  const { allChapters, allBlocks } = useMemo(() => {\n     const allBlocks = uniqBy(challenges, 'block').map(\n       ({ block, blockType, chapter, module }) => ({\n         name: block,\n@@ -90,11 +110,11 @@ export const SuperBlockAccordion = ({\n       modules: allModules.filter(({ chapter: c }) => c === chapter)\n     }));\n \n-    const examChallenge = challenges.find(\n-      ({ blockType }) => blockType === BlockTypes.exam\n-    );\n-\n-    return { allChapters, allModules, allBlocks, examChallenge };\n+    return {\n+      allChapters,\n+      allModules,\n+      allBlocks\n+    };\n   }, [challenges]);\n \n   // Expand the outer layers in order to reveal the chosen block.\n@@ -108,42 +128,60 @@ export const SuperBlockAccordion = ({\n   return (\n     <ul className='super-block-accordion'>\n       {allChapters.map(chapter => {\n-        if (examChallenge && chapter.name === examChallenge.chapter) {\n+        if (isLinkChapter(chapter.name)) {\n+          const linkedChallenge = chapter.modules[0].blocks[0].challenges[0];\n           return (\n-            <li key={examChallenge.dashedName} className='exam'>\n+            <li key={chapter.name} className='link-chapter'>\n               <Block\n-                block={examChallenge.block}\n-                blockType={examChallenge.blockType}\n-                challenges={[examChallenge]}\n+                block={linkedChallenge.block}\n+                blockType={linkedChallenge.blockType}\n+                challenges={[linkedChallenge]}\n                 superBlock={superBlock}\n               />\n             </li>\n           );\n         }\n+\n         return (\n           <Chapter\n             key={chapter.name}\n             dashedName={chapter.name}\n             isExpanded={expandedChapter === chapter.name}\n           >\n-            {chapter.modules.map(mod => (\n-              <Module\n-                key={mod.name}\n-                dashedName={mod.name}\n-                isExpanded={expandedModule === mod.name}\n-              >\n-                {mod.blocks.map(block => (\n-                  <li key={block.name}>\n+            {chapter.modules.map(module => {\n+              if (isLinkModule(module.name)) {\n+                const linkedChallenge = module.blocks[0].challenges[0];\n+                return (\n+                  <li key={module.name} className='link-module'>\n                     <Block\n-                      block={block.name}\n-                      blockType={block.blockType}\n-                      challenges={block.challenges}\n+                      block={linkedChallenge.block}\n+                      blockType={linkedChallenge.blockType}\n+                      challenges={[linkedChallenge]}\n                       superBlock={superBlock}\n                     />\n                   </li>\n-                ))}\n-              </Module>\n-            ))}\n+                );\n+              }\n+\n+              return (\n+                <Module\n+                  key={module.name}\n+                  dashedName={module.name}\n+                  isExpanded={expandedModule === module.name}\n+                >\n+                  {module.blocks.map(block => (\n+                    <li key={block.name}>\n+                      <Block\n+                        block={block.name}\n+                        blockType={block.blockType}\n+                        challenges={block.challenges}\n+                        superBlock={superBlock}\n+                      />\n+                    </li>\n+                  ))}\n+                </Module>\n+              );\n+            })}\n           </Chapter>\n         );\n       })}"
        },
        {
            "sha": "ac008dc4efb5dfb0823680863ebd9f52e05382aa",
            "filename": "curriculum/schema/superblock-structure-schema.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/curriculum%2Fschema%2Fsuperblock-structure-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/curriculum%2Fschema%2Fsuperblock-structure-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fsuperblock-structure-schema.js?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -7,8 +7,10 @@ const schema = Joi.object()\n     chapters: Joi.array().items(\n       Joi.object().keys({\n         dashedName: Joi.string().regex(slugRE).required(),\n+        chapterType: Joi.valid('exam').optional(),\n         modules: Joi.array().items(\n           Joi.object().keys({\n+            moduleType: Joi.valid('review', 'exam').optional(),\n             dashedName: Joi.string().regex(slugRE).required(),\n             blocks: Joi.array().items(\n               Joi.object().keys({"
        },
        {
            "sha": "dc145443fc0e8198d1018bbace4df91513f04699",
            "filename": "curriculum/superblock-structure/full-stack.json",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ef4c7a0deac73cad862862f42bd2861daa711eaf/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ef4c7a0deac73cad862862f42bd2861daa711eaf/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsuperblock-structure%2Ffull-stack.json?ref=ef4c7a0deac73cad862862f42bd2861daa711eaf",
            "patch": "@@ -63,6 +63,7 @@\n           ]\n         },\n         {\n+          \"moduleType\": \"review\",\n           \"dashedName\": \"review-html\",\n           \"blocks\": [{ \"dashedName\": \"review-html\" }]\n         }\n@@ -265,6 +266,7 @@\n           ]\n         },\n         {\n+          \"moduleType\": \"review\",\n           \"dashedName\": \"review-css\",\n           \"blocks\": [{ \"dashedName\": \"review-css\" }]\n         }\n@@ -525,6 +527,7 @@\n           ]\n         },\n         {\n+          \"moduleType\": \"review\",\n           \"dashedName\": \"review-javascript\",\n           \"blocks\": [{ \"dashedName\": \"review-javascript\" }]\n         }\n@@ -580,6 +583,7 @@\n           ]\n         },\n         {\n+          \"moduleType\": \"review\",\n           \"dashedName\": \"review-front-end-libraries\",\n           \"blocks\": [{ \"dashedName\": \"review-front-end-libraries\" }]\n         }\n@@ -645,15 +649,18 @@\n           ]\n         },\n         {\n+          \"moduleType\": \"review\",\n           \"dashedName\": \"review-relational-databases\",\n           \"blocks\": [{ \"dashedName\": \"review-relational-databases\" }]\n         }\n       ]\n     },\n     {\n+      \"chapterType\": \"exam\",\n       \"dashedName\": \"exam-certified-full-stack-developer\",\n       \"modules\": [\n         {\n+          \"moduleType\": \"exam\",\n           \"dashedName\": \"exam-certified-full-stack-developer\",\n           \"blocks\": [{ \"dashedName\": \"exam-certified-full-stack-developer\" }]\n         }"
        }
    ],
    "stats": {
        "total": 116,
        "additions": 83,
        "deletions": 33
    }
}