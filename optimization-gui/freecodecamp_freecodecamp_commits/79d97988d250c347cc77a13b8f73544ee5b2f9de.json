{
    "author": "ojeytonwilliams",
    "message": "test: confirm that lab project previews can be viewed (#59570)",
    "sha": "79d97988d250c347cc77a13b8f73544ee5b2f9de",
    "files": [
        {
            "sha": "005e3d8cb69c6c7536af0bc24b4e4ff823741925",
            "filename": "e2e/project-preview-modal.spec.ts",
            "status": "modified",
            "additions": 29,
            "deletions": 2,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/79d97988d250c347cc77a13b8f73544ee5b2f9de/e2e%2Fproject-preview-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/79d97988d250c347cc77a13b8f73544ee5b2f9de/e2e%2Fproject-preview-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fproject-preview-modal.spec.ts?ref=79d97988d250c347cc77a13b8f73544ee5b2f9de",
            "patch": "@@ -2,7 +2,7 @@ import { test, expect } from '@playwright/test';\n \n import translations from '../client/i18n/locales/english/translations.json';\n \n-test.describe('When it renders', () => {\n+test.describe('Should be shown automatically', () => {\n   test.beforeEach(async ({ page }) => {\n     const urlWithProjectPreview =\n       '/learn/2022/responsive-web-design/learn-html-by-building-a-cat-photo-app/step-1';\n@@ -49,7 +49,34 @@ test.describe('When it renders', () => {\n   });\n });\n \n-test.describe('It should NOT appear', () => {\n+test.describe('Should be shown manually', () => {\n+  test.beforeEach(async ({ page }) => {\n+    const urlWithProjectPreview =\n+      '/learn/full-stack-developer/lab-drum-machine/build-drum-machine';\n+    await page.goto(urlWithProjectPreview);\n+  });\n+\n+  test(\"when the user clicks on 'this example project'\", async ({ page }) => {\n+    const dialog = page.getByRole('dialog', {\n+      name: translations.learn['demo-project-title']\n+    });\n+    await expect(dialog).not.toBeVisible();\n+    await page\n+      .getByRole('button', {\n+        name: 'this example project'\n+      })\n+      .click();\n+    await expect(dialog).toBeVisible();\n+    const previewFrame = dialog.frameLocator('#fcc-project-preview-frame');\n+    await expect(\n+      // This is a part of the Drum Machine that we expect to see. Essentially,\n+      // it's a proxy for \"not empty\"\n+      previewFrame.getByText('Power: On')\n+    ).toBeVisible();\n+  });\n+});\n+\n+test.describe('Should not render', () => {\n   test('on the second step of a project', async ({ page }) => {\n     await page.goto(\n       '/learn/2022/responsive-web-design/learn-html-by-building-a-cat-photo-app/step-2'"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 29,
        "deletions": 2
    }
}