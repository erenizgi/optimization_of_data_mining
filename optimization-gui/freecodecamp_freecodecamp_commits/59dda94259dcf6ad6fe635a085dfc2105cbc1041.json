{
    "author": "Sembauke",
    "message": "feat(api): enhance logging for mobile login endpoint (#59159)",
    "sha": "59dda94259dcf6ad6fe635a085dfc2105cbc1041",
    "files": [
        {
            "sha": "b4d31d94541bab0bbe709874eb4a54df1be89bfe",
            "filename": "api/src/routes/public/auth.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/59dda94259dcf6ad6fe635a085dfc2105cbc1041/api%2Fsrc%2Froutes%2Fpublic%2Fauth.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/59dda94259dcf6ad6fe635a085dfc2105cbc1041/api%2Fsrc%2Froutes%2Fpublic%2Fauth.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fpublic%2Fauth.ts?ref=59dda94259dcf6ad6fe635a085dfc2105cbc1041",
            "patch": "@@ -43,13 +43,21 @@ export const mobileAuth0Routes: FastifyPluginCallback = (\n   fastify.get('/mobile-login', async (req, reply) => {\n     const email = await getEmailFromAuth0(req);\n \n+    const logger = fastify.log.child({ req });\n+\n+    logger.info('Mobile app login attempt');\n+\n     if (!email) {\n+      logger.error('Could not get email from Auth0 to log in');\n+\n       return reply.status(401).send({\n         message: 'We could not log you in, please try again in a moment.',\n         type: 'danger'\n       });\n     }\n     if (!isEmail(email)) {\n+      logger.error('Email is incorrectly formatted for login');\n+\n       return reply.status(400).send({\n         message: 'The email is incorrectly formatted',\n         type: 'danger'"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 8,
        "deletions": 0
    }
}