{
    "author": "moT01",
    "message": "refactor(client/challenge views): extract items into sharable components (#55946)",
    "sha": "3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
    "files": [
        {
            "sha": "361049204b1b47cb2cc5e14ad1a75d7c35954e7f",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -385,7 +385,7 @@\n     \"add-subtitles\": \"Help improve or add subtitles\",\n     \"wrong-answer\": \"Sorry, that's not the right answer. Give it another try?\",\n     \"check-answer\": \"Click the button below to check your answer.\",\n-    \"assignment-not-complete\": \"Please finish the assignments\",\n+    \"assignment-not-complete\": \"Please complete the assignments\",\n     \"assignments\": \"Assignments\",\n     \"question\": \"Question\",\n     \"solution-link\": \"Solution Link\","
        },
        {
            "sha": "7e52d42aaa15cfbcd29f330daed58ca025495858",
            "filename": "client/src/templates/Challenges/components/assignments.css",
            "status": "added",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.css?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -0,0 +1,4 @@\n+.assignments-not-complete {\n+  text-align: center;\n+  color: var(--danger-color);\n+}"
        },
        {
            "sha": "1282a00ae0606369baf0acdd9ab5513ccfe83dde",
            "filename": "client/src/templates/Challenges/components/assignments.tsx",
            "status": "added",
            "additions": 58,
            "deletions": 0,
            "changes": 58,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fassignments.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -0,0 +1,58 @@\n+import React from 'react';\n+import { useTranslation } from 'react-i18next';\n+\n+import Spacer from '../../../components/helpers/spacer';\n+import ChallengeHeading from './challenge-heading';\n+import PrismFormatted from './prism-formatted';\n+\n+import './assignments.css';\n+\n+type AssignmentsProps = {\n+  assignments: string[];\n+  allAssignmentsCompleted: boolean;\n+  handleAssignmentChange: (\n+    event: React.ChangeEvent<HTMLInputElement>,\n+    totalAssignments: number\n+  ) => void;\n+};\n+\n+function Assignments({\n+  assignments,\n+  allAssignmentsCompleted,\n+  handleAssignmentChange\n+}: AssignmentsProps): JSX.Element {\n+  const { t } = useTranslation();\n+  return (\n+    <>\n+      <ChallengeHeading heading={t('learn.assignments')} />\n+      <div className='video-quiz-options'>\n+        {assignments.map((assignment, index) => (\n+          <label className='video-quiz-option-label' key={index}>\n+            <input\n+              name='assignment'\n+              type='checkbox'\n+              onChange={event =>\n+                handleAssignmentChange(event, assignments.length)\n+              }\n+            />\n+            <PrismFormatted className={'video-quiz-option'} text={assignment} />\n+            <Spacer size='medium' />\n+          </label>\n+        ))}\n+      </div>\n+      {!allAssignmentsCompleted && (\n+        <>\n+          <Spacer size='medium' />\n+          <div className='assignments-not-complete'>\n+            {t('learn.assignment-not-complete')}\n+          </div>\n+        </>\n+      )}\n+      <Spacer size='medium' />\n+    </>\n+  );\n+}\n+\n+Assignments.displayName = 'Assignments';\n+\n+export default Assignments;"
        },
        {
            "sha": "ca1981bc3c7f79e7ebe8af6f28e9f349e8da9e62",
            "filename": "client/src/templates/Challenges/components/fill-in-the-blanks.tsx",
            "status": "added",
            "additions": 87,
            "deletions": 0,
            "changes": 87,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ffill-in-the-blanks.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ffill-in-the-blanks.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ffill-in-the-blanks.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -0,0 +1,87 @@\n+import React from 'react';\n+import { useTranslation } from 'react-i18next';\n+\n+import { parseBlanks } from '../fill-in-the-blank/parse-blanks';\n+import Spacer from '../../../components/helpers/spacer';\n+import PrismFormatted from '../components/prism-formatted';\n+import { FillInTheBlank } from '../../../redux/prop-types';\n+import ChallengeHeading from './challenge-heading';\n+\n+type FillInTheBlankProps = {\n+  fillInTheBlank: FillInTheBlank;\n+  answersCorrect: (boolean | null)[];\n+  showFeedback: boolean;\n+  feedback: string | null;\n+  showWrong: boolean;\n+  handleInputChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n+};\n+\n+function FillInTheBlanks({\n+  fillInTheBlank: { sentence, blanks },\n+  answersCorrect,\n+  showFeedback,\n+  feedback,\n+  showWrong,\n+  handleInputChange\n+}: FillInTheBlankProps): JSX.Element {\n+  const { t } = useTranslation();\n+\n+  const addInputClass = (index: number): string => {\n+    if (answersCorrect[index] === true) return 'green-underline';\n+    if (answersCorrect[index] === false) return 'red-underline';\n+    return '';\n+  };\n+\n+  const paragraphs = parseBlanks(sentence);\n+  const blankAnswers = blanks.map(b => b.answer);\n+\n+  return (\n+    <>\n+      <ChallengeHeading heading={t('learn.fill-in-the-blank')} />\n+      <Spacer size='small' />\n+      <div className='fill-in-the-blank-wrap'>\n+        {paragraphs.map((p, i) => {\n+          return (\n+            // both keys, i and j, are stable between renders, since\n+            // the paragraphs are static.\n+            <p key={i}>\n+              {p.map((node, j) => {\n+                const { type, value } = node;\n+                if (type === 'text') return value;\n+                if (type === 'blank')\n+                  return (\n+                    <input\n+                      key={j}\n+                      type='text'\n+                      maxLength={blankAnswers[value].length + 3}\n+                      className={`fill-in-the-blank-input ${addInputClass(\n+                        value\n+                      )}`}\n+                      onChange={handleInputChange}\n+                      data-index={node.value}\n+                      size={blankAnswers[value].length}\n+                      aria-label={t('learn.blank')}\n+                    />\n+                  );\n+              })}\n+            </p>\n+          );\n+        })}\n+      </div>\n+      <Spacer size='medium' />\n+      {showFeedback && feedback && (\n+        <>\n+          <PrismFormatted text={feedback} />\n+          <Spacer size='medium' />\n+        </>\n+      )}\n+      <div className='text-center'>\n+        {showWrong && <span>{t('learn.wrong-answer')}</span>}\n+      </div>\n+    </>\n+  );\n+}\n+\n+FillInTheBlanks.displayName = 'FillInTheBlanks';\n+\n+export default FillInTheBlanks;"
        },
        {
            "sha": "291c7077bc7e6f48063a4d61723b2817a74b4d47",
            "filename": "client/src/templates/Challenges/components/multiple-choice-questions.tsx",
            "status": "added",
            "additions": 85,
            "deletions": 0,
            "changes": 85,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fmultiple-choice-questions.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fmultiple-choice-questions.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fmultiple-choice-questions.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -0,0 +1,85 @@\n+import React from 'react';\n+import { useTranslation } from 'react-i18next';\n+\n+import { Question } from '../../../redux/prop-types';\n+import Spacer from '../../../components/helpers/spacer';\n+import ChallengeHeading from './challenge-heading';\n+import PrismFormatted from './prism-formatted';\n+\n+type MultipleChoiceQuestionsProps = {\n+  questions: Question;\n+  selectedOption: number | null;\n+  isWrongAnswer: boolean;\n+  handleOptionChange: (\n+    changeEvent: React.ChangeEvent<HTMLInputElement>\n+  ) => void;\n+};\n+\n+function MultipleChoiceQuestions({\n+  questions: { text, answers },\n+  selectedOption,\n+  isWrongAnswer,\n+  handleOptionChange\n+}: MultipleChoiceQuestionsProps): JSX.Element {\n+  const { t } = useTranslation();\n+\n+  const feedback =\n+    selectedOption !== null ? answers[selectedOption].feedback : undefined;\n+\n+  return (\n+    <>\n+      <ChallengeHeading heading={t('learn.question')} />\n+      <PrismFormatted className={'line-numbers'} text={text} />\n+      <div className='video-quiz-options'>\n+        {answers.map(({ answer }, index) => (\n+          <label\n+            className='video-quiz-option-label'\n+            key={index}\n+            htmlFor={`mc-question-${index}`}\n+          >\n+            <input\n+              name='quiz'\n+              checked={selectedOption === index}\n+              className='sr-only'\n+              onChange={handleOptionChange}\n+              type='radio'\n+              value={index}\n+              id={`mc-question-${index}`}\n+            />{' '}\n+            <span className='video-quiz-input-visible'>\n+              {selectedOption === index ? (\n+                <span className='video-quiz-selected-input' />\n+              ) : null}\n+            </span>\n+            <PrismFormatted\n+              className={'video-quiz-option'}\n+              text={answer.replace(/^<p>|<\\/p>$/g, '')}\n+              useSpan\n+              noAria\n+            />\n+          </label>\n+        ))}\n+      </div>\n+      {isWrongAnswer && (\n+        <>\n+          <Spacer size='medium' />\n+          <div className='text-center'>\n+            {feedback ? (\n+              <PrismFormatted\n+                className={'multiple-choice-feedback'}\n+                text={feedback}\n+              />\n+            ) : (\n+              t('learn.wrong-answer')\n+            )}\n+          </div>\n+        </>\n+      )}\n+      <Spacer size='medium' />\n+    </>\n+  );\n+}\n+\n+MultipleChoiceQuestions.displayName = 'MultipleChoiceQuestions';\n+\n+export default MultipleChoiceQuestions;"
        },
        {
            "sha": "79fd884c725f67c7da2654e9b264204fe6000283",
            "filename": "client/src/templates/Challenges/components/scene/scene.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -2,7 +2,7 @@ import React, { useEffect, useState, useRef } from 'react'; //, ReactElement } f\n import { Col } from '@freecodecamp/ui';\n import { useTranslation } from 'react-i18next';\n import { FullScene } from '../../../../redux/prop-types';\n-import { Loader } from '../../../../components/helpers';\n+import { Loader, Spacer } from '../../../../components/helpers';\n import ClosedCaptionsIcon from '../../../../assets/icons/closedcaptions';\n import { sounds, images, backgrounds, characterAssets } from './scene-assets';\n import Character from './character';\n@@ -283,6 +283,7 @@ export function Scene({\n           </>\n         )}\n       </div>\n+      <Spacer size='medium' />\n     </Col>\n   );\n }"
        },
        {
            "sha": "1f068d686f2cdbd5e178e91982a4d78262e1fa05",
            "filename": "client/src/templates/Challenges/components/video-player.tsx",
            "status": "modified",
            "additions": 10,
            "deletions": 2,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fvideo-player.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fvideo-player.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fvideo-player.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -1,5 +1,7 @@\n import React from 'react';\n import YouTube from 'react-youtube';\n+\n+import Loader from '../../../components/helpers/loader';\n import envData from '../../../../config/env.json';\n import type { BilibiliIds, VideoLocaleIds } from '../../../redux/prop-types';\n \n@@ -47,7 +49,13 @@ function VideoPlayer({\n   }\n \n   return (\n-    <>\n+    <div className='video-wrapper'>\n+      {!videoIsLoaded ? (\n+        <div className='video-placeholder-loader'>\n+          <Loader />\n+        </div>\n+      ) : null}\n+\n       {bilibiliSrc ? (\n         <iframe\n           frameBorder='no'\n@@ -71,7 +79,7 @@ function VideoPlayer({\n           videoId={videoId}\n         />\n       )}\n-    </>\n+    </div>\n   );\n }\n "
        },
        {
            "sha": "0ef10b36053ccbfe0ca4feb5b658f2be45d73584",
            "filename": "client/src/templates/Challenges/dialogue/show.tsx",
            "status": "modified",
            "additions": 6,
            "deletions": 39,
            "changes": 45,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -19,7 +19,6 @@ import { ChallengeNode, ChallengeMeta, Test } from '../../../redux/prop-types';\n import Hotkeys from '../components/hotkeys';\n import CompletionModal from '../components/completion-modal';\n import ChallengeTitle from '../components/challenge-title';\n-import ChallengeHeading from '../components/challenge-heading';\n import HelpModal from '../components/help-modal';\n import PrismFormatted from '../components/prism-formatted';\n import {\n@@ -30,6 +29,7 @@ import {\n } from '../redux/actions';\n import { isChallengeCompletedSelector } from '../redux/selectors';\n import Scene from '../components/scene/scene';\n+import Assignments from '../components/assignments';\n \n // Styles\n import '../odin/show.css';\n@@ -256,45 +256,12 @@ class ShowDialogue extends Component<ShowDialogueProps, ShowDialogueState> {\n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                 <Spacer size='medium' />\n                 <ObserveKeys>\n-                  <ChallengeHeading heading={t('learn.assignments')} />\n-                  <div className='video-quiz-options'>\n-                    {assignments.map((assignment, index) => (\n-                      <label className='video-quiz-option-label' key={index}>\n-                        <input\n-                          name='assignment'\n-                          type='checkbox'\n-                          onChange={event =>\n-                            this.handleAssignmentChange(\n-                              event,\n-                              assignments.length\n-                            )\n-                          }\n-                        />\n-\n-                        <PrismFormatted\n-                          className={'video-quiz-option'}\n-                          text={assignment}\n-                        />\n-                        <Spacer size='medium' />\n-                      </label>\n-                    ))}\n-                  </div>\n-                  <Spacer size='medium' />\n+                  <Assignments\n+                    assignments={assignments}\n+                    allAssignmentsCompleted={this.state.allAssignmentsCompleted}\n+                    handleAssignmentChange={this.handleAssignmentChange}\n+                  />\n                 </ObserveKeys>\n-\n-                <div\n-                  style={{\n-                    textAlign: 'center'\n-                  }}\n-                >\n-                  {!this.state.allAssignmentsCompleted &&\n-                    assignments.length > 0 && (\n-                      <>\n-                        <br />\n-                        <span>{t('learn.assignment-not-complete')}</span>\n-                      </>\n-                    )}\n-                </div>\n                 <Spacer size='medium' />\n                 <Button\n                   block={true}"
        },
        {
            "sha": "2a855dfad9648a7e8e0854a13b51277f267b9145",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.css",
            "status": "modified",
            "additions": 0,
            "deletions": 19,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.css?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -36,25 +36,6 @@\n   z-index: 2;\n }\n \n-.code-tag code {\n-  font-size: 100%;\n-  z-index: 0;\n-  position: relative;\n-}\n-\n-.first-code-tag code {\n-  border-right: none;\n-}\n-\n-.middle-code-tag code {\n-  border-left: none;\n-  border-right: none;\n-}\n-\n-.last-code-tag code {\n-  border-left: none;\n-}\n-\n .green-underline {\n   border-bottom-color: var(--success-background) !important;\n }"
        },
        {
            "sha": "3fd482c634774159bdfac22baa5f7b03c879324b",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.tsx",
            "status": "modified",
            "additions": 17,
            "deletions": 84,
            "changes": 101,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -1,6 +1,6 @@\n // Package Utilities\n import { graphql } from 'gatsby';\n-import React, { Component, Fragment } from 'react';\n+import React, { Component } from 'react';\n import Helmet from 'react-helmet';\n import { ObserveKeys } from 'react-hotkeys';\n import type { TFunction } from 'i18next';\n@@ -18,9 +18,9 @@ import LearnLayout from '../../../components/layouts/learn';\n import { ChallengeNode, ChallengeMeta, Test } from '../../../redux/prop-types';\n import Hotkeys from '../components/hotkeys';\n import ChallengeTitle from '../components/challenge-title';\n-import ChallengeHeading from '../components/challenge-heading';\n import CompletionModal from '../components/completion-modal';\n import HelpModal from '../components/help-modal';\n+import FillInTheBlanks from '../components/fill-in-the-blanks';\n import PrismFormatted from '../components/prism-formatted';\n import {\n   challengeMounted,\n@@ -31,7 +31,6 @@ import {\n } from '../redux/actions';\n import Scene from '../components/scene/scene';\n import { isChallengeCompletedSelector } from '../redux/selectors';\n-import { parseBlanks } from './parse-blanks';\n \n // Styles\n import '../video.css';\n@@ -237,25 +236,6 @@ class ShowFillInTheBlank extends Component<\n     });\n   };\n \n-  addCodeTags(str: string, index: number, numberOfBlanks: number): string {\n-    if (index === 0) return `${str}</code>`;\n-    if (index < numberOfBlanks) return `<code>${str}</code>`;\n-    return `<code>${str}`;\n-  }\n-\n-  addPrismClass(index: number, numberOfBlanks: number): string {\n-    if (index === 0) return `first-code-tag`;\n-    if (index < numberOfBlanks) return `middle-code-tag`;\n-    return `last-code-tag`;\n-  }\n-\n-  addInputClass(index: number): string {\n-    const { answersCorrect } = this.state;\n-    if (answersCorrect[index] === true) return 'green-underline';\n-    if (answersCorrect[index] === false) return 'red-underline';\n-    return '';\n-  }\n-\n   setIsScenePlaying = (shouldPlay: boolean) => {\n     this.setState({\n       isScenePlaying: shouldPlay\n@@ -274,7 +254,7 @@ class ShowFillInTheBlank extends Component<\n             block,\n             translationPending,\n             fields: { blockName },\n-            fillInTheBlank: { sentence, blanks },\n+            fillInTheBlank,\n             scene\n           }\n         }\n@@ -292,9 +272,6 @@ class ShowFillInTheBlank extends Component<\n     )} - ${title}`;\n \n     const { allBlanksFilled, feedback, showFeedback, showWrong } = this.state;\n-    const paragraphs = parseBlanks(sentence);\n-\n-    const blankAnswers = blanks.map(b => b.answer);\n \n     return (\n       <Hotkeys\n@@ -324,78 +301,34 @@ class ShowFillInTheBlank extends Component<\n               </Col>\n \n               {scene && (\n-                <>\n-                  <Scene\n-                    scene={scene}\n-                    isPlaying={this.state.isScenePlaying}\n-                    setIsPlaying={this.setIsScenePlaying}\n-                  />\n-                  <Spacer size='medium' />\n-                </>\n+                <Scene\n+                  scene={scene}\n+                  isPlaying={this.state.isScenePlaying}\n+                  setIsPlaying={this.setIsScenePlaying}\n+                />\n               )}\n \n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n-                <ChallengeHeading heading={t('learn.fill-in-the-blank')} />\n-                <Spacer size='small' />\n                 {instructions && (\n                   <>\n                     <PrismFormatted text={instructions} />\n                     <Spacer size='small' />\n                   </>\n                 )}\n+\n                 {/* what we want to observe is ctrl/cmd + enter, but ObserveKeys is buggy and throws an error\n                 if it encounters a key combination, so we have to pass in the individual keys to observe */}\n                 <ObserveKeys only={['ctrl', 'cmd', 'enter']}>\n-                  <div className='fill-in-the-blank-wrap'>\n-                    {paragraphs.map((p, i) => {\n-                      return (\n-                        // both keys, i and j, are stable between renders, since\n-                        // the paragraphs are static.\n-                        <p key={i}>\n-                          {p.map((node, j) => {\n-                            if (node.type === 'text') return node.value;\n-                            if (node.type === 'blank')\n-                              return (\n-                                <input\n-                                  key={j}\n-                                  type='text'\n-                                  maxLength={\n-                                    blankAnswers[node.value].length + 3\n-                                  }\n-                                  className={`fill-in-the-blank-input ${this.addInputClass(\n-                                    node.value\n-                                  )}`}\n-                                  onChange={this.handleInputChange}\n-                                  data-index={node.value}\n-                                  size={blankAnswers[node.value].length}\n-                                  aria-label={t('learn.blank')}\n-                                />\n-                              );\n-                          })}\n-                        </p>\n-                      );\n-                    })}\n-                  </div>\n+                  <FillInTheBlanks\n+                    fillInTheBlank={fillInTheBlank}\n+                    answersCorrect={this.state.answersCorrect}\n+                    showFeedback={showFeedback}\n+                    feedback={feedback}\n+                    showWrong={showWrong}\n+                    handleInputChange={this.handleInputChange}\n+                  />\n                 </ObserveKeys>\n                 <Spacer size='medium' />\n-                {showFeedback && feedback && (\n-                  <>\n-                    <PrismFormatted text={feedback} />\n-                    <Spacer size='small' />\n-                  </>\n-                )}\n-                <div\n-                  style={{\n-                    textAlign: 'center'\n-                  }}\n-                >\n-                  {showWrong ? (\n-                    <span>{t('learn.wrong-answer')}</span>\n-                  ) : (\n-                    <span>{t('learn.check-answer')}</span>\n-                  )}\n-                </div>\n-                <Spacer size='medium' />\n                 <Button\n                   block={true}\n                   variant='primary'"
        },
        {
            "sha": "3f1d3f8612b4163ae8e28a14c5cc12496c7d7325",
            "filename": "client/src/templates/Challenges/odin/show.tsx",
            "status": "modified",
            "additions": 31,
            "deletions": 111,
            "changes": 142,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -13,7 +13,6 @@ import { Container, Col, Row, Button } from '@freecodecamp/ui';\n import ShortcutsModal from '../components/shortcuts-modal';\n \n // Local Utilities\n-import Loader from '../../../components/helpers/loader';\n import Spacer from '../../../components/helpers/spacer';\n import LearnLayout from '../../../components/layouts/learn';\n import { ChallengeNode, ChallengeMeta, Test } from '../../../redux/prop-types';\n@@ -24,7 +23,8 @@ import HelpModal from '../components/help-modal';\n import Scene from '../components/scene/scene';\n import PrismFormatted from '../components/prism-formatted';\n import ChallengeTitle from '../components/challenge-title';\n-import ChallengeHeading from '../components/challenge-heading';\n+import MultipleChoiceQuestions from '../components/multiple-choice-questions';\n+import Assignments from '../components/assignments';\n import {\n   challengeMounted,\n   updateChallengeMeta,\n@@ -236,7 +236,7 @@ class ShowOdin extends Component<ShowOdinProps, ShowOdinState> {\n             videoLocaleIds,\n             bilibiliIds,\n             fields: { blockName },\n-            question: { text, answers, solution },\n+            question,\n             assignments,\n             translationPending,\n             scene\n@@ -256,10 +256,7 @@ class ShowOdin extends Component<ShowOdinProps, ShowOdinState> {\n       `intro:${superBlock}.blocks.${block}.title`\n     )} - ${title}`;\n \n-    const feedback =\n-      this.state.selectedOption !== null\n-        ? answers[this.state.selectedOption].feedback\n-        : undefined;\n+    const { solution } = question;\n \n     return (\n       <Hotkeys\n@@ -280,23 +277,17 @@ class ShowOdin extends Component<ShowOdinProps, ShowOdinState> {\n               {videoId && (\n                 <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n                   <Spacer size='medium' />\n-                  <div className='video-wrapper'>\n-                    {!this.state.videoIsLoaded ? (\n-                      <div className='video-placeholder-loader'>\n-                        <Loader />\n-                      </div>\n-                    ) : null}\n-                    <VideoPlayer\n-                      bilibiliIds={bilibiliIds}\n-                      onVideoLoad={this.onVideoLoad}\n-                      title={title}\n-                      videoId={videoId}\n-                      videoIsLoaded={this.state.videoIsLoaded}\n-                      videoLocaleIds={videoLocaleIds}\n-                    />\n-                  </div>\n+                  <VideoPlayer\n+                    bilibiliIds={bilibiliIds}\n+                    onVideoLoad={this.onVideoLoad}\n+                    title={title}\n+                    videoId={videoId}\n+                    videoIsLoaded={this.state.videoIsLoaded}\n+                    videoLocaleIds={videoLocaleIds}\n+                  />\n                 </Col>\n               )}\n+\n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                 <Spacer size='medium' />\n                 <ChallengeTitle\n@@ -310,104 +301,33 @@ class ShowOdin extends Component<ShowOdinProps, ShowOdinState> {\n               </Col>\n \n               {scene && (\n-                <>\n-                  <Scene\n-                    scene={scene}\n-                    isPlaying={this.state.isScenePlaying}\n-                    setIsPlaying={this.setIsScenePlaying}\n-                  />{' '}\n-                  <Spacer size='medium' />\n-                </>\n+                <Scene\n+                  scene={scene}\n+                  isPlaying={this.state.isScenePlaying}\n+                  setIsPlaying={this.setIsScenePlaying}\n+                />\n               )}\n \n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                 <ObserveKeys>\n                   {assignments.length > 0 && (\n-                    <>\n-                      <ChallengeHeading heading={t('learn.assignments')} />\n-                      <div className='video-quiz-options'>\n-                        {assignments.map((assignment, index) => (\n-                          <label\n-                            className='video-quiz-option-label'\n-                            key={index}\n-                          >\n-                            <input\n-                              name='assignment'\n-                              type='checkbox'\n-                              onChange={event =>\n-                                this.handleAssignmentChange(\n-                                  event,\n-                                  assignments.length\n-                                )\n-                              }\n-                            />\n-\n-                            <PrismFormatted\n-                              className={'video-quiz-option'}\n-                              text={assignment}\n-                            />\n-                            <Spacer size='medium' />\n-                          </label>\n-                        ))}\n-                      </div>{' '}\n-                      <Spacer size='medium' />\n-                    </>\n+                    <Assignments\n+                      assignments={assignments}\n+                      allAssignmentsCompleted={\n+                        this.state.allAssignmentsCompleted\n+                      }\n+                      handleAssignmentChange={this.handleAssignmentChange}\n+                    />\n                   )}\n \n-                  <ChallengeHeading heading={t('learn.question')} />\n-                  <PrismFormatted className={'line-numbers'} text={text} />\n-                  <div className='video-quiz-options'>\n-                    {answers.map(({ answer }, index) => (\n-                      <label className='video-quiz-option-label' key={index}>\n-                        <input\n-                          aria-label={t('aria.answer')}\n-                          checked={this.state.selectedOption === index}\n-                          className='sr-only'\n-                          name='quiz'\n-                          onChange={this.handleOptionChange}\n-                          type='radio'\n-                          value={index}\n-                        />{' '}\n-                        <span className='video-quiz-input-visible'>\n-                          {this.state.selectedOption === index ? (\n-                            <span className='video-quiz-selected-input' />\n-                          ) : null}\n-                        </span>\n-                        <PrismFormatted\n-                          className={'video-quiz-option'}\n-                          text={answer}\n-                        />\n-                      </label>\n-                    ))}\n-                  </div>\n+                  <MultipleChoiceQuestions\n+                    questions={question}\n+                    selectedOption={this.state.selectedOption}\n+                    isWrongAnswer={this.state.isWrongAnswer}\n+                    handleOptionChange={this.handleOptionChange}\n+                  />\n                 </ObserveKeys>\n                 <Spacer size='medium' />\n-                <div\n-                  style={{\n-                    textAlign: 'center'\n-                  }}\n-                >\n-                  {this.state.isWrongAnswer && (\n-                    <span>\n-                      {feedback ? (\n-                        <PrismFormatted\n-                          className={'multiple-choice-feedback'}\n-                          text={feedback}\n-                        />\n-                      ) : (\n-                        t('learn.wrong-answer')\n-                      )}\n-                    </span>\n-                  )}\n-                  {!this.state.allAssignmentsCompleted &&\n-                    assignments.length > 0 && (\n-                      <>\n-                        <br />\n-                        <span>{t('learn.assignment-not-complete')}</span>\n-                      </>\n-                    )}\n-                </div>\n-                <Spacer size='medium' />\n                 <Button\n                   block={true}\n                   size='medium'"
        },
        {
            "sha": "4bcd1b05c3e877e5bc3daaf5d717f726c2b3fae7",
            "filename": "client/src/templates/Challenges/video/show.tsx",
            "status": "modified",
            "additions": 17,
            "deletions": 77,
            "changes": 94,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3074bb199dd9ca486f9a4e388614f6fc71a0aa57/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx?ref=3074bb199dd9ca486f9a4e388614f6fc71a0aa57",
            "patch": "@@ -12,7 +12,6 @@ import { createSelector } from 'reselect';\n import { Container, Col, Row, Button } from '@freecodecamp/ui';\n \n // Local Utilities\n-import Loader from '../../../components/helpers/loader';\n import Spacer from '../../../components/helpers/spacer';\n import LearnLayout from '../../../components/layouts/learn';\n import { ChallengeNode, ChallengeMeta, Test } from '../../../redux/prop-types';\n@@ -23,7 +22,7 @@ import VideoPlayer from '../components/video-player';\n import ChallengeTitle from '../components/challenge-title';\n import CompletionModal from '../components/completion-modal';\n import HelpModal from '../components/help-modal';\n-import PrismFormatted from '../components/prism-formatted';\n+import MultipleChoiceQuestions from '../components/multiple-choice-questions';\n import {\n   challengeMounted,\n   updateChallengeMeta,\n@@ -201,7 +200,7 @@ class ShowVideo extends Component<ShowVideoProps, ShowVideoState> {\n             videoLocaleIds,\n             bilibiliIds,\n             fields: { blockName },\n-            question: { text, answers, solution }\n+            question\n           }\n         }\n       },\n@@ -218,10 +217,7 @@ class ShowVideo extends Component<ShowVideoProps, ShowVideoState> {\n       `intro:${superBlock}.blocks.${block}.title`\n     )} - ${title}`;\n \n-    const feedback =\n-      this.state.selectedOption !== null\n-        ? answers[this.state.selectedOption].feedback\n-        : undefined;\n+    const { solution } = question;\n \n     return (\n       <Hotkeys\n@@ -248,84 +244,28 @@ class ShowVideo extends Component<ShowVideoProps, ShowVideoState> {\n \n               {challengeType === challengeTypes.video && (\n                 <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n-                  <div className='video-wrapper'>\n-                    {!this.state.videoIsLoaded ? (\n-                      <div className='video-placeholder-loader'>\n-                        <Loader />\n-                      </div>\n-                    ) : null}\n-                    <VideoPlayer\n-                      bilibiliIds={bilibiliIds}\n-                      onVideoLoad={this.onVideoLoad}\n-                      title={title}\n-                      videoId={videoId}\n-                      videoIsLoaded={this.state.videoIsLoaded}\n-                      videoLocaleIds={videoLocaleIds}\n-                    />\n-                  </div>\n+                  <VideoPlayer\n+                    bilibiliIds={bilibiliIds}\n+                    onVideoLoad={this.onVideoLoad}\n+                    title={title}\n+                    videoId={videoId}\n+                    videoIsLoaded={this.state.videoIsLoaded}\n+                    videoLocaleIds={videoLocaleIds}\n+                  />\n                 </Col>\n               )}\n \n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                 <ChallengeDescription description={description} />\n-                <PrismFormatted className={'line-numbers'} text={text} />\n-                <Spacer size='medium' />\n                 <ObserveKeys>\n-                  <div className='video-quiz-options'>\n-                    {answers.map(({ answer }, index) => (\n-                      // answers are static and have no natural id property, so\n-                      // index should be fine as a key:\n-                      <label\n-                        className='video-quiz-option-label'\n-                        key={index}\n-                        htmlFor={`mc-question-${index}`}\n-                      >\n-                        <input\n-                          checked={this.state.selectedOption === index}\n-                          className='sr-only'\n-                          name='quiz'\n-                          onChange={this.handleOptionChange}\n-                          type='radio'\n-                          value={index}\n-                          id={`mc-question-${index}`}\n-                        />{' '}\n-                        <span className='video-quiz-input-visible'>\n-                          {this.state.selectedOption === index ? (\n-                            <span className='video-quiz-selected-input' />\n-                          ) : null}\n-                        </span>\n-                        <PrismFormatted\n-                          className={'video-quiz-option'}\n-                          text={answer.replace(/^<p>|<\\/p>$/g, '')}\n-                          useSpan\n-                          noAria\n-                        />\n-                      </label>\n-                    ))}\n-                  </div>\n+                  <MultipleChoiceQuestions\n+                    questions={question}\n+                    selectedOption={this.state.selectedOption}\n+                    isWrongAnswer={this.state.showWrong}\n+                    handleOptionChange={this.handleOptionChange}\n+                  />\n                 </ObserveKeys>\n                 <Spacer size='medium' />\n-                <div\n-                  style={{\n-                    textAlign: 'center'\n-                  }}\n-                >\n-                  {this.state.showWrong ? (\n-                    <span>\n-                      {feedback ? (\n-                        <PrismFormatted\n-                          className={'multiple-choice-feedback'}\n-                          text={feedback}\n-                        />\n-                      ) : (\n-                        t('learn.wrong-answer')\n-                      )}\n-                    </span>\n-                  ) : (\n-                    <span>{t('learn.check-answer')}</span>\n-                  )}\n-                </div>\n-                <Spacer size='medium' />\n                 <Button\n                   block={true}\n                   variant='primary'"
        }
    ],
    "stats": {
        "total": 652,
        "additions": 318,
        "deletions": 334
    }
}