{
    "author": "raisedadead",
    "message": "fix(GHA): remove validations",
    "sha": "b5050191a49cccfd4ebd2c613236accdf49ff147",
    "files": [
        {
            "sha": "19971673fe5c4e0acf3f0275610de9c7206300a1",
            "filename": ".github/workflows/deploy-legacy.yml",
            "status": "modified",
            "additions": 0,
            "deletions": 83,
            "changes": 83,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b5050191a49cccfd4ebd2c613236accdf49ff147/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b5050191a49cccfd4ebd2c613236accdf49ff147/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fdeploy-legacy.yml?ref=b5050191a49cccfd4ebd2c613236accdf49ff147",
            "patch": "@@ -29,89 +29,6 @@ jobs:\n               ;;\n           esac\n \n-      - name: Validate\n-        id: check\n-        uses: actions/github-script@v7\n-        with:\n-          script: |\n-            const workflows = ['node.js-tests.yml'];\n-            const owner = context.repo.owner;\n-            const repo = context.repo.repo;\n-            const branch = context.ref.replace('refs/heads/', '');\n-            const sha = context.sha;\n-            const MAX_RETRIES = 5;\n-            const WAIT_TIME = 5 * 60 * 1000; // 5 minutes in milliseconds\n-\n-            async function sleep(ms) {\n-              return new Promise(resolve => setTimeout(resolve, ms));\n-            }\n-\n-            async function checkWorkflow(workflow_id, retryCount = 0) {\n-              console.log(`\\nChecking workflow ${workflow_id} for branch ${branch} at commit ${sha} (attempt ${retryCount + 1}/${MAX_RETRIES})`);\n-\n-              const response = await github.rest.actions.listWorkflowRuns({\n-                owner,\n-                repo,\n-                workflow_id,\n-                branch,\n-                head_sha: sha,\n-                status: 'completed',\n-                per_page: 1\n-              });\n-\n-              if (response.data.workflow_runs.length === 0) {\n-                if (retryCount < MAX_RETRIES) {\n-                  console.log(`No completed workflow runs found. Waiting ${WAIT_TIME/1000} seconds before retry...`);\n-                  await sleep(WAIT_TIME);\n-                  return checkWorkflow(workflow_id, retryCount + 1);\n-                }\n-                core.setFailed(`No completed workflow runs found for ${workflow_id} on branch ${branch} after ${MAX_RETRIES} attempts`);\n-                return false;\n-              }\n-\n-              const latestRun = response.data.workflow_runs[0];\n-              console.log(`Latest run: ${latestRun.html_url}`);\n-              console.log(`Status: ${latestRun.status}`);\n-              console.log(`Conclusion: ${latestRun.conclusion}`);\n-\n-              if (latestRun.status !== 'completed') {\n-                if (retryCount < MAX_RETRIES) {\n-                  console.log(`Workflow not completed. Waiting ${WAIT_TIME/1000} seconds before retry...`);\n-                  await sleep(WAIT_TIME);\n-                  return checkWorkflow(workflow_id, retryCount + 1);\n-                }\n-                core.setFailed(`Latest workflow run is not completed after ${MAX_RETRIES} attempts. Current status: ${latestRun.status}`);\n-                return false;\n-              }\n-\n-              if (latestRun.conclusion === 'cancelled') {\n-                core.setFailed(`Workflow ${workflow_id} was cancelled on branch ${branch} at commit ${sha}`);\n-                return false;\n-              }\n-\n-              if (latestRun.conclusion === 'failure') {\n-                const failureMessage = `Workflow ${workflow_id} failed on branch ${branch} at commit ${sha}. ` +\n-                  `Latest run: ${latestRun.html_url}. Conclusion: ${latestRun.conclusion}`;\n-                core.setFailed(failureMessage);\n-                return false;\n-              }\n-\n-              if (latestRun.conclusion !== 'success') {\n-                core.setFailed(`Unexpected workflow conclusion: ${latestRun.conclusion}`);\n-                return false;\n-              }\n-\n-              return true;\n-            }\n-\n-            for (const workflow_id of workflows) {\n-              const result = await checkWorkflow(workflow_id);\n-              if (!result) return false;\n-            }\n-\n-            console.log('\\nAll workflow checks passed!');\n-            return true;\n-\n   api:\n     name: API (Legacy) - [${{ needs.setup-jobs.outputs.tgt_env_short }}]\n     needs: [setup-jobs]"
        }
    ],
    "stats": {
        "total": 83,
        "additions": 0,
        "deletions": 83
    }
}