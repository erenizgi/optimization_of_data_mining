{
    "author": "ojeytonwilliams",
    "message": "chore: remove validate-keys script (#64341)",
    "sha": "29420e82148dfe1f1e99e0167beeac733c07a0a0",
    "files": [
        {
            "sha": "a23800c22d5750150ee381fa2f104451ef050557",
            "filename": "client/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29420e82148dfe1f1e99e0167beeac733c07a0a0/client%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29420e82148dfe1f1e99e0167beeac733c07a0a0/client%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fpackage.json?ref=29420e82148dfe1f1e99e0167beeac733c07a0a0",
            "patch": "@@ -35,8 +35,7 @@\n     \"serve-ci\": \"serve -l 8000 -c serve.json public\",\n     \"prestand-alone\": \"pnpm run prebuild\",\n     \"stand-alone\": \"gatsby develop\",\n-    \"test\": \"vitest\",\n-    \"validate-keys\": \"tsx --tsconfig ../tsconfig.json ../tools/scripts/lint/validate-keys\"\n+    \"test\": \"vitest\"\n   },\n   \"dependencies\": {\n     \"@babel/plugin-proposal-export-default-from\": \"7.23.3\","
        },
        {
            "sha": "382786796e1acd67cc19f595375d4295099419ef",
            "filename": "tools/scripts/lint/validate-keys.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 103,
            "changes": 103,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bcacf747edd4035d7e8dc2ebec3b3e807c7c8b07/tools%2Fscripts%2Flint%2Fvalidate-keys.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bcacf747edd4035d7e8dc2ebec3b3e807c7c8b07/tools%2Fscripts%2Flint%2Fvalidate-keys.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fscripts%2Flint%2Fvalidate-keys.ts?ref=bcacf747edd4035d7e8dc2ebec3b3e807c7c8b07",
            "patch": "@@ -1,103 +0,0 @@\n-import fs from 'fs';\n-import path from 'path';\n-import introObject from '../../../client/i18n/locales/english/intro.json';\n-import linksObject from '../../../client/i18n/locales/english/links.json';\n-import metaObject from '../../../client/i18n/locales/english/meta-tags.json';\n-import motivationObject from '../../../client/i18n/locales/english/motivation.json';\n-import translationsObject from '../../../client/i18n/locales/english/translations.json';\n-// If this trending.json is missing, most likely the download-trending script failed.\n-import trendingObject from '../../../client/i18n/locales/english/trending.json';\n-\n-/**\n- * Function to flatten a nested object. Written specifically for\n- * our translation flow, the `namespace` value is used to create the\n- * property chains that are used in the i18n replacement scripts.\n- */\n-const flattenAnObject = (\n-  obj: Record<string, unknown>,\n-  namespace = ''\n-): Record<string, unknown> => {\n-  const flattened: Record<string, unknown> = {};\n-  Object.keys(obj).forEach((key: string) => {\n-    if (Array.isArray(obj[key])) {\n-      flattened[namespace ? `${namespace}.${key}` : key] = obj[key];\n-    } else if (typeof obj[key] === 'object') {\n-      Object.assign(\n-        flattened,\n-        flattenAnObject(\n-          obj[key] as Record<string, unknown>,\n-          namespace ? `${namespace}.${key}` : key\n-        )\n-      );\n-    } else {\n-      flattened[namespace ? `${namespace}.${key}` : key] = obj[key];\n-    }\n-  });\n-  return flattened;\n-};\n-\n-const translationKeys: string[] = Object.keys(\n-  flattenAnObject(translationsObject)\n-);\n-const metaKeys: string[] = Object.keys(flattenAnObject(metaObject));\n-const motivationKeys: string[] = Object.keys(flattenAnObject(motivationObject));\n-const introKeys: string[] = Object.keys(flattenAnObject(introObject));\n-const trendingKeys: string[] = Object.keys(flattenAnObject(trendingObject));\n-const linksKeys: string[] = Object.keys(flattenAnObject(linksObject));\n-\n-/**\n- * Recursively read through the directory, grabbing .js files\n- * in each nested subdirectory and concatenating them all in\n- * to one string.\n- */\n-const readComponentCode = (filePath: string): string => {\n-  let code = '';\n-  const isItFolder: boolean = fs.lstatSync(filePath).isDirectory();\n-  if (isItFolder) {\n-    const contents: string[] = fs.readdirSync(filePath);\n-    contents.forEach((file: string) => {\n-      code += readComponentCode(path.join(filePath + '/' + file));\n-    });\n-  } else {\n-    if (!filePath.endsWith('.js') || filePath.endsWith('.test.js')) {\n-      return '';\n-    }\n-    code += fs.readFileSync(filePath).toString();\n-  }\n-  return code;\n-};\n-\n-const clientCodebase: string = readComponentCode(\n-  path.join(process.cwd() + '/src')\n-);\n-\n-for (const key of translationKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The translation key '${key}' appears to be unused.`);\n-  }\n-}\n-for (const key of motivationKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The motivation key '${key}' appears to be unused.`);\n-  }\n-}\n-for (const key of metaKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The meta key '${key}' appears to be unused.`);\n-  }\n-}\n-for (const key of introKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The intro key '${key}' appears to be unused.`);\n-  }\n-}\n-for (const key of trendingKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The trending key '${key}' appears to be unused.`);\n-  }\n-}\n-for (const key of linksKeys) {\n-  if (!clientCodebase.includes(key)) {\n-    console.warn(`The links key '${key}' appears to be unused.`);\n-  }\n-}"
        }
    ],
    "stats": {
        "total": 106,
        "additions": 1,
        "deletions": 105
    }
}