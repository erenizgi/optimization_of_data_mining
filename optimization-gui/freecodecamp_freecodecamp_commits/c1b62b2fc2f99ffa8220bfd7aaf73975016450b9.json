{
    "author": "Sembauke",
    "message": "feat: convert \"mutlifile cert projects\" spec to Playwright (#54994)\n\nCo-authored-by: Naomi <accounts+github@nhcarrigan.com>",
    "sha": "c1b62b2fc2f99ffa8220bfd7aaf73975016450b9",
    "files": [
        {
            "sha": "2c153baa952259e6b770728ab20192914403d267",
            "filename": "cypress/e2e/default/learn/challenges/multifile-cert-project.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 64,
            "changes": 64,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37ec73acf7390e752580a939455b7f529618dc3f/cypress%2Fe2e%2Fdefault%2Flearn%2Fchallenges%2Fmultifile-cert-project.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37ec73acf7390e752580a939455b7f529618dc3f/cypress%2Fe2e%2Fdefault%2Flearn%2Fchallenges%2Fmultifile-cert-project.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/cypress%2Fe2e%2Fdefault%2Flearn%2Fchallenges%2Fmultifile-cert-project.ts?ref=37ec73acf7390e752580a939455b7f529618dc3f",
            "patch": "@@ -1,64 +0,0 @@\n-const save1text = 'save 1';\n-const save2text = 'save 2';\n-\n-const editorElements = {\n-  container: '.vertical .reflex-container',\n-  editor: '.react-monaco-editor-container',\n-  saveCodeBtn: '[data-cy=\"save-code-to-database-btn\"]'\n-};\n-\n-describe('multifileCertProjects', function () {\n-  before(() => {\n-    cy.task('seed');\n-  });\n-\n-  beforeEach(() => {\n-    cy.login();\n-    cy.visit(\n-      'learn/2022/responsive-web-design/build-a-tribute-page-project/build-a-tribute-page'\n-    );\n-  });\n-\n-  it('should save and reload user code', function () {\n-    // save to database (savedChallenges) when clicking save code button\n-    cy.get(editorElements.container).find(editorElements.editor).click();\n-    // Firefox somehow can lose focus after the .clear()\n-    cy.focused().clear().click().type(save1text);\n-    cy.get(editorElements.editor).contains(save1text);\n-    cy.get(editorElements.saveCodeBtn).click();\n-    cy.contains('Your code was saved to the database.');\n-    // load saved code on a hard refresh\n-    cy.reload();\n-    cy.get(editorElements.container)\n-      .find(editorElements.editor)\n-      .contains(save1text);\n-  });\n-\n-  it('should save using ctrl+s hotkey and persist through navigation', function () {\n-    // since rapid clicks will cause the save requests to be ignored, we have to\n-    // purge the db:\n-    cy.task('seed');\n-    cy.get(editorElements.container).find(editorElements.editor).click();\n-    cy.focused().clear().click().type(`${save2text}{ctrl+s}`);\n-    cy.get(editorElements.editor).contains(save2text);\n-    cy.contains('Your code was saved to the database.');\n-    // close flash message\n-    cy.get('button:contains(\"Close\")').click();\n-    // load saved code when navigating site (no hard refresh)'\n-    cy.contains('Tribute Page').click();\n-    cy.get(editorElements.container)\n-      .find(editorElements.editor)\n-      .contains(save2text);\n-    // trigger the warning about saving too quickly\n-    cy.reload();\n-    cy.get(editorElements.container)\n-      .find(editorElements.editor)\n-      .click()\n-      .focused()\n-      .type(`{ctrl+s}`)\n-      // wait a few ms or it's too fast\n-      .wait(500)\n-      .type(`{ctrl+s}`);\n-    cy.contains('Your code was not saved.');\n-  });\n-});"
        },
        {
            "sha": "55fbab60ea219e30e6455314b52af260c68855d8",
            "filename": "e2e/multifile-cert-projects.spec.ts",
            "status": "added",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c1b62b2fc2f99ffa8220bfd7aaf73975016450b9/e2e%2Fmultifile-cert-projects.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c1b62b2fc2f99ffa8220bfd7aaf73975016450b9/e2e%2Fmultifile-cert-projects.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fmultifile-cert-projects.spec.ts?ref=c1b62b2fc2f99ffa8220bfd7aaf73975016450b9",
            "patch": "@@ -0,0 +1,77 @@\n+import { execSync } from 'child_process';\n+import { test, expect } from '@playwright/test';\n+import { focusEditor } from './utils/editor';\n+import { isMacOS } from './utils/user-agent';\n+test.use({ storageState: 'playwright/.auth/certified-user.json' });\n+test.describe('multifileCertProjects', () => {\n+  test.beforeEach(async ({ page }) => {\n+    await page.goto(\n+      'learn/2022/responsive-web-design/build-a-tribute-page-project/build-a-tribute-page'\n+    );\n+    execSync('node ./tools/scripts/seed/seed-demo-user certified-user');\n+  });\n+  test('should save and reload user code', async ({ page, isMobile }) => {\n+    await focusEditor({ page, isMobile });\n+\n+    if (isMacOS) {\n+      await page.keyboard.press('Meta+A');\n+    } else {\n+      await page.keyboard.press('Control+A');\n+    }\n+\n+    await page.keyboard.press('Backspace');\n+\n+    await page.keyboard.type('save1text');\n+    await expect(page.getByText('save1text')).toBeVisible();\n+\n+    await page.getByRole('button', { name: 'Save your Code' }).click();\n+\n+    await expect(page.getByTestId('flash-message')).toContainText(\n+      /Your code was saved to the database\\. It will be here when you return\\./\n+    );\n+\n+    await page.reload();\n+\n+    await expect(page.getByText('save1text')).toBeVisible();\n+  });\n+\n+  test('should save using ctrl+s hotkey and persist through navigation', async ({\n+    page,\n+    isMobile\n+  }) => {\n+    await focusEditor({ page, isMobile });\n+\n+    if (isMacOS) {\n+      await page.keyboard.press('Meta+A');\n+    } else {\n+      await page.keyboard.press('Control+A');\n+    }\n+\n+    await page.keyboard.type('save2text');\n+    await expect(page.getByText('save2text')).toBeVisible();\n+\n+    await page.keyboard.down('Control');\n+    await page.keyboard.press('KeyS');\n+\n+    await expect(page.getByTestId('flash-message')).toContainText(\n+      /Your code was saved to the database\\. It will be here when you return\\./\n+    );\n+\n+    await page.getByRole('button', { name: 'Close' }).click();\n+\n+    await expect(page.getByText('save2text')).toBeVisible();\n+\n+    await page.reload();\n+\n+    await expect(page.getByText('save2text')).toBeVisible();\n+\n+    await focusEditor({ page, isMobile });\n+\n+    await page.keyboard.down('Control');\n+    await page.keyboard.press('KeyS');\n+\n+    await expect(page.getByTestId('flash-message')).toContainText(\n+      /Slow Down! Your code was not saved\\. Try again in a few seconds\\./\n+    );\n+  });\n+});"
        }
    ],
    "stats": {
        "total": 141,
        "additions": 77,
        "deletions": 64
    }
}