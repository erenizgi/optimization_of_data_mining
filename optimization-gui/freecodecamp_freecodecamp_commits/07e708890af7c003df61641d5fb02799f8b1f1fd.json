{
    "author": "huyenltnguyen",
    "message": "fix(client): show donation modal on module completion (#57583)\n\nCo-authored-by: ahmad abdolsaheb <ahmad.abdolsaheb@gmail.com>\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>\nCo-authored-by: Tom <20648924+moT01@users.noreply.github.com>",
    "sha": "07e708890af7c003df61641d5fb02799f8b1f1fd",
    "files": [
        {
            "sha": "8c6e587d8029cfcfcc12a9857e34aebb9eebc0c0",
            "filename": "client/gatsby-node.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fgatsby-node.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fgatsby-node.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fgatsby-node.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -112,6 +112,8 @@ exports.createPages = async function createPages({\n               superOrder\n               template\n               usesMultifileEditor\n+              chapter\n+              module\n             }\n           }\n         }"
        },
        {
            "sha": "02d4b86731edf4112fdd94827fe2c2ca694c7418",
            "filename": "client/src/components/Donation/donation-modal-body.tsx",
            "status": "modified",
            "additions": 21,
            "deletions": 18,
            "changes": 39,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -3,20 +3,19 @@ import { useTranslation } from 'react-i18next';\n import { useFeature } from '@growthbook/growthbook-react';\n import { Col, Row, Modal, Spacer } from '@freecodecamp/ui';\n import { closeDonationModal } from '../../redux/actions';\n-import { PaymentContext } from '../../../../shared/config/donation-settings'; //\n+import { PaymentContext } from '../../../../shared/config/donation-settings';\n import donationAnimation from '../../assets/images/donation-bear-animation.svg';\n import donationAnimationB from '../../assets/images/new-bear-animation.svg';\n import supporterBear from '../../assets/images/supporter-bear.svg';\n import callGA from '../../analytics/call-ga';\n import MultiTierDonationForm from './multi-tier-donation-form';\n import { ModalBenefitList } from './donation-text-components';\n-\n-type RecentlyClaimedBlock = null | { block: string; superBlock: string };\n+import { DonatableSectionRecentlyCompleted } from './types';\n \n type DonationModalBodyProps = {\n   activeDonors?: number;\n   closeDonationModal: typeof closeDonationModal;\n-  recentlyClaimedBlock: RecentlyClaimedBlock;\n+  donatableSectionRecentlyCompleted: DonatableSectionRecentlyCompleted;\n   setCanClose: (canClose: boolean) => void;\n };\n \n@@ -32,37 +31,39 @@ const Illustration = () => {\n };\n \n function ModalHeader({\n-  recentlyClaimedBlock,\n   showHeaderAndFooter,\n   donationAttempted,\n-  showForm\n+  showForm,\n+  donatableSectionRecentlyCompleted\n }: {\n-  recentlyClaimedBlock: RecentlyClaimedBlock;\n+  donatableSectionRecentlyCompleted: DonatableSectionRecentlyCompleted;\n   showHeaderAndFooter: boolean;\n   donationAttempted: boolean;\n   showForm: boolean;\n }) {\n   const { t } = useTranslation();\n+  const { section, superBlock, title } =\n+    donatableSectionRecentlyCompleted || {};\n \n   if (!showHeaderAndFooter || donationAttempted) {\n     return null;\n   } else if (!showForm) {\n     return (\n       <Row className='text-center'>\n         <Col sm={10} smOffset={1} xs={12}>\n-          {recentlyClaimedBlock !== null && (\n+          {donatableSectionRecentlyCompleted && (\n             <>\n               <b>\n                 {t('donate.nicely-done', {\n-                  block: t(\n-                    `intro:${recentlyClaimedBlock.superBlock}.blocks.${recentlyClaimedBlock.block}.title`\n-                  )\n+                  block:\n+                    section === 'module'\n+                      ? t(`intro:${superBlock}.${section}s.${title}`)\n+                      : t(`intro:${superBlock}.${section}s.${title}.title`)\n                 })}\n               </b>\n               <Spacer size='xs' />\n             </>\n           )}\n-\n           <Modal.Header showCloseButton={false} borderless>\n             {t('donate.modal-benefits-title')}\n           </Modal.Header>\n@@ -188,16 +189,16 @@ const AnimationContainer = ({\n };\n \n const BecomeASupporterConfirmation = ({\n-  recentlyClaimedBlock,\n   showHeaderAndFooter,\n   closeDonationModal,\n   donationAttempted,\n   showForm,\n   setShowHeaderAndFooter,\n   handleProcessing,\n-  setShowForm\n+  setShowForm,\n+  donatableSectionRecentlyCompleted\n }: {\n-  recentlyClaimedBlock: RecentlyClaimedBlock;\n+  donatableSectionRecentlyCompleted: DonatableSectionRecentlyCompleted;\n   showHeaderAndFooter: boolean;\n   closeDonationModal: () => void;\n   donationAttempted: boolean;\n@@ -212,7 +213,7 @@ const BecomeASupporterConfirmation = ({\n         <Illustration />\n       </div>\n       <ModalHeader\n-        recentlyClaimedBlock={recentlyClaimedBlock}\n+        donatableSectionRecentlyCompleted={donatableSectionRecentlyCompleted}\n         showHeaderAndFooter={showHeaderAndFooter}\n         donationAttempted={donationAttempted}\n         showForm={showForm}\n@@ -240,7 +241,7 @@ const BecomeASupporterConfirmation = ({\n \n function DonationModalBody({\n   closeDonationModal,\n-  recentlyClaimedBlock,\n+  donatableSectionRecentlyCompleted,\n   setCanClose\n }: DonationModalBodyProps): JSX.Element {\n   const [donationAttempted, setDonationAttempted] = useState(false);\n@@ -273,7 +274,9 @@ function DonationModalBody({\n           <AnimationContainer secondsRemaining={secondsRemaining} />\n         ) : (\n           <BecomeASupporterConfirmation\n-            recentlyClaimedBlock={recentlyClaimedBlock}\n+            donatableSectionRecentlyCompleted={\n+              donatableSectionRecentlyCompleted\n+            }\n             showHeaderAndFooter={showHeaderAndFooter}\n             closeDonationModal={closeDonationModal}\n             donationAttempted={donationAttempted}"
        },
        {
            "sha": "66eddf8dd9509d4ffbb0d62e1865bfcebeb48d65",
            "filename": "client/src/components/Donation/donation-modal.tsx",
            "status": "modified",
            "additions": 14,
            "deletions": 11,
            "changes": 25,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -10,21 +10,24 @@ import { useFeature } from '@growthbook/growthbook-react';\n import { closeDonationModal } from '../../redux/actions';\n import {\n   isDonationModalOpenSelector,\n-  recentlyClaimedBlockSelector\n+  donatableSectionRecentlyCompletedSelector\n } from '../../redux/selectors';\n+\n import { isLocationSuperBlock } from '../../utils/path-parsers';\n import { playTone } from '../../utils/tone';\n import callGA from '../../analytics/call-ga';\n+import { DonatableSectionRecentlyCompleted } from './types';\n import DonationModalBody from './donation-modal-body';\n \n-type RecentlyClaimedBlock = null | { block: string; superBlock: string };\n-\n const mapStateToProps = createSelector(\n   isDonationModalOpenSelector,\n-  recentlyClaimedBlockSelector,\n-  (show: boolean, recentlyClaimedBlock: RecentlyClaimedBlock) => ({\n+  donatableSectionRecentlyCompletedSelector,\n+  (\n+    show: boolean,\n+    donatableSectionRecentlyCompleted: DonatableSectionRecentlyCompleted\n+  ) => ({\n     show,\n-    recentlyClaimedBlock\n+    donatableSectionRecentlyCompleted\n   })\n );\n \n@@ -35,15 +38,15 @@ type DonateModalProps = {\n   activeDonors?: number;\n   closeDonationModal: typeof closeDonationModal;\n   location?: WindowLocation;\n-  recentlyClaimedBlock: RecentlyClaimedBlock;\n+  donatableSectionRecentlyCompleted: DonatableSectionRecentlyCompleted;\n   show: boolean;\n };\n \n function DonateModal({\n   show,\n   closeDonationModal,\n   location,\n-  recentlyClaimedBlock\n+  donatableSectionRecentlyCompleted\n }: DonateModalProps): JSX.Element {\n   const [canClose, setCanClose] = useState(false);\n   const isA11yFeatureEnabled = useFeature('a11y-donation-modal').on;\n@@ -55,11 +58,11 @@ function DonateModal({\n       callGA({\n         event: 'donation_view',\n         action: `Displayed ${\n-          recentlyClaimedBlock !== null ? 'Block' : 'Progress'\n+          donatableSectionRecentlyCompleted !== null ? 'Block' : 'Progress'\n         } Donation Modal`\n       });\n     }\n-  }, [show, recentlyClaimedBlock]);\n+  }, [show, donatableSectionRecentlyCompleted]);\n \n   const handleModalHide = () => {\n     // If modal is open on a SuperBlock page\n@@ -76,7 +79,7 @@ function DonateModal({\n     <Modal size='large' onClose={handleModalHide} open={show}>\n       <DonationModalBody\n         closeDonationModal={closeDonationModal}\n-        recentlyClaimedBlock={recentlyClaimedBlock}\n+        donatableSectionRecentlyCompleted={donatableSectionRecentlyCompleted}\n         setCanClose={setCanClose}\n       />\n     </Modal>"
        },
        {
            "sha": "105032ef7519511f0481d0a8bd7f3aa738b73171",
            "filename": "client/src/components/Donation/types.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Ftypes.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FDonation%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FDonation%2Ftypes.ts?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -1,4 +1,5 @@\n import type { PaymentIntentResult } from '@stripe/stripe-js';\n+import { SuperBlocks } from '../../../../shared/config/curriculum';\n \n export type PaymentContext = 'modal' | 'donate page' | 'certificate';\n export type PaymentProvider = 'patreon' | 'paypal' | 'stripe' | 'stripe card';\n@@ -28,3 +29,9 @@ export interface DonationApprovalData {\n     paypal: boolean;\n   };\n }\n+\n+export type DonatableSectionRecentlyCompleted = null | {\n+  section: string;\n+  title: string;\n+  superBlock: SuperBlocks;\n+};"
        },
        {
            "sha": "e41ec99db66a93d411c84e925e0dc3130c04bdc1",
            "filename": "client/src/components/Map/index.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FMap%2Findex.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fcomponents%2FMap%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FMap%2Findex.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -21,7 +21,8 @@ import './map.css';\n \n import {\n   isSignedInSelector,\n-  currentCertsSelector\n+  currentCertsSelector,\n+  completedChallengesIdsSelector\n } from '../../redux/selectors';\n \n import { RibbonIcon } from '../../assets/icons/completion-ribbon';\n@@ -31,7 +32,6 @@ import {\n   certSlugTypeMap,\n   superBlockCertTypeMap\n } from '../../../../shared/config/certification-settings';\n-import { completedChallengesIdsSelector } from '../../templates/Challenges/redux/selectors';\n \n interface MapProps {\n   forLanding?: boolean;"
        },
        {
            "sha": "0eb3375922452f692ece5ee485e728cbbf1d21d1",
            "filename": "client/src/redux/action-types.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Faction-types.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Faction-types.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Faction-types.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -9,9 +9,9 @@ export const actionTypes = createTypes(\n     'toggleTheme',\n     'appMount',\n     'hardGoTo',\n-    'allowBlockDonationRequests',\n+    'allowSectionDonationRequests',\n     'setRenderStartTime',\n-    'preventBlockDonationRequests',\n+    'preventSectionDonationRequests',\n     'setIsRandomCompletionThreshold',\n     'openDonationModal',\n     'closeDonationModal',"
        },
        {
            "sha": "ebc23b054e93a54505ad4703ad26b879c341de90",
            "filename": "client/src/redux/actions.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Factions.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Factions.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Factions.ts?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -8,14 +8,14 @@ export const tryToShowDonationModal = createAction(\n   actionTypes.tryToShowDonationModal\n );\n \n-export const allowBlockDonationRequests = createAction(\n-  actionTypes.allowBlockDonationRequests\n+export const allowSectionDonationRequests = createAction(\n+  actionTypes.allowSectionDonationRequests\n );\n export const setRenderStartTime = createAction(actionTypes.setRenderStartTime);\n export const closeDonationModal = createAction(actionTypes.closeDonationModal);\n export const openDonationModal = createAction(actionTypes.openDonationModal);\n-export const preventBlockDonationRequests = createAction(\n-  actionTypes.preventBlockDonationRequests\n+export const preventSectionDonationRequests = createAction(\n+  actionTypes.preventSectionDonationRequests\n );\n export const setIsRandomCompletionThreshold = createAction(\n   actionTypes.setIsRandomCompletionThreshold"
        },
        {
            "sha": "4646e0b8cfd89d1bfbdf8e6092aee5fb4f238346",
            "filename": "client/src/redux/donation-saga.js",
            "status": "modified",
            "additions": 19,
            "deletions": 14,
            "changes": 33,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fdonation-saga.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -23,19 +23,20 @@ import {\n   getSessionChallengeData,\n   saveCurrentCount\n } from '../utils/session-storage';\n+\n import { actionTypes as appTypes } from './action-types';\n import {\n   openDonationModal,\n   postChargeComplete,\n   postChargeProcessing,\n   postChargeError,\n-  preventBlockDonationRequests,\n+  preventSectionDonationRequests,\n   updateCardError,\n   updateCardRedirecting\n } from './actions';\n import {\n   isDonatingSelector,\n-  recentlyClaimedBlockSelector,\n+  donatableSectionRecentlyCompletedSelector,\n   shouldRequestDonationSelector,\n   isSignedInSelector,\n   completedChallengesSelector\n@@ -46,27 +47,31 @@ const updateCardErrorMessage = i18next.t('donate.error-3');\n \n function* showDonateModalSaga() {\n   let shouldRequestDonation = yield select(shouldRequestDonationSelector);\n-  const recentlyClaimedBlock = yield select(recentlyClaimedBlockSelector);\n   const MODAL_SHOWN_KEY = 'modalShownTimestamp';\n   const modalShownTimestamp = sessionStorage.getItem(MODAL_SHOWN_KEY);\n-  const isModalRecentlyShown = Date.now() - modalShownTimestamp < 20000;\n-  if (\n-    shouldRequestDonation &&\n-    recentlyClaimedBlock &&\n-    chapterBasedSuperBlocks.includes(recentlyClaimedBlock.superBlock)\n-  ) {\n-    yield put(preventBlockDonationRequests());\n-  } else if (shouldRequestDonation || isModalRecentlyShown) {\n+  // If the modal has been shown in the last 20 seconds, the animation should\n+  // still be running:\n+  const isAnimationRunning = Date.now() - modalShownTimestamp < 20000;\n+  const shouldShowModal = shouldRequestDonation || isAnimationRunning;\n+  const donatableSectionRecentlyCompleted = yield select(\n+    donatableSectionRecentlyCompletedSelector\n+  );\n+\n+  if (shouldShowModal) {\n     yield delay(200);\n     yield put(openDonationModal());\n     sessionStorage.setItem(MODAL_SHOWN_KEY, Date.now());\n     yield take(appTypes.closeDonationModal);\n-    if (recentlyClaimedBlock) {\n-      yield put(preventBlockDonationRequests());\n-    } else {\n+    if (!donatableSectionRecentlyCompleted) {\n       yield call(saveCurrentCount);\n     }\n   }\n+\n+  /* users can complete donatable section but have less than 10 completed challenge\n+     to show the donation modal.*/\n+  if (donatableSectionRecentlyCompleted) {\n+    yield put(preventSectionDonationRequests());\n+  }\n }\n \n export function* postChargeSaga({"
        },
        {
            "sha": "532d05435a03b7053b5c1e0b78a0e6e6b47206c6",
            "filename": "client/src/redux/index.js",
            "status": "modified",
            "additions": 9,
            "deletions": 5,
            "changes": 14,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Findex.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Findex.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Findex.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -52,7 +52,7 @@ export const defaultDonationFormState = {\n const initialState = {\n   appUsername: '',\n   isRandomCompletionThreshold: false,\n-  recentlyClaimedBlock: null,\n+  donatableSectionRecentlyCompleted: null,\n   currentChallengeId: store.get(CURRENT_CHALLENGE_KEY),\n   examInProgress: false,\n   isProcessing: false,\n@@ -138,10 +138,14 @@ export const reducer = handleActions(\n         }\n       };\n     },\n-    [actionTypes.allowBlockDonationRequests]: (state, { payload }) => {\n+    [actionTypes.allowSectionDonationRequests]: (state, { payload }) => {\n       return {\n         ...state,\n-        recentlyClaimedBlock: payload\n+        donatableSectionRecentlyCompleted: {\n+          block: payload.block,\n+          module: payload.module,\n+          superBlock: payload.superBlock\n+        }\n       };\n     },\n     [actionTypes.setRenderStartTime]: (state, { payload }) => {\n@@ -277,9 +281,9 @@ export const reducer = handleActions(\n       ...state,\n       showDonationModal: true\n     }),\n-    [actionTypes.preventBlockDonationRequests]: state => ({\n+    [actionTypes.preventSectionDonationRequests]: state => ({\n       ...state,\n-      recentlyClaimedBlock: null\n+      donatableSectionRecentlyCompleted: null\n     }),\n     [actionTypes.setIsRandomCompletionThreshold]: (state, { payload }) => ({\n       ...state,"
        },
        {
            "sha": "1dc7e68f0f74a0e6ea5f876060acade4b19a4a65",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -391,6 +391,7 @@ export type ChallengeMeta = {\n   superBlock: SuperBlocks;\n   title?: string;\n   challengeType?: number;\n+  blockType?: BlockTypes;\n   helpCategory: string;\n   disableLoopProtectTests: boolean;\n   disableLoopProtectPreview: boolean;"
        },
        {
            "sha": "891df536410954a04b70a95b9bb84c8bc4a05126",
            "filename": "client/src/redux/selectors.js",
            "status": "modified",
            "additions": 90,
            "deletions": 5,
            "changes": 95,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fselectors.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Fredux%2Fselectors.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fselectors.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -1,4 +1,7 @@\n+import { createSelector } from 'reselect';\n+\n import { Certification } from '../../../shared/config/certification-settings';\n+import superBlockStructure from '../../../curriculum/superblock-structure/full-stack.json';\n import { randomBetween } from '../utils/random-between';\n import { getSessionChallengeData } from '../utils/session-storage';\n import { ns as MainApp } from './action-types';\n@@ -22,8 +25,20 @@ export const isDonationModalOpenSelector = state =>\n   state[MainApp].showDonationModal;\n export const isSignoutModalOpenSelector = state =>\n   state[MainApp].showSignoutModal;\n-export const recentlyClaimedBlockSelector = state =>\n-  state[MainApp].recentlyClaimedBlock;\n+export const donatableSectionRecentlyCompletedSelector = state => {\n+  const donatableSectionRecentlyCompletedState =\n+    state[MainApp].donatableSectionRecentlyCompleted;\n+\n+  if (donatableSectionRecentlyCompletedState) {\n+    const { block, module, superBlock } =\n+      donatableSectionRecentlyCompletedState;\n+    if (module) return { section: 'module', title: module, superBlock };\n+    else if (block) return { section: 'block', title: block, superBlock };\n+  }\n+\n+  return null;\n+};\n+\n export const donationFormStateSelector = state =>\n   state[MainApp].donationFormState;\n export const updateCardStateSelector = state => state[MainApp].updateCardState;\n@@ -35,7 +50,8 @@ export const showCertFetchStateSelector = state =>\n export const shouldRequestDonationSelector = state => {\n   const completedChallengeCount = completedChallengesSelector(state).length;\n   const isDonating = isDonatingSelector(state);\n-  const recentlyClaimedBlock = recentlyClaimedBlockSelector(state);\n+  const donatableSectionRecentlyCompleted =\n+    donatableSectionRecentlyCompletedSelector(state);\n   const isRandomCompletionThreshold =\n     isRandomCompletionThresholdSelector(state);\n \n@@ -46,8 +62,8 @@ export const shouldRequestDonationSelector = state => {\n   // not before the 11th challenge has mounted)\n   if (completedChallengeCount < 10) return false;\n \n-  // a block has been completed\n-  if (recentlyClaimedBlock) return true;\n+  // a block or module has been completed\n+  if (donatableSectionRecentlyCompleted) return true;\n \n   const sessionChallengeData = getSessionChallengeData();\n   /*\n@@ -256,6 +272,75 @@ export const certificatesByNameSelector = username => state => {\n export const userFetchStateSelector = state => state[MainApp].userFetchState;\n export const allChallengesInfoSelector = state =>\n   state[MainApp].allChallengesInfo;\n+\n+export const completedChallengesIdsSelector = createSelector(\n+  completedChallengesSelector,\n+  completedChallenges => completedChallenges.map(node => node.id)\n+);\n+\n+export const completionStateSelector = createSelector(\n+  [allChallengesInfoSelector, completedChallengesIdsSelector],\n+  (allChallengesInfo, completedChallengesIds) => {\n+    const chapters = superBlockStructure.chapters;\n+    const { challengeNodes } = allChallengesInfo;\n+\n+    const getCompletionState = ({\n+      chapters,\n+      challenges,\n+      completedChallengesIds\n+    }) => {\n+      const populateBlocks = blocks =>\n+        blocks.map(block => {\n+          const blockChallenges = challenges.filter(\n+            ({ block: blockName }) => blockName === block.dashedName\n+          );\n+\n+          const completedBlockChallenges = blockChallenges.every(({ id }) =>\n+            completedChallengesIds.includes(id)\n+          );\n+\n+          return {\n+            name: block.dashedName,\n+            isCompleted:\n+              completedBlockChallenges.length === blockChallenges.length\n+          };\n+        });\n+\n+      const populateModules = modules =>\n+        modules.map(module => {\n+          const blocks = populateBlocks(module.blocks);\n+          const isCompleted = blocks.every(block => block.isCompleted === true);\n+\n+          return {\n+            name: module.dashedName,\n+            blocks,\n+            isCompleted\n+          };\n+        });\n+\n+      const allChapters = chapters.map(chapter => {\n+        const modules = populateModules(chapter.modules);\n+        const isCompleted = modules.every(\n+          module => module.isCompleted === true\n+        );\n+\n+        return {\n+          name: chapter.dashedName,\n+          modules: populateModules(chapter.modules),\n+          isCompleted\n+        };\n+      });\n+\n+      return allChapters;\n+    };\n+\n+    return getCompletionState({\n+      chapters,\n+      challenges: challengeNodes.map(({ challenge }) => challenge),\n+      completedChallengesIds\n+    });\n+  }\n+);\n export const userProfileFetchStateSelector = state =>\n   state[MainApp].userProfileFetchState;\n export const usernameSelector = state => state[MainApp].appUsername;"
        },
        {
            "sha": "765190a613e58e0910d4129a3c821531b1cea24c",
            "filename": "client/src/templates/Challenges/components/completion-modal.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fcompletion-modal.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fcompletion-modal.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fcompletion-modal.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -7,11 +7,13 @@ import { createSelector } from 'reselect';\n import { Button, Modal, Spacer } from '@freecodecamp/ui';\n \n import Login from '../../../components/Header/components/login';\n-import { isSignedInSelector } from '../../../redux/selectors';\n+import {\n+  isSignedInSelector,\n+  completedChallengesIdsSelector\n+} from '../../../redux/selectors';\n import { ChallengeFiles } from '../../../redux/prop-types';\n import { closeModal, submitChallenge } from '../redux/actions';\n import {\n-  completedChallengesIdsSelector,\n   isCompletionModalOpenSelector,\n   successMessageSelector,\n   challengeFilesSelector,"
        },
        {
            "sha": "f8058e9db0fe5f698001ef8d55dcc508b8395cef",
            "filename": "client/src/templates/Challenges/generic/show.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -118,6 +118,7 @@ const ShowGeneric = ({\n       title,\n       challengeType,\n       helpCategory,\n+      blockType,\n       ...challengePaths\n     });\n     challengeMounted(challengeMeta.id);"
        },
        {
            "sha": "0721d1e8c53a939745849c7a94002b596eeb08f6",
            "filename": "client/src/templates/Challenges/redux/completion-epic.js",
            "status": "modified",
            "additions": 25,
            "deletions": 10,
            "changes": 35,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -21,7 +21,7 @@ import {\n } from '../../../../../shared/config/challenge-types';\n import { actionTypes as submitActionTypes } from '../../../redux/action-types';\n import {\n-  allowBlockDonationRequests,\n+  allowSectionDonationRequests,\n   setIsProcessing,\n   setRenderStartTime,\n   submitComplete,\n@@ -32,6 +32,7 @@ import { isSignedInSelector, userSelector } from '../../../redux/selectors';\n import { mapFilesToChallengeFiles } from '../../../utils/ajax';\n import { standardizeRequestBody } from '../../../utils/challenge-request-helpers';\n import postUpdate$ from '../utils/post-update';\n+import { SuperBlocks } from '../../../../../shared/config/curriculum';\n import { actionTypes } from './action-types';\n import {\n   closeModal,\n@@ -46,7 +47,8 @@ import {\n   challengeTestsSelector,\n   userCompletedExamSelector,\n   projectFormValuesSelector,\n-  isBlockNewlyCompletedSelector\n+  isBlockNewlyCompletedSelector,\n+  isModuleNewlyCompletedSelector\n } from './selectors';\n \n function postChallenge(update) {\n@@ -230,7 +232,9 @@ export default function completionEpic(action$, state$) {\n         nextChallengePath,\n         challengeType,\n         superBlock,\n+        blockType,\n         block,\n+        module,\n         blockHashSlug\n       } = challengeMetaSelector(state);\n       // Default to submitChallengeComplete since we do not want the user to\n@@ -254,19 +258,30 @@ export default function completionEpic(action$, state$) {\n         ? blockHashSlug\n         : nextChallengePath;\n \n-      const canAllowDonationRequest = (state, action) =>\n-        isBlockNewlyCompletedSelector(state) &&\n-        action.type === submitActionTypes.submitComplete;\n+      const canAllowDonationRequest = (state, action) => {\n+        if (action.type !== submitActionTypes.submitComplete) return null;\n+\n+        const donationData =\n+          superBlock === SuperBlocks.FullStackDeveloper &&\n+          blockType !== 'review' &&\n+          isModuleNewlyCompletedSelector(state)\n+            ? { module, superBlock }\n+            : superBlock !== SuperBlocks.FullStackDeveloper &&\n+                isBlockNewlyCompletedSelector(state)\n+              ? { block, superBlock }\n+              : null;\n+\n+        return donationData ? allowSectionDonationRequests(donationData) : null;\n+      };\n \n       return submitter(type, state).pipe(\n         concat(\n           of(setIsAdvancing(!isLastChallengeInBlock), setIsProcessing(false))\n         ),\n-        mergeMap(x =>\n-          canAllowDonationRequest(state, x)\n-            ? of(x, allowBlockDonationRequests({ superBlock, block }))\n-            : of(x)\n-        ),\n+        mergeMap(x => {\n+          const donationAction = canAllowDonationRequest(state, x);\n+          return donationAction ? of(x, donationAction) : of(x);\n+        }),\n         mergeMap(x => of(x, setRenderStartTime(Date.now()))),\n         tap(res => {\n           if (res.type !== submitActionTypes.updateFailed) {"
        },
        {
            "sha": "7a716ac10f8c9d12f86b6f7cd8a054e45a652660",
            "filename": "client/src/templates/Challenges/redux/index.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -22,6 +22,7 @@ const initialState = {\n     superBlock: '',\n     block: '',\n     blockHashSlug: '/',\n+    blockType: '',\n     id: '',\n     isLastChallengeInBlock: false,\n     nextChallengePath: '/',"
        },
        {
            "sha": "517dd5a4d178532609c72527e8cee5a6f6f253f0",
            "filename": "client/src/templates/Challenges/redux/selectors.js",
            "status": "modified",
            "additions": 24,
            "deletions": 5,
            "changes": 29,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fselectors.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -3,7 +3,9 @@ import { challengeTypes } from '../../../../../shared/config/challenge-types';\n import {\n   completedChallengesSelector,\n   allChallengesInfoSelector,\n-  isSignedInSelector\n+  isSignedInSelector,\n+  completionStateSelector,\n+  completedChallengesIdsSelector\n } from '../../../redux/selectors';\n import {\n   getCurrentBlockIds,\n@@ -17,10 +19,6 @@ export const challengeMetaSelector = state => state[ns].challengeMeta;\n export const challengeHooksSelector = state => state[ns].challengeHooks;\n export const challengeTestsSelector = state => state[ns].challengeTests;\n export const consoleOutputSelector = state => state[ns].consoleOut;\n-export const completedChallengesIdsSelector = createSelector(\n-  completedChallengesSelector,\n-  completedChallenges => completedChallenges.map(node => node.id)\n-);\n export const isChallengeCompletedSelector = createSelector(\n   [completedChallengesIdsSelector, challengeMetaSelector],\n   (ids, meta) => ids.includes(meta.id)\n@@ -152,6 +150,27 @@ export const isBlockNewlyCompletedSelector = state => {\n   return completedPercentage === 100 && !completedChallengesIds.includes(id);\n };\n \n+export const isModuleNewlyCompletedSelector = state => {\n+  const isBlockNewlyCompleted = isBlockNewlyCompletedSelector(state);\n+  const { chapter, module, block } = challengeMetaSelector(state);\n+\n+  if (!isBlockNewlyCompleted || !chapter || !module) return;\n+\n+  const completionState = completionStateSelector(state);\n+\n+  const incompleteBlocksInModule = completionState\n+    .find(({ name }) => name === chapter)\n+    ?.modules.find(({ name }) => name === module)\n+    ?.blocks.filter(({ isCompleted }) => !isCompleted);\n+\n+  // The module is completed if the newly completed block\n+  // is the last block that has `isCompleted === false`.\n+  return (\n+    incompleteBlocksInModule?.length === 1 &&\n+    incompleteBlocksInModule.some(({ name }) => name === block)\n+  );\n+};\n+\n export const attemptsSelector = state => state[ns].attempts;\n export const canFocusEditorSelector = state => state[ns].canFocusEditor;\n export const visibleEditorsSelector = state => state[ns].visibleEditors;"
        },
        {
            "sha": "2f01d8ce749de5a56b877e918bb4895e04dd67b1",
            "filename": "client/src/templates/Introduction/components/super-block-accordion.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -47,7 +47,7 @@ interface Challenge {\n   superBlock: SuperBlocks;\n }\n \n-interface SuperBlockTreeViewProps {\n+interface SuperBlockAccordionPropsViewProps {\n   challenges: Challenge[];\n   superBlock: SuperBlocks;\n   chosenBlock: string;\n@@ -222,7 +222,7 @@ export const SuperBlockAccordion = ({\n   superBlock,\n   chosenBlock,\n   completedChallengeIds\n-}: SuperBlockTreeViewProps) => {\n+}: SuperBlockAccordionPropsViewProps) => {\n   const { t } = useTranslation();\n   const { allChapters } = useMemo(() => {\n     const populateBlocks = (blocks: { dashedName: string }[]) =>"
        },
        {
            "sha": "8c795da96c72faeb76bbccce60fb2e29bb85aeed",
            "filename": "client/utils/gatsby/challenge-page-creator.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -86,6 +86,8 @@ exports.createChallengePages = function (\n       disableLoopProtectPreview,\n       certification,\n       superBlock,\n+      chapter,\n+      module,\n       block,\n       fields: { slug, blockHashSlug },\n       required = [],\n@@ -108,6 +110,8 @@ exports.createChallengePages = function (\n           disableLoopProtectTests,\n           disableLoopProtectPreview,\n           superBlock,\n+          chapter,\n+          module,\n           block,\n           isFirstStep: getIsFirstStepInBlock(index, allChallengeEdges),\n           template,"
        },
        {
            "sha": "0374abb300279c2ba6a6f4540f513849ef0c822f",
            "filename": "e2e/donation-modal.spec.ts",
            "status": "modified",
            "additions": 84,
            "deletions": 0,
            "changes": 84,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/e2e%2Fdonation-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/e2e%2Fdonation-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fdonation-modal.spec.ts?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -313,6 +313,90 @@ test.describe('Donation modal appearance logic - Certified user claiming a new b\n     await completeFrontEndCert(page, 1);\n     await expect(donationModal).toBeHidden();\n   });\n+\n+  test(\"should not appear if the user has completed a new FSD block, but the block's module is not completed\", async ({\n+    page\n+  }) => {\n+    await page.goto(\n+      '/learn/full-stack-developer/review-basic-html/basic-html-review'\n+    );\n+\n+    await page.getByRole('checkbox', { name: /Review/ }).click();\n+    await page.getByRole('button', { name: 'Submit', exact: true }).click();\n+    await page.getByRole('button', { name: /Submit and go/ }).click();\n+\n+    const donationModal = page\n+      .getByRole('dialog')\n+      .filter({ hasText: 'Become a Supporter' });\n+    await expect(donationModal).toBeHidden();\n+  });\n+\n+  test('should not appear if FSD review module is completed', async ({\n+    page\n+  }) => {\n+    await page.goto('/learn/full-stack-developer/review-html/review-html');\n+    await page.getByRole('checkbox', { name: /Review/ }).click();\n+    await page.getByRole('button', { name: 'Submit', exact: true }).click();\n+    await page.getByRole('button', { name: /Submit and go/ }).click();\n+    await page.waitForTimeout(1000);\n+    const donationModal = page\n+      .getByRole('dialog')\n+      .filter({ hasText: 'Become a Supporter' });\n+    await expect(donationModal).toBeHidden();\n+  });\n+});\n+\n+test.describe('Donation modal appearance logic - Certified user claiming a new module', () => {\n+  test.use({ storageState: 'playwright/.auth/certified-user.json' });\n+  execSync('node ./tools/scripts/seed/seed-demo-user --almost-certified-user');\n+\n+  test('should appear if the user has just completed a new module', async ({\n+    page\n+  }) => {\n+    test.setTimeout(40000);\n+\n+    // Go to the last lecture of the Welcome to freeCodeCamp block.\n+    // This lecture is not added to the seed data, so it is not completed.\n+    // By completing this lecture, we claim both the block and its module.\n+    await page.goto(\n+      '/learn/full-stack-developer/lecture-welcome-to-freecodecamp/how-can-you-build-effective-learning-habits-and-work-smarter'\n+    );\n+\n+    // Wait for the page content to render\n+    // TODO: Change the selector to `getByRole('radiogroup')` when we have migrated the MCQ component to fcc/ui\n+    await expect(page.locator(\"div[class='video-quiz-options']\")).toHaveCount(\n+      3\n+    );\n+\n+    const radioGroups = await page\n+      .locator(\"div[class='video-quiz-options']\")\n+      .all();\n+\n+    await radioGroups[0].getByRole('radio').nth(2).click({ force: true });\n+    await radioGroups[1].getByRole('radio').nth(2).click({ force: true });\n+    await radioGroups[2].getByRole('radio').nth(3).click({ force: true });\n+\n+    await page.getByRole('button', { name: /Check your answer/ }).click();\n+    await page.getByRole('button', { name: /Submit and go/ }).click();\n+\n+    const donationModal = page\n+      .getByRole('dialog')\n+      .filter({ hasText: 'Become a Supporter' });\n+    await expect(donationModal).toBeVisible();\n+    await expect(\n+      donationModal.getByText(\n+        'This is a 20 second animated advertisement to encourage campers to become supporters of freeCodeCamp. The animation starts with a teddy bear who becomes a supporter. As a result, distracting pop-ups disappear and the bear gets to complete all of its goals. Then, it graduates and becomes an education super hero helping people around the world.'\n+      )\n+    ).toBeVisible();\n+\n+    // Second part of the modal.\n+    // Use `slowExpect` as we need to wait 20s for this part to show up.\n+    await slowExpect(\n+      donationModal.getByText(\n+        'Nicely done. You just completed Getting Started with freeCodeCamp.'\n+      )\n+    ).toBeVisible();\n+  });\n });\n \n test.describe('Donation modal appearance logic - Certified user', () => {"
        },
        {
            "sha": "909ba7fe54679da26d9565c5a71b61068f4bf284",
            "filename": "tools/scripts/seed/user-data.js",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/07e708890af7c003df61641d5fb02799f8b1f1fd/tools%2Fscripts%2Fseed%2Fuser-data.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/07e708890af7c003df61641d5fb02799f8b1f1fd/tools%2Fscripts%2Fseed%2Fuser-data.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fscripts%2Fseed%2Fuser-data.js?ref=07e708890af7c003df61641d5fb02799f8b1f1fd",
            "patch": "@@ -12251,6 +12251,18 @@ module.exports.fullyCertifiedUser = {\n       id: '671144cdcc01d73f7dd79dc9',\n       challengeType: 0,\n       files: []\n+    },\n+    {\n+      completedDate: 1729240849345,\n+      id: '6734ddabad59e593a49afafe'\n+    },\n+    {\n+      completedDate: 1729240849345,\n+      id: '6734e2c5780912abd874e79c'\n+    },\n+    {\n+      completedDate: 1729240849345,\n+      id: '6763500bd5a85d5898cc21a9'\n     }\n   ],\n   completedExams: ["
        }
    ],
    "stats": {
        "total": 408,
        "additions": 328,
        "deletions": 80
    }
}