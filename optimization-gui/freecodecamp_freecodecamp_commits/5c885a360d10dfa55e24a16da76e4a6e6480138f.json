{
    "author": "ndaruvala",
    "message": "feat: collapse example code blocks in challenge descriptions (#54561)\n\nCo-authored-by: Suyeon Cha <suyeonc.cha@gmail.com>\r\nCo-authored-by: Joyce Hong <joyce.hong8@gmail.com>\r\nCo-authored-by: sembauke <semboot699@gmail.com>",
    "sha": "5c885a360d10dfa55e24a16da76e4a6e6480138f",
    "files": [
        {
            "sha": "8bb560f60b25c5e95b741b79785a27f877179168",
            "filename": "client/src/templates/Challenges/classic/editor.css",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.css?ref=5c885a360d10dfa55e24a16da76e4a6e6480138f",
            "patch": "@@ -199,6 +199,16 @@ textarea.inputarea {\n   margin-bottom: 18px;\n }\n \n+.code-details {\n+  font-weight: 700;\n+  margin-bottom: 0.6rem;\n+}\n+\n+.code-details-summary {\n+  display: list-item;\n+  cursor: pointer;\n+}\n+\n /* overwriting default arrow styles for accessibility */\n :root {\n   --monaco-scrollbar-arrow-box-size: 0;"
        },
        {
            "sha": "4f26d5fe002effabdbeeac16010767c0410302d3",
            "filename": "client/src/templates/Challenges/classic/editor.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx?ref=5c885a360d10dfa55e24a16da76e4a6e6480138f",
            "patch": "@@ -60,6 +60,7 @@ import {\n import GreenPass from '../../../assets/icons/green-pass';\n import {\n   enhancePrismAccessibility,\n+  makePrismCollapsible,\n   setScrollbarArrowStyles\n } from '../utils/index';\n import { initializeMathJax } from '../../../utils/math-jax';\n@@ -807,6 +808,7 @@ const Editor = (props: EditorProps): JSX.Element => {\n     descContainer.appendChild(desc);\n     desc.innerHTML = description;\n     Prism.hooks.add('complete', enhancePrismAccessibility);\n+    Prism.hooks.add('complete', makePrismCollapsible);\n     Prism.highlightAllUnder(desc);\n \n     domNode.style.userSelect = 'text';"
        },
        {
            "sha": "925a28a0670b0280b2f08250c7f2dac7637c9330",
            "filename": "client/src/templates/Challenges/utils/index.ts",
            "status": "modified",
            "additions": 30,
            "deletions": 0,
            "changes": 30,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Findex.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/5c885a360d10dfa55e24a16da76e4a6e6480138f/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Findex.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Findex.ts?ref=5c885a360d10dfa55e24a16da76e4a6e6480138f",
            "patch": "@@ -75,6 +75,36 @@ export function enhancePrismAccessibility(\n   );\n }\n \n+// Make PrismJS code blocks collapsible\n+export function makePrismCollapsible(\n+  prismEnv: Prism.hooks.ElementHighlightedEnvironment\n+): void {\n+  const preElem = prismEnv?.element?.parentElement;\n+  const sectionElem = preElem?.parentElement;\n+  if (\n+    !preElem ||\n+    preElem.nodeName !== 'PRE' ||\n+    preElem.tabIndex !== 0 ||\n+    !sectionElem ||\n+    sectionElem.nodeName !== 'SECTION'\n+  ) {\n+    return;\n+  }\n+\n+  const details = document.createElement('details');\n+  details.classList.add('code-details');\n+\n+  const summary = document.createElement('summary');\n+  summary.classList.add('code-details-summary');\n+  summary.innerHTML = 'Example Code';\n+\n+  details.appendChild(summary);\n+  details.appendChild(preElem.cloneNode(true));\n+  details.open = true;\n+\n+  sectionElem.replaceChild(details, preElem);\n+}\n+\n // Adjusts scrollbar arrows based on scrollbar width\n export function setScrollbarArrowStyles(scrollbarWidth: number): void {\n   const root = document.documentElement;"
        }
    ],
    "stats": {
        "total": 42,
        "additions": 42,
        "deletions": 0
    }
}