{
    "author": "naomi-lgbt",
    "message": "feat: gracefully redirect root path in development only (#55403)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "1570fbf702e23eb595f2aa82784eb6d8cba72c33",
    "files": [
        {
            "sha": "15a4f686beab4886090d80ddea1831e800bf019c",
            "filename": "api-server/src/server/index.js",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1570fbf702e23eb595f2aa82784eb6d8cba72c33/api-server%2Fsrc%2Fserver%2Findex.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1570fbf702e23eb595f2aa82784eb6d8cba72c33/api-server%2Fsrc%2Fserver%2Findex.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api-server%2Fsrc%2Fserver%2Findex.js?ref=1570fbf702e23eb595f2aa82784eb6d8cba72c33",
            "patch": "@@ -11,6 +11,7 @@ const morgan = require('morgan');\n \n const { sentry } = require('../../config/secrets');\n const { setupPassport } = require('./component-passport');\n+const { getRedirectParams } = require('./utils/redirection.js');\n \n const log = createDebugger('fcc:server');\n const reqLogFormat = ':date[iso] :status :method :response-time ms - :url';\n@@ -82,6 +83,14 @@ app.start = _.once(function () {\n   });\n });\n \n+if (process.env.FREECODECAMP_NODE_ENV === 'development') {\n+  app.get('/', (req, res) => {\n+    log('Mounting dev root redirect...');\n+    const { origin } = getRedirectParams(req);\n+    res.redirect(origin);\n+  });\n+}\n+\n if (sentry.dsn === 'dsn_from_sentry_dashboard') {\n   log('Sentry reporting disabled unless DSN is provided.');\n } else {"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}