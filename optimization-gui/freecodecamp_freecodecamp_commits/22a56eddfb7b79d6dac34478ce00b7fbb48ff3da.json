{
    "author": "ShaunSHamilton",
    "message": "refactor(api): remove exam-env feature flag (#63909)",
    "sha": "22a56eddfb7b79d6dac34478ce00b7fbb48ff3da",
    "files": [
        {
            "sha": "423b363995117b4918b98bc3a499b62dfeeca392",
            "filename": "api/src/app.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 9,
            "changes": 15,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Fapp.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Fapp.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fapp.ts?ref=22a56eddfb7b79d6dac34478ce00b7fbb48ff3da",
            "patch": "@@ -40,7 +40,6 @@ import {\n   FCC_ENABLE_DEV_LOGIN_MODE,\n   FCC_ENABLE_SWAGGER_UI,\n   FCC_ENABLE_SHADOW_CAPTURE,\n-  FCC_ENABLE_EXAM_ENVIRONMENT,\n   FCC_ENABLE_SENTRY_ROUTES,\n   GROWTHBOOK_FASTIFY_API_HOST,\n   GROWTHBOOK_FASTIFY_CLIENT_KEY\n@@ -223,15 +222,13 @@ export const build = async (\n     }\n   });\n \n-  if (FCC_ENABLE_EXAM_ENVIRONMENT ?? fastify.gb.isOn('exam-environment')) {\n-    void fastify.register(function (fastify, _opts, done) {\n-      fastify.addHook('onRequest', fastify.authorizeExamEnvironmentToken);\n+  void fastify.register(function (fastify, _opts, done) {\n+    fastify.addHook('onRequest', fastify.authorizeExamEnvironmentToken);\n \n-      void fastify.register(examEnvironmentValidatedTokenRoutes);\n-      done();\n-    });\n-    void fastify.register(examEnvironmentOpenRoutes);\n-  }\n+    void fastify.register(examEnvironmentValidatedTokenRoutes);\n+    done();\n+  });\n+  void fastify.register(examEnvironmentOpenRoutes);\n \n   if (FCC_ENABLE_SENTRY_ROUTES ?? fastify.gb.isOn('sentry-routes')) {\n     void fastify.register(publicRoutes.sentryRoutes);"
        },
        {
            "sha": "9902b4a1fd0ed3d8ff5a874a8aacd5afe888e82d",
            "filename": "api/src/exam-environment/routes/exam-environment.test.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.test.ts?ref=22a56eddfb7b79d6dac34478ce00b7fbb48ff3da",
            "patch": "@@ -32,7 +32,6 @@ vi.mock('../../utils/env', async importOriginal => {\n   const actual = await importOriginal<typeof import('../../utils/env.js')>();\n   return {\n     ...actual,\n-    FCC_ENABLE_EXAM_ENVIRONMENT: 'true',\n     DEPLOYMENT_ENV: 'production'\n   };\n });"
        },
        {
            "sha": "98c1fd5f2fb99d67e0408f75fc8e70d3f2ab978a",
            "filename": "api/src/utils/env.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Futils%2Fenv.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/api%2Fsrc%2Futils%2Fenv.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Futils%2Fenv.ts?ref=22a56eddfb7b79d6dac34478ce00b7fbb48ff3da",
            "patch": "@@ -192,9 +192,6 @@ export const FCC_API_LOG_TRANSPORT = _FCC_API_LOG_TRANSPORT;\n export const FCC_ENABLE_SHADOW_CAPTURE = undefinedOrBool(\n   process.env.FCC_ENABLE_SHADOW_CAPTURE\n );\n-export const FCC_ENABLE_EXAM_ENVIRONMENT = undefinedOrBool(\n-  process.env.FCC_ENABLE_EXAM_ENVIRONMENT\n-);\n export const FCC_ENABLE_SENTRY_ROUTES = undefinedOrBool(\n   process.env.FCC_ENABLE_SENTRY_ROUTES\n );"
        },
        {
            "sha": "ee403e56b018c8e89a73e2912df0206266aa57cb",
            "filename": "sample.env",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/sample.env",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/22a56eddfb7b79d6dac34478ce00b7fbb48ff3da/sample.env",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/sample.env?ref=22a56eddfb7b79d6dac34478ce00b7fbb48ff3da",
            "patch": "@@ -61,7 +61,6 @@ SHOW_UPCOMING_CHANGES=false\n FCC_ENABLE_SWAGGER_UI=true\n FCC_ENABLE_DEV_LOGIN_MODE=true\n FCC_ENABLE_SHADOW_CAPTURE=false\n-FCC_ENABLE_EXAM_ENVIRONMENT=false\n FCC_ENABLE_SENTRY_ROUTES=false\n FCC_API_LOG_LEVEL=info\n FCC_API_LOG_TRANSPORT=pretty"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 6,
        "deletions": 14
    }
}