{
    "author": "gagan-bhullar-tech",
    "message": "fix(curriculum): reset lesson text (#56130)\n\nCo-authored-by: Tom <20648924+moT01@users.noreply.github.com>",
    "sha": "37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
    "files": [
        {
            "sha": "66ee8a7dac87a53b7df6562a2e34cf78c6f4acd9",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
            "patch": "@@ -52,6 +52,8 @@\n     \"create-post\": \"Create a help post on the forum\",\n     \"cancel\": \"Cancel\",\n     \"reset-lesson\": \"Reset this lesson\",\n+    \"revert\": \"Revert\",\n+    \"revert-to-saved-code\": \"Revert to Saved Code\",\n     \"run\": \"Run\",\n     \"run-test\": \"Run the Tests (Ctrl + Enter)\",\n     \"check-code\": \"Check Your Code\",\n@@ -420,6 +422,7 @@\n     \"reset\": \"Reset this lesson?\",\n     \"reset-warn\": \"Are you sure you wish to reset this lesson? The editors and tests will be reset.\",\n     \"reset-warn-2\": \"This cannot be undone.\",\n+    \"revert-warn\": \"Are you sure you wish to revert this lesson? Your latest changes will be undone and the code reverted to the most recently saved version.\",\n     \"scrimba-tip\": \"Tip: If the mini-browser is covering the code, click and drag to move it. Also, feel free to stop and edit the code in the video at any time.\",\n     \"chal-preview\": \"Challenge Preview\",\n     \"donation-record-not-found\": \"Your donation record has not been found.\","
        },
        {
            "sha": "98ddec58bcdbdd67db1a5b6b97cbb57f5ccfd128",
            "filename": "client/src/templates/Challenges/classic/show.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx?ref=37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
            "patch": "@@ -522,7 +522,7 @@ function ShowClassic({\n         <CompletionModal />\n         <HelpModal challengeTitle={title} challengeBlock={blockName} />\n         <VideoModal videoUrl={videoUrl} />\n-        <ResetModal />\n+        <ResetModal challengeType={challengeType} />\n         <ProjectPreviewModal\n           challengeData={challengeData}\n           closeText={t('buttons.start-coding')}"
        },
        {
            "sha": "7c8d451b3d469558d02bea245ddb7a5bef83f6c1",
            "filename": "client/src/templates/Challenges/components/reset-modal.tsx",
            "status": "modified",
            "additions": 16,
            "deletions": 3,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Freset-modal.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Freset-modal.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Freset-modal.tsx?ref=37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
            "patch": "@@ -8,10 +8,12 @@ import { Button, Modal } from '@freecodecamp/ui';\n import { closeModal, resetChallenge } from '../redux/actions';\n import { isResetModalOpenSelector } from '../redux/selectors';\n import callGA from '../../../analytics/call-ga';\n+import { isProjectBased } from '../../../utils/curriculum-layout';\n \n interface ResetModalProps {\n   close: () => void;\n   isOpen: boolean;\n+  challengeType: number;\n   reset: () => void;\n }\n \n@@ -35,7 +37,12 @@ function withActions(...fns: Array<() => void>) {\n   return () => fns.forEach(fn => fn());\n }\n \n-function ResetModal({ reset, close, isOpen }: ResetModalProps): JSX.Element {\n+function ResetModal({\n+  reset,\n+  close,\n+  challengeType,\n+  isOpen\n+}: ResetModalProps): JSX.Element {\n   const { t } = useTranslation();\n   if (isOpen) {\n     callGA({ event: 'pageview', pagePath: '/reset-modal' });\n@@ -46,7 +53,11 @@ function ResetModal({ reset, close, isOpen }: ResetModalProps): JSX.Element {\n         {t('learn.reset')}\n       </Modal.Header>\n       <Modal.Body alignment='center'>\n-        <p>{t('learn.reset-warn')}</p>\n+        <p>\n+          {isProjectBased(challengeType)\n+            ? t('learn.revert-warn')\n+            : t('learn.reset-warn')}\n+        </p>\n         <p>\n           <em>{t('learn.reset-warn-2')}</em>\n         </p>\n@@ -58,7 +69,9 @@ function ResetModal({ reset, close, isOpen }: ResetModalProps): JSX.Element {\n           variant='danger'\n           onClick={withActions(reset, close)}\n         >\n-          {t('buttons.reset-lesson')}\n+          {isProjectBased(challengeType)\n+            ? t('buttons.revert-to-saved-code')\n+            : t('buttons.reset-lesson')}\n         </Button>\n       </Modal.Footer>\n     </Modal>"
        },
        {
            "sha": "5d2e7964e6d9c01c2b9b00c625cbb6bc83493dca",
            "filename": "client/src/templates/Challenges/components/tool-panel.tsx",
            "status": "modified",
            "additions": 12,
            "deletions": 1,
            "changes": 13,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ftool-panel.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ftool-panel.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Ftool-panel.tsx?ref=37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
            "patch": "@@ -15,6 +15,7 @@ import { challengeMetaSelector } from '../redux/selectors';\n import { saveChallenge } from '../../../redux/actions';\n import { isSignedInSelector } from '../../../redux/selectors';\n import { Spacer } from '../../../components/helpers';\n+import { isProjectBased } from '../../../utils/curriculum-layout';\n \n const mapStateToProps = createSelector(\n   challengeMetaSelector,\n@@ -90,7 +91,17 @@ function ToolPanel({\n       <>\n         <Spacer size='xxSmall' />\n         <Button block={true} variant='primary' onClick={openResetModal}>\n-          {isMobile ? t('buttons.reset') : t('buttons.reset-lesson')}\n+          {isMobile\n+            ? t(\n+                isProjectBased(challengeType)\n+                  ? 'buttons.revert'\n+                  : 'buttons.reset'\n+              )\n+            : t(\n+                isProjectBased(challengeType)\n+                  ? 'buttons.revert-to-saved-code'\n+                  : 'buttons.reset-lesson'\n+              )}\n         </Button>\n       </>\n       <Spacer size='xxSmall' />"
        },
        {
            "sha": "ac023c6b33ddfe2ab2f6a29f4316222841fae67d",
            "filename": "e2e/challenge-reset-modal.spec.ts",
            "status": "modified",
            "additions": 22,
            "deletions": 13,
            "changes": 35,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/e2e%2Fchallenge-reset-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/37fcdc9814a655fc70db1c785baf6b56eeaa63b0/e2e%2Fchallenge-reset-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fchallenge-reset-modal.spec.ts?ref=37fcdc9814a655fc70db1c785baf6b56eeaa63b0",
            "patch": "@@ -21,16 +21,9 @@ const expectToRenderResetModal = async (page: Page) => {\n     })\n   ).toBeVisible();\n \n-  await expect(page.getByText(translations.learn['reset-warn'])).toBeVisible();\n   await expect(\n     page.getByText(translations.learn['reset-warn-2'])\n   ).toBeVisible();\n-\n-  await expect(\n-    page.getByRole('button', {\n-      name: translations.buttons['reset-lesson']\n-    })\n-  ).toBeVisible();\n };\n \n test('should render the modal content correctly', async ({ page }) => {\n@@ -41,6 +34,14 @@ test('should render the modal content correctly', async ({ page }) => {\n   await page.getByRole('button', { name: translations.buttons.reset }).click();\n \n   await expectToRenderResetModal(page);\n+\n+  await expect(\n+    page.getByRole('button', {\n+      name: translations.buttons['reset-lesson']\n+    })\n+  ).toBeVisible();\n+\n+  await expect(page.getByText(translations.learn['reset-warn'])).toBeVisible();\n });\n \n test('User can reset challenge', async ({ page, isMobile, browserName }) => {\n@@ -190,16 +191,24 @@ test('User can reset on a multi-file project', async ({\n   await getEditors(page).fill(sampleText);\n   await expect(page.getByText(sampleText)).toBeVisible();\n \n-  await page.getByRole('button', { name: translations.buttons.reset }).click();\n+  await page.getByRole('button', { name: translations.buttons.revert }).click();\n \n   await expectToRenderResetModal(page);\n \n+  await expect(\n+    page.getByRole('button', {\n+      name: translations.buttons['revert-to-saved-code']\n+    })\n+  ).toBeVisible();\n+\n   await page\n     .getByRole('button', {\n-      name: translations.buttons['reset-lesson']\n+      name: translations.buttons['revert-to-saved-code']\n     })\n     .click();\n \n+  await expect(page.getByText(translations.learn['revert-warn'])).toBeVisible();\n+\n   await expect(page.getByText(sampleText)).not.toBeVisible();\n });\n \n@@ -241,12 +250,12 @@ test.describe('Signed in user', () => {\n     await getEditors(page).fill(updatedText);\n \n     await page\n-      .getByRole('button', { name: translations.buttons.reset })\n+      .getByRole('button', { name: translations.buttons.revert })\n       .click();\n \n     await page\n       .getByRole('button', {\n-        name: translations.buttons['reset-lesson']\n+        name: translations.buttons['revert-to-saved-code']\n       })\n       .click();\n \n@@ -279,12 +288,12 @@ test.describe('Signed in user', () => {\n     await getEditors(page).fill(updatedText);\n \n     await page\n-      .getByRole('button', { name: translations.buttons.reset })\n+      .getByRole('button', { name: translations.buttons.revert })\n       .click();\n \n     await page\n       .getByRole('button', {\n-        name: translations.buttons['reset-lesson']\n+        name: translations.buttons['revert-to-saved-code']\n       })\n       .click();\n "
        }
    ],
    "stats": {
        "total": 72,
        "additions": 54,
        "deletions": 18
    }
}