{
    "author": "majestic-owl448",
    "message": "Revert c240bd4 (#55333)",
    "sha": "9ffb1d5b43ce474653ca4b40dcc268edb027e730",
    "files": [
        {
            "sha": "c148c99597b81e9b9b987785d54e6e9871e02174",
            "filename": "e2e/challenge-reset-modal.spec.ts",
            "status": "modified",
            "additions": 16,
            "deletions": 10,
            "changes": 26,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fchallenge-reset-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fchallenge-reset-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fchallenge-reset-modal.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -43,7 +43,7 @@ test('should render the modal content correctly', async ({ page }) => {\n   await expectToRenderResetModal(page);\n });\n \n-test('User can reset challenge', async ({ page, isMobile }) => {\n+test('User can reset challenge', async ({ page, isMobile, browserName }) => {\n   const initialText = 'CatPhotoApp';\n   const initialFrame = page\n     .frameLocator('iframe[title=\"challenge preview\"]')\n@@ -64,7 +64,7 @@ test('User can reset challenge', async ({ page, isMobile }) => {\n   // Modify the text in the editor pane, clearing first, otherwise the existing\n   // text will be selected before typing\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page });\n+  await clearEditor({ page, browserName });\n   await getEditors(page).fill(updatedText);\n   await expect(updatedFrame).toBeVisible({ timeout: 10000 });\n \n@@ -160,15 +160,19 @@ test('should close when the user clicks the close button', async ({ page }) => {\n   ).toBeHidden();\n });\n \n-test('User can reset on a multi-file project', async ({ page, isMobile }) => {\n+test('User can reset on a multi-file project', async ({\n+  page,\n+  isMobile,\n+  browserName\n+}) => {\n   const sampleText = 'function palindrome() { return true; }';\n \n   await page.goto(\n     '/learn/javascript-algorithms-and-data-structures-v8/build-a-palindrome-checker-project/build-a-palindrome-checker'\n   );\n \n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page });\n+  await clearEditor({ page, browserName });\n   await getEditors(page).fill(sampleText);\n   await expect(page.getByText(sampleText)).toBeVisible();\n \n@@ -198,7 +202,8 @@ test.describe('Signed in user', () => {\n \n   test('User can reset on a multi-file project after reloading and saving', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     test.setTimeout(60000);\n     const savedText = 'function palindrome() { return true; }';\n@@ -210,15 +215,15 @@ test.describe('Signed in user', () => {\n \n     // This first edit should reappear after the reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n     await getEditors(page).fill(savedText);\n     await page.keyboard.press('Control+S');\n \n     await page.reload();\n \n     // This second edit should be reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n     await getEditors(page).fill(updatedText);\n \n     await page\n@@ -237,7 +242,8 @@ test.describe('Signed in user', () => {\n \n   test('User can reset on a multi-file project without reloading', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     test.setTimeout(60000);\n     const savedText = 'function palindrome() { return true; }';\n@@ -249,13 +255,13 @@ test.describe('Signed in user', () => {\n \n     // This first edit should reappear after the reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n     await getEditors(page).fill(savedText);\n     await page.keyboard.press('Control+S');\n \n     // This second edit should be reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n     await getEditors(page).fill(updatedText);\n \n     await page"
        },
        {
            "sha": "b4b85405d43d8779d387c3b957e637e5929b4c2e",
            "filename": "e2e/donation-modal.spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 2,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fdonation-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fdonation-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fdonation-modal.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -36,9 +36,11 @@ const completeFrontEndCert = async (page: Page) => {\n \n const completeThreeChallenges = async ({\n   page,\n+  browserName,\n   isMobile\n }: {\n   page: Page;\n+  browserName: string;\n   isMobile: boolean;\n }) => {\n   await page.goto(\n@@ -64,7 +66,7 @@ const completeThreeChallenges = async ({\n     await page.waitForURL(challenge.url);\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),\n@@ -80,9 +82,11 @@ const completeThreeChallenges = async ({\n \n const completeTenChallenges = async ({\n   page,\n+  browserName,\n   isMobile\n }: {\n   page: Page;\n+  browserName: string;\n   isMobile: boolean;\n }) => {\n   await page.goto(\n@@ -136,7 +140,7 @@ const completeTenChallenges = async ({\n     await page.waitForURL(challenge.url);\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),"
        },
        {
            "sha": "5cc6674c89e8874704abe11435c06c28876fead7",
            "filename": "e2e/editor.spec.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Feditor.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Feditor.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Feditor.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -33,14 +33,15 @@ test.describe('Editor Component', () => {\n test.describe('Python Terminal', () => {\n   test('should display error message when the user enters invalid code', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     await page.goto(\n       'learn/scientific-computing-with-python/learn-string-manipulation-by-building-a-cipher/step-2'\n     );\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n     // Then enter invalid code\n     await page.keyboard.insertText('def');\n     const preview = page.getByTestId('preview-pane');"
        },
        {
            "sha": "2eff3c000f96f4f964be3dd22346b971c6bfa3c3",
            "filename": "e2e/lower-jaw.spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Flower-jaw.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Flower-jaw.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Flower-jaw.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -79,6 +79,7 @@ test('Checks hotkeys when instruction is focused', async ({\n \n test('Focuses on the submit button after tests passed', async ({\n   page,\n+  browserName,\n   isMobile\n }) => {\n   const editor = getEditors(page);\n@@ -87,7 +88,7 @@ test('Focuses on the submit button after tests passed', async ({\n     name: 'Submit and go to next challenge'\n   });\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page });\n+  await clearEditor({ page, browserName });\n \n   await editor.fill(\n     '<h2>Cat Photos</h2>\\n<p>See more cat photos in our gallery.</p>'\n@@ -99,6 +100,7 @@ test('Focuses on the submit button after tests passed', async ({\n \n test('Prompts unauthenticated user to sign in to save progress', async ({\n   page,\n+  browserName,\n   isMobile\n }) => {\n   await signout(page);\n@@ -109,7 +111,7 @@ test('Prompts unauthenticated user to sign in to save progress', async ({\n     name: 'Sign in to save your progress'\n   });\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page });\n+  await clearEditor({ page, browserName });\n \n   await editor.fill(\n     '<h2>Cat Photos</h2>\\n<p>See more cat photos in our gallery.</p>'"
        },
        {
            "sha": "3bb60e9fb0a83b561658169be663134b52e036c0",
            "filename": "e2e/navigation-from-last-challenge.spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fnavigation-from-last-challenge.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fnavigation-from-last-challenge.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fnavigation-from-last-challenge.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -61,12 +61,13 @@ test.describe('Should take you to the next superblock (with editor solution)', (\n   test('at the end of a superblock should take you to the superblock page with the current block hash', async ({\n     page,\n     isMobile,\n+    browserName,\n     context\n   }) => {\n     await context.grantPermissions(['clipboard-read', 'clipboard-write']);\n     await page.goto(rwdChallenge.url);\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.evaluate(\n       async solution => await navigator.clipboard.writeText(solution.content),"
        },
        {
            "sha": "ca475307f7f893684b9b7dc7737f25246655fe33",
            "filename": "e2e/output.spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Foutput.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Foutput.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Foutput.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -70,14 +70,15 @@ test.describe('For classic challenges', () => {\n \n   test('shows test output when the tests are run', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     const closeButton = page.getByRole('button', { name: 'Close' });\n     await expect(page).toHaveTitle(\n       'Basic HTML and HTML5: Say Hello to HTML Elements |' + ' freeCodeCamp.org'\n     );\n \n-    await clearEditor({ page });\n+    await clearEditor({ browserName, page });\n     await insertTextInCodeEditor({\n       page,\n       isMobile,\n@@ -94,10 +95,11 @@ test.describe('For classic challenges', () => {\n \n   test('shows test output when the tests are triggered by the keyboard', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     const closeButton = page.getByRole('button', { name: 'Close' });\n-    await clearEditor({ page });\n+    await clearEditor({ browserName, page });\n     await insertTextInCodeEditor({\n       page,\n       isMobile,"
        },
        {
            "sha": "f9f3caaf72cdc539abcebbc7c0f1823e8362fa77",
            "filename": "e2e/progress-bar.spec.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fprogress-bar.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fprogress-bar.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fprogress-bar.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -6,7 +6,8 @@ test.use({ storageState: 'playwright/.auth/certified-user.json' });\n test.describe('Progress bar component', () => {\n   test('Should appear with the correct content after the user has submitted their code', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     await page.goto(\n       '/learn/2022/responsive-web-design/learn-html-by-building-a-cat-photo-app/step-3'\n@@ -15,7 +16,7 @@ test.describe('Progress bar component', () => {\n     // large. There's a bug that means `scrollIntoView` does not work in the\n     // editor and so we have to pick less verbose challenges until that's fixed.\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.keyboard.insertText(\n       '<html><body><h1>CatPhotoApp</h1><h2>Cat Photos</h2><p>See more cat photos in our gallery.</p></body></html>'\n@@ -35,13 +36,14 @@ test.describe('Progress bar component', () => {\n \n   test('should appear in the completion modal after user has submitted their code', async ({\n     page,\n-    isMobile\n+    isMobile,\n+    browserName\n   }) => {\n     await page.goto(\n       '/learn/javascript-algorithms-and-data-structures/basic-javascript/declare-javascript-variables'\n     );\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.keyboard.insertText('var myName;');\n "
        },
        {
            "sha": "4f289d12d007b1f20afb1f82dda59504a4d0c887",
            "filename": "e2e/projects.spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fprojects.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Fprojects.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fprojects.spec.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -110,6 +110,7 @@ test.describe('JavaScript projects can be submitted and then viewed in /settings\n \n   test('projects are submitted and viewed correctly', async ({\n     page,\n+    browserName,\n     isMobile,\n     request,\n     context\n@@ -148,7 +149,7 @@ test.describe('JavaScript projects can be submitted and then viewed in /settings\n     );\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page });\n+    await clearEditor({ page, browserName });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),"
        },
        {
            "sha": "5572c3a6b5227b08dbcc757eaa1973b64ce77ae0",
            "filename": "e2e/utils/editor.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 2,
            "changes": 15,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Futils%2Feditor.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/9ffb1d5b43ce474653ca4b40dcc268edb027e730/e2e%2Futils%2Feditor.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Futils%2Feditor.ts?ref=9ffb1d5b43ce474653ca4b40dcc268edb027e730",
            "patch": "@@ -24,7 +24,18 @@ export const focusEditor = async ({\n   await getEditors(page).focus();\n };\n \n-export async function clearEditor({ page }: { page: Page }) {\n-  await page.keyboard.press('ControlOrMeta+a');\n+export async function clearEditor({\n+  page,\n+  browserName\n+}: {\n+  page: Page;\n+  browserName: string;\n+}) {\n+  // TODO: replace with ControlOrMeta when it's supported\n+  if (browserName === 'webkit') {\n+    await page.keyboard.press('Meta+a');\n+  } else {\n+    await page.keyboard.press('Control+a');\n+  }\n   await page.keyboard.press('Backspace');\n }"
        }
    ],
    "stats": {
        "total": 86,
        "additions": 58,
        "deletions": 28
    }
}