{
    "author": "ojeytonwilliams",
    "message": "refactor(client): stop passing around unused data (#57432)",
    "sha": "3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
    "files": [
        {
            "sha": "9526430448b77ae7de1a43df4e20c14ba0d934ef",
            "filename": "client/gatsby-node.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fgatsby-node.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fgatsby-node.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fgatsby-node.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -86,6 +86,7 @@ exports.createPages = async function createPages({\n                 blockHashSlug\n               }\n               id\n+              isLastChallengeInBlock\n               order\n               required {\n                 link"
        },
        {
            "sha": "fb200721bf66f8f247ae8f4776e058e689579222",
            "filename": "client/src/templates/Challenges/redux/completion-epic.js",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcompletion-epic.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -219,7 +219,7 @@ export default function completionEpic(action$, state$) {\n       const state = state$.value;\n \n       const {\n-        nextBlock,\n+        isLastChallengeInBlock,\n         nextChallengePath,\n         challengeType,\n         superBlock,\n@@ -243,8 +243,7 @@ export default function completionEpic(action$, state$) {\n         submitter = submitters[submitTypes[challengeType]];\n       }\n \n-      const lastChallengeInBlock = block !== nextBlock;\n-      let pathToNavigateTo = lastChallengeInBlock\n+      let pathToNavigateTo = isLastChallengeInBlock\n         ? blockHashSlug\n         : nextChallengePath;\n \n@@ -254,7 +253,7 @@ export default function completionEpic(action$, state$) {\n \n       return submitter(type, state).pipe(\n         concat(\n-          of(setIsAdvancing(!lastChallengeInBlock), setIsProcessing(false))\n+          of(setIsAdvancing(!isLastChallengeInBlock), setIsProcessing(false))\n         ),\n         mergeMap(x =>\n           canAllowDonationRequest(state, x)"
        },
        {
            "sha": "a24ffab0d3a2e6f2aae61028037c3f98664b84b8",
            "filename": "client/src/templates/Challenges/redux/index.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Findex.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -23,7 +23,7 @@ const initialState = {\n     block: '',\n     blockHashSlug: '/',\n     id: '',\n-    nextBlock: '',\n+    isLastChallengeInBlock: false,\n     nextChallengePath: '/',\n     prevChallengePath: '/',\n     challengeType: -1"
        },
        {
            "sha": "480ea5c1c29ab9e557df0ff60f3fe7e7f15b5faa",
            "filename": "client/utils/gatsby/challenge-page-creator.js",
            "status": "modified",
            "additions": 3,
            "deletions": 7,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -86,11 +86,6 @@ function getTemplateComponent(challengeType) {\n   return views[viewTypes[challengeType]];\n }\n \n-function getNextBlock(id, edges) {\n-  const next = edges[id + 1];\n-  return next ? next.node.challenge.block : null;\n-}\n-\n exports.createChallengePages = function (createPage) {\n   return function ({ node }, index, allChallengeEdges) {\n     const {\n@@ -104,7 +99,8 @@ exports.createChallengePages = function (createPage) {\n       required = [],\n       template,\n       challengeType,\n-      id\n+      id,\n+      isLastChallengeInBlock\n     } = node.challenge;\n     // TODO: challengeType === 7 and isPrivate are the same, right? If so, we\n     // should remove one of them.\n@@ -124,7 +120,7 @@ exports.createChallengePages = function (createPage) {\n           isFirstStep: getIsFirstStepInBlock(index, allChallengeEdges),\n           template,\n           required,\n-          nextBlock: getNextBlock(index, allChallengeEdges),\n+          isLastChallengeInBlock: isLastChallengeInBlock,\n           nextChallengePath: getNextChallengePath(index, allChallengeEdges),\n           prevChallengePath: getPrevChallengePath(index, allChallengeEdges),\n           id"
        },
        {
            "sha": "148a2b66d703bc9077add53be78c702b737e2612",
            "filename": "curriculum/get-challenges.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/curriculum%2Fget-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/curriculum%2Fget-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fget-challenges.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -304,6 +304,9 @@ function generateChallengeCreator(lang, englishPath, i18nPath) {\n       ({ id }) => id === challenge.id\n     );\n \n+    const isLastChallengeInBlock =\n+      meta.challengeOrder.length - 1 === challengeOrder;\n+\n     const isObjectIdFilename = /\\/[a-z0-9]{24}\\.md$/.test(englishPath);\n     if (isObjectIdFilename) {\n       const filename = englishPath.split('/').pop();\n@@ -348,6 +351,7 @@ function generateChallengeCreator(lang, englishPath, i18nPath) {\n     challenge.certification = hasDupe ? hasDupe.certification : meta.superBlock;\n     challenge.superBlock = meta.superBlock;\n     challenge.challengeOrder = challengeOrder;\n+    challenge.isLastChallengeInBlock = isLastChallengeInBlock;\n     challenge.isPrivate = challenge.isPrivate || meta.isPrivate;\n     challenge.required = (meta.required || []).concat(challenge.required || []);\n     challenge.template = meta.template;"
        },
        {
            "sha": "0e17934897e5c149a2b7848c6c7093dd551f86c3",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=3c48b8dd3f8ea7d3db957d704b9d04ed4f63a52f",
            "patch": "@@ -180,6 +180,7 @@ const schema = Joi.object()\n       'Euler',\n       'Rosetta'\n     ),\n+    isLastChallengeInBlock: Joi.boolean().required(),\n     videoUrl: Joi.string().allow(''),\n     fillInTheBlank: Joi.object().keys({\n       sentence: Joi.string().required(),"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 13,
        "deletions": 12
    }
}