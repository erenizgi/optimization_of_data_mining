{
    "author": "ojeytonwilliams",
    "message": "fix(api): always use the same logic when saving challenges (#64553)",
    "sha": "001f884e214da144da7913049db478cc7afee071",
    "files": [
        {
            "sha": "2f30bd0480aa27931289cd2f7e1ebcb81e964b35",
            "filename": "api/src/routes/protected/challenge.test.ts",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.test.ts?ref=001f884e214da144da7913049db478cc7afee071",
            "patch": "@@ -901,7 +901,13 @@ describe('challengeRoutes', () => {\n             alreadyCompleted: false,\n             points: 1,\n             completedDate,\n-            savedChallenges: []\n+            savedChallenges: [\n+              {\n+                files: jsFiles,\n+                id: JsProjectId,\n+                lastSavedDate: expect.any(Number)\n+              }\n+            ]\n           });\n           expect(response.statusCode).toBe(200);\n         });\n@@ -1089,7 +1095,13 @@ describe('challengeRoutes', () => {\n           alreadyCompleted: false,\n           points: 1,\n           completedDate,\n-          savedChallenges: []\n+          savedChallenges: [\n+            {\n+              files: jsFiles,\n+              id: JsProjectId,\n+              lastSavedDate: expect.any(Number)\n+            }\n+          ]\n         });\n         expect(response.statusCode).toBe(200);\n       });"
        },
        {
            "sha": "9d43ceba97fc6decfbe81cbc99a9996bdcddfc08",
            "filename": "api/src/routes/protected/challenge.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fprotected%2Fchallenge.ts?ref=001f884e214da144da7913049db478cc7afee071",
            "patch": "@@ -22,7 +22,7 @@ import {\n   formatCoderoadChallengeCompletedValidation,\n   formatProjectCompletedValidation\n } from '../../utils/error-formatting.js';\n-import { challenges } from '../../utils/get-challenges.js';\n+import { challenges, savableChallenges } from '../../utils/get-challenges.js';\n import { ProgressTimestamp, getPoints } from '../../utils/progress.js';\n import {\n   validateExamFromDbSchema,\n@@ -1128,10 +1128,7 @@ async function postSaveChallenge(\n     files\n   };\n \n-  if (\n-    !multifileCertProjectIds.includes(challengeId) &&\n-    !multifilePythonCertProjectIds.includes(challengeId)\n-  ) {\n+  if (!savableChallenges.has(challengeId)) {\n     logger.warn(\n       {\n         challengeId"
        },
        {
            "sha": "57b438b848075d8d6e16b10ffe15897cd7853609",
            "filename": "api/src/utils/common-challenge-functions.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Futils%2Fcommon-challenge-functions.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/001f884e214da144da7913049db478cc7afee071/api%2Fsrc%2Futils%2Fcommon-challenge-functions.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Futils%2Fcommon-challenge-functions.ts?ref=001f884e214da144da7913049db478cc7afee071",
            "patch": "@@ -194,10 +194,7 @@ export async function updateUserChallengeData(\n       ? [...progressTimestamps, newProgressTimeStamp]\n       : progressTimestamps;\n \n-  if (\n-    multifileCertProjectIds.includes(challengeId) ||\n-    multifilePythonCertProjectIds.includes(challengeId)\n-  ) {\n+  if (savableChallenges.has(challengeId)) {\n     const challengeToSave: SavedChallenge = {\n       id: challengeId,\n       lastSavedDate: newProgressTimeStamp,"
        }
    ],
    "stats": {
        "total": 28,
        "additions": 17,
        "deletions": 11
    }
}