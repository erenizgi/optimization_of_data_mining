{
    "author": "a2937",
    "message": "feat(ui): add a transcript button (#56275)\n\nCo-authored-by: Naomi the Technomancer <accounts+github@nhcarrigan.com>\nCo-authored-by: sembauke <semboot699@gmail.com>",
    "sha": "aba1776fcd952064928c4b3e91b25c43f3cd6ee1",
    "files": [
        {
            "sha": "0bc2065418de685b694f9a9a798de57d529627bb",
            "filename": "client/src/templates/Challenges/components/challenge-transcript.css",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css?ref=aba1776fcd952064928c4b3e91b25c43f3cd6ee1",
            "patch": "@@ -1,4 +1,17 @@\n .challenge-transcript-heading {\n   cursor: pointer;\n   font-weight: bold;\n+  margin-top: 1.5em;\n+}\n+\n+#learn-app-wrapper .transcript-table {\n+  display: table;\n+  width: 100%;\n+  border: 1px solid var(--gray-05);\n+  border-collapse: collapse;\n+}\n+\n+#learn-app-wrapper .transcript-table td {\n+  border: none;\n+  text-align: start;\n }"
        },
        {
            "sha": "9bc54727a84464733bbcf2b31be0598cc2bce129",
            "filename": "client/src/templates/Challenges/components/challenge-transcript.tsx",
            "status": "modified",
            "additions": 14,
            "deletions": 2,
            "changes": 16,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx?ref=aba1776fcd952064928c4b3e91b25c43f3cd6ee1",
            "patch": "@@ -2,7 +2,6 @@ import React, { useState } from 'react';\n import { useTranslation } from 'react-i18next';\n import { Spacer } from '@freecodecamp/ui';\n import store from 'store';\n-import PrismFormatted from './prism-formatted';\n \n import './challenge-transcript.css';\n \n@@ -37,7 +36,20 @@ function ChallengeTranscript({\n           {t('learn.transcript')}\n         </summary>\n         <Spacer size='m' />\n-        <PrismFormatted className={'line-numbers'} text={transcript} />\n+        <table className='transcript-table'>\n+          <tbody>\n+            {transcript\n+              .split('\\n')\n+              .filter(line => line.trim() !== '')\n+              .map((line, idx) => {\n+                return (\n+                  <tr key={idx}>\n+                    <td dangerouslySetInnerHTML={{ __html: line }} />\n+                  </tr>\n+                );\n+              })}\n+          </tbody>\n+        </table>\n       </details>\n       <Spacer size='m' />\n     </>"
        },
        {
            "sha": "04bab79d8e4b67d4fd5649b7f48532c60e8deffb",
            "filename": "client/src/templates/Challenges/components/scene/scene.tsx",
            "status": "modified",
            "additions": 22,
            "deletions": 1,
            "changes": 23,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/aba1776fcd952064928c4b3e91b25c43f3cd6ee1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fscene%2Fscene.tsx?ref=aba1776fcd952064928c4b3e91b25c43f3cd6ee1",
            "patch": "@@ -13,6 +13,7 @@ import { useTranslation } from 'react-i18next';\n import { FullScene } from '../../../../redux/prop-types';\n import { Loader } from '../../../../components/helpers';\n import ClosedCaptionsIcon from '../../../../assets/icons/closedcaptions';\n+import ChallengeTranscript from '../challenge-transcript';\n import { sounds, backgrounds, characterAssets } from './scene-assets';\n import Character from './character';\n import { SceneSubject } from './scene-subject';\n@@ -167,6 +168,25 @@ export function Scene({\n     setSceneIsReady(true);\n   };\n \n+  const buildTranscript = () => {\n+    let transcriptText = '';\n+    commands.forEach(command => {\n+      if (command.character && command.dialogue && command.startTime) {\n+        transcriptText =\n+          transcriptText +\n+          '\\n' +\n+          '<strong>' +\n+          command.character +\n+          '</strong>:' +\n+          ' ' +\n+          command.dialogue.text +\n+          '\\n';\n+      }\n+    });\n+\n+    return transcriptText;\n+  };\n+\n   const handlePlay = useCallback(() => {\n     const pausedAt = pausedAtRef.current;\n     const updateCurrentTime = () => {\n@@ -349,6 +369,7 @@ export function Scene({\n     };\n   }, []);\n \n+  const transcriptText = buildTranscript();\n   return (\n     <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n       <div\n@@ -396,7 +417,6 @@ export function Scene({\n           </>\n         )}\n       </div>\n-\n       <div className='scene-controls'>\n         <button\n           className='scene-btn scene-play-btn'\n@@ -432,6 +452,7 @@ export function Scene({\n           </button>\n         )}\n       </div>\n+      <ChallengeTranscript transcript={transcriptText} />\n       <Spacer size='m' />\n     </Col>\n   );"
        }
    ],
    "stats": {
        "total": 52,
        "additions": 49,
        "deletions": 3
    }
}