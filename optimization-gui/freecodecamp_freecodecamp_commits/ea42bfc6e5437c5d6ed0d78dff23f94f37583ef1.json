{
    "author": "shivanissingh",
    "message": "feat(curriculum): Add interactive examples to aria-expanded attribute lesson (#63554)",
    "sha": "ea42bfc6e5437c5d6ed0d78dff23f94f37583ef1",
    "files": [
        {
            "sha": "09dc951b60b0bf2b1909a5c72a1e8adf4431c065",
            "filename": "curriculum/challenges/english/blocks/lecture-understanding-aria-expanded-aria-live-and-common-aria-states/672a54ce90c19e9038f481d7.md",
            "status": "modified",
            "additions": 122,
            "deletions": 1,
            "changes": 123,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ea42bfc6e5437c5d6ed0d78dff23f94f37583ef1/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Flecture-understanding-aria-expanded-aria-live-and-common-aria-states%2F672a54ce90c19e9038f481d7.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ea42bfc6e5437c5d6ed0d78dff23f94f37583ef1/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Flecture-understanding-aria-expanded-aria-live-and-common-aria-states%2F672a54ce90c19e9038f481d7.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Flecture-understanding-aria-expanded-aria-live-and-common-aria-states%2F672a54ce90c19e9038f481d7.md?ref=ea42bfc6e5437c5d6ed0d78dff23f94f37583ef1",
            "patch": "@@ -5,7 +5,7 @@ challengeType: 19\n dashedName: what-is-the-aria-expanded-attribute\n ---\n \n-# --description--\n+# --interactive--\n \n The `aria-expanded` attribute is used for accessibility purposes to indicate if a control is expanded or collapsed. It's used in conjunction with collapsible widgets like menus, accordions and other disclosure widgets that control the visibility of content. The `aria-expanded` attribute is set to `true` if the control is expanded, or `false` if it is collapsed.\n \n@@ -35,19 +35,78 @@ Additionally, the properties, `aria-controls` and `aria-owns` can be used in com\n \n Let's start with `aria-controls`. When used with `aria-expanded`, the `aria-controls` attribute is used to specify the element being controlled. For example, a button might expand or collapse a list acting as a menu. The value of `aria-controls` will be the `id` of the controlled element (the menu list in this example).\n \n+:::interactive_editor\n+\n ```html\n+<link rel=\"stylesheet\" href=\"styles.css\">\n+\n <button aria-expanded=\"false\" aria-controls=\"menu1\">Menu</button>\n <ul id=\"menu1\">\n   <li>...</li>\n   <li>...</li>\n </ul>\n+\n+<script src=\"index.js\"></script>\n+```\n+\n+```css\n+button {\n+  background-color: #0078d4;\n+  color: white;\n+  padding: 8px 12px;\n+  border: none;\n+  border-radius: 4px;\n+  cursor: pointer;\n+}\n+\n+button:hover {\n+  background-color: #005ea2;\n+}\n+\n+ul {\n+  list-style: none;\n+  padding: 0;\n+  margin: 8px 0 0;\n+  border: 1px solid #ccc;\n+  border-radius: 4px;\n+  width: 150px;\n+  background: #fff;\n+}\n+\n+li {\n+  padding: 8px;\n+  cursor: pointer;\n+}\n+\n+li:hover {\n+  background-color: #f2f2f2;\n+}\n+\n ```\n \n+```js\n+const button = document.querySelector('button');\n+const menu = document.getElementById(button.getAttribute('aria-controls'));\n+\n+button.addEventListener('click', () => {\n+  const expanded = button.getAttribute('aria-expanded') === 'true';\n+  button.setAttribute('aria-expanded', String(!expanded));\n+  menu.hidden = expanded;\n+});\n+\n+```\n+\n+:::\n+\n Notice that the list immediately follows the controlling button. For expandable controls like this, it is best to have the expanded content immediately follow the element that controls it in the DOM. This prevents screen reader users from having to search for the expanded content, and makes it easier for keyboard users to navigate through any interactive controls in the expanded content.\n \n If it is not possible to place the expanded content immediately after the controlling element, the `aria-owns` attribute allows you to virtually move it after the control in the accessibility tree. This allows assistive technology like screen readers to pretend the expanded content is placed directly after the control in the DOM.  \n \n+:::interactive_editor\n+\n ```html\n+<link rel=\"stylesheet\" href=\"styles.css\">\n+\n <button aria-owns=\"menu1\" aria-expanded=\"true\">Menu</button>\n <main>\n   <!-- an entire page worth of content --->\n@@ -56,8 +115,70 @@ If it is not possible to place the expanded content immediately after the contro\n   <li>...</li>\n   <li>...</li>\n </ul>\n+\n+<script src=\"index.js\"></script>\n+```\n+\n+```css\n+button {\n+  background-color: #0078d4;\n+  color: white;\n+  padding: 8px 12px;\n+  border: none;\n+  border-radius: 4px;\n+  cursor: pointer;\n+  margin-bottom: 10px;\n+}\n+\n+button:hover {\n+  background-color: #005ea2;\n+}\n+\n+ul {\n+  list-style: none;\n+  padding: 0;\n+  margin: 8px 0;\n+  border: 1px solid #ccc;\n+  border-radius: 4px;\n+  width: 150px;\n+  background: #fff;\n+  position: absolute;\n+  z-index: 10;\n+}\n+\n+li {\n+  padding: 8px;\n+  cursor: pointer;\n+}\n+\n+li:hover {\n+  background-color: #f2f2f2;\n+}\n+\n ```\n \n+```js\n+const button = document.querySelector('button');\n+const menu = document.getElementById(button.getAttribute('aria-owns'));\n+\n+button.addEventListener('click', () => {\n+  const expanded = button.getAttribute('aria-expanded') === 'true';\n+  button.setAttribute('aria-expanded', String(!expanded));\n+  menu.hidden = expanded;\n+});\n+\n+// Close the menu if user clicks outside\n+document.addEventListener('click', (e) => {\n+  if (!button.contains(e.target) && !menu.contains(e.target)) {\n+    button.setAttribute('aria-expanded', 'false');\n+    menu.hidden = true;\n+  }\n+});\n+\n+```\n+\n+:::\n+\n There are drawbacks to using the `aria-owns` attribute. It creates unnecessary verbosity for screen reader users since most screen readers will automatically read out the entire contents of the expanded element when first expanded. It also does not change the tab order, potentially forcing keyboard users to tab through all of the other interactive controls on the page before reaching the expanded content, unless you manage the tabbing order with JavaScript.\n \n Ideally, the expandable content should be placed after the control element, and the `aria-owns` attribute should only be used in a worst case scenario when that is not possible. If it must be used, you will need to thoroughly test with a wide range of screen readers and browsers to ensure that your implementation is accessible for everyone."
        }
    ],
    "stats": {
        "total": 123,
        "additions": 122,
        "deletions": 1
    }
}