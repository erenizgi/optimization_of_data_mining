{
    "author": "huyenltnguyen",
    "message": "chore: clean up profile tests (#59461)",
    "sha": "17982e3448b07134b9ec55b978b10b7fab7c54a4",
    "files": [
        {
            "sha": "7ccbbad9a778a6e28ac79bf2b3f62ed577f799cf",
            "filename": "client/src/components/profile/components/heat-map.test.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fheat-map.test.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fheat-map.test.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fheat-map.test.tsx?ref=17982e3448b07134b9ec55b978b10b7fab7c54a4",
            "patch": "@@ -36,14 +36,6 @@ afterEach(() => {\n });\n \n describe('<HeatMap/>', () => {\n-  // Removing the snapshot matching, because they are different every time\n-  /*\n-  it('renders correctly', () => {\n-    const { container } = render(<HeatMap {...props} />);\n-    expect(container).toMatchSnapshot();\n-  });\n-  */\n-\n   it('displays the correct title', () => {\n     render(<HeatMap {...props} />);\n "
        },
        {
            "sha": "f6f0ee463b1ebf9e1112a6bae018e3d605c528b9",
            "filename": "client/src/components/profile/components/stats.test.tsx",
            "status": "modified",
            "additions": 13,
            "deletions": 2,
            "changes": 15,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.test.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.test.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.test.tsx?ref=17982e3448b07134b9ec55b978b10b7fab7c54a4",
            "patch": "@@ -1,10 +1,10 @@\n-import { render, screen } from '@testing-library/react';\n+import { render, screen, within } from '@testing-library/react';\n import React from 'react';\n import Stats, { calculateStreaks } from './stats';\n \n const props: { calendar: { [key: number]: number }; points: number } = {\n   calendar: {},\n-  points: 0\n+  points: 10\n };\n \n describe('<Stats/>', () => {\n@@ -21,6 +21,17 @@ describe('<Stats/>', () => {\n       'profile.current-streak'\n     );\n   });\n+\n+  it('displays the correct total points', () => {\n+    render(<Stats {...props} />);\n+\n+    const totalPoints = screen.getByTestId('total-points');\n+\n+    expect(\n+      within(totalPoints).getByText('profile.total-points')\n+    ).toBeInTheDocument();\n+    expect(within(totalPoints).getByText(props.points)).toBeInTheDocument();\n+  });\n });\n \n const oldStreakCalendar = {"
        },
        {
            "sha": "aa785b443af3bf04fb4726a2f51d945303c00a6f",
            "filename": "client/src/components/profile/components/stats.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/17982e3448b07134b9ec55b978b10b7fab7c54a4/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fstats.tsx?ref=17982e3448b07134b9ec55b978b10b7fab7c54a4",
            "patch": "@@ -72,7 +72,7 @@ function Stats({ points, calendar }: StatsProps): JSX.Element {\n             </dt>\n             <dd>{currentStreak || 0}</dd>\n           </div>\n-          <div>\n+          <div data-testid='total-points'>\n             <dt>\n               <b>{t('profile.total-points')}</b>\n             </dt>"
        },
        {
            "sha": "b846b05e25d36d300d722077150a6e6fcd06512d",
            "filename": "e2e/profile.spec.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 25,
            "changes": 25,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/17982e3448b07134b9ec55b978b10b7fab7c54a4/e2e%2Fprofile.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/17982e3448b07134b9ec55b978b10b7fab7c54a4/e2e%2Fprofile.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fprofile.spec.ts?ref=17982e3448b07134b9ec55b978b10b7fab7c54a4",
            "patch": "@@ -120,31 +120,6 @@ test.describe('Profile component', () => {\n       ).toContain('Among most prolific volunteers');\n     });\n \n-    test('renders total points correctly', async ({ page }) => {\n-      await expect(page.getByText('Total Points:')).toBeVisible();\n-    });\n-\n-    // The date range computation in this test doesn't match the implementation code,\n-    // and causes the test to fail in some cases.\n-    // We would want to mock system time to keep the test stable,\n-    // but Playwright currently doesn't offer a built-in mechanism for this.\n-    // Ref: https://github.com/microsoft/playwright/issues/6347\n-    test.skip('renders the heat map correctly', async ({ page }) => {\n-      const today = new Date();\n-      const currentMonth = today.toLocaleString('en-US', { month: 'short' });\n-      const sixMonthsAgo = new Date(today.setMonth(today.getMonth() - 6));\n-      const sixMonthsAgoMonth = sixMonthsAgo.toLocaleString('en-US', {\n-        month: 'short'\n-      });\n-      const dateRange = `${sixMonthsAgoMonth} ${sixMonthsAgo.getFullYear()} - ${currentMonth} ${today.getFullYear()}`;\n-\n-      await expect(page.getByText(dateRange)).toBeVisible();\n-      await expect(page.locator('.react-calendar-heatmap')).toBeVisible();\n-      // Streak should be a non-negative integer\n-      await expect(page.getByText(/Longest Streak: [0-9]\\d*$/)).toBeVisible();\n-      await expect(page.getByText(/Current Streak: [0-9]\\d*$/)).toBeVisible();\n-    });\n-\n     test('displays certifications correctly', async ({ page }) => {\n       await expect(\n         page.getByRole('heading', { name: 'freeCodeCamp Certifications' })"
        }
    ],
    "stats": {
        "total": 50,
        "additions": 14,
        "deletions": 36
    }
}