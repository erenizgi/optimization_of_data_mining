{
    "author": "ShaunSHamilton",
    "message": "feat(client): add 3 disclosure cde for rdb (#62178)\n\nCo-authored-by: Ahmad Abdolsaheb <ahmad.abdolsaheb@gmail.com>",
    "sha": "677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
    "files": [
        {
            "sha": "5762bdc9e78476c138ea447bc27a1570a926bb58",
            "filename": "client/config/growthbook-features-default.json",
            "status": "modified",
            "additions": 26,
            "deletions": 5,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fconfig%2Fgrowthbook-features-default.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fconfig%2Fgrowthbook-features-default.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fconfig%2Fgrowthbook-features-default.json?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -5,6 +5,15 @@\n   \"aa-test-in-component\": {\n     \"defaultValue\": false\n   },\n+  \"rdb-codespaces-instructions\": {\n+    \"defaultValue\": true\n+  },\n+  \"rdb-local-instructions\": {\n+    \"defaultValue\": true\n+  },\n+  \"rdb-ona-instructions\": {\n+    \"defaultValue\": true\n+  },\n   \"landing-top-skill-focused\": {\n     \"defaultValue\": false,\n     \"rules\": [\n@@ -13,8 +22,14 @@\n         \"hashAttribute\": \"id\",\n         \"seed\": \"landing-top-skill-focused\",\n         \"hashVersion\": 2,\n-        \"variations\": [false, true],\n-        \"weights\": [0.5, 0.5],\n+        \"variations\": [\n+          false,\n+          true\n+        ],\n+        \"weights\": [\n+          0.5,\n+          0.5\n+        ],\n         \"key\": \"landing-top-skill-focused\",\n         \"meta\": [\n           {\n@@ -31,16 +46,22 @@\n       }\n     ]\n   },\n-    \"replace-20-with-25\": {\n+  \"replace-20-with-25\": {\n     \"defaultValue\": false,\n     \"rules\": [\n       {\n         \"coverage\": 1,\n         \"hashAttribute\": \"id\",\n         \"seed\": \"replace-20-with-25\",\n         \"hashVersion\": 2,\n-        \"variations\": [false, true],\n-        \"weights\": [0.5, 0.5],\n+        \"variations\": [\n+          false,\n+          true\n+        ],\n+        \"weights\": [\n+          0.5,\n+          0.5\n+        ],\n         \"key\": \"replace-20-with-25\",\n         \"meta\": [\n           {"
        },
        {
            "sha": "a06bef8f4a98716d920873297b5900a38e4ff361",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 24,
            "deletions": 2,
            "changes": 26,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -533,6 +533,26 @@\n     \"project-preview-title\": \"Here's a preview of what you will build\",\n     \"demo-project-title\": \"Here's an example of a project that meets the requirements\",\n     \"github-required\": \"<0>Create a GitHub</0> account if you don't have one. You'll need it when you create the virtual Linux server machine. This process may take a few minutes.\",\n+    \"codespaces\": {\n+      \"intro\": \"This course runs in a virtual Linux machine using GitHub Codespaces. Follow these instructions to start the course:\",\n+      \"step-1\": \"<0>Create an GitHub account</0> if you don't have one\",\n+      \"step-2\": \"Click the start button below\",\n+      \"step-3\": \"On that page, click the create button\",\n+      \"step-4\": \"Once the virtual Linux machine is finished loading, start the CodeRoad extension by:\",\n+      \"step-5\": \"Clicking the \\\"hamburger\\\" menu near the top left of the VSCode window,\",\n+      \"step-6\": \"Going to the <0>View</0> menu,\",\n+      \"step-7\": \"Clicking on the <0>Command Palette</0> option,\",\n+      \"step-8\": \"and running the <0>CodeRoad: Start</0> command\",\n+      \"step-9\": \"Follow the instructions in CodeRoad to complete the course\",\n+      \"continue-project\": \"Clicking the button below will start a new project. If you have previously started the {{title}} course, go to the <0>repository page</0> to re-open a previous workspace.\",\n+      \"learn-more\": \"Learn more about <0>Codespace workspaces</0>.\",\n+      \"logout-warning\": \"If you log out of freeCodeCamp before you complete the entire {{course}} course, your progress will not be saved to your freeCodeCamp account.\",\n+      \"sub-step-3\": \"Navigate to your <0>Codespaces secrets page</0>\",\n+      \"sub-step-4\": \"Create a new secret named <0>CODEROAD_WEBHOOK_TOKEN</0>\",\n+      \"sub-step-5\": \"In the <0>Value</0> field, paste your token\",\n+      \"sub-step-6\": \"In the <0>Repository access</0> field, select the <1>freeCodeCamp/rdb-alpha</1> repository\",\n+      \"summary\": \"Codespaces Setup\"\n+    },\n     \"ona\": {\n       \"intro\": \"This course runs in a virtual Linux machine using Ona. Follow these instructions to start the course:\",\n       \"step-1\": \"<0>Create an Ona account</0> if you don't have one\",\n@@ -549,7 +569,8 @@\n       \"logout-warning\": \"If you log out of freeCodeCamp before you complete the entire {{course}} course, your progress will not be saved to your freeCodeCamp account.\",\n       \"sub-step-3\": \"Navigate to your <0>Ona secrets page</0>\",\n       \"sub-step-4\": \"Create a new secret named <0>CODEROAD_WEBHOOK_TOKEN</0>\",\n-      \"sub-step-5\": \"In the <0>Secret</0> field, paste your token\"\n+      \"sub-step-5\": \"In the <0>Secret</0> field, paste your token\",\n+      \"summary\": \"Ona Setup\"\n     },\n     \"local\": {\n       \"intro\": \"This course runs in a virtual Linux machine on your computer. To run the course, you first need to download each of the following if you don't already have them:\",\n@@ -571,7 +592,8 @@\n       \"step-7\": \"Copy the course URL below, paste it in the URL input, and click \\\"Load\\\".\",\n       \"copy-url\": \"Copy Course URL\",\n       \"step-8\": \"Click \\\"Start\\\" to begin.\",\n-      \"step-9\": \"Follow the instructions in CodeRoad to complete the course. Note: You may need to restart the terminal once for terminal settings to take effect and the tests to pass.\"\n+      \"step-9\": \"Follow the instructions in CodeRoad to complete the course. Note: You may need to restart the terminal once for terminal settings to take effect and the tests to pass.\",\n+      \"summary\": \"Local Setup\"\n     },\n     \"step-1\": \"Step 1: Complete the project\",\n     \"step-2\": \"Step 2: Submit your code\","
        },
        {
            "sha": "e102a609e58e417ba8177fadb98ea66f5524bbce",
            "filename": "client/src/templates/Challenges/codeally/codespaces-instructions.tsx",
            "status": "added",
            "additions": 190,
            "deletions": 0,
            "changes": 190,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fcodespaces-instructions.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fcodespaces-instructions.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fcodespaces-instructions.tsx?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -0,0 +1,190 @@\n+import React from 'react';\n+import { Trans, useTranslation } from 'react-i18next';\n+import { Spacer, Button, Callout } from '@freecodecamp/ui';\n+\n+import { CodeAllyButton } from '../../../components/growth-book/codeally-button';\n+\n+interface CodespacesInstructionsProps {\n+  challengeType: number;\n+  copyUrl: () => void;\n+  copyUserToken: () => void;\n+  generateUserToken: () => Promise<void>;\n+  isSignedIn: boolean;\n+  title: string;\n+  userToken: string | null;\n+}\n+\n+export function CodespacesInstructions({\n+  challengeType,\n+  copyUrl,\n+  copyUserToken,\n+  generateUserToken,\n+  isSignedIn,\n+  title,\n+  userToken\n+}: CodespacesInstructionsProps) {\n+  const { t } = useTranslation();\n+\n+  function openCodespaces() {\n+    const codespacesUrl = `https://codespaces.new/freeCodeCamp/rdb-alpha`;\n+\n+    window.open(codespacesUrl, '_blank');\n+  }\n+\n+  return (\n+    <div className='ca-description'>\n+      <p>{t('learn.codespaces.intro')}</p>\n+      <ol>\n+        <li>\n+          <Trans i18nKey='learn.codespaces.step-1'>\n+            <a\n+              href='https://github.com/signup'\n+              rel='noopener noreferrer'\n+              target='_blank'\n+            >\n+              placeholder\n+            </a>\n+          </Trans>\n+        </li>\n+        {isSignedIn && (\n+          <>\n+            <Spacer size='s' />\n+            <p>{t('learn.local.sub-step-heading')}</p>\n+            <ol>\n+              <li>{t('learn.local.sub-step-1')}</li>\n+              <Spacer size='xxs' />\n+              <Button\n+                disabled={!!userToken}\n+                block={true}\n+                onClick={() => void generateUserToken()}\n+              >\n+                {t('learn.local.generate-token-btn')}\n+              </Button>\n+              <Spacer size='xs' />\n+              <li>{t('learn.local.sub-step-2')}</li>\n+              <Spacer size='xxs' />\n+              <Button\n+                disabled={!userToken}\n+                block={true}\n+                onClick={copyUserToken}\n+              >\n+                {t('learn.local.copy-token-btn')}\n+              </Button>\n+              <Spacer size='xs' />\n+              <li>\n+                <Trans i18nKey='learn.codespaces.sub-step-3'>\n+                  <a\n+                    href='https://github.com/settings/codespaces/secrets/new'\n+                    rel='noopener noreferrer'\n+                    target='_blank'\n+                  >\n+                    Codespaces secrets page\n+                  </a>\n+                </Trans>\n+              </li>\n+              <li>\n+                <Trans i18nKey='learn.codespaces.sub-step-4'>\n+                  <code>placeholder</code>\n+                </Trans>\n+              </li>\n+              <li>\n+                <Trans i18nKey='learn.codespaces.sub-step-5'>\n+                  <code>placeholder</code>\n+                </Trans>\n+              </li>\n+              <li>\n+                <Trans i18nKey='learn.codespaces.sub-step-6'>\n+                  <code>placeholder</code>\n+                  <code>placeholder</code>\n+                </Trans>\n+              </li>\n+            </ol>\n+            <Spacer size='s' />\n+          </>\n+        )}\n+        <li>{t('learn.codespaces.step-2')}</li>\n+        <li>{t('learn.codespaces.step-3')}</li>\n+        <li>\n+          {t('learn.codespaces.step-4')}\n+          <ul>\n+            <li>{t('learn.codespaces.step-5')}</li>\n+            <li>\n+              <Trans i18nKey='learn.codespaces.step-6'>\n+                <code>placeholder</code>\n+              </Trans>\n+            </li>\n+            <li>\n+              <Trans i18nKey='learn.codespaces.step-7'>\n+                <code>placeholder</code>\n+              </Trans>\n+            </li>\n+            <li>\n+              <Trans i18nKey='learn.codespaces.step-8'>\n+                <code>placeholder</code>\n+              </Trans>\n+            </li>\n+            <li>{t('learn.local.step-6')}</li>\n+            <li>{t('learn.local.step-7')}</li>\n+            <Spacer size='xxs' />\n+            <Button block={true} onClick={copyUrl}>\n+              {t('learn.local.copy-url')}\n+            </Button>\n+            <Spacer size='xs' />\n+            <li>{t('learn.local.step-8')}</li>\n+          </ul>\n+        </li>\n+        <li>{t('learn.codespaces.step-9')}</li>\n+      </ol>\n+      <Spacer size='m' />\n+      <CodespacesContinueAlert title={title} />\n+      {isSignedIn && <CodespacesLogoutAlert course={title} />}\n+      <CodeAllyButton challengeType={challengeType} onClick={openCodespaces} />\n+    </div>\n+  );\n+}\n+\n+interface CodespacesContinueAlertProps {\n+  title: string;\n+}\n+\n+function CodespacesContinueAlert({ title }: CodespacesContinueAlertProps) {\n+  return (\n+    <Callout variant='info'>\n+      <Trans values={{ title }} i18nKey='learn.codespaces.continue-project'>\n+        <a\n+          href='https://github.com/freeCodeCamp/rdb-alpha'\n+          rel='noopener noreferrer'\n+          target='_blank'\n+        >\n+          placeholder\n+        </a>\n+      </Trans>\n+      <Spacer size='m' />\n+      <Trans i18nKey='learn.codespaces.learn-more'>\n+        <a\n+          href='https://forum.freecodecamp.org/t/relational-database-curriculum-in-codespaces/761449'\n+          rel='noopener noreferrer'\n+          target='_blank'\n+        >\n+          placeholder\n+        </a>\n+      </Trans>\n+    </Callout>\n+  );\n+}\n+\n+interface CodespacesLogoutAlertProps {\n+  course: string;\n+}\n+\n+function CodespacesLogoutAlert({\n+  course\n+}: CodespacesLogoutAlertProps): JSX.Element {\n+  const { t } = useTranslation();\n+\n+  return (\n+    <Callout variant='danger'>\n+      {t('learn.codespaces.logout-warning', { course })}\n+    </Callout>\n+  );\n+}"
        },
        {
            "sha": "c9ef8372b0df8370ea08d7a4d0e007701573b304",
            "filename": "client/src/templates/Challenges/codeally/local-instructions.tsx",
            "status": "renamed",
            "additions": 12,
            "deletions": 93,
            "changes": 105,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Flocal-instructions.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Flocal-instructions.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Flocal-instructions.tsx?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -1,103 +1,29 @@\n import React from 'react';\n-import { connect } from 'react-redux';\n import { Trans, useTranslation } from 'react-i18next';\n import { Spacer, Button } from '@freecodecamp/ui';\n-import { postUserToken } from '../../../utils/ajax';\n-import { createFlashMessage } from '../../../components/Flash/redux';\n-import { FlashMessages } from '../../../components/Flash/redux/flash-messages';\n \n-import {\n-  isSignedInSelector,\n-  userTokenSelector\n-} from '../../../redux/selectors';\n-import { updateUserToken } from '../../../redux/actions';\n import { Link } from '../../../components/helpers';\n-\n import RdbLocalLogoutAlert from './rdb-local-logout-alert';\n \n-const mapStateToProps = (state: unknown) => ({\n-  isSignedIn: isSignedInSelector(state),\n-  userToken: userTokenSelector(state) as string | null\n-});\n-\n-const mapDispatchToProps = {\n-  createFlashMessage,\n-  updateUserToken\n-};\n-\n-interface RdbLocalInstructionsProps {\n-  course: string;\n-  createFlashMessage: typeof createFlashMessage;\n+interface LocalInstructionsProps {\n+  copyUrl: () => void;\n+  copyUserToken: () => void;\n+  generateUserToken: () => Promise<void>;\n   isSignedIn: boolean;\n-  updateUserToken: (arg0: string) => void;\n-  url: string;\n+  title: string;\n   userToken: string | null;\n }\n \n-function RdbLocalInstructions({\n-  course,\n-  createFlashMessage,\n+export function LocalInstructions({\n+  copyUrl,\n+  copyUserToken,\n+  generateUserToken,\n   isSignedIn,\n-  updateUserToken,\n-  url,\n+  title,\n   userToken\n-}: RdbLocalInstructionsProps): JSX.Element {\n+}: LocalInstructionsProps) {\n   const { t } = useTranslation();\n \n-  const coderoadTutorial = `https://raw.githubusercontent.com/${url}/main/tutorial.json`;\n-\n-  const generateUserToken = async () => {\n-    const createUserTokenResponse = await postUserToken();\n-    const { data = { userToken: null } } = createUserTokenResponse;\n-\n-    if (data?.userToken) {\n-      updateUserToken(data.userToken);\n-      createFlashMessage({\n-        type: 'success',\n-        message: FlashMessages.UserTokenGenerated\n-      });\n-    } else {\n-      createFlashMessage({\n-        type: 'danger',\n-        message: FlashMessages.UserTokenGenerateError\n-      });\n-    }\n-  };\n-\n-  const copyUserToken = () => {\n-    navigator.clipboard.writeText(userToken ?? '').then(\n-      () => {\n-        createFlashMessage({\n-          type: 'success',\n-          message: FlashMessages.UserTokenCopied\n-        });\n-      },\n-      () => {\n-        createFlashMessage({\n-          type: 'danger',\n-          message: FlashMessages.UserTokenCopyError\n-        });\n-      }\n-    );\n-  };\n-\n-  const copyUrl = () => {\n-    navigator.clipboard.writeText(coderoadTutorial ?? '').then(\n-      () => {\n-        createFlashMessage({\n-          type: 'success',\n-          message: FlashMessages.CourseUrlCopied\n-        });\n-      },\n-      () => {\n-        createFlashMessage({\n-          type: 'danger',\n-          message: FlashMessages.CourseUrlCopyError\n-        });\n-      }\n-    );\n-  };\n-\n   return (\n     <div className='ca-description'>\n       <p>{t('learn.local.intro')}</p>\n@@ -174,7 +100,7 @@ function RdbLocalInstructions({\n                 </Trans>\n               </li>\n               <Spacer size='xs' />\n-              <RdbLocalLogoutAlert course={course} />\n+              <RdbLocalLogoutAlert title={title} />\n             </ol>\n             <Spacer size='s' />\n           </>\n@@ -203,10 +129,3 @@ function RdbLocalInstructions({\n     </div>\n   );\n }\n-\n-RdbLocalInstructions.displayName = 'RdbLocalInstructions';\n-\n-export default connect(\n-  mapStateToProps,\n-  mapDispatchToProps\n-)(RdbLocalInstructions);",
            "previous_filename": "client/src/templates/Challenges/codeally/rdb-local-instructions.tsx"
        },
        {
            "sha": "115a0f40468b83255e3c545dadace62cc90b3f6c",
            "filename": "client/src/templates/Challenges/codeally/ona-instructions.tsx",
            "status": "renamed",
            "additions": 27,
            "deletions": 89,
            "changes": 116,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fona-instructions.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fona-instructions.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fona-instructions.tsx?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -1,101 +1,40 @@\n import React from 'react';\n import { Trans, useTranslation } from 'react-i18next';\n-import { connect } from 'react-redux';\n import { Spacer, Button } from '@freecodecamp/ui';\n-import { postUserToken } from '../../../utils/ajax';\n-import { createFlashMessage } from '../../../components/Flash/redux';\n-import { FlashMessages } from '../../../components/Flash/redux/flash-messages';\n \n-import {\n-  isSignedInSelector,\n-  userTokenSelector\n-} from '../../../redux/selectors';\n-import { updateUserToken } from '../../../redux/actions';\n+import { CodeAllyButton } from '../../../components/growth-book/codeally-button';\n \n-import RdbLocalLogoutAlert from './rdb-local-logout-alert';\n+import RdbOnaContinueAlert from './rdb-ona-continue-alert';\n+import RdbOnaLogoutAlert from './rdb-ona-logout-alert';\n \n-const mapStateToProps = (state: unknown) => ({\n-  isSignedIn: isSignedInSelector(state),\n-  userToken: userTokenSelector(state) as string | null\n-});\n-\n-const mapDispatchToProps = {\n-  createFlashMessage,\n-  updateUserToken\n-};\n-\n-interface RdbOnaInstructionsProps {\n-  course: string;\n-  createFlashMessage: typeof createFlashMessage;\n+interface OneInstructionsProps {\n+  challengeType: number;\n+  copyUrl: () => void;\n+  copyUserToken: () => void;\n+  generateUserToken: () => Promise<void>;\n   isSignedIn: boolean;\n-  updateUserToken: (arg0: string) => void;\n-  url: string;\n+  title: string;\n   userToken: string | null;\n }\n \n-function RdbOnaInstructions({\n-  course,\n-  createFlashMessage,\n+export function OnaInstructions({\n+  challengeType,\n+  copyUrl,\n+  copyUserToken,\n+  generateUserToken,\n   isSignedIn,\n-  updateUserToken,\n-  url,\n+  title,\n   userToken\n-}: RdbOnaInstructionsProps): JSX.Element {\n+}: OneInstructionsProps) {\n   const { t } = useTranslation();\n \n-  const coderoadTutorial = `https://raw.githubusercontent.com/${url}/main/tutorial.json`;\n-\n-  const generateUserToken = async () => {\n-    const createUserTokenResponse = await postUserToken();\n-    const { data = { userToken: null } } = createUserTokenResponse;\n-\n-    if (data?.userToken) {\n-      updateUserToken(data.userToken);\n-      createFlashMessage({\n-        type: 'success',\n-        message: FlashMessages.UserTokenGenerated\n-      });\n-    } else {\n-      createFlashMessage({\n-        type: 'danger',\n-        message: FlashMessages.UserTokenGenerateError\n-      });\n-    }\n-  };\n+  function openOna() {\n+    const repoUrl = `https://github.com/freeCodeCamp/rdb-alpha`;\n+    const onaDomain = `https://app.ona.com/`;\n+    const onaUrl = `${onaDomain}#${repoUrl}`;\n \n-  const copyUserToken = () => {\n-    navigator.clipboard.writeText(userToken ?? '').then(\n-      () => {\n-        createFlashMessage({\n-          type: 'success',\n-          message: FlashMessages.UserTokenCopied\n-        });\n-      },\n-      () => {\n-        createFlashMessage({\n-          type: 'danger',\n-          message: FlashMessages.UserTokenCopyError\n-        });\n-      }\n-    );\n-  };\n-\n-  const copyUrl = () => {\n-    navigator.clipboard.writeText(coderoadTutorial ?? '').then(\n-      () => {\n-        createFlashMessage({\n-          type: 'success',\n-          message: FlashMessages.CourseUrlCopied\n-        });\n-      },\n-      () => {\n-        createFlashMessage({\n-          type: 'danger',\n-          message: FlashMessages.CourseUrlCopyError\n-        });\n-      }\n-    );\n-  };\n+    window.open(onaUrl, '_blank');\n+  }\n \n   return (\n     <div className='ca-description'>\n@@ -158,8 +97,6 @@ function RdbOnaInstructions({\n                   <code>placeholder</code>\n                 </Trans>\n               </li>\n-              <Spacer size='xs' />\n-              <RdbLocalLogoutAlert course={course} />\n             </ol>\n             <Spacer size='s' />\n           </>\n@@ -185,6 +122,7 @@ function RdbOnaInstructions({\n                 <code>placeholder</code>\n               </Trans>\n             </li>\n+            <li>{t('learn.local.step-6')}</li>\n             <li>{t('learn.local.step-7')}</li>\n             <Spacer size='xxs' />\n             <Button block={true} onClick={copyUrl}>\n@@ -196,10 +134,10 @@ function RdbOnaInstructions({\n         </li>\n         <li>{t('learn.ona.step-9')}</li>\n       </ol>\n+      <Spacer size='m' />\n+      <RdbOnaContinueAlert course={title} />\n+      {isSignedIn && <RdbOnaLogoutAlert course={title} />}\n+      <CodeAllyButton challengeType={challengeType} onClick={openOna} />\n     </div>\n   );\n }\n-\n-RdbOnaInstructions.displayName = 'RdbOnaInstructions';\n-\n-export default connect(mapStateToProps, mapDispatchToProps)(RdbOnaInstructions);",
            "previous_filename": "client/src/templates/Challenges/codeally/rdb-ona-instructions.tsx"
        },
        {
            "sha": "ac6bb40c12cf205995e71e129e2052ad84a11d08",
            "filename": "client/src/templates/Challenges/codeally/rdb-local-logout-alert.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Frdb-local-logout-alert.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Frdb-local-logout-alert.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Frdb-local-logout-alert.tsx?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -3,17 +3,15 @@ import { useTranslation } from 'react-i18next';\n import { Callout } from '@freecodecamp/ui';\n \n interface RdbLocalLogoutAlertProps {\n-  course: string;\n+  title: string;\n }\n \n-function RdbLocalLogoutAlert({\n-  course\n-}: RdbLocalLogoutAlertProps): JSX.Element {\n+function RdbLocalLogoutAlert({ title }: RdbLocalLogoutAlertProps): JSX.Element {\n   const { t } = useTranslation();\n \n   return (\n     <Callout variant='danger'>\n-      {t('learn.local.logout-warning', { course })}\n+      {t('learn.local.logout-warning', { course: title })}\n     </Callout>\n   );\n }"
        },
        {
            "sha": "16026f62410edebb5131c21e63f3647f739ad1be",
            "filename": "client/src/templates/Challenges/codeally/show.tsx",
            "status": "modified",
            "additions": 162,
            "deletions": 169,
            "changes": 331,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -1,6 +1,6 @@\n // Package Utilities\n import { graphql } from 'gatsby';\n-import React, { useEffect, useRef } from 'react';\n+import React, { Fragment, useEffect, useRef } from 'react';\n import Helmet from 'react-helmet';\n import type { TFunction } from 'i18next';\n import { withTranslation } from 'react-i18next';\n@@ -48,16 +48,13 @@ import { FlashMessages } from '../../../components/Flash/redux/flash-messages';\n import { SuperBlocks } from '../../../../../shared-dist/config/curriculum';\n import { CodeAllyDown } from '../../../components/growth-book/codeally-down';\n import { postUserToken } from '../../../utils/ajax';\n-import { CodeAllyButton } from '../../../components/growth-book/codeally-button';\n-\n-import RdbOnaContinueAlert from './rdb-ona-continue-alert';\n-import RdbOnaInstructions from './rdb-ona-instructions';\n-import RdbOnaLogoutAlert from './rdb-ona-logout-alert';\n-import RdbLocalInstructions from './rdb-local-instructions';\n import RdbStep1Instructions from './rdb-step-1-instructions';\n import RdbStep2Instructions from './rdb-step-2-instructions';\n+import { LocalInstructions } from './local-instructions';\n+import { OnaInstructions } from './ona-instructions';\n \n import './codeally.css';\n+import { CodespacesInstructions } from './codespaces-instructions';\n \n // Redux\n const mapStateToProps = createSelector(\n@@ -116,33 +113,43 @@ interface ShowCodeAllyProps {\n   userToken: string | null;\n }\n \n-function ShowCodeAlly(props: ShowCodeAllyProps) {\n+function ShowCodeAlly({\n+  completedChallenges,\n+  data,\n+  isChallengeCompleted,\n+  isSignedIn,\n+  partiallyCompletedChallenges,\n+  t,\n+  updateSolutionFormValues,\n+  userToken,\n+  updateUserToken,\n+  createFlashMessage,\n+  challengeMounted,\n+  initTests,\n+  pageContext: { challengeMeta },\n+  updateChallengeMeta,\n+  openCompletionModal\n+}: ShowCodeAllyProps) {\n   const container = useRef<HTMLElement>(null);\n \n   const {\n-    completedChallenges,\n-    data: {\n-      challengeNode: {\n-        challenge: {\n-          block,\n-          challengeType,\n-          description,\n-          id: challengeId,\n-          instructions,\n-          notes,\n-          superBlock,\n-          title,\n-          translationPending,\n-          url\n-        }\n+    challengeNode: {\n+      challenge: {\n+        block,\n+        challengeType,\n+        fields: { tests },\n+        description,\n+        helpCategory,\n+        id: challengeId,\n+        instructions,\n+        notes,\n+        superBlock,\n+        title,\n+        translationPending,\n+        url\n       }\n-    },\n-    isChallengeCompleted,\n-    isSignedIn,\n-    partiallyCompletedChallenges,\n-    t,\n-    updateSolutionFormValues\n-  } = props;\n+    }\n+  } = data;\n \n   const blockNameTitle = `${t(\n     `intro:${superBlock}.blocks.${block}.title`\n@@ -158,22 +165,6 @@ function ShowCodeAlly(props: ShowCodeAllyProps) {\n   );\n \n   useEffect(() => {\n-    const {\n-      challengeMounted,\n-      data: {\n-        challengeNode: {\n-          challenge: {\n-            fields: { tests },\n-            challengeType,\n-            helpCategory,\n-            title\n-          }\n-        }\n-      },\n-      pageContext: { challengeMeta },\n-      initTests,\n-      updateChallengeMeta\n-    } = props;\n     initTests(tests);\n     const challengePaths = getChallengePaths({\n       currentCurriculumPaths: challengeMeta\n@@ -191,54 +182,11 @@ function ShowCodeAlly(props: ShowCodeAllyProps) {\n     // eslint-disable-next-line react-hooks/exhaustive-deps\n   }, []);\n \n-  function openOna() {\n-    const repoUrl = `https://github.com/freeCodeCamp/rdb-alpha`;\n-    const onaDomain = `https://app.ona.com/`;\n-    const onaUrl = `${onaDomain}#${repoUrl}`;\n-\n-    window.open(onaUrl, '_blank');\n-  }\n-\n-  const startCourse = async () => {\n-    const { isSignedIn, userToken, updateUserToken } = props;\n-\n-    if (!isSignedIn) {\n-      openOna();\n-    } else if (!userToken) {\n-      const createUserTokenResponse = await postUserToken();\n-      const { data = { userToken: null } } = createUserTokenResponse;\n-\n-      if (data?.userToken) {\n-        updateUserToken(data.userToken);\n-        openOna();\n-      } else {\n-        createFlashMessage({\n-          type: 'danger',\n-          message: FlashMessages.StartProjectErr\n-        });\n-      }\n-    } else {\n-      openOna();\n-    }\n-  };\n-\n   const handleSubmit = ({\n     showCompletionModal\n   }: {\n     showCompletionModal: boolean;\n   }) => {\n-    const {\n-      completedChallenges,\n-      createFlashMessage,\n-      data: {\n-        challengeNode: {\n-          challenge: { id: challengeId }\n-        }\n-      },\n-      openCompletionModal,\n-      partiallyCompletedChallenges\n-    } = props;\n-\n     const isPartiallyCompleted = partiallyCompletedChallenges.some(\n       challenge => challenge.id === challengeId\n     );\n@@ -257,7 +205,85 @@ function ShowCodeAlly(props: ShowCodeAllyProps) {\n     }\n   };\n \n-  const onaDeprecated = useFeature('gitpod-deprecated').on;\n+  const rdbLocalInstructions = useFeature('rdb-local-instructions');\n+  const rdbCodespacesInstructions = useFeature('rdb-codespaces-instructions');\n+  const rdbOnaInstructions = useFeature('rdb-ona-instructions');\n+\n+  const coderoadTutorial = `https://raw.githubusercontent.com/${url}/main/tutorial.json`;\n+\n+  async function generateUserToken() {\n+    const createUserTokenResponse = await postUserToken();\n+    const { data = { userToken: null } } = createUserTokenResponse;\n+\n+    if (data?.userToken) {\n+      updateUserToken(data.userToken);\n+      createFlashMessage({\n+        type: 'success',\n+        message: FlashMessages.UserTokenGenerated\n+      });\n+    } else {\n+      createFlashMessage({\n+        type: 'danger',\n+        message: FlashMessages.UserTokenGenerateError\n+      });\n+    }\n+  }\n+\n+  function copyUserToken() {\n+    navigator.clipboard.writeText(userToken ?? '').then(\n+      () => {\n+        createFlashMessage({\n+          type: 'success',\n+          message: FlashMessages.UserTokenCopied\n+        });\n+      },\n+      () => {\n+        createFlashMessage({\n+          type: 'danger',\n+          message: FlashMessages.UserTokenCopyError\n+        });\n+      }\n+    );\n+  }\n+\n+  function copyUrl() {\n+    navigator.clipboard.writeText(coderoadTutorial ?? '').then(\n+      () => {\n+        createFlashMessage({\n+          type: 'success',\n+          message: FlashMessages.CourseUrlCopied\n+        });\n+      },\n+      () => {\n+        createFlashMessage({\n+          type: 'danger',\n+          message: FlashMessages.CourseUrlCopyError\n+        });\n+      }\n+    );\n+  }\n+\n+  const setups = [\n+    {\n+      name: t('learn.codespaces.summary'),\n+      component: CodespacesInstructions,\n+      on: rdbCodespacesInstructions.on\n+    },\n+    {\n+      name: t('learn.local.summary'),\n+      component: LocalInstructions,\n+      on: rdbLocalInstructions.on\n+    },\n+    {\n+      name: t('learn.ona.summary'),\n+      component: OnaInstructions,\n+      on: rdbOnaInstructions.on\n+    }\n+  ];\n+\n+  const setupsToShow = setups.filter(setup => {\n+    return setup.on;\n+  });\n \n   return (\n     <Hotkeys containerRef={container}>\n@@ -279,88 +305,55 @@ function ShowCodeAlly(props: ShowCodeAllyProps) {\n               <PrismFormatted text={description} />\n               <Spacer size='m' />\n \n-              {onaDeprecated ? (\n+              {setupsToShow.map(({ name, component: SetupComponent }, i) => (\n+                <Fragment key={name}>\n+                  <details\n+                    open={i === 0}\n+                    style={{ border: '1px solid #ccc', padding: '16px' }}\n+                  >\n+                    <summary>{name}</summary>\n+                    <Spacer size='s' />\n+                    <SetupComponent\n+                      {...{\n+                        challengeType,\n+                        copyUrl,\n+                        copyUserToken,\n+                        generateUserToken,\n+                        isSignedIn,\n+                        title,\n+                        userToken\n+                      }}\n+                    />\n+                  </details>\n+                  <Spacer size='s' />\n+                </Fragment>\n+              ))}\n+\n+              <Spacer size='m' />\n+              {isSignedIn && challengeType === challengeTypes.codeAllyCert && (\n                 <>\n-                  <RdbLocalInstructions course={title} url={url} />\n+                  <div className='ca-description'>\n+                    {t('learn.complete-both-steps')}\n+                  </div>\n+                  <hr />\n                   <Spacer size='m' />\n-                  {isSignedIn &&\n-                    challengeType === challengeTypes.codeAllyCert && (\n-                      <>\n-                        <div className='ca-description'>\n-                          {t('learn.complete-both-steps')}\n-                        </div>\n-                        <hr />\n-                        <Spacer size='m' />\n-                        <RdbStep1Instructions\n-                          instructions={instructions}\n-                          isCompleted={isPartiallyCompleted || isCompleted}\n-                        />\n-                        <hr />\n-                        <Spacer size='m' />\n-                        <RdbStep2Instructions\n-                          isCompleted={isCompleted}\n-                          notes={notes}\n-                        />\n-                        <Spacer size='m' />\n-                        <SolutionForm\n-                          challengeType={challengeType}\n-                          description={description}\n-                          onSubmit={handleSubmit}\n-                          updateSolutionForm={updateSolutionFormValues}\n-                        />\n-                      </>\n-                    )}\n-                </>\n-              ) : (\n-                <>\n-                  <RdbOnaInstructions course={title} url={url} />\n+                  <RdbStep1Instructions\n+                    instructions={instructions}\n+                    isCompleted={isPartiallyCompleted || isCompleted}\n+                  />\n+                  <hr />\n+                  <Spacer size='m' />\n+                  <RdbStep2Instructions\n+                    isCompleted={isCompleted}\n+                    notes={notes}\n+                  />\n                   <Spacer size='m' />\n-                  {isSignedIn &&\n-                  challengeType === challengeTypes.codeAllyCert ? (\n-                    <>\n-                      <div className='ca-description'>\n-                        {t('learn.complete-both-steps')}\n-                      </div>\n-                      <hr />\n-                      <Spacer size='m' />\n-                      <RdbStep1Instructions\n-                        instructions={instructions}\n-                        isCompleted={isPartiallyCompleted || isCompleted}\n-                      />\n-                      <Spacer size='m' />\n-                      <RdbOnaContinueAlert course={title} />\n-                      {isSignedIn && <RdbOnaLogoutAlert course={title} />}\n-                      <CodeAllyButton\n-                        challengeType={challengeType}\n-                        //eslint-disable-next-line @typescript-eslint/no-misused-promises\n-                        onClick={startCourse}\n-                      />\n-                      <hr />\n-                      <Spacer size='m' />\n-                      <RdbStep2Instructions\n-                        isCompleted={isCompleted}\n-                        notes={notes}\n-                      />\n-                      <Spacer size='m' />\n-                      <SolutionForm\n-                        challengeType={challengeType}\n-                        description={description}\n-                        onSubmit={handleSubmit}\n-                        updateSolutionForm={updateSolutionFormValues}\n-                      />\n-                    </>\n-                  ) : (\n-                    <>\n-                      <RdbOnaContinueAlert course={title} />\n-                      {isSignedIn && <RdbOnaLogoutAlert course={title} />}\n-                      <CodeAllyButton\n-                        challengeType={challengeType}\n-                        //eslint-disable-next-line @typescript-eslint/no-misused-promises\n-                        onClick={startCourse}\n-                      />\n-                    </>\n-                  )}\n-                  <Spacer size='xxs' />\n+                  <SolutionForm\n+                    challengeType={challengeType}\n+                    description={description}\n+                    onSubmit={handleSubmit}\n+                    updateSolutionForm={updateSolutionFormValues}\n+                  />\n                 </>\n               )}\n "
        },
        {
            "sha": "6e7c03f9efeb641cf6b38ff2d5128a234db1b049",
            "filename": "e2e/user-token.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/e2e%2Fuser-token.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef/e2e%2Fuser-token.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fuser-token.spec.ts?ref=677ca70eedf0dd82703ac1fd0243b9a2a6bf43ef",
            "patch": "@@ -28,7 +28,7 @@ test.describe('After creating token', () => {\n     await page.goto(\n       '/learn/relational-database/learn-bash-by-building-a-boilerplate/build-a-boilerplate'\n     );\n-    await page.getByRole('button', { name: 'Start the course' }).click();\n+    await page.getByText('Generate User Token').first().click();\n \n     await page.goto('/settings');\n     // Set `exact` to `true` to only match the panel heading"
        }
    ],
    "stats": {
        "total": 809,
        "additions": 445,
        "deletions": 364
    }
}