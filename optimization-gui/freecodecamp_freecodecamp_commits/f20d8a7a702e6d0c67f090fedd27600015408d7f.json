{
    "author": "gikf",
    "message": "fix(tools): wrong throw causes test to pass (#64159)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "f20d8a7a702e6d0c67f090fedd27600015408d7f",
    "files": [
        {
            "sha": "2c2cb404ac1650d4bf543ff8198b52f02126ebbd",
            "filename": "tools/challenge-parser/parser/plugins/add-video-question.js",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f20d8a7a702e6d0c67f090fedd27600015408d7f/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f20d8a7a702e6d0c67f090fedd27600015408d7f/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js?ref=f20d8a7a702e6d0c67f090fedd27600015408d7f",
            "patch": "@@ -110,6 +110,8 @@ function plugin() {\n           questionNode.children?.[0]?.value === '--text--';\n         if (isStartOfQuestion) {\n           questionTrees.push([questionNode]);\n+        } else if (questionTrees.length === 0) {\n+          throw Error('question text is missing in questions section');\n         } else {\n           questionTrees[questionTrees.length - 1].push(questionNode);\n         }"
        },
        {
            "sha": "629e0c1cff8241c5816b2fb7f6b7d59e10b7ab3c",
            "filename": "tools/challenge-parser/parser/plugins/add-video-question.test.js",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f20d8a7a702e6d0c67f090fedd27600015408d7f/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.test.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f20d8a7a702e6d0c67f090fedd27600015408d7f/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.test.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.test.js?ref=f20d8a7a702e6d0c67f090fedd27600015408d7f",
            "patch": "@@ -104,7 +104,9 @@ describe('add-video-question plugin', () => {\n   // 'The md is missing \"x\"', so it's obvious how to fix things.\n   it('should throw if the subheadings are outside the question heading', () => {\n     expect.assertions(1);\n-    expect(() => plugin(videoOutOfOrderAST)).toThrow();\n+    expect(() => plugin(videoOutOfOrderAST, file)).toThrow(\n+      'question text is missing in questions section'\n+    );\n   });\n \n   it('should NOT throw if there is no question', () => {"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}