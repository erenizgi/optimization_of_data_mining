{
    "author": "lasjorg",
    "message": "fix(curriculum): update tests to better catch common errors (#55605)\n\nCo-authored-by: Naomi the Technomancer <accounts+github@nhcarrigan.com>",
    "sha": "149d6b52fabcb631342040eb9f16f6bd56f1aae0",
    "files": [
        {
            "sha": "8839051402d99269057ea729317389333751fb91",
            "filename": "curriculum/challenges/english/14-responsive-web-design-22/learn-html-by-building-a-cat-photo-app/5efc4f528d6a74d05e68af74.md",
            "status": "modified",
            "additions": 42,
            "deletions": 27,
            "changes": 69,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/149d6b52fabcb631342040eb9f16f6bd56f1aae0/curriculum%2Fchallenges%2Fenglish%2F14-responsive-web-design-22%2Flearn-html-by-building-a-cat-photo-app%2F5efc4f528d6a74d05e68af74.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/149d6b52fabcb631342040eb9f16f6bd56f1aae0/curriculum%2Fchallenges%2Fenglish%2F14-responsive-web-design-22%2Flearn-html-by-building-a-cat-photo-app%2F5efc4f528d6a74d05e68af74.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F14-responsive-web-design-22%2Flearn-html-by-building-a-cat-photo-app%2F5efc4f528d6a74d05e68af74.md?ref=149d6b52fabcb631342040eb9f16f6bd56f1aae0",
            "patch": "@@ -9,73 +9,88 @@ dashedName: step-56\n \n There's another way to associate an `input` element's text with the element itself. You can nest the text within a `label` element and add a `for` attribute with the same value as the `input` element's `id` attribute.\n \n-Here is an example of using the `for` attribute to associate a `label` with an `input` element:\n+Given an `input` element as below:\n \n ```html\n-<label for=\"breakfast\"> Breakfast </label>\n <input id=\"breakfast\" type=\"radio\" name=\"meal\" value=\"breakfast\">\n ```\n \n+An example of a `label` element that is associated to this `input` element is:\n+\n+```html\n+<label for=\"breakfast\">Breakfast</label>\n+```\n+\n Associate the text `Loving` with the checkbox by nesting only the text `Loving` in a `label` element and giving it an appropriate `for` attribute.\n \n # --hints--\n \n-You should make sure the checkbox is still present.\n+You should make sure the checkbox element is still present, and you did not make any changes to it. It should stay as it was in the starting code.\n \n ```js\n-assert($('input[type=\"checkbox\"]')[0]);\n+const checkboxElementRegex = /\\s*<input\\s+id\\s*=\\s*\"loving\"\\s*type\\s*=\\s*\"checkbox\"\\s*>/;\n+assert.match(code, checkboxElementRegex);\n ```\n \n Your checkbox should still have an `id` attribute with the value `loving`.  Expected `--fcc-expected--`, but found `--fcc-actual--`.\n \n ```js\n-assert.equal($('input[type=\"checkbox\"]')[0].id, 'loving');\n+const checkboxElementId = document.querySelector('input[type=\"checkbox\"]')?.getAttribute('id');\n+assert.strictEqual(checkboxElementId, 'loving');\n ```\n \n-The text `Loving` should be wrapped in a `label` element.\n+You should add a new `label` element after the checkbox element. Make sure it has both an opening and closing tag.\n \n ```js\n-const checkboxInputElem = $('input[type=\"checkbox\"]')[0];\n-assert(\n-  /Loving/i.test(checkboxInputElem.nextElementSibling.innerText.replace(/\\s+/g, ' '))\n-);\n+assert.lengthOf(document.querySelectorAll('label'), 3);\n+assert.lengthOf(code.match(/<\\/label\\>/g), 3);\n ```\n \n-You will need to add a new `label` element in which to nest the text `Loving`. Make sure it has both an opening and closing tag.\n+Your `label` element should be located after your checkbox.\n \n ```js\n-assert(\n-  document.querySelectorAll('label').length === 3 &&\n-    code.match(/<\\/label\\>/g).length === 3\n-);\n+const checkboxElement = document.querySelector('input[type=\"checkbox\"]');\n+const checkboxSiblingElement = checkboxElement?.nextElementSibling?.nodeName;\n+assert.strictEqual(checkboxSiblingElement, 'LABEL');\n ```\n \n-The new `label` element should be located directly to the right of your checkbox. Make sure there is a space between the two elements.\n+Your `label` element should have the text `Loving`.\n \n ```js\n-const checkboxInputElem = $('input[type=\"checkbox\"]')[0];\n-assert(checkboxInputElem.nextElementSibling.nodeName === 'LABEL');\n+const checkboxElement = document.querySelector('input[type=\"checkbox\"]');\n+const checkboxSiblingElementText = checkboxElement?.nextElementSibling?.innerText;\n+\n+assert.strictEqual(checkboxSiblingElementText, 'Loving');\n ```\n \n-The new `label` element does not have a `for` attribute. Check that there is a space after the opening tag's name.\n+The label text `Loving` should only be inside your new `label` element. Make sure you did not duplicate the text outside the `label` element.\n \n ```js\n-const labelElem = $('input[type=\"checkbox\"]')[0].nextElementSibling;\n-assert(labelElem.hasAttribute('for'));\n+const checkboxElement = document.querySelector('input[type=\"checkbox\"]');\n+const checkboxSiblingNode = checkboxElement?.nextSibling?.nodeValue ?? '';\n+const labelElement = checkboxElement?.nextElementSibling;\n+const labelSiblingNode = labelElement?.nextSibling?.nodeValue ?? '';\n+\n+assert.notInclude(checkboxSiblingNode, 'Loving');\n+assert.notInclude(labelSiblingNode, 'Loving');\n ```\n \n-The new `label` element should have a `for` attribute with the value `loving`.  Expected `--fcc-expected--`, but found `--fcc-actual--`.\n+Your `label` element does not have a `for` attribute. Make sure there is a space between the opening `label` tag name and the `for` attribute.\n \n ```js\n-const labelElem = $('input[type=\"checkbox\"]')[0].nextElementSibling;\n-assert.equal(labelElem.getAttribute('for'), 'loving');\n+const checkboxElement = document.querySelector('input[type=\"checkbox\"]');\n+const checkboxSiblingElementAttr = checkboxElement?.nextElementSibling?.getAttribute('for');\n+\n+assert.isNotNull(checkboxSiblingElementAttr);\n ```\n \n-The text `Loving` should be nested within the new `label` element. You have either omitted the text or have a typo.\n+Your `label` element should have a `for` attribute with the value `loving`.  Expected `--fcc-expected--`, but found `--fcc-actual--`.\n \n ```js\n-const labelElem = document.querySelector('label[for=\"loving\"]');\n-assert(labelElem.textContent.replace(/\\s/g, '').match(/Loving/i));\n+const checkboxElement = document.querySelector('input[type=\"checkbox\"]');\n+const checkboxSiblingElementAttr = checkboxElement?.nextElementSibling?.getAttribute('for');\n+\n+assert.strictEqual(checkboxSiblingElementAttr, 'loving');\n ```\n \n There should be a space between your checkbox and your new `label` element."
        }
    ],
    "stats": {
        "total": 69,
        "additions": 42,
        "deletions": 27
    }
}