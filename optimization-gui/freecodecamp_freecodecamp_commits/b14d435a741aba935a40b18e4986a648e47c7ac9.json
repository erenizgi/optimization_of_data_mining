{
    "author": "moT01",
    "message": "feat: add submodule tests (#55497)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "b14d435a741aba935a40b18e4986a648e47c7ac9",
    "files": [
        {
            "sha": "26e6cd1d1d59a5e01b4a49956e6b5b7978ca3bfb",
            "filename": ".github/workflows/curriculum-i18n-submodule.yml",
            "status": "added",
            "additions": 70,
            "deletions": 0,
            "changes": 70,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml?ref=b14d435a741aba935a40b18e4986a648e47c7ac9",
            "patch": "@@ -0,0 +1,70 @@\n+name: CI - Node.js - i18n - Submodule\n+\n+on:\n+  # Run on push events, but only for the below branches\n+  push:\n+    branches:\n+      - 'chore/update-i18n-curriculum-submodule'\n+  workflow_dispatch:\n+\n+permissions:\n+  contents: read\n+\n+jobs:\n+  test-curriculum:\n+    name: Test Curriculum\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        node-version: [20.x]\n+        # Exclude the languages that we currently run in the full CI suite.\n+        locale:\n+          - 'chinese'\n+          - 'espanol'\n+          - 'ukrainian'\n+          - 'japanese'\n+          - 'german'\n+          - 'arabic'\n+          - 'swahili'\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install node_modules\n+        run: pnpm install\n+\n+      # DONT REMOVE THIS STEP.\n+      # TODO: Refactor and use re-usable workflow and shared artifacts\n+      - name: Build Client in ${{ matrix.locale }}\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: |\n+          pnpm run build\n+\n+      - name: Run Tests\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: pnpm test:curriculum"
        },
        {
            "sha": "b605c2556669c0f467c4cd19a09ed18df2d57a36",
            "filename": ".github/workflows/e2e-playwright-submodule.yml",
            "status": "added",
            "additions": 166,
            "deletions": 0,
            "changes": 166,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fe2e-playwright-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fe2e-playwright-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fe2e-playwright-submodule.yml?ref=b14d435a741aba935a40b18e4986a648e47c7ac9",
            "patch": "@@ -0,0 +1,166 @@\n+name: CI - E2E - Playwright - Submodule\n+on:\n+  workflow_dispatch:\n+  workflow_run:\n+    workflows: ['CI - Node.js']\n+    types:\n+      - completed\n+  # TODO: refactor with a workflow_call\n+  pull_request:\n+    paths-ignore:\n+      - 'docs/**'\n+    branches:\n+      - 'main'\n+      - 'next-**'\n+      - 'e2e-**'\n+\n+jobs:\n+  build-client:\n+    name: Build Client\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Checkout client-config\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          repository: freeCodeCamp/client-config\n+          path: client-config\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set freeCodeCamp Environment Variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install and Build\n+        run: |\n+          pnpm install\n+          pnpm run build\n+\n+      - name: Move serve.json to Public Folder\n+        run: cp client-config/serve.json client/public/serve.json\n+\n+      # We tar them for performance reasons - uploading a lot of files is slow.\n+      - name: Tar Files\n+        run: tar -cf client-artifact.tar client/public\n+\n+      - name: Upload Client Artifact\n+        uses: actions/upload-artifact@5d5d22a31266ced268874388b861e4b58bb5c2f3 # v4.3.1\n+        with:\n+          name: client-artifact\n+          path: client-artifact.tar\n+\n+      - name: Upload Webpack Stats\n+        uses: actions/upload-artifact@5d5d22a31266ced268874388b861e4b58bb5c2f3 # v4.3.1\n+        with:\n+          name: webpack-stats\n+          path: client/public/stats.json\n+\n+  playwright-run:\n+    name: E2E Test\n+    runs-on: ubuntu-22.04\n+    needs: build-client\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        # Not Mobile Safari until we can get it working. Webkit and Mobile\n+        # Chrome both work, so hopefully there are no Mobile Safari specific\n+        # bugs.\n+        browsers: [chromium, firefox, webkit, Mobile Chrome]\n+        node-version: [20.x]\n+\n+    services:\n+      mongodb:\n+        image: mongo:4.4\n+        ports:\n+          - 27017:27017\n+      # We need mailhog to catch any emails the api tries to send.\n+      mailhog:\n+        image: mailhog/mailhog\n+        ports:\n+          - 1025:1025 # SMTP server (listens for emails)\n+          - 8025:8025 # HTTP server (so we can make requests to the api)\n+\n+    steps:\n+      - name: Set Action Environment Variables\n+        run: |\n+          echo \"GITHUB_TOKEN=${{ secrets.GITHUB_TOKEN }}\" >> $GITHUB_ENV\n+\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - uses: actions/download-artifact@c850b930e6ba138125429b7e5c93fc707a7f8427 # v4.1.4\n+        with:\n+          name: client-artifact\n+\n+      - name: Unpack Client Artifact\n+        run: |\n+          tar -xf client-artifact.tar\n+          rm client-artifact.tar\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+\n+      - name: Set freeCodeCamp Environment Variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install and Build\n+        run: |\n+          pnpm install\n+          pnpm run create:shared\n+          pnpm run build:curriculum\n+          pnpm run build:server\n+\n+      - name: Seed Database with Certified User\n+        run: pnpm run seed:certified-user\n+\n+      # start-ci uses pm2, so it needs to be installed globally\n+      - name: Install pm2\n+        run: npm i -g pm2\n+\n+      - name: Install playwright dependencies\n+        run: npx playwright install --with-deps\n+\n+      - name: Run playwright tests\n+        run: |\n+          pnpm run start-ci &\n+          sleep 10\n+          npx playwright test --project=\"${{ matrix.browsers }}\" --grep-invert 'third-party-donation.spec.ts'\n+\n+      - uses: actions/upload-artifact@v4\n+        if: ${{ !cancelled() }}\n+        with:\n+          name: playwright-report-${{ matrix.browsers }}\n+          path: playwright/reporter\n+          retention-days: 30"
        },
        {
            "sha": "22d83dd109697c4fb9b86b6ec21427bc96f8f483",
            "filename": ".github/workflows/i18n-validate-builds-submodule.yml",
            "status": "added",
            "additions": 42,
            "deletions": 0,
            "changes": 42,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fi18n-validate-builds-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fi18n-validate-builds-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fi18n-validate-builds-submodule.yml?ref=b14d435a741aba935a40b18e4986a648e47c7ac9",
            "patch": "@@ -0,0 +1,42 @@\n+name: i18n - Build Validation - Submodule\n+on:\n+  push:\n+    branches:\n+      - main\n+\n+jobs:\n+  ci:\n+    name: Validate i18n Builds\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set freeCodeCamp Environment Variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install Dependencies\n+        run: pnpm install\n+\n+      - name: Validate Challenge Files\n+        run: pnpm run audit-challenges"
        },
        {
            "sha": "8dc61694c92379efb0ec7a988983d31f48dfb257",
            "filename": ".github/workflows/i18n-validate-prs-submodule.yml",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fi18n-validate-prs-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fi18n-validate-prs-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fi18n-validate-prs-submodule.yml?ref=b14d435a741aba935a40b18e4986a648e47c7ac9",
            "patch": "@@ -0,0 +1,59 @@\n+name: i18n - Curriculum PR Validation - Submodule\n+on:\n+  pull_request:\n+    branches:\n+      - main\n+\n+jobs:\n+  ci:\n+    name: Validate i18n Builds\n+    # run only on PRs that camperbot opens with title that matches the curriculum sync\n+    if: ${{ github.event.pull_request.user.login == 'camperbot' && contains(github.event.pull_request.title, 'chore(i18n,learn)') }}\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set freeCodeCamp Environment Variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install Dependencies\n+        run: pnpm install\n+\n+      - name: Validate Challenge Files\n+        id: validate\n+        run: pnpm run audit-challenges\n+\n+      - name: Create Comment\n+        # Run if the validate challenge files step fails, specifically. Note that we need the failure() call for this step to trigger if the action fails.\n+        if: ${{ failure() && steps.validate.conclusion == 'failure' }}\n+        uses: actions/github-script@d7906e4ad0b1822421a7e6a35d5ca353c962f410 # v6\n+        with:\n+          github-token: ${{secrets.CAMPERBOT_NO_TRANSLATE}}\n+          script: |\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body: \"Hey @freecodecamp/i18n, it looks like we have new English curriculum files that need to be translated.\"\n+            })"
        },
        {
            "sha": "2e08d390a41f20d46ccb4998ca6417ee1ae2e788",
            "filename": ".github/workflows/node.js-tests-submodule.yml",
            "status": "added",
            "additions": 289,
            "deletions": 0,
            "changes": 289,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fnode.js-tests-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b14d435a741aba935a40b18e4986a648e47c7ac9/.github%2Fworkflows%2Fnode.js-tests-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fnode.js-tests-submodule.yml?ref=b14d435a741aba935a40b18e4986a648e47c7ac9",
            "patch": "@@ -0,0 +1,289 @@\n+name: CI - Node.js - Submodule\n+\n+on:\n+  # Run on push events, but only for the below branches\n+  push:\n+    branches:\n+      - 'main'\n+      - 'prod-**'\n+  # Run on pull requests, but only for the below targets\n+  pull_request:\n+    branches:\n+      - 'main'\n+      - 'next-**'\n+  # Run on Merge Queue\n+  merge_group:\n+    types: [checks_requested]\n+\n+permissions:\n+  contents: read\n+\n+jobs:\n+  lint:\n+    name: Lint\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      matrix:\n+        node-version: [20.x]\n+      fail-fast: false\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Check number of lockfiles\n+        run: |\n+          if [ $(find . -name 'package-lock.json' | grep -vc -e 'node_modules') -gt 0 ]\n+          then\n+            echo -e 'Error: found package-lock files in the repository.\\nWe use pnpm workspaces to manage packages so all dependencies should be added via pnpm add'\n+            exit 1\n+          fi\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          echo 'SHOW_NEW_CURRICULUM=true' >> .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+          cat .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install node_modules\n+        run: pnpm install\n+\n+      - name: Check formatting\n+        run: |\n+          pnpm prettier --check . || [ $? -eq 1 ] && printf \"\\nTip: Run 'pnpm run format' in your terminal to fix this.\\n\\n\"\n+\n+      # The two prefixed installs are for the client update which are not,\n+      # currently, built as workspaces.\n+      - name: Lint Source Files\n+        run: |\n+          echo pnpm version $(pnpm -v)\n+          pnpm run create:shared\n+          pnpm run build:curriculum\n+          pnpm run lint\n+\n+  # DONT REMOVE THIS JOB.\n+  # TODO: Refactor and use re-usable workflow and shared artifacts\n+  build:\n+    name: Build\n+    needs: lint\n+    runs-on: ubuntu-22.04\n+    strategy:\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set freeCodeCamp Environment Variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Install and Build\n+        run: |\n+          pnpm install\n+          pnpm run build\n+\n+  test:\n+    name: Test\n+    needs: build\n+    runs-on: ubuntu-22.04\n+\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+          cat .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Start MongoDB\n+        uses: supercharge/mongodb-github-action@b0a1493307c4e9b82ed61f3858d606c5ff190c64 # v1.10.0\n+        with:\n+          mongodb-version: 6.0\n+          mongodb-replica-set: test-rs\n+          mongodb-port: 27017\n+\n+      - name: Install Dependencies\n+        run: |\n+          echo pnpm version $(pnpm -v)\n+          pnpm install\n+\n+      - name: Install Chrome for Puppeteer\n+        run: pnpm -F=curriculum install-puppeteer\n+\n+      - name: Run Tests\n+        run: pnpm test\n+\n+  test-upcoming:\n+    name: Test - Upcoming Changes\n+    needs: build\n+    runs-on: ubuntu-22.04\n+\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        node-version: [20.x]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          echo 'SHOW_UPCOMING_CHANGES=true' >> .env\n+          echo 'SHOW_NEW_CURRICULUM=true' >> .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+          cat .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Start MongoDB\n+        uses: supercharge/mongodb-github-action@b0a1493307c4e9b82ed61f3858d606c5ff190c64 # v1.10.0\n+        with:\n+          mongodb-version: 6.0\n+          mongodb-replica-set: test-rs\n+          mongodb-port: 27017\n+\n+      - name: Install Dependencies\n+        run: |\n+          echo pnpm version $(pnpm -v)\n+          pnpm install\n+\n+      - name: Install Chrome for Puppeteer\n+        run: pnpm -F=curriculum install-puppeteer\n+\n+      - name: Run Tests\n+        run: pnpm test\n+\n+  test-localization:\n+    name: Test - i18n\n+    needs: build\n+    runs-on: ubuntu-22.04\n+\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        node-version: [20.x]\n+        locale: [portuguese, italian]\n+\n+    steps:\n+      - name: Checkout Source Files\n+        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Setup pnpm\n+        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+        with:\n+          version: 9\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+          cache: pnpm\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          echo 'BUILD_WITH_SUBMODULE=true' >> .env\n+          cat .env\n+        # TODO: Remove this ^ after migration is complete\n+\n+      - name: Start MongoDB\n+        uses: supercharge/mongodb-github-action@b0a1493307c4e9b82ed61f3858d606c5ff190c64 # v1.10.0\n+        with:\n+          mongodb-version: 6.0\n+          mongodb-replica-set: test-rs\n+          mongodb-port: 27017\n+\n+      - name: Install Dependencies\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: |\n+          echo pnpm version $(pnpm -v)\n+          pnpm install\n+\n+      # DONT REMOVE THIS STEP.\n+      # TODO: Refactor and use re-usable workflow and shared artifacts\n+      - name: Build Client in ${{ matrix.locale }}\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: |\n+          pnpm run build\n+\n+      - name: Install Chrome for Puppeteer\n+        run: pnpm -F=curriculum install-puppeteer\n+\n+      - name: Run Tests\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: pnpm test"
        }
    ],
    "stats": {
        "total": 626,
        "additions": 626,
        "deletions": 0
    }
}