{
    "author": "ojeytonwilliams",
    "message": "refactor: modularize curriculum tooling (#63623)",
    "sha": "f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
    "files": [
        {
            "sha": "7b8073e24cf36d4bf5ce3a213c4cec619da8e884",
            "filename": "client/utils/build-challenges.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/client%2Futils%2Fbuild-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/client%2Futils%2Fbuild-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fbuild-challenges.js?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -19,7 +19,7 @@ const {\n const {\n   transformSuperBlock\n } = require('../../curriculum/dist/build-superblock.js');\n-const { getSuperOrder } = require('../../curriculum/dist/utils.js');\n+const { getSuperOrder } = require('../../curriculum/dist/config.js');\n \n const curriculumLocale = process.env.CURRICULUM_LOCALE || 'english';\n "
        },
        {
            "sha": "96b26a62b38ac1d859a6b1778b5525a8dcb4c00b",
            "filename": "curriculum/src/build-curriculum.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fbuild-curriculum.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fbuild-curriculum.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fbuild-curriculum.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -14,12 +14,8 @@ import {\n } from './build-superblock.js';\n \n import { buildCertification } from './build-certification.js';\n-import {\n-  applyFilters,\n-  closestFilters,\n-  Filter,\n-  getSuperOrder\n-} from './utils.js';\n+import { getSuperOrder } from './super-order.js';\n+import { applyFilters, closestFilters, type Filter } from './filter.js';\n import {\n   getContentDir,\n   getLanguageConfig,\n@@ -30,6 +26,7 @@ import {\n   getBlockStructureDir,\n   type BlockStructure\n } from './file-handler.js';\n+import { SHOW_UPCOMING_CHANGES } from './config.js';\n const log = debug('fcc:build-curriculum');\n \n /**\n@@ -225,7 +222,7 @@ export const superBlockToFilename = Object.entries(superBlockNames).reduce(\n  */\n export function addSuperblockStructure(\n   superBlockFilenames: string[],\n-  showComingSoon = process.env.SHOW_UPCOMING_CHANGES === 'true'\n+  showComingSoon = SHOW_UPCOMING_CHANGES\n ) {\n   log(`Building structure for ${superBlockFilenames.length} superblocks`);\n "
        },
        {
            "sha": "1ddae448077c157fc55278a7178f0af7bf8a46ee",
            "filename": "curriculum/src/build-superblock.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 5,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fbuild-superblock.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fbuild-superblock.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fbuild-superblock.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -13,12 +13,13 @@ import {\n import { SuperBlocks } from '../../shared-dist/config/curriculum';\n import type { Chapter } from '../../shared-dist/config/chapters';\n import { Certification } from '../../shared-dist/config/certification-settings';\n-import { getSuperOrder } from './utils.js';\n+import { getSuperOrder } from './super-order.js';\n import type {\n   BlockStructure,\n   Challenge,\n   ChallengeFile\n } from './file-handler.js';\n+import { SHOW_UPCOMING_CHANGES } from './config';\n \n const log = debug('fcc:build-superblock');\n \n@@ -372,10 +373,7 @@ export class BlockCreator {\n       throw Error(`Block directory not found: ${blockContentDir}`);\n     }\n \n-    if (\n-      block.isUpcomingChange &&\n-      process.env.SHOW_UPCOMING_CHANGES !== 'true'\n-    ) {\n+    if (block.isUpcomingChange && !SHOW_UPCOMING_CHANGES) {\n       log(`Ignoring upcoming block ${blockName}`);\n       return null;\n     }"
        },
        {
            "sha": "e4e9218a92b61908824143c54aa70961dbb498a7",
            "filename": "curriculum/src/config.ts",
            "status": "added",
            "additions": 37,
            "deletions": 0,
            "changes": 37,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fconfig.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fconfig.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fconfig.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -0,0 +1,37 @@\n+import { resolve } from 'path';\n+import { config } from 'dotenv';\n+\n+import { availableLangs } from '../../shared-dist/config/i18n.js';\n+\n+config({ path: resolve(__dirname, '../../.env') });\n+\n+const curriculumLangs = availableLangs.curriculum;\n+\n+// checks that the CURRICULUM_LOCALE exists and is an available language\n+export function testedLang() {\n+  if (process.env.CURRICULUM_LOCALE) {\n+    if (curriculumLangs.includes(process.env.CURRICULUM_LOCALE)) {\n+      return process.env.CURRICULUM_LOCALE;\n+    } else {\n+      throw Error(`${process.env.CURRICULUM_LOCALE} is not a supported language.\n+      Before the site can be built, this language needs to be manually approved`);\n+    }\n+  } else {\n+    throw Error('LOCALE must be set for testing');\n+  }\n+}\n+\n+export const SHOW_UPCOMING_CHANGES =\n+  process.env.SHOW_UPCOMING_CHANGES === 'true';\n+\n+export const FCC_CHALLENGE_ID = process.env.FCC_CHALLENGE_ID\n+  ? process.env.FCC_CHALLENGE_ID.trim()\n+  : undefined;\n+\n+export const curriculumFilter = {\n+  block: process.env.FCC_BLOCK ? process.env.FCC_BLOCK.trim() : undefined,\n+  challengeId: FCC_CHALLENGE_ID,\n+  superBlock: process.env.FCC_SUPERBLOCK\n+    ? process.env.FCC_SUPERBLOCK.trim()\n+    : undefined\n+};"
        },
        {
            "sha": "50188d58a51a235bb1b3edca2cf27963183c9008",
            "filename": "curriculum/src/filter.test.js",
            "status": "added",
            "additions": 244,
            "deletions": 0,
            "changes": 244,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ffilter.test.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ffilter.test.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ffilter.test.js?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -0,0 +1,244 @@\n+import { describe, it, expect } from 'vitest';\n+\n+import {\n+  closestFilters,\n+  closestMatch,\n+  filterByBlock,\n+  filterByChallengeId,\n+  filterBySuperblock\n+} from './filter';\n+\n+describe('filterByChallengeId', () => {\n+  it('returns the same superblocks if no challengeId is provided', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1', challengeOrder: [{ id: '1' }] }]\n+      },\n+      {\n+        name: 'superblock-2',\n+        blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n+      }\n+    ];\n+    expect(filterByChallengeId(superblocks)).toEqual(superblocks);\n+  });\n+\n+  it('ignores blocks without the specified challengeId', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [\n+          { dashedName: 'block-1', challengeOrder: [{ id: '1' }] },\n+          { dashedName: 'block-2', challengeOrder: [{ id: '2' }] }\n+        ]\n+      }\n+    ];\n+    const filtered = filterByChallengeId(superblocks, { challengeId: '2' });\n+    expect(filtered).toEqual([\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n+      }\n+    ]);\n+  });\n+\n+  it('returns only the specified challenge and its solution challenge', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [\n+          {\n+            dashedName: 'block-1',\n+            challengeOrder: [{ id: '1' }, { id: '2' }, { id: '3' }]\n+          },\n+          { dashedName: 'block-2', challengeOrder: [{ id: '4' }] }\n+        ]\n+      }\n+    ];\n+    const filtered = filterByChallengeId(superblocks, { challengeId: '1' });\n+    expect(filtered).toEqual([\n+      {\n+        name: 'superblock-1',\n+        blocks: [\n+          {\n+            dashedName: 'block-1',\n+            challengeOrder: [{ id: '1' }, { id: '2' }]\n+          }\n+        ]\n+      }\n+    ]);\n+  });\n+\n+  it('returns only superblocks containing the specified challenge', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [\n+          { dashedName: 'block-1', challengeOrder: [{ id: '1' }] },\n+          { dashedName: 'block-2', challengeOrder: [{ id: '2' }] }\n+        ]\n+      },\n+      {\n+        name: 'superblock-2',\n+        blocks: [{ dashedName: 'block-3', challengeOrder: [{ id: '3' }] }]\n+      }\n+    ];\n+    const filtered = filterByChallengeId(superblocks, { challengeId: '2' });\n+    expect(filtered).toEqual([\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n+      }\n+    ]);\n+  });\n+});\n+\n+describe('filterByBlock', () => {\n+  it('returns the same superblocks if no block is provided', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      }\n+    ];\n+    expect(filterByBlock(superblocks)).toEqual(superblocks);\n+  });\n+\n+  it('returns only the specified block', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      }\n+    ];\n+    const filtered = filterByBlock(superblocks, { block: 'block-1' });\n+    expect(filtered).toEqual([\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }]\n+      }\n+    ]);\n+  });\n+\n+  it('returns an empty array if no blocks match the specified block', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      }\n+    ];\n+    const filtered = filterByBlock(superblocks, {\n+      block: 'nonexistent-block'\n+    });\n+    expect(filtered).toEqual([]);\n+  });\n+});\n+\n+describe('filterBySuperblock', () => {\n+  it('returns the same superblocks if no superBlock is provided', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      }\n+    ];\n+    expect(filterBySuperblock(superblocks)).toEqual(superblocks);\n+  });\n+\n+  it('returns only the specified superblock', () => {\n+    const superblocks = [\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      },\n+      {\n+        name: 'superblock-2',\n+        blocks: [{ dashedName: 'block-3' }]\n+      }\n+    ];\n+    const filtered = filterBySuperblock(superblocks, {\n+      superBlock: 'superblock-1'\n+    });\n+    expect(filtered).toEqual([\n+      {\n+        name: 'superblock-1',\n+        blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n+      }\n+    ]);\n+  });\n+});\n+\n+describe('closestMatch', () => {\n+  it('returns the closest matching element', () => {\n+    const items = [\n+      'responsive-web-design',\n+      'javascript-algorithms-and-data-structures',\n+      'front-end-development-libraries',\n+      'data-visualization'\n+    ];\n+    const input = 'responsiv web design';\n+    const closest = 'responsive-web-design';\n+    expect(closestMatch(input, items)).toBe(closest);\n+  });\n+\n+  it('ignores case when finding the closest match', () => {\n+    const items = [\n+      'responsive-web-design',\n+      'ReSPonSivE-WeB-DeSiGne',\n+      'javascript-algorithms-and-data-structures',\n+      'front-end-development-libraries',\n+      'data-visualization'\n+    ];\n+    const input = 'ReSPonSiv WeB DeSiGn';\n+    const closest = 'responsive-web-design';\n+    expect(closestMatch(input, items)).toBe(closest);\n+  });\n+});\n+\n+describe('closestFilters', () => {\n+  it('returns the closest matching superblock filter', () => {\n+    const superblocks = [\n+      {\n+        name: 'responsive-web-design',\n+        blocks: [\n+          { dashedName: 'basic-html-and-html5', challengeOrder: [] },\n+          { dashedName: 'css-flexbox', challengeOrder: [] }\n+        ]\n+      },\n+      {\n+        name: 'javascript-algorithms-and-data-structures',\n+        blocks: [\n+          { dashedName: 'basic-javascript', challengeOrder: [] },\n+          { dashedName: 'es6', challengeOrder: [] }\n+        ]\n+      }\n+    ];\n+\n+    expect(\n+      closestFilters(superblocks, { superBlock: 'responsiv web design' })\n+    ).toEqual({ superBlock: 'responsive-web-design' });\n+  });\n+\n+  it('returns the closest matching block filter', () => {\n+    const superblocks = [\n+      {\n+        name: 'responsive-web-design',\n+        blocks: [\n+          { dashedName: 'basic-html-and-html5', challengeOrder: [] },\n+          { dashedName: 'css-flexbox', challengeOrder: [] }\n+        ]\n+      },\n+      {\n+        name: 'javascript-algorithms-and-data-structures',\n+        blocks: [\n+          { dashedName: 'basic-javascript', challengeOrder: [] },\n+          { dashedName: 'es6', challengeOrder: [] }\n+        ]\n+      }\n+    ];\n+\n+    expect(closestFilters(superblocks, { block: 'basic-javascr' })).toEqual({\n+      block: 'basic-javascript'\n+    });\n+  });\n+});"
        },
        {
            "sha": "f06a2fe58e4bbc013c8e63fdb485dd601231679b",
            "filename": "curriculum/src/filter.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 47,
            "changes": 47,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ffilter.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ffilter.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ffilter.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -1,51 +1,4 @@\n-import { resolve } from 'path';\n-\n import comparison from 'string-similarity';\n-import { config } from 'dotenv';\n-\n-import { generateSuperBlockList } from '../../shared-dist/config/curriculum.js';\n-\n-config({ path: resolve(__dirname, '../../.env') });\n-\n-import { availableLangs } from '../../shared-dist/config/i18n.js';\n-\n-const curriculumLangs = availableLangs.curriculum;\n-\n-// checks that the CURRICULUM_LOCALE exists and is an available language\n-export function testedLang() {\n-  if (process.env.CURRICULUM_LOCALE) {\n-    if (curriculumLangs.includes(process.env.CURRICULUM_LOCALE)) {\n-      return process.env.CURRICULUM_LOCALE;\n-    } else {\n-      throw Error(`${process.env.CURRICULUM_LOCALE} is not a supported language.\n-      Before the site can be built, this language needs to be manually approved`);\n-    }\n-  } else {\n-    throw Error('LOCALE must be set for testing');\n-  }\n-}\n-\n-export function createSuperOrder(superBlocks: string[]) {\n-  const superOrder: { [sb: string]: number } = {};\n-\n-  superBlocks.forEach((superBlock, i) => {\n-    superOrder[superBlock] = i;\n-  });\n-\n-  return superOrder;\n-}\n-\n-export function getSuperOrder(\n-  superblock: string,\n-  showUpcomingChanges = process.env.SHOW_UPCOMING_CHANGES === 'true'\n-) {\n-  const flatSuperBlockMap = generateSuperBlockList({\n-    showUpcomingChanges\n-  });\n-\n-  const superOrder = createSuperOrder(flatSuperBlockMap);\n-  return superOrder[superblock];\n-}\n \n /**\n  * Filters the superblocks array to include, at most, a single superblock with the specified block.",
            "previous_filename": "curriculum/src/utils.ts"
        },
        {
            "sha": "7642bb8a140efe57f6f3d17ea8e5a9a7f555bb95",
            "filename": "curriculum/src/lint-localized.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Flint-localized.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Flint-localized.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Flint-localized.js?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -1,6 +1,6 @@\n var glob = require('glob');\n const lint = require('../../tools/scripts/lint');\n-const { testedLang } = require('./utils');\n+const { testedLang } = require('./config');\n \n glob(`challenges/${testedLang()}/**/*.md`, (err, files) => {\n   if (!files.length) throw Error('No files found');"
        },
        {
            "sha": "f0e427166eef057371e306d8b311979664965397",
            "filename": "curriculum/src/super-order.test.ts",
            "status": "added",
            "additions": 86,
            "deletions": 0,
            "changes": 86,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fsuper-order.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fsuper-order.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fsuper-order.test.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -0,0 +1,86 @@\n+import { describe, it, expect } from 'vitest';\n+\n+import { SuperBlocks } from '../../shared-dist/config/curriculum';\n+import { createSuperOrder, getSuperOrder } from './super-order.js';\n+\n+const mockSuperBlocks = [\n+  SuperBlocks.RespWebDesignNew,\n+  SuperBlocks.JsAlgoDataStructNew,\n+  SuperBlocks.FrontEndDevLibs,\n+  SuperBlocks.DataVis,\n+  SuperBlocks.RelationalDb,\n+  SuperBlocks.BackEndDevApis,\n+  SuperBlocks.QualityAssurance,\n+  SuperBlocks.SciCompPy,\n+  SuperBlocks.DataAnalysisPy,\n+  SuperBlocks.InfoSec,\n+  SuperBlocks.MachineLearningPy,\n+  SuperBlocks.CollegeAlgebraPy,\n+  SuperBlocks.FoundationalCSharp,\n+  SuperBlocks.CodingInterviewPrep,\n+  SuperBlocks.ProjectEuler,\n+  SuperBlocks.RespWebDesign,\n+  SuperBlocks.JsAlgoDataStruct,\n+  SuperBlocks.TheOdinProject,\n+  SuperBlocks.FullStackDeveloper\n+];\n+\n+const fullSuperOrder = {\n+  [SuperBlocks.RespWebDesignNew]: 0,\n+  [SuperBlocks.JsAlgoDataStructNew]: 1,\n+  [SuperBlocks.FrontEndDevLibs]: 2,\n+  [SuperBlocks.DataVis]: 3,\n+  [SuperBlocks.RelationalDb]: 4,\n+  [SuperBlocks.BackEndDevApis]: 5,\n+  [SuperBlocks.QualityAssurance]: 6,\n+  [SuperBlocks.SciCompPy]: 7,\n+  [SuperBlocks.DataAnalysisPy]: 8,\n+  [SuperBlocks.InfoSec]: 9,\n+  [SuperBlocks.MachineLearningPy]: 10,\n+  [SuperBlocks.CollegeAlgebraPy]: 11,\n+  [SuperBlocks.FoundationalCSharp]: 12,\n+  [SuperBlocks.CodingInterviewPrep]: 13,\n+  [SuperBlocks.ProjectEuler]: 14,\n+  [SuperBlocks.RespWebDesign]: 15,\n+  [SuperBlocks.JsAlgoDataStruct]: 16,\n+  [SuperBlocks.TheOdinProject]: 17,\n+  [SuperBlocks.FullStackDeveloper]: 18\n+};\n+\n+describe('createSuperOrder', () => {\n+  const superOrder = createSuperOrder(mockSuperBlocks);\n+\n+  it('should create the correct object given an array of SuperBlocks', () => {\n+    expect(superOrder).toStrictEqual(fullSuperOrder);\n+  });\n+});\n+\n+describe('getSuperOrder', () => {\n+  it('returns a number for valid curriculum', () => {\n+    expect(typeof getSuperOrder('responsive-web-design')).toBe('number');\n+  });\n+\n+  it('returns undefined for unknown curriculum', () => {\n+    expect(getSuperOrder('')).toBeUndefined();\n+    expect(getSuperOrder('respansive-wib-desoin')).toBeUndefined();\n+    expect(getSuperOrder('certifications')).toBeUndefined();\n+  });\n+\n+  it('returns numbers for all current curriculum', () => {\n+    const superBlocks = Object.values(SuperBlocks);\n+\n+    const superOrderValues = superBlocks.map(sb => getSuperOrder(sb, true));\n+    const definedValues = superOrderValues.filter(v => typeof v === 'number');\n+\n+    expect(definedValues.length).toBe(superBlocks.length);\n+  });\n+\n+  it('returns unique numbers for all current curriculum', () => {\n+    const superBlocks = Object.values(SuperBlocks);\n+\n+    const superOrderValues = superBlocks.map(sb => getSuperOrder(sb, true));\n+    const uniqueValues = Array.from(new Set(superOrderValues));\n+\n+    expect(uniqueValues.length).toBe(superBlocks.length);\n+  });\n+});"
        },
        {
            "sha": "2cd400684406d1c502fa3d92580cbffc75eed466",
            "filename": "curriculum/src/super-order.ts",
            "status": "added",
            "additions": 24,
            "deletions": 0,
            "changes": 24,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fsuper-order.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Fsuper-order.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fsuper-order.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -0,0 +1,24 @@\n+import { generateSuperBlockList } from '../../shared-dist/config/curriculum.js';\n+import { SHOW_UPCOMING_CHANGES } from './config.js';\n+\n+export function createSuperOrder(superBlocks: string[]) {\n+  const superOrder: { [sb: string]: number } = {};\n+\n+  superBlocks.forEach((superBlock, i) => {\n+    superOrder[superBlock] = i;\n+  });\n+\n+  return superOrder;\n+}\n+\n+export function getSuperOrder(\n+  superblock: string,\n+  showUpcomingChanges = SHOW_UPCOMING_CHANGES\n+) {\n+  const flatSuperBlockMap = generateSuperBlockList({\n+    showUpcomingChanges\n+  });\n+\n+  const superOrder = createSuperOrder(flatSuperBlockMap);\n+  return superOrder[superblock];\n+}"
        },
        {
            "sha": "cdc56e5527ad5a4d423b8fa4faa7c1caf00c8e3a",
            "filename": "curriculum/src/test/daily-challenges.test.js",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Fdaily-challenges.test.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Fdaily-challenges.test.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ftest%2Fdaily-challenges.test.js?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -4,7 +4,7 @@ vi.stubEnv('SHOW_UPCOMING_CHANGES', 'true');\n \n // We need to use dynamic imports here to ensure the environment variable is set\n // before the module is loaded.\n-const { testedLang } = await import('../utils.js');\n+const { testedLang } = await import('../config.js');\n const { getChallenges } = await import('./test-challenges.js');\n \n describe('Daily Coding Challenges', async () => {"
        },
        {
            "sha": "1b3d908a15b07bbf35f94c1fefb8f654dca5c333",
            "filename": "curriculum/src/test/test-challenges.js",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -15,11 +15,11 @@ import { prefixDoctype } from '../../../client/src/templates/Challenges/utils/fr\n \n import { getChallengesForLang } from '../get-challenges.js';\n import { challengeSchemaValidator } from '../../schema/challenge-schema.js';\n-import { testedLang } from '../utils.js';\n \n import { curriculumSchemaValidator } from '../../schema/curriculum-schema.js';\n import { validateMetaSchema } from '../../schema/meta-schema.js';\n import { getBlockStructure } from '../file-handler.js';\n+import { FCC_CHALLENGE_ID, testedLang } from '../config.js';\n import ChallengeTitles from './utils/challenge-titles.js';\n import MongoIds from './utils/mongo-ids.js';\n import createPseudoWorker from './utils/pseudo-worker.js';\n@@ -135,7 +135,7 @@ function populateTestsForLang({ lang, challenges, meta }) {\n       // challenge to test (current challenge) might not have solution.\n       // Instead seed from next challenge is tested against tests from\n       // current challenge. Next challenge is skipped from testing.\n-      if (process.env.FCC_CHALLENGE_ID && id > 0) return;\n+      if (FCC_CHALLENGE_ID && id > 0) return;\n \n       const dashedBlockName = challenge.block;\n       // TODO: once certifications are not included in the list of challenges,"
        },
        {
            "sha": "40c441260a2255df49a63194e8d3c860a24880c8",
            "filename": "curriculum/src/test/utils/generate-block-tests.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 15,
            "changes": 22,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Futils%2Fgenerate-block-tests.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4/curriculum%2Fsrc%2Ftest%2Futils%2Fgenerate-block-tests.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ftest%2Futils%2Fgenerate-block-tests.ts?ref=f8dbb50b7e9d06d3fe4f85adb85f9bf66f4277f4",
            "patch": "@@ -4,7 +4,8 @@ import path from 'node:path';\n import _ from 'lodash';\n \n import { parseCurriculumStructure } from '../../build-curriculum.js';\n-import { Filter } from '../../utils.js';\n+import { type Filter } from '../../filter.js';\n+import { curriculumFilter } from '../../config.js';\n \n let __dirnameCompat: string;\n \n@@ -16,42 +17,33 @@ if (typeof __dirname !== 'undefined') {\n   __dirnameCompat = new Function('return import.meta.dirname')() as string;\n }\n \n-const testFilter: Filter = {\n-  block: process.env.FCC_BLOCK ? process.env.FCC_BLOCK.trim() : undefined,\n-  challengeId: process.env.FCC_CHALLENGE_ID\n-    ? process.env.FCC_CHALLENGE_ID.trim()\n-    : undefined,\n-  superBlock: process.env.FCC_SUPERBLOCK\n-    ? process.env.FCC_SUPERBLOCK.trim()\n-    : undefined\n-};\n-\n const GENERATED_DIR = path.resolve(__dirnameCompat, '../blocks-generated');\n \n async function main() {\n   // clean and recreate directory\n   await fs.promises.rm(GENERATED_DIR, { force: true, recursive: true });\n   await fs.promises.mkdir(GENERATED_DIR, { recursive: true });\n \n-  const { fullSuperblockList } = await parseCurriculumStructure(testFilter);\n+  const { fullSuperblockList } =\n+    await parseCurriculumStructure(curriculumFilter);\n \n   const blocks = _.uniq(\n     fullSuperblockList.flatMap(({ blocks }) => blocks).map(b => b.dashedName)\n   );\n \n   for (const block of blocks) {\n     const filePath = path.join(GENERATED_DIR, `${block}.test.js`);\n-    const contents = generateSingleBlockFile({ ...testFilter, block });\n+    const contents = generateSingleBlockFile({ ...curriculumFilter, block });\n     await fs.promises.writeFile(filePath, contents, 'utf8');\n   }\n \n   console.log(`Generated ${blocks.length} block test file(s).`);\n }\n \n-function generateSingleBlockFile(testFilter: Filter) {\n+function generateSingleBlockFile(filter: Filter) {\n   return `import { defineTestsForBlock } from '../test-challenges.js';\n \n-await defineTestsForBlock(${JSON.stringify(testFilter)});\n+await defineTestsForBlock(${JSON.stringify(filter)});\n `;\n }\n "
        },
        {
            "sha": "21671263067b0c7f98e14d4aee874b74466b7a54",
            "filename": "curriculum/src/utils.test.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 335,
            "changes": 335,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/74dd292cc18dedc2ca026b81fea86c9395e2ee30/curriculum%2Fsrc%2Futils.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/74dd292cc18dedc2ca026b81fea86c9395e2ee30/curriculum%2Fsrc%2Futils.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Futils.test.ts?ref=74dd292cc18dedc2ca026b81fea86c9395e2ee30",
            "patch": "@@ -1,335 +0,0 @@\n-import path from 'path';\n-import { config } from 'dotenv';\n-import { describe, it, expect } from 'vitest';\n-\n-import { SuperBlocks } from '../../shared-dist/config/curriculum';\n-import {\n-  closestFilters,\n-  closestMatch,\n-  createSuperOrder,\n-  filterByBlock,\n-  filterByChallengeId,\n-  filterBySuperblock,\n-  getSuperOrder\n-} from './utils.js';\n-\n-config({ path: path.resolve(__dirname, '../.env') });\n-\n-const mockSuperBlocks = [\n-  SuperBlocks.RespWebDesignNew,\n-  SuperBlocks.JsAlgoDataStructNew,\n-  SuperBlocks.FrontEndDevLibs,\n-  SuperBlocks.DataVis,\n-  SuperBlocks.RelationalDb,\n-  SuperBlocks.BackEndDevApis,\n-  SuperBlocks.QualityAssurance,\n-  SuperBlocks.SciCompPy,\n-  SuperBlocks.DataAnalysisPy,\n-  SuperBlocks.InfoSec,\n-  SuperBlocks.MachineLearningPy,\n-  SuperBlocks.CollegeAlgebraPy,\n-  SuperBlocks.FoundationalCSharp,\n-  SuperBlocks.CodingInterviewPrep,\n-  SuperBlocks.ProjectEuler,\n-  SuperBlocks.RespWebDesign,\n-  SuperBlocks.JsAlgoDataStruct,\n-  SuperBlocks.TheOdinProject,\n-  SuperBlocks.FullStackDeveloper\n-];\n-\n-const fullSuperOrder = {\n-  [SuperBlocks.RespWebDesignNew]: 0,\n-  [SuperBlocks.JsAlgoDataStructNew]: 1,\n-  [SuperBlocks.FrontEndDevLibs]: 2,\n-  [SuperBlocks.DataVis]: 3,\n-  [SuperBlocks.RelationalDb]: 4,\n-  [SuperBlocks.BackEndDevApis]: 5,\n-  [SuperBlocks.QualityAssurance]: 6,\n-  [SuperBlocks.SciCompPy]: 7,\n-  [SuperBlocks.DataAnalysisPy]: 8,\n-  [SuperBlocks.InfoSec]: 9,\n-  [SuperBlocks.MachineLearningPy]: 10,\n-  [SuperBlocks.CollegeAlgebraPy]: 11,\n-  [SuperBlocks.FoundationalCSharp]: 12,\n-  [SuperBlocks.CodingInterviewPrep]: 13,\n-  [SuperBlocks.ProjectEuler]: 14,\n-  [SuperBlocks.RespWebDesign]: 15,\n-  [SuperBlocks.JsAlgoDataStruct]: 16,\n-  [SuperBlocks.TheOdinProject]: 17,\n-  [SuperBlocks.FullStackDeveloper]: 18\n-};\n-\n-describe('createSuperOrder', () => {\n-  const superOrder = createSuperOrder(mockSuperBlocks);\n-\n-  it('should create the correct object given an array of SuperBlocks', () => {\n-    expect(superOrder).toStrictEqual(fullSuperOrder);\n-  });\n-});\n-\n-describe('getSuperOrder', () => {\n-  it('returns a number for valid curriculum', () => {\n-    expect(typeof getSuperOrder('responsive-web-design')).toBe('number');\n-  });\n-\n-  it('returns undefined for unknown curriculum', () => {\n-    expect(getSuperOrder('')).toBeUndefined();\n-    expect(getSuperOrder('respansive-wib-desoin')).toBeUndefined();\n-    expect(getSuperOrder('certifications')).toBeUndefined();\n-  });\n-\n-  it('returns numbers for all current curriculum', () => {\n-    const superBlocks = Object.values(SuperBlocks);\n-\n-    const superOrderValues = superBlocks.map(sb => getSuperOrder(sb, true));\n-    const definedValues = superOrderValues.filter(v => typeof v === 'number');\n-\n-    expect(definedValues.length).toBe(superBlocks.length);\n-  });\n-\n-  it('returns unique numbers for all current curriculum', () => {\n-    const superBlocks = Object.values(SuperBlocks);\n-\n-    const superOrderValues = superBlocks.map(sb => getSuperOrder(sb, true));\n-    const uniqueValues = Array.from(new Set(superOrderValues));\n-\n-    expect(uniqueValues.length).toBe(superBlocks.length);\n-  });\n-});\n-\n-describe('filter utils', () => {\n-  describe('filterByChallengeId', () => {\n-    it('returns the same superblocks if no challengeId is provided', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1', challengeOrder: [{ id: '1' }] }]\n-        },\n-        {\n-          name: 'superblock-2',\n-          blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n-        }\n-      ];\n-      expect(filterByChallengeId(superblocks)).toEqual(superblocks);\n-    });\n-\n-    it('ignores blocks without the specified challengeId', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [\n-            { dashedName: 'block-1', challengeOrder: [{ id: '1' }] },\n-            { dashedName: 'block-2', challengeOrder: [{ id: '2' }] }\n-          ]\n-        }\n-      ];\n-      const filtered = filterByChallengeId(superblocks, { challengeId: '2' });\n-      expect(filtered).toEqual([\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n-        }\n-      ]);\n-    });\n-\n-    it('returns only the specified challenge and its solution challenge', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [\n-            {\n-              dashedName: 'block-1',\n-              challengeOrder: [{ id: '1' }, { id: '2' }, { id: '3' }]\n-            },\n-            { dashedName: 'block-2', challengeOrder: [{ id: '4' }] }\n-          ]\n-        }\n-      ];\n-      const filtered = filterByChallengeId(superblocks, { challengeId: '1' });\n-      expect(filtered).toEqual([\n-        {\n-          name: 'superblock-1',\n-          blocks: [\n-            {\n-              dashedName: 'block-1',\n-              challengeOrder: [{ id: '1' }, { id: '2' }]\n-            }\n-          ]\n-        }\n-      ]);\n-    });\n-\n-    it('returns only superblocks containing the specified challenge', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [\n-            { dashedName: 'block-1', challengeOrder: [{ id: '1' }] },\n-            { dashedName: 'block-2', challengeOrder: [{ id: '2' }] }\n-          ]\n-        },\n-        {\n-          name: 'superblock-2',\n-          blocks: [{ dashedName: 'block-3', challengeOrder: [{ id: '3' }] }]\n-        }\n-      ];\n-      const filtered = filterByChallengeId(superblocks, { challengeId: '2' });\n-      expect(filtered).toEqual([\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-2', challengeOrder: [{ id: '2' }] }]\n-        }\n-      ]);\n-    });\n-  });\n-\n-  describe('filterByBlock', () => {\n-    it('returns the same superblocks if no block is provided', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        }\n-      ];\n-      expect(filterByBlock(superblocks)).toEqual(superblocks);\n-    });\n-\n-    it('returns only the specified block', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        }\n-      ];\n-      const filtered = filterByBlock(superblocks, { block: 'block-1' });\n-      expect(filtered).toEqual([\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }]\n-        }\n-      ]);\n-    });\n-\n-    it('returns an empty array if no blocks match the specified block', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        }\n-      ];\n-      const filtered = filterByBlock(superblocks, {\n-        block: 'nonexistent-block'\n-      });\n-      expect(filtered).toEqual([]);\n-    });\n-  });\n-\n-  describe('filterBySuperblock', () => {\n-    it('returns the same superblocks if no superBlock is provided', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        }\n-      ];\n-      expect(filterBySuperblock(superblocks)).toEqual(superblocks);\n-    });\n-\n-    it('returns only the specified superblock', () => {\n-      const superblocks = [\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        },\n-        {\n-          name: 'superblock-2',\n-          blocks: [{ dashedName: 'block-3' }]\n-        }\n-      ];\n-      const filtered = filterBySuperblock(superblocks, {\n-        superBlock: 'superblock-1'\n-      });\n-      expect(filtered).toEqual([\n-        {\n-          name: 'superblock-1',\n-          blocks: [{ dashedName: 'block-1' }, { dashedName: 'block-2' }]\n-        }\n-      ]);\n-    });\n-  });\n-\n-  describe('closestMatch', () => {\n-    it('returns the closest matching element', () => {\n-      const items = [\n-        'responsive-web-design',\n-        'javascript-algorithms-and-data-structures',\n-        'front-end-development-libraries',\n-        'data-visualization'\n-      ];\n-      const input = 'responsiv web design';\n-      const closest = 'responsive-web-design';\n-      expect(closestMatch(input, items)).toBe(closest);\n-    });\n-\n-    it('ignores case when finding the closest match', () => {\n-      const items = [\n-        'responsive-web-design',\n-        'ReSPonSivE-WeB-DeSiGne',\n-        'javascript-algorithms-and-data-structures',\n-        'front-end-development-libraries',\n-        'data-visualization'\n-      ];\n-      const input = 'ReSPonSiv WeB DeSiGn';\n-      const closest = 'responsive-web-design';\n-      expect(closestMatch(input, items)).toBe(closest);\n-    });\n-  });\n-\n-  describe('closestFilters', () => {\n-    it('returns the closest matching superblock filter', () => {\n-      const superblocks = [\n-        {\n-          name: 'responsive-web-design',\n-          blocks: [\n-            { dashedName: 'basic-html-and-html5', challengeOrder: [] },\n-            { dashedName: 'css-flexbox', challengeOrder: [] }\n-          ]\n-        },\n-        {\n-          name: 'javascript-algorithms-and-data-structures',\n-          blocks: [\n-            { dashedName: 'basic-javascript', challengeOrder: [] },\n-            { dashedName: 'es6', challengeOrder: [] }\n-          ]\n-        }\n-      ];\n-\n-      expect(\n-        closestFilters(superblocks, { superBlock: 'responsiv web design' })\n-      ).toEqual({ superBlock: 'responsive-web-design' });\n-    });\n-\n-    it('returns the closest matching block filter', () => {\n-      const superblocks = [\n-        {\n-          name: 'responsive-web-design',\n-          blocks: [\n-            { dashedName: 'basic-html-and-html5', challengeOrder: [] },\n-            { dashedName: 'css-flexbox', challengeOrder: [] }\n-          ]\n-        },\n-        {\n-          name: 'javascript-algorithms-and-data-structures',\n-          blocks: [\n-            { dashedName: 'basic-javascript', challengeOrder: [] },\n-            { dashedName: 'es6', challengeOrder: [] }\n-          ]\n-        }\n-      ];\n-\n-      expect(closestFilters(superblocks, { block: 'basic-javascr' })).toEqual({\n-        block: 'basic-javascript'\n-      });\n-    });\n-  });\n-});"
        }
    ],
    "stats": {
        "total": 824,
        "additions": 410,
        "deletions": 414
    }
}