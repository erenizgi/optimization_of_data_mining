{
    "author": "huyenltnguyen",
    "message": "fix(scripts): ignore upcoming blocks when building external curricula (#61345)",
    "sha": "0d2268981ceee8accb81bf220dff4124598ccab1",
    "files": [
        {
            "sha": "9ce226a726df41691e2a4d3a792970cd13ec57ce",
            "filename": "tools/scripts/build/build-external-curricula-data-v2.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 7,
            "changes": 18,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0d2268981ceee8accb81bf220dff4124598ccab1/tools%2Fscripts%2Fbuild%2Fbuild-external-curricula-data-v2.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0d2268981ceee8accb81bf220dff4124598ccab1/tools%2Fscripts%2Fbuild%2Fbuild-external-curricula-data-v2.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fscripts%2Fbuild%2Fbuild-external-curricula-data-v2.ts?ref=0d2268981ceee8accb81bf220dff4124598ccab1",
            "patch": "@@ -305,13 +305,17 @@ export function buildExtCurriculumDataV2(\n             moduleType: module.moduleType,\n             blocks: module.comingSoon\n               ? []\n-              : module.blocks.map(block => {\n-                  const blockData = blocksWithData[block.dashedName];\n-                  return {\n-                    intro: superBlockIntros.blocks[block.dashedName].intro,\n-                    meta: blockData.meta\n-                  };\n-                })\n+              : module.blocks\n+                  // Upcoming blocks aren't included in blocksWithData\n+                  // and thus they have no metadata and need to be filtered out.\n+                  .filter(block => blocksWithData[block.dashedName])\n+                  .map(block => {\n+                    const blockData = blocksWithData[block.dashedName];\n+                    return {\n+                      intro: superBlockIntros.blocks[block.dashedName].intro,\n+                      meta: blockData.meta\n+                    };\n+                  })\n           }))\n     }));\n "
        }
    ],
    "stats": {
        "total": 18,
        "additions": 11,
        "deletions": 7
    }
}