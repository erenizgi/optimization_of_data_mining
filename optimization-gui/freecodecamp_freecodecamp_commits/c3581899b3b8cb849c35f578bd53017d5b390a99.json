{
    "author": "gagan-bhullar-tech",
    "message": "fix(curriculum): swap test order (#55956)\n\nCo-authored-by: Sem Bauke <sem@freecodecamp.org>\r\nCo-authored-by: Lasse JÃ¸rgensen <28780271+lasjorg@users.noreply.github.com>",
    "sha": "c3581899b3b8cb849c35f578bd53017d5b390a99",
    "files": [
        {
            "sha": "ac69672b5a353712c8cea8048e2c8e3ee3a5a56b",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/build-a-cash-register-project/build-a-cash-register.md",
            "status": "modified",
            "additions": 23,
            "deletions": 22,
            "changes": 45,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c3581899b3b8cb849c35f578bd53017d5b390a99/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c3581899b3b8cb849c35f578bd53017d5b390a99/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md?ref=c3581899b3b8cb849c35f578bd53017d5b390a99",
            "patch": "@@ -372,7 +372,7 @@ assert.strictEqual(\n );\n ```\n \n-When `price` is less than the value in the `#cash` element, total cash in drawer `cid` is greater than change due, individual denomination amounts make impossible to return needed change, and the `#purchase-btn` element is clicked, the value in the `#change-due` element should be `\"Status: INSUFFICIENT_FUNDS\"`\n+When the `price` is less than the value in the `#cash` element and the total cash in the drawer (`cid`) is insufficient to cover the change due, the purchase should not proceed. When the `#purchase-btn` is clicked under these conditions, the `#change-due` element should display `\"Status: INSUFFICIENT_FUNDS\"`.\n \n ```js\n const cashInput = document.getElementById('cash');\n@@ -387,26 +387,22 @@ price = (randomCash - randomChange) / 100;\n cashInput.value = `${randomCash / 100}`;\n \n let changeLeft = randomChange;\n-const _expectedChangeDue = [];\n const _cashInDrawer = [];\n for (const [denominationName, denomination] of _money) {\n   const maxCountInChange = Math.floor(changeLeft / denomination);\n-  // If denomination can complete required changeLeft, available amount in drawer cannot\n-  // equal the maximum. Otherwise count in drawer can be greater than maximum count in change.\n-  const drawerCount = _randomNumber(\n-    changeLeft % denomination === 0 ? Math.min(15, maxCountInChange - 1) : 15\n-  );\n+  // Amount lower than maximum (adjusted to changeLeft) will ensure total in drawer\n+  // will be lower than needed change.\n+  const drawerCount = _randomNumber(Math.max(0, Math.min(15, maxCountInChange - 1)));\n   const amountInDrawer = drawerCount * denomination;\n   _cashInDrawer.push([denominationName, amountInDrawer / 100]);\n-  const changeCount = Math.min(drawerCount, maxCountInChange);\n-  if (denomination <= changeLeft && changeCount > 0) {\n-    changeLeft -= changeCount * denomination;\n+  if (denomination <= changeLeft && drawerCount > 0) {\n+    changeLeft -= amountInDrawer;\n   }\n }\n \n-// Less pennies than changeLeft makes impossible to return change due.\n-const drawerCount = _randomNumber(Math.min(15, changeLeft - 1));\n-_cashInDrawer.push(['PENNY', drawerCount / 100]);\n+// Less pennies than changeLeft makes sure total cash in drawer is less than change due.\n+const count = _randomNumber(Math.min(15, changeLeft - 1));\n+_cashInDrawer.push(['PENNY', count / 100]);\n \n cid = _cashInDrawer.reverse();\n \n@@ -447,7 +443,8 @@ assert.strictEqual(\n );\n ```\n \n-When `price` is less than the value in the `#cash` element, total cash in drawer `cid` is less than the change due, and the `#purchase-btn` element is clicked, the value in the `#change-due` element should be `\"Status: INSUFFICIENT_FUNDS\"`.\n+\n+When `price` is less than the value in the `#cash` element, total cash in drawer `cid` is greater than change due, but the individual denomination amounts make it impossible to return needed change, when the `#purchase-btn` element is clicked, the value in the `#change-due` element should be `\"Status: INSUFFICIENT_FUNDS\"`\n \n ```js\n const cashInput = document.getElementById('cash');\n@@ -462,22 +459,26 @@ price = (randomCash - randomChange) / 100;\n cashInput.value = `${randomCash / 100}`;\n \n let changeLeft = randomChange;\n+const _expectedChangeDue = [];\n const _cashInDrawer = [];\n for (const [denominationName, denomination] of _money) {\n   const maxCountInChange = Math.floor(changeLeft / denomination);\n-  // Amount lower than maximum (adjusted to changeLeft) will ensure total in drawer\n-  // will be lower than needed change.\n-  const drawerCount = _randomNumber(Math.max(0, Math.min(15, maxCountInChange - 1)));\n+  // If denomination can complete required changeLeft, available amount in drawer cannot\n+  // equal the maximum. Otherwise count in drawer can be greater than maximum count in change.\n+  const drawerCount = _randomNumber(\n+    changeLeft % denomination === 0 ? Math.min(15, maxCountInChange - 1) : 15\n+  );\n   const amountInDrawer = drawerCount * denomination;\n   _cashInDrawer.push([denominationName, amountInDrawer / 100]);\n-  if (denomination <= changeLeft && drawerCount > 0) {\n-    changeLeft -= amountInDrawer;\n+  const changeCount = Math.min(drawerCount, maxCountInChange);\n+  if (denomination <= changeLeft && changeCount > 0) {\n+    changeLeft -= changeCount * denomination;\n   }\n }\n \n-// Less pennies than changeLeft makes sure total cash in drawer is less than change due.\n-const count = _randomNumber(Math.min(15, changeLeft - 1));\n-_cashInDrawer.push(['PENNY', count / 100]);\n+// Less pennies than changeLeft makes impossible to return change due.\n+const drawerCount = _randomNumber(Math.min(15, changeLeft - 1));\n+_cashInDrawer.push(['PENNY', drawerCount / 100]);\n \n cid = _cashInDrawer.reverse();\n "
        }
    ],
    "stats": {
        "total": 45,
        "additions": 23,
        "deletions": 22
    }
}