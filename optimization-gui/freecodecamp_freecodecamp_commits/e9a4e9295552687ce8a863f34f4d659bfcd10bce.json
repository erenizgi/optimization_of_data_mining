{
    "author": "ojeytonwilliams",
    "message": "feat(client): use typescript in challenges (#56253)\n\nCo-authored-by: moT01 <20648924+moT01@users.noreply.github.com>",
    "sha": "e9a4e9295552687ce8a863f34f4d659bfcd10bce",
    "files": [
        {
            "sha": "6dcea9464cc99ee91507ff60625c9004ca971628",
            "filename": ".gitignore",
            "status": "modified",
            "additions": 1,
            "deletions": 6,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/.gitignore",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/.gitignore",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.gitignore?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -157,12 +157,7 @@ shared/config/curriculum.json\n shared/config/*.js\n \n ### Generated utils files ###\n-shared/utils/get-lines.js\n-shared/utils/get-lines.test.js\n-shared/utils/validate.js\n-shared/utils/validate.test.js\n-shared/utils/is-audited.js\n-shared/utils/shuffle-array.js\n+shared/utils/*.js\n \n ### Old Generated files ###\n # These files are no longer generated by the client, but can"
        },
        {
            "sha": "23f5f5a922d03df777c00f34628f5fa98c0ed995",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 9,
            "deletions": 17,
            "changes": 26,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -1,9 +1,12 @@\n import { HandlerProps } from 'react-reflex';\n import { SuperBlocks } from '../../../shared/config/curriculum';\n import { BlockLayouts, BlockTypes } from '../../../shared/config/blocks';\n+import type { ChallengeFile, Ext } from '../../../shared/utils/polyvinyl';\n import { Themes } from '../components/settings/theme';\n import { type CertTitle } from '../../config/cert-and-project-map';\n \n+export type { ChallengeFile, Ext };\n+\n export type Steps = {\n   isHonest?: boolean;\n   currentCerts?: Array<CurrentCert>;\n@@ -386,8 +389,12 @@ export type CompletedChallenge = {\n   examResults?: GeneratedExamResults;\n };\n \n-export type Ext = 'js' | 'html' | 'css' | 'jsx';\n-export type FileKey = 'scriptjs' | 'indexhtml' | 'stylescss' | 'indexjsx';\n+export type FileKey =\n+  | 'scriptjs'\n+  | 'indexts'\n+  | 'indexhtml'\n+  | 'stylescss'\n+  | 'indexjsx';\n \n export type ChallengeMeta = {\n   block: string;\n@@ -422,21 +429,6 @@ export type FileKeyChallenge = {\n   tail: string;\n };\n \n-export type ChallengeFile = {\n-  fileKey: string;\n-  ext: Ext;\n-  name: string;\n-  editableRegionBoundaries?: number[];\n-  usesMultifileEditor?: boolean;\n-  error?: unknown;\n-  head: string;\n-  tail: string;\n-  seed: string;\n-  contents: string;\n-  id: string;\n-  history: string[];\n-};\n-\n export type ChallengeFiles = ChallengeFile[] | null;\n \n export interface UserFetchState {"
        },
        {
            "sha": "18a18d94d2e58dbc4a2163c0494783ea7c92135f",
            "filename": "client/src/templates/Challenges/rechallenge/transformers.js",
            "status": "modified",
            "additions": 42,
            "deletions": 10,
            "changes": 52,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Frechallenge%2Ftransformers.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Frechallenge%2Ftransformers.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Frechallenge%2Ftransformers.js?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -9,7 +9,7 @@ import {\n   stubTrue\n } from 'lodash-es';\n \n-import sassData from '../../../../../client/config/browser-scripts/sass-compile.json';\n+import sassData from '../../../../config/browser-scripts/sass-compile.json';\n import {\n   transformContents,\n   transformHeadTailAndContents,\n@@ -18,6 +18,10 @@ import {\n   createSource\n } from '../../../../../shared/utils/polyvinyl';\n import { WorkerExecutor } from '../utils/worker-executor';\n+import {\n+  compileTypeScriptCode,\n+  initTypeScriptService\n+} from '../utils/typescript-worker-handler';\n \n const { filename: sassCompile } = sassData;\n \n@@ -97,12 +101,13 @@ const NBSPReg = new RegExp(String.fromCharCode(160), 'g');\n \n const testJS = matchesProperty('ext', 'js');\n const testJSX = matchesProperty('ext', 'jsx');\n+const testTypeScript = matchesProperty('ext', 'ts');\n const testHTML = matchesProperty('ext', 'html');\n-const testHTML$JS$JSX = overSome(testHTML, testJS, testJSX);\n+const testHTML$JS$JSX$TS = overSome(testHTML, testJS, testJSX, testTypeScript);\n \n const replaceNBSP = cond([\n   [\n-    testHTML$JS$JSX,\n+    testHTML$JS$JSX$TS,\n     partial(transformContents, contents => contents.replace(NBSPReg, ' '))\n   ],\n   [stubTrue, identity]\n@@ -112,19 +117,19 @@ const babelTransformer = loopProtectOptions => {\n   return cond([\n     [\n       testJS,\n-      async code => {\n+      async challengeFile => {\n         await loadBabel();\n         await loadPresetEnv();\n         const babelOptions = getBabelOptions(presetsJS, loopProtectOptions);\n         return transformHeadTailAndContents(\n           babelTransformCode(babelOptions),\n-          code\n+          challengeFile\n         );\n       }\n     ],\n     [\n       testJSX,\n-      async code => {\n+      async challengeFile => {\n         await loadBabel();\n         await loadPresetReact();\n         const babelOptions = getBabelOptions(presetsJSX, loopProtectOptions);\n@@ -134,7 +139,22 @@ const babelTransformer = loopProtectOptions => {\n             babelTransformCode(babelOptions)\n           ),\n           partial(setExt, 'js')\n-        )(code);\n+        )(challengeFile);\n+      }\n+    ],\n+    [\n+      testTypeScript,\n+      async challengeFile => {\n+        await loadBabel();\n+        await initTypeScriptService();\n+        const babelOptions = getBabelOptions(presetsJS, loopProtectOptions);\n+        return flow(\n+          partial(transformHeadTailAndContents, compileTypeScriptCode),\n+          partial(\n+            transformHeadTailAndContents,\n+            babelTransformCode(babelOptions)\n+          )\n+        )(challengeFile);\n       }\n     ],\n     [stubTrue, identity]\n@@ -197,7 +217,7 @@ async function transformScript(documentElement) {\n // This does the final transformations of the files needed to embed them into\n // HTML.\n export const embedFilesInHtml = async function (challengeFiles) {\n-  const { indexHtml, stylesCss, scriptJs, indexJsx } =\n+  const { indexHtml, stylesCss, scriptJs, indexJsx, indexTs } =\n     challengeFilesToObject(challengeFiles);\n \n   const embedStylesAndScript = (documentElement, contentDocument) => {\n@@ -207,6 +227,10 @@ export const embedFilesInHtml = async function (challengeFiles) {\n     const script =\n       documentElement.querySelector('script[src=\"script.js\"]') ??\n       documentElement.querySelector('script[src=\"./script.js\"]');\n+\n+    const tsScript =\n+      documentElement.querySelector('script[src=\"index.ts\"]') ??\n+      documentElement.querySelector('script[src=\"./index.ts\"]');\n     if (link) {\n       const style = contentDocument.createElement('style');\n       style.classList.add('fcc-injected-styles');\n@@ -222,6 +246,11 @@ export const embedFilesInHtml = async function (challengeFiles) {\n       script.removeAttribute('src');\n       script.setAttribute('data-src', 'script.js');\n     }\n+    if (tsScript) {\n+      tsScript.innerHTML = indexTs?.contents;\n+      tsScript.removeAttribute('src');\n+      tsScript.setAttribute('data-src', 'index.ts');\n+    }\n     return documentElement.innerHTML;\n   };\n \n@@ -235,8 +264,10 @@ export const embedFilesInHtml = async function (challengeFiles) {\n     return [challengeFiles, `<script>${indexJsx.contents}</script>`];\n   } else if (scriptJs) {\n     return [challengeFiles, `<script>${scriptJs.contents}</script>`];\n+  } else if (indexTs) {\n+    return [challengeFiles, `<script>${indexTs.contents}</script>`];\n   } else {\n-    throw Error('No html or js(x) file found');\n+    throw Error('No html, ts or js(x) file found');\n   }\n };\n \n@@ -247,7 +278,8 @@ function challengeFilesToObject(challengeFiles) {\n   );\n   const stylesCss = challengeFiles.find(file => file.fileKey === 'stylescss');\n   const scriptJs = challengeFiles.find(file => file.fileKey === 'scriptjs');\n-  return { indexHtml, indexJsx, stylesCss, scriptJs };\n+  const indexTs = challengeFiles.find(file => file.fileKey === 'indexts');\n+  return { indexHtml, indexJsx, stylesCss, scriptJs, indexTs };\n }\n \n const parseAndTransform = async function (transform, contents) {"
        },
        {
            "sha": "dc1954cf1efaf07a3295a2b1139af8af7d6cadda",
            "filename": "client/src/templates/Challenges/utils/build.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 10,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fbuild.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fbuild.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fbuild.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -3,10 +3,7 @@ import frameRunnerData from '../../../../../client/config/browser-scripts/frame-\n import jsTestEvaluatorData from '../../../../../client/config/browser-scripts/test-evaluator.json';\n import pyTestEvaluatorData from '../../../../../client/config/browser-scripts/python-test-evaluator.json';\n \n-import {\n-  ChallengeFile as PropTypesChallengeFile,\n-  ChallengeMeta\n-} from '../../../redux/prop-types';\n+import { ChallengeFile, ChallengeMeta } from '../../../redux/prop-types';\n import { concatHtml } from '../rechallenge/builders';\n import {\n   getTransformers,\n@@ -25,12 +22,6 @@ import {\n } from './frame';\n import { WorkerExecutor } from './worker-executor';\n \n-interface ChallengeFile extends PropTypesChallengeFile {\n-  source: string;\n-  index: string;\n-  editableContents: string;\n-}\n-\n interface BuildChallengeData extends Context {\n   challengeType: number;\n   challengeFiles?: ChallengeFile[];"
        },
        {
            "sha": "a28d4a29a2b88e7715fd407ff65d57345a3671d6",
            "filename": "client/src/templates/Challenges/utils/frame.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fframe.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fframe.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fframe.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -13,7 +13,7 @@ export interface Source {\n   index: string;\n   contents?: string;\n   editableContents: string;\n-  original: { [key: string]: string };\n+  original: { [key: string]: string | null };\n }\n \n export interface Context {"
        },
        {
            "sha": "81188a3299d5dd3948013de6b8f5eb2f04c5eab5",
            "filename": "client/src/templates/Challenges/utils/typescript-worker-handler.ts",
            "status": "added",
            "additions": 44,
            "deletions": 0,
            "changes": 44,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Ftypescript-worker-handler.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Ftypescript-worker-handler.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Ftypescript-worker-handler.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -0,0 +1,44 @@\n+import typeScriptWorkerData from '../../../../config/browser-scripts/typescript-worker.json';\n+import { awaitResponse } from './worker-messenger';\n+\n+const typeScriptWorkerSrc = `/js/${typeScriptWorkerData.filename}.js`;\n+\n+let worker: Worker | null = null;\n+\n+function getTypeScriptWorker(): Worker {\n+  if (!worker) {\n+    worker = new Worker(typeScriptWorkerSrc);\n+  }\n+  return worker;\n+}\n+\n+export function compileTypeScriptCode(code: string): Promise<string> {\n+  return awaitResponse({\n+    worker: getTypeScriptWorker(),\n+    message: { type: 'compile', code },\n+    onMessage: (data, onSuccess, onFailure) => {\n+      if (data.type === 'compiled') {\n+        if (!data.error) {\n+          onSuccess(data.value);\n+        } else {\n+          onFailure(Error(data.error));\n+        }\n+      } else {\n+        onFailure(Error('unable to compile code'));\n+      }\n+    }\n+  });\n+}\n+\n+export function initTypeScriptService(): Promise<boolean> {\n+  return awaitResponse({\n+    worker: getTypeScriptWorker(),\n+    message: { type: 'init' },\n+    onMessage: (data, onSuccess) => {\n+      if (data.type === 'ready') {\n+        onSuccess(true);\n+      }\n+      // otherwise it times out.\n+    }\n+  });\n+}"
        },
        {
            "sha": "faa4900590e635a0829e8b947ddb0c426d661faa",
            "filename": "client/src/templates/Challenges/utils/worker-messenger.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 18,
            "changes": 38,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fworker-messenger.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fworker-messenger.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Futils%2Fworker-messenger.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -17,7 +17,7 @@\n  */\n export function awaitResponse<\n   MessageOut,\n-  MessageIn extends { type: string; value: Value },\n+  MessageIn extends { type: string; value: Value; error: string },\n   Value\n >({\n   worker,\n@@ -28,25 +28,27 @@ export function awaitResponse<\n   message: MessageOut;\n   onMessage: (\n     response: MessageIn,\n-    resolve: (res: Value) => void,\n-    reject: (err: string) => void\n+    onSuccess: (res: Value) => void,\n+    onFailure: (err: Error) => void\n   ) => void;\n }): Promise<Value> {\n-  return new Promise((resolve, reject) => {\n-    const channel = new MessageChannel();\n-    // TODO: Figure out how to ensure the worker is ready and/or handle when it\n-    // is not.\n-    const id = setTimeout(() => {\n-      channel.port1.close();\n-      reject(Error('No response from worker'));\n-    }, 5000);\n+  return new Promise(\n+    (resolve: (res: Value) => void, reject: (err: Error) => void) => {\n+      const channel = new MessageChannel();\n+      // TODO: Figure out how to ensure the worker is ready and/or handle when it\n+      // is not.\n+      const id = setTimeout(() => {\n+        channel.port1.close();\n+        reject(Error('No response from worker'));\n+      }, 5000);\n \n-    channel.port1.onmessage = (event: MessageEvent<MessageIn>) => {\n-      clearTimeout(id);\n-      channel.port1.close();\n-      onMessage(event.data, resolve, reject);\n-    };\n+      channel.port1.onmessage = (event: MessageEvent<MessageIn>) => {\n+        clearTimeout(id);\n+        channel.port1.close();\n+        onMessage(event.data, resolve, reject);\n+      };\n \n-    worker.postMessage(message, [channel.port2]);\n-  });\n+      worker.postMessage(message, [channel.port2]);\n+    }\n+  );\n }"
        },
        {
            "sha": "e99602d15d4a864e7aac37433c5c5ce4d0bda0de",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/pnpm-lock.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-lock.yaml?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -885,6 +885,9 @@ importers:\n \n   shared:\n     dependencies:\n+      '@types/invariant':\n+        specifier: ^2.2.37\n+        version: 2.2.37\n       invariant:\n         specifier: 2.2.4\n         version: 2.2.4\n@@ -1126,6 +1129,9 @@ importers:\n       '@types/lodash-es':\n         specifier: 4.17.12\n         version: 4.17.12\n+      '@typescript/vfs':\n+        specifier: ^1.6.0\n+        version: 1.6.0(typescript@5.4.5)\n       babel-loader:\n         specifier: 8.3.0\n         version: 8.3.0(@babel/core@7.23.7)(webpack@5.90.3)\n@@ -4181,6 +4187,9 @@ packages:\n   '@types/inquirer@8.2.10':\n     resolution: {integrity: sha512-IdD5NmHyVjWM8SHWo/kPBgtzXatwPkfwzyP3fN1jF2g9BWt5WO+8hL2F4o2GKIYsU40PpqeevuUWvkS/roXJkA==}\n \n+  '@types/invariant@2.2.37':\n+    resolution: {integrity: sha512-IwpIMieE55oGWiXkQPSBY1nw1nFs6bsKXTFskNY8sdS17K24vyEBRQZEwlRS7ZmXCWnJcQtbxWzly+cODWGs2A==}\n+\n   '@types/istanbul-lib-coverage@2.0.4':\n     resolution: {integrity: sha512-z/QT1XN4K4KYuslS23k62yDIDLwLFkzxOuMplDtObz0+y7VqJCaO2o+SPwHCvLFZh7xazvvoor2tA/hPz9ee7g==}\n \n@@ -4596,6 +4605,11 @@ packages:\n     resolution: {integrity: sha512-yTdHDQxY7cSoCcAtiBzVzxleJhkGB9NncSIyMYe2+OGON1ZsP9zOPws/Pqgopa65jvknOjlk/w7ulPlZ78PiLQ==}\n     engines: {node: ^16.0.0 || >=18.0.0}\n \n+  '@typescript/vfs@1.6.0':\n+    resolution: {integrity: sha512-hvJUjNVeBMp77qPINuUvYXj4FyWeeMMKZkxEATEU3hqBAQ7qdTBCUFT7Sp0Zu0faeEtFf+ldXxMEDr/bk73ISg==}\n+    peerDependencies:\n+      typescript: '*'\n+\n   '@uiw/react-codemirror@3.2.10':\n     resolution: {integrity: sha512-sSabPpOQFFRAZwm/JZ6gRRqQg0PBPw9nRAT9YepqUSM3TJHQzavZDRDxKF8B9jL+KU24+aKqM/clLlpPPPF5sQ==}\n     peerDependencies:\n@@ -18389,6 +18403,8 @@ snapshots:\n       '@types/through': 0.0.33\n       rxjs: 7.8.1\n \n+  '@types/invariant@2.2.37': {}\n+\n   '@types/istanbul-lib-coverage@2.0.4': {}\n \n   '@types/istanbul-lib-report@3.0.1':\n@@ -18907,6 +18923,13 @@ snapshots:\n       '@typescript-eslint/types': 7.1.1\n       eslint-visitor-keys: 3.4.3\n \n+  '@typescript/vfs@1.6.0(typescript@5.4.5)':\n+    dependencies:\n+      debug: 4.3.4(supports-color@8.1.1)\n+      typescript: 5.4.5\n+    transitivePeerDependencies:\n+      - supports-color\n+\n   '@uiw/react-codemirror@3.2.10(@babel/runtime@7.23.9)(codemirror@5.65.16)(react-dom@16.14.0(react@16.14.0))(react@16.14.0)':\n     dependencies:\n       '@babel/runtime': 7.23.9"
        },
        {
            "sha": "823e4ad92f85e196c0b4ca031e799b7b4083868b",
            "filename": "shared/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fpackage.json?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -18,6 +18,7 @@\n   },\n   \"homepage\": \"https://github.com/freeCodeCamp/freeCodeCamp#readme\",\n   \"dependencies\": {\n+    \"@types/invariant\": \"^2.2.37\",\n     \"invariant\": \"2.2.4\"\n   }\n }"
        },
        {
            "sha": "25a74dc8ded42b8fa4c6245fd8037ddfa2a6a77e",
            "filename": "shared/utils/polyvinyl.js",
            "status": "removed",
            "additions": 0,
            "deletions": 168,
            "changes": 168,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e40a60bc60146e532156cbff50b194c577c1d612/shared%2Futils%2Fpolyvinyl.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e40a60bc60146e532156cbff50b194c577c1d612/shared%2Futils%2Fpolyvinyl.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Futils%2Fpolyvinyl.js?ref=e40a60bc60146e532156cbff50b194c577c1d612",
            "patch": "@@ -1,168 +0,0 @@\n-// originally based off of https://github.com/gulpjs/vinyl\n-const invariant = require('invariant');\n-\n-// interface PolyVinyl {\n-//   source: String,\n-//   contents: String,\n-//   name: String,\n-//   ext: String,\n-//   path: String,\n-//   key: String,\n-//   head: String,\n-//   tail: String,\n-//   history: [...String],\n-//   error: Null|Object|Error\n-// }\n-\n-// createPoly({\n-//   name: String,\n-//   ext: String,\n-//   contents: String,\n-//   history?: [...String],\n-// }) => PolyVinyl, throws\n-function createPoly({ name, ext, contents, history, ...rest }) {\n-  invariant(typeof name === 'string', 'name must be a string but got %s', name);\n-\n-  invariant(typeof ext === 'string', 'ext must be a string, but was %s', ext);\n-\n-  invariant(\n-    typeof contents === 'string',\n-    'contents must be a string but got %s',\n-    contents\n-  );\n-\n-  return {\n-    ...rest,\n-    history: Array.isArray(history) ? history : [name + '.' + ext],\n-    name,\n-    ext,\n-    path: name + '.' + ext,\n-    fileKey: name + ext,\n-    contents,\n-    error: null\n-  };\n-}\n-\n-// isPoly(poly: Any) => Boolean\n-function isPoly(poly) {\n-  return (\n-    poly &&\n-    typeof poly.contents === 'string' &&\n-    typeof poly.name === 'string' &&\n-    typeof poly.ext === 'string' &&\n-    Array.isArray(poly.history)\n-  );\n-}\n-\n-// checkPoly(poly: Any) => Void, throws\n-function checkPoly(poly) {\n-  invariant(\n-    isPoly(poly),\n-    'function should receive a PolyVinyl, but got %s',\n-    poly\n-  );\n-}\n-\n-// setContent(contents: String, poly: PolyVinyl) => PolyVinyl\n-// setContent will loose source if set\n-function setContent(contents, poly) {\n-  checkPoly(poly);\n-  return {\n-    ...poly,\n-    contents,\n-    source: null\n-  };\n-}\n-\n-// setExt(ext: String, poly: PolyVinyl) => PolyVinyl\n-function setExt(ext, poly) {\n-  checkPoly(poly);\n-  const newPoly = {\n-    ...poly,\n-    ext,\n-    path: poly.name + '.' + ext,\n-    fileKey: poly.name + ext\n-  };\n-  newPoly.history = [...poly.history, newPoly.path];\n-  return newPoly;\n-}\n-\n-// This is currently only used to add back properties that are not stored in the\n-// database.\n-function regeneratePathAndHistory(poly) {\n-  const newPath = poly.name + '.' + poly.ext;\n-  const newPoly = {\n-    ...poly,\n-    path: newPath,\n-    history: [newPath]\n-  };\n-  checkPoly(newPoly);\n-  return newPoly;\n-}\n-\n-// clearHeadTail(poly: PolyVinyl) => PolyVinyl\n-function clearHeadTail(poly) {\n-  checkPoly(poly);\n-  return {\n-    ...poly,\n-    head: '',\n-    tail: ''\n-  };\n-}\n-\n-// compileHeadTail(padding: String, poly: PolyVinyl) => PolyVinyl\n-function compileHeadTail(padding = '', poly) {\n-  return clearHeadTail(\n-    transformContents(\n-      () => [poly.head, poly.contents, poly.tail].join(padding),\n-      poly\n-    )\n-  );\n-}\n-\n-// transformContents(\n-//   wrap: (contents: String) => String,\n-//   poly: PolyVinyl\n-// ) => PolyVinyl\n-// transformContents will keep a copy of the original\n-// code in the `source` property. If the original polyvinyl\n-// already contains a source, this version will continue as\n-// the source property\n-function transformContents(wrap, poly) {\n-  const newPoly = setContent(wrap(poly.contents), poly);\n-  // if no source exist, set the original contents as source\n-  newPoly.source = poly.source || poly.contents;\n-  return newPoly;\n-}\n-\n-// transformHeadTailAndContents(\n-//   wrap: (source: String) => String,\n-//   poly: PolyVinyl\n-// ) => PolyVinyl\n-function transformHeadTailAndContents(wrap, poly) {\n-  return {\n-    ...transformContents(wrap, poly),\n-    head: wrap(poly.head),\n-    tail: wrap(poly.tail)\n-  };\n-}\n-\n-// createSource(poly: PolyVinyl) => PolyVinyl\n-function createSource(poly) {\n-  return {\n-    ...poly,\n-    source: poly.source || poly.contents\n-  };\n-}\n-\n-module.exports = {\n-  createPoly,\n-  isPoly,\n-  setContent,\n-  setExt,\n-  createSource,\n-  compileHeadTail,\n-  regeneratePathAndHistory,\n-  transformContents,\n-  transformHeadTailAndContents\n-};"
        },
        {
            "sha": "a040223b9392117322cdbc35cb1eb77fac81872c",
            "filename": "shared/utils/polyvinyl.test.ts",
            "status": "renamed",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Futils%2Fpolyvinyl.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Futils%2Fpolyvinyl.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Futils%2Fpolyvinyl.test.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -1,4 +1,4 @@\n-import polyvinyl from './polyvinyl';\n+import { createPoly, createSource } from './polyvinyl';\n \n const polyData = {\n   name: 'test',\n@@ -9,21 +9,21 @@ const polyData = {\n \n describe('createSource', () => {\n   it('should return a vinyl object with a source matching the contents', () => {\n-    const original = polyvinyl.createPoly(polyData);\n+    const original = createPoly(polyData);\n \n-    const updated = polyvinyl.createSource(original);\n+    const updated = createSource(original);\n     expect(original).not.toHaveProperty('source');\n     expect(updated).toHaveProperty('source', 'var hello = world;');\n     expect(updated).toMatchObject(original);\n   });\n \n   it('should not update the source if it already exists', () => {\n-    const original = polyvinyl.createPoly({\n+    const original = createPoly({\n       ...polyData,\n       source: 'const hello = world;'\n     });\n \n-    const updated = polyvinyl.createSource(original);\n+    const updated = createSource(original);\n     expect(updated).toStrictEqual(original);\n   });\n });",
            "previous_filename": "shared/utils/polyvinyl.test.js"
        },
        {
            "sha": "d1fd07a402cfdc8a207ba70f03f12a8ca91fdb73",
            "filename": "shared/utils/polyvinyl.ts",
            "status": "added",
            "additions": 185,
            "deletions": 0,
            "changes": 185,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Futils%2Fpolyvinyl.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/shared%2Futils%2Fpolyvinyl.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Futils%2Fpolyvinyl.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -0,0 +1,185 @@\n+// originally based off of https://github.com/gulpjs/vinyl\n+import invariant from 'invariant';\n+\n+export type Ext = 'js' | 'html' | 'css' | 'jsx' | 'ts';\n+\n+export type ChallengeFile = {\n+  fileKey: string;\n+  ext: Ext;\n+  name: string;\n+  editableRegionBoundaries?: number[];\n+  editableContents?: string;\n+  usesMultifileEditor?: boolean;\n+  error?: unknown;\n+  head: string;\n+  tail: string;\n+  seed: string;\n+  contents: string;\n+  source?: string | null;\n+  id: string;\n+  history: string[];\n+};\n+\n+type PolyProps = {\n+  name: string;\n+  ext: string;\n+  contents: string;\n+  history?: string[];\n+};\n+\n+// The types are a little awkward, but should suffice until we move the\n+// curriculum to TypeScript.\n+type AddedProperties = {\n+  path: string;\n+  fileKey: string;\n+  error: null;\n+};\n+\n+export function createPoly<Rest>({\n+  name,\n+  ext,\n+  contents,\n+  history,\n+  ...rest\n+}: PolyProps & Rest): PolyProps & AddedProperties & Rest {\n+  invariant(typeof name === 'string', 'name must be a string but got %s', name);\n+\n+  invariant(typeof ext === 'string', 'ext must be a string, but was %s', ext);\n+\n+  invariant(\n+    typeof contents === 'string',\n+    'contents must be a string but got %s',\n+    contents\n+  );\n+\n+  return {\n+    ...rest,\n+    history: Array.isArray(history) ? history : [name + '.' + ext],\n+    name,\n+    ext,\n+    path: name + '.' + ext,\n+    fileKey: name + ext,\n+    contents,\n+    error: null\n+  } as PolyProps & AddedProperties & Rest;\n+}\n+\n+export function isPoly(poly: unknown): poly is ChallengeFile {\n+  return (\n+    !!poly &&\n+    typeof poly === 'object' &&\n+    'contents' in poly &&\n+    typeof poly.contents === 'string' &&\n+    'name' in poly &&\n+    typeof poly.name === 'string' &&\n+    'ext' in poly &&\n+    typeof poly.ext === 'string' &&\n+    'history' in poly &&\n+    Array.isArray(poly.history)\n+  );\n+}\n+\n+function checkPoly(poly: ChallengeFile) {\n+  invariant(\n+    isPoly(poly),\n+    'function should receive a PolyVinyl, but got %s',\n+    poly\n+  );\n+}\n+\n+// setContent will lose source if set\n+export function setContent(\n+  contents: string,\n+  poly: ChallengeFile\n+): ChallengeFile {\n+  checkPoly(poly);\n+  return {\n+    ...poly,\n+    contents,\n+    source: null\n+  };\n+}\n+\n+export async function setExt(ext: string, polyP: Promise<ChallengeFile>) {\n+  const poly = await polyP;\n+  checkPoly(poly);\n+  const newPoly = {\n+    ...poly,\n+    ext,\n+    path: poly.name + '.' + ext,\n+    fileKey: poly.name + ext\n+  };\n+  newPoly.history = [...poly.history, newPoly.path];\n+  return newPoly;\n+}\n+\n+// This is currently only used to add back properties that are not stored in the\n+// database.\n+export function regeneratePathAndHistory(poly: ChallengeFile) {\n+  const newPath = poly.name + '.' + poly.ext;\n+  const newPoly = {\n+    ...poly,\n+    path: newPath,\n+    history: [newPath]\n+  };\n+  checkPoly(newPoly);\n+  return newPoly;\n+}\n+\n+async function clearHeadTail(polyP: Promise<ChallengeFile>) {\n+  const poly = await polyP;\n+  checkPoly(poly);\n+  return {\n+    ...poly,\n+    head: '',\n+    tail: ''\n+  };\n+}\n+\n+export async function compileHeadTail(padding = '', poly: ChallengeFile) {\n+  return clearHeadTail(\n+    transformContents(\n+      () => [poly.head, poly.contents, poly.tail].join(padding),\n+      poly\n+    )\n+  );\n+}\n+\n+type Wrapper = (x: string) => Promise<string> | string;\n+// transformContents will keep a copy of the original\n+// code in the `source` property. If the original polyvinyl\n+// already contains a source, this version will continue as\n+// the source property\n+export async function transformContents(\n+  wrap: Wrapper,\n+  polyP: ChallengeFile | Promise<ChallengeFile>\n+) {\n+  const poly = await polyP;\n+  const newPoly = setContent(await wrap(poly.contents), poly);\n+  // if no source exist, set the original contents as source\n+  newPoly.source = poly.source || poly.contents;\n+  return newPoly;\n+}\n+\n+export async function transformHeadTailAndContents(\n+  wrap: Wrapper,\n+  polyP: ChallengeFile | Promise<ChallengeFile>\n+) {\n+  const poly = await polyP;\n+  const contents = await transformContents(wrap, poly);\n+  const head = await wrap(poly.head);\n+  const tail = await wrap(poly.tail);\n+  return {\n+    ...contents,\n+    head,\n+    tail\n+  };\n+}\n+\n+// createSource(poly: PolyVinyl) => PolyVinyl\n+export function createSource(poly: Pick<ChallengeFile, 'contents' | 'source'>) {\n+  return {\n+    ...poly,\n+    source: poly.source || poly.contents\n+  };\n+}"
        },
        {
            "sha": "e76967c006a3a69e851ee91bad80c53ac6760fc9",
            "filename": "tools/client-plugins/browser-scripts/index.d.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Findex.d.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Findex.d.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fbrowser-scripts%2Findex.d.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -18,7 +18,7 @@ export interface InitTestFrameArg {\n   code: {\n     contents?: string;\n     editableContents?: string;\n-    original?: { [id: string]: string };\n+    original?: { [id: string]: string | null };\n   };\n   getUserInput?: (fileName: string) => string;\n   loadEnzyme?: () => void;"
        },
        {
            "sha": "0d6d2a87feb69048aab32bcb2b102bd02519d897",
            "filename": "tools/client-plugins/browser-scripts/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fbrowser-scripts%2Fpackage.json?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -35,6 +35,7 @@\n     \"@types/enzyme-adapter-react-16\": \"1.0.9\",\n     \"@types/jquery\": \"3.5.29\",\n     \"@types/lodash-es\": \"4.17.12\",\n+    \"@typescript/vfs\": \"^1.6.0\",\n     \"babel-loader\": \"8.3.0\",\n     \"chai\": \"4.4.1\",\n     \"copy-webpack-plugin\": \"9.1.0\","
        },
        {
            "sha": "d34ca7f01d390e2961ad3c99796812321d1f34c8",
            "filename": "tools/client-plugins/browser-scripts/typescript-worker.ts",
            "status": "added",
            "additions": 147,
            "deletions": 0,
            "changes": 147,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftypescript-worker.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftypescript-worker.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftypescript-worker.ts?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -0,0 +1,147 @@\n+import { type VirtualTypeScriptEnvironment } from '@typescript/vfs';\n+import type { CompilerOptions, CompilerHost } from 'typescript';\n+\n+// Most of the ts types are only a guideline. This is because we're not bundling\n+// TS in this worker. The specific TS version is going to be determined by the\n+// challenge (in general - it will be hardcoded in the MVP). So, the vfs types\n+// should be correct, but ts may not be.\n+declare const tsvfs: typeof import('@typescript/vfs');\n+declare const createDefaultMapFromCDN: typeof import('@typescript/vfs').createDefaultMapFromCDN;\n+declare const createVirtualCompilerHost: typeof import('@typescript/vfs').createVirtualCompilerHost;\n+declare const ts: typeof import('typescript');\n+\n+const ctx: Worker & typeof globalThis = self as unknown as Worker &\n+  typeof globalThis;\n+\n+let tsEnv: VirtualTypeScriptEnvironment | null = null;\n+let compilerHost: CompilerHost | null = null;\n+\n+interface TSCompileEvent extends MessageEvent {\n+  data: {\n+    type: 'compile';\n+    code: string;\n+  };\n+}\n+\n+interface TSCompiledMessage {\n+  type: 'compiled';\n+  value: string;\n+  error: string;\n+}\n+\n+interface InitRequestEvent extends MessageEvent {\n+  data: {\n+    type: 'init';\n+  };\n+}\n+\n+interface CancelEvent extends MessageEvent {\n+  data: {\n+    type: 'cancel';\n+    value: number;\n+  };\n+}\n+\n+let cachedVersion: string | null = null;\n+\n+async function setupTypeScript(version: string) {\n+  // TODO: make sure no racing happens if multiple inits arrive at once.\n+  if (cachedVersion == version) return tsEnv;\n+\n+  importScripts('https://unpkg.com/typescript@' + version);\n+  importScripts('https://unpkg.com/@typescript/vfs@1.6.0/dist/vfs.globals.js');\n+\n+  const compilerOptions: CompilerOptions = {\n+    target: ts.ScriptTarget.ES2015,\n+    skipLibCheck: true // TODO: look into why this is needed. Are we doing something wrong? Could it be that it's not \"synced\"  with this TS version?\n+    // from the docs: \"Note: it's possible for this list to get out of\n+    // sync with TypeScript over time. It was last synced with TypeScript\n+    // 3.8.0-rc.\"\n+  };\n+  const fsMap = await createDefaultMapFromCDN(\n+    compilerOptions,\n+    ts.version,\n+    false, // TODO: cache this. It needs a store that's available to workers and implements https://github.com/microsoft/TypeScript-Website/blob/ac68b8b8e4a621113c4ee45c4051002fd55ede24/packages/typescript-vfs/src/index.ts#L11\n+    ts\n+  );\n+\n+  const system = tsvfs.createSystem(fsMap);\n+  // TODO: if passed an invalid compiler options object (e.g. { module:\n+  // ts.ModuleKind.CommonJS, moduleResolution: ts.ModuleResolutionKind.NodeNext\n+  // }), this will throw. When we allow users to set compiler options, we should\n+  // show them the diagnostics from this function.\n+  const env = tsvfs.createVirtualTypeScriptEnvironment(\n+    system,\n+    [],\n+    ts,\n+    compilerOptions\n+  );\n+  compilerHost = createVirtualCompilerHost(\n+    system,\n+    compilerOptions,\n+    ts\n+  ).compilerHost;\n+\n+  tsEnv = env;\n+\n+  // We freeze this to prevent learners from getting the worker into a\n+  // weird state.\n+  Object.freeze(self);\n+\n+  cachedVersion = version;\n+  return env;\n+}\n+\n+// TODO: figure out how to start setting up TS in the background, but allow the\n+// client to wait for it to be ready. Currently the waiting works, but the setup\n+// is done on demand.\n+// void setupTypeScript('5');\n+\n+ctx.onmessage = (e: TSCompileEvent | InitRequestEvent | CancelEvent) => {\n+  const { data, ports } = e;\n+  if (data.type === 'init') {\n+    void handleInitRequest(ports[0]);\n+  } else if (data.type === 'cancel') {\n+    handleCancelRequest(data);\n+  } else {\n+    handleCompileRequest(data, ports[0]);\n+  }\n+};\n+\n+// This lets the client know that there is nothing to cancel.\n+function handleCancelRequest({ value }: { value: number }) {\n+  postMessage({ type: 'is-alive', text: value });\n+}\n+\n+async function handleInitRequest(port: MessagePort) {\n+  await setupTypeScript('5');\n+  port.postMessage({ type: 'ready' });\n+}\n+\n+function handleCompileRequest(data: TSCompileEvent['data'], port: MessagePort) {\n+  // If we try to update or create an empty file, the environment will become\n+  // permanently unable to interact with that file. The workaround is to create\n+  // a file with a single newline character.\n+  const code = (data.code || '').slice() || '\\n';\n+\n+  // TODO: If creating the file fresh each time is too slow, we can try checking\n+  // if the file exists and updating it if it does.\n+  tsEnv?.createFile('index.ts', code);\n+\n+  const program = tsEnv!.languageService.getProgram()!;\n+\n+  const emitOutput = tsEnv!.languageService.getEmitOutput('index.ts');\n+  const compiled = emitOutput.outputFiles[0].text;\n+\n+  const message: TSCompiledMessage = {\n+    type: 'compiled',\n+    value: compiled,\n+    // TODO: stop forcing the non-null assertions here.\n+    error: ts.formatDiagnostics(\n+      ts.getPreEmitDiagnostics(program),\n+      compilerHost!\n+    )\n+  };\n+\n+  port.postMessage(message);\n+}"
        },
        {
            "sha": "7e67e1c13125629922fa16512ccae1866a1ae450",
            "filename": "tools/client-plugins/browser-scripts/webpack.config.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Fwebpack.config.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e9a4e9295552687ce8a863f34f4d659bfcd10bce/tools%2Fclient-plugins%2Fbrowser-scripts%2Fwebpack.config.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fbrowser-scripts%2Fwebpack.config.js?ref=e9a4e9295552687ce8a863f34f4d659bfcd10bce",
            "patch": "@@ -18,7 +18,8 @@ module.exports = (env = {}) => {\n       'sass-compile': './sass-compile.ts',\n       'test-evaluator': './test-evaluator.ts',\n       'python-worker': './python-worker.ts',\n-      'python-test-evaluator': './python-test-evaluator.ts'\n+      'python-test-evaluator': './python-test-evaluator.ts',\n+      'typescript-worker': './typescript-worker.ts'\n     },\n     devtool: __DEV__ ? 'inline-source-map' : 'source-map',\n     output: {"
        }
    ],
    "stats": {
        "total": 720,
        "additions": 483,
        "deletions": 237
    }
}