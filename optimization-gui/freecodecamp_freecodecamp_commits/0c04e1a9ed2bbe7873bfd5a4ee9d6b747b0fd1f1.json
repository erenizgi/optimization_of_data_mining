{
    "author": "ojeytonwilliams",
    "message": "test: use expect for clearer errors (#62965)",
    "sha": "0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1",
    "files": [
        {
            "sha": "53a44e9c78194586b0bc49a43d9ecf3746a8379d",
            "filename": "curriculum/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/curriculum%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/curriculum%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fpackage.json?ref=0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1",
            "patch": "@@ -41,13 +41,12 @@\n   \"devDependencies\": {\n     \"@babel/core\": \"7.23.7\",\n     \"@babel/register\": \"7.23.7\",\n-    \"@types/polka\": \"^0.5.7\",\n     \"@total-typescript/ts-reset\": \"^0.6.1\",\n     \"@types/debug\": \"^4.1.12\",\n     \"@types/js-yaml\": \"4.0.5\",\n+    \"@types/polka\": \"^0.5.7\",\n     \"@types/string-similarity\": \"^4.0.2\",\n     \"@vitest/ui\": \"^3.2.4\",\n-    \"chai\": \"4.4.1\",\n     \"glob\": \"8.1.0\",\n     \"joi\": \"17.12.2\",\n     \"joi-objectid\": \"3.0.1\","
        },
        {
            "sha": "050e700661c69ad430fa05907070218de53bb8b2",
            "filename": "curriculum/src/test/test-challenges.js",
            "status": "modified",
            "additions": 12,
            "deletions": 21,
            "changes": 33,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Ftest%2Ftest-challenges.js?ref=0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1",
            "patch": "@@ -1,5 +1,4 @@\n import { describe, it, beforeAll, expect } from 'vitest';\n-import { assert, AssertionError } from 'chai';\n import jsdom from 'jsdom';\n import lodash from 'lodash';\n \n@@ -151,33 +150,28 @@ function populateTestsForLang({ lang, challenges, meta }) {\n               const index = meta[dashedBlockName]?.challengeOrder?.findIndex(\n                 ({ id }) => id === challenge.id\n               );\n-\n-              if (index < 0) {\n-                throw new AssertionError(\n-                  `Cannot find ID \"${challenge.id}\" in meta.json file for block \"${dashedBlockName}\"`\n-                );\n-              }\n+              expect(\n+                index,\n+                `Cannot find ID \"${challenge.id}\" in meta.json file for block \"${dashedBlockName}\"`\n+              ).toBeGreaterThanOrEqual(0);\n             });\n \n             it('Common checks', function () {\n               const result = validateChallenge(challenge);\n \n-              if (result.error) {\n-                throw new AssertionError(result.error);\n-              }\n+              expect(result.error).toBeUndefined();\n               const { id, block, dashedName } = challenge;\n-              assert.exists(\n-                dashedName,\n-                `Missing dashedName for challenge ${id} in ${block}.`\n-              );\n+\n+              expect(dashedName).toBeDefined();\n+\n               const pathAndTitle = `${block}/${dashedName}`;\n               const idVerificationMessage = mongoIds.check(id, block);\n-              assert.isNull(idVerificationMessage, idVerificationMessage);\n+              expect(idVerificationMessage).toBeNull();\n               const dupeTitleCheck = challengeTitles.check(dashedName, block);\n-              assert.isTrue(\n+              expect(\n                 dupeTitleCheck,\n                 `All challenges within a block must have a unique dashed name. ${dashedName} (at ${pathAndTitle}) is already assigned`\n-              );\n+              ).toBeTruthy();\n             });\n \n             const { challengeType } = challenge;\n@@ -231,10 +225,7 @@ function populateTestsForLang({ lang, challenges, meta }) {\n                   }\n                 }\n                 console.error = oldConsoleError;\n-                assert(\n-                  fails,\n-                  'Test suite does not fail on the initial contents'\n-                );\n+                expect(fails, 'Test suite should fail on the initial contents');\n               },\n               timePerTest * tests.length + 20000\n             );"
        },
        {
            "sha": "b9f757c822d371d380753f6f1371590a722e3ed8",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/pnpm-lock.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-lock.yaml?ref=0c04e1a9ed2bbe7873bfd5a4ee9d6b747b0fd1f1",
            "patch": "@@ -730,9 +730,6 @@ importers:\n       '@vitest/ui':\n         specifier: ^3.2.4\n         version: 3.2.4(vitest@3.2.4)\n-      chai:\n-        specifier: 4.4.1\n-        version: 4.4.1\n       glob:\n         specifier: 8.1.0\n         version: 8.1.0\n@@ -777,7 +774,7 @@ importers:\n         version: 4.0.4\n       vitest:\n         specifier: ^3.2.4\n-        version: 3.2.4(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@16.7.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0)\n+        version: 3.2.4(@types/debug@4.1.12)(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@16.7.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0)\n \n   shared:\n     devDependencies:\n@@ -20163,7 +20160,7 @@ snapshots:\n       sirv: 3.0.2\n       tinyglobby: 0.2.14\n       tinyrainbow: 2.0.0\n-      vitest: 3.2.4(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@26.1.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.7.3))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0)\n+      vitest: 3.2.4(@types/debug@4.1.12)(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@16.7.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0)\n \n   '@vitest/utils@3.2.4':\n     dependencies:\n@@ -31143,7 +31140,7 @@ snapshots:\n       - debug\n       - typescript\n \n-  vitest@3.2.4(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@16.7.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0):\n+  vitest@3.2.4(@types/debug@4.1.12)(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@16.7.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0):\n     dependencies:\n       '@types/chai': 5.2.2\n       '@vitest/expect': 3.2.4"
        }
    ],
    "stats": {
        "total": 45,
        "additions": 16,
        "deletions": 29
    }
}