{
    "author": "ShaunSHamilton",
    "message": "fix(client): use same store in dev and prod (#63521)",
    "sha": "ae9b5e45de5af6832348e4f43405f9c3a3601fc7",
    "files": [
        {
            "sha": "fa087105b48205efdfcf7bbdebed63271ed7f9a0",
            "filename": "client/src/redux/create-store.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 45,
            "changes": 58,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/ae9b5e45de5af6832348e4f43405f9c3a3601fc7/client%2Fsrc%2Fredux%2Fcreate-store.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/ae9b5e45de5af6832348e4f43405f9c3a3601fc7/client%2Fsrc%2Fredux%2Fcreate-store.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fcreate-store.ts?ref=ae9b5e45de5af6832348e4f43405f9c3a3601fc7",
            "patch": "@@ -1,10 +1,7 @@\n-import { createStore as reduxCreateStore, applyMiddleware } from 'redux';\n-// import { composeWithDevTools } from '@redux-devtools/extension';\n import { createEpicMiddleware } from 'redux-observable';\n import createSagaMiddleware from 'redux-saga';\n import { configureStore } from '@reduxjs/toolkit';\n \n-import envData from '../../config/env.json';\n import { isBrowser } from '../../utils';\n import {\n   examAttempts,\n@@ -20,8 +17,6 @@ declare const module: {\n   };\n };\n \n-const { environment } = envData;\n-\n const clientSide = isBrowser();\n \n const sagaMiddleware = createSagaMiddleware({\n@@ -37,47 +32,20 @@ const epicMiddleware = createEpicMiddleware({\n   }\n });\n \n-// const composeEnhancers = composeWithDevTools({\n-//   // options like actionSanitizer, stateSanitizer\n-// });\n-\n export const createStore = (preloadedState = {}) => {\n-  let store;\n-  if (environment === 'production') {\n-    store = reduxCreateStore(\n-      rootReducer,\n-      preloadedState,\n-      applyMiddleware(\n-        sagaMiddleware,\n-        epicMiddleware,\n-        // @ts-expect-error RTK uses unknown, Redux uses any\n-        examAttempts.middleware,\n-        examEnvironmentAuthorizationTokenApi.middleware\n-      )\n-    );\n-  } else {\n-    // store = reduxCreateStore(\n-    //   rootReducer,\n-    //   preloadedState,\n-    //   composeEnhancers(\n-    //     // @ts-expect-error RTK uses unknown, Redux uses any\n-    //     applyMiddleware(sagaMiddleware, epicMiddleware, examAttempts.middleware)\n-    //   )\n-    // );\n-    store = configureStore({\n-      // @ts-expect-error RTK uses unknown, Redux uses any\n-      reducer: rootReducer,\n-      // @ts-expect-error RTK uses unknown, Redux uses any\n-      middleware: getDefaultMiddleware => {\n-        return getDefaultMiddleware()\n-          .concat(examAttempts.middleware)\n-          .concat(examEnvironmentAuthorizationTokenApi.middleware)\n-          .concat(sagaMiddleware)\n-          .concat(epicMiddleware);\n-      },\n-      preloadedState\n-    });\n-  }\n+  const store = configureStore({\n+    // @ts-expect-error RTK uses unknown, Redux uses any\n+    reducer: rootReducer,\n+    // @ts-expect-error RTK uses unknown, Redux uses any\n+    middleware: getDefaultMiddleware => {\n+      return getDefaultMiddleware()\n+        .concat(examAttempts.middleware)\n+        .concat(examEnvironmentAuthorizationTokenApi.middleware)\n+        .concat(sagaMiddleware)\n+        .concat(epicMiddleware);\n+    },\n+    preloadedState\n+  });\n   sagaMiddleware.run(rootSaga);\n   // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n   epicMiddleware.run(rootEpic);"
        }
    ],
    "stats": {
        "total": 58,
        "additions": 13,
        "deletions": 45
    }
}