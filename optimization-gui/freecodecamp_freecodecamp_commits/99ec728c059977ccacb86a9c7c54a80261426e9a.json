{
    "author": "Sembauke",
    "message": "feat(api): log mailer when sending email (#59065)",
    "sha": "99ec728c059977ccacb86a9c7c54a80261426e9a",
    "files": [
        {
            "sha": "92121f4db7f6d7a2d36dfcfd3139a7b0ada91a6f",
            "filename": "api/src/plugins/mailer.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/99ec728c059977ccacb86a9c7c54a80261426e9a/api%2Fsrc%2Fplugins%2Fmailer.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/99ec728c059977ccacb86a9c7c54a80261426e9a/api%2Fsrc%2Fplugins%2Fmailer.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fmailer.ts?ref=99ec728c059977ccacb86a9c7c54a80261426e9a",
            "patch": "@@ -35,10 +35,12 @@ const plugin: FastifyPluginCallback<{ provider: MailProvider }> = (\n       )\n     );\n \n-  fastify.decorate(\n-    'sendEmail',\n-    async (args: SendEmailArgs) => await provider.send(args)\n-  );\n+  fastify.decorate('sendEmail', async (args: SendEmailArgs) => {\n+    const logger = fastify.log.child({ args });\n+    logger.debug('Sending Email');\n+\n+    return await provider.send(args);\n+  });\n \n   done();\n };"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 6,
        "deletions": 4
    }
}