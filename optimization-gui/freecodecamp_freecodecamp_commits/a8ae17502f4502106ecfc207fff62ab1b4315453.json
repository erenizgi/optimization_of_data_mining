{
    "author": "moT01",
    "message": "fix(client): replace apple quotes in fill in the blanks before testing (#57987)",
    "sha": "a8ae17502f4502106ecfc207fff62ab1b4315453",
    "files": [
        {
            "sha": "febd57c2ef3fe9c18e1705a8676f2af8b7381aa5",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx?ref=a8ae17502f4502106ecfc207fff62ab1b4315453",
            "patch": "@@ -33,6 +33,7 @@ import Scene from '../components/scene/scene';\n import { SceneSubject } from '../components/scene/scene-subject';\n import { getChallengePaths } from '../utils/challenge-paths';\n import { isChallengeCompletedSelector } from '../redux/selectors';\n+import { replaceAppleQuotes } from '../../../utils/replace-apple-quotes';\n \n import './show.css';\n \n@@ -133,7 +134,9 @@ const ShowFillInTheBlank = ({\n     const blankAnswers = fillInTheBlank.blanks.map(b => b.answer);\n \n     const newAnswersCorrect = userAnswers.map(\n-      (userAnswer, i) => !!userAnswer && userAnswer.trim() === blankAnswers[i]\n+      (userAnswer, i) =>\n+        !!userAnswer &&\n+        replaceAppleQuotes(userAnswer.trim()) === blankAnswers[i]\n     );\n     setAnswersCorrect(newAnswersCorrect);\n     const hasWrongAnswer = newAnswersCorrect.some(a => a === false);"
        },
        {
            "sha": "c3c86f901aca436fcc92102ad4ae31e874e14a7a",
            "filename": "client/src/utils/replace-apple-quotes.test.ts",
            "status": "added",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Futils%2Freplace-apple-quotes.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Futils%2Freplace-apple-quotes.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Futils%2Freplace-apple-quotes.test.ts?ref=a8ae17502f4502106ecfc207fff62ab1b4315453",
            "patch": "@@ -0,0 +1,13 @@\n+import { replaceAppleQuotes } from './replace-apple-quotes';\n+\n+describe('replaceAppleQuotes()', () => {\n+  it('replaces apple quotes with regular quotes', () => {\n+    expect(replaceAppleQuotes('“double” quotes and ‘single’ quotes')).toBe(\n+      `\"double\" quotes and 'single' quotes`\n+    );\n+  });\n+\n+  it('returns the original string if there are no smart quotes', () => {\n+    expect(replaceAppleQuotes('No quotes')).toBe('No quotes');\n+  });\n+});"
        },
        {
            "sha": "2579d8b99f1c07416676791b1591595ab8a00b03",
            "filename": "client/src/utils/replace-apple-quotes.ts",
            "status": "added",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Futils%2Freplace-apple-quotes.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/a8ae17502f4502106ecfc207fff62ab1b4315453/client%2Fsrc%2Futils%2Freplace-apple-quotes.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Futils%2Freplace-apple-quotes.ts?ref=a8ae17502f4502106ecfc207fff62ab1b4315453",
            "patch": "@@ -0,0 +1,5 @@\n+export function replaceAppleQuotes(text: string): string {\n+  return typeof text !== 'string'\n+    ? text\n+    : text.replace(/[“”]/g, '\"').replace(/[‘’]/g, \"'\");\n+}"
        }
    ],
    "stats": {
        "total": 23,
        "additions": 22,
        "deletions": 1
    }
}