{
    "author": "ojeytonwilliams",
    "message": "fix(api): handle null picture (#60468)",
    "sha": "8f6a8d040143749dc797325ef8ad7132085977e8",
    "files": [
        {
            "sha": "72d8bf41bf8a404e409b0cb51310057d4bc28e51",
            "filename": "api/prisma/schema.prisma",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fprisma%2Fschema.prisma",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fprisma%2Fschema.prisma",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fprisma%2Fschema.prisma?ref=8f6a8d040143749dc797325ef8ad7132085977e8",
            "patch": "@@ -138,7 +138,7 @@ model user {\n   newEmail                       String? // Null | Undefined\n   partiallyCompletedChallenges   PartiallyCompletedChallenge[] // Undefined | PartiallyCompletedChallenge[]\n   password                       String? // Undefined\n-  picture                        String\n+  picture                        String?\n   portfolio                      Portfolio[]\n   profileUI                      ProfileUI? // Undefined\n   progressTimestamps             Json? // ProgressTimestamp[] | Null[] | Int64[] | Double[] - TODO: NORMALIZE"
        },
        {
            "sha": "10ac8a4e8c473d81cfdfa7714694d33ece61c14d",
            "filename": "api/src/routes/protected/user.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts?ref=8f6a8d040143749dc797325ef8ad7132085977e8",
            "patch": "@@ -648,6 +648,7 @@ export const userGetRoutes: FastifyPluginCallbackTypebox = (\n             [username]: {\n               ...removeNulls(publicUser),\n               ...normalizeFlags(flags),\n+              picture: publicUser.picture ?? '',\n               currentChallengeId: currentChallengeId ?? '',\n               completedChallenges: normalizeChallenges(completedChallenges),\n               completedChallengeCount: completedChallenges.length,"
        },
        {
            "sha": "bc5ffd0e62fa156831b474f2b3706a4d758d0bc9",
            "filename": "api/src/routes/public/user.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fsrc%2Froutes%2Fpublic%2Fuser.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8f6a8d040143749dc797325ef8ad7132085977e8/api%2Fsrc%2Froutes%2Fpublic%2Fuser.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fpublic%2Fuser.ts?ref=8f6a8d040143749dc797325ef8ad7132085977e8",
            "patch": "@@ -191,6 +191,7 @@ export const userPublicGetRoutes: FastifyPluginCallbackTypebox = (\n           ...removeNulls(publicUser),\n           ...normalizeFlags(flags),\n           ...sharedUser,\n+          picture: user.picture ?? '',\n           profileUI: normalizedProfileUI,\n           // TODO: should this always be returned? Shouldn't some privacy\n           // setting control it? Same applies to website, githubProfile,"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}