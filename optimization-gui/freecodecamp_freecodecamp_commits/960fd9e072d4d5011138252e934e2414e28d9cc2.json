{
    "author": "ojeytonwilliams",
    "message": "refactor: split curriculum build in two (#63639)",
    "sha": "960fd9e072d4d5011138252e934e2414e28d9cc2",
    "files": [
        {
            "sha": "06a3c36e8f6a46c3fe43410266afa367339e4269",
            "filename": "client/package.json",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fpackage.json?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -22,6 +22,7 @@\n     \"prebuild\": \"pnpm run common-setup && pnpm run build:scripts --env production\",\n     \"build\": \"NODE_OPTIONS=\\\"--max-old-space-size=7168 --no-deprecation\\\" gatsby build --prefix-paths\",\n     \"build:scripts\": \"pnpm run -F=browser-scripts build\",\n+    \"build:external-curriculum\": \"tsx ./tools/external-curriculum/build\",\n     \"clean\": \"gatsby clean\",\n     \"common-setup\": \"pnpm -w run compile:ts && pnpm run create:env && pnpm run create:trending && pnpm run create:search-placeholder\",\n     \"create:env\": \"DEBUG=fcc:* tsx ./tools/create-env.ts\",\n@@ -175,6 +176,7 @@\n     \"monaco-editor-webpack-plugin\": \"7.0.1\",\n     \"node-fetch\": \"2.7.0\",\n     \"react-test-renderer\": \"17.0.2\",\n+    \"readdirp\": \"3.6.0\",\n     \"redux-saga-test-plan\": \"4.0.6\",\n     \"serve\": \"13.0.4\",\n     \"vitest\": \"^3.2.4\","
        },
        {
            "sha": "9403fdc33d896f1ffe1ff0481b0a79ec4c3010d6",
            "filename": "client/tools/external-curriculum/build-external-curricula-data-v1.test.ts",
            "status": "renamed",
            "additions": 9,
            "deletions": 10,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.test.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -1,9 +1,10 @@\n import path from 'path';\n-import fs, { readFileSync } from 'fs';\n+import fs from 'fs';\n \n import readdirp from 'readdirp';\n import { describe, test, expect } from 'vitest';\n \n+import intros from '../../i18n/locales/english/intro.json';\n import {\n   SuperBlocks,\n   SuperBlockStage,\n@@ -15,18 +16,11 @@ import {\n } from './external-data-schema-v1';\n import {\n   type Curriculum,\n-  type CurriculumIntros,\n   type GeneratedCurriculumProps,\n   orderedSuperBlockInfo\n } from './build-external-curricula-data-v1';\n \n const VERSION = 'v1';\n-const intros = JSON.parse(\n-  readFileSync(\n-    path.resolve(__dirname, '../../../client/i18n/locales/english/intro.json'),\n-    'utf-8'\n-  )\n-) as CurriculumIntros;\n \n describe('external curriculum data build', () => {\n   const clientStaticPath = path.resolve(__dirname, '../../../client/static');\n@@ -129,8 +123,13 @@ describe('external curriculum data build', () => {\n       const randomBlock = blocks[randomBlockIndex];\n \n       expect(fileContent[superBlock].intro).toEqual(intros[superBlock].intro);\n-      expect(fileContent[superBlock].blocks[randomBlock].desc).toEqual(\n-        intros[superBlock].blocks[randomBlock].intro\n+      expect(fileContent[superBlock].blocks[randomBlock]?.desc).toEqual(\n+        (\n+          intros[superBlock].blocks as unknown as Record<\n+            string,\n+            { intro: unknown }\n+          >\n+        )[randomBlock].intro\n       );\n     });\n   });",
            "previous_filename": "tools/scripts/build/build-external-curricula-data-v1.test.ts"
        },
        {
            "sha": "28d442b75819bc6349e2488604584a54b0074068",
            "filename": "client/tools/external-curriculum/build-external-curricula-data-v1.ts",
            "status": "renamed",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v1.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -2,7 +2,6 @@ import { mkdirSync, writeFileSync, readFileSync } from 'fs';\n import { resolve, dirname } from 'path';\n import { omit } from 'lodash';\n import { submitTypes } from '../../../shared-dist/config/challenge-types';\n-import { type ChallengeNode } from '../../../client/src/redux/prop-types';\n import { SuperBlocks } from '../../../shared-dist/config/curriculum';\n import { patchBlock } from './patches';\n \n@@ -22,7 +21,7 @@ export type Curriculum<T> = {\n \n export interface CurriculumProps {\n   intro: string[];\n-  blocks: Record<string, Block<ChallengeNode['challenge'][]>>;\n+  blocks: Record<string, Block<{ id: string }[]>>;\n }\n \n export interface GeneratedCurriculumProps {\n@@ -126,14 +125,14 @@ export function buildExtCurriculumDataV1(\n \n         superBlock[superBlockKey]['blocks'][blockName]['challenges'] =\n           patchBlock(\n-            omit(curriculum[superBlockKey]['blocks'][blockName]['meta'], [\n+            omit(curriculum[superBlockKey]['blocks'][blockName]?.meta, [\n               'chapter',\n               'module'\n             ])\n           );\n \n         const blockChallenges =\n-          curriculum[superBlockKey]['blocks'][blockName]['challenges'];\n+          curriculum[superBlockKey]['blocks'][blockName]?.challenges;\n \n         for (const challenge of blockChallenges) {\n           const challengeId = challenge.id;",
            "previous_filename": "tools/scripts/build/build-external-curricula-data-v1.ts"
        },
        {
            "sha": "b14eec8ed694e9138b05f4afe4c148c4be7f0f51",
            "filename": "client/tools/external-curriculum/build-external-curricula-data-v2.test.ts",
            "status": "renamed",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.test.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -112,7 +112,9 @@ describe('external curriculum data build', () => {\n         'utf-8'\n       );\n \n-      const result = validateSuperBlock(JSON.parse(fileContent));\n+      const result = validateSuperBlock(\n+        JSON.parse(fileContent) as Record<string, unknown>\n+      );\n \n       expect(result.error?.details).toBeUndefined();\n       expect(result.error).toBeFalsy();\n@@ -280,7 +282,7 @@ describe('external curriculum data build', () => {\n     expect(stages).not.toContain('upcoming');\n \n     for (const stage of stages) {\n-      const superBlockDashedNames = orderedSuperBlockInfo[stage].map(\n+      const superBlockDashedNames = orderedSuperBlockInfo[stage]?.map(\n         superBlock => superBlock.dashedName\n       );\n ",
            "previous_filename": "tools/scripts/build/build-external-curricula-data-v2.test.ts"
        },
        {
            "sha": "5a6b184b4e2cb58412c8a7d50acbba70042c1aef",
            "filename": "client/tools/external-curriculum/build-external-curricula-data-v2.ts",
            "status": "renamed",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fbuild-external-curricula-data-v2.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -2,7 +2,7 @@ import { mkdirSync, writeFileSync, readFileSync } from 'fs';\n import { resolve, dirname } from 'path';\n import { omit } from 'lodash';\n import { submitTypes } from '../../../shared-dist/config/challenge-types';\n-import { type ChallengeNode } from '../../../client/src/redux/prop-types';\n+import { type ChallengeNode } from '../../src/redux/prop-types';\n import {\n   SuperBlocks,\n   chapterBasedSuperBlocks",
            "previous_filename": "tools/scripts/build/build-external-curricula-data-v2.ts"
        },
        {
            "sha": "bf67a319639aa4c655f705112c14cea4307dc7c1",
            "filename": "client/tools/external-curriculum/build.ts",
            "status": "added",
            "additions": 29,
            "deletions": 0,
            "changes": 29,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fbuild.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fbuild.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -0,0 +1,29 @@\n+import curriculum from '../../../shared-dist/config/curriculum.json';\n+import {\n+  buildExtCurriculumDataV1,\n+  Curriculum as CurriculumV1,\n+  CurriculumProps as CurriculumPropsV1\n+} from './build-external-curricula-data-v1';\n+import {\n+  buildExtCurriculumDataV2,\n+  Curriculum as CurriculumV2,\n+  CurriculumProps as CurriculumPropsV2\n+} from './build-external-curricula-data-v2';\n+\n+const isSelectiveBuild =\n+  process.env.FCC_SUPERBLOCK ||\n+  process.env.FCC_BLOCK ||\n+  process.env.FCC_CHALLENGE_ID;\n+\n+if (isSelectiveBuild) {\n+  console.log(\n+    'Skipping external curriculum build (selective build mode active)'\n+  );\n+} else {\n+  buildExtCurriculumDataV1(\n+    curriculum as unknown as CurriculumV1<CurriculumPropsV1>\n+  );\n+  buildExtCurriculumDataV2(\n+    curriculum as unknown as CurriculumV2<CurriculumPropsV2>\n+  );\n+}"
        },
        {
            "sha": "95a54480273b778dbbdf9f16deb5951b80c635fb",
            "filename": "client/tools/external-curriculum/external-data-schema-v1.ts",
            "status": "renamed",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v1.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v1.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v1.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -1,7 +1,5 @@\n-const Joi = require('joi');\n-const {\n-  chapterBasedSuperBlocks\n-} = require('../../../shared-dist/config/curriculum');\n+import Joi from 'joi';\n+import { chapterBasedSuperBlocks } from '../../../shared-dist/config/curriculum';\n \n const blockSchema = Joi.object({}).keys({\n   desc: Joi.array().min(1),\n@@ -88,8 +86,8 @@ const availableSuperBlocksSchema = Joi.object({\n   )\n });\n \n-exports.superblockSchemaValidator = () => superblock =>\n+export const superblockSchemaValidator = () => (superblock: unknown) =>\n   schema.validate(superblock);\n \n-exports.availableSuperBlocksValidator = () => data =>\n+export const availableSuperBlocksValidator = () => (data: unknown) =>\n   availableSuperBlocksSchema.validate(data);",
            "previous_filename": "tools/scripts/build/external-data-schema-v1.js"
        },
        {
            "sha": "1efd3f7b0b4cf62aa9b4dda2626a3f85e48b1e63",
            "filename": "client/tools/external-curriculum/external-data-schema-v2.ts",
            "status": "renamed",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v2.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v2.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fexternal-data-schema-v2.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -1,7 +1,5 @@\n-const Joi = require('joi');\n-const {\n-  chapterBasedSuperBlocks\n-} = require('../../../shared-dist/config/curriculum');\n+import Joi from 'joi';\n+import { chapterBasedSuperBlocks } from '../../../shared-dist/config/curriculum';\n \n const slugRE = new RegExp('^[a-z0-9-]+$');\n \n@@ -121,15 +119,16 @@ const availableSuperBlocksSchema = Joi.object({\n   )\n });\n \n-exports.superblockSchemaValidator = () => superBlock => {\n-  const superBlockName = Object.keys(superBlock)[0];\n+export const superblockSchemaValidator =\n+  () => (superBlock: Record<string, unknown>) => {\n+    const superBlockName = Object.keys(superBlock)[0];\n \n-  if (chapterBasedSuperBlocks.includes(superBlockName)) {\n-    return chapterBasedCurriculumSchema.validate(superBlock);\n-  }\n+    if (chapterBasedSuperBlocks.includes(superBlockName)) {\n+      return chapterBasedCurriculumSchema.validate(superBlock);\n+    }\n \n-  return blockBasedCurriculumSchema.validate(superBlock);\n-};\n+    return blockBasedCurriculumSchema.validate(superBlock);\n+  };\n \n-exports.availableSuperBlocksValidator = () => data =>\n+export const availableSuperBlocksValidator = () => (data: unknown) =>\n   availableSuperBlocksSchema.validate(data);",
            "previous_filename": "tools/scripts/build/external-data-schema-v2.js"
        },
        {
            "sha": "742f3fe1fdf6af4cf1d68f98af25d646fabe030b",
            "filename": "client/tools/external-curriculum/patches.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fpatches.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/client%2Ftools%2Fexternal-curriculum%2Fpatches.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Ftools%2Fexternal-curriculum%2Fpatches.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "previous_filename": "tools/scripts/build/patches.ts"
        },
        {
            "sha": "e43797163942c9386666c91eeec64819d54609cb",
            "filename": "curriculum/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/curriculum%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/curriculum%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fpackage.json?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -18,7 +18,7 @@\n   \"homepage\": \"https://github.com/freeCodeCamp/freeCodeCamp#readme\",\n   \"author\": \"freeCodeCamp <team@freecodecamp.org>\",\n   \"scripts\": {\n-    \"build\": \"tsx --tsconfig ../tsconfig.json ../tools/scripts/build/build-curriculum\",\n+    \"build\": \"tsx ./src/generate/build-curriculum\",\n     \"create-empty-steps\": \"CALLING_DIR=$INIT_CWD tsx --tsconfig ../tsconfig.json ../tools/challenge-helper-scripts/create-empty-steps\",\n     \"create-next-challenge\": \"CALLING_DIR=$INIT_CWD tsx --tsconfig ../tsconfig.json ../tools/challenge-helper-scripts/create-next-challenge\",\n     \"create-this-challenge\": \"CALLING_DIR=$INIT_CWD tsx --tsconfig ../tsconfig.json ../tools/challenge-helper-scripts/create-this-challenge\",\n@@ -58,7 +58,6 @@\n     \"ora\": \"5.4.1\",\n     \"polka\": \"^0.5.2\",\n     \"puppeteer\": \"22.12.1\",\n-    \"readdirp\": \"3.6.0\",\n     \"sirv\": \"^3.0.2\",\n     \"string-similarity\": \"4.0.4\",\n     \"vitest\": \"^3.2.4\""
        },
        {
            "sha": "f0270cb3553faea7f4e7a6cfb306da98be19cc17",
            "filename": "curriculum/src/generate/build-curriculum.ts",
            "status": "added",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/curriculum%2Fsrc%2Fgenerate%2Fbuild-curriculum.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/curriculum%2Fsrc%2Fgenerate%2Fbuild-curriculum.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsrc%2Fgenerate%2Fbuild-curriculum.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -0,0 +1,12 @@\n+import fs from 'fs';\n+import path from 'path';\n+\n+import { getChallengesForLang } from '../get-challenges';\n+\n+const globalConfigPath = path.resolve(__dirname, '../../../shared-dist/config');\n+\n+void getChallengesForLang('english')\n+  .then(JSON.stringify)\n+  .then(json => {\n+    fs.writeFileSync(`${globalConfigPath}/curriculum.json`, json);\n+  });"
        },
        {
            "sha": "b9c32c28827023a617ba013b9cb42d64126fa884",
            "filename": "package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/package.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/package.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/package.json?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -25,7 +25,7 @@\n     \"build\": \"npm-run-all -p build:*\",\n     \"build-workers\": \"cd ./client && pnpm run prebuild\",\n     \"build:client\": \"cd ./client && pnpm run build\",\n-    \"build:curriculum\": \"cd ./curriculum && pnpm run build\",\n+    \"build:curriculum\": \"pnpm -F=curriculum run build && pnpm -F=client run build:external-curriculum\",\n     \"build:api\": \"cd ./api && pnpm run build\",\n     \"challenge-editor\": \"npm-run-all -p challenge-editor:*\",\n     \"challenge-editor:client\": \"cd ./tools/challenge-editor/client && pnpm start\",\n@@ -73,7 +73,6 @@\n     \"test\": \"NODE_OPTIONS='--max-old-space-size=7168' run-s compile:ts build:curriculum build-workers test:**\",\n     \"test:api\": \"cd api && pnpm test\",\n     \"test:tools:challenge-helper-scripts\": \"cd ./tools/challenge-helper-scripts && pnpm test run\",\n-    \"test:tools:scripts-build\": \"cd ./tools/scripts/build && pnpm test run\",\n     \"test:tools:scripts-lint\": \"cd ./tools/scripts/lint && pnpm test run\",\n     \"test:tools:challenge-parser\": \"cd ./tools/challenge-parser && pnpm test run\",\n     \"test:curriculum:content\": \"cd ./curriculum && pnpm test run\","
        },
        {
            "sha": "cff2eddbdec209774a09b1bf35f3667d79b467e9",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 6,
            "deletions": 24,
            "changes": 30,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/pnpm-lock.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-lock.yaml?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -652,6 +652,9 @@ importers:\n       react-test-renderer:\n         specifier: 17.0.2\n         version: 17.0.2(react@17.0.2)\n+      readdirp:\n+        specifier: 3.6.0\n+        version: 3.6.0\n       redux-saga-test-plan:\n         specifier: 4.0.6\n         version: 4.0.6(@redux-saga/is@1.1.3)(@redux-saga/symbols@1.1.3)(redux-saga@1.2.3)\n@@ -724,9 +727,6 @@ importers:\n       puppeteer:\n         specifier: 22.12.1\n         version: 22.12.1(typescript@5.8.2)\n-      readdirp:\n-        specifier: 3.6.0\n-        version: 3.6.0\n       sirv:\n         specifier: ^3.0.2\n         version: 3.0.2\n@@ -815,6 +815,9 @@ importers:\n         specifier: 4.0.3\n         version: 4.0.3\n     devDependencies:\n+      '@total-typescript/ts-reset':\n+        specifier: ^0.6.1\n+        version: 0.6.1\n       '@types/cors':\n         specifier: ^2.8.13\n         version: 2.8.18\n@@ -1063,9 +1066,6 @@ importers:\n       chokidar:\n         specifier: 3.6.0\n         version: 3.6.0\n-      readdirp:\n-        specifier: 3.6.0\n-        version: 3.6.0\n \n   tools/daily-challenges:\n     devDependencies:\n@@ -1082,24 +1082,6 @@ importers:\n         specifier: 5.8.2\n         version: 5.8.2\n \n-  tools/scripts/build:\n-    devDependencies:\n-      '@total-typescript/ts-reset':\n-        specifier: ^0.5.0\n-        version: 0.5.1\n-      '@vitest/ui':\n-        specifier: ^3.2.4\n-        version: 3.2.4(vitest@3.2.4)\n-      joi:\n-        specifier: 17.12.2\n-        version: 17.12.2\n-      readdirp:\n-        specifier: 3.6.0\n-        version: 3.6.0\n-      vitest:\n-        specifier: ^3.2.4\n-        version: 3.2.4(@types/debug@4.1.12)(@types/node@20.12.8)(@vitest/ui@3.2.4)(jiti@2.6.1)(jsdom@26.1.0)(msw@2.8.7(@types/node@20.12.8)(typescript@5.8.2))(terser@5.28.1)(tsx@4.19.1)(yaml@2.8.0)\n-\n   tools/scripts/lint:\n     devDependencies:\n       '@vitest/ui':"
        },
        {
            "sha": "8260eca3c105bfb808d1bea6ffa7f8483431f176",
            "filename": "pnpm-workspace.yaml",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/pnpm-workspace.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/pnpm-workspace.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-workspace.yaml?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -10,7 +10,6 @@ packages:\n   - 'tools/client-plugins/*'\n   - 'tools/crowdin'\n   - 'tools/daily-challenges'\n-  - 'tools/scripts/build'\n   - 'tools/scripts/lint'\n   - 'tools/scripts/seed'\n   - 'tools/scripts/seed-exams'"
        },
        {
            "sha": "c1fb6e2ae0ca734942d43f3372ac9c5fe0484e2a",
            "filename": "tools/challenge-editor/api/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fchallenge-editor%2Fapi%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fchallenge-editor%2Fapi%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-editor%2Fapi%2Fpackage.json?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -15,6 +15,7 @@\n     \"gray-matter\": \"4.0.3\"\n   },\n   \"devDependencies\": {\n+    \"@total-typescript/ts-reset\": \"^0.6.1\",\n     \"@types/cors\": \"^2.8.13\",\n     \"@types/express\": \"4.17.21\",\n     \"dotenv\": \"16.4.5\","
        },
        {
            "sha": "12bd3edc94a4541c3a0438c72612d19b226c33aa",
            "filename": "tools/challenge-editor/api/reset.d.ts",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fchallenge-editor%2Fapi%2Freset.d.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fchallenge-editor%2Fapi%2Freset.d.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-editor%2Fapi%2Freset.d.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "previous_filename": "tools/scripts/build/reset.d.ts"
        },
        {
            "sha": "d644bedd30f1502d8e239fd37fe5fb9046714609",
            "filename": "tools/client-plugins/gatsby-source-challenges/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fclient-plugins%2Fgatsby-source-challenges%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fclient-plugins%2Fgatsby-source-challenges%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fgatsby-source-challenges%2Fpackage.json?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -19,7 +19,6 @@\n   \"author\": \"freeCodeCamp <team@freecodecamp.org>\",\n   \"main\": \"gatsby-node.js\",\n   \"devDependencies\": {\n-    \"chokidar\": \"3.6.0\",\n-    \"readdirp\": \"3.6.0\"\n+    \"chokidar\": \"3.6.0\"\n   }\n }"
        },
        {
            "sha": "c97ba64c41feeb82ab25ee4a51025e2e3cf1658e",
            "filename": "tools/daily-challenges/helpers.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fdaily-challenges%2Fhelpers.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/960fd9e072d4d5011138252e934e2414e28d9cc2/tools%2Fdaily-challenges%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fdaily-challenges%2Fhelpers.ts?ref=960fd9e072d4d5011138252e934e2414e28d9cc2",
            "patch": "@@ -126,7 +126,7 @@ export function combineChallenges({\n   return challengeData;\n }\n \n-export function handleError(err: Error, client: MongoClient) {\n+export function handleError(err: unknown, client: MongoClient) {\n   if (err) {\n     console.error('Oh noes!! Error seeding Daily Challenges.');\n     console.error(err);"
        },
        {
            "sha": "72a2fa2218f2e90abddca5131860017f5253ef30",
            "filename": "tools/scripts/build/build-curriculum.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 43,
            "changes": 43,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1212c7872733264d5df7bf02b52111f6088f59b3/tools%2Fscripts%2Fbuild%2Fbuild-curriculum.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1212c7872733264d5df7bf02b52111f6088f59b3/tools%2Fscripts%2Fbuild%2Fbuild-curriculum.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fscripts%2Fbuild%2Fbuild-curriculum.ts?ref=1212c7872733264d5df7bf02b52111f6088f59b3",
            "patch": "@@ -1,43 +0,0 @@\n-import fs from 'fs';\n-import path from 'path';\n-\n-import { getChallengesForLang } from '../../../curriculum/src/get-challenges';\n-import {\n-  buildExtCurriculumDataV1,\n-  type Curriculum as CurriculumV1,\n-  type CurriculumProps as CurriculumPropsV1\n-} from './build-external-curricula-data-v1';\n-import {\n-  buildExtCurriculumDataV2,\n-  type Curriculum as CurriculumV2,\n-  type CurriculumProps as CurriculumPropsV2\n-} from './build-external-curricula-data-v2';\n-\n-const globalConfigPath = path.resolve(__dirname, '../../../shared-dist/config');\n-\n-const isSelectiveBuild =\n-  process.env.FCC_SUPERBLOCK ||\n-  process.env.FCC_BLOCK ||\n-  process.env.FCC_CHALLENGE_ID;\n-\n-void getChallengesForLang('english')\n-  .then(result => {\n-    if (!isSelectiveBuild) {\n-      console.log('Building external curriculum data...');\n-      buildExtCurriculumDataV1(\n-        result as unknown as CurriculumV1<CurriculumPropsV1>\n-      );\n-      buildExtCurriculumDataV2(\n-        result as unknown as CurriculumV2<CurriculumPropsV2>\n-      );\n-    } else {\n-      console.log(\n-        'Skipping external curriculum build (selective build mode active)'\n-      );\n-    }\n-    return result;\n-  })\n-  .then(JSON.stringify)\n-  .then(json => {\n-    fs.writeFileSync(`${globalConfigPath}/curriculum.json`, json);\n-  });"
        },
        {
            "sha": "9eda9838c26af105d43f7e28de04e5af4fb51fef",
            "filename": "tools/scripts/build/package.json",
            "status": "removed",
            "additions": 0,
            "deletions": 31,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1212c7872733264d5df7bf02b52111f6088f59b3/tools%2Fscripts%2Fbuild%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1212c7872733264d5df7bf02b52111f6088f59b3/tools%2Fscripts%2Fbuild%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fscripts%2Fbuild%2Fpackage.json?ref=1212c7872733264d5df7bf02b52111f6088f59b3",
            "patch": "@@ -1,31 +0,0 @@\n-{\n-  \"name\": \"@freecodecamp/scripts-build\",\n-  \"version\": \"0.0.1\",\n-  \"description\": \"The freeCodeCamp.org open-source codebase and curriculum\",\n-  \"license\": \"BSD-3-Clause\",\n-  \"private\": true,\n-  \"engines\": {\n-    \"node\": \">=16\",\n-    \"pnpm\": \">=10\"\n-  },\n-  \"repository\": {\n-    \"type\": \"git\",\n-    \"url\": \"git+https://github.com/freeCodeCamp/freeCodeCamp.git\"\n-  },\n-  \"bugs\": {\n-    \"url\": \"https://github.com/freeCodeCamp/freeCodeCamp/issues\"\n-  },\n-  \"homepage\": \"https://github.com/freeCodeCamp/freeCodeCamp#readme\",\n-  \"author\": \"freeCodeCamp <team@freecodecamp.org>\",\n-  \"main\": \"none\",\n-  \"scripts\": {\n-    \"test\": \"vitest\"\n-  },\n-  \"devDependencies\": {\n-    \"@total-typescript/ts-reset\": \"^0.5.0\",\n-    \"@vitest/ui\": \"^3.2.4\",\n-    \"joi\": \"17.12.2\",\n-    \"readdirp\": \"3.6.0\",\n-    \"vitest\": \"^3.2.4\"\n-  }\n-}"
        }
    ],
    "stats": {
        "total": 227,
        "additions": 86,
        "deletions": 141
    }
}