{
    "author": "gikf",
    "message": "fix(curriculum): tests passing with seed code in Calorie counter (#55585)",
    "sha": "6a24f8a74403058ee1b54bd9c537a17642f15a7a",
    "files": [
        {
            "sha": "736bd504295f3885b90c96b9b0ca93fc7014b8fa",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-form-validation-by-building-a-calorie-counter/63b60cfaca25bb27edd40f62.md",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b60cfaca25bb27edd40f62.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b60cfaca25bb27edd40f62.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b60cfaca25bb27edd40f62.md?ref=6a24f8a74403058ee1b54bd9c537a17642f15a7a",
            "patch": "@@ -14,13 +14,15 @@ Finally, you need to link your JavaScript file to your HTML. Create a `script` e\n You should have a `script` element.\n \n ```js\n-assert.isAtLeast(document.querySelectorAll('script')?.length, 1);\n+const bodyEnding = code.split(/<\\/main>/)?.[1]?.split(/<\\/body>/)?.[0];\n+assert.match(bodyEnding, /<script[^>]*>\\s*<\\/script>/);\n ```\n \n Your `script` element should have the `src` set to `./script.js`.\n \n ```js\n-assert.match(code, /script\\s*?src\\s*?=\\s*?('|\")(\\.\\/)?script\\.js\\1/);\n+const bodyEnding = code.split(/<\\/main>/)?.[1]?.split(/<\\/body>/)?.[0];\n+assert.match(bodyEnding, /<script\\s*src\\s*=\\s*('|\")(\\.\\/)?script\\.js\\1\\s*>\\s*<\\/script>/);\n ```\n \n # --seed--"
        },
        {
            "sha": "65223d73bb0ce8655f0bedb60f0b534248ec800b",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-form-validation-by-building-a-calorie-counter/63b61490e633a22b4593e62f.md",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b61490e633a22b4593e62f.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b61490e633a22b4593e62f.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63b61490e633a22b4593e62f.md?ref=6a24f8a74403058ee1b54bd9c537a17642f15a7a",
            "patch": "@@ -26,7 +26,7 @@ assert.match(code, /document\\.getElementById\\(\\s*('|\")add-entry\\1\\s*\\)/g);\n You should assign the `#add-entry` element to `addEntryButton`.\n \n ```js\n-assert.equal(addEntryButton, document.getElementById('add-entry'));\n+assert.deepEqual(addEntryButton, document.getElementById('add-entry'));\n ```\n \n You should declare a variable called `clearButton`.\n@@ -44,13 +44,14 @@ assert.match(code, /document\\.getElementById\\(\\s*('|\")clear\\1\\s*\\)/g);\n You should assign the `#clear` element to `clearButton`.\n \n ```js\n-assert.equal(clearButton, document.getElementById('clear'));\n+assert.deepEqual(clearButton, document.getElementById('clear'));\n ```\n \n You should declare a variable called `output`.\n \n ```js\n-assert.isDefined(output);\n+// .isDefined cannot be used for `output`, as browser defines such variable on it own.\n+assert.match(code, /const\\s+output/);\n ```\n \n You should use `document.getElementById()` to get the `#output` element.\n@@ -62,7 +63,9 @@ assert.match(code, /document\\.getElementById\\(\\s*('|\")output\\1\\s*\\)/g);\n You should assign the `#output` element to `output`.\n \n ```js\n-assert.equal(output, document.getElementById(\"output\"));\n+// assert.deepEqual(output, document.getElementById('output')); cannot be used,\n+// as browser defines `output` variable on it own for `#output`.\n+assert.match(code, /const\\s+output\\s*=\\s*document.getElementById\\(('|\")output\\1\\)/);\n ```\n \n # --seed--"
        },
        {
            "sha": "b9c91a30e2fa0a49e615976a84f8f929909c21ce",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-form-validation-by-building-a-calorie-counter/63bf461011fca327d3b60fa8.md",
            "status": "modified",
            "additions": 0,
            "deletions": 18,
            "changes": 18,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63bf461011fca327d3b60fa8.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63bf461011fca327d3b60fa8.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63bf461011fca327d3b60fa8.md?ref=6a24f8a74403058ee1b54bd9c537a17642f15a7a",
            "patch": "@@ -19,24 +19,6 @@ Declare a `regex` variable and assign it the value from the example above. In fu\n \n # --hints--\n \n-You should remove the `cleanStrArray` variable.\n-\n-```js\n-assert.notMatch(cleanInputString.toString(), /cleanStrArray/);\n-```\n-\n-You should remove the `strArray` variable.\n-\n-```js\n-assert.notMatch(cleanInputString.toString(), /strArray/);\n-```\n-\n-You should not have a `for` loop.\n-\n-```js\n-assert.notMatch(cleanInputString.toString(), /for/);\n-```\n-\n You should declare a `regex` variable.\n \n ```js"
        },
        {
            "sha": "638187d30fc17d7e342a12fc4455d0ab6cb85cb0",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-form-validation-by-building-a-calorie-counter/63c8c15fd337ad24b9b68049.md",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c8c15fd337ad24b9b68049.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c8c15fd337ad24b9b68049.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c8c15fd337ad24b9b68049.md?ref=6a24f8a74403058ee1b54bd9c537a17642f15a7a",
            "patch": "@@ -26,7 +26,8 @@ Add an `if` statement that checks if `invalidInputMatch` is truthy.\n You should add an `if` statement to your `getCaloriesFromInputs` function.\n \n ```js\n-assert.match(getCaloriesFromInputs.toString(), /if\\s*\\(/);\n+const functionCode = code.split(/getCaloriesFromInputs/)?.[1]?.split(/\\}\\s*\\}/)?.[0];\n+assert.match(functionCode, /if\\s*\\(/);\n ```\n \n You should check the truthiness of `invalidInputMatch` in your `if` condition.\n@@ -38,7 +39,8 @@ assert.match(getCaloriesFromInputs.toString(), /if\\s*\\(\\s*invalidInputMatch\\s*\\)\n Your `if` statement should be inside your `for` loop.\n \n ```js\n-assert.isBelow(getCaloriesFromInputs.toString().indexOf(\"for\"), getCaloriesFromInputs.toString().indexOf(\"if\"));\n+const forCode = code.split(/getCaloriesFromInputs/)?.[1]?.split(/for\\s*\\(/)?.[1]?.split(/\\}/)?.[0];\n+assert.match(forCode, /if\\s*\\(\\s*invalidInputMatch\\s*\\)/);\n ```\n \n # --seed--"
        },
        {
            "sha": "93a02a84e2fd625f2fcad6440cc6f693d0a9e94a",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-form-validation-by-building-a-calorie-counter/63c9e8fe3a6f022a05a04675.md",
            "status": "modified",
            "additions": 40,
            "deletions": 8,
            "changes": 48,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c9e8fe3a6f022a05a04675.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6a24f8a74403058ee1b54bd9c537a17642f15a7a/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c9e8fe3a6f022a05a04675.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-form-validation-by-building-a-calorie-counter%2F63c9e8fe3a6f022a05a04675.md?ref=6a24f8a74403058ee1b54bd9c537a17642f15a7a",
            "patch": "@@ -14,33 +14,65 @@ Using the same interpolation syntax, add a second `p` element with the text `con\n You should add a second `p` element to your template literal.\n \n ```js\n-const htmlString = code.split(/output\\s*\\.\\s*innerHTML\\s*=\\s*/)[1].split(/`/)[1];\n-assert.isAtLeast(htmlString.match(/<p>/g).length, 2);\n+assert.isAtLeast(getTemplateContents(code)?.match(/<p>[^<]*<\\/p>/g)?.length, 2);\n ```\n \n Your second `p` element should be on a new line.\n \n ```js\n-const htmlString = code.split(/output\\s*\\.\\s*innerHTML\\s*=\\s*/)[1].split(/`/)[1];\n-assert.match(htmlString, /\\n\\s*<p/)\n+assert.match(getTemplateContents(code), /<hr>\\s*<p>[^<]*<\\/p>\\n\\s*<p>[^<]*<\\/p>/);\n ```\n \n Your second `p` element should come after your existing `p` element.\n \n ```js\n-const htmlString = code.split(/output\\s*\\.\\s*innerHTML\\s*=\\s*/)[1].split(/`/)[1];\n-assert(htmlString.match(/<p>\\$\\{budgetCalories\\}\\s*Calories\\s*Budgeted<\\/p>\\n\\s*<p/));\n+assert.match(getTemplateContents(code), /<p>\\$\\{budgetCalories\\}\\s*Calories\\s*Budgeted<\\/p>\\s*<p>/);\n ```\n \n Your second `p` element should have the text `${consumedCalories} Calories Consumed`.\n \n ```js\n-const htmlString = code.split(/output\\s*\\.\\s*innerHTML\\s*=\\s*/)[1].split(/`/)[1];\n-assert(htmlString.match(/<p>\\$\\{consumedCalories\\}\\s*Calories\\s*Consumed<\\/p>/));\n+const secondP = getTemplateContents(code)?.split(/<p>/)?.[2];\n+assert.match(secondP, /\\$\\{consumedCalories\\}\\s*Calories\\s*Consumed<\\/p>/);\n+```\n+\n+You should add a third `p` element to your template literal.\n+\n+```js\n+assert.lengthOf(getTemplateContents(code)?.match(/<p>[^<]*<\\/p>/g), 3);\n+```\n+\n+Your third `p` element should be on a new line.\n+\n+```js\n+assert.match(getTemplateContents(code), /<hr>\\s*<p>[^<]*<\\/p>\\s*<p>[^<]*<\\/p>\\n\\s*<p>[^<]*<\\/p>/);\n+```\n+\n+Your third `p` element should come after your second existing `p` element.\n+\n+```js\n+assert.match(getTemplateContents(code), /<p>\\$\\{consumedCalories\\}\\s*Calories\\s*Consumed<\\/p>\\s*<p>/);\n+```\n+\n+Your third `p` element should have the text `${exerciseCalories} Calories Burned`.\n+\n+```js\n+const thirdP = getTemplateContents(code)?.split(/<p>/)?.[3];\n+assert.match(thirdP, /\\$\\{exerciseCalories\\}\\s*Calories\\s*Burned<\\/p>/);\n ```\n \n # --seed--\n \n+## --after-user-code--\n+\n+```js\n+function getTemplateContents(code) {\n+  return code\n+    .split(/output\\s*\\.\\s*innerHTML\\s*=\\s*/)?.[1]\n+    ?.split(/`/)?.[1];\n+}\n+```\n+\n ## --seed-contents--\n \n ```html"
        }
    ],
    "stats": {
        "total": 89,
        "additions": 55,
        "deletions": 34
    }
}