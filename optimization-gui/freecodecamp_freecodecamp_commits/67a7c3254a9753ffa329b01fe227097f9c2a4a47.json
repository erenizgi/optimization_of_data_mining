{
    "author": "ojeytonwilliams",
    "message": "fix(client): stop double-counting completed challenges (#57985)",
    "sha": "67a7c3254a9753ffa329b01fe227097f9c2a4a47",
    "files": [
        {
            "sha": "e59818d8d277e0abb34cf0f404b68e1ae130d5d1",
            "filename": "client/src/templates/Introduction/components/super-block-accordion.tsx",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/67a7c3254a9753ffa329b01fe227097f9c2a4a47/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/67a7c3254a9753ffa329b01fe227097f9c2a4a47/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx?ref=67a7c3254a9753ffa329b01fe227097f9c2a4a47",
            "patch": "@@ -281,17 +281,17 @@ export const SuperBlockAccordion = ({\n         });\n \n         const chapterStepIdsSet = new Set(chapterStepIds);\n-        const completedStepsInChapter = completedChallengeIds.filter(id =>\n-          chapterStepIdsSet.has(id)\n-        );\n+        const completedStepsInChapter = new Set(\n+          completedChallengeIds.filter(id => chapterStepIdsSet.has(id))\n+        ).size;\n \n         return (\n           <Chapter\n             key={chapter.name}\n             dashedName={chapter.name}\n             isExpanded={expandedChapter === chapter.name}\n             totalSteps={chapterStepIds.length}\n-            completedSteps={completedStepsInChapter.length}\n+            completedSteps={completedStepsInChapter}\n           >\n             {chapter.modules.map(module => {\n               // show coming soon on production, and all the challenges in dev\n@@ -321,17 +321,17 @@ export const SuperBlockAccordion = ({\n               );\n \n               const moduleStepIdsSet = new Set(moduleStepIds);\n-              const completedStepsInModule = completedChallengeIds.filter(id =>\n-                moduleStepIdsSet.has(id)\n-              );\n+              const completedStepsInModule = new Set(\n+                completedChallengeIds.filter(id => moduleStepIdsSet.has(id))\n+              ).size;\n \n               return (\n                 <Module\n                   key={module.name}\n                   dashedName={module.name}\n                   isExpanded={expandedModule === module.name}\n                   totalSteps={moduleStepIds.length}\n-                  completedSteps={completedStepsInModule.length}\n+                  completedSteps={completedStepsInModule}\n                 >\n                   {module.blocks.map(block => (\n                     // maybe TODO: allow blocks to be \"coming soon\""
        }
    ],
    "stats": {
        "total": 16,
        "additions": 8,
        "deletions": 8
    }
}