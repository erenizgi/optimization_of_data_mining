{
    "author": "ojeytonwilliams",
    "message": "refactor: simplify donation modal logic (#58280)",
    "sha": "4eef3854c7391eae7c8614f2dc019463c3d1d36a",
    "files": [
        {
            "sha": "3d6f98088cc620001011c88c307617f9117d083a",
            "filename": "client/src/components/Donation/donation-modal-body.tsx",
            "status": "modified",
            "additions": 6,
            "deletions": 15,
            "changes": 21,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/4eef3854c7391eae7c8614f2dc019463c3d1d36a/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/4eef3854c7391eae7c8614f2dc019463c3d1d36a/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FDonation%2Fdonation-modal-body.tsx?ref=4eef3854c7391eae7c8614f2dc019463c3d1d36a",
            "patch": "@@ -254,25 +254,16 @@ function DonationModalBody({\n   };\n \n   useEffect(() => {\n-    const interval = setInterval(() => {\n-      setSecondsRemaining(prevSeconds => {\n-        if (prevSeconds > 0) {\n-          return prevSeconds - 1;\n-        } else {\n-          setIsAnimationVisible(false);\n-          clearInterval(interval);\n-          return 0;\n-        }\n-      });\n+    const intervalId = setInterval(() => {\n+      setSecondsRemaining(prevSeconds => prevSeconds - 1);\n     }, 1000);\n \n-    return () => clearInterval(interval);\n-  }, []);\n-\n-  useEffect(() => {\n-    if (secondsRemaining === 0) {\n+    if (secondsRemaining <= 0) {\n+      setIsAnimationVisible(false);\n       setCanClose(true);\n+      clearInterval(intervalId);\n     }\n+    return () => clearInterval(intervalId);\n   }, [secondsRemaining, setCanClose]);\n \n   return ("
        }
    ],
    "stats": {
        "total": 21,
        "additions": 6,
        "deletions": 15
    }
}