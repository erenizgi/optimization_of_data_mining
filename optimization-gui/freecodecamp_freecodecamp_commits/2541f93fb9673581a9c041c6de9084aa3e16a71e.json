{
    "author": "ShaunSHamilton",
    "message": "feat(curriculum): add lab-currency-converter (#59518)\n\nCo-authored-by: Tom <20648924+moT01@users.noreply.github.com>\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "2541f93fb9673581a9c041c6de9084aa3e16a71e",
    "files": [
        {
            "sha": "d776f201e7d1553669ec5080c37a124033207710",
            "filename": "client/i18n/locales/english/intro.json",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2541f93fb9673581a9c041c6de9084aa3e16a71e/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2541f93fb9673581a9c041c6de9084aa3e16a71e/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json?ref=2541f93fb9673581a9c041c6de9084aa3e16a71e",
            "patch": "@@ -3509,7 +3509,13 @@\n         ]\n       },\n       \"sgau\": { \"title\": \"276\", \"intro\": [] },\n-      \"clak\": { \"title\": \"277\", \"intro\": [] },\n+      \"lab-currency-converter\": {\n+        \"title\": \"Build a Currency Converter\",\n+        \"intro\": [\n+          \"For this lab, you'll build a currency converter app.\",\n+          \"You'll use React state, memoization, and controlled components to convert between currencies.\"\n+        ]\n+      },\n       \"lecture-working-with-data-fetching-and-memoization-in-react\": {\n         \"title\": \"Working with Data Fetching and Memoization in React\",\n         \"intro\": ["
        },
        {
            "sha": "820fce4884b94c6a75eff25fbdb71c7452a0d5bd",
            "filename": "client/src/pages/learn/full-stack-developer/lab-currency-converter/index.md",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2541f93fb9673581a9c041c6de9084aa3e16a71e/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-currency-converter%2Findex.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2541f93fb9673581a9c041c6de9084aa3e16a71e/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-currency-converter%2Findex.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-currency-converter%2Findex.md?ref=2541f93fb9673581a9c041c6de9084aa3e16a71e",
            "patch": "@@ -0,0 +1,11 @@\n+---\n+title: Introduction to the Build a Currency Converter\n+block: lab-currency-converter\n+superBlock: full-stack-developer\n+---\n+\n+## Introduction to the Build a Currency Converter\n+\n+For this lab, you'll build a currency converter app.\n+\n+You'll use React state, memoization, and controlled components to convert between currencies."
        },
        {
            "sha": "b6fb8428721713ab93773b6cf49c2532303d9053",
            "filename": "curriculum/challenges/_meta/lab-currency-converter/meta.json",
            "status": "added",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fchallenges%2F_meta%2Flab-currency-converter%2Fmeta.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fchallenges%2F_meta%2Flab-currency-converter%2Fmeta.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2F_meta%2Flab-currency-converter%2Fmeta.json?ref=2541f93fb9673581a9c041c6de9084aa3e16a71e",
            "patch": "@@ -0,0 +1,16 @@\n+{\n+  \"name\": \"Build a Currency Converter\",\n+  \"usesMultifileEditor\": true,\n+  \"dashedName\": \"lab-currency-converter\",\n+  \"superBlock\": \"full-stack-developer\",\n+  \"challengeOrder\": [\n+    {\n+      \"id\": \"67eaa957114d373deb3a9149\",\n+      \"title\": \"Build an Currency Converter\"\n+    }\n+  ],\n+  \"helpCategory\": \"JavaScript\",\n+  \"isUpcomingChange\": false,\n+  \"blockLayout\": \"link\",\n+  \"blockType\": \"lab\"\n+}"
        },
        {
            "sha": "594a1d38ae0036650d0b10e6856597deceb5067f",
            "filename": "curriculum/challenges/english/25-front-end-development/lab-currency-converter/67eaa957114d373deb3a9149.md",
            "status": "added",
            "additions": 491,
            "deletions": 0,
            "changes": 491,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-currency-converter%2F67eaa957114d373deb3a9149.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-currency-converter%2F67eaa957114d373deb3a9149.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-currency-converter%2F67eaa957114d373deb3a9149.md?ref=2541f93fb9673581a9c041c6de9084aa3e16a71e",
            "patch": "@@ -0,0 +1,491 @@\n+---\n+id: 67eaa957114d373deb3a9149\n+title: Build a Currency Converter\n+challengeType: 25\n+dashedName: build-a-currency-converter\n+demoType: onClick\n+---\n+\n+# --description--\n+\n+**Objective:** Fulfill the user stories below and get all the tests to pass to complete the lab.\n+\n+**User Stories:**\n+\n+1. Your `CurrencyConverter` component should render an `input` element to accept the amount to be converted from.\n+2. Your `input` element should accept numbers.\n+3. Your `CurrencyConverter` component should render two `select` elements to choose the currency to convert **from** and **to**.\n+4. Your `select` element should include options for **at least** `USD`, `EUR`, `GBP`, and `JPY`.\n+   1. You may use any exchange rate, provided there is no one-to-one mapping between the currencies.\n+5. Your `CurrencyConverter` component should memoize the calculation of the converted amounts for the **from** currency such that a change in the **to** `select` option will not recalculate the converted amounts.\n+6. Your `CurrencyConverter` component should render an element showing the converted amount in the format `XX.XX CCC`, where `XX.XX` is the converted amount and `CCC` is the currency code.\n+7. The converted amount should be rounded to two decimal places.\n+\n+# --hints--\n+\n+You should export a `CurrencyConverter` component.\n+\n+```js\n+async () => {\n+  const script = [...document.querySelectorAll(\"script\")].find((s) => s.dataset.src ===  \"index.jsx\").innerText;\n+\n+  const exports = {};\n+  const a = eval(script);\n+\n+  assert.property(exports, \"CurrencyConverter\");\n+}\n+```\n+\n+You should have one `input[type=\"number\"]` element to accept the amount to be converted from.\n+\n+```js\n+const inp = document.querySelectorAll('input[type=\"number\"]');\n+assert.equal(inp.length, 1);\n+```\n+\n+You should have two `select` elements.\n+\n+```js\n+const selects = document.querySelectorAll('select');\n+assert.equal(selects.length, 2);\n+```\n+\n+The `select` elements should have options for at least `USD`, `EUR`, `GBP`, and `JPY`.\n+\n+```js\n+const selects = [...document.querySelectorAll('select')];\n+\n+assert.equal(selects.length, 2);\n+\n+for (const select of selects) {\n+  const options = [...select.options].map((o) => o.value);\n+  assert.includeMembers(options, [\"USD\", \"EUR\", \"GBP\", \"JPY\"]);\n+}\n+```\n+\n+Changing the value of the first `select` element should cause the converted amounts to be recalculated.\n+\n+```js\n+async () => {\n+  function spyOn(\n+    obj,\n+    method\n+  ) {\n+    const original = obj[method];\n+    const calls = [];\n+  \n+    const fn = (cb, deps) => {\n+      const result = original(() => {calls.push(1); return cb();}, deps);\n+      return result;\n+    };\n+  \n+    obj[method] = fn;\n+  \n+    fn.calls = calls;\n+    return fn;\n+  }\n+  const abuseMemo = spyOn(React, \"useMemo\");\n+  const script = [...document.querySelectorAll(\"script\")].find((s) => s.dataset.src ===  \"index.jsx\").innerText;\n+\n+  const exports = {};\n+  const a = eval(script);\n+  const s = await __helpers.prepTestComponent(exports.CurrencyConverter);\n+  const [first, _second] = s.querySelectorAll('select');\n+  assert.exists(first);\n+  await React.act(async () => {\n+    // Find first option that is not selected\n+    const notSelected = [...first.options].find((o) => !o.selected);\n+    first.value = notSelected.value;\n+    const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+    first[Object.keys(first).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: first});\n+  });\n+  assert.equal(abuseMemo.calls.length, 2);\n+}\n+```\n+\n+Changing the value of the second `select` element should not cause the converted amounts to be recalculated.\n+\n+```js\n+async () => {\n+  function spyOn(\n+    obj,\n+    method\n+  ) {\n+    const original = obj[method];\n+    const calls = [];\n+  \n+    const fn = (cb, deps) => {\n+      const result = original(() => {calls.push(1); return cb();}, deps);\n+      return result;\n+    };\n+  \n+    obj[method] = fn;\n+  \n+    fn.calls = calls;\n+    return fn;\n+  }\n+  const abuseMemo = spyOn(React, \"useMemo\");\n+  const script = [...document.querySelectorAll(\"script\")].find((s) => s.dataset.src ===  \"index.jsx\").innerText;\n+\n+  const exports = {};\n+  const a = eval(script);\n+  const s = await __helpers.prepTestComponent(exports.CurrencyConverter);\n+  const [_first, second] = s.querySelectorAll('select');\n+  assert.exists(second);\n+  await React.act(async () => {\n+    // Find first option that is not selected\n+    const notSelected = [...second.options].find((o) => !o.selected);\n+    second.value = notSelected.value;\n+    const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+    second[Object.keys(second).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: second});\n+  });\n+  assert.equal(abuseMemo.calls.length, 1);\n+}\n+```\n+\n+Changing the value of the first `select` element should cause a textual change on the page.\n+\n+```js\n+async () => {\n+  const s = await __helpers.prepTestComponent(window.index.CurrencyConverter);\n+\n+  const nonFormContentBefore = getInnerTextExcept(s, \"input,select\");\n+\n+  const [first, _second] = s.querySelectorAll('select');\n+  assert.exists(first);\n+  await React.act(async () => {\n+    // Find first option that is not selected\n+    const notSelected = [...first.options].find((o) => !o.selected);\n+    first.value = notSelected.value;\n+    const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+    first[Object.keys(first).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: first});\n+  });\n+\n+  const nonFormContentAfter = getInnerTextExcept(s, \"input,select\");\n+\n+  try {\n+    assert.notEqual(nonFormContentBefore, nonFormContentAfter);\n+  } catch (e) {\n+    console.error(e);\n+    throw e;\n+  }\n+}\n+```\n+\n+Changing the value of the second `select` element should cause a textual change on the page.\n+\n+```js\n+async () => {\n+  const s = await __helpers.prepTestComponent(window.index.CurrencyConverter);\n+\n+  const nonFormContentBefore = getInnerTextExcept(s, \"input,select\");\n+\n+  const [_first, second] = s.querySelectorAll('select');\n+  assert.exists(second);\n+  await React.act(async () => {\n+    // Find first option that is not selected\n+    const notSelected = [...second.options].find((o) => !o.selected);\n+    second.value = notSelected.value;\n+    const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+    second[Object.keys(second).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: second});\n+  });\n+\n+  const nonFormContentAfter = getInnerTextExcept(s, \"input,select\");\n+\n+  try {\n+    assert.notEqual(nonFormContentBefore, nonFormContentAfter);\n+  } catch (e) {\n+    console.error(e);\n+    throw e;\n+  }\n+}\n+```\n+\n+The converted amount should be displayed in the format `XX.XX CCC`, where `XX.XX` is the converted amount rounded to two decimal places and `CCC` is the currency code.\n+\n+```js\n+async () => {\n+  const s = await __helpers.prepTestComponent(window.index.CurrencyConverter);\n+\n+  const inp = s.querySelector('input[type=\"number\"]');\n+  assert.exists(inp);\n+  const [_first, second] = s.querySelectorAll('select');\n+  assert.exists(second);\n+  await React.act(async () => {\n+    // Find first option that is not selected\n+    const notSelected = [...second.options].find((o) => !o.selected);\n+    second.value = notSelected.value;\n+    const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+    second[Object.keys(second).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: second});\n+    inp.value = 10;\n+    const ev2 = new Event(\"change\", { bubbles: true, cancelable: false });\n+    inp[Object.keys(inp).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev2, target: inp});\n+  });\n+\n+  const nonFormContent = getInnerTextExcept(s, \"input,select\");\n+\n+  try {\n+    const currencyCode = second.value;\n+    const reg = new RegExp(`\\\\d+\\\\.\\\\d{2} ${currencyCode}`);\n+    assert.match(nonFormContent, reg);\n+  } catch (e) {\n+    console.error(e);\n+    throw e;\n+  }\n+}\n+```\n+\n+The converted amount should be different from the input amount.\n+\n+```js\n+async () => {\n+  const s = await __helpers.prepTestComponent(window.index.CurrencyConverter);\n+\n+  const inp = s.querySelector('input[type=\"number\"]');\n+  assert.exists(inp);\n+  const [first, second] = s.querySelectorAll('select');\n+  assert.exists(first);\n+  assert.exists(second);\n+  for (let i = 0; i < first.options.length; i++) {\n+    for (let j = 0; j < second.options.length; j++) {\n+      if (first.options[i].value === second.options[j].value) {\n+        continue;\n+      }\n+\n+      await React.act(async () => {\n+        first.value = first.options[i].value;\n+        const ev = new Event(\"change\", { bubbles: true, cancelable: false });\n+        first[Object.keys(first).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev, target: first});\n+        second.value = second.options[j].value;\n+        const ev2 = new Event(\"change\", { bubbles: true, cancelable: false });\n+        second[Object.keys(second).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev2, target: second});\n+\n+        inp.value = 10;\n+        const ev3 = new Event(\"change\", { bubbles: true, cancelable: false });\n+        inp[Object.keys(inp).find((k) => k.startsWith(\"__reactProps\"))].onChange({...ev3, target: inp});\n+      });\n+\n+      const nonFormContent = getInnerTextExcept(s, \"input,select\");\n+      const { amount } = nonFormContent.match(/(?<amount>\\d+\\.\\d{2}) [A-Z]{3}/).groups;\n+\n+      try {\n+        assert.notEqual(Number(amount), Number(inp.value));\n+      } catch (e) {\n+        console.error(e);\n+        throw e;\n+      }\n+    }\n+  }\n+}\n+```\n+\n+# --before-all--\n+\n+```js\n+async function delay(time) {\n+  return new Promise((resolve) => setTimeout(resolve, time));\n+}\n+\n+function getInnerTextExcept(doc, removingSelector) {\n+  const body = doc.cloneNode(true);\n+\n+  const squareElements = body.querySelectorAll(removingSelector);\n+  squareElements.forEach(element => {\n+    element.parentNode.removeChild(element)\n+  });\n+\n+  return body.innerText;\n+}\n+```\n+\n+# --seed--\n+\n+## --seed-contents--\n+\n+```html\n+<!DOCTYPE html>\n+<html>\n+\n+<head>\n+    <meta charset=\"UTF-8\" />\n+    <title>Currency Converter</title>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.5/babel.min.js\"></script>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      src=\"index.jsx\"\n+    ></script>\n+    <link rel=\"stylesheet\" href=\"styles.css\" />\n+</head>\n+\n+<body>\n+    <div id=\"root\"></div>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      data-presets=\"react\"\n+      data-type=\"module\"\n+    >\n+      import { CurrencyConverter } from './index.jsx';\n+      ReactDOM.createRoot(document.getElementById('root')).render(<CurrencyConverter />);\n+    </script>\n+</body>\n+\n+</html>\n+```\n+\n+```css\n+\n+```\n+\n+```jsx\n+const { useState, useMemo } = React;\n+\n+export function CurrencyConverter() {\n+\n+}\n+```\n+\n+# --solutions--\n+\n+```html\n+<!DOCTYPE html>\n+<html>\n+\n+<head>\n+    <meta charset=\"UTF-8\" />\n+    <title>Currency Converter</title>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.5/babel.min.js\"></script>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      src=\"index.jsx\"\n+    ></script>\n+    <link rel=\"stylesheet\" href=\"styles.css\" />\n+</head>\n+\n+<body>\n+    <div id=\"root\"></div>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      data-presets=\"react\"\n+      data-type=\"module\"\n+    >\n+      import { CurrencyConverter } from './index.jsx';\n+      ReactDOM.createRoot(document.getElementById('root')).render(<CurrencyConverter />);\n+    </script>\n+</body>\n+\n+</html>\n+```\n+\n+```css\n+body {\n+    background-color: #0a0a23;\n+    font-family: Lato, sans-serif;\n+}\n+\n+main {\n+    background-color: #1b1b32;\n+    padding: 20px;\n+    border-radius: 8px;\n+    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\n+    text-align: center;\n+    width: 400px;\n+    margin: 50px auto;\n+}\n+\n+h1 {\n+    margin-bottom: 16px;\n+    color: #f5f6f7;\n+}\n+\n+label {\n+    color: #f5f6f7;\n+}\n+\n+input,\n+select {\n+    width: 100%;\n+    display: block;\n+    box-sizing: border-box;\n+    padding: 8px;\n+    margin-bottom: 12px;\n+    margin-top: 4px;\n+    border: 1px solid #99c9ff;\n+    border-radius: 4px;\n+}\n+\n+.conversion-display {\n+    font-size: 16px;\n+    color: #f5f6f7;\n+    margin-bottom: 10px;\n+}\n+\n+p {\n+    font-size: 18px;\n+    font-weight: bold;\n+    color: #acd157;\n+}\n+```\n+\n+```jsx\n+export function CurrencyConverter() {\n+  const [amount, setAmount] = React.useState(1);\n+  const [startCurrency, setStartCurrency] = React.useState(\"USD\");\n+  const [endCurrency, setEndCurrency] = React.useState(\"EUR\");\n+  \n+  const exchangeRates = {\n+    USD: 1,\n+    EUR: 0.85,\n+    GBP: 0.75,\n+    JPY: 110\n+  }\n+\n+  const convertedAmounts = React.useMemo(() => {\n+    const converted = {};\n+    Object.keys(exchangeRates).forEach((curr) => {\n+      converted[curr] = ((amount / exchangeRates[startCurrency]) * exchangeRates[curr]).toFixed(2);\n+    });\n+    return converted;\n+  }, [amount, startCurrency]);\n+  \n+  return (\n+    <main>\n+      <h1>Currency Converter</h1>\n+      <p className=\"conversion-display\">{startCurrency} to {endCurrency} Conversion</p>\n+      <input\n+        type=\"number\"\n+        value={amount}\n+        onChange={(e) => setAmount(Number(e.target.value))}\n+      />\n+      <label>\n+        Start Currency:\n+        <select value={startCurrency} onChange={(e) => setStartCurrency(e.target.value)}>\n+          {Object.keys(exchangeRates).map((curr) => (\n+            <option key={curr} value={curr}>\n+              {curr}\n+            </option>\n+          ))}\n+        </select>\n+      </label>\n+      <label>\n+        Target Currency:\n+        <select value={endCurrency} onChange={(e) => setEndCurrency(e.target.value)}>\n+          {Object.keys(exchangeRates).map((curr) => (\n+            <option key={curr} value={curr}>\n+              {curr}\n+            </option>\n+          ))}\n+        </select>\n+      </label>\n+      <p>Converted Amount: <span>{convertedAmounts[endCurrency]}</span> {endCurrency}</p>\n+    </main>\n+  );\n+}\n+```"
        },
        {
            "sha": "0ef7e341e737c7f2b46891a298473b7681bf1c2f",
            "filename": "curriculum/superblock-structure/full-stack.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2541f93fb9673581a9c041c6de9084aa3e16a71e/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsuperblock-structure%2Ffull-stack.json?ref=2541f93fb9673581a9c041c6de9084aa3e16a71e",
            "patch": "@@ -593,6 +593,9 @@\n             { \"dashedName\": \"review-react-state-and-hooks\" },\n             { \"dashedName\": \"quiz-react-state-and-hooks\" },\n             { \"dashedName\": \"lecture-working-with-forms-in-react\" },\n+            {\n+              \"dashedName\": \"lab-currency-converter\"\n+            },\n             {\n               \"dashedName\": \"lecture-working-with-data-fetching-and-memoization-in-react\"\n             },"
        }
    ],
    "stats": {
        "total": 529,
        "additions": 528,
        "deletions": 1
    }
}