{
    "author": "zairahira",
    "message": "feat(curriculum): add otp generator (#59121)\n\nCo-authored-by: Naomi <accounts+github@nhcarrigan.com>\nCo-authored-by: Tom <20648924+moT01@users.noreply.github.com>\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "d82e1b98a55072f6807a53d7ff21939e5627ea2b",
    "files": [
        {
            "sha": "875051b22e8a6b9a23e4aca01cd5e749734dc64f",
            "filename": "client/i18n/locales/english/intro.json",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d82e1b98a55072f6807a53d7ff21939e5627ea2b/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d82e1b98a55072f6807a53d7ff21939e5627ea2b/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Fintro.json?ref=d82e1b98a55072f6807a53d7ff21939e5627ea2b",
            "patch": "@@ -3872,7 +3872,13 @@\n           \"In this workshop, you will continue to learn about the <code>useEffect()</code> hook by building an application that fetches fruit data from an API based on user input and displays the results dynamically.\"\n         ]\n       },\n-      \"vjgg\": { \"title\": \"272\", \"intro\": [] },\n+      \"lab-one-time-password-generator\": {\n+        \"title\": \"Build a One-Time Password Generator\",\n+        \"intro\": [\n+          \"In this lab you'll build a one-time password generator.\",\n+          \"You'll practice using the useEffect hooks to create a timer and generate a random OTP.\"\n+        ]\n+      },\n       \"review-react-state-and-hooks\": {\n         \"title\": \"React State and Hooks Review\",\n         \"intro\": ["
        },
        {
            "sha": "67a68a7c1c6dac587f0e8ce7a515a43ed98cfff5",
            "filename": "client/src/pages/learn/full-stack-developer/lab-one-time-password-generator/index.md",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d82e1b98a55072f6807a53d7ff21939e5627ea2b/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-one-time-password-generator%2Findex.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d82e1b98a55072f6807a53d7ff21939e5627ea2b/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-one-time-password-generator%2Findex.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fpages%2Flearn%2Ffull-stack-developer%2Flab-one-time-password-generator%2Findex.md?ref=d82e1b98a55072f6807a53d7ff21939e5627ea2b",
            "patch": "@@ -0,0 +1,9 @@\n+---\n+title: Introduction to the Build a One-Time Password Generator\n+block: lab-one-time-password-generator\n+superBlock: full-stack-developer\n+---\n+\n+## Introduction to the Build a One-Time Password Generator\n+\n+This is a test for the new project-based curriculum."
        },
        {
            "sha": "37556a95f046f4de62a02298a8e5def7abf6602e",
            "filename": "curriculum/challenges/_meta/lab-one-time-password-generator/meta.json",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fchallenges%2F_meta%2Flab-one-time-password-generator%2Fmeta.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fchallenges%2F_meta%2Flab-one-time-password-generator%2Fmeta.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2F_meta%2Flab-one-time-password-generator%2Fmeta.json?ref=d82e1b98a55072f6807a53d7ff21939e5627ea2b",
            "patch": "@@ -0,0 +1,11 @@\n+{\n+  \"name\": \"Build a One-Time Password Generator\",\n+  \"isUpcomingChange\": false,\n+  \"usesMultifileEditor\": true,\n+  \"dashedName\": \"lab-one-time-password-generator\",\n+  \"superBlock\": \"full-stack-developer\",\n+  \"challengeOrder\": [{ \"id\": \"67c562286b29447da020d407\", \"title\": \"Build a One-Time Password Generator\" }],\n+  \"blockType\": \"lab\",\n+  \"blockLayout\": \"link\",\n+  \"helpCategory\": \"JavaScript\"\n+}"
        },
        {
            "sha": "892a9a46bff97727ab20511f23a0584541e7235a",
            "filename": "curriculum/challenges/english/25-front-end-development/lab-one-time-password-generator/67c562286b29447da020d407.md",
            "status": "added",
            "additions": 419,
            "deletions": 0,
            "changes": 419,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-one-time-password-generator%2F67c562286b29447da020d407.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-one-time-password-generator%2F67c562286b29447da020d407.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-one-time-password-generator%2F67c562286b29447da020d407.md?ref=d82e1b98a55072f6807a53d7ff21939e5627ea2b",
            "patch": "@@ -0,0 +1,419 @@\n+---\n+id: 67c562286b29447da020d407\n+title: Build a One-Time Password Generator\n+challengeType: 25\n+dashedName: build-a-one-time-password-generator\n+demoType: onClick\n+---\n+\n+# --description--\n+\n+In this lab, you will generate a 6-digit OTP (One-Time Password) and display it to the user. The OTP will expire after 5 seconds, and a new OTP will be generated when the user clicks the `\"Generate New OTP\"` button.\n+\n+**Objective:** Fulfill the user stories below and get all the tests to pass to complete the lab. \n+\n+**User Stories:**\n+\n+1. You should use the `useEffect` hook to manage the countdown timer.\n+2. Your `OTPGenerator` component should return a `div` element with the class name `container`.\n+3. The `div` having the class `container` should include the following elements:\n+\n+    - An `h1` element with the ID `otp-title` and text `\"OTP Generator\"`.\n+    - An `h2` element with the ID `otp-display` that either displays the message `\"Click 'Generate   OTP' to get a code\"` or shows the generated OTP if one is available.\n+    - A `p` element with the ID `otp-timer` that:\n+        - Starts off empty.\n+        - Displays `\"Expires in: X seconds\"` after the button is clicked, where `X` represents the remaining time before the OTP expires.\n+        - Shows the message `\"OTP expired. Click the button to generate a new OTP.\"` once the countdown reaches `0`.\n+    - A `button` element with the ID `generate-otp-button` labeled `\"Generate OTP\"`. When clicked, it should generate a new OTP and start a 5-second countdown.\n+    - The `\"Generate OTP\"` button must be disabled while the countdown is active.\n+\n+4. You should ensure the countdown timer stops automatically once it reaches `0` seconds to prevent unnecessary updates.\n+5. The generated OTP should be 6 digits long.\n+\n+# --before-all--\n+\n+```js\n+let clock = __FakeTimers.install();\n+```\n+\n+# --hints--\n+\n+You should not remove the existing `const { useState, useEffect, useRef } = React;` assignment from the code.\n+\n+```js\n+assert.match(code, /{\\s*(useState\\s*,\\s*useEffect\\s*,\\s*useRef|useState\\s*,\\s*useRef\\s*,\\s*useEffect|useEffect\\s*,\\s*useState\\s*,\\s*useRef|useEffect\\s*,\\s*useRef\\s*,\\s*useState|useRef\\s*,\\s*useState\\s*,\\s*useEffect|useRef\\s*,\\s*useEffect\\s*,\\s*useState|useState|useEffect|useRef)\\s*}\\s*=\\s*React;/);\n+```\n+\n+You should render a `div` with the class `.container`.\n+\n+```js\n+const containerDiv = document.querySelector('.container');\n+assert.exists(containerDiv);\n+```\n+\n+The `.container` should contain an `h1` element with the ID `otp-title` the text `\"OTP Generator\"`.\n+\n+```js\n+const h1 = document.querySelector(\".container h1#otp-title\");\n+assert.exists(h1);\n+assert.equal(h1.textContent, \"OTP Generator\");\n+```\n+\n+The `.container` should contain an `h2` element with the ID `otp-display` that displays the OTP when generated. \n+\n+```js\n+const h2 = document.querySelector(\".container h2#otp-display\");\n+assert.exists(h2);\n+```\n+\n+Initially, the `h2` inside `.container` should display the message `\"Click 'Generate OTP' to get a code\"`.\n+\n+```js\n+assert.strictEqual(document.querySelector('.container h2#otp-display').textContent.trim(), \"Click 'Generate OTP' to get a code\");\n+```\n+\n+Initially, there should be a `.container` element that does not contain any `<p>` elements.\n+\n+```js\n+const container = document.querySelector('.container');\n+assert.exists(container, \"The container element should exist\");\n+const pElements = document.querySelectorAll('.container p');\n+assert.strictEqual(pElements.length, 0, \"Initially, there should be no <p> elements inside '.container'\");\n+```\n+\n+The `.container` should contain a `button` element with the ID `generate-otp-button` and text `\"Generate OTP\"`. \n+\n+```js\n+const button = document.querySelector('.container button#generate-otp-button').textContent;\n+assert.exists(button);\n+assert.strictEqual(button, 'Generate OTP');\n+```\n+\n+When the button is clicked, it should display a new OTP in the `h2` element with id `otp-display`.\n+\n+```js\n+async() => {\n+try {\n+// allow the page to render\n+clock.tick(1)\n+const button = document.querySelector(\".container button#generate-otp-button\");\n+const h2 = document.querySelector(\".container h2#otp-display\");\n+\n+button.click();\n+\n+clock.tick(300)\n+\n+assert.match(h2.textContent?.trim(), /[0-9]/, \"OTP should be a number\");\n+} finally {\n+// we need to wait for the countdown to finish for the next test to work otherwise the button will be disabled\n+await clock.runAllAsync();\n+}\n+}\n+```\n+\n+The generated OTP should be 6 digits long.\n+\n+```js\n+async() => {\n+  try {\n+const button = document.querySelector(\".container button#generate-otp-button\");\n+button.click();\n+clock.tick(1);\n+const h2 = document.querySelector(\".container h2#otp-display\");\n+\n+assert.match(h2.textContent.trim(), /^[0-9]{6}$/, \"OTP should be a 6-digit number\");\n+\n+ } finally {\n+// we need to wait for the countdown to finish for the next test to work otherwise the button will be disabled\n+await clock.runAllAsync();\n+}\n+}\n+```\n+\n+\n+When the button is clicked, the `p` element with id of `otp-timer` should show a 5-second countdown.\n+\n+```js\n+async() => {\n+  try {\n+// allow the page to render\n+clock.tick(1)\n+const button = document.querySelector(\".container button#generate-otp-button\");\n+const h2 = document.querySelector(\".container h2#otp-display\");\n+\n+button.click();\n+\n+clock.tick(300)\n+const p = document.querySelector(\".container p#otp-timer\");\n+assert.match(p.textContent, /Expires in: 5 seconds/, \"Countdown should start at 5 seconds\");\n+\n+  } finally {\n+// we need to wait for the countdown to finish for the next test to work otherwise the button will be disabled\n+await clock.runAllAsync();\n+}\n+}\n+```\n+\n+The message in the `p` element with id `otp-timer` should update every second to show the remaining time.\n+\n+```js\n+async() => {\n+const button = document.querySelector(\".container button#generate-otp-button\");\n+button.click();\n+clock.tick(1)\n+let p = document.querySelector(\".container p#otp-timer\");\n+assert.match(p.textContent, /Expires in: 5 seconds/);\n+await clock.tickAsync(1000)\n+p = document.querySelector(\".container p#otp-timer\");\n+assert.match(p.textContent, /Expires in: 4 seconds/, \"Countdown should update to 4 seconds after 1 second\");\n+}\n+```\n+\n+The `\"Generate OTP\"` button should be disabled while the countdown timer is running.\n+\n+```js\n+async () => {\n+try {\n+  const button = document.querySelector(\".container button#generate-otp-button\");\n+  button.click();\n+  clock.tick(1);\n+  \n+  assert.isTrue(button.disabled);\n+} finally {\n+  await clock.runAllAsync();\n+}\n+}\n+```\n+\n+The `\"Generate OTP\"` button should be enabled once the countdown timer reaches 0.\n+\n+```js\n+async () => {\n+\n+const button = document.querySelector(\".container button#generate-otp-button\");\n+button.click();\n+await clock.tickAsync(6000);\n+  \n+assert.isFalse(button.disabled);\n+}\n+```\n+\n+When the countdown timer reaches `0`, you should display the message `OTP expired. Click the button to generate a new OTP.`.\n+\n+```js\n+async () => {\n+  const button = document.querySelector(\".container button#generate-otp-button\");\n+  button.click();\n+\n+  await clock.tickAsync(6000);\n+\n+  const p = document.querySelector(\".container p#otp-timer\");\n+  assert.equal(p.textContent.trim(), \"OTP expired. Click the button to generate a new OTP.\");\n+}\n+```\n+\n+You should export the `OTPGenerator` component.\n+\n+```js\n+assert.isFunction(window.index.OTPGenerator);\n+```\n+\n+Uninstall the clock, ignore this test\n+\n+```js\n+async () => {\n+clock.uninstall()\n+}\n+```\n+\n+# --seed--\n+\n+## --seed-contents--\n+\n+```html\n+<!DOCTYPE html>\n+<html>\n+\n+<head>\n+    <meta charset=\"UTF-8\" />\n+    <title>Color Picker</title>\n+    <link rel=\"stylesheet\" href=\"styles.css\" />\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.5/babel.min.js\"></script>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      src=\"index.jsx\"\n+    ></script>\n+</head>\n+\n+<body>\n+    <div id=\"root\"></div>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      data-presets=\"react\"\n+      data-type=\"module\"\n+    >\n+      import { OTPGenerator } from './index.jsx';\n+      ReactDOM.createRoot(document.getElementById('root')).render(<OTPGenerator />);\n+    </script>\n+</body>\n+\n+</html>\n+```\n+\n+```css\n+\n+```\n+\n+```jsx\n+const { useState, useEffect, useRef } = React;\n+\n+export const OTPGenerator = () => {};\n+```\n+\n+# --solutions--\n+\n+```html\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+\n+<head>\n+    <meta charset=\"UTF-8\" />\n+    <title>OTP Generator</title>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.development.min.js\"></script>\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.5/babel.min.js\"></script>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      src=\"index.jsx\"\n+    ></script>\n+    <link rel=\"stylesheet\" href=\"styles.css\" />\n+</head>\n+\n+<body>\n+    <div id=\"root\"></div>\n+    <script\n+      data-plugins=\"transform-modules-umd\"\n+      type=\"text/babel\"\n+      data-presets=\"react\"\n+      data-type=\"module\"\n+    >\n+      import { OTPGenerator } from './index.jsx';\n+      ReactDOM.createRoot(document.getElementById('root')).render(<OTPGenerator />);\n+    </script>\n+</body>\n+\n+</html>\n+```\n+\n+```css\n+body {\n+    font-family: 'Castoro Titling', cursive;\n+}\n+\n+.container {\n+    text-align: center;\n+    margin-top: 50px;\n+}\n+\n+h1 {\n+    font-size: 30px;\n+    color: #333;\n+}\n+\n+h2 {\n+    font-size: 25px;\n+    color: #555;\n+}\n+\n+p {\n+    font-size: 16px;\n+    color: #888;\n+}\n+\n+button {\n+    padding: 10px 20px;\n+    margin-top: 20px;\n+    font-size: 16px;\n+    border: none;\n+    background-color: #383f59;\n+    color: white;\n+    border-radius: 5px;\n+}\n+\n+button:disabled {\n+  background-color:#57585c;\n+  cursor: not-allowed;\n+}\n+\n+button:hover {\n+    background-color: #444;\n+}\n+```\n+\n+```jsx\n+const { useState, useEffect, useRef } = React;\n+\n+export const OTPGenerator = () => {\n+  const intervalId = useRef(null);\n+  const [otp, setOtp] = useState(null);\n+  const [secondsLeft, setSecondsLeft] = useState(5);\n+  const [isCounting, setIsCounting] = useState(false);\n+  const [hasGeneratedOtp, setHasGeneratedOtp] = useState(false);\n+\n+  const generateOTP = () => Math.floor(100000 + Math.random() * 900000);\n+\n+  const handleGenerateOtp = () => {\n+    setOtp(generateOTP());\n+    setSecondsLeft(5);\n+    setIsCounting(true);\n+    setHasGeneratedOtp(true);\n+    intervalId.current = setInterval(() => {\n+      setSecondsLeft(prevSeconds => prevSeconds - 1);\n+    }, 1000);\n+  };\n+\n+  useEffect(() => {\n+    if (secondsLeft === 0) {\n+      setIsCounting(false);\n+      clearInterval(intervalId.current);\n+    }\n+  }, [secondsLeft]);\n+\n+  useEffect(\n+    () => () => {\n+      clearInterval(intervalId.current);\n+    },\n+    []\n+  );\n+\n+  return (\n+    <div className='container'>\n+      <h1 id='otp-title'>OTP Generator</h1>\n+      <h2 id='otp-display'>\n+        {otp ? otp : \"Click 'Generate OTP' to get a code\"}\n+      </h2>\n+      {isCounting ? (\n+        <p id='otp-timer'>Expires in: {secondsLeft} seconds</p>\n+      ) : (\n+        hasGeneratedOtp && (\n+          <p id='otp-timer'>\n+            OTP expired. Click the button to generate a new OTP.\n+          </p>\n+        )\n+      )}\n+      <button\n+        id='generate-otp-button'\n+        onClick={handleGenerateOtp}\n+        disabled={isCounting}\n+      >\n+        Generate OTP\n+      </button>\n+    </div>\n+  );\n+};\n+```"
        },
        {
            "sha": "e926ba456704962e94c7ec1eb69240cae86bda98",
            "filename": "curriculum/superblock-structure/full-stack.json",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d82e1b98a55072f6807a53d7ff21939e5627ea2b/curriculum%2Fsuperblock-structure%2Ffull-stack.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fsuperblock-structure%2Ffull-stack.json?ref=d82e1b98a55072f6807a53d7ff21939e5627ea2b",
            "patch": "@@ -1098,6 +1098,9 @@\n               \"dashedName\": \"lecture-understanding-effects-and-referencing-values-in-react\"\n             },\n             { \"dashedName\": \"workshop-fruit-search-app\" },\n+            {\n+              \"dashedName\": \"lab-one-time-password-generator\"\n+            },\n             {\n               \"dashedName\": \"review-react-state-and-hooks\"\n             },"
        }
    ],
    "stats": {
        "total": 450,
        "additions": 449,
        "deletions": 1
    }
}