{
    "author": "Sembauke",
    "message": "feat: delete and rename \"Quincy's email tests\" already convered by Playwright (#54941)",
    "sha": "984d6419d9faf37a4b91e77409765c0612caf594",
    "files": [
        {
            "sha": "13fe5ad0d2836aa2a9b0c1e53272b984f2b9b0a2",
            "filename": "cypress/e2e/default/user/privacy-terms.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 58,
            "changes": 58,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/d064ba117acb17208f0110da775e7fd4012ac203/cypress%2Fe2e%2Fdefault%2Fuser%2Fprivacy-terms.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/d064ba117acb17208f0110da775e7fd4012ac203/cypress%2Fe2e%2Fdefault%2Fuser%2Fprivacy-terms.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/cypress%2Fe2e%2Fdefault%2Fuser%2Fprivacy-terms.ts?ref=d064ba117acb17208f0110da775e7fd4012ac203",
            "patch": "@@ -1,58 +0,0 @@\n-// TODO: DRY out the parts before clicking \"Yes please\" and \"No thanks\"\n-describe('Privacy terms', () => {\n-  it('should accept update privacy terms if requests emails from Quincy', () => {\n-    // Flag used to identify if the `/update-privacy-terms` have been called\n-    let privacyTermsUpdated = false;\n-    cy.intercept('PUT', '/update-privacy-terms', () => {\n-      privacyTermsUpdated = true;\n-    }).as('updatePrivacyTerms');\n-    // Seed dev user with `acceptedPrivacyTerms` unset\n-    cy.task('seed', ['--unset-privacy-terms']);\n-    // Go to the homepage and log in manually so we can assert the following:\n-    // 1. Redirection to /email-sign-up works properly\n-    // 2. The /update-privacy-terms has not been requested\n-    cy.visit('/');\n-    cy.get('[data-test-label=\"landing-small-cta\"]').click();\n-    // Since we're using the dev login, we do\n-    cy.wrap(privacyTermsUpdated).should('eq', false);\n-    cy.visit('/email-sign-up');\n-    // Assert email sign up elements and make sure we don't get redirected somewhere else\n-    cy.title().should('contain', 'Email Sign Up');\n-    cy.get('[data-cy=\"email-sign-up\"]').should('exist');\n-    // Accept\n-    cy.get('button:contains(\"Yes please\")').click();\n-    cy.wait('@updatePrivacyTerms').then(() => {\n-      expect(privacyTermsUpdated).to.eq(true);\n-      cy.contains('Welcome back');\n-      cy.location('pathname').should('contain', '/learn');\n-    });\n-  });\n-\n-  it('should accept update privacy terms if the user rejects emails from Quincy', () => {\n-    // Flag used to identify if the `/update-privacy-terms` have been called\n-    let privacyTermsUpdated = false;\n-    cy.intercept('PUT', '/update-privacy-terms', () => {\n-      privacyTermsUpdated = true;\n-    }).as('updatePrivacyTerms');\n-    // Seed dev user with `acceptedPrivacyTerms` unset\n-    cy.task('seed', ['--unset-privacy-terms']);\n-    // Go to the homepage and log in manually so we can assert the following:\n-    // 1. Redirection to /email-sign-up works properly\n-    // 2. The /update-privacy-terms has not been requested\n-    cy.visit('/');\n-    cy.get('[data-test-label=\"landing-small-cta\"]').click();\n-    // Since we're using the dev login, we do\n-    cy.wrap(privacyTermsUpdated).should('eq', false);\n-    cy.visit('/email-sign-up');\n-    // Assert email sign up elements and make sure we don't get redirected somewhere else\n-    cy.title().should('contain', 'Email Sign Up');\n-    cy.get('[data-cy=\"email-sign-up\"]').should('exist');\n-    // Accept\n-    cy.get('button:contains(\"No thanks\")').click();\n-    cy.wait('@updatePrivacyTerms').then(() => {\n-      expect(privacyTermsUpdated).to.eq(true);\n-      cy.contains('Welcome back');\n-      cy.location('pathname').should('contain', '/learn');\n-    });\n-  });\n-});"
        },
        {
            "sha": "a38899b20e4ecd4211069f1902872786a2ebf941",
            "filename": "e2e/quincy-email-sign-up.spec.ts",
            "status": "renamed",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/984d6419d9faf37a4b91e77409765c0612caf594/e2e%2Fquincy-email-sign-up.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/984d6419d9faf37a4b91e77409765c0612caf594/e2e%2Fquincy-email-sign-up.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fquincy-email-sign-up.spec.ts?ref=984d6419d9faf37a4b91e77409765c0612caf594",
            "patch": "@@ -137,12 +137,12 @@ test.describe('Email sign-up page when user is signed in', () => {\n       )\n     ).toBeVisible();\n \n-    const signupButton = page.getByRole('button', {\n+    const noThanksButton = page.getByRole('button', {\n       name: translations.buttons['no-thanks']\n     });\n \n-    await expect(signupButton).toBeVisible();\n-    await signupButton.click();\n+    await expect(noThanksButton).toBeVisible();\n+    await noThanksButton.click();\n \n     // The user is signed in and automatically redirected to /learn after clicking the button.\n     // We wait for the navigation to complete.",
            "previous_filename": "e2e/email-sign-up.spec.ts"
        }
    ],
    "stats": {
        "total": 64,
        "additions": 3,
        "deletions": 61
    }
}