{
    "author": "c0d1ng-ma5ter",
    "message": "fix(curriculum): Make recipe page test for invalid image URLs (#59338)\n\nCo-authored-by: Ilenia <26656284+ilenia-magoni@users.noreply.github.com>",
    "sha": "52cf40d5d099a77686fa7422af1db52b0ac1d755",
    "files": [
        {
            "sha": "f6f50d7119499b6e9e2e88fdf185741589725686",
            "filename": "curriculum/challenges/english/25-front-end-development/lab-recipe-page/668f08ea07b99b1f4a91acab.md",
            "status": "modified",
            "additions": 20,
            "deletions": 1,
            "changes": 21,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/52cf40d5d099a77686fa7422af1db52b0ac1d755/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-recipe-page%2F668f08ea07b99b1f4a91acab.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/52cf40d5d099a77686fa7422af1db52b0ac1d755/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-recipe-page%2F668f08ea07b99b1f4a91acab.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F25-front-end-development%2Flab-recipe-page%2F668f08ea07b99b1f4a91acab.md?ref=52cf40d5d099a77686fa7422af1db52b0ac1d755",
            "patch": "@@ -147,7 +147,26 @@ assert.exists(document.querySelector('img'));\n All your `img` elements should have a valid `src` attribute and value.\n \n ```js\n-assert.isAbove(document.querySelector('img')?.src.length, 0);\n+const img = document.querySelector('img');\n+const rawSrc = img?.getAttribute('src');\n+const resolvedSrc = img?.src;\n+const re = new RegExp(window.location.href, \"ig\");\n+\n+assert.isAbove(rawSrc?.trim().length, 0, \"The 'src' attribute must be explicitly set.\");\n+assert.notMatch(resolvedSrc, re, \"The 'src' should not start with the current page URL\");\n+\n+img.onload = () => {\n+  console.log('Image loaded successfully.');\n+};\n+\n+img.onerror = (error) => {\n+  console.error('Image failed to load:', error);\n+  assert.fail(\"Your image's URL should be valid.\"); // Make the test instafail\n+};\n+\n+if (img.complete) {\n+  img.onload && img.onload();\n+};\n ```\n \n All your `img` elements should have an `alt` attribute to describe the image."
        }
    ],
    "stats": {
        "total": 21,
        "additions": 20,
        "deletions": 1
    }
}