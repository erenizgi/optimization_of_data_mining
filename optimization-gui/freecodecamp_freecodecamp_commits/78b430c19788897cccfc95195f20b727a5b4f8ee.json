{
    "author": "ojeytonwilliams",
    "message": "refactor(client): simplify checks to see if a user has a certification (#64380)",
    "sha": "78b430c19788897cccfc95195f20b727a5b4f8ee",
    "files": [
        {
            "sha": "04ea4860200d65409e609c1fbbaab31f43153f07",
            "filename": "client/src/components/settings/certification.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 65,
            "changes": 67,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/78b430c19788897cccfc95195f20b727a5b4f8ee/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/78b430c19788897cccfc95195f20b727a5b4f8ee/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx?ref=78b430c19788897cccfc95195f20b727a5b4f8ee",
            "patch": "@@ -18,6 +18,7 @@ import { SolutionDisplayWidget } from '../solution-display-widget';\n import {\n   Certification,\n   currentCertifications,\n+  isCertified,\n   legacyCertifications,\n   upcomingCertifications,\n   type CertificationFlags\n@@ -42,69 +43,6 @@ const mapDispatchToProps = {\n   openModal\n };\n \n-const createCertifiedMap = ({\n-  is2018DataVisCert,\n-  isA2EnglishCert,\n-  isApisMicroservicesCert,\n-  isJavascriptCertV9,\n-  isJsAlgoDataStructCert,\n-  isInfosecQaCert,\n-  isPythonCertV9,\n-  isQaCertV7,\n-  isInfosecCertV7,\n-  isFrontEndLibsCert,\n-  isRespWebDesignCert,\n-  isRespWebDesignCertV9,\n-  isDataVisCert,\n-  isFrontEndCert,\n-  isBackEndCert,\n-  isSciCompPyCertV7,\n-  isDataAnalysisPyCertV7,\n-  isMachineLearningPyCertV7,\n-  isRelationalDatabaseCertV8,\n-  isRelationalDatabaseCertV9,\n-  isCollegeAlgebraPyCertV8,\n-  isFoundationalCSharpCertV8,\n-  isJsAlgoDataStructCertV8\n-}: CertificationFlags): Record<\n-  Exclude<Certification, Certification.LegacyFullStack>,\n-  boolean\n-> => ({\n-  [Certification.RespWebDesign]: isRespWebDesignCert,\n-  [Certification.JsAlgoDataStruct]: isJsAlgoDataStructCert,\n-  [Certification.FrontEndDevLibs]: isFrontEndLibsCert,\n-  [Certification.DataVis]: is2018DataVisCert,\n-  [Certification.BackEndDevApis]: isApisMicroservicesCert,\n-  [Certification.QualityAssurance]: isQaCertV7,\n-  [Certification.InfoSec]: isInfosecCertV7,\n-  [Certification.SciCompPy]: isSciCompPyCertV7,\n-  [Certification.DataAnalysisPy]: isDataAnalysisPyCertV7,\n-  [Certification.MachineLearningPy]: isMachineLearningPyCertV7,\n-  [Certification.RelationalDb]: isRelationalDatabaseCertV8,\n-  [Certification.CollegeAlgebraPy]: isCollegeAlgebraPyCertV8,\n-  [Certification.FoundationalCSharp]: isFoundationalCSharpCertV8,\n-  [Certification.LegacyFrontEnd]: isFrontEndCert,\n-  [Certification.LegacyDataVis]: isDataVisCert,\n-  [Certification.LegacyBackEnd]: isBackEndCert,\n-  [Certification.LegacyInfoSecQa]: isInfosecQaCert,\n-  // LegacyFullStack cannot be handled by this because there are no projects to\n-  // be rendered. The new FullStackDeveloper certification is a normal\n-  // certification with projects.\n-  [Certification.RespWebDesignV9]: isRespWebDesignCertV9,\n-  [Certification.JsV9]: isJavascriptCertV9,\n-  [Certification.FrontEndDevLibsV9]: false,\n-  [Certification.PythonV9]: isPythonCertV9,\n-  [Certification.RelationalDbV9]: isRelationalDatabaseCertV9,\n-  [Certification.BackEndDevApisV9]: false,\n-  [Certification.FullStackDeveloperV9]: false,\n-  [Certification.A2English]: isA2EnglishCert,\n-  [Certification.B1English]: false,\n-  [Certification.A2Spanish]: false,\n-  [Certification.A2Chinese]: false,\n-  [Certification.A1Chinese]: false,\n-  [Certification.JsAlgoDataStructNew]: isJsAlgoDataStructCertV8\n-});\n-\n const honestyInfoMessage = {\n   type: 'info',\n   message: FlashMessages.HonestFirst\n@@ -239,7 +177,6 @@ function CertificationSettings(props: CertificationSettingsProps) {\n \n   const handleSolutionModalHide = () => initialiseState();\n \n-  const isCertifiedMap = createCertifiedMap(props);\n   const getProjectSolution = (projectId: string, projectTitle: string) => {\n     const { completedChallenges, openModal } = props;\n     const completedProject = find(\n@@ -317,7 +254,7 @@ function CertificationSettings(props: CertificationSettingsProps) {\n               <tbody>\n                 <ProjectsFor\n                   certSlug={certSlug}\n-                  isCert={isCertifiedMap[certSlug]}\n+                  isCert={isCertified(props, certSlug)}\n                 />\n               </tbody>\n             </Table>"
        },
        {
            "sha": "152ca7d1ab13dc54c12ab705d658ae6eb3ef1b36",
            "filename": "shared/config/certification-settings.test.ts",
            "status": "modified",
            "additions": 31,
            "deletions": 1,
            "changes": 32,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/78b430c19788897cccfc95195f20b727a5b4f8ee/shared%2Fconfig%2Fcertification-settings.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/78b430c19788897cccfc95195f20b727a5b4f8ee/shared%2Fconfig%2Fcertification-settings.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fconfig%2Fcertification-settings.test.ts?ref=78b430c19788897cccfc95195f20b727a5b4f8ee",
            "patch": "@@ -4,7 +4,8 @@ import {\n   linkedInCredentialIds,\n   certToTitleMap,\n   certToIdMap,\n-  certSlugTypeMap\n+  certSlugTypeMap,\n+  isCertified\n } from './certification-settings';\n \n describe('linkedInCredentialIds', () => {\n@@ -49,3 +50,32 @@ describe('certSlugTypeMap', () => {\n     expect(uniqueTypes).toEqual(types);\n   });\n });\n+\n+describe('isCertified', () => {\n+  it('should return true if a user has the specified certification', () => {\n+    const cert = Certification.RespWebDesignV9;\n+    const user = {\n+      isRespWebDesignCertV9: true\n+    };\n+\n+    expect(isCertified(user, cert)).toBe(true);\n+  });\n+\n+  it('should return false if a user does not have the specified certification', () => {\n+    const cert = Certification.JsAlgoDataStruct;\n+    const user = {\n+      isRespWebDesignCertV9: true\n+    };\n+\n+    expect(isCertified(user, cert)).toBe(false);\n+  });\n+\n+  it('should return false if the certification does not exist', () => {\n+    const cert = 'NonExistentCert' as Certification;\n+    const user = {\n+      isRespWebDesignCertV9: true\n+    };\n+\n+    expect(isCertified(user, cert)).toBe(false);\n+  });\n+});"
        },
        {
            "sha": "35b18f36a7fc79378f0340e20aa448f29abc0224",
            "filename": "shared/config/certification-settings.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/78b430c19788897cccfc95195f20b727a5b4f8ee/shared%2Fconfig%2Fcertification-settings.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/78b430c19788897cccfc95195f20b727a5b4f8ee/shared%2Fconfig%2Fcertification-settings.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fconfig%2Fcertification-settings.ts?ref=78b430c19788897cccfc95195f20b727a5b4f8ee",
            "patch": "@@ -251,6 +251,14 @@ export type CertificationFlags = {\n   [key in UserCertFlag]: boolean;\n };\n \n+export function isCertified(\n+  user: Partial<CertificationFlags>,\n+  cert: Certification\n+): boolean {\n+  const certFlag = certSlugTypeMap[cert];\n+  return Boolean(user[certFlag]);\n+}\n+\n // TODO: use i18n keys instead of hardcoded titles\n export const certToTitleMap: Record<Certification, string> = {\n   // Legacy certifications"
        }
    ],
    "stats": {
        "total": 107,
        "additions": 41,
        "deletions": 66
    }
}