{
    "author": "moT01",
    "message": "fix: i18n node tests (#62785)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "00ca2b1c7e15513a403fe474d68f631508eb82d4",
    "files": [
        {
            "sha": "1a80850ff075172f10f122f379d3464e421a120b",
            "filename": ".github/workflows/node.js-tests.yml",
            "status": "modified",
            "additions": 66,
            "deletions": 65,
            "changes": 131,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/00ca2b1c7e15513a403fe474d68f631508eb82d4/.github%2Fworkflows%2Fnode.js-tests.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/00ca2b1c7e15513a403fe474d68f631508eb82d4/.github%2Fworkflows%2Fnode.js-tests.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fnode.js-tests.yml?ref=00ca2b1c7e15513a403fe474d68f631508eb82d4",
            "patch": "@@ -209,68 +209,69 @@ jobs:\n       - name: Run Tests\n         run: pnpm test\n \n-  # test-localization:\n-  #   name: Test - i18n\n-  #   needs: build\n-  #   runs-on: ubuntu-22.04\n-  #\n-  #   strategy:\n-  #     fail-fast: false\n-  #     matrix:\n-  #       node-version: [22]\n-  #       locale: [portuguese, italian]\n-  #\n-  #   steps:\n-  #     - name: Checkout\n-  #       uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n-  #       with:\n-  #         submodules: 'recursive'\n-  #\n-  #     - name: Use Node.js ${{ matrix.node-version }}\n-  #       uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n-  #       with:\n-  #         node-version: ${{ matrix.node-version }}\n-  #\n-  #     - name: Install pnpm\n-  #       uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n-  #       id: pnpm-install\n-  #       with:\n-  #         run_install: false\n-  #\n-  #     - name: Set Environment variables\n-  #       run: |\n-  #         cp sample.env .env\n-  #         cat .env\n-  #\n-  #     - name: Start MongoDB\n-  #       uses: supercharge/mongodb-github-action@b0a1493307c4e9b82ed61f3858d606c5ff190c64 # v1.10.0\n-  #       with:\n-  #         mongodb-version: 8.0\n-  #         mongodb-replica-set: test-rs\n-  #         mongodb-port: 27017\n-  #\n-  #     - name: Install Dependencies\n-  #       env:\n-  #         CURRICULUM_LOCALE: ${{ matrix.locale }}\n-  #         CLIENT_LOCALE: ${{ matrix.locale }}\n-  #       run: |\n-  #         echo pnpm version $(pnpm -v)\n-  #         pnpm install\n-  #\n-  #     # DONT REMOVE THIS STEP.\n-  #     # TODO: Refactor and use re-usable workflow and shared artifacts\n-  #     - name: Build Client in ${{ matrix.locale }}\n-  #       env:\n-  #         CURRICULUM_LOCALE: ${{ matrix.locale }}\n-  #         CLIENT_LOCALE: ${{ matrix.locale }}\n-  #       run: |\n-  #         pnpm run build\n-  #\n-  #     - name: Install Chrome for Puppeteer\n-  #       run: pnpm -F=curriculum install-puppeteer\n-  #\n-  #     - name: Run Tests\n-  #       env:\n-  #         CURRICULUM_LOCALE: ${{ matrix.locale }}\n-  #         CLIENT_LOCALE: ${{ matrix.locale }}\n-  #       run: pnpm test\n+  test-localization:\n+    name: Test - i18n\n+    needs: build\n+    runs-on: ubuntu-22.04\n+    if: github.event.pull_request.user.login == 'camperbot' && github.head_ref == 'chore/update-i18n-curriculum-submodule'\n+\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        node-version: [22]\n+        locale: [portuguese, italian]\n+\n+    steps:\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n+        with:\n+          submodules: 'recursive'\n+\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n+        with:\n+          node-version: ${{ matrix.node-version }}\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Set Environment variables\n+        run: |\n+          cp sample.env .env\n+          cat .env\n+\n+      - name: Start MongoDB\n+        uses: supercharge/mongodb-github-action@b0a1493307c4e9b82ed61f3858d606c5ff190c64 # v1.10.0\n+        with:\n+          mongodb-version: 8.0\n+          mongodb-replica-set: test-rs\n+          mongodb-port: 27017\n+\n+      - name: Install Dependencies\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: |\n+          echo pnpm version $(pnpm -v)\n+          pnpm install\n+\n+      # DONT REMOVE THIS STEP.\n+      # TODO: Refactor and use re-usable workflow and shared artifacts\n+      - name: Build Client in ${{ matrix.locale }}\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: |\n+          pnpm run build\n+\n+      - name: Install Chrome for Puppeteer\n+        run: pnpm -F=curriculum install-puppeteer\n+\n+      - name: Run Tests\n+        env:\n+          CURRICULUM_LOCALE: ${{ matrix.locale }}\n+          CLIENT_LOCALE: ${{ matrix.locale }}\n+        run: pnpm test"
        }
    ],
    "stats": {
        "total": 131,
        "additions": 66,
        "deletions": 65
    }
}