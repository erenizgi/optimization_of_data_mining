{
    "author": "ojeytonwilliams",
    "message": "fix(client): handle builds without all challenges (#61040)\n\nCo-authored-by: Shaun Hamilton <shauhami020@gmail.com>",
    "sha": "517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
    "files": [
        {
            "sha": "a199ed413b580b3edaca683680b6d82b3846616a",
            "filename": "client/gatsby-node.js",
            "status": "modified",
            "additions": 83,
            "deletions": 7,
            "changes": 90,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fgatsby-node.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fgatsby-node.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fgatsby-node.js?ref=517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
            "patch": "@@ -295,22 +295,56 @@ exports.createSchemaCustomization = ({ actions }) => {\n       challenge: Challenge\n     }\n     type Challenge {\n-      blockType: String\n+      assignments: [String]\n+      bilibiliIds: BilibiliIds\n+      block: String\n+      blockId: String\n       blockLayout: String\n+      blockType: String\n+      certification: String\n       challengeFiles: [FileContents]\n+      challengeOrder: Int\n+      challengeType: Int\n       chapter: String\n+      dashedName: String\n+      demoType: String\n+      description: String\n+      disableLoopProtectPreview: Boolean\n+      disableLoopProtectTests: Boolean\n       explanation: String\n+      fillInTheBlank: FillInTheBlank\n+      forumTopicId: Int\n+      hasEditableBoundaries: Boolean\n+      helpCategory: String\n       hooks: Hooks\n-      notes: String\n-      url: String\n-      assignments: [String]\n-      prerequisites: [PrerequisiteChallenge]\n+      id: String\n+      instructions: String\n+      isComingSoon: Boolean\n+      isLastChallengeInBlock: Boolean\n+      isPrivate: Boolean\n       module: String\n       msTrophyId: String\n-      fillInTheBlank: FillInTheBlank\n+      notes: String\n+      order: Int\n+      prerequisites: [PrerequisiteChallenge]\n+      questions: [Question]\n+      quizzes: [Quiz]\n+      required: [RequiredResource]\n       scene: Scene\n+      solutions: [[FileContents]]\n+      suborder: Int\n+      superBlock: String\n+      superOrder: Int\n+      template: String\n+      tests: [Test]\n+      title: String\n       transcript: String\n-      quizzes: [Quiz]\n+      translationPending: Boolean\n+      url: String\n+      usesMultifileEditor: Boolean\n+      videoId: String\n+      videoLocaleIds: VideoLocaleIds\n+      videoUrl: String\n     }\n     type FileContents {\n       fileKey: String\n@@ -320,11 +354,53 @@ exports.createSchemaCustomization = ({ actions }) => {\n       head: String\n       tail: String\n       editableRegionBoundaries: [Int]\n+      path: String\n+      error: String\n+      seed: String\n+      id: String\n+      history: [String]\n     }\n     type PrerequisiteChallenge {\n       id: String\n       title: String\n     }\n+    type VideoLocaleIds {\n+      espanol: String\n+      italian: String\n+      portuguese: String\n+    }\n+    type BilibiliIds {\n+      aid: Int\n+      bvid: String\n+      cid: Int\n+    }\n+    type Question {\n+      text: String\n+      answers: [Answer]\n+      solution: Int\n+    }\n+    type Answer {\n+      answer: String\n+      feedback: String\n+    }\n+    type RequiredResource {\n+      link: String\n+      raw: Boolean\n+      src: String\n+      crossDomain: Boolean\n+    }\n+    type Hooks {\n+      beforeAll: String\n+      beforeEach: String\n+      afterAll: String\n+      afterEach: String\n+    }\n+    type Test {\n+      id: String\n+      text: String\n+      testString: String\n+      title: String\n+    }\n     type FillInTheBlank {\n       sentence: String\n       blanks: [Blank]"
        },
        {
            "sha": "fb17832fcb128effcf4a0e03b621f1ebd3329eaa",
            "filename": "client/src/pages/learn.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 8,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Fpages%2Flearn.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Fpages%2Flearn.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fpages%2Flearn.tsx?ref=517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
            "patch": "@@ -57,7 +57,7 @@ interface LearnPageProps {\n       challenge: {\n         fields: Slug;\n       };\n-    };\n+    } | null;\n   };\n }\n \n@@ -67,18 +67,14 @@ function LearnPage({\n   isSignedIn,\n   fetchState: { pending, complete },\n   user,\n-  data: {\n-    challengeNode: {\n-      challenge: {\n-        fields: { slug }\n-      }\n-    }\n-  }\n+  data: { challengeNode }\n }: LearnPageProps) {\n   const { name, completedChallengeCount, isDonating } = user ?? EMPTY_USER;\n \n   const { t } = useTranslation();\n \n+  const slug = challengeNode?.challenge?.fields?.slug || '';\n+\n   const onLearnDonationAlertClick = () => {\n     callGA({\n       event: 'donation_related',"
        },
        {
            "sha": "e720bf1bf8420dbe792fa674e7a16e898fda5b0e",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
            "patch": "@@ -188,7 +188,6 @@ export type ChallengeNode = {\n     fields: Fields;\n     fillInTheBlank: FillInTheBlank;\n     forumTopicId: number;\n-    guideUrl: string;\n     head: string[];\n     hasEditableBoundaries: boolean;\n     helpCategory: string;"
        },
        {
            "sha": "d2419b1a62b532e7d2f980b04ca23d35af1280e5",
            "filename": "client/src/templates/Introduction/components/super-block-intro.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-intro.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-intro.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-intro.tsx?ref=517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
            "patch": "@@ -20,7 +20,7 @@ interface SuperBlockIntroQueryData {\n         slug: string;\n       };\n     };\n-  };\n+  } | null;\n }\n \n type ReduxProps = ConnectedProps<typeof connector>;\n@@ -115,13 +115,7 @@ function SuperBlockIntro({\n     note: string;\n   };\n \n-  const {\n-    challengeNode: {\n-      challenge: {\n-        fields: { slug: firstChallengeSlug }\n-      }\n-    }\n-  } = useStaticQuery<SuperBlockIntroQueryData>(graphql`\n+  const { challengeNode } = useStaticQuery<SuperBlockIntroQueryData>(graphql`\n     query SuperBlockIntroQuery {\n       challengeNode(\n         challenge: {\n@@ -139,6 +133,7 @@ function SuperBlockIntro({\n     }\n   `);\n \n+  const firstChallengeSlug = challengeNode?.challenge?.fields?.slug || '';\n   const {\n     title: i18nSuperBlock,\n     intro: superBlockIntroText,"
        },
        {
            "sha": "2a2ad63f2921dd6ba696cdcfc861920a7ef702f7",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/517b9f05760ae4bf55062d9c9eb5a46bb202fb98/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=517b9f05760ae4bf55062d9c9eb5a46bb202fb98",
            "patch": "@@ -162,7 +162,6 @@ const schema = Joi.object().keys({\n   }),\n   certification: Joi.string().regex(slugWithSlashRE),\n   challengeType: Joi.number().min(0).max(31).required(),\n-  checksum: Joi.number(),\n   // TODO: require this only for normal challenges, not certs\n   dashedName: Joi.string().regex(slugRE),\n   demoType: Joi.string().valid('onClick', 'onLoad'),\n@@ -183,7 +182,6 @@ const schema = Joi.object().keys({\n     then: Joi.string()\n   }),\n   challengeFiles: Joi.array().items(fileJoi),\n-  guideUrl: Joi.string().uri({ scheme: 'https' }),\n   hasEditableBoundaries: Joi.boolean(),\n   helpCategory: Joi.valid(\n     'JavaScript',\n@@ -217,7 +215,6 @@ const schema = Joi.object().keys({\n     otherwise: Joi.string().allow('')\n   }),\n   isComingSoon: Joi.bool(),\n-  isLocked: Joi.bool(),\n   module: Joi.string().when('superBlock', {\n     is: chapterBasedSuperBlocks,\n     then: Joi.required(),"
        }
    ],
    "stats": {
        "total": 117,
        "additions": 90,
        "deletions": 27
    }
}