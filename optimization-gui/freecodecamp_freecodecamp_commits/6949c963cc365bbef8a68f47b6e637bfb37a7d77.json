{
    "author": "Dario-DC",
    "message": "fix(curriculum): update email simulator tests (#63803)",
    "sha": "6949c963cc365bbef8a68f47b6e637bfb37a7d77",
    "files": [
        {
            "sha": "c62fc610f77b6ca5695300df279b648fa04828eb",
            "filename": "curriculum/challenges/english/blocks/workshop-email-simulator/685cdfd1932d8ac6ad986813.md",
            "status": "modified",
            "additions": 26,
            "deletions": 5,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/6949c963cc365bbef8a68f47b6e637bfb37a7d77/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Fworkshop-email-simulator%2F685cdfd1932d8ac6ad986813.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/6949c963cc365bbef8a68f47b6e637bfb37a7d77/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Fworkshop-email-simulator%2F685cdfd1932d8ac6ad986813.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2Fblocks%2Fworkshop-email-simulator%2F685cdfd1932d8ac6ad986813.md?ref=6949c963cc365bbef8a68f47b6e637bfb37a7d77",
            "patch": "@@ -15,29 +15,50 @@ Here is an example:\n \n ```py\n x = 10\n-y = 'Even' if x % 2 == 0 else 'Odd' # y will be even\n+y = 'Even' if x % 2 == 0 else 'Odd' # y will be Even\n ```\n \n Within the method, before, use conditional expression to assign the string `Read` to a variable `status` if the email is read and `Unread` if it is not. \n \n # --hints--\n \n-The `__str__` method should create a `status` variable that uses a conditional expression.\n+You should have a `status` variable within the `__str__` method.\n \n ```js\n ({\n     test: () => {\n-        assert(runPython(`_Node(_code).find_class(\"Email\").find_function(\"__str__\").has_stmt(\"status = 'Read' if self.read else 'Unread'\")`));\n+        assert(runPython(`_Node(_code).find_class(\"Email\").find_function(\"__str__\").has_variable(\"status\")`));\n     }\n })\n ```\n \n-The `__str__` method should return the email information with the status included.\n+You should assign a conditional expression to the `status` variable.\n \n ```js\n ({\n     test: () => {\n-        assert(runPython(`_Node(_code).find_class(\"Email\").find_function(\"__str__\").has_variable(\"status\")`));\n+        runPython(`\n+        import ast\n+        assert isinstance(_Node(_code).find_class(\"Email\").find_function(\"__str__\").find_variable(\"status\").tree.value, ast.IfExp)`);\n+    }\n+})\n+```\n+\n+Your conditional expression should evaluate to the string `Read` if the email is read and `Unread` if it is not.\n+\n+```js\n+({\n+    test: () => {\n+        runPython(`\n+        if_exps = [\n+          \"'Read' if self.read else 'Unread'\",\n+          \"'Read' if self.read == True else 'Unread'\",\n+          \"'Unread' if not self.read else 'Read'\",\n+          \"'Unread' if self.read == False else 'Read'\"\n+        ]\n+        foo = _Node(_code).find_class(\"Email\").find_function(\"__str__\")\n+        assert any(foo.has_stmt(f\"status = {if_exp}\") for if_exp in if_exps)\n+        `);\n     }\n })\n ```"
        }
    ],
    "stats": {
        "total": 31,
        "additions": 26,
        "deletions": 5
    }
}