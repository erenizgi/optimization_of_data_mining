{
    "author": "moT01",
    "message": "feat(challenge-parser): add transcript to challenge parser (#57967)",
    "sha": "8ec9e5cc52b8f51cc244473186194a9be8d446c1",
    "files": [
        {
            "sha": "3967e5ac2272d01d42017df92c5a7ee39e608665",
            "filename": "client/gatsby-node.js",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fgatsby-node.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fgatsby-node.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fgatsby-node.js?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -305,6 +305,7 @@ exports.createSchemaCustomization = ({ actions }) => {\n       msTrophyId: String\n       fillInTheBlank: FillInTheBlank\n       scene: Scene\n+      transcript: String\n       quizzes: [Quiz]\n     }\n     type FileContents {"
        },
        {
            "sha": "9064a988a4434a8477d2f552f911a06e8cc1b7c3",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -428,6 +428,7 @@\n     \"questions\": \"Questions\",\n     \"answered-mcq\": \"You have unanswered questions and/or incorrect answers.\",\n     \"explanation\": \"Explanation\",\n+    \"transcript\": \"Read a transcript of this video\",\n     \"solution-link\": \"Solution Link\",\n     \"source-code-link\": \"Source Code Link\",\n     \"ms-link\": \"Microsoft Link\","
        },
        {
            "sha": "2201117d07c8ca350d9ce5ffbdd54250b8ba9f42",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -221,6 +221,7 @@ export type ChallengeNode = {\n     template: string;\n     tests: Test[];\n     title: string;\n+    transcript: string;\n     translationPending: boolean;\n     url: string;\n     usesMultifileEditor: boolean;"
        },
        {
            "sha": "4a15e1069cc06f066eb0d005a07d109c16db9d67",
            "filename": "client/src/templates/Challenges/components/challenge-transcript.css",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.css?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -0,0 +1,3 @@\n+.challenge-transcript {\n+  cursor: pointer;\n+}"
        },
        {
            "sha": "ce21b734386c57d3b295ff05f38c0d1fb0e2e903",
            "filename": "client/src/templates/Challenges/components/challenge-transcript.tsx",
            "status": "added",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fchallenge-transcript.tsx?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -0,0 +1,31 @@\n+import React from 'react';\n+import { useTranslation } from 'react-i18next';\n+import { Spacer } from '@freecodecamp/ui';\n+import PrismFormatted from './prism-formatted';\n+\n+import './challenge-transcript.css';\n+\n+interface ChallengeTranscriptProps {\n+  transcript: string;\n+}\n+\n+function ChallengeTranscript({\n+  transcript\n+}: ChallengeTranscriptProps): JSX.Element {\n+  const { t } = useTranslation();\n+\n+  return (\n+    <>\n+      <details className='challenge-transcript'>\n+        <summary>{t('learn.transcript')}</summary>\n+        <Spacer size='m' />\n+        <PrismFormatted className={'line-numbers'} text={transcript} />\n+      </details>\n+      <Spacer size='m' />\n+    </>\n+  );\n+}\n+\n+ChallengeTranscript.displayName = 'ChallengeTranscript';\n+\n+export default ChallengeTranscript;"
        },
        {
            "sha": "ca502f4623c3b2f1694a2b731605a3ff5a3fc215",
            "filename": "client/src/templates/Challenges/generic/show.tsx",
            "status": "modified",
            "additions": 25,
            "deletions": 14,
            "changes": 39,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -28,6 +28,7 @@ import { getChallengePaths } from '../utils/challenge-paths';\n import Scene from '../components/scene/scene';\n import MultipleChoiceQuestions from '../components/multiple-choice-questions';\n import ChallengeExplanation from '../components/challenge-explanation';\n+import ChallengeTranscript from '../components/challenge-transcript';\n import HelpModal from '../components/help-modal';\n import { SceneSubject } from '../components/scene/scene-subject';\n \n@@ -82,6 +83,7 @@ const ShowGeneric = ({\n         instructions,\n         questions,\n         title,\n+        transcript,\n         translationPending,\n         scene,\n         superBlock,\n@@ -204,6 +206,8 @@ const ShowGeneric = ({\n               {title}\n             </ChallengeTitle>\n \n+            <Spacer size='m' />\n+\n             {description && (\n               <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n                 <ChallengeDescription\n@@ -216,29 +220,35 @@ const ShowGeneric = ({\n \n             <Col lg={10} lgOffset={1} md={10} mdOffset={1}>\n               {videoId && (\n-                <VideoPlayer\n-                  bilibiliIds={bilibiliIds}\n-                  onVideoLoad={handleVideoIsLoaded}\n-                  title={title}\n-                  videoId={videoId}\n-                  videoIsLoaded={videoIsLoaded}\n-                  videoLocaleIds={videoLocaleIds}\n-                />\n+                <>\n+                  <VideoPlayer\n+                    bilibiliIds={bilibiliIds}\n+                    onVideoLoad={handleVideoIsLoaded}\n+                    title={title}\n+                    videoId={videoId}\n+                    videoIsLoaded={videoIsLoaded}\n+                    videoLocaleIds={videoLocaleIds}\n+                  />\n+                  <Spacer size='m' />\n+                </>\n               )}\n             </Col>\n \n             {scene && <Scene scene={scene} sceneSubject={sceneSubject} />}\n \n             <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n+              {transcript && <ChallengeTranscript transcript={transcript} />}\n+\n               {instructions && (\n-                <ChallengeDescription\n-                  instructions={instructions}\n-                  superBlock={superBlock}\n-                />\n+                <>\n+                  <ChallengeDescription\n+                    instructions={instructions}\n+                    superBlock={superBlock}\n+                  />\n+                  <Spacer size='m' />\n+                </>\n               )}\n \n-              <Spacer size='m' />\n-\n               {assignments.length > 0 && (\n                 <Assignments\n                   assignments={assignments}\n@@ -362,6 +372,7 @@ export const query = graphql`\n         }\n         superBlock\n         title\n+        transcript\n         translationPending\n         videoId\n         videoId"
        },
        {
            "sha": "bf4ca425e77ad119ffebfc88b545b4403a4491d6",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -287,6 +287,10 @@ const schema = Joi.object()\n       .required(),\n     template: Joi.string().allow(''),\n     title: Joi.string().required(),\n+    transcript: Joi.when('challengeType', {\n+      is: [challengeTypes.generic, challengeTypes.video],\n+      then: Joi.string()\n+    }),\n     translationPending: Joi.bool().required(),\n     url: Joi.when('challengeType', {\n       is: [challengeTypes.codeAllyPractice, challengeTypes.codeAllyCert],"
        },
        {
            "sha": "bb48bccebde2b7a3b52bd6458308d2f87da0b194",
            "filename": "tools/challenge-parser/parser/index.js",
            "status": "modified",
            "additions": 7,
            "deletions": 1,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/8ec9e5cc52b8f51cc244473186194a9be8d446c1/tools%2Fchallenge-parser%2Fparser%2Findex.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/8ec9e5cc52b8f51cc244473186194a9be8d446c1/tools%2Fchallenge-parser%2Fparser%2Findex.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Findex.js?ref=8ec9e5cc52b8f51cc244473186194a9be8d446c1",
            "patch": "@@ -53,7 +53,13 @@ const processor = unified()\n   .use(addScene)\n   .use(addQuizzes)\n   .use(addTests)\n-  .use(addText, ['description', 'instructions', 'notes', 'explanation']);\n+  .use(addText, [\n+    'description',\n+    'instructions',\n+    'notes',\n+    'explanation',\n+    'transcript'\n+  ]);\n \n exports.parseMD = function parseMD(filename) {\n   return new Promise((resolve, reject) => {"
        }
    ],
    "stats": {
        "total": 88,
        "additions": 73,
        "deletions": 15
    }
}