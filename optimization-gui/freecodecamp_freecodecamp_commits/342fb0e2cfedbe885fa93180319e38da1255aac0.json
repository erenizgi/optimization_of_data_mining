{
    "author": "ahmaxed",
    "message": "fix(client): no block prompt on fcc10 (#57692)",
    "sha": "342fb0e2cfedbe885fa93180319e38da1255aac0",
    "files": [
        {
            "sha": "9e058f087763bb5e2decefd02d9457b7959143e1",
            "filename": "client/src/redux/donation-saga.js",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/342fb0e2cfedbe885fa93180319e38da1255aac0/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/342fb0e2cfedbe885fa93180319e38da1255aac0/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fdonation-saga.js?ref=342fb0e2cfedbe885fa93180319e38da1255aac0",
            "patch": "@@ -45,13 +45,18 @@ const updateCardErrorMessage = i18next.t('donate.error-3');\n \n function* showDonateModalSaga() {\n   let shouldRequestDonation = yield select(shouldRequestDonationSelector);\n+  const recentlyClaimedBlock = yield select(recentlyClaimedBlockSelector);\n   const MODAL_SHOWN_KEY = 'modalShownTimestamp';\n   const modalShownTimestamp = sessionStorage.getItem(MODAL_SHOWN_KEY);\n   const isModalRecentlyShown = Date.now() - modalShownTimestamp < 20000;\n-\n-  if (shouldRequestDonation || isModalRecentlyShown) {\n+  if (\n+    shouldRequestDonation &&\n+    recentlyClaimedBlock &&\n+    recentlyClaimedBlock.superBlock == 'full-stack-developer'\n+  ) {\n+    yield put(preventBlockDonationRequests());\n+  } else if (shouldRequestDonation || isModalRecentlyShown) {\n     yield delay(200);\n-    const recentlyClaimedBlock = yield select(recentlyClaimedBlockSelector);\n     yield put(openDonationModal());\n     sessionStorage.setItem(MODAL_SHOWN_KEY, Date.now());\n     yield take(appTypes.closeDonationModal);"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 8,
        "deletions": 3
    }
}