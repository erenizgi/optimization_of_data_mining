{
    "author": "ojeytonwilliams",
    "message": "fix(api): log error correctly and differentiate logs (#60404)",
    "sha": "27b1a21384e0ec869b45a38e086ff8c3f9bcacfd",
    "files": [
        {
            "sha": "cee0736b2ef8eea61b83b65c933896055acbf5ba",
            "filename": "api/src/plugins/auth0.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/27b1a21384e0ec869b45a38e086ff8c3f9bcacfd/api%2Fsrc%2Fplugins%2Fauth0.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/27b1a21384e0ec869b45a38e086ff8c3f9bcacfd/api%2Fsrc%2Fplugins%2Fauth0.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fauth0.ts?ref=27b1a21384e0ec869b45a38e086ff8c3f9bcacfd",
            "patch": "@@ -112,7 +112,7 @@ export const auth0Client: FastifyPluginCallbackTypebox = fp(\n         if (error instanceof Error && error.message === 'Invalid state') {\n           logger.error('Auth failed: invalid state');\n         } else {\n-          logger.error(error, 'Auth failed');\n+          logger.error(error, 'Failed to get access token from Auth0');\n           fastify.Sentry.captureException(error);\n         }\n         // It's important _not_ to redirect to /signin here, as that could\n@@ -135,7 +135,7 @@ export const auth0Client: FastifyPluginCallbackTypebox = fp(\n           throw Error(msg);\n         }\n       } catch (error) {\n-        logger.error({ error }, 'Auth failed');\n+        logger.error(error, 'Failed to get userinfo from Auth0');\n         fastify.Sentry.captureException(error);\n         return reply.redirect('/signin');\n       }"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}