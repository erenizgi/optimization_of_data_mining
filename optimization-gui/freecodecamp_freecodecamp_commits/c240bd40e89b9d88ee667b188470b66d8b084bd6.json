{
    "author": "majestic-owl448",
    "message": "chore(e2e): use ControlOrMeta and remove browserName (#55326)",
    "sha": "c240bd40e89b9d88ee667b188470b66d8b084bd6",
    "files": [
        {
            "sha": "62ccad0bc30cbcba2af859934e36b453ffbc8a62",
            "filename": "e2e/challenge-reset-modal.spec.ts",
            "status": "modified",
            "additions": 10,
            "deletions": 16,
            "changes": 26,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fchallenge-reset-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fchallenge-reset-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fchallenge-reset-modal.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -43,7 +43,7 @@ test('should render the modal content correctly', async ({ page }) => {\n   await expectToRenderResetModal(page);\n });\n \n-test('User can reset challenge', async ({ page, isMobile, browserName }) => {\n+test('User can reset challenge', async ({ page, isMobile }) => {\n   const initialText = 'CatPhotoApp';\n   const initialFrame = page\n     .frameLocator('iframe[title=\"challenge preview\"]')\n@@ -64,7 +64,7 @@ test('User can reset challenge', async ({ page, isMobile, browserName }) => {\n   // Modify the text in the editor pane, clearing first, otherwise the existing\n   // text will be selected before typing\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page, browserName });\n+  await clearEditor({ page });\n   await getEditors(page).fill(updatedText);\n   await expect(updatedFrame).toBeVisible({ timeout: 10000 });\n \n@@ -160,19 +160,15 @@ test('should close when the user clicks the close button', async ({ page }) => {\n   ).toBeHidden();\n });\n \n-test('User can reset on a multi-file project', async ({\n-  page,\n-  isMobile,\n-  browserName\n-}) => {\n+test('User can reset on a multi-file project', async ({ page, isMobile }) => {\n   const sampleText = 'function palindrome() { return true; }';\n \n   await page.goto(\n     '/learn/javascript-algorithms-and-data-structures-v8/build-a-palindrome-checker-project/build-a-palindrome-checker'\n   );\n \n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page, browserName });\n+  await clearEditor({ page });\n   await getEditors(page).fill(sampleText);\n   await expect(page.getByText(sampleText)).toBeVisible();\n \n@@ -202,8 +198,7 @@ test.describe('Signed in user', () => {\n \n   test('User can reset on a multi-file project after reloading and saving', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     test.setTimeout(60000);\n     const savedText = 'function palindrome() { return true; }';\n@@ -215,15 +210,15 @@ test.describe('Signed in user', () => {\n \n     // This first edit should reappear after the reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n     await getEditors(page).fill(savedText);\n     await page.keyboard.press('Control+S');\n \n     await page.reload();\n \n     // This second edit should be reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n     await getEditors(page).fill(updatedText);\n \n     await page\n@@ -242,8 +237,7 @@ test.describe('Signed in user', () => {\n \n   test('User can reset on a multi-file project without reloading', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     test.setTimeout(60000);\n     const savedText = 'function palindrome() { return true; }';\n@@ -255,13 +249,13 @@ test.describe('Signed in user', () => {\n \n     // This first edit should reappear after the reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n     await getEditors(page).fill(savedText);\n     await page.keyboard.press('Control+S');\n \n     // This second edit should be reset\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n     await getEditors(page).fill(updatedText);\n \n     await page"
        },
        {
            "sha": "eb2a6190dea2d05561bbbbf35ad80ba0f012f742",
            "filename": "e2e/donation-modal.spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 6,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fdonation-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fdonation-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fdonation-modal.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -36,11 +36,9 @@ const completeFrontEndCert = async (page: Page) => {\n \n const completeThreeChallenges = async ({\n   page,\n-  browserName,\n   isMobile\n }: {\n   page: Page;\n-  browserName: string;\n   isMobile: boolean;\n }) => {\n   await page.goto(\n@@ -66,7 +64,7 @@ const completeThreeChallenges = async ({\n     await page.waitForURL(challenge.url);\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),\n@@ -82,11 +80,9 @@ const completeThreeChallenges = async ({\n \n const completeTenChallenges = async ({\n   page,\n-  browserName,\n   isMobile\n }: {\n   page: Page;\n-  browserName: string;\n   isMobile: boolean;\n }) => {\n   await page.goto(\n@@ -140,7 +136,7 @@ const completeTenChallenges = async ({\n     await page.waitForURL(challenge.url);\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),"
        },
        {
            "sha": "6c58f7a51ea6716fffcd914d78138b56e316f336",
            "filename": "e2e/editor.spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Feditor.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Feditor.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Feditor.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -33,15 +33,14 @@ test.describe('Editor Component', () => {\n test.describe('Python Terminal', () => {\n   test('should display error message when the user enters invalid code', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     await page.goto(\n       'learn/scientific-computing-with-python/learn-string-manipulation-by-building-a-cipher/step-2'\n     );\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n     // Then enter invalid code\n     await page.keyboard.insertText('def');\n     const preview = page.getByTestId('preview-pane');"
        },
        {
            "sha": "6c510f3a1f8581430dcb611662421f1d584051e8",
            "filename": "e2e/lower-jaw.spec.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Flower-jaw.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Flower-jaw.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Flower-jaw.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -79,7 +79,6 @@ test('Checks hotkeys when instruction is focused', async ({\n \n test('Focuses on the submit button after tests passed', async ({\n   page,\n-  browserName,\n   isMobile\n }) => {\n   const editor = getEditors(page);\n@@ -88,7 +87,7 @@ test('Focuses on the submit button after tests passed', async ({\n     name: 'Submit and go to next challenge'\n   });\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page, browserName });\n+  await clearEditor({ page });\n \n   await editor.fill(\n     '<h2>Cat Photos</h2>\\n<p>See more cat photos in our gallery.</p>'\n@@ -100,7 +99,6 @@ test('Focuses on the submit button after tests passed', async ({\n \n test('Prompts unauthenticated user to sign in to save progress', async ({\n   page,\n-  browserName,\n   isMobile\n }) => {\n   await signout(page);\n@@ -111,7 +109,7 @@ test('Prompts unauthenticated user to sign in to save progress', async ({\n     name: 'Sign in to save your progress'\n   });\n   await focusEditor({ page, isMobile });\n-  await clearEditor({ page, browserName });\n+  await clearEditor({ page });\n \n   await editor.fill(\n     '<h2>Cat Photos</h2>\\n<p>See more cat photos in our gallery.</p>'"
        },
        {
            "sha": "26a87c474ef27b691a518e3aa72e1746b0fb2f6f",
            "filename": "e2e/navigation-from-last-challenge.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fnavigation-from-last-challenge.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fnavigation-from-last-challenge.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fnavigation-from-last-challenge.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -61,13 +61,12 @@ test.describe('Should take you to the next superblock (with editor solution)', (\n   test('at the end of a superblock should take you to the superblock page with the current block hash', async ({\n     page,\n     isMobile,\n-    browserName,\n     context\n   }) => {\n     await context.grantPermissions(['clipboard-read', 'clipboard-write']);\n     await page.goto(rwdChallenge.url);\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.evaluate(\n       async solution => await navigator.clipboard.writeText(solution.content),"
        },
        {
            "sha": "ec9018bdba9e964a807f6b7ccd1b8c2e356097a3",
            "filename": "e2e/output.spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Foutput.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Foutput.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Foutput.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -70,15 +70,14 @@ test.describe('For classic challenges', () => {\n \n   test('shows test output when the tests are run', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     const closeButton = page.getByRole('button', { name: 'Close' });\n     await expect(page).toHaveTitle(\n       'Basic HTML and HTML5: Say Hello to HTML Elements |' + ' freeCodeCamp.org'\n     );\n \n-    await clearEditor({ browserName, page });\n+    await clearEditor({ page });\n     await insertTextInCodeEditor({\n       page,\n       isMobile,\n@@ -95,11 +94,10 @@ test.describe('For classic challenges', () => {\n \n   test('shows test output when the tests are triggered by the keyboard', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     const closeButton = page.getByRole('button', { name: 'Close' });\n-    await clearEditor({ browserName, page });\n+    await clearEditor({ page });\n     await insertTextInCodeEditor({\n       page,\n       isMobile,"
        },
        {
            "sha": "5ef253d15cc6491e8f3029f2888465ec5ef5a671",
            "filename": "e2e/progress-bar.spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fprogress-bar.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fprogress-bar.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fprogress-bar.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -6,8 +6,7 @@ test.use({ storageState: 'playwright/.auth/certified-user.json' });\n test.describe('Progress bar component', () => {\n   test('Should appear with the correct content after the user has submitted their code', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     await page.goto(\n       '/learn/2022/responsive-web-design/learn-html-by-building-a-cat-photo-app/step-3'\n@@ -16,7 +15,7 @@ test.describe('Progress bar component', () => {\n     // large. There's a bug that means `scrollIntoView` does not work in the\n     // editor and so we have to pick less verbose challenges until that's fixed.\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.keyboard.insertText(\n       '<html><body><h1>CatPhotoApp</h1><h2>Cat Photos</h2><p>See more cat photos in our gallery.</p></body></html>'\n@@ -36,14 +35,13 @@ test.describe('Progress bar component', () => {\n \n   test('should appear in the completion modal after user has submitted their code', async ({\n     page,\n-    isMobile,\n-    browserName\n+    isMobile\n   }) => {\n     await page.goto(\n       '/learn/javascript-algorithms-and-data-structures/basic-javascript/declare-javascript-variables'\n     );\n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.keyboard.insertText('var myName;');\n "
        },
        {
            "sha": "089be619e797d1479533e6d2de63389ec14711dc",
            "filename": "e2e/projects.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fprojects.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Fprojects.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fprojects.spec.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -110,7 +110,6 @@ test.describe('JavaScript projects can be submitted and then viewed in /settings\n \n   test('projects are submitted and viewed correctly', async ({\n     page,\n-    browserName,\n     isMobile,\n     request,\n     context\n@@ -149,7 +148,7 @@ test.describe('JavaScript projects can be submitted and then viewed in /settings\n     );\n \n     await focusEditor({ page, isMobile });\n-    await clearEditor({ page, browserName });\n+    await clearEditor({ page });\n \n     await page.evaluate(\n       async contents => await navigator.clipboard.writeText(contents),"
        },
        {
            "sha": "23794a2098c696f8afbafe3b8219ae654d2d40c8",
            "filename": "e2e/utils/editor.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 13,
            "changes": 15,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Futils%2Feditor.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c240bd40e89b9d88ee667b188470b66d8b084bd6/e2e%2Futils%2Feditor.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Futils%2Feditor.ts?ref=c240bd40e89b9d88ee667b188470b66d8b084bd6",
            "patch": "@@ -24,18 +24,7 @@ export const focusEditor = async ({\n   await getEditors(page).focus();\n };\n \n-export async function clearEditor({\n-  page,\n-  browserName\n-}: {\n-  page: Page;\n-  browserName: string;\n-}) {\n-  // TODO: replace with ControlOrMeta when it's supported\n-  if (browserName === 'webkit') {\n-    await page.keyboard.press('Meta+a');\n-  } else {\n-    await page.keyboard.press('Control+a');\n-  }\n+export async function clearEditor({ page }: { page: Page }) {\n+  await page.keyboard.press('ControlOrMeta+a');\n   await page.keyboard.press('Backspace');\n }"
        }
    ],
    "stats": {
        "total": 86,
        "additions": 28,
        "deletions": 58
    }
}