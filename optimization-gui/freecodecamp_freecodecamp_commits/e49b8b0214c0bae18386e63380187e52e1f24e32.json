{
    "author": "lasjorg",
    "message": "fix(client): truncate outputs larger than 500_000 (#55485)",
    "sha": "e49b8b0214c0bae18386e63380187e52e1f24e32",
    "files": [
        {
            "sha": "57dadf08adae237a4a0f8a1dfccbedf9d6b86f0b",
            "filename": "tools/client-plugins/browser-scripts/test-evaluator.ts",
            "status": "modified",
            "additions": 6,
            "deletions": 1,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e49b8b0214c0bae18386e63380187e52e1f24e32/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftest-evaluator.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e49b8b0214c0bae18386e63380187e52e1f24e32/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftest-evaluator.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fclient-plugins%2Fbrowser-scripts%2Ftest-evaluator.ts?ref=e49b8b0214c0bae18386e63380187e52e1f24e32",
            "patch": "@@ -8,14 +8,19 @@ const ctx: Worker & typeof globalThis = self as unknown as Worker &\n \n const __utils = (() => {\n   const MAX_LOGS_SIZE = 64 * 1024;\n+  const TRUNCATE_AT = 500_000;\n \n   let logs: string[] = [];\n \n   function flushLogs() {\n     if (logs.length) {\n+      let data = logs.join('\\n');\n+      if (data.length > TRUNCATE_AT) {\n+        data = `${data.substring(0, TRUNCATE_AT)} Logs truncated. See browser console for more`;\n+      }\n       ctx.postMessage({\n         type: 'LOG',\n-        data: logs.join('\\n')\n+        data: data\n       });\n       logs = [];\n     }"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 6,
        "deletions": 1
    }
}