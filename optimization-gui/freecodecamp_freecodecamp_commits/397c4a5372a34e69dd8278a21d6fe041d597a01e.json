{
    "author": "ojeytonwilliams",
    "message": "chore: improve error when block dir is empty (#57606)",
    "sha": "397c4a5372a34e69dd8278a21d6fe041d597a01e",
    "files": [
        {
            "sha": "53eb3797b3641edf93a0924a5401831b4c430394",
            "filename": "curriculum/get-challenges.js",
            "status": "modified",
            "additions": 12,
            "deletions": 2,
            "changes": 14,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/397c4a5372a34e69dd8278a21d6fe041d597a01e/curriculum%2Fget-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/397c4a5372a34e69dd8278a21d6fe041d597a01e/curriculum%2Fget-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fget-challenges.js?ref=397c4a5372a34e69dd8278a21d6fe041d597a01e",
            "patch": "@@ -202,13 +202,23 @@ Accepted languages are ${curriculumLangs.join(', ')}`);\n   );\n };\n \n-async function buildBlocks({ basename: blockName }, curriculum, superBlock) {\n+async function buildBlocks(file, curriculum, superBlock) {\n+  const { basename: blockName } = file;\n   const metaPath = path.resolve(META_DIR, `${blockName}/meta.json`);\n   const isCertification = !fs.existsSync(metaPath);\n-  if (isCertification && superBlock !== 'certifications')\n+  const isEmptyDir = fs.readdirSync(file.fullPath).length === 0;\n+  if (isEmptyDir) {\n+    throw Error(\n+      `Block directory, ${file.fullPath}, is empty.\n+If this block should exist, please add challenge files to it.\n+If this block should not exist, please remove the directory.`\n+    );\n+  }\n+  if (isCertification && superBlock !== 'certifications') {\n     throw Error(\n       `superblock ${superBlock} is missing meta.json for ${blockName}`\n     );\n+  }\n \n   if (isCertification) {\n     curriculum['certifications'].blocks[blockName] = { challenges: [] };"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 12,
        "deletions": 2
    }
}