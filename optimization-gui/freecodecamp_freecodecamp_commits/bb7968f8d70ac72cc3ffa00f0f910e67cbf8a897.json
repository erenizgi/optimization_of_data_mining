{
    "author": "ojeytonwilliams",
    "message": "test: start mailhog before running playwright (#55533)\n\nCo-authored-by: Huyen Nguyen <25715018+huyenltnguyen@users.noreply.github.com>",
    "sha": "bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897",
    "files": [
        {
            "sha": "4aeacff44981634dbb82778be75b830880e7a484",
            "filename": "e2e/report-user.spec.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897/e2e%2Freport-user.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897/e2e%2Freport-user.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Freport-user.spec.ts?ref=bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897",
            "patch": "@@ -7,9 +7,6 @@ import {\n } from './utils/mailhog';\n test.use({ storageState: 'playwright/.auth/certified-user.json' });\n \n-// To run this test you will need to run the email server.\n-// To do this: https://contribute.freecodecamp.org/#/how-to-catch-outgoing-emails-locally?id=using-mailhog\n-\n test.beforeEach(async () => {\n   await deleteAllEmails();\n });"
        },
        {
            "sha": "8adc5cc913095b42de02077172ce85d1d8cdc094",
            "filename": "playwright.config.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 7,
            "changes": 15,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897/playwright.config.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897/playwright.config.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/playwright.config.ts?ref=bb7968f8d70ac72cc3ffa00f0f910e67cbf8a897",
            "patch": "@@ -85,12 +85,13 @@ export default defineConfig({\n     //   name: 'Google Chrome',\n     //   use: { ...devices['Desktop Chrome'], channel: 'chrome' }\n     // }\n-  ]\n+  ],\n \n-  /* Run your local dev server before starting the tests */\n-  // webServer: {\n-  //   command: 'npm run start',\n-  //   url: 'http://127.0.0.1:3000',\n-  //   reuseExistingServer: !process.env.CI,\n-  // },\n+  /* Some tests make the api send emails, so we need mailhog to catch them */\n+  webServer: {\n+    command: 'docker run -d -p 1025:1025 -p 8025:8025 mailhog/mailhog',\n+    port: 1025,\n+    reuseExistingServer: true,\n+    timeout: 180000\n+  }\n });"
        }
    ],
    "stats": {
        "total": 18,
        "additions": 8,
        "deletions": 10
    }
}