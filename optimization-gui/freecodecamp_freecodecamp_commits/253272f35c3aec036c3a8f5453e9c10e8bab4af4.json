{
    "author": "ShaunSHamilton",
    "message": "fix(api): use HOME_LOCATION var in tests (#55386)",
    "sha": "253272f35c3aec036c3a8f5453e9c10e8bab4af4",
    "files": [
        {
            "sha": "86d91ad69300e2fa69dd6cfd7619353b7aac6ba7",
            "filename": "api/src/plugins/code-flow-auth.test.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/253272f35c3aec036c3a8f5453e9c10e8bab4af4/api%2Fsrc%2Fplugins%2Fcode-flow-auth.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/253272f35c3aec036c3a8f5453e9c10e8bab4af4/api%2Fsrc%2Fplugins%2Fcode-flow-auth.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fcode-flow-auth.test.ts?ref=253272f35c3aec036c3a8f5453e9c10e8bab4af4",
            "patch": "@@ -1,7 +1,7 @@\n import Fastify, { FastifyInstance } from 'fastify';\n import jwt from 'jsonwebtoken';\n \n-import { COOKIE_DOMAIN, JWT_SECRET } from '../utils/env';\n+import { COOKIE_DOMAIN, HOME_LOCATION, JWT_SECRET } from '../utils/env';\n import { type Token, createAccessToken } from '../utils/tokens';\n import cookies, { sign as signCookie, unsign as unsignCookie } from './cookies';\n import codeFlowAuth from './code-flow-auth';\n@@ -207,7 +207,7 @@ describe('auth', () => {\n   });\n \n   describe('authorizeOrRedirect', () => {\n-    const redirectLocation = `http://localhost:8000?${formatMessage({ type: 'info', content: 'Only authenticated users can access this route. Please sign in and try again.' })}`;\n+    const redirectLocation = `${HOME_LOCATION}?${formatMessage({ type: 'info', content: 'Only authenticated users can access this route. Please sign in and try again.' })}`;\n \n     beforeEach(() => {\n       fastify.addHook('onRequest', fastify.authorizeOrRedirect);"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}