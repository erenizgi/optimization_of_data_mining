{
    "author": "a2937",
    "message": "fix(curriculum): prevent hardcoding pokemon (#54822)\n\nCo-authored-by: Ilenia <26656284+ilenia-magoni@users.noreply.github.com>",
    "sha": "b880e021f1fbb853c86d10dff592a63c03d93625",
    "files": [
        {
            "sha": "44e9bbc07b34005eade6ad8143a6a22725a27f61",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/build-a-pokemon-search-app-project/build-a-pokemon-search-app.md",
            "status": "modified",
            "additions": 77,
            "deletions": 0,
            "changes": 77,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b880e021f1fbb853c86d10dff592a63c03d93625/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b880e021f1fbb853c86d10dff592a63c03d93625/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-pokemon-search-app-project%2Fbuild-a-pokemon-search-app.md?ref=b880e021f1fbb853c86d10dff592a63c03d93625",
            "patch": "@@ -352,6 +352,83 @@ async () => {\n };\n ```\n \n+When the `#search-input` element contains an invalid Pokemon name and the `#search-button` element is clicked, an alert should appear with the text `\"Pokémon not found\"`.\n+\n+```js\n+async () => {\n+  try {\n+    const searchInput = document.getElementById('search-input');\n+    const searchButton = document.getElementById('search-button');\n+    let alertMessage;\n+    window.alert = (message) => alertMessage = message; // Override alert and store message\n+    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'\n+    const numbers = '0123456789';\n+    const charactersLength = letters.length;\n+    const numbersLength = numbers.length; \n+\n+\n+    const firstLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n+    const secondLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n+    const thirdLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n+    const fourthLetter = letters.charAt(Math.floor(Math.random() * charactersLength));\n+    const randomNumber1 = numbers.charAt(Math.floor(Math.random() * numbersLength));\n+    const randomNumber2 = numbers.charAt(Math.floor(Math.random() * numbersLength));\n+    \n+    const badName = firstLetter + secondLetter + thirdLetter + fourthLetter + randomNumber1 + randomNumber2; \n+\n+    const randomInvalidPokeId = badName; \n+    searchInput.value = randomInvalidPokeId;\n+    searchButton.click();\n+\n+    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' + randomInvalidPokeId.toString()); // Fetch from proxy to simulate network delay\n+\n+    if (!res.ok) {\n+      await new Promise(resolve => setTimeout(resolve, 1000)); // Additional delay to allow the alert to trigger\n+\n+      assert.include(['pokémon not found', 'pokemon not found'], alertMessage.trim().replace(/[.,?!]+$/g, '').toLowerCase());\n+    }\n+  } catch (err) {\n+    throw new Error(err);\n+  }\n+};\n+```\n+\n+\n+When the `#search-input` element contains a valid Pokemon id and the `#search-button` element is clicked, the UI should be filled with the correct data.\n+\n+```js\n+async () => {\n+  try {\n+    const searchInput = document.getElementById('search-input');\n+    const searchButton = document.getElementById('search-button');\n+    let alertMessage;\n+    window.alert = (message) => alertMessage = message; // Override alert and store message\n+\n+    const randomValidPokeId = Math.floor(Math.random() * 1025) + 1; \n+    searchInput.value = randomValidPokeId;\n+    searchButton.click();\n+\n+    const res = await fetch('https://pokeapi-proxy.freecodecamp.rocks/api/pokemon/' +  randomValidPokeId.toString()); // Fetch from proxy to simulate network delay\n+\n+    if (res.ok) {\n+      await new Promise(resolve => setTimeout(resolve, 1000)); // Additional delay to allow UI to update\n+     \n+      const data = await res.json(); \n+\n+      const typesEl = document.getElementById('types');      \n+      \n+      const actualTypes = data.types.map(typeSlot => typeSlot.type.name); \n+\n+      assert.lengthOf(typesEl.children, actualTypes.length);\n+\n+      assert.sameMembers(actualTypes, [...typesEl.children].map(el => el.innerText.trim().toLowerCase()));\n+    }\n+  } catch (err) {\n+    throw new Error(err);\n+  }\n+};\n+```\n+\n # --seed--\n \n ## --seed-contents--"
        }
    ],
    "stats": {
        "total": 77,
        "additions": 77,
        "deletions": 0
    }
}