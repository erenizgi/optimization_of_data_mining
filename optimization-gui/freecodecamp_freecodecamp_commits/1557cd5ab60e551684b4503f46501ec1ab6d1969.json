{
    "author": "a2937",
    "message": "chore(curriculum): use ast helpers step 5 case converter (#57030)",
    "sha": "1557cd5ab60e551684b4503f46501ec1ab6d1969",
    "files": [
        {
            "sha": "beb3ce750f3c4c0a1def9e9dcb9e36d8715e70eb",
            "filename": "curriculum/challenges/english/07-scientific-computing-with-python/learn-list-comprehension-by-building-a-case-converter-program/657efa642593c5746acc5c81.md",
            "status": "modified",
            "additions": 16,
            "deletions": 8,
            "changes": 24,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557cd5ab60e551684b4503f46501ec1ab6d1969/curriculum%2Fchallenges%2Fenglish%2F07-scientific-computing-with-python%2Flearn-list-comprehension-by-building-a-case-converter-program%2F657efa642593c5746acc5c81.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557cd5ab60e551684b4503f46501ec1ab6d1969/curriculum%2Fchallenges%2Fenglish%2F07-scientific-computing-with-python%2Flearn-list-comprehension-by-building-a-case-converter-program%2F657efa642593c5746acc5c81.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F07-scientific-computing-with-python%2Flearn-list-comprehension-by-building-a-case-converter-program%2F657efa642593c5746acc5c81.md?ref=1557cd5ab60e551684b4503f46501ec1ab6d1969",
            "patch": "@@ -18,11 +18,21 @@ You should assign the modified character to a variable named `converted_characte\n ```js\n ({\n     test: () => {\n-        const transformedCode = code.replace(/\\r/g, \"\");\n-        const convert_to_snake_case = __helpers.python.getDef(\"\\n\" + transformedCode, \"convert_to_snake_case\");\n-        const { function_body } = convert_to_snake_case;\n-\n-        assert.match(function_body, / +converted_character\\s*=\\s*(\"|')_\\1\\s*\\+\\s*char\\.lower\\s*\\(\\s*\\)/);\n+   assert(runPython(`\n+      converted_character_variable = (\n+          _Node(_code)\n+          .find_function(\"convert_to_snake_case\")\n+          .find_for_loops()[0]\n+          .find_ifs()[0]\n+          .find_variable(\"converted_character\")\n+      )\n+      \n+      converted_character_variable.is_equivalent(\n+          \"converted_character = '_' + char.lower()\"\n+      ) or converted_character_variable.is_equivalent(\n+          \"converted_character = f'_{char.lower()}'\"\n+      )\n+    `)); \n     }\n })\n ```\n@@ -32,9 +42,7 @@ You should not have `pass` in your `if` statement.\n ```js\n ({\n     test: () => {\n-        const commentless_code = __helpers.python.removeComments(code);\n-        const {block_body} = __helpers.python.getBlock(commentless_code, /if\\s+char\\.isupper\\s*\\(\\s*\\)\\s*/);\n-        assert.notMatch(block_body, /pass/);\n+        assert(runPython(`not _Node(_code).find_function(\"convert_to_snake_case\").find_for_loops()[0].find_ifs()[0].has_stmt(\"pass\")`)); \n     }\n })\n ```"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 16,
        "deletions": 8
    }
}