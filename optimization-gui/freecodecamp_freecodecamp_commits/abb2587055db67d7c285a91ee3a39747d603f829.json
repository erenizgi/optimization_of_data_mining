{
    "author": "ahmaxed",
    "message": "fix: clean up google analytics (#59178)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "abb2587055db67d7c285a91ee3a39747d603f829",
    "files": [
        {
            "sha": "0547e57a814143eed0ad9bd690eb5047b47efa02",
            "filename": "client/config/analytics-settings.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fconfig%2Fanalytics-settings.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fconfig%2Fanalytics-settings.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fconfig%2Fanalytics-settings.ts?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -1,5 +1,2 @@\n export const prodAnalyticsId = 'GTM-57R6KJM';\n export const devAnalyticsId = 'GTM-WSS47LM';\n-\n-// this id includes a stream for the spanish learn platform\n-export const prodAnalyticsESId = 'GTM-KCS6GSD';"
        },
        {
            "sha": "51c675d29db5aeaecb633be0eee2fdff59dfe746",
            "filename": "client/src/analytics/call-ga.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Fanalytics%2Fcall-ga.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Fanalytics%2Fcall-ga.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fanalytics%2Fcall-ga.ts?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -54,11 +54,6 @@ interface DonationViewEvent {\n   action: DonationViewEventAction;\n }\n \n-interface RenderTimeEvent {\n-  event: 'render_time';\n-  render_time_msec: number;\n-}\n-\n interface PageViewEvent {\n   event: 'pageview';\n   pagePath: string;\n@@ -96,7 +91,6 @@ export type GAevent =\n   | DonationViewEvent\n   | DonationEvent\n   | DonationRelatedEvent\n-  | RenderTimeEvent\n   | PageViewEvent\n   | ExperimentViewEvent\n   | ChallengeFailedEvent"
        },
        {
            "sha": "7f39d6bf6380fe0b6c1e766f153975bf6d08c7b0",
            "filename": "client/src/analytics/index.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Fanalytics%2Findex.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Fanalytics%2Findex.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fanalytics%2Findex.ts?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -2,17 +2,15 @@ import TagManager from 'react-gtm-module';\n \n import {\n   devAnalyticsId,\n-  prodAnalyticsId,\n-  prodAnalyticsESId\n+  prodAnalyticsId\n } from '../../config/analytics-settings';\n \n import envData from '../../config/env.json';\n \n-const { deploymentEnv, clientLocale } = envData;\n+const { deploymentEnv } = envData;\n \n const analyticsIDSelector = () => {\n   if (deploymentEnv === 'staging') return devAnalyticsId;\n-  else if (clientLocale === 'espanol') return prodAnalyticsESId;\n   else return prodAnalyticsId;\n };\n "
        },
        {
            "sha": "73ce85c5e99c22948a931ace4202a5ed927e5e20",
            "filename": "client/src/templates/Challenges/classic/editor.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 9,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Feditor.tsx?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -47,8 +47,7 @@ import {\n   initTests,\n   stopResetting,\n   openModal,\n-  resetAttempts,\n-  sendRenderTime\n+  resetAttempts\n } from '../redux/actions';\n import {\n   attemptsSelector,\n@@ -98,7 +97,6 @@ export interface EditorProps {\n   openResetModal: () => void;\n   resizeProps: ResizeProps;\n   saveChallenge: () => void;\n-  sendRenderTime: (renderTime: number) => void;\n   saveEditorContent: () => void;\n   setEditorFocusability: (isFocusable: boolean) => void;\n   submitChallenge: () => void;\n@@ -180,7 +178,6 @@ const mapDispatchToProps = {\n   initTests,\n   stopResetting,\n   resetAttempts,\n-  sendRenderTime,\n   openHelpModal: () => openModal('help'),\n   openResetModal: () => openModal('reset')\n };\n@@ -1222,11 +1219,6 @@ const Editor = (props: EditorProps): JSX.Element => {\n     // eslint-disable-next-line react-hooks/exhaustive-deps\n   }, [props.challengeFiles, props.isResetting]);\n \n-  useEffect(() => {\n-    props.sendRenderTime(Date.now());\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\n-  }, [props.description]);\n-\n   useEffect(() => {\n     const { showProjectPreview, previewOpen } = props;\n     if (!previewOpen && showProjectPreview) {"
        },
        {
            "sha": "4eeb795f2615943dbde3f07964995e5fd6c65253",
            "filename": "client/src/templates/Challenges/redux/action-types.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Faction-types.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Faction-types.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Faction-types.js?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -38,7 +38,6 @@ export const actionTypes = createTypes(\n     'storePortalWindow',\n     'removePortalWindow',\n     'challengeMounted',\n-    'sendRenderTime',\n     'checkChallenge',\n     'resetChallenge',\n     'stopResetting',"
        },
        {
            "sha": "565c50bb5482533ac462425ce35151d07bcd1c87",
            "filename": "client/src/templates/Challenges/redux/actions.js",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Factions.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Factions.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Factions.js?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -71,7 +71,6 @@ export const storePortalWindow = createAction(actionTypes.storePortalWindow);\n export const removePortalWindow = createAction(actionTypes.removePortalWindow);\n \n export const challengeMounted = createAction(actionTypes.challengeMounted);\n-export const sendRenderTime = createAction(actionTypes.sendRenderTime);\n export const checkChallenge = createAction(actionTypes.checkChallenge);\n export const executeChallenge = createAction(actionTypes.executeChallenge);\n export const executeChallengeComplete = createAction("
        },
        {
            "sha": "9e07be593b7ae0134f1a799df5414eaffbe4d407",
            "filename": "client/src/templates/Challenges/redux/current-challenge-saga.js",
            "status": "modified",
            "additions": 2,
            "deletions": 22,
            "changes": 24,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcurrent-challenge-saga.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/abb2587055db67d7c285a91ee3a39747d603f829/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcurrent-challenge-saga.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fredux%2Fcurrent-challenge-saga.js?ref=abb2587055db67d7c285a91ee3a39747d603f829",
            "patch": "@@ -1,10 +1,7 @@\n-import { put, takeEvery, select, call } from 'redux-saga/effects';\n+import { put, takeEvery } from 'redux-saga/effects';\n import store from 'store';\n \n import { randomCompliment } from '../../../utils/get-words';\n-import { setRenderStartTime } from '../../../redux/actions';\n-import { renderStartTimeSelector } from '../../../redux/selectors';\n-import callGA from '../../../analytics/call-ga';\n import { CURRENT_CHALLENGE_KEY } from './action-types';\n import { updateSuccessMessage } from './actions';\n \n@@ -33,26 +30,9 @@ function* updateSuccessMessageSaga() {\n   yield put(updateSuccessMessage(randomCompliment()));\n }\n \n-function* sendRenderTimeSaga({ payload }) {\n-  /*\n-    This saga sends the difference between a challenge submission time \n-    and next challenge's description change time to google analytics.\n-  */\n-  const renderStartTime = yield select(renderStartTimeSelector);\n-  if (renderStartTime) {\n-    const challengeRenderTime = payload - renderStartTime;\n-    yield put(setRenderStartTime(null));\n-    yield call(callGA, {\n-      event: 'render_time',\n-      render_time_msec: challengeRenderTime\n-    });\n-  }\n-}\n-\n export function createCurrentChallengeSaga(types) {\n   return [\n     takeEvery(types.challengeMounted, currentChallengeSaga),\n-    takeEvery(types.challengeMounted, updateSuccessMessageSaga),\n-    takeEvery(types.sendRenderTime, sendRenderTimeSaga)\n+    takeEvery(types.challengeMounted, updateSuccessMessageSaga)\n   ];\n }"
        }
    ],
    "stats": {
        "total": 51,
        "additions": 5,
        "deletions": 46
    }
}