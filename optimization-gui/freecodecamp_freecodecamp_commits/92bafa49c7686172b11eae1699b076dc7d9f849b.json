{
    "author": "shawukie4them",
    "message": "fix(client): improve FormFields type safety and accessibility (#62849)",
    "sha": "92bafa49c7686172b11eae1699b076dc7d9f849b",
    "files": [
        {
            "sha": "39cc2167bdc31a92b7d86442e8741b290596d1e3",
            "filename": "client/src/components/formHelpers/form-fields.tsx",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/92bafa49c7686172b11eae1699b076dc7d9f849b/client%2Fsrc%2Fcomponents%2FformHelpers%2Fform-fields.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/92bafa49c7686172b11eae1699b076dc7d9f849b/client%2Fsrc%2Fcomponents%2FformHelpers%2Fform-fields.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FformHelpers%2Fform-fields.tsx?ref=92bafa49c7686172b11eae1699b076dc7d9f849b",
            "patch": "@@ -25,7 +25,7 @@ export type FormOptions = {\n   isLocalLinkAllowed?: boolean;\n   isSourceCodeLinkRequired?: boolean;\n   required?: string[];\n-  types?: { [key: string]: string };\n+  types?: { [key: string]: React.HTMLInputTypeAttribute };\n   placeholders?: { [key: string]: string };\n };\n \n@@ -46,11 +46,12 @@ function FormFields({ formFields, options }: FormFieldsProps): JSX.Element {\n   } = options;\n \n   const nullOrWarning = (\n-    value: string,\n+    value: string | undefined,\n     error: unknown,\n     isURL: boolean,\n     name: string\n   ) => {\n+    if (!value) return null;\n     let validationError: string | undefined;\n     if (value && isURL) {\n       try {\n@@ -82,7 +83,7 @@ function FormFields({ formFields, options }: FormFieldsProps): JSX.Element {\n       validationError ||\n       validationWarning) as string;\n     return message ? (\n-      <HelpBlock>\n+      <HelpBlock id={`${name}-message`}>\n         <Alert variant={error || validationError ? 'danger' : 'info'}>\n           {message}\n         </Alert>\n@@ -94,8 +95,7 @@ function FormFields({ formFields, options }: FormFieldsProps): JSX.Element {\n       {formFields\n         .filter(formField => !ignored.includes(formField.name))\n         .map(({ name, label }) => (\n-          // TODO: verify if the value is always a string\n-          <Field key={`${name}-field`} name={name}>\n+          <Field<string | undefined> key={`${name}-field`} name={name}>\n             {({ input: { value, onChange }, meta: { pristine, error } }) => {\n               const placeholder =\n                 name in placeholders ? placeholders[name] : '';\n@@ -115,8 +115,9 @@ function FormFields({ formFields, options }: FormFieldsProps): JSX.Element {\n                     placeholder={placeholder}\n                     required={required.includes(name)}\n                     rows={4}\n-                    type='url'\n+                    type={types[name] || 'text'}\n                     value={value as string}\n+                    aria-describedby={`${name}-message`}\n                     data-playwright-test-label={`${name}-form-control`}\n                   />\n                   {nullOrWarning("
        }
    ],
    "stats": {
        "total": 13,
        "additions": 7,
        "deletions": 6
    }
}