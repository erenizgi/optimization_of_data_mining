{
    "author": "a2937",
    "message": "fix(ui): use identical search terms (#59306)",
    "sha": "0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
    "files": [
        {
            "sha": "65fab3e8410a16685e5a4df878462b2b1258a77e",
            "filename": "client/i18n/config-for-tests.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fi18n%2Fconfig-for-tests.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fi18n%2Fconfig-for-tests.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Fconfig-for-tests.ts?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -11,8 +11,8 @@ i18n\n       escapeValue: false\n     },\n     lng: 'en',\n-    ns: ['translations'],\n-    resources: { en: { translations: {} } },\n+    ns: ['intro', 'translations'],\n+    resources: { en: { intro: {}, translations: {} } },\n     returnNull: false\n   })\n   .catch((error: Error) => {"
        },
        {
            "sha": "e88a5e8e32398bbda6ce64f2b9885612a0df296a",
            "filename": "client/src/templates/Challenges/classic/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -522,7 +522,11 @@ function ShowClassic({\n           />\n         )}\n         <CompletionModal />\n-        <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+        <HelpModal\n+          challengeTitle={title}\n+          challengeBlock={blockName}\n+          superBlock={superBlock}\n+        />\n         <VideoModal videoUrl={videoUrl} />\n         <ResetModal challengeType={challengeType} />\n         <ProjectPreviewModal"
        },
        {
            "sha": "b18f29aaa4bf987759d6f9b72825531aa8af09e9",
            "filename": "client/src/templates/Challenges/codeally/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -381,7 +381,11 @@ function ShowCodeAlly(props: ShowCodeAllyProps) {\n               <Spacer size='m' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={block} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={block}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "07df479001e3b2dbd6edbb7de5fa6479b8a00e83",
            "filename": "client/src/templates/Challenges/components/help-modal.test.tsx",
            "status": "modified",
            "additions": 12,
            "deletions": 7,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.test.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.test.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.test.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -1,36 +1,41 @@\n+import i18n from '../../../../i18n/config-for-tests';\n import { generateSearchLink } from './help-modal';\n \n describe('generateSearchLink', () => {\n-  it(\"should return a link with search query containing block name and challenge title if the title includes 'step'\", () => {\n+  it(\"should return a link with search query containing block name and challenge title if the title includes 'step'\", async () => {\n+    await i18n.reloadResources('en', 'intro');\n     const link = generateSearchLink(\n       'Step 10',\n-      'learn-basic-javascript-by-building-a-role-playing-game'\n+      'learn-basic-javascript-by-building-a-role-playing-game',\n+      'javascript-algorithms-and-data-structures-v8'\n     );\n \n     expect(link).toBe(\n-      'https://forum.freecodecamp.org/search?q=learn%20basic%20javascript%20by%20building%20a%20role%20playing%20game%20-%20Step%2010'\n+      'https://forum.freecodecamp.org/search?q=javascript-algorithms-and-data-structures-v8.blocks.learn-basic-javascript-by-building-a-role-playing-game.title%20-%20Step%2010%20in%3Atitle'\n     );\n   });\n \n   it(\"should return a link with search query containing block name and challenge title if the title includes 'task'\", () => {\n     const link = generateSearchLink(\n       'Task 10',\n-      'learn-greetings-in-your-first-day-at-the-office'\n+      'learn-greetings-in-your-first-day-at-the-office',\n+      'a2-english-for-developers'\n     );\n \n     expect(link).toBe(\n-      'https://forum.freecodecamp.org/search?q=learn%20greetings%20in%20your%20first%20day%20at%20the%20office%20-%20Task%2010'\n+      'https://forum.freecodecamp.org/search?q=a2-english-for-developers.blocks.learn-greetings-in-your-first-day-at-the-office.title%20-%20Task%2010%20in%3Atitle'\n     );\n   });\n \n   it(\"should return a link with search query containing only challenge title if the title does not include 'step' or 'task'\", () => {\n     const link = generateSearchLink(\n       'Perform Basic String Formatting in C#',\n-      'write-your-first-code-using-c-sharp'\n+      'write-your-first-code-using-c-sharp',\n+      'foundational-c-sharp-with-microsoft'\n     );\n \n     expect(link).toBe(\n-      'https://forum.freecodecamp.org/search?q=Perform%20Basic%20String%20Formatting%20in%20C%23'\n+      'https://forum.freecodecamp.org/search?q=foundational-c-sharp-with-microsoft.blocks.write-your-first-code-using-c-sharp.title%20-%20Perform%20Basic%20String%20Formatting%20in%20C%23%20in%3Atitle'\n     );\n   });\n });"
        },
        {
            "sha": "8e36ea4169c21a1fdbf721053f8f3b47462cdfe9",
            "filename": "client/src/templates/Challenges/components/help-modal.tsx",
            "status": "modified",
            "additions": 21,
            "deletions": 7,
            "changes": 28,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcomponents%2Fhelp-modal.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -4,6 +4,7 @@ import { connect } from 'react-redux';\n import { Dispatch, bindActionCreators } from 'redux';\n import { Button, FormControl, Modal, Spacer } from '@freecodecamp/ui';\n \n+import { t } from 'i18next';\n import envData from '../../../../config/env.json';\n import { createQuestion, closeModal } from '../redux/actions';\n import { isHelpModalOpenSelector } from '../redux/selectors';\n@@ -17,6 +18,7 @@ interface HelpModalProps {\n   isOpen?: boolean;\n   challengeTitle: string;\n   challengeBlock: string;\n+  superBlock: string;\n }\n \n const { forumLocation } = envData;\n@@ -33,12 +35,15 @@ const mapDispatchToProps = (dispatch: Dispatch) =>\n     dispatch\n   );\n \n-export const generateSearchLink = (title: string, block: string) => {\n-  const blockWithoutHyphens = block.replace(/-/g, ' ');\n+export const generateSearchLink = (\n+  title: string,\n+  block: string,\n+  superBlock: string\n+) => {\n+  const titleText = t(`intro:${superBlock}.blocks.${block}.title`);\n+  const selector = 'in:title';\n+  const query = encodeURIComponent(`${titleText} - ${title} ${selector}`);\n \n-  const query = /^(step|task)\\s*\\d*$/i.test(title)\n-    ? encodeURIComponent(`${blockWithoutHyphens} - ${title}`)\n-    : encodeURIComponent(title);\n   const search = `${forumLocation}/search?q=${query}`;\n   return search;\n };\n@@ -93,6 +98,7 @@ function HelpModal({\n   createQuestion,\n   isOpen,\n   challengeBlock,\n+  superBlock,\n   challengeTitle\n }: HelpModalProps): JSX.Element {\n   const { t } = useTranslation();\n@@ -178,7 +184,11 @@ function HelpModal({\n                   setSimilarQuestionsCheckbox(event.target.checked)\n                 }\n                 value={similarQuestionsCheckbox}\n-                href={generateSearchLink(challengeTitle, challengeBlock)}\n+                href={generateSearchLink(\n+                  challengeTitle,\n+                  challengeBlock,\n+                  superBlock\n+                )}\n               />\n             </fieldset>\n \n@@ -255,7 +265,11 @@ function HelpModal({\n                 <p>\n                   <Trans i18nKey='learn.rsa-forum'>\n                     <a\n-                      href={generateSearchLink(challengeTitle, challengeBlock)}\n+                      href={generateSearchLink(\n+                        challengeTitle,\n+                        challengeBlock,\n+                        superBlock\n+                      )}\n                       rel='noopener noreferrer'\n                       target='_blank'\n                     >"
        },
        {
            "sha": "af9182d790fe1879e1f59ca6b59639149437ad48",
            "filename": "client/src/templates/Challenges/exam/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -528,7 +528,11 @@ function ShowExam(props: ShowExamProps) {\n               </Button>\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "ddbbf3de3fd50c16731926124c26743740afa4cb",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -258,7 +258,11 @@ const ShowFillInTheBlank = ({\n               <Spacer size='l' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n         <ShortcutsModal />"
        },
        {
            "sha": "bfb9d910e39c9d2b3dbb4adb99e5bbe8c568ad76",
            "filename": "client/src/templates/Challenges/generic/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fgeneric%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -296,7 +296,11 @@ const ShowGeneric = ({\n               <Spacer size='l' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "4b7acb29888e12c3a3f80af2d053228d2790f3f4",
            "filename": "client/src/templates/Challenges/ms-trophy/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -202,7 +202,11 @@ function MsTrophy(props: MsTrophyProps) {\n               <Spacer size='m' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "3b0cc1fa223cd6799c1a7fffa62d6b117441dd7e",
            "filename": "client/src/templates/Challenges/projects/backend/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -210,7 +210,11 @@ const ShowBackEnd = (props: BackEndProps) => {\n               <Spacer size='m' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "a2fe30989dbaf7102a8e6360f72b2974ec3a635b",
            "filename": "client/src/templates/Challenges/projects/frontend/show.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -170,7 +170,11 @@ const ShowFrontEndProject = (props: ProjectProps) => {\n               <Spacer size='m' />\n             </Col>\n             <CompletionModal />\n-            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+            <HelpModal\n+              challengeTitle={title}\n+              challengeBlock={blockName}\n+              superBlock={superBlock}\n+            />\n           </Row>\n         </Container>\n       </LearnLayout>"
        },
        {
            "sha": "e6d4d97944a88d4ced24fc864cdd338462fb8d21",
            "filename": "e2e/help-modal.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/e2e%2Fhelp-modal.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151/e2e%2Fhelp-modal.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fhelp-modal.spec.ts?ref=0be9ca1dc776082a0910ef2cc3f2ad4cda7c5151",
            "patch": "@@ -241,7 +241,7 @@ test.describe('Help Modal component', () => {\n     });\n     await expect(link).toHaveAttribute(\n       'href',\n-      'https://forum.freecodecamp.org/search?q=Write%20Your%20First%20C%23%20Code'\n+      'https://forum.freecodecamp.org/search?q=Write%20Your%20First%20Code%20Using%20C%23%20-%20Write%20Your%20First%20C%23%20Code%20in%3Atitle'\n     );\n     await expect(link).toHaveAttribute('target', '_blank');\n     await expect(link).toHaveAttribute('rel', 'noopener noreferrer');"
        }
    ],
    "stats": {
        "total": 101,
        "additions": 76,
        "deletions": 25
    }
}