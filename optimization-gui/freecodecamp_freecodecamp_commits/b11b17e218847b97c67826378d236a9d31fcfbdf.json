{
    "author": "Sembauke",
    "message": "feat: donate page donor tests to playwright (#54857)",
    "sha": "b11b17e218847b97c67826378d236a9d31fcfbdf",
    "files": [
        {
            "sha": "4b3cb4e6546d05c31dba751a717e04cfd66d7597",
            "filename": "cypress/e2e/default/learn/donate/donate-page-donor.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 27,
            "changes": 27,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/52dfbe96dc796f4dea5dd9656292b7f9c5bf0520/cypress%2Fe2e%2Fdefault%2Flearn%2Fdonate%2Fdonate-page-donor.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/52dfbe96dc796f4dea5dd9656292b7f9c5bf0520/cypress%2Fe2e%2Fdefault%2Flearn%2Fdonate%2Fdonate-page-donor.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/cypress%2Fe2e%2Fdefault%2Flearn%2Fdonate%2Fdonate-page-donor.ts?ref=52dfbe96dc796f4dea5dd9656292b7f9c5bf0520",
            "patch": "@@ -1,27 +0,0 @@\n-describe('Donate page', () => {\n-  beforeEach(() => {\n-    cy.task('seed', ['--donor']);\n-    cy.login();\n-  });\n-\n-  it('Donor CTA should be visible for donor', () => {\n-    cy.visit('/donate');\n-    cy.get('[data-cy=\"donate.thank-you\"]').should(\n-      'have.text',\n-      'Thank You for Being a Supporter'\n-    );\n-    cy.get('[data-cy=\"donate.crucial-contribution\"]').should(\n-      'have.text',\n-      'Your contribution will be crucial in creating resources that empower millions of people to learn new skills and support their families.'\n-    );\n-    cy.get('[data-cy=\"donate.if-support-further\"]').should(\n-      'have.text',\n-      'If you want to support our charity further, please consider making a one-time donation, sending us a check, or learning about other ways you could support our charity.'\n-    );\n-    cy.get('[data-cy=\"donate-link\"]').should(\n-      'contain.attr',\n-      'href',\n-      'https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp'\n-    );\n-  });\n-});"
        },
        {
            "sha": "1382bcf7d5a63c30d08964bd574fc3446849c4e9",
            "filename": "e2e/donate-page-donor.spec.ts",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b11b17e218847b97c67826378d236a9d31fcfbdf/e2e%2Fdonate-page-donor.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b11b17e218847b97c67826378d236a9d31fcfbdf/e2e%2Fdonate-page-donor.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fdonate-page-donor.spec.ts?ref=b11b17e218847b97c67826378d236a9d31fcfbdf",
            "patch": "@@ -0,0 +1,59 @@\n+import { execSync } from 'child_process';\n+import { test, expect } from '@playwright/test';\n+\n+test.describe('Donate page', () => {\n+  test.use({ storageState: 'playwright/.auth/development-user.json' });\n+\n+  test.beforeEach(async ({ page }) => {\n+    execSync('node ./tools/scripts/seed/seed-demo-user --donor');\n+    await page.goto('/donate');\n+  });\n+\n+  test.afterAll(() => {\n+    execSync('node ./tools/scripts/seed/seed-demo-user certified-user');\n+  });\n+\n+  test('should render the donate page correctly', async ({ page }) => {\n+    await expect(\n+      page.getByText('Thank You for Being a Supporter')\n+    ).toBeVisible();\n+\n+    await expect(\n+      page.getByText(\n+        'Your contribution will be crucial in creating resources that empower millions of people to learn new skills and support their families.'\n+      )\n+    ).toBeVisible();\n+\n+    await expect(\n+      page.getByText(\n+        'If you want to support our charity further, please consider making a one-time donation, sending us a check, or learning about other ways you could support our charity.'\n+      )\n+    ).toBeVisible();\n+\n+    await expect(\n+      page.getByRole('link', { name: 'making a one-time donation' })\n+    ).toHaveAttribute(\n+      'href',\n+      'https://www.freecodecamp.org/news/how-to-donate-to-free-code-camp/#how-can-i-make-a-one-time-donation'\n+    );\n+  });\n+\n+  test('The menu should have a supporters link', async ({ page }) => {\n+    const menuButton = page.getByTestId('header-menu-button');\n+    const menu = page.getByTestId('header-menu');\n+\n+    await expect(menuButton).toBeVisible();\n+    await menuButton.click();\n+\n+    await expect(menu).toBeVisible();\n+\n+    await expect(page.getByRole('link', { name: 'Supporters' })).toBeVisible();\n+  });\n+\n+  test('The Avatar should have a special border for donors', async ({\n+    page\n+  }) => {\n+    const container = page.locator('.avatar-container');\n+    await expect(container).toHaveClass('avatar-container gold-border');\n+  });\n+});"
        }
    ],
    "stats": {
        "total": 86,
        "additions": 59,
        "deletions": 27
    }
}