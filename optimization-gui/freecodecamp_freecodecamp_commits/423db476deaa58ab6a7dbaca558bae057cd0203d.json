{
    "author": "ShaunSHamilton",
    "message": "chore(api): enable exam environment endpoints in prod (#57604)",
    "sha": "423db476deaa58ab6a7dbaca558bae057cd0203d",
    "files": [
        {
            "sha": "401d179fd7ea139bd1bbb6488a5265044bd9664e",
            "filename": "api/src/exam-environment/generate/index.ts",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/423db476deaa58ab6a7dbaca558bae057cd0203d/api%2Fsrc%2Fexam-environment%2Fgenerate%2Findex.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/423db476deaa58ab6a7dbaca558bae057cd0203d/api%2Fsrc%2Fexam-environment%2Fgenerate%2Findex.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Fgenerate%2Findex.ts?ref=423db476deaa58ab6a7dbaca558bae057cd0203d",
            "patch": "@@ -24,7 +24,9 @@ const prisma = new PrismaClient({\n /// TODO:\n /// 1. Deprecate all previous generated exams for a given exam id?\n async function main() {\n+  console.info('Connecting to cluster...');\n   await prisma.$connect();\n+  console.info('Connected.');\n \n   const exam = await prisma.envExam.findUnique({\n     where: {\n@@ -38,17 +40,22 @@ async function main() {\n \n   let numberOfExamsGenerated = 0;\n \n+  console.info(\n+    `Exam with _id ${ENV_EXAM_ID} found. Generating ${NUMBER_OF_EXAMS_TO_GENERATE} exams...`\n+  );\n   while (numberOfExamsGenerated < NUMBER_OF_EXAMS_TO_GENERATE) {\n     try {\n       const generatedExam = generateExam(exam);\n       await prisma.envGeneratedExam.create({\n         data: generatedExam\n       });\n       numberOfExamsGenerated++;\n+      console.info(`Generated ${numberOfExamsGenerated} exams`);\n     } catch (e) {\n       console.log(e);\n     }\n   }\n+  console.log(`Finished generating exams.`);\n }\n \n void main();"
        },
        {
            "sha": "10c88e74971a476873b564b3372fe10487caef19",
            "filename": "api/src/utils/env.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/423db476deaa58ab6a7dbaca558bae057cd0203d/api%2Fsrc%2Futils%2Fenv.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/423db476deaa58ab6a7dbaca558bae057cd0203d/api%2Fsrc%2Futils%2Fenv.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Futils%2Fenv.ts?ref=423db476deaa58ab6a7dbaca558bae057cd0203d",
            "patch": "@@ -58,11 +58,6 @@ assert.ok(process.env.MONGOHQ_URL);\n assert.ok(process.env.COOKIE_SECRET);\n \n if (process.env.FREECODECAMP_NODE_ENV !== 'development') {\n-  assert.notEqual(\n-    process.env.FCC_ENABLE_EXAM_ENVIRONMENT,\n-    'true',\n-    'Exam environment is not ready for production.'\n-  );\n   assert.ok(process.env.SES_ID);\n   assert.ok(process.env.SES_SECRET);\n   assert.notEqual("
        }
    ],
    "stats": {
        "total": 12,
        "additions": 7,
        "deletions": 5
    }
}