{
    "author": "ojeytonwilliams",
    "message": "refactor: simplify client Dockerfile (#58099)",
    "sha": "c0460c9a81f6a688076a1a3a3efc4a025ce89567",
    "files": [
        {
            "sha": "62e213da8261e50ee42820af03a15a2b7ae247b4",
            "filename": "docker/web/Dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 8,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0460c9a81f6a688076a1a3a3efc4a025ce89567/docker%2Fweb%2FDockerfile",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0460c9a81f6a688076a1a3a3efc4a025ce89567/docker%2Fweb%2FDockerfile",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/docker%2Fweb%2FDockerfile?ref=c0460c9a81f6a688076a1a3a3efc4a025ce89567",
            "patch": "@@ -29,14 +29,9 @@ ARG SHOW_UPCOMING_CHANGES\n ARG GROWTHBOOK_URI\n ARG FREECODECAMP_NODE_ENV\n \n-# We're installing specific packages even though it is not strictly necessary -\n-# pnpm install would work. The idea is to make the dependencies explicit and\n-# keep them under our control.\n-RUN pnpm config set dedupe-peer-dependents false\n-# Scripts need to be run at this stage (--ignore-scripts cannot be used) because\n-# without them, Gatsby will not install sharp.\n-RUN pnpm install -F=shared -F=client -F=ui -F=browser-scripts -F=challenge-parser \\\n-  --frozen-lockfile\n+# For simplicity and because node_modules do not make it into the final image,\n+# we can just install all dependencies here.\n+RUN pnpm install --frozen-lockfile\n RUN pnpm build:client\n \n FROM node:20-alpine"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 3,
        "deletions": 8
    }
}