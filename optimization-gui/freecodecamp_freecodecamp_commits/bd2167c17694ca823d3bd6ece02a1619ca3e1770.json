{
    "author": "moT01",
    "message": "fix(tools): adjust create language block helper script (#62090)",
    "sha": "bd2167c17694ca823d3bd6ece02a1619ca3e1770",
    "files": [
        {
            "sha": "f93e100d470ca7b7d95061f5a212d0c3338752d4",
            "filename": "tools/challenge-helper-scripts/create-language-block.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fcreate-language-block.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fcreate-language-block.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Fcreate-language-block.ts?ref=bd2167c17694ca823d3bd6ece02a1619ca3e1770",
            "patch": "@@ -54,7 +54,7 @@ async function createLanguageBlock(\n   const superblockFilename = (\n     superBlockToFilename as Record<SuperBlocks, string>\n   )[superBlock];\n-  void updateSimpleSuperblockStructure(block, { order: 0 }, superblockFilename);\n+  void updateSimpleSuperblockStructure(block, {}, superblockFilename);\n   // TODO: remove once we stop relying on markdown in the client.\n   await createIntroMD(superBlock, block, title);\n }"
        },
        {
            "sha": "f2941e3972528c784d358a7a6f9324d454947ffb",
            "filename": "tools/challenge-helper-scripts/helpers/create-project.test.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.test.ts?ref=bd2167c17694ca823d3bd6ece02a1619ca3e1770",
            "patch": "@@ -70,6 +70,26 @@ describe('updateSimpleSuperblockStructure', () => {\n       }\n     );\n   });\n+\n+  it('should insert the block into the blocks array at the end when no order is given', async () => {\n+    const existingBlocks = ['block1', 'block2'];\n+    const superblockFilename = 'test-superblock';\n+    const newBlock = 'block3';\n+\n+    mockGetSuperblockStructure.mockReturnValue({\n+      blocks: existingBlocks\n+    });\n+\n+    await updateSimpleSuperblockStructure(newBlock, {}, superblockFilename);\n+\n+    expect(mockGetSuperblockStructure).toHaveBeenCalledWith(superblockFilename);\n+    expect(mockWriteSuperblockStructure).toHaveBeenCalledWith(\n+      superblockFilename,\n+      {\n+        blocks: ['block1', 'block2', 'block3']\n+      }\n+    );\n+  });\n });\n \n describe('updateChapterModuleSuperblockStructure', () => {"
        },
        {
            "sha": "10be07828da4dfca546c951702d4765bfed2c6bb",
            "filename": "tools/challenge-helper-scripts/helpers/create-project.ts",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/bd2167c17694ca823d3bd6ece02a1619ca3e1770/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-helper-scripts%2Fhelpers%2Fcreate-project.ts?ref=bd2167c17694ca823d3bd6ece02a1619ca3e1770",
            "patch": "@@ -8,14 +8,20 @@ import { insertInto } from './utils';\n \n export async function updateSimpleSuperblockStructure(\n   block: string,\n-  position: { order: number },\n+  position: { order?: number },\n   superblockFilename: string\n ) {\n   const existing = getSuperblockStructure(superblockFilename) as {\n     blocks: string[];\n   };\n+\n+  const order =\n+    typeof position.order === 'number'\n+      ? position.order\n+      : existing.blocks.length;\n+\n   const updated = {\n-    blocks: insertInto(existing.blocks, position.order, block)\n+    blocks: insertInto(existing.blocks, order, block)\n   };\n   await writeSuperblockStructure(superblockFilename, updated);\n }"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 29,
        "deletions": 3
    }
}