{
    "author": "jeremylt",
    "message": "fix(curriculum): faster euler 32 ref solution (#61274)",
    "sha": "5e1990ee1cc0cd1251af0492db663f11b1fdb628",
    "files": [
        {
            "sha": "83b5136d139b229464617aa6166ac9410a3bc27b",
            "filename": "curriculum/challenges/english/18-project-euler/project-euler-problems-1-to-100/problem-32-pandigital-products.md",
            "status": "modified",
            "additions": 32,
            "deletions": 34,
            "changes": 66,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/5e1990ee1cc0cd1251af0492db663f11b1fdb628/curriculum%2Fchallenges%2Fenglish%2F18-project-euler%2Fproject-euler-problems-1-to-100%2Fproblem-32-pandigital-products.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/5e1990ee1cc0cd1251af0492db663f11b1fdb628/curriculum%2Fchallenges%2Fenglish%2F18-project-euler%2Fproject-euler-problems-1-to-100%2Fproblem-32-pandigital-products.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F18-project-euler%2Fproject-euler-problems-1-to-100%2Fproblem-32-pandigital-products.md?ref=5e1990ee1cc0cd1251af0492db663f11b1fdb628",
            "patch": "@@ -70,45 +70,43 @@ pandigitalProducts(4);\n # --solutions--\n \n ```js\n-function pandigitalProducts(n) {\n-  function is1toNPandigital(n, digitStr) {\n-    // check if length is n\n-    if (digitStr.length !== n) {\n-      return false;\n-    }\n-    // check if pandigital\n-    for (let i = digitStr.length; i > 0; i--) {\n-      if (digitStr.indexOf(i.toString()) === -1) {\n-        return false;\n-      }\n-    }\n-    return true;\n-  }\n-  function concatenateNums(...numbers) {\n-    let digitStr = '';\n-    for (let i = 0; i < numbers.length; i++) {\n-      digitStr += numbers[i].toString();\n-    }\n-    return digitStr;\n-  }\n+// Check for pandigital number\n+function isPandigital(digitStr) {\n+  return digitStr\n+    .split('')\n+    .sort()\n+    .every((c, i) => c == i + 1);\n+}\n \n-  const pandigitalNums = [];\n-  const limit = 10 ** Math.floor(n / 2) - 1;\n+// Concatenate 3 numbers\n+function concatenate3Nums(a, b, c) {\n+  return a.toString() + b.toString() + c.toString();\n+}\n+\n+// Find sum of all pandigital products\n+function pandigitalProducts(n) {\n+  const products = [];\n   let sum = 0;\n-  for (let mult1 = 2; mult1 < limit; mult1++) {\n-    for (let mult2 = 2; mult2 < limit; mult2++) {\n-      const product = mult1 * mult2;\n-      const concatenated = concatenateNums(mult1, mult2, product);\n+  const max = Number(Array(n)\n+    .fill(0)\n+    .map((_, i) => (n - i).toString())\n+    .join(''));\n+  const outerLimit = Math.sqrt(max);\n+\n+  for (let factor1 = 2; factor1 < outerLimit; factor1++) {\n+    const innerLimit = max / factor1;\n+\n+    for (let factor2 = factor1; factor2 < innerLimit; factor2++) {\n+      const product = factor1 * factor2;\n+      const concatenated = concatenate3Nums(factor1, factor2, product);\n+\n       if (concatenated.length > n) {\n         break;\n-      } else if (concatenated.length < n) {\n-        continue;\n-      }\n-      if (\n-        is1toNPandigital(n, concatenated) &&\n-        !pandigitalNums.includes(product)\n+      } else if (concatenated.length == n &&\n+        isPandigital(concatenated) &&\n+        !products.includes(product)\n       ) {\n-        pandigitalNums.push(product);\n+        products.push(product);\n         sum += product;\n       }\n     }"
        }
    ],
    "stats": {
        "total": 66,
        "additions": 32,
        "deletions": 34
    }
}