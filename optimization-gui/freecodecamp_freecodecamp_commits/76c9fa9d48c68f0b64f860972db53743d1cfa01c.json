{
    "author": "ShaunSHamilton",
    "message": "feat(api): add attempts routes to user (#61362)\n\nCo-authored-by: Tom <20648924+moT01@users.noreply.github.com>\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>\nCo-authored-by: Mrugesh Mohapatra <1884376+raisedadead@users.noreply.github.com>",
    "sha": "76c9fa9d48c68f0b64f860972db53743d1cfa01c",
    "files": [
        {
            "sha": "5c0adc3cbd74905ccb0ec8b9cf568fb24588e05d",
            "filename": "api/src/exam-environment/routes/exam-environment.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/76c9fa9d48c68f0b64f860972db53743d1cfa01c/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/76c9fa9d48c68f0b64f860972db53743d1cfa01c/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fexam-environment%2Froutes%2Fexam-environment.ts?ref=76c9fa9d48c68f0b64f860972db53743d1cfa01c",
            "patch": "@@ -812,7 +812,7 @@ async function getExams(\n  *\n  * If an attempt is completed, the result is included.\n  */\n-async function getExamAttemptsHandler(\n+export async function getExamAttemptsHandler(\n   this: FastifyInstance,\n   req: UpdateReqType<typeof schemas.examEnvironmentGetExamAttempts>,\n   reply: FastifyReply\n@@ -872,7 +872,7 @@ async function getExamAttemptsHandler(\n  *\n  * If the attempt is completed, the result is included.\n  */\n-async function getExamAttemptHandler(\n+export async function getExamAttemptHandler(\n   this: FastifyInstance,\n   req: UpdateReqType<typeof schemas.examEnvironmentGetExamAttempt>,\n   reply: FastifyReply"
        },
        {
            "sha": "8541c70c97a5c1c84f8b5c876b36037577f52205",
            "filename": "api/src/routes/protected/user.ts",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/76c9fa9d48c68f0b64f860972db53743d1cfa01c/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/76c9fa9d48c68f0b64f860972db53743d1cfa01c/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fprotected%2Fuser.ts?ref=76c9fa9d48c68f0b64f860972db53743d1cfa01c",
            "patch": "@@ -6,6 +6,7 @@ import jwt from 'jsonwebtoken';\n import { PrismaClientKnownRequestError } from '@prisma/client/runtime/library';\n \n import * as schemas from '../../schemas';\n+import * as examEnvironmentSchemas from '../../exam-environment/schemas';\n import { createResetProperties } from '../../utils/create-user';\n import { customNanoid } from '../../utils/ids';\n import { encodeUserToken } from '../../utils/tokens';\n@@ -27,6 +28,10 @@ import {\n   ProgressTimestamp\n } from '../../utils/progress';\n import { JWT_SECRET } from '../../utils/env';\n+import {\n+  getExamAttemptHandler,\n+  getExamAttemptsHandler\n+} from '../../exam-environment/routes/exam-environment';\n \n /**\n  * Helper function to get the api url from the shared transcript link.\n@@ -475,6 +480,21 @@ export const userRoutes: FastifyPluginCallbackTypebox = (\n     examEnvironmentTokenHandler\n   );\n \n+  fastify.get(\n+    '/user/exam-environment/exam/attempts',\n+    {\n+      schema: examEnvironmentSchemas.examEnvironmentGetExamAttempts\n+    },\n+    getExamAttemptsHandler\n+  );\n+  fastify.get(\n+    '/user/exam-environment/exam/attempt/:attemptId',\n+    {\n+      schema: examEnvironmentSchemas.examEnvironmentGetExamAttempt\n+    },\n+    getExamAttemptHandler\n+  );\n+\n   done();\n };\n "
        }
    ],
    "stats": {
        "total": 24,
        "additions": 22,
        "deletions": 2
    }
}