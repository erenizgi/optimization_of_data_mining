{
    "author": "Sembauke",
    "message": "chore: convert  frontend to functional component (#57395)\n\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "15dcf72005a5c54f9f1b08cff31b5f4e07caeefe",
    "files": [
        {
            "sha": "529328935bfad0bc7d06a7d5c86f805b36c5d2df",
            "filename": "client/src/templates/Challenges/projects/frontend/show.tsx",
            "status": "modified",
            "additions": 92,
            "deletions": 135,
            "changes": 227,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/15dcf72005a5c54f9f1b08cff31b5f4e07caeefe/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/15dcf72005a5c54f9f1b08cff31b5f4e07caeefe/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx?ref=15dcf72005a5c54f9f1b08cff31b5f4e07caeefe",
            "patch": "@@ -1,7 +1,7 @@\n import { graphql } from 'gatsby';\n-import React, { Component } from 'react';\n+import React, { useEffect, useRef } from 'react';\n import Helmet from 'react-helmet';\n-import type { TFunction } from 'i18next';\n+import { type TFunction } from 'i18next';\n import { withTranslation } from 'react-i18next';\n import { connect } from 'react-redux';\n import { bindActionCreators } from 'redux';\n@@ -67,165 +67,122 @@ interface ProjectProps {\n   updateSolutionFormValues: () => void;\n }\n \n-// Component\n-class Project extends Component<ProjectProps> {\n-  static displayName: string;\n-  private container: React.RefObject<HTMLElement> = React.createRef();\n+const ShowFrontEndProject = (props: ProjectProps) => {\n+  const handleSubmit = ({\n+    showCompletionModal\n+  }: {\n+    showCompletionModal: boolean;\n+  }): void => {\n+    if (showCompletionModal) {\n+      props.openCompletionModal();\n+    }\n+  };\n \n-  constructor(props: ProjectProps) {\n-    super(props);\n-    this.handleSubmit = this.handleSubmit.bind(this);\n-  }\n-  componentDidMount() {\n+  const container = useRef<HTMLElement>(null);\n+\n+  useEffect(() => {\n     const {\n       challengeMounted,\n       data: {\n         challengeNode: {\n-          challenge: {\n-            fields: { tests },\n-            title,\n-            challengeType,\n-            helpCategory\n-          }\n+          challenge: { fields, title, challengeType, helpCategory }\n         }\n       },\n       pageContext: { challengeMeta },\n       initTests,\n       updateChallengeMeta\n-    } = this.props;\n-    initTests(tests);\n+    } = props;\n+    initTests(fields.tests);\n     updateChallengeMeta({\n       ...challengeMeta,\n       title,\n       challengeType,\n       helpCategory\n     });\n     challengeMounted(challengeMeta.id);\n-    this.container.current?.focus();\n-  }\n+    container.current?.focus();\n+    // This effect should be run once on mount\n+    // eslint-disable-next-line react-hooks/exhaustive-deps\n+  }, []);\n \n-  componentDidUpdate(prevProps: ProjectProps): void {\n-    const {\n-      data: {\n-        challengeNode: {\n-          challenge: { title: prevTitle }\n+  const {\n+    data: {\n+      challengeNode: {\n+        challenge: {\n+          challengeType,\n+          fields: { blockName },\n+          forumTopicId,\n+          title,\n+          description,\n+          instructions,\n+          superBlock,\n+          block,\n+          translationPending\n         }\n       }\n-    } = prevProps;\n-    const {\n-      challengeMounted,\n-      data: {\n-        challengeNode: {\n-          challenge: { title: currentTitle, challengeType, helpCategory }\n-        }\n-      },\n-      pageContext: { challengeMeta },\n-      updateChallengeMeta\n-    } = this.props;\n-    if (prevTitle !== currentTitle) {\n-      updateChallengeMeta({\n-        ...challengeMeta,\n-        title: currentTitle,\n-        challengeType,\n-        helpCategory\n-      });\n-      challengeMounted(challengeMeta.id);\n-    }\n-  }\n-\n-  handleSubmit({\n-    showCompletionModal\n-  }: {\n-    showCompletionModal: boolean;\n-  }): void {\n-    if (showCompletionModal) {\n-      this.props.openCompletionModal();\n-    }\n-  }\n-\n-  render() {\n-    const {\n-      data: {\n-        challengeNode: {\n-          challenge: {\n-            challengeType,\n-            fields: { blockName },\n-            forumTopicId,\n-            title,\n-            description,\n-            instructions,\n-            superBlock,\n-            block,\n-            translationPending\n-          }\n-        }\n-      },\n-      isChallengeCompleted,\n-      pageContext: {\n-        challengeMeta: { nextChallengePath, prevChallengePath }\n-      },\n-      t,\n-      updateSolutionFormValues\n-    } = this.props;\n-\n-    const blockNameTitle = `${t(\n-      `intro:${superBlock}.blocks.${block}.title`\n-    )} - ${title}`;\n+    },\n+    isChallengeCompleted,\n+    pageContext: {\n+      challengeMeta: { nextChallengePath, prevChallengePath }\n+    },\n+    t,\n+    updateSolutionFormValues\n+  } = props;\n \n-    return (\n-      <Hotkeys\n-        containerRef={this.container}\n-        nextChallengePath={nextChallengePath}\n-        prevChallengePath={prevChallengePath}\n-      >\n-        <LearnLayout>\n-          <Helmet\n-            title={`${blockNameTitle} | ${t('learn.learn')} | freeCodeCamp.org`}\n-          />\n-          <Container>\n-            <Row>\n-              <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n-                <Spacer size='m' />\n-                <ChallengeTitle\n-                  isCompleted={isChallengeCompleted}\n-                  translationPending={translationPending}\n-                >\n-                  {title}\n-                </ChallengeTitle>\n-                <ChallengeDescription\n-                  description={description}\n-                  instructions={instructions}\n-                />\n-                <Spacer size='m' />\n-                <SolutionForm\n-                  challengeType={challengeType}\n-                  description={description}\n-                  // eslint-disable-next-line @typescript-eslint/unbound-method\n-                  onSubmit={this.handleSubmit}\n-                  updateSolutionForm={updateSolutionFormValues}\n-                />\n-                <ProjectToolPanel\n-                  guideUrl={getGuideUrl({ forumTopicId, title })}\n-                />\n-                <br />\n-                <Spacer size='m' />\n-              </Col>\n-              <CompletionModal />\n-              <HelpModal challengeTitle={title} challengeBlock={blockName} />\n-            </Row>\n-          </Container>\n-        </LearnLayout>\n-      </Hotkeys>\n-    );\n-  }\n-}\n+  const blockNameTitle = `${t(\n+    `intro:${superBlock}.blocks.${block}.title`\n+  )} - ${title}`;\n \n-Project.displayName = 'Project';\n+  return (\n+    <Hotkeys\n+      containerRef={container}\n+      nextChallengePath={nextChallengePath}\n+      prevChallengePath={prevChallengePath}\n+    >\n+      <LearnLayout>\n+        <Helmet\n+          title={`${blockNameTitle} | ${t('learn.learn')} | freeCodeCamp.org`}\n+        />\n+        <Container>\n+          <Row>\n+            <Col md={8} mdOffset={2} sm={10} smOffset={1} xs={12}>\n+              <Spacer size='m' />\n+              <ChallengeTitle\n+                isCompleted={isChallengeCompleted}\n+                translationPending={translationPending}\n+              >\n+                {title}\n+              </ChallengeTitle>\n+              <ChallengeDescription\n+                description={description}\n+                instructions={instructions}\n+              />\n+              <Spacer size='m' />\n+              <SolutionForm\n+                challengeType={challengeType}\n+                description={description}\n+                onSubmit={handleSubmit}\n+                updateSolutionForm={updateSolutionFormValues}\n+              />\n+              <ProjectToolPanel\n+                guideUrl={getGuideUrl({ forumTopicId, title })}\n+              />\n+              <br />\n+              <Spacer size='m' />\n+            </Col>\n+            <CompletionModal />\n+            <HelpModal challengeTitle={title} challengeBlock={blockName} />\n+          </Row>\n+        </Container>\n+      </LearnLayout>\n+    </Hotkeys>\n+  );\n+};\n \n export default connect(\n   mapStateToProps,\n   mapDispatchToProps\n-)(withTranslation()(Project));\n+)(withTranslation()(ShowFrontEndProject));\n \n export const query = graphql`\n   query ProjectChallenge($id: String!) {"
        }
    ],
    "stats": {
        "total": 227,
        "additions": 92,
        "deletions": 135
    }
}