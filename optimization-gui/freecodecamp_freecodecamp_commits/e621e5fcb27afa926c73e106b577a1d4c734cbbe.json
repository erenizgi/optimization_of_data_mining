{
    "author": "ojeytonwilliams",
    "message": "fix(tools): enable type checking for the client (#58579)",
    "sha": "e621e5fcb27afa926c73e106b577a1d4c734cbbe",
    "files": [
        {
            "sha": "e90a09a13b32424c78e8f734f38e2db59bff517c",
            "filename": "client/src/components/search/with-instant-search.tsx",
            "status": "modified",
            "additions": 23,
            "deletions": 22,
            "changes": 45,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e621e5fcb27afa926c73e106b577a1d4c734cbbe/client%2Fsrc%2Fcomponents%2Fsearch%2Fwith-instant-search.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e621e5fcb27afa926c73e106b577a1d4c734cbbe/client%2Fsrc%2Fcomponents%2Fsearch%2Fwith-instant-search.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fsearch%2Fwith-instant-search.tsx?ref=e621e5fcb27afa926c73e106b577a1d4c734cbbe",
            "patch": "@@ -1,7 +1,7 @@\n import { Location } from '@reach/router';\n import type { WindowLocation } from '@reach/router';\n import type { SearchOptions } from 'instantsearch.js';\n-import algoliasearch from 'algoliasearch/lite';\n+import algoliasearch, { type SearchClient } from 'algoliasearch/lite';\n import React, { useEffect, useRef } from 'react';\n import type { ReactNode } from 'react';\n import { connect } from 'react-redux';\n@@ -18,31 +18,32 @@ import {\n   updateSearchQuery\n } from './redux';\n \n+const mockSearchClient = {\n+  // When Algolia is not configured, the client will still render,\n+  // the result query is returned to the search component as a mock\n+  //(mainly for testing without relying on Playwright fuffill route as\n+  // there is no request made without a key).\n+  search: (request: Array<{ indexName: string; params: SearchOptions }>) => {\n+    return Promise.resolve({\n+      results: [\n+        {\n+          hits: [],\n+          query: request[0].params?.query === 'test' ? 'test' : '',\n+          params:\n+            'highlightPostTag=__%2Fais-highlight__&highlightPreTag=__ais-highlight__&hitsPerPage=5&query=sdefpuhsdfpiouhdsfgp',\n+          index: 'news'\n+        }\n+      ]\n+    });\n+  }\n+  // TODO: mock this in the tests.\n+} as unknown as SearchClient;\n+\n // If a key is missing, searches will fail, but the client will still render.\n const searchClient =\n   algoliaAppId && algoliaAPIKey\n     ? algoliasearch(algoliaAppId, algoliaAPIKey)\n-    : {\n-        // When Algolia is not configured, the client will still render,\n-        // the result query is returned to the search component as a mock\n-        //(mainly for testing without relying on Playwright fuffill route as\n-        // there is no request made without a key).\n-        search: (\n-          request: Array<{ indexName: string; params: SearchOptions }>\n-        ) => {\n-          return Promise.resolve({\n-            results: [\n-              {\n-                hits: [],\n-                query: request[0].params?.query === 'test' ? 'test' : '',\n-                params:\n-                  'highlightPostTag=__%2Fais-highlight__&highlightPreTag=__ais-highlight__&hitsPerPage=5&query=sdefpuhsdfpiouhdsfgp',\n-                index: 'news'\n-              }\n-            ]\n-          });\n-        }\n-      };\n+    : mockSearchClient;\n \n const mapStateToProps = createSelector(\n   searchQuerySelector,"
        },
        {
            "sha": "d184f4a96f154bcc8b74e25a15ee1587bea97d91",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e621e5fcb27afa926c73e106b577a1d4c734cbbe/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e621e5fcb27afa926c73e106b577a1d4c734cbbe/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx?ref=e621e5fcb27afa926c73e106b577a1d4c734cbbe",
            "patch": "@@ -178,7 +178,7 @@ const ShowFillInTheBlank = ({\n   };\n \n   const handlePlayScene = () => {\n-    sceneSubject.notify();\n+    sceneSubject.notify('play');\n   };\n \n   const blockNameTitle = `${t("
        },
        {
            "sha": "393ef75a3223a866b202141baa606d6892e14c2f",
            "filename": "package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e621e5fcb27afa926c73e106b577a1d4c734cbbe/package.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e621e5fcb27afa926c73e106b577a1d4c734cbbe/package.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/package.json?ref=e621e5fcb27afa926c73e106b577a1d4c734cbbe",
            "patch": "@@ -54,7 +54,7 @@\n     \"lint\": \"NODE_OPTIONS=\\\"--max-old-space-size=7168\\\" npm-run-all create:shared -p lint:*\",\n     \"lint:challenges\": \"cd ./curriculum && pnpm run lint\",\n     \"lint:js\": \"eslint --cache --max-warnings 0 .\",\n-    \"lint:ts\": \"tsc && tsc -p shared && tsc -p api\",\n+    \"lint:ts\": \"tsc && tsc -p shared && tsc -p api && tsc -p client\",\n     \"lint:prettier\": \"prettier --list-different .\",\n     \"lint:css\": \"stylelint '**/*.css'\",\n     \"reload:server\": \"pm2 reload api-server/ecosystem.config.js\","
        }
    ],
    "stats": {
        "total": 49,
        "additions": 25,
        "deletions": 24
    }
}