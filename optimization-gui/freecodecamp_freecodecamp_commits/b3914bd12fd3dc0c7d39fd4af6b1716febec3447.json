{
    "author": "ahmaxed",
    "message": "feat: add additional donation related GA events (#57491)\n\nCo-authored-by: Huyen Nguyen <25715018+huyenltnguyen@users.noreply.github.com>",
    "sha": "b3914bd12fd3dc0c7d39fd4af6b1716febec3447",
    "files": [
        {
            "sha": "0c9599c31bb593b549000500c893949ad99fc35e",
            "filename": "client/src/analytics/call-ga.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b3914bd12fd3dc0c7d39fd4af6b1716febec3447/client%2Fsrc%2Fanalytics%2Fcall-ga.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b3914bd12fd3dc0c7d39fd4af6b1716febec3447/client%2Fsrc%2Fanalytics%2Fcall-ga.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fanalytics%2Fcall-ga.ts?ref=b3914bd12fd3dc0c7d39fd4af6b1716febec3447",
            "patch": "@@ -32,11 +32,15 @@ type DonationRelatedEventAction =\n   | 'Modal Become Supporter Click'\n   | 'Donate Page Patreon Payment Redirection'\n   | 'Modal Patreon Payment Redirection'\n+  | 'Amount Confirmation Clicked'\n+  | 'Select Amount Tab Clicked'\n+  | 'Edit Amount Clicked'\n   | 'Certificate Patreon Payment Redirection';\n \n interface DonationRelatedEvent {\n   event: 'donation_related';\n   action: DonationRelatedEventAction;\n+  amount?: DonationAmount;\n }\n \n type DonationViewEventAction ="
        },
        {
            "sha": "2fdf4fdcb3a1d2fc9027a37a65785f6018cb6bfd",
            "filename": "client/src/components/Donation/multi-tier-donation-form.tsx",
            "status": "modified",
            "additions": 27,
            "deletions": 3,
            "changes": 30,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/b3914bd12fd3dc0c7d39fd4af6b1716febec3447/client%2Fsrc%2Fcomponents%2FDonation%2Fmulti-tier-donation-form.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/b3914bd12fd3dc0c7d39fd4af6b1716febec3447/client%2Fsrc%2Fcomponents%2FDonation%2Fmulti-tier-donation-form.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FDonation%2Fmulti-tier-donation-form.tsx?ref=b3914bd12fd3dc0c7d39fd4af6b1716febec3447",
            "patch": "@@ -17,6 +17,7 @@ import {\n   defaultTierAmount,\n   type DonationAmount\n } from '../../../../shared/config/donation-settings'; // You can further extract these into separate components and import them\n+import callGA from '../../analytics/call-ga';\n import { LocalStorageThemes } from '../../redux/types';\n import { formattedAmountLabel, convertToTimeContributed } from './utils';\n import DonateForm from './donate-form';\n@@ -45,6 +46,22 @@ function SelectionTabs({\n     setDonationAmount(Number(value) as DonationAmount);\n   };\n   useFeature('aa-test-in-component');\n+  const handleAmountConfirmationClick = () => {\n+    callGA({\n+      event: 'donation_related',\n+      action: `Amount Confirmation Clicked`\n+    });\n+    setShowDonateForm(true);\n+  };\n+\n+  const selectAmountTabClick = (value: DonationAmount) => {\n+    callGA({\n+      event: 'donation_related',\n+      action: `Select Amount Tab Clicked`,\n+      amount: value\n+    });\n+    setDonationAmount(value);\n+  };\n \n   return (\n     <Row\n@@ -68,7 +85,7 @@ function SelectionTabs({\n               <TabsTrigger\n                 key={value}\n                 value={value.toString()}\n-                onClick={() => setDonationAmount(value)}\n+                onClick={() => selectAmountTabClick(value)}\n               >\n                 ${formattedAmountLabel(value)}\n               </TabsTrigger>\n@@ -97,7 +114,7 @@ function SelectionTabs({\n         <button\n           className='text-center confirm-donation-btn donate-btn-group'\n           type='submit'\n-          onClick={() => setShowDonateForm(true)}\n+          onClick={handleAmountConfirmationClick}\n         >\n           {isAnimationEnabled\n             ? t('buttons.confirm-amount')\n@@ -122,14 +139,21 @@ function DonationFormRow({\n   donationAmount: DonationAmount;\n   paymentContext: PaymentContext;\n }) {\n+  const editAmountClick = () => {\n+    callGA({\n+      event: 'donation_related',\n+      action: `Edit Amount Clicked`\n+    });\n+    setShowDonateForm(false);\n+  };\n   return (\n     <Row>\n       <Col xs={12}>\n         <DonateForm\n           handleProcessing={handleProcessing}\n           isMinimalForm={isMinimalForm}\n           paymentContext={paymentContext}\n-          editAmount={() => setShowDonateForm(false)}\n+          editAmount={editAmountClick}\n           selectedDonationAmount={donationAmount}\n         />\n         <Spacer size='m' />"
        }
    ],
    "stats": {
        "total": 34,
        "additions": 31,
        "deletions": 3
    }
}