{
    "author": "moT01",
    "message": "feat(api): daily challenge api (#61346)\n\nCo-authored-by: Huyen Nguyen <25715018+huyenltnguyen@users.noreply.github.com>",
    "sha": "29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
    "files": [
        {
            "sha": "a5c084f9864394de1280048951b40cc4677eaf69",
            "filename": "api/package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fpackage.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fpackage.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fpackage.json?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -21,6 +21,7 @@\n     \"ajv\": \"8.12.0\",\n     \"ajv-formats\": \"2.1.1\",\n     \"date-fns\": \"4.1.0\",\n+    \"date-fns-tz\": \"3.2.0\",\n     \"dotenv\": \"16.4.5\",\n     \"fast-uri\": \"2.3.0\",\n     \"fastify\": \"5.2.0\","
        },
        {
            "sha": "aeb50cf47ff8d21c4835344f2567d58533e49931",
            "filename": "api/prisma/schema.prisma",
            "status": "modified",
            "additions": 27,
            "deletions": 0,
            "changes": 27,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fprisma%2Fschema.prisma",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fprisma%2Fschema.prisma",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fprisma%2Fschema.prisma?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -491,6 +491,33 @@ type SurveyResponse {\n \n // ----------------------\n \n+model DailyCodingChallenges {\n+  id                String @id @default(auto()) @map(\"_id\") @db.ObjectId\n+  challengeNumber   Int\n+  date              DateTime\n+  title             String\n+  description       String\n+  javascript        DailyCodingChallengeApiLanguage\n+  python            DailyCodingChallengeApiLanguage\n+}\n+\n+type DailyCodingChallengeApiLanguage {\n+  tests           DailyCodingChallengeApiLanguageTests[]\n+  challengeFiles  DailyCodingChallengeApiLanguageChallengeFiles[]\n+}\n+\n+type DailyCodingChallengeApiLanguageTests {\n+  text        String\n+  testString  String\n+}\n+\n+type DailyCodingChallengeApiLanguageChallengeFiles {\n+  contents  String\n+  fileKey   String\n+}\n+\n+// ----------------------\n+\n model ExamEnvironmentExamModeration {\n   id             String                              @id @default(auto()) @map(\"_id\") @db.ObjectId\n   /// Whether or not the item is approved"
        },
        {
            "sha": "953f917fc06e154c7144f78b198a5cb781e14405",
            "filename": "api/src/app.ts",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fapp.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fapp.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fapp.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -52,6 +52,7 @@ import {\n   examEnvironmentOpenRoutes,\n   examEnvironmentValidatedTokenRoutes\n } from './exam-environment/routes/exam-environment';\n+import { dailyCodingChallengeRoutes } from './daily-coding-challenge/routes/daily-coding-challenge';\n \n type FastifyInstanceWithTypeProvider = FastifyInstance<\n   RawServerDefault,\n@@ -231,6 +232,7 @@ export const build = async (\n   void fastify.register(publicRoutes.deprecatedEndpoints);\n   void fastify.register(publicRoutes.statusRoute);\n   void fastify.register(publicRoutes.unsubscribeDeprecated);\n+  void fastify.register(dailyCodingChallengeRoutes);\n \n   return fastify;\n };"
        },
        {
            "sha": "1dfc547c9e3a0f92c67473b02174e3a522e45e03",
            "filename": "api/src/daily-coding-challenge/README.md",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2FREADME.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2FREADME.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2FREADME.md?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1 @@\n+Endpoints to get daily coding challenge info. Daily challenge submission still lives in the main part of the API."
        },
        {
            "sha": "f9666a2abb484ce224e335ee3b1c4c3d71528b76",
            "filename": "api/src/daily-coding-challenge/routes/daily-coding-challenge.test.ts",
            "status": "added",
            "additions": 280,
            "deletions": 0,
            "changes": 280,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.test.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1,280 @@\n+import { addDays } from 'date-fns';\n+\n+import { setupServer, superRequest } from '../../../jest.utils';\n+import { getNowUsCentral, getUtcMidnight } from '../utils/helpers';\n+\n+function dateToDateParam(date: Date): string {\n+  return date.toISOString().split('T')[0] as string;\n+}\n+\n+const todayUsCentral = getNowUsCentral();\n+const todayUtcMidnight = getUtcMidnight(todayUsCentral);\n+const todayDateParam = dateToDateParam(todayUtcMidnight);\n+\n+const yesterdayUsCentral = addDays(todayUsCentral, -1);\n+const yesterdayUtcMidnight = getUtcMidnight(yesterdayUsCentral);\n+\n+const twoDaysAgoUsCentral = addDays(todayUsCentral, -2);\n+const twoDaysAgoUtcMidnight = getUtcMidnight(twoDaysAgoUsCentral);\n+const twoDaysAgoDateParam = dateToDateParam(twoDaysAgoUtcMidnight);\n+\n+const tomorrowUsCentral = addDays(todayUsCentral, 1);\n+const tomorrowUtcMidnight = getUtcMidnight(tomorrowUsCentral);\n+const tomorrowDateParam = dateToDateParam(tomorrowUtcMidnight);\n+\n+const yesterdaysChallenge = {\n+  id: '111111111111111111111111',\n+  challengeNumber: 1,\n+  date: yesterdayUtcMidnight,\n+  title: \"Yesterday's Challenge\",\n+  description: \"Yesterday's Description\",\n+  javascript: {\n+    tests: [{ text: 'JS Test Yesterday', testString: 'jsTestYesterday()' }],\n+    challengeFiles: [{ contents: 'JS Files Yesterday', fileKey: 'scriptjs' }]\n+  },\n+  python: {\n+    tests: [{ text: 'Py Test Yesterday', testString: 'py_test_yesterday()' }],\n+    challengeFiles: [{ contents: 'Py Files Yesterday', fileKey: 'mainpy' }]\n+  }\n+};\n+\n+const todaysChallenge = {\n+  id: '222222222222222222222222',\n+  challengeNumber: 2,\n+  date: todayUtcMidnight,\n+  title: \"Today's Challenge\",\n+  description: \"Today's Description\",\n+  javascript: {\n+    tests: [{ text: 'JS Test Today', testString: 'jsTestToday()' }],\n+    challengeFiles: [{ contents: 'JS Files Today', fileKey: 'scriptjs' }]\n+  },\n+  python: {\n+    tests: [{ text: 'Py Test Today', testString: 'py_test_today()' }],\n+    challengeFiles: [{ contents: 'Py Files Today', fileKey: 'mainpy' }]\n+  }\n+};\n+\n+const tomorrowsChallenge = {\n+  id: '333333333333333333333333',\n+  challengeNumber: 3,\n+  date: tomorrowUtcMidnight,\n+  title: \"Tomorrow's Challenge\",\n+  description: \"Tomorrow's Description\",\n+  javascript: {\n+    tests: [{ text: 'JS Test Tomorrow', testString: 'jsTestTomorrow()' }],\n+    challengeFiles: [{ contents: 'JS Files Tomorrow', fileKey: 'scriptjs' }]\n+  },\n+  python: {\n+    tests: [{ text: 'Py Test Tomorrow', testString: 'py_test_tomorrow()' }],\n+    challengeFiles: [{ contents: 'Py Files Tomorrow', fileKey: 'mainpy' }]\n+  }\n+};\n+\n+const mockChallenges = [\n+  tomorrowsChallenge,\n+  todaysChallenge,\n+  yesterdaysChallenge\n+];\n+\n+describe('/daily-coding-challenge', () => {\n+  setupServer();\n+\n+  describe('GET /daily-coding-challenge/date/:date', () => {\n+    beforeEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.createMany({\n+        data: mockChallenges\n+      });\n+    });\n+\n+    afterEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+    });\n+\n+    it('should return 400 for an invalid date format', async () => {\n+      const res = await superRequest(\n+        '/daily-coding-challenge/date/invalid-format',\n+        {\n+          method: 'GET'\n+        }\n+      ).send({});\n+\n+      expect(res.status).toBe(400);\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'Invalid date format. Please use YYYY-MM-DD.'\n+      });\n+    });\n+\n+    it('should return 404 for a date without a challenge', async () => {\n+      const res = await superRequest(\n+        `/daily-coding-challenge/date/${twoDaysAgoDateParam}`,\n+        {\n+          method: 'GET'\n+        }\n+      ).send({});\n+\n+      expect(res.status).toBe(404);\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'Challenge not found.'\n+      });\n+    });\n+\n+    it('should return a challenge for a valid date', async () => {\n+      const res = await superRequest(\n+        `/daily-coding-challenge/date/${todayDateParam}`,\n+        {\n+          method: 'GET'\n+        }\n+      ).send({});\n+\n+      expect(res.status).toBe(200);\n+      expect(res.body).toMatchObject({\n+        ...todaysChallenge,\n+        date: todaysChallenge.date.toISOString()\n+      });\n+    });\n+\n+    it('should not return a challenge for a future date relative to US Central', async () => {\n+      const res = await superRequest(\n+        `/daily-coding-challenge/date/${tomorrowDateParam}`,\n+        {\n+          method: 'GET'\n+        }\n+      ).send({});\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'Challenge not found.'\n+      });\n+    });\n+  });\n+\n+  describe('GET /daily-coding-challenge/today', () => {\n+    beforeEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.createMany({\n+        data: mockChallenges\n+      });\n+    });\n+\n+    afterEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+    });\n+\n+    it(\"should return today's challenge\", async () => {\n+      const res = await superRequest('/daily-coding-challenge/today', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(200);\n+      expect(res.body).toMatchObject({\n+        ...todaysChallenge,\n+        date: todaysChallenge.date.toISOString()\n+      });\n+    });\n+\n+    it('should return 404 when no challenge exists for today', async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+\n+      const res = await superRequest('/daily-coding-challenge/today', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(404);\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'Challenge not found.'\n+      });\n+    });\n+  });\n+\n+  describe('GET /daily-coding-challenge/all', () => {\n+    beforeEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.createMany({\n+        data: mockChallenges\n+      });\n+    });\n+\n+    afterEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+    });\n+\n+    it('should return { _id, date, challengeNumber, title } for all challenges up to today US Central', async () => {\n+      const res = await superRequest('/daily-coding-challenge/all', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(200);\n+      expect(Array.isArray(res.body)).toBe(true);\n+\n+      // Should include yesterday's and today's challenges, but not tomorrow's\n+      const expectedResponse = [\n+        {\n+          id: todaysChallenge.id,\n+          challengeNumber: todaysChallenge.challengeNumber,\n+          date: todaysChallenge.date.toISOString(),\n+          title: todaysChallenge.title\n+        },\n+        {\n+          id: yesterdaysChallenge.id,\n+          challengeNumber: yesterdaysChallenge.challengeNumber,\n+          date: yesterdaysChallenge.date.toISOString(),\n+          title: yesterdaysChallenge.title\n+        }\n+      ];\n+\n+      expect(res.body).toHaveLength(2);\n+      expect(res.body).toEqual(expectedResponse);\n+    });\n+\n+    it('should return 404 when no challenges exist', async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+\n+      const res = await superRequest('/daily-coding-challenge/all', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(404);\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'No challenges found.'\n+      });\n+    });\n+  });\n+\n+  describe('GET /daily-coding-challenge/newest', () => {\n+    beforeEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.createMany({\n+        data: [yesterdaysChallenge, todaysChallenge, tomorrowsChallenge]\n+      });\n+    });\n+\n+    afterEach(async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+    });\n+\n+    it('should return { date } of the newest challenge in the database', async () => {\n+      const res = await superRequest('/daily-coding-challenge/newest', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(200);\n+      expect(res.body).toEqual({\n+        date: tomorrowsChallenge.date.toISOString()\n+      });\n+    });\n+\n+    it('should return 404 when no challenges exist', async () => {\n+      await fastifyTestInstance.prisma.dailyCodingChallenges.deleteMany();\n+\n+      const res = await superRequest('/daily-coding-challenge/newest', {\n+        method: 'GET'\n+      }).send({});\n+\n+      expect(res.status).toBe(404);\n+      expect(res.body).toEqual({\n+        type: 'error',\n+        message: 'No challenges found.'\n+      });\n+    });\n+  });\n+});"
        },
        {
            "sha": "07c05759ebdd140efa5347bd43c923cec0944fbe",
            "filename": "api/src/daily-coding-challenge/routes/daily-coding-challenge.ts",
            "status": "added",
            "additions": 205,
            "deletions": 0,
            "changes": 205,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2Froutes%2Fdaily-coding-challenge.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1,205 @@\n+import { type FastifyPluginCallbackTypebox } from '@fastify/type-provider-typebox';\n+\n+import * as schemas from '../schemas';\n+import {\n+  getNowUsCentral,\n+  getUtcMidnight,\n+  dateStringToUtcMidnight\n+} from '../utils/helpers';\n+\n+/**\n+ * Plugin containing public GET routes for the daily coding challenges.\n+ * Note that they are only for getting challenge info, challenges are still\n+ * submitted via the main challenge completion routes.\n+ *\n+ * @param fastify The Fastify instance.\n+ * @param _options Options passed to the plugin via `fastify.register(plugin, options)`.\n+ * @param done Callback to signal that the logic has completed.\n+ */\n+export const dailyCodingChallengeRoutes: FastifyPluginCallbackTypebox = (\n+  fastify,\n+  _options,\n+  done\n+) => {\n+  fastify.get(\n+    '/daily-coding-challenge/date/:date',\n+    {\n+      schema: schemas.dailyCodingChallenge.date\n+    },\n+    async (req, reply) => {\n+      const logger = fastify.log.child({ req, res: reply });\n+      logger.info('Received request for daily coding challenge', {\n+        date: req.params.date\n+      });\n+\n+      const { date } = req.params;\n+\n+      try {\n+        const parsedDate = dateStringToUtcMidnight(date);\n+\n+        if (!parsedDate) {\n+          logger.warn('Invalid date format requested', { date });\n+          return reply.status(400).send({\n+            type: 'error',\n+            message: 'Invalid date format. Please use YYYY-MM-DD.'\n+          });\n+        }\n+\n+        const challenge = await fastify.prisma.dailyCodingChallenges.findFirst({\n+          where: {\n+            date: parsedDate\n+          }\n+        });\n+\n+        // don't return challenges > today US Central\n+        if (!challenge || challenge.date > getUtcMidnight(getNowUsCentral())) {\n+          logger.warn('Challenge not found for date', { date: parsedDate });\n+          return reply\n+            .status(404)\n+            .send({ type: 'error', message: 'Challenge not found.' });\n+        }\n+\n+        return reply.send({\n+          ...challenge,\n+          date: challenge.date.toISOString()\n+        });\n+      } catch (error) {\n+        logger.error(error, 'Failed to get daily coding challenge.');\n+        await reply\n+          .status(500)\n+          .send({ type: 'error', message: 'Internal server error.' });\n+      }\n+    }\n+  );\n+\n+  fastify.get(\n+    '/daily-coding-challenge/today',\n+    {\n+      schema: schemas.dailyCodingChallenge.today\n+    },\n+    async (req, reply) => {\n+      const logger = fastify.log.child({ req, res: reply });\n+      logger.info(\"Received request for today's daily coding challenge\");\n+\n+      const today = getUtcMidnight(getNowUsCentral());\n+\n+      try {\n+        const todaysChallenge =\n+          await fastify.prisma.dailyCodingChallenges.findFirst({\n+            where: {\n+              date: today\n+            }\n+          });\n+\n+        if (!todaysChallenge) {\n+          logger.warn('Challenge not found for today', { date: today });\n+          return reply\n+            .status(404)\n+            .send({ type: 'error', message: 'Challenge not found.' });\n+        }\n+\n+        return reply.send({\n+          ...todaysChallenge,\n+          date: todaysChallenge.date.toISOString()\n+        });\n+      } catch (error) {\n+        logger.error(error, \"Failed to get today's daily coding challenge.\");\n+        await reply\n+          .status(500)\n+          .send({ type: 'error', message: 'Internal server error.' });\n+      }\n+    }\n+  );\n+\n+  fastify.get(\n+    '/daily-coding-challenge/all',\n+    {\n+      schema: schemas.dailyCodingChallenge.all\n+    },\n+    async (req, reply) => {\n+      const logger = fastify.log.child({ req, res: reply });\n+      logger.info('Received request for all daily coding challenges');\n+\n+      const today = getUtcMidnight(getNowUsCentral());\n+\n+      try {\n+        const allChallenges =\n+          await fastify.prisma.dailyCodingChallenges.findMany({\n+            // only where date <= today US Central\n+            where: {\n+              date: {\n+                lte: today\n+              }\n+            },\n+            orderBy: {\n+              date: 'desc'\n+            },\n+            select: {\n+              id: true,\n+              challengeNumber: true,\n+              date: true,\n+              title: true\n+            }\n+          });\n+\n+        if (!allChallenges || allChallenges.length === 0) {\n+          logger.warn('No challenges found.', { date: today });\n+          return reply\n+            .status(404)\n+            .send({ type: 'error', message: 'No challenges found.' });\n+        }\n+\n+        const response = allChallenges.map(challenge => ({\n+          ...challenge,\n+          date: challenge.date.toISOString()\n+        }));\n+\n+        return reply.send(response);\n+      } catch (error) {\n+        logger.error(error, 'Failed to get all daily coding challenges.');\n+        await reply\n+          .status(500)\n+          .send({ type: 'error', message: 'Internal server error.' });\n+      }\n+    }\n+  );\n+\n+  fastify.get(\n+    '/daily-coding-challenge/newest',\n+    {\n+      schema: schemas.dailyCodingChallenge.newest\n+    },\n+    async (req, reply) => {\n+      const logger = fastify.log.child({ req, res: reply });\n+      logger.info('Received request for newest daily coding challenge');\n+\n+      try {\n+        const newestChallenge =\n+          await fastify.prisma.dailyCodingChallenges.findFirst({\n+            orderBy: {\n+              date: 'desc'\n+            },\n+            select: {\n+              date: true\n+            }\n+          });\n+\n+        if (!newestChallenge) {\n+          logger.warn('No challenges found.');\n+          return reply\n+            .status(404)\n+            .send({ type: 'error', message: 'No challenges found.' });\n+        }\n+\n+        return reply.send({ date: newestChallenge.date.toISOString() });\n+      } catch (error) {\n+        logger.error(error, 'Failed to get newest daily coding challenge.');\n+        await reply\n+          .status(500)\n+          .send({ type: 'error', message: 'Internal server error.' });\n+      }\n+    }\n+  );\n+\n+  done();\n+};"
        },
        {
            "sha": "b5e52e9dc5274ac533185ce1d9d4701fe23f6be9",
            "filename": "api/src/daily-coding-challenge/schemas/daily-coding-challenge.ts",
            "status": "added",
            "additions": 105,
            "deletions": 0,
            "changes": 105,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Fdaily-coding-challenge.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Fdaily-coding-challenge.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Fdaily-coding-challenge.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1,105 @@\n+import { Type } from '@fastify/type-provider-typebox';\n+\n+const challengeLanguage = Type.Object({\n+  tests: Type.Array(\n+    Type.Object({\n+      text: Type.String(),\n+      testString: Type.String()\n+    })\n+  ),\n+  challengeFiles: Type.Array(\n+    Type.Object({\n+      contents: Type.String(),\n+      fileKey: Type.String()\n+    })\n+  )\n+});\n+\n+const singleChallenge = Type.Object({\n+  id: Type.String({ format: 'objectid', maxLength: 24, minLength: 24 }),\n+  date: Type.String({ format: 'date-time' }),\n+  challengeNumber: Type.Number(),\n+  title: Type.String(),\n+  description: Type.String(),\n+  javascript: challengeLanguage,\n+  python: challengeLanguage\n+});\n+\n+const date = {\n+  params: Type.Object({\n+    date: Type.String({ format: 'date' })\n+  }),\n+  response: {\n+    200: singleChallenge,\n+    400: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Invalid date format. Please use YYYY-MM-DD.')\n+    }),\n+    404: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Challenge not found.')\n+    }),\n+    500: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Internal server error.')\n+    })\n+  }\n+};\n+\n+const today = {\n+  response: {\n+    200: singleChallenge,\n+    404: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Challenge not found.')\n+    }),\n+    500: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Internal server error.')\n+    })\n+  }\n+};\n+\n+const all = {\n+  response: {\n+    200: Type.Array(\n+      Type.Object({\n+        id: Type.String(),\n+        date: Type.String({ format: 'date-time' }),\n+        challengeNumber: Type.Number(),\n+        title: Type.String()\n+      })\n+    ),\n+    404: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('No challenges found.')\n+    }),\n+    500: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Internal server error.')\n+    })\n+  }\n+};\n+\n+const newest = {\n+  response: {\n+    200: Type.Object({\n+      date: Type.String({ format: 'date-time' })\n+    }),\n+    404: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('No challenges found.')\n+    }),\n+    500: Type.Object({\n+      type: Type.Literal('error'),\n+      message: Type.Literal('Internal server error.')\n+    })\n+  }\n+};\n+\n+export const dailyCodingChallenge = {\n+  date,\n+  today,\n+  newest,\n+  all\n+};"
        },
        {
            "sha": "cd034dec6acb420ab883e30c29a50d5a0db4808b",
            "filename": "api/src/daily-coding-challenge/schemas/index.ts",
            "status": "added",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Findex.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Findex.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2Fschemas%2Findex.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1 @@\n+export { dailyCodingChallenge } from './daily-coding-challenge';"
        },
        {
            "sha": "a5dccc650408953d0f20a82f12f2802fd62ce707",
            "filename": "api/src/daily-coding-challenge/utils/helpers.ts",
            "status": "added",
            "additions": 39,
            "deletions": 0,
            "changes": 39,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Futils%2Fhelpers.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/api%2Fsrc%2Fdaily-coding-challenge%2Futils%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fdaily-coding-challenge%2Futils%2Fhelpers.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -0,0 +1,39 @@\n+import { toZonedTime } from 'date-fns-tz';\n+\n+/**\n+ * @returns Now US Central time.\n+ */\n+export function getNowUsCentral() {\n+  return toZonedTime(new Date(), 'America/Chicago');\n+}\n+\n+/**\n+ * Returns a Date object set to UTC midnight of the given date.\n+ * @param date - Date Object.\n+ * @returns UTC midnight of the given date.\n+ */\n+export function getUtcMidnight(date: Date): Date {\n+  return new Date(\n+    Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate())\n+  );\n+}\n+\n+/**\n+ * Parses a date string in the format \"YYYY-MM-DD\" and returns a Date object set to UTC midnight.\n+ * Returns null if the input is not in the correct format.\n+ * @param dateStr - Date string in \"YYYY-MM-DD\" format.\n+ * @returns Date object set to UTC midnight or null if invalid.\n+ */\n+export function dateStringToUtcMidnight(dateStr: string): Date | null {\n+  if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(dateStr)) {\n+    return null;\n+  }\n+\n+  const [year, month, day] = dateStr.split('-').map(Number) as [\n+    number,\n+    number,\n+    number\n+  ];\n+\n+  return new Date(Date.UTC(year, month - 1, day));\n+}"
        },
        {
            "sha": "13f055d84bea6b2dd0b687b4e3993c14dc0573d0",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/pnpm-lock.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-lock.yaml?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -201,6 +201,9 @@ importers:\n       date-fns:\n         specifier: 4.1.0\n         version: 4.1.0\n+      date-fns-tz:\n+        specifier: 3.2.0\n+        version: 3.2.0(date-fns@4.1.0)\n       dotenv:\n         specifier: 16.4.5\n         version: 16.4.5"
        },
        {
            "sha": "0c0c1c0367073683b4fcf064b51cfe43b6973055",
            "filename": "tools/daily-challenges/helpers.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 15,
            "changes": 18,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Fhelpers.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Fhelpers.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fdaily-challenges%2Fhelpers.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -37,7 +37,6 @@ query {\n           id\n           title\n           description\n-          instructions\n           fields {\n             tests {\n               testString\n@@ -79,15 +78,13 @@ export function combineChallenges({\n     id: jsId,\n     title: jsTitle,\n     description: jsDescription,\n-    instructions: jsInstructions,\n     fields: { tests: jsTests },\n     challengeFiles: jsChallengeFiles\n   } = jsChallenge;\n \n   const {\n     title: pyTitle,\n     description: pyDescription,\n-    instructions: pyInstructions,\n     fields: { tests: pyTests },\n     challengeFiles: pyChallengeFiles\n   } = pyChallenge;\n@@ -104,12 +101,6 @@ export function combineChallenges({\n     );\n   }\n \n-  if (jsInstructions !== pyInstructions) {\n-    throw new Error(\n-      `JavaScript and Python instructions do not match for challenge ${challengeNumber}`\n-    );\n-  }\n-\n   if (jsTests.length !== pyTests.length) {\n     throw new Error(\n       `JavaScript and Python do not have the same number of tests for challenge ${challengeNumber}: ${jsTests.length} JavaScript vs ${pyTests.length} Python tests`\n@@ -118,15 +109,12 @@ export function combineChallenges({\n \n   // Use the JS challenge info for the new challenge meta - e.g. id, title, description, etc\n   const challengeData = {\n-    // **DO NOT CHANEGE THE ID** it's used as the challenge ID - and what gets added to completedDailyCodingChallenges[]\n+    // **DO NOT CHANGE THE ID** it's used as the challenge ID - and what gets added to completedDailyCodingChallenges[]\n     _id: new ObjectId(`${jsId}`),\n     challengeNumber,\n     title: jsTitle.replace(`JavaScript Challenge ${challengeNumber}: `, ''),\n     date,\n     description: removeSection(jsDescription),\n-    ...(jsInstructions && {\n-      instructions: removeSection(jsInstructions)\n-    }),\n     javascript: {\n       tests: jsTests,\n       challengeFiles: jsChallengeFiles\n@@ -154,9 +142,9 @@ export function handleError(err: Error, client: MongoClient) {\n   }\n }\n \n-// Remove the <section id=\"description/instructions\"> that our parser adds.\n+// Remove the <section id=\"description\"> that our parser adds.\n export function removeSection(str: string) {\n   return str\n-    .replace(/^<section id=\"(description|instructions)\">\\n?/, '')\n+    .replace(/^<section id=\"description\">\\n?/, '')\n     .replace(/\\n?<\\/section>$/, '');\n }"
        },
        {
            "sha": "a865225900d84211220a78b7bd6982d572effc95",
            "filename": "tools/daily-challenges/seed-daily-challenges.ts",
            "status": "modified",
            "additions": 11,
            "deletions": 6,
            "changes": 17,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Fseed-daily-challenges.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Fseed-daily-challenges.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fdaily-challenges%2Fseed-daily-challenges.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -16,16 +16,16 @@ const { MONGOHQ_URL } = process.env;\n const EXPECTED_CHALLENGE_COUNT = 24;\n \n // Date to set for the first challenge, second challenge will be one day later, etc...\n-// **DO NOT CHANGE THIS AFTER RELEASE**\n+// **DO NOT CHANGE THIS AFTER RELEASE (if seeding production - okay for local dev)**\n const year = 2025;\n-const monthIndex = 5; // 0-indexed -> 5 = June\n-const day = 10;\n+const monthIndex = 6; // 0-indexed -> 5 = June\n+const day = 15;\n const START_DATE = new Date(Date.UTC(year, monthIndex, day));\n const ONE_DAY_IN_MS = 24 * 60 * 60 * 1000;\n \n // Sanity check to make sure the start date hasn't unintentionally changed\n // **IT SHOULD NOT CHANGE AFTER RELEASE**\n-const startDateString = '2025-06-10T00:00:00.000Z';\n+const startDateString = '2025-07-15T00:00:00.000Z';\n if (START_DATE.toISOString() !== startDateString) {\n   throw new Error(\n     `It appears the start date has changed from \"${startDateString}\".\n@@ -99,8 +99,13 @@ const seed = async () => {\n   const count = await dailyCodingChallenges.countDocuments();\n \n   if (count !== EXPECTED_CHALLENGE_COUNT) {\n-    throw new Error(\n-      `Expected ${EXPECTED_CHALLENGE_COUNT} challenges in the database, but found ${count} documents`\n+    console.warn(\n+      '\\n********** WARNING *********\\n' +\n+        '*\\n' +\n+        `* Expected ${EXPECTED_CHALLENGE_COUNT} challenges in the database,\\n` +\n+        `* but found ${count} documents\\n` +\n+        '*\\n' +\n+        '********** WARNING *********\\n'\n     );\n   }\n };"
        },
        {
            "sha": "c69abdb4749df72c23bdff2cbd2a79a00073f366",
            "filename": "tools/daily-challenges/types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Ftypes.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29cd2d227d182b2df51d01d60ddefcc2fbd2e55e/tools%2Fdaily-challenges%2Ftypes.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fdaily-challenges%2Ftypes.ts?ref=29cd2d227d182b2df51d01d60ddefcc2fbd2e55e",
            "patch": "@@ -15,7 +15,6 @@ export type Challenge = {\n   title: string;\n   date: Date;\n   description: string;\n-  instructions?: string;\n   fields: {\n     tests: {\n       testString: string;"
        }
    ],
    "stats": {
        "total": 700,
        "additions": 678,
        "deletions": 22
    }
}