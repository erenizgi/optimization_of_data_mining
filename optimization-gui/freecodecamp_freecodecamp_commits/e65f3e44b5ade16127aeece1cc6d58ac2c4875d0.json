{
    "author": "gikf",
    "message": "feat(tools): verify no overlapping dialogue times (#58564)",
    "sha": "e65f3e44b5ade16127aeece1cc6d58ac2c4875d0",
    "files": [
        {
            "sha": "d7ba665223c30d8c6c45247df5367a7f101525b4",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/e65f3e44b5ade16127aeece1cc6d58ac2c4875d0/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/e65f3e44b5ade16127aeece1cc6d58ac2c4875d0/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=e65f3e44b5ade16127aeece1cc6d58ac2c4875d0",
            "patch": "@@ -274,7 +274,24 @@ const schema = Joi.object()\n     }),\n     scene: Joi.object().keys({\n       setup: setupJoi.required(),\n-      commands: Joi.array().items(commandJoi)\n+      commands: Joi.array()\n+        .items(commandJoi)\n+        .unique(\n+          (a, b) =>\n+            a.dialogue &&\n+            b.dialogue &&\n+            !(\n+              (a.startTime < b.startTime &&\n+                a.finishTime < b.finishTime &&\n+                a.finishTime <= b.startTime) ||\n+              (b.startTime < a.startTime &&\n+                b.finishTime < a.finishTime &&\n+                b.finishTime <= a.startTime)\n+            )\n+        )\n+        .messages({\n+          'array.unique': 'Dialogues must not have overlapping times.'\n+        })\n     }),\n     solutions: Joi.array().items(Joi.array().items(fileJoi).min(1)),\n     superBlock: Joi.string().regex(slugWithSlashRE),"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 18,
        "deletions": 1
    }
}