{
    "author": "huyenltnguyen",
    "message": "refactor(client, curriculum): consolidate is-FSD checks (#59598)",
    "sha": "1f1e6ff6266b71abd155243c1f7716eeffa43690",
    "files": [
        {
            "sha": "c9ed377528a3aa966de1bd3f9e92f1c2780f9b77",
            "filename": "client/src/redux/donation-saga.js",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Fredux%2Fdonation-saga.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fdonation-saga.js?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -18,6 +18,7 @@ import {\n import { stringifyDonationEvents } from '../utils/analytics-strings';\n import { stripe } from '../utils/stripe';\n import { PaymentProvider } from '../../../shared/config/donation-settings';\n+import { chapterBasedSuperBlocks } from '../../../shared/config/curriculum';\n import {\n   getSessionChallengeData,\n   saveCurrentCount\n@@ -52,7 +53,7 @@ function* showDonateModalSaga() {\n   if (\n     shouldRequestDonation &&\n     recentlyClaimedBlock &&\n-    recentlyClaimedBlock.superBlock === 'full-stack-developer'\n+    chapterBasedSuperBlocks.includes(recentlyClaimedBlock.superBlock)\n   ) {\n     yield put(preventBlockDonationRequests());\n   } else if (shouldRequestDonation || isModalRecentlyShown) {"
        },
        {
            "sha": "ffecba3adbee31b5ed268d8532d8504edad1cc73",
            "filename": "client/src/templates/Introduction/components/block.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fblock.tsx?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -8,7 +8,10 @@ import { createSelector } from 'reselect';\n import { Spacer } from '@freecodecamp/ui';\n \n import { challengeTypes } from '../../../../../shared/config/challenge-types';\n-import { SuperBlocks } from '../../../../../shared/config/curriculum';\n+import {\n+  chapterBasedSuperBlocks,\n+  SuperBlocks\n+} from '../../../../../shared/config/curriculum';\n import envData from '../../../../config/env.json';\n import { isAuditedSuperBlock } from '../../../../../shared/utils/is-audited';\n import Caret from '../../../assets/icons/caret';\n@@ -407,7 +410,7 @@ class Block extends Component<BlockProps> {\n       !isEmptyBlock && (\n         <>\n           {layoutToComponent[blockLayout]}\n-          {superBlock !== SuperBlocks.FullStackDeveloper && (\n+          {!chapterBasedSuperBlocks.includes(superBlock) && (\n             <Spacer size='xs' />\n           )}\n         </>"
        },
        {
            "sha": "a12524a35461308281fffc3d871971076f382f90",
            "filename": "client/src/templates/Introduction/super-block-intro.tsx",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -11,7 +11,10 @@ import { bindActionCreators, Dispatch } from 'redux';\n import { createSelector } from 'reselect';\n import { Container, Col, Row, Spacer } from '@freecodecamp/ui';\n \n-import { SuperBlocks } from '../../../../shared/config/curriculum';\n+import {\n+  chapterBasedSuperBlocks,\n+  SuperBlocks\n+} from '../../../../shared/config/curriculum';\n import DonateModal from '../../components/Donation/donation-modal';\n import Login from '../../components/Header/components/login';\n import Map from '../../components/Map';\n@@ -172,8 +175,6 @@ const SuperBlockIntroductionPage = (props: SuperBlockProps) => {\n     cert => superBlockToCertMap[superBlock] === cert.certSlug\n   );\n \n-  const superBlockWithAccordionView = [SuperBlocks.FullStackDeveloper];\n-\n   const getInitiallyExpandedBlock = (): string => {\n     // if coming from breadcrumb click\n     if (\n@@ -258,7 +259,7 @@ const SuperBlockIntroductionPage = (props: SuperBlockProps) => {\n                 {t(`intro:misc-text.courses`)}\n               </h2>\n               <Spacer size='m' />\n-              {superBlockWithAccordionView.includes(superBlock) ? (\n+              {chapterBasedSuperBlocks.includes(superBlock) ? (\n                 <SuperBlockAccordion\n                   challenges={superBlockChallenges}\n                   superBlock={superBlock}"
        },
        {
            "sha": "b429224c954dab55b21ddaafddd3bfbfa30b62c5",
            "filename": "curriculum/get-challenges.js",
            "status": "modified",
            "additions": 3,
            "deletions": 6,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fget-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fget-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fget-challenges.js?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -15,6 +15,7 @@ const {\n \n const { isAuditedSuperBlock } = require('../shared/utils/is-audited');\n const { createPoly } = require('../shared/utils/polyvinyl');\n+const { chapterBasedSuperBlocks } = require('../shared/config/curriculum');\n const {\n   getSuperOrder,\n   getSuperBlockFromDir,\n@@ -287,16 +288,12 @@ async function buildChallenges({ path: filePath }, curriculum, lang) {\n   challengeBlock.challenges = [...challengeBlock.challenges, challenge];\n }\n \n-function isSuperBlockWithChapters(superBlock) {\n-  return superBlock === 'full-stack-developer';\n-}\n-\n // This is a slightly weird abstraction, but it lets us define helper functions\n // without passing around a ton of arguments.\n function generateChallengeCreator(lang, englishPath, i18nPath) {\n   function addMetaToChallenge(challenge, meta) {\n     function addChapterAndModuleToChallenge(challenge) {\n-      if (isSuperBlockWithChapters(challenge.superBlock)) {\n+      if (chapterBasedSuperBlocks.includes(challenge.superBlock)) {\n         challenge.chapter = getChapterFromBlock(\n           challenge.block,\n           fullStackSuperBlockStructure\n@@ -329,7 +326,7 @@ function generateChallengeCreator(lang, englishPath, i18nPath) {\n     challenge.blockType = meta.blockType;\n     challenge.blockLayout = meta.blockLayout;\n     challenge.hasEditableBoundaries = !!meta.hasEditableBoundaries;\n-    challenge.order = isSuperBlockWithChapters(meta.superBlock)\n+    challenge.order = chapterBasedSuperBlocks.includes(meta.superBlock)\n       ? getBlockOrder(meta.dashedName, fullStackSuperBlockStructure)\n       : meta.order;\n "
        },
        {
            "sha": "37e7799ba24c1f34992624619c3e93059959640a",
            "filename": "curriculum/schema/challenge-schema.js",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fschema%2Fchallenge-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fschema%2Fchallenge-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fchallenge-schema.js?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -2,7 +2,10 @@ const Joi = require('joi');\n Joi.objectId = require('joi-objectid')(Joi);\n \n const { challengeTypes } = require('../../shared/config/challenge-types');\n-const { SuperBlocks } = require('../../shared/config/curriculum');\n+const {\n+  SuperBlocks,\n+  chapterBasedSuperBlocks\n+} = require('../../shared/config/curriculum');\n const {\n   availableCharacters,\n   availableBackgrounds,\n@@ -128,7 +131,7 @@ const schema = Joi.object()\n     block: Joi.string().regex(slugRE).required(),\n     blockId: Joi.objectId(),\n     blockType: Joi.when('superBlock', {\n-      is: [SuperBlocks.FullStackDeveloper],\n+      is: chapterBasedSuperBlocks,\n       then: Joi.valid(\n         'workshop',\n         'lab',\n@@ -151,7 +154,7 @@ const schema = Joi.object()\n     ).required(),\n     challengeOrder: Joi.number(),\n     chapter: Joi.string().when('superBlock', {\n-      is: 'full-stack-developer',\n+      is: chapterBasedSuperBlocks,\n       then: Joi.required(),\n       otherwise: Joi.optional()\n     }),\n@@ -211,7 +214,7 @@ const schema = Joi.object()\n     isLocked: Joi.bool(),\n     isPrivate: Joi.bool(),\n     module: Joi.string().when('superBlock', {\n-      is: 'full-stack-developer',\n+      is: chapterBasedSuperBlocks,\n       then: Joi.required(),\n       otherwise: Joi.optional()\n     }),"
        },
        {
            "sha": "5b960a47c40179f0b8ca79ec30b9bd54ed4b84de",
            "filename": "curriculum/schema/meta-schema.js",
            "status": "modified",
            "additions": 5,
            "deletions": 2,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fschema%2Fmeta-schema.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Fschema%2Fmeta-schema.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fschema%2Fmeta-schema.js?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -1,6 +1,9 @@\n const Joi = require('joi');\n \n-const { SuperBlocks } = require('../../shared/config/curriculum');\n+const {\n+  SuperBlocks,\n+  chapterBasedSuperBlocks\n+} = require('../../shared/config/curriculum');\n \n const slugRE = new RegExp('^[a-z0-9-]+$');\n const slugWithSlashRE = new RegExp('^[a-z0-9-/]+$');\n@@ -33,7 +36,7 @@ const schema = Joi.object()\n       .valid(...Object.values(SuperBlocks))\n       .required(),\n     order: Joi.number().when('superBlock', {\n-      is: 'full-stack-developer',\n+      is: chapterBasedSuperBlocks,\n       then: Joi.forbidden(),\n       otherwise: Joi.required()\n     }),"
        },
        {
            "sha": "3b97c778f9b6b4872e81b5cfdbe309f07e9864fa",
            "filename": "curriculum/test/test-challenges.js",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Ftest%2Ftest-challenges.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/curriculum%2Ftest%2Ftest-challenges.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Ftest%2Ftest-challenges.js?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -51,7 +51,10 @@ const {\n   createContent,\n   testId\n } = require('../../client/src/templates/Challenges/utils/frame');\n-const { SuperBlocks } = require('../../shared/config/curriculum');\n+const {\n+  SuperBlocks,\n+  chapterBasedSuperBlocks\n+} = require('../../shared/config/curriculum');\n const ChallengeTitles = require('./utils/challenge-titles');\n const MongoIds = require('./utils/mongo-ids');\n const createPseudoWorker = require('./utils/pseudo-worker');\n@@ -313,11 +316,11 @@ function populateTestsForLang({ lang, challenges, meta, superBlocks }) {\n           );\n         });\n         filteredMeta.forEach((meta, index) => {\n-          // Upcoming changes are in developmen so are not required to be in\n-          // order. FullStackDeveloper does not use the meta for order.\n+          // Upcoming changes are in development so are not required to be in\n+          // order. Chapter-based super blocks do not use the meta for order.\n           if (\n             !meta.isUpcomingChange &&\n-            meta.superBlock !== SuperBlocks.FullStackDeveloper\n+            !chapterBasedSuperBlocks.includes(meta.superBlock)\n           ) {\n             it(`${meta.superBlock} ${meta.name} must be in order`, function () {\n               assert.equal(meta.order, index);"
        },
        {
            "sha": "0d4b5e3b77044833ed7f0348ef0e96385ef86c74",
            "filename": "shared/config/curriculum.ts",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1f1e6ff6266b71abd155243c1f7716eeffa43690/shared%2Fconfig%2Fcurriculum.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1f1e6ff6266b71abd155243c1f7716eeffa43690/shared%2Fconfig%2Fcurriculum.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fconfig%2Fcurriculum.ts?ref=1f1e6ff6266b71abd155243c1f7716eeffa43690",
            "patch": "@@ -240,6 +240,9 @@ export const notAuditedSuperBlocks: NotAuditedSuperBlocks = {\n \n Object.freeze(notAuditedSuperBlocks);\n \n+export const chapterBasedSuperBlocks = [SuperBlocks.FullStackDeveloper];\n+Object.freeze(chapterBasedSuperBlocks);\n+\n type Config = {\n   showUpcomingChanges: boolean;\n };"
        }
    ],
    "stats": {
        "total": 60,
        "additions": 37,
        "deletions": 23
    }
}