{
    "author": "raisedadead",
    "message": "fix(tools): Update node to v22, improve caching? (#60651)",
    "sha": "1557711a689cdf806667fa4b98f55a9393656c46",
    "files": [
        {
            "sha": "2d0fdd72aaefffd5f7d87faac0332a3f9a7f97a3",
            "filename": ".github/workflows/curriculum-i18n-submodule.yml",
            "status": "modified",
            "additions": 26,
            "deletions": 8,
            "changes": 34,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fcurriculum-i18n-submodule.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -17,7 +17,7 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n         # Exclude the languages that we currently run in the full CI suite.\n         locale:\n           - 'chinese'\n@@ -28,19 +28,37 @@ jobs:\n           - 'swahili'\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set Environment variables\n         run: |"
        },
        {
            "sha": "5b73484a13ca0aaaba2f985d5d1b2228fbec4701",
            "filename": ".github/workflows/deploy-legacy.yml",
            "status": "modified",
            "additions": 26,
            "deletions": 8,
            "changes": 34,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fdeploy-legacy.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fdeploy-legacy.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -40,7 +40,7 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n         lang-name-full:\n           - english\n           - chinese\n@@ -83,19 +83,37 @@ jobs:\n       TS_MACHINE_NAME_PREFIX: ${{ secrets.TS_MACHINE_NAME_PREFIX }}\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Language specific ENV - [${{ matrix.lang-name-full }}]\n         run: |"
        },
        {
            "sha": "d09aabd0a3d38fa82a4e7f5461b25cbdab51e2b2",
            "filename": ".github/workflows/e2e-playwright.yml",
            "status": "modified",
            "additions": 60,
            "deletions": 22,
            "changes": 82,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fe2e-playwright.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fe2e-playwright.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fe2e-playwright.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -21,28 +21,46 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Checkout client-config\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Use Node.js ${{ matrix.node-version }}\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n-          repository: freeCodeCamp/client-config\n-          path: client-config\n+          node-version: ${{ matrix.node-version }}\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n \n-      - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n         with:\n-          node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n+\n+      - name: Checkout client-config\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n+        with:\n+          repository: freeCodeCamp/client-config\n+          path: client-config\n \n       - name: Set freeCodeCamp Environment Variables\n         run: |\n@@ -78,7 +96,7 @@ jobs:\n \n     steps:\n       - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n@@ -97,7 +115,7 @@ jobs:\n           name: api-artifact\n           path: api-artifact.tar\n \n-  playwright-run-api:\n+  playwright-run:\n     name: Run Playwright Tests\n     runs-on: ubuntu-22.04\n     needs: [build-client, build-api]\n@@ -106,17 +124,18 @@ jobs:\n       matrix:\n         # Extend this to include firefox and webkit once chromium is working.\n         browsers: [chromium]\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n       - name: Set Action Environment Variables\n         run: |\n           echo \"GITHUB_TOKEN=${{ secrets.GITHUB_TOKEN }}\" >> $GITHUB_ENV\n \n       - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n \n-      - uses: actions/download-artifact@c850b930e6ba138125429b7e5c93fc707a7f8427 # v4.1.4\n+      - name: Download All Artifacts\n+        uses: actions/download-artifact@c850b930e6ba138125429b7e5c93fc707a7f8427 # v4.1.4\n \n       - name: Unpack Client Artifact\n         run: |\n@@ -128,14 +147,33 @@ jobs:\n           docker load < api-artifact/api-artifact.tar\n           rm api-artifact/api-artifact.tar\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n \n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n+\n       - name: Install Dependencies\n         run: pnpm install\n "
        },
        {
            "sha": "a80413c298b536f6aad60e014cb735cc69b6acdc",
            "filename": ".github/workflows/e2e-third-party.yml",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fe2e-third-party.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fe2e-third-party.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fe2e-third-party.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -16,7 +16,7 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n     steps:\n       - name: Checkout Source Files\n         uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n@@ -94,7 +94,7 @@ jobs:\n       fail-fast: false\n       matrix:\n         browsers: [chromium]\n-        node-version: [20]\n+        node-version: [22]\n     services:\n       mongodb:\n         image: mongo:8.0"
        },
        {
            "sha": "8451839523c7e5054fd33a332ffbea66901e8785",
            "filename": ".github/workflows/i18n-validate-builds.yml",
            "status": "modified",
            "additions": 26,
            "deletions": 8,
            "changes": 34,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fi18n-validate-builds.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fi18n-validate-builds.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fi18n-validate-builds.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -14,22 +14,40 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set freeCodeCamp Environment Variables\n         run: |"
        },
        {
            "sha": "bdeb9057257ca57d0597c8ecd4ace5d46ecc972d",
            "filename": ".github/workflows/i18n-validate-prs.yml",
            "status": "modified",
            "additions": 26,
            "deletions": 8,
            "changes": 34,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fi18n-validate-prs.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fi18n-validate-prs.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fi18n-validate-prs.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -16,22 +16,40 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set freeCodeCamp Environment Variables\n         run: |"
        },
        {
            "sha": "5950ea12c8cf37203253d1c097249d740af3a821",
            "filename": ".github/workflows/node.js-tests.yml",
            "status": "modified",
            "additions": 130,
            "deletions": 40,
            "changes": 170,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fnode.js-tests.yml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.github%2Fworkflows%2Fnode.js-tests.yml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.github%2Fworkflows%2Fnode.js-tests.yml?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -23,12 +23,12 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n       fail-fast: false\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n@@ -40,14 +40,32 @@ jobs:\n             exit 1\n           fi\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set Environment variables\n         run: |\n@@ -78,22 +96,40 @@ jobs:\n     runs-on: ubuntu-22.04\n     strategy:\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set freeCodeCamp Environment Variables\n         run: |\n@@ -112,22 +148,40 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set Environment variables\n         run: |\n@@ -160,22 +214,40 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set Environment variables\n         run: |\n@@ -209,23 +281,41 @@ jobs:\n     strategy:\n       fail-fast: false\n       matrix:\n-        node-version: [20]\n+        node-version: [22]\n         locale: [portuguese, italian]\n \n     steps:\n-      - name: Checkout Source Files\n-        uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4.1.1\n+      - name: Checkout\n+        uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4\n         with:\n           submodules: 'recursive'\n \n-      - name: Setup pnpm\n-        uses: pnpm/action-setup@a3252b78c470c02df07e9d59298aecedc3ccdd6d #v3.0.0\n-\n       - name: Use Node.js ${{ matrix.node-version }}\n-        uses: actions/setup-node@60edb5dd545a775178f52524783378180af0d1f8 # v4.0.2\n+        uses: actions/setup-node@49933ea5288caeca8642d1e84afbd3f7d6820020 # v4\n         with:\n           node-version: ${{ matrix.node-version }}\n-          cache: pnpm\n+\n+      - name: Install pnpm\n+        uses: pnpm/action-setup@a7487c7e89a18df4991f7f222e4898a00d66ddda # v4\n+        id: pnpm-install\n+        with:\n+          run_install: false\n+\n+      - name: Get pnpm store directory\n+        id: pnpm-cache\n+        shell: bash\n+        run: |\n+          echo \"STORE_PATH=$(pnpm store path)\" >> $GITHUB_OUTPUT\n+\n+      - name: Cache\n+        uses: actions/cache@5a3ec84eff668545956fd18022155c47e93e2684 # v4\n+        with:\n+          path: |\n+            ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n+          key: ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n+          # If source files changed but packages didn't, rebuild from a prior cache.\n+          restore-keys: |\n+            ${{ runner.os }}-freecodecamp-${{ hashFiles('**/pnpm-lock.yaml') }}-\n \n       - name: Set Environment variables\n         run: |"
        },
        {
            "sha": "2bd5a0a98a36cc08ada88b804d3be047e6aa5b8a",
            "filename": ".nvmrc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/.nvmrc",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/.nvmrc",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/.nvmrc?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -1 +1 @@\n-20\n+22"
        },
        {
            "sha": "8f7abaa86cf05ca10d12e6337c6a4f0b1fed6eaf",
            "filename": "docker/api/Dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fapi%2FDockerfile",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fapi%2FDockerfile",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/docker%2Fapi%2FDockerfile?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -1,4 +1,4 @@\n-FROM node:20-bookworm AS builder\n+FROM node:22-bookworm AS builder\n RUN apt-get update && apt-get install -y jq\n # global installs need root permissions, so have to happen before we switch to\n # the node user\n@@ -33,7 +33,7 @@ ENV SHOW_UPCOMING_CHANGES=$SHOW_UPCOMING_CHANGES\n RUN pnpm build:curriculum\n RUN pnpm -F=api build\n \n-FROM node:20-bookworm AS deps\n+FROM node:22-bookworm AS deps\n RUN apt-get update && apt-get install -y jq\n \n WORKDIR /home/node/build\n@@ -50,7 +50,7 @@ RUN pnpm config set dedupe-peer-dependents false\n RUN pnpm install --prod --ignore-scripts -F=shared -F=api --frozen-lockfile\n RUN cd api && npx prisma@$(jq -r '.devDependencies.prisma' < package.json) generate\n \n-FROM node:20-bookworm\n+FROM node:22-bookworm\n USER node\n WORKDIR /home/node/fcc\n COPY --from=builder --chown=node:node /home/node/build/api/dist/ ./"
        },
        {
            "sha": "6acfd7514a9019f454cce653ddf457c8fed7fe52",
            "filename": "docker/screenshot-service/Dockerfile",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fscreenshot-service%2FDockerfile",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fscreenshot-service%2FDockerfile",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/docker%2Fscreenshot-service%2FDockerfile?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -2,7 +2,7 @@\n ARG PROJECT_DIR=tools/screenshot-service\n \n # Build the app\n-FROM node:20-alpine AS builder\n+FROM node:22-alpine AS builder\n ARG PROJECT_DIR\n \n RUN npm i -g pnpm@10\n@@ -17,7 +17,7 @@ RUN pnpm install --frozen-lockfile --ignore-scripts -F=./${PROJECT_DIR}\n RUN pnpm -F=./${PROJECT_DIR} build\n \n # Install production dependencies\n-FROM node:20-alpine AS deps\n+FROM node:22-alpine AS deps\n ARG PROJECT_DIR\n \n RUN npm i -g pnpm@10\n@@ -30,7 +30,7 @@ COPY --chown=node:node ${PROJECT_DIR} ${PROJECT_DIR}\n RUN pnpm install --prod --ignore-scripts --frozen-lockfile -F=./${PROJECT_DIR}\n \n # App runner instance\n-FROM node:20-alpine AS runner\n+FROM node:22-alpine AS runner\n ARG PROJECT_DIR\n \n USER node"
        },
        {
            "sha": "e2dfa794df727012f65e4d6ff5de3f3ec965ee64",
            "filename": "docker/web/Dockerfile",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fweb%2FDockerfile",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/docker%2Fweb%2FDockerfile",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/docker%2Fweb%2FDockerfile?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -1,4 +1,4 @@\n-FROM node:20-bookworm AS builder\n+FROM node:22-bookworm AS builder\n # global installs need root permissions, so have to happen before we switch to\n # the node user\n RUN npm i -g pnpm@10\n@@ -34,7 +34,7 @@ ARG FREECODECAMP_NODE_ENV\n RUN pnpm install --frozen-lockfile\n RUN pnpm build:client\n \n-FROM node:20-alpine\n+FROM node:22-alpine\n RUN npm i -g serve@13 pm2@4\n USER node\n WORKDIR /home/node/client"
        },
        {
            "sha": "876dc38e96b439988fc4e284c4216327a3742555",
            "filename": "package.json",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/package.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/package.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/package.json?ref=1557711a689cdf806667fa4b98f55a9393656c46",
            "patch": "@@ -5,7 +5,7 @@\n   \"license\": \"BSD-3-Clause\",\n   \"private\": true,\n   \"engines\": {\n-    \"node\": \">=20\",\n+    \"node\": \">=22\",\n     \"pnpm\": \">=10\"\n   },\n   \"repository\": {"
        },
        {
            "sha": "c3d1334dd953dcae3c5fc1af9bacd286da6e523d",
            "filename": "pnpm-lock.yaml",
            "status": "modified",
            "additions": 1661,
            "deletions": 711,
            "changes": 2372,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/1557711a689cdf806667fa4b98f55a9393656c46/pnpm-lock.yaml",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/1557711a689cdf806667fa4b98f55a9393656c46/pnpm-lock.yaml",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/pnpm-lock.yaml?ref=1557711a689cdf806667fa4b98f55a9393656c46"
        }
    ],
    "stats": {
        "total": 2784,
        "additions": 1967,
        "deletions": 817
    }
}