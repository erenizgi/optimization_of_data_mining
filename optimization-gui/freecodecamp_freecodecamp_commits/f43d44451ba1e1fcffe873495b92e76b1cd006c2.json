{
    "author": "ojeytonwilliams",
    "message": "test: enable quiz and super-block-page spec (#57552)\n\nCo-authored-by: Naomi Carrigan <commits@nhcarrigan.com>\r\nCo-authored-by: Huyen Nguyen <25715018+huyenltnguyen@users.noreply.github.com>",
    "sha": "f43d44451ba1e1fcffe873495b92e76b1cd006c2",
    "files": [
        {
            "sha": "e4eca7ba17344f2b701b61b2f222600101066008",
            "filename": "client/src/templates/Introduction/components/super-block-accordion.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f43d44451ba1e1fcffe873495b92e76b1cd006c2/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f43d44451ba1e1fcffe873495b92e76b1cd006c2/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fsuper-block-accordion.tsx?ref=f43d44451ba1e1fcffe873495b92e76b1cd006c2",
            "patch": "@@ -106,7 +106,10 @@ const Chapter = ({\n \n   return (\n     <Disclosure as='li' className='chapter' defaultOpen={isExpanded}>\n-      <Disclosure.Button className='chapter-button'>\n+      <Disclosure.Button\n+        className='chapter-button'\n+        data-playwright-test-label='chapter-button'\n+      >\n         <div className='chapter-button-left'>\n           <ChapterIcon\n             className='map-icon'"
        },
        {
            "sha": "5263910fecad906dc845c399300ac3f863c450c7",
            "filename": "e2e/quiz-challenge.spec.ts",
            "status": "modified",
            "additions": 4,
            "deletions": 15,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f43d44451ba1e1fcffe873495b92e76b1cd006c2/e2e%2Fquiz-challenge.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f43d44451ba1e1fcffe873495b92e76b1cd006c2/e2e%2Fquiz-challenge.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fquiz-challenge.spec.ts?ref=f43d44451ba1e1fcffe873495b92e76b1cd006c2",
            "patch": "@@ -1,11 +1,6 @@\n import { test, expect } from '@playwright/test';\n \n test.describe('Quiz challenge', () => {\n-  test.skip(\n-    () => process.env.SHOW_UPCOMING_CHANGES !== 'true',\n-    'The FSD superblock is not available if SHOW_UPCOMING_CHANGES is false'\n-  );\n-\n   test.beforeEach(async ({ page }) => {\n     await page.goto(\n       '/learn/full-stack-developer/quiz-basic-html/quiz-basic-html'\n@@ -71,7 +66,7 @@ test.describe('Quiz challenge', () => {\n \n     // The navigation should be blocked, the user should stay on the same page\n     await expect(page).toHaveURL(\n-      '/learn/front-end-development/quiz-basic-html/quiz-basic-html'\n+      '/learn/full-stack-developer/quiz-basic-html/quiz-basic-html'\n     );\n \n     await expect(page.getByRole('dialog')).toBeVisible();\n@@ -88,7 +83,7 @@ test.describe('Quiz challenge', () => {\n       .getByRole('button', { name: 'Yes, I want to leave the quiz' })\n       .click();\n \n-    await page.waitForURL('/learn/front-end-development/#quiz-basic-html');\n+    await page.waitForURL('/learn/full-stack-developer/#quiz-basic-html');\n     await expect(\n       page.getByRole('heading', { level: 3, name: 'Basic HTML Quiz' })\n     ).toBeVisible();\n@@ -107,21 +102,15 @@ test.describe('Quiz challenge', () => {\n       .getByRole('button', { name: 'Yes, I want to leave the quiz' })\n       .click();\n \n-    await page.waitForURL('/learn/front-end-development/#quiz-basic-html');\n+    await page.waitForURL('/learn/full-stack-developer/#quiz-basic-html');\n     await expect(\n       page.getByRole('heading', { level: 3, name: 'Basic HTML Quiz' })\n     ).toBeVisible();\n   });\n \n   test('should show a confirm exit modal when user closes the page', async ({\n-    page,\n-    browserName\n+    page\n   }) => {\n-    test.skip(\n-      browserName === 'webkit' || browserName === 'chromium',\n-      'This test is flaky on Chromium and WebKit'\n-    );\n-\n     // Wait for the page content to render\n     await expect(page.getByRole('radiogroup')).toHaveCount(20);\n "
        },
        {
            "sha": "09d6cc564bbab5b54091e20c02d9c3d63062e5b4",
            "filename": "e2e/super-block-page.spec.ts",
            "status": "modified",
            "additions": 13,
            "deletions": 49,
            "changes": 62,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/f43d44451ba1e1fcffe873495b92e76b1cd006c2/e2e%2Fsuper-block-page.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/f43d44451ba1e1fcffe873495b92e76b1cd006c2/e2e%2Fsuper-block-page.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fsuper-block-page.spec.ts?ref=f43d44451ba1e1fcffe873495b92e76b1cd006c2",
            "patch": "@@ -103,11 +103,6 @@ test.describe('Super Block Page - Authenticated User', () => {\n   });\n \n   test.describe('Super Block in Accordion View', () => {\n-    test.skip(\n-      () => process.env.SHOW_UPCOMING_CHANGES !== 'true',\n-      'The FSD superblock is not available if SHOW_UPCOMING_CHANGES is false'\n-    );\n-\n     test('should expand the correct block when user goes to the page from breadcrumb click', async ({\n       page\n     }) => {\n@@ -123,23 +118,18 @@ test.describe('Super Block Page - Authenticated User', () => {\n \n       // Chapter\n       await expect(\n-        page.getByRole('button', {\n-          name: 'CSS',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /CSS/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // Module\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Basic CSS'\n-        })\n+        page.getByRole('button', { name: /Basic CSS/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // Block\n       await expect(\n         page.getByRole('button', {\n-          name: 'Workshop Design a Cafe Menu'\n+          name: /Workshop Design a Cafe Menu/\n         })\n       ).toHaveAttribute('aria-expanded', 'true');\n     });\n@@ -158,24 +148,18 @@ test.describe('Super Block Page - Authenticated User', () => {\n \n       // HTML chapter\n       await expect(\n-        page.getByRole('button', {\n-          name: 'HTML',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /HTML/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // Basic HTML module\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Basic HTML',\n-          exact: true\n-        })\n+        page.getByRole('button', { name: /Basic HTML/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // What is HTML block\n       await expect(\n         page.getByRole('button', {\n-          name: 'Lecture What is HTML?'\n+          name: /Lecture What is HTML/\n         })\n       ).toHaveAttribute('aria-expanded', 'true');\n     });\n@@ -189,23 +173,20 @@ test.describe('Super Block Page - Authenticated User', () => {\n \n       // First chapter\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Welcome',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /Welcome/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // First module\n       await expect(\n         page.getByRole('button', {\n-          name: 'Getting Started with freeCodeCamp'\n+          name: /Getting Started with freeCodeCamp/\n         })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // First block\n       await expect(\n         page.getByRole('button', {\n-          name: 'Lecture Welcome to freeCodeCamp'\n+          name: /Lecture Welcome to freeCodeCamp/\n         })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n@@ -221,26 +202,17 @@ test.describe('Super Block Page - Authenticated User', () => {\n \n       // The entire first chapter is collapsed\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Welcome',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /Welcome/ })\n       ).toHaveAttribute('aria-expanded', 'false');\n \n       // HTML chapter\n       await expect(\n-        page.getByRole('button', {\n-          name: 'HTML',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /HTML/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // Semantic HTML module\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Semantic HTML',\n-          exact: true\n-        })\n+        page.getByRole('button', { name: /^Semantic HTML/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // Cat Blog Page block\n@@ -279,22 +251,14 @@ test.describe('Super Block Page - Unauthenticated User', () => {\n   });\n \n   test.describe('Super Block in Accordion View', () => {\n-    test.skip(\n-      () => process.env.SHOW_UPCOMING_CHANGES !== 'true',\n-      'The FSD superblock is not available if SHOW_UPCOMING_CHANGES is false'\n-    );\n-\n     test('should expand the first block of the super block', async ({\n       page\n     }) => {\n       await page.goto('/learn/full-stack-developer');\n \n       // First chapter\n       await expect(\n-        page.getByRole('button', {\n-          name: 'Welcome',\n-          exact: true\n-        })\n+        page.getByTestId('chapter-button').filter({ hasText: /Welcome/ })\n       ).toHaveAttribute('aria-expanded', 'true');\n \n       // First module"
        }
    ],
    "stats": {
        "total": 86,
        "additions": 21,
        "deletions": 65
    }
}