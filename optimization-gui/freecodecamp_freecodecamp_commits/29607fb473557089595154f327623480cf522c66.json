{
    "author": "huyenltnguyen",
    "message": "feat(client): prefetch next challenge (#55472)\n\nCo-authored-by: ahmad abdolsaheb <ahmad.abdolsaheb@gmail.com>\r\nCo-authored-by: Oliver Eyton-Williams <ojeytonwilliams@gmail.com>",
    "sha": "29607fb473557089595154f327623480cf522c66",
    "files": [
        {
            "sha": "56e728ebeea59fda12aae3fdc2412d2af2b0f6af",
            "filename": "client/src/templates/Challenges/classic/show.tsx",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29607fb473557089595154f327623480cf522c66/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29607fb473557089595154f327623480cf522c66/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx?ref=29607fb473557089595154f327623480cf522c66",
            "patch": "@@ -11,6 +11,7 @@ import store from 'store';\n import { editor } from 'monaco-editor';\n import type { FitAddon } from 'xterm-addon-fit';\n \n+import { useFeature } from '@growthbook/growthbook-react';\n import { challengeTypes } from '../../../../../shared/config/challenge-types';\n import LearnLayout from '../../../components/layouts/learn';\n import { MAX_MOBILE_WIDTH } from '../../../../config/misc';\n@@ -58,6 +59,8 @@ import {\n } from '../redux/selectors';\n import { savedChallengesSelector } from '../../../redux/selectors';\n import { getGuideUrl } from '../utils';\n+import { preloadPage } from '../../../../utils/gatsby/page-loading';\n+import envData from '../../../../config/env.json';\n import { XtermTerminal } from './xterm';\n import MultifileEditor from './multifile-editor';\n import DesktopLayout from './desktop-layout';\n@@ -303,6 +306,14 @@ function ShowClassic({\n     setUsingKeyboardInTablist(usingKeyboardInTablist);\n   };\n \n+  // AB testing Pre-fetch in the Spanish locale\n+  const isPreFetchEnabled = useFeature('prefetch_ab_test').on;\n+  useEffect(() => {\n+    if (isPreFetchEnabled && envData.clientLocale === 'espanol') {\n+      preloadPage(nextChallengePath);\n+    }\n+  }, [nextChallengePath, isPreFetchEnabled]);\n+\n   useEffect(() => {\n     initializeComponent(title);\n     // Bug fix for the monaco content widget and touch devices/right mouse"
        },
        {
            "sha": "096f7d82b5ba9649dfb49dd2b593e52a8730b278",
            "filename": "client/utils/declarations.d.ts",
            "status": "added",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29607fb473557089595154f327623480cf522c66/client%2Futils%2Fdeclarations.d.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29607fb473557089595154f327623480cf522c66/client%2Futils%2Fdeclarations.d.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fdeclarations.d.ts?ref=29607fb473557089595154f327623480cf522c66",
            "patch": "@@ -0,0 +1,11 @@\n+declare global {\n+  interface Window {\n+    // This is a feature Gatsby adds to the `window` object.\n+    // https://github.com/gatsbyjs/gatsby/blob/deb41cdfefbefe0c170b5dd7c10a19ba2b338f6e/packages/gatsby/cache-dir/production-app.js#L28\n+    ___loader: {\n+      hovering: (path: string | null) => void;\n+    };\n+  }\n+}\n+\n+export {};"
        },
        {
            "sha": "45db48515bfcdda37d8bc008c3c8a796dd2851ac",
            "filename": "client/utils/gatsby/page-loading.ts",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/29607fb473557089595154f327623480cf522c66/client%2Futils%2Fgatsby%2Fpage-loading.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/29607fb473557089595154f327623480cf522c66/client%2Futils%2Fgatsby%2Fpage-loading.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fgatsby%2Fpage-loading.ts?ref=29607fb473557089595154f327623480cf522c66",
            "patch": "@@ -0,0 +1,10 @@\n+/**\n+ * The function is useful in cases where we want to preload a page\n+ * but the link of the page isn't rendered on the screen.\n+ * For more details, see https://github.com/freeCodeCamp/freeCodeCamp/pull/55472.\n+ */\n+export const preloadPage = (path: string | null) => {\n+  if (!window.___loader || !path) return;\n+\n+  window.___loader.hovering(path);\n+};"
        }
    ],
    "stats": {
        "total": 32,
        "additions": 32,
        "deletions": 0
    }
}