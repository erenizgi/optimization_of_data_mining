{
    "author": "Sembauke",
    "message": "feat:  Convert \"Certifications\" spec to Playwright (#54965)\n\nCo-authored-by: Huyen Nguyen <25715018+huyenltnguyen@users.noreply.github.com>",
    "sha": "59102f013ff796035b9c8d9562afc77a3a9ba738",
    "files": [
        {
            "sha": "122186ae97475a04641b03565f43123220648309",
            "filename": "client/src/components/profile/components/certifications.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/59102f013ff796035b9c8d9562afc77a3a9ba738/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fcertifications.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/59102f013ff796035b9c8d9562afc77a3a9ba738/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fcertifications.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fprofile%2Fcomponents%2Fcertifications.tsx?ref=59102f013ff796035b9c8d9562afc77a3a9ba738",
            "patch": "@@ -51,7 +51,7 @@ function CertButton({ username, cert }: CertButtonProps): JSX.Element {\n         block\n         size='large'\n         href={`/certification/${username}/${cert.certSlug}`}\n-        data-cy='claimed-certification'\n+        data-playwright-test-label='claimed-certification'\n       >\n         {t('buttons.view-cert-title', {\n           certTitle: t(`certification.title.${cert.certSlug}`)"
        },
        {
            "sha": "8f48b4e3be4a7639be5cf61d44241298beb6f09b",
            "filename": "client/src/components/settings/username.tsx",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/59102f013ff796035b9c8d9562afc77a3a9ba738/client%2Fsrc%2Fcomponents%2Fsettings%2Fusername.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/59102f013ff796035b9c8d9562afc77a3a9ba738/client%2Fsrc%2Fcomponents%2Fsettings%2Fusername.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fsettings%2Fusername.tsx?ref=59102f013ff796035b9c8d9562afc77a3a9ba738",
            "patch": "@@ -212,7 +212,6 @@ class UsernameSettings extends Component<UsernameProps, UsernameState> {\n               name='username-settings'\n               onChange={this.handleChange}\n               value={formValue}\n-              data-cy='username-input'\n               id='username-settings'\n             />\n           </FormGroup>"
        },
        {
            "sha": "410240b2bb8eb0d90ae7339d2b3be78a3fddd1e9",
            "filename": "cypress/e2e/default/user/certifications.ts",
            "status": "removed",
            "additions": 0,
            "deletions": 42,
            "changes": 42,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/5eb055817a48eaf120fceda730eec3c9c57144ea/cypress%2Fe2e%2Fdefault%2Fuser%2Fcertifications.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/5eb055817a48eaf120fceda730eec3c9c57144ea/cypress%2Fe2e%2Fdefault%2Fuser%2Fcertifications.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/cypress%2Fe2e%2Fdefault%2Fuser%2Fcertifications.ts?ref=5eb055817a48eaf120fceda730eec3c9c57144ea",
            "patch": "@@ -1,42 +0,0 @@\n-describe('Public profile certifications', () => {\n-  context('Signed in user viewing their own public profile', () => {\n-    before(() => {\n-      cy.task('seed', ['certified-user']);\n-    });\n-\n-    beforeEach(() => {\n-      cy.login('certified-user');\n-    });\n-\n-    it('Should show claimed certifications if the username has all lowercase characters', () => {\n-      cy.visit('/certifieduser', { failOnStatusCode: false });\n-\n-      // The following line is only required if you want to test it in development\n-      //cy.contains('Preview custom 404 page').click();\n-\n-      cy.get('[data-cy=claimed-certification]').should('have.length', 19);\n-    });\n-\n-    it('Should show claimed certifications if the username includes uppercase characters', () => {\n-      // Modify username to include uppercase characters\n-      cy.goToSettings();\n-      cy.typeUsername('CertifiedUser');\n-      cy.contains('Username is available');\n-      cy.get('@usernameForm').contains('Save').click();\n-      cy.contains('We have updated your username to CertifiedUser').should(\n-        'be.visible'\n-      );\n-\n-      cy.visit('/certifieduser', { failOnStatusCode: false });\n-\n-      // The following line is only required if you want to test it in development\n-      //cy.contains('Preview custom 404 page').click();\n-\n-      cy.get('[data-cy=claimed-certification]').should('have.length', 19);\n-    });\n-  });\n-\n-  // To do: Add another context to test for cases where a logged out user views\n-  // a profile where the username has all lowercase chars, and some uppercase chars\n-  // when that's fixed\n-});"
        },
        {
            "sha": "2a6bdc1971507a102e20d3361e1e5962b76d303b",
            "filename": "e2e/cert-username-case-navigation.spec.ts",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/59102f013ff796035b9c8d9562afc77a3a9ba738/e2e%2Fcert-username-case-navigation.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/59102f013ff796035b9c8d9562afc77a3a9ba738/e2e%2Fcert-username-case-navigation.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fcert-username-case-navigation.spec.ts?ref=59102f013ff796035b9c8d9562afc77a3a9ba738",
            "patch": "@@ -0,0 +1,46 @@\n+import { execSync } from 'child_process';\n+import { expect, test } from '@playwright/test';\n+\n+test.describe('Public profile certifications', () => {\n+  test.use({ storageState: 'playwright/.auth/certified-user.json' });\n+  test('Should show claimed certifications if the username has all lowercase characters', async ({\n+    page\n+  }) => {\n+    await page.goto('/certifieduser');\n+\n+    // If you build the client locally, delete the button click below.\n+    if (!process.env.CI) {\n+      await page\n+        .getByRole('button', { name: 'Preview custom 404 page' })\n+        .click();\n+    }\n+\n+    await expect(page.getByTestId('claimed-certification')).toHaveCount(19);\n+  });\n+\n+  test('Should show claimed certifications if the username includes uppercase characters', async ({\n+    page\n+  }) => {\n+    await page.goto('/settings');\n+    await page.getByLabel('Username').fill('CertifiedBoozer');\n+    await page.getByRole('button', { name: 'Save' }).nth(0).click();\n+    await expect(page.getByTestId('flash-message')).toContainText(\n+      /We have updated your username to/\n+    );\n+    await page.goto('/certifiedboozer');\n+\n+    // If you build the client locally, delete the button click below.\n+    if (!process.env.CI) {\n+      await page\n+        .getByRole('button', { name: 'Preview custom 404 page' })\n+        .click();\n+    }\n+\n+    await page.waitForURL('/certifiedboozer');\n+    await expect(page.getByTestId('claimed-certification')).toHaveCount(19);\n+  });\n+\n+  test.afterAll(() => {\n+    execSync('node ./tools/scripts/seed/seed-demo-user certified-user');\n+  });\n+});"
        }
    ],
    "stats": {
        "total": 91,
        "additions": 47,
        "deletions": 44
    }
}