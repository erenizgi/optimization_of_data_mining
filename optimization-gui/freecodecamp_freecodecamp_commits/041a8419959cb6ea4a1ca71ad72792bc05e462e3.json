{
    "author": "ojeytonwilliams",
    "message": "refactor(client): simplify page creation (#55720)",
    "sha": "041a8419959cb6ea4a1ca71ad72792bc05e462e3",
    "files": [
        {
            "sha": "5431c009b2105bc7eb05523f691b522efa852645",
            "filename": "client/gatsby-node.js",
            "status": "modified",
            "additions": 1,
            "deletions": 7,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fgatsby-node.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fgatsby-node.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fgatsby-node.js?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -23,11 +23,7 @@ exports.onCreateNode = function onCreateNode({ node, actions, getNode }) {\n   if (node.internal.type === 'MarkdownRemark') {\n     const slug = createFilePath({ node, getNode });\n     if (!slug.includes('LICENSE')) {\n-      const {\n-        frontmatter: { component = '' }\n-      } = node;\n       createNodeField({ node, name: 'slug', value: slug });\n-      createNodeField({ node, name: 'component', value: component });\n     }\n   }\n };\n@@ -74,6 +70,7 @@ exports.createPages = async function createPages({\n       ) {\n         edges {\n           node {\n+            id\n             challenge {\n               block\n               blockType\n@@ -122,17 +119,14 @@ exports.createPages = async function createPages({\n             fields {\n               slug\n               nodeIdentity\n-              component\n             }\n             frontmatter {\n               certification\n               block\n               superBlock\n               title\n             }\n-            htmlAst\n             id\n-            excerpt\n           }\n         }\n       }"
        },
        {
            "sha": "349a175a9132ff95d07f3189ee868cf323ce75ad",
            "filename": "client/src/redux/prop-types.ts",
            "status": "modified",
            "additions": 0,
            "deletions": 17,
            "changes": 17,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Fredux%2Fprop-types.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fredux%2Fprop-types.ts?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -19,32 +19,15 @@ export type CurrentCert = {\n };\n \n export type MarkdownRemark = {\n-  fields: [{ component: string; nodeIdentity: string; slug: string }];\n-  fileAbsolutePath: string;\n   frontmatter: {\n     block: string;\n     superBlock: SuperBlocks;\n     // TODO: make enum like superBlock\n     certification: string;\n     title: CertTitle;\n   };\n-  headings: [\n-    {\n-      depth: number;\n-      value: string;\n-      id: string;\n-    }\n-  ];\n   html: string;\n-  htmlAst: Record<string, unknown>;\n   id: string;\n-  rawMarkdownBody: string;\n-  timeToRead: number;\n-  wordCount: {\n-    paragraphs: number;\n-    sentences: number;\n-    words: number;\n-  };\n };\n \n export type MultipleChoiceAnswer = {"
        },
        {
            "sha": "440387aa894b7ff25db4065991c5c3777058298c",
            "filename": "client/src/templates/Challenges/classic/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fclassic%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -532,8 +532,8 @@ ShowClassic.displayName = 'ShowClassic';\n export default connect(mapStateToProps, mapDispatchToProps)(ShowClassic);\n \n export const query = graphql`\n-  query ClassicChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query ClassicChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         block\n         demoType"
        },
        {
            "sha": "0214d231c9b8146e2eb81ca86130d9b04e4f40b9",
            "filename": "client/src/templates/Challenges/codeally/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fcodeally%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -426,8 +426,8 @@ export default connect(\n \n // GraphQL\n export const query = graphql`\n-  query CodeAllyChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query CodeAllyChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         block\n         fields {"
        },
        {
            "sha": "d9139420f01deb646ba9cf9118af1c03b25cfe62",
            "filename": "client/src/templates/Challenges/dialogue/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fdialogue%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -329,8 +329,8 @@ export default connect(\n )(withTranslation()(ShowDialogue));\n \n export const query = graphql`\n-  query Dialogue($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query Dialogue($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         videoId\n         title"
        },
        {
            "sha": "2ebbe3c75661160cde84ab6ce46e7b8a8a0f8500",
            "filename": "client/src/templates/Challenges/exam/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fexam%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -596,8 +596,8 @@ export default connect(\n \n // GraphQL\n export const query = graphql`\n-  query ExamChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query ExamChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         block\n         challengeType"
        },
        {
            "sha": "3eb056f17e674f8393420ecee6cb6ca1713766de",
            "filename": "client/src/templates/Challenges/fill-in-the-blank/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Ffill-in-the-blank%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -429,8 +429,8 @@ export default connect(\n )(withTranslation()(ShowFillInTheBlank));\n \n export const query = graphql`\n-  query FillInTheBlankChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query FillInTheBlankChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         title\n         description"
        },
        {
            "sha": "b1d91303b45b39468c1066f31722586dc9df5ea0",
            "filename": "client/src/templates/Challenges/ms-trophy/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fms-trophy%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -250,8 +250,8 @@ export default connect(\n )(withTranslation()(MsTrophy));\n \n export const query = graphql`\n-  query MsTrophyChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query MsTrophyChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         title\n         description"
        },
        {
            "sha": "8ce538733481baa10f6ca82cc717f18e2ea13fe7",
            "filename": "client/src/templates/Challenges/odin/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fodin%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -452,8 +452,8 @@ export default connect(\n )(withTranslation()(ShowOdin));\n \n export const query = graphql`\n-  query TheOdinProject($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query TheOdinProject($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         videoId\n         videoLocaleIds {"
        },
        {
            "sha": "32db2649103eaacc7845f35a9feebcba6db8eb0a",
            "filename": "client/src/templates/Challenges/projects/backend/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Fbackend%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -282,8 +282,8 @@ export default connect(\n )(withTranslation()(BackEnd));\n \n export const query = graphql`\n-  query BackendChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query BackendChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         forumTopicId\n         title"
        },
        {
            "sha": "03a61f7fa1d6eb0903def897b829837c008b39b7",
            "filename": "client/src/templates/Challenges/projects/frontend/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fprojects%2Ffrontend%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -228,8 +228,8 @@ export default connect(\n )(withTranslation()(Project));\n \n export const query = graphql`\n-  query ProjectChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query ProjectChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         forumTopicId\n         title"
        },
        {
            "sha": "faa2180fa785af8582439fc757f49c700d5a5e1f",
            "filename": "client/src/templates/Challenges/video/show.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FChallenges%2Fvideo%2Fshow.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -359,8 +359,8 @@ export default connect(\n )(withTranslation()(ShowVideo));\n \n export const query = graphql`\n-  query VideoChallenge($slug: String!) {\n-    challengeNode(challenge: { fields: { slug: { eq: $slug } } }) {\n+  query VideoChallenge($id: String!) {\n+    challengeNode(id: { eq: $id }) {\n       challenge {\n         videoId\n         videoLocaleIds {"
        },
        {
            "sha": "bf707204bca2e7284252f878d181a2cc2f0797bb",
            "filename": "client/src/templates/Introduction/intro.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FIntroduction%2Fintro.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FIntroduction%2Fintro.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fintro.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -64,8 +64,8 @@ IntroductionPage.displayName = 'IntroductionPage';\n export default IntroductionPage;\n \n export const query = graphql`\n-  query IntroPageBySlug($slug: String!, $block: String!) {\n-    markdownRemark(fields: { slug: { eq: $slug } }) {\n+  query IntroPageBySlug($id: String!, $block: String!) {\n+    markdownRemark(id: { eq: $id }) {\n       frontmatter {\n         block\n         superBlock"
        },
        {
            "sha": "83682ededea799377b69246c18e1ec62e189f46d",
            "filename": "client/src/templates/Introduction/super-block-intro.tsx",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fsuper-block-intro.tsx?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -276,8 +276,8 @@ export default connect(\n )(withTranslation()(memo(SuperBlockIntroductionPage)));\n \n export const query = graphql`\n-  query SuperBlockIntroPageBySlug($slug: String!, $superBlock: String!) {\n-    markdownRemark(fields: { slug: { eq: $slug } }) {\n+  query SuperBlockIntroPageBySlug($id: String!, $superBlock: String!) {\n+    markdownRemark(id: { eq: $id }) {\n       frontmatter {\n         certification\n         superBlock"
        },
        {
            "sha": "e05746df383bace3db11cf48bde773a5bfc6afc5",
            "filename": "client/utils/gatsby/challenge-page-creator.js",
            "status": "modified",
            "additions": 14,
            "deletions": 10,
            "changes": 24,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/041a8419959cb6ea4a1ca71ad72792bc05e462e3/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Futils%2Fgatsby%2Fchallenge-page-creator.js?ref=041a8419959cb6ea4a1ca71ad72792bc05e462e3",
            "patch": "@@ -99,7 +99,7 @@ function getNextBlock(id, edges) {\n }\n \n exports.createChallengePages = function (createPage) {\n-  return function ({ node: { challenge } }, index, allChallengeEdges) {\n+  return function ({ node }, index, allChallengeEdges) {\n     const {\n       dashedName,\n       disableLoopProtectTests,\n@@ -112,7 +112,7 @@ exports.createChallengePages = function (createPage) {\n       template,\n       challengeType,\n       id\n-    } = challenge;\n+    } = node.challenge;\n     // TODO: challengeType === 7 and isPrivate are the same, right? If so, we\n     // should remove one of them.\n \n@@ -136,8 +136,11 @@ exports.createChallengePages = function (createPage) {\n           prevChallengePath: getPrevChallengePath(index, allChallengeEdges),\n           id\n         },\n-        projectPreview: getProjectPreviewConfig(challenge, allChallengeEdges),\n-        slug\n+        projectPreview: getProjectPreviewConfig(\n+          node.challenge,\n+          allChallengeEdges\n+        ),\n+        id: node.id\n       }\n     });\n   };\n@@ -176,15 +179,16 @@ exports.createBlockIntroPages = function (createPage) {\n   return function (edge) {\n     const {\n       fields: { slug },\n-      frontmatter: { block }\n+      frontmatter: { block },\n+      id\n     } = edge.node;\n \n     createPage({\n       path: slug,\n       component: intro,\n       context: {\n         block,\n-        slug\n+        id\n       }\n     });\n   };\n@@ -194,7 +198,8 @@ exports.createSuperBlockIntroPages = function (createPage) {\n   return function (edge) {\n     const {\n       fields: { slug },\n-      frontmatter: { superBlock, certification }\n+      frontmatter: { superBlock, certification },\n+      id\n     } = edge.node;\n \n     if (!certification) {\n@@ -210,9 +215,8 @@ exports.createSuperBlockIntroPages = function (createPage) {\n       path: slug,\n       component: superBlockIntro,\n       context: {\n-        certification,\n-        superBlock,\n-        slug\n+        id,\n+        superBlock\n       }\n     });\n   };"
        }
    ],
    "stats": {
        "total": 97,
        "additions": 39,
        "deletions": 58
    }
}