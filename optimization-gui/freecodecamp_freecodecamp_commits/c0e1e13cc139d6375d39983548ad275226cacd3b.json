{
    "author": "ojeytonwilliams",
    "message": "refactor: clean up usage of certTypes (#64322)",
    "sha": "c0e1e13cc139d6375d39983548ad275226cacd3b",
    "files": [
        {
            "sha": "24d5848db827b88155e2739cbac91a8bd20f72ee",
            "filename": "api/src/routes/public/certificate.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0e1e13cc139d6375d39983548ad275226cacd3b/api%2Fsrc%2Froutes%2Fpublic%2Fcertificate.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0e1e13cc139d6375d39983548ad275226cacd3b/api%2Fsrc%2Froutes%2Fpublic%2Fcertificate.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Froutes%2Fpublic%2Fcertificate.ts?ref=c0e1e13cc139d6375d39983548ad275226cacd3b",
            "patch": "@@ -54,7 +54,7 @@ export const unprotectedCertificateRoutes: FastifyPluginCallbackTypebox = (\n       const certType = certSlugTypeMap[certSlug];\n       const certId = certToIdMap[certSlug];\n       const certTitle = certToTitleMap[certSlug];\n-      const completionTime = completionHours[certType] || 300;\n+      const completionTime = completionHours[certSlug] || 300;\n       const user = await fastify.prisma.user.findFirst({\n         where: { username },\n         select: {"
        },
        {
            "sha": "b0f4712b4873271341f277cf86fc063f4a4e9f1c",
            "filename": "client/src/components/settings/certification.tsx",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0e1e13cc139d6375d39983548ad275226cacd3b/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0e1e13cc139d6375d39983548ad275226cacd3b/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Fsettings%2Fcertification.tsx?ref=c0e1e13cc139d6375d39983548ad275226cacd3b",
            "patch": "@@ -17,7 +17,6 @@ import { FullWidthRow, Link } from '../helpers';\n import { SolutionDisplayWidget } from '../solution-display-widget';\n import {\n   Certification,\n-  certSlugTypeMap,\n   currentCertifications,\n   legacyCertifications,\n   upcomingCertifications\n@@ -145,8 +144,7 @@ const LegacyFullStack = (props: CertificationSettingsProps) => {\n   const certLocation = `/certification/${username}/${certSlug}`;\n \n   const handleClaim =\n-    (certSlug: keyof typeof certSlugTypeMap) =>\n-    (e: MouseEvent<HTMLButtonElement>) => {\n+    (certSlug: Certification) => (e: MouseEvent<HTMLButtonElement>) => {\n       e.preventDefault();\n \n       return isHonest"
        },
        {
            "sha": "85b2466fd1c7e17ee98358ad9ae04bbcbf857a63",
            "filename": "client/src/templates/Introduction/components/cert-challenge.tsx",
            "status": "modified",
            "additions": 8,
            "deletions": 18,
            "changes": 26,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0e1e13cc139d6375d39983548ad275226cacd3b/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fcert-challenge.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0e1e13cc139d6375d39983548ad275226cacd3b/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fcert-challenge.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Ftemplates%2FIntroduction%2Fcomponents%2Fcert-challenge.tsx?ref=c0e1e13cc139d6375d39983548ad275226cacd3b",
            "patch": "@@ -5,8 +5,8 @@ import { createSelector } from 'reselect';\n import { Button } from '@freecodecamp/ui';\n \n import {\n-  certSlugTypeMap,\n-  superBlockCertTypeMap\n+  type Certification,\n+  superBlockToCertMap\n } from '../../../../../shared-dist/config/certification-settings';\n import { SuperBlocks } from '../../../../../shared-dist/config/curriculum';\n \n@@ -55,7 +55,6 @@ const CertChallenge = ({\n   user\n }: CertChallengeProps): JSX.Element => {\n   const { t } = useTranslation();\n-  const [isCertified, setIsCertified] = useState(false);\n   const [userLoaded, setUserLoaded] = useState(false);\n \n   const { currentCerts, legacyCerts } = getCertifications(user);\n@@ -73,22 +72,13 @@ const CertChallenge = ({\n     }\n   }, [fetchState]);\n \n-  const certSlugTypeMapTyped: { [key: string]: string } = certSlugTypeMap;\n-  const superBlockCertTypeMapTyped: { [key: string]: string } =\n-    superBlockCertTypeMap;\n+  const allCerts = [...currentCerts, ...legacyCerts];\n \n-  useEffect(() => {\n-    const allCerts = [...currentCerts, ...legacyCerts];\n-\n-    setIsCertified(\n-      allCerts.find(\n-        (cert: { certSlug: string }) =>\n-          certSlugTypeMapTyped[cert.certSlug] ===\n-          superBlockCertTypeMapTyped[superBlock]\n-      )?.show ?? false\n-    );\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\n-  }, [currentCerts, legacyCerts]);\n+  const isCertified =\n+    allCerts.find(\n+      (cert: { certSlug: Certification }) =>\n+        cert.certSlug === superBlockToCertMap[superBlock]\n+    )?.show ?? false;\n \n   const certLocation = `/certification/${username}/${certSlug}`;\n "
        },
        {
            "sha": "5ca4d582c6a44582b450347561384ce800c72107",
            "filename": "shared/config/certification-settings.test.ts",
            "status": "modified",
            "additions": 18,
            "deletions": 1,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0e1e13cc139d6375d39983548ad275226cacd3b/shared%2Fconfig%2Fcertification-settings.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0e1e13cc139d6375d39983548ad275226cacd3b/shared%2Fconfig%2Fcertification-settings.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fconfig%2Fcertification-settings.test.ts?ref=c0e1e13cc139d6375d39983548ad275226cacd3b",
            "patch": "@@ -3,7 +3,8 @@ import {\n   Certification,\n   linkedInCredentialIds,\n   certToTitleMap,\n-  certToIdMap\n+  certToIdMap,\n+  certSlugTypeMap\n } from './certification-settings';\n \n describe('linkedInCredentialIds', () => {\n@@ -32,3 +33,19 @@ describe('certToIdMap', () => {\n     expect(uniqueIds).toEqual(ids);\n   });\n });\n+\n+describe('certSlugTypeMap', () => {\n+  it.todo('should contain a value for all certifications', () => {\n+    const allCertifications = Object.values(Certification).sort();\n+    const certSlugTypeMapKeys = Object.keys(certSlugTypeMap).sort();\n+\n+    expect(certSlugTypeMapKeys).toEqual(allCertifications);\n+  });\n+\n+  it('should have no duplicate values', () => {\n+    const types = Object.values(certSlugTypeMap).sort();\n+    const uniqueTypes = Array.from(new Set(types)).sort();\n+\n+    expect(uniqueTypes).toEqual(types);\n+  });\n+});"
        },
        {
            "sha": "8bc99ffc3310fcc13a3bd147e7a9c5a0c6b7cd9a",
            "filename": "shared/config/certification-settings.ts",
            "status": "modified",
            "additions": 55,
            "deletions": 103,
            "changes": 158,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/c0e1e13cc139d6375d39983548ad275226cacd3b/shared%2Fconfig%2Fcertification-settings.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/c0e1e13cc139d6375d39983548ad275226cacd3b/shared%2Fconfig%2Fcertification-settings.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/shared%2Fconfig%2Fcertification-settings.ts?ref=c0e1e13cc139d6375d39983548ad275226cacd3b",
            "patch": "@@ -102,31 +102,6 @@ export const upcomingCertifications = [\n   Certification.A1Chinese\n ] as const;\n \n-export const certTypes = {\n-  frontEnd: 'isFrontEndCert',\n-  backEnd: 'isBackEndCert',\n-  dataVis: 'isDataVisCert',\n-  respWebDesign: 'isRespWebDesignCert',\n-  respWebDesignV9: 'isRespWebDesignCertV9',\n-  frontEndDevLibs: 'isFrontEndLibsCert',\n-  dataVis2018: 'is2018DataVisCert',\n-  jsAlgoDataStruct: 'isJsAlgoDataStructCert',\n-  apisMicroservices: 'isApisMicroservicesCert',\n-  infosecQa: 'isInfosecQaCert',\n-  qaV7: 'isQaCertV7',\n-  infosecV7: 'isInfosecCertV7',\n-  sciCompPyV7: 'isSciCompPyCertV7',\n-  dataAnalysisPyV7: 'isDataAnalysisPyCertV7',\n-  machineLearningPyV7: 'isMachineLearningPyCertV7',\n-  fullStack: 'isFullStackCert',\n-  relationalDatabaseV8: 'isRelationalDatabaseCertV8',\n-  collegeAlgebraPyV8: 'isCollegeAlgebraPyCertV8',\n-  foundationalCSharpV8: 'isFoundationalCSharpCertV8',\n-  jsAlgoDataStructV8: 'isJsAlgoDataStructCertV8',\n-  javascriptV9: 'isJavascriptCertV9',\n-  a2English: 'isA2EnglishCert'\n-} as const;\n-\n export const certToIdMap: Record<Certification, string> = {\n   // Legacy certifications\n   [Certification.LegacyFrontEnd]: '561add10cb82ac38a17513be',\n@@ -166,92 +141,69 @@ export const certToIdMap: Record<Certification, string> = {\n   [Certification.A1Chinese]: '68f1268149f045a650d4229e'\n };\n \n-export const completionHours = {\n-  [certTypes.frontEnd]: 300,\n-  [certTypes.backEnd]: 300,\n-  [certTypes.dataVis]: 300,\n-  [certTypes.infosecQa]: 300,\n-  [certTypes.fullStack]: 1800,\n-  [certTypes.respWebDesign]: 300,\n-  [certTypes.respWebDesignV9]: 300,\n-  [certTypes.frontEndDevLibs]: 300,\n-  [certTypes.jsAlgoDataStruct]: 300,\n-  [certTypes.dataVis2018]: 300,\n-  [certTypes.apisMicroservices]: 300,\n-  [certTypes.qaV7]: 300,\n-  [certTypes.infosecV7]: 300,\n-  [certTypes.sciCompPyV7]: 300,\n-  [certTypes.dataAnalysisPyV7]: 300,\n-  [certTypes.machineLearningPyV7]: 300,\n-  [certTypes.relationalDatabaseV8]: 300,\n-  [certTypes.collegeAlgebraPyV8]: 300,\n-  [certTypes.foundationalCSharpV8]: 300,\n-  [certTypes.jsAlgoDataStructV8]: 300,\n-  [certTypes.javascriptV9]: 300,\n-  [certTypes.a2English]: 300\n+export const completionHours: Record<Certification, number> = {\n+  [Certification.LegacyFrontEnd]: 300,\n+  [Certification.JsAlgoDataStruct]: 300,\n+  [Certification.LegacyBackEnd]: 300,\n+  [Certification.LegacyDataVis]: 300,\n+  [Certification.LegacyInfoSecQa]: 300,\n+  [Certification.LegacyFullStack]: 1800,\n+  [Certification.RespWebDesign]: 300,\n+  [Certification.JsAlgoDataStructNew]: 300,\n+  [Certification.FrontEndDevLibs]: 300,\n+  [Certification.DataVis]: 300,\n+  [Certification.BackEndDevApis]: 300,\n+  [Certification.QualityAssurance]: 300,\n+  [Certification.InfoSec]: 300,\n+  [Certification.SciCompPy]: 300,\n+  [Certification.DataAnalysisPy]: 300,\n+  [Certification.MachineLearningPy]: 300,\n+  [Certification.RelationalDb]: 300,\n+  [Certification.CollegeAlgebraPy]: 300,\n+  [Certification.FoundationalCSharp]: 300,\n+  [Certification.A2English]: 300,\n+  [Certification.RespWebDesignV9]: 300,\n+  [Certification.JsV9]: 300,\n+  [Certification.FrontEndDevLibsV9]: 300,\n+  [Certification.PythonV9]: 300,\n+  [Certification.RelationalDbV9]: 300,\n+  [Certification.BackEndDevApisV9]: 300,\n+  [Certification.FullStackDeveloperV9]: 1800,\n+  [Certification.B1English]: 300,\n+  [Certification.A2Spanish]: 300,\n+  [Certification.A2Chinese]: 300,\n+  [Certification.A1Chinese]: 300\n };\n \n export const certSlugTypeMap = {\n   // legacy\n-  [Certification.LegacyFrontEnd]: certTypes.frontEnd,\n-  [Certification.JsAlgoDataStruct]: certTypes.jsAlgoDataStruct,\n-  [Certification.LegacyBackEnd]: certTypes.backEnd,\n-  [Certification.LegacyDataVis]: certTypes.dataVis,\n-  [Certification.LegacyInfoSecQa]: certTypes.infosecQa,\n-  [Certification.LegacyFullStack]: certTypes.fullStack,\n-\n-  // modern\n-  [Certification.RespWebDesign]: certTypes.respWebDesign,\n-  [Certification.JsAlgoDataStructNew]: certTypes.jsAlgoDataStructV8,\n-  [Certification.FrontEndDevLibs]: certTypes.frontEndDevLibs,\n-  [Certification.DataVis]: certTypes.dataVis2018,\n-  [Certification.BackEndDevApis]: certTypes.apisMicroservices,\n-  [Certification.QualityAssurance]: certTypes.qaV7,\n-  [Certification.InfoSec]: certTypes.infosecV7,\n-  [Certification.SciCompPy]: certTypes.sciCompPyV7,\n-  [Certification.DataAnalysisPy]: certTypes.dataAnalysisPyV7,\n-  [Certification.MachineLearningPy]: certTypes.machineLearningPyV7,\n-  [Certification.RelationalDb]: certTypes.relationalDatabaseV8,\n-  [Certification.CollegeAlgebraPy]: certTypes.collegeAlgebraPyV8,\n-  [Certification.FoundationalCSharp]: certTypes.foundationalCSharpV8,\n-  [Certification.A2English]: certTypes.a2English,\n-\n-  // upcoming\n-  [Certification.RespWebDesignV9]: certTypes.respWebDesignV9,\n-  [Certification.JsV9]: certTypes.javascriptV9\n-};\n-\n-export const superBlockCertTypeMap = {\n-  // legacy\n-  'legacy-front-end': certTypes.frontEnd,\n-  [SuperBlocks.JsAlgoDataStruct]: certTypes.jsAlgoDataStruct,\n-  'legacy-back-end': certTypes.backEnd,\n-  'legacy-data-visualization': certTypes.dataVis,\n-  'information-security-and-quality-assurance': certTypes.infosecQa,\n-  'full-stack': certTypes.fullStack,\n+  [Certification.LegacyFrontEnd]: 'isFrontEndCert',\n+  [Certification.JsAlgoDataStruct]: 'isJsAlgoDataStructCert',\n+  [Certification.LegacyBackEnd]: 'isBackEndCert',\n+  [Certification.LegacyDataVis]: 'isDataVisCert',\n+  [Certification.LegacyInfoSecQa]: 'isInfosecQaCert',\n+  [Certification.LegacyFullStack]: 'isFullStackCert',\n \n   // modern\n-  [SuperBlocks.RespWebDesign]: certTypes.respWebDesign,\n-  [SuperBlocks.JsAlgoDataStructNew]: certTypes.jsAlgoDataStructV8,\n-  [SuperBlocks.FrontEndDevLibs]: certTypes.frontEndDevLibs,\n-  [SuperBlocks.DataVis]: certTypes.dataVis2018,\n-  [SuperBlocks.BackEndDevApis]: certTypes.apisMicroservices,\n-  [SuperBlocks.QualityAssurance]: certTypes.qaV7,\n-  [SuperBlocks.InfoSec]: certTypes.infosecV7,\n-  [SuperBlocks.SciCompPy]: certTypes.sciCompPyV7,\n-  [SuperBlocks.DataAnalysisPy]: certTypes.dataAnalysisPyV7,\n-  [SuperBlocks.MachineLearningPy]: certTypes.machineLearningPyV7,\n-  [SuperBlocks.RelationalDb]: certTypes.relationalDatabaseV8,\n-  [SuperBlocks.CollegeAlgebraPy]: certTypes.collegeAlgebraPyV8,\n-  [SuperBlocks.FoundationalCSharp]: certTypes.foundationalCSharpV8,\n-\n-  // post-modern\n-  // TODO: use enum\n-  [SuperBlocks.RespWebDesignNew]: certTypes.respWebDesign,\n+  [Certification.RespWebDesign]: 'isRespWebDesignCert',\n+  [Certification.JsAlgoDataStructNew]: 'isJsAlgoDataStructCertV8',\n+  [Certification.FrontEndDevLibs]: 'isFrontEndLibsCert',\n+  [Certification.DataVis]: 'is2018DataVisCert',\n+  [Certification.BackEndDevApis]: 'isApisMicroservicesCert',\n+  [Certification.QualityAssurance]: 'isQaCertV7',\n+  [Certification.InfoSec]: 'isInfosecCertV7',\n+  [Certification.SciCompPy]: 'isSciCompPyCertV7',\n+  [Certification.DataAnalysisPy]: 'isDataAnalysisPyCertV7',\n+  [Certification.MachineLearningPy]: 'isMachineLearningPyCertV7',\n+  [Certification.RelationalDb]: 'isRelationalDatabaseCertV8',\n+  [Certification.CollegeAlgebraPy]: 'isCollegeAlgebraPyCertV8',\n+  [Certification.FoundationalCSharp]: 'isFoundationalCSharpCertV8',\n+  [Certification.A2English]: 'isA2EnglishCert',\n \n   // upcoming\n-  [SuperBlocks.A2English]: certTypes.a2English\n-};\n+  [Certification.RespWebDesignV9]: 'isRespWebDesignCertV9',\n+  [Certification.JsV9]: 'isJavascriptCertV9'\n+} as const;\n \n // TODO: use i18n keys instead of hardcoded titles\n export const certToTitleMap: Record<Certification, string> = {"
        }
    ],
    "stats": {
        "total": 209,
        "additions": 83,
        "deletions": 126
    }
}