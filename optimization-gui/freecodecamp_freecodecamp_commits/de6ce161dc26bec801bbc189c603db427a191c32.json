{
    "author": "gikf",
    "message": "fix(curriculum): always passing tests in Forum leaderboard (#55556)",
    "sha": "de6ce161dc26bec801bbc189c603db427a191c32",
    "files": [
        {
            "sha": "512c1ee1b35b12bac37f6ae61b25f5693a7535a9",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-asynchronous-programming-by-building-an-fcc-forum-leaderboard/645f8615fa144d01c476b22c.md",
            "status": "modified",
            "additions": 16,
            "deletions": 7,
            "changes": 23,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F645f8615fa144d01c476b22c.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F645f8615fa144d01c476b22c.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F645f8615fa144d01c476b22c.md?ref=de6ce161dc26bec801bbc189c603db427a191c32",
            "patch": "@@ -15,50 +15,59 @@ Inside the `img` tag, add a `src` attribute with the value of `${userAvatarUrl}`\n \n # --hints--\n \n-You should return an empty template literal.\n+You should return a template literal.\n \n ```js\n const emptyTemplateLiteral = /return\\s*`(.*)`/;\n-assert(code.match(emptyTemplateLiteral));\n+assert.match(getReturnCode(code), emptyTemplateLiteral);\n ```\n \n You should have an `img` element inside the template literal.\n \n ```js\n const imgTag = /return\\s*`<img[^>]*\\\\?>`/g;\n-assert(code.match(imgTag));\n+assert.match(getReturnCode(code), imgTag);\n ```\n \n You should have a `src` attribute inside the `img` tag.\n \n ```js\n const imgTagWithSrc = /return\\s*`<img[^>]*src\\s*=\\s*('|\")[^'\"]*\\1[^>]*\\\\?>`/g;\n-assert(code.match(imgTagWithSrc));\n+assert.match(getReturnCode(code), imgTagWithSrc);\n ```\n \n You should set the value for the `src` attribute to the constant named `userAvatarUrl`.\n \n ```js\n const srcValue = /return\\s*`<img[^>]*src\\s*=\\s*('|\")\\s*\\${userAvatarUrl}\\s*\\1[^>]*\\\\?>`/g;\n-assert(code.match(srcValue));\n+assert.match(getReturnCode(code), srcValue);\n ```\n \n You should have an `alt` attribute after the `src` attribute.\n \n ```js\n const imageTagWithSrcAndAlt = /return\\s*`<img[^>]*src\\s*=\\s*('|\")[^'\"]*\\1[^>]*alt\\s*=\\s*('|\")[^'\"]*\\2[^>]*\\\\?>`/g;\n-assert(code.match(imageTagWithSrcAndAlt));\n+assert.match(getReturnCode(code), imageTagWithSrcAndAlt);\n ```\n \n You should set the value of the `alt` attribute to the constant named `user.name`.\n \n ```js\n const altValue = /return\\s*`<img[^>]*src\\s*=\\s*('|\")\\s*\\${userAvatarUrl}\\s*\\1[^>]*alt\\s*=\\s*('|\")\\s*\\${user\\.name}\\s*\\2[^>]*\\\\?>`/g;\n-assert(code.match(altValue));\n+assert.match(getReturnCode(code), altValue);\n ```\n \n # --seed--\n \n+## --after-user-code--\n+\n+```js\n+function getReturnCode(code) {\n+  const returnAndRest = code.split(/:\\s*avatar\\s*;?/)?.[1];\n+  return returnAndRest?.split(/\\}\\s*\\}\\s*\\)\\s*;?\\s*\\}\\s*;?/)?.[0];\n+}\n+```\n+\n ## --seed-contents--\n \n ```html"
        },
        {
            "sha": "6cd0e06863a364ece9bc233fb99dce7c43818801",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-asynchronous-programming-by-building-an-fcc-forum-leaderboard/646474a88d0d4a016f895ba8.md",
            "status": "modified",
            "additions": 6,
            "deletions": 4,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F646474a88d0d4a016f895ba8.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F646474a88d0d4a016f895ba8.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F646474a88d0d4a016f895ba8.md?ref=de6ce161dc26bec801bbc189c603db427a191c32",
            "patch": "@@ -16,15 +16,17 @@ Inside the second `td` element, add a `div` element with a class name of `avatar\n You should have a `div` element inside the second `td` element.\n \n ```js\n-const joinTest =  /<div\\b[^>]*>([\\s\\S]*?)<\\/div>/gm;\n-assert(code.match(joinTest));\n+const secondTd = code.split(/postsContainer\\.innerHTML = topics\\.map/)?.[1]?.split(/\\s*<\\/td>\\s*<td>/)?.[1];\n+const divTest =  /<div\\b[^>]*>([\\s\\S]*?)<\\/div>/gm;\n+assert.match(secondTd?.split(/<\\/td>/)?.[0], divTest);\n ```\n \n Your opening `div` tag should have a class attribute with the value of `avatar-container`.\n \n ```js\n-const divRegexTest = /<div\\b[^>]*\\bclass\\s*=\\s*\"[^\"]*\\bavatar-container\\b[^\"]*\"[^>]*>([\\s\\S]*?)<\\/div>/gm;\n-assert(code.match(divRegexTest));\n+const secondTd = code.split(/postsContainer\\.innerHTML = topics\\.map/)?.[1]?.split(/\\s*<\\/td>\\s*<td>/)?.[1];\n+const divRegexTest = /<div\\b[^>]*\\bclass\\s*=\\s*('|\")avatar-container\\1[^>]*>([\\s\\S]*?)<\\/div>/gm;\n+assert.match(secondTd?.split(/<\\/td>/)?.[0], divRegexTest);\n ```\n \n # --seed--"
        },
        {
            "sha": "101ab13470923b911d98ed826bc19dc543b2662d",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/learn-asynchronous-programming-by-building-an-fcc-forum-leaderboard/64649b108df035051cb2ba2d.md",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F64649b108df035051cb2ba2d.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/de6ce161dc26bec801bbc189c603db427a191c32/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F64649b108df035051cb2ba2d.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Flearn-asynchronous-programming-by-building-an-fcc-forum-leaderboard%2F64649b108df035051cb2ba2d.md?ref=de6ce161dc26bec801bbc189c603db427a191c32",
            "patch": "@@ -16,13 +16,15 @@ And with those changes, your freeCodeCamp forum leaderboard project is now compl\n Your opening anchor tag should have a `target` attribute set to `_blank`.\n \n ```js\n-assert.match(code, /<a\\s+(?:[^>]*\\s+)?target\\s*=\\s*('|\")_blank\\1(?:\\s+[^>]*)?>.*<\\/a>/s);\n+const firstTd = code.split(/postsContainer\\.innerHTML = topics\\.map/)?.[1]?.split(/\\s*<tr>\\s*<td>/)?.[1];\n+assert.match(firstTd?.split(/<\\/td>/)?.[0], /<a\\s+(?:[^>]*\\s+)?target\\s*=\\s*('|\")_blank\\1(?:\\s+[^>]*)?>.*<\\/a>/s);\n ```\n \n Your opening anchor tag should have an `href` attribute set to `${forumTopicUrl}${slug}/${id}`.\n \n ```js\n-assert.match(code, /<a\\s+(?:[^>]*\\s+)?href\\s*=\\s*('|\")\\${forumTopicUrl}\\${slug}\\/\\${id}\\1(?:\\s+[^>]*)?>.*<\\/a>/s);\n+const firstTd = code.split(/postsContainer\\.innerHTML = topics\\.map/)?.[1]?.split(/\\s*<tr>\\s*<td>/)[1];\n+assert.match(firstTd?.split(/<\\/td>/)?.[0], /<a\\s+(?:[^>]*\\s+)?href\\s*=\\s*('|\")\\${forumTopicUrl}\\${slug}\\/\\${id}\\1(?:\\s+[^>]*)?>.*<\\/a>/s);\n ```\n \n # --seed--"
        }
    ],
    "stats": {
        "total": 39,
        "additions": 26,
        "deletions": 13
    }
}