{
    "author": "ojeytonwilliams",
    "message": "refactor(parser): helper to get paragraph content (#56326)",
    "sha": "321915cbe903866d638118451891cd737dae5ffe",
    "files": [
        {
            "sha": "eab6406c5a65af47f7568ba8fbef8334bf019989",
            "filename": "tools/challenge-parser/parser/plugins/add-video-question.js",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Fadd-video-question.js?ref=321915cbe903866d638118451891cd737dae5ffe",
            "patch": "@@ -3,6 +3,7 @@ const find = require('unist-util-find');\n const { getSection } = require('./utils/get-section');\n const getAllBefore = require('./utils/before-heading');\n const mdastToHtml = require('./utils/mdast-to-html');\n+const { getParagraphContent } = require('./utils/get-paragraph-content');\n \n const { splitOnThematicBreak } = require('./utils/split-on-thematic-break');\n \n@@ -80,13 +81,7 @@ function getAnswers(answersNodes) {\n function getSolution(solutionNodes) {\n   let solution;\n   try {\n-    if (solutionNodes.length > 1) throw Error('Too many nodes');\n-    if (solutionNodes[0].children.length > 1)\n-      throw Error('Too many child nodes');\n-    const solutionString = solutionNodes[0].children[0].value;\n-    if (solutionString === '') throw Error('Non-empty string required');\n-\n-    solution = Number(solutionString);\n+    solution = Number(getParagraphContent(solutionNodes[0]));\n     if (Number.isNaN(solution)) throw Error('Not a number');\n     if (solution < 1) throw Error('Not positive number');\n   } catch (e) {"
        },
        {
            "sha": "1c7b8ab3d15d91e8af616113b53e6aee639ac943",
            "filename": "tools/challenge-parser/parser/plugins/utils/get-paragraph-content.js",
            "status": "added",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.js?ref=321915cbe903866d638118451891cd737dae5ffe",
            "patch": "@@ -0,0 +1,7 @@\n+const mdastToHtml = require('./mdast-to-html');\n+\n+function getParagraphContent(node) {\n+  return node.type === 'paragraph' ? mdastToHtml(node.children) : null;\n+}\n+\n+module.exports.getParagraphContent = getParagraphContent;"
        },
        {
            "sha": "059c43fe64e75dc4f634595dd19e3b9f1ebdb65f",
            "filename": "tools/challenge-parser/parser/plugins/utils/get-paragraph-content.test.js",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.test.js",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/321915cbe903866d638118451891cd737dae5ffe/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.test.js",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/tools%2Fchallenge-parser%2Fparser%2Fplugins%2Futils%2Fget-paragraph-content.test.js?ref=321915cbe903866d638118451891cd737dae5ffe",
            "patch": "@@ -0,0 +1,22 @@\n+const parseFixture = require('../../__fixtures__/parse-fixture');\n+const { getParagraphContent } = require('./get-paragraph-content');\n+\n+describe('getParagraphContent', () => {\n+  let simpleAST;\n+\n+  beforeAll(async () => {\n+    simpleAST = await parseFixture('simple.md');\n+  });\n+\n+  it('should return the content of a paragraph node', () => {\n+    const paragraphNode = simpleAST.children[1];\n+    expect(paragraphNode.type).toBe('paragraph');\n+    expect(getParagraphContent(paragraphNode)).toEqual('Paragraph 1');\n+  });\n+\n+  it('should return null if the node is not a paragraph', () => {\n+    const headingNode = simpleAST.children[0];\n+    expect(headingNode.type).toBe('heading');\n+    expect(getParagraphContent(headingNode)).toBeNull();\n+  });\n+});"
        }
    ],
    "stats": {
        "total": 38,
        "additions": 31,
        "deletions": 7
    }
}