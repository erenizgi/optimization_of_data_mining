{
    "author": "ahmaxed",
    "message": "feat/ab test landing google auth (#62538)",
    "sha": "03c775ac2dd23498189ab029d8de3ecce90d7b55",
    "files": [
        {
            "sha": "f5c5c2c2b75df9b39a4067bdace9b5ecfe791f3f",
            "filename": "api/src/plugins/auth0.test.ts",
            "status": "modified",
            "additions": 31,
            "deletions": 0,
            "changes": 31,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/api%2Fsrc%2Fplugins%2Fauth0.test.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/api%2Fsrc%2Fplugins%2Fauth0.test.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fauth0.test.ts?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -42,6 +42,37 @@ describe('auth0 plugin', () => {\n     await fastify.register(prismaPlugin);\n   });\n \n+  describe('GET /signin/google', () => {\n+    test('should redirect directly to Google via Auth0 with connection param', async () => {\n+      const res = await fastify.inject({\n+        method: 'GET',\n+        url: '/signin/google'\n+      });\n+      const redirectUrl = new URL(res.headers.location!);\n+      expect(redirectUrl.host).toMatch(AUTH0_DOMAIN);\n+      expect(redirectUrl.pathname).toBe('/authorize');\n+      expect(redirectUrl.searchParams.get('connection')).toBe('google-oauth2');\n+      expect(res.statusCode).toBe(302);\n+    });\n+\n+    test('sets a login-returnto cookie', async () => {\n+      const returnTo = 'http://localhost:3000/learn';\n+      const res = await fastify.inject({\n+        method: 'GET',\n+        url: '/signin/google',\n+        headers: { referer: returnTo }\n+      });\n+      const cookie = res.cookies.find(c => c.name === 'login-returnto');\n+      expect(unsign(cookie!.value).value).toBe(returnTo);\n+      expect(cookie).toMatchObject({\n+        domain: COOKIE_DOMAIN,\n+        httpOnly: true,\n+        secure: true,\n+        sameSite: 'Lax'\n+      });\n+    });\n+  });\n+\n   afterAll(async () => {\n     await fastify.prisma.$runCommandRaw({ dropDatabase: 1 });\n     await fastify.close();"
        },
        {
            "sha": "13edbbddacf6d6ca31029efbef08c0710f5b1c59",
            "filename": "api/src/plugins/auth0.ts",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/api%2Fsrc%2Fplugins%2Fauth0.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/api%2Fsrc%2Fplugins%2Fauth0.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fauth0.ts?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -82,6 +82,25 @@ export const auth0Client: FastifyPluginCallbackTypebox = fp(\n         );\n         void reply.redirect(redirectUrl);\n       });\n+\n+      fastify.get('/signin/google', async function (request, reply) {\n+        const returnTo = request.headers.referer ?? `${HOME_LOCATION}/learn`;\n+        void reply.setCookie('login-returnto', returnTo, {\n+          domain: COOKIE_DOMAIN,\n+          httpOnly: true,\n+          secure: true,\n+          signed: true,\n+          sameSite: 'lax'\n+        });\n+\n+        const authorizationEndpoint =\n+          await this.auth0OAuth.generateAuthorizationUri(request, reply);\n+\n+        const url = new URL(authorizationEndpoint);\n+        url.searchParams.set('connection', 'google-oauth2');\n+\n+        void reply.redirect(url.toString());\n+      });\n       done();\n     });\n "
        },
        {
            "sha": "c9c12b31eb62a7ecdb4edfa3d0980ce2a3c2bd69",
            "filename": "client/config/growthbook-features-default.json",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fconfig%2Fgrowthbook-features-default.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fconfig%2Fgrowthbook-features-default.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fconfig%2Fgrowthbook-features-default.json?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -110,13 +110,13 @@\n       }\n     ]\n   },\n-  \"show-benefits\": {\n+  \"landing-two-button-cta\": {\n     \"defaultValue\": false,\n     \"rules\": [\n       {\n         \"coverage\": 1,\n         \"hashAttribute\": \"id\",\n-        \"seed\": \"show-benefits\",\n+        \"seed\": \"landing-two-button-cta\",\n         \"hashVersion\": 2,\n         \"variations\": [\n           false,\n@@ -126,7 +126,7 @@\n           0.5,\n           0.5\n         ],\n-        \"key\": \"show-benefits\",\n+        \"key\": \"landing-two-button-cta\",\n         \"meta\": [\n           {\n             \"key\": \"0\",\n@@ -138,7 +138,7 @@\n           }\n         ],\n         \"phase\": \"0\",\n-        \"name\": \"prod-show-benefits\"\n+        \"name\": \"prod-landing-two-button-cta\"\n       }\n     ]\n   }"
        },
        {
            "sha": "df1f2b6430796a061ea24e50ce016656888e2cd4",
            "filename": "client/i18n/locales/english/translations.json",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fi18n%2Flocales%2Fenglish%2Ftranslations.json?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -118,6 +118,8 @@\n     \"share-on-threads\": \"Share on Threads\",\n     \"play-scene\": \"Press Play\",\n     \"download-latest-version\": \"Download the Latest Version\",\n+    \"more-ways-to-sign-in\": \"More ways to sign in\",\n+    \"sign-in-with-google\": \"Sign in with Google\",\n     \"go-to-dcc-today\": \"Go to Today's Challenge\",\n     \"go-to-dcc-archive\": \"Go to Daily Coding Challenge Archive\"\n   },\n@@ -893,7 +895,8 @@\n     \"fsd-b-benefit-2-title\": \"Professional Certification\",\n     \"fsd-b-benefit-2-description\": \"Prove your skills with an official, verifiable certification.\",\n     \"fsd-b-benefit-3-title\": \"500+ Exercises\",\n-    \"fsd-b-benefit-3-description\": \"Solidify your knowledge with plenty of practice.\"\n+    \"fsd-b-benefit-3-description\": \"Solidify your knowledge with plenty of practice.\",\n+    \"or\": \"OR\"\n   },\n   \"icons\": {\n     \"gold-cup\": \"Gold Cup\","
        },
        {
            "sha": "3ca79f00a520ba75d97887c21ff98e965db3393a",
            "filename": "client/src/components/Header/components/login.tsx",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Flogin.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Flogin.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2FHeader%2Fcomponents%2Flogin.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -29,23 +29,23 @@ const Login = ({\n   isSignedIn\n }: LoginProps): JSX.Element => {\n   const { t } = useTranslation();\n-\n   const href = isSignedIn ? `${homeLocation}/learn` : `${apiLocation}/signin`;\n   return (\n     <a\n       className={(block ? 'btn-cta-big btn-block' : '') + ' signup-btn btn-cta'}\n       data-test-label={dataTestLabel}\n-      data-playwright-test-label='header-sign-in-button'\n+      data-playwright-test-label={\n+        dataTestLabel ? dataTestLabel : 'sign-in-button'\n+      }\n       href={href}\n       onClick={() => {\n         callGA({\n           event: 'sign_in'\n         });\n       }}\n     >\n-      <span className='login-btn-icon'>\n+      <span className='login-btn-icon' aria-hidden='true'>\n         <FontAwesomeIcon icon={faRightToBracket} />\n-        <span className='sr-only'> {t('buttons.sign-in')}</span>\n       </span>\n       <span className='login-btn-text'>{children || t('buttons.sign-in')}</span>\n     </a>"
        },
        {
            "sha": "a0fa45eada8107ab611a07466646b62374364088",
            "filename": "client/src/components/landing/components/big-call-to-action.tsx",
            "status": "modified",
            "additions": 9,
            "deletions": 3,
            "changes": 12,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Fbig-call-to-action.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Fbig-call-to-action.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Fbig-call-to-action.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -2,14 +2,20 @@ import React from 'react';\n import { useTranslation } from 'react-i18next';\n import Login from '../../Header/components/login';\n \n-const BigCallToAction = ({ text }: { text?: string }): JSX.Element => {\n+const BigCallToAction = ({\n+  text,\n+  testLabel\n+}: {\n+  text?: string;\n+  testLabel?: string;\n+}): JSX.Element => {\n   const { t } = useTranslation();\n \n   return (\n     <Login\n       block={true}\n-      data-test-label='landing-big-cta'\n-      data-playwright-test-label='landing-big-cta'\n+      data-test-label={testLabel}\n+      data-playwright-test-label={testLabel}\n     >\n       {text ? text : t('buttons.logged-in-cta-btn')}\n     </Login>"
        },
        {
            "sha": "7324d54dd750ee2ed24f44613d08c023e49e112a",
            "filename": "client/src/components/landing/components/landing-top-b.tsx",
            "status": "removed",
            "additions": 0,
            "deletions": 89,
            "changes": 89,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/2bd3ec1db88a96b9d984bdb1c4a94075b60ff6f5/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top-b.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/2bd3ec1db88a96b9d984bdb1c4a94075b60ff6f5/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top-b.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top-b.tsx?ref=2bd3ec1db88a96b9d984bdb1c4a94075b60ff6f5",
            "patch": "@@ -1,89 +0,0 @@\n-import React from 'react';\n-import { Trans, useTranslation } from 'react-i18next';\n-import { Container, Col, Row, Spacer } from '@freecodecamp/ui';\n-import { clientLocale } from '../../../../config/env.json';\n-import {\n-  AmazonLogo,\n-  AppleLogo,\n-  MicrosoftLogo,\n-  SpotifyLogo,\n-  GoogleLogo,\n-  TencentLogo,\n-  AlibabaLogo\n-} from '../../../assets/images/components';\n-import BigCallToAction from './big-call-to-action';\n-import CampersImage from './campers-image';\n-\n-function LandingTop(): JSX.Element {\n-  const { t } = useTranslation();\n-  const showChineseLogos = ['chinese', 'chinese-tradition'].includes(\n-    clientLocale\n-  );\n-  return (\n-    <Container\n-      fluid={true}\n-      className='landing-top lading-top-c gradient-container'\n-    >\n-      <Container>\n-        <Row className='landing-top-two-column'>\n-          <Spacer size='m' />\n-          <Col className='landing-top-left'>\n-            <h1\n-              id='content-start'\n-              className='ultra-heading'\n-              data-test-label='landing-header'\n-              data-playwright-test-label='big-heading-1-b'\n-            >\n-              {t('landing.big-heading-1-b')}\n-            </h1>\n-            <p data-playwright-test-label='advance-career'>\n-              {t('landing.advance-career')}\n-            </p>\n-            <Spacer size='m' />\n-\n-            <BigCallToAction />\n-            <Spacer size='m' />\n-          </Col>\n-          <Col className='landing-top-right'>\n-            <CampersImage />\n-            <Spacer size='m' />\n-          </Col>\n-        </Row>\n-      </Container>\n-      <Container>\n-        <Row>\n-          <Col sm={10} smOffset={1} xs={12} className='brands-container'>\n-            <Spacer size='l' />\n-            <p data-playwright-test-label='graduates-work'>\n-              <Trans>landing.graduates-work</Trans>\n-            </p>\n-            <Spacer size='s' />\n-            <div\n-              className='logo-row'\n-              data-playwright-test-label='brand-logo-container'\n-            >\n-              <AppleLogo />\n-              <GoogleLogo />\n-              <MicrosoftLogo />\n-              {showChineseLogos ? (\n-                <>\n-                  <TencentLogo />\n-                  <AlibabaLogo />\n-                </>\n-              ) : (\n-                <>\n-                  <SpotifyLogo />\n-                  <AmazonLogo />\n-                </>\n-              )}\n-            </div>\n-            <Spacer size='m' />\n-          </Col>\n-        </Row>\n-      </Container>\n-    </Container>\n-  );\n-}\n-\n-LandingTop.displayName = 'LandingTop';\n-export default LandingTop;"
        },
        {
            "sha": "851aaef46a51f3dbfbebbff20fb4e20bcd8a5f4e",
            "filename": "client/src/components/landing/components/landing-top.tsx",
            "status": "modified",
            "additions": 56,
            "deletions": 55,
            "changes": 111,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Flanding-top.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -1,5 +1,6 @@\n import React from 'react';\n import { Trans, useTranslation } from 'react-i18next';\n+import { useFeature } from '@growthbook/growthbook-react';\n import { Container, Col, Row, Spacer } from '@freecodecamp/ui';\n import { clientLocale } from '../../../../config/env.json';\n import {\n@@ -12,78 +13,78 @@ import {\n   AlibabaLogo\n } from '../../../assets/images/components';\n import BigCallToAction from './big-call-to-action';\n+import TwoButtonCTA from './two-button-cta';\n import CampersImage from './campers-image';\n \n-const LogoRow = (): JSX.Element => {\n+function LandingTop(): JSX.Element {\n+  const { t } = useTranslation();\n+  const showTwoButtonCTA = useFeature('landing-two-button-cta').on;\n   const showChineseLogos = ['chinese', 'chinese-tradition'].includes(\n     clientLocale\n   );\n \n   return (\n-    <>\n-      <p className='logo-row-title' data-playwright-test-label='h2-heading'>\n-        <Trans>landing.h2-heading</Trans>\n-      </p>\n-      <div\n-        className='logo-row'\n-        data-playwright-test-label='brand-logo-container'\n-      >\n-        <AppleLogo />\n-        <GoogleLogo />\n-        <MicrosoftLogo />\n-        {showChineseLogos ? (\n-          <>\n-            <TencentLogo />\n-            <AlibabaLogo />\n-          </>\n-        ) : (\n-          <>\n-            <SpotifyLogo />\n-            <AmazonLogo />\n-          </>\n-        )}\n-      </div>\n-    </>\n-  );\n-};\n-\n-function LandingTop(): JSX.Element {\n-  const { t } = useTranslation();\n-\n-  return (\n-    <Container fluid={true} className='gradient-container'>\n-      <Container className='landing-top'>\n-        <Spacer size='m' />\n-        <Row>\n-          <Col lg={8} lgOffset={2} sm={10} smOffset={1} xs={12}>\n+    <Container\n+      fluid={true}\n+      className='landing-top lading-top-c gradient-container'\n+    >\n+      <Container>\n+        <Row className='landing-top-two-column' data-test-label='landing-top'>\n+          <Spacer size='m' />\n+          <Col className='landing-top-left'>\n             <h1\n               id='content-start'\n-              className='mega-heading'\n+              className='ultra-heading'\n               data-test-label='landing-header'\n-              data-playwright-test-label='landing-big-heading-1'\n+              data-playwright-test-label='big-heading-1-b'\n             >\n-              {t('landing.big-heading-1')}\n+              {t('landing.big-heading-1-b')}\n             </h1>\n-            <p\n-              className='mega-heading'\n-              data-playwright-test-label='landing-big-heading-2'\n-            >\n-              {t('landing.big-heading-2')}\n+            <p data-playwright-test-label='advance-career'>\n+              {t('landing.advance-career')}\n             </p>\n-            <p\n-              className='mega-heading'\n-              data-playwright-test-label='landing-big-heading-3'\n-            >\n-              {t('landing.big-heading-3')}\n-            </p>\n-            <LogoRow />\n             <Spacer size='m' />\n-            <BigCallToAction />\n+\n+            {showTwoButtonCTA ? (\n+              <TwoButtonCTA />\n+            ) : (\n+              <BigCallToAction testLabel='landing-top-big-cta' />\n+            )}\n+            <Spacer size='m' />\n+          </Col>\n+          <Col className='landing-top-right'>\n+            <CampersImage />\n+            <Spacer size='m' />\n           </Col>\n         </Row>\n+      </Container>\n+      <Container>\n         <Row>\n-          <Col lg={8} lgOffset={2} sm={10} smOffset={1} xs={12}>\n-            <CampersImage />\n+          <Col sm={10} smOffset={1} xs={12} className='brands-container'>\n+            <Spacer size='l' />\n+            <p data-playwright-test-label='graduates-work'>\n+              <Trans>landing.graduates-work</Trans>\n+            </p>\n+            <Spacer size='s' />\n+            <div\n+              className='logo-row'\n+              data-playwright-test-label='brand-logo-container'\n+            >\n+              <AppleLogo />\n+              <GoogleLogo />\n+              <MicrosoftLogo />\n+              {showChineseLogos ? (\n+                <>\n+                  <TencentLogo />\n+                  <AlibabaLogo />\n+                </>\n+              ) : (\n+                <>\n+                  <SpotifyLogo />\n+                  <AmazonLogo />\n+                </>\n+              )}\n+            </div>\n             <Spacer size='m' />\n           </Col>\n         </Row>"
        },
        {
            "sha": "67d7eb0d699fab02c33e1f66d333edf1100c8700",
            "filename": "client/src/components/landing/components/two-button-cta.test.tsx",
            "status": "added",
            "additions": 70,
            "deletions": 0,
            "changes": 70,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.test.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.test.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.test.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -0,0 +1,70 @@\n+import React from 'react';\n+import { render, screen } from '@testing-library/react';\n+import { Provider } from 'react-redux';\n+import { describe, expect, test, vi } from 'vitest';\n+import { createStore } from '../../../redux/create-store';\n+import TwoButtonCTA from './two-button-cta';\n+\n+vi.mock('../../../utils/get-words');\n+\n+const renderWithStore = ({ isSignedIn }: { isSignedIn: boolean }) => {\n+  const preloadedState = {\n+    app: {\n+      user: {\n+        sessionUser: isSignedIn ? { id: 'user-id', username: 'fcc-user' } : null\n+      }\n+    }\n+  };\n+\n+  const store = createStore(preloadedState);\n+\n+  render(\n+    <Provider store={store}>\n+      <TwoButtonCTA />\n+    </Provider>\n+  );\n+\n+  const googleCta = screen.getByRole('link', {\n+    name: 'buttons.sign-in-with-google'\n+  });\n+  const moreWaysCta = screen.getByRole('link', {\n+    name: 'buttons.more-ways-to-sign-in'\n+  });\n+\n+  return { googleCta, moreWaysCta };\n+};\n+\n+describe('Stacked landing CTA', () => {\n+  test('renders Google and More ways CTAs', () => {\n+    const { googleCta, moreWaysCta } = renderWithStore({ isSignedIn: false });\n+\n+    expect(googleCta).toBeInTheDocument();\n+    expect(moreWaysCta).toBeInTheDocument();\n+  });\n+\n+  test('links go to API when signed out', () => {\n+    const { googleCta, moreWaysCta } = renderWithStore({ isSignedIn: false });\n+\n+    expect(googleCta).toHaveAttribute(\n+      'href',\n+      expect.stringMatching(/\\/signin\\/google$/)\n+    );\n+    expect(moreWaysCta).toHaveAttribute(\n+      'href',\n+      expect.stringMatching(/\\/signin$/)\n+    );\n+  });\n+\n+  test('links go to learn when signed in', () => {\n+    const { googleCta, moreWaysCta } = renderWithStore({ isSignedIn: true });\n+\n+    expect(googleCta).toHaveAttribute(\n+      'href',\n+      expect.stringMatching(/\\/learn$/)\n+    );\n+    expect(moreWaysCta).toHaveAttribute(\n+      'href',\n+      expect.stringMatching(/\\/learn$/)\n+    );\n+  });\n+});"
        },
        {
            "sha": "36c26dca0062ed0ad8c7dd48f4ca397494c2cc44",
            "filename": "client/src/components/landing/components/two-button-cta.tsx",
            "status": "added",
            "additions": 98,
            "deletions": 0,
            "changes": 98,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Fcomponents%2Ftwo-button-cta.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -0,0 +1,98 @@\n+import React from 'react';\n+import { useTranslation } from 'react-i18next';\n+import { connect } from 'react-redux';\n+import { createSelector } from 'reselect';\n+\n+import envData from '../../../../config/env.json';\n+import { isSignedInSelector } from '../../../redux/selectors';\n+import callGA from '../../../analytics/call-ga';\n+\n+const { apiLocation, homeLocation } = envData as {\n+  apiLocation: string;\n+  homeLocation: string;\n+};\n+\n+interface TwoButtonCTAProps {\n+  isSignedIn?: boolean;\n+}\n+\n+const TwoButtonCTA = ({ isSignedIn }: TwoButtonCTAProps): JSX.Element => {\n+  const { t } = useTranslation();\n+\n+  const handleGoogleClick = () => callGA({ event: 'sign_in' });\n+  const handleMoreWaysClick = () => callGA({ event: 'sign_in' });\n+\n+  const googleHref = isSignedIn\n+    ? `${homeLocation}/learn`\n+    : `${apiLocation}/signin/google`;\n+  const moreWaysHref = isSignedIn\n+    ? `${homeLocation}/learn`\n+    : `${apiLocation}/signin`;\n+\n+  return (\n+    <div className='two-button-cta'>\n+      <a\n+        className='signup-btn btn btn-sm btn-block google-btn'\n+        data-test-label='landing-google-cta'\n+        data-playwright-test-label='landing-google-cta'\n+        href={googleHref}\n+        onClick={handleGoogleClick}\n+      >\n+        <span className='google-btn-icon' aria-hidden='true'>\n+          {/* Google \"G\" logo box per brand guidelines */}\n+          <svg\n+            xmlns='http://www.w3.org/2000/svg'\n+            viewBox='0 0 48 48'\n+            width='18'\n+            height='18'\n+          >\n+            <path\n+              fill='#EA4335'\n+              d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.91-6.91C35.9 2.3 30.37 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.9 6.91C13.42 14.83 18.27 9.5 24 9.5z'\n+            />\n+            <path\n+              fill='#4285F4'\n+              d='M46.5 24c0-1.64-.15-3.2-.44-4.71H24v8.92h12.65c-.55 2.96-2.2 5.47-4.71 7.17l7.23 5.61C43.9 36.78 46.5 30.86 46.5 24z'\n+            />\n+            <path\n+              fill='#FBBC05'\n+              d='M11.46 28.13A14.5 14.5 0 0 1 10.5 24c0-1.46.25-2.87.7-4.19l-8.9-6.91A23.93 23.93 0 0 0 0 24c0 3.91.94 7.6 2.6 10.86l8.86-6.73z'\n+            />\n+            <path\n+              fill='#34A853'\n+              d='M24 48c6.48 0 11.93-2.14 15.9-5.86l-7.23-5.61c-2 1.35-4.62 2.13-8.67 2.13-5.73 0-10.58-5.33-12.53-10.63l-8.9 6.91C6.51 42.62 14.62 48 24 48z'\n+            />\n+            <path fill='none' d='M0 0h48v48H0z' />\n+          </svg>\n+        </span>\n+        <span>{t('buttons.sign-in-with-google')}</span>\n+      </a>\n+\n+      <div className='cta-divider' role='separator' aria-label='or'>\n+        <span className='cta-divider-line' />\n+        <span>{t('misc.or')}</span>\n+        <span className='cta-divider-line' />\n+      </div>\n+\n+      <a\n+        className='signup-btn btn btn-sm btn-block more-ways-btn'\n+        data-test-label='landing-more-ways-cta'\n+        data-playwright-test-label='landing-more-ways-cta'\n+        href={moreWaysHref}\n+        onClick={handleMoreWaysClick}\n+      >\n+        <span className='login-btn-text'>\n+          {t('buttons.more-ways-to-sign-in')}\n+        </span>\n+      </a>\n+    </div>\n+  );\n+};\n+\n+TwoButtonCTA.displayName = 'TwoButtonCTA';\n+\n+const mapStateToProps = createSelector(isSignedInSelector, isSignedIn => ({\n+  isSignedIn\n+}));\n+\n+export default connect(mapStateToProps)(TwoButtonCTA);"
        },
        {
            "sha": "4124e4f85b929f7fdd62755836546e4ad5923ebf",
            "filename": "client/src/components/landing/landing.css",
            "status": "modified",
            "additions": 103,
            "deletions": 1,
            "changes": 104,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Flanding.css",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fcomponents%2Flanding%2Flanding.css",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fcomponents%2Flanding%2Flanding.css?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -217,7 +217,6 @@ figcaption.caption {\n   }\n }\n \n-/* AB testing styles */\n .landing-top .mega-heading {\n   font-size: 2.2rem;\n   margin: 0px 0px 2rem;\n@@ -230,6 +229,109 @@ figcaption.caption {\n   padding: 12px 20px;\n }\n \n+.two-button-cta {\n+  display: grid;\n+  gap: 10px;\n+  max-width: 500px;\n+}\n+\n+@media (max-width: 1200px) {\n+  .two-button-cta {\n+    margin: 0 auto;\n+  }\n+}\n+\n+.google-btn {\n+  align-items: center;\n+  background: #fff;\n+  border: 3px solid #ffffff;\n+  color: #000;\n+  display: inline-flex;\n+  font-family: var(--font-family-sans-serif);\n+  font-size: 1rem;\n+  min-height: 48px;\n+  padding: 10px 16px;\n+  font-weight: 600;\n+  letter-spacing: 0.01em;\n+}\n+.google-btn:hover,\n+.google-btn:focus {\n+  background: #000;\n+  border-color: #ffffff;\n+  color: #fff;\n+}\n+\n+.light-palette .google-btn {\n+  background: #000;\n+  border-color: #000000;\n+  color: #fff;\n+}\n+\n+.light-palette .google-btn:hover,\n+.light-palette .google-btn:focus {\n+  background: #ffffff;\n+  border-color: #000000;\n+  color: #000000;\n+  text-decoration: none;\n+}\n+\n+.google-btn svg {\n+  display: block;\n+  height: 18px;\n+  width: 18px;\n+  margin: 0 10px;\n+}\n+.google-btn-icon {\n+  border-radius: 2px;\n+  display: inline-flex;\n+  align-items: center;\n+  justify-content: center;\n+  height: 20px;\n+  min-width: 20px;\n+  padding-inline-end: 4px;\n+  position: relative;\n+}\n+\n+.more-ways-btn {\n+  align-items: center;\n+  background-image: linear-gradient(#fecc4c, #ffac33);\n+  border: 3px solid #feac32;\n+  color: #0a0a23;\n+  display: inline-flex;\n+  font-weight: 600;\n+  justify-content: center;\n+  min-height: 48px;\n+  padding: 12px 20px;\n+  text-decoration: none;\n+  font-size: 1.1rem;\n+}\n+.more-ways-btn:hover,\n+.more-ways-btn:focus {\n+  background-color: #fecc4c;\n+  background-image: none;\n+  border-color: #f1a02a;\n+  color: #0a0a23;\n+  text-decoration: none;\n+}\n+\n+.cta-divider {\n+  display: flex;\n+  align-items: center;\n+  gap: 8px;\n+  color: var(--secondary-color);\n+  text-transform: lowercase;\n+  font-size: 0.95rem;\n+  margin-block: 12px;\n+  width: 100%;\n+}\n+\n+.cta-divider-line {\n+  height: 1px;\n+  background: none;\n+  border-top: 1px dashed var(--gray-45);\n+  flex: 1 1 auto;\n+}\n+\n @media (min-width: 500px) {\n   .landing-top .mega-heading {\n     font-size: 3rem;"
        },
        {
            "sha": "aa9f545a0a173134c3c3204f394a7fd923161f08",
            "filename": "client/src/pages/index.tsx",
            "status": "modified",
            "additions": 3,
            "deletions": 14,
            "changes": 17,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fpages%2Findex.tsx",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/client%2Fsrc%2Fpages%2Findex.tsx",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/client%2Fsrc%2Fpages%2Findex.tsx?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -3,25 +3,20 @@ import { useTranslation } from 'react-i18next';\n import { useGrowthBook } from '@growthbook/growthbook-react';\n import SEO from '../components/seo';\n import { Loader } from '../components/helpers';\n-import LandingTopB from '../components/landing/components/landing-top-b';\n import LandingTop from '../components/landing/components/landing-top';\n import Testimonials from '../components/landing/components/testimonials';\n import Certifications from '../components/landing/components/certifications';\n import Faq from '../components/landing/components/faq';\n import Benefits from '../components/landing/components/benefits';\n import '../components/landing/landing.css';\n \n-type LandingProps = {\n-  showLandingPageRedesign: boolean;\n-};\n-\n-const Landing = ({ showLandingPageRedesign }: LandingProps) => (\n+const Landing = () => (\n   <main\n     id='landing-content'\n     data-testid='landing-content'\n     className={`landing-page`}\n   >\n-    {showLandingPageRedesign ? <LandingTopB /> : <LandingTop />}\n+    <LandingTop />\n     <Benefits />\n     <Testimonials />\n     <Certifications />\n@@ -33,20 +28,14 @@ function IndexPage(): JSX.Element {\n   const { t } = useTranslation();\n   const growthbook = useGrowthBook();\n   if (growthbook && growthbook.ready) {\n-    console.error('GrowthBook Ready', growthbook);\n-    const showLandingPageRedesign = growthbook.getFeatureValue(\n-      'landing-top-skill-focused',\n-      false\n-    );\n     growthbook.getFeatureValue('landing-aa-test', false);\n     return (\n       <>\n         <SEO title={t('metaTags:title')} />\n-        <Landing showLandingPageRedesign={showLandingPageRedesign} />\n+        <Landing />\n       </>\n     );\n   } else {\n-    console.error('GrowthBook not ready yet', growthbook);\n     return (\n       <>\n         <SEO title={t('metaTags:title')} />"
        },
        {
            "sha": "51c7bc88a39ec62257170b397c095d4e52244573",
            "filename": "e2e/header.spec.ts",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/e2e%2Fheader.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/e2e%2Fheader.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Fheader.spec.ts?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -15,7 +15,7 @@ const headerComponentElements = {\n   languageButton: 'header-lang-list-option',\n   menuButton: 'header-menu-button',\n   menu: 'header-menu',\n-  signInButton: 'header-sign-in-button'\n+  signInButton: 'sign-in-button'\n } as const;\n \n const examUrl ="
        },
        {
            "sha": "a8d2881033a8a63db8d39e8b3fbeda384ebb1fb2",
            "filename": "e2e/landing.spec.ts",
            "status": "modified",
            "additions": 62,
            "deletions": 68,
            "changes": 130,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/03c775ac2dd23498189ab029d8de3ecce90d7b55/e2e%2Flanding.spec.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/03c775ac2dd23498189ab029d8de3ecce90d7b55/e2e%2Flanding.spec.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/e2e%2Flanding.spec.ts?ref=03c775ac2dd23498189ab029d8de3ecce90d7b55",
            "patch": "@@ -6,13 +6,15 @@ import { addGrowthbookCookie } from './utils/add-growthbook-cookie';\n \n const landingPageElements = {\n   heading: 'landing-header',\n-  callToAction: 'landing-big-cta',\n   certifications: 'certifications',\n   curriculumBtns: 'curriculum-map-button',\n   testimonials: 'testimonial-card',\n   landingPageImage: 'landing-page-figure',\n   faq: 'landing-page-faq',\n-  jobs: 'More than <strong>100,000</strong> freeCodeCamp.org graduates have gotten <strong>jobs</strong> at tech companies including:'\n+  jobs: 'More than <strong>100,000</strong> freeCodeCamp.org graduates have gotten <strong>jobs</strong> at tech companies including:',\n+  googleCTA: 'landing-google-cta',\n+  moreWaysCTA: 'landing-more-ways-cta',\n+  landingTopCta: 'landing-top-big-cta'\n } as const;\n \n const nonArchivedSuperBlocks = [\n@@ -30,11 +32,68 @@ async function goToLandingPage(page: Page) {\n   await page.goto('/');\n }\n \n-test.describe('Landing Top - Variation B', () => {\n+test.describe('Main CTA - Variation A', () => {\n+  test.beforeEach(async ({ context, page }) => {\n+    await addGrowthbookCookie({ context, variation: 'A' });\n+    await goToLandingPage(page);\n+  });\n+  test('Five main CTAs render correctly', async ({ page }) => {\n+    const landingTopCta = page.getByTestId(landingPageElements.landingTopCta);\n+    const googleCTA = page.getByTestId(landingPageElements.googleCTA);\n+    const moreWaysCTA = page.getByTestId(landingPageElements.moreWaysCTA);\n+    const ctas = page.getByRole('link', {\n+      name: translations.buttons['logged-in-cta-btn']\n+    });\n+    const benefitsCtas = page.getByRole('link', {\n+      name: translations.landing.benefits.cta\n+    });\n+    await expect(benefitsCtas).toHaveCount(1);\n+    await expect(landingTopCta).toHaveText(\n+      translations.buttons['logged-in-cta-btn']\n+    );\n+    await expect(ctas).toHaveCount(4);\n+    for (const cta of await ctas.all()) {\n+      await expect(cta).toBeVisible();\n+    }\n+    await expect(googleCTA).toBeHidden();\n+    await expect(moreWaysCTA).toBeHidden();\n+  });\n+});\n+\n+test.describe('Main CTA - Variation B', () => {\n   test.beforeEach(async ({ context, page }) => {\n     await addGrowthbookCookie({ context, variation: 'B' });\n     await goToLandingPage(page);\n   });\n+  test('Four main and two stacked CTAs render correctly', async ({ page }) => {\n+    const landingTopCta = page.getByTestId(landingPageElements.landingTopCta);\n+    const googleCTA = page.getByTestId(landingPageElements.googleCTA);\n+    const moreWaysCTA = page.getByTestId(landingPageElements.moreWaysCTA);\n+    const ctas = page.getByRole('link', {\n+      name: translations.buttons['logged-in-cta-btn']\n+    });\n+    const benefitsCtas = page.getByRole('link', {\n+      name: translations.landing.benefits.cta\n+    });\n+    await expect(benefitsCtas).toHaveCount(1);\n+    await expect(landingTopCta).toBeHidden();\n+    await expect(ctas).toHaveCount(3);\n+    for (const cta of await ctas.all()) {\n+      await expect(cta).toBeVisible();\n+    }\n+    await expect(googleCTA).toHaveText(\n+      translations.buttons['sign-in-with-google']\n+    );\n+    await expect(moreWaysCTA).toHaveText(\n+      translations.buttons['more-ways-to-sign-in']\n+    );\n+  });\n+});\n+\n+test.describe('Landing Page', () => {\n+  test.beforeEach(async ({ page }) => {\n+    await goToLandingPage(page);\n+  });\n \n   test('Main heading copy renders correctly', async ({ page }) => {\n     const bigHeading = page.getByTestId('big-heading-1-b');\n@@ -54,61 +113,6 @@ test.describe('Landing Top - Variation B', () => {\n       translations.landing['graduates-work'].replace(/<\\/?strong>/g, '')\n     );\n   });\n-});\n-\n-/*\n- *\n- * not currently in use after https://github.com/freeCodeCamp/freeCodeCamp/pull/61359\n- * bring back after we fix GB\n- */\n-\n-// test.describe('Landing Top - Variation A', () => {\n-//   test.beforeEach(async ({ context, page }) => {\n-//     await addGrowthbookCookie({ context, variation: 'newA' });\n-//     await goToLandingPage(page);\n-//   });\n-\n-//   test('The headline renders correctly', async ({ page }) => {\n-//     const landingHeading1 = page.getByTestId('landing-big-heading-1');\n-//     await expect(landingHeading1).toHaveText(\n-//       translations.landing['big-heading-1']\n-//     );\n-\n-//     const landingHeading2 = page.getByTestId('landing-big-heading-2');\n-//     await expect(landingHeading2).toHaveText(\n-//       translations.landing['big-heading-2']\n-//     );\n-\n-//     const landingHeading3 = page.getByTestId('landing-big-heading-3');\n-//     await expect(landingHeading3).toHaveText(\n-//       translations.landing['big-heading-3']\n-//     );\n-//   });\n-\n-//   test('Logo row copy renders correctly', async ({ page }) => {\n-//     const landingH2Heading = page.getByTestId('h2-heading');\n-//     await expect(landingH2Heading).toHaveText(\n-//       translations.landing['h2-heading'].replace(/<\\/?strong>/g, '')\n-//     );\n-//   });\n-\n-//   test('Hero image should have  a description', async ({ isMobile, page }) => {\n-//     const captionText = page.getByText(\n-//       translations.landing['hero-img-description']\n-//     );\n-\n-//     if (isMobile) {\n-//       await expect(captionText).toBeHidden();\n-//     } else {\n-//       await expect(captionText).toBeVisible();\n-//     }\n-//   });\n-// });\n-\n-test.describe('Landing Page', () => {\n-  test.beforeEach(async ({ page }) => {\n-    await goToLandingPage(page);\n-  });\n \n   test('The component Why learn with freeCodeCamp renders correctly', async ({\n     context,\n@@ -123,16 +127,6 @@ test.describe('Landing Page', () => {\n     await expect(h2Element).toBeVisible();\n   });\n \n-  test('Call to action buttons should render correctly', async ({ page }) => {\n-    const ctas = page.getByRole('link', {\n-      name: translations.buttons['logged-in-cta-btn']\n-    });\n-    await expect(ctas).toHaveCount(4);\n-    for (const cta of await ctas.all()) {\n-      await expect(cta).toBeVisible();\n-    }\n-  });\n-\n   test('Hero image should have an alt', async ({ isMobile, page }) => {\n     const campersImage = page.getByAltText(\n       translations.landing['hero-img-alt']"
        }
    ],
    "stats": {
        "total": 704,
        "additions": 464,
        "deletions": 240
    }
}