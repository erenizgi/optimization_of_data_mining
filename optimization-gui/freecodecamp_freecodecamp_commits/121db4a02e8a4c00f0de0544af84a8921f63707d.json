{
    "author": "a2937",
    "message": "fix(curriculum): add tests for globals in cash register (#54769)\n\nCo-authored-by: Ilenia <26656284+ilenia-magoni@users.noreply.github.com>\r\nCo-authored-by: Ilenia M <nethleen@gmail.com>",
    "sha": "121db4a02e8a4c00f0de0544af84a8921f63707d",
    "files": [
        {
            "sha": "d0ba073a919b48b1e7e1428075617bd7ee745eac",
            "filename": "curriculum/challenges/english/15-javascript-algorithms-and-data-structures-22/build-a-cash-register-project/build-a-cash-register.md",
            "status": "modified",
            "additions": 33,
            "deletions": 3,
            "changes": 36,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/121db4a02e8a4c00f0de0544af84a8921f63707d/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/121db4a02e8a4c00f0de0544af84a8921f63707d/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/curriculum%2Fchallenges%2Fenglish%2F15-javascript-algorithms-and-data-structures-22%2Fbuild-a-cash-register-project%2Fbuild-a-cash-register.md?ref=121db4a02e8a4c00f0de0544af84a8921f63707d",
            "patch": "@@ -53,6 +53,27 @@ Fulfill the user stories and pass all the tests below to complete this project.\n \n # --hints--\n \n+You should have the HTML file link to the JavaScript file.\n+\n+```js\n+const script = document.querySelector('script[data-src$=\"script.js\"]');\n+assert.isNotNull(script); \n+```\n+\n+You should have a global variable called `price`. \n+\n+```js\n+price = 10;\n+assert.strictEqual(price, 10);\n+```\n+\n+You should have a global variable called `cid`. \n+\n+```js\n+cid = []; \n+assert.isDefined(cid); \n+```\n+\n You should have an `input` element with an `id` of `\"cash\"`.\n \n ```js\n@@ -119,7 +140,10 @@ cid = [['PENNY', 1.01], ['NICKEL', 2.05], ['DIME', 3.1], ['QUARTER', 4.25], ['ON\n const expected = ['Status: OPEN', 'QUARTER: $0.5'];\n cashInput.dispatchEvent(new Event('change'));\n purchaseBtn.click();\n-assert.isTrue(expected.every(str => changeDueDiv.innerText.trim().toLowerCase().includes(str.toLowerCase())));\n+const result = changeDueDiv.innerText.trim().toLowerCase();\n+assert.isTrue(expected.every(str => result.includes(str.toLowerCase())));\n+const notExpected = [/PENNY/, /NICKEL/, /DIME/, /ONE [^H]/, /FIVE/, /TEN/, /TWENTY/, /ONE HUNDRED/];\n+assert.isTrue(!notExpected.some(regex => result.match(new RegExp(regex, 'i'))))\n ```\n \n When `price` is `3.26`, the value in the `#cash` element is `100`, `cid` is `[[\"PENNY\", 1.01], [\"NICKEL\", 2.05], [\"DIME\", 3.1], [\"QUARTER\", 4.25], [\"ONE\", 90], [\"FIVE\", 55], [\"TEN\", 20], [\"TWENTY\", 60], [\"ONE HUNDRED\", 100]]`, and the `#purchase-btn` element is clicked, the value in the `#change-due` element should be `\"Status: OPEN TWENTY: $60 TEN: $20 FIVE: $15 ONE: $1 QUARTER: $0.5 DIME: $0.2 PENNY: $0.04\"`.\n@@ -136,7 +160,10 @@ cid = [['PENNY', 1.01], ['NICKEL', 2.05], ['DIME', 3.1], ['QUARTER', 4.25], ['ON\n const expected = ['Status: OPEN', 'TWENTY: $60', 'TEN: $20', 'FIVE: $15', 'ONE: $1', 'QUARTER: $0.5', 'DIME: $0.2', 'PENNY: $0.04'];\n cashInput.dispatchEvent(new Event('change'));\n purchaseBtn.click();\n-assert.isTrue(expected.every(str => changeDueDiv.innerText.trim().toLowerCase().includes(str.toLowerCase())));\n+const result = changeDueDiv.innerText.trim().toLowerCase();\n+assert.isTrue(expected.every(str => result.includes(str.toLowerCase())));\n+const notExpected = [/NICKEL/];\n+assert.isTrue(!notExpected.some(regex => result.match(new RegExp(regex, 'i'))))\n ```\n \n When `price` is `19.5`, the value in the `#cash` element is `20`, `cid` is `[[\"PENNY\", 0.01], [\"NICKEL\", 0], [\"DIME\", 0], [\"QUARTER\", 0], [\"ONE\", 0], [\"FIVE\", 0], [\"TEN\", 0], [\"TWENTY\", 0], [\"ONE HUNDRED\", 0]]`, and the `#purchase-btn` element is clicked, the value in the `#change-due` element should be `\"Status: INSUFFICIENT_FUNDS\"`\n@@ -185,7 +212,10 @@ cid = [['PENNY', 0.5], ['NICKEL', 0], ['DIME', 0], ['QUARTER', 0], ['ONE', 0], [\n const expected = ['Status: CLOSED', 'PENNY: $0.5'];\n cashInput.dispatchEvent(new Event('change'));\n purchaseBtn.click();\n-assert.isTrue(expected.every(str => changeDueDiv.innerText.trim().toLowerCase().includes(str.toLowerCase())));\n+const result = changeDueDiv.innerText.trim().toLowerCase();\n+assert.isTrue(expected.every(str => result.includes(str.toLowerCase())));\n+const notExpected = [/NICKEL/, /DIME/, /QUARTER/, /ONE [^H]/, /FIVE/, /TEN/, /TWENTY/, /ONE HUNDRED/];\n+assert.isTrue(!notExpected.some(regex => result.match(new RegExp(regex, 'i'))))\n ```\n \n # --seed--"
        }
    ],
    "stats": {
        "total": 36,
        "additions": 33,
        "deletions": 3
    }
}