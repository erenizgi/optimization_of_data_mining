{
    "author": "raisedadead",
    "message": "fix(api): adjust logging in bouncer, downgrade to trace (#59945)",
    "sha": "27689faf41a508e4c100f9b31474eb8593a742a8",
    "files": [
        {
            "sha": "a7598ddcd29cdf2ccfc3f86a3565562b2e34ac8b",
            "filename": "api/src/plugins/bouncer.ts",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/freeCodeCamp/freeCodeCamp/blob/27689faf41a508e4c100f9b31474eb8593a742a8/api%2Fsrc%2Fplugins%2Fbouncer.ts",
            "raw_url": "https://github.com/freeCodeCamp/freeCodeCamp/raw/27689faf41a508e4c100f9b31474eb8593a742a8/api%2Fsrc%2Fplugins%2Fbouncer.ts",
            "contents_url": "https://api.github.com/repos/freeCodeCamp/freeCodeCamp/contents/api%2Fsrc%2Fplugins%2Fbouncer.ts?ref=27689faf41a508e4c100f9b31474eb8593a742a8",
            "patch": "@@ -21,8 +21,8 @@ const plugin: FastifyPluginCallback = (fastify, _options, done) => {\n       if (!req.user) {\n         const logger = fastify.log.child({ req });\n \n-        logger.debug(\n-          'User tried to access a protected route without being authenticated.'\n+        logger.trace(\n+          'Protected route accessed by unauthenticated user. Sent 401.'\n         );\n \n         await reply.status(401).send({\n@@ -38,8 +38,8 @@ const plugin: FastifyPluginCallback = (fastify, _options, done) => {\n     async function (req: FastifyRequest, reply: FastifyReply) {\n       const logger = fastify.log.child({ req });\n       if (!req.user) {\n-        logger.debug(\n-          'User tried to access a protected route without being authenticated.'\n+        logger.trace(\n+          'Protected route accessed by unauthenticated user. Redirecting to login.'\n         );\n         const { origin } = getRedirectParams(req);\n         await reply.redirectWithMessage(origin, {\n@@ -59,7 +59,7 @@ const plugin: FastifyPluginCallback = (fastify, _options, done) => {\n \n         const { returnTo } = getRedirectParams(req);\n \n-        logger.debug(`User is being redirected to: ${returnTo}`);\n+        logger.trace(`User ${req.user?.id} redirected to: ${returnTo}`);\n \n         await reply.redirect(returnTo);\n       }"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 5,
        "deletions": 5
    }
}