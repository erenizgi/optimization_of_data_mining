{
    "author": "WillFroom",
    "message": "[XLA:CPU] Measure process CPU time in reduction benchmark.\n\nPiperOrigin-RevId: 825102754",
    "sha": "2ef85038ed9e98b1586efc716f2d3a633675eea9",
    "files": [
        {
            "sha": "272d96002c27214f6acc09ce53584e350365cacd",
            "filename": "third_party/xla/xla/backends/cpu/benchmarks/reduction_benchmark_test.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/2ef85038ed9e98b1586efc716f2d3a633675eea9/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fbenchmarks%2Freduction_benchmark_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/2ef85038ed9e98b1586efc716f2d3a633675eea9/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fbenchmarks%2Freduction_benchmark_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fbenchmarks%2Freduction_benchmark_test.cc?ref=2ef85038ed9e98b1586efc716f2d3a633675eea9",
            "patch": "@@ -198,15 +198,17 @@ static void BM_ReduceWindowAddF32OverlappingWindows(\n       ->Arg(512)                \\\n       ->Arg(1024)               \\\n       ->Arg(8192)               \\\n-      ->Arg(16384)\n+      ->Arg(16384)              \\\n+      ->MeasureProcessCPUTime();\n \n BENCHMARK_SIZES(BM_ReduceAddF32);\n BENCHMARK_SIZES(BM_ReduceAddBF16);\n \n XLA_CPU_BENCHMARK(BM_ReduceAddF32OverDimension)\n     ->ArgName(\"reduce_dim\")\n     ->Arg(0)\n-    ->Arg(1);\n+    ->Arg(1)\n+    ->MeasureProcessCPUTime();\n \n XLA_CPU_BENCHMARK(BM_ReduceWindowAddF32OuterAndInnerDim)\n     ->MeasureProcessCPUTime()\n@@ -217,7 +219,8 @@ XLA_CPU_BENCHMARK(BM_ReduceWindowAddF32OuterAndInnerDim)\n     ->Args({32, 4})\n     ->Args({32, 8})\n     ->Args({32, 16})\n-    ->Args({32, 32});\n+    ->Args({32, 32})\n+    ->MeasureProcessCPUTime();\n \n XLA_CPU_BENCHMARK(BM_ReduceWindowAddF32SkippingData)->MeasureProcessCPUTime();\n "
        }
    ],
    "stats": {
        "total": 9,
        "additions": 6,
        "deletions": 3
    }
}