{
    "author": "tensorflower-gardener",
    "message": "Support 'GetDimensionSize' ops in auto sharding.\n\nPiperOrigin-RevId: 797878507",
    "sha": "884068c59de2d80dbf2390563f60c47ee9eaca6e",
    "files": [
        {
            "sha": "6308a190a72bb7091c095095ffba65dfedcffd11",
            "filename": "third_party/xla/xla/hlo/experimental/auto_sharding/auto_sharding_strategy.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/884068c59de2d80dbf2390563f60c47ee9eaca6e/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding_strategy.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/884068c59de2d80dbf2390563f60c47ee9eaca6e/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding_strategy.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding_strategy.cc?ref=884068c59de2d80dbf2390563f60c47ee9eaca6e",
            "patch": "@@ -364,6 +364,13 @@ BuildStrategyAndCost(\n                               {}, *strategy_group);\n         break;\n       }\n+      case HloOpcode::kGetDimensionSize: {\n+        strategy_group = CreateLeafStrategyGroupWithoutInNodes(instruction_id,\n+                                                               strategy_groups);\n+        AddReplicatedStrategy(ins, ins->shape(), cluster_env, strategy_map, 0,\n+                              {}, *strategy_group);\n+        break;\n+      }\n       case HloOpcode::kScatter: {\n         strategy_group = CreateLeafStrategyGroup(instruction_id, ins,\n                                                  strategy_map, strategy_groups);"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 7,
        "deletions": 0
    }
}