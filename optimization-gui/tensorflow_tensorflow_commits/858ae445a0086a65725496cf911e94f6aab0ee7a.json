{
    "author": "SandSnip3r",
    "message": "Implement non-virtual interface (NVI) pattern for HloPassInterface's Run & RunOnModuleGroup functions. This allows us to add pre&post operations around the overridden behavior.\n\nThe public functions remain `Run` and `RunOnModuleGroup`, but the virtual overrides are now `RunImpl` and `RunOnModuleGroupImpl`.\n\nPiperOrigin-RevId: 827949054",
    "sha": "858ae445a0086a65725496cf911e94f6aab0ee7a",
    "files": [
        {
            "sha": "35d6c5b33b334aba2a51b111b370b0c13b2ec508",
            "filename": "third_party/xla/xla/backends/cpu/autotuner/llvm_kernel_autotuner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,7 +39,7 @@ limitations under the License.\n \n namespace xla::cpu {\n \n-absl::StatusOr<bool> LlvmKernelAutotuner::Run(\n+absl::StatusOr<bool> LlvmKernelAutotuner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(auto compiler,"
        },
        {
            "sha": "fe26d9713467422fc3e0cce0eadfb9db9b058036",
            "filename": "third_party/xla/xla/backends/cpu/autotuner/llvm_kernel_autotuner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fautotuner%2Fllvm_kernel_autotuner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,7 +40,8 @@ class LlvmKernelAutotuner : public HloModulePass {\n \n   absl::string_view name() const override { return kLlvmKernelAutotunerName; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "5bf97d564a25c7e03a9e5d2b2a41a2b48f272db8",
            "filename": "third_party/xla/xla/backends/cpu/transforms/collectives/all_reduce_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -23,7 +23,7 @@ limitations under the License.\n \n namespace xla::cpu {\n \n-absl::StatusOr<bool> CpuAllReduceCombiner::Run(\n+absl::StatusOr<bool> CpuAllReduceCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return RunWithKeyCombiner(module, execution_threads,"
        },
        {
            "sha": "be3f2b21c03749749ed419c2406ec4f86d10cefb",
            "filename": "third_party/xla/xla/backends/cpu/transforms/collectives/all_reduce_combiner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,8 +33,8 @@ class CpuAllReduceCombiner : public AllReduceCombiner {\n \n   absl::string_view name() const override { return \"cpu-all-reduce-combiner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "4e3fd3e2d1a0d91a1e26748bd43c63a71f8f5be8",
            "filename": "third_party/xla/xla/backends/cpu/transforms/library_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -334,7 +334,7 @@ absl::StatusOr<bool> LibraryRewriter::ProcessComputation(\n   return !fused_.empty();\n }\n \n-absl::StatusOr<bool> LibraryRewriter::Run(\n+absl::StatusOr<bool> LibraryRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool module_changed = false;"
        },
        {
            "sha": "a36f612c65544249902279474dbd026df8eec23a",
            "filename": "third_party/xla/xla/backends/cpu/transforms/library_rewriter.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Flibrary_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -130,14 +130,13 @@ class LibraryRewriter : public HloModulePass {\n   // Finds and creates fusions in the given computation.\n   absl::StatusOr<bool> ProcessComputation(HloComputation* computation);\n \n-  // Runs the pass.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::string_view name() const override { return \"dot-library-rewriter\"; }\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n-  absl::string_view name() const override { return \"dot-library-rewriter\"; }\n-\n  private:\n   const TargetMachineFeatures* target_machine_features_;\n   const LibraryRewriterOptions options_;"
        },
        {
            "sha": "c6b823cdf77ce2543949cb4779d9bc65654925d5",
            "filename": "third_party/xla/xla/codegen/emitters/fusion_wrapper_base.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -28,7 +28,7 @@ limitations under the License.\n namespace xla {\n namespace emitters {\n \n-absl::StatusOr<bool> FusionWrapperBase::Run(\n+absl::StatusOr<bool> FusionWrapperBase::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   auto instructions = module->entry_computation()->MakeInstructionPostOrder();"
        },
        {
            "sha": "393732cc64e540d6ff1244a8e74ff1cac792a1e2",
            "filename": "third_party/xla/xla/codegen/emitters/fusion_wrapper_base.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ffusion_wrapper_base.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,8 @@ class FusionWrapperBase : public HloModulePass {\n     return HloInstruction::FusionKind::kLoop;\n   };\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "74569d850b37e6591ecef349d34fdf9a537e4c26",
            "filename": "third_party/xla/xla/core/host_offloading/annotate_host_compute_offload.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -51,8 +51,7 @@ void AnnotateComputationHostOffload(HloComputation& computation) {\n }\n }  // namespace\n \n-\n-absl::StatusOr<bool> AnnotateHostComputeOffload::Run(\n+absl::StatusOr<bool> AnnotateHostComputeOffload::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool modified = false;"
        },
        {
            "sha": "64999a0ecaca8510b4f57b4da0822fe96ca31c31",
            "filename": "third_party/xla/xla/core/host_offloading/annotate_host_compute_offload.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fannotate_host_compute_offload.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,7 +34,8 @@ class AnnotateHostComputeOffload : public HloModulePass {\n     return \"annotate-host-compute-offload\";\n   }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "3bcaf4f41a69bf46b93cf949807c663efb84c10d",
            "filename": "third_party/xla/xla/core/host_offloading/hlo_host_device_type_call_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -602,7 +602,7 @@ HloHostDeviceTypeCallWrapper::MaterializeConstantsOnHostComputation(\n   return tsl::down_cast<HloCallInstruction*>(new_call);\n }\n \n-absl::StatusOr<bool> HloHostDeviceTypeCallWrapper::Run(\n+absl::StatusOr<bool> HloHostDeviceTypeCallWrapper::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool has_host_compute_instr = false;"
        },
        {
            "sha": "4ea47b6daff3eb268ce6dec8b631e74ccd48203f",
            "filename": "third_party/xla/xla/core/host_offloading/hlo_host_device_type_call_wrapper.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhlo_host_device_type_call_wrapper.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -47,10 +47,6 @@ class HloHostDeviceTypeCallWrapper : public HloModulePass {\n     return \"hlo_host_device_type_call_wrapper\";\n   }\n \n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Materializes constants on the host computation to avoid unnecessary device\n   // to host transfers.\n   //\n@@ -66,6 +62,11 @@ class HloHostDeviceTypeCallWrapper : public HloModulePass {\n   static absl::StatusOr<HloCallInstruction*> RemoveTupleParameters(\n       HloCallInstruction* call);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   Options options_;\n };"
        },
        {
            "sha": "1b9e19c1b836429fadcb74b1a2d2bb00be8ce83d",
            "filename": "third_party/xla/xla/core/host_offloading/host_compute_asyncifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -60,7 +60,7 @@ void RemoveTilesAndMemorySpaces(HloComputation* computation) {\n }\n }  // namespace\n \n-absl::StatusOr<bool> HostComputeAsyncifier::Run(\n+absl::StatusOr<bool> HostComputeAsyncifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool modified = false;"
        },
        {
            "sha": "c29d437e359e2d95cd80d353eb58cf95909d5c42",
            "filename": "third_party/xla/xla/core/host_offloading/host_compute_asyncifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_compute_asyncifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,7 +39,8 @@ class HostComputeAsyncifier : public HloModulePass {\n \n   absl::string_view name() const override { return \"host_compute_asyncifier\"; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3b4335bff07f095aaba1c4cb6fcdfc535eb993cf",
            "filename": "third_party/xla/xla/core/host_offloading/host_offloading_layout_analysis.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -112,7 +112,7 @@ bool HostOffloadingLayoutAnalysis::ShapeHasPadding(const Shape& shape) {\n   return has_padding;\n }\n \n-absl::StatusOr<bool> HostOffloadingLayoutAnalysis::Run(\n+absl::StatusOr<bool> HostOffloadingLayoutAnalysis::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // TODO(ecg): relax this by allowing padding to then operate on a modified"
        },
        {
            "sha": "778b8637316f0e3424edd3be29f315fe84329194",
            "filename": "third_party/xla/xla/core/host_offloading/host_offloading_layout_analysis.h",
            "status": "modified",
            "additions": 11,
            "deletions": 11,
            "changes": 22,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fhost_offloading%2Fhost_offloading_layout_analysis.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,17 +30,6 @@ class HostOffloadingLayoutAnalysis : public HloModulePass {\n     return \"host-offloading-layout-analysis\";\n   }\n \n-  using HloPassInterface::Run;\n-  // This method does not modify the module; it purely informs the caller\n-  // whether device<->host layout conversion (i.e., (de)linearization of input\n-  // and result buffers) can be safely skipped.\n-  // Note: the pass is conservative in that it can return true for some cases\n-  // that might not need layout conversion. This is OK because performing layout\n-  // conversion is always correct, despite its performance impact.\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) final;\n-\n   // This static method provides an API better named than \"Run\".\n   static absl::StatusOr<bool> NeedsLayoutConversion(HloModule* module) {\n     HostOffloadingLayoutAnalysis pass;\n@@ -51,6 +40,17 @@ class HostOffloadingLayoutAnalysis : public HloModulePass {\n   // This function is useful when the HloModule has no tiling information, yet\n   // we have it from shapes coming from buffers, e.g. TpuBuffer's.\n   static bool ShapeHasPadding(const Shape& shape);\n+\n+ protected:\n+  // This method does not modify the module; it purely informs the caller\n+  // whether device<->host layout conversion (i.e., (de)linearization of input\n+  // and result buffers) can be safely skipped.\n+  // Note: the pass is conservative in that it can return true for some cases\n+  // that might not need layout conversion. This is OK because performing layout\n+  // conversion is always correct, despite its performance impact.\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) final;\n };\n \n }  // namespace xla"
        },
        {
            "sha": "58fa98f2ee82cd5c2e67503cf633bfcd567d9d70",
            "filename": "third_party/xla/xla/hlo/experimental/auto_sharding/auto_sharding.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -3956,7 +3956,7 @@ std::vector<int> FindAllIndices(std::vector<int64_t> vec, int64_t element) {\n   return result;\n }\n \n-absl::StatusOr<bool> AutoSharding::Run(\n+absl::StatusOr<bool> AutoSharding::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (!option_.enable) {"
        },
        {
            "sha": "49ffe55af7f53289682c8a6ad7f6fe6bfbfb977d",
            "filename": "third_party/xla/xla/hlo/experimental/auto_sharding/auto_sharding.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fexperimental%2Fauto_sharding%2Fauto_sharding.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -109,11 +109,6 @@ class AutoSharding : public HloModulePass {\n   ~AutoSharding() override = default;\n   absl::string_view name() const override { return \"auto_sharding\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   double GetSolverOptimalObjectiveValue() {\n     return solver_optimal_objective_value_;\n   }\n@@ -125,6 +120,10 @@ class AutoSharding : public HloModulePass {\n   // Backend-specific aliasing information.\n   const AliasInfo* alias_info_;\n \n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // Stores the optimal value of the objective the solver found.\n   double solver_optimal_objective_value_ = -1.0;"
        },
        {
            "sha": "9989bdd50c2b056bee817e9b389f758f5ea6102c",
            "filename": "third_party/xla/xla/hlo/pass/BUILD",
            "status": "modified",
            "additions": 21,
            "deletions": 0,
            "changes": 21,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FBUILD?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -24,6 +24,7 @@ package_group(\n \n cc_library(\n     name = \"hlo_pass\",\n+    srcs = [\"hlo_pass_interface.cc\"],\n     hdrs = [\n         \"hlo_pass_fix.h\",\n         \"hlo_pass_interface.h\",\n@@ -108,6 +109,26 @@ cc_library(\n     ],\n )\n \n+cc_library(\n+    name = \"hlo_pass_interface\",\n+    srcs = [\"hlo_pass_interface.cc\"],\n+    hdrs = [\"hlo_pass_interface.h\"],\n+    deps = [\n+        \"//xla:shape_util\",\n+        \"//xla:status_macros\",\n+        \"//xla:types\",\n+        \"//xla:util\",\n+        \"//xla/hlo/ir:hlo\",\n+        \"//xla/hlo/ir:hlo_module_group\",\n+        \"//xla/tsl/platform:statusor\",\n+        \"@com_google_absl//absl/container:flat_hash_set\",\n+        \"@com_google_absl//absl/log\",\n+        \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n+        \"@com_google_absl//absl/strings:string_view\",\n+    ],\n+)\n+\n xla_cc_test(\n     name = \"hlo_pass_pipeline_test\",\n     srcs = [\"hlo_pass_pipeline_test.cc\"],"
        },
        {
            "sha": "ecc9055eb74dca78124a01717550768daaf1433f",
            "filename": "third_party/xla/xla/hlo/pass/README.md",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FREADME.md",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FREADME.md",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2FREADME.md?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -48,7 +48,7 @@ auto status = pipeline.Run(&module);\n ## Important Considerations\n \n When creating custom HLO passes, inherit from `HloModulePass`. Implement\n-the required virtual methods (e.g., `Run`) to define the pass's behavior.\n+the required virtual methods (e.g., `RunImpl`) to define the pass's behavior.\n Utilize `HloPassFix` when your pass's transformations may trigger further\n optimizations upon repeated application. Construct `HloPassPipelines` to\n orchestrate the execution of multiple passes in a defined sequence."
        },
        {
            "sha": "ae699bfcfcabea30a52e81ddef7ea0bf8bb1a9b6",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_fix.h",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -64,10 +64,10 @@ class HloPassFix : public Pass {\n     return absl::OkStatus();\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     RunState run_state(module);\n     TF_RETURN_IF_ERROR(RunToFixPoint(module, &run_state, execution_threads));\n     return !run_state.changed.empty();\n@@ -135,8 +135,8 @@ class HloPassFix : public Pass {\n     }\n     // If Pass does not override the default\n     // HloPassInterface::RunOnChangedComputations that calls into\n-    // HloPassFix<Pass>::Run, avoid infinite recursion.\n-    TF_ASSIGN_OR_RETURN(bool changed, Pass::Run(module, execution_threads));\n+    // HloPassFix<Pass>::RunImpl, avoid infinite recursion.\n+    TF_ASSIGN_OR_RETURN(bool changed, Pass::RunImpl(module, execution_threads));\n     if (changed) {\n       auto computations = module->computations(execution_threads);\n       run_state->changed_this_iteration.insert(computations.begin(),"
        },
        {
            "sha": "e89f67f4c037e360c1d2aeecd54890606117c6c7",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_fix_test.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_fix_test.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -48,10 +48,10 @@ class DecrementPositiveConstants : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"decrement-constants\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {\n@@ -79,10 +79,10 @@ class FlipAddSubtract : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"flip-add-subtract\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {"
        },
        {
            "sha": "bec1de8aaaa219c90421f3d0f6a4143ee9d0f0fc",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_interface.cc",
            "status": "added",
            "additions": 36,
            "deletions": 0,
            "changes": 36,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -0,0 +1,36 @@\n+/* Copyright 2025 The OpenXLA Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+==============================================================================*/\n+\n+#include \"xla/hlo/pass/hlo_pass_interface.h\"\n+\n+#include \"absl/container/flat_hash_set.h\"\n+#include \"absl/status/statusor.h\"\n+#include \"absl/strings/string_view.h\"\n+\n+namespace xla {\n+\n+absl::StatusOr<bool> HloPassInterface::Run(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n+  return RunImpl(module, execution_threads);\n+}\n+\n+absl::StatusOr<bool> HloPassInterface::Run(\n+    std::unique_ptr<HloModule>& module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n+  return RunImpl(module, execution_threads);\n+}\n+\n+}  // namespace xla"
        },
        {
            "sha": "cfbe9723201e1f3fff6ca0c02361401e638cd3ce",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_interface.h",
            "status": "modified",
            "additions": 21,
            "deletions": 16,
            "changes": 37,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_interface.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -78,27 +78,20 @@ class HloPassInterface {\n   // Run the pass on the given HLO module with specified execution_threads.\n   // Empty execution_threads list means all execution_threads are included.\n   // Returns whether it modified the module.\n-  //\n-  // Note: C++ hides non-explicitly declared overloaded functions.\n-  // You can make all overloaded variants available in the child class  by\n-  // adding `using HloPassInterface::Run;` to the child class declaration.\n-  absl::StatusOr<bool> Run(HloModule* module) {\n-    return Run(module, /*execution_threads=*/{});\n-  }\n-  virtual absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> Run(\n       HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) = 0;\n+      const absl::flat_hash_set<absl::string_view>& execution_threads = {});\n \n   // Same as above, except that this API allows the pass to return a *different*\n   // module, rather than modifying the module in-place.\n-  absl::StatusOr<bool> Run(std::unique_ptr<HloModule>& module_ptr) {\n-    return Run(module_ptr, /*execution_threads=*/{});\n-  }\n-  virtual absl::StatusOr<bool> Run(\n+  // TODO(b/454418238): Remove this function (and the corresponding RunImpl).\n+  ABSL_DEPRECATED(\n+      \"This interface exists for passes which create an entire new HloModule \"\n+      \"instead of updating the existing one in place. This is not the norm and \"\n+      \"should not be done.\")\n+  absl::StatusOr<bool> Run(\n       std::unique_ptr<HloModule>& module_ptr,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-    return Run(module_ptr.get(), execution_threads);\n-  }\n+      const absl::flat_hash_set<absl::string_view>& execution_threads = {});\n \n   // Run the pass on computation on changed computations from last iteration in\n   // given HLO module for specified execution_threads, with caller provided\n@@ -133,6 +126,18 @@ class HloPassInterface {\n       LOG(WARNING) << \"Failed to set stat: \" << status;\n     }\n   }\n+\n+ protected:\n+  virtual absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) = 0;\n+\n+  // TODO(b/454418238): Remove this function.\n+  virtual absl::StatusOr<bool> RunImpl(\n+      std::unique_ptr<HloModule>& module_ptr,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) {\n+    return RunImpl(module_ptr.get(), execution_threads);\n+  }\n };\n \n // Base class for passes which are module-scoped."
        },
        {
            "sha": "031c1b986cbe775d85f9cd966853e3f511ce6876",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_pipeline.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -290,7 +290,7 @@ void HloPassPipeline::MaybeDumpHloAndSaveFilenames(\n   }\n }\n \n-absl::StatusOr<bool> HloPassPipeline::Run(\n+absl::StatusOr<bool> HloPassPipeline::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   run_called_ = true;\n@@ -304,7 +304,7 @@ absl::StatusOr<bool> HloPassPipeline::Run(\n   return RunPassesInternal(module, debug_options, execution_threads);\n }\n \n-absl::StatusOr<bool> HloPassPipeline::Run(\n+absl::StatusOr<bool> HloPassPipeline::RunImpl(\n     std::unique_ptr<HloModule>& module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   run_called_ = true;"
        },
        {
            "sha": "5fa1bfb1d17ec1e9193f4b3921eef413f426f308",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_pipeline.h",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -87,21 +87,21 @@ class HloPassPipeline : public HloPassInterface {\n #endif  // NDEBUG\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-  absl::StatusOr<bool> Run(\n-      std::unique_ptr<HloModule>& module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   bool IsPassPipeline() const override { return true; }\n \n   // Return size of passes_.\n   int PassesSize() { return passes_.size(); }\n   // Return reference to pass specified by index.\n   HloPassInterface& GetPass(int index) { return *passes_[index]; }\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+  absl::StatusOr<bool> RunImpl(\n+      std::unique_ptr<HloModule>& module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // Returns the set of passes which are enabled. DebugOptions can selectively\n   // disable passes via --xla_disable_hlo_passes flag."
        },
        {
            "sha": "48d2d14a86abc90bba83145f37ca9d7fd5f3dbca",
            "filename": "third_party/xla/xla/hlo/pass/hlo_pass_pipeline_test.cc",
            "status": "modified",
            "additions": 19,
            "deletions": 19,
            "changes": 38,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fpass%2Fhlo_pass_pipeline_test.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -53,10 +53,10 @@ using HloPassPipelineTest = HloHardwareIndependentTestBase;\n class FooToBarModulePass : public HloModulePass {\n   absl::string_view name() const override { return \"foo2bar\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {\n@@ -76,10 +76,10 @@ class FooToBarModulePass : public HloModulePass {\n class ReverseStringModulePass : public HloModulePass {\n   absl::string_view name() const override { return \"reverse\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {\n@@ -97,9 +97,9 @@ class ReverseStringModulePass : public HloModulePass {\n class BazToQuxModulePass : public HloModulePass {\n   absl::string_view name() const override { return \"baz2qux\"; }\n \n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {\n@@ -119,10 +119,10 @@ class BazToQuxModulePass : public HloModulePass {\n class BarBlowerUpper : public HloModulePass {\n   absl::string_view name() const override { return \"bar-blower-upper\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     for (HloComputation* computation :\n          module->computations(execution_threads)) {\n       for (HloInstruction* instruction : computation->instructions()) {\n@@ -356,10 +356,10 @@ TEST_F(HloPassPipelineTest, SetHloModuleMetadata) {\n class NoOpModulePass : public HloModulePass {\n   absl::string_view name() const override { return \"noop\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     return false;\n   }\n };"
        },
        {
            "sha": "c9b5de93c5af4d7dc723ff4a134d3f5f0feb4b54",
            "filename": "third_party/xla/xla/hlo/tools/tests/hlo_opt_test_only_passes.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -221,7 +221,7 @@ absl::StatusOr<bool> XlaBuilderTestPass::ReplaceWithExpandedClientHlo(\n       \"Unsupported xla_builder custom call target: \", custom_call_target));\n }\n \n-absl::StatusOr<bool> XlaBuilderTestPass::Run(\n+absl::StatusOr<bool> XlaBuilderTestPass::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "20b31c1712b84d99abc1aec0d2b1bae812d7c41f",
            "filename": "third_party/xla/xla/hlo/tools/tests/hlo_opt_test_only_passes.h",
            "status": "modified",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Ftests%2Fhlo_opt_test_only_passes.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,10 +33,10 @@ class FooToBarModulePass : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"test-only-foo2bar\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation : module->computations()) {\n       for (HloInstruction* instruction : computation->instructions()) {\n@@ -55,10 +55,10 @@ class BarToHelloModulePass : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"test-only-bar2hello\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation : module->computations()) {\n       for (HloInstruction* instruction : computation->instructions()) {\n@@ -103,8 +103,8 @@ class XlaBuilderTestPass : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"test-only-xla-builder\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "2d3ff322d0b8d02feb3904d60127310bd68b4f23",
            "filename": "third_party/xla/xla/hlo/transforms/add_original_value.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -26,7 +26,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> AddOriginalValue::Run(\n+absl::StatusOr<bool> AddOriginalValue::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "0cfa6247d9018c32cf078a2cb35f341bc50bf7f2",
            "filename": "third_party/xla/xla/hlo/transforms/add_original_value.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fadd_original_value.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,9 @@ namespace xla {\n class AddOriginalValue : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"add-original-value\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "c04cf4585194ef3b4356665479cc3e4f8ea36970",
            "filename": "third_party/xla/xla/hlo/transforms/bfloat16_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -979,7 +979,7 @@ absl::Status BFloat16Propagation::SkipNoopConversions(HloModule* module) {\n // their users. During the backward pass, the potential changes are stored in\n // changes_to_bf16_ which are subject to further adjustments then applied to the\n // HLOs.\n-absl::StatusOr<bool> BFloat16Propagation::Run(\n+absl::StatusOr<bool> BFloat16Propagation::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   consider_using_bfloat16_.clear();"
        },
        {
            "sha": "31b4d3e6316cbe61b3ced28ffd9c47cf50ffa405",
            "filename": "third_party/xla/xla/hlo/transforms/bfloat16_propagation.h",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fbfloat16_propagation.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -73,13 +73,6 @@ class BFloat16Propagation : public HloModulePass {\n   static constexpr absl::string_view kName = \"bfloat16-propagation\";\n   absl::string_view name() const override { return kName; }\n \n-  // Runs the pass on the given module. Returns whether the module was changed\n-  // (precision reductions were added).\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Returns whether we should avoid changing the precision of inst regardless\n   // of the producers and users.\n   virtual bool ShouldKeepPrecisionUnchanged(const HloInstruction* inst);\n@@ -91,6 +84,12 @@ class BFloat16Propagation : public HloModulePass {\n  protected:\n   const FloatSupport* bfloat16_support_;\n \n+  // Runs the pass on the given module. Returns whether the module was changed\n+  // (precision reductions were added).\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // ***************************\n   // Function called and state produced by the forward analysis pass (from"
        },
        {
            "sha": "562a317fc08d64dc87303e8c36dd6347853d1331",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_broadcast_reorder.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,9 +35,9 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> AllGatherBroadcastReorder::Run(\n-    HloModule *module,\n-    const absl::flat_hash_set<absl::string_view> &execution_threads) {\n+absl::StatusOr<bool> AllGatherBroadcastReorder::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (hlo_query::ContainsLayoutConstrainedCollective(*module,\n                                                      HloOpcode::kAllGather)) {\n     VLOG(1) << \"Skip AllGatherBroadcastReorder because the module contains \""
        },
        {
            "sha": "b08b79960f1c1d1d9dc0071057286f06d6eb7b4b",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_broadcast_reorder.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_broadcast_reorder.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,8 +32,8 @@ class AllGatherBroadcastReorder : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-gather-bcast-reorder\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "ce1fe5e14ceb85e53d42d9f7252f12b13cafbc91",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -269,7 +269,7 @@ absl::StatusOr<bool> AllGatherCombiner::RunWithKeyCombiner(\n   return changed;\n }\n \n-absl::StatusOr<bool> AllGatherCombiner::Run(\n+absl::StatusOr<bool> AllGatherCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN("
        },
        {
            "sha": "eab423c04855d6394a811b81b304919524158d74",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_combiner.h",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -41,11 +41,6 @@ class AllGatherCombiner : public HloModulePass {\n \n   absl::string_view name() const override { return \"all-gather-combiner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // The group key encapsulates all of the properties which must match for it to\n   // be possible to combine the instructions.\n   // The field of the key corresponds to the following:\n@@ -69,14 +64,17 @@ class AllGatherCombiner : public HloModulePass {\n       bool combine_by_dim, bool combine_different_dtypes = true);\n \n  protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   absl::StatusOr<bool> RunWithKeyCombiner(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads,\n       absl::FunctionRef<std::optional<AllGatherCombiner::GroupKey>(\n           const HloInstruction*, const HloDomainMap&, bool, bool)>\n           combine_key);\n \n- protected:\n   // Combine all gather ops up to this threshold.\n   int64_t combine_threshold_in_bytes_;\n "
        },
        {
            "sha": "bdb4d02bde89b467964139257e313ca6ec480f46",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_cse.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,7 +30,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> AllGatherCSE::Run(\n+absl::StatusOr<bool> AllGatherCSE::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(2) << \"Running AllGatherCSE pass\";"
        },
        {
            "sha": "cf33e955fecab0d99ce3fb89243cf04b5abe3c61",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_cse.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_cse.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -53,8 +53,8 @@ class AllGatherCSE : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-gather-cse\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "65e1f4f8110902b48706cca9ad168fe7a15df62a",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_remove_degenerate_dims.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -155,7 +155,7 @@ absl::Status ReshapeAndReplaceResults(HloInstruction* original_all_gather,\n \n }  // namespace\n \n-absl::StatusOr<bool> AllGatherRemoveDegenerateDims::Run(\n+absl::StatusOr<bool> AllGatherRemoveDegenerateDims::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "8675e6e032e048218b28ad21ead8cdc4e2fe4f0b",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_gather_remove_degenerate_dims.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_gather_remove_degenerate_dims.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,8 +46,8 @@ class AllGatherRemoveDegenerateDims : public HloModulePass {\n     return \"all-gather-remove-degenerate-dims\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "7b37fd9edd9584ee19a828393242ce3df6d2d4f2",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_reduce_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -174,7 +174,7 @@ AllReduceCombiner::AllReduceCombiner(int64_t combine_threshold_in_bytes,\n     : combine_threshold_in_bytes_(combine_threshold_in_bytes),\n       combine_threshold_count_(combine_threshold_count) {}\n \n-absl::StatusOr<bool> AllReduceCombiner::Run(\n+absl::StatusOr<bool> AllReduceCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return RunWithKeyCombiner(module, execution_threads, CombineKey);"
        },
        {
            "sha": "1f6df279f1b38a27fe2e45e78688cea0e00122c8",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_reduce_combiner.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,11 +45,6 @@ class AllReduceCombiner : public HloModulePass {\n \n   absl::string_view name() const override { return \"all-reduce-combiner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   using GroupKey = std::tuple<AllReduceKey, /*extra_args*/ std::string>;\n \n   static std::string& GetGroupKeyExtraArgs(AllReduceCombiner::GroupKey& key);\n@@ -67,6 +62,10 @@ class AllReduceCombiner : public HloModulePass {\n           const HloInstruction*, const HloDomainMap&)>\n           combine_key);\n \n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   // Combine all reduce ops up to this threshold.\n   int64_t combine_threshold_in_bytes_;\n "
        },
        {
            "sha": "bc18c84e1b7f4f99537f3fc927af168a26d73a3a",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_reduce_contiguous.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -93,7 +93,7 @@ absl::Status ReplaceWithContiguousAllReduce(\n }\n }  // namespace\n \n-absl::StatusOr<bool> AllReduceContiguous::Run(\n+absl::StatusOr<bool> AllReduceContiguous::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Running AllReduceContiguous\";"
        },
        {
            "sha": "4ac0130dda98e461dd59fba9b80251aab72b33cd",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/all_reduce_contiguous.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fall_reduce_contiguous.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,8 @@ class AllReduceContiguous : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-reduce-contiguous\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "d2332112c8d614d5759c607f5b39360747741f26",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/async_collective_creator.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -254,7 +254,7 @@ absl::StatusOr<bool> AsyncCollectiveCreator::ReplaceCollectives(\n   return changed;\n }\n \n-absl::StatusOr<bool> AsyncCollectiveCreator::Run(\n+absl::StatusOr<bool> AsyncCollectiveCreator::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "4d686dc354c65eb93dd15d8ad03588f8a956f338",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/async_collective_creator.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fasync_collective_creator.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -59,17 +59,17 @@ class AsyncCollectiveCreator : public HloModulePass {\n       : config_(std::move(creator_config)) {}\n   absl::string_view name() const override { return \"async-collective-creator\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule *module,\n-      const absl::flat_hash_set<absl::string_view> &execution_threads) override;\n-\n   std::vector<HloInstruction *> MatchCollectives(HloComputation *computation);\n   absl::StatusOr<bool> ReplaceCollectives(\n       HloComputation *computation,\n       std::vector<HloInstruction *> &supported_collectives);\n   const CollectiveCreatorConfig *config() const { return &config_; }\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   CollectiveCreatorConfig config_;\n };"
        },
        {
            "sha": "68ea1495311981c52de468cb3c3d39434b34edbf",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_permute_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -94,7 +94,7 @@ CollectivePermuteCombiner::CollectivePermuteCombiner(\n     : combine_threshold_in_bytes_(combine_threshold_in_bytes),\n       combine_threshold_count_(combine_threshold_count) {}\n \n-absl::StatusOr<bool> CollectivePermuteCombiner::Run(\n+absl::StatusOr<bool> CollectivePermuteCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Running CollectivePermuteCombiner with threshold of \""
        },
        {
            "sha": "1d62386115a7bcd2c4839cbcf4ce5a87a34439bd",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_permute_combiner.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_permute_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,16 +46,16 @@ class CollectivePermuteCombiner : public HloModulePass {\n     return \"collective-permute-combiner\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Combine collective permute ops up to this threshold.\n   int64_t combine_threshold_in_bytes_;\n \n   // Combine collective permute ops up to this threshold (number of operands).\n   int64_t combine_threshold_count_;\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n \n }  // namespace xla"
        },
        {
            "sha": "0dabd59b68a32b8eb9e2dd75835f94f25be51d3b",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_quantizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -446,7 +446,7 @@ absl::StatusOr<bool> MatchQuantization(HloInstruction* instr) {\n \n }  // namespace\n \n-absl::StatusOr<bool> CollectiveQuantizer::Run(\n+absl::StatusOr<bool> CollectiveQuantizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "6830fa9e5715a5298306fa6100d4916783119a93",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_quantizer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_quantizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -49,7 +49,8 @@ class CollectiveQuantizer : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"collective-quantizer\"; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "3ca17626a298f924d5672b1362110abe2dc58cae",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_transformation_reorderer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -291,7 +291,7 @@ CollectiveTransformationReorder::ReorderAllReduceTransformations(\n   return true;\n }\n \n-absl::StatusOr<bool> CollectiveTransformationReorder::Run(\n+absl::StatusOr<bool> CollectiveTransformationReorder::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(bool ag_changed, ReorderAllGatherTransformations("
        },
        {
            "sha": "3ce31eec4d387f5dabd4b51f6113a2b854384a6f",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collective_transformation_reorderer.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollective_transformation_reorderer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -57,8 +57,9 @@ class CollectiveTransformationReorder : public HloModulePass {\n   absl::string_view name() const override {\n     return \"collective-transformation-reorderer\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "e1bf0359873acf021883249d9160f4eebbf761a2",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collectives_schedule_linearizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,7 +31,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> CollectivesScheduleLinearizer::Run(\n+absl::StatusOr<bool> CollectivesScheduleLinearizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (is_enabled_ && !is_enabled_(module)) {"
        },
        {
            "sha": "26559caf456f390fcfe0ae864543b0bfc277d32c",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/collectives_schedule_linearizer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fcollectives_schedule_linearizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class CollectivesScheduleLinearizer : public HloModulePass {\n     return \"collectives-schedule-linearizer\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "2088c39bd515f5fbc972ad3d93babb32bb05ceaf",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/convert_async_collectives_to_sync.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -218,7 +218,7 @@ absl::StatusOr<bool> ConvertAsyncCollectivesToSync::RunOnComputation(\n   return true;\n }\n \n-absl::StatusOr<bool> ConvertAsyncCollectivesToSync::Run(\n+absl::StatusOr<bool> ConvertAsyncCollectivesToSync::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (!module->has_schedule()) {"
        },
        {
            "sha": "3a79b18b666928a0d0832389a90ecd1c817d1f69",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/convert_async_collectives_to_sync.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Fconvert_async_collectives_to_sync.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -41,11 +41,6 @@ class ConvertAsyncCollectivesToSync : public HloModulePass {\n     return \"convert-async-collectives-to-sync\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   virtual absl::Status ConvertAsyncInstructionsToSync(\n       HloComputation* computation,\n       absl::Span<const std::pair<HloInstruction*, HloInstruction*>> async_pairs)\n@@ -63,6 +58,11 @@ class ConvertAsyncCollectivesToSync : public HloModulePass {\n   static constexpr char kAsyncCollectiveNameAttributeName[] =\n       \"async_collective_name\";\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   absl::StatusOr<bool> RunOnComputation(HloComputation* computation);\n   HloPredicate is_nop_;"
        },
        {
            "sha": "a4d54b5c8c3be78b7ec210489027cac698f2be76",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/infeed_token_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -519,7 +519,7 @@ absl::Status InfeedTokenPropagation::PropagateToken(\n   return PropagateToken(ordering);\n }\n \n-absl::StatusOr<bool> InfeedTokenPropagation::Run(\n+absl::StatusOr<bool> InfeedTokenPropagation::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(5) << \"Before InfeedTokenPropagation:\";"
        },
        {
            "sha": "f6a7ccf633ed7dba23f344d51ab55003f371c305",
            "filename": "third_party/xla/xla/hlo/transforms/collectives/infeed_token_propagation.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fcollectives%2Finfeed_token_propagation.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,8 +40,9 @@ namespace xla {\n class InfeedTokenPropagation : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"infeed-token-propagation\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "9644f1a28b8cb60f2e20002fe481c88dde08cfa4",
            "filename": "third_party/xla/xla/hlo/transforms/convert_memory_placement_to_internal_annotations.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -110,7 +110,7 @@ ConvertCustomCallWithExternalAnnotationToInternalAnnotation(\n \n }  // namespace\n \n-absl::StatusOr<bool> ConvertMemoryPlacementToInternalAnnotations::Run(\n+absl::StatusOr<bool> ConvertMemoryPlacementToInternalAnnotations::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "25fe92f4499d07ff35c319c6be3f4285d6a0e242",
            "filename": "third_party/xla/xla/hlo/transforms/convert_memory_placement_to_internal_annotations.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fconvert_memory_placement_to_internal_annotations.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,9 @@ class ConvertMemoryPlacementToInternalAnnotations : public HloModulePass {\n   absl::string_view name() const override {\n     return \"convert-memory-placement-to-internal-annotations\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "ba7e97af244a7f3e879064204cc8ae97ea654984",
            "filename": "third_party/xla/xla/hlo/transforms/defuser.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,7 +35,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> Defuser::Run(\n+absl::StatusOr<bool> Defuser::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Defusing module \" << module->name();"
        },
        {
            "sha": "0289e940b59ff89ef2779c88bae265ccef8c3ab7",
            "filename": "third_party/xla/xla/hlo/transforms/defuser.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdefuser.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,10 +34,8 @@ class Defuser : public HloModulePass {\n   ~Defuser() override {}\n   absl::string_view name() const override { return \"defuser\"; }\n \n-  // Run defusion on the given module. Returns whether the module was\n-  // changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "8ca63af50bb1074fe24a112802d820177aa11b78",
            "filename": "third_party/xla/xla/hlo/transforms/despecializer.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -53,7 +53,7 @@ void Despecializer::AddReduceWindowToReduceBroadcastDeconstruct() {\n   pipeline_.AddPass<DeconstructReduceWindowToReduceBroadcast>();\n }\n \n-absl::StatusOr<bool> Despecializer::Run(\n+absl::StatusOr<bool> Despecializer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return pipeline_.Run(module, execution_threads);\n@@ -66,7 +66,7 @@ absl::StatusOr<bool> Despecializer::Run(\n // reference platform perspective, i.e., for testing, this custom-call should be\n // a copy since no optimizations are performed and runtime is not the criterion\n // while obtaining reference results.\n-absl::StatusOr<bool> AssumeGatherIndicesInBoundRewriteToCopy::Run(\n+absl::StatusOr<bool> AssumeGatherIndicesInBoundRewriteToCopy::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::vector<HloInstruction*> candidates;\n@@ -87,7 +87,7 @@ absl::StatusOr<bool> AssumeGatherIndicesInBoundRewriteToCopy::Run(\n   return !candidates.empty();\n }\n \n-absl::StatusOr<bool> DeconstructReduceWindowToReduceBroadcast::Run(\n+absl::StatusOr<bool> DeconstructReduceWindowToReduceBroadcast::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "e0cb04d06f2288140cfbb348e8ab3f9c9b7caca2",
            "filename": "third_party/xla/xla/hlo/transforms/despecializer.h",
            "status": "modified",
            "additions": 13,
            "deletions": 10,
            "changes": 23,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fdespecializer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,8 +45,9 @@ class Despecializer : public HloModulePass {\n   void AddReduceWindowToReduceBroadcastDeconstruct();\n   void AddAssumeGatherIndicesInBoundRewriteToCopy();\n   absl::string_view name() const override { return \"despecializer\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n@@ -60,8 +61,9 @@ class AssumeGatherIndicesInBoundRewriteToCopy : public HloModulePass {\n   absl::string_view name() const override {\n     return \"AssumeGatherIndicesInBoundRewriteToCopy\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n@@ -72,8 +74,9 @@ class DeconstructReduceWindowToReduceBroadcast : public HloModulePass {\n   absl::string_view name() const override {\n     return \"ReduceWindowToReduceAndBroadcast\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n@@ -84,10 +87,10 @@ class ControlDepRemover : public HloModulePass {\n   ControlDepRemover() = default;\n   absl::string_view name() const override { return \"control-dep-remover\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+ protected:\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     bool changed = false;\n     for (HloComputation* computation : module->computations()) {\n       for (HloInstruction* instruction : computation->instructions()) {"
        },
        {
            "sha": "165422bf9dd7f5a2041e2d5c5842e66cda49fa71",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/dot_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -222,7 +222,7 @@ absl::Status CanonicalizeDot(HloDotInstruction* original_dot) {\n \n }  // namespace\n \n-absl::StatusOr<bool> DotDecomposer::Run(\n+absl::StatusOr<bool> DotDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Gather all Non-canonical Dot operations."
        },
        {
            "sha": "392704b5eb621be086bb8b1f3065f8fcca81856d",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/dot_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdot_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,10 +31,8 @@ class DotDecomposer : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"dot_decomposer\"; }\n \n-  // Run DotDecomposer pass on computations in 'module'.\n-  // Returns whether the 'module' was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "77c9c20c9dfbd524559043d591ae8367db87c0e8",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/dynamic_index_splitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,7 +32,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> DynamicIndexSplitter::Run(\n+absl::StatusOr<bool> DynamicIndexSplitter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "28a836d45ec90a250f1e336fc296b3d1ed9ec12a",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/dynamic_index_splitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fdynamic_index_splitter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,9 @@ class DynamicIndexSplitter : public HloModulePass {\n  public:\n   DynamicIndexSplitter() = default;\n   absl::string_view name() const override { return \"dynamic-index-splitter\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "fe4e3c8cb1bb8758bb778cd1fcd710063a3f27ac",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/op_expander_pass.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,7 +29,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> OpExpanderPass::Run(\n+absl::StatusOr<bool> OpExpanderPass::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::vector<HloInstruction*> matching_instructions;"
        },
        {
            "sha": "76cd9abe705fe790c75cd1960bfdd2edc9c9f28e",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/op_expander_pass.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fop_expander_pass.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,11 +32,6 @@ namespace xla {\n // does not support into other HLO instructions.\n class OpExpanderPass : public HloModulePass {\n  public:\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // extra_filter: Optional extra filtering criteria for matching instructions,\n   // used in conjunction with InstructionMatchesPattern.\n   // preserve_sharding and relay_control_dependency: If we preserve sharding and\n@@ -49,6 +44,10 @@ class OpExpanderPass : public HloModulePass {\n         relay_control_dependency_(relay_control_dependency) {}\n \n  protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   // Returns `true` if `instruction` should be expanded by this pass.\n   virtual bool InstructionMatchesPattern(HloInstruction* instruction) = 0;\n "
        },
        {
            "sha": "705ad85f3280f6b70aec0d96941ecbe8f0c233b1",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/optimization_barrier_expander.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -25,7 +25,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> OptimizationBarrierExpander::Run(\n+absl::StatusOr<bool> OptimizationBarrierExpander::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::vector<HloInstruction*> barriers;"
        },
        {
            "sha": "8592815c24bb69327fb2d4ced15e85f38a0de49d",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/optimization_barrier_expander.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Foptimization_barrier_expander.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,8 @@ class OptimizationBarrierExpander : public HloModulePass {\n \n   absl::string_view name() const override { return \"cse_barrier_expander\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "62968d989416ff9995a2f9e1856b6dda2114c363",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/ragged_dot_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -341,7 +341,7 @@ absl::StatusOr<std::unique_ptr<HloInstruction>> RaggedToGeneral(\n \n }  // namespace\n \n-absl::StatusOr<bool> RaggedDotRewriter::Run(\n+absl::StatusOr<bool> RaggedDotRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (module->config()"
        },
        {
            "sha": "d26078aeb20b92eb70572354e41708d22768fa4b",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/ragged_dot_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fragged_dot_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,10 +29,8 @@ class RaggedDotRewriter : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"ragged_dot_rewriter\"; }\n \n-  // Run DotDecomposer pass on computations in 'module'.\n-  // Returns whether the 'module' was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "cd47ac1a1ca8f87f9fe7638b97ce4fdd79758084",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/reduce_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -153,7 +153,7 @@ class ReduceDecomposerVisitor : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> ReduceDecomposer::Run(\n+absl::StatusOr<bool> ReduceDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(bool changed1,"
        },
        {
            "sha": "0011d6202897a3b85b30f8f7ba1845612ee9c8b1",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/reduce_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freduce_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -69,8 +69,8 @@ class ReduceDecomposer : public HloModulePass {\n \n   absl::string_view name() const override { return \"reduce-decomposer\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "ee506a662f4d780a4158985f52fd36d409565ef7",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/reshape_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -77,7 +77,7 @@ class ReshapeDecomposerVisitor : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> ReshapeDecomposer::Run(\n+absl::StatusOr<bool> ReshapeDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return ReshapeDecomposerVisitor{}.RunOnModule(module, execution_threads);"
        },
        {
            "sha": "49544fe152627c0220dd180bc0e78e0b3eaadb5d",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/reshape_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Freshape_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,8 +32,8 @@ class ReshapeDecomposer : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"reshape-decomposer\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "f6158b6b5bdbb5b8f12c2af370408f711d127749",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/stochastic_convert_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -139,7 +139,7 @@ absl::Status DecomposeStochasticConvert(HloComputation* comp,\n                        PrimitiveType_Name(to_type));\n }\n \n-absl::StatusOr<bool> StochasticConvertDecomposer::Run(\n+absl::StatusOr<bool> StochasticConvertDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "20b0284732fcee1ceacda8c7f76becd669134456",
            "filename": "third_party/xla/xla/hlo/transforms/expanders/stochastic_convert_decomposer.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fexpanders%2Fstochastic_convert_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,8 +31,9 @@ class StochasticConvertDecomposer : public HloModulePass {\n   absl::string_view name() const override {\n     return \"stochastic_convert_decomposer\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "868e450502626f590df677578e3e7c602e6dbcd5",
            "filename": "third_party/xla/xla/hlo/transforms/host_offload_legalize.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1025,7 +1025,7 @@ HostOffloadLegalize::FindStartingInstructionsOfHostMemoryOffload(\n   return starting_instructions;\n }\n \n-absl::StatusOr<bool> HostOffloadLegalize::Run(\n+absl::StatusOr<bool> HostOffloadLegalize::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "75b9760bcbe0f16654a1473c8afff27efcce88ba",
            "filename": "third_party/xla/xla/hlo/transforms/host_offload_legalize.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offload_legalize.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class HostOffloadLegalize : public HloModulePass {\n \n   absl::string_view name() const override { return \"host-offload-legalize\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "1fdd3360d98b82fc84049199ba2e6d5f0b3571e0",
            "filename": "third_party/xla/xla/hlo/transforms/host_offloader.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1380,7 +1380,7 @@ absl::StatusOr<bool> HostOffloader::HandlePallasKernels(HloModule* module) {\n   return changed;\n }\n \n-absl::StatusOr<bool> HostOffloader::Run(\n+absl::StatusOr<bool> HostOffloader::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Start by removing all host memory space from all shapes. Host memory space"
        },
        {
            "sha": "3095591c22985cec898a178853c95da510622809",
            "filename": "third_party/xla/xla/hlo/transforms/host_offloader.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloader.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -62,15 +62,14 @@ class HostOffloader : public HloModulePass {\n \n   absl::string_view name() const override { return \"host-offloader\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n  protected:\n   virtual absl::StatusOr<std::vector<int64_t>>\n   GetPallasCustomCallOutputMemorySpaces(HloInstruction* instruction) const;\n \n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // Process the next \"MoveToHost\" instruction that resides at the beginning of\n   // a host memory offload instruction chain. This ensures that redundant"
        },
        {
            "sha": "84c33554c8e4668f0784f30b6af7f26eb68fd070",
            "filename": "third_party/xla/xla/hlo/transforms/host_offloading_prepare.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -133,7 +133,7 @@ absl::StatusOr<bool> ConvertToCustomCall(HloModule* module) {\n \n }  // namespace\n \n-absl::StatusOr<bool> HostOffloadingPrepare::Run(\n+absl::StatusOr<bool> HostOffloadingPrepare::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   switch (rewrite_) {"
        },
        {
            "sha": "e651b0aca3baa06c50858284fa55c9ff17df1401",
            "filename": "third_party/xla/xla/hlo/transforms/host_offloading_prepare.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fhost_offloading_prepare.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -76,8 +76,8 @@ class HostOffloadingPrepare : public HloModulePass {\n \n   absl::string_view name() const override { return pass_name_; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3f45ff1051f4a041a1343e84c45ac3804ac59863",
            "filename": "third_party/xla/xla/hlo/transforms/literal_canonicalizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -60,7 +60,7 @@ LiteralCanonicalizer::LiteralCanonicalizer(LiteralPool* literal_pool,\n                                            size_t min_size_bytes)\n     : literal_pool_(literal_pool), min_size_bytes_(min_size_bytes) {}\n \n-absl::StatusOr<bool> LiteralCanonicalizer::Run(\n+absl::StatusOr<bool> LiteralCanonicalizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Every time we canonicalize literals in a module, we garbage collect expired"
        },
        {
            "sha": "311ea8df029899ff244a098c96921204113cef63",
            "filename": "third_party/xla/xla/hlo/transforms/literal_canonicalizer.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fliteral_canonicalizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,14 +33,13 @@ class LiteralCanonicalizer : public HloModulePass {\n  public:\n   LiteralCanonicalizer(LiteralPool* literal_pool, size_t min_size_bytes);\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   absl::string_view name() const override { return \"literal-canonicalizer\"; }\n \n  protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   LiteralPool* literal_pool_;\n   size_t min_size_bytes_;\n };"
        },
        {
            "sha": "624879fc482a979a058be11a28068210dacd69ed",
            "filename": "third_party/xla/xla/hlo/transforms/memory_space_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -56,7 +56,7 @@ bool MemorySpacePropagation::RunOnComputation(HloComputation* computation) {\n   return modified;\n }\n \n-absl::StatusOr<bool> MemorySpacePropagation::Run(\n+absl::StatusOr<bool> MemorySpacePropagation::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool modified = false;"
        },
        {
            "sha": "f0eda8291dc2856afe89499096e88aec70758435",
            "filename": "third_party/xla/xla/hlo/transforms/memory_space_propagation.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fmemory_space_propagation.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,15 +39,16 @@ class MemorySpacePropagation : public HloModulePass {\n       : dataflow_analysis_(std::move(dataflow_analysis)) {}\n   ~MemorySpacePropagation() override = default;\n   absl::string_view name() const override { return \"memory-space-propagation\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n   // Propagates the memory space (and associated split config) in the layout to\n   // a given fusion computation. Returns true if the computation is modified.\n   bool RunOnComputation(HloComputation* computation);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // Given the shape index (operand or output) and its corresponding instruction\n   // in the fused computation (parameter or root), propagates the memory space"
        },
        {
            "sha": "4d58a9be040fad6e2c818ede23a0b3a6d72bc279",
            "filename": "third_party/xla/xla/hlo/transforms/shape_canonicalizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -50,7 +50,7 @@ class ShapeCanonicalizerVisitor : public DfsHloRewriteVisitor {\n ShapeCanonicalizer::ShapeCanonicalizer(ShapePool* shape_pool)\n     : shape_pool_(shape_pool) {}\n \n-absl::StatusOr<bool> ShapeCanonicalizer::Run(\n+absl::StatusOr<bool> ShapeCanonicalizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Every time we canonicalize shapes in a module, we garbage collect expired"
        },
        {
            "sha": "e68cb8d7788bb5c6e935469523ba0de5cab528d4",
            "filename": "third_party/xla/xla/hlo/transforms/shape_canonicalizer.h",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fshape_canonicalizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,14 +34,13 @@ class ShapeCanonicalizer : public HloModulePass {\n \n   explicit ShapeCanonicalizer(ShapePool* shape_pool);\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   absl::string_view name() const override { return \"shape-canonicalizer\"; }\n \n  protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   ShapePool* shape_pool_;\n };\n "
        },
        {
            "sha": "276e9c7c5b145617c37658e969f917de98060e8b",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/algebraic_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -10033,7 +10033,7 @@ absl::Status AlgebraicSimplifierVisitor::HandleMap(HloInstruction* map) {\n   return ReplaceWithNewInstruction(map, std::move(clone));\n }\n \n-absl::StatusOr<bool> AlgebraicSimplifier::Run(\n+absl::StatusOr<bool> AlgebraicSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "37c9215218cc3402c6b217ae1209aae7881f17bd",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/algebraic_simplifier.h",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Falgebraic_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -423,13 +423,6 @@ class AlgebraicSimplifier : public HloModulePass {\n   ~AlgebraicSimplifier() override = default;\n   absl::string_view name() const override { return \"algsimp\"; }\n \n-  // Run algebraic simplification on the given computation. Returns whether the\n-  // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Create constant from literal with tiles and element size updated in the\n   // constant's layout.\n   std::unique_ptr<HloInstruction> CreateConstantWithLayoutUpdated(\n@@ -440,6 +433,12 @@ class AlgebraicSimplifier : public HloModulePass {\n   }\n \n  protected:\n+  // Run algebraic simplification on the given computation. Returns whether the\n+  // computation was changed.\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n   AlgebraicSimplifierOptions options_;\n };\n "
        },
        {
            "sha": "7c0908f6e6250b8f97cd63b6ec7f931e3a715f95",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_gather_pad_ds_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -960,7 +960,7 @@ absl::Status AllGatherPadDsSimplifierVisitor::HandleDynamicSlice(\n   return ReplaceInstruction(dynamic_slice, *selected);\n }\n \n-absl::StatusOr<bool> AllGatherPadDsSimplifier::Run(\n+absl::StatusOr<bool> AllGatherPadDsSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "e2a957d278b906e35fe0720adf7d30be274fb5df",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_gather_pad_ds_simplifier.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_pad_ds_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -157,8 +157,9 @@ class AllGatherPadDsSimplifier : public HloModulePass {\n   absl::string_view name() const override {\n     return \"all-gather-pad-ds-simplifier\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "5463c1cfaf950baf96cb0f377e984636a1416d27",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_gather_permuted_ds_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -88,7 +88,7 @@ AllGatherDynamicSlicePermutedOffsetSimplifierVisitor::HandleDynamicSlice(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> AllGatherDynamicSlicePermutedOffsetSimplifier::Run(\n+absl::StatusOr<bool> AllGatherDynamicSlicePermutedOffsetSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "899944cafdeb1834670802ef5ca32655ba1b6928",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_gather_permuted_ds_simplifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_gather_permuted_ds_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -66,8 +66,8 @@ class AllGatherDynamicSlicePermutedOffsetSimplifier : public HloModulePass {\n     return \"all-gather-to-collective-permute-simplifier\";\n   }\n \n-  using HloModulePass::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "caeafbd182670975ecf9fc568aa04c80cf94e25a",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_reduce_folder.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -148,9 +148,9 @@ std::optional<std::vector<ReplicaGroup>> FoldReplicaGroups(\n \n }  // namespace\n \n-absl::StatusOr<bool> AllReduceFolder::Run(\n-    HloModule *module,\n-    const absl::flat_hash_set<absl::string_view> &execution_threads) {\n+absl::StatusOr<bool> AllReduceFolder::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (hlo_query::ContainsLayoutConstrainedAllReduce(*module)) {\n     VLOG(1) << \"Skip AllReduceFolder because the module contains all-reduce \"\n                \"with constrained layouts\";"
        },
        {
            "sha": "7653cfa2ff106833f950080ec3870b0e26404110",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/all_reduce_folder.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fall_reduce_folder.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class AllReduceFolder : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-reduce-folder\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "5b4ec0c01dcaf9ef827c5ae1362ee472a9b743ad",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/ar_crs_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -632,7 +632,7 @@ absl::StatusOr<bool> ArCrsCombiner::RewriteGraph() {\n   return true;\n }\n \n-absl::StatusOr<bool> ArCrsCombiner::Run(\n+absl::StatusOr<bool> ArCrsCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   call_graph_ = CallGraph::Build(module);"
        },
        {
            "sha": "d602a5bc9357c5df2980b79d534476ebcee52835",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/ar_crs_combiner.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Far_crs_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -86,15 +86,16 @@ class ArCrsCombiner : public HloModulePass {\n       : num_spatial_partitions_(num_spatial_partitions),\n         spmd_partition_(spmd_partition) {}\n   absl::string_view name() const override { return \"ar-crs-combiner\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n   // Helper method to allow testing of InstructionsComputeSameValue.\n   static bool TestInstructionsComputeSameValue(HloInstruction* i1,\n                                                HloInstruction* i2);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   // We used this struct because multiple ARs could be paired with the same CRS.\n   // In this case, we want to select the AR that is furthest from the CRS,"
        },
        {
            "sha": "6aed9f6e007067c98b083970a9e61667971b1def",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/batch_dot_simplification.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -121,7 +121,7 @@ BatchDotSimplification::ElideDegenerateBatchDimensionFromBatchDot(\n   return true;\n }\n \n-absl::StatusOr<bool> BatchDotSimplification::Run(\n+absl::StatusOr<bool> BatchDotSimplification::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "c6a7066e1e98a33f8e5e0b31752cc152903be0f5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/batch_dot_simplification.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbatch_dot_simplification.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,11 +31,12 @@ namespace xla {\n // run the DotDecomposer.\n class BatchDotSimplification : public HloModulePass {\n  public:\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::string_view name() const override { return \"batch-dot-simplification\"; }\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-  absl::string_view name() const override { return \"batch-dot-simplification\"; }\n \n  private:\n   absl::StatusOr<bool> ElideDegenerateBatchDimensionFromBatchDot("
        },
        {
            "sha": "cec1d2ca199574df3791a6a04f652d60359b7934",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/bfloat16_conversion_folding.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -268,19 +268,19 @@ absl::Status BFloat16ConversionFoldingVisitor::HandleAllReduce(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> BFloat16ConversionFolding::Run(\n+absl::StatusOr<bool> BFloat16ConversionFolding::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(\n-      2, \"BFloat16ConversionFolding::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"BFloat16ConversionFolding::RunImpl(), before:\\n\" +\n+                        module->ToString());\n   bool changed = false;\n   for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n     if (BFloat16ConversionFoldingVisitor::Run(comp, bfloat16_support_, this)) {\n       changed = true;\n     }\n   }\n   XLA_VLOG_LINES(\n-      2, \"BFloat16ConversionFolding::Run(), after:\\n\" + module->ToString());\n+      2, \"BFloat16ConversionFolding::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "badc0649f1daec37347453a7ed0006f95b05d427",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/bfloat16_conversion_folding.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbfloat16_conversion_folding.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,10 +46,10 @@ class BFloat16ConversionFolding : public HloModulePass {\n   ~BFloat16ConversionFolding() override = default;\n   absl::string_view name() const override { return \"bfloat16-fold\"; }\n \n+ protected:\n   // Run BF16 conversion folding on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "491174d70ff8da9e7237712496da50f39e5650b2",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/broadcast_canonicalizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,7 +34,7 @@ namespace xla {\n \n BroadcastCanonicalizer::BroadcastCanonicalizer() {}\n \n-absl::StatusOr<bool> BroadcastCanonicalizer::Run(\n+absl::StatusOr<bool> BroadcastCanonicalizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "1347df910665ce0d99a94ba5ea3ba9958d338494",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/broadcast_canonicalizer.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fbroadcast_canonicalizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,8 +32,9 @@ class BroadcastCanonicalizer : public HloModulePass {\n   explicit BroadcastCanonicalizer();\n \n   absl::string_view name() const override { return \"broadcast_canonicalizer\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "b11a058d98e7e5fd138109c7b8b90427f4c9ff2e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/conditional_canonicalizer.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -119,11 +119,11 @@ absl::StatusOr<bool> CanonicalizeNonTupleConditional(\n \n }  // namespace\n \n-absl::StatusOr<bool> ConditionalCanonicalizer::Run(\n+absl::StatusOr<bool> ConditionalCanonicalizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(\n-      2, \"ConditionalCanonicalizer::Run(), before:\\n\" + module->ToString());\n+      2, \"ConditionalCanonicalizer::RunImpl(), before:\\n\" + module->ToString());\n   bool changed = false;\n   for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n     for (auto* inst : comp->MakeInstructionPostOrder()) {\n@@ -133,7 +133,7 @@ absl::StatusOr<bool> ConditionalCanonicalizer::Run(\n     }\n   }\n   XLA_VLOG_LINES(\n-      2, \"ConditionalCanonicalizer::Run(), after:\\n\" + module->ToString());\n+      2, \"ConditionalCanonicalizer::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "4fa2b36626c96bd047032830db1cd6871ef56499",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/conditional_canonicalizer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconditional_canonicalizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,8 +34,8 @@ class ConditionalCanonicalizer : public HloModulePass {\n     return \"conditional-canonicalizer\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "92a5c97183aa6f8a2ee3d64e8acd8b67f4a7dd0e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/constant_deferring.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -86,7 +86,7 @@ HloInstructionSequence DeferConstants(const HloInstructionSequence& sequence) {\n   return new_sequence;\n }\n \n-absl::StatusOr<bool> ConstantDeferring::Run(\n+absl::StatusOr<bool> ConstantDeferring::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "76968a46476f85bdb2b096fbde52bd9abb4943a2",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/constant_deferring.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconstant_deferring.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,8 +34,9 @@ HloInstructionSequence DeferConstants(const HloInstructionSequence& sequence);\n class ConstantDeferring : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"constant-deferring\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "3f60e885eeb501c7b7b4d7b4214cd36341d0d548",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/convert_mover.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -211,7 +211,7 @@ absl::StatusOr<bool> MoveConvertPrecisionOps(HloComputation* comp) {\n \n }  // anonymous namespace\n \n-absl::StatusOr<bool> ConvertMover::Run(\n+absl::StatusOr<bool> ConvertMover::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "d69549333b20a20ae5f82de43144d8639dbbfeeb",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/convert_mover.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvert_mover.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -43,8 +43,9 @@ class ConvertMover : public HloModulePass {\n   ConvertMover() = default;\n \n   absl::string_view name() const override { return \"convert-mover\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "e66e10aa966d4cae222c741e0546eaaff6372da5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/convolution_group_converter.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -682,11 +682,11 @@ absl::Status ConvolutionVisitor::HandleConvolution(\n \n }  // namespace\n \n-absl::StatusOr<bool> ConvolutionGroupConverter::Run(\n+absl::StatusOr<bool> ConvolutionGroupConverter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(\n-      2, \"ConvolutionGroupConverter::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"ConvolutionGroupConverter::RunImpl(), before:\\n\" +\n+                        module->ToString());\n   bool changed = false;\n   for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n     if (ConvolutionVisitor::Run(comp, should_expand_, is_cost_viable_,\n@@ -696,7 +696,7 @@ absl::StatusOr<bool> ConvolutionGroupConverter::Run(\n     }\n   }\n   XLA_VLOG_LINES(\n-      2, \"ConvolutionGroupConverter::Run(), after:\\n\" + module->ToString());\n+      2, \"ConvolutionGroupConverter::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "02dac368f4098f6da1566efebf3758b8ace8e4fc",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/convolution_group_converter.h",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fconvolution_group_converter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -44,13 +44,6 @@ class ConvolutionGroupConverter : public HloModulePass {\n     return \"convolution-group-converter\";\n   }\n \n-  // Run convolution rewriting on the given computation. Returns whether the\n-  // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Predicate that determines whether this pass should rewrite a given\n   // convolution.\n   std::function<bool(HloInstruction*)> should_expand_;\n@@ -64,6 +57,13 @@ class ConvolutionGroupConverter : public HloModulePass {\n \n   // Tells whether filter expansion is required.\n   bool filter_expansion_;\n+\n+ protected:\n+  // Run convolution rewriting on the given computation. Returns whether the\n+  // computation was changed.\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n \n }  // namespace xla"
        },
        {
            "sha": "c2f6d31379d679d04d21f0dbd2e90e157806f3d3",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dot_dimension_merger.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -151,7 +151,7 @@ class BatchDimensionMerger : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> DotDimensionMerger::Run(\n+absl::StatusOr<bool> DotDimensionMerger::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return BatchDimensionMerger().RunOnModule(module, execution_threads);"
        },
        {
            "sha": "3a6fd5019351c186cfd64668e5d47b6655ed841e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dot_dimension_merger.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_dimension_merger.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,10 +29,8 @@ class DotDimensionMerger : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"dot_dimension_merger\"; }\n \n-  // Run the pass on computations in 'module'.\n-  // Return whether the 'module' was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "db0040ed1ba75b5ebc2646295548aae1c2a2baf5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dot_merger.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -584,7 +584,7 @@ absl::StatusOr<bool> MergeDots(HloComputation* comp, int64_t max_size_to_merge,\n \n }  // anonymous namespace\n \n-absl::StatusOr<bool> DotMerger::Run(\n+absl::StatusOr<bool> DotMerger::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "c89ba6153f2feb7fd6a02741522fb28ab63649a5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dot_merger.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdot_merger.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -65,8 +65,9 @@ class DotMerger : public HloModulePass {\n       : max_size_to_merge_(max_size_to_merge), can_merge_(can_merge) {}\n \n   absl::string_view name() const override { return \"dot-merger\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "00bf452d035a1e41d6847e7cd7e92d2630cdb44e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dynamic_dimension_simplifier.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -170,11 +170,11 @@ absl::StatusOr<bool> IdentityReshapeRemoving(HloInstruction* reshape) {\n \n }  // namespace\n \n-absl::StatusOr<bool> DynamicDimensionSimplifier::Run(\n+absl::StatusOr<bool> DynamicDimensionSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(\n-      2, \"DynamicDimensionSimplifier::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"DynamicDimensionSimplifier::RunImpl(), before:\\n\" +\n+                        module->ToString());\n   bool changed = false;\n \n   for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n@@ -215,8 +215,8 @@ absl::StatusOr<bool> DynamicDimensionSimplifier::Run(\n       changed |= local_changed;\n     }\n   }\n-  XLA_VLOG_LINES(\n-      2, \"DynamicDimensionSimplifier::Run(), after:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"DynamicDimensionSimplifier::RunImpl(), after:\\n\" +\n+                        module->ToString());\n   return changed;\n }\n }  // namespace xla"
        },
        {
            "sha": "2e670b2983274968a03449d65e4d64f3de9e9c33",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/dynamic_dimension_simplifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fdynamic_dimension_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,8 +33,8 @@ class DynamicDimensionSimplifier : public HloModulePass {\n     return \"dynamic-dimension-simplifier\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "f644881c517c8f2b317cceb55aaf44ad6c677b8c",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/flatten_call_graph.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -112,7 +112,7 @@ absl::Status AnnotateNode(const CallGraphNode& node) {\n \n }  // namespace\n \n-absl::StatusOr<bool> FlattenCallGraph::Run(\n+absl::StatusOr<bool> FlattenCallGraph::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(3, \"Before flatten call graph:\\n\" + module->ToString());"
        },
        {
            "sha": "fa36a6f1e0548169b08b68eafd65fcf43881164d",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/flatten_call_graph.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fflatten_call_graph.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -32,10 +32,10 @@ class FlattenCallGraph : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"flatten-call-graph\"; }\n \n+ protected:\n   // Duplicates computations called from multiple call- or while-nodes to\n   // flatten the call graph.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "e0ec47713d19f0ff87b2080a6259961665ff1112",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/float_normalization.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -669,10 +669,10 @@ CloneComputationsForNonNormalizingInstructions(\n }\n }  // namespace\n \n-absl::StatusOr<bool> FloatNormalization::Run(\n+absl::StatusOr<bool> FloatNormalization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(2, \"FloatNormalization::Run() for \" +\n+  XLA_VLOG_LINES(2, \"FloatNormalization::RunImpl() for \" +\n                         primitive_util::LowercasePrimitiveTypeName(\n                             float_support_->LowPrecisionType()) +\n                         \", before:\\n\" + module->ToString());\n@@ -686,7 +686,7 @@ absl::StatusOr<bool> FloatNormalization::Run(\n     if (computations_to_skip.contains(comp)) continue;\n     TF_RETURN_IF_ERROR(comp->Accept(&visitor));\n   }\n-  XLA_VLOG_LINES(2, \"FloatNormalization::Run() for \" +\n+  XLA_VLOG_LINES(2, \"FloatNormalization::RunImpl() for \" +\n                         primitive_util::LowercasePrimitiveTypeName(\n                             float_support_->LowPrecisionType()) +\n                         \", after:\\n\" + module->ToString());"
        },
        {
            "sha": "7ac05015e55273908cae6dda23969f76007acd86",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/float_normalization.h",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffloat_normalization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -43,10 +43,10 @@ class FloatNormalization : public HloModulePass {\n   ~FloatNormalization() override = default;\n   absl::string_view name() const override { return name_; }\n \n+ protected:\n   // Run float normalization on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n@@ -73,12 +73,12 @@ class BFloat16MixedPrecisionRemoval : public HloModulePass {\n     return \"bf16-mixed-precision-removal\";\n   }\n \n+ protected:\n   // Run mixed precision removal on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n     FloatNormalization normalization(&no_mixed_precision_support_);\n     return normalization.Run(module, execution_threads);\n   }"
        },
        {
            "sha": "29cdd78ee8ed80c5029cff634c15875b88f0f06e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/fusion_constant_sinking.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -95,7 +95,7 @@ bool ProcessComputation(HloComputation* computation) {\n   return changed;\n }\n \n-absl::StatusOr<bool> FusionConstantSinking::Run(\n+absl::StatusOr<bool> FusionConstantSinking::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(3) << \"HLO module before FusionConstantSinking:\";"
        },
        {
            "sha": "a8f2d7441ef4a73a99b24da0f506a00285ac2e82",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/fusion_constant_sinking.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ffusion_constant_sinking.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,10 +29,10 @@ class FusionConstantSinking : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"fusion_constant_sinking\"; }\n \n+ protected:\n   // Run fusion constant sinking operations on the given module. Returns whether\n   // the module was changed (constant expressions folded).\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "de2bc2387b4c915240e31a7c0434c0bec7f8a20e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_computation_deduplicator.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -44,7 +44,7 @@ bool HloComputationDeduplicator::ContainsLargeConstants(HloComputation* comp) {\n   return false;\n }\n \n-absl::StatusOr<bool> HloComputationDeduplicator::Run(\n+absl::StatusOr<bool> HloComputationDeduplicator::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   absl::flat_hash_map<std::string, HloComputation*> unique_comps;"
        },
        {
            "sha": "4a548b35f921860efd24887fb0f6f3b64644ac4d",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_computation_deduplicator.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_computation_deduplicator.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -36,8 +36,8 @@ class HloComputationDeduplicator : public HloModulePass {\n       : mark_fusion_duplications_(mark_fusion_duplications) {}\n   absl::string_view name() const override { return \"computation-deduplicator\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "e5848c4ba7c283e84aa5b359c0c91debffc19a81",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_constant_folding.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -283,7 +283,7 @@ absl::StatusOr<bool> PropagateIdenticalConstantArguments(\n \n }  // namespace\n \n-absl::StatusOr<bool> HloConstantFolding::Run(\n+absl::StatusOr<bool> HloConstantFolding::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Limit the constant folding to 0 iterations to skip folding loops in the"
        },
        {
            "sha": "00bec34045f771d3b534b146f3a97281de372443",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_constant_folding.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_folding.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -48,10 +48,10 @@ class HloConstantFolding : public HloModulePass {\n   explicit HloConstantFolding(Level level = Level::kDefault) : level_(level) {}\n   absl::string_view name() const override { return \"constant_folding\"; }\n \n+ protected:\n   // Run constant folding operations on the given module. Returns whether the\n   // module was changed (constant expressions folded).\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "1f6c3fe7f6f7f1f16745ab92bc5020983ff9da03",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_constant_splitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -114,7 +114,7 @@ absl::StatusOr<bool> DuplicateConstantExpressionPerUser(\n \n }  // namespace\n \n-absl::StatusOr<bool> HloConstantSplitter::Run(\n+absl::StatusOr<bool> HloConstantSplitter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "98162cae363f6655501b3a9d43e105fc10a01645",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_constant_splitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_constant_splitter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,8 +45,9 @@ class HloConstantSplitter : public HloModulePass {\n       : split_expressions_(split_expressions),\n         extra_constraints_(extra_constraints) {}\n   absl::string_view name() const override { return \"hlo-constant-splitter\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "b7e035df9d009d26cf1f40de0fd21e33a506404b",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_dce.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -381,7 +381,7 @@ absl::StatusOr<bool> RemoveDanglingComputations(\n   return changed;\n }\n \n-absl::StatusOr<bool> HloDCE::Run(\n+absl::StatusOr<bool> HloDCE::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(2) << \"Before dce; threads: \" << absl::StrJoin(execution_threads, \",\");"
        },
        {
            "sha": "64479179332dfc07a0bb16a242bd0070e641c004",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_dce.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_dce.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -53,10 +53,10 @@ class HloDCE : public HloModulePass {\n       bool remove_cross_partition_collective_ops = false,\n       CallGraph* call_graph = nullptr);\n \n+ protected:\n   // Run the pass on the given module. Returns whether the module was changed\n   // (instructions were removed).\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "8552bd446ef1c97f2455cfb76c6a1922886f3de9",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_element_type_converter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -116,11 +116,11 @@ HloElementTypeConverter::HloElementTypeConverter(\n \n // This routine converts the arithmetic operations in the given module that use\n // eliminate_type_ to operations that use replace_with_type_.\n-absl::StatusOr<bool> HloElementTypeConverter::Run(\n+absl::StatusOr<bool> HloElementTypeConverter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(\n-      3, \"HloElementTypeConverter::Run(), before:\\n\" + module->ToString());\n+      3, \"HloElementTypeConverter::RunImpl(), before:\\n\" + module->ToString());\n \n   if (eliminate_type_ == replace_with_type_) {\n     return false;\n@@ -232,7 +232,7 @@ absl::StatusOr<bool> HloElementTypeConverter::Run(\n     }\n   }\n   XLA_VLOG_LINES(\n-      2, \"HloElementTypeConverter::Run(), after:\\n\" + module->ToString());\n+      2, \"HloElementTypeConverter::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "77307db447aef82770f251143f0824bbb8fa374e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_element_type_converter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_element_type_converter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class HloElementTypeConverter : public HloModulePass {\n   absl::string_view name() const override { return \"element_type_converter\"; }\n \n   // Returns the pass on the module and returns whether the module was modified.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "03c1386dd6bf4caaa43949981601b25da9877d7f",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_memory_scheduler.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -657,7 +657,7 @@ absl::StatusOr<HloSchedule> ScheduleModule(\n       execution_threads, peak_memory);\n }\n \n-absl::StatusOr<bool> HloMemoryScheduler::Run(\n+absl::StatusOr<bool> HloMemoryScheduler::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(HloSchedule schedule,\n@@ -666,7 +666,7 @@ absl::StatusOr<bool> HloMemoryScheduler::Run(\n   return true;\n }\n \n-absl::StatusOr<bool> HloTrivialScheduler::Run(\n+absl::StatusOr<bool> HloTrivialScheduler::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   HloSchedule schedule(module);\n@@ -688,7 +688,7 @@ absl::StatusOr<bool> HloTrivialScheduler::Run(\n   return true;\n }\n \n-absl::StatusOr<bool> HloDescheduler::Run(\n+absl::StatusOr<bool> HloDescheduler::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = module->has_schedule();"
        },
        {
            "sha": "e3d11bb038063f054e795ad7d5f21432caff49e6",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_memory_scheduler.h",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_memory_scheduler.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -275,8 +275,8 @@ class HloMemoryScheduler : public HloModulePass {\n \n   absl::string_view name() const override { return \"hlo-memory-scheduler\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n@@ -290,8 +290,9 @@ class HloTrivialScheduler : public HloModulePass {\n  public:\n   HloTrivialScheduler() = default;\n   absl::string_view name() const override { return \"hlo-trivial-scheduler\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n@@ -302,8 +303,9 @@ class HloDescheduler : public HloModulePass {\n  public:\n   HloDescheduler() = default;\n   absl::string_view name() const override { return \"hlo-descheduler\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "d758e09cf7a593a810295ccd6897e128c9383aee",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_rematerialization.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -3016,7 +3016,7 @@ HloRematerialization::GetRematAlgorithmFunction(\n   }\n }\n \n-absl::StatusOr<bool> HloRematerialization::Run(\n+absl::StatusOr<bool> HloRematerialization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (options_.remat_mode_config.host_offload) {"
        },
        {
            "sha": "cab8902d8359ddca55412c99e6a45ae33543c256",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/hlo_rematerialization.h",
            "status": "modified",
            "additions": 11,
            "deletions": 12,
            "changes": 23,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhlo_rematerialization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -52,7 +52,7 @@ using RematAlgorithmFunction = std::function<absl::StatusOr<bool>(\n // CSE will undo the effects of this optimization and should not be run after\n // this pass. In general, this pass should be run very late, immediately before\n // code generation.\n-class HloRematerialization : public HloModulePass {\n+class HloRematerialization : public HloPassInterface {\n  public:\n   // The minimum cost estimate memory limit in bytes for a computation to be\n   // considered for rematerialization. Only in use for peak priority\n@@ -219,17 +219,6 @@ class HloRematerialization : public HloModulePass {\n         std::max(max_rematerialized_block_size_, new_rematerialized_block_size);\n   }\n \n-  // Runs rematerialization on the given module. Returns whether the module was\n-  // changed. Requires that the module has a schedule set\n-  // (HloModule::has_schedule() is true) before running. Returns whether any\n-  // instructions were rematerialized. If memory use is already below the limit\n-  // specified in the constructor then no instructions are rematerialized and\n-  // false is returned.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   int64_t GetBlockSizeLimit() const { return options_.block_size_limit; }\n \n   // Holds references to data structures and some constants that are used during\n@@ -414,6 +403,16 @@ class HloRematerialization : public HloModulePass {\n   // rematerialized.\n   absl::AnyInvocable<absl::Status(HloInstruction*, HloInstruction*)>\n       on_rematerialized_;\n+\n+  // Runs rematerialization on the given module. Returns whether the module was\n+  // changed. Requires that the module has a schedule set\n+  // (HloModule::has_schedule() is true) before running. Returns whether any\n+  // instructions were rematerialized. If memory use is already below the limit\n+  // specified in the constructor then no instructions are rematerialized and\n+  // false is returned.\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n \n }  // namespace xla"
        },
        {
            "sha": "332d18e864476cbfc99ae28741bc77404a528234",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/host_memory_transfer_asyncifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -197,7 +197,7 @@ class HostMemoryTransferAsyncifierVisitor : public DfsHloVisitorWithDefault {\n \n }  // namespace\n \n-absl::StatusOr<bool> HostMemoryTransferAsyncifier::Run(\n+absl::StatusOr<bool> HostMemoryTransferAsyncifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   HostMemoryTransferAsyncifierVisitor visitor(kHostMemorySpaceColor);"
        },
        {
            "sha": "d760c360012a23259c7f424f9e20173c9a4e2792",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/host_memory_transfer_asyncifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fhost_memory_transfer_asyncifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,8 +45,8 @@ class HostMemoryTransferAsyncifier : public HloModulePass {\n     return \"host-memory-transfer-asyncifier\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "9349d95e35d2af0cbceb5d6c0dc963f11b4c8a96",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/instruction_hoister.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -141,7 +141,7 @@ bool HoistConstantOperations(\n }\n }  // namespace\n \n-absl::StatusOr<bool> InstructionHoister::Run(\n+absl::StatusOr<bool> InstructionHoister::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool modified = false;"
        },
        {
            "sha": "45ded03e85236e0b0c9be76721651b70a118a0cf",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/instruction_hoister.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Finstruction_hoister.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,9 @@ class InstructionHoister : public HloModulePass {\n   ~InstructionHoister() override = default;\n \n   absl::string_view name() const override { return \"instruction-hoister\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3da5222cf01825ea1541acc315790c503def23c1",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/optimize_input_output_buffer_alias.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -142,7 +142,7 @@ absl::StatusOr<bool> OptimizeInputOutputBufferAlias::Build(\n   return changed;\n }\n \n-absl::StatusOr<bool> OptimizeInputOutputBufferAlias::Run(\n+absl::StatusOr<bool> OptimizeInputOutputBufferAlias::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // We exactly follow HloInputOutputAliasConfig::Verify to create input_shapes"
        },
        {
            "sha": "9e0db94ced7798c363d4b6e702eb60e75effbddd",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/optimize_input_output_buffer_alias.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Foptimize_input_output_buffer_alias.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -58,8 +58,8 @@ class OptimizeInputOutputBufferAlias : public HloModulePass {\n     return \"optimize_input_output_buffer_alias\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "e50dcf0904eb0a2e54979fb49b2db92ebaad2f3d",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reduce_window_resizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -27,7 +27,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> ReduceWindowResizer::Run(\n+absl::StatusOr<bool> ReduceWindowResizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "ffa38bfef197fe4e458b113d00c75f05204798ce",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reduce_window_resizer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_resizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,7 +33,8 @@ class ReduceWindowResizer : public HloModulePass {\n \n   absl::string_view name() const override { return \"reduce-window-resizer\"; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "0caa95ea5c287f50e477ae31d3d3354af43b7d21",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reduce_window_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -498,7 +498,7 @@ absl::StatusOr<bool> ReduceWindowRewriter::TryOptimizeCumSumOrProd(\n   return true;\n }\n \n-absl::StatusOr<bool> ReduceWindowRewriter::Run(\n+absl::StatusOr<bool> ReduceWindowRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "a389dc9b4b31dea59091e3dad434134b52a47433",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reduce_window_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freduce_window_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -55,8 +55,8 @@ class ReduceWindowRewriter : public HloModulePass {\n \n   absl::string_view name() const override { return \"reduce-window-rewriter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "f74bf40c9139902b6d9561c76f247a56f560c3b2",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reshape_mover.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -395,7 +395,7 @@ absl::StatusOr<bool> ReshapeMover::TryReshapeMoveOnCandidates(\n   return true;\n }\n \n-absl::StatusOr<bool> ReshapeMover::Run(\n+absl::StatusOr<bool> ReshapeMover::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "fddcd9c873ac6490a3acfce726305f96978bf3d1",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/reshape_mover.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Freshape_mover.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -54,8 +54,8 @@ class ReshapeMover : public HloModulePass {\n \n   absl::string_view name() const override { return \"reshape-mover\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "410ad1aeacbc4f7168ba04abe1c781d6b0ddcfcb",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/root_instruction_sinker.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -53,7 +53,7 @@ void SinkNontupleRoot(HloComputation* computation) {\n \n }  // namespace\n \n-absl::StatusOr<bool> RootInstructionSinker::Run(\n+absl::StatusOr<bool> RootInstructionSinker::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_RET_CHECK(module->has_schedule());"
        },
        {
            "sha": "df33e3afba1f7368cad939772d66cbfb788515e6",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/root_instruction_sinker.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Froot_instruction_sinker.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -36,8 +36,9 @@ class RootInstructionSinker : public HloModulePass {\n  public:\n   ~RootInstructionSinker() override = default;\n   absl::string_view name() const override { return \"root-instruction-sinker\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "c9eea633cb00ea3cf1b11ed325c4e02cf829d3d5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/simplify_fp_conversions.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -64,21 +64,21 @@ absl::StatusOr<bool> RunOnComputation(HloComputation& computation) {\n \n }  // namespace\n \n-absl::StatusOr<bool> SimplifyFPConversions::Run(\n+absl::StatusOr<bool> SimplifyFPConversions::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(\n-      2, absl::StrFormat(\"SimplifyFPConversions::Run() with before:\\n%s\",\n+      2, absl::StrFormat(\"SimplifyFPConversions::RunImpl() with before:\\n%s\",\n                          module->ToString()));\n   bool changed = false;\n   for (HloComputation* computation :\n        module->MakeComputationPostOrder(execution_threads)) {\n     TF_ASSIGN_OR_RETURN(bool comp_changed, RunOnComputation(*computation));\n     changed |= comp_changed;\n   }\n-  XLA_VLOG_LINES(2,\n-                 absl::StrFormat(\"SimplifyFPConversions::Run() with after:\\n%s\",\n-                                 module->ToString()));\n+  XLA_VLOG_LINES(\n+      2, absl::StrFormat(\"SimplifyFPConversions::RunImpl() with after:\\n%s\",\n+                         module->ToString()));\n   return changed;\n }\n "
        },
        {
            "sha": "c56954a226feddbc415942c3cbfface943be5fd1",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/simplify_fp_conversions.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsimplify_fp_conversions.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -36,8 +36,8 @@ class SimplifyFPConversions : public HloModulePass {\n \n   absl::string_view name() const override { return \"simplify-fp-conversions\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "23e26621917ce804b2ce5c2f38eec6718af7db97",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/slice_hoister.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -174,7 +174,7 @@ absl::StatusOr<bool> HoistSliceOperations(HloComputation* computation) {\n }\n }  // anonymous namespace\n \n-absl::StatusOr<bool> SliceHoister::Run(\n+absl::StatusOr<bool> SliceHoister::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "4da673305acebeff66460c521eb5bb24008a9499",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/slice_hoister.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_hoister.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,9 @@ class SliceHoister : public HloModulePass {\n   SliceHoister() = default;\n \n   absl::string_view name() const override { return \"slice-hoister\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "5780e5d463017e89c473ca32d87ff56eb08f8896",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/slice_sinker.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -252,7 +252,7 @@ absl::Status SinkSlices(\n // This pass currently doesn't transform non-elementwise instructions. We may\n // extend this pass to transform non-elementwise instructions, such as dot,\n // broadcast and reduce in the future.\n-absl::StatusOr<bool> SliceSinker::Run(\n+absl::StatusOr<bool> SliceSinker::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "a50d2977f6e13a340220df9c3d74e4a7e6b96f3c",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/slice_sinker.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fslice_sinker.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,8 +30,8 @@ class SliceSinker : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"slice-sinker\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "4b5bdbde4aabe8d1917ff4f7e771a23a6501a083",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sort_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -148,7 +148,7 @@ absl::StatusOr<bool> RemoveUnusedOperandFromSort(HloInstruction* sort) {\n }\n }  // namespace\n \n-absl::StatusOr<bool> SortSimplifier::Run(\n+absl::StatusOr<bool> SortSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(2) << \"HLO module before SortSimplifier:\";"
        },
        {
            "sha": "9967955b17ce0f051ddcd475102cbff4b3e8a66c",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sort_simplifier.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsort_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,8 +29,9 @@ namespace xla {\n class SortSimplifier : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"simplify-sorts\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "be89794d7c6f71346283a5216dabce87f78fa1f0",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sub_byte_collective_normalization.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -192,7 +192,7 @@ SubByteCollectiveNormalizationVisitor::ProcessCollectiveInstruction(\n \n }  // namespace\n \n-absl::StatusOr<bool> SubByteCollectiveNormalization::Run(\n+absl::StatusOr<bool> SubByteCollectiveNormalization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   SubByteCollectiveNormalizationVisitor visitor;"
        },
        {
            "sha": "6e2d78e2f287fbc1e7d049f83a4a315c5c60ce78",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sub_byte_collective_normalization.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_collective_normalization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,8 @@ class SubByteCollectiveNormalization : public HloModulePass {\n     return \"sub-byte-collective-normalization\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "879db5fb3ee1a6a304a5cf8a993c73f75d4c7146",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sub_byte_normalization.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -89,7 +89,7 @@ bool ProcessInputOrOutputLayout(ShapeLayout* shape_layout,\n \n }  // namespace\n \n-absl::StatusOr<bool> SubByteNormalization::Run(\n+absl::StatusOr<bool> SubByteNormalization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "895046fe52afa7fe1236d0b8453b16da4a8094bd",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/sub_byte_normalization.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fsub_byte_normalization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -52,8 +52,9 @@ class SubByteNormalization : public HloModulePass {\n         return \"sub-byte-size-setter\";\n     }\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3d28f74d8d0b5703ca91a56a3b43ace85d4ef998",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/tree_reduction_rewriter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -114,9 +114,9 @@ class ReductionRewriterVisitor : public DfsHloRewriteVisitor {\n   int64_t reduce_window_size_;\n };\n \n-absl::StatusOr<bool> TreeReductionRewriter::Run(\n-    HloModule *module,\n-    const absl::flat_hash_set<absl::string_view> &execution_threads) {\n+absl::StatusOr<bool> TreeReductionRewriter::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   ReductionRewriterVisitor visitor(reduce_window_size_);\n   bool changed = false;\n   for (const auto &computation :"
        },
        {
            "sha": "c15a2906fb6f1070c74ac37a4ed789f350a62a39",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/tree_reduction_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftree_reduction_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -49,8 +49,8 @@ class TreeReductionRewriter : public HloModulePass {\n   ~TreeReductionRewriter() override = default;\n   absl::string_view name() const override { return \"tree_reduction_rewriter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "56604af45ddcace8621c800581eb07d81faeab25",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/tuple_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -64,7 +64,7 @@ absl::StatusOr<HloInstruction*> TupleSimplifier::RemoveWholeTuple(\n   return nullptr;\n }\n \n-absl::StatusOr<bool> TupleSimplifier::Run(\n+absl::StatusOr<bool> TupleSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Initially add all GTE and Tuple instructions to the worklist."
        },
        {
            "sha": "e63a12f1fedda0df0e3849ecce1f3426e52dfd2f",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/tuple_simplifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Ftuple_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,10 +34,10 @@ class TupleSimplifier : public HloModulePass {\n   ~TupleSimplifier() override {}\n   absl::string_view name() const override { return \"tuple-simplifier\"; }\n \n+ protected:\n   // Runs tuple simplification on the given module. Returns whether the module\n   // was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "39a49519ccf67fd5a200f4ea33528b174643ed8e",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/unflatten_call_graph.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -131,7 +131,7 @@ absl::Status UnflattenCallGraph::ValidateComputationHashes(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> UnflattenCallGraph::Run(\n+absl::StatusOr<bool> UnflattenCallGraph::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Running UnflattenCallGraph on module \" << module->name();"
        },
        {
            "sha": "97ea2c54690ac7dee45e92175a8307c9edc9c4b2",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/unflatten_call_graph.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Funflatten_call_graph.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -49,10 +49,10 @@ class UnflattenCallGraph : public HloModulePass {\n \n   absl::string_view name() const override { return \"unflatten-call-graph\"; }\n \n+ protected:\n   // Find called computations that are identical and replace them with calls to\n   // a single computation. Returns true if the module was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "b87e57699aa3a4d52943e2702086fe44b22fb1c5",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/zero_sized_hlo_elimination.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -47,7 +47,7 @@ bool ShouldSkipForSideEffect(HloInstruction* instruction) {\n \n }  // namespace\n \n-absl::StatusOr<bool> ZeroSizedHloElimination::Run(\n+absl::StatusOr<bool> ZeroSizedHloElimination::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "ff2826299817db43d32e32d2c3131abb6b37eb57",
            "filename": "third_party/xla/xla/hlo/transforms/simplifiers/zero_sized_hlo_elimination.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fsimplifiers%2Fzero_sized_hlo_elimination.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -26,13 +26,14 @@ limitations under the License.\n namespace xla {\n class ZeroSizedHloElimination : public HloModulePass {\n  public:\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n   absl::string_view name() const override {\n     return \"zero_sized_hlo_elimination\";\n   }\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n }  // namespace xla\n #endif  // XLA_HLO_TRANSFORMS_SIMPLIFIERS_ZERO_SIZED_HLO_ELIMINATION_H_"
        },
        {
            "sha": "6317837901a99b2d213d2cd854bb1d46b31dd805",
            "filename": "third_party/xla/xla/hlo/transforms/while_loop_trip_count_annotator.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,7 +30,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> WhileLoopTripCountAnnotator::Run(\n+absl::StatusOr<bool> WhileLoopTripCountAnnotator::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "671615536836a3934157bb8b67073b0cf886ea16",
            "filename": "third_party/xla/xla/hlo/transforms/while_loop_trip_count_annotator.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftransforms%2Fwhile_loop_trip_count_annotator.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -42,8 +42,9 @@ class WhileLoopTripCountAnnotator : public HloModulePass {\n   absl::string_view name() const override {\n     return \"while-loop-trip-count-annotator\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "c21b03c7834f2365f83d1a35a60d68232c9b6a9a",
            "filename": "third_party/xla/xla/service/all_gather_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -112,7 +112,7 @@ absl::Status AllGatherDecomposer::DecomposeAllGather(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> AllGatherDecomposer::Run(\n+absl::StatusOr<bool> AllGatherDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "742ee210a8916d638b628e4451fd0c333af46860",
            "filename": "third_party/xla/xla/service/all_gather_decomposer.h",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,13 +46,6 @@ class AllGatherDecomposer : public HloModulePass {\n             [](const HloAllGatherInstruction& ag) { return true; }) {}\n   absl::string_view name() const override { return \"all_gather_decomposer\"; }\n \n-  // Run AllGatherDecomposer pass on computations in 'module'.\n-  // Returns whether the 'module' was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n  protected:\n   virtual HloInstruction* TranslateAllGatherToAllReducePerOperand(\n       CollectiveOpGroupMode group_mode, const HloAllGatherInstruction& ag,\n@@ -66,6 +59,12 @@ class AllGatherDecomposer : public HloModulePass {\n   absl::Status DecomposeAllGather(HloAllGatherInstruction* ag,\n                                   HloComputation* comp);\n \n+  // Run AllGatherDecomposer pass on computations in 'module'.\n+  // Returns whether the 'module' was changed.\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   std::function<bool(const HloAllGatherInstruction&)> should_decompose_;\n };"
        },
        {
            "sha": "d1e6f1a285f32a0e3ab6eaf099a221d576d6d328",
            "filename": "third_party/xla/xla/service/all_gather_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,7 +35,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> AllGatherSimplifier::Run(\n+absl::StatusOr<bool> AllGatherSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "bf4c5c0101a64b572194121d11ff66f23954c0a0",
            "filename": "third_party/xla/xla/service/all_gather_simplifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_gather_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -37,10 +37,10 @@ class AllGatherSimplifier : public HloModulePass {\n   static constexpr absl::string_view kName = \"all-gather-simplifier\";\n   absl::string_view name() const override { return kName; }\n \n+ protected:\n   // Run all-gather simplification on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "59aea1c4a128f46c9224bf1f079ae7f42dcb0fc6",
            "filename": "third_party/xla/xla/service/all_reduce_promotion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -73,7 +73,7 @@ AllReducePromotion::AllReducePromotion(\n     absl::Span<std::pair<PrimitiveType, PrimitiveType> const> from_to_types)\n     : pass_(from_to_types, IsAllReduce, CloneAllReduce) {}\n \n-absl::StatusOr<bool> AllReducePromotion::Run(\n+absl::StatusOr<bool> AllReducePromotion::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return pass_.Run(module, execution_threads);"
        },
        {
            "sha": "3a480896fb88b6b516308a6fec3d1fdc99352185",
            "filename": "third_party/xla/xla/service/all_reduce_promotion.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_promotion.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,8 @@ class AllReducePromotion : public HloModulePass {\n       absl::Span<std::pair<PrimitiveType, PrimitiveType> const> from_to_types);\n   absl::string_view name() const override { return \"all-reduce-promotion\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3b3c55257f69493c24ee91b4cbdeadf9ce1f47d1",
            "filename": "third_party/xla/xla/service/all_reduce_reassociate.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -179,7 +179,7 @@ bool MatchOperandsToAllReduceWithOptionalConvert(HloInstruction* inst,\n }\n }  // namespace\n \n-absl::StatusOr<bool> AllReduceReassociate::Run(\n+absl::StatusOr<bool> AllReduceReassociate::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (hlo_query::ContainsLayoutConstrainedAllReduce(*module)) {"
        },
        {
            "sha": "00f9d143f0c361c65531a655bcd61074bfac8843",
            "filename": "third_party/xla/xla/service/all_reduce_reassociate.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_reassociate.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class AllReduceReassociate : public HloModulePass {\n \n   absl::string_view name() const override { return \"all-reduce-reassociate\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "02a40c7bb2ff418292681e9378f401ab229d8b21",
            "filename": "third_party/xla/xla/service/all_reduce_simplifier.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,7 +40,7 @@ limitations under the License.\n \n namespace xla {\n \n-absl::StatusOr<bool> AllReduceSimplifier::Run(\n+absl::StatusOr<bool> AllReduceSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN("
        },
        {
            "sha": "40019304bd9030475027c46d6d4a510baf41ac38",
            "filename": "third_party/xla/xla/service/all_reduce_simplifier.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fall_reduce_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,10 +33,10 @@ class AllReduceSimplifier : public HloModulePass {\n   static constexpr absl::string_view kName = \"all-reduce-simplifier\";\n   absl::string_view name() const override { return kName; }\n \n+ protected:\n   // Run all-reduce simplification on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "82c526c2c2a9102e98c620f78d11a1be996f9743",
            "filename": "third_party/xla/xla/service/batchnorm_expander.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -581,10 +581,11 @@ absl::Status BatchNormExpanderVisitor::HandleBatchNormGrad(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> BatchNormExpander::Run(\n+absl::StatusOr<bool> BatchNormExpander::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(2, \"BatchNormExpander::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(\n+      2, \"BatchNormExpander::RunImpl(), before:\\n\" + module->ToString());\n   bool changed = false;\n   for (HloComputation* computation :\n        module->MakeNonfusionComputations(execution_threads)) {\n@@ -594,7 +595,8 @@ absl::StatusOr<bool> BatchNormExpander::Run(\n       changed = true;\n     }\n   }\n-  XLA_VLOG_LINES(2, \"BatchNormExpander::Run(), after:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2,\n+                 \"BatchNormExpander::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "4d0931ef202ac53a27cdb678124bd010cb7960cd",
            "filename": "third_party/xla/xla/service/batchnorm_expander.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fbatchnorm_expander.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -41,10 +41,10 @@ class BatchNormExpander : public HloModulePass {\n   ~BatchNormExpander() override = default;\n   absl::string_view name() const override { return \"batchnorm_expander\"; }\n \n+ protected:\n   // Run operation expander on the given computation. Returns whether the\n   // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "6a44e2e3e0194ebf2d3a68fe49b57cd27a66ee21",
            "filename": "third_party/xla/xla/service/call_inliner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -505,7 +505,7 @@ absl::StatusOr<bool> CallInliner::RunWithInlineMap(\n   return did_mutate;\n }\n \n-absl::StatusOr<bool> CallInliner::Run(\n+absl::StatusOr<bool> CallInliner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return RunWithInlineMap(module, std::nullopt, execution_threads);"
        },
        {
            "sha": "b1a7bf57db417f841b7a44a155031831833288ae",
            "filename": "third_party/xla/xla/service/call_inliner.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcall_inliner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -76,11 +76,6 @@ class CallInliner : public HloModulePass {\n   ~CallInliner() override = default;\n   absl::string_view name() const override { return \"call-inliner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   absl::StatusOr<bool> RunWithInlineMap(\n       HloModule* module, std::optional<InlinedInstructionMap*> inline_map,\n       const absl::flat_hash_set<absl::string_view>& execution_threads);\n@@ -92,6 +87,11 @@ class CallInliner : public HloModulePass {\n   // Maximum length of an op_name that can be formed during inlining.\n   static constexpr int kMaxOpNameSize = 1024;\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   absl::StatusOr<bool> InlineAndLegalize(\n       const CallGraph& call_graph, HloComputation* computation,"
        },
        {
            "sha": "83a47fbda1738d413f396ec0555e70a104f5bec8",
            "filename": "third_party/xla/xla/service/change_op_data_type.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,7 +40,7 @@ std::optional<PrimitiveType> GetUniformOperandType(\n }\n }  // namespace\n \n-absl::StatusOr<bool> ChangeOpDataType::Run(\n+absl::StatusOr<bool> ChangeOpDataType::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "811c7281646dbb566e479cb763f6bd4903745266",
            "filename": "third_party/xla/xla/service/change_op_data_type.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fchange_op_data_type.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -63,8 +63,9 @@ class ChangeOpDataType : public HloModulePass {\n   }\n \n   absl::string_view name() const override { return \"change-op-data-type\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "7d1f735df02342b9f9603febee344b0e9c3c309a",
            "filename": "third_party/xla/xla/service/collective_permute_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -307,7 +307,7 @@ void RemoveAllButOne(std::vector<HloCollectivePermuteInstruction*>& cps) {\n   cps = {cps[cp_index]};\n }\n \n-absl::StatusOr<bool> CollectivePermuteDecomposer::Run(\n+absl::StatusOr<bool> CollectivePermuteDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::unique_ptr<CallGraph> call_graph = CallGraph::Build(module);"
        },
        {
            "sha": "09d2284858303c21b4064241587a9be3d8225282",
            "filename": "third_party/xla/xla/service/collective_permute_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_permute_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -69,9 +69,8 @@ class CollectivePermuteDecomposer : public HloModulePass {\n     return \"collective-permute-decomposer\";\n   }\n \n-  // Runs CollectivePermuteDecomposer pass on computations in 'module'.\n-  // Returns whether the 'module' was changed.\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "8799a00a30e7dfe2ecaa13d91a085cb41c26e798",
            "filename": "third_party/xla/xla/service/collective_pipeliner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -3382,7 +3382,7 @@ absl::StatusOr<bool> CollectivePipeliner::RunPipeliner(\n   return changed;\n }\n \n-absl::StatusOr<bool> CollectivePipeliner::Run(\n+absl::StatusOr<bool> CollectivePipeliner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   CHECK(config_.acceptable_formatting);"
        },
        {
            "sha": "af9d8e30665dfc25adca13c1b8f7b17a19092d53",
            "filename": "third_party/xla/xla/service/collective_pipeliner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_pipeliner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -149,8 +149,8 @@ class CollectivePipeliner : public HloModulePass {\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads);\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "484668efb1510c2e72b116b70dec31ea2ca46ebf",
            "filename": "third_party/xla/xla/service/conditional_code_motion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1952,7 +1952,7 @@ ConditionalCodeMotion::Decision ConditionalCodeMotion::ConsiderCodeMotion(\n   return Decision(Decision::Direction::kNoChange, 0);\n }\n \n-absl::StatusOr<bool> ConditionalCodeMotion::Run(\n+absl::StatusOr<bool> ConditionalCodeMotion::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(2) << \"Begin a new pass of conditional code motion optimization.\\n\";"
        },
        {
            "sha": "a141d450a18844ff95576b2715db1fcef95305f7",
            "filename": "third_party/xla/xla/service/conditional_code_motion.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_code_motion.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -185,10 +185,6 @@ class ConditionalCodeMotion : public HloModulePass {\n   }\n \n   absl::string_view name() const override { return \"conditional-code-motion\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n   // Optimization decision for each boundary of the conditional instruction.\n   class Decision {\n@@ -216,6 +212,11 @@ class ConditionalCodeMotion : public HloModulePass {\n       std::vector<Boundary>& to_move, std::vector<Boundary>& new_boundaries,\n       absl::flat_hash_map<HloInstruction*, int>& visited_count);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   const bool is_layout_sensitive_;\n   const bool pursue_full_conditional_code_motion_;"
        },
        {
            "sha": "0308e66d7d3bfcb4638cb573458fabab02421837",
            "filename": "third_party/xla/xla/service/conditional_simplifier.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -606,11 +606,11 @@ static bool InstructionCallsChannelInstructions(\n   return false;\n }\n \n-absl::StatusOr<bool> ConditionalSimplifier::Run(\n+absl::StatusOr<bool> ConditionalSimplifier::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(\n-      3, \"ConditionalSimplifier::Run(), before:\\n\" + module->ToString());\n+      3, \"ConditionalSimplifier::RunImpl(), before:\\n\" + module->ToString());\n   bool changed = false;\n \n   // Gather all the conditional ops in our module. We do this ahead of time so\n@@ -674,8 +674,8 @@ absl::StatusOr<bool> ConditionalSimplifier::Run(\n     changed |= result;\n   }\n \n-  XLA_VLOG_LINES(3,\n-                 \"ConditionalSimplifier::Run(), after:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(\n+      3, \"ConditionalSimplifier::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "ff99641290605bf658e103090d8822bdfe1a0638",
            "filename": "third_party/xla/xla/service/conditional_simplifier.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -28,8 +28,9 @@ namespace xla {\n class ConditionalSimplifier : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"simplify-conditional\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "e750fec2e2cf8fbccf82fc9d6e83102078c8db03",
            "filename": "third_party/xla/xla/service/conditional_to_select.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -104,7 +104,7 @@ static absl::StatusOr<bool> DoConditionalToSelect(HloInstruction* conditional) {\n   return true;\n }\n \n-absl::StatusOr<bool> ConditionalToSelect::Run(\n+absl::StatusOr<bool> ConditionalToSelect::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::unique_ptr<CallGraph> call_graph = CallGraph::Build(module);"
        },
        {
            "sha": "883d4e4ecb0ecf43d8b0e6329b27301f5f440a63",
            "filename": "third_party/xla/xla/service/conditional_to_select.h",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fconditional_to_select.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,10 +31,8 @@ class ConditionalToSelect : public HloModulePass {\n   ~ConditionalToSelect() override = default;\n   absl::string_view name() const override { return \"conditional-to-select\"; }\n \n-  // Run conditional to select on the given computation. Returns whether the\n-  // computation was changed.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "b3251cc79ba7d2f70668e698818228037e224a2a",
            "filename": "third_party/xla/xla/service/copy_insertion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1499,7 +1499,7 @@ absl::Status CopyInsertion::RemoveUnnecessaryCopies(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> CopyInsertion::Run(\n+absl::StatusOr<bool> CopyInsertion::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Copy insertion is performed in three steps:"
        },
        {
            "sha": "cce623ebc236f7c441a306149b4cdc64d0b8d997",
            "filename": "third_party/xla/xla/service/copy_insertion.h",
            "status": "modified",
            "additions": 6,
            "deletions": 7,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcopy_insertion.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -70,13 +70,6 @@ class CopyInsertion : public HloModulePass {\n         use_region_based_live_range_analysis_(\n             use_region_based_live_range_analysis) {}\n \n-  // Run the pass on the given module. Returns whether the module was changed\n-  // (copies were inserted).\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   // Try to remove as many copies from the module as possible without\n   // introducing live range interference. Only copy instructions that are\n   // eligible for copy elision are considered for removal.\n@@ -126,6 +119,12 @@ class CopyInsertion : public HloModulePass {\n   // with its operand.\n   const AliasInfo* alias_info_;\n \n+  // Run the pass on the given module. Returns whether the module was changed\n+  // (copies were inserted).\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   absl::Status AddCopiesToResolveInterference(\n       HloModule* module,"
        },
        {
            "sha": "47bcb617260dcb04c3226c0754caaf77838e0435",
            "filename": "third_party/xla/xla/service/cpu/conv_canonicalization.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,7 +35,7 @@ limitations under the License.\n namespace xla {\n namespace cpu {\n \n-absl::StatusOr<bool> ConvCanonicalization::Run(\n+absl::StatusOr<bool> ConvCanonicalization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "bbb6fe42edb082560ad8ed1f8142f0f819a91331",
            "filename": "third_party/xla/xla/service/cpu/conv_canonicalization.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fconv_canonicalization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -44,8 +44,9 @@ class ConvCanonicalization : public HloModulePass {\n   absl::string_view name() const override {\n     return \"convolution-canonicalization\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3f639cd4b07ec1c1ceeaf5cb54056df74fb75e88",
            "filename": "third_party/xla/xla/service/cpu/cpu_instruction_fusion.h",
            "status": "modified",
            "additions": 8,
            "deletions": 9,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_instruction_fusion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_instruction_fusion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_instruction_fusion.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,15 +35,6 @@ class CpuInstructionFusion : public InstructionFusion {\n       : InstructionFusion(CpuInstructionFusion::IsExpensive, may_duplicate) {}\n   ~CpuInstructionFusion() override = default;\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n-    fusion_node_evaluations_.clear();\n-    ComputeInstructionsToSkip(module, execution_threads);\n-    return InstructionFusion::Run(module, execution_threads);\n-  }\n-\n   // Returns the threshold for a constant to be considered a large constant.\n   static constexpr int64_t GetLargeConstantThresholdBytes() {\n     constexpr int64_t kLargeConstantThresholdBytes = 10000;\n@@ -56,6 +47,14 @@ class CpuInstructionFusion : public InstructionFusion {\n   HloInstruction::FusionKind ChooseKind(\n       const HloInstruction* producer, const HloInstruction* consumer) override;\n \n+  absl::StatusOr<bool> RunImpl(HloModule* module,\n+                               const absl::flat_hash_set<absl::string_view>&\n+                                   execution_threads) override {\n+    fusion_node_evaluations_.clear();\n+    ComputeInstructionsToSkip(module, execution_threads);\n+    return InstructionFusion::RunImpl(module, execution_threads);\n+  }\n+\n  private:\n   HloInstruction* FuseInstruction(HloInstruction* fusion_instruction,\n                                   HloInstruction* producer) override;"
        },
        {
            "sha": "62201bef063e1859982ab5bfcafdf0e67034d7b2",
            "filename": "third_party/xla/xla/service/cpu/onednn_contraction_rewriter.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1530,11 +1530,11 @@ EMIT_SET_BACKEND_CONFIG_SPECIALIZATION(\n     OneDnnConvolutionConfig, onednn_conv_config, optimization_config,\n     user_scratchpad);\n \n-absl::StatusOr<bool> OneDnnContractionRewriter::Run(\n+absl::StatusOr<bool> OneDnnContractionRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(\n-      3, \"OneDnnContractionRewriter::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(3, \"OneDnnContractionRewriter::RunImpl(), before:\\n\" +\n+                        module->ToString());\n   OneDnnContractionRewriteVisitor visitor(graph_enabled_);\n   TF_ASSIGN_OR_RETURN(auto result,\n                       visitor.RunOnModule(module, execution_threads));\n@@ -1544,7 +1544,7 @@ absl::StatusOr<bool> OneDnnContractionRewriter::Run(\n   TF_ASSIGN_OR_RETURN(auto result2,\n                       reorder_visitor.RunOnModule(module, execution_threads));\n   XLA_VLOG_LINES(\n-      3, \"OneDnnContractionRewriter::Run(), after:\\n\" + module->ToString());\n+      3, \"OneDnnContractionRewriter::RunImpl(), after:\\n\" + module->ToString());\n   return {result || result2};\n }\n "
        },
        {
            "sha": "19913b382af66b94ad9239eba535e0ede016e25a",
            "filename": "third_party/xla/xla/service/cpu/onednn_contraction_rewriter.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_contraction_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -48,11 +48,6 @@ class OneDnnContractionRewriter : public HloModulePass {\n     return \"onednn-contraction-rewriter\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   static bool ShouldRewriteDot(const HloInstruction* dot_instr,\n                                bool before_layout_assignment = false);\n   static bool ShouldRewriteConv(const HloInstruction* conv_instr);\n@@ -62,6 +57,11 @@ class OneDnnContractionRewriter : public HloModulePass {\n            ShouldRewriteConv(instr);\n   }\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   int intra_op_parallelism_;\n   const tsl::thread::ThreadPool* compile_threadpool_;"
        },
        {
            "sha": "7b52bfa90b30bd34b67808b193834cfb0c5caab9",
            "filename": "third_party/xla/xla/service/cpu/onednn_ops_rewriter.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 3,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -621,14 +621,16 @@ class OneDnnOpsRewriterVisitor : public DfsHloRewriteVisitor {\n   }\n };\n \n-absl::StatusOr<bool> OneDnnOpsRewriter::Run(\n+absl::StatusOr<bool> OneDnnOpsRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(3, \"OneDnnOpsRewriter::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(\n+      3, \"OneDnnOpsRewriter::RunImpl(), before:\\n\" + module->ToString());\n   OneDnnOpsRewriterVisitor visitor;\n   TF_ASSIGN_OR_RETURN(auto result,\n                       visitor.RunOnModule(module, execution_threads));\n-  XLA_VLOG_LINES(3, \"OneDnnOpsRewriter::Run(), after:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(3,\n+                 \"OneDnnOpsRewriter::RunImpl(), after:\\n\" + module->ToString());\n   return result;\n }\n "
        },
        {
            "sha": "0cdc66c0c1116bb8e4d92b6577b8d5f4c3aa6e36",
            "filename": "third_party/xla/xla/service/cpu/onednn_ops_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_ops_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,8 +29,8 @@ class OneDnnOpsRewriter : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"onednn-ops-rewriter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "e25383ae0c2b2405037ca093bebbc98b2d112ff3",
            "filename": "third_party/xla/xla/service/cpu/parallel_task_assignment.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -202,7 +202,7 @@ int64_t ParallelTaskAssignment::GetTargetParallelTaskCount(\n   return 1;\n }\n \n-absl::StatusOr<bool> ParallelTaskAssigner::Run(\n+absl::StatusOr<bool> ParallelTaskAssigner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_VLOG_LINES(2, \"ParallelTaskAssigner ENTRY\");"
        },
        {
            "sha": "507662b4094110cdc0ee5c83d52694d4cabe1dd5",
            "filename": "third_party/xla/xla/service/cpu/parallel_task_assignment.h",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_task_assignment.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -87,11 +87,8 @@ class ParallelTaskAssigner : public HloModulePass {\n     return \"cpu-parallel-task-assigner\";\n   }\n \n-  // Run parallel task assigner on computations with specified\n-  // `execution_threads` in 'module'. By default, all `execution_threads` are\n-  // included. Returns true if the computation was changed, false otherwise.\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "d342bd883cdc73d3b70f5de26789bcbecd2ca53e",
            "filename": "third_party/xla/xla/service/cpu/small_while_loop_hoisting_pass.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -84,7 +84,7 @@ SmallWhileLoopHoistingPass::SmallWhileLoopHoistingPass(\n     int64_t small_buffer_access_size)\n     : small_buffer_access_size_(small_buffer_access_size) {}\n \n-absl::StatusOr<bool> SmallWhileLoopHoistingPass::Run(\n+absl::StatusOr<bool> SmallWhileLoopHoistingPass::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   std::vector<HloInstruction*> while_instrs;"
        },
        {
            "sha": "5ee2e37fa02bdd9be4a40ff26f076faa9960f58b",
            "filename": "third_party/xla/xla/service/cpu/small_while_loop_hoisting_pass.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fsmall_while_loop_hoisting_pass.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,8 +34,9 @@ class SmallWhileLoopHoistingPass final : public HloModulePass {\n   explicit SmallWhileLoopHoistingPass(int64_t small_buffer_access_size);\n \n   absl::string_view name() const final { return \"small-while-loop-hoisting\"; }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) final;\n "
        },
        {
            "sha": "3ea7a53b3b620610ecfd9fbcd47f199ab55c3b4b",
            "filename": "third_party/xla/xla/service/cpu/tests/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftests%2FBUILD?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -394,11 +394,10 @@ xla_cc_test(\n         \"notap\",\n     ],\n     deps = [\n-        \"//xla:literal\",\n         \"//xla:shape_util\",\n+        \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:pattern_matcher_gmock\",\n         \"//xla/hlo/testlib:test\",\n-        \"//xla/hlo/testlib:test_helpers\",\n         \"//xla/service:cpu_plugin\",\n         \"//xla/service:pattern_matcher\",\n         \"//xla/service/cpu:backend_config_proto_cc\",\n@@ -407,6 +406,7 @@ xla_cc_test(\n         \"//xla/service/cpu:onednn_util\",\n         \"//xla/tests:hlo_test_base\",\n         \"//xla/tests:xla_internal_test_main\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/strings\",\n     ],\n )"
        },
        {
            "sha": "34ae105f267b39ecd472f85d70ba0e63124a2fe7",
            "filename": "third_party/xla/xla/service/debug/unstable_reduction_detector.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -74,7 +74,7 @@ std::string UniqueReductionOpsAsString(\n   return result;\n }\n \n-absl::StatusOr<bool> UnstableReductionDetector::Run(\n+absl::StatusOr<bool> UnstableReductionDetector::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   if (module->config().debug_options().xla_detect_unstable_reductions() =="
        },
        {
            "sha": "3e767d70daaaba85b191439766dcf98ed4691cc2",
            "filename": "third_party/xla/xla/service/debug/unstable_reduction_detector.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fdebug%2Funstable_reduction_detector.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,13 +33,14 @@ namespace xla {\n // accumulation type is a floating point type smaller than f32.\n class UnstableReductionDetector : public HloModulePass {\n  public:\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   absl::string_view name() const override {\n     return \"unstable-reduction-detector\";\n   }\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };\n \n }  // namespace xla"
        },
        {
            "sha": "b0cf5cd49a2862fcb725ee496c94e00c2a3cb5f4",
            "filename": "third_party/xla/xla/service/dynamic_padder.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -2079,7 +2079,7 @@ absl::Status DynamicShapeRemovingVisitor::HandleSetDimensionSize(\n \n }  // namespace\n \n-absl::StatusOr<bool> DynamicPadder::Run(\n+absl::StatusOr<bool> DynamicPadder::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(2) << \"Pre DynamicPadder HLO:\";"
        },
        {
            "sha": "4b428194e2d781d50effea591eef2b9c561c89c5",
            "filename": "third_party/xla/xla/service/dynamic_padder.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fdynamic_padder.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -74,8 +74,8 @@ class DynamicPadder : public HloModulePass {\n \n   absl::string_view name() const override { return \"dynamic_padder\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "edf83778a99a6013760ec3cfcd55740b572dbe79",
            "filename": "third_party/xla/xla/service/gpu/autotuning/autotuner_pass.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -121,7 +121,7 @@ absl::StatusOr<std::unique_ptr<AutotunerPass>> AutotunerPass::Create(\n       debug_options.xla_gpu_shard_autotuning()));\n }\n \n-absl::StatusOr<bool> AutotunerPass::Run(\n+absl::StatusOr<bool> AutotunerPass::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Running Autotuner Pass\";"
        },
        {
            "sha": "ca64d8deef94f7063ab01dfdb3793d8b2d8b60b7",
            "filename": "third_party/xla/xla/service/gpu/autotuning/autotuner_pass.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fautotuner_pass.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -52,8 +52,8 @@ class AutotunerPass : public HloModulePass {\n \n   absl::string_view name() const override { return \"autotuner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "b3c85c7490e93cab6de0941af2df2810d095de57",
            "filename": "third_party/xla/xla/service/gpu/autotuning/conv_algorithm_picker.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1153,7 +1153,7 @@ absl::StatusOr<bool> GpuConvAlgorithmPicker::RunOnComputation(\n   return changed;\n }\n \n-absl::StatusOr<bool> GpuConvAlgorithmPicker::Run(\n+absl::StatusOr<bool> GpuConvAlgorithmPicker::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_SCOPED_LOGGING_TIMER("
        },
        {
            "sha": "4f3c1e8e77013532af8c75f0d5e7cf9ca6a34690",
            "filename": "third_party/xla/xla/service/gpu/autotuning/conv_algorithm_picker.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fconv_algorithm_picker.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -93,8 +93,8 @@ class GpuConvAlgorithmPicker : public HloModulePass {\n     return IsCustomCallToDnnConvolution(*instr);\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "8e4ff55099f9268b2ddaf576738e3e35491bac9e",
            "filename": "third_party/xla/xla/service/gpu/autotuning/gemm_fusion_autotuner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1561,7 +1561,7 @@ static absl::Status ExchangeResults(KeyValueStoreInterface& key_value_store,\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> GemmFusionAutotuner::Run(\n+absl::StatusOr<bool> GemmFusionAutotuner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_SCOPED_LOGGING_TIMER(\"GEMM fusion autotuner\");"
        },
        {
            "sha": "f489888fdcb47a6aa4ec5c0f17720add0c1565bc",
            "filename": "third_party/xla/xla/service/gpu/autotuning/gemm_fusion_autotuner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fgemm_fusion_autotuner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -88,8 +88,8 @@ class GemmFusionAutotuner : public HloModulePass {\n \n   absl::string_view name() const override { return \"gemm-fusion-autotuner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "2618390347add0eaf059cf74e30198cfd16c91f0",
            "filename": "third_party/xla/xla/service/gpu/model/collective_ptable_stats_collection.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -64,7 +64,7 @@ absl::StatusOr<HloInstructionProfileList> CollectProfiles(\n \n }  // namespace\n \n-absl::StatusOr<bool> CollectivePerfTableStatsCollection::Run(\n+absl::StatusOr<bool> CollectivePerfTableStatsCollection::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(HloInstructionProfileList profiles,"
        },
        {
            "sha": "9ef844990e1aa9fe97c058234f4ed62d62173bf6",
            "filename": "third_party/xla/xla/service/gpu/model/collective_ptable_stats_collection.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fcollective_ptable_stats_collection.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -38,9 +38,8 @@ class CollectivePerfTableStatsCollection : public HloModulePass {\n     return \"collective-perf-table-stats-collection\";\n   }\n \n-  using HloPassInterface::Run;\n-\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "668aa4e033df04475f1c255fe0a41a9a97a87a59",
            "filename": "third_party/xla/xla/service/gpu/model/gpu_cost_model_stats_collection.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -27,7 +27,7 @@ limitations under the License.\n namespace xla {\n namespace gpu {\n \n-absl::StatusOr<bool> GpuCostModelStatsCollection::Run(\n+absl::StatusOr<bool> GpuCostModelStatsCollection::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Scan all computations for fusion instructions."
        },
        {
            "sha": "8e38585c1630a67f4da038425172f2051ea64328",
            "filename": "third_party/xla/xla/service/gpu/model/gpu_cost_model_stats_collection.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_cost_model_stats_collection.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,8 +46,8 @@ class GpuCostModelStatsCollection : public HloModulePass {\n     return \"gpu_cost_model_stats_collection\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "ee4f33af0fa467eb3a9f54b7aa1adcba59eb1582",
            "filename": "third_party/xla/xla/service/gpu/model/matmul_ptable_stats_collection.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -153,7 +153,7 @@ absl::Status MaybeRecordPerfTablesForDotsAndCustomCalls(\n \n }  // namespace\n \n-absl::StatusOr<bool> MatmulPerfTableStatsCollection::Run(\n+absl::StatusOr<bool> MatmulPerfTableStatsCollection::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN(HloInstructionProfileList profiles,"
        },
        {
            "sha": "d5cd2742ce06c39f2bb2e328a4361612a360d299",
            "filename": "third_party/xla/xla/service/gpu/model/matmul_ptable_stats_collection.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fmatmul_ptable_stats_collection.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -38,9 +38,8 @@ class MatmulPerfTableStatsCollection : public HloModulePass {\n     return \"matmul-perf-table-stats-collection\";\n   }\n \n-  using HloPassInterface::Run;\n-\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "ad8040fc2ac8ae8d0048b0174ef8e24212cca8b0",
            "filename": "third_party/xla/xla/service/gpu/model/sol_gpu_cost_model_stats_collection.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -94,7 +94,7 @@ bool RecordReificationCost(HloInstruction& instr,\n \n }  // namespace\n \n-absl::StatusOr<bool> SolGpuCostModelStatsCollection::Run(\n+absl::StatusOr<bool> SolGpuCostModelStatsCollection::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   auto cost_analysis ="
        },
        {
            "sha": "bc117cf204ab7063bea8c6c778dd7e523798951c",
            "filename": "third_party/xla/xla/service/gpu/model/sol_gpu_cost_model_stats_collection.h",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fsol_gpu_cost_model_stats_collection.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -42,9 +42,8 @@ class SolGpuCostModelStatsCollection : public HloModulePass {\n     return \"sol-gpu-cost-model-stats-collection\";\n   }\n \n-  using HloPassInterface::Run;\n-\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "f365a2b142baf8d22315ecd1ea02e403ef249d09",
            "filename": "third_party/xla/xla/service/gpu/transforms/add_tracking_suffix_to_instruction_names.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -26,7 +26,7 @@ limitations under the License.\n namespace xla {\n namespace gpu {\n \n-absl::StatusOr<bool> AddTrackingSuffixToInstructionNames::Run(\n+absl::StatusOr<bool> AddTrackingSuffixToInstructionNames::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "159fc89227d475030eb9da6259cc032d5720befe",
            "filename": "third_party/xla/xla/service/gpu/transforms/add_tracking_suffix_to_instruction_names.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fadd_tracking_suffix_to_instruction_names.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,8 +40,8 @@ class AddTrackingSuffixToInstructionNames : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"rename-instructions\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "d4f27bc540bd4437c0a574b5148f839f9a89e0e2",
            "filename": "third_party/xla/xla/service/gpu/transforms/algebraic_simplifier.cc",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -99,4 +99,21 @@ GpuAlgebraicSimplifierVisitor::MakeMultiplyForPrecisionAlgorithm(\n       lhs, rhs, dot->precision_config().algorithm());\n }\n \n+absl::StatusOr<bool> GpuAlgebraicSimplifier::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n+  XLA_VLOG_LINES(\n+      2, \"GpuAlgebraicSimplifier::RunImpl(), before:\\n\" + module->ToString());\n+  bool changed = false;\n+  GpuAlgebraicSimplifierVisitor visitor(options_, compute_capability_, this);\n+  for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n+    if (visitor.Run(comp, options_, this)) {\n+      changed = true;\n+    }\n+  }\n+  XLA_VLOG_LINES(\n+      2, \"GpuAlgebraicSimplifier::RunImpl(), after:\\n\" + module->ToString());\n+  return changed;\n+}\n+\n }  // namespace xla::gpu"
        },
        {
            "sha": "116fbe7bd8cd4cfa43b3ed045a0b4f4050257fa4",
            "filename": "third_party/xla/xla/service/gpu/transforms/algebraic_simplifier.h",
            "status": "modified",
            "additions": 4,
            "deletions": 17,
            "changes": 21,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgebraic_simplifier.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -73,23 +73,10 @@ class GpuAlgebraicSimplifier : public AlgebraicSimplifier {\n       : AlgebraicSimplifier(options),\n         compute_capability_(std::move(compute_capability)) {}\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(HloModule* module,\n-                           const absl::flat_hash_set<absl::string_view>&\n-                               execution_threads) override {\n-    XLA_VLOG_LINES(\n-        2, \"GpuAlgebraicSimplifier::Run(), before:\\n\" + module->ToString());\n-    bool changed = false;\n-    GpuAlgebraicSimplifierVisitor visitor(options_, compute_capability_, this);\n-    for (auto* comp : module->MakeNonfusionComputations(execution_threads)) {\n-      if (visitor.Run(comp, options_, this)) {\n-        changed = true;\n-      }\n-    }\n-    XLA_VLOG_LINES(\n-        2, \"GpuAlgebraicSimplifier::Run(), after:\\n\" + module->ToString());\n-    return changed;\n-  }\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n \n  private:\n   se::GpuComputeCapability compute_capability_;"
        },
        {
            "sha": "8b825222cacd91f0891e2c555b7b6272a59c6be2",
            "filename": "third_party/xla/xla/service/gpu/transforms/algorithm_checker.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -97,7 +97,7 @@ class AlgorithmCheckerVisitor : public ConstDfsHloVisitorWithDefault {\n \n }  // namespace\n \n-absl::StatusOr<bool> AlgorithmChecker::Run(\n+absl::StatusOr<bool> AlgorithmChecker::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_RETURN_IF_ERROR(AlgorithmCheckerVisitor(gpu_compute_capability_)"
        },
        {
            "sha": "cc41dae5ca1cf8fa4b5f8bf3fe826d0348908a85",
            "filename": "third_party/xla/xla/service/gpu/transforms/algorithm_checker.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falgorithm_checker.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class AlgorithmChecker : public HloModulePass {\n \n   absl::string_view name() const override { return \"algorithm-checker\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "bfe580c8db2c6bfed4da29b80c59a64be7f50736",
            "filename": "third_party/xla/xla/service/gpu/transforms/alias_passthrough_params.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -28,7 +28,7 @@ limitations under the License.\n namespace xla {\n namespace gpu {\n \n-absl::StatusOr<bool> AliasPassthroughParams::Run(\n+absl::StatusOr<bool> AliasPassthroughParams::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   const HloInstruction* root = module->entry_computation()->root_instruction();"
        },
        {
            "sha": "cc87e23603f1ff7a25b015785b435c0ae7df0f29",
            "filename": "third_party/xla/xla/service/gpu/transforms/alias_passthrough_params.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Falias_passthrough_params.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -38,8 +38,8 @@ class AliasPassthroughParams : public HloModulePass {\n   ~AliasPassthroughParams() override = default;\n   absl::string_view name() const override { return \"alias_passthrough_params\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "a96615edca6eb3a151d01d76b74b813ad645eb96",
            "filename": "third_party/xla/xla/service/gpu/transforms/async_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,7 +34,7 @@ limitations under the License.\n \n namespace xla::gpu {\n \n-absl::StatusOr<bool> AsyncWrapper::Run(\n+absl::StatusOr<bool> AsyncWrapper::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "941d0c712fa03172759117d55addbcbb0c6ec1f0",
            "filename": "third_party/xla/xla/service/gpu/transforms/async_wrapper.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -38,7 +38,9 @@ class AsyncWrapper : public HloModulePass {\n       : predicate_(std::move(predicate)) {}\n \n   absl::string_view name() const override { return \"async-wrapper\"; }\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "fe06365394a466e25bab28e997a57d4f8aabda9f",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_gather_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -75,7 +75,7 @@ std::optional<AllGatherCombiner::GroupKey> CustomCombinerKey(\n \n }  // namespace\n \n-absl::StatusOr<bool> GpuAllGatherCombiner::Run(\n+absl::StatusOr<bool> GpuAllGatherCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Combiner threshold is specified. Running parent pass code."
        },
        {
            "sha": "9f5784e2e8bf2d4251846516718e49f986fc5012",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_gather_combiner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,8 +45,8 @@ class GpuAllGatherCombiner : public AllGatherCombiner {\n \n   absl::string_view name() const override { return \"gpu-all-gather-combiner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "17ce38bb0cecb3be60472c0ad156316d9c899596",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_gather_optimizer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -33,7 +33,7 @@ limitations under the License.\n namespace xla {\n namespace gpu {\n \n-absl::StatusOr<bool> AllGatherOptimizer::Run(\n+absl::StatusOr<bool> AllGatherOptimizer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "057486b7225398dcbd4ccfa617615420253ee916",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_gather_optimizer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_gather_optimizer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -37,8 +37,8 @@ class AllGatherOptimizer : public HloModulePass {\n   AllGatherOptimizer() = default;\n   absl::string_view name() const override { return \"all-gather-optimizer\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "90781cab12c35214011e887d1030b5816ffab3b1",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_blueconnect.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -339,7 +339,7 @@ static absl::StatusOr<bool> TryDecomposeAllReduce(\n   return true;\n }\n \n-absl::StatusOr<bool> AllReduceBlueConnect::Run(\n+absl::StatusOr<bool> AllReduceBlueConnect::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   VLOG(1) << \"Running AllReduceBlueConnect\";"
        },
        {
            "sha": "cd5176bd4f3d264f8f56fcb5606c957c510ecaf1",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_blueconnect.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -42,8 +42,8 @@ class AllReduceBlueConnect : public HloModulePass {\n \n   absl::string_view name() const override { return \"all-reduce-blueconnect\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "c76c5302220db0f520764d9cade25fc8b4998c7a",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -73,7 +73,7 @@ std::optional<AllReduceCombiner::GroupKey> CustomCombinerKey(\n \n }  // namespace\n \n-absl::StatusOr<bool> GpuAllReduceCombiner::Run(\n+absl::StatusOr<bool> GpuAllReduceCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Combiner threshold is specified. Running parent pass code."
        },
        {
            "sha": "65eb8f33dc67e44cf8b70befac9dfdb5e0b68353",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_combiner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -42,8 +42,8 @@ class GpuAllReduceCombiner : public AllReduceCombiner {\n \n   absl::string_view name() const override { return \"gpu-all-reduce-combiner\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "b0322a453596b26244403c075b552be07e972e1f",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -138,7 +138,7 @@ static absl::StatusOr<bool> DecomposeAllReduce(HloInstruction* hlo,\n   return true;\n }\n \n-absl::StatusOr<bool> AllReduceDecomposer::Run(\n+absl::StatusOr<bool> AllReduceDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "3c5604004693ed4558b384d25a44983f2b8df33e",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -30,7 +30,8 @@ class AllReduceDecomposer : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-reduce-decomposer\"; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "a0b48fd4a1f7c56ed98598e0dd34a3c380fbdf9b",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_splitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -415,7 +415,7 @@ static absl::StatusOr<bool> SplitAllReduce(const HloModule& module,\n                         computation);  // changed\n }\n \n-absl::StatusOr<bool> AllReduceSplitter::Run(\n+absl::StatusOr<bool> AllReduceSplitter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "ecc1a1fdac250278fa4f4cbcf27c936dd912ac19",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_splitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_splitter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -66,8 +66,8 @@ class AllReduceSplitter : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"all-reduce-splitter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "a2d8a5dbc218ae11676c1073e1b36607657acada",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/async_collective_annotator.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -29,7 +29,7 @@ limitations under the License.\n namespace xla {\n namespace gpu {\n \n-absl::StatusOr<bool> AsyncCollectiveAnnotator::Run(\n+absl::StatusOr<bool> AsyncCollectiveAnnotator::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "9e40855193752f1fc65f917344f8e47dfa6b665e",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/async_collective_annotator.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fasync_collective_annotator.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -37,8 +37,8 @@ class AsyncCollectiveAnnotator : public HloModulePass {\n     return \"async-collective-annotator\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "6885fc84b4b2bda57b8d40a514a8a8c3d57fd34a",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_backend_assigner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -78,7 +78,7 @@ absl::StatusOr<GPUCommunicationType> GetCommunicationType(\n // based on:\n // 1. Communication pattern (intranode vs internode)\n // 2. Message size (compared against threshold_in_bytes)\n-absl::StatusOr<bool> CollectiveBackendAssigner::Run(\n+absl::StatusOr<bool> CollectiveBackendAssigner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "ed1ef6ad35d9491ad8ba334c00ac50f206f32f32",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_backend_assigner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_backend_assigner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -54,7 +54,8 @@ class CollectiveBackendAssigner : public HloModulePass {\n     return \"collective-backend-assigner\";\n   }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "fa458d8e48bd4cb367777c228ddceb3421278405",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_combiner_annotator.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -124,7 +124,7 @@ int64_t MaxAvailableMemory(const HloModule& module,\n \n }  // namespace\n \n-absl::StatusOr<bool> CollectiveCombinerAnnotator::Run(\n+absl::StatusOr<bool> CollectiveCombinerAnnotator::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   TF_ASSIGN_OR_RETURN("
        },
        {
            "sha": "47eb782ba5c664e771a6ef15b04b80b642f9ee99",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_combiner_annotator.h",
            "status": "modified",
            "additions": 5,
            "deletions": 4,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_combiner_annotator.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -45,14 +45,15 @@ class CollectiveCombinerAnnotator : public HloModulePass {\n         pointer_size_(pointer_size),\n         symbolic_expr_context_(symbolic_expr_context) {}\n \n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   absl::string_view name() const override {\n     return \"collective-combiner-annotator\";\n   }\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   const se::DeviceDescription device_info_;\n   const GpuAliasInfo* alias_info_;"
        },
        {
            "sha": "faf8c9375d9a8a4c9f2ab98337f092ef746e48c9",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_permute_cycle_decomposer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -273,7 +273,7 @@ absl::Status DecomposeCollectivePermuteCycle(\n }\n }  // namespace\n \n-absl::StatusOr<bool> CollectivePermuteCycleDecomposer::Run(\n+absl::StatusOr<bool> CollectivePermuteCycleDecomposer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "3b98f801c6403b3dd9bb0833a6b07276f80c271d",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_permute_cycle_decomposer.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_permute_cycle_decomposer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -60,7 +60,8 @@ class CollectivePermuteCycleDecomposer : public HloModulePass {\n     return \"collective-permute-cycle-decomposer\";\n   }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "68fbda42ff1964582e7cd8a6538185eda0f363ed",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_pipelining_analyzer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -218,7 +218,7 @@ bool IsTriviallyPipelineable(const HloInstruction& instr) {\n   return instr.frontend_attributes().map().contains(kTriviallyPipelineable);\n }\n \n-absl::StatusOr<bool> CollectivePipeliningAnalyzer::Run(\n+absl::StatusOr<bool> CollectivePipeliningAnalyzer::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   const HloModuleConfig& config = module->config();"
        },
        {
            "sha": "07fdae7138b90376a793d28f5302a816e22d27fb",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_pipelining_analyzer.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_pipelining_analyzer.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -69,8 +69,9 @@ class CollectivePipeliningAnalyzer : public HloModulePass {\n   absl::string_view name() const override {\n     return \"collective-pipelining-analyzer\";\n   }\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "7efd2078d59593aa1bd81e80b1fbcbca56f950c1",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_select_folder.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -212,7 +212,7 @@ static absl::StatusOr<bool> TryFoldColectivePermuteOfSelect(\n   return true;\n }\n \n-absl::StatusOr<bool> CollectiveSelectFolder::Run(\n+absl::StatusOr<bool> CollectiveSelectFolder::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "a9cd0bb99beced39c679f1a87c98f87bc2475c24",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_select_folder.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_select_folder.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -76,7 +76,8 @@ class CollectiveSelectFolder : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"collective-select-folder\"; }\n \n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "35c0a7012a4b7e1af86d1255a983b1dc3a53311d",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_send_recv_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -144,7 +144,7 @@ static absl::Status CreateAsyncStartAndAsyncDone(\n   return absl::OkStatus();\n }\n \n-absl::StatusOr<bool> CollectiveSendRecvCombiner::Run(\n+absl::StatusOr<bool> CollectiveSendRecvCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "c62b572a884fb0871000aef358bc864661c5b3b6",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/collective_send_recv_combiner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fcollective_send_recv_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -49,8 +49,8 @@ class CollectiveSendRecvCombiner : public HloModulePass {\n     return \"collective-send-recv-combiner\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "a670ce12aceec5517c4eabc54e799e99e8fb73ed",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/reduce_scatter_combiner.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -73,7 +73,7 @@ std::optional<ReduceScatterCombiner::GroupKey> CustomCombinerKey(\n \n }  // namespace\n \n-absl::StatusOr<bool> GpuReduceScatterCombiner::Run(\n+absl::StatusOr<bool> GpuReduceScatterCombiner::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Combiner threshold is specified. Running parent pass code."
        },
        {
            "sha": "96fb1d4f8ea46637654b877f808ee51c6c7681cd",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/reduce_scatter_combiner.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Freduce_scatter_combiner.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -46,8 +46,8 @@ class GpuReduceScatterCombiner : public ReduceScatterCombiner {\n     return \"gpu-reduce-scatter-combiner\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "3f103ed6eeb5df9c3d832b7e089c090888db453a",
            "filename": "third_party/xla/xla/service/gpu/transforms/command_buffer_scheduling.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -794,7 +794,7 @@ CommandBufferScheduling::CommandBufferScheduling(\n     const se::DeviceDescription& device_description)\n     : device_description_(device_description) {}\n \n-absl::StatusOr<bool> CommandBufferScheduling::Run(\n+absl::StatusOr<bool> CommandBufferScheduling::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // We run command buffer scheduling after a regular scheduling to guarantee"
        },
        {
            "sha": "ac6c884b4228aa996424f5c65fbf3f050468b0f2",
            "filename": "third_party/xla/xla/service/gpu/transforms/command_buffer_scheduling.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcommand_buffer_scheduling.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -85,11 +85,6 @@ class CommandBufferScheduling : public HloModulePass {\n     return \"command-buffer-scheduling\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   static std::vector<HloInstructionSequence> CollectCommandBufferSequences(\n       HloInstructionSequence schedule, const CommandBufferConfig& config,\n       int32_t min_num_commands = 1);\n@@ -121,6 +116,11 @@ class CommandBufferScheduling : public HloModulePass {\n       HloComputation* parent, const HloInstructionSequence& seq,\n       CommandBuffer command_buffer);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   se::DeviceDescription device_description_;\n };"
        },
        {
            "sha": "fc731cd45386cfb150cafdef96c9e6c0229b888a",
            "filename": "third_party/xla/xla/service/gpu/transforms/composite_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -134,7 +134,7 @@ absl::StatusOr<bool> CompositeRewriter::RewriteComputation(\n   return changed;\n }\n \n-absl::StatusOr<bool> CompositeRewriter::Run(\n+absl::StatusOr<bool> CompositeRewriter::RunImpl(\n     HloModule* module, const absl::flat_hash_set<absl::string_view>&) {\n   bool changed = false;\n   for (HloComputation* computation : module->computations()) {"
        },
        {
            "sha": "7896a04be027cd51758b4e8e18f7598b82e5d2e9",
            "filename": "third_party/xla/xla/service/gpu/transforms/composite_rewriter.h",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcomposite_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -31,12 +31,12 @@ class CompositeRewriter : public HloModulePass {\n  public:\n   absl::string_view name() const override { return \"composite-rewriter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+  absl::StatusOr<bool> RewriteComputation(HloComputation* computation);\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n-  absl::StatusOr<bool> RewriteComputation(HloComputation* computation);\n };\n \n }  // namespace gpu"
        },
        {
            "sha": "cc8e752d349e9179d0d28334527e097a5b09316c",
            "filename": "third_party/xla/xla/service/gpu/transforms/conv_padding_legalization.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -453,7 +453,7 @@ absl::StatusOr<bool> ConvPaddingLegalization::RunOnComputation(\n   return changed;\n }\n \n-absl::StatusOr<bool> ConvPaddingLegalization::Run(\n+absl::StatusOr<bool> ConvPaddingLegalization::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "9fbf4aa08cae7ddf35fce20cd378d8e77b84650a",
            "filename": "third_party/xla/xla/service/gpu/transforms/conv_padding_legalization.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_padding_legalization.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -36,8 +36,8 @@ class ConvPaddingLegalization : public HloModulePass {\n     return \"conv-padding-legalization\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "0d2824be649be52b43a6f6ffeb64536a4036b4d2",
            "filename": "third_party/xla/xla/service/gpu/transforms/conv_rewriter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -901,10 +901,10 @@ absl::StatusOr<bool> RunOnComputation(HloComputation* computation,\n }\n }  // namespace\n \n-absl::StatusOr<bool> ConvRewriter::Run(\n+absl::StatusOr<bool> ConvRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n-  XLA_VLOG_LINES(2, \"ConvRewriter::Run(), before:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"ConvRewriter::RunImpl(), before:\\n\" + module->ToString());\n   bool changed = false;\n   for (HloComputation* computation :\n        module->MakeNonfusionComputations(execution_threads)) {\n@@ -913,7 +913,7 @@ absl::StatusOr<bool> ConvRewriter::Run(\n         RunOnComputation(computation, compute_capability_, dnn_version_));\n     changed |= result;\n   }\n-  XLA_VLOG_LINES(2, \"ConvRewriter::Run(), after:\\n\" + module->ToString());\n+  XLA_VLOG_LINES(2, \"ConvRewriter::RunImpl(), after:\\n\" + module->ToString());\n   return changed;\n }\n "
        },
        {
            "sha": "c0b7596dd8f828ee818203ce6a8d6a851218bdec",
            "filename": "third_party/xla/xla/service/gpu/transforms/conv_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fconv_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -47,8 +47,8 @@ class ConvRewriter : public HloModulePass {\n \n   static bool ConvIsLowerable(HloInstruction* conv);\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "434a33236b76d4f709513390ca89728434faf91c",
            "filename": "third_party/xla/xla/service/gpu/transforms/copy_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -204,7 +204,7 @@ absl::StatusOr<bool> CopyFusion::DoCopyFusion(\n   return changed;\n }\n \n-absl::StatusOr<bool> CopyFusion::Run(\n+absl::StatusOr<bool> CopyFusion::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   // Only for the entry computation we can be sure that the copies do not share"
        },
        {
            "sha": "c64aac0dde734f127bee370b7ff918603fc1f23b",
            "filename": "third_party/xla/xla/service/gpu/transforms/copy_fusion.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcopy_fusion.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -39,8 +39,8 @@ class CopyFusion : public HloModulePass {\n \n   absl::string_view name() const override { return \"copy_fusion\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "496d50122c2701a02853fb76eae5cb76aed6dd76",
            "filename": "third_party/xla/xla/service/gpu/transforms/cublas_pad_for_gemms.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -196,7 +196,7 @@ absl::StatusOr<std::vector<HloDotInstruction*>> GetRelevantDots(\n \n }  // namespace\n \n-absl::StatusOr<bool> CublasPadForGemms::Run(\n+absl::StatusOr<bool> CublasPadForGemms::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "ca0a5c4d43ea26a9f061520bc95c1007e3e98afa",
            "filename": "third_party/xla/xla/service/gpu/transforms/cublas_pad_for_gemms.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcublas_pad_for_gemms.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -47,8 +47,8 @@ class CublasPadForGemms : public HloModulePass {\n \n   absl::string_view name() const override { return \"cublas-pad-for-gemms\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "aa004d301a32ad932d4697900b8606c1cef8d1af",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_custom_call_compiler.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -572,9 +572,9 @@ class CuDnnCustomCallVisitor : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> CuDnnCustomCallCompiler::Run(\n-    HloModule *module,\n-    const absl::flat_hash_set<absl::string_view> &execution_threads) {\n+absl::StatusOr<bool> CuDnnCustomCallCompiler::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_SCOPED_LOGGING_TIMER_LEVEL(\"cuDNN custom call compiler\", 8);\n   return CuDnnCustomCallVisitor(dnn_support_, compilation_results_)\n       .RunOnModule(module, execution_threads);"
        },
        {
            "sha": "634bdbe97b0fa2334f1899a8c72da1a11132d184",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_custom_call_compiler.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_compiler.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -41,8 +41,8 @@ class CuDnnCustomCallCompiler : public HloModulePass {\n     return \"cudnn-custom-call-compiler\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "c7fe997e8329806e73bb896ab19a4f184e11e146",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_custom_call_converter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -55,9 +55,9 @@ class CustomCallVisitor : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> CuDnnCustomCallConverter::Run(\n-    HloModule *module,\n-    const absl::flat_hash_set<absl::string_view> &execution_threads) {\n+absl::StatusOr<bool> CuDnnCustomCallConverter::RunImpl(\n+    HloModule* module,\n+    const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   return CustomCallVisitor().RunOnModule(module, execution_threads);\n }\n "
        },
        {
            "sha": "86f2d86a8b8d8a3d509090e3609e0440391c24d9",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_custom_call_converter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_custom_call_converter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -35,8 +35,8 @@ class CuDnnCustomCallConverter : public HloModulePass {\n     return \"cudnn-custom-call-converter\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n };"
        },
        {
            "sha": "5311481035909b59b5deb7188d667c02e99fd2ef",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_fused_conv_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1682,7 +1682,7 @@ void VlogStats(HloModule* module) {\n \n }  // namespace\n \n-absl::StatusOr<bool> CudnnFusedConvRewriter::Run(\n+absl::StatusOr<bool> CudnnFusedConvRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool any_changed = false;"
        },
        {
            "sha": "ec3fc1380219de121c01826eefde4c025d9b6146",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_fused_conv_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fused_conv_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -123,8 +123,8 @@ class CudnnFusedConvRewriter : public HloModulePass {\n     return \"cudnn-fused-convolution-rewriter\";\n   }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "71b83e7c6740bf84489b45ebce575988f1c65ab9",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_fusion_compiler.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1009,7 +1009,7 @@ class CuDnnFusionVisitor : public DfsHloRewriteVisitor {\n \n }  // namespace\n \n-absl::StatusOr<bool> CuDnnFusionCompiler::Run(\n+absl::StatusOr<bool> CuDnnFusionCompiler::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   XLA_SCOPED_LOGGING_TIMER(\"cuDNN fusion compiler\");"
        },
        {
            "sha": "bdd591fabd072a6f53d0cd3ee1d1662b1337851a",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_fusion_compiler.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_fusion_compiler.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -40,14 +40,14 @@ class CuDnnFusionCompiler : public HloModulePass {\n \n   absl::string_view name() const override { return \"cudnn-fusion-compiler\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n-      HloModule* module,\n-      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n-\n   static int GetAvailablePlanCount(se::StreamExecutor& stream_exec,\n                                    const HloFusionInstruction& hlo);\n \n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n+      HloModule* module,\n+      const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n+\n  private:\n   se::dnn::DnnSupport& dnn_support_;\n   BinaryMap& compilation_results_;"
        },
        {
            "sha": "d8786cc5f0ace7a612b15b8f8b421ab4df619d95",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_norm_rewriter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -1512,7 +1512,7 @@ CudnnNormRewriter::CudnnNormRewriter(\n     const se::CudaComputeCapability& cuda_compute_capability)\n     : cuda_compute_capability_(cuda_compute_capability) {}\n \n-absl::StatusOr<bool> CudnnNormRewriter::Run(\n+absl::StatusOr<bool> CudnnNormRewriter::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "7b4899d1f8ab349547c57d088c22c0fca1f994c6",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_norm_rewriter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_norm_rewriter.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -34,8 +34,8 @@ class CudnnNormRewriter : public HloModulePass {\n       const se::CudaComputeCapability& cuda_compute_capability);\n   absl::string_view name() const override { return \"norm-rewriter\"; }\n \n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "65d423023e7e64d449082936ab2c850834bdc089",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_pad_for_convolutions.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -489,7 +489,7 @@ absl::StatusOr<bool> TryResolvePaddedShapesForIntegerConvolution(\n   return changed;\n }\n \n-absl::StatusOr<bool> CudnnPadForConvolutions::Run(\n+absl::StatusOr<bool> CudnnPadForConvolutions::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        },
        {
            "sha": "00a07f857caacc09141c23442a21555e20904eb6",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_pad_for_convolutions.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_pad_for_convolutions.h?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -37,9 +37,9 @@ class CudnnPadForConvolutions : public HloModulePass {\n   absl::string_view name() const override {\n     return \"cudnn_pad_for_convolutions\";\n   }\n-  // Run PadForConvolutions on the given module and return if any change is made\n-  using HloPassInterface::Run;\n-  absl::StatusOr<bool> Run(\n+\n+ protected:\n+  absl::StatusOr<bool> RunImpl(\n       HloModule* module,\n       const absl::flat_hash_set<absl::string_view>& execution_threads) override;\n "
        },
        {
            "sha": "6f36dd1f6c94deba9eece41fcea907ddaedcdd35",
            "filename": "third_party/xla/xla/service/gpu/transforms/cudnn_simplify_padding.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_simplify_padding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/858ae445a0086a65725496cf911e94f6aab0ee7a/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_simplify_padding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcudnn_simplify_padding.cc?ref=858ae445a0086a65725496cf911e94f6aab0ee7a",
            "patch": "@@ -236,7 +236,7 @@ absl::StatusOr<bool> TrySimplifyPadding(HloInstruction* instr) {\n \n }  // anonymous namespace\n \n-absl::StatusOr<bool> CudnnSimplifyPadding::Run(\n+absl::StatusOr<bool> CudnnSimplifyPadding::RunImpl(\n     HloModule* module,\n     const absl::flat_hash_set<absl::string_view>& execution_threads) {\n   bool changed = false;"
        }
    ],
    "stats": {
        "total": 2320,
        "additions": 1208,
        "deletions": 1112
    }
}