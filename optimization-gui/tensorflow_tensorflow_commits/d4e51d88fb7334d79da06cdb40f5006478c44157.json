{
    "author": "apivovarov",
    "message": "Replace std::copy with absl::c_copy for readability.\n\nThis change refactors usages of std::copy(container.begin(), container.end(), ...) to the more compact absl::c_copy(container, ...). This improves readability and reduces verbosity. Necessary includes for absl/algorithm/container.h have been added where required.\n\nPiperOrigin-RevId: 842102140",
    "sha": "d4e51d88fb7334d79da06cdb40f5006478c44157",
    "files": [
        {
            "sha": "5cb759a96f3f01d0adec07f11cebcdcd161fa6f4",
            "filename": "third_party/xla/xla/backends/gpu/runtime/select_k_exec_raft_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_raft_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_raft_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_raft_test.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -106,7 +106,7 @@ void RunSelectKTest() {\n   std::vector<T> h_data_in(batch * n);\n   for (int j = 0; j < batch; ++j) {\n     std::shuffle(topk.begin(), topk.end(), gen);\n-    std::copy(topk.begin(), topk.end(), h_data_in.begin() + j * n);\n+    absl::c_copy(topk, h_data_in.begin() + j * n);\n   }\n \n   // Compute golden Top-K values for verification"
        },
        {
            "sha": "b5d097d79b4715ba05e00c9204d2d2771f04bbb7",
            "filename": "third_party/xla/xla/service/BUILD",
            "status": "modified",
            "additions": 8,
            "deletions": 3,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2FBUILD?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -940,6 +940,9 @@ xla_cc_test(\n     name = \"hlo_sharding_test\",\n     srcs = [\"hlo_sharding_test.cc\"],\n     deps = [\n+        \"//xla:array\",\n+        \"//xla:array3d\",\n+        \"//xla:array4d\",\n         \"//xla:shape_tree\",\n         \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n@@ -950,8 +953,11 @@ xla_cc_test(\n         \"//xla/hlo/testlib:test_helpers\",\n         \"//xla/tests:xla_internal_test_main\",\n         \"//xla/tsl/lib/core:status_test_util\",\n+        \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util/proto:proto_matchers\",\n+        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/hash\",\n+        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n )\n@@ -2280,7 +2286,6 @@ cc_library(\n     hdrs = [\"triangular_solve_expander.h\"],\n     deps = [\n         \":hlo_creation_utils\",\n-        \":hlo_module_config\",\n         \"//xla:shape_util\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n@@ -2292,14 +2297,14 @@ cc_library(\n         \"//xla/hlo/builder/lib:slicing\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/transforms/expanders:op_expander_pass\",\n+        \"//xla/tsl/platform:statusor\",\n+        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_absl//absl/types:span\",\n-        \"@local_tsl//tsl/platform:logging\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n "
        },
        {
            "sha": "94cf1d16e8cfac1286f66f4e5aefda4eadf75701",
            "filename": "third_party/xla/xla/service/cpu/onednn_memory_util.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_memory_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_memory_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fonednn_memory_util.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -59,8 +59,7 @@ MemrefInfoHandler CreateMemrefFromShape(const Shape& shape, const void* buf) {\n   result->dtype = shape.element_type();\n   result->rank = shape.dimensions().size();\n   auto dimensions = shape.dimensions();\n-  std::copy(dimensions.begin(), dimensions.end(),\n-            absl::MakeSpan(result->dims).begin());\n+  absl::c_copy(dimensions, absl::MakeSpan(result->dims).begin());\n \n   int64_t stride = 1;\n   for (int i : shape.layout().minor_to_major()) {"
        },
        {
            "sha": "e4ed891c6391b99aeaed93cf31caa2215f1ccbb0",
            "filename": "third_party/xla/xla/service/gpu/transforms/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -160,6 +160,7 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/pass:hlo_pass\",\n         \"//xla/tsl/platform:errors\",\n+        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\","
        },
        {
            "sha": "7529a1c4be4d450771dcdf1f0b7eab084e10bcc5",
            "filename": "third_party/xla/xla/service/gpu/transforms/async_wrapper.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fasync_wrapper.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -15,10 +15,10 @@ limitations under the License.\n \n #include \"xla/service/gpu/transforms/async_wrapper.h\"\n \n-#include <algorithm>\n #include <deque>\n #include <iterator>\n \n+#include \"absl/algorithm/container.h\"\n #include \"absl/container/flat_hash_set.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/str_cat.h\"\n@@ -70,9 +70,8 @@ absl::StatusOr<bool> AsyncWrapper::RunImpl(\n       // instructions that can potentially be made async.\n       if (HloPredicateIsOp<HloOpcode::kCall, HloOpcode::kConditional,\n                            HloOpcode::kWhile>(instruction)) {\n-        std::copy(instruction->called_computations().begin(),\n-                  instruction->called_computations().end(),\n-                  std::back_inserter(computations));\n+        absl::c_copy(instruction->called_computations(),\n+                     std::back_inserter(computations));\n       }\n     }\n   }"
        },
        {
            "sha": "926307d6f0c0e7423d473b7766bea7cda22c8711",
            "filename": "third_party/xla/xla/service/gpu/triton_tiling_propagation.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftriton_tiling_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftriton_tiling_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftriton_tiling_propagation.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -15,7 +15,6 @@ limitations under the License.\n \n #include \"xla/service/gpu/triton_tiling_propagation.h\"\n \n-#include <algorithm>\n #include <cstddef>\n #include <cstdint>\n #include <iterator>\n@@ -260,7 +259,9 @@ TensorIterationSpec DimensionOrder::ToTensorIterationSpec() const {\n \n     // We should not remove the only fragment in a dimension, because if it is\n     // removed, the dimension will be removed from the TensorIterationSpec.\n-    if (dim_spec.size() <= 1) continue;\n+    if (dim_spec.size() <= 1) {\n+      continue;\n+    }\n \n     TensorIterationSpec::DimIterationSpec filtered_dim_spec;\n     absl::c_copy_if(dim_spec, std::back_inserter(filtered_dim_spec),\n@@ -575,9 +576,8 @@ DimOrderMapOrError GetPropagatedDimOrdersForBitcast(\n     std::vector<int>& dst = dst_dim_fragment_orders[dim_index];\n     dst.reserve(dim_sequence.size());\n     for (const int src : dim_sequence) {\n-      std::copy(src_to_dst[&src_fragments_order[src]].cbegin(),\n-                src_to_dst[&src_fragments_order[src]].cend(),\n-                std::back_inserter(dst));\n+      absl::c_copy(src_to_dst[&src_fragments_order[src]],\n+                   std::back_inserter(dst));\n     }\n   }\n "
        },
        {
            "sha": "bb97ca0578e0a7899feb740839a6a52a819b477f",
            "filename": "third_party/xla/xla/service/hlo_sharding_test.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 2,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_sharding_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_sharding_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_sharding_test.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -13,24 +13,30 @@ See the License for the specific language governing permissions and\n limitations under the License.\n ==============================================================================*/\n \n-#include <algorithm>\n #include <cstdint>\n #include <sstream>\n #include <string>\n #include <tuple>\n #include <utility>\n #include <vector>\n \n+#include \"absl/algorithm/container.h\"\n #include \"absl/hash/hash.h\"\n+#include \"absl/status/status.h\"\n #include \"absl/types/span.h\"\n+#include \"xla/array.h\"\n+#include \"xla/array3d.h\"\n+#include \"xla/array4d.h\"\n #include \"xla/hlo/ir/tile_assignment.h\"\n #include \"xla/hlo/parser/hlo_parser.h\"\n #include \"xla/hlo/testlib/hlo_hardware_independent_test_base.h\"\n #include \"xla/hlo/testlib/test.h\"\n #include \"xla/hlo/testlib/test_helpers.h\"\n+#include \"xla/shape.h\"\n #include \"xla/shape_tree.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n #include \"xla/xla_data.pb.h\"\n \n@@ -42,7 +48,7 @@ using ::tsl::proto_testing::EqualsProto;\n Array<int64_t> MakeArray(absl::Span<const int64_t> dimensions,\n                          absl::Span<const int64_t> contents) {\n   Array<int64_t> a(dimensions);\n-  std::copy(contents.begin(), contents.end(), a.begin());\n+  absl::c_copy(contents, a.begin());\n   return a;\n }\n "
        },
        {
            "sha": "8bc3ccb4987186be39641bf09ea7abf267d2e4de",
            "filename": "third_party/xla/xla/service/shape_inference.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 9,
            "changes": 15,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -2189,22 +2189,19 @@ ShapeInference::InferScalarBroadcastShape(absl::Span<const Shape> shapes) {\n   std::vector<int64_t> input_dnums(num_dims);\n   input_dnums[0] = dnums.input_batch_dimension();\n   input_dnums[1] = dnums.input_feature_dimension();\n-  std::copy(dnums.input_spatial_dimensions().begin(),\n-            dnums.input_spatial_dimensions().end(), input_dnums.begin() + 2);\n+  absl::c_copy(dnums.input_spatial_dimensions(), input_dnums.begin() + 2);\n   absl::c_sort(input_dnums);\n \n   std::vector<int64_t> window_dnums(num_dims);\n   window_dnums[0] = dnums.kernel_input_feature_dimension();\n   window_dnums[1] = dnums.kernel_output_feature_dimension();\n-  std::copy(dnums.kernel_spatial_dimensions().begin(),\n-            dnums.kernel_spatial_dimensions().end(), window_dnums.begin() + 2);\n+  absl::c_copy(dnums.kernel_spatial_dimensions(), window_dnums.begin() + 2);\n   absl::c_sort(window_dnums);\n \n   std::vector<int64_t> output_dnums(num_dims);\n   output_dnums[0] = dnums.output_batch_dimension();\n   output_dnums[1] = dnums.output_feature_dimension();\n-  std::copy(dnums.output_spatial_dimensions().begin(),\n-            dnums.output_spatial_dimensions().end(), output_dnums.begin() + 2);\n+  absl::c_copy(dnums.output_spatial_dimensions(), output_dnums.begin() + 2);\n   absl::c_sort(output_dnums);\n \n   std::vector<int64_t> expected_dnums(num_dims);\n@@ -3590,9 +3587,9 @@ ShapeInference::InferCollectivePermuteDoneShape(const Shape& operand_shape) {\n \n   std::vector<int64_t> dimensions(operand.dimensions().size() +\n                                   broadcast_sizes.size());\n-  std::copy(broadcast_sizes.begin(), broadcast_sizes.end(), dimensions.begin());\n-  std::copy(operand.dimensions().begin(), operand.dimensions().end(),\n-            dimensions.begin() + broadcast_sizes.size());\n+  absl::c_copy(broadcast_sizes, dimensions.begin());\n+  absl::c_copy(operand.dimensions(),\n+               dimensions.begin() + broadcast_sizes.size());\n \n   TF_ASSIGN_OR_RETURN(Shape result, ShapeUtil::MakeValidatedShape(\n                                         operand.element_type(), dimensions));"
        },
        {
            "sha": "5c8577a47eca98aec8f615fb52f7d1d930386b30",
            "filename": "third_party/xla/xla/service/triangular_solve_expander.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Ftriangular_solve_expander.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fservice%2Ftriangular_solve_expander.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Ftriangular_solve_expander.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -22,6 +22,7 @@ limitations under the License.\n #include <string>\n #include <vector>\n \n+#include \"absl/algorithm/container.h\"\n #include \"absl/log/check.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/str_format.h\"\n@@ -36,13 +37,11 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_computation.h\"\n #include \"xla/hlo/ir/hlo_opcode.h\"\n #include \"xla/service/hlo_creation_utils.h\"\n-#include \"xla/service/hlo_module_config.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n #include \"xla/xla_data.pb.h\"\n-#include \"tsl/platform/logging.h\"\n-#include \"tsl/platform/statusor.h\"\n \n namespace xla {\n \n@@ -120,7 +119,7 @@ XlaOp DiagonalBlocks(XlaOp a, int64_t block_size) {\n       TF_ASSIGN_OR_RETURN(Shape blocks_shape, builder->GetShape(last_blocks));\n       auto shape_dims = blocks_shape.dimensions();\n       auto last_blocks_dims = std::vector<int64_t>(ndims);\n-      std::copy(shape_dims.begin(), shape_dims.end(), last_blocks_dims.begin());\n+      absl::c_copy(shape_dims, last_blocks_dims.begin());\n       last_blocks_dims.insert(last_blocks_dims.end() - 2, 1);\n       last_blocks = Reshape(last_blocks, last_blocks_dims);\n "
        },
        {
            "sha": "d837220e6f4fe4806ca1d7c4002d05f53983b4cb",
            "filename": "third_party/xla/xla/stream_executor/dnn.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 4,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fstream_executor%2Fdnn.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fstream_executor%2Fdnn.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fdnn.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -691,8 +691,7 @@ std::vector<int64_t> BatchDescriptor::full_dims(\n   std::vector<int64_t> bdyx_dims(ndims() + 2);\n   bdyx_dims[0] = count();\n   bdyx_dims[1] = feature_map_count();\n-  std::copy(spatial_size().begin(), spatial_size().end(),\n-            bdyx_dims.begin() + 2);\n+  absl::c_copy(spatial_size(), bdyx_dims.begin() + 2);\n   return ReorderDims(bdyx_dims, DataLayout::kBatchDepthYX, layout);\n }\n \n@@ -831,8 +830,7 @@ std::vector<int64_t> FilterDescriptor::full_dims(\n   std::vector<int64_t> oiyx_dims(ndims() + 2);\n   oiyx_dims[0] = output_feature_map_count();\n   oiyx_dims[1] = input_feature_map_count();\n-  std::copy(input_filter_dims().begin(), input_filter_dims().end(),\n-            oiyx_dims.begin() + 2);\n+  absl::c_copy(input_filter_dims(), oiyx_dims.begin() + 2);\n   return ReorderDims(oiyx_dims, FilterLayout::kOutputInputYX, layout);\n }\n "
        },
        {
            "sha": "b4aefe96cc699544998050eec0ef7c0a312f4c5f",
            "filename": "third_party/xla/xla/stream_executor/tpu/c_api_conversions.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fstream_executor%2Ftpu%2Fc_api_conversions.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d4e51d88fb7334d79da06cdb40f5006478c44157/third_party%2Fxla%2Fxla%2Fstream_executor%2Ftpu%2Fc_api_conversions.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Ftpu%2Fc_api_conversions.cc?ref=d4e51d88fb7334d79da06cdb40f5006478c44157",
            "patch": "@@ -15,7 +15,6 @@ limitations under the License.\n \n #include \"xla/stream_executor/tpu/c_api_conversions.h\"\n \n-#include <algorithm>\n #include <cstddef>\n #include <cstdint>\n #include <memory>\n@@ -66,9 +65,9 @@ static void CreateVectorBase(const absl::Span<Src> src, DstList* dst) {\n   dst->size = src.size();\n   if (dst->size > TPU_C_API_MAX_INLINED) {\n     dst->heap = new Dst[dst->size];\n-    std::copy(src.begin(), src.end(), dst->heap);\n+    absl::c_copy(src, dst->heap);\n   } else {\n-    std::copy(src.begin(), src.end(), dst->inlined);\n+    absl::c_copy(src, dst->inlined);\n   }\n }\n "
        }
    ],
    "stats": {
        "total": 77,
        "additions": 40,
        "deletions": 37
    }
}