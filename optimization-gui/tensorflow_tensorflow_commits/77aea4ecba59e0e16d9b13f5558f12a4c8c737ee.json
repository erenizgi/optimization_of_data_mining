{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 814986238",
    "sha": "77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
    "files": [
        {
            "sha": "962456992f41e2d667773ccc906a56a3753c277d",
            "filename": "tensorflow/core/grappler/costs/graph_memory.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory.cc?ref=77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
            "patch": "@@ -122,7 +122,7 @@ static GraphMemory::LiveTensor* FindOrCreateLiveTensor(\n     const string& node_name, int output_id,\n     std::unordered_map<string, GraphMemory::LiveTensor*>* live_tensors,\n     std::deque<GraphMemory::LiveTensor>* device_tensors) {\n-  string name = strings::StrCat(node_name, \":\", output_id);\n+  string name = absl::StrCat(node_name, \":\", output_id);\n   GraphMemory::LiveTensor* live;\n   auto it = live_tensors->find(name);\n   if (it == live_tensors->end()) {"
        },
        {
            "sha": "eb405d868787409ebf2f19021166495a1de44280",
            "filename": "tensorflow/core/grappler/costs/graph_memory_test.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 7,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_memory_test.cc?ref=77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
            "patch": "@@ -57,7 +57,7 @@ TEST_F(GraphMemoryTest, Basic) {\n \n   std::set<string> tensors;\n   for (const auto& t : mem_usage.live_tensors) {\n-    tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+    tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n   }\n   // When the execution of the 'Sign' node completes, TF can start executing\n   // 'Sign_1' and release the memory used by 'x'. Since we can't be sure of\n@@ -87,7 +87,7 @@ TEST_F(GraphMemoryTest, UnknownBatchSize) {\n \n   std::set<string> tensors;\n   for (const auto& t : mem_usage.live_tensors) {\n-    tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+    tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n   }\n   std::set<string> expected;\n   expected.insert(\"Const/Const:0\");\n@@ -111,7 +111,7 @@ TEST_F(GraphMemoryTest, MultiDevice) {\n   EXPECT_EQ(16777216, cpu_mem.used_memory);\n   std::set<string> cpu_tensors;\n   for (const auto& t : cpu_mem.live_tensors) {\n-    cpu_tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+    cpu_tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n   }\n   std::set<string> cpu_expected;\n   cpu_expected.insert(\"Recv_Sign_1_0_on_/CPU_0:0\");\n@@ -124,7 +124,7 @@ TEST_F(GraphMemoryTest, MultiDevice) {\n   EXPECT_EQ(16777216, gpu_mem.used_memory);\n   std::set<string> gpu_tensors;\n   for (const auto& t : gpu_mem.live_tensors) {\n-    gpu_tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+    gpu_tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n   }\n   std::set<string> gpu_expected;\n   gpu_expected.insert(\"Recv_AddN_0_on_/GPU_0:0\");\n@@ -151,7 +151,7 @@ TEST_F(GraphMemoryTest, GpuSwapping) {\n     EXPECT_EQ(20971520, gpu_mem.used_memory);\n     std::set<string> gpu_tensors;\n     for (const auto& t : gpu_mem.live_tensors) {\n-      gpu_tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+      gpu_tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n     }\n     std::set<string> gpu_expected;\n     gpu_expected.insert(\"Sign:0\");\n@@ -178,7 +178,7 @@ TEST_F(GraphMemoryTest, GpuSwapping) {\n     EXPECT_EQ(20971520, new_gpu_mem.used_memory);\n     std::set<string> new_gpu_tensors;\n     for (const auto& t : new_gpu_mem.live_tensors) {\n-      new_gpu_tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+      new_gpu_tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n     }\n     std::set<string> new_gpu_expected;\n     new_gpu_expected.insert(\"AddN:0\");\n@@ -214,7 +214,7 @@ TEST_F(GraphMemoryTest, CtrlDependencies) {\n   EXPECT_EQ(36, mem.used_memory);\n   std::set<string> tensors;\n   for (const auto& t : mem.live_tensors) {\n-    tensors.insert(strings::StrCat(t.node, \":\", t.output_id));\n+    tensors.insert(absl::StrCat(t.node, \":\", t.output_id));\n   }\n   std::set<string> expected;\n   expected.insert(\"a:0\");"
        },
        {
            "sha": "99bc286ec272d455f369ddd21dd3575976a5054d",
            "filename": "tensorflow/core/grappler/costs/graph_properties.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties.cc?ref=77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
            "patch": "@@ -689,7 +689,7 @@ class SymbolicShapeRefiner {\n             vals.push_back(ic->DebugString(d));\n           }\n         }\n-        return strings::StrCat(\"[\", absl::StrJoin(vals, \",\"), \"]\");\n+        return absl::StrCat(\"[\", absl::StrJoin(vals, \",\"), \"]\");\n       } else {\n         return \"?\";\n       }"
        },
        {
            "sha": "84216dcc9a07dd30f5e50780c1c21d0e799c81c2",
            "filename": "tensorflow/core/grappler/costs/graph_properties_test.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fgraph_properties_test.cc?ref=77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
            "patch": "@@ -98,16 +98,16 @@ class GraphPropertiesTest : public ::testing::Test {\n   // Returns a string form of <p>, suitable for comparing type and shape.\n   // Example output for 4-d float tensor: \"float: [10,2,30,4]\"\n   string PropToString(const OpInfo::TensorProperties& p) {\n-    string s = strings::StrCat(DataTypeString(p.dtype()), \": \");\n+    string s = absl::StrCat(DataTypeString(p.dtype()), \": \");\n     if (p.shape().unknown_rank()) {\n-      strings::StrAppend(&s, \"?\");\n+      absl::StrAppend(&s, \"?\");\n     } else {\n-      strings::StrAppend(&s, \"[\");\n+      absl::StrAppend(&s, \"[\");\n       for (int i = 0; i < p.shape().dim_size(); ++i) {\n-        strings::StrAppend(&s, i == 0 ? \"\" : \",\",\n-                           std::max<int64_t>(p.shape().dim(i).size(), -1));\n+        absl::StrAppend(&s, i == 0 ? \"\" : \",\",\n+                        std::max<int64_t>(p.shape().dim(i).size(), -1));\n       }\n-      strings::StrAppend(&s, \"]\");\n+      absl::StrAppend(&s, \"]\");\n     }\n     return s;\n   }"
        },
        {
            "sha": "3b793ecf7a1d28c643e1791e554db553e43514c6",
            "filename": "tensorflow/core/grappler/costs/virtual_placer_test.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 13,
            "changes": 23,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fvirtual_placer_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/77aea4ecba59e0e16d9b13f5558f12a4c8c737ee/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fvirtual_placer_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fgrappler%2Fcosts%2Fvirtual_placer_test.cc?ref=77aea4ecba59e0e16d9b13f5558f12a4c8c737ee",
            "patch": "@@ -116,24 +116,23 @@ TEST(VirtualPlacerTest, EmptyJobName) {\n     std::unordered_map<string, DeviceProperties> devices;\n     DeviceProperties cpu_device;\n     cpu_device.set_type(\"CPU\");\n-    devices[strings::StrCat(\"/job:\", job_name, \"/replica:0/task:0/cpu:0\")] =\n+    devices[absl::StrCat(\"/job:\", job_name, \"/replica:0/task:0/cpu:0\")] =\n         cpu_device;\n     DeviceProperties gpu_device;\n     gpu_device.set_type(\"GPU\");\n-    devices[strings::StrCat(\"/job:\", job_name,\n-                            \"/replica:0/task:0/device:GPU:0\")] = gpu_device;\n+    devices[absl::StrCat(\"/job:\", job_name, \"/replica:0/task:0/device:GPU:0\")] =\n+        gpu_device;\n     VirtualCluster cluster(devices);\n     VirtualPlacer placer(devices);\n \n     NodeDef node;\n     node.set_op(\"Conv2D\");\n     node.set_device(\"/device:CPU:0\");\n-    EXPECT_EQ(strings::StrCat(\"/job:\", job_name, \"/replica:0/task:0/cpu:0\"),\n+    EXPECT_EQ(absl::StrCat(\"/job:\", job_name, \"/replica:0/task:0/cpu:0\"),\n               placer.get_canonical_device_name(node));\n     node.set_device(\"/device:GPU:0\");\n-    EXPECT_EQ(\n-        strings::StrCat(\"/job:\", job_name, \"/replica:0/task:0/device:GPU:0\"),\n-        placer.get_canonical_device_name(node));\n+    EXPECT_EQ(absl::StrCat(\"/job:\", job_name, \"/replica:0/task:0/device:GPU:0\"),\n+              placer.get_canonical_device_name(node));\n   }\n \n   // When more than one job names are used, we use default \"localhost\"\n@@ -180,8 +179,7 @@ TEST(VirtualPlacerTest, DefaultDevice) {\n \n   // If there is any GPU, then gpu:0 is default device.\n   for (int i = 0; i < 8; i++) {\n-    devices[strings::StrCat(\"/job:worker/replica:0/task:0/gpu:\", i)] =\n-        gpu_device;\n+    devices[absl::StrCat(\"/job:worker/replica:0/task:0/gpu:\", i)] = gpu_device;\n     EXPECT_EQ(\"/job:worker/replica:0/task:0/gpu:0\",\n               GetDefaultDeviceName(devices));\n   }\n@@ -195,10 +193,10 @@ TEST(VirtualPlacerTest, MultiReplica) {\n   DeviceProperties gpu_device;\n   gpu_device.set_type(\"GPU\");\n   for (int i = 0; i < 8; i++) {\n-    devices[strings::StrCat(\"/job:worker/replica:\", i, \"/task:0/cpu:0\")] =\n+    devices[absl::StrCat(\"/job:worker/replica:\", i, \"/task:0/cpu:0\")] =\n         cpu_device;\n     for (int j = 0; j < 8; j++) {\n-      devices[strings::StrCat(\"/job:worker/replica:\", i, \"/task:0/gpu:\", j)] =\n+      devices[absl::StrCat(\"/job:worker/replica:\", i, \"/task:0/gpu:\", j)] =\n           gpu_device;\n     }\n   }\n@@ -231,8 +229,7 @@ TEST(VirtualPlacerTest, MultiReplica) {\n   // Now add PS replicas; with multiple job names present in the cluster,\n   // device names in nodes should specify job names correctly.\n   for (int i = 0; i < 4; i++) {\n-    devices[strings::StrCat(\"/job:ps/replica:\", i, \"/task:0/cpu:0\")] =\n-        cpu_device;\n+    devices[absl::StrCat(\"/job:ps/replica:\", i, \"/task:0/cpu:0\")] = cpu_device;\n   }\n   cluster.reset(new VirtualCluster(devices));\n   placer.reset(new VirtualPlacer(cluster->GetDevices()));"
        }
    ],
    "stats": {
        "total": 53,
        "additions": 25,
        "deletions": 28
    }
}