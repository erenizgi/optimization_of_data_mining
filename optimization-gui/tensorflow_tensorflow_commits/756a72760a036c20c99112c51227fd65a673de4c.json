{
    "author": "ezhulenev",
    "message": "[xla:codegen] Remove MlirKernelDefinition alias\n\nPiperOrigin-RevId: 825724819",
    "sha": "756a72760a036c20c99112c51227fd65a673de4c",
    "files": [
        {
            "sha": "5d984c615eca9ab651f28278473c0636488f485d",
            "filename": "third_party/xla/xla/backends/cpu/codegen/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -632,6 +632,7 @@ cc_library(\n         \"//xla/backends/cpu:alignment\",\n         \"//xla/codegen:hlo_fusion_spec\",\n         \"//xla/codegen:ir_emission_utils\",\n+        \"//xla/codegen:kernel_definition\",\n         \"//xla/codegen:kernel_spec\",\n         \"//xla/codegen:mlir_kernel_source\",\n         \"//xla/codegen/emitters:concatenate_kernel_emitter\","
        },
        {
            "sha": "c540904b325d5db952d9665e1aa5dc7e570a46bd",
            "filename": "third_party/xla/xla/backends/cpu/codegen/emitters/cpu_scatter_emitter.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Femitters%2Fcpu_scatter_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -249,7 +249,8 @@ IndexingMap GetScatterIndexingMap(\n       {}, constraints);\n }\n \n-absl::StatusOr<MlirKernelDefinition> CpuScatterFusion::EmitKernelDefinition() {\n+absl::StatusOr<CpuScatterFusion::KernelDefinition>\n+CpuScatterFusion::EmitKernelDefinition() {\n   mlir::OpBuilder builder(symbolic_expr_context_->GetMLIRContext());\n   TF_ASSIGN_OR_RETURN(mlir::OwningOpRef<mlir::ModuleOp> mlir_module,\n                       CreateNamedMlirModuleOp(*fusion_, builder));\n@@ -325,8 +326,8 @@ absl::StatusOr<MlirKernelDefinition> CpuScatterFusion::EmitKernelDefinition() {\n                          std::move(argument_buffers), std::move(result_buffers),\n                          std::move(invariant_arguments));\n \n-  return MlirKernelDefinition(std::move(kernel_spec),\n-                              MlirKernelSource(std::move(mlir_module)));\n+  return KernelDefinition(std::move(kernel_spec),\n+                          MlirKernelSource(std::move(mlir_module)));\n }\n \n absl::Status CpuScatterFusion::EmitEntryFunction("
        },
        {
            "sha": "fab9911bed09dd97f3721886d867a152ff605d7b",
            "filename": "third_party/xla/xla/backends/cpu/codegen/fusion_emitter.cc",
            "status": "modified",
            "additions": 13,
            "deletions": 10,
            "changes": 23,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -42,7 +42,7 @@ limitations under the License.\n #include \"xla/codegen/emitters/loop_kernel_emitter.h\"\n #include \"xla/codegen/hlo_fusion_spec.h\"\n #include \"xla/codegen/ir_emission_utils.h\"\n-#include \"xla/codegen/kernel_spec.h\"\n+#include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/mlir_kernel_source.h\"\n #include \"xla/hlo/analysis/symbolic_expr.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n@@ -57,7 +57,6 @@ limitations under the License.\n #include \"xla/runtime/work_tile_size.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/cpu/backend_config.pb.h\"\n-#include \"xla/service/gpu/ir_emission_utils.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/tsl/platform/statusor.h\"\n@@ -208,7 +207,7 @@ static HloFusionSpec GetLoopFusionSpec(const HloFusionInstruction& fusion) {\n                        std::move(heroes));\n }\n \n-static absl::StatusOr<MlirKernelDefinition> EmitLoopFusionKernel(\n+static absl::StatusOr<KernelDefinition<MlirKernelSource>> EmitLoopFusionKernel(\n     SymbolicExprContext& context, const HloFusionInstruction& fusion,\n     const BufferAssignment* buffer_assignment, absl::string_view name) {\n   VLOG(2) << \"Emitting loop fusion kernel: \" << name;\n@@ -230,9 +229,11 @@ static absl::StatusOr<MlirKernelDefinition> EmitLoopFusionKernel(\n   return mlir_kernel_definition;\n }\n \n-static absl::StatusOr<MlirKernelDefinition> EmitConcatenateFusionKernel(\n-    SymbolicExprContext& context, const HloFusionInstruction& fusion,\n-    const BufferAssignment* buffer_assignment, absl::string_view name) {\n+static absl::StatusOr<KernelDefinition<MlirKernelSource>>\n+EmitConcatenateFusionKernel(SymbolicExprContext& context,\n+                            const HloFusionInstruction& fusion,\n+                            const BufferAssignment* buffer_assignment,\n+                            absl::string_view name) {\n   VLOG(2) << \"Emitting concatenate fusion kernel: \" << name;\n   HloFusionSpec fusion_spec = GetLoopFusionSpec(fusion);\n   auto work_dimensions = GetConcatenateEmitterWorkDims(fusion, fusion_spec);\n@@ -252,9 +253,11 @@ static absl::StatusOr<MlirKernelDefinition> EmitConcatenateFusionKernel(\n   return mlir_kernel_definition;\n }\n \n-static absl::StatusOr<MlirKernelDefinition> EmitDynamicUpdateSliceFusionKernel(\n-    SymbolicExprContext& context, const HloFusionInstruction& fusion,\n-    const BufferAssignment* buffer_assignment, absl::string_view name) {\n+static absl::StatusOr<KernelDefinition<MlirKernelSource>>\n+EmitDynamicUpdateSliceFusionKernel(SymbolicExprContext& context,\n+                                   const HloFusionInstruction& fusion,\n+                                   const BufferAssignment* buffer_assignment,\n+                                   absl::string_view name) {\n   VLOG(2) << \"Emitting dynamic update slice fusion kernel: \" << name;\n   HloFusionSpec fusion_spec = GetLoopFusionSpec(fusion);\n   auto work_dimensions =\n@@ -275,7 +278,7 @@ static absl::StatusOr<MlirKernelDefinition> EmitDynamicUpdateSliceFusionKernel(\n   return mlir_kernel_definition;\n }\n \n-absl::StatusOr<MlirKernelDefinition> EmitFusionKernel(\n+absl::StatusOr<KernelDefinition<MlirKernelSource>> EmitFusionKernel(\n     SymbolicExprContext& context, const HloFusionInstruction& fusion,\n     const BufferAssignment* buffer_assignment, bool use_unique_c_name) {\n   if (fusion.fusion_kind() == HloFusionInstruction::FusionKind::kLoop) {"
        },
        {
            "sha": "dacafbcba6dee6f2b829a6bfbad4488b0f1bb20e",
            "filename": "third_party/xla/xla/backends/cpu/codegen/fusion_emitter.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ffusion_emitter.h?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -18,6 +18,7 @@ limitations under the License.\n \n #include \"absl/status/statusor.h\"\n #include \"xla/codegen/emitters/kernel_arguments.h\"\n+#include \"xla/codegen/kernel_definition.h\"\n #include \"xla/codegen/mlir_kernel_source.h\"\n #include \"xla/hlo/analysis/symbolic_expr.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n@@ -27,7 +28,7 @@ namespace xla::cpu {\n \n emitters::KernelArguments::BufferAlignment GetDefaultBufferAlignment();\n \n-absl::StatusOr<MlirKernelDefinition> EmitFusionKernel(\n+absl::StatusOr<KernelDefinition<MlirKernelSource>> EmitFusionKernel(\n     SymbolicExprContext& context, const HloFusionInstruction& fusion,\n     const BufferAssignment* buffer_assignment, bool use_unique_c_name);\n "
        },
        {
            "sha": "a7e854d3668dadd322606177e5be1b53803af967",
            "filename": "third_party/xla/xla/backends/cpu/codegen/tools/fusion_to_mlir.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2Ffusion_to_mlir.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2Ffusion_to_mlir.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2Ffusion_to_mlir.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -39,7 +39,7 @@ absl::Status Run(const std::string& filename) {\n       module->entry_computation()->root_instruction());\n   fusion->SetAndSanitizeName(\"main\");\n   TF_ASSIGN_OR_RETURN(\n-      MlirKernelDefinition kernel_definition,\n+      KernelDefinition kernel_definition,\n       EmitFusionKernel(*symbolic_expr_context, *fusion, nullptr, false));\n   llvm::outs() << kernel_definition.source().ToString();\n   return absl::OkStatus();"
        },
        {
            "sha": "b964d870d2e9f177331d51ea9d25b620c0dc4368",
            "filename": "third_party/xla/xla/backends/cpu/testlib/kernel_runner_extension.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fkernel_runner_extension.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -206,9 +206,8 @@ NB_MODULE(_extension, kernel_runner_module) {\n       [](SymbolicExprContext& symbolic_expr_context,\n          const HloFusionInstruction& fusion,\n          const BufferAssignment* buffer_assignment) {\n-        absl::StatusOr<MlirKernelDefinition> kernel_definition =\n-            EmitFusionKernel(symbolic_expr_context, fusion, buffer_assignment,\n-                             false);\n+        auto kernel_definition = EmitFusionKernel(symbolic_expr_context, fusion,\n+                                                  buffer_assignment, false);\n         if (!kernel_definition.ok()) {\n           throw std::runtime_error(kernel_definition.status().ToString());\n         }\n@@ -242,8 +241,8 @@ NB_MODULE(_extension, kernel_runner_module) {\n                                               \"KernelRunner\")\n       .def_static(\n           \"create\",\n-          [](std::unique_ptr<MlirKernelDefinition,\n-                             nb::deleter<MlirKernelDefinition>>\n+          [](std::unique_ptr<KernelDefinition<MlirKernelSource>,\n+                             nb::deleter<KernelDefinition<MlirKernelSource>>>\n                  kernel_definition,\n              std::unique_ptr<JitCompiler, nb::deleter<JitCompiler>>\n                  jit_compiler) {"
        },
        {
            "sha": "6f884f5559c3b5898aac93c4f62050c02cecee3f",
            "filename": "third_party/xla/xla/backends/cpu/testlib/mlir_kernel_emitter.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftestlib%2Fmlir_kernel_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -47,7 +47,7 @@ MlirTestKernelEmitter::MlirTestKernelEmitter(absl::string_view mlir,\n   }\n }\n \n-absl::StatusOr<MlirKernelDefinition>\n+absl::StatusOr<MlirTestKernelEmitter::KernelDefinition>\n MlirTestKernelEmitter::EmitKernelDefinition() {\n   std::unique_ptr<mlir::MLIRContext> context = FusionCompiler::CreateContext();\n \n@@ -71,6 +71,6 @@ MlirTestKernelEmitter::EmitKernelDefinition() {\n   KernelSpec kernel_spec(kernel_name_, num_workgroups_,\n                          std::move(argument_buffers), std::move(result_buffers),\n                          /*invariant_arguments=*/{});\n-  return MlirKernelDefinition(std::move(kernel_spec), std::move(source));\n+  return KernelDefinition(std::move(kernel_spec), std::move(source));\n }\n }  // namespace xla::cpu"
        },
        {
            "sha": "72e04f176c0d5c97665d1e54b708413e17b19cbe",
            "filename": "third_party/xla/xla/codegen/emitters/concatenate_kernel_emitter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fconcatenate_kernel_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -89,7 +89,7 @@ ConcatenateFusionKernelEmitter::ConcatenateFusionKernelEmitter(\n       entry_function_name_(entry_function_name),\n       backend_kind_(backend_kind) {}\n \n-absl::StatusOr<MlirKernelDefinition>\n+absl::StatusOr<ConcatenateFusionKernelEmitter::KernelDefinition>\n ConcatenateFusionKernelEmitter::EmitKernelDefinition() {\n   mlir::OpBuilder builder(symbolic_expr_context_.GetMLIRContext());\n   auto loc = mlir::NameLoc::get(builder.getStringAttr(fusion_.name()));\n@@ -121,8 +121,8 @@ ConcatenateFusionKernelEmitter::EmitKernelDefinition() {\n                       GetKernelSpec(entry_function_name_, fusion_,\n                                     buffer_assignment_, work_dimensions_));\n \n-  return MlirKernelDefinition(std::move(kernel_spec),\n-                              MlirKernelSource(std::move(module)));\n+  return KernelDefinition(std::move(kernel_spec),\n+                          MlirKernelSource(std::move(module)));\n }\n \n const Shape& ConcatenateFusionKernelEmitter::GetIndexingShape("
        },
        {
            "sha": "1970fe6c73a54bc5d26f3924e87d7b48d0f5e7bc",
            "filename": "third_party/xla/xla/codegen/emitters/dynamic_update_slice_kernel_emitter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Fdynamic_update_slice_kernel_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -92,7 +92,7 @@ DynamicUpdateSliceKernelEmitter::DynamicUpdateSliceKernelEmitter(\n       entry_function_name_(entry_function_name),\n       backend_kind_(backend_kind) {}\n \n-absl::StatusOr<MlirKernelDefinition>\n+absl::StatusOr<DynamicUpdateSliceKernelEmitter::KernelDefinition>\n DynamicUpdateSliceKernelEmitter::EmitKernelDefinition() {\n   mlir::OpBuilder builder(symbolic_expr_context_.GetMLIRContext());\n   auto loc = mlir::NameLoc::get(builder.getStringAttr(fusion_.name()));\n@@ -120,8 +120,8 @@ DynamicUpdateSliceKernelEmitter::EmitKernelDefinition() {\n \n   TF_ASSIGN_OR_RETURN(auto kernel_spec, GetKernelSpec());\n \n-  return MlirKernelDefinition(std::move(kernel_spec),\n-                              MlirKernelSource(std::move(module)));\n+  return KernelDefinition(std::move(kernel_spec),\n+                          MlirKernelSource(std::move(module)));\n }\n \n IndexingMap DynamicUpdateSliceKernelEmitter::ComputeWorkItemIdToInputIndexing("
        },
        {
            "sha": "1d944b61ff906db3e5c99927331d8477896f90a3",
            "filename": "third_party/xla/xla/codegen/emitters/loop_kernel_emitter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Floop_kernel_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -84,7 +84,7 @@ LoopFusionKernelEmitter::LoopFusionKernelEmitter(\n       entry_function_name_(entry_function_name),\n       backend_kind_(backend_kind) {}\n \n-absl::StatusOr<MlirKernelDefinition>\n+absl::StatusOr<LoopFusionKernelEmitter::KernelDefinition>\n LoopFusionKernelEmitter::EmitKernelDefinition() {\n   mlir::OpBuilder builder(symbolic_expr_context_.GetMLIRContext());\n   auto loc = mlir::NameLoc::get(builder.getStringAttr(fusion_.name()));\n@@ -114,8 +114,8 @@ LoopFusionKernelEmitter::EmitKernelDefinition() {\n                       GetKernelSpec(entry_function_name_, fusion_,\n                                     buffer_assignment_, work_dimensions_));\n \n-  return MlirKernelDefinition(std::move(kernel_spec),\n-                              MlirKernelSource(std::move(module)));\n+  return KernelDefinition(std::move(kernel_spec),\n+                          MlirKernelSource(std::move(module)));\n }\n \n IndexingMap LoopFusionKernelEmitter::ComputeWorkItemIdToOutputIndexing("
        },
        {
            "sha": "7ddcf2983657b260f647549c60b2bb930fbe8e3d",
            "filename": "third_party/xla/xla/codegen/mlir_kernel_source.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Fmlir_kernel_source.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fcodegen%2Fmlir_kernel_source.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fmlir_kernel_source.h?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -81,8 +81,6 @@ class MlirKernelSource final : public KernelSource {\n   Storage storage_;\n };\n \n-using MlirKernelDefinition = KernelDefinition<MlirKernelSource>;  // NOLINT\n-\n }  // namespace xla\n \n #endif  // XLA_CODEGEN_MLIR_KERNEL_SOURCE_H_"
        },
        {
            "sha": "294c99d432b5ce4efe4573c05e9ba94b7b98e0e1",
            "filename": "third_party/xla/xla/service/cpu/parallel_fusion_emitter.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fparallel_fusion_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -171,7 +171,7 @@ absl::StatusOr<KernelSpec> ParallelFusionEmitter::AddFusion(\n   // fixed but will require a rework of the ThunkEmitter.\n   auto compiler_instance = fusion_compiler_pool_->GetInstance();\n   TF_ASSIGN_OR_RETURN(\n-      MlirKernelDefinition mlir_kernel_definition,\n+      KernelDefinition mlir_kernel_definition,\n       EmitFusionKernel(*compiler_instance->symbolic_expr_context, *fusion,\n                        buffer_assignment_, use_unique_c_name_));\n \n@@ -181,8 +181,8 @@ absl::StatusOr<KernelSpec> ParallelFusionEmitter::AddFusion(\n   }\n \n   KernelSpec spec = mlir_kernel_definition.spec();\n-  auto shared_source =\n-      std::make_shared<MlirKernelDefinition>(std::move(mlir_kernel_definition));\n+  auto shared_source = std::make_shared<KernelDefinition<MlirKernelSource>>(\n+      std::move(mlir_kernel_definition));\n \n   thread_pool_.Schedule(absl::bind_front(&ParallelFusionEmitter::CompileFusion,\n                                          this, std::move(shared_source),"
        },
        {
            "sha": "d9338262c046291c27c65c704ae5c06d90842536",
            "filename": "third_party/xla/xla/service/cpu/thunk_emitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/756a72760a036c20c99112c51227fd65a673de4c/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc?ref=756a72760a036c20c99112c51227fd65a673de4c",
            "patch": "@@ -851,7 +851,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitFusionKernelThunk(\n     auto kernel_emitter = std::make_unique<CpuScatterFusion>(\n         buffer_assignment_, fusion, &symbolic_expr_context_);\n \n-    TF_ASSIGN_OR_RETURN(MlirKernelDefinition kernel_definition,\n+    TF_ASSIGN_OR_RETURN(KernelDefinition kernel_definition,\n                         kernel_emitter->EmitKernelDefinition());\n \n     auto kernel_spec = kernel_definition.spec();"
        }
    ],
    "stats": {
        "total": 77,
        "additions": 40,
        "deletions": 37
    }
}