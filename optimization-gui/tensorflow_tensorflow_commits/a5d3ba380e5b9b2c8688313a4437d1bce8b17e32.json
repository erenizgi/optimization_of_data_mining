{
    "author": "sgarciagoogle",
    "message": "remove converter pywrap API\n\nPiperOrigin-RevId: 808214697",
    "sha": "a5d3ba380e5b9b2c8688313a4437d1bce8b17e32",
    "files": [
        {
            "sha": "bc40cdbf5f5c921fa1d98b21470a6a7ccb0a3710",
            "filename": "tensorflow/lite/python/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 23,
            "changes": 26,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a5d3ba380e5b9b2c8688313a4437d1bce8b17e32/tensorflow%2Flite%2Fpython%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a5d3ba380e5b9b2c8688313a4437d1bce8b17e32/tensorflow%2Flite%2Fpython%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fpython%2FBUILD?ref=a5d3ba380e5b9b2c8688313a4437d1bce8b17e32",
            "patch": "@@ -2,7 +2,7 @@ load(\"@flatbuffers//:build_defs.bzl\", \"flatbuffer_py_library\")\n load(\"@rules_shell//shell:sh_test.bzl\", \"sh_test\")\n load(\"//tensorflow:pytype.default.bzl\", \"pytype_strict_contrib_test\", \"pytype_strict_library\")\n load(\"//tensorflow:strict.default.bzl\", \"py_strict_binary\", \"py_strict_library\", \"py_strict_test\")\n-load(\"//tensorflow:tensorflow.default.bzl\", \"get_compatible_with_portable\", \"pywrap_binaries\", \"pywrap_library\", \"tf_python_pybind_extension\")\n+load(\"//tensorflow:tensorflow.default.bzl\", \"get_compatible_with_portable\", \"pywrap_binaries\", \"pywrap_library\")\n load(\"//tensorflow/core/platform:build_config_root.bzl\", \"if_pywrap\")\n load(\"//tensorflow/lite:special_rules.bzl\", \"internal_visibility_allowlist\")\n \n@@ -648,16 +648,6 @@ py_strict_test(\n     ],\n )\n \n-# TODO(ecalubaquib): Remove this once the bug b/435507187\n-tf_python_pybind_extension(\n-    name = \"_dummy_pybind\",\n-    srcs = [\"dummy_pybind.cc\"],\n-    visibility = [\"//visibility:private\"],\n-    deps = [\n-        \"@pybind11\",\n-    ],\n-)\n-\n # Use pywrap_library to avoid duplicate registration of pybind11 modules.\n # A great example on how to use pywrap_library is\n # https://github.com/vam-google/symbol-locations/blob/main/pybind/BUILD\n@@ -677,17 +667,7 @@ py_strict_library(\n         \"//tensorflow/lite/testing:_pywrap_string_util\",\n         \"//tensorflow/lite/tools/optimize/python:_pywrap_modify_model_interface\",\n         \"//tensorflow/lite/tools/optimize/sparsity:format_converter_wrapper_pybind11\",\n-    ] + select({\n-        # This is a dummy pybind module that is never used.\n-        # Its to allow using select with pywrap_library till b/435507187 is fixed.\n-        # Using this allows a constant number for pywrap_count in pywrap_library.\n-        \"//conditions:default\": [\":_dummy_pybind\"],\n-        # Only include the pywrap_converter_api when disable_tf_lite_py is set\n-        # which is only when building under LiteRT repo.\n-        \"//tensorflow:disable_tf_lite_py\": [\n-            \"//tensorflow/compiler/mlir/lite/python:_pywrap_converter_api\",\n-        ],\n-    }),\n+    ],\n )\n \n pywrap_library(\n@@ -702,7 +682,7 @@ pywrap_library(\n             \"//conditions:default\": \"pywrap_tflite_common.lds\",\n         }),\n     },\n-    pywrap_count = 9,\n+    pywrap_count = 8,\n     visibility = [\"//visibility:public\"],\n     deps = [\n         \":tflite_pywrap_deps\","
        }
    ],
    "stats": {
        "total": 26,
        "additions": 3,
        "deletions": 23
    }
}