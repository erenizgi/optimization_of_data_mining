{
    "author": "nvgrw",
    "message": "Migrate gpu transforms reduction_layout_normalizer_test to use PjRt.\n\nPiperOrigin-RevId: 824573461",
    "sha": "d7c638ad39be96149bee94a642085a09636feb97",
    "files": [
        {
            "sha": "88a03247ab10ce490085a435dea25ef2e547f989",
            "filename": "third_party/xla/xla/service/gpu/transforms/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d7c638ad39be96149bee94a642085a09636feb97/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d7c638ad39be96149bee94a642085a09636feb97/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2FBUILD?ref=d7c638ad39be96149bee94a642085a09636feb97",
            "patch": "@@ -2284,10 +2284,12 @@ xla_test(\n         \"reduction_layout_normalizer_test.cc\",\n     ],\n     backends = [\"gpu\"],\n+    tags = [\"test_migrated_to_hlo_runner_pjrt\"],\n     deps = [\n         \":reduction_layout_normalizer\",\n         \"//xla:error_spec\",\n-        \"//xla/tests:hlo_test_base\",\n+        \"//xla/tests:hlo_pjrt_interpreter_reference_mixin\",\n+        \"//xla/tests:hlo_pjrt_test_base\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status:status_matchers\","
        },
        {
            "sha": "48491a500cf6f631c334c376a7fc489227253348",
            "filename": "third_party/xla/xla/service/gpu/transforms/reduction_layout_normalizer_test.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d7c638ad39be96149bee94a642085a09636feb97/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Freduction_layout_normalizer_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d7c638ad39be96149bee94a642085a09636feb97/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Freduction_layout_normalizer_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Freduction_layout_normalizer_test.cc?ref=d7c638ad39be96149bee94a642085a09636feb97",
            "patch": "@@ -23,7 +23,8 @@ limitations under the License.\n #include \"absl/status/status_matchers.h\"\n #include \"absl/strings/string_view.h\"\n #include \"xla/error_spec.h\"\n-#include \"xla/tests/hlo_test_base.h\"\n+#include \"xla/tests/hlo_pjrt_interpreter_reference_mixin.h\"\n+#include \"xla/tests/hlo_pjrt_test_base.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n \n@@ -33,7 +34,8 @@ namespace {\n \n using ::testing::HasSubstr;\n \n-class ReductionLayoutNormalizerTest : public HloTestBase {\n+class ReductionLayoutNormalizerTest\n+    : public HloPjRtInterpreterReferenceMixin<HloPjRtTestBase> {\n  public:\n   void CheckReductionLayoutNormalizer(\n       absl::string_view hlo, std::optional<absl::string_view> expected) {"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 7,
        "deletions": 3
    }
}