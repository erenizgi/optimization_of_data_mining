{
    "author": "ezhulenev",
    "message": "[tsl:concurrency] Add [[nodiscard]] to Future::Await()\n\nPiperOrigin-RevId: 817330346",
    "sha": "893cdaa635a0bed03f50a8032afdc33f1205fe22",
    "files": [
        {
            "sha": "0ae9de50faf279f6ed7d25ee135a5daf987671ef",
            "filename": "third_party/xla/xla/tsl/concurrency/future.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/893cdaa635a0bed03f50a8032afdc33f1205fe22/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/893cdaa635a0bed03f50a8032afdc33f1205fe22/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fconcurrency%2Ffuture.h?ref=893cdaa635a0bed03f50a8032afdc33f1205fe22",
            "patch": "@@ -290,15 +290,15 @@ class FutureBase : public FutureMoveControl<is_move_only> {\n \n   // Blocks the calling thread until the future is ready, then returns the\n   // final value.\n-  const T& Await() const& {\n+  [[nodiscard]] const T& Await() const& {\n     BlockUntilReady(\n         static_cast<void (*)(tsl::AsyncValue*)>(tsl::BlockUntilReady));\n     return *promise_;\n   }\n \n   // Blocks the calling thread until the future is ready, then returns the\n   // final value.\n-  std::conditional_t<is_move_only, T, const T&> Await() && {\n+  [[nodiscard]] std::conditional_t<is_move_only, T, const T&> Await() && {\n     BlockUntilReady(\n         static_cast<void (*)(tsl::AsyncValue*)>(tsl::BlockUntilReady));\n "
        }
    ],
    "stats": {
        "total": 4,
        "additions": 2,
        "deletions": 2
    }
}