{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 809834203",
    "sha": "bf48944936ec8823df4f49cae3fc644c2bff6e01",
    "files": [
        {
            "sha": "d781cb254fa9a982a457ab3dd5bbe244ebeb043c",
            "filename": "tensorflow/core/distributed_runtime/integration_test/c_api_coordination_test.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 16,
            "changes": 30,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_coordination_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_coordination_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_coordination_test.cc?ref=bf48944936ec8823df4f49cae3fc644c2bff6e01",
            "patch": "@@ -209,11 +209,11 @@ TEST(CAPI, MultiClientSetGetConfigInOp) {\n     TFE_Op* set_op = TFE_NewOp(ctx, \"TestSetConfigKeyValue\", status);\n     CHECK_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     TFE_TensorHandle* my_key = TestScalarTensorHandle(\n-        ctx, tstring(strings::StrCat(\"worker_\", worker_id)));\n+        ctx, tstring(absl::StrCat(\"worker_\", worker_id)));\n     TFE_OpAddInput(set_op, my_key, status);\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n-    TFE_TensorHandle* my_val = TestScalarTensorHandle(\n-        ctx, tstring(strings::StrCat(\"value_\", worker_id)));\n+    TFE_TensorHandle* my_val =\n+        TestScalarTensorHandle(ctx, tstring(absl::StrCat(\"value_\", worker_id)));\n     TFE_OpAddInput(set_op, my_val, status);\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     int num_retvals = 0;\n@@ -226,8 +226,7 @@ TEST(CAPI, MultiClientSetGetConfigInOp) {\n     TFE_Op* get_op = TFE_NewOp(ctx, \"TestGetConfigKeyValue\", status);\n     CHECK_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     TFE_TensorHandle* next_key = TestScalarTensorHandle(\n-        ctx,\n-        tstring(strings::StrCat(\"worker_\", (worker_id + 1) % cluster_size)));\n+        ctx, tstring(absl::StrCat(\"worker_\", (worker_id + 1) % cluster_size)));\n     TFE_OpAddInput(get_op, next_key, status);\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n \n@@ -240,8 +239,8 @@ TEST(CAPI, MultiClientSetGetConfigInOp) {\n     ASSERT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     const tstring& next_val = *static_cast<tstring*>(TF_TensorData(t));\n     const tstring& expected_val =\n-        tstring(strings::StrCat(\"value_\", (worker_id + 1) % cluster_size));\n-    EXPECT_EQ(next_val, expected_val) << strings::StrCat(\n+        tstring(absl::StrCat(\"value_\", (worker_id + 1) % cluster_size));\n+    EXPECT_EQ(next_val, expected_val) << absl::StrCat(\n         \"Expecting value \", expected_val, \", but got \", next_val);\n \n     TFE_DeleteTensorHandle(next_key);\n@@ -296,16 +295,15 @@ TEST(CAPI, MultiClientCoordinationSetGetConfigs) {\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n \n     // For each worker i, set (keyi, valuei)\n-    const std::string& key = tensorflow::strings::StrCat(\"key\", worker_id);\n-    TFE_InsertConfigKeyValue(\n-        ctx, key.c_str(),\n-        tensorflow::strings::StrCat(\"value\", worker_id).c_str(), status);\n+    const std::string& key = absl::StrCat(\"key\", worker_id);\n+    TFE_InsertConfigKeyValue(ctx, key.c_str(),\n+                             absl::StrCat(\"value\", worker_id).c_str(), status);\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     counter1.Block();\n \n     const int next_id = (worker_id + 1) % cluster_size;\n     // Setting next_key errors out because it has been set by another worker\n-    const std::string& next_key = tensorflow::strings::StrCat(\"key\", next_id);\n+    const std::string& next_key = absl::StrCat(\"key\", next_id);\n     TFE_InsertConfigKeyValue(ctx, next_key.c_str(), \"some_value\", status);\n     EXPECT_EQ(TF_ALREADY_EXISTS, TF_GetCode(status)) << TF_Message(status);\n     // Getting next_key returns the value set by another worker\n@@ -315,7 +313,7 @@ TEST(CAPI, MultiClientCoordinationSetGetConfigs) {\n     EXPECT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n     std::string value_str{static_cast<const char*>(value_buf->data),\n                           value_buf->length};\n-    EXPECT_EQ(value_str, tensorflow::strings::StrCat(\"value\", next_id));\n+    EXPECT_EQ(value_str, absl::StrCat(\"value\", next_id));\n     TF_DeleteBuffer(value_buf);\n     counter2.Block();\n \n@@ -447,7 +445,7 @@ TEST_P(SingleClientCoordinationServiceTest, TestSetGetConfigInOp) {\n     client_job->set_name(\"localhost\");\n     const int client_port = tensorflow::testing::PickUnusedPortOrDie();\n     client_job->mutable_tasks()->insert(\n-        {0, strings::StrCat(\"localhost:\", client_port)});\n+        {0, absl::StrCat(\"localhost:\", client_port)});\n     server_def.set_job_name(\"localhost\");\n   }\n   server_def.mutable_default_session_config()\n@@ -517,7 +515,7 @@ TEST_P(SingleClientCoordinationServiceTest, TestSetGetConfigInOp) {\n   ASSERT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n   const tstring& get_val = *static_cast<tstring*>(TF_TensorData(t));\n   EXPECT_EQ(get_val, \"test_val\")\n-      << strings::StrCat(\"Expecting value test_val but got \", get_val);\n+      << absl::StrCat(\"Expecting value test_val but got \", get_val);\n   TFE_DeleteTensorHandle(get_key);\n   TFE_DeleteTensorHandle(retvals[0]);\n   TF_DeleteTensor(t);\n@@ -564,7 +562,7 @@ TEST_P(SingleClientCoordinationServiceTest, TestSetGetConfigInOp) {\n   ASSERT_EQ(TF_OK, TF_GetCode(status)) << TF_Message(status);\n   const tstring& get_fn_val = *static_cast<tstring*>(TF_TensorData(t));\n   EXPECT_EQ(get_fn_val, \"test_fn_val\")\n-      << strings::StrCat(\"Expecting value test_fn_val but got \", get_fn_val);\n+      << absl::StrCat(\"Expecting value test_fn_val but got \", get_fn_val);\n   TFE_DeleteTensorHandle(get_key);\n   TFE_DeleteTensorHandle(fn_retvals[0]);\n   TF_DeleteTensor(t);"
        },
        {
            "sha": "a4a1476edaab93cb6016f158d3c2ef94178d73af",
            "filename": "tensorflow/core/distributed_runtime/integration_test/c_api_multi_client_test.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_multi_client_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_multi_client_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_multi_client_test.cc?ref=bf48944936ec8823df4f49cae3fc644c2bff6e01",
            "patch": "@@ -140,13 +140,13 @@ TEST(CAPI, MultiClientRemoteDevices) {\n \n     std::vector<std::string> expected_device_names;\n     for (int i = 0; i < cluster_size; ++i) {\n-      expected_device_names.push_back(tensorflow::strings::StrCat(\n-          \"/job:worker/replica:0/task:\", i, \"/device:CPU:0\"));\n+      expected_device_names.push_back(\n+          absl::StrCat(\"/job:worker/replica:0/task:\", i, \"/device:CPU:0\"));\n       if (has_gpu_devices) {\n-        expected_device_names.push_back(tensorflow::strings::StrCat(\n-            \"/job:worker/replica:0/task:\", i, \"/device:GPU:0\"));\n-        expected_device_names.push_back(tensorflow::strings::StrCat(\n-            \"/job:worker/replica:0/task:\", i, \"/device:GPU:1\"));\n+        expected_device_names.push_back(\n+            absl::StrCat(\"/job:worker/replica:0/task:\", i, \"/device:GPU:0\"));\n+        expected_device_names.push_back(\n+            absl::StrCat(\"/job:worker/replica:0/task:\", i, \"/device:GPU:1\"));\n       }\n     }\n "
        },
        {
            "sha": "6b81128a2636a13fdb73d83a04ff7e333d2aa2b2",
            "filename": "tensorflow/core/distributed_runtime/integration_test/c_api_recoverable_jobs_test.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_recoverable_jobs_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_recoverable_jobs_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_recoverable_jobs_test.cc?ref=bf48944936ec8823df4f49cae3fc644c2bff6e01",
            "patch": "@@ -105,7 +105,7 @@ TEST_P(SingleClientRecoverableJobsTest, TestRecoverWorkerFailure) {\n   client_job->set_name(\"localhost\");\n   int client_port = tensorflow::testing::PickUnusedPortOrDie();\n   client_job->mutable_tasks()->insert(\n-      {0, strings::StrCat(\"localhost:\", client_port)});\n+      {0, absl::StrCat(\"localhost:\", client_port)});\n   server_def.set_job_name(\"localhost\");\n   std::string serialized = server_def.SerializeAsString();\n \n@@ -159,7 +159,7 @@ TEST_P(SingleClientRecoverableJobsTest, TestRecoverWorkerFailure) {\n       if (job.name() == \"localhost\") {\n         job.mutable_tasks()->clear();\n         job.mutable_tasks()->insert(\n-            {0, strings::StrCat(\"localhost:\", client_port)});\n+            {0, absl::StrCat(\"localhost:\", client_port)});\n         break;\n       }\n     }\n@@ -184,7 +184,7 @@ TEST_P(SingleClientRecoverableJobsTest, TestRecoverWorkerFailure) {\n       if (iter->name() == \"worker\") {\n         int worker_1_port = tensorflow::testing::PickUnusedPortOrDie();\n         auto& tasks = *iter->mutable_tasks();\n-        tasks[1] = strings::StrCat(\"localhost:\", worker_1_port);\n+        tasks[1] = absl::StrCat(\"localhost:\", worker_1_port);\n         ++iter;\n       } else if (iter->name() == \"localhost\") {\n         saved_client_job = *iter;"
        },
        {
            "sha": "0d73a640642074b52a4584d1a5aa3858f3ac583e",
            "filename": "tensorflow/core/distributed_runtime/integration_test/c_api_session_coordination_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_session_coordination_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/bf48944936ec8823df4f49cae3fc644c2bff6e01/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_session_coordination_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fdistributed_runtime%2Fintegration_test%2Fc_api_session_coordination_test.cc?ref=bf48944936ec8823df4f49cae3fc644c2bff6e01",
            "patch": "@@ -65,7 +65,7 @@ TEST_P(SingleClientTest, SetGetConfigInOpTest) {\n   const char task1_name[] = \"/job:worker/replica:0/task:1/device:CPU:0\";\n   const char task2_name[] = \"/job:worker/replica:0/task:2/device:CPU:0\";\n   const std::string& master =\n-      strings::StrCat(\"grpc://\", server_def.cluster().job(0).tasks().at(0));\n+      absl::StrCat(\"grpc://\", server_def.cluster().job(0).tasks().at(0));\n \n   EnableCoordinationService(&server_def);\n   server_def.mutable_default_session_config()"
        }
    ],
    "stats": {
        "total": 50,
        "additions": 24,
        "deletions": 26
    }
}