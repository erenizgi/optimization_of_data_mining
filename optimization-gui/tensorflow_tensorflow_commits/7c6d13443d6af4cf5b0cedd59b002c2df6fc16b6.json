{
    "author": "jcai19",
    "message": "[XLA] Add a member function to check if a tuple tree has any tuples\n\nThe function returns true if a tuple has only a root node.\n\nPiperOrigin-RevId: 825062842",
    "sha": "7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6",
    "files": [
        {
            "sha": "018fcb56031960343250b09ff8055290b5dfe7c8",
            "filename": "third_party/xla/xla/tuple_tree.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6/third_party%2Fxla%2Fxla%2Ftuple_tree.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6/third_party%2Fxla%2Fxla%2Ftuple_tree.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftuple_tree.h?ref=7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6",
            "patch": "@@ -371,6 +371,8 @@ class TupleTree {\n         .ok();\n   }\n \n+  bool IsTuple() const { return nodes_.size() > 1; }\n+\n   absl::Status CopyCompatibleSubtreeFrom(const TupleTree<T>& other,\n                                          const ShapeIndex& src_index,\n                                          const ShapeIndex& dst_index) {"
        },
        {
            "sha": "5741d6944246826d3b76e6fb3c9e24e885552257",
            "filename": "third_party/xla/xla/tuple_tree_test.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6/third_party%2Fxla%2Fxla%2Ftuple_tree_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6/third_party%2Fxla%2Fxla%2Ftuple_tree_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftuple_tree_test.cc?ref=7c6d13443d6af4cf5b0cedd59b002c2df6fc16b6",
            "patch": "@@ -747,5 +747,14 @@ TEST_F(TupleTreeTest, ToNode) {\n   EXPECT_THAT(tree.ToNode({0, 0}), StatusIs(absl::StatusCode::kInvalidArgument,\n                                             \"Cannot index into a leaf node\"));\n }\n+\n+TEST_F(TupleTreeTest, IsTuple) {\n+  TupleTree<int> tuple_tree({5});\n+  TupleTree<int> non_tuple_tree(5);\n+\n+  EXPECT_TRUE(tuple_tree.IsTuple());\n+  EXPECT_FALSE(non_tuple_tree.IsTuple());\n+}\n+\n }  // namespace\n }  // namespace xla"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 11,
        "deletions": 0
    }
}