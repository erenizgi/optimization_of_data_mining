{
    "author": "tensorflower-gardener",
    "message": "Add a function to support internal logging.\n\nPiperOrigin-RevId: 820432438",
    "sha": "c986bf166cad8123cf2250ed57de3a39198405a2",
    "files": [
        {
            "sha": "ae71c910bf16c5a84b762509e4368b53fd7301b2",
            "filename": "tensorflow/python/saved_model/pywrap_saved_model_metrics.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 4,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c986bf166cad8123cf2250ed57de3a39198405a2/tensorflow%2Fpython%2Fsaved_model%2Fpywrap_saved_model_metrics.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c986bf166cad8123cf2250ed57de3a39198405a2/tensorflow%2Fpython%2Fsaved_model%2Fpywrap_saved_model_metrics.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fsaved_model%2Fpywrap_saved_model_metrics.cc?ref=c986bf166cad8123cf2250ed57de3a39198405a2",
            "patch": "@@ -18,10 +18,10 @@ limitations under the License.\n #include <cstdint>\n #include <exception>\n #include <string>\n-#include <utility>\n \n // Placeholder for lineage logging import.\n // Placeholder for lineage logging additional import.\n+#include \"absl/base/call_once.h\"\n #include \"absl/log/log.h\"\n #include \"absl/status/status.h\"\n #include \"absl/strings/string_view.h\"\n@@ -36,6 +36,8 @@ namespace tensorflow {\n namespace saved_model {\n namespace python {\n \n+// Helper variable for logging.\n+\n namespace py = pybind11;\n \n class MetricException : public std::exception {\n@@ -47,10 +49,9 @@ class MetricException : public std::exception {\n   std::string message_ = \"\";\n };\n \n+// Placeholder for a helper function for logging.\n+\n void DefineMetricsModule(py::module main_module) {\n-  // Deduplicate writes from lineage log. This should reduce the number of\n-  // outgoing calls to UMB from lineage log. See b/415794129 for details.\n-  // Placeholder for lineage logging enable dedupe call.\n   auto m = main_module.def_submodule(\"metrics\");\n \n   m.doc() = \"Python bindings for TensorFlow SavedModel and Checkpoint Metrics.\";\n@@ -207,6 +208,7 @@ void DefineMetricsModule(py::module main_module) {\n         }\n         metrics::SavedModelReadPathAndSingleprint().Set(\n             path_and_singleprint.value());\n+        // Placeholder for lineage logging dedup setup.\n         // Placeholder for lineage logging input call.\n       },\n       py::kw_only(), py::arg(\"path\"), py::arg(\"singleprint\"),\n@@ -243,6 +245,7 @@ void DefineMetricsModule(py::module main_module) {\n         }\n         metrics::SavedModelWritePathAndSingleprint().Set(\n             path_and_singleprint.value());\n+        // Placeholder for lineage logging dedup setup.\n         // Placeholder for lineage logging output call.\n       },\n       py::kw_only(), py::arg(\"path\"), py::arg(\"singleprint\"),"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 7,
        "deletions": 4
    }
}