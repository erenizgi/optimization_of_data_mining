{
    "author": "hhb",
    "message": "Add methods to query chip count and logical devices per chip to PjRtTopologyDescription.\n\nPiperOrigin-RevId: 818946853",
    "sha": "6a1c2a8a79b862fbde16cade1d277674e8f1b8b6",
    "files": [
        {
            "sha": "31c5659ab3b8702943f212a386e8585ac31936fe",
            "filename": "third_party/xla/xla/pjrt/pjrt_compiler.h",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6a1c2a8a79b862fbde16cade1d277674e8f1b8b6/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_compiler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6a1c2a8a79b862fbde16cade1d277674e8f1b8b6/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_compiler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_compiler.h?ref=6a1c2a8a79b862fbde16cade1d277674e8f1b8b6",
            "patch": "@@ -119,6 +119,11 @@ class PjRtTopologyDescription {\n     return absl::UnimplementedError(\"ProcessCount is unsupported.\");\n   }\n \n+  // Returns the number of chips.\n+  virtual absl::StatusOr<int> ChipCount() const {\n+    return absl::UnimplementedError(\"ChipCount is unsupported.\");\n+  }\n+\n   // Returns the total number of cores of the default type.\n   virtual absl::StatusOr<int> CoreCountOfDefaultType() const {\n     return absl::UnimplementedError(\"CoreCountOfDefaultType is unsupported.\");\n@@ -130,6 +135,12 @@ class PjRtTopologyDescription {\n         \"LogicalDeviceCountOfDefaultType is unsupported.\");\n   }\n \n+  // Returns the number of logical devices of the default type per chip.\n+  virtual absl::StatusOr<int> LogicalDeviceCountOfDefaultTypePerChip() const {\n+    return absl::UnimplementedError(\n+        \"LogicalDeviceCountOfDefaultTypePerChip is unsupported.\");\n+  }\n+\n   // Returns the number of cores of the default type per process.\n   virtual absl::StatusOr<int> CoreCountOfDefaultTypePerProcess() const {\n     return absl::UnimplementedError("
        }
    ],
    "stats": {
        "total": 11,
        "additions": 11,
        "deletions": 0
    }
}