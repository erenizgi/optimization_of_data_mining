{
    "author": "derdrdirk",
    "message": "[XLA:GPU] Add documentation for dot algorithm rewriter.\n\nPiperOrigin-RevId: 838426160",
    "sha": "ae6ee82d0b0220c26582560426eee4e5fb043825",
    "files": [
        {
            "sha": "dc6713ad3ed3d8428446b4cc7973502dd609a8d9",
            "filename": "third_party/xla/xla/service/gpu/transforms/dot_algorithm_rewriter.h",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ae6ee82d0b0220c26582560426eee4e5fb043825/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fdot_algorithm_rewriter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ae6ee82d0b0220c26582560426eee4e5fb043825/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fdot_algorithm_rewriter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fdot_algorithm_rewriter.h?ref=ae6ee82d0b0220c26582560426eee4e5fb043825",
            "patch": "@@ -25,6 +25,26 @@ limitations under the License.\n \n namespace xla::gpu {\n \n+// DotAlgorithmRewriter is an HLO pass that rewrites Dot operations marked\n+// with specific algorithm precision config enums into a sequence of Dot\n+// operations that emulate higher precision accumulation using lower precision\n+// operations. For example, it can rewrite an F32 dot marked as\n+// BF16_BF16_F32_X3 into three BF16xBF16->F32 dots to achieve higher precision.\n+//\n+// This is useful for hardware that has much higher throughput for\n+// lower-precision types like BF16 or TF32 than for F32. By decomposing a\n+// single F32 operation into multiple lower-precision ones, we can achieve\n+// higher precision than a single truncated lower-precision operation, and\n+// potentially higher performance than a native F32 operation, thus allowing a\n+// tradeoff between performance and precision.\n+//\n+// This pass rewrites HloOpcode::kDot instructions based on their\n+// PrecisionConfig algorithm enum (e.g. ALG_DOT_BF16_BF16_F32_X3).\n+//\n+// This class also provides static methods to emulate elementwise multiplication\n+// with higher precision (e.g. MakeMultiplyForBF16BF16F32X3). These are used\n+// to emit equivalent logic for HloOpcode::kMultiply, for example in fusion\n+// emitters like Triton.\n class DotAlgorithmRewriter : public HloModulePass {\n  public:\n   DotAlgorithmRewriter() = default;"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 20,
        "deletions": 0
    }
}