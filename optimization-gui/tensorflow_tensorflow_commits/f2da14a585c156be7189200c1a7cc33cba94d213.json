{
    "author": "tensorflower-gardener",
    "message": "[XLA] Add `asin` as a native HLO opcode.\n\nThis change promotes `asin` from a composite operation to a native HLO opcode (`kAsin`). This allows for direct lowering to device-specific intrinsics which should be more performant. Support is added for GPU.\n\nPiperOrigin-RevId: 810048853",
    "sha": "f2da14a585c156be7189200c1a7cc33cba94d213",
    "files": [
        {
            "sha": "deded61bcbbda0e5b79ee8fb8f1eac69a0246a06",
            "filename": "tensorflow/compiler/tf2xla/kernels/unary_ops.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -55,7 +55,7 @@ XLAJIT_MAKE_UNARY(Conj, xla::Conj(x));\n REGISTER_XLA_OP(Name(\"Abs\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Acos\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Acosh\"), MlirXlaOpKernel);\n-XLAJIT_MAKE_UNARY(Asin, xla::Asin(x));\n+REGISTER_XLA_OP(Name(\"Asin\"), MlirXlaOpKernel);\n XLAJIT_MAKE_UNARY(Asinh, xla::Asinh(x));\n REGISTER_XLA_OP(Name(\"Atan\"), MlirXlaOpKernel);\n XLAJIT_MAKE_UNARY(Atanh, xla::Atanh(x));"
        },
        {
            "sha": "ffe01fb669f33fbd33493b92cf5622b089d8c71a",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 6,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -105,12 +105,12 @@ absl::flat_hash_set<HloOpcode> TritonSupportedUnaryElementwiseOps(\n       element_type == PrimitiveType::F32 ||\n       element_type == PrimitiveType::F64) {\n     absl::flat_hash_set<HloOpcode> additional_opcodes{\n-        HloOpcode::kCos,   HloOpcode::kFloor, HloOpcode::kLog1p,\n-        HloOpcode::kSqrt,  HloOpcode::kTanh,  HloOpcode::kAcos,\n-        HloOpcode::kAcosh, HloOpcode::kExp,   HloOpcode::kExpm1,\n-        HloOpcode::kCbrt,  HloOpcode::kErf,   HloOpcode::kLog,\n-        HloOpcode::kTan,   HloOpcode::kCeil,  HloOpcode::kRsqrt,\n-        HloOpcode::kSin,   HloOpcode::kSinh};\n+        HloOpcode::kAsin,  HloOpcode::kCos,   HloOpcode::kFloor,\n+        HloOpcode::kLog1p, HloOpcode::kSqrt,  HloOpcode::kTanh,\n+        HloOpcode::kAcos,  HloOpcode::kAcosh, HloOpcode::kExp,\n+        HloOpcode::kExpm1, HloOpcode::kCbrt,  HloOpcode::kErf,\n+        HloOpcode::kLog,   HloOpcode::kTan,   HloOpcode::kCeil,\n+        HloOpcode::kRsqrt, HloOpcode::kSin,   HloOpcode::kSinh};\n     ret.insert(additional_opcodes.begin(), additional_opcodes.end());\n   }\n "
        },
        {
            "sha": "8aacb1b5ac613a6c205fac9e8feed838e0d05587",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -96,6 +96,7 @@ bool DoesOpSupportType(HloOpcode opcode, PrimitiveType type) {\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kSinh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kCbrt:\n     case HloOpcode::kErf:\n     case HloOpcode::kFloor:\n@@ -448,6 +449,7 @@ constexpr std::array kTestedOpsUnaryElementwise = {\n     HloOpcode::kAbs,\n     HloOpcode::kAcos,\n     HloOpcode::kAcosh,\n+    HloOpcode::kAsin,\n     HloOpcode::kCbrt,\n     HloOpcode::kCeil,\n     HloOpcode::kClz,"
        },
        {
            "sha": "9cfc85967631e656fa364f0c9ce851338e7c6853",
            "filename": "third_party/xla/xla/codegen/emitters/elemental_hlo_to_mlir.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -1027,6 +1027,8 @@ absl::StatusOr<SmallVector<Value, 1>> HloToMlir(\n       return MapElementwiseOp<mhlo::AcosOp>(arg_types, operands, builder);\n     case HloOpcode::kAcosh:\n       return MapElementwiseOp<mhlo::AcoshOp>(arg_types, operands, builder);\n+    case HloOpcode::kAsin:\n+      return MapElementwiseOp<mhlo::AsinOp>(arg_types, operands, builder);\n     case HloOpcode::kAdd:\n       if (element_type == PRED) {\n         return MapElementwiseOp<mhlo::OrOp>(arg_types, operands, builder);"
        },
        {
            "sha": "23f7698e3776f3545c2afd13bcb904a4ba80a73a",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/asin_f32.hlo",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f32.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f32.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f32.hlo?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -0,0 +1,10 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+\n+fusion {\n+  p0 = f32[256] parameter(0)\n+  ROOT asin = f32[256] asin(p0)\n+}\n+\n+// CHECK: llvm.call @__nv_asinf("
        },
        {
            "sha": "f8c035a716444fe98393b2662defd98b9d2038ea",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/asin_f64.hlo",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f64.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f64.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fasin_f64.hlo?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -0,0 +1,10 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+\n+fusion {\n+  p0 = f64[256] parameter(0)\n+  ROOT asin = f64[256] asin(p0)\n+}\n+\n+// CHECK: llvm.call @__nv_asin("
        },
        {
            "sha": "da2314d44336aaee1725443bdddf055588a5beae",
            "filename": "third_party/xla/xla/hlo/evaluator/hlo_evaluator_typed_visitor.h",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -265,6 +265,19 @@ class HloEvaluatorTypedVisitor : public ConstDfsHloVisitorWithDefault {\n     return UnsupportedTypeError(acosh);\n   }\n \n+  absl::Status HandleAsin(const HloInstruction* asin) override {\n+    if constexpr (!is_complex_v<ReturnT>) {\n+      TF_ASSIGN_OR_RETURN(\n+          Literal literal,\n+          ElementWiseUnaryOp(asin, [](ElementwiseT elem_operand) {\n+            return std::asin(elem_operand);\n+          }));\n+      parent_->SetEvaluatedLiteralFor(asin, std::move(literal));\n+      return absl::OkStatus();\n+    }\n+    return UnsupportedTypeError(asin);\n+  }\n+\n   absl::Status HandleRound(const HloInstruction* round) override {\n     if constexpr (!is_complex_v<ReturnT>) {\n       TF_ASSIGN_OR_RETURN("
        },
        {
            "sha": "09ea50794e10612429bfce885507397c525c4908",
            "filename": "third_party/xla/xla/hlo/ir/dfs_hlo_visitor.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -171,6 +171,9 @@ class DfsHloVisitorBase {\n   virtual absl::Status HandleAcosh(HloInstructionPtr hlo) {\n     return HandleElementwiseUnary(hlo);\n   }\n+  virtual absl::Status HandleAsin(HloInstructionPtr hlo) {\n+    return HandleElementwiseUnary(hlo);\n+  }\n   virtual absl::Status HandleAtan2(HloInstructionPtr hlo) {\n     return HandleElementwiseBinary(hlo);\n   }"
        },
        {
            "sha": "5d0e91291516c56b9698ee4070e20436cee99623",
            "filename": "third_party/xla/xla/hlo/ir/hlo_instruction.cc",
            "status": "modified",
            "additions": 16,
            "deletions": 8,
            "changes": 24,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -1303,6 +1303,7 @@ absl::StatusOr<std::unique_ptr<HloInstruction>> HloInstruction::CreateFromProto(\n             output_to_operand_aliasing());\n       }\n       break;\n+      case HloOpcode::kAsin:\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n       case HloOpcode::kCos:\n@@ -1497,6 +1498,7 @@ HloInstruction::CreateRngBitGenerator(const Shape& shape, HloInstruction* state,\n       return CreateNary(shape, opcode, {operand});\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kCos:\n     case HloOpcode::kErf:\n     case HloOpcode::kExp:\n@@ -2720,6 +2722,7 @@ std::unique_ptr<HloInstruction> HloInstruction::CloneWithNewOperands(\n       break;\n     // Unary ops.\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAllGatherDone:\n@@ -3188,6 +3191,7 @@ bool HloInstruction::IdenticalSlowPath(\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAllGatherDone:\n     case HloOpcode::kAllReduceDone:\n     case HloOpcode::kAtan2:\n@@ -3818,6 +3822,7 @@ bool HloInstruction::IsOpElementwise(HloOpcode opcode) {\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kRoundNearestAfz:\n     case HloOpcode::kRoundNearestEven:\n     case HloOpcode::kCeil:\n@@ -4518,6 +4523,8 @@ absl::Status HloInstruction::Visit(\n       return visitor->HandleAcos(this);\n     case HloOpcode::kAcosh:\n       return visitor->HandleAcosh(this);\n+    case HloOpcode::kAsin:\n+      return visitor->HandleAsin(this);\n     case HloOpcode::kAtan2:\n       return visitor->HandleAtan2(this);\n     case HloOpcode::kRoundNearestAfz:\n@@ -5223,14 +5230,15 @@ bool IsValidResultAccuracy(const ResultAccuracy& accuracy) {\n }\n \n bool IsUnaryOpWithResultAccuracy(HloOpcode opcode) {\n-  return opcode == HloOpcode::kAcos || opcode == HloOpcode::kAcosh ||\n-         opcode == HloOpcode::kExp || opcode == HloOpcode::kExpm1 ||\n-         opcode == HloOpcode::kLog || opcode == HloOpcode::kLog1p ||\n-         opcode == HloOpcode::kRsqrt || opcode == HloOpcode::kSqrt ||\n-         opcode == HloOpcode::kCbrt || opcode == HloOpcode::kTanh ||\n-         opcode == HloOpcode::kCos || opcode == HloOpcode::kSin ||\n-         opcode == HloOpcode::kTan || opcode == HloOpcode::kErf ||\n-         opcode == HloOpcode::kLogistic || opcode == HloOpcode::kSinh;\n+  return opcode == HloOpcode::kAsin || opcode == HloOpcode::kAcos ||\n+         opcode == HloOpcode::kAcosh || opcode == HloOpcode::kExp ||\n+         opcode == HloOpcode::kExpm1 || opcode == HloOpcode::kLog ||\n+         opcode == HloOpcode::kLog1p || opcode == HloOpcode::kRsqrt ||\n+         opcode == HloOpcode::kSqrt || opcode == HloOpcode::kCbrt ||\n+         opcode == HloOpcode::kTanh || opcode == HloOpcode::kCos ||\n+         opcode == HloOpcode::kSin || opcode == HloOpcode::kTan ||\n+         opcode == HloOpcode::kErf || opcode == HloOpcode::kLogistic ||\n+         opcode == HloOpcode::kSinh;\n }\n \n std::string AlgorithmToString(const PrecisionConfig::Algorithm& algorithm) {"
        },
        {
            "sha": "bf6dc3514c26be03e3dc3c2704a6a28a87acae6d",
            "filename": "third_party/xla/xla/hlo/ir/hlo_opcode.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -61,6 +61,7 @@ namespace xla {\n   V(kAllReduceStart, \"all-reduce-start\", kHloOpcodeIsVariadic)                 \\\n   V(kAllToAll, \"all-to-all\", kHloOpcodeIsVariadic)                             \\\n   V(kAnd, \"and\", 2)                                                            \\\n+  V(kAsin, \"asin\", 1)                                                          \\\n   V(kAsyncDone, \"async-done\", 1)                                               \\\n   V(kAsyncStart, \"async-start\", kHloOpcodeIsVariadic)                          \\\n   V(kAsyncUpdate, \"async-update\", 1)                                           \\"
        },
        {
            "sha": "29d0c6742213af402bf66f24929775b1599bf3e1",
            "filename": "third_party/xla/xla/hlo/parser/hlo_parser.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -120,6 +120,7 @@ bool CanInferShape(HloOpcode code) {\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n@@ -1647,6 +1648,7 @@ HloInstruction* HloParserImpl::CreateInstruction(  // NOLINT\n     // Unary ops with result accuracy.\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kExpm1:\n     case HloOpcode::kLog:\n     case HloOpcode::kLog1p:"
        },
        {
            "sha": "5754c08543257413edddfd8f65a771f453b47d7f",
            "filename": "third_party/xla/xla/hlo/tools/hlo_diff/hlo_diff_summary_test.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -133,7 +133,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/2321129576661481127U,\n+                         /*diff_fingerprint=*/13612629125495888737U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -142,7 +142,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/9596571638299067604U,\n+                         /*diff_fingerprint=*/15261890449454112023U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -151,7 +151,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/9596571638299067604U,\n+                         /*diff_fingerprint=*/15261890449454112023U,\n                          /*all_unchanged=*/true))));\n   EXPECT_THAT(\n       right_computation_summary,\n@@ -162,7 +162,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/2321129576661481127U,\n+                         /*diff_fingerprint=*/13612629125495888737U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -171,7 +171,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/9596571638299067604U,\n+                         /*diff_fingerprint=*/15261890449454112023U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -180,7 +180,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/9596571638299067604U,\n+                         /*diff_fingerprint=*/15261890449454112023U,\n                          /*all_unchanged=*/true))));\n }\n \n@@ -322,7 +322,7 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/12206837117149029267U,\n+                            /*diff_fingerprint=*/8626558268380874987U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(right_computation_summary,\n               UnorderedElementsAre(Pair(\n@@ -332,11 +332,11 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/12206837117149029267U,\n+                            /*diff_fingerprint=*/8626558268380874987U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(FieldsAre(\n-                  /*fingerprint=*/14409095482904936423U,\n+                  /*fingerprint=*/4350545588961693242U,\n                   /*computation_groups=*/\n                   UnorderedElementsAre(FieldsAre(\n                       /*left_computations=*/UnorderedElementsAre(\n@@ -415,7 +415,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n       diff_summary->computation_diff_patterns,\n       UnorderedElementsAre(\n           FieldsAre(\n-              /*fingerprint=*/14409095482904936423U,\n+              /*fingerprint=*/4350545588961693242U,\n               /*computation_groups=*/\n               UnorderedElementsAre(\n                   FieldsAre(/*left_computations=*/UnorderedElementsAre(\n@@ -434,7 +434,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n               FieldsAre(/*changed_instruction_count=*/0,\n                         /*left_unmatched_instruction_count=*/2,\n                         /*right_unmatched_instruction_count=*/2)),\n-          FieldsAre(/*fingerprint=*/7552256280133001U,\n+          FieldsAre(/*fingerprint=*/6903734865734313556U,\n                     /*computation_groups=*/\n                     UnorderedElementsAre(FieldsAre(\n                         /*left_computations=*/UnorderedElementsAre(\n@@ -493,7 +493,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(\n                   FieldsAre(\n-                      /*fingerprint=*/17080411049812562536U,\n+                      /*fingerprint=*/15640779670329858701U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/UnorderedElementsAre(Pointee(\n@@ -504,7 +504,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n                                 /*left_unmatched_instruction_count=*/3,\n                                 /*right_unmatched_instruction_count=*/0)),\n                   FieldsAre(\n-                      /*fingerprint=*/15124431254247692171U,\n+                      /*fingerprint=*/16216166623650903495U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/IsEmpty(),\n@@ -663,7 +663,7 @@ TEST_F(HloDiffTest, DiffSummaryToProtoWorks) {\n       proto.computation_diff_patterns(),\n       ElementsAre(AllOf(\n           Property(&ComputationDiffPatternProto::fingerprint,\n-                   14409095482904936423U),\n+                   4350545588961693242U),\n           Property(\n               &ComputationDiffPatternProto::computation_group,\n               ElementsAre(AllOf("
        },
        {
            "sha": "8e5d3888b88e9be80b8bcba7da9e1875608056a8",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/hlo_function_importer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -2153,6 +2153,7 @@ absl::StatusOr<mlir::Operation*> HloFunctionImporter::ImportInstructionImpl(\n         .getOperation();                                                      \\\n   }\n       NO_ATTRIBUTE_CASE_MHLO(kAcos, AcosOp);\n+      NO_ATTRIBUTE_CASE_MHLO(kAsin, AsinOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAcosh, AcoshOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAddDependency, AddDependencyOp);\n       NO_ATTRIBUTE_CASE_MHLO(kCopy, CopyOp);"
        },
        {
            "sha": "2ef48e653055aa27851523a34426de12a06b1537",
            "filename": "third_party/xla/xla/hlo/utils/hlo_matchers.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -298,6 +298,7 @@ namespace opcode_matchers {\n HLO_MATCHER(Abs);\n HLO_MATCHER(Acos);\n HLO_MATCHER(Acosh);\n+HLO_MATCHER(Asin);\n HLO_MATCHER(Add);\n HLO_MATCHER(AddDependency);\n HLO_MATCHER(AfterAll);"
        },
        {
            "sha": "1608bae8483959445743e6075f3e219f83e40af9",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -358,6 +358,7 @@ LogicalResult ReduceScatterOp::verify() {\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AddOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AcosOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AcoshOp)\n+INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AsinOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AndOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(Atan2Op)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(CbrtOp)\n@@ -5120,6 +5121,7 @@ UNARY_FOLDER_FLOAT(RoundOp, Round)\n \n UNARY_FOLDER_UPCAST_TO_F64(AcosOp, std::acos, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(AcoshOp, std::acosh, AnyValue)\n+UNARY_FOLDER_UPCAST_TO_F64(AsinOp, std::asin, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(CosineOp, std::cos, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(ErfOp, std::erf, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(ExpOp, std::exp, AnyValue)"
        },
        {
            "sha": "4757b8f766f78bf0904857381d0f6d55f10f955f",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.td",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -250,6 +250,22 @@ def MHLO_AcoshOp : MHLO_UnaryElementwiseOp<\"acosh\",\n   let hasFolder = 1;\n }\n \n+def MHLO_AsinOp : MHLO_UnaryElementwiseOp<\"asin\",\n+    [HLO_CompatibleOperandsAndResultType], HLO_AnyFpOrComplexTensor> {\n+  let summary = \"Asin operation\";\n+\n+  let description = [{\n+     Performs element-wise asin operation on `operand` tensor and produces a\n+    `result` tensor.\n+\n+    Example:\n+    ```mlir\n+    %result = mhlo.asin %operand : tensor<2x2xf32>\n+    ```\n+  }];\n+  let hasFolder = 1;\n+}\n+\n def MHLO_CbrtOp: MHLO_UnaryElementwiseOp<\"cbrt\",\n     [Pure, HLO_CompatibleOperandsAndResultType], MHLO_FpComplexOrQuantizedIntTensor> {\n   let summary = \"Cbrt operation\";"
        },
        {
            "sha": "701e57eb1c6458a167384a6450e8180b2dab2f72",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/legalize_to_linalg/legalize_to_linalg.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -4524,6 +4524,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       IotaToMapConverter<mhlo::DynamicIotaOp>,\n       MapOpToMapConverter,\n       PointwiseToLinalgMapConverter<mhlo::AbsOp>,\n+      PointwiseToLinalgMapConverter<mhlo::AsinOp>,\n       PointwiseToLinalgMapConverter<mhlo::AcosOp>,\n       PointwiseToLinalgMapConverter<mhlo::AcoshOp>,\n       PointwiseToLinalgMapConverter<mhlo::AddOp>,\n@@ -4588,6 +4589,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       MapOpToGenericConverter,\n       PointwiseToLinalgConverter<mhlo::AbsOp>,\n       PointwiseToLinalgConverter<mhlo::AcosOp>,\n+      PointwiseToLinalgConverter<mhlo::AsinOp>,\n       PointwiseToLinalgConverter<mhlo::AcoshOp>,\n       PointwiseToLinalgConverter<mhlo::AddOp>,\n       PointwiseToLinalgConverter<mhlo::AndOp>,"
        },
        {
            "sha": "743dfb0ac893d0e3d205d92ff598afd767392a15",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/map_mhlo_to_scalar_op.h",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -57,6 +57,10 @@ struct MhloToScalarOp<mhlo::AcoshOp> {\n   using FOp = ::mlir::math::AcoshOp;\n };\n template <>\n+struct MhloToScalarOp<mhlo::AsinOp> {\n+  using FOp = ::mlir::math::AsinOp;\n+};\n+template <>\n struct MhloToScalarOp<mhlo::AddOp> {\n   using FOp = ::mlir::arith::AddFOp;\n   using IOp = ::mlir::arith::AddIOp;"
        },
        {
            "sha": "0778ef2a73dfd03809498ec7eeffbe6a8518ae11",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -70,6 +70,11 @@ absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitSinh(\n   return Unimplemented(\"sinh\");\n }\n \n+absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitAsin(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"asin\");\n+}\n+\n absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitErf(\n     PrimitiveType prim_type, llvm::Value* value) {\n   return xla::cpu::EmitErf(module(), *b(), prim_type, value);"
        },
        {
            "sha": "db27e49cbac0a24ded4baec7c0f3f72266f44e07",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -63,6 +63,9 @@ class CpuElementalIrEmitter final : public ElementalIrEmitter {\n   absl::StatusOr<llvm::Value*> EmitSinh(PrimitiveType prim_type,\n                                         llvm::Value* value) override;\n \n+  absl::StatusOr<llvm::Value*> EmitAsin(PrimitiveType prim_type,\n+                                        llvm::Value* value) override;\n+\n   absl::StatusOr<llvm::Value*> EmitErf(PrimitiveType prim_type,\n                                        llvm::Value* value) override;\n "
        },
        {
            "sha": "372c315adf5a6040836948f2a22910f73b1be472",
            "filename": "third_party/xla/xla/service/cpu/thunk_emitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -413,6 +413,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitHloInstruction(\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "fe3097b2a10907cdba469edc3065ab7748b1fbcb",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -880,6 +880,8 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitFloatUnaryOp(\n   switch (op->opcode()) {\n     case HloOpcode::kAcos:\n       return EmitAcos(op->shape().element_type(), operand_value);\n+    case HloOpcode::kAsin:\n+      return EmitAsin(op->shape().element_type(), operand_value);\n     case HloOpcode::kAcosh:\n       return EmitAcosh(op->shape().element_type(), operand_value);\n     case HloOpcode::kConvert: {\n@@ -2390,6 +2392,11 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitAcosh(\n   return Unimplemented(\"acosh\");\n }\n \n+absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitAsin(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"asin\");\n+}\n+\n absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitErf(\n     PrimitiveType prim_type, llvm::Value* value) {\n   return Unimplemented(\"erf\");\n@@ -3340,6 +3347,7 @@ llvm_ir::ElementGenerator ElementalIrEmitter::MakeElementGenerator(\n     const ElementalIrEmitter::HloToElementGeneratorMap& operand_to_generator) {\n   switch (hlo->opcode()) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kRoundNearestAfz:"
        },
        {
            "sha": "aa93fabea86c004dfad1a45b3031b8d3e5418f66",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -149,6 +149,9 @@ class ElementalIrEmitter : public IrBuilderMixin<ElementalIrEmitter> {\n   virtual absl::StatusOr<llvm::Value*> EmitAcosh(PrimitiveType prim_type,\n                                                  llvm::Value* value);\n \n+  virtual absl::StatusOr<llvm::Value*> EmitAsin(PrimitiveType prim_type,\n+                                                llvm::Value* value);\n+\n   virtual absl::StatusOr<llvm::Value*> EmitAtan2(PrimitiveType prim_type,\n                                                  llvm::Value* lhs,\n                                                  llvm::Value* rhs,"
        },
        {
            "sha": "a2ba9b711e0ce29283526abb5dfcb1d6de87e7bd",
            "filename": "third_party/xla/xla/service/gpu/hlo_fusion_stats.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -47,6 +47,7 @@ class OpcodeCollector : public ConstDfsHloVisitorWithDefault {\n       case HloOpcode::kAbs:\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n+      case HloOpcode::kAsin:\n       case HloOpcode::kCbrt:\n       case HloOpcode::kCeil:\n       case HloOpcode::kCos:"
        },
        {
            "sha": "0b9e4aaf85091646fc53c93c2b12e4113d952b15",
            "filename": "third_party/xla/xla/service/gpu/target_util.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -244,6 +244,9 @@ struct TargetDeviceFunction GetDeviceFunctionRoot(\n     case TargetDeviceFunctionID::kAtan2: {\n       return {\"__nv_atan2\", \"__ocml_atan2\", \"_Z17__spirv_ocl_atan2\"};\n     }\n+    case TargetDeviceFunctionID::kAsin: {\n+      return {\"__nv_asin\", \"__ocml_asin\", \"_Z16__spirv_ocl_asin\"};\n+    }\n     case TargetDeviceFunctionID::kCos: {\n       return {\"__nv_cos\", \"__ocml_cos\", \"_Z15__spirv_ocl_cos\"};\n     }\n@@ -302,6 +305,8 @@ std::optional<TargetDeviceFunctionID> GetTargetDeviceFunctionID(HloOpcode op) {\n       return TargetDeviceFunctionID::kAcos;\n     case HloOpcode::kAcosh:\n       return TargetDeviceFunctionID::kAcosh;\n+    case HloOpcode::kAsin:\n+      return TargetDeviceFunctionID::kAsin;\n     case HloOpcode::kAtan2:\n       return TargetDeviceFunctionID::kAtan2;\n     case HloOpcode::kCos:"
        },
        {
            "sha": "730be7f9fa905e3e052691f145a510e55e3670d8",
            "filename": "third_party/xla/xla/service/gpu/target_util.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -71,6 +71,7 @@ enum class TargetDeviceFunctionID {\n   kAcosh,\n   kAcos,\n   kSinh,\n+  kAsin,\n };\n \n // HLO opcode -> TargetDeviceFunctionID mapping. Returns std::nullopt if there"
        },
        {
            "sha": "fa15e7d4dd8494909ecce3fab87f8dc674ccf589",
            "filename": "third_party/xla/xla/service/gpu/transforms/fusion_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -26,6 +26,7 @@ bool FusionWrapper::MustWrapInstruction(HloOpcode opcode) {\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "0e6f038b0d1ac8e0875d21a475322753785e741f",
            "filename": "third_party/xla/xla/service/hlo_cost_analysis.cc",
            "status": "modified",
            "additions": 10,
            "deletions": 9,
            "changes": 19,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -144,15 +144,16 @@ absl::Status HloCostAnalysis::HandleElementwiseOp(\n   // operation can correspond to several floating point ops.\n   // kLogistic is included in \"trascendental\" as it is implemented using\n   // trascendental ops (tanh or exp).\n-  if (opcode == HloOpcode::kAcos || opcode == HloOpcode::kAcosh ||\n-      opcode == HloOpcode::kErf || opcode == HloOpcode::kExp ||\n-      opcode == HloOpcode::kLog || opcode == HloOpcode::kLogistic ||\n-      opcode == HloOpcode::kPower || opcode == HloOpcode::kSqrt ||\n-      opcode == HloOpcode::kCbrt || opcode == HloOpcode::kRsqrt ||\n-      opcode == HloOpcode::kTanh || opcode == HloOpcode::kSin ||\n-      opcode == HloOpcode::kCos || opcode == HloOpcode::kExpm1 ||\n-      opcode == HloOpcode::kLog1p || opcode == HloOpcode::kAtan2 ||\n-      opcode == HloOpcode::kTan || opcode == HloOpcode::kSinh) {\n+  if (opcode == HloOpcode::kAsin || opcode == HloOpcode::kAcos ||\n+      opcode == HloOpcode::kAcosh || opcode == HloOpcode::kErf ||\n+      opcode == HloOpcode::kExp || opcode == HloOpcode::kLog ||\n+      opcode == HloOpcode::kLogistic || opcode == HloOpcode::kPower ||\n+      opcode == HloOpcode::kSqrt || opcode == HloOpcode::kCbrt ||\n+      opcode == HloOpcode::kRsqrt || opcode == HloOpcode::kTanh ||\n+      opcode == HloOpcode::kSin || opcode == HloOpcode::kCos ||\n+      opcode == HloOpcode::kExpm1 || opcode == HloOpcode::kLog1p ||\n+      opcode == HloOpcode::kAtan2 || opcode == HloOpcode::kTan ||\n+      opcode == HloOpcode::kSinh) {\n     current_properties_[kTranscendentalsKey] = computation_count;\n   } else {\n     // Note: transcendental operations are considered a separate category from"
        },
        {
            "sha": "e67066887d51fbf3b3f456d28e6223f813083851",
            "filename": "third_party/xla/xla/service/hlo_graph_dumper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -1140,6 +1140,7 @@ ColorScheme HloDotDumper::GetInstructionColor(const HloInstruction* instr) {\n   // (eg, parameter).\n   switch (instr->opcode()) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:"
        },
        {
            "sha": "0e94680b1c9a563dbcae201ecb6af9fc437abbf8",
            "filename": "third_party/xla/xla/service/instruction_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -176,6 +176,7 @@ bool IsAlwaysDuplicable(const HloInstruction& instruction) {\n     // nonsensical.\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "e4d221e0ebd3d0449f35c181b3bb12d423137b89",
            "filename": "third_party/xla/xla/service/layout_assignment.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -2860,6 +2860,7 @@ bool LayoutAssignment::InstructionCanChangeLayout(\n     case HloOpcode::kAbs:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAnd:"
        },
        {
            "sha": "3f0b0e3e6b42cf88e982141505eca021217fa5f8",
            "filename": "third_party/xla/xla/service/shape_inference.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -347,6 +347,7 @@ absl::StatusOr<DimAndBound> InferMostSpecificDimAndBound(int64_t dim,\n \n   TF_DCHECK_OK(ShapeUtil::ValidateShapeWithOptionalLayout(shape));\n   switch (opcode) {\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kFloor:"
        },
        {
            "sha": "c377156ecc582eec0f666c4c346a95964182e467",
            "filename": "third_party/xla/xla/service/shape_inference_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -6016,6 +6016,7 @@ INSTANTIATE_TEST_SUITE_P(UnboundedDynamism, UnboundedUnaryOpShapeInferenceTest,\n                              {{\"f32[?]\", \"f32[?]\", HloOpcode::kAbs},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kAcos},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kAcosh},\n+                              {\"f32[?]\", \"f32[?]\", HloOpcode::kAsin},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCbrt},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCeil},\n                               {\"u32[?]\", \"u32[?]\", HloOpcode::kClz},"
        },
        {
            "sha": "b8b8fec629706f27928ecfd666a61129453ede43",
            "filename": "third_party/xla/xla/service/sharding_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -215,6 +215,7 @@ const HloInstruction* PickRepresentativeOperand(\n       }\n       return nullptr;\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:"
        },
        {
            "sha": "237ddc0dffc57d4b1ee78888900d57833a69633c",
            "filename": "third_party/xla/xla/tests/int4_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f2da14a585c156be7189200c1a7cc33cba94d213/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc?ref=f2da14a585c156be7189200c1a7cc33cba94d213",
            "patch": "@@ -337,6 +337,7 @@ class ElementwiseTest : public HloTestBase,\n  private:\n   static bool IsFloatingPointOnly(HloOpcode opcode) {\n     switch (opcode) {\n+      case HloOpcode::kAsin:\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n       case HloOpcode::kAtan2:"
        }
    ],
    "stats": {
        "total": 189,
        "additions": 151,
        "deletions": 38
    }
}