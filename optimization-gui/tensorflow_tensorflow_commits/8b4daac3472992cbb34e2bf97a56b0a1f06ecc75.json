{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845666754",
    "sha": "8b4daac3472992cbb34e2bf97a56b0a1f06ecc75",
    "files": [
        {
            "sha": "5f326727735a4ac4adb3583601a888d1e7daf156",
            "filename": "third_party/xla/xla/service/hlo_runner_pjrt.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_runner_pjrt.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_runner_pjrt.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_runner_pjrt.cc?ref=8b4daac3472992cbb34e2bf97a56b0a1f06ecc75",
            "patch": "@@ -827,7 +827,8 @@ absl::StatusOr<Literal> HloRunnerPjRt::TransferLiteralFromDevice(\n       on_device_shape.IsTuple() && on_device_shape.tuple_shapes().size() == 0) {\n     return LiteralUtil::MakeTuple({});\n   }\n-  TF_ASSIGN_OR_RETURN(std::shared_ptr<Literal> literal, buffer.ToLiteralSync());\n+  TF_ASSIGN_OR_RETURN(std::shared_ptr<Literal> literal,\n+                      buffer.ToLiteral().Await());\n   return std::move(*literal);\n }\n "
        },
        {
            "sha": "63cdc7f9abc3d36c752b51a8337ecd54955d77c0",
            "filename": "third_party/xla/xla/service/shaped_buffer_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Fshaped_buffer_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Fshaped_buffer_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshaped_buffer_test.cc?ref=8b4daac3472992cbb34e2bf97a56b0a1f06ecc75",
            "patch": "@@ -42,7 +42,8 @@ TEST(ShapedBufferTest, ScopedShapeBufferAsShapedBufferB71629047) {\n                           xla::PlatformUtil::GetDefaultPlatform());\n   TF_ASSERT_OK_AND_ASSIGN(auto executors,\n                           xla::PlatformUtil::GetStreamExecutors(platform));\n-  xla::se::StreamExecutorMemoryAllocator allocator(platform, executors);\n+  stream_executor::StreamExecutorAddressAllocator allocator(platform,\n+                                                            executors);\n   const xla::Shape shape = xla::ShapeUtil::MakeShape(xla::F32, {});\n   const int kDeviceOrdinal = 0;\n   auto scoped_buffer = std::make_unique<xla::ScopedShapedBuffer>("
        },
        {
            "sha": "7c0fc92a23bc773b7917aab5271f0adf30c9d62e",
            "filename": "third_party/xla/xla/service/transfer_manager.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8b4daac3472992cbb34e2bf97a56b0a1f06ecc75/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Ftransfer_manager.cc?ref=8b4daac3472992cbb34e2bf97a56b0a1f06ecc75",
            "patch": "@@ -295,15 +295,15 @@ absl::Status TransferManager::WriteRootTupleIndexTable(\n     return absl::OkStatus();\n   }\n   se::DeviceAddressBase device_memory =\n-      buffer_tree.element({}).AsDeviceMemoryBase();\n+      buffer_tree.element({}).AsDeviceAddress();\n   TF_RET_CHECK(GetByteSizeRequirement(buffer_tree.shape()) ==\n                device_memory.size());\n \n   std::vector<se::DeviceAddressBase> elements;\n   elements.reserve(ShapeUtil::TupleElementCount(buffer_tree.shape()));\n   for (int64_t i = 0; i < ShapeUtil::TupleElementCount(buffer_tree.shape());\n        ++i) {\n-    elements.push_back(buffer_tree.element({i}).AsDeviceMemoryBase());\n+    elements.push_back(buffer_tree.element({i}).AsDeviceAddress());\n   }\n   return WriteSingleTupleIndexTable(stream, elements, buffer_tree.shape(),\n                                     &device_memory);"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 6,
        "deletions": 4
    }
}