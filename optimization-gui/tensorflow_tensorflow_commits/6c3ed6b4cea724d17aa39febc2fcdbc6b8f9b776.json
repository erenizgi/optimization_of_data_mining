{
    "author": "ZixuanJiang",
    "message": "Remove unused `GetMostOccurringDevice` function.\n\nPiperOrigin-RevId: 839612898",
    "sha": "6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776",
    "files": [
        {
            "sha": "ab2aa799931cde33748636a4adfd5b087c28b7bb",
            "filename": "third_party/xla/xla/hlo/utils/hlo_sharding_util.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.cc?ref=6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776",
            "patch": "@@ -762,20 +762,6 @@ void AssignComputationDevice(HloComputation* computation, int64_t device) {\n   }\n }\n \n-std::optional<int64_t> GetMostOccurringDevice(\n-    absl::Span<HloInstruction* const> instructions) {\n-  std::map<int64_t, int64_t> device_map;\n-  for (HloInstruction* instruction : instructions) {\n-    if (instruction->has_sharding()) {\n-      for (auto& it : instruction->sharding().UsedDevices(nullptr)) {\n-        // The UsedDevices() API returns a map<device, occurrence_count>.\n-        device_map[it.first] += it.second;\n-      }\n-    }\n-  }\n-  return SelectDominantDevice(device_map, nullptr);\n-}\n-\n std::optional<int64_t> GetDominantDevice(\n     absl::Span<HloComputation* const> computations, double dominant_factor) {\n   int64_t instruction_count = 0;"
        },
        {
            "sha": "76e558df2bc18595aa59003a379487566ff75c89",
            "filename": "third_party/xla/xla/hlo/utils/hlo_sharding_util.h",
            "status": "modified",
            "additions": 0,
            "deletions": 5,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_sharding_util.h?ref=6c3ed6b4cea724d17aa39febc2fcdbc6b8f9b776",
            "patch": "@@ -130,11 +130,6 @@ std::optional<int64_t> SelectDominantDevice(\n // instructions which already have sharding.\n void AssignComputationDevice(HloComputation* computation, int64_t device);\n \n-// Given an instruction container, returns the device which is most commonly\n-// occurring among the instructions.\n-std::optional<int64_t> GetMostOccurringDevice(\n-    absl::Span<HloInstruction* const> instructions);\n-\n // Given a set of computations, tries to extract the dominant device. A device\n // is dominant if the combined occurrence among all the instructions of the\n // input computations, is greater/equal than/to dominant_factor (real number"
        }
    ],
    "stats": {
        "total": 19,
        "additions": 0,
        "deletions": 19
    }
}