{
    "author": "tensorflower-gardener",
    "message": "Make `NoneTensorSpec` part of the public API.\n\nPiperOrigin-RevId: 814121785",
    "sha": "9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
    "files": [
        {
            "sha": "7ac60de2539cc000cb4d972171bfa53ac1452843",
            "filename": "RELEASE.md",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/RELEASE.md",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/RELEASE.md",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/RELEASE.md?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -29,6 +29,10 @@\n * <IF A CHANGE CLOSES A GITHUB ISSUE, IT SHOULD BE DOCUMENTED HERE>\n * <NOTES SHOULD BE GROUPED PER AREA>\n \n+* `tf.data`\n+    * Adds `NoneTensorSpec` to the public API so that `None`s in `element_spec`\n+      can be identified via `isinstance(..., tf.NoneTensorSpec)`.\n+\n ## Thanks to our Contributors\n \n This release contains contributions from many people at Google, as well as:"
        },
        {
            "sha": "2ea58e0cd4519827a4db4ac6b8ebdce9bb7145e2",
            "filename": "tensorflow/python/framework/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Fpython%2Fframework%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Fpython%2Fframework%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fframework%2FBUILD?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -1728,6 +1728,7 @@ py_strict_library(\n         \":composite_tensor\",\n         \":type_spec\",\n         \":type_spec_registry\",\n+        \"//tensorflow/python/util:tf_export\",\n     ],\n )\n "
        },
        {
            "sha": "f4f8fd47a3b595939d3386f182ccea5a1cf8e3af",
            "filename": "tensorflow/python/framework/none_tensor.py",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Fpython%2Fframework%2Fnone_tensor.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Fpython%2Fframework%2Fnone_tensor.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fframework%2Fnone_tensor.py?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -17,6 +17,7 @@\n from tensorflow.python.framework import composite_tensor\n from tensorflow.python.framework import type_spec\n from tensorflow.python.framework import type_spec_registry\n+from tensorflow.python.util.tf_export import tf_export\n \n \n # TODO(b/149584798): add tests for non-tf.data functionality.\n@@ -29,6 +30,7 @@ def _type_spec(self):\n \n \n # TODO(b/149584798): add tests for non-tf.data functionality.\n+@tf_export(\"NoneTensorSpec\")\n @type_spec_registry.register(\"tf.NoneTensorSpec\")\n class NoneTensorSpec(type_spec.BatchableTypeSpec):\n   \"\"\"Type specification for `None` value.\"\"\""
        },
        {
            "sha": "4426458852753e1750f32bf922fbdcf2159907dc",
            "filename": "tensorflow/tools/api/golden/v1/tensorflow.-none-tensor-spec.pbtxt",
            "status": "added",
            "additions": 73,
            "deletions": 0,
            "changes": 73,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.-none-tensor-spec.pbtxt",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.-none-tensor-spec.pbtxt",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.-none-tensor-spec.pbtxt?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -0,0 +1,73 @@\n+path: \"tensorflow.NoneTensorSpec\"\n+tf_class {\n+  is_instance: \"<class \\'tensorflow.python.framework.none_tensor.NoneTensorSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.framework.type_spec.BatchableTypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.framework.type_spec.TypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.types.internal.TypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.types.trace.TraceType\\'>\"\n+  is_instance: \"<class \\'tensorflow.core.function.trace_type.serialization.Serializable\\'>\"\n+  is_instance: \"<type \\'object\\'>\"\n+  member {\n+    name: \"value_type\"\n+    mtype: \"<type \\'property\\'>\"\n+  }\n+  member_method {\n+    name: \"__init__\"\n+  }\n+  member_method {\n+    name: \"cast\"\n+    argspec: \"args=[\\'self\\', \\'value\\', \\'casting_context\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_as_proto\"\n+    argspec: \"args=[\\'self\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_from_proto\"\n+    argspec: \"args=[\\'cls\\', \\'proto\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_type_proto\"\n+    argspec: \"args=[\\'cls\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"flatten\"\n+    argspec: \"args=[\\'self\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"from_tensors\"\n+    argspec: \"args=[\\'self\\', \\'tensors\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"from_value\"\n+    argspec: \"args=[\\'value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"is_compatible_with\"\n+    argspec: \"args=[\\'self\\', \\'spec_or_value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"is_subtype_of\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_common_supertype\"\n+    argspec: \"args=[\\'self\\', \\'others\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_compatible_shape\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_compatible_type\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"placeholder_value\"\n+    argspec: \"args=[\\'self\\', \\'placeholder_context\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"to_tensors\"\n+    argspec: \"args=[\\'self\\', \\'value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+}"
        },
        {
            "sha": "e3b686fe469878b3cce080e4144df27b59e31bad",
            "filename": "tensorflow/tools/api/golden/v1/tensorflow.pbtxt",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.pbtxt",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.pbtxt",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv1%2Ftensorflow.pbtxt?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -160,6 +160,10 @@ tf_module {\n     name: \"NodeDef\"\n     mtype: \"<class \\'google._upb._message.MessageMeta\\'>\"\n   }\n+  member {\n+    name: \"NoneTensorSpec\"\n+    mtype: \"<type \\'type\\'>\"\n+  }\n   member {\n     name: \"OpError\"\n     mtype: \"<type \\'type\\'>\""
        },
        {
            "sha": "4426458852753e1750f32bf922fbdcf2159907dc",
            "filename": "tensorflow/tools/api/golden/v2/tensorflow.-none-tensor-spec.pbtxt",
            "status": "added",
            "additions": 73,
            "deletions": 0,
            "changes": 73,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.-none-tensor-spec.pbtxt",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.-none-tensor-spec.pbtxt",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.-none-tensor-spec.pbtxt?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -0,0 +1,73 @@\n+path: \"tensorflow.NoneTensorSpec\"\n+tf_class {\n+  is_instance: \"<class \\'tensorflow.python.framework.none_tensor.NoneTensorSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.framework.type_spec.BatchableTypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.framework.type_spec.TypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.types.internal.TypeSpec\\'>\"\n+  is_instance: \"<class \\'tensorflow.python.types.trace.TraceType\\'>\"\n+  is_instance: \"<class \\'tensorflow.core.function.trace_type.serialization.Serializable\\'>\"\n+  is_instance: \"<type \\'object\\'>\"\n+  member {\n+    name: \"value_type\"\n+    mtype: \"<type \\'property\\'>\"\n+  }\n+  member_method {\n+    name: \"__init__\"\n+  }\n+  member_method {\n+    name: \"cast\"\n+    argspec: \"args=[\\'self\\', \\'value\\', \\'casting_context\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_as_proto\"\n+    argspec: \"args=[\\'self\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_from_proto\"\n+    argspec: \"args=[\\'cls\\', \\'proto\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"experimental_type_proto\"\n+    argspec: \"args=[\\'cls\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"flatten\"\n+    argspec: \"args=[\\'self\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"from_tensors\"\n+    argspec: \"args=[\\'self\\', \\'tensors\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"from_value\"\n+    argspec: \"args=[\\'value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"is_compatible_with\"\n+    argspec: \"args=[\\'self\\', \\'spec_or_value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"is_subtype_of\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_common_supertype\"\n+    argspec: \"args=[\\'self\\', \\'others\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_compatible_shape\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"most_specific_compatible_type\"\n+    argspec: \"args=[\\'self\\', \\'other\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"placeholder_value\"\n+    argspec: \"args=[\\'self\\', \\'placeholder_context\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+  member_method {\n+    name: \"to_tensors\"\n+    argspec: \"args=[\\'self\\', \\'value\\'], varargs=None, keywords=None, defaults=None\"\n+  }\n+}"
        },
        {
            "sha": "c3a645445f65d227a70f451fd3150fd01a6d954f",
            "filename": "tensorflow/tools/api/golden/v2/tensorflow.pbtxt",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.pbtxt",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.pbtxt",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fapi%2Fgolden%2Fv2%2Ftensorflow.pbtxt?ref=9d09cd4cebdcd118c3c2013c7c095c6b4f0175cb",
            "patch": "@@ -36,6 +36,10 @@ tf_module {\n     name: \"Module\"\n     mtype: \"<type \\'type\\'>\"\n   }\n+  member {\n+    name: \"NoneTensorSpec\"\n+    mtype: \"<type \\'type\\'>\"\n+  }\n   member {\n     name: \"Operation\"\n     mtype: \"<type \\'type\\'>\""
        }
    ],
    "stats": {
        "total": 161,
        "additions": 161,
        "deletions": 0
    }
}