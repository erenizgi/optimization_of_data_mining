{
    "author": "alexander-shaposhnikov",
    "message": "Clean up flags for xnn tests.\n\nPiperOrigin-RevId: 799020874",
    "sha": "177db89602855871edb785bd5a18bf1722c567ca",
    "files": [
        {
            "sha": "7e92e5d44e97a8b2eb5d252f4a23892e3b47b301",
            "filename": "third_party/xla/xla/backends/cpu/transforms/xnn_graph_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 9,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/177db89602855871edb785bd5a18bf1722c567ca/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fxnn_graph_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/177db89602855871edb785bd5a18bf1722c567ca/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fxnn_graph_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Ftransforms%2Fxnn_graph_fusion.cc?ref=177db89602855871edb785bd5a18bf1722c567ca",
            "patch": "@@ -131,16 +131,8 @@ bool XnnGraphFusion::IsOpSupported(const HloInstruction* instr) {\n   switch (instr->opcode()) {\n     case HloOpcode::kBitcast:\n       return IsBitcastOpSupportedByXnn(instr);\n-    case HloOpcode::kBroadcast: {\n-      if (instr->GetModule()\n-              ->config()\n-              .debug_options()\n-              .xla_cpu_experimental_xnn_graph_fusion_mode() !=\n-          DebugOptions::XNN_GRAPH_FUSION_MODE_GREEDY_SLINKY) {\n-        return false;\n-      }\n+    case HloOpcode::kBroadcast:\n       return IsBroadcastOpSupportedByXnn(instr);\n-    }\n     case HloOpcode::kReduce:\n       return IsReduceOpSupportedByXnn(instr);\n     default:"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 1,
        "deletions": 9
    }
}