{
    "author": "ezhulenev",
    "message": "[xla] Migrate to PjRtFuture<>::MakePromise() API\n\nPiperOrigin-RevId: 805505303",
    "sha": "e165c650ab0bc04d374d19b038dd7513b1a2773c",
    "files": [
        {
            "sha": "39ff8ed264b179520a8fdd8457aa4bb7f47008fc",
            "filename": "third_party/xla/xla/python/pjrt_ifrt/basic_string_array.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 5,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e165c650ab0bc04d374d19b038dd7513b1a2773c/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fbasic_string_array.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e165c650ab0bc04d374d19b038dd7513b1a2773c/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fbasic_string_array.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fbasic_string_array.cc?ref=e165c650ab0bc04d374d19b038dd7513b1a2773c",
            "patch": "@@ -67,11 +67,8 @@ absl::StatusOr<tsl::RCReference<BasicStringArray>> BasicStringArray::Create(\n     return absl::InvalidArgumentError(\"Got buffers_ future is invalid\");\n   }\n \n-  auto buffers_promise = Future<Buffers>::CreatePromise();\n-  auto buffers_future = Future<Buffers>(buffers_promise);\n-\n-  auto ready_promise = Future<>::CreatePromise();\n-  auto ready_future = Future<>(ready_promise);\n+  auto [buffers_promise, buffers_future] = Future<Buffers>::MakePromise();\n+  auto [ready_promise, ready_future] = Future<>::MakePromise();\n \n   // Buffers when the become ready must be consistent with the sharding. For\n   // instance, Buffers.size() (the number of per-shard spans of absl::Cords)"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 2,
        "deletions": 5
    }
}