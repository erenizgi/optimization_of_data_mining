{
    "author": "beckerhe",
    "message": "Move KernelMetadata into its own file\n\n- Takes the class `KernelMetadata` from `kernel.h` and moves it into a new file `kernel_metadata.h`\n- Moves the setter and getter implementations from `kernel.cc` into `kernel_metadata.h`\n- Adds some basic unit tests\n- Fixes up dependencies in targets that depend on `KernelMetadata`\n\nPiperOrigin-RevId: 829348087",
    "sha": "14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
    "files": [
        {
            "sha": "451a14a7bb4e7a55726023e09485791216ffc5e0",
            "filename": "third_party/xla/xla/service/gpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 3,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -2624,12 +2624,12 @@ cc_library(\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:dnn\",\n         \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n         \"//xla/stream_executor:kernel_spec\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n-        \"//xla/stream_executor:typed_kernel_factory\",\n         \"//xla/stream_executor/gpu:gpu_kernel_registry\",\n         \"//xla/stream_executor/gpu:repeat_buffer_kernel\",\n         \"//xla/tsl/platform:statusor\",\n@@ -2647,8 +2647,6 @@ cc_library(\n         \"@com_google_absl//absl/types:span\",\n         \"@eigen_archive//:eigen3\",\n         \"@local_tsl//tsl/platform:ml_dtypes\",\n-        \"@local_tsl//tsl/platform:status\",\n-        \"@local_tsl//tsl/platform:statusor\",\n         \"@local_tsl//tsl/profiler/lib:traceme\",\n         \"@local_tsl//tsl/profiler/lib:traceme_encode\",\n     ],"
        },
        {
            "sha": "99762d6df650daa2442688e0441b5fe9ee4f396e",
            "filename": "third_party/xla/xla/service/gpu/stream_executor_util.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fstream_executor_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fstream_executor_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fstream_executor_util.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -56,6 +56,7 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/gpu_kernel_registry.h\"\n #include \"xla/stream_executor/gpu/repeat_buffer_kernel.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/kernel_spec.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/platform.h\""
        },
        {
            "sha": "6791b0d971b2bfbe9675e8793e750aa720183caa",
            "filename": "third_party/xla/xla/stream_executor/BUILD",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2FBUILD?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -580,12 +580,27 @@ xla_cc_test(\n     ],\n )\n \n+cc_library(\n+    name = \"kernel_metadata\",\n+    hdrs = [\"kernel_metadata.h\"],\n+)\n+\n+xla_cc_test(\n+    name = \"kernel_metadata_test\",\n+    srcs = [\"kernel_metadata_test.cc\"],\n+    deps = [\n+        \":kernel_metadata\",\n+        \"@com_google_googletest//:gtest_main\",\n+    ],\n+)\n+\n cc_library(\n     name = \"kernel\",\n     srcs = [\"kernel.cc\"],\n     hdrs = [\"kernel.h\"],\n     deps = [\n         \":device_memory\",\n+        \":kernel_metadata\",\n         \":launch_dim\",\n         \":stream\",\n         \"@com_google_absl//absl/base:core_headers\",\n@@ -860,6 +875,7 @@ xla_cc_test(\n     deps = [\n         \":device_memory\",\n         \":kernel\",\n+        \":kernel_metadata\",\n         \":platform\",\n         \":platform_manager\",\n         \":stream_executor_h\","
        },
        {
            "sha": "7d29ca210e7759bdd6c351c6461599fba778504c",
            "filename": "third_party/xla/xla/stream_executor/cuda/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2FBUILD?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -688,6 +688,7 @@ cc_library(\n         \":cuda_status\",\n         \"//xla/stream_executor:activate_context\",\n         \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n@@ -1175,6 +1176,7 @@ cc_library(\n         \"//xla/stream_executor:generic_memory_allocation\",\n         \"//xla/stream_executor:generic_memory_allocator\",\n         \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n         \"//xla/stream_executor:kernel_spec\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/stream_executor:memory_allocation\","
        },
        {
            "sha": "9c9533af4bcc1bd734faea9c4c1daee58c23891f",
            "filename": "third_party/xla/xla/stream_executor/cuda/cuda_executor.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -80,6 +80,7 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/scoped_activate_context.h\"\n #include \"xla/stream_executor/gpu/tma_metadata.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/kernel_spec.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/memory_allocation.h\""
        },
        {
            "sha": "81b8a7663a23c4fca92b2ad60be1b04a9bb2dd3d",
            "filename": "third_party/xla/xla/stream_executor/cuda/cuda_kernel.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -30,6 +30,7 @@ limitations under the License.\n #include \"xla/stream_executor/activate_context.h\"\n #include \"xla/stream_executor/cuda/cuda_status.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/tsl/platform/errors.h\""
        },
        {
            "sha": "66db39b00c9dd37823b848f48619144297773dfe",
            "filename": "third_party/xla/xla/stream_executor/cuda/cuda_kernel.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_kernel.h?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -29,6 +29,7 @@ limitations under the License.\n #include \"absl/status/statusor.h\"\n #include \"third_party/gpus/cuda/include/cuda.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"tsl/platform/logging.h\"\n@@ -61,9 +62,9 @@ class CudaKernel : public Kernel {\n   absl::StatusOr<KernelMetadata> GetKernelMetadata();\n \n  private:\n-  absl::Status Launch(const ThreadDim &thread_dims, const BlockDim &block_dims,\n-                      const std::optional<ClusterDim> &cluster_dims,\n-                      Stream *stream, const KernelArgs &args) override;\n+  absl::Status Launch(const ThreadDim& thread_dims, const BlockDim& block_dims,\n+                      const std::optional<ClusterDim>& cluster_dims,\n+                      Stream* stream, const KernelArgs& args) override;\n \n   StreamExecutor* executor_ = nullptr;\n "
        },
        {
            "sha": "298ea10a70555f8d951e4dacf13e28029aac42ce",
            "filename": "third_party/xla/xla/stream_executor/kernel.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 22,
            "changes": 22,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -15,34 +15,12 @@ limitations under the License.\n \n #include \"xla/stream_executor/kernel.h\"\n \n-#include <cstdint>\n-#include <optional>\n #include <string>\n \n #include \"absl/strings/string_view.h\"\n \n namespace stream_executor {\n \n-std::optional<int64_t> KernelMetadata::registers_per_thread() const {\n-  return registers_per_thread_;\n-}\n-\n-std::optional<int64_t> KernelMetadata::shared_memory_bytes() const {\n-  return shared_memory_bytes_;\n-}\n-\n-void KernelMetadata::set_registers_per_thread(int registers_per_thread) {\n-  registers_per_thread_ = registers_per_thread;\n-}\n-\n-void KernelMetadata::set_shared_memory_bytes(int shared_memory_bytes) {\n-  shared_memory_bytes_ = shared_memory_bytes;\n-}\n-\n-//===----------------------------------------------------------------------===//\n-// Kernel\n-//===----------------------------------------------------------------------===//\n-\n void Kernel::set_name(absl::string_view name) { name_ = std::string(name); }\n \n }  // namespace stream_executor"
        },
        {
            "sha": "ff264f6cce3ce95f87acd8c89fb7baa804c1e5bc",
            "filename": "third_party/xla/xla/stream_executor/kernel.h",
            "status": "modified",
            "additions": 1,
            "deletions": 28,
            "changes": 29,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel.h?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -92,40 +92,13 @@ limitations under the License.\n #include \"absl/strings/string_view.h\"\n #include \"absl/types/span.h\"\n #include \"xla/stream_executor/device_memory.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/stream.h\"\n \n namespace stream_executor {\n \n //===----------------------------------------------------------------------===//\n-// Kernel metadata\n-//===----------------------------------------------------------------------===//\n-\n-// KernelMetadata holds runtime-queryable attributes of a loaded kernel, such as\n-// registers allocated, shared memory used, etc.\n-// Not all platforms support reporting of all information, so each accessor\n-// returns false if the associated field is not populated in the underlying\n-// platform.\n-class KernelMetadata {\n- public:\n-  KernelMetadata() = default;\n-\n-  // Returns the number of registers used per thread executing this kernel.\n-  std::optional<int64_t> registers_per_thread() const;\n-\n-  // Returns the amount of [static] shared memory used per block executing this\n-  // kernel. Note that dynamic shared memory allocations are not (and can not)\n-  // be reported here (since they're not specified until kernel launch time).\n-  std::optional<int64_t> shared_memory_bytes() const;\n-\n-  void set_registers_per_thread(int registers_per_thread);\n-  void set_shared_memory_bytes(int shared_memory_bytes);\n-\n- private:\n-  std::optional<int64_t> registers_per_thread_;\n-  std::optional<int64_t> shared_memory_bytes_;\n-};\n-\n //===----------------------------------------------------------------------===//\n // Kernel arguments\n //===----------------------------------------------------------------------===//"
        },
        {
            "sha": "c19e2376b5e9c3f5a814c5403f5081bda7171f4c",
            "filename": "third_party/xla/xla/stream_executor/kernel_metadata.h",
            "status": "added",
            "additions": 59,
            "deletions": 0,
            "changes": 59,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata.h?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -0,0 +1,59 @@\n+/* Copyright 2015 The OpenXLA Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+==============================================================================*/\n+\n+#ifndef XLA_STREAM_EXECUTOR_KERNEL_METADATA_H_\n+#define XLA_STREAM_EXECUTOR_KERNEL_METADATA_H_\n+\n+#include <cstdint>\n+#include <optional>\n+\n+namespace stream_executor {\n+\n+// KernelMetadata holds runtime-queryable attributes of a loaded kernel, such as\n+// registers allocated, shared memory used, etc.\n+// Not all platforms support reporting of all information, so each accessor\n+// returns false if the associated field is not populated in the underlying\n+// platform.\n+class KernelMetadata {\n+ public:\n+  KernelMetadata() = default;\n+\n+  // Returns the number of registers used per thread executing this kernel.\n+  std::optional<int64_t> registers_per_thread() const {\n+    return registers_per_thread_;\n+  }\n+\n+  // Returns the amount of [static] shared memory used per block executing this\n+  // kernel. Note that dynamic shared memory allocations are not (and can not)\n+  // be reported here (since they're not specified until kernel launch time).\n+  std::optional<int64_t> shared_memory_bytes() const {\n+    return shared_memory_bytes_;\n+  }\n+\n+  void set_registers_per_thread(int registers_per_thread) {\n+    registers_per_thread_ = registers_per_thread;\n+  }\n+  void set_shared_memory_bytes(int shared_memory_bytes) {\n+    shared_memory_bytes_ = shared_memory_bytes;\n+  }\n+\n+ private:\n+  std::optional<int64_t> registers_per_thread_;\n+  std::optional<int64_t> shared_memory_bytes_;\n+};\n+\n+}  // namespace stream_executor\n+\n+#endif  // XLA_STREAM_EXECUTOR_KERNEL_METADATA_H_"
        },
        {
            "sha": "1fd8c007646d954fc38d1c9cac3512ff161310dd",
            "filename": "third_party/xla/xla/stream_executor/kernel_metadata_test.cc",
            "status": "added",
            "additions": 44,
            "deletions": 0,
            "changes": 44,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_metadata_test.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -0,0 +1,44 @@\n+/* Copyright 2025 The OpenXLA Authors.\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+==============================================================================*/\n+\n+#include \"xla/stream_executor/kernel_metadata.h\"\n+\n+#include <optional>\n+\n+#include <gtest/gtest.h>\n+\n+namespace stream_executor {\n+namespace {\n+\n+TEST(KernelMetadataTest, DefaultConstructor) {\n+  KernelMetadata metadata;\n+  EXPECT_EQ(metadata.registers_per_thread(), std::nullopt);\n+  EXPECT_EQ(metadata.shared_memory_bytes(), std::nullopt);\n+}\n+\n+TEST(KernelMetadataTest, SetRegistersPerThread) {\n+  KernelMetadata metadata;\n+  metadata.set_registers_per_thread(10);\n+  EXPECT_EQ(metadata.registers_per_thread(), 10);\n+}\n+\n+TEST(KernelMetadataTest, SetSharedMemoryBytes) {\n+  KernelMetadata metadata;\n+  metadata.set_shared_memory_bytes(1024);\n+  EXPECT_EQ(metadata.shared_memory_bytes(), 1024);\n+}\n+\n+}  // namespace\n+}  // namespace stream_executor"
        },
        {
            "sha": "7ed2295340d649ad89b8b6cc4d5c02f57ab37f8c",
            "filename": "third_party/xla/xla/stream_executor/kernel_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fkernel_test.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -25,6 +25,7 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"benchmark/benchmark.h\"\n #include \"xla/stream_executor/device_memory.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/platform.h\"\n #include \"xla/stream_executor/platform_manager.h\"\n #include \"xla/stream_executor/stream_executor.h\""
        },
        {
            "sha": "a98373f7387c66084bc4f32f2e19ca55a1206412",
            "filename": "third_party/xla/xla/stream_executor/rocm/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2FBUILD?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -167,6 +167,7 @@ cc_library(\n         \"//xla/stream_executor:generic_memory_allocation\",\n         \"//xla/stream_executor:generic_memory_allocator\",\n         \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n         \"//xla/stream_executor:kernel_spec\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/stream_executor:memory_allocation\",\n@@ -250,6 +251,7 @@ cc_library(\n         \":rocm_status\",\n         \"//xla/stream_executor:activate_context\",\n         \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n         \"//xla/stream_executor:launch_dim\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\","
        },
        {
            "sha": "c0a7cefa87126928bbe6dc2d99a953427a578d33",
            "filename": "third_party/xla/xla/stream_executor/rocm/rocm_executor.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_executor.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_executor.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_executor.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -61,6 +61,7 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/read_numa_node.h\"\n #include \"xla/stream_executor/gpu/scoped_activate_context.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/kernel_spec.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/memory_allocation.h\""
        },
        {
            "sha": "8227f08c146182b60317c14cd12712228a113e2f",
            "filename": "third_party/xla/xla/stream_executor/rocm/rocm_kernel.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -27,6 +27,7 @@ limitations under the License.\n #include \"absl/strings/str_cat.h\"\n #include \"xla/stream_executor/activate_context.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/rocm/rocm_driver_wrapper.h\"\n #include \"xla/stream_executor/rocm/rocm_status.h\""
        },
        {
            "sha": "ff532209094801031142e2fb9643530de94bf9ce",
            "filename": "third_party/xla/xla/stream_executor/rocm/rocm_kernel.h",
            "status": "modified",
            "additions": 4,
            "deletions": 3,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Frocm%2Frocm_kernel.h?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -28,6 +28,7 @@ limitations under the License.\n #include \"absl/status/statusor.h\"\n #include \"rocm/include/hip/hip_runtime.h\"\n #include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n #include \"xla/stream_executor/launch_dim.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/tsl/platform/logging.h\"\n@@ -60,9 +61,9 @@ class RocmKernel : public Kernel {\n   absl::StatusOr<KernelMetadata> GetKernelMetadata();\n \n  private:\n-  absl::Status Launch(const ThreadDim &thread_dims, const BlockDim &block_dims,\n-                      const std::optional<ClusterDim> &cluster_dims,\n-                      Stream *stream, const KernelArgs &args) override;\n+  absl::Status Launch(const ThreadDim& thread_dims, const BlockDim& block_dims,\n+                      const std::optional<ClusterDim>& cluster_dims,\n+                      Stream* stream, const KernelArgs& args) override;\n \n   StreamExecutor* executor_ = nullptr;\n "
        },
        {
            "sha": "b0b8aa21716350df8ed5d08a3cd8398948b096e3",
            "filename": "third_party/xla/xla/stream_executor/sycl/BUILD",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2FBUILD?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -153,8 +153,16 @@ sycl_library(\n         \"oneapi-only\",\n     ],\n     deps = [\n+        \"//xla/stream_executor:kernel\",\n+        \"//xla/stream_executor:kernel_metadata\",\n+        \"//xla/stream_executor:launch_dim\",\n+        \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/platform:logging\",\n+        \"//xla/tsl/platform:statusor\",\n+        \"@com_google_absl//absl/log\",\n+        \"@com_google_absl//absl/log:check\",\n+        \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n     ],\n )"
        },
        {
            "sha": "04bf0eaa4c82d0562dbaeac9ebc2752c2dafabb3",
            "filename": "third_party/xla/xla/stream_executor/sycl/sycl_kernel.cc",
            "status": "modified",
            "additions": 16,
            "deletions": 0,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.cc?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -12,6 +12,22 @@ limitations under the License.\n \n #include \"xla/stream_executor/sycl/sycl_kernel.h\"\n \n+#include <array>\n+#include <cstddef>\n+#include <cstdint>\n+#include <optional>\n+#include <vector>\n+\n+#include \"absl/log/check.h\"\n+#include \"absl/log/log.h\"\n+#include \"absl/status/status.h\"\n+#include \"absl/status/statusor.h\"\n+#include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n+#include \"xla/stream_executor/launch_dim.h\"\n+#include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n+\n namespace stream_executor::sycl {\n \n // TODO(intel-tf): Implement this feature in SYCL"
        },
        {
            "sha": "4dd3e030fd1e927cd6219156b64dd83cddea2f4e",
            "filename": "third_party/xla/xla/stream_executor/sycl/sycl_kernel.h",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/14e8fbe22600c5f7152ba61bd303c24ecd7cc930/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fsycl%2Fsycl_kernel.h?ref=14e8fbe22600c5f7152ba61bd303c24ecd7cc930",
            "patch": "@@ -13,9 +13,16 @@ limitations under the License.\n #ifndef XLA_STREAM_EXECUTOR_SYCL_SYCL_KERNEL_H_\n #define XLA_STREAM_EXECUTOR_SYCL_SYCL_KERNEL_H_\n \n-#include <sycl/sycl.hpp>\n+#include <cstddef>\n+#include <cstdint>\n+#include <optional>\n+#include <sycl/sycl.hpp>  // NOLINT\n \n #include \"absl/status/statusor.h\"\n+#include \"xla/stream_executor/kernel.h\"\n+#include \"xla/stream_executor/kernel_metadata.h\"\n+#include \"xla/stream_executor/launch_dim.h\"\n+#include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/tsl/platform/logging.h\"\n "
        }
    ],
    "stats": {
        "total": 231,
        "additions": 171,
        "deletions": 60
    }
}