{
    "author": "olegshyshkov",
    "message": "[XLA:GPU] Remove unused num_devices_ member from CollectiveOpsWithFlagsBase.\n\nPiperOrigin-RevId: 837257771",
    "sha": "6fcae8dba072dc5e69ab471afd4bfa362d6f6b3b",
    "files": [
        {
            "sha": "3ae5d33726d10eeaca5ef1cfa45830d1310947ab",
            "filename": "third_party/xla/xla/tests/collective_ops_e2e_test_base.h",
            "status": "modified",
            "additions": 1,
            "deletions": 5,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6fcae8dba072dc5e69ab471afd4bfa362d6f6b3b/third_party%2Fxla%2Fxla%2Ftests%2Fcollective_ops_e2e_test_base.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6fcae8dba072dc5e69ab471afd4bfa362d6f6b3b/third_party%2Fxla%2Fxla%2Ftests%2Fcollective_ops_e2e_test_base.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fcollective_ops_e2e_test_base.h?ref=6fcae8dba072dc5e69ab471afd4bfa362d6f6b3b",
            "patch": "@@ -106,10 +106,7 @@ class CollectiveOpsE2ETestBase : public HloHardwareIndependentTestBase {\n class CollectiveOpsWithFlagsBase : public CollectiveOpsE2ETestBase {\n  public:\n   CollectiveOpsWithFlagsBase(bool enable_async, bool enable_p2p_memcpy)\n-      : enable_async_(enable_async), enable_p2p_memcpy_(enable_p2p_memcpy) {\n-    VLOG(1) << \"Running with \" << num_devices_ << \" devices\";\n-    num_devices_ = hlo_runner_->backend().device_count();\n-  }\n+      : enable_async_(enable_async), enable_p2p_memcpy_(enable_p2p_memcpy) {}\n \n  protected:\n   DebugOptions GetDebugOptionsForTest() const override;\n@@ -119,7 +116,6 @@ class CollectiveOpsWithFlagsBase : public CollectiveOpsE2ETestBase {\n \n   const bool enable_async_;\n   const bool enable_p2p_memcpy_;\n-  int64_t num_devices_;\n };\n \n }  // namespace xla"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 1,
        "deletions": 5
    }
}