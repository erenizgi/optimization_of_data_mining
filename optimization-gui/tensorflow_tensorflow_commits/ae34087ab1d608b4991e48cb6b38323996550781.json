{
    "author": "Ma-gi-cian",
    "message": "Refactor argmax as per review",
    "sha": "ae34087ab1d608b4991e48cb6b38323996550781",
    "files": [
        {
            "sha": "520ff806b8083b746cbdeeec1edbbd573534cb07",
            "filename": "tensorflow/python/ops/math_ops.py",
            "status": "modified",
            "additions": 8,
            "deletions": 6,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ae34087ab1d608b4991e48cb6b38323996550781/tensorflow%2Fpython%2Fops%2Fmath_ops.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ae34087ab1d608b4991e48cb6b38323996550781/tensorflow%2Fpython%2Fops%2Fmath_ops.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fops%2Fmath_ops.py?ref=ae34087ab1d608b4991e48cb6b38323996550781",
            "patch": "@@ -302,14 +302,16 @@ def argmax_v2(input, axis=None, output_type=dtypes.int64, name=None):\n   if isinstance(axis , int):\n     pass\n   elif hasattr(axis, \"dtype\"):\n-    if axis.dtype in (dtypes.int32, dtypes.int64):\n-      pass\n-    elif axis.dtype in (dtypes.int8, dtypes.int16, dtypes.uint8, dtypes.uint16):\n-      axis = cast(axis, dtypes.int32)\n-    else:\n+    if axis.dtype not in (\n+      dtypes.int8, dtypes.uint8, dtypes.int16, dtypes.uint16, dtypes.int32, dtypes.int64\n+    ):\n       raise TypeError(\n         f\"axis tensor dtypes {axis.dtype} is not supported\"\n-        )\n+      )\n+    if axis.dtype in (\n+      dtypes.int8, dtypes.int16, dtypes.uint8, dtypes.uint16\n+      ):\n+      axis = cast(axis, dtypes.int32)\n   else:\n     raise TypeError(\n       f\"axis must be int or Tensor with integer datatype\""
        }
    ],
    "stats": {
        "total": 14,
        "additions": 8,
        "deletions": 6
    }
}