{
    "author": "ezhulenev",
    "message": "[xla] Migrate to PjRtFuture<>::MakePromise() API\n\nPiperOrigin-RevId: 805484122",
    "sha": "f7cf4f08ce28c9b87e5dd5f2b66df387fc56c2ea",
    "files": [
        {
            "sha": "5ac9a121b4997afab7a27f02b53a1425c30fc7cc",
            "filename": "third_party/xla/xla/python/ifrt_proxy/server/host_callback.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/f7cf4f08ce28c9b87e5dd5f2b66df387fc56c2ea/third_party%2Fxla%2Fxla%2Fpython%2Fifrt_proxy%2Fserver%2Fhost_callback.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/f7cf4f08ce28c9b87e5dd5f2b66df387fc56c2ea/third_party%2Fxla%2Fxla%2Fpython%2Fifrt_proxy%2Fserver%2Fhost_callback.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt_proxy%2Fserver%2Fhost_callback.cc?ref=f7cf4f08ce28c9b87e5dd5f2b66df387fc56c2ea",
            "patch": "@@ -19,6 +19,7 @@\n #include <memory>\n #include <optional>\n #include <string>\n+#include <tuple>\n #include <utility>\n #include <vector>\n \n@@ -163,8 +164,8 @@ absl::Status RemoteLoadedHostCallback::Execute(void** result_ptrs,\n   to_buffer(host_callback().operands, operand_ptrs, request.operands);\n   to_buffer(host_callback().results, result_ptrs, request.results);\n \n-  request.status = Future<>::CreatePromise();\n-  Future<> status(request.status);\n+  Future<> status;\n+  std::tie(request.status, status) = Future<>::MakePromise();\n \n   // Enqueue the execution request. `IfrtBackend` retrieves this by calling\n   // `PopExecutionRequest` and fulfills the `results` promise."
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}