{
    "author": "GleasonK",
    "message": "Fix StableHLO Patch file\n\nPiperOrigin-RevId: 831543354",
    "sha": "285775b9e68563906bcd5b3925f7864db3c71428",
    "files": [
        {
            "sha": "9cb6d6132964f7680459435211436f146a5ac777",
            "filename": "third_party/xla/third_party/stablehlo/temporary.patch",
            "status": "modified",
            "additions": 22,
            "deletions": 4,
            "changes": 26,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/285775b9e68563906bcd5b3925f7864db3c71428/third_party%2Fxla%2Fthird_party%2Fstablehlo%2Ftemporary.patch",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/285775b9e68563906bcd5b3925f7864db3c71428/third_party%2Fxla%2Fthird_party%2Fstablehlo%2Ftemporary.patch",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fstablehlo%2Ftemporary.patch?ref=285775b9e68563906bcd5b3925f7864db3c71428",
            "patch": "@@ -101,6 +101,17 @@ diff --ruN a/stablehlo/stablehlo/integrations/cpp/builder/StablehloBuilderTest.c\n  #include \"mlir/IR/BuiltinAttributes.h\"\n  #include \"mlir/IR/BuiltinOps.h\"\n  #include \"mlir/IR/DialectRegistry.h\"\n+diff --ruN a/stablehlo/stablehlo/integrations/python/mlir/dialects/InterpreterOps.td b/stablehlo/stablehlo/integrations/python/mlir/dialects/InterpreterOps.td\n+--- stablehlo/stablehlo/integrations/python/mlir/dialects/InterpreterOps.td\n++++ stablehlo/stablehlo/integrations/python/mlir/dialects/InterpreterOps.td\n+@@ -17,6 +17,6 @@\n+ #ifndef STABLEHLO_INTEGRATIONS_PYTHON_INTERPRETER_OPS\n+ #define STABLEHLO_INTEGRATIONS_PYTHON_INTERPRETER_OPS\n+ \n+-include \"third_party/stablehlo/stablehlo/reference/InterpreterOps.h\"\n++include \"stablehlo/reference/InterpreterOps.h\"\n+ \n+ #endif\n diff --ruN a/stablehlo/stablehlo/tests/BUILD.bazel b/stablehlo/stablehlo/tests/BUILD.bazel\n --- stablehlo/stablehlo/tests/BUILD.bazel\n +++ stablehlo/stablehlo/tests/BUILD.bazel\n@@ -124,13 +135,20 @@ diff --ruN a/stablehlo/stablehlo/tests/TestUtils.cpp b/stablehlo/stablehlo/tests\n  #include \"llvm/Support/Casting.h\"\n  #include \"mlir/Dialect/Func/IR/FuncOps.h\"\n  #include \"mlir/Dialect/Shape/IR/Shape.h\"\n-@@ -35,11 +36,35 @@\n+@@ -28,6 +29,7 @@\n+ #include \"mlir/IR/Operation.h\"\n+ #include \"mlir/IR/OperationSupport.h\"\n+ #include \"mlir/IR/PatternMatch.h\"\n++#include \"mlir/IR/TypeRange.h\"\n+ #include \"mlir/Interfaces/InferTypeOpInterface.h\"\n+ #include \"mlir/Interfaces/SideEffectInterfaces.h\"\n+ #include \"mlir/Pass/Pass.h\"\n+@@ -35,11 +37,34 @@\n  #include \"mlir/Support/LLVM.h\"\n  #include \"mlir/Support/LogicalResult.h\"\n  #include \"mlir/Transforms/GreedyPatternRewriteDriver.h\"\n +#include \"stablehlo/dialect/StablehloOps.h\"\n +#include \"stablehlo/transforms/StablehloBroadcastLowering.h\"\n-+#include \"third_party/llvm/llvm-project/mlir/include/mlir/IR/TypeRange.h\"\n  \n  namespace mlir {\n  namespace hlo {\n@@ -695,6 +713,8 @@ diff --ruN a/stablehlo/stablehlo/transforms/StablehloBroadcastLowering.cpp b/sta\n +#include <utility>\n +\n +#include \"llvm/ADT/STLExtras.h\"\n++#include \"llvm/ADT/Sequence.h\"\n++#include \"llvm/ADT/SmallVector.h\"\n +#include \"llvm/Support/Debug.h\"\n +#include \"llvm/Support/raw_ostream.h\"\n +#include \"mlir/IR/Builders.h\"\n@@ -706,8 +726,6 @@ diff --ruN a/stablehlo/stablehlo/transforms/StablehloBroadcastLowering.cpp b/sta\n +#include \"mlir/IR/Value.h\"\n +#include \"mlir/Support/LLVM.h\"\n +#include \"stablehlo/dialect/StablehloOps.h\"\n-+#include \"third_party/llvm/llvm-project/llvm/include/llvm/ADT/Sequence.h\"\n-+#include \"third_party/llvm/llvm-project/llvm/include/llvm/ADT/SmallVector.h\"\n +\n +#define DEBUG_TYPE \"stablehlo-broadcast-lowering\"\n +"
        }
    ],
    "stats": {
        "total": 26,
        "additions": 22,
        "deletions": 4
    }
}