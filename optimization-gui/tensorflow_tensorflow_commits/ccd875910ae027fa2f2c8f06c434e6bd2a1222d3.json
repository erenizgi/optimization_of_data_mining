{
    "author": "seantalts",
    "message": "[XLA:CPU] Use asm to set name of intrinsic generated IR functions.\n\nPiperOrigin-RevId: 819885948",
    "sha": "ccd875910ae027fa2f2c8f06c434e6bd2a1222d3",
    "files": [
        {
            "sha": "2306d1d80714250b3dacc1a7b399f2113e62f391",
            "filename": "third_party/xla/xla/codegen/intrinsic/cpp/eigen_unary.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ccd875910ae027fa2f2c8f06c434e6bd2a1222d3/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ccd875910ae027fa2f2c8f06c434e6bd2a1222d3/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary.h?ref=ccd875910ae027fa2f2c8f06c434e6bd2a1222d3",
            "patch": "@@ -19,7 +19,8 @@ limitations under the License.\n \n namespace xla::codegen {\n \n-Vec4f FastTanhf(Vec4f x);\n+Vec4f FastTanhf(Vec4f x) asm(\"xla.tanh.v4f32\");\n+Vec8d FastRqsqrtf(Vec8d x) asm(\"xla.rsqrt.v8f64\");\n \n }  // namespace xla::codegen\n "
        },
        {
            "sha": "0cc743c75520c27984552421818920ed937d5c9f",
            "filename": "third_party/xla/xla/codegen/intrinsic/cpp/eigen_unary_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ccd875910ae027fa2f2c8f06c434e6bd2a1222d3/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ccd875910ae027fa2f2c8f06c434e6bd2a1222d3/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2Fcpp%2Feigen_unary_test.cc?ref=ccd875910ae027fa2f2c8f06c434e6bd2a1222d3",
            "patch": "@@ -32,6 +32,7 @@ TEST(EigenUnaryTest, FastTanhfIsVectorized) {\n   EXPECT_THAT(avx2, ContainsRegex(\"llvm.x86\"));\n   EXPECT_THAT(avx2, Not(ContainsRegex(\"llvm.aarch64\")));\n   EXPECT_THAT(avx2, Not(ContainsRegex(\"llvm.fma.v4f32\")));\n+  EXPECT_THAT(avx2, ContainsRegex(\"xla.tanh.v4f32\"));\n \n   const std::string avx512 = llvm_ir::kEigenUnaryLlAvx512Ir;\n   EXPECT_THAT(avx512, ContainsRegex(\"fmul <4 x float>\"));"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}