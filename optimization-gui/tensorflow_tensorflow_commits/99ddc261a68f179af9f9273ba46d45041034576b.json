{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845180767",
    "sha": "99ddc261a68f179af9f9273ba46d45041034576b",
    "files": [
        {
            "sha": "007657b5986a1a75929ffeef5fa9fd89979541af",
            "filename": "third_party/xla/xla/service/spmd/custom_call_handler.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/99ddc261a68f179af9f9273ba46d45041034576b/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fcustom_call_handler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/99ddc261a68f179af9f9273ba46d45041034576b/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fcustom_call_handler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fcustom_call_handler.cc?ref=99ddc261a68f179af9f9273ba46d45041034576b",
            "patch": "@@ -482,7 +482,7 @@ absl::Status SpmdPartitioningVisitor::HandleCustomCall(HloInstruction* hlo) {\n   // Block-scaled dot with MX operands.\n   if (hlo->custom_call_target() == \"__op$block_scaled_dot\") {\n     // Evaluate the dimension numbers of the block-scaled dot.\n-    int dimensions_size = hlo->operand(0)->shape().dimensions_size();\n+    int dimensions_size = hlo->operand(0)->shape().dimensions().size();\n     TF_RET_CHECK(dimensions_size == 2 || dimensions_size == 3);\n     DotDimensionNumbers dimension_numbers;\n     dimension_numbers.add_lhs_contracting_dimensions(dimensions_size - 1);"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}