{
    "author": "IllogicalMoose",
    "message": "Qualify usage of cudnnGetLastErrorString to versions that support it.\n\nPiperOrigin-RevId: 834379808",
    "sha": "98a39e096618e58608a6c773a26c1e84dd66e738",
    "files": [
        {
            "sha": "7d89c2f8fad131dc189de9a1b195959aab6dec77",
            "filename": "third_party/xla/xla/stream_executor/cuda/cuda_dnn.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/98a39e096618e58608a6c773a26c1e84dd66e738/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_dnn.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/98a39e096618e58608a6c773a26c1e84dd66e738/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_dnn.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_dnn.cc?ref=98a39e096618e58608a6c773a26c1e84dd66e738",
            "patch": "@@ -5432,11 +5432,13 @@ absl::Status CreateOpRunners(\n                     .setEngineConfig(filtered_configs[i], op_graph->getTag())\n                     .build();\n     if (plan.get_status() != CUDNN_STATUS_SUCCESS) {\n+#if CUDNN_VERSION >= 90000\n       std::string message(65535, '\\0');\n       cudnnGetLastErrorString(message.data(), message.size());\n       VLOG(4) << \"Failed building ExecutionPlan: found error: \"\n               << cudnnGetErrorString(plan.get_status())\n               << \" with message: \" << message;\n+#endif\n       continue;\n     }\n "
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}