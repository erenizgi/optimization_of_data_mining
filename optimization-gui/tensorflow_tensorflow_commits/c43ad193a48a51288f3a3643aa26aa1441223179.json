{
    "author": "allanrenucci",
    "message": "Deprecate `tsl::strings::AlphaNum` in favor of `absl::AlphaNum`.\n\nThis change affects the precision of the float/double to string conversion. Legacy behavior can be retained using `strings::LegacyPrecision`. E.g. `absl::StrCat(strings::LegacyPrecision(float))`.\n\nPiperOrigin-RevId: 803142759",
    "sha": "c43ad193a48a51288f3a3643aa26aa1441223179",
    "files": [
        {
            "sha": "e4661903a32e39e4f202776c98f12250b650e1fb",
            "filename": "tensorflow/python/_pywrap_tensorflow.def",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c43ad193a48a51288f3a3643aa26aa1441223179/tensorflow%2Fpython%2F_pywrap_tensorflow.def",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c43ad193a48a51288f3a3643aa26aa1441223179/tensorflow%2Fpython%2F_pywrap_tensorflow.def",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2F_pywrap_tensorflow.def?ref=c43ad193a48a51288f3a3643aa26aa1441223179",
            "patch": "@@ -657,10 +657,10 @@ EXPORTS\n   ?StrCat@lts_20250512@absl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@000@Z\n   ?StrCat@lts_20250512@absl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@00@Z\n   ?StrCat@lts_20250512@absl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@0@Z\n-  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@000@Z\n-  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@00@Z\n-  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@0@Z\n-  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@12@@Z\n+  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@lts_20250512@absl@@000@Z\n+  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@lts_20250512@absl@@00@Z\n+  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@lts_20250512@absl@@0@Z\n+  ?StrCat@strings@tsl@@YA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@AEBVAlphaNum@lts_20250512@absl@@@Z\n   ?StripDefaultAttributes@tensorflow@@YAXAEBVOpRegistryInterface@1@PEAV?$RepeatedPtrField@VNodeDef@tensorflow@@@protobuf@google@@@Z\n   ?Sub@ops@tensorflow@@YA?AVStatus@lts_20250512@absl@@PEAVAbstractContext@2@QEAVAbstractTensorHandle@2@1PEAPEAV72@PEBD3@Z\n   ?SubRegisterer@gradients@tensorflow@@YAPEAVGradientFunction@12@AEBUForwardOperation@12@@Z"
        },
        {
            "sha": "24f533bed5a173877374b9ab6f2b40a9b4486598",
            "filename": "third_party/xla/third_party/tsl/tsl/platform/strcat.cc",
            "status": "modified",
            "additions": 58,
            "deletions": 63,
            "changes": 121,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.cc?ref=c43ad193a48a51288f3a3643aa26aa1441223179",
            "patch": "@@ -21,30 +21,17 @@ limitations under the License.\n #include <string.h>\n \n #include <algorithm>\n+#include <initializer_list>\n+#include <string>\n \n #include \"absl/meta/type_traits.h\"\n+#include \"absl/strings/str_cat.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"xla/tsl/platform/logging.h\"\n \n namespace tsl {\n namespace strings {\n \n-AlphaNum::AlphaNum(absl::Hex hex) {\n-  char *const end = &digits_[kFastToBufferSize];\n-  char *writer = end;\n-  uint64 value = hex.value;\n-  uint64 width = hex.width;\n-  // We accomplish minimum width by OR'ing in 0x10000 to the user's value,\n-  // where 0x10000 is the smallest hex number that is as wide as the user\n-  // asked for.\n-  uint64 mask = (static_cast<uint64>(1) << (width - 1) * 4) | value;\n-  static const char hexdigits[] = \"0123456789abcdef\";\n-  do {\n-    *--writer = hexdigits[value & 0xF];\n-    value >>= 4;\n-    mask >>= 4;\n-  } while (mask != 0);\n-  piece_ = absl::string_view(writer, end - writer);\n-}\n \n // ----------------------------------------------------------------------\n // StrCat()\n@@ -56,14 +43,15 @@ AlphaNum::AlphaNum(absl::Hex hex) {\n // Append is merely a version of memcpy that returns the address of the byte\n // after the area just overwritten.  It comes in multiple flavors to minimize\n // call overhead.\n-static char *Append1(char *out, const AlphaNum &x) {\n+static char* Append1(char* out, const absl::AlphaNum& x) {\n   if (x.data() == nullptr) return out;\n \n   memcpy(out, x.data(), x.size());\n   return out + x.size();\n }\n \n-static char *Append2(char *out, const AlphaNum &x1, const AlphaNum &x2) {\n+static char* Append2(char* out, const absl::AlphaNum& x1,\n+                     const absl::AlphaNum& x2) {\n   if (x1.data() != nullptr) {\n     memcpy(out, x1.data(), x1.size());\n     out += x1.size();\n@@ -75,8 +63,9 @@ static char *Append2(char *out, const AlphaNum &x1, const AlphaNum &x2) {\n   return out + x2.size();\n }\n \n-static char *Append4(char *out, const AlphaNum &x1, const AlphaNum &x2,\n-                     const AlphaNum &x3, const AlphaNum &x4) {\n+static char* Append4(char* out, const absl::AlphaNum& x1,\n+                     const absl::AlphaNum& x2, const absl::AlphaNum& x3,\n+                     const absl::AlphaNum& x4) {\n   if (x1.data() != nullptr) {\n     memcpy(out, x1.data(), x1.size());\n     out += x1.size();\n@@ -98,28 +87,31 @@ static char *Append4(char *out, const AlphaNum &x1, const AlphaNum &x2,\n   return out + x4.size();\n }\n \n-string StrCat(const AlphaNum &a) { return string(a.data(), a.size()); }\n+std::string StrCat(const absl::AlphaNum& a) {\n+  return std::string(a.data(), a.size());\n+}\n \n-string StrCat(const AlphaNum &a, const AlphaNum &b) {\n-  string result(a.size() + b.size(), '\\0');\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b) {\n+  std::string result(a.size() + b.size(), '\\0');\n   char *const begin = &*result.begin();\n   char *out = Append2(begin, a, b);\n   DCHECK_EQ(out, begin + result.size());\n   return result;\n }\n \n-string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c) {\n-  string result(a.size() + b.size() + c.size(), '\\0');\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+                   const absl::AlphaNum& c) {\n+  std::string result(a.size() + b.size() + c.size(), '\\0');\n   char *const begin = &*result.begin();\n   char *out = Append2(begin, a, b);\n   out = Append1(out, c);\n   DCHECK_EQ(out, begin + result.size());\n   return result;\n }\n \n-string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c,\n-              const AlphaNum &d) {\n-  string result(a.size() + b.size() + c.size() + d.size(), '\\0');\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+                   const absl::AlphaNum& c, const absl::AlphaNum& d) {\n+  std::string result(a.size() + b.size() + c.size() + d.size(), '\\0');\n   char *const begin = &*result.begin();\n   char *out = Append4(begin, a, b, c, d);\n   DCHECK_EQ(out, begin + result.size());\n@@ -148,8 +140,9 @@ struct ResizeUninitializedTraits<\n   }\n };\n \n-static inline void STLStringResizeUninitialized(string *s, size_t new_size) {\n-  ResizeUninitializedTraits<string>::Resize(s, new_size);\n+static inline void STLStringResizeUninitialized(std::string* s,\n+                                                size_t new_size) {\n+  ResizeUninitializedTraits<std::string>::Resize(s, new_size);\n }\n \n // Used to ensure exponential growth so that the amortized complexity of\n@@ -180,10 +173,10 @@ void STLStringResizeUninitializedAmortized(string_type *s, size_t new_size) {\n namespace internal {\n \n // Do not call directly - these are not part of the public API.\n-string CatPieces(std::initializer_list<absl::string_view> pieces) {\n+std::string CatPieces(std::initializer_list<absl::string_view> pieces) {\n   size_t total_size = 0;\n   for (const absl::string_view piece : pieces) total_size += piece.size();\n-  string result(total_size, '\\0');\n+  std::string result(total_size, '\\0');\n \n   char *const begin = &*result.begin();\n   char *out = begin;\n@@ -203,7 +196,7 @@ string CatPieces(std::initializer_list<absl::string_view> pieces) {\n #define DCHECK_NO_OVERLAP(dest, src) \\\n   DCHECK_GE(uintptr_t((src).data() - (dest).data()), uintptr_t((dest).size()))\n \n-void AppendPieces(string *result,\n+void AppendPieces(std::string* result,\n                   std::initializer_list<absl::string_view> pieces) {\n   size_t old_size = result->size();\n   size_t total_size = old_size;\n@@ -225,47 +218,49 @@ void AppendPieces(string *result,\n \n }  // namespace internal\n \n-void StrAppend(string *result, const AlphaNum &a) {\n-  DCHECK_NO_OVERLAP(*result, a);\n-  result->append(a.data(), a.size());\n+void StrAppend(std::string* dest, const absl::AlphaNum& a) {\n+  DCHECK_NO_OVERLAP(*dest, a);\n+  dest->append(a.data(), a.size());\n }\n \n-void StrAppend(string *result, const AlphaNum &a, const AlphaNum &b) {\n-  DCHECK_NO_OVERLAP(*result, a);\n-  DCHECK_NO_OVERLAP(*result, b);\n-  string::size_type old_size = result->size();\n-  STLStringResizeUninitializedAmortized(result, old_size + a.size() + b.size());\n-  char *const begin = &*result->begin();\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b) {\n+  DCHECK_NO_OVERLAP(*dest, a);\n+  DCHECK_NO_OVERLAP(*dest, b);\n+  std::string::size_type old_size = dest->size();\n+  STLStringResizeUninitializedAmortized(dest, old_size + a.size() + b.size());\n+  char* const begin = &*dest->begin();\n   char *out = Append2(begin + old_size, a, b);\n-  DCHECK_EQ(out, begin + result->size());\n+  DCHECK_EQ(out, begin + dest->size());\n }\n \n-void StrAppend(string *result, const AlphaNum &a, const AlphaNum &b,\n-               const AlphaNum &c) {\n-  DCHECK_NO_OVERLAP(*result, a);\n-  DCHECK_NO_OVERLAP(*result, b);\n-  DCHECK_NO_OVERLAP(*result, c);\n-  string::size_type old_size = result->size();\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b, const absl::AlphaNum& c) {\n+  DCHECK_NO_OVERLAP(*dest, a);\n+  DCHECK_NO_OVERLAP(*dest, b);\n+  DCHECK_NO_OVERLAP(*dest, c);\n+  std::string::size_type old_size = dest->size();\n   STLStringResizeUninitializedAmortized(\n-      result, old_size + a.size() + b.size() + c.size());\n-  char *const begin = &*result->begin();\n+      dest, old_size + a.size() + b.size() + c.size());\n+  char* const begin = &*dest->begin();\n   char *out = Append2(begin + old_size, a, b);\n   out = Append1(out, c);\n-  DCHECK_EQ(out, begin + result->size());\n+  DCHECK_EQ(out, begin + dest->size());\n }\n \n-void StrAppend(string *result, const AlphaNum &a, const AlphaNum &b,\n-               const AlphaNum &c, const AlphaNum &d) {\n-  DCHECK_NO_OVERLAP(*result, a);\n-  DCHECK_NO_OVERLAP(*result, b);\n-  DCHECK_NO_OVERLAP(*result, c);\n-  DCHECK_NO_OVERLAP(*result, d);\n-  string::size_type old_size = result->size();\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b, const absl::AlphaNum& c,\n+               const absl::AlphaNum& d) {\n+  DCHECK_NO_OVERLAP(*dest, a);\n+  DCHECK_NO_OVERLAP(*dest, b);\n+  DCHECK_NO_OVERLAP(*dest, c);\n+  DCHECK_NO_OVERLAP(*dest, d);\n+  std::string::size_type old_size = dest->size();\n   STLStringResizeUninitializedAmortized(\n-      result, old_size + a.size() + b.size() + c.size() + d.size());\n-  char *const begin = &*result->begin();\n+      dest, old_size + a.size() + b.size() + c.size() + d.size());\n+  char* const begin = &*dest->begin();\n   char *out = Append4(begin + old_size, a, b, c, d);\n-  DCHECK_EQ(out, begin + result->size());\n+  DCHECK_EQ(out, begin + dest->size());\n }\n \n }  // namespace strings"
        },
        {
            "sha": "4c7f9a7a6f7576b2d6a2d8d39ae79b8d1db9fc0e",
            "filename": "third_party/xla/third_party/tsl/tsl/platform/strcat.h",
            "status": "modified",
            "additions": 34,
            "deletions": 79,
            "changes": 113,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat.h?ref=c43ad193a48a51288f3a3643aa26aa1441223179",
            "patch": "@@ -20,6 +20,7 @@ limitations under the License.\n #ifndef TENSORFLOW_TSL_PLATFORM_STRCAT_H_\n #define TENSORFLOW_TSL_PLATFORM_STRCAT_H_\n \n+#include <initializer_list>\n #include <string>\n \n #include \"absl/base/attributes.h\"\n@@ -32,7 +33,7 @@ limitations under the License.\n \n // The AlphaNum type was designed to be used as the parameter type for StrCat().\n // Any routine accepting either a string or a number may accept it.\n-// The basic idea is that by accepting a \"const AlphaNum &\" as an argument\n+// The basic idea is that by accepting a \"const absl::AlphaNum& \" as an argument\n // to your function, your callers will automatically convert bools, integers,\n // and floating point values to strings for you.\n //\n@@ -79,60 +80,7 @@ using absl::kZeroPad7;\n using absl::kZeroPad8;\n using absl::kZeroPad9;\n using Hex ABSL_DEPRECATE_AND_INLINE() = absl::Hex;\n-\n-class AlphaNum {\n-  // NOLINTBEGIN(google-explicit-constructor)\n- public:\n-  // No bool ctor -- bools convert to an integral type.\n-  // A bool ctor would also convert incoming pointers (bletch).\n-  AlphaNum(int i32)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastInt32ToBufferLeft(i32, digits_)) {}\n-  AlphaNum(unsigned int u32)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastUInt32ToBufferLeft(u32, digits_)) {}\n-  AlphaNum(long x)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastInt64ToBufferLeft(x, digits_)) {}\n-  AlphaNum(unsigned long x)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastUInt64ToBufferLeft(x, digits_)) {}\n-  AlphaNum(long long int i64)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastInt64ToBufferLeft(i64, digits_)) {}\n-  AlphaNum(unsigned long long int u64)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FastUInt64ToBufferLeft(u64, digits_)) {}\n-\n-  AlphaNum(float f)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FloatToBuffer(f, digits_)) {}\n-  AlphaNum(double f)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, DoubleToBuffer(f, digits_)) {}\n-  AlphaNum(bfloat16 bf)  // NOLINT(runtime/explicit)\n-      : piece_(digits_, FloatToBuffer(static_cast<float>(bf), digits_)) {}\n-\n-  AlphaNum(absl::Hex hex);  // NOLINT(runtime/explicit)\n-\n-  AlphaNum(const char *c_str) : piece_(c_str) {}  // NOLINT(runtime/explicit)\n-  AlphaNum(const absl::string_view &pc)\n-      : piece_(pc) {}               // NOLINT(runtime/explicit)\n-  AlphaNum(const std::string &str)  // NOLINT(runtime/explicit)\n-      : piece_(str) {}\n-  AlphaNum(const tstring &str)  // NOLINT(runtime/explicit)\n-      : piece_(str) {}\n-  template <typename A>\n-  AlphaNum(const std::basic_string<char, std::char_traits<char>, A> &str)\n-      : piece_(str) {}  // NOLINT(runtime/explicit)\n-\n-  absl::string_view::size_type size() const { return piece_.size(); }\n-  const char *data() const { return piece_.data(); }\n-  absl::string_view Piece() const { return piece_; }\n-\n- private:\n-  absl::string_view piece_;\n-  char digits_[kFastToBufferSize];\n-\n-  // Use \":\" not ':'\n-  AlphaNum(char c);  // NOLINT(runtime/explicit)\n-\n-  // NOLINTEND(google-explicit-constructor)\n-  AlphaNum(const AlphaNum &) = delete;\n-  void operator=(const AlphaNum &) = delete;\n-};\n+using AlphaNum ABSL_DEPRECATE_AND_INLINE() = absl::AlphaNum;\n \n // ----------------------------------------------------------------------\n // StrCat()\n@@ -159,15 +107,17 @@ class AlphaNum {\n \n // For performance reasons, we have specializations for <= 4 args.\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a) TF_MUST_USE_RESULT;\n+std::string StrCat(const absl::AlphaNum& a) TF_MUST_USE_RESULT;\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a, const AlphaNum &b) TF_MUST_USE_RESULT;\n+std::string StrCat(const absl::AlphaNum& a,\n+                   const absl::AlphaNum& b) TF_MUST_USE_RESULT;\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a, const AlphaNum &b,\n-                   const AlphaNum &c) TF_MUST_USE_RESULT;\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+                   const absl::AlphaNum& c) TF_MUST_USE_RESULT;\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c,\n-                   const AlphaNum &d) TF_MUST_USE_RESULT;\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+                   const absl::AlphaNum& c,\n+                   const absl::AlphaNum& d) TF_MUST_USE_RESULT;\n \n namespace internal {\n \n@@ -181,17 +131,19 @@ void AppendPieces(std::string *dest,\n // Support 5 or more arguments\n template <typename... AV>\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c,\n-                   const AlphaNum &d, const AlphaNum &e,\n-                   const AV &...args) TF_MUST_USE_RESULT;\n+std::string\n+    StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+           const absl::AlphaNum& c, const absl::AlphaNum& d,\n+           const absl::AlphaNum& e, const AV&... args) TF_MUST_USE_RESULT;\n \n template <typename... AV>\n ABSL_DEPRECATED(\"Use absl::StrCat() instead.\")\n-std::string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c,\n-                   const AlphaNum &d, const AlphaNum &e, const AV &...args) {\n-  return internal::CatPieces({a.Piece(), b.Piece(), c.Piece(), d.Piece(),\n-                              e.Piece(),\n-                              static_cast<const AlphaNum &>(args).Piece()...});\n+std::string StrCat(const absl::AlphaNum& a, const absl::AlphaNum& b,\n+                   const absl::AlphaNum& c, const absl::AlphaNum& d,\n+                   const absl::AlphaNum& e, const AV&... args) {\n+  return internal::CatPieces(\n+      {a.Piece(), b.Piece(), c.Piece(), d.Piece(), e.Piece(),\n+       static_cast<const absl::AlphaNum&>(args).Piece()...});\n }\n \n // ----------------------------------------------------------------------\n@@ -216,25 +168,28 @@ std::string StrCat(const AlphaNum &a, const AlphaNum &b, const AlphaNum &c,\n // ----------------------------------------------------------------------\n \n ABSL_DEPRECATED(\"Use absl::StrAppend() instead.\")\n-void StrAppend(std::string *dest, const AlphaNum &a);\n+void StrAppend(std::string* dest, const absl::AlphaNum& a);\n ABSL_DEPRECATED(\"Use absl::StrAppend() instead.\")\n-void StrAppend(std::string *dest, const AlphaNum &a, const AlphaNum &b);\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b);\n ABSL_DEPRECATED(\"Use absl::StrAppend() instead.\")\n-void StrAppend(std::string *dest, const AlphaNum &a, const AlphaNum &b,\n-               const AlphaNum &c);\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b, const absl::AlphaNum& c);\n ABSL_DEPRECATED(\"Use absl::StrAppend() instead.\")\n-void StrAppend(std::string *dest, const AlphaNum &a, const AlphaNum &b,\n-               const AlphaNum &c, const AlphaNum &d);\n+void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+               const absl::AlphaNum& b, const absl::AlphaNum& c,\n+               const absl::AlphaNum& d);\n \n // Support 5 or more arguments\n template <typename... AV>\n ABSL_DEPRECATED(\"Use absl::StrAppend() instead.\")\n-inline void StrAppend(std::string *dest, const AlphaNum &a, const AlphaNum &b,\n-                      const AlphaNum &c, const AlphaNum &d, const AlphaNum &e,\n-                      const AV &...args) {\n+inline void StrAppend(std::string* dest, const absl::AlphaNum& a,\n+                      const absl::AlphaNum& b, const absl::AlphaNum& c,\n+                      const absl::AlphaNum& d, const absl::AlphaNum& e,\n+                      const AV&... args) {\n   internal::AppendPieces(dest,\n                          {a.Piece(), b.Piece(), c.Piece(), d.Piece(), e.Piece(),\n-                          static_cast<const AlphaNum &>(args).Piece()...});\n+                          static_cast<const absl::AlphaNum&>(args).Piece()...});\n }\n \n }  // namespace strings"
        },
        {
            "sha": "63930612a2aa622bcbfa4d9180a67bfd33e683b4",
            "filename": "third_party/xla/third_party/tsl/tsl/platform/strcat_test.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 7,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c43ad193a48a51288f3a3643aa26aa1441223179/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Ftsl%2Ftsl%2Fplatform%2Fstrcat_test.cc?ref=c43ad193a48a51288f3a3643aa26aa1441223179",
            "patch": "@@ -70,15 +70,12 @@ TEST(StrCat, Floats) {\n   const int s = 0;\n   const float f = 1.5f;\n   const double d = 1.5;\n-  const bfloat16 bf(1.5f);\n \n   string answer;\n   answer = StrCat(s, f);\n   EXPECT_EQ(answer, \"01.5\");\n   answer = StrCat(s, d);\n   EXPECT_EQ(answer, \"01.5\");\n-  answer = StrCat(s, bf);\n-  EXPECT_EQ(answer, \"01.5\");\n }\n \n TEST(StrCat, Nulls) {\n@@ -175,12 +172,12 @@ TEST(StrCat, Basics) {\n \n   float f = 100000.5;\n   result = StrCat(\"A hundred K and a half is \", f);\n-  EXPECT_EQ(result, \"A hundred K and a half is 100000.5\");\n+  EXPECT_EQ(result, \"A hundred K and a half is 100000\");\n \n   double d = f;\n   d *= d;\n   result = StrCat(\"A hundred K and a half squared is \", d);\n-  EXPECT_EQ(result, \"A hundred K and a half squared is 10000100000.25\");\n+  EXPECT_EQ(result, \"A hundred K and a half squared is 1.00001e+10\");\n \n   result = StrCat(1, 2, 333, 4444, 55555, 666666, 7777777, 88888888, 999999999);\n   EXPECT_EQ(result, \"12333444455555666666777777788888888999999999\");\n@@ -306,14 +303,14 @@ TEST(StrAppend, Basics) {\n   float f = 100000.5;\n   old_size = result.size();\n   StrAppend(&result, \"A hundred K and a half is \", f);\n-  EXPECT_EQ(result.substr(old_size), \"A hundred K and a half is 100000.5\");\n+  EXPECT_EQ(result.substr(old_size), \"A hundred K and a half is 100000\");\n \n   double d = f;\n   d *= d;\n   old_size = result.size();\n   StrAppend(&result, \"A hundred K and a half squared is \", d);\n   EXPECT_EQ(result.substr(old_size),\n-            \"A hundred K and a half squared is 10000100000.25\");\n+            \"A hundred K and a half squared is 1.00001e+10\");\n \n   // Test 9 arguments, the old maximum\n   old_size = result.size();"
        }
    ],
    "stats": {
        "total": 253,
        "additions": 100,
        "deletions": 153
    }
}