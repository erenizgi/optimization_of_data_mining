{
    "author": "tensorflower-gardener",
    "message": "[Autotuner]Adjust algorithm for cuBLASLt fallback.\n\nPiperOrigin-RevId: 840188968",
    "sha": "fbe4e624b07263172d23c328bd378169cc7c0f26",
    "files": [
        {
            "sha": "282b0aaec3dee3470c8a404740bbb4978356beb5",
            "filename": "third_party/xla/xla/backends/gpu/autotuner/cublas.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fbe4e624b07263172d23c328bd378169cc7c0f26/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fcublas.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fbe4e624b07263172d23c328bd378169cc7c0f26/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fcublas.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fautotuner%2Fcublas.cc?ref=fbe4e624b07263172d23c328bd378169cc7c0f26",
            "patch": "@@ -151,6 +151,9 @@ absl::Status CublasBackend::ApplyConfig(HloInstruction& instr,\n     return absl::InvalidArgumentError(\n         \"Failed to unpack CublasBackendConfig from Any.\");\n   }\n+  if (ShouldUseCublasLt(instr) && gemm_key.algorithm() == -1) {\n+    gemm_key.set_algorithm(0);\n+  }\n   TF_ASSIGN_OR_RETURN(GpuBackendConfig gpu_config,\n                       instr.backend_config<GpuBackendConfig>());\n   GemmBackendConfig& backend_config = *gpu_config.mutable_gemm_backend_config();"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}