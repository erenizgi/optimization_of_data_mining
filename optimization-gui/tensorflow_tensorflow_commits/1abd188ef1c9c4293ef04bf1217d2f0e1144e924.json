{
    "author": "infiWang",
    "message": "PR #32812: [XLA:CPU] Add support for riscv64\n\nImported from GitHub PR https://github.com/openxla/xla/pull/32812\n\nCo-author: @kxxt\n\nüìù Summary of Changes:\n\nThis pull request adds support for RISC-V 64 architecture across the build system, code generation, and Python packaging infrastructure.\n\nüéØ Justification:\n\nThe changes ensure that riscv64 is recognized as a valid target in Bazel build configurations, LLVM toolchain selection, Python manylinux compliance checks, and related tests and patches. This allows the project to build and test components for riscv64 alongside other supported architectures.\n\nüöÄ Kind of Contribution: ‚ú® New Feature\n\nCopybara import of the project:\n\n--\n0d02393a6335fb43d67678d0cd15d671e77dc089 by gns <root@infi.wang>:\n\n[XLA:CPU] Add support for riscv64\n\nCo-authored-by: Levi Zim <rsworktech@outlook.com>\n\n--\n5d95fb479e45524299ff4193b99bb4db0d74483b by gns <root@infi.wang>:\n\nRefresh `rules_python` riscv64 patch\n\nCo-authored-by: Levi Zim <rsworktech@outlook.com>\n\nMerging this change closes #32812\n\nPiperOrigin-RevId: 828379922",
    "sha": "1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
    "files": [
        {
            "sha": "85f103f360e29c97b765cbce32ff18d9057f8196",
            "filename": "tensorflow/core/platform/build_config_root.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/tensorflow%2Fcore%2Fplatform%2Fbuild_config_root.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/tensorflow%2Fcore%2Fplatform%2Fbuild_config_root.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fplatform%2Fbuild_config_root.bzl?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -7,6 +7,7 @@ load(\n     _if_llvm_arm_available = \"if_llvm_arm_available\",\n     _if_llvm_hexagon_available = \"if_llvm_hexagon_available\",\n     _if_llvm_powerpc_available = \"if_llvm_powerpc_available\",\n+    _if_llvm_riscv_available = \"if_llvm_riscv_available\",\n     _if_llvm_system_z_available = \"if_llvm_system_z_available\",\n     _if_llvm_x86_available = \"if_llvm_x86_available\",\n     _if_pywrap = \"if_pywrap\",\n@@ -32,6 +33,7 @@ if_llvm_aarch64_available = _if_llvm_aarch64_available\n if_llvm_arm_available = _if_llvm_arm_available\n if_llvm_hexagon_available = _if_llvm_hexagon_available\n if_llvm_powerpc_available = _if_llvm_powerpc_available\n+if_llvm_riscv_available = _if_llvm_riscv_available\n if_llvm_system_z_available = _if_llvm_system_z_available\n if_llvm_x86_available = _if_llvm_x86_available\n if_dynamic_kernels = _if_dynamic_kernels"
        },
        {
            "sha": "1828fdba5f9d811f10df2a4962fa45cb89b2b65c",
            "filename": "third_party/xla/third_party/hwloc/hwloc.BUILD",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fthird_party%2Fhwloc%2Fhwloc.BUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fthird_party%2Fhwloc%2Fhwloc.BUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fhwloc%2Fhwloc.BUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -272,6 +272,10 @@ cc_library(\n             \"hwloc/topology-linux.c\",\n             \"include/hwloc/linux.h\",\n         ],\n+        \"@local_xla//xla/tsl:linux_riscv64\": [\n+            \"hwloc/topology-linux.c\",\n+            \"include/hwloc/linux.h\",\n+        ],\n         \"@local_xla//xla/tsl:linux_s390x\": [\n             \"hwloc/topology-linux.c\",\n             \"include/hwloc/linux.h\","
        },
        {
            "sha": "bf38ad269caec38dbdac7e35d7539d0c7f4edc18",
            "filename": "third_party/xla/third_party/mkl_dnn/mkldnn_v1.BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fthird_party%2Fmkl_dnn%2Fmkldnn_v1.BUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fthird_party%2Fmkl_dnn%2Fmkldnn_v1.BUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fmkl_dnn%2Fmkldnn_v1.BUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -220,6 +220,7 @@ cc_library(\n         \"@local_xla//xla/tsl:linux_aarch64\": [\"-lrt\"],\n         \"@local_xla//xla/tsl:linux_x86_64\": [\"-lrt\"],\n         \"@local_xla//xla/tsl:linux_ppc64le\": [\"-lrt\"],\n+        \"@local_xla//xla/tsl:linux_riscv64\": [\"-lrt\"],\n         \"//conditions:default\": [],\n     }),\n     textual_hdrs = _TEXTUAL_HDRS_LIST,"
        },
        {
            "sha": "5ba8e123e962e88bf8397e6300bee287868177f0",
            "filename": "third_party/xla/xla/backends/cpu/codegen/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -5,6 +5,7 @@ load(\n     \"//xla/tsl/platform:build_config_root.bzl\",\n     \"if_llvm_aarch64_available\",\n     \"if_llvm_powerpc_available\",\n+    \"if_llvm_riscv_available\",\n     \"if_llvm_system_z_available\",\n     \"if_llvm_x86_available\",\n )\n@@ -164,6 +165,8 @@ xla_cc_test(\n         \"@llvm-project//llvm:AArch64CodeGen\",  # fixdeps: keep\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_x86_available([\n@@ -286,6 +289,8 @@ cc_library(\n         \"@llvm-project//llvm:AArch64CodeGen\",  # fixdeps: keep\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_x86_available(["
        },
        {
            "sha": "d0b0432f26fa99b09079694c1de496c2f8a3b650",
            "filename": "third_party/xla/xla/backends/cpu/codegen/tools/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Ftools%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -4,6 +4,7 @@ load(\n     \"//xla/tsl/platform:build_config_root.bzl\",\n     \"if_llvm_aarch64_available\",\n     \"if_llvm_powerpc_available\",\n+    \"if_llvm_riscv_available\",\n     \"if_llvm_system_z_available\",\n     \"if_llvm_x86_available\",\n )\n@@ -38,6 +39,8 @@ cc_library(\n         \"@llvm-project//llvm:AArch64CodeGen\",  # fixdeps: keep\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_x86_available(["
        },
        {
            "sha": "9030ec0cfd25e4d36c0784c563e4d583fa9978c4",
            "filename": "third_party/xla/xla/codegen/intrinsic/BUILD",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Fintrinsic%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -3,6 +3,7 @@ load(\n     \"//xla/tsl/platform:build_config_root.bzl\",\n     \"if_llvm_aarch64_available\",\n     \"if_llvm_powerpc_available\",\n+    \"if_llvm_riscv_available\",\n     \"if_llvm_system_z_available\",\n     \"if_llvm_x86_available\",\n )\n@@ -149,6 +150,9 @@ cc_library(\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCAsmParser\",  # fixdeps: keep\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVAsmParser\",  # fixdeps: keep\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZAsmParser\",  # fixdeps: keep\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep"
        },
        {
            "sha": "34617aeb221b37fefb8daef9433a698db9f1bbf9",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -19,6 +19,7 @@ load(\n     \"//xla/tsl/platform:build_config_root.bzl\",\n     \"if_llvm_aarch64_available\",\n     \"if_llvm_powerpc_available\",\n+    \"if_llvm_riscv_available\",\n     \"if_llvm_system_z_available\",\n     \"if_llvm_x86_available\",\n )\n@@ -392,6 +393,8 @@ cc_library(\n         \"@llvm-project//llvm:AArch64CodeGen\",  # fixdeps: keep\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_x86_available([\n@@ -2120,6 +2123,8 @@ cc_library(\n         \"@llvm-project//llvm:AArch64CodeGen\",  # fixdeps: keep\n     ]) + if_llvm_powerpc_available([\n         \"@llvm-project//llvm:PowerPCCodeGen\",  # fixdeps: keep\n+    ]) + if_llvm_riscv_available([\n+        \"@llvm-project//llvm:RISCVCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_system_z_available([\n         \"@llvm-project//llvm:SystemZCodeGen\",  # fixdeps: keep\n     ]) + if_llvm_x86_available(["
        },
        {
            "sha": "2da6b059b32b2ccc08ec664ec38bdea9e063bae8",
            "filename": "third_party/xla/xla/service/cpu/test_target_triple_helper.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftest_target_triple_helper.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftest_target_triple_helper.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Ftest_target_triple_helper.h?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -23,6 +23,9 @@ static const char kTargetTripleForHost[] = \"aarch64-unknown-linux-gnu\";\n        defined(__ppc__) && (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__))\n static const char kTargetCpuForHost[] = \"ppc\";\n static const char kTargetTripleForHost[] = \"ppc64le-ibm-linux-gnu\";\n+#elif defined(__riscv) && (__riscv_xlen == 64)\n+static const char kTargetCpuForHost[] = \"\";\n+static const char kTargetTripleForHost[] = \"riscv64-unknown-linux-gnu\";\n #elif defined(__s390x__)\n static const char kTargetCpuForHost[] = \"s390x\";\n static const char kTargetTripleForHost[] = \"systemz-none-linux-gnu\";"
        },
        {
            "sha": "b5591610baa5a8763b67978eb48cc0ba063d5316",
            "filename": "third_party/xla/xla/tsl/BUILD",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -316,6 +316,16 @@ config_setting(\n     visibility = [\"//visibility:public\"],\n )\n \n+config_setting(\n+    name = \"linux_riscv64\",\n+    constraint_values =\n+        [\n+            \"@platforms//cpu:riscv64\",\n+            \"@platforms//os:linux\",\n+        ],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n config_setting(\n     name = \"linux_s390x\",\n     constraint_values =\n@@ -382,6 +392,15 @@ selects.config_setting_group(\n     visibility = [\"//visibility:public\"],\n )\n \n+selects.config_setting_group(\n+    name = \"riscv64_or_cross\",\n+    match_any = [\n+        \":linux_riscv64\",\n+        \":with_cross_compiler_support\",\n+    ],\n+    visibility = [\"//visibility:public\"],\n+)\n+\n selects.config_setting_group(\n     name = \"s390x_or_cross\",\n     match_any = [\n@@ -453,6 +472,7 @@ selects.config_setting_group(\n         \":linux_aarch64\",\n         \":linux_armhf\",\n         \":linux_ppc64le\",\n+        \":linux_riscv64\",\n         \":linux_s390x\",\n         \":linux_x86_64\",\n     ],"
        },
        {
            "sha": "029fa1dd009241d89a78e49a2a7f40ea42d712af",
            "filename": "third_party/xla/xla/tsl/framework/contraction/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcontraction%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcontraction%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fframework%2Fcontraction%2FBUILD?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -113,6 +113,7 @@ cc_library(\n         \"//xla/tsl:fuchsia_x86_64\": [],\n         \"//xla/tsl:ios\": [],\n         \"//xla/tsl:linux_ppc64le\": [],\n+        \"//xla/tsl:linux_riscv64\": [],\n         \"//xla/tsl:linux_s390x\": [],\n         \"//xla/tsl:macos_arm64\": [],\n         \"//conditions:default\": [\n@@ -132,6 +133,7 @@ cc_library(\n         \"//xla/tsl:fuchsia_x86_64\": [],\n         \"//xla/tsl:ios\": [],\n         \"//xla/tsl:linux_ppc64le\": [],\n+        \"//xla/tsl:linux_riscv64\": [],\n         \"//xla/tsl:linux_s390x\": [],\n         \"//xla/tsl:macos_arm64\": [],\n         \"//conditions:default\": [\"//xla/tsl/mkl:onednn\"],"
        },
        {
            "sha": "173c5df828e540c475420c395636a52a7c4ce1ba",
            "filename": "third_party/xla/xla/tsl/platform/build_config_root.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fbuild_config_root.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fbuild_config_root.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fbuild_config_root.bzl?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -11,6 +11,7 @@ load(\n     _if_llvm_aarch64_available = \"if_llvm_aarch64_available\",\n     _if_llvm_arm_available = \"if_llvm_arm_available\",\n     _if_llvm_powerpc_available = \"if_llvm_powerpc_available\",\n+    _if_llvm_riscv_available = \"if_llvm_riscv_available\",\n     _if_llvm_system_z_available = \"if_llvm_system_z_available\",\n     _if_llvm_x86_available = \"if_llvm_x86_available\",\n     _if_pywrap = \"if_pywrap\",\n@@ -32,6 +33,7 @@ if_llvm_aarch32_available = _if_llvm_aarch32_available\n if_llvm_aarch64_available = _if_llvm_aarch64_available\n if_llvm_arm_available = _if_llvm_arm_available\n if_llvm_powerpc_available = _if_llvm_powerpc_available\n+if_llvm_riscv_available = _if_llvm_riscv_available\n if_llvm_system_z_available = _if_llvm_system_z_available\n if_llvm_x86_available = _if_llvm_x86_available\n if_static = _if_static"
        },
        {
            "sha": "8dae694836dd1656c2ea9fba56f53fa2797cdaa1",
            "filename": "third_party/xla/xla/tsl/platform/default/build_config_root.bzl",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fbuild_config_root.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1abd188ef1c9c4293ef04bf1217d2f0e1144e924/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fbuild_config_root.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fbuild_config_root.bzl?ref=1abd188ef1c9c4293ef04bf1217d2f0e1144e924",
            "patch": "@@ -144,6 +144,12 @@ def if_llvm_powerpc_available(then, otherwise = []):\n         \"//conditions:default\": otherwise,\n     })\n \n+def if_llvm_riscv_available(then, otherwise = []):\n+    return select({\n+        str(Label(\"//xla/tsl:riscv64_or_cross\")): then,\n+        \"//conditions:default\": otherwise,\n+    })\n+\n def if_llvm_system_z_available(then, otherwise = []):\n     return select({\n         str(Label(\"//xla/tsl:s390x_or_cross\")): then,"
        }
    ],
    "stats": {
        "total": 57,
        "additions": 57,
        "deletions": 0
    }
}