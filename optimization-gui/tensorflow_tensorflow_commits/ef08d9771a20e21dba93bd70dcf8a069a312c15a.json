{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 828828232",
    "sha": "ef08d9771a20e21dba93bd70dcf8a069a312c15a",
    "files": [
        {
            "sha": "b43965fcc094b2172d974da9b571d447fd16de8a",
            "filename": "third_party/xla/xla/python/custom_partition_callback.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ef08d9771a20e21dba93bd70dcf8a069a312c15a/third_party%2Fxla%2Fxla%2Fpython%2Fcustom_partition_callback.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ef08d9771a20e21dba93bd70dcf8a069a312c15a/third_party%2Fxla%2Fxla%2Fpython%2Fcustom_partition_callback.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fcustom_partition_callback.cc?ref=ef08d9771a20e21dba93bd70dcf8a069a312c15a",
            "patch": "@@ -236,7 +236,7 @@ absl::StatusOr<xla::HloSharding> ReadHloSharding(\n     JAX_CustomCallPartitioner_string data) {\n   xla::OpSharding proto;\n   if (data.size > std::numeric_limits<int>::max() ||\n-      !proto.ParseFromArray(data.data, data.size)) {\n+      !proto.ParseFromString(absl::string_view(data.data, data.size))) {\n     return absl::InternalError(\n         \"custom_call_sharding.cc: error parsing OpShardingProto\");\n   }\n@@ -246,7 +246,7 @@ absl::StatusOr<xla::HloSharding> ReadHloSharding(\n absl::StatusOr<xla::Shape> ReadHloShape(JAX_CustomCallPartitioner_string data) {\n   xla::ShapeProto proto;\n   if (data.size > std::numeric_limits<int>::max() ||\n-      !proto.ParseFromArray(data.data, data.size)) {\n+      !proto.ParseFromString(absl::string_view(data.data, data.size))) {\n     return absl::InternalError(\n         \"custom_call_sharding.cc: error parsing xla::Shape\");\n   }"
        },
        {
            "sha": "10b83d32d97f266dc1168c4a50ef48f8e280f1e3",
            "filename": "third_party/xla/xla/python/inspect_sharding.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ef08d9771a20e21dba93bd70dcf8a069a312c15a/third_party%2Fxla%2Fxla%2Fpython%2Finspect_sharding.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ef08d9771a20e21dba93bd70dcf8a069a312c15a/third_party%2Fxla%2Fxla%2Fpython%2Finspect_sharding.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Finspect_sharding.cc?ref=ef08d9771a20e21dba93bd70dcf8a069a312c15a",
            "patch": "@@ -46,7 +46,8 @@ std::optional<xla::HloSharding> InspectShardingReadArgs(\n     JAX_InspectSharding_Callback_Args* args) {\n   xla::OpSharding proto;\n   if (args->sharding_spec_size > std::numeric_limits<int>::max() ||\n-      !proto.ParseFromArray(args->sharding_spec, args->sharding_spec_size)) {\n+      !proto.ParseFromString(\n+          absl::string_view(args->sharding_spec, args->sharding_spec_size))) {\n     InspectShardingSetError(args,\n                             \"inspect_sharding: error parsing OpShardingProto\");\n     return std::nullopt;"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 4,
        "deletions": 3
    }
}