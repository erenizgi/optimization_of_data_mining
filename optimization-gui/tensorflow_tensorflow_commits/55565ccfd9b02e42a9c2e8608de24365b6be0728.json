{
    "author": "akuegel",
    "message": "[XLA:GPU] Simplify triton support test for bitcast that changes element type.\n\nPiperOrigin-RevId: 803009739",
    "sha": "55565ccfd9b02e42a9c2e8608de24365b6be0728",
    "files": [
        {
            "sha": "0bfd6ca81cc7b2776fb50df85622e988ef81ebe6",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 4,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/55565ccfd9b02e42a9c2e8608de24365b6be0728/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/55565ccfd9b02e42a9c2e8608de24365b6be0728/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc?ref=55565ccfd9b02e42a9c2e8608de24365b6be0728",
            "patch": "@@ -2557,7 +2557,6 @@ TEST_P(BitcastConvertTest, BitcastConvertDisguisedAsBitcast) {\n \n   const int bit_width_in = primitive_util::BitWidth(data_type_in);\n   const int bit_width_out = primitive_util::BitWidth(data_type_out);\n-  ExpectedFailMode fail_mode = ExpectedFailMode::kFail;\n   std::vector<int64_t> output_tile_sizes = {1, 32};\n   std::string hlo_text;\n   const std::string data_type_in_str =\n@@ -2581,7 +2580,6 @@ ENTRY triton_computation {\n   ROOT bc = $1[33, $2] bitcast(parameter)\n })\",\n         data_type_in_str, data_type_out_str, bit_width_in / bit_width_out);\n-    fail_mode = ExpectedFailMode::kFailOrCrash;\n   } else {  // bit_width_in < bit_width_out\n     hlo_text = absl::Substitute(\n         R\"(\n@@ -2591,14 +2589,13 @@ ENTRY triton_computation {\n })\",\n         data_type_in_str, bit_width_out / bit_width_in, data_type_out_str);\n     output_tile_sizes = {1};\n-    fail_mode = ExpectedFailMode::kFailOrCrash;\n   }\n \n   TF_ASSERT_OK_AND_ASSIGN(TestedInstruction ti,\n                           ParseTemplateAndGetInstruction(hlo_text, data_type_in,\n                                                          HloOpcode::kBitcast));\n \n-  RunSupportTest(std::move(ti), output_tile_sizes, cc, fail_mode);\n+  RunSupportTest(std::move(ti), output_tile_sizes, cc);\n }\n \n INSTANTIATE_TEST_SUITE_P("
        }
    ],
    "stats": {
        "total": 5,
        "additions": 1,
        "deletions": 4
    }
}