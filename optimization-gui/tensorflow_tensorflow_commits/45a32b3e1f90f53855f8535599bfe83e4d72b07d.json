{
    "author": "mwhittaker",
    "message": "Added missing `struct_size` field to `PJRT_ProcessInfo`.\n\nThere aren't any real users of the new API I added, so this change should be\nsafe.\n\nPiperOrigin-RevId: 799622231",
    "sha": "45a32b3e1f90f53855f8535599bfe83e4d72b07d",
    "files": [
        {
            "sha": "23a095352335e09b46a23128a5fd492c1f3b244f",
            "filename": "third_party/xla/xla/pjrt/c/pjrt_c_api.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/45a32b3e1f90f53855f8535599bfe83e4d72b07d/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/45a32b3e1f90f53855f8535599bfe83e4d72b07d/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api.h?ref=45a32b3e1f90f53855f8535599bfe83e4d72b07d",
            "patch": "@@ -593,6 +593,7 @@ typedef enum {\n // TODO: mwhittaker - Add the remaining fields from\n // tensorflow::CoordinatedTaskStateInfo.\n struct PJRT_ProcessInfo {\n+  size_t struct_size;\n   int task_id;\n   uint64_t incarnation_id;\n   PJRT_ProcessState state;"
        },
        {
            "sha": "ab8418b500fe3ae774fd9e2ccaa9dacf6dff7df5",
            "filename": "third_party/xla/xla/pjrt/pjrt_c_api_client.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/45a32b3e1f90f53855f8535599bfe83e4d72b07d/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_c_api_client.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/45a32b3e1f90f53855f8535599bfe83e4d72b07d/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_c_api_client.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_c_api_client.cc?ref=45a32b3e1f90f53855f8535599bfe83e4d72b07d",
            "patch": "@@ -380,6 +380,7 @@ void PjRtCApiClient::UpdateGlobalProcessInfo(\n   std::vector<PJRT_ProcessInfo> process_infos;\n   for (const tensorflow::CoordinatedTaskStateInfo& info : infos) {\n     PJRT_ProcessInfo process_info;\n+    process_info.struct_size = PJRT_ProcessInfo_STRUCT_SIZE;\n     process_info.task_id = info.task().task_id();\n     process_info.incarnation_id = info.incarnation();\n     process_info.state = translate_state(info.state());"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 2,
        "deletions": 0
    }
}