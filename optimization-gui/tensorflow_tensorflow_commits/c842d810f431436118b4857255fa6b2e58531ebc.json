{
    "author": "nputikhin",
    "message": "[XLA:GPU] Initialize `global_split_limits` with the first config's `split_k`.\n\nPiperOrigin-RevId: 821579201",
    "sha": "c842d810f431436118b4857255fa6b2e58531ebc",
    "files": [
        {
            "sha": "b1ab40f5040937d0a8c1915ef26b36dd763d6464",
            "filename": "third_party/xla/xla/service/gpu/autotuning/dot_search_space.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c842d810f431436118b4857255fa6b2e58531ebc/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c842d810f431436118b4857255fa6b2e58531ebc/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space.cc?ref=c842d810f431436118b4857255fa6b2e58531ebc",
            "patch": "@@ -175,7 +175,10 @@ std::vector<TritonGemmConfig> TritonDotFusionSearchSpace::OptimizeConfigSet(\n \n   absl::flat_hash_map<std::pair<int, int>, std::pair<int, int>>\n       m_n_to_split_limits;\n-  std::pair<int, int> global_split_limits;\n+  // Init with first config vals, otherwise they would be 0 and min comparison\n+  // won't update properly.\n+  std::pair<int, int> global_split_limits{configs.front().split_k,\n+                                          configs.front().split_k};\n   auto update_split_limits = [](auto& limits, int value) {\n     limits = std::minmax({limits.first, limits.second, value});\n   };"
        },
        {
            "sha": "694d166bde793200819181d2c21fe68f6f0f37e0",
            "filename": "third_party/xla/xla/service/gpu/autotuning/dot_search_space_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c842d810f431436118b4857255fa6b2e58531ebc/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c842d810f431436118b4857255fa6b2e58531ebc/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fautotuning%2Fdot_search_space_test.cc?ref=c842d810f431436118b4857255fa6b2e58531ebc",
            "patch": "@@ -619,6 +619,7 @@ TEST_F(DotSearchSpaceTest, RestrictsSplitKPerNMTile) {\n       // Greater than max split K for this tile size.\n       make_config(16, 16, 16, 8),\n       // Does not have a per-tile split K limit.\n+      make_config(16, 32, 16, 1),\n       make_config(16, 32, 16, 32),\n   };\n "
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}