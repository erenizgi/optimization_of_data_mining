{
    "author": "WillFroom",
    "message": "[XLA:CPU][XTile] Rewrite llvm vectorized log to polynomial approximations.\n\nThis is needed to get the same numerics from the tiled & scalar emitter.\n\nPiperOrigin-RevId: 841913170",
    "sha": "cb1ad8a22b10a96c3308b16749dd6737b634b929",
    "files": [
        {
            "sha": "0c8084568e41c549aa7f9cec8667159e1e447ebc",
            "filename": "third_party/xla/xla/backends/cpu/codegen/polynomial_approximations.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/cb1ad8a22b10a96c3308b16749dd6737b634b929/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fpolynomial_approximations.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/cb1ad8a22b10a96c3308b16749dd6737b634b929/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fpolynomial_approximations.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcodegen%2Fpolynomial_approximations.cc?ref=cb1ad8a22b10a96c3308b16749dd6737b634b929",
            "patch": "@@ -541,6 +541,10 @@ void RewriteToPolynomialApproximations(llvm::Module* module,\n \n   rewrite_calls(\"logf\", GenerateVF32Log, /*vector_width=*/1);\n   rewrite_calls(\"llvm.log.f32\", GenerateVF32Log, /*vector_width=*/1);\n+  rewrite_calls(\"llvm.log.v2f32\", GenerateVF32Log, /*vector_width=*/2);\n+  rewrite_calls(\"llvm.log.v4f32\", GenerateVF32Log, /*vector_width=*/4);\n+  rewrite_calls(\"llvm.log.v8f32\", GenerateVF32Log, /*vector_width=*/8);\n+  rewrite_calls(\"llvm.log.v16f32\", GenerateVF32Log, /*vector_width=*/16);\n   rewrite_calls(kLogV4F32Sym, GenerateVF32Log, /*vector_width=*/4);\n   rewrite_calls(kLogV8F32Sym, GenerateVF32Log, /*vector_width=*/8);\n   rewrite_calls(kLogV16F32Sym, GenerateVF32Log, /*vector_width=*/16);"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 4,
        "deletions": 0
    }
}