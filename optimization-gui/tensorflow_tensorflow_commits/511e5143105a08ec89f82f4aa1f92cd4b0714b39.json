{
    "author": "ezhulenev",
    "message": "[xla:cpu] Remove unused runtime_custom_call_status target\n\nPiperOrigin-RevId: 830630787",
    "sha": "511e5143105a08ec89f82f4aa1f92cd4b0714b39",
    "files": [
        {
            "sha": "4eef4a313b23f2b014ece3545d07b56c9618fec6",
            "filename": "tensorflow/compiler/aot/tfcompile.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/511e5143105a08ec89f82f4aa1f92cd4b0714b39/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/511e5143105a08ec89f82f4aa1f92cd4b0714b39/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl?ref=511e5143105a08ec89f82f4aa1f92cd4b0714b39",
            "patch": "@@ -336,7 +336,6 @@ def _tf_library(\n             # TODO(cwhipkey): only depend on kernel code that the model actually\n             # needed.\n             \"@local_xla//xla/service/cpu:runtime_conv2d\",\n-            \"@local_xla//xla/service/cpu:runtime_custom_call_status\",\n             \"@local_xla//xla/service/cpu:runtime_key_value_sort\",\n             \"@local_xla//xla/service/cpu:runtime_matmul\",\n             \"@local_xla//xla/service/cpu:runtime_topk\","
        },
        {
            "sha": "f4c25aa3a62b880c5d0ad84a2379dcc2a219c933",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 14,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/511e5143105a08ec89f82f4aa1f92cd4b0714b39/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/511e5143105a08ec89f82f4aa1f92cd4b0714b39/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=511e5143105a08ec89f82f4aa1f92cd4b0714b39",
            "patch": "@@ -52,7 +52,6 @@ filegroup(\n     name = \"runtime_srcs\",\n     srcs = [\n         # Single-threaded support.\n-        \"runtime_custom_call_status.cc\",\n         \"runtime_key_value_sort.cc\",\n         \"runtime_single_threaded_conv2d.cc\",\n         \"runtime_single_threaded_conv3d.cc\",\n@@ -85,7 +84,6 @@ filegroup(\n     name = \"runtime_hdrs\",\n     srcs = [\n         # Single-threaded support.\n-        \"runtime_custom_call_status.h\",\n         \"runtime_key_value_sort.h\",\n         \"runtime_single_threaded_conv2d.h\",\n         \"runtime_single_threaded_conv3d.h\",\n@@ -1079,18 +1077,6 @@ cc_library(\n     ],\n )\n \n-cc_library(\n-    name = \"runtime_custom_call_status\",\n-    srcs = [\"runtime_custom_call_status.cc\"],\n-    hdrs = [\"runtime_custom_call_status.h\"],\n-    copts = runtime_copts(),\n-    visibility = [\"//visibility:public\"],\n-    deps = [\n-        \"//xla/service:custom_call_status_internal\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-    ],\n-)\n-\n cc_library(\n     name = \"runtime_matmul\",\n     srcs = ["
        },
        {
            "sha": "d943fa63aeafc34ebd844b92635c4a76b8389310",
            "filename": "third_party/xla/xla/service/cpu/runtime_custom_call_status.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 24,
            "changes": 24,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aef5f3eedc23fd6cd9f85b4c88474b5413e1719a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aef5f3eedc23fd6cd9f85b4c88474b5413e1719a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.cc?ref=aef5f3eedc23fd6cd9f85b4c88474b5413e1719a",
            "patch": "@@ -1,24 +0,0 @@\n-/* Copyright 2021 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-#include \"xla/service/cpu/runtime_custom_call_status.h\"\n-\n-#include \"absl/base/attributes.h\"\n-#include \"xla/service/custom_call_status_internal.h\"\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY bool __xla_cpu_runtime_StatusIsSuccess(\n-    const void* status_ptr) {\n-  auto status = static_cast<const XlaCustomCallStatus*>(status_ptr);\n-  return !xla::CustomCallStatusGetMessage(status).has_value();\n-}"
        },
        {
            "sha": "e243b46e0e3bc319165af6c336ef3b3cf2b4829e",
            "filename": "third_party/xla/xla/service/cpu/runtime_custom_call_status.h",
            "status": "removed",
            "additions": 0,
            "deletions": 27,
            "changes": 27,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/aef5f3eedc23fd6cd9f85b4c88474b5413e1719a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/aef5f3eedc23fd6cd9f85b4c88474b5413e1719a/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_custom_call_status.h?ref=aef5f3eedc23fd6cd9f85b4c88474b5413e1719a",
            "patch": "@@ -1,27 +0,0 @@\n-/* Copyright 2021 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#ifndef XLA_SERVICE_CPU_RUNTIME_CUSTOM_CALL_STATUS_H_\n-#define XLA_SERVICE_CPU_RUNTIME_CUSTOM_CALL_STATUS_H_\n-\n-extern \"C\" {\n-\n-// Returns true iff the given 'XlaCustomCallStatus' is in a success state, so\n-// that generated code can return early if a CustomCall fails.\n-extern bool __xla_cpu_runtime_StatusIsSuccess(\n-    const void* /* XlaCustomCallStatus* */ status_ptr);\n-}\n-\n-#endif  // XLA_SERVICE_CPU_RUNTIME_CUSTOM_CALL_STATUS_H_"
        }
    ],
    "stats": {
        "total": 66,
        "additions": 0,
        "deletions": 66
    }
}