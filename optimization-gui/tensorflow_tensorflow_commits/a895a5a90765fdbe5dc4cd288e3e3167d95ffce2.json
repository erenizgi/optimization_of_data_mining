{
    "author": "majnemer",
    "message": "[TSL] Don't change binding during topology enumeration\n\nWe do not need the information from this level of detail and it has performance implications\n\nPiperOrigin-RevId: 843859045",
    "sha": "a895a5a90765fdbe5dc4cd288e3e3167d95ffce2",
    "files": [
        {
            "sha": "971363aea7d1c1e65ba1f6dc3db4949d75878247",
            "filename": "third_party/xla/xla/tsl/platform/numa_hwloc.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a895a5a90765fdbe5dc4cd288e3e3167d95ffce2/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fnuma_hwloc.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a895a5a90765fdbe5dc4cd288e3e3167d95ffce2/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fnuma_hwloc.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fnuma_hwloc.cc?ref=a895a5a90765fdbe5dc4cd288e3e3167d95ffce2",
            "patch": "@@ -35,6 +35,11 @@ hwloc_topology_t GetHWLocTopology() {\n       LOG(ERROR) << \"Call to hwloc_topology_init() failed\";\n       return;\n     }\n+    if (hwloc_topology_set_flags(hwloc_topology_handle,\n+                                 HWLOC_TOPOLOGY_FLAG_DONT_CHANGE_BINDING)) {\n+      LOG(ERROR) << \"Call to hwloc_topology_set_flags() failed\";\n+      return;\n+    }\n     if (hwloc_topology_load(hwloc_topology_handle)) {\n       LOG(ERROR) << \"Call to hwloc_topology_load() failed\";\n       return;"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 5,
        "deletions": 0
    }
}