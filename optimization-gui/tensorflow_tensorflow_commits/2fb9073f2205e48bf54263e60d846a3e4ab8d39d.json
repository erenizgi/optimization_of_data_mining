{
    "author": "gzmkl",
    "message": "[oneDNN] Improve oneDNN primitive caching performance",
    "sha": "2fb9073f2205e48bf54263e60d846a3e4ab8d39d",
    "files": [
        {
            "sha": "72cd0b7751e2cca57e061f419c662dce0a993e7e",
            "filename": "tensorflow/core/util/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/2fb9073f2205e48bf54263e60d846a3e4ab8d39d/tensorflow%2Fcore%2Futil%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/2fb9073f2205e48bf54263e60d846a3e4ab8d39d/tensorflow%2Fcore%2Futil%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Futil%2FBUILD?ref=2fb9073f2205e48bf54263e60d846a3e4ab8d39d",
            "patch": "@@ -298,6 +298,7 @@ filegroup(\n         \"mkl_heuristics.h\",\n         \"mkl_util.h\",\n         \"onednn_env_vars.h\",\n+        \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@local_xla//xla/tsl/util:onednn_util_hdrs\",\n     ],\n     visibility = [\"//tensorflow/core:__pkg__\"],"
        },
        {
            "sha": "a3a5381583a1963b427fb66fd2805f6ddea8a61e",
            "filename": "tensorflow/core/util/mkl_util.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/2fb9073f2205e48bf54263e60d846a3e4ab8d39d/tensorflow%2Fcore%2Futil%2Fmkl_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/2fb9073f2205e48bf54263e60d846a3e4ab8d39d/tensorflow%2Fcore%2Futil%2Fmkl_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Futil%2Fmkl_util.h?ref=2fb9073f2205e48bf54263e60d846a3e4ab8d39d",
            "patch": "@@ -24,6 +24,7 @@ limitations under the License.\n #include <utility>\n #include <vector>\n \n+#include \"absl/container/flat_hash_map.h\"\n #include \"oneapi/dnnl/dnnl.hpp\"\n #include \"oneapi/dnnl/dnnl_threadpool.hpp\"\n #include \"tensorflow/core/framework/op_kernel.h\"\n@@ -1963,7 +1964,7 @@ class LRUCache {\n   size_t capacity_;\n \n   // The cache, a map from string key to a LRU entry.\n-  std::unordered_map<string, Entry> cache_;\n+  absl::flat_hash_map<string, Entry> cache_;\n \n   // The LRU list of entries.\n   // The front of the list contains the key of the most recently accessed"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}