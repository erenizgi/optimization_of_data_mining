{
    "author": "alekstheod",
    "message": "PR #34372: [ROCm] Fix missing sys deps lib in hermetic builds\n\nImported from GitHub PR https://github.com/openxla/xla/pull/34372\n\nüìù Summary of Changes\nFix buildbreak on hermetic build pipeline\n\nüéØ Justification\nrocm clang++ missing syslibs when building kernels.\nProviding sys deps target to the toolchain files fixes the issue.\n\nüöÄ Kind of Contribution\nPlease remove what does not apply: üêõ Bug Fix\n\nüìä Benchmark (for Performance Improvements)\nNot relevant\n\nüß™ Unit Tests:\nNot relevant\n\nüß™ Execution Tests:\nNot relevant\n\nCopybara import of the project:\n\n--\ne73c4dd20f48b771405a98843c518972984235c2 by Alexandros Theodoridis <atheodor@amd.com>:\n\nFix missing sys deps lib in hermetic builds\n\nMerging this change closes #34372\n\nPiperOrigin-RevId: 837050598",
    "sha": "a35f4c116ddf46a02d633e3346ada5d48ffe0a12",
    "files": [
        {
            "sha": "87b44db02d9cb9bf3e7c722cd44f7ad801045ccc",
            "filename": "third_party/xla/third_party/gpus/rocm/BUILD.tpl",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a35f4c116ddf46a02d633e3346ada5d48ffe0a12/third_party%2Fxla%2Fthird_party%2Fgpus%2Frocm%2FBUILD.tpl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a35f4c116ddf46a02d633e3346ada5d48ffe0a12/third_party%2Fxla%2Fthird_party%2Fgpus%2Frocm%2FBUILD.tpl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fgpus%2Frocm%2FBUILD.tpl?ref=a35f4c116ddf46a02d633e3346ada5d48ffe0a12",
            "patch": "@@ -601,6 +601,9 @@ filegroup(\n         \"%{rocm_root}/lib/llvm/**\",\n         \"%{rocm_root}/share/hip/**\",\n         \"%{rocm_root}/amdgcn/**\",\n+        \"%{rocm_root}/lib/rocm_sysdeps/lib/*.so*\",\n+        \"%{rocm_root}/lib/libamd_comgr_loader.so*\",\n+        \"%{rocm_root}/lib/libamd_comgr.so*\",\n     ]),\n     visibility = [\"//visibility:public\"],\n )"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}