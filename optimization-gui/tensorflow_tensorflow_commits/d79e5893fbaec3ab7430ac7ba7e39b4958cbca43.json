{
    "author": "ezhulenev",
    "message": "[xla] Migrate XLA to runtime:device_id target\n\nNFC: migrate from deprecated target to a new one + add AbslStringify for typed device ids.\nPiperOrigin-RevId: 839019431",
    "sha": "d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
    "files": [
        {
            "sha": "6b1b0e76d24c3ca676a565e246c6b82c705a2b22",
            "filename": "third_party/xla/xla/backends/cpu/collectives/BUILD",
            "status": "modified",
            "additions": 6,
            "deletions": 5,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -21,9 +21,10 @@ cc_library(\n     hdrs = [\"cpu_clique_key.h\"],\n     deps = [\n         \"//xla/core/collectives:clique_key\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/hash\",\n+        \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@local_tsl//tsl/platform:casts\",\n     ],\n@@ -77,7 +78,7 @@ xla_cc_test(\n         \":in_process_collectives\",\n         \"//xla:util\",\n         \"//xla/core/collectives:rank_id\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_main\",\n@@ -199,7 +200,7 @@ cc_library(\n         \"//xla/core/collectives:clique_id\",\n         \"//xla/core/collectives:clique_key\",\n         \"//xla/core/collectives:communicator\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -225,8 +226,8 @@ xla_cc_test(\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/pjrt/distributed:in_memory_key_value_store\",\n         \"//xla/pjrt/distributed:key_value_store_interface\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/lib/core:status_test_util\",\n@@ -305,7 +306,7 @@ cc_library(\n         \"//xla/core/collectives:clique_id\",\n         \"//xla/core/collectives:clique_key\",\n         \"//xla/core/collectives:communicator\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\","
        },
        {
            "sha": "e7737a8561dacd0ba12d320af7a356e362b2e7e5",
            "filename": "third_party/xla/xla/backends/cpu/collectives/cpu_clique_key.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 3,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_clique_key.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_clique_key.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_clique_key.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -21,23 +21,26 @@ limitations under the License.\n #include \"absl/algorithm/container.h\"\n #include \"absl/hash/hash.h\"\n #include \"absl/strings/str_format.h\"\n+#include \"absl/strings/str_join.h\"\n #include \"xla/core/collectives/clique_key.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"tsl/platform/casts.h\"\n \n namespace xla::cpu {\n \n bool CpuCliqueKey::IsSubsetOf(const CliqueKey& other) const {\n   auto* other_cpu = tsl::down_cast<const CpuCliqueKey*>(&other);\n-  if (other_cpu == nullptr) return false;\n+  if (other_cpu == nullptr) {\n+    return false;\n+  }\n \n   return absl::c_all_of(devices(), [&](GlobalDeviceId id) {\n     return absl::c_linear_search(other_cpu->devices(), id);\n   });\n }\n \n std::string CpuCliqueKey::ToString() const {\n-  return absl::StrFormat(\"devices=[%s]\", GlobalDeviceIdsToString(devices()));\n+  return absl::StrFormat(\"devices=[%s]\", absl::StrJoin(devices(), \", \"));\n }\n \n void CpuCliqueKey::HashValue(absl::HashState state) const {"
        },
        {
            "sha": "6d8390af25a0ca1e2ab3209e559fcca134c96761",
            "filename": "third_party/xla/xla/backends/cpu/collectives/cpu_cliques_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_cliques_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_cliques_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fcpu_cliques_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -21,7 +21,7 @@ limitations under the License.\n #include \"xla/backends/cpu/collectives/cpu_clique_key.h\"\n #include \"xla/backends/cpu/collectives/in_process_collectives.h\"\n #include \"xla/core/collectives/rank_id.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/platform/test.h\"\n "
        },
        {
            "sha": "aaf87846957a61e5b69dda012986a51a31656029",
            "filename": "third_party/xla/xla/backends/cpu/collectives/gloo_collectives.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -38,7 +38,7 @@ limitations under the License.\n #include \"xla/core/collectives/clique_id.h\"\n #include \"xla/core/collectives/clique_key.h\"\n #include \"xla/core/collectives/communicator.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/xla_data.pb.h\"\n \n namespace xla::cpu {"
        },
        {
            "sha": "8f0cf4f20459ec630c2f916694f1a3973fb1830d",
            "filename": "third_party/xla/xla/backends/cpu/collectives/gloo_collectives_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fgloo_collectives_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -35,8 +35,8 @@ limitations under the License.\n #include \"xla/executable_run_options.h\"\n #include \"xla/pjrt/distributed/in_memory_key_value_store.h\"\n #include \"xla/pjrt/distributed/key_value_store_interface.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_ops_utils.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n #include \"xla/tsl/platform/env.h\""
        },
        {
            "sha": "639617b9b1434e78be1c83fa73fa148a2e535cf6",
            "filename": "third_party/xla/xla/backends/cpu/collectives/mpi_collectives.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fmpi_collectives.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fmpi_collectives.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fcollectives%2Fmpi_collectives.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -28,7 +28,7 @@ limitations under the License.\n #include \"xla/core/collectives/clique_id.h\"\n #include \"xla/core/collectives/clique_key.h\"\n #include \"xla/core/collectives/communicator.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/xla_data.pb.h\"\n \n namespace xla::cpu {"
        },
        {
            "sha": "ef2e7b564aa3f3d50fb9c88ddb11b7ff2f801e46",
            "filename": "third_party/xla/xla/backends/cpu/runtime/BUILD",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -184,8 +184,8 @@ cc_library(\n         \"//xla/backends/cpu/runtime/xnnpack:xnn_threadpool\",\n         \"//xla/ffi:execution_context\",\n         \"//xla/runtime:buffer_use\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/runtime:resource_use\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/cpu:cpu_executable_run_options\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n@@ -612,11 +612,11 @@ cc_library(\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/runtime:buffer_use\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/runtime:resource_use\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/tsl/concurrency:async_value\",\n@@ -879,9 +879,9 @@ cc_library(\n         \":thunk\",\n         \"//xla:status_macros\",\n         \"//xla/runtime:buffer_use\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:statusor\","
        },
        {
            "sha": "b7ee7fcedfa81588be77e4f1fddbc5a8a0bd3abd",
            "filename": "third_party/xla/xla/backends/cpu/runtime/collective_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -43,11 +43,11 @@ limitations under the License.\n #include \"xla/future.h\"\n #include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/runtime/buffer_use.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/runtime/resource_use.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/shape.h\"\n #include \"xla/status_macros.h\""
        },
        {
            "sha": "4a0d3cb7dbf41faaabf44f0f61f94512c3fb3f88",
            "filename": "third_party/xla/xla/backends/cpu/runtime/collective_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fcollective_thunk.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -32,10 +32,10 @@ limitations under the License.\n #include \"xla/backends/cpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/future.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/runtime/resource_use.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/collective_ops_utils.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/shape.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\""
        },
        {
            "sha": "7278f16cd61cb564972b3a6d16d0b9f7cde1b2b9",
            "filename": "third_party/xla/xla/backends/cpu/runtime/logical_id_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -25,9 +25,9 @@ limitations under the License.\n #include \"absl/strings/str_format.h\"\n #include \"xla/backends/cpu/runtime/thunk.h\"\n #include \"xla/runtime/buffer_use.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\""
        },
        {
            "sha": "140736c3ee0b7bd68beef44dad9925f18d93734c",
            "filename": "third_party/xla/xla/backends/cpu/runtime/logical_id_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Flogical_id_thunk.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -22,9 +22,9 @@ limitations under the License.\n \n #include \"absl/status/statusor.h\"\n #include \"xla/backends/cpu/runtime/thunk.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\"\n \n namespace xla::cpu {"
        },
        {
            "sha": "c1c948124c125771e99e6167a97b60fdddcfde46",
            "filename": "third_party/xla/xla/backends/cpu/runtime/thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -32,8 +32,8 @@ limitations under the License.\n #include \"xla/backends/cpu/runtime/xnnpack/xnn_interop.h\"\n #include \"xla/backends/cpu/runtime/xnnpack/xnn_threadpool.h\"\n #include \"xla/executable_run_options.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/cpu/cpu_executable_run_options.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\""
        },
        {
            "sha": "154dea8200b7f9a40f72ed110da2cb67c25ebe27",
            "filename": "third_party/xla/xla/backends/cpu/runtime/thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fruntime%2Fthunk.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -40,8 +40,8 @@ limitations under the License.\n #include \"xla/executable_run_options.h\"\n #include \"xla/ffi/execution_context.h\"\n #include \"xla/runtime/buffer_use.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/runtime/resource_use.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/concurrency/chain.h\"\n #include \"xla/tsl/platform/logging.h\""
        },
        {
            "sha": "becf345611fa77ee259fcd3da4dd7066433d74d9",
            "filename": "third_party/xla/xla/backends/gpu/collectives/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -131,7 +131,7 @@ xla_cc_test(\n         \":gpu_clique_key\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/core/collectives:clique_id\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_main\",\n         \"@com_google_absl//absl/container:btree\",\n@@ -156,7 +156,7 @@ cc_library(\n         \"//xla/core/collectives:clique_id\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:lockable\",\n         \"//xla/service:rendezvous\",\n         \"//xla/stream_executor:stream_executor_h\",\n@@ -202,7 +202,7 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/pjrt/distributed:key_value_store_interface\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n@@ -310,8 +310,8 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/pjrt/distributed:key_value_store_interface\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:gpu_executable_run_options\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n@@ -375,8 +375,8 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/pjrt/distributed:key_value_store_interface\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:gpu_executable_run_options\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:platform\","
        },
        {
            "sha": "460ca9237e4420a3dbb859309fca46c8031a96eb",
            "filename": "third_party/xla/xla/backends/gpu/collectives/gpu_clique_key_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_clique_key_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_clique_key_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_clique_key_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -27,7 +27,7 @@ limitations under the License.\n #include <gtest/gtest.h>\n #include \"absl/container/btree_map.h\"\n #include \"xla/core/collectives/clique_id.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/xla_data.pb.h\"\n "
        },
        {
            "sha": "64654bac8b85a530476cbfe1d494fd4de3170517",
            "filename": "third_party/xla/xla/backends/gpu/collectives/gpu_cliques.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_cliques.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_cliques.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_cliques.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -52,7 +52,7 @@ limitations under the License.\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/debug_options_flags.h\"\n #include \"xla/executable_run_options.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/lockable.h\"\n #include \"xla/service/rendezvous.h\"\n #include \"xla/status_macros.h\""
        },
        {
            "sha": "e5c37df5c599a8425e69b6d6086fa103f503956e",
            "filename": "third_party/xla/xla/backends/gpu/collectives/gpu_collectives.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_collectives.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_collectives.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fgpu_collectives.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -35,7 +35,7 @@ limitations under the License.\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/executable_run_options.h\"\n #include \"xla/pjrt/distributed/key_value_store_interface.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\""
        },
        {
            "sha": "bb9397f99df70c2ddac41ab0c052c207c0698711",
            "filename": "third_party/xla/xla/backends/gpu/collectives/nccl_collectives.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fnccl_collectives.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fnccl_collectives.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcollectives%2Fnccl_collectives.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -48,7 +48,7 @@ limitations under the License.\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/debug_options_flags.h\"\n #include \"xla/pjrt/distributed/key_value_store_interface.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/gpu/gpu_executable_run_options.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/stream_executor.h\""
        },
        {
            "sha": "85e44816a518c2d83a7410ac034327acf0409a8a",
            "filename": "third_party/xla/xla/backends/gpu/runtime/BUILD",
            "status": "modified",
            "additions": 5,
            "deletions": 10,
            "changes": 15,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -106,7 +106,6 @@ cc_library(\n         \"//xla/service:computation_placer\",\n         \"//xla/service:custom_call_status_internal\",\n         \"//xla/service:custom_call_status_public_headers\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:buffer_allocations\",\n         \"//xla/service/gpu:launch_dimensions\",\n         \"//xla/service/gpu:matmul_utils\",\n@@ -1602,7 +1601,7 @@ xla_cc_test(\n         \":collective_clique_requests\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/backends/gpu/collectives:gpu_clique_key\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:test\",\n         \"//xla/tsl/platform:test_main\",\n@@ -1622,7 +1621,6 @@ cc_library(\n         \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service:executable\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:gpu_executable_run_options\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n@@ -1714,7 +1712,6 @@ cc_library(\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:rendezvous\",\n         \"//xla/service/gpu:buffer_allocations\",\n         \"//xla/service/llvm_ir:llvm_util\",\n@@ -1754,9 +1751,9 @@ cc_library(\n         \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/parser:hlo_parser\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:source_target_pairs\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/platform:statusor\",\n@@ -1788,7 +1785,6 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/tsl/platform:errors\",\n@@ -1819,7 +1815,6 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/tsl/platform:errors\",\n@@ -1947,9 +1942,9 @@ cc_library(\n     deps = [\n         \":thunk\",\n         \":thunk_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -2039,8 +2034,8 @@ cc_library(\n         \":thunk_proto_cc\",\n         \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:event\",\n         \"//xla/stream_executor:stream\",\n@@ -2101,9 +2096,9 @@ cc_library(\n         \"//xla/ffi:execution_context\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:buffer_use\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:executable\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu:buffer_allocations\",\n         \"//xla/service/gpu:gpu_executable_run_options\","
        },
        {
            "sha": "ba964e7ff6bd887c0c0c6ce01f1aabcdab5490f5",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_clique_requests_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_clique_requests_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_clique_requests_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_clique_requests_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -18,7 +18,7 @@ limitations under the License.\n #include <vector>\n \n #include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/xla_data.pb.h\""
        },
        {
            "sha": "ec60f01138d2dbc2b88810f931dc930fc72d7ea3",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_params.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -24,7 +24,6 @@ limitations under the License.\n #include \"xla/executable_run_options.h\"\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/gpu_executable_run_options.h\"\n #include \"xla/service/service_executable_run_options.h\"\n #include \"xla/stream_executor/stream.h\""
        },
        {
            "sha": "5d75d258ee75ab9eb915d30acbc3277c2366e5ca",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_params.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_params.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -25,7 +25,6 @@ limitations under the License.\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/executable_run_options.h\"\n #include \"xla/runtime/device_id.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/gpu_executable_run_options.h\"\n #include \"xla/service/service_executable_run_options.h\"\n #include \"xla/stream_executor/stream.h\""
        },
        {
            "sha": "9cc7e7536825956f9401daec58e176aff92e583f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/host_send_recv_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -31,8 +31,8 @@ limitations under the License.\n #include \"absl/synchronization/mutex.h\"\n #include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/shape.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/event.h\""
        },
        {
            "sha": "64df2a3713fccf90186b1b4b75ce8b301790444f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/host_send_recv_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_send_recv_thunk.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -29,8 +29,8 @@ limitations under the License.\n #include \"absl/synchronization/mutex.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/shape.h\"\n #include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/stream_executor.h\""
        },
        {
            "sha": "e0bfbc72f844de58fb1c66b0dfbe9dd7f887e63b",
            "filename": "third_party/xla/xla/backends/gpu/runtime/p2p_thunk_common.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -32,9 +32,9 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/hlo/parser/hlo_parser.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/source_target_pairs.h\"\n #include \"xla/shape.h\"\n #include \"xla/status_macros.h\""
        },
        {
            "sha": "f8c2a98d8dcb5b60a47f953c01a3ac096f2f158a",
            "filename": "third_party/xla/xla/backends/gpu/runtime/replica_id_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -23,9 +23,9 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/tsl/platform/statusor.h\"\n \n namespace xla {"
        },
        {
            "sha": "33e8911600f3f666d735b29046cee2790d594cdc",
            "filename": "third_party/xla/xla/backends/gpu/runtime/send_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -36,7 +36,6 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\""
        },
        {
            "sha": "e1b8186980728eddc93d2bf6d65967a7610f616f",
            "filename": "third_party/xla/xla/core/collectives/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -100,7 +100,7 @@ cc_library(\n     hdrs = [\"clique_key.h\"],\n     deps = [\n         \":rank_id\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/hash\",\n         \"@com_google_absl//absl/types:span\","
        },
        {
            "sha": "321c7916bbecc225912f4713095ac29598a0e5e3",
            "filename": "third_party/xla/xla/core/collectives/clique_key.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -22,7 +22,7 @@ limitations under the License.\n #include \"absl/algorithm/container.h\"\n #include \"absl/types/span.h\"\n #include \"xla/core/collectives/rank_id.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n \n namespace xla {\n "
        },
        {
            "sha": "57db1dd0ebfb3ea01f4a842c16961de2516e0034",
            "filename": "third_party/xla/xla/core/collectives/clique_key.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcore%2Fcollectives%2Fclique_key.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -26,7 +26,7 @@ limitations under the License.\n #include \"absl/hash/hash.h\"\n #include \"absl/types/span.h\"\n #include \"xla/core/collectives/rank_id.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n \n namespace xla {\n "
        },
        {
            "sha": "dd7c25a8cfad3ef0638a61606451249ce92122c5",
            "filename": "third_party/xla/xla/pjrt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -419,10 +419,10 @@ cc_library(\n         \"//xla/pjrt/proto:compile_options_proto_cc\",\n         \"//xla/pjrt/proto:executable_metadata_proto_cc\",\n         \"//xla/pjrt/proto:execute_options_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:compiler\",\n         \"//xla/service:computation_layout\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_cost_analysis\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/service:hlo_value\","
        },
        {
            "sha": "25820fda352ac86c85c9253d67a1a2db0291a8d4",
            "filename": "third_party/xla/xla/pjrt/c/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -289,8 +289,8 @@ cc_library(\n         \"//xla/pjrt/distributed:key_value_store_interface\",\n         \"//xla/pjrt/proto:compile_options_proto_cc\",\n         \"//xla/pjrt/proto:topology_description_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/tsl/framework:allocator\",\n         \"//xla/tsl/platform:errors\","
        },
        {
            "sha": "fade4319850eab2042c0f91c971e6123dbbf2b2a",
            "filename": "third_party/xla/xla/pjrt/c/pjrt_c_api_wrapper_impl.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_wrapper_impl.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_wrapper_impl.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc%2Fpjrt_c_api_wrapper_impl.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -63,8 +63,8 @@ limitations under the License.\n #include \"xla/pjrt/proto/compile_options.pb.h\"\n #include \"xla/pjrt/proto/topology_description.pb.h\"\n #include \"xla/pjrt/raw_buffer.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\""
        },
        {
            "sha": "710dfc9f0208a59040b7cb07f9affdeecea0268a",
            "filename": "third_party/xla/xla/pjrt/distributed/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -71,7 +71,7 @@ cc_library(\n     deps = [\n         \":key_value_store_interface\",\n         \":util\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tsl/distributed_runtime/coordination:coordination_client\",\n         \"//xla/tsl/distributed_runtime/coordination:coordination_service_agent\",\n         \"//xla/tsl/distributed_runtime/rpc/coordination:grpc_coordination_client\",\n@@ -152,7 +152,7 @@ xla_cc_test(\n         \":service\",\n         \":topology_util\",\n         \"//xla:status_macros\",\n-        \"//xla/service:global_device_id\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tsl/distributed_runtime/coordination:coordination_service_agent\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:env\","
        },
        {
            "sha": "e1230a81e614ba09c3dd396733b4bff06a64fe11",
            "filename": "third_party/xla/xla/pjrt/distributed/client.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -32,7 +32,7 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"grpcpp/channel.h\"\n #include \"xla/pjrt/distributed/key_value_store_interface.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/tsl/distributed_runtime/coordination/coordination_client.h\"\n #include \"xla/tsl/distributed_runtime/coordination/coordination_service_agent.h\"\n #include \"xla/tsl/distributed_runtime/rpc/coordination/grpc_coordination_client.h\""
        },
        {
            "sha": "50355fd8c0b182aae329ee3078ddc2b502407528",
            "filename": "third_party/xla/xla/pjrt/distributed/client.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -33,7 +33,7 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"grpcpp/channel.h\"\n #include \"xla/pjrt/distributed/key_value_store_interface.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/tsl/platform/env.h\"\n \n namespace tsl {"
        },
        {
            "sha": "41b731a0390b3655f9c69346b1d375f1a85c7e77",
            "filename": "third_party/xla/xla/pjrt/distributed/client_server_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient_server_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient_server_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fdistributed%2Fclient_server_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -45,7 +45,7 @@ limitations under the License.\n #include \"xla/pjrt/distributed/protocol.pb.h\"\n #include \"xla/pjrt/distributed/service.h\"\n #include \"xla/pjrt/distributed/topology_util.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n #include \"xla/tsl/platform/env.h\""
        },
        {
            "sha": "85e894fdab1fc5df4e819bd7417b987982f83cf4",
            "filename": "third_party/xla/xla/pjrt/gpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -109,7 +109,6 @@ cc_library(\n         \"//xla/service:compiler\",\n         \"//xla/service:computation_placer_hdr\",\n         \"//xla/service:executable\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:platform_util\",\n         \"//xla/service:shaped_buffer\",\n         \"//xla/service:transfer_manager\","
        },
        {
            "sha": "73aeb0acb553a23458bbbd95cfc0d55dbaf77de0",
            "filename": "third_party/xla/xla/pjrt/gpu/se_gpu_pjrt_client.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -92,7 +92,6 @@ limitations under the License.\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/compiler.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/gpu_memory_space_assignment.h\"\n #include \"xla/service/shaped_buffer.h\"\n #include \"xla/service/transfer_manager.h\""
        },
        {
            "sha": "65f833cc6a9e34ebc82aa822714df15886544d78",
            "filename": "third_party/xla/xla/pjrt/gpu/se_gpu_pjrt_client.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Fse_gpu_pjrt_client.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -52,7 +52,6 @@ limitations under the License.\n #include \"xla/pjrt/tracked_device_buffer.h\"\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/gpu_executable_run_options.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_tree.h\""
        },
        {
            "sha": "89e8e796feaef136780d6416c9d99c1f21370c8f",
            "filename": "third_party/xla/xla/pjrt/gpu/tfrt/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -98,7 +98,6 @@ cc_library(\n         \"//xla/service:computation_placer_hdr\",\n         \"//xla/service:executable\",\n         \"//xla/service:generic_transfer_manager\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_cost_analysis\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/service:maybe_owning_device_memory\","
        },
        {
            "sha": "3eb8a031864c4f31a7b0ac9311bc2a1f81788038",
            "filename": "third_party/xla/xla/pjrt/gpu/tfrt/tfrt_gpu_executable.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Ftfrt_gpu_executable.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Ftfrt_gpu_executable.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Ftfrt_gpu_executable.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -67,7 +67,6 @@ limitations under the License.\n #include \"xla/service/compiler.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/executable.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/gpu_executable_run_options.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/service/maybe_owning_device_memory.h\""
        },
        {
            "sha": "d6a067722f3c851cfa3c206ff62dd25bbabce961",
            "filename": "third_party/xla/xla/pjrt/gpu/tfrt/utils.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Futils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Futils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fgpu%2Ftfrt%2Futils.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -77,7 +77,6 @@ limitations under the License.\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/compiler.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/service/transfer_manager.h\"\n #include \"xla/shape.h\""
        },
        {
            "sha": "fe76f2d64dd955dcddda52cfdefc24e9e2a2b077",
            "filename": "third_party/xla/xla/pjrt/pjrt_executable.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_executable.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_executable.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fpjrt_executable.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -43,9 +43,9 @@ limitations under the License.\n #include \"xla/pjrt/proto/compile_options.pb.h\"\n #include \"xla/pjrt/proto/executable_metadata.pb.h\"\n #include \"xla/pjrt/proto/execute_options.pb.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/compiler.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/service/hlo_cost_analysis.h\"\n #include \"xla/shape.h\""
        },
        {
            "sha": "1d67d269471d26db0019ac5eeda85f1e3a8ac0ae",
            "filename": "third_party/xla/xla/python/pjrt_ifrt/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -347,8 +347,8 @@ cc_library(\n         \"//xla/python/ifrt:client_impl_util\",\n         \"//xla/python/ifrt:user_context\",\n         \"//xla/python/ifrt/hlo:hlo_program\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_proto_cc\",\n         \"//xla/tsl/concurrency:future\",\n         \"//xla/tsl/concurrency:ref_count\","
        },
        {
            "sha": "d94d21da799b81b0ea6a88c75d74ab6c67715459",
            "filename": "third_party/xla/xla/python/pjrt_ifrt/pjrt_client.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_client.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_client.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_client.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -83,7 +83,7 @@ limitations under the License.\n #include \"xla/python/pjrt_ifrt/pjrt_topology.h\"\n #include \"xla/python/pjrt_ifrt/pjrt_tuple.h\"\n #include \"xla/python/pjrt_ifrt/xla_sharding.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/status_macros.h\""
        },
        {
            "sha": "cc4faeff4c58a8efe8b1cda64d193f55950b6ffc",
            "filename": "third_party/xla/xla/python/pjrt_ifrt/pjrt_executable.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_executable.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_executable.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fpjrt_ifrt%2Fpjrt_executable.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -68,7 +68,7 @@ limitations under the License.\n #include \"xla/python/pjrt_ifrt/pjrt_memory.h\"\n #include \"xla/python/pjrt_ifrt/xla_compiler.h\"\n #include \"xla/python/pjrt_ifrt/xla_sharding.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/hlo.pb.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\""
        },
        {
            "sha": "f95c52fde46bdb3fb6287e64c1b655f7648c9a06",
            "filename": "third_party/xla/xla/service/BUILD",
            "status": "modified",
            "additions": 4,
            "deletions": 5,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -3124,14 +3124,14 @@ cc_library(\n     srcs = [\"computation_placer.cc\"],\n     hdrs = [\"computation_placer.h\"],\n     deps = [\n-        \":global_device_id\",\n         \"//xla:array2d\",\n         \"//xla:literal\",\n         \"//xla:shape_util\",\n         \"//xla:status_macros\",\n         \"//xla:types\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor/cuda:cuda_platform_id\",\n         \"//xla/stream_executor/host:host_platform_id\",\n@@ -3173,9 +3173,9 @@ cc_library(\n     name = \"computation_placer_hdr\",\n     hdrs = [\"computation_placer.h\"],\n     deps = [\n-        \":global_device_id\",\n         \"//xla:array2d\",\n         \"//xla:xla_data_proto_cc\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/stream_executor:platform\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/log:check\",\n@@ -5216,7 +5216,6 @@ cc_library(\n     deps = [\n         \":collective_permute_cycle\",\n         \":computation_placer\",\n-        \":global_device_id\",\n         \":pattern_matcher\",\n         \":source_target_pairs\",\n         \"//xla:executable_run_options\",\n@@ -5228,6 +5227,7 @@ cc_library(\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n@@ -5249,7 +5249,6 @@ xla_cc_test(\n         \":collective_ops_utils\",\n         \":collective_permute_cycle\",\n         \":computation_placer\",\n-        \":global_device_id\",\n         \":hlo_module_config\",\n         \":source_target_pairs\",\n         \"//xla:array2d\",\n@@ -5259,6 +5258,7 @@ xla_cc_test(\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/parser:hlo_parser\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/tests:xla_internal_test_main\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:statusor\",\n@@ -5323,7 +5323,6 @@ xla_cc_test(\n \n cc_library(\n     name = \"global_device_id\",\n-    srcs = [\"global_device_id.cc\"],\n     hdrs = [\"global_device_id.h\"],\n     deps = [\n         \"//xla/runtime:device_id\","
        },
        {
            "sha": "828760111d9db078cd2b8fc54627153d353d2468",
            "filename": "third_party/xla/xla/service/collective_ops_utils.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -38,9 +38,9 @@ limitations under the License.\n #include \"xla/literal.h\"\n #include \"xla/literal_util.h\"\n #include \"xla/primitive_util.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_permute_cycle.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/pattern_matcher.h\"\n #include \"xla/service/source_target_pairs.h\"\n #include \"xla/shape_util.h\""
        },
        {
            "sha": "24d68ebec48c668ae2f47c9d8a41a25c3e63ffc5",
            "filename": "third_party/xla/xla/service/collective_ops_utils.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -28,6 +28,7 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/str_format.h\"\n+#include \"absl/strings/str_join.h\"\n #include \"absl/strings/string_view.h\"\n #include \"absl/types/span.h\"\n #include \"xla/executable_run_options.h\"\n@@ -38,9 +39,9 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_opcode.h\"\n #include \"xla/hlo/ir/replica_group.h\"\n #include \"xla/literal.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_permute_cycle.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/pattern_matcher.h\"\n #include \"xla/service/source_target_pairs.h\"\n #include \"xla/stream_executor/device_memory.h\"\n@@ -292,7 +293,7 @@ struct RendezvousKey {\n     return absl::StrFormat(\n         \"RendezvousKey{run_id=%s, global_devices=[%s], \"\n         \"num_local_participants=%d, collective_op_kind=%s, op_id=%d}\",\n-        run_id.ToString(), GlobalDeviceIdsToString(global_devices),\n+        run_id.ToString(), absl::StrJoin(global_devices, \", \"),\n         num_local_participants, CollectiveOpKindString(), op_id);\n   }\n "
        },
        {
            "sha": "588f12f8d8667ec3e166a9ed82ac16274530accb",
            "filename": "third_party/xla/xla/service/collective_ops_utils_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcollective_ops_utils_test.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -39,9 +39,9 @@ limitations under the License.\n #include \"xla/hlo/parser/hlo_parser.h\"\n #include \"xla/literal.h\"\n #include \"xla/literal_util.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_permute_cycle.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo_module_config.h\"\n #include \"xla/service/source_target_pairs.h\"\n #include \"xla/shape.h\""
        },
        {
            "sha": "35d57b425fab690537397de9a109c1674b7a3f9e",
            "filename": "third_party/xla/xla/service/computation_placer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -32,7 +32,7 @@ limitations under the License.\n #include \"absl/strings/str_cat.h\"\n #include \"absl/strings/str_format.h\"\n #include \"absl/synchronization/mutex.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/stream_executor/cuda/cuda_platform_id.h\"\n #include \"xla/stream_executor/host/host_platform_id.h\"\n #include \"xla/stream_executor/platform.h\""
        },
        {
            "sha": "36242db28a7b25c7e8b4f83dde4a7760c84bd0b9",
            "filename": "third_party/xla/xla/service/computation_placer.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcomputation_placer.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -25,7 +25,7 @@ limitations under the License.\n #include \"absl/log/check.h\"\n #include \"absl/status/statusor.h\"\n #include \"xla/array2d.h\"\n-#include \"xla/service/global_device_id.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/stream_executor/platform.h\"\n #include \"xla/xla_data.pb.h\"\n "
        },
        {
            "sha": "b63c980845480441c6afa880f15a594d4fbe417d",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -992,9 +992,9 @@ cc_library(\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/hlo/parser:hlo_parser\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/concurrency:async_value\","
        },
        {
            "sha": "8741a6deef6e8d397a0d8c5828eb350e58ed449c",
            "filename": "third_party/xla/xla/service/cpu/cpu_runtime.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_runtime.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_runtime.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_runtime.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -51,10 +51,10 @@ limitations under the License.\n #include \"xla/hlo/parser/hlo_parser.h\"\n #include \"xla/layout_util.h\"\n #include \"xla/primitive_util.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/cpu/cpu_executable_run_options.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream_executor.h\""
        },
        {
            "sha": "81632784860bfdadd14e36818d11ccce6379a7e6",
            "filename": "third_party/xla/xla/service/global_device_id.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 31,
            "changes": 31,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a57f99ab2cc78ef9af662255f054f8d40cbafbd4/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a57f99ab2cc78ef9af662255f054f8d40cbafbd4/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.cc?ref=a57f99ab2cc78ef9af662255f054f8d40cbafbd4",
            "patch": "@@ -1,31 +0,0 @@\n-/* Copyright 2020 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#include \"xla/service/global_device_id.h\"\n-\n-#include \"absl/strings/str_join.h\"\n-\n-namespace xla {\n-\n-std::string GlobalDeviceIdsToString(absl::Span<GlobalDeviceId const> ids) {\n-  std::vector<int64_t> values;\n-  values.reserve(ids.size());\n-  for (GlobalDeviceId id : ids) {\n-    values.push_back(id.value());\n-  }\n-  return absl::StrJoin(values, \",\");\n-}\n-\n-}  // namespace xla"
        },
        {
            "sha": "58b80e3369132ad6467b5bb8524ac1578ed0633f",
            "filename": "third_party/xla/xla/service/global_device_id.h",
            "status": "modified",
            "additions": 1,
            "deletions": 10,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fglobal_device_id.h?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -16,16 +16,7 @@ limitations under the License.\n #ifndef XLA_SERVICE_GLOBAL_DEVICE_ID_H_\n #define XLA_SERVICE_GLOBAL_DEVICE_ID_H_\n \n-#include <string>\n-\n-#include \"absl/types/span.h\"\n+// TODO(ezhulenev): Remove this file once all references are updated.\n #include \"xla/runtime/device_id.h\"\n \n-namespace xla {\n-\n-// Returns a comma-separated string of global device IDs.\n-std::string GlobalDeviceIdsToString(absl::Span<GlobalDeviceId const> ids);\n-\n-}  // namespace xla\n-\n #endif  // XLA_SERVICE_GLOBAL_DEVICE_ID_H_"
        },
        {
            "sha": "eef971488b2f045fd8d8065543b439bf7e2aaa33",
            "filename": "third_party/xla/xla/service/gpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -543,7 +543,6 @@ cc_library(\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:custom_call_status\",\n         \"//xla/service:custom_call_target_registry\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_creation_utils\",\n         \"//xla/service:name_uniquer\",\n         \"//xla/service:platform_util\","
        },
        {
            "sha": "df25746df34de990e01920efb21e1b403db0d1f0",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2FBUILD?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -414,9 +414,9 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/pass:hlo_pass\",\n         \"//xla/hlo/utils:hlo_query\",\n+        \"//xla/runtime:device_id\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer_hdr\",\n-        \"//xla/service:global_device_id\",\n         \"//xla/service:hlo_creation_utils\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/container:btree\","
        },
        {
            "sha": "39cc425e8335d9651b4dc88ac22df432901c1a42",
            "filename": "third_party/xla/xla/service/gpu/transforms/collectives/all_reduce_blueconnect.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/d79e5893fbaec3ab7430ac7ba7e39b4958cbca43/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Fcollectives%2Fall_reduce_blueconnect.cc?ref=d79e5893fbaec3ab7430ac7ba7e39b4958cbca43",
            "patch": "@@ -33,9 +33,9 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/hlo/ir/hlo_opcode.h\"\n #include \"xla/hlo/utils/hlo_query.h\"\n+#include \"xla/runtime/device_id.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n-#include \"xla/service/global_device_id.h\"\n #include \"xla/service/hlo_creation_utils.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\""
        }
    ],
    "stats": {
        "total": 201,
        "additions": 75,
        "deletions": 126
    }
}