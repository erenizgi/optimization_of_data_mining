{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845751970",
    "sha": "44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f",
    "files": [
        {
            "sha": "44841721f09a1f3ed4a99f8b8d9fec8105de3ba5",
            "filename": "third_party/xla/xla/pjrt/c_api_client/pjrt_c_api_client.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client.cc?ref=44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f",
            "patch": "@@ -3154,7 +3154,8 @@ absl::StatusOr<std::unique_ptr<PjRtBuffer>> PjRtCApiBuffer::CopyToMemorySpace(\n         std::make_unique<PjRtCApiBuffer>(client_, args.dst_buffer));\n   } else {\n     // Copy across PjRtClients by copying through host\n-    TF_ASSIGN_OR_RETURN(std::shared_ptr<Literal> literal, ToLiteralSync());\n+    TF_ASSIGN_OR_RETURN(std::shared_ptr<Literal> literal,\n+                        PjRtBuffer::ToLiteral().Await());\n     absl::InlinedVector<int64_t, 4> byte_strides(\n         literal->shape().dimensions().size());\n     TF_RETURN_IF_ERROR(ShapeUtil::UnpackedByteStrides("
        },
        {
            "sha": "e9ac7f309dc6f3d8805a0c3002fdfdedfeb4f4c4",
            "filename": "third_party/xla/xla/pjrt/c_api_client/pjrt_c_api_client_test.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpjrt%2Fc_api_client%2Fpjrt_c_api_client_test.cc?ref=44e7ac6a6bd57628ab96d4f5192b7d34d9a8d47f",
            "patch": "@@ -125,7 +125,7 @@ TEST(PjRtCApiClientTest, FulfillAliasBuffer) {\n   ASSERT_NE(alias_buffer.second, nullptr);\n   TF_ASSERT_OK(std::move(alias_buffer.second)(result_buffer.get()));\n   TF_ASSERT_OK_AND_ASSIGN(auto alias_literal,\n-                          alias_buffer.first->ToLiteralSync());\n+                          alias_buffer.first->ToLiteral().Await());\n \n   // Expected result: data + 1\n   EXPECT_TRUE(LiteralTestUtil::Equal(\n@@ -370,7 +370,7 @@ TEST(PjRtClientTest, CreateViewAndCopyToDeviceAsyncExternalCpuOnly) {\n       buffer->CopyToMemorySpace(client->memory_spaces()[1]));\n   buffer.reset();\n   ASSERT_TRUE(result);\n-  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteralSync());\n+  TF_ASSERT_OK_AND_ASSIGN(auto literal, result->ToLiteral().Await());\n \n   std::vector<int32_t> expected(4, 0);\n   EXPECT_TRUE(LiteralTestUtil::Equal(LiteralUtil::CreateR1<int32_t>(expected),\n@@ -526,7 +526,7 @@ TEST(PjRtCApiClientTest, ForwardExecuteContext) {\n   auto result = executable->Execute(/*argument_handles=*/{{}}, options);\n \n   TF_ASSERT_OK_AND_ASSIGN(std::shared_ptr<xla::Literal> result_literal,\n-                          result->at(0).at(0)->ToLiteralSync());\n+                          result->at(0).at(0)->ToLiteral().Await());\n   EXPECT_TRUE(LiteralTestUtil::Equal(\n       LiteralUtil::CreateR1<float>({42.0f, 42.0f, 42.0f, 42.0f}),\n       *result_literal));"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 5,
        "deletions": 4
    }
}