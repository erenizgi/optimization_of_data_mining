{
    "author": "DottsGit",
    "message": "Update decode_image tests to exclude unsupported channel configuration\n\n- Removed test case for channel count 2 (grayscale + alpha) as decode_image does not support it.\n- Updated comments to clarify supported channel configurations (0, 1, 3, 4).\n- Ensured tests focus on valid channel scenarios for improved accuracy.",
    "sha": "be26739187a05986de666c91a0eafdd53cb53b6b",
    "files": [
        {
            "sha": "8500cd77327794b33133b7f437720c57b1ea1974",
            "filename": "tensorflow/python/ops/image_ops_test.py",
            "status": "modified",
            "additions": 2,
            "deletions": 9,
            "changes": 11,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/be26739187a05986de666c91a0eafdd53cb53b6b/tensorflow%2Fpython%2Fops%2Fimage_ops_test.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/be26739187a05986de666c91a0eafdd53cb53b6b/tensorflow%2Fpython%2Fops%2Fimage_ops_test.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fops%2Fimage_ops_test.py?ref=be26739187a05986de666c91a0eafdd53cb53b6b",
            "patch": "@@ -6660,7 +6660,8 @@ def process_image_fixed(image_bytes):\n       self.assertTrue(shape_list[1] is None or shape_list[1] == 2)\n \n       # Test different channel configurations.\n-      for channels in [0, 1, 2, 3, 4]:\n+      # Note: decode_image only supports channels 0, 1, 3, 4 (not 2).\n+      for channels in [0, 1, 3, 4]:\n         if channels == 0:\n           # Use auto-detection with RGB JPEG.\n           test_bytes = jpeg_bytes\n@@ -6670,14 +6671,6 @@ def process_image_fixed(image_bytes):\n                                            dtype=dtypes.uint8)\n           gray_image = array_ops.expand_dims(gray_image, -1)\n           test_bytes = gen_image_ops.encode_png(gray_image)\n-        elif channels == 2:\n-          # Create grayscale + alpha test image using PNG.\n-          gray_alpha_image = constant_op.constant([[[128, 255],\n-                                                    [64, 128]], \n-                                                   [[192, 64],\n-                                                    [32, 192]]], \n-                                                  dtype=dtypes.uint8)\n-          test_bytes = gen_image_ops.encode_png(gray_alpha_image)\n         elif channels == 4:\n           # Create RGBA test image using PNG (JPEG doesn't support 4 channels).\n           rgba_image = constant_op.constant([[[255, 0, 0, 255],"
        }
    ],
    "stats": {
        "total": 11,
        "additions": 2,
        "deletions": 9
    }
}