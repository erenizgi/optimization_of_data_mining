{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 809699962",
    "sha": "47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb",
    "files": [
        {
            "sha": "a5f7056aaf2c8feeca2c00983216c200bf82a711",
            "filename": "third_party/xla/xla/stream_executor/host/host_stream_factory.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_factory.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_factory.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_factory.cc?ref=47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb",
            "patch": "@@ -46,7 +46,7 @@ namespace host {\n // static\n void HostStreamFactory::Register(std::unique_ptr<HostStreamFactory> factory,\n                                  int priority) {\n-  absl::MutexLock l(get_host_stream_factory_lock());\n+  absl::MutexLock l(*get_host_stream_factory_lock());\n   FactoryItem& factory_item = host_stream_factory();\n   if (factory_item.factory == nullptr) {\n     factory_item.factory = std::move(factory);\n@@ -61,7 +61,7 @@ void HostStreamFactory::Register(std::unique_ptr<HostStreamFactory> factory,\n \n // static\n const HostStreamFactory* HostStreamFactory::GetFactory() {\n-  absl::ReaderMutexLock l(get_host_stream_factory_lock());\n+  absl::ReaderMutexLock l(*get_host_stream_factory_lock());\n   FactoryItem& factory_item = host_stream_factory();\n   return factory_item.factory.get();\n }"
        },
        {
            "sha": "14c13c3f869d792fe4183086f308270211e19388",
            "filename": "third_party/xla/xla/stream_executor/host/host_stream_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fhost%2Fhost_stream_test.cc?ref=47e5a2bbdffad9df0197fa94f7a75fb46cdcabfb",
            "patch": "@@ -34,14 +34,14 @@ TEST(HostStream, EnforcesFIFOOrder) {\n   bool ok = true;\n   for (int i = 0; i < 2000; ++i) {\n     TF_ASSERT_OK(stream->DoHostCallback([i, &mu, &expected, &ok]() {\n-      absl::MutexLock lock(&mu);\n+      absl::MutexLock lock(mu);\n       if (expected != i) {\n         ok = false;\n       }\n       ++expected;\n     }));\n   }\n   TF_ASSERT_OK(stream->BlockHostUntilDone());\n-  absl::MutexLock lock(&mu);\n+  absl::MutexLock lock(mu);\n   EXPECT_TRUE(ok);\n }"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    }
}