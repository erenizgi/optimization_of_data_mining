{
    "author": "tensorflower-gardener",
    "message": "Minor interface updates to use string_view instead of const ref strings.\n\nPiperOrigin-RevId: 838010118",
    "sha": "7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
    "files": [
        {
            "sha": "8dbd7dfcd9bf5b3d7cb879551ca55e7eceec75b5",
            "filename": "tensorflow/lite/toco/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2FBUILD?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -175,6 +175,7 @@ cc_library(\n         \"//tensorflow/core:lib_internal\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/strings:str_format\",\n+        \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_protobuf//:protobuf_headers\",\n     ],\n )\n@@ -339,7 +340,6 @@ cc_library(\n         \":model_flags_proto_cc\",\n         \":runtime\",\n         \":toco_flags_proto_cc\",\n-        \":toco_graphviz_dump_options\",\n         \":toco_port\",\n         \":tooling_util\",\n         \":types_proto_cc\","
        },
        {
            "sha": "7cac8b404b2088dcefbe58a3a23f4398df411168",
            "filename": "tensorflow/lite/toco/import_tensorflow.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.cc?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -2806,7 +2806,7 @@ std::unique_ptr<Model> ImportTensorFlowGraphDef(\n \n std::unique_ptr<Model> ImportTensorFlowGraphDef(\n     const ModelFlags& model_flags, const TensorFlowImportFlags& tf_import_flags,\n-    const std::string& input_file_contents) {\n+    absl::string_view input_file_contents) {\n   std::unique_ptr<GraphDef> tf_graph(new GraphDef);\n   CHECK(ParseFromStringEitherTextOrBinary(input_file_contents, tf_graph.get()));\n "
        },
        {
            "sha": "488059580036f9be2ee84c3ce14ec493db0342e4",
            "filename": "tensorflow/lite/toco/import_tensorflow.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Fimport_tensorflow.h?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -16,7 +16,8 @@ limitations under the License.\n #define TENSORFLOW_LITE_TOCO_IMPORT_TENSORFLOW_H_\n \n #include <memory>\n-#include <string>\n+\n+#include \"absl/strings/string_view.h\"\n #include \"tensorflow/core/framework/graph.pb.h\"\n #include \"tensorflow/lite/toco/model.h\"\n #include \"tensorflow/lite/toco/model_flags.pb.h\"\n@@ -43,7 +44,7 @@ std::unique_ptr<Model> ImportTensorFlowGraphDef(\n // flags.\n std::unique_ptr<Model> ImportTensorFlowGraphDef(\n     const ModelFlags& model_flags, const TensorFlowImportFlags& tf_import_flags,\n-    const std::string& input_file_contents);\n+    absl::string_view input_file_contents);\n \n }  // namespace toco\n "
        },
        {
            "sha": "a5aced569373fe337df9585c96edb820921b3a14",
            "filename": "tensorflow/lite/toco/tflite/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Ftflite%2FBUILD?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -176,6 +176,7 @@ cc_library(\n         \"//tensorflow/lite/toco:tooling_util\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n+        \"@com_google_absl//absl/strings:string_view\",\n         \"@flatbuffers\",\n     ],\n )"
        },
        {
            "sha": "79b5a920369ee9b2d12c4bcb00090eeff4588624",
            "filename": "tensorflow/lite/toco/tflite/import.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.cc?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -22,6 +22,7 @@ limitations under the License.\n \n #include \"absl/log/check.h\"\n #include \"absl/log/log.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"flatbuffers/verifier.h\"  // from @flatbuffers\n #include \"tensorflow/compiler/mlir/lite/schema/schema_utils.h\"\n #include \"tensorflow/lite/core/tools/verifier.h\"\n@@ -210,7 +211,7 @@ bool Verify(const void* buf, size_t len) {\n }  // namespace\n \n std::unique_ptr<Model> Import(const ModelFlags& model_flags,\n-                              const std::string& input_file_contents) {\n+                              absl::string_view input_file_contents) {\n   ::tflite::AlwaysTrueResolver r;\n   if (!::tflite::Verify(input_file_contents.data(), input_file_contents.size(),\n                         r, ::tflite::DefaultErrorReporter())) {"
        },
        {
            "sha": "d09e1f52d149c0ef2ac3eb04d47f1930272882a6",
            "filename": "tensorflow/lite/toco/tflite/import.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Ftflite%2Fimport.h?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -19,6 +19,7 @@ limitations under the License.\n #include <string>\n #include <vector>\n \n+#include \"absl/strings/string_view.h\"\n #include \"tensorflow/lite/schema/schema_generated.h\"\n #include \"tensorflow/lite/toco/model.h\"\n #include \"tensorflow/lite/toco/model_flags.pb.h\"\n@@ -28,8 +29,8 @@ namespace toco {\n namespace tflite {\n \n // Parse the given string as TF Lite flatbuffer and return a new tf.mini model.\n-std::unique_ptr<Model> Import(const ModelFlags &model_flags,\n-                              const std::string &input_file_contents);\n+std::unique_ptr<Model> Import(const ModelFlags& model_flags,\n+                              absl::string_view input_file_contents);\n \n namespace details {\n "
        },
        {
            "sha": "e7ebb8c28f5693da775a879854dde3e66ab5a83c",
            "filename": "tensorflow/lite/toco/toco_port.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftoco_port.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc/tensorflow%2Flite%2Ftoco%2Ftoco_port.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Ftoco%2Ftoco_port.h?ref=7fa5d80439c6cb2aa721166ab8015cf5fcf75bcc",
            "patch": "@@ -22,6 +22,8 @@ limitations under the License.\n #include <string>\n \n #include \"google/protobuf/text_format.h\"\n+#include \"absl/status/status.h\"\n+#include \"absl/strings/string_view.h\"\n #include \"tensorflow/core/lib/core/status.h\"\n #include \"tensorflow/core/platform/logging.h\"\n #include \"tensorflow/core/platform/platform.h\"\n@@ -94,13 +96,13 @@ inline uint32_t ReverseBits32(uint32_t n) {\n }\n }  // namespace port\n \n-inline bool ParseFromStringOverload(const std::string& in,\n+inline bool ParseFromStringOverload(absl::string_view in,\n                                     TFLITE_PROTO_NS::Message* proto) {\n   return TFLITE_PROTO_NS::TextFormat::ParseFromString(in, proto);\n }\n \n template <typename Proto>\n-bool ParseFromStringEitherTextOrBinary(const std::string& input_file_contents,\n+bool ParseFromStringEitherTextOrBinary(absl::string_view input_file_contents,\n                                        Proto* proto) {\n   if (proto->ParseFromString(input_file_contents)) {\n     return true;"
        }
    ],
    "stats": {
        "total": 24,
        "additions": 15,
        "deletions": 9
    }
}