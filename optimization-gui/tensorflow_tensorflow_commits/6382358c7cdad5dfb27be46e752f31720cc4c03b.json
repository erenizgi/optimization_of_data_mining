{
    "author": "terryysun",
    "message": "PR #31457: [NVIDIA GPU] Add actionable message for NVML library loading error\n\nImported from GitHub PR https://github.com/openxla/xla/pull/31457\n\nüìù Summary of Changes\nUsers don't need to worry about NVML library loading error when not running on MNNVL nodes, use VLOG(0) so it's not shown by default. Also added actionable messages for fixing it.\n\nüéØ Justification\nShowing the error message by default without actionable suggestions caused confusion. https://github.com/jax-ml/jax/issues/31615\n\nüöÄ Kind of Contribution\nüêõ Bug Fix\n\nüìä Benchmark (for Performance Improvements)\nN/A for logging changes.\n\nüß™ Unit Tests:\nN/A for logging changes.\n\nüß™ Execution Tests:\nN/A for logging changes.\n\nCopybara import of the project:\n\n--\n8811127339f5364be257563713dfb37d60347c71 by Terry Sun <tesun@nvidia.com>:\n\nactionable message for NVML library loading error\n\nMerging this change closes #31457\n\nPiperOrigin-RevId: 808474549",
    "sha": "6382358c7cdad5dfb27be46e752f31720cc4c03b",
    "files": [
        {
            "sha": "5824da686e602586c57fc7c32afbe4a267c929ef",
            "filename": "third_party/xla/xla/service/gpu/model/gpu_collective_performance_model.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/6382358c7cdad5dfb27be46e752f31720cc4c03b/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_collective_performance_model.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/6382358c7cdad5dfb27be46e752f31720cc4c03b/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_collective_performance_model.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fgpu_collective_performance_model.cc?ref=6382358c7cdad5dfb27be46e752f31720cc4c03b",
            "patch": "@@ -407,7 +407,9 @@ RocmBandwidthSettings CreateSettings(\n     if (*se.functor == nullptr) {\n       const char* dlsym_error = dlerror();\n       if (dlsym_error) {\n-        LOG(WARNING) << dlsym_error;\n+        VLOG(0) << \"Failed to load symbol \" << se.name << \": \" << dlsym_error;\n+        VLOG(0) << \"This is likely caused by insufficient CUDA driver version. \"\n+                   \"Please upgrade CUDA driver to 550 or higher.\";\n       }\n     }\n   }"
        }
    ],
    "stats": {
        "total": 4,
        "additions": 3,
        "deletions": 1
    }
}