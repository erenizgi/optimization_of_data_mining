{
    "author": "mooskagh",
    "message": "[XLA:GPU] Do not check for tensor_float_32_execution_enabled when deciding to use Triton kernel.\n\nThis is a tensorflow flag, and having it set to off should already be handled in the jax2tf conversion.\n\nPiperOrigin-RevId: 832239448",
    "sha": "74bbe7ac4a52fec70c52067ee4f2163c79b7164d",
    "files": [
        {
            "sha": "07e88ba8c458e8271b5534622373c37580989e18",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support_legacy.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/74bbe7ac4a52fec70c52067ee4f2163c79b7164d/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_legacy.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/74bbe7ac4a52fec70c52067ee4f2163c79b7164d/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_legacy.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_legacy.cc?ref=74bbe7ac4a52fec70c52067ee4f2163c79b7164d",
            "patch": "@@ -290,12 +290,11 @@ CodegenDecision CanTritonHandleGEMM(\n   CHECK(cuda_compute_capability || rocm_compute_capability);\n \n   if (dot.precision_config().algorithm() == PrecisionConfig::ALG_UNSET) {\n-    if (!tsl::tensor_float_32_execution_enabled() ||\n-        absl::c_any_of(dot.precision_config().operand_precision(),\n+    if (absl::c_any_of(dot.precision_config().operand_precision(),\n                        [](int x) { return x != PrecisionConfig::DEFAULT; })) {\n       return CodegenDecision::Forbid(\n-          \"Having non-default operand precisions or TensorFloat-32 disabled \"\n-          \"for Dot op with unset algorithm.\");\n+          \"Having non-default operand precisions for Dot op with unset \"\n+          \"algorithm.\");\n     }\n   } else {\n     if (!IsDotAlgorithmSupportedByTriton(dot.precision_config().algorithm(),"
        }
    ],
    "stats": {
        "total": 7,
        "additions": 3,
        "deletions": 4
    }
}