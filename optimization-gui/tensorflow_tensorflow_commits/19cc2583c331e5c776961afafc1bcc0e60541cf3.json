{
    "author": "alexander-shaposhnikov",
    "message": "Extend the list of skipped opcodes to avoid \"unfavorable\" materialization\n\"on the border\" of a YNN fusion.\n\nPiperOrigin-RevId: 832422146",
    "sha": "19cc2583c331e5c776961afafc1bcc0e60541cf3",
    "files": [
        {
            "sha": "db4300cc5f730def36944cf2abf8f54f3f12b537",
            "filename": "third_party/xla/xla/backends/cpu/ynn_support.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/19cc2583c331e5c776961afafc1bcc0e60541cf3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fynn_support.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/19cc2583c331e5c776961afafc1bcc0e60541cf3/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fynn_support.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fcpu%2Fynn_support.cc?ref=19cc2583c331e5c776961afafc1bcc0e60541cf3",
            "patch": "@@ -258,9 +258,12 @@ bool IsReduceOpOffloadedToYnn(const HloInstruction* hlo) {\n   }\n   switch (input->opcode()) {\n     case HloOpcode::kMultiply:\n+    case HloOpcode::kBitcast:\n     case HloOpcode::kBroadcast:\n     case HloOpcode::kSlice:\n     case HloOpcode::kConcatenate:\n+    case HloOpcode::kConvert:\n+    case HloOpcode::kReshape:\n       return false;\n     default: {\n       return true;"
        }
    ],
    "stats": {
        "total": 3,
        "additions": 3,
        "deletions": 0
    }
}