{
    "author": "ezhulenev",
    "message": "[xla:ffi] Remove deprecated TypeInfo constructor and replace it with XLA_FFI_TypeInfo alias\n\nPiperOrigin-RevId: 826692285",
    "sha": "dad4fb74cd03614aae9fde55c1b0a5a16b985892",
    "files": [
        {
            "sha": "b00ea3b834af6e1066f6a03aac2c8ef7b62c0953",
            "filename": "third_party/xla/xla/ffi/api/ffi.h",
            "status": "modified",
            "additions": 2,
            "deletions": 7,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/dad4fb74cd03614aae9fde55c1b0a5a16b985892/third_party%2Fxla%2Fxla%2Fffi%2Fapi%2Fffi.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/dad4fb74cd03614aae9fde55c1b0a5a16b985892/third_party%2Fxla%2Fxla%2Fffi%2Fapi%2Fffi.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fffi%2Fapi%2Fffi.h?ref=dad4fb74cd03614aae9fde55c1b0a5a16b985892",
            "patch": "@@ -53,7 +53,8 @@ namespace xla::ffi {\n \n // All user data types that are passed via the execution context or state must\n // be registered with the XLA FFI ahead of time to get unique type id.\n-using TypeId = XLA_FFI_TypeId;  // NOLINT\n+using TypeId = XLA_FFI_TypeId;      // NOLINT\n+using TypeInfo = XLA_FFI_TypeInfo;  // NOLINT\n \n enum class DataType : uint8_t {\n   INVALID = XLA_FFI_DataType_INVALID,\n@@ -1512,12 +1513,6 @@ inline constexpr XLA_FFI_TypeInfo MakeTypeInfo() {\n   };\n }\n \n-// // TODO(ezhulenev): Remove this once everyone migrates to MakeTypeInfo.\n-template <typename T>\n-inline constexpr XLA_FFI_TypeInfo TypeInfo() {\n-  return MakeTypeInfo<T>();\n-}\n-\n #define XLA_FFI_REGISTER_TYPE(API, NAME, TYPE_ID, TYPE_INFO) \\\n   XLA_FFI_REGISTER_TYPE_(API, NAME, TYPE_ID, TYPE_INFO, __COUNTER__)\n #define XLA_FFI_REGISTER_TYPE_(API, NAME, TYPE_ID, TYPE_INFO, N) \\"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 2,
        "deletions": 7
    }
}