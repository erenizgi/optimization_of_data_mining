{
    "author": "tensorflower-gardener",
    "message": "exclude emscripten from calls to `pthread_setname_np` in addition to apple\n\nPiperOrigin-RevId: 809092122",
    "sha": "2dff2890c4fe0590bd4d7b20b1ef6250d653b3e6",
    "files": [
        {
            "sha": "1b0cd4b573782af5c7491fa319bd93059f30a926",
            "filename": "third_party/xla/xla/tsl/platform/default/env.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/2dff2890c4fe0590bd4d7b20b1ef6250d653b3e6/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fenv.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/2dff2890c4fe0590bd4d7b20b1ef6250d653b3e6/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fenv.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fdefault%2Fenv.cc?ref=2dff2890c4fe0590bd4d7b20b1ef6250d653b3e6",
            "patch": "@@ -84,7 +84,7 @@ class PThread : public Thread {\n     CHECK_EQ(ret, 0) << \"Thread \" << name\n                      << \" creation via pthread_create() failed.\";\n     pthread_attr_destroy(&attributes);\n-#if !defined(__APPLE__)\n+#if !defined(__APPLE__) && !defined(__EMSCRIPTEN__)\n     pthread_setname_np(thread_, name.c_str());\n #endif\n   }"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}