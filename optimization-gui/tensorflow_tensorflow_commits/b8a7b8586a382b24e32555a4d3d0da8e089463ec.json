{
    "author": "Eetusjo",
    "message": "PR #32336: [ROCm] Move cupti_tracer to cuda dependencies in py_hlo_multihost_runner target\n\nImported from GitHub PR https://github.com/openxla/xla/pull/32336\n\nüìù Summary of Changes\nMove cupti_tracer to cuda dependencies in py_hlo_multihost_runner target\n\nüéØ Justification\nThis PR fixes building py_hlo_multihost_runner on ROCm, where CUPTI is not available, missed in #32012\n\nüöÄ Kind of Contribution\nüêõ Bug Fix\n\n@xla-rotation could I get a review for this PR, please?\nCopybara import of the project:\n\n--\nfdd0217f90b552767b70447487fbfec87f32cf50 by Eetu Sj√∂blom <eetu.sjoblom@amd.com>:\n\nMove cupti_tracer to cuda dependencies\n\nMerging this change closes #32336\n\nPiperOrigin-RevId: 817277069",
    "sha": "b8a7b8586a382b24e32555a4d3d0da8e089463ec",
    "files": [
        {
            "sha": "ef703fa9d06c7db9b8f4fde8bc94549d4902ec41",
            "filename": "third_party/xla/xla/tools/multihost_hlo_runner/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b8a7b8586a382b24e32555a4d3d0da8e089463ec/third_party%2Fxla%2Fxla%2Ftools%2Fmultihost_hlo_runner%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b8a7b8586a382b24e32555a4d3d0da8e089463ec/third_party%2Fxla%2Fxla%2Ftools%2Fmultihost_hlo_runner%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fmultihost_hlo_runner%2FBUILD?ref=b8a7b8586a382b24e32555a4d3d0da8e089463ec",
            "patch": "@@ -323,10 +323,10 @@ tsl_pybind_extension(\n         \"@nanobind\",\n     ] + if_cuda_or_rocm([\n         \"//xla/service:gpu_plugin\",\n-        \"//xla/backends/profiler/gpu:cupti_tracer\",\n         \"//xla/backends/profiler/gpu:device_tracer\",\n     ]) + if_cuda([\n         \"//xla/stream_executor:cuda_platform\",\n+        \"//xla/backends/profiler/gpu:cupti_tracer\",\n     ] + if_google(\n         [\n             \"//third_party/py/jax/jaxlib/cuda:cuda_gpu_kernels\",  # fixdeps: keep"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}