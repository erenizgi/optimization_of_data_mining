{
    "author": "ggawryal",
    "message": "Update TFLite docs to say that ModifyGraphWithDelegate and SetNumThreads may invalidate previous TfLiteTensor objects.\n\nPiperOrigin-RevId: 810813176",
    "sha": "0e18b918df779067d63716467267f5679b708185",
    "files": [
        {
            "sha": "ecc8f61560f82507c9dab8fa081ba23ea603f0cc",
            "filename": "tensorflow/lite/core/interpreter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0e18b918df779067d63716467267f5679b708185/tensorflow%2Flite%2Fcore%2Finterpreter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0e18b918df779067d63716467267f5679b708185/tensorflow%2Flite%2Fcore%2Finterpreter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fcore%2Finterpreter.cc?ref=0e18b918df779067d63716467267f5679b708185",
            "patch": "@@ -337,7 +337,7 @@ TfLiteStatus Interpreter::ApplyLazyDelegateProviders() {\n   TFLITE_LOG(TFLITE_LOG_INFO,\n              \"Applying %zu TensorFlow Lite delegate(s) lazily.\",\n              delegate_providers.size());\n-  // At the momement, XNNPACK delegate is the only one that might be applied\n+  // At the moment, XNNPACK delegate is the only one that might be applied\n   // by default, in which case, the execution will fall back to default\n   // implementation if the XNNPACK delegate fails to be applied.\n   for (size_t i = 0; i < delegate_providers.size(); ++i) {"
        },
        {
            "sha": "12f757bcb92ab00e06ecf561dc76915b87ba3ae9",
            "filename": "tensorflow/lite/core/interpreter.h",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/0e18b918df779067d63716467267f5679b708185/tensorflow%2Flite%2Fcore%2Finterpreter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/0e18b918df779067d63716467267f5679b708185/tensorflow%2Flite%2Fcore%2Finterpreter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fcore%2Finterpreter.h?ref=0e18b918df779067d63716467267f5679b708185",
            "patch": "@@ -607,6 +607,12 @@ class Interpreter {\n   ///\n   /// WARNING: This API is deprecated: prefer using\n   /// `InterpreterBuilder::SetNumThreads`, as documented above.\n+  /// \\warning Calling this method can (and will, when using TF Lite in Play\n+  /// Services) invalidate any pointers to `TfLiteTensor` objects previously\n+  /// obtained with this Interpreter, as well as the underlying tensor data.\n+  /// This includes e.g. `input_tensor`, `output_tensor` and `tensor` methods,\n+  /// as well as e.g. `typed_input_tensor`, `typed_output_tensor`, and\n+  /// `typed_tensor` methods.\n   TfLiteStatus SetNumThreads(int num_threads);\n \n   /// Allow float16 precision for FP32 calculation when possible.\n@@ -659,6 +665,12 @@ class Interpreter {\n   /// operator that cannot be resolved. This can happen when the op is not\n   /// registered or built with the TF Lite framework.\n   /// 5. kTfLiteError: Unexpected/runtime failure. \\n\n+  /// \\warning Calling this method can (and will, when using TF Lite in Play\n+  /// Services) invalidate any pointers to `TfLiteTensor` objects previously\n+  /// obtained with this Interpreter, as well as the underlying tensor data.\n+  /// This includes e.g. `input_tensor`, `output_tensor` and `tensor` methods,\n+  /// as well as e.g. `typed_input_tensor`, `typed_output_tensor`, and\n+  /// `typed_tensor` methods. \\n\n   /// \\warning This is an experimental API and subject to change. \\n\n   TfLiteStatus ModifyGraphWithDelegate(TfLiteDelegate* delegate);\n   TfLiteStatus ModifyGraphWithDelegate(TfLiteOpaqueDelegateStruct* delegate);"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 13,
        "deletions": 1
    }
}