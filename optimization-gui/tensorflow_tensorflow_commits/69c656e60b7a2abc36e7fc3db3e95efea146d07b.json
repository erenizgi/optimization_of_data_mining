{
    "author": "Pani122",
    "message": "Add TPU performance counters to XSpace.\n\nPiperOrigin-RevId: 848263591",
    "sha": "69c656e60b7a2abc36e7fc3db3e95efea146d07b",
    "files": [
        {
            "sha": "57d68c8dfdad3638c3fee2aa2233cac1f9e464f2",
            "filename": "third_party/xla/xla/tsl/profiler/utils/xplane_schema.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/69c656e60b7a2abc36e7fc3db3e95efea146d07b/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/69c656e60b7a2abc36e7fc3db3e95efea146d07b/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.cc?ref=69c656e60b7a2abc36e7fc3db3e95efea146d07b",
            "patch": "@@ -66,6 +66,7 @@ const absl::string_view kKernelLaunchLineName = \"Launch Stats\";\n const absl::string_view kSourceLineName = \"Source code\";\n const absl::string_view kHostOffloadOpLineName = \"Host Offload Ops\";\n const absl::string_view kCounterEventsLineName = \"_counters_\";\n+const absl::string_view kCounterValue = \"counter_value\";\n const absl::string_view kTensorCoreSyncFlagLineName = \"Tensor Core Sync Flag\";\n const absl::string_view kSparseCoreSyncsLineName = \"Sparse Core Syncs\";\n \n@@ -221,6 +222,7 @@ const StatTypeMap& GetStatTypeMap() {\n        {\"queue_addr\", kQueueAddr},\n        {\"queue_id\", kQueueId},\n        {\"request_id\", kRequestId},\n+       {\"global_chip_id\", kGlobalChipId},\n        {\"run_id\", kRunId},\n        {\"replica_id\", kReplicaId},\n        {\"graph_type\", kGraphType},\n@@ -297,6 +299,7 @@ const StatTypeMap& GetStatTypeMap() {\n        {\"dcn_collective_info\", kDcnCollectiveInfo},\n        {\"all_reduce_id\", kAllReduceId},\n        {\"all_reduce_unique_id\", kAllReduceUniqueId},\n+       {\"performance_counter_id\", kPerformanceCounterId},\n        // Performance counter related.\n        {\"Raw Value\", kRawValue},\n        {\"Scaled Value\", kScaledValue},"
        },
        {
            "sha": "dba787403d798f6670ab77e0e92ed65e79a99a96",
            "filename": "third_party/xla/xla/tsl/profiler/utils/xplane_schema.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/69c656e60b7a2abc36e7fc3db3e95efea146d07b/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/69c656e60b7a2abc36e7fc3db3e95efea146d07b/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fprofiler%2Futils%2Fxplane_schema.h?ref=69c656e60b7a2abc36e7fc3db3e95efea146d07b",
            "patch": "@@ -84,6 +84,7 @@ TF_CONST_INIT extern const absl::string_view kXlaAsyncOpLineName;\n TF_CONST_INIT extern const absl::string_view kKernelLaunchLineName;\n TF_CONST_INIT extern const absl::string_view kSourceLineName;\n TF_CONST_INIT extern const absl::string_view kCounterEventsLineName;\n+TF_CONST_INIT extern const absl::string_view kCounterValue;\n TF_CONST_INIT extern const absl::string_view kHostOffloadOpLineName;\n TF_CONST_INIT extern const absl::string_view kTensorCoreSyncFlagLineName;\n TF_CONST_INIT extern const absl::string_view kSparseCoreSyncsLineName;\n@@ -209,6 +210,7 @@ enum StatType {\n   kQueueId,\n   kQueueAddr,\n   kRequestId,\n+  kGlobalChipId,\n   kRunId,\n   kReplicaId,\n   kGraphType,\n@@ -285,6 +287,7 @@ enum StatType {\n   kBytesTransferred,\n   kDmaQueue,\n   kDcnCollectiveInfo,\n+  kPerformanceCounterId,\n   // Performance counter related.\n   kRawValue,\n   kScaledValue,"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 6,
        "deletions": 0
    }
}