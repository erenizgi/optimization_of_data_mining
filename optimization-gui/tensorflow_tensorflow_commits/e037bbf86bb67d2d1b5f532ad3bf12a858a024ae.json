{
    "author": "pifon2a",
    "message": "[XLA] Add an opcode for `acosh`.\n\nPiperOrigin-RevId: 805445901",
    "sha": "e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
    "files": [
        {
            "sha": "14f22c186a2b2511328d96cea6efbd0c3af27760",
            "filename": "tensorflow/compiler/tf2xla/kernels/unary_ops.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -54,7 +54,7 @@ XLAJIT_MAKE_UNARY(Conj, xla::Conj(x));\n // Return x if x>0, otherwise -x.\n REGISTER_XLA_OP(Name(\"Abs\"), MlirXlaOpKernel);\n XLAJIT_MAKE_UNARY(Acos, xla::Acos(x));\n-XLAJIT_MAKE_UNARY(Acosh, xla::Acosh(x));\n+REGISTER_XLA_OP(Name(\"Acosh\"), MlirXlaOpKernel);\n XLAJIT_MAKE_UNARY(Asin, xla::Asin(x))\n XLAJIT_MAKE_UNARY(Asinh, xla::Asinh(x));\n REGISTER_XLA_OP(Name(\"Atan\"), MlirXlaOpKernel);"
        },
        {
            "sha": "c00a18a5dc8a26e341c5d4ed9456aa70a0f33250",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2FBUILD?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -992,7 +992,6 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:algorithm_util\",\n         \"//xla/service:instruction_fusion\",\n-        \"//xla/service:matmul_indexing_utils\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu:ir_emission_utils\",\n         \"//xla/stream_executor:device_description\","
        },
        {
            "sha": "bfef61002ac4dcf71bd403309faad7fc268539fc",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -105,11 +105,11 @@ absl::flat_hash_set<HloOpcode> TritonSupportedUnaryElementwiseOps(\n       element_type == PrimitiveType::F32 ||\n       element_type == PrimitiveType::F64) {\n     absl::flat_hash_set<HloOpcode> additional_opcodes{\n-        HloOpcode::kCos,   HloOpcode::kExp,   HloOpcode::kExpm1,\n-        HloOpcode::kFloor, HloOpcode::kCeil,  HloOpcode::kLog,\n-        HloOpcode::kLog1p, HloOpcode::kRsqrt, HloOpcode::kSin,\n-        HloOpcode::kSqrt,  HloOpcode::kCbrt,  HloOpcode::kTan,\n-        HloOpcode::kTanh,  HloOpcode::kErf};\n+        HloOpcode::kCos,  HloOpcode::kFloor, HloOpcode::kLog1p,\n+        HloOpcode::kSqrt, HloOpcode::kTanh,  HloOpcode::kAcosh,\n+        HloOpcode::kExp,  HloOpcode::kExpm1, HloOpcode::kCbrt,\n+        HloOpcode::kErf,  HloOpcode::kLog,   HloOpcode::kTan,\n+        HloOpcode::kCeil, HloOpcode::kRsqrt, HloOpcode::kSin};\n     ret.insert(additional_opcodes.begin(), additional_opcodes.end());\n   }\n "
        },
        {
            "sha": "feb2ef4d41cc31b58ffaeb56b719c1b311f18d8d",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support_test.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -76,6 +76,8 @@ bool DoesOpSupportType(HloOpcode opcode, PrimitiveType type) {\n     case HloOpcode::kXor:\n     case HloOpcode::kNot:\n       return type == PRED || pu::IsIntegralType(type);\n+    case HloOpcode::kAcosh:\n+      return pu::IsFloatingPointType(type);\n     case HloOpcode::kAtan2:\n     case HloOpcode::kCos:\n     case HloOpcode::kExp:\n@@ -443,6 +445,7 @@ constexpr std::array kTestedOpsUnaryElementwise = {\n     // clang-format off\n     // go/keep-sorted start\n     HloOpcode::kAbs,\n+    HloOpcode::kAcosh,\n     HloOpcode::kCbrt,\n     HloOpcode::kCeil,\n     HloOpcode::kClz,"
        },
        {
            "sha": "abfad66957a0cc57975e15c5f71028664ddbe653",
            "filename": "third_party/xla/xla/codegen/emitters/elemental_hlo_to_mlir.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -1023,6 +1023,8 @@ absl::StatusOr<SmallVector<Value, 1>> HloToMlir(\n       return {MapHloOp<mhlo::AbsOp>(\n           PrimitiveTypeToMlirType(element_type, builder), arg_types, operands,\n           /*attributes=*/{}, builder)};\n+    case HloOpcode::kAcosh:\n+      return MapElementwiseOp<mhlo::AcoshOp>(arg_types, operands, builder);\n     case HloOpcode::kAdd:\n       if (element_type == PRED) {\n         return MapElementwiseOp<mhlo::OrOp>(arg_types, operands, builder);"
        },
        {
            "sha": "33c87f3b7ec10165c9e35904ead58ee3fdaa0b3e",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/acosh_f32.hlo",
            "status": "added",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f32.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f32.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f32.hlo?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -0,0 +1,10 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+\n+fusion {\n+  p0 = f32[256] parameter(0)\n+  ROOT acosh = f32[256] acosh(p0)\n+}\n+\n+// CHECK: llvm.call @__nv_acoshf"
        },
        {
            "sha": "134660dc8fe0c1742f267417f4f104b86b7b55e4",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/acosh_f64.hlo",
            "status": "added",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f64.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f64.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Facosh_f64.hlo?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -0,0 +1,9 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+\n+fusion {\n+  p0 = f64[256] parameter(0)\n+  ROOT acosh = f64[256] acosh(p0)\n+}\n+// CHECK: llvm.call @__nv_acosh("
        },
        {
            "sha": "1bb950245a55593b5ad3577c056822d16122a7f7",
            "filename": "third_party/xla/xla/codegen/tools/emitters_opt.cc",
            "status": "modified",
            "additions": 21,
            "deletions": 3,
            "changes": 24,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Ftools%2Femitters_opt.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fcodegen%2Ftools%2Femitters_opt.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Ftools%2Femitters_opt.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -70,8 +70,9 @@ int main(int argc, char** argv) {\n       [=](mlir::OpPassManager& pm, llvm::StringRef options,\n           llvm::function_ref<mlir::LogicalResult(const llvm::Twine&)>\n               errorHandler) {\n-        if (!options.empty()) return mlir::failure();\n-\n+        if (!options.empty()) {\n+          return mlir::failure();\n+        }\n         xla::emitters::RegisterOptimizationPasses(pm);\n         return mlir::success();\n       },\n@@ -83,12 +84,29 @@ int main(int argc, char** argv) {\n       [=](mlir::OpPassManager& pm, llvm::StringRef options,\n           llvm::function_ref<mlir::LogicalResult(const llvm::Twine&)>\n               errorHandler) {\n-        if (!options.empty()) return mlir::failure();\n+        if (!options.empty()) {\n+          return mlir::failure();\n+        }\n         xla::gpu::AddLoopTransformationPasses(\n             pm, xla::gpu::TestGpuDeviceInfo::RTXA6000DeviceInfo());\n         return mlir::success();\n       },\n       [](llvm::function_ref<void(const mlir::detail::PassOptions&)>) {});\n+  mlir::registerPassPipeline(\n+      \"xla-gpu-test-to-llvm\",\n+      \"Test pipeline for the lowering to LLVM. Should run after \"\n+      \"xla-gpu-test-to-transform-loops.\",\n+      [=](mlir::OpPassManager& pm, llvm::StringRef options,\n+          llvm::function_ref<mlir::LogicalResult(const llvm::Twine&)>\n+              errorHandler) {\n+        if (!options.empty()) {\n+          return mlir::failure();\n+        }\n+        xla::gpu::AddLoweringPasses(\n+            pm, xla::gpu::TestGpuDeviceInfo::RTXA6000DeviceInfo());\n+        return mlir::success();\n+      },\n+      [](llvm::function_ref<void(const mlir::detail::PassOptions&)>) {});\n \n   return mlir::failed(\n       MlirOptMain(argc, argv, \"XLA Emitters Pass Driver\\n\", registry));"
        },
        {
            "sha": "ba60c54c20ad0cedf77b930348447f07c374af55",
            "filename": "third_party/xla/xla/hlo/evaluator/hlo_evaluator_typed_visitor.h",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -239,6 +239,19 @@ class HloEvaluatorTypedVisitor : public ConstDfsHloVisitorWithDefault {\n     return HandleAbs<ElementwiseT>(abs);\n   }\n \n+  absl::Status HandleAcosh(const HloInstruction* acosh) override {\n+    if constexpr (!is_complex_v<ReturnT>) {\n+      TF_ASSIGN_OR_RETURN(\n+          Literal literal,\n+          ElementWiseUnaryOp(acosh, [](ElementwiseT elem_operand) {\n+            return std::acosh(elem_operand);\n+          }));\n+      parent_->SetEvaluatedLiteralFor(acosh, std::move(literal));\n+      return absl::OkStatus();\n+    }\n+    return UnsupportedTypeError(acosh);\n+  }\n+\n   absl::Status HandleRound(const HloInstruction* round) override {\n     if constexpr (!is_complex_v<ReturnT>) {\n       TF_ASSIGN_OR_RETURN("
        },
        {
            "sha": "3887a5e4910ea3b90c973ae8aa273ddb76f48976",
            "filename": "third_party/xla/xla/hlo/ir/dfs_hlo_visitor.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -171,6 +171,9 @@ class DfsHloVisitorBase {\n   virtual absl::Status HandleAbs(HloInstructionPtr hlo) {\n     return HandleElementwiseUnary(hlo);\n   }\n+  virtual absl::Status HandleAcosh(HloInstructionPtr hlo) {\n+    return HandleElementwiseUnary(hlo);\n+  }\n   virtual absl::Status HandleAtan2(HloInstructionPtr hlo) {\n     return HandleElementwiseBinary(hlo);\n   }"
        },
        {
            "sha": "f9977b2119d2842defc7d1d48c729f05c568f097",
            "filename": "third_party/xla/xla/hlo/ir/hlo_instruction.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 7,
            "changes": 21,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -1300,6 +1300,7 @@ absl::StatusOr<std::unique_ptr<HloInstruction>> HloInstruction::CreateFromProto(\n             output_to_operand_aliasing());\n       }\n       break;\n+      case HloOpcode::kAcosh:\n       case HloOpcode::kCos:\n       case HloOpcode::kErf:\n       case HloOpcode::kExp:\n@@ -1490,6 +1491,7 @@ HloInstruction::CreateRngBitGenerator(const Shape& shape, HloInstruction* state,\n     case HloOpcode::kReal:\n     case HloOpcode::kSign:\n       return CreateNary(shape, opcode, {operand});\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kCos:\n     case HloOpcode::kErf:\n     case HloOpcode::kExp:\n@@ -2712,6 +2714,7 @@ std::unique_ptr<HloInstruction> HloInstruction::CloneWithNewOperands(\n       break;\n     // Unary ops.\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAllGatherDone:\n     case HloOpcode::kAllReduceDone:\n     case HloOpcode::kRoundNearestAfz:\n@@ -3176,6 +3179,7 @@ bool HloInstruction::IdenticalSlowPath(\n     // The result of these instructions only depend upon their opcode and\n     // operands.\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAllGatherDone:\n     case HloOpcode::kAllReduceDone:\n     case HloOpcode::kAtan2:\n@@ -3803,6 +3807,7 @@ bool HloInstruction::IsOpElementwise(HloOpcode opcode) {\n   switch (opcode) {\n     // Unary elementwise operations.\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kRoundNearestAfz:\n     case HloOpcode::kRoundNearestEven:\n     case HloOpcode::kCeil:\n@@ -4499,6 +4504,8 @@ absl::Status HloInstruction::Visit(\n   switch (opcode_) {\n     case HloOpcode::kAbs:\n       return visitor->HandleAbs(this);\n+    case HloOpcode::kAcosh:\n+      return visitor->HandleAcosh(this);\n     case HloOpcode::kAtan2:\n       return visitor->HandleAtan2(this);\n     case HloOpcode::kRoundNearestAfz:\n@@ -5202,13 +5209,13 @@ bool IsValidResultAccuracy(const ResultAccuracy& accuracy) {\n }\n \n bool IsUnaryOpWithResultAccuracy(HloOpcode opcode) {\n-  return opcode == HloOpcode::kExp || opcode == HloOpcode::kExpm1 ||\n-         opcode == HloOpcode::kLog || opcode == HloOpcode::kLog1p ||\n-         opcode == HloOpcode::kRsqrt || opcode == HloOpcode::kSqrt ||\n-         opcode == HloOpcode::kCbrt || opcode == HloOpcode::kTanh ||\n-         opcode == HloOpcode::kCos || opcode == HloOpcode::kSin ||\n-         opcode == HloOpcode::kTan || opcode == HloOpcode::kErf ||\n-         opcode == HloOpcode::kLogistic;\n+  return opcode == HloOpcode::kAcosh || opcode == HloOpcode::kExp ||\n+         opcode == HloOpcode::kExpm1 || opcode == HloOpcode::kLog ||\n+         opcode == HloOpcode::kLog1p || opcode == HloOpcode::kRsqrt ||\n+         opcode == HloOpcode::kSqrt || opcode == HloOpcode::kCbrt ||\n+         opcode == HloOpcode::kTanh || opcode == HloOpcode::kCos ||\n+         opcode == HloOpcode::kSin || opcode == HloOpcode::kTan ||\n+         opcode == HloOpcode::kErf || opcode == HloOpcode::kLogistic;\n }\n \n std::string AlgorithmToString(const PrecisionConfig::Algorithm& algorithm) {"
        },
        {
            "sha": "06acc5a98c912189081756952f962772142a1157",
            "filename": "third_party/xla/xla/hlo/ir/hlo_opcode.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -48,6 +48,7 @@ namespace xla {\n #define HLO_OPCODE_LIST(V)                                                     \\\n   /* go/keep-sorted start */                                                   \\\n   V(kAbs, \"abs\", 1)                                                            \\\n+  V(kAcosh, \"acosh\", 1)                                                        \\\n   V(kAdd, \"add\", 2)                                                            \\\n   V(kAddDependency, \"add-dependency\", 2)                                       \\\n   V(kAfterAll, \"after-all\", kHloOpcodeIsVariadic)                              \\"
        },
        {
            "sha": "d7ed14e155b4fe562d6d752e57650ad7cb51aa0f",
            "filename": "third_party/xla/xla/hlo/parser/hlo_parser.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -118,6 +118,7 @@ HloSchedule ScheduleFromInstructionOrder(HloModule* module) {\n bool CanInferShape(HloOpcode code) {\n   switch (code) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n@@ -1642,6 +1643,7 @@ HloInstruction* HloParserImpl::CreateInstruction(  // NOLINT\n           *shape, operands[0], *k, (largest.has_value() ? *largest : true)));\n     }\n     // Unary ops with result accuracy.\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kExpm1:\n     case HloOpcode::kLog:\n     case HloOpcode::kLog1p:"
        },
        {
            "sha": "d83a526c750b7944063fd9d8fcf5fb86cbd43804",
            "filename": "third_party/xla/xla/hlo/tools/hlo_diff/hlo_diff_summary_test.cc",
            "status": "modified",
            "additions": 13,
            "deletions": 13,
            "changes": 26,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -131,7 +131,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/3570884195340145402U,\n+                         /*diff_fingerprint=*/800110521100387509U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -140,7 +140,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/2604941079081458563U,\n+                         /*diff_fingerprint=*/17250132652435258535U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -149,7 +149,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/2604941079081458563U,\n+                         /*diff_fingerprint=*/17250132652435258535U,\n                          /*all_unchanged=*/true))));\n   EXPECT_THAT(\n       right_computation_summary,\n@@ -160,7 +160,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/3570884195340145402U,\n+                         /*diff_fingerprint=*/800110521100387509U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -169,7 +169,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/2604941079081458563U,\n+                         /*diff_fingerprint=*/17250132652435258535U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -178,7 +178,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/2604941079081458563U,\n+                         /*diff_fingerprint=*/17250132652435258535U,\n                          /*all_unchanged=*/true))));\n }\n \n@@ -320,7 +320,7 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/13464792036913846758U,\n+                            /*diff_fingerprint=*/8525366337334465042U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(right_computation_summary,\n               UnorderedElementsAre(Pair(\n@@ -330,11 +330,11 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/13464792036913846758U,\n+                            /*diff_fingerprint=*/8525366337334465042U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(FieldsAre(\n-                  /*fingerprint=*/2864899211444957078U,\n+                  /*fingerprint=*/12418933386714070753U,\n                   /*computation_groups=*/\n                   UnorderedElementsAre(FieldsAre(\n                       /*left_computations=*/UnorderedElementsAre(\n@@ -413,7 +413,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n       diff_summary->computation_diff_patterns,\n       UnorderedElementsAre(\n           FieldsAre(\n-              /*fingerprint=*/2864899211444957078U,\n+              /*fingerprint=*/12418933386714070753U,\n               /*computation_groups=*/\n               UnorderedElementsAre(\n                   FieldsAre(/*left_computations=*/UnorderedElementsAre(\n@@ -432,7 +432,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n               FieldsAre(/*changed_instruction_count=*/0,\n                         /*left_unmatched_instruction_count=*/2,\n                         /*right_unmatched_instruction_count=*/2)),\n-          FieldsAre(/*fingerprint=*/15473561031564762362U,\n+          FieldsAre(/*fingerprint=*/6231712785098884993U,\n                     /*computation_groups=*/\n                     UnorderedElementsAre(FieldsAre(\n                         /*left_computations=*/UnorderedElementsAre(\n@@ -491,7 +491,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(\n                   FieldsAre(\n-                      /*fingerprint=*/619838372110990418U,\n+                      /*fingerprint=*/17089306970213363760U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/UnorderedElementsAre(Pointee(\n@@ -502,7 +502,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n                                 /*left_unmatched_instruction_count=*/3,\n                                 /*right_unmatched_instruction_count=*/0)),\n                   FieldsAre(\n-                      /*fingerprint=*/14547129201606263045U,\n+                      /*fingerprint=*/1401415824248139631U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/IsEmpty(),"
        },
        {
            "sha": "dbdf6b2a1dbc1fabf6cd6e15af4a5d46d808f84c",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/hlo_function_importer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -2151,6 +2151,7 @@ absl::StatusOr<mlir::Operation*> HloFunctionImporter::ImportInstructionImpl(\n         ->create<mlir::mhlo::mlir_op>(loc, result_type, operands, attributes) \\\n         .getOperation();                                                      \\\n   }\n+      NO_ATTRIBUTE_CASE_MHLO(kAcosh, AcoshOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAddDependency, AddDependencyOp);\n       NO_ATTRIBUTE_CASE_MHLO(kCopy, CopyOp);\n       NO_ATTRIBUTE_CASE_MHLO(kErf, ErfOp);"
        },
        {
            "sha": "7068ef064eeff7977d85f36139b1ff9e47015b1c",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2FBUILD?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -186,6 +186,7 @@ cc_library(\n         \"//xla/hlo/builder:xla_computation\",\n         \"//xla/hlo/builder/lib:approx_topk\",\n         \"//xla/hlo/builder/lib:approx_topk_shape\",\n+        \"//xla/hlo/builder/lib:math\",\n         \"//xla/hlo/builder/lib:matrix\",\n         \"//xla/hlo/builder/lib:quantize\",\n         \"//xla/hlo/builder/lib:slicing\","
        },
        {
            "sha": "4b0d1aa4a322a4319113b59126b9eeeb7e4c3da8",
            "filename": "third_party/xla/xla/hlo/translate/mhlo_to_hlo/mlir_hlo_to_hlo.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fmhlo_to_hlo%2Fmlir_hlo_to_hlo.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -74,6 +74,7 @@ limitations under the License.\n #include \"xla/debug_options_flags.h\"\n #include \"xla/hlo/builder/lib/approx_topk.h\"\n #include \"xla/hlo/builder/lib/approx_topk_shape.h\"\n+#include \"xla/hlo/builder/lib/math.h\"\n #include \"xla/hlo/builder/lib/matrix.h\"  // IWYU pragma: keep\n #include \"xla/hlo/builder/lib/slicing.h\"\n #include \"xla/hlo/builder/xla_builder.h\""
        },
        {
            "sha": "717f9ccc53ccea315fd9ba8c90f53406507d4016",
            "filename": "third_party/xla/xla/hlo/utils/hlo_matchers.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -296,6 +296,7 @@ namespace opcode_matchers {\n         ::xla::HloOpcode::k##opcode, {operands...}));                      \\\n   }\n HLO_MATCHER(Abs);\n+HLO_MATCHER(Acosh);\n HLO_MATCHER(Add);\n HLO_MATCHER(AddDependency);\n HLO_MATCHER(AfterAll);"
        },
        {
            "sha": "f9acffb1a299100996a49227875c5cb035021305",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -355,6 +355,7 @@ LogicalResult ReduceScatterOp::verify() {\n   }\n \n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AddOp)\n+INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AcoshOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AndOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(Atan2Op)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(CbrtOp)\n@@ -5111,6 +5112,7 @@ UNARY_FOLDER_INT(NotOp, std::bit_not)\n UNARY_FOLDER_FLOAT(RoundNearestEvenOp, RoundNearestEven)\n UNARY_FOLDER_FLOAT(RoundOp, Round)\n \n+UNARY_FOLDER_UPCAST_TO_F64(AcoshOp, std::acosh, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(CosineOp, std::cos, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(ErfOp, std::erf, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(ExpOp, std::exp, AnyValue)"
        },
        {
            "sha": "d0b538b7aebeae1a8dd90474548de1bf162a38f7",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.td",
            "status": "modified",
            "additions": 16,
            "deletions": 3,
            "changes": 19,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -218,6 +218,22 @@ def MHLO_AbsOp: MHLO_UnaryElementwiseOp<\"abs\",\n   let hasFolder = 1;\n }\n \n+def MHLO_AcoshOp : MHLO_UnaryElementwiseOp<\"acosh\",\n+    [HLO_CompatibleOperandsAndResultType], HLO_AnyFpOrComplexTensor> {\n+  let summary = \"Acosh operation\";\n+\n+  let description = [{\n+     Performs element-wise acosh operation on `operand` tensor and produces a\n+    `result` tensor.\n+\n+    Example:\n+    ```mlir\n+    %result = mhlo.acosh %operand : tensor<2x2xf32>\n+    ```\n+  }];\n+  let hasFolder = 1;\n+}\n+\n def MHLO_CbrtOp: MHLO_UnaryElementwiseOp<\"cbrt\",\n     [Pure, HLO_CompatibleOperandsAndResultType], MHLO_FpComplexOrQuantizedIntTensor> {\n   let summary = \"Cbrt operation\";\n@@ -327,9 +343,6 @@ def MHLO_ErfOp: MHLO_UnaryElementwiseOp<\"erf\",\n     Performs element-wise erf operation on `operand` tensor and produces a\n     `result` tensor.\n \n-    See:\n-    https://github.com/openxla/stablehlo/blob/main/docs/spec.md#erf\n-\n     Example:\n     ```mlir\n     %result = mhlo.erf %operand : tensor<2x2xf32>"
        },
        {
            "sha": "111e23938b48984fee4163bc8b97ef5b0deb3027",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/legalize_to_linalg/legalize_to_linalg.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -4524,6 +4524,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       IotaToMapConverter<mhlo::DynamicIotaOp>,\n       MapOpToMapConverter,\n       PointwiseToLinalgMapConverter<mhlo::AbsOp>,\n+      PointwiseToLinalgMapConverter<mhlo::AcoshOp>,\n       PointwiseToLinalgMapConverter<mhlo::AddOp>,\n       PointwiseToLinalgMapConverter<mhlo::AndOp>,\n       PointwiseToLinalgMapConverter<mhlo::Atan2Op>,\n@@ -4584,6 +4585,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       HloDynamicBroadcastInDimConverter,\n       MapOpToGenericConverter,\n       PointwiseToLinalgConverter<mhlo::AbsOp>,\n+      PointwiseToLinalgConverter<mhlo::AcoshOp>,\n       PointwiseToLinalgConverter<mhlo::AddOp>,\n       PointwiseToLinalgConverter<mhlo::AndOp>,\n       PointwiseToLinalgConverter<mhlo::Atan2Op>,"
        },
        {
            "sha": "65b4bfcf250b9a5a3319e4041a18a33f67fb8bcf",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/map_mhlo_to_scalar_op.h",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -47,6 +47,10 @@ struct MhloToScalarOp {\n   using COp = void;\n };\n \n+template <>\n+struct MhloToScalarOp<mhlo::AcoshOp> {\n+  using FOp = ::mlir::math::AcoshOp;\n+};\n template <>\n struct MhloToScalarOp<mhlo::AddOp> {\n   using FOp = ::mlir::arith::AddFOp;"
        },
        {
            "sha": "5baae9ae4d56e2c868cee02d4e125d42b956defe",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -2000,6 +2000,7 @@ cc_library(\n     hdrs = [\"elemental_ir_emitter.h\"],\n     deps = [\n         \":elemental_math_emitter\",\n+        \"//xla:util\",\n         \"//xla/codegen/intrinsic\",\n         \"//xla/codegen/intrinsic:exp\",\n         \"//xla/codegen/intrinsic:rsqrt\","
        },
        {
            "sha": "5ee79d07c17aea3c268bc0460c0e22dee57d23ff",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 6,
            "deletions": 0,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -33,6 +33,7 @@ limitations under the License.\n #include \"xla/hlo/ir/hlo_computation.h\"\n #include \"xla/service/cpu/elemental_math_emitter.h\"\n #include \"xla/service/llvm_ir/llvm_util.h\"\n+#include \"xla/util.h\"\n \n namespace xla::cpu {\n using ::xla::codegen::intrinsics::Type;\n@@ -54,6 +55,11 @@ absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitTanh(\n   return xla::cpu::EmitTanh(module(), *b(), prim_type, value);\n }\n \n+absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitAcosh(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"acosh\");\n+}\n+\n absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitErf(\n     PrimitiveType prim_type, llvm::Value* value) {\n   return xla::cpu::EmitErf(module(), *b(), prim_type, value);"
        },
        {
            "sha": "51489e82fc9fb5aad95efc05aacd0832aa138dd5",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -55,6 +55,9 @@ class CpuElementalIrEmitter final : public ElementalIrEmitter {\n   absl::StatusOr<llvm::Value*> EmitTanh(PrimitiveType prim_type,\n                                         llvm::Value* value) override;\n \n+  absl::StatusOr<llvm::Value*> EmitAcosh(PrimitiveType prim_type,\n+                                         llvm::Value* value) override;\n+\n   absl::StatusOr<llvm::Value*> EmitErf(PrimitiveType prim_type,\n                                        llvm::Value* value) override;\n "
        },
        {
            "sha": "abce7dfbc40d3c772cba951fbb51ce335820e25a",
            "filename": "third_party/xla/xla/service/cpu/thunk_emitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -407,6 +407,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitHloInstruction(\n     // Simple HLO instructions lowered to elemental host kernels (plain loops\n     // behind the HostKernel API).\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "95e55d8d127c0b43f374d82ba5cf47484c7f41e6",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -878,6 +878,8 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitIntegerUnaryOp(\n absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitFloatUnaryOp(\n     const HloInstruction* op, llvm::Value* operand_value) {\n   switch (op->opcode()) {\n+    case HloOpcode::kAcosh:\n+      return EmitAcosh(op->shape().element_type(), operand_value);\n     case HloOpcode::kConvert: {\n       PrimitiveType from_type = op->operand(0)->shape().element_type();\n       PrimitiveType to_type = op->shape().element_type();\n@@ -2369,6 +2371,11 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitTanh(\n   return Unimplemented(\"tanh\");\n }\n \n+absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitAcosh(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"acosh\");\n+}\n+\n absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitErf(\n     PrimitiveType prim_type, llvm::Value* value) {\n   return Unimplemented(\"erf\");\n@@ -3319,6 +3326,7 @@ llvm_ir::ElementGenerator ElementalIrEmitter::MakeElementGenerator(\n     const ElementalIrEmitter::HloToElementGeneratorMap& operand_to_generator) {\n   switch (hlo->opcode()) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kRoundNearestAfz:\n     case HloOpcode::kRoundNearestEven:\n     case HloOpcode::kCeil:"
        },
        {
            "sha": "3d7cf68729970670f0f845ec304c64441fe27798",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -143,6 +143,9 @@ class ElementalIrEmitter : public IrBuilderMixin<ElementalIrEmitter> {\n   llvm::Value* EmitIntegralMin(llvm::Value* lhs_value, llvm::Value* rhs_value,\n                                bool is_signed);\n \n+  virtual absl::StatusOr<llvm::Value*> EmitAcosh(PrimitiveType prim_type,\n+                                                 llvm::Value* value);\n+\n   virtual absl::StatusOr<llvm::Value*> EmitAtan2(PrimitiveType prim_type,\n                                                  llvm::Value* lhs,\n                                                  llvm::Value* rhs,"
        },
        {
            "sha": "2618d2b1a96c084edf18b20743c1d41f59b3d13b",
            "filename": "third_party/xla/xla/service/gpu/hlo_fusion_stats.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -45,6 +45,7 @@ class OpcodeCollector : public ConstDfsHloVisitorWithDefault {\n         break;\n       // Unary\n       case HloOpcode::kAbs:\n+      case HloOpcode::kAcosh:\n       case HloOpcode::kCbrt:\n       case HloOpcode::kCeil:\n       case HloOpcode::kCos:"
        },
        {
            "sha": "76586d3ae0b10c79aba02c2b88a7252ee2290477",
            "filename": "third_party/xla/xla/service/gpu/model/hlo_op_profiler_run.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fhlo_op_profiler_run.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fhlo_op_profiler_run.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fmodel%2Fhlo_op_profiler_run.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -89,6 +89,7 @@ int RunProfiler(int argc, char** argv) {\n   };\n   const std::vector<HloOpcode> ops = {\n       // Unary\n+      HloOpcode::kAcosh,\n       HloOpcode::kCbrt,\n       HloOpcode::kCos,\n       HloOpcode::kErf,"
        },
        {
            "sha": "0e6f8e77eb5a1ad726594cd7b3e3041588472d45",
            "filename": "third_party/xla/xla/service/gpu/target_util.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -238,6 +238,9 @@ struct TargetDeviceFunction GetDeviceFunctionRoot(\n     case TargetDeviceFunctionID::kAtan2: {\n       return {\"__nv_atan2\", \"__ocml_atan2\", \"_Z17__spirv_ocl_atan2\"};\n     }\n+    case TargetDeviceFunctionID::kAcosh: {\n+      return {\"__nv_acosh\", \"__ocml_acosh\", \"_Z15__spirv_ocl_acosh\"};\n+    }\n     case TargetDeviceFunctionID::kCos: {\n       return {\"__nv_cos\", \"__ocml_cos\", \"_Z15__spirv_ocl_cos\"};\n     }\n@@ -289,6 +292,8 @@ struct TargetDeviceFunction GetDeviceFunctionRoot(\n \n std::optional<TargetDeviceFunctionID> GetTargetDeviceFunctionID(HloOpcode op) {\n   switch (op) {\n+    case HloOpcode::kAcosh:\n+      return TargetDeviceFunctionID::kAcosh;\n     case HloOpcode::kAtan2:\n       return TargetDeviceFunctionID::kAtan2;\n     case HloOpcode::kCos:"
        },
        {
            "sha": "f14c81798c6678bdcd8f6c41fb6156b214188e8c",
            "filename": "third_party/xla/xla/service/gpu/target_util.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -68,6 +68,7 @@ enum class TargetDeviceFunctionID {\n   kTan,\n   kTanh,\n   kErf,\n+  kAcosh,\n };\n \n // HLO opcode -> TargetDeviceFunctionID mapping. Returns std::nullopt if there"
        },
        {
            "sha": "da0863db3e4f39f255cd74b870f9889f7bca0afc",
            "filename": "third_party/xla/xla/service/gpu/transforms/fusion_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -24,6 +24,7 @@ namespace gpu {\n bool FusionWrapper::MustWrapInstruction(HloOpcode opcode) {\n   switch (opcode) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "2a4b270a8a4485108c22062ed9f6d74e233442d1",
            "filename": "third_party/xla/xla/service/hlo_cost_analysis.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -144,14 +144,14 @@ absl::Status HloCostAnalysis::HandleElementwiseOp(\n   // operation can correspond to several floating point ops.\n   // kLogistic is included in \"trascendental\" as it is implemented using\n   // trascendental ops (tanh or exp).\n-  if (opcode == HloOpcode::kErf || opcode == HloOpcode::kExp ||\n-      opcode == HloOpcode::kLog || opcode == HloOpcode::kLogistic ||\n-      opcode == HloOpcode::kPower || opcode == HloOpcode::kSqrt ||\n-      opcode == HloOpcode::kCbrt || opcode == HloOpcode::kRsqrt ||\n-      opcode == HloOpcode::kTanh || opcode == HloOpcode::kSin ||\n-      opcode == HloOpcode::kCos || opcode == HloOpcode::kExpm1 ||\n-      opcode == HloOpcode::kLog1p || opcode == HloOpcode::kAtan2 ||\n-      opcode == HloOpcode::kTan) {\n+  if (opcode == HloOpcode::kAcosh || opcode == HloOpcode::kErf ||\n+      opcode == HloOpcode::kExp || opcode == HloOpcode::kLog ||\n+      opcode == HloOpcode::kLogistic || opcode == HloOpcode::kPower ||\n+      opcode == HloOpcode::kSqrt || opcode == HloOpcode::kCbrt ||\n+      opcode == HloOpcode::kRsqrt || opcode == HloOpcode::kTanh ||\n+      opcode == HloOpcode::kSin || opcode == HloOpcode::kCos ||\n+      opcode == HloOpcode::kExpm1 || opcode == HloOpcode::kLog1p ||\n+      opcode == HloOpcode::kAtan2 || opcode == HloOpcode::kTan) {\n     current_properties_[kTranscendentalsKey] = computation_count;\n   } else {\n     // Note: transcendental operations are considered a separate category from"
        },
        {
            "sha": "6166300b3b3dd9352f5234466cc8a767f49380e3",
            "filename": "third_party/xla/xla/service/hlo_creation_utils.cc",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -919,4 +919,16 @@ absl::StatusOr<HloInstruction*> MakeWithinBounds(HloInstruction* inst,\n   return MakeBinaryHlo(HloOpcode::kAnd, le, gt);\n }\n \n+HloInstruction* MakeScalarLikeFromLiteral(HloInstruction* base,\n+                                          Literal literal) {\n+  auto scalar =\n+      base->AddInstruction(HloInstruction::CreateConstant(std::move(literal)));\n+  if (base->shape().dimensions().empty()) {\n+    *scalar->mutable_shape() = base->shape();\n+    return scalar;\n+  }\n+  return base->AddInstruction(HloInstruction::CreateBroadcast(\n+      ShapeUtil::MakeStaticShape(base->shape()), scalar, {}));\n+}\n+\n }  // namespace xla"
        },
        {
            "sha": "0b235df7f15afb1a10cb8801f04f7d0f0ad98ab3",
            "filename": "third_party/xla/xla/service/hlo_creation_utils.h",
            "status": "modified",
            "additions": 7,
            "deletions": 10,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_creation_utils.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -305,18 +305,15 @@ HloInstruction* MakeR0ConstantHlo(HloComputation* computation, NativeT value) {\n \n // Makes a scalar that is elementwise compatible with the shape of the base\n // instruction.\n+HloInstruction* MakeScalarLikeFromLiteral(HloInstruction* base,\n+                                          Literal literal);\n+\n template <class NativeT>\n HloInstruction* MakeScalarLike(HloInstruction* base, NativeT value) {\n-  auto scalar = base->AddInstruction(\n-      HloInstruction::CreateConstant(LiteralUtil::CreateR0<NativeT>(value)\n-                                         .Convert(base->shape().element_type())\n-                                         .value()));\n-  if (base->shape().dimensions().empty()) {\n-    *scalar->mutable_shape() = base->shape();\n-    return scalar;\n-  }\n-  return base->AddInstruction(HloInstruction::CreateBroadcast(\n-      ShapeUtil::MakeStaticShape(base->shape()), scalar, {}));\n+  return MakeScalarLikeFromLiteral(base,\n+                                   LiteralUtil::CreateR0<NativeT>(value)\n+                                       .Convert(base->shape().element_type())\n+                                       .value());\n }\n \n // Creates a fusion instruction and fuses `fused` into the created fusion"
        },
        {
            "sha": "6e2c2d9a0df5b07f62a7ced8efc1f62c0b2aab36",
            "filename": "third_party/xla/xla/service/hlo_graph_dumper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -1140,6 +1140,7 @@ ColorScheme HloDotDumper::GetInstructionColor(const HloInstruction* instr) {\n   // (eg, parameter).\n   switch (instr->opcode()) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "b5f2059bb75c3ad686f667608e454a9bf9c71422",
            "filename": "third_party/xla/xla/service/instruction_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -173,6 +173,7 @@ bool IsAlwaysDuplicable(const HloInstruction& instruction) {\n \n     // Expensive instructions or unusual instructions for which fusion is\n     // nonsensical.\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "3f0585193032f92658f8e45c04df8b6136c22219",
            "filename": "third_party/xla/xla/service/layout_assignment.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -2838,6 +2838,7 @@ bool LayoutAssignment::InstructionCanChangeLayout(\n     const HloInstruction* instruction) {\n   switch (instruction->opcode()) {\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAnd:"
        },
        {
            "sha": "5e61de189af218efbe6b10fb47c22e51cb733048",
            "filename": "third_party/xla/xla/service/shape_inference.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -347,6 +347,7 @@ absl::StatusOr<DimAndBound> InferMostSpecificDimAndBound(int64_t dim,\n \n   TF_DCHECK_OK(ShapeUtil::ValidateShapeWithOptionalLayout(shape));\n   switch (opcode) {\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kFloor:\n     case HloOpcode::kCbrt:  // Complex cbrt is not implemented in either of the\n                             // backends."
        },
        {
            "sha": "c6b1032b75cf073c842cb6977851a37f6f522a28",
            "filename": "third_party/xla/xla/service/shape_inference_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -6014,6 +6014,7 @@ INSTANTIATE_TEST_SUITE_P(\n INSTANTIATE_TEST_SUITE_P(UnboundedDynamism, UnboundedUnaryOpShapeInferenceTest,\n                          ::testing::ValuesIn<UnaryOpTestCase>(\n                              {{\"f32[?]\", \"f32[?]\", HloOpcode::kAbs},\n+                              {\"f32[?]\", \"f32[?]\", HloOpcode::kAcosh},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCbrt},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCeil},\n                               {\"u32[?]\", \"u32[?]\", HloOpcode::kClz},"
        },
        {
            "sha": "a28e82dbe9ade44b186b18030e14a5f0795455c5",
            "filename": "third_party/xla/xla/service/sharding_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -215,6 +215,7 @@ const HloInstruction* PickRepresentativeOperand(\n       }\n       return nullptr;\n     case HloOpcode::kAbs:\n+    case HloOpcode::kAcosh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:"
        },
        {
            "sha": "9f4e18a60ab224c520758d45feab9a785b62c06f",
            "filename": "third_party/xla/xla/tests/exhaustive/error_spec.h",
            "status": "modified",
            "additions": 12,
            "deletions": 0,
            "changes": 12,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Ferror_spec.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Ferror_spec.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fexhaustive%2Ferror_spec.h?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -57,6 +57,9 @@ struct ErrorSpec {\n   // value. This should be used only as a last resort, since it is effectively\n   // turning off the test for a specific input value set.\n   bool skip_comparison = false;\n+  // If true, this will skip compilation. It is useful for testing the ops that\n+  // are not supported on the platform.\n+  bool skip_compilation = false;\n };\n \n // Builder pattern to construct an ErrorSpec without a proliferation of\n@@ -117,6 +120,15 @@ class ErrorSpecBuilder {\n     return std::move(*this);\n   }\n \n+  ErrorSpecBuilder& skip_compilation(bool skip_compilation = true) & {\n+    spec_.skip_compilation = skip_compilation;\n+    return *this;\n+  }\n+  ErrorSpecBuilder&& skip_compilation(bool skip_compilation = true) && {\n+    spec_.skip_compilation = skip_compilation;\n+    return std::move(*this);\n+  }\n+\n   ErrorSpec build() && { return spec_; }\n \n   explicit operator ErrorSpec() && { return std::move(*this).build(); }"
        },
        {
            "sha": "3ded6070897a6b52b5f99754e67761de51835cad",
            "filename": "third_party/xla/xla/tests/int4_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e037bbf86bb67d2d1b5f532ad3bf12a858a024ae/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc?ref=e037bbf86bb67d2d1b5f532ad3bf12a858a024ae",
            "patch": "@@ -337,6 +337,7 @@ class ElementwiseTest : public HloTestBase,\n  private:\n   static bool IsFloatingPointOnly(HloOpcode opcode) {\n     switch (opcode) {\n+      case HloOpcode::kAcosh:\n       case HloOpcode::kAtan2:\n       case HloOpcode::kCbrt:\n       case HloOpcode::kCeil:"
        }
    ],
    "stats": {
        "total": 253,
        "additions": 202,
        "deletions": 51
    }
}