{
    "author": "nvgrw",
    "message": "Clean includes and deps.\n\nPiperOrigin-RevId: 810911961",
    "sha": "9cf627d16691b66b81a9d92183adacee5b36d908",
    "files": [
        {
            "sha": "1428db0ce7c548c74311527fbba42f71a10854fc",
            "filename": "third_party/xla/xla/tools/hlo_opt/BUILD",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2FBUILD?ref=9cf627d16691b66b81a9d92183adacee5b36d908",
            "patch": "@@ -87,6 +87,7 @@ cc_library(\n         \"//xla:types\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/pass:hlo_pass_pipeline\",\n+        \"//xla/hlo/tools/hlo_opt:opt_lib\",\n         \"//xla/hlo/transforms:host_offloader\",\n         \"//xla/hlo/transforms/simplifiers:algebraic_simplifier\",\n         \"//xla/hlo/transforms/simplifiers:hlo_memory_scheduler\",\n@@ -165,15 +166,14 @@ cc_library(\n         \"//xla:xla_proto_cc\",\n         \"//xla/backends/cpu/codegen:cpu_features\",\n         \"//xla/backends/cpu/codegen:ir_compiler\",\n-        \"//xla/backends/cpu/codegen:jit_compiler\",\n         \"//xla/backends/cpu/codegen:target_machine_features\",\n-        \"//xla/hlo/analysis:alias_info\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/tools/hlo_opt:opt_lib\",\n         \"//xla/hlo/transforms:host_offloader\",\n         \"//xla/hlo/transforms/simplifiers:hlo_memory_scheduler\",\n         \"//xla/hlo/translate/hlo_to_mhlo:hlo_to_mlir_hlo\",\n         \"//xla/service:batchnorm_expander\",\n+        \"//xla/service:buffer_value\",\n         \"//xla/service:change_op_data_type\",\n         \"//xla/service:copy_insertion\",\n         \"//xla/service:cpu_plugin\",\n@@ -188,7 +188,6 @@ cc_library(\n         \"//xla/service:sharding_propagation\",\n         \"//xla/service:transpose_folding\",\n         \"//xla/service/cpu:conv_canonicalization\",\n-        \"//xla/service/cpu:cpu_compiler_pure\",\n         \"//xla/service/cpu:cpu_executable\",\n         \"//xla/service/cpu:cpu_instruction_fusion\",\n         \"//xla/service/cpu:cpu_layout_assignment\","
        },
        {
            "sha": "df9265eb6ebf140bae47db37e2dd54a7c579b090",
            "filename": "third_party/xla/xla/tools/hlo_opt/cpu_opt.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fcpu_opt.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fcpu_opt.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fcpu_opt.cc?ref=9cf627d16691b66b81a9d92183adacee5b36d908",
            "patch": "@@ -28,10 +28,8 @@ limitations under the License.\n #include \"llvm/Target/TargetOptions.h\"\n #include \"xla/backends/cpu/codegen/cpu_features.h\"\n #include \"xla/backends/cpu/codegen/ir_compiler.h\"\n-#include \"xla/backends/cpu/codegen/jit_compiler.h\"\n #include \"xla/backends/cpu/codegen/target_machine_features.h\"\n #include \"xla/debug_options_flags.h\"\n-#include \"xla/hlo/analysis/alias_info.h\"\n #include \"xla/hlo/ir/hlo_computation.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n@@ -42,10 +40,10 @@ limitations under the License.\n #include \"xla/hlo/transforms/simplifiers/hlo_memory_scheduler.h\"\n #include \"xla/hlo/translate/hlo_to_mhlo/hlo_to_mlir_hlo.h\"\n #include \"xla/service/batchnorm_expander.h\"\n+#include \"xla/service/buffer_value.h\"\n #include \"xla/service/change_op_data_type.h\"\n #include \"xla/service/copy_insertion.h\"\n #include \"xla/service/cpu/conv_canonicalization.h\"\n-#include \"xla/service/cpu/cpu_compiler.h\"\n #include \"xla/service/cpu/cpu_executable.h\"\n #include \"xla/service/cpu/cpu_instruction_fusion.h\"\n #include \"xla/service/cpu/cpu_layout_assignment.h\"\n@@ -63,6 +61,7 @@ limitations under the License.\n #include \"xla/service/sharding_propagation.h\"\n #include \"xla/service/spmd/stateful_rng_spmd_partitioner.h\"\n #include \"xla/service/transpose_folding.h\"\n+#include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/stream_executor/platform/initialize.h\"\n #include \"xla/tools/hlo_opt/compiled_opt_lib.h\""
        },
        {
            "sha": "93d9b691971eaa3d61d49f4e3a8f39ba95171189",
            "filename": "third_party/xla/xla/tools/hlo_opt/gpu_opt.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fgpu_opt.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9cf627d16691b66b81a9d92183adacee5b36d908/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fgpu_opt.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftools%2Fhlo_opt%2Fgpu_opt.cc?ref=9cf627d16691b66b81a9d92183adacee5b36d908",
            "patch": "@@ -26,8 +26,10 @@ limitations under the License.\n #include \"absl/strings/string_view.h\"\n #include \"llvm/IR/LLVMContext.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n+#include \"xla/hlo/tools/hlo_opt/opt_lib.h\"\n #include \"xla/hlo/transforms/host_offloader.h\"\n #include \"xla/hlo/transforms/simplifiers/hlo_memory_scheduler.h\"\n+#include \"xla/layout.h\"\n #include \"xla/service/buffer_value.h\"\n #include \"xla/service/compiler.h\"\n #include \"xla/service/copy_insertion.h\""
        }
    ],
    "stats": {
        "total": 12,
        "additions": 6,
        "deletions": 6
    }
}