{
    "author": "boomanaiden154",
    "message": "Fix unused std::optional<T>::has_value()\n\nThis ended up being unused with how the if statement was written. This becomes a compile time error with an upcoming version of libc++.\n\nPiperOrigin-RevId: 843856944",
    "sha": "c74f0f14608dcea307183288466d079e32f045f8",
    "files": [
        {
            "sha": "e877f7c5dd9de0a7086438d48f469da404a8d22a",
            "filename": "third_party/xla/xla/fp_util.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/c74f0f14608dcea307183288466d079e32f045f8/third_party%2Fxla%2Fxla%2Ffp_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/c74f0f14608dcea307183288466d079e32f045f8/third_party%2Fxla%2Fxla%2Ffp_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ffp_util.h?ref=c74f0f14608dcea307183288466d079e32f045f8",
            "patch": "@@ -279,8 +279,10 @@ constexpr T GoldbergUlp(T x) {\n     return GoldbergUlp(std::numeric_limits<T>::min());\n   }\n   std::optional<int> maybe_exponent = LogBase(x);\n-  if (maybe_exponent.has_value(); const int exponent = *maybe_exponent) {\n-    return ScaleBase(std::numeric_limits<T>::epsilon(), exponent);\n+  if (maybe_exponent.has_value()) {\n+    if (const int exponent = *maybe_exponent) {\n+      return ScaleBase(std::numeric_limits<T>::epsilon(), exponent);\n+    }\n   }\n   if constexpr (std::numeric_limits<T>::has_quiet_NaN) {\n     return std::numeric_limits<T>::quiet_NaN();"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    }
}