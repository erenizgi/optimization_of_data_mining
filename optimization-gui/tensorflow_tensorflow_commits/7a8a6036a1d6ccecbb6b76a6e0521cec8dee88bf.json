{
    "author": "Varcho",
    "message": "[Utilities][ReplicaGroupV3] Add V3 ExpandDeviceGroups function. This utilizes the functionality of V2 implementation.\n\nPiperOrigin-RevId: 842906395",
    "sha": "7a8a6036a1d6ccecbb6b76a6e0521cec8dee88bf",
    "files": [
        {
            "sha": "9b7c68b257a358c949a81aa6448f7e00f50f0707",
            "filename": "third_party/xla/xla/service/spmd/spmd_partitioner_util.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 0,
            "changes": 9,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/7a8a6036a1d6ccecbb6b76a6e0521cec8dee88bf/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fspmd_partitioner_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/7a8a6036a1d6ccecbb6b76a6e0521cec8dee88bf/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fspmd_partitioner_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fspmd%2Fspmd_partitioner_util.cc?ref=7a8a6036a1d6ccecbb6b76a6e0521cec8dee88bf",
            "patch": "@@ -536,6 +536,15 @@ std::optional<IotaReplicaGroupList> ExpandDeviceGroupsWithIota(\n                               processed_device_groups.iota()->transpose_perm());\n }\n \n+// Expand the device groups, given a mesh-axes partition group list.\n+// NOLINTNEXTLINE(clang-diagnostic-unused-function)\n+std::optional<IotaReplicaGroupList> ExpandDeviceGroupsWithMeshAxes(\n+    const DeviceGroupTileAssignment& device_groups,\n+    MeshAxesReplicaGroupList* partition_group_list) {\n+  return ExpandDeviceGroupsWithIota(\n+      device_groups, partition_group_list->ToIotaReplicaGroupList());\n+}\n+\n SPMDCollectiveOpsCreator GetPerGroupCollectiveOpsCreator(\n     const SPMDCollectiveOpsCreator& creator,\n     const DeviceGroupTileAssignment& device_groups) {"
        }
    ],
    "stats": {
        "total": 9,
        "additions": 9,
        "deletions": 0
    }
}