{
    "author": "hyeontaek",
    "message": "[IFRT] Update the semantics of `ifrt::Array::pjrt_layout()` regarding default layouts\n\n`ifrt::Array::pjrt_layout()` will soon be returning a `nullptr` for a default layout (soon with removal of `absl::StatusOr<>` part). The user can continue to get a concrete default layout via `ifrt::Client::GetDefaultPjRtLayout()`.\n\nDuring a transition, IFRT implementations may return either `nullptr` or a concrete default layout, and this state will be permitted temporarily, while they will be migrated to return `nullptr` for default layouts.\n\nPiperOrigin-RevId: 818911623",
    "sha": "631a48b8da7bd6cdf3e5c0e9321538d7a5a41822",
    "files": [
        {
            "sha": "e6e5b7a2ae29d2a09e6b0d40195da544e57fdea1",
            "filename": "third_party/xla/xla/python/ifrt/array.h",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/631a48b8da7bd6cdf3e5c0e9321538d7a5a41822/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Farray.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/631a48b8da7bd6cdf3e5c0e9321538d7a5a41822/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Farray.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fifrt%2Farray.h?ref=631a48b8da7bd6cdf3e5c0e9321538d7a5a41822",
            "patch": "@@ -77,8 +77,9 @@ class Array : public llvm::RTTIExtends<Array, Value> {\n   virtual const Sharding& sharding() const = 0;\n   virtual ShardingRef shared_ptr_sharding() const = 0;\n   // The device memory layout for each shard of the Array. All shards are\n-  // assumed to have the same layout. Cannot be nullptr; implementations should\n-  // return UNIMPLEMENTED instead.\n+  // assumed to have the same layout. `nullptr` indicates a default layout; the\n+  // user can obtain a concrete layout by calling\n+  // `Client::GetDefaultPjRtLayout()`.\n   virtual absl::StatusOr<std::shared_ptr<const xla::PjRtLayout>> pjrt_layout()\n       const = 0;\n   virtual CustomLayoutRef layout() const {"
        }
    ],
    "stats": {
        "total": 5,
        "additions": 3,
        "deletions": 2
    }
}