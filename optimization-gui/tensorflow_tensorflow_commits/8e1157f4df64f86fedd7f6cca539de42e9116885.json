{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845153877",
    "sha": "8e1157f4df64f86fedd7f6cca539de42e9116885",
    "files": [
        {
            "sha": "3c319e09e0e137c668146f9b4bd2d6fc333550d9",
            "filename": "tensorflow/core/runtime_fallback/kernel/attr_util.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -72,7 +72,7 @@ absl::Status ParseValue(absl::string_view input, bool* value) {\n   return absl::OkStatus();\n }\n \n-absl::Status ParseValue(absl::string_view input, int32* value) {\n+absl::Status ParseValue(absl::string_view input, int32_t* value) {\n   bool parse_result = absl::SimpleAtoi(input, value);\n   if (!parse_result) {\n     return errors::InvalidArgument(\"Could not parse int32 from \", input);\n@@ -90,7 +90,7 @@ absl::Status ParseValue(absl::string_view input, std::string* value) {\n   return absl::OkStatus();\n }\n \n-absl::Status ParseValue(absl::string_view input, std::vector<int32>* value) {\n+absl::Status ParseValue(absl::string_view input, std::vector<int32_t>* value) {\n   std::vector<std::string> parts = str_util::Split(input, \",\");\n   value->reserve(parts.size());\n   for (const auto& value_str : parts) {\n@@ -123,7 +123,7 @@ absl::Status AddOpAttr(const std::string& name, const std::string& attr_value,\n   } else if (type == \"i32\") {\n     int32_t val;\n     s = ParseValue(value, &val);\n-    opattrs->Set<int32>(name, val);\n+    opattrs->Set<int32_t>(name, val);\n   } else if (type == \"string\" || type == \"padding\") {\n     std::string val;\n     s = ParseValue(value, &val);\n@@ -133,9 +133,9 @@ absl::Status AddOpAttr(const std::string& name, const std::string& attr_value,\n     s = ParseValue(value, &val);\n     opattrs->Set<tfrt::OpAttrType>(name, tfd::ConvertFromTfDataType(val));\n   } else if (type == \"list(i32)\") {\n-    std::vector<int32> val;\n+    std::vector<int32_t> val;\n     s = ParseValue(value, &val);\n-    opattrs->SetArray<int32>(name, val);\n+    opattrs->SetArray<int32_t>(name, val);\n   }\n   return s;\n }"
        },
        {
            "sha": "41f0e657d6b1afa9740e639a8e30802da7d2c674",
            "filename": "tensorflow/core/runtime_fallback/kernel/attr_util.h",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util.h?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -38,10 +38,10 @@ typedef llvm::StringMap<std::string> AttrMap;\n \n // Parse value from the given string input.\n absl::Status ParseValue(absl::string_view input, bool* value);\n-absl::Status ParseValue(absl::string_view input, int32* value);\n+absl::Status ParseValue(absl::string_view input, int32_t* value);\n absl::Status ParseValue(absl::string_view input, DataType* value);\n absl::Status ParseValue(absl::string_view input, std::string* value);\n-absl::Status ParseValue(absl::string_view input, std::vector<int32>* value);\n+absl::Status ParseValue(absl::string_view input, std::vector<int32_t>* value);\n absl::Status ParseValue(absl::string_view input, Padding* value);\n \n absl::Status AddOpAttr(const std::string& name, const std::string& attr_value,"
        },
        {
            "sha": "e6975350c55da41db3d6699e5296b6f322ee3d6a",
            "filename": "tensorflow/core/runtime_fallback/kernel/attr_util_test.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fattr_util_test.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -47,9 +47,9 @@ TEST(AttrUtilTest, TestGetIntAttr) {\n   TF_ASSERT_OK(AddOpAttr(\"bar\", \"i32$0\", &opattrs));\n   TF_ASSERT_OK(AddOpAttr(\"baz\", \"i32$123\", &opattrs));\n \n-  ASSERT_EQ(opattrs.GetAsserting<int32>(\"foo\"), -2);\n-  ASSERT_EQ(opattrs.GetAsserting<int32>(\"bar\"), 0);\n-  ASSERT_EQ(opattrs.GetAsserting<int32>(\"baz\"), 123);\n+  ASSERT_EQ(opattrs.GetAsserting<int32_t>(\"foo\"), -2);\n+  ASSERT_EQ(opattrs.GetAsserting<int32_t>(\"bar\"), 0);\n+  ASSERT_EQ(opattrs.GetAsserting<int32_t>(\"baz\"), 123);\n \n   absl::Status s = AddOpAttr(\"invalid\", \"i32$4.5\", &opattrs);\n   ASSERT_FALSE(s.ok());\n@@ -71,17 +71,17 @@ TEST(AttrUtilTest, TestGetIntListAttr) {\n   TF_ASSERT_OK(AddOpAttr(\"baz\", \"list(i32)$1,2,3\", &opattrs));\n \n   // std::vector<int32> v1, v2, v3;\n-  ArrayRef<int32> v1, v2, v3;\n-  std::vector<int32> expected_v1;\n-  std::vector<int32> expected_v2 = {1};\n-  std::vector<int32> expected_v3 = {1, 2, 3};\n-  ArrayRef<int32> expected_v1_ref(expected_v1);\n-  ArrayRef<int32> expected_v2_ref(expected_v2);\n-  ArrayRef<int32> expected_v3_ref(expected_v3);\n-\n-  ASSERT_TRUE(opattrs.GetArray<int32>(\"foo\", &v1));\n-  ASSERT_TRUE(opattrs.GetArray<int32>(\"bar\", &v2));\n-  ASSERT_TRUE(opattrs.GetArray<int32>(\"baz\", &v3));\n+  ArrayRef<int32_t> v1, v2, v3;\n+  std::vector<int32_t> expected_v1;\n+  std::vector<int32_t> expected_v2 = {1};\n+  std::vector<int32_t> expected_v3 = {1, 2, 3};\n+  ArrayRef<int32_t> expected_v1_ref(expected_v1);\n+  ArrayRef<int32_t> expected_v2_ref(expected_v2);\n+  ArrayRef<int32_t> expected_v3_ref(expected_v3);\n+\n+  ASSERT_TRUE(opattrs.GetArray<int32_t>(\"foo\", &v1));\n+  ASSERT_TRUE(opattrs.GetArray<int32_t>(\"bar\", &v2));\n+  ASSERT_TRUE(opattrs.GetArray<int32_t>(\"baz\", &v3));\n   ASSERT_EQ(v1, expected_v1_ref);\n   ASSERT_EQ(v2, expected_v2_ref);\n   ASSERT_EQ(v3, expected_v3_ref);"
        },
        {
            "sha": "2bab64c6a02ac682297e8aa0c4e4fd167c410b38",
            "filename": "tensorflow/core/runtime_fallback/kernel/kernel_fallback_execute_compat.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 6,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_execute_compat.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_execute_compat.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_execute_compat.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -427,8 +427,9 @@ TF_ATTRIBUTE_ALWAYS_INLINE static void KernelFallbackExecuteOpInternal(\n       [&]() { return GetTracingMetadata(args, exec_ctx, kernel_runner); });\n \n   if (fallback_request_state.log_device_placement() || VLOG_IS_ON(1)) {\n-    string msg = absl::StrCat(\"Executing op \", frame.op_name().GetValue().str(),\n-                              \" in device \", frame.device().GetValue().str());\n+    std::string msg =\n+        absl::StrCat(\"Executing op \", frame.op_name().GetValue().str(),\n+                     \" in device \", frame.device().GetValue().str());\n     if (!logging::LogToListeners(msg)) {\n       LOG(INFO) << msg;\n     }\n@@ -865,10 +866,10 @@ llvm::Expected<bool> Predicate(\n \n       CASE(float);\n       CASE(double);\n-      CASE(uint8);\n-      CASE(int8);\n-      CASE(int16);\n-      CASE(int32);\n+      CASE(uint8_t);\n+      CASE(int8_t);\n+      CASE(int16_t);\n+      CASE(int32_t);\n       CASE(int64_t);\n       CASE(bool);\n #undef CASE"
        },
        {
            "sha": "b93902e576ddd60d16f1bfa10cd7ec6e34e04e66",
            "filename": "tensorflow/core/runtime_fallback/kernel/kernel_fallback_kernels.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_kernels.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_kernels.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Fkernel_fallback_kernels.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -77,7 +77,7 @@ static void TFDConstantTensor(tfrt::Argument<int32_t> value,\n   // it causes a missing typeinfo error when using -fno-rtti. Investigate\n   // if we can make it work with no-rtti.\n   Tensor out(DT_INT32, TensorShape({}));\n-  out.flat<int32>()(0) = value.get();\n+  out.flat<int32_t>()(0) = value.get();\n   tensor.Emplace(out);\n }\n "
        },
        {
            "sha": "c26dae601b69fed91a79b4f7bcd59a02519ffca9",
            "filename": "tensorflow/core/runtime_fallback/kernel/tfrt_op_kernel.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -81,9 +81,9 @@ absl::Status TFRTOpKernelConstruction::GetAttr(absl::string_view attr_name,\n \n template <>\n absl::Status TFRTOpKernelConstruction::GetAttr(\n-    absl::string_view attr_name, std::vector<int32>* value) const {\n-  llvm::ArrayRef<int32> arrayref;\n-  bool success = attributes_.GetArray<int32>(\n+    absl::string_view attr_name, std::vector<int32_t>* value) const {\n+  llvm::ArrayRef<int32_t> arrayref;\n+  bool success = attributes_.GetArray<int32_t>(\n       llvm::StringRef(attr_name.data(), attr_name.size()), &arrayref);\n   if (!success) {\n     return MissingAttributeError(attr_name);\n@@ -239,7 +239,7 @@ TFRTOpMetaBuilder& TFRTOpMetaBuilder::Attr(absl::string_view attr_spec) {\n   return *this;\n }\n \n-const string& TFRTOpMetaBuilder::op_name() const { return op_name_; }\n+const std::string& TFRTOpMetaBuilder::op_name() const { return op_name_; }\n \n TFRTOpMeta TFRTOpMetaBuilder::BuildMeta() const {\n   return TFRTOpMeta(output_types_);"
        },
        {
            "sha": "e06a0f13f3ec2b22c9b1b05d8a355fb60ef7f471",
            "filename": "tensorflow/core/runtime_fallback/kernel/tfrt_op_kernel.h",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel.h?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -100,8 +100,8 @@ absl::Status TFRTOpKernelConstruction::GetAttr(absl::string_view attr_name,\n                                                Padding* value) const;\n \n template <>\n-absl::Status TFRTOpKernelConstruction::GetAttr(absl::string_view attr_name,\n-                                               std::vector<int32>* value) const;\n+absl::Status TFRTOpKernelConstruction::GetAttr(\n+    absl::string_view attr_name, std::vector<int32_t>* value) const;\n \n absl::Status MissingAttributeError(absl::string_view attr_name);\n \n@@ -207,11 +207,11 @@ class TFRTOpMetaBuilder {\n   TFRTOpMetaBuilder& Input(absl::string_view input_spec);\n   TFRTOpMetaBuilder& Attr(absl::string_view attr_spec);\n \n-  const string& op_name() const;\n+  const std::string& op_name() const;\n   TFRTOpMeta BuildMeta() const;\n \n  private:\n-  string op_name_;\n+  std::string op_name_;\n   std::vector<DataType> output_types_;\n };\n "
        },
        {
            "sha": "3b96ce59d9335d2c24bbca83607de9a5ebf49251",
            "filename": "tensorflow/core/runtime_fallback/kernel/tfrt_op_kernel_test.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/8e1157f4df64f86fedd7f6cca539de42e9116885/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fkernel%2Ftfrt_op_kernel_test.cc?ref=8e1157f4df64f86fedd7f6cca539de42e9116885",
            "patch": "@@ -56,7 +56,7 @@ TEST(TFRTOpKernelTest, TestGetBoolAttr) {\n \n TEST(TFRTOpKernelTest, TestGetIntAttr) {\n   tfrt::OpAttrs attrs;\n-  attrs.Set<int32>(\"foo\", -2);\n+  attrs.Set<int32_t>(\"foo\", -2);\n   tfrt::OpAttrsRef attrsref(attrs);\n \n   TFRTOpKernelConstruction ctx(attrsref);\n@@ -68,18 +68,18 @@ TEST(TFRTOpKernelTest, TestGetIntAttr) {\n \n TEST(TFRTOpKernelTest, TestGetIntListAttr) {\n   tfrt::OpAttrs attrs;\n-  attrs.SetArray<int32>(\"foo\", {});\n-  attrs.SetArray<int32>(\"bar\", {1});\n-  attrs.SetArray<int32>(\"baz\", {1, 2, 3});\n+  attrs.SetArray<int32_t>(\"foo\", {});\n+  attrs.SetArray<int32_t>(\"bar\", {1});\n+  attrs.SetArray<int32_t>(\"baz\", {1, 2, 3});\n   attrs.SetString(\"bar\", \"test\");\n   tfrt::OpAttrsRef attrsref(attrs);\n \n   TFRTOpKernelConstruction ctx(attrsref);\n \n-  std::vector<int32> v1, v2, v3;\n-  std::vector<int32> expected_v1;\n-  std::vector<int32> expected_v2 = {1};\n-  std::vector<int32> expected_v3 = {1, 2, 3};\n+  std::vector<int32_t> v1, v2, v3;\n+  std::vector<int32_t> expected_v1;\n+  std::vector<int32_t> expected_v2 = {1};\n+  std::vector<int32_t> expected_v3 = {1, 2, 3};\n   TF_ASSERT_OK(ctx.GetAttr(\"foo\", &v1));\n   ASSERT_EQ(v1, expected_v1);\n   TF_ASSERT_OK(ctx.GetAttr(\"bar\", &v2));\n@@ -217,7 +217,7 @@ TEST(TFRTOpKernelTest, TestAllocateTemp) {\n   ASSERT_EQ(out.AllocatedBytes(), 0);\n   TF_EXPECT_OK(ctx.allocate_temp(DT_INT32, {}, &out));\n   ASSERT_GT(out.AllocatedBytes(), 0);\n-  out.scalar<int32>()() = 123;\n+  out.scalar<int32_t>()() = 123;\n   ASSERT_EQ(out.dtype(), DT_INT32);\n   ASSERT_EQ(out.shape().dims(), 0);\n }"
        }
    ],
    "stats": {
        "total": 91,
        "additions": 46,
        "deletions": 45
    }
}