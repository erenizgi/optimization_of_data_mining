{
    "author": "GleasonK",
    "message": "[HLO->MHLO] Import get tuple element with frontend attributes\n\nPiperOrigin-RevId: 812206729",
    "sha": "266aaba100b82a5d6222d66fb3e562d68a7c14c9",
    "files": [
        {
            "sha": "871cb1716f69ea58849d4ded1d5d28dad0dbe743",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/hlo_function_importer.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/266aaba100b82a5d6222d66fb3e562d68a7c14c9/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/266aaba100b82a5d6222d66fb3e562d68a7c14c9/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc?ref=266aaba100b82a5d6222d66fb3e562d68a7c14c9",
            "patch": "@@ -208,8 +208,8 @@ Operation* GetTupleElementOp(mlir::OpBuilder* builder, Value value,\n                              llvm::SmallVector<NamedAttribute>&& attributes) {\n   attributes.push_back(\n       builder->getNamedAttr(\"index\", builder->getI32IntegerAttr(index)));\n-  return builder->create<mlir::stablehlo::GetTupleElementOp>(\n-      value.getLoc(), value, builder->getI32IntegerAttr(index));\n+  return mlir::stablehlo::GetTupleElementOp::create(*builder, value.getLoc(),\n+                                                    value, attributes);\n }\n \n // Creates an array of zeros like the given MLIR type, if type has bounded"
        },
        {
            "sha": "9afd9daf6949e4648aaa5dc545f5bf957f6ed71a",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/tests/import.hlo",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/266aaba100b82a5d6222d66fb3e562d68a7c14c9/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/266aaba100b82a5d6222d66fb3e562d68a7c14c9/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo?ref=266aaba100b82a5d6222d66fb3e562d68a7c14c9",
            "patch": "@@ -311,6 +311,16 @@ add {\n   ROOT %call.2 = (s64[], s64[]) call(%arg2, %arg1), to_apply=%call_tuple_args_result\n }\n \n+// CHECK-LABEL:  func private @test_get_tuple_element_fe_attrs\n+// FLATTEN-CHECK-LABEL:  func private @test_get_tuple_element_fe_attrs\n+%test_get_tuple_element_fe_attrs () -> f32[] {\n+  %custom-call.2 = (f32[], f32[]) custom-call(), custom_call_target=\"CustomCallTuple\", metadata={source_file=\"<stdin>\" source_line=3 source_end_line=3 source_column=10 source_end_column=10}, backend_config={\"_xla_data\": \"true\"}\n+  // CHECK: get_tuple_element{{.*}}mhlo.frontend_attributes = {_xla_data = \"true\"}\n+  // FLATTEN-CHECK-LABEL: get_tuple_element{{.*}}mhlo.frontend_attributes = {_xla_data = \"true\"}\n+  %get-tuple-element.1 = f32[] get-tuple-element(%custom-call.2), index=0, frontend_attributes={_xla_data=\"true\"}, metadata={source_file=\"<stdin>\" source_line=4 source_end_line=4 source_column=10 source_end_column=10}\n+  ROOT %custom-call.3 = f32[] custom-call(%get-tuple-element.1), custom_call_target=\"CustomCallConsumeTuple\", metadata={source_file=\"<stdin>\" source_line=5 source_end_line=5 source_column=10 source_end_column=10}, backend_config={\"_xla_data\": \"true\"}\n+}\n+\n // CHECK-LABEL:  func private @test_cholesky\n // CHECK-SAME:  ([[ARG:%.*]]: tensor<1x291x291xf32>) -> tensor<1x291x291xf32>\n %test_cholesky (a: f32[1,291,291]) -> f32[1,291,291] {"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 12,
        "deletions": 2
    }
}