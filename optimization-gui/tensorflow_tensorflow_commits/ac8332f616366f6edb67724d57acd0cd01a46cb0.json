{
    "author": "ezhulenev",
    "message": "[jax:ffi] Do not pass uninitialized type_id value to type registration API\n\nSetting type_id value to 0 is required for XLA to assign unique type id, otherwise type gets assigned a random value that happens to be on the caller stack.\n\nPiperOrigin-RevId: 822782898",
    "sha": "ac8332f616366f6edb67724d57acd0cd01a46cb0",
    "files": [
        {
            "sha": "d8fc2d02def9a9d21a972833cbdff6ca1266c5f9",
            "filename": "third_party/xla/xla/ffi/ffi_api.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/ac8332f616366f6edb67724d57acd0cd01a46cb0/third_party%2Fxla%2Fxla%2Fffi%2Fffi_api.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/ac8332f616366f6edb67724d57acd0cd01a46cb0/third_party%2Fxla%2Fxla%2Fffi%2Fffi_api.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fffi%2Fffi_api.cc?ref=ac8332f616366f6edb67724d57acd0cd01a46cb0",
            "patch": "@@ -201,8 +201,8 @@ static absl::StatusOr<XLA_FFI_Future*> Call(Handler& handler,\n \n   XLA_FFI_Error* error = nullptr;\n \n-  // FFI handlers might be defined in external libraries and use exceptions,\n-  // so take extra care to catch them and convert to a status.\n+  // FFI handlers might be defined in external libraries and use exceptions, so\n+  // take extra care to catch them and convert to a status.\n   try {\n     if constexpr (std::is_same_v<Handler, Ffi>) {\n       error = handler.Call(&ffi_call_frame);\n@@ -430,8 +430,7 @@ static absl::Status RegisterHandler(absl::string_view name,\n         kMinSupportedApiVersion.second);\n   }\n \n-  // Incorporate handler traits passed explicitly via handler registration\n-  // API.\n+  // Incorporate handler traits passed explicitly via handler registration API.\n   metadata.traits |= traits;\n \n   // Incorporate state type id from the instantiate implementation if present."
        }
    ],
    "stats": {
        "total": 7,
        "additions": 3,
        "deletions": 4
    }
}