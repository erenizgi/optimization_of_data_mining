{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845710509",
    "sha": "4999f8e8e7479f5cc270496504cd2f2b5e3f0835",
    "files": [
        {
            "sha": "5b81602719b6f650f5bc68859e8b8d529ac886a9",
            "filename": "third_party/xla/xla/tsl/platform/cloud/gcs_file_system.cc",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4999f8e8e7479f5cc270496504cd2f2b5e3f0835/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgcs_file_system.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4999f8e8e7479f5cc270496504cd2f2b5e3f0835/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgcs_file_system.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgcs_file_system.cc?ref=4999f8e8e7479f5cc270496504cd2f2b5e3f0835",
            "patch": "@@ -405,7 +405,7 @@ class BufferedGcsRandomAccessFile : public RandomAccessFile {\n       return read_fn_(filename_, offset, n, result, scratch);\n     }\n     {\n-      absl::MutexLock l(&buffer_mutex_);\n+      absl::MutexLock l(buffer_mutex_);\n       size_t buffer_end = buffer_start_ + buffer_.size();\n       size_t copy_size = 0;\n       if (offset < buffer_end && offset >= buffer_start_) {\n@@ -1061,7 +1061,7 @@ absl::Status GcsFileSystem::NewRandomAccessFile(\n                                                      uint64 offset, size_t n,\n                                                      absl::string_view* result,\n                                                      char* scratch) {\n-      absl::ReaderMutexLock l(&block_cache_lock_);\n+      absl::ReaderMutexLock l(block_cache_lock_);\n       GcsFileStat stat;\n       TF_RETURN_IF_ERROR(stat_cache_->LookupOrCompute(\n           fname, &stat,\n@@ -1110,7 +1110,7 @@ absl::Status GcsFileSystem::NewRandomAccessFile(\n void GcsFileSystem::ResetFileBlockCache(size_t block_size_bytes,\n                                         size_t max_bytes,\n                                         uint64 max_staleness_secs) {\n-  absl::MutexLock l(&block_cache_lock_);\n+  absl::MutexLock l(block_cache_lock_);\n   file_block_cache_ =\n       MakeFileBlockCache(block_size_bytes, max_bytes, max_staleness_secs);\n   if (stats_ != nullptr) {\n@@ -1346,7 +1346,7 @@ absl::Status GcsFileSystem::ParseGcsPath(absl::string_view fname,\n }\n \n void GcsFileSystem::ClearFileCaches(const string& fname) {\n-  absl::ReaderMutexLock l(&block_cache_lock_);\n+  absl::ReaderMutexLock l(block_cache_lock_);\n   file_block_cache_->RemoveFile(fname);\n   stat_cache_->Delete(fname);\n   // TODO(rxsang): Remove the patterns that match the file in\n@@ -2337,7 +2337,7 @@ absl::Status GcsFileSystem::RenameFolderHns(const string& src,\n // reclaiming memory once filesystem operations are done (e.g. model is loaded),\n // or for resetting the filesystem to a consistent state.\n void GcsFileSystem::FlushCaches(TransactionToken* token) {\n-  absl::ReaderMutexLock l(&block_cache_lock_);\n+  absl::ReaderMutexLock l(block_cache_lock_);\n   file_block_cache_->Flush();\n   stat_cache_->Clear();\n   matching_paths_cache_->Clear();\n@@ -2348,13 +2348,13 @@ void GcsFileSystem::FlushCaches(TransactionToken* token) {\n void GcsFileSystem::SetStats(GcsStatsInterface* stats) {\n   CHECK(stats_ == nullptr) << \"SetStats() has already been called.\";\n   CHECK(stats != nullptr);\n-  absl::MutexLock l(&block_cache_lock_);\n+  absl::MutexLock l(block_cache_lock_);\n   stats_ = stats;\n   stats_->Configure(this, &throttle_, file_block_cache_.get());\n }\n \n void GcsFileSystem::SetCacheStats(FileBlockCacheStatsInterface* cache_stats) {\n-  absl::ReaderMutexLock l(&block_cache_lock_);\n+  absl::ReaderMutexLock l(block_cache_lock_);\n   if (file_block_cache_ == nullptr) {\n     LOG(ERROR) << \"Tried to set cache stats of non-initialized file block \"\n                   \"cache object. This may result in not exporting the intended \"\n@@ -2366,7 +2366,7 @@ void GcsFileSystem::SetCacheStats(FileBlockCacheStatsInterface* cache_stats) {\n \n void GcsFileSystem::SetAuthProvider(\n     std::unique_ptr<AuthProvider> auth_provider) {\n-  absl::MutexLock l(&mu_);\n+  absl::MutexLock l(mu_);\n   auth_provider_ = std::move(auth_provider);\n }\n \n@@ -2382,7 +2382,7 @@ absl::Status GcsFileSystem::CreateHttpRequest(\n \n   string auth_token;\n   {\n-    absl::ReaderMutexLock l(&mu_);\n+    absl::ReaderMutexLock l(mu_);\n     TF_RETURN_IF_ERROR(\n         AuthProvider::GetToken(auth_provider_.get(), &auth_token));\n   }"
        },
        {
            "sha": "c3c1ada70a5df4d71dfe3ad8347297a673c43d01",
            "filename": "third_party/xla/xla/tsl/platform/cloud/google_auth_provider.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/4999f8e8e7479f5cc270496504cd2f2b5e3f0835/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgoogle_auth_provider.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/4999f8e8e7479f5cc270496504cd2f2b5e3f0835/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgoogle_auth_provider.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fcloud%2Fgoogle_auth_provider.cc?ref=4999f8e8e7479f5cc270496504cd2f2b5e3f0835",
            "patch": "@@ -151,7 +151,7 @@ GoogleAuthProvider::GoogleAuthProvider(\n       env_(env) {}\n \n absl::Status GoogleAuthProvider::GetToken(string* t) {\n-  absl::MutexLock lock(&mu_);\n+  absl::MutexLock lock(mu_);\n   const uint64 now_sec = env_->NowSeconds();\n \n   if (now_sec + kExpirationTimeMarginSec < expiration_timestamp_sec_) {"
        }
    ],
    "stats": {
        "total": 20,
        "additions": 10,
        "deletions": 10
    }
}