{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 820195098",
    "sha": "45c685e3bac6e3180b7b70a9aecee0ba52299e17",
    "files": [
        {
            "sha": "834e474daa023d0390062ca3c5193e6a7783948a",
            "filename": "tensorflow/core/tfrt/utils/device_variables_table.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Fdevice_variables_table.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Fdevice_variables_table.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Ftfrt%2Futils%2Fdevice_variables_table.h?ref=45c685e3bac6e3180b7b70a9aecee0ba52299e17",
            "patch": "@@ -36,15 +36,15 @@ class DeviceVariablesTable {\n   void AddOrUpdateDeviceVariable(\n       const HostTensorType& host_tensor, int copy_index,\n       AsyncValueRef<DeviceTensorType> device_tensor) {\n-    absl::MutexLock lock(&device_variables_mu_);\n+    absl::MutexLock lock(device_variables_mu_);\n     device_variables_table_.insert_or_assign(\n         std::make_pair(GetHostTensorDataPtr(host_tensor), copy_index),\n         std::move(device_tensor));\n   }\n \n   AsyncValueRef<DeviceTensorType> GetDeviceVariable(\n       const HostTensorType& host_tensor, int copy_index) {\n-    absl::ReaderMutexLock lock(&device_variables_mu_);\n+    absl::ReaderMutexLock lock(device_variables_mu_);\n     auto it = device_variables_table_.find(\n         std::make_pair(GetHostTensorDataPtr(host_tensor), copy_index));\n     return it != device_variables_table_.end()\n@@ -55,7 +55,7 @@ class DeviceVariablesTable {\n   AsyncValueRef<DeviceTensorType> GetOrAddDeviceVariable(\n       const HostTensorType& host_tensor, int copy_index,\n       llvm::unique_function<void(AsyncValueRef<DeviceTensorType>)> creator) {\n-    absl::ReleasableMutexLock lock(&device_variables_mu_);\n+    absl::ReleasableMutexLock lock(device_variables_mu_);\n     auto it = device_variables_table_.find(\n         std::make_pair(GetHostTensorDataPtr(host_tensor), copy_index));\n     if (it != device_variables_table_.end()) return it->second.CopyRef();\n@@ -70,12 +70,12 @@ class DeviceVariablesTable {\n   }\n \n   void ClearDeviceVariablesTable() {\n-    absl::MutexLock lock(&device_variables_mu_);\n+    absl::MutexLock lock(device_variables_mu_);\n     device_variables_table_.clear();\n   }\n \n   int size() {\n-    absl::ReaderMutexLock lock(&device_variables_mu_);\n+    absl::ReaderMutexLock lock(device_variables_mu_);\n     return device_variables_table_.size();\n   }\n "
        },
        {
            "sha": "6e4d6438eda9c8663098321899c0d5a63f8242d8",
            "filename": "tensorflow/core/tfrt/utils/tfrt_graph_execution_state.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.cc?ref=45c685e3bac6e3180b7b70a9aecee0ba52299e17",
            "patch": "@@ -325,7 +325,7 @@ TfrtGraphExecutionState::CreateOptimizedGraph(\n \n absl::Status TfrtGraphExecutionState::Extend(const GraphDef& graph) {\n   std::unique_ptr<GraphExecutionState> new_state;\n-  absl::MutexLock lock(&graph_execution_state_mu_);\n+  absl::MutexLock lock(graph_execution_state_mu_);\n   TF_RETURN_IF_ERROR(graph_execution_state_->Extend(graph, &new_state));\n   graph_execution_state_.swap(new_state);\n \n@@ -684,7 +684,7 @@ TfrtGraphExecutionState::OptimizeGraph(\n   std::unique_ptr<tensorflow::FunctionLibraryDefinition> optimized_flib;\n \n   {\n-    absl::MutexLock lock(&graph_execution_state_mu_);\n+    absl::MutexLock lock(graph_execution_state_mu_);\n     // Invoke Grappler to optimize the graph.\n     TF_RETURN_IF_ERROR(graph_execution_state_->OptimizeGraph(\n         build_graph_options, graph, &graph.flib_def(), &optimized_graph,"
        },
        {
            "sha": "30935e0db9c42417b871e62bdfb0475e12337c68",
            "filename": "tensorflow/core/tfrt/utils/tfrt_graph_execution_state.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/45c685e3bac6e3180b7b70a9aecee0ba52299e17/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Ftfrt%2Futils%2Ftfrt_graph_execution_state.h?ref=45c685e3bac6e3180b7b70a9aecee0ba52299e17",
            "patch": "@@ -86,20 +86,20 @@ class TfrtGraphExecutionState {\n   // Return the preprocessed full graph. Note that it does not contain the\n   // function library in the original graph.\n   const tensorflow::Graph& graph() const {\n-    absl::MutexLock lock(&graph_execution_state_mu_);\n+    absl::MutexLock lock(graph_execution_state_mu_);\n     DCHECK(graph_execution_state_->full_graph());\n     return *graph_execution_state_->full_graph();\n   }\n \n   // The original graph.\n   const GraphDef* original_graph_def() const {\n-    absl::MutexLock lock(&graph_execution_state_mu_);\n+    absl::MutexLock lock(graph_execution_state_mu_);\n     return graph_execution_state_->original_graph_def();\n   }\n \n   // Return the function library in the original graph.\n   const FunctionLibraryDefinition& flib_def() const {\n-    absl::MutexLock lock(&graph_execution_state_mu_);\n+    absl::MutexLock lock(graph_execution_state_mu_);\n     return graph_execution_state_->flib_def();\n   }\n "
        }
    ],
    "stats": {
        "total": 20,
        "additions": 10,
        "deletions": 10
    }
}