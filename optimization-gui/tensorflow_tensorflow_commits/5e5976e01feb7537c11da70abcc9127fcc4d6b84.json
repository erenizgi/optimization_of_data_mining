{
    "author": "EusebioDM",
    "message": "Clean up includes and dependencies in `../gpu/runtime` directory.\n\nHad to manually add a `IWYU pragma: keep` in select_k_exec_stub.cc, otherwise the `::xla::bfloat16` type isn't found.\n\nPiperOrigin-RevId: 824529669",
    "sha": "5e5976e01feb7537c11da70abcc9127fcc4d6b84",
    "files": [
        {
            "sha": "b8410ac071802f5439538012a71d218e81647ed5",
            "filename": "third_party/xla/xla/backends/gpu/runtime/BUILD",
            "status": "modified",
            "additions": 38,
            "deletions": 68,
            "changes": 106,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2FBUILD?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -72,13 +72,15 @@ cc_library(\n         \":while_thunk\",\n         \"//xla:debug_options_flags\",\n         \"//xla:executable_run_options\",\n+        \"//xla:literal\",\n         \"//xla:literal_util\",\n         \"//xla:shape_util\",\n         \"//xla:status_macros\",\n         \"//xla:types\",\n         \"//xla:util\",\n         \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n+        \"//xla/ffi:attribute_map\",\n         \"//xla/ffi:call_frame\",\n         \"//xla/ffi:ffi_api\",\n         \"//xla/ffi/api:c_api\",\n@@ -139,6 +141,7 @@ xla_test(\n     backends = [\"gpu\"],\n     deps = [\n         \":command_buffer_cmd\",\n+        \":copy_thunk\",\n         \":thunk\",\n         \"//xla/runtime:buffer_use\",\n         \"//xla/service:buffer_assignment\",\n@@ -150,6 +153,7 @@ xla_test(\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor:platform_manager\",\n+        \"//xla/stream_executor:semantic_version\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/stream_executor:stream_executor_memory_allocator\",\n         \"//xla/stream_executor/gpu:gpu_test_kernels_fatbin\",\n@@ -231,11 +235,11 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service/gpu:buffer_allocations\",\n-        \"//xla/service/gpu:ir_emission_utils\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:memory_allocation\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/base:core_headers\",\n@@ -250,9 +254,6 @@ cc_library(\n         \"@com_google_absl//absl/synchronization\",\n         \"@com_google_absl//absl/types:span\",\n         \"@llvm-project//llvm:Support\",\n-        \"@local_tsl//tsl/platform:errors\",\n-        \"@local_tsl//tsl/platform:logging\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -271,6 +272,7 @@ xla_test(\n         \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/ffi\",\n+        \"//xla/ffi:attribute_map\",\n         \"//xla/ffi:ffi_api\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/parser:hlo_parser\",\n@@ -291,7 +293,6 @@ xla_test(\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/stream_executor:stream_executor_memory_allocator\",\n         \"//xla/tsl/lib/core:status_test_util\",\n-        \"//xla/tsl/platform:status\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/status\",\n@@ -322,6 +323,7 @@ cc_library(\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/functional:any_invocable\",\n+        \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -396,15 +398,12 @@ xla_test(\n         \":memset_thunk\",\n         \":sequential_thunk\",\n         \":thunk\",\n-        \"//xla:error_spec\",\n         \"//xla:shape_util\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla:xla_proto_cc\",\n-        \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:buffer_use\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:executable\",\n-        \"//xla/service:hlo_module_config\",\n         \"//xla/service:platform_util\",\n         \"//xla/service/gpu:buffer_allocations\",\n         \"//xla/service/gpu:launch_dimensions\",\n@@ -423,11 +422,8 @@ xla_test(\n         \"//xla/stream_executor:semantic_version\",\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/stream_executor:stream_executor_memory_allocator\",\n-        \"//xla/stream_executor/cuda:cuda_compute_capability\",\n         \"//xla/stream_executor/gpu:gpu_test_kernels\",\n         \"//xla/stream_executor/gpu:gpu_test_kernels_fatbin\",\n-        \"//xla/tests:hlo_pjrt_interpreter_reference_mixin\",\n-        \"//xla/tests:hlo_pjrt_test_base\",\n         \"//xla/tsl/lib/core:status_test_util\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -527,7 +523,7 @@ xla_cc_test(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n+        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -548,7 +544,6 @@ cc_library(\n         \"//xla/stream_executor:scratch_allocator\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n-        \"//xla/stream_executor/rocm:rocm_compute_capability\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/protobuf:dnn_proto_cc\",\n@@ -681,7 +676,6 @@ cc_library(\n         \"//xla/service/gpu:buffer_allocations\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:device_memory_allocator\",\n-        \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n@@ -834,8 +828,6 @@ cc_library(\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/types:span\",\n-        \"@local_tsl//tsl/platform:logging\",\n-        \"@local_tsl//tsl/platform:statusor\",\n         \"@local_tsl//tsl/profiler/lib:nvtx_utils\",\n     ],\n )\n@@ -943,6 +935,7 @@ cc_library(\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/types:span\",\n     ],\n )\n@@ -959,7 +952,7 @@ xla_cc_test(\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n+        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -1044,7 +1037,6 @@ xla_test(\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -1211,13 +1203,10 @@ cc_library(\n         \":thunk\",\n         \"//xla:future\",\n         \"//xla:shape_util\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n-        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n         \"//xla/stream_executor:stream\",\n@@ -1285,7 +1274,6 @@ xla_test(\n         \"//xla:array\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/runtime:device_id\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:collective_ops_utils\",\n@@ -1331,7 +1319,6 @@ cc_library(\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\",\n@@ -1356,17 +1343,15 @@ cc_library(\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n-        \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:rendezvous\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n         \"//xla/stream_executor:device_memory\",\n+        \"//xla/stream_executor:event\",\n         \"//xla/stream_executor:memory_allocation\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:logging\",\n         \"//xla/tsl/platform:statusor\",\n@@ -1400,7 +1385,6 @@ cc_library(\n         \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n-        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:rendezvous\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n@@ -1409,7 +1393,6 @@ cc_library(\n         \"//xla/stream_executor:event\",\n         \"//xla/stream_executor:memory_allocation\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n@@ -1438,17 +1421,14 @@ cc_library(\n         \":thunk\",\n         \"//xla:future\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/status\",\n@@ -1473,7 +1453,6 @@ xla_test(\n         \":thunk_proto_cc\",\n         \"//xla:util\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/testlib:verified_hlo_module\",\n         \"//xla/service:backend\",\n@@ -1503,13 +1482,12 @@ cc_library(\n         \":thunk\",\n         \"//xla:executable_run_options\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service:global_device_id\",\n         \"//xla/service:rendezvous\",\n@@ -1595,19 +1573,20 @@ cc_library(\n         \"//xla:shape_util\",\n         \"//xla:status_macros\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/hlo/parser:hlo_parser\",\n         \"//xla/service:collective_ops_utils\",\n+        \"//xla/service:source_target_pairs\",\n         \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/synchronization\",\n         \"@llvm-project//mlir:IR\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -1620,10 +1599,10 @@ cc_library(\n         \":p2p_thunk_common\",\n         \":thunk\",\n         \"//xla:status_macros\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service:global_device_id\",\n@@ -1648,17 +1627,15 @@ cc_library(\n         \":p2p_thunk_common\",\n         \":thunk\",\n         \"//xla:status_macros\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service:global_device_id\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n@@ -1679,7 +1656,6 @@ cc_library(\n         \":thunk_id\",\n         \"//xla:future\",\n         \"//xla:util\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_communicator\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/hlo/ir:hlo\",\n@@ -1970,6 +1946,7 @@ cc_library(\n         \"//xla/stream_executor:blas\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n+        \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n@@ -1991,7 +1968,7 @@ xla_cc_test(\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n+        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -2007,7 +1984,7 @@ xla_cc_test(\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n+        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -2071,10 +2048,10 @@ xla_test(\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n     ],\n )\n \n@@ -2086,10 +2063,10 @@ cc_library(\n         \":thunk\",\n         \":thunk_proto_cc\",\n         \"//xla/stream_executor:stream\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n-        \"@local_tsl//tsl/platform:statusor\",\n     ],\n )\n \n@@ -2137,8 +2114,9 @@ xla_cc_test(\n         \"//xla/tsl/platform:status_matchers\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util/proto:proto_matchers\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_googletest//:gtest_main\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n+        \"@com_google_protobuf//:protobuf\",\n     ],\n )\n \n@@ -2186,6 +2164,8 @@ cc_library(\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/stream_executor/gpu:buffer_comparator_kernel\",\n         \"//xla/stream_executor/gpu:gpu_kernel_registry\",\n+        \"//xla/tsl/platform:errors\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n@@ -2212,11 +2192,11 @@ xla_test(\n         \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor:platform_manager\",\n         \"//xla/stream_executor:stream\",\n+        \"//xla/tsl/platform:status\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_absl//absl/types:span\",\n         \"@com_google_googletest//:gtest_main\",\n         \"@local_tsl//tsl/platform:ml_dtypes\",\n-        \"@local_tsl//tsl/platform:test\",\n     ],\n )\n \n@@ -2252,6 +2232,7 @@ xla_test(\n         \"//xla/stream_executor:stream_executor_h\",\n         \"//xla/tsl/platform:status_matchers\",\n         \"//xla/tsl/platform:statusor\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_googletest//:gtest_main\",\n     ],\n@@ -2276,7 +2257,6 @@ cc_library(\n         \"//xla/stream_executor/gpu:gpu_kernel_registry\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util:safe_reinterpret_cast\",\n-        \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/base\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n@@ -2335,6 +2315,7 @@ xla_test(\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/types:span\",\n         \"@com_google_googletest//:gtest\",\n@@ -2525,11 +2506,11 @@ xla_cc_test(\n         \":thunk_proto_deserialization\",\n         \":while_thunk\",\n         \"//xla/service:buffer_assignment\",\n-        \"//xla/tsl/platform:status_matchers\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util/proto:parse_text_proto\",\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/strings:string_view\",\n         \"@com_google_googletest//:gtest_main\",\n     ],\n@@ -2548,11 +2529,12 @@ cc_library(\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives\",\n         \"//xla/core/collectives:collectives_registry\",\n-        \"//xla/core/collectives:communicator\",\n         \"//xla/service:computation_placer\",\n         \"//xla/stream_executor:event\",\n         \"//xla/stream_executor:stream\",\n         \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/tsl/platform:errors\",\n+        \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/base\",\n         \"@com_google_absl//absl/base:core_headers\",\n         \"@com_google_absl//absl/container:flat_hash_map\",\n@@ -2562,9 +2544,7 @@ cc_library(\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings:str_format\",\n         \"@com_google_absl//absl/synchronization\",\n-        \"@local_tsl//tsl/platform:errors\",\n-        \"@local_tsl//tsl/platform:logging\",\n-        \"@local_tsl//tsl/platform:statusor\",\n+        \"@local_tsl//tsl/platform:casts\",\n     ],\n )\n \n@@ -2580,13 +2560,11 @@ cc_library(\n         \":p2p_thunk_common\",\n         \":thunk\",\n         \"//xla:xla_data_proto_cc\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n         \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service:global_device_id\",\n         \"//xla/service/gpu:backend_configs_cc\",\n@@ -2619,15 +2597,14 @@ cc_library(\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:device_id\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n         \"//xla/stream_executor:device_memory\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n@@ -2651,14 +2628,13 @@ cc_library(\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n         \"//xla/core/collectives:rank_id\",\n+        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/runtime:device_id\",\n-        \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n         \"//xla/service/gpu:backend_configs_cc\",\n         \"//xla/service/gpu/transforms/collectives:collective_ops_utils\",\n         \"//xla/stream_executor:stream\",\n-        \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/log\",\n@@ -2673,13 +2649,13 @@ cc_library(\n     hdrs = [\"nvshmem_all_reduce_thunk.h\"],\n     deps = [\n         \":all_reduce_thunk\",\n+        \":collective_kernel_thunk\",\n         \":collective_thunk\",\n         \":nvshmem_collective_thunk\",\n         \":thunk\",\n         \"//xla:xla_data_proto_cc\",\n         \"//xla/backends/gpu/collectives:gpu_collectives\",\n         \"//xla/core/collectives:communicator\",\n-        \"//xla/hlo/ir:collective_op_group_mode\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:collective_ops_utils\",\n         \"//xla/service:computation_placer\",\n@@ -2748,7 +2724,6 @@ xla_test(\n     deps = [\n         \":host_execute_thunk\",\n         \":thunk\",\n-        \":thunk_proto_cc\",\n         \"//xla:executable_run_options\",\n         \"//xla:literal\",\n         \"//xla:literal_util\",\n@@ -2757,7 +2732,6 @@ xla_test(\n         \"//xla/backends/cpu:alignment\",\n         \"//xla/backends/cpu/nanort:nanort_client\",\n         \"//xla/backends/cpu/nanort:nanort_executable\",\n-        \"//xla/core/host_offloading:host_offloading_executable\",\n         \"//xla/hlo/builder:xla_computation\",\n         \"//xla/hlo/parser:hlo_parser\",\n         \"//xla/service:buffer_assignment\",\n@@ -2773,16 +2747,15 @@ xla_test(\n         \"//xla/tests:literal_test_util\",\n         \"//xla/tsl/concurrency:async_value\",\n         \"//xla/tsl/lib/core:status_test_util\",\n-        \"//xla/tsl/platform:status_matchers\",\n         \"//xla/tsl/platform:statusor\",\n         \"//xla/tsl/util/proto:proto_matchers\",\n         \"@com_google_absl//absl/container:inlined_vector\",\n         \"@com_google_absl//absl/status\",\n+        \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n         \"@com_google_googletest//:gtest_main\",\n         \"@local_tsl//tsl/platform:casts\",\n-        \"@local_tsl//tsl/platform:protobuf\",\n     ],\n )\n \n@@ -2842,13 +2815,11 @@ cc_library(\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/stream_executor:device_description\",\n         \"//xla/stream_executor:semantic_version\",\n-        \"//xla/stream_executor/cuda:cuda_compute_capability\",\n         \"//xla/tsl/platform:errors\",\n         \"//xla/tsl/platform:statusor\",\n         \"@com_google_absl//absl/algorithm:container\",\n         \"@com_google_absl//absl/base:nullability\",\n         \"@com_google_absl//absl/container:flat_hash_set\",\n-        \"@com_google_absl//absl/functional:overload\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -2881,7 +2852,6 @@ xla_test(\n         \":thunk_pass_pipeline\",\n         \":while_thunk\",\n         \"//xla:shape_util\",\n-        \"//xla/backends/gpu/collectives:gpu_clique_key\",\n         \"//xla/hlo/ir:hlo\",\n         \"//xla/service:buffer_assignment\",\n         \"//xla/service:hlo_module_config\",\n@@ -2893,6 +2863,7 @@ xla_test(\n         \"//xla/stream_executor:platform\",\n         \"//xla/stream_executor:platform_manager\",\n         \"//xla/stream_executor:stream_executor_h\",\n+        \"//xla/tsl/platform:status\",\n         \"@com_google_absl//absl/status\",\n         \"@com_google_absl//absl/status:status_matchers\",\n         \"@com_google_absl//absl/status:statusor\",\n@@ -3025,7 +2996,6 @@ cc_library(\n         \"@com_google_absl//absl/container:flat_hash_map\",\n         \"@com_google_absl//absl/log\",\n         \"@com_google_absl//absl/status\",\n-        \"@com_google_absl//absl/status:statusor\",\n         \"@com_google_absl//absl/strings\",\n     ],\n )"
        },
        {
            "sha": "ad5eec5de09bd9daa3f38cf27169fb52de25ae21",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_gather_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -21,14 +21,12 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/strings/str_format.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/collectives/gpu_communicator.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/future.h\"\n-#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\""
        },
        {
            "sha": "81b69793cbe21330e7793dcc5aeb850796b60c8c",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_gather_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_gather_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,11 +22,9 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/types/span.h\"\n-#include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/stream.h\"\n \n namespace xla {"
        },
        {
            "sha": "c54b3ff46175a90db7f2ca0949b52e020c3b8e70",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_reduce.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -18,7 +18,6 @@ limitations under the License.\n #include <algorithm>\n #include <cstdint>\n \n-#include \"absl/algorithm/container.h\"\n #include \"absl/base/casts.h\"\n #include \"absl/log/log.h\"\n #include \"absl/status/status.h\""
        },
        {
            "sha": "cff1499fe1ade1224fee30a129ab7daeface3104",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_reduce.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -19,7 +19,6 @@ limitations under the License.\n #include <cstdint>\n \n #include \"absl/status/status.h\"\n-#include \"absl/types/span.h\"\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/gpu/launch_dimensions.h\""
        },
        {
            "sha": "f0866c24568486c0509bfd4c36b0516542238140",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_reduce_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -26,6 +26,7 @@ limitations under the License.\n #include \"absl/log/check.h\"\n #include \"absl/log/log.h\"\n #include \"absl/status/status.h\"\n+#include \"absl/status/status_matchers.h\"\n #include \"absl/strings/str_format.h\"\n #include \"absl/types/span.h\"\n #include \"xla/array.h\""
        },
        {
            "sha": "1fcbc951078a225aef1958eda1a30b6a92a6c73f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_reduce_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -39,7 +39,6 @@ limitations under the License.\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/logging.h\"\n #include \"xla/tsl/platform/statusor.h\""
        },
        {
            "sha": "c8daf0bf1a28e2205416f0b33135518050341305",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_reduce_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_reduce_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,8 +22,6 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/types/span.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n-#include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_kernel_thunk.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/core/collectives/communicator.h\""
        },
        {
            "sha": "875aaa57bb2ea96e3044e3fbe4967c75f0ba4461",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_to_all_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -35,7 +35,6 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n-#include \"xla/backends/gpu/collectives/gpu_communicator.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n@@ -48,9 +47,9 @@ limitations under the License.\n #include \"xla/shape_util.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n+#include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/memory_allocation.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/logging.h\"\n #include \"xla/tsl/platform/statusor.h\""
        },
        {
            "sha": "caff93eee95bb5e7e5fec98ccf74636cc26b49e4",
            "filename": "third_party/xla/xla/backends/gpu/runtime/all_to_all_thunk.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fall_to_all_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -29,8 +29,9 @@ limitations under the License.\n #include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n+#include \"xla/core/collectives/rank_id.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n+#include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/memory_allocation.h\"\n #include \"xla/stream_executor/stream.h\"\n "
        },
        {
            "sha": "b6e383f0a2a30fb80d7f78d6f3b17c2a7b900bbb",
            "filename": "third_party/xla/xla/backends/gpu/runtime/annotation.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 3,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fannotation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fannotation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fannotation.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -18,7 +18,6 @@ limitations under the License.\n #include <algorithm>\n #include <cstddef>\n #include <cstdint>\n-#include <cstring>\n #include <iterator>\n #include <optional>\n #include <ostream>\n@@ -31,13 +30,13 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/strings/str_cat.h\"\n-#include \"absl/strings/str_split.h\"\n+#include \"absl/strings/str_format.h\"\n #include \"absl/strings/string_view.h\"\n #include \"xla/hlo/ir/dfs_hlo_visitor_with_default.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n+#include \"xla/hlo/ir/hlo_print_options.h\"\n #include \"xla/hlo/utils/hlo_longest_prefix.h\"\n #include \"xla/printer.h\"\n-#include \"tsl/platform/errors.h\"\n #include \"tsl/profiler/lib/nvtx_utils.h\"\n #include \"tsl/profiler/lib/scoped_annotation.h\"\n "
        },
        {
            "sha": "8f06af032c53b793ef472b85c0faaca1fc2e5c8c",
            "filename": "third_party/xla/xla/backends/gpu/runtime/buffer_comparator.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -37,6 +37,8 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/gpu_kernel_registry.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/tsl/platform/errors.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n #include \"xla/xla_data.pb.h\"\n "
        },
        {
            "sha": "a72e6d2f7b05b51403168ddce6519fb136aee955",
            "filename": "third_party/xla/xla/backends/gpu/runtime/buffer_comparator_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffer_comparator_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -33,10 +33,10 @@ limitations under the License.\n #include \"xla/stream_executor/platform.h\"\n #include \"xla/stream_executor/platform_manager.h\"\n #include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/status.h\"\n #include \"xla/types.h\"\n #include \"xla/xla_data.pb.h\"\n #include \"tsl/platform/ml_dtypes.h\"\n-#include \"tsl/platform/test.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "4e8d514c27387debbbd33be7abd0452e64cd4bdb",
            "filename": "third_party/xla/xla/backends/gpu/runtime/buffers_checksum_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffers_checksum_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffers_checksum_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fbuffers_checksum_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,7 +22,6 @@ limitations under the License.\n \n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/status/status.h\"\n-#include \"absl/status/statusor.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk_buffer_id.h\"\n #include \"xla/service/buffer_assignment.h\""
        },
        {
            "sha": "000d2c647b6aafd81595a1311628f61b4715b421",
            "filename": "third_party/xla/xla/backends/gpu/runtime/cholesky_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,6 +23,7 @@ limitations under the License.\n \n #include \"absl/functional/any_invocable.h\"\n #include \"absl/log/check.h\"\n+#include \"absl/log/log.h\"\n #include \"absl/status/status.h\"\n #include \"absl/strings/str_format.h\"\n #include \"absl/types/span.h\""
        },
        {
            "sha": "707d54f2ed1a628a83539e1b727fce959e0a91ce",
            "filename": "third_party/xla/xla/backends/gpu/runtime/cholesky_thunk.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcholesky_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,13 +22,14 @@ limitations under the License.\n #include \"absl/functional/any_invocable.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n+#include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/stream_executor/blas.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/gpu_solver_context.h\"\n-#include \"xla/stream_executor/stream.h\"\n+#include \"xla/stream_executor/platform.h\"\n #include \"xla/xla_data.pb.h\"\n \n namespace xla {"
        },
        {
            "sha": "b119d69ab834435fab7daeabb7807afcf2e15b47",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_broadcast_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,7 +22,6 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/collectives/gpu_communicator.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n@@ -35,7 +34,6 @@ limitations under the License.\n #include \"xla/service/gpu/transforms/collectives/collective_ops_utils.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/xla_data.pb.h\""
        },
        {
            "sha": "74397b399331a8d3f76781b31957342cdd7a9b6b",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_broadcast_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -26,7 +26,6 @@ limitations under the License.\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/stream.h\"\n \n namespace xla::gpu {"
        },
        {
            "sha": "bc0d707ff7715b36d33a35790f45267663d15f81",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_broadcast_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_broadcast_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,7 +23,6 @@ limitations under the License.\n \n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_cmd.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_cmd_emitter.h\""
        },
        {
            "sha": "cbb4aefff5e2ac27cd9ddb1252156057785985d3",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_group_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -24,7 +24,6 @@ limitations under the License.\n #include \"absl/functional/function_ref.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_communicator.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\""
        },
        {
            "sha": "84a2caa42f34d2938a1f69c4c17b46a993ea0e63",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_group_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_group_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -21,9 +21,9 @@ limitations under the License.\n \n #include \"absl/functional/function_ref.h\"\n #include \"absl/status/status.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n+#include \"xla/backends/gpu/runtime/thunk_id.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n \n namespace xla {"
        },
        {
            "sha": "4a74f23d39aa5e84b10313d7b38bc973207ad10d",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_kernel_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_kernel_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_kernel_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_kernel_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -30,7 +30,6 @@ limitations under the License.\n #include \"xla/array.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n-#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/runtime/device_id.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/collective_ops_utils.h\""
        },
        {
            "sha": "c1ad52378e955004c3c80695d96426c860e5f31f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_permute_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -34,7 +34,6 @@ limitations under the License.\n #include \"absl/strings/string_view.h\"\n #include \"absl/synchronization/mutex.h\"\n #include \"absl/time/time.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/collectives/gpu_communicator.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n@@ -43,9 +42,9 @@ limitations under the License.\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/executable_run_options.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/global_device_id.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\""
        },
        {
            "sha": "a4b87bffa5802001d69508cb25f86846a313d197",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_permute_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_permute_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -29,12 +29,10 @@ limitations under the License.\n #include \"absl/strings/str_cat.h\"\n #include \"absl/strings/string_view.h\"\n #include \"absl/synchronization/mutex.h\"\n-#include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\""
        },
        {
            "sha": "513e86c3bd96c9f609f856068b7d890ad11e1f86",
            "filename": "third_party/xla/xla/backends/gpu/runtime/collective_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcollective_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -20,13 +20,11 @@ limitations under the License.\n #include <memory>\n #include <optional>\n #include <string>\n-#include <tuple>\n #include <utility>\n #include <vector>\n \n #include \"absl/algorithm/container.h\"\n #include \"absl/base/casts.h\"\n-#include \"absl/base/thread_annotations.h\"\n #include \"absl/container/flat_hash_map.h\"\n #include \"absl/container/flat_hash_set.h\"\n #include \"absl/log/check.h\"\n@@ -43,6 +41,7 @@ limitations under the License.\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/debug_options_flags.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/primitive_util.h\"\n #include \"xla/service/collective_ops_utils.h\""
        },
        {
            "sha": "38575ae6b758b45d6d4df7810986c99b0f49a6b1",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_cmd.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -63,6 +63,7 @@ limitations under the License.\n #include \"xla/ffi/call_frame.h\"\n #include \"xla/ffi/ffi_api.h\"\n #include \"xla/hlo/evaluator/hlo_evaluator.h\"\n+#include \"xla/literal.h\"\n #include \"xla/literal_util.h\"\n #include \"xla/runtime/buffer_use.h\"\n #include \"xla/runtime/execution_graph.h\""
        },
        {
            "sha": "b0c7543511ff9862463b820b71c65469fb02612d",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_cmd.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -44,6 +44,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/gpublas_lt_matmul_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/ffi/api/c_api.h\"\n+#include \"xla/ffi/attribute_map.h\"\n #include \"xla/ffi/call_frame.h\"\n #include \"xla/hlo/ir/hlo_computation.h\"\n #include \"xla/runtime/buffer_use.h\""
        },
        {
            "sha": "86888630f86e63f92319c41d6920899c8c390881",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_cmd_test.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_cmd_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -15,6 +15,7 @@ limitations under the License.\n \n #include \"xla/backends/gpu/runtime/command_buffer_cmd.h\"\n \n+#include <algorithm>\n #include <array>\n #include <cstdint>\n #include <utility>\n@@ -26,6 +27,7 @@ limitations under the License.\n #include \"absl/strings/ascii.h\"\n #include \"absl/strings/string_view.h\"\n #include \"absl/types/span.h\"\n+#include \"xla/backends/gpu/runtime/copy_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/runtime/buffer_use.h\"\n #include \"xla/service/buffer_assignment.h\"\n@@ -38,6 +40,7 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/gpu_test_kernels_fatbin.h\"\n #include \"xla/stream_executor/platform.h\"\n #include \"xla/stream_executor/platform_manager.h\"\n+#include \"xla/stream_executor/semantic_version.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/stream_executor/stream_executor_memory_allocator.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\""
        },
        {
            "sha": "f6ef881b0966e3b2f4a50d31b58590403c4fd40d",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_conversion_pass.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 3,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,13 +23,11 @@ limitations under the License.\n #include <optional>\n #include <string>\n #include <utility>\n-#include <variant>\n #include <vector>\n \n #include \"absl/algorithm/container.h\"\n #include \"absl/base/nullability.h\"\n #include \"absl/container/flat_hash_set.h\"\n-#include \"absl/functional/overload.h\"\n #include \"absl/log/log.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n@@ -48,7 +46,6 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/while_thunk.h\"\n #include \"xla/ffi/ffi_api.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n-#include \"xla/stream_executor/cuda/cuda_compute_capability.h\"\n #include \"xla/stream_executor/device_description.h\"\n #include \"xla/stream_executor/semantic_version.h\"\n #include \"xla/tsl/platform/errors.h\""
        },
        {
            "sha": "fbde0e128a9479dbbd6167b0ba38135a8a2ec3d1",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_conversion_pass.h",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -16,6 +16,8 @@ limitations under the License.\n #ifndef XLA_BACKENDS_GPU_RUNTIME_COMMAND_BUFFER_CONVERSION_PASS_H_\n #define XLA_BACKENDS_GPU_RUNTIME_COMMAND_BUFFER_CONVERSION_PASS_H_\n \n+#include <string>\n+\n #include \"absl/base/nullability.h\"\n #include \"absl/container/flat_hash_set.h\"\n #include \"absl/status/statusor.h\""
        },
        {
            "sha": "772404cef107d27e07722951e0a3694572374e5f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_conversion_pass_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_conversion_pass_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -28,7 +28,6 @@ limitations under the License.\n #include \"absl/status/status_matchers.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/ascii.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/all_gather_thunk.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_thunk.h\"\n@@ -57,6 +56,7 @@ limitations under the License.\n #include \"xla/stream_executor/platform.h\"\n #include \"xla/stream_executor/platform_manager.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/tsl/platform/status.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "3d2bc93daafbfcdafd0e09f64886c9528e30f0dc",
            "filename": "third_party/xla/xla/backends/gpu/runtime/command_buffer_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 8,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcommand_buffer_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,37 +23,31 @@ limitations under the License.\n #include <string>\n #include <thread>  // NOLINT\n #include <utility>\n-#include <variant>\n #include <vector>\n \n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/ascii.h\"\n-#include \"absl/strings/match.h\"\n #include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_cmd.h\"\n #include \"xla/backends/gpu/runtime/dynamic_slice_thunk.h\"\n #include \"xla/backends/gpu/runtime/gpublas_lt_matmul_thunk.h\"\n #include \"xla/backends/gpu/runtime/memset_thunk.h\"\n #include \"xla/backends/gpu/runtime/sequential_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n-#include \"xla/error_spec.h\"\n-#include \"xla/hlo/ir/hlo_module.h\"\n #include \"xla/runtime/buffer_use.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/gpu/buffer_allocations.h\"\n #include \"xla/service/gpu/kernels/custom_kernel.h\"\n #include \"xla/service/gpu/launch_dimensions.h\"\n #include \"xla/service/gpu/matmul_utils.h\"\n-#include \"xla/service/hlo_module_config.h\"\n #include \"xla/service/platform_util.h\"\n #include \"xla/service/service_executable_run_options.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/stream_executor/blas.h\"\n #include \"xla/stream_executor/command_buffer.h\"\n-#include \"xla/stream_executor/cuda/cuda_compute_capability.h\"\n #include \"xla/stream_executor/device_description.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/device_memory_allocator.h\"\n@@ -67,8 +61,6 @@ limitations under the License.\n #include \"xla/stream_executor/semantic_version.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/stream_executor/stream_executor_memory_allocator.h\"\n-#include \"xla/tests/hlo_pjrt_interpreter_reference_mixin.h\"\n-#include \"xla/tests/hlo_pjrt_test_base.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/xla.pb.h\""
        },
        {
            "sha": "5a7a18aeb28cb0f0fe6a5eff26fa34e4b5dcf050",
            "filename": "third_party/xla/xla/backends/gpu/runtime/conditional_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -17,6 +17,7 @@ limitations under the License.\n #define XLA_BACKENDS_GPU_RUNTIME_CONDITIONAL_THUNK_H_\n \n #include <memory>\n+#include <string>\n #include <vector>\n \n #include \"absl/base/thread_annotations.h\""
        },
        {
            "sha": "926dd8c83a7ce57733f48cedf7eb1e79341d1e60",
            "filename": "third_party/xla/xla/backends/gpu/runtime/conditional_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconditional_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -25,14 +25,14 @@ limitations under the License.\n #include \"absl/log/check.h\"\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n+#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/sequential_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        },
        {
            "sha": "004a003aa07172a30d8dac177cdf93084aa1bb86",
            "filename": "third_party/xla/xla/backends/gpu/runtime/convolution_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconvolution_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconvolution_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fconvolution_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -17,7 +17,6 @@ limitations under the License.\n \n #include <memory>\n #include <utility>\n-#include <variant>\n #include <vector>\n \n #include \"absl/log/check.h\"\n@@ -33,7 +32,6 @@ limitations under the License.\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/dnn.h\"\n #include \"xla/stream_executor/lazy_op_runner.h\"\n-#include \"xla/stream_executor/rocm/rocm_compute_capability.h\"\n #include \"xla/stream_executor/scratch_allocator.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n #include \"xla/tsl/platform/errors.h\""
        },
        {
            "sha": "9165c2ad0ab3dc8ef1e4f5ec48b253b7c747aa02",
            "filename": "third_party/xla/xla/backends/gpu/runtime/cub_sort_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcub_sort_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcub_sort_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcub_sort_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -27,7 +27,6 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/stream_executor/device_memory.h\"\n-#include \"xla/stream_executor/platform.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/xla_data.pb.h\"\n "
        },
        {
            "sha": "1cd4d2200de5eb036c5a224e45379b6485a75332",
            "filename": "third_party/xla/xla/backends/gpu/runtime/cudnn_thunk_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcudnn_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcudnn_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fcudnn_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -20,13 +20,14 @@ limitations under the License.\n \n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n+#include \"absl/status/status_matchers.h\"\n+#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/status_matchers.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        },
        {
            "sha": "c18394624530b0e5c1ee6bc0adfeff54103ca7d0",
            "filename": "third_party/xla/xla/backends/gpu/runtime/dynamic_slice_thunk.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -19,6 +19,8 @@ limitations under the License.\n #include <cstdint>\n #include <memory>\n #include <optional>\n+#include <string>\n+#include <type_traits>\n #include <utility>\n #include <variant>\n #include <vector>\n@@ -42,20 +44,18 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk_proto_deserialization.h\"\n #include \"xla/hlo/evaluator/hlo_evaluator.h\"\n #include \"xla/hlo/ir/hlo_module.h\"\n+#include \"xla/literal.h\"\n #include \"xla/literal_util.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/service/gpu/buffer_allocations.h\"\n-#include \"xla/service/gpu/ir_emission_utils.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/memory_allocation.h\"\n #include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n-#include \"tsl/platform/errors.h\"\n-#include \"tsl/platform/logging.h\"\n-#include \"tsl/platform/statusor.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "e0e1ffcc26658514b7253513b37cb1f138c7ab8f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/dynamic_slice_thunk.h",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -19,6 +19,8 @@ limitations under the License.\n #include <cstdint>\n #include <memory>\n #include <optional>\n+#include <string>\n+#include <utility>\n #include <variant>\n #include <vector>\n \n@@ -28,9 +30,10 @@ limitations under the License.\n #include \"absl/log/check.h\"\n #include \"absl/status/status.h\"\n #include \"absl/synchronization/mutex.h\"\n+#include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/sequential_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n-#include \"xla/literal.h\"\n+#include \"xla/hlo/ir/hlo_module.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/shape.h\"\n #include \"xla/shape_util.h\""
        },
        {
            "sha": "9cb2263db328aaadff7586a01220ec01bb572a17",
            "filename": "third_party/xla/xla/backends/gpu/runtime/dynamic_slice_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fdynamic_slice_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -34,6 +34,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/dynamic_slice_thunk.pb.h\"\n #include \"xla/backends/gpu/runtime/gemm_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n+#include \"xla/ffi/attribute_map.h\"\n #include \"xla/ffi/ffi.h\"\n #include \"xla/ffi/ffi_api.h\"\n #include \"xla/hlo/ir/hlo_module.h\""
        },
        {
            "sha": "dc68516ac462f31b34d0ce30208aba70b771a45d",
            "filename": "third_party/xla/xla/backends/gpu/runtime/gemm_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -32,8 +32,6 @@ limitations under the License.\n #include \"xla/stream_executor/gpu/gpu_blas_lt.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/tsl/platform/statusor.h\"\n-#include \"tsl/platform/logging.h\"\n-#include \"tsl/platform/statusor.h\"\n #include \"tsl/profiler/lib/nvtx_utils.h\"\n \n namespace xla {"
        },
        {
            "sha": "cb65d966aaf1f87708013715fbc87906acba3fdb",
            "filename": "third_party/xla/xla/backends/gpu/runtime/gemm_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -16,6 +16,7 @@ limitations under the License.\n #ifndef XLA_BACKENDS_GPU_RUNTIME_GEMM_THUNK_H_\n #define XLA_BACKENDS_GPU_RUNTIME_GEMM_THUNK_H_\n \n+#include <memory>\n #include <optional>\n \n #include \"absl/status/status.h\""
        },
        {
            "sha": "db0586bd7bfc9f42da637122ba017994c1d3f439",
            "filename": "third_party/xla/xla/backends/gpu/runtime/gemm_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgemm_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -16,7 +16,6 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/gemm_thunk.h\"\n \n #include <memory>\n-#include <string>\n #include <vector>\n \n #include <gmock/gmock.h>"
        },
        {
            "sha": "aa30b3a0737f03f1f7c9a0d03c68482ca3a7b62e",
            "filename": "third_party/xla/xla/backends/gpu/runtime/gpublas_lt_matmul_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgpublas_lt_matmul_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgpublas_lt_matmul_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fgpublas_lt_matmul_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,7 +22,6 @@ limitations under the License.\n #include <random>\n #include <string>\n #include <utility>\n-#include <variant>\n #include <vector>\n \n #include <gmock/gmock.h>"
        },
        {
            "sha": "20af930ad5d747842deb2d1514a4de0fb9fa387e",
            "filename": "third_party/xla/xla/backends/gpu/runtime/host_execute_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_execute_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_execute_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fhost_execute_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -25,13 +25,13 @@ limitations under the License.\n #include <gtest/gtest.h>\n #include \"absl/container/inlined_vector.h\"\n #include \"absl/status/status.h\"\n+#include \"absl/status/status_matchers.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/ascii.h\"\n #include \"xla/backends/cpu/alignment.h\"\n #include \"xla/backends/cpu/nanort/nanort_client.h\"\n #include \"xla/backends/cpu/nanort/nanort_executable.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n-#include \"xla/core/host_offloading/host_offloading_executable.h\"\n #include \"xla/executable_run_options.h\"\n #include \"xla/hlo/builder/xla_computation.h\"\n #include \"xla/hlo/parser/hlo_parser.h\"\n@@ -51,7 +51,6 @@ limitations under the License.\n #include \"xla/tests/literal_test_util.h\"\n #include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/lib/core/status_test_util.h\"\n-#include \"xla/tsl/platform/status_matchers.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n #include \"xla/util.h\""
        },
        {
            "sha": "3704509c5409ee8150267515b0fccf8ea3320ac2",
            "filename": "third_party/xla/xla/backends/gpu/runtime/infeed_thunk.h",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -16,10 +16,14 @@ limitations under the License.\n #ifndef XLA_BACKENDS_GPU_RUNTIME_INFEED_THUNK_H_\n #define XLA_BACKENDS_GPU_RUNTIME_INFEED_THUNK_H_\n \n+#include <memory>\n #include <vector>\n \n #include \"absl/status/status.h\"\n+#include \"absl/status/statusor.h\"\n+#include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n+#include \"xla/service/buffer_assignment.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "578429cdaf4f15a258398f08c9cff72640c4f319",
            "filename": "third_party/xla/xla/backends/gpu/runtime/infeed_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Finfeed_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -21,12 +21,12 @@ limitations under the License.\n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n #include \"absl/log/check.h\"\n+#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        },
        {
            "sha": "2551a240f6a3889fe8b4ab9862eb9d678236f1e8",
            "filename": "third_party/xla/xla/backends/gpu/runtime/kernel_thunk_test.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fkernel_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fkernel_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fkernel_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -27,7 +27,6 @@ limitations under the License.\n #include <gtest/gtest.h>\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/string_view.h\"\n-#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_cmd.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_cmd_emitter.h\"\n #include \"xla/backends/gpu/runtime/command_buffer_thunk.h\""
        },
        {
            "sha": "853690d3e2ed775b6478527b90ec900af1ceb704",
            "filename": "third_party/xla/xla/backends/gpu/runtime/make_batch_pointers_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmake_batch_pointers_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmake_batch_pointers_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmake_batch_pointers_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -20,6 +20,7 @@ limitations under the License.\n \n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n+#include \"absl/status/status_matchers.h\"\n #include \"absl/status/statusor.h\"\n #include \"xla/service/platform_util.h\"\n #include \"xla/stream_executor/device_memory.h\""
        },
        {
            "sha": "06e8c2a05fb2329015740b4cf1223f57298439f6",
            "filename": "third_party/xla/xla/backends/gpu/runtime/memset_thunk.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmemset_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmemset_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fmemset_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -17,8 +17,11 @@ limitations under the License.\n #define XLA_BACKENDS_GPU_RUNTIME_MEMSET_THUNK_H_\n \n #include <cstdint>\n+#include <memory>\n \n #include \"absl/status/status.h\"\n+#include \"absl/status/statusor.h\"\n+#include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/service/buffer_assignment.h\"\n "
        },
        {
            "sha": "27aed1e6d9cafb9455fceea2c73492847f468277",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_all_reduce_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -30,7 +30,6 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/nvshmem_collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n-#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/collective_ops_utils.h\""
        },
        {
            "sha": "d8ad220cbe0cec8bac9bf3b72da9739855ad7b13",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_all_reduce_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_all_reduce_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -20,8 +20,8 @@ limitations under the License.\n #include \"absl/types/span.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/all_reduce_thunk.h\"\n+#include \"xla/backends/gpu/runtime/collective_kernel_thunk.h\"\n #include \"xla/backends/gpu/runtime/nvshmem_collective_thunk.h\"\n-#include \"xla/core/collectives/communicator.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/stream.h\""
        },
        {
            "sha": "f1625053d3c6e3ce8aaabdfbfe970d18c6bd6406",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_collective_permute_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -32,7 +32,6 @@ limitations under the License.\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/str_format.h\"\n #include \"absl/strings/string_view.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_permute_thunk.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\""
        },
        {
            "sha": "17c945f85e3149b4245bc5454419a2051d0df94b",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_collective_permute_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_permute_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,12 +22,10 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/strings/string_view.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/nvshmem_collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/stream.h\"\n \n namespace xla {"
        },
        {
            "sha": "22f8e0a9d1b0371df440e553846376c33f3087c1",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_collective_thunk.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 4,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -31,16 +31,15 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/collectives.h\"\n #include \"xla/core/collectives/collectives_registry.h\"\n-#include \"xla/core/collectives/communicator.h\"\n #include \"xla/primitive_util.h\"\n #include \"xla/shape.h\"\n #include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/stream.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/tsl/platform/errors.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/xla_data.pb.h\"\n-#include \"tsl/platform/errors.h\"\n-#include \"tsl/platform/logging.h\"\n-#include \"tsl/platform/statusor.h\"\n+#include \"tsl/platform/casts.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "b3205c70e1b5b0b75f09a2e63f68fc01a8b16668",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_collective_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_collective_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -13,7 +13,6 @@ limitations under the License.\n #ifndef XLA_BACKENDS_GPU_RUNTIME_NVSHMEM_COLLECTIVE_THUNK_H_\n #define XLA_BACKENDS_GPU_RUNTIME_NVSHMEM_COLLECTIVE_THUNK_H_\n \n-#include <cstdint>\n #include <memory>\n #include <optional>\n \n@@ -22,7 +21,6 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/synchronization/mutex.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\""
        },
        {
            "sha": "e310a931c8790b8b7bfeff0e02aab5efd3a6fc7e",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_recv_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -32,15 +32,14 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/core/collectives/rank_id.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/runtime/device_id.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\"\n #include \"xla/service/gpu/transforms/collectives/collective_ops_utils.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n "
        },
        {
            "sha": "acba04c1baac89e2b33eb086cf515e7fe7a10fb7",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_recv_thunk.h",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_recv_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -16,13 +16,15 @@ limitations under the License.\n #ifndef XLA_BACKENDS_GPU_RUNTIME_NVSHMEM_RECV_THUNK_H_\n #define XLA_BACKENDS_GPU_RUNTIME_NVSHMEM_RECV_THUNK_H_\n \n-#include <vector>\n+#include <cstdint>\n+#include <memory>\n+#include <string>\n \n #include \"absl/status/status.h\"\n #include \"xla/backends/gpu/runtime/nvshmem_collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n-#include \"xla/hlo/ir/hlo_instruction.h\"\n+#include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\"\n #include \"xla/stream_executor/stream.h\"\n "
        },
        {
            "sha": "d565d0dbd0ff564d0193ba7ea22e3f2a5466094e",
            "filename": "third_party/xla/xla/backends/gpu/runtime/nvshmem_send_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_send_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_send_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fnvshmem_send_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -33,17 +33,16 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/core/collectives/rank_id.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/runtime/device_id.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/gpu/backend_configs.pb.h\"\n #include \"xla/service/gpu/transforms/collectives/collective_ops_utils.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n "
        },
        {
            "sha": "c146294c9016158e8abf9b7653a110fd41aac7d0",
            "filename": "third_party/xla/xla/backends/gpu/runtime/p2p_thunk_common.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -26,17 +26,18 @@ limitations under the License.\n #include \"absl/strings/str_cat.h\"\n #include \"absl/synchronization/mutex.h\"\n #include \"mlir/IR/BuiltinAttributes.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/executable_run_options.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/hlo/parser/hlo_parser.h\"\n #include \"xla/service/collective_ops_utils.h\"\n+#include \"xla/service/source_target_pairs.h\"\n #include \"xla/shape.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/stream_executor.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n #include \"xla/xla_data.pb.h\"\n-#include \"tsl/platform/statusor.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "9024bfc94c6931f6a6104531aa7e9be596fad4a7",
            "filename": "third_party/xla/xla/backends/gpu/runtime/p2p_thunk_common.h",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fp2p_thunk_common.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -27,10 +27,12 @@ limitations under the License.\n #include \"absl/status/statusor.h\"\n #include \"absl/synchronization/mutex.h\"\n #include \"mlir/IR/BuiltinAttributes.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n+#include \"xla/executable_run_options.h\"\n+#include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/shape.h\"\n+#include \"xla/stream_executor/stream_executor.h\"\n \n namespace xla {\n namespace gpu {"
        },
        {
            "sha": "32dcf2bae52c7014e769838eace3309cfb68c05a",
            "filename": "third_party/xla/xla/backends/gpu/runtime/ragged_all_to_all_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -43,7 +43,6 @@ limitations under the License.\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/core/collectives/rank_id.h\"\n #include \"xla/future.h\"\n-#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/gpu/transforms/collectives/collective_ops_utils.h\"\n@@ -55,7 +54,6 @@ limitations under the License.\n #include \"xla/stream_executor/event.h\"\n #include \"xla/stream_executor/memory_allocation.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/xla_data.pb.h\""
        },
        {
            "sha": "1912a514e853c059281998abe803961be2334a6f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/ragged_all_to_all_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fragged_all_to_all_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -30,7 +30,6 @@ limitations under the License.\n #include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/core/collectives/rank_id.h\"\n-#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/stream_executor/device_memory_handle.h\"\n #include \"xla/stream_executor/event.h\""
        },
        {
            "sha": "0d8d4cea7ad138389af1ea9518b4bbbca5cad728",
            "filename": "third_party/xla/xla/backends/gpu/runtime/recv_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -29,6 +29,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/rank_id.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/global_device_id.h\""
        },
        {
            "sha": "ba14a0b18818651ba80e535263e8d8e0dc83f0e7",
            "filename": "third_party/xla/xla/backends/gpu/runtime/recv_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Frecv_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,7 +23,6 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/string_view.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n #include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\""
        },
        {
            "sha": "a2770d75c90c98157b76105165d1159da47f1293",
            "filename": "third_party/xla/xla/backends/gpu/runtime/replica_id_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Freplica_id_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -21,12 +21,12 @@ limitations under the License.\n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n #include \"absl/log/check.h\"\n+#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        },
        {
            "sha": "bdea7a5f1d42026db72189f8cd7e5177a23de2c5",
            "filename": "third_party/xla/xla/backends/gpu/runtime/select_k_exec_stub.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_stub.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_stub.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_exec_stub.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -20,7 +20,7 @@ limitations under the License.\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/device_memory_allocator.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/types.h\"\n+#include \"xla/types.h\"  // IWYU pragma: keep\n \n namespace xla::gpu {\n namespace se = ::stream_executor;"
        },
        {
            "sha": "8c6dd201166ef997d881ab0c3b4fb372459d937b",
            "filename": "third_party/xla/xla/backends/gpu/runtime/select_k_thunk.cc",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -31,9 +31,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/select_k_exec.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n-#include \"xla/backends/gpu/runtime/thunk_id.h\"\n #include \"xla/codegen/emitters/kernel_arguments.h\"\n-#include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/primitive_util.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/shape.h\""
        },
        {
            "sha": "2b9a25f4307110afcf151daab582d1eefb14fd19",
            "filename": "third_party/xla/xla/backends/gpu/runtime/select_k_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fselect_k_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,10 +23,10 @@ limitations under the License.\n \n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n+#include \"absl/types/span.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/codegen/emitters/kernel_arguments.h\"\n-#include \"xla/hlo/ir/hlo_instruction.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/types.h\"  // IWYU pragma: keep\n "
        },
        {
            "sha": "37ffb13abfae362de4c099840bc963853aa3c2d7",
            "filename": "third_party/xla/xla/backends/gpu/runtime/send_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -30,14 +30,13 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/core/collectives/rank_id.h\"\n+#include \"xla/hlo/ir/collective_op_group_mode.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/service/computation_placer.h\"\n #include \"xla/service/global_device_id.h\"\n #include \"xla/status_macros.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"xla/tsl/concurrency/async_value_ref.h\"\n #include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n "
        },
        {
            "sha": "bf9dd9da895abff4332ab6fac68384171cc8f4c9",
            "filename": "third_party/xla/xla/backends/gpu/runtime/send_thunk.h",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fsend_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -23,12 +23,11 @@ limitations under the License.\n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/string_view.h\"\n-#include \"xla/backends/gpu/collectives/gpu_clique_key.h\"\n+#include \"xla/backends/gpu/collectives/gpu_collectives.h\"\n #include \"xla/backends/gpu/runtime/collective_thunk.h\"\n #include \"xla/backends/gpu/runtime/p2p_thunk_common.h\"\n #include \"xla/core/collectives/communicator.h\"\n #include \"xla/hlo/ir/hlo_instructions.h\"\n-#include \"xla/service/collective_ops_utils.h\"\n #include \"xla/stream_executor/stream.h\"\n \n namespace xla {"
        },
        {
            "sha": "62bc3255dcd48e9867f2c49997c038e09fab4a64",
            "filename": "third_party/xla/xla/backends/gpu/runtime/thunk_proto_deserialization_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fthunk_proto_deserialization_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fthunk_proto_deserialization_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fthunk_proto_deserialization_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,6 +22,7 @@ limitations under the License.\n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n #include \"absl/status/status.h\"\n+#include \"absl/status/status_matchers.h\"\n #include \"absl/strings/string_view.h\"\n #include \"xla/backends/gpu/runtime/conditional_thunk.h\"\n #include \"xla/backends/gpu/runtime/copy_thunk.h\"\n@@ -30,7 +31,6 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/backends/gpu/runtime/while_thunk.h\"\n #include \"xla/service/buffer_assignment.h\"\n-#include \"xla/tsl/platform/status_matchers.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/parse_text_proto.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\""
        },
        {
            "sha": "f19b05685d46782801744df90d717382173b3a91",
            "filename": "third_party/xla/xla/backends/gpu/runtime/triangular_solve_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -32,6 +32,7 @@ limitations under the License.\n #include \"xla/stream_executor/blas.h\"\n #include \"xla/stream_executor/device_memory.h\"\n #include \"xla/stream_executor/stream.h\"\n+#include \"xla/tsl/platform/errors.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/util.h\"\n #include \"xla/xla_data.pb.h\""
        },
        {
            "sha": "6414135ebb3f8b30fcf9a3f37fb7cd41718f786f",
            "filename": "third_party/xla/xla/backends/gpu/runtime/triangular_solve_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Ftriangular_solve_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -21,12 +21,12 @@ limitations under the License.\n #include <gmock/gmock.h>\n #include <gtest/gtest.h>\n #include \"absl/log/check.h\"\n+#include \"google/protobuf/text_format.h\"\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/service/buffer_assignment.h\"\n #include \"xla/tsl/platform/statusor.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        },
        {
            "sha": "123fd90fd58194a901b12359371a1545b40f5adc",
            "filename": "third_party/xla/xla/backends/gpu/runtime/wait_for_streams_thunk.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -22,7 +22,7 @@ limitations under the License.\n #include \"xla/backends/gpu/runtime/thunk.h\"\n #include \"xla/backends/gpu/runtime/thunk.pb.h\"\n #include \"xla/stream_executor/stream.h\"\n-#include \"tsl/platform/statusor.h\"\n+#include \"xla/tsl/platform/statusor.h\"\n \n namespace xla::gpu {\n "
        },
        {
            "sha": "9dc3e56dbd586d0083f8fc815ddc4a072e17800a",
            "filename": "third_party/xla/xla/backends/gpu/runtime/wait_for_streams_thunk.h",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwait_for_streams_thunk.h?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -17,7 +17,6 @@ limitations under the License.\n #define XLA_BACKENDS_GPU_RUNTIME_WAIT_FOR_STREAMS_THUNK_H_\n \n #include <memory>\n-#include <vector>\n \n #include \"absl/status/status.h\"\n #include \"absl/status/statusor.h\""
        },
        {
            "sha": "d9a879b07d402f5d46176272ba31ceb4fc91fb2b",
            "filename": "third_party/xla/xla/backends/gpu/runtime/while_thunk_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwhile_thunk_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5e5976e01feb7537c11da70abcc9127fcc4d6b84/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwhile_thunk_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fruntime%2Fwhile_thunk_test.cc?ref=5e5976e01feb7537c11da70abcc9127fcc4d6b84",
            "patch": "@@ -25,6 +25,7 @@ limitations under the License.\n #include <gtest/gtest.h>\n #include \"absl/log/check.h\"\n #include \"absl/status/status.h\"\n+#include \"absl/status/status_matchers.h\"\n #include \"absl/status/statusor.h\"\n #include \"absl/strings/string_view.h\"\n #include \"xla/backends/gpu/runtime/sequential_thunk.h\"\n@@ -47,7 +48,6 @@ limitations under the License.\n #include \"xla/tsl/platform/test.h\"\n #include \"xla/tsl/util/proto/parse_text_proto.h\"\n #include \"xla/tsl/util/proto/proto_matchers.h\"\n-#include \"tsl/platform/protobuf.h\"\n \n namespace xla::gpu {\n namespace {"
        }
    ],
    "stats": {
        "total": 279,
        "additions": 112,
        "deletions": 167
    }
}