{
    "author": "tf-marissaw",
    "message": "Error if hint flag is incorrectly set\n\nUsers can provide a flag to tell LiteRT that their subgraph\nwill be fully delegated to a single delegate. Detect if\nthe flag is incorrectly set and warn the user.\n\nPiperOrigin-RevId: 844824810",
    "sha": "707b6623cee3cbecff53309030ee958a730bb23c",
    "files": [
        {
            "sha": "4d28de5a21ca2aed9c2e0487d012c65804be6057",
            "filename": "tensorflow/lite/core/subgraph.cc",
            "status": "modified",
            "additions": 7,
            "deletions": 0,
            "changes": 7,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/707b6623cee3cbecff53309030ee958a730bb23c/tensorflow%2Flite%2Fcore%2Fsubgraph.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/707b6623cee3cbecff53309030ee958a730bb23c/tensorflow%2Flite%2Fcore%2Fsubgraph.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Flite%2Fcore%2Fsubgraph.cc?ref=707b6623cee3cbecff53309030ee958a730bb23c",
            "patch": "@@ -2536,6 +2536,13 @@ TfLiteStatus Subgraph::ModifyGraphWithDelegateImpl(TfLiteDelegate* delegate) {\n   SwitchToKernelContext();\n   TF_LITE_ENSURE_STATUS(reset_delegation_if_not_ok(status));\n \n+  if (hint_fully_delegated_to_single_delegate && !IsFullyDelegated()) {\n+    ReportError(\n+        \"Hint fully delegated to single delegate is set, but the graph is not \"\n+        \"fully delegated.\");\n+    return kTfLiteApplicationError;\n+  }\n+\n   // STEP 3: Leave graph in consistent state based on delegate & previous state.\n   // ===========================================================================\n "
        }
    ],
    "stats": {
        "total": 7,
        "additions": 7,
        "deletions": 0
    }
}