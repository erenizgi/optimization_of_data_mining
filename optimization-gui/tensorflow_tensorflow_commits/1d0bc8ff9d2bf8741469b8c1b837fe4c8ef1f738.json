{
    "author": "rickeylev",
    "message": "Use ABSL_LOG instead of LOG to avoid name collisions with other projects.\n\nIt's easy for the LOG name to collide with other projects, which then\ncauses an error in the TSL logging because it no longer refers to the\nAbsl symbol.\n\nTo prevent this, use the `ABSL_` prefixed name. This allows a downstream\nproject to define `LOG`, while letting TSL refer to the symbol it needs.\n\nPiperOrigin-RevId: 827608247",
    "sha": "1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738",
    "files": [
        {
            "sha": "0734def090959d7764b4a091ef75f57fa5e5a02b",
            "filename": "third_party/xla/xla/tsl/platform/BUILD",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2FBUILD?ref=1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738",
            "patch": "@@ -490,6 +490,7 @@ cc_library(\n     ],\n     deps = [\n         \"@com_google_absl//absl/log\",\n+        \"@com_google_absl//absl/log:absl_log\",\n         \"@com_google_absl//absl/log:check\",\n         \"@com_google_absl//absl/log:globals\",\n         \"@com_google_absl//absl/log:vlog_is_on\","
        },
        {
            "sha": "f709a5d02a1af965cd569d44fad5802cba3c99f4",
            "filename": "third_party/xla/xla/tsl/platform/logging.h",
            "status": "modified",
            "additions": 4,
            "deletions": 1,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Flogging.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Flogging.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Flogging.h?ref=1d0bc8ff9d2bf8741469b8c1b837fe4c8ef1f738",
            "patch": "@@ -16,6 +16,7 @@ limitations under the License.\n #ifndef XLA_TSL_PLATFORM_LOGGING_H_\n #define XLA_TSL_PLATFORM_LOGGING_H_\n \n+#include \"absl/log/absl_log.h\"\n #include \"absl/log/check.h\"       // IWYU pragma: export\n #include \"absl/log/log.h\"         // IWYU pragma: export\n #include \"absl/log/vlog_is_on.h\"  // IWYU pragma: export\n@@ -29,7 +30,9 @@ template <typename T>\n T&& CheckNotNull(absl::string_view file, int line, absl::string_view exprtext,\n                  T&& t) {\n   if (t == nullptr) {\n-    LOG(FATAL).AtLocation(file, line) << exprtext;\n+    // Use ABSL_LOG instead of LOG to avoid conflicts if downstream\n+    // projects (e.g. pytorch) define their own LOG macro.\n+    ABSL_LOG(FATAL).AtLocation(file, line) << exprtext;\n   }\n   return std::forward<T>(t);\n }"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 5,
        "deletions": 1
    }
}