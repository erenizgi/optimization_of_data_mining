{
    "author": "d4n1elchen",
    "message": "[HLO Diff] Avoid copying diff codes map in HloDiffSummary.\n\nUse a const reference to access `left_diff_codes` or `right_diff_codes` to prevent unnecessary map copies.\n\nPiperOrigin-RevId: 808228538",
    "sha": "b86d4e74ed9fb672bf4b8cc7ef524e6ad8228b8a",
    "files": [
        {
            "sha": "f4d65e71b3b764a45634612170bb59104c15409c",
            "filename": "third_party/xla/xla/hlo/tools/hlo_diff/hlo_diff_summary.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b86d4e74ed9fb672bf4b8cc7ef524e6ad8228b8a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b86d4e74ed9fb672bf4b8cc7ef524e6ad8228b8a/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary.cc?ref=b86d4e74ed9fb672bf4b8cc7ef524e6ad8228b8a",
            "patch": "@@ -316,7 +316,7 @@ InstructionSummaryMap GetInstructionSummary(const HloGumgraph& left_graph,\n     InstructionSummary summary;\n     summary.side = side;\n     summary.subgraph_unchanged = true;\n-    absl::flat_hash_map<const HloInstruction*, DiffType> diff_codes =\n+    const absl::flat_hash_map<const HloInstruction*, DiffType>& diff_codes =\n         side == DiffSide::kLeft ? diff_result.left_diff_codes\n                                 : diff_result.right_diff_codes;\n     if (auto it = diff_codes.find(node.instruction);"
        }
    ],
    "stats": {
        "total": 2,
        "additions": 1,
        "deletions": 1
    }
}