{
    "author": "superbobry",
    "message": "[jaxlib] Slightly tweaked a few nanobind helpers\n\nPiperOrigin-RevId: 814696195",
    "sha": "a1a0c862af1d4beb0209f2e9edff7ed2ee33d354",
    "files": [
        {
            "sha": "1fba8842b61a3aaa0367896592e5bbc93522bbaa",
            "filename": "third_party/xla/xla/python/nb_helpers.h",
            "status": "modified",
            "additions": 11,
            "deletions": 7,
            "changes": 18,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a1a0c862af1d4beb0209f2e9edff7ed2ee33d354/third_party%2Fxla%2Fxla%2Fpython%2Fnb_helpers.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a1a0c862af1d4beb0209f2e9edff7ed2ee33d354/third_party%2Fxla%2Fxla%2Fpython%2Fnb_helpers.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Fnb_helpers.h?ref=a1a0c862af1d4beb0209f2e9edff7ed2ee33d354",
            "patch": "@@ -50,19 +50,23 @@ void PythonDeprecationWarning(int stacklevel,\n   explicit operator Value&&() { return (Value&&)value; } \\\n   Value value;\n \n-template <typename Func>\n-nanobind::object nb_property_readonly(Func&& get) {\n+template <typename Func, typename... Extra>\n+nanobind::object nb_property_readonly(Func&& get, const Extra&... extra) {\n   nanobind::handle property(reinterpret_cast<PyObject*>(&PyProperty_Type));\n-  return property(nanobind::cpp_function(std::forward<Func>(get)),\n-                  nanobind::none(), nanobind::none(), \"\");\n+  return property(\n+      nanobind::cpp_function(std::forward<Func>(get), nanobind::is_method(),\n+                             nanobind::is_getter(), extra...),\n+      nanobind::none(), nanobind::none(), \"\");\n }\n \n template <typename GetFunc, typename SetFunc>\n nanobind::object nb_property(GetFunc&& get, SetFunc&& set) {\n   nanobind::handle property(reinterpret_cast<PyObject*>(&PyProperty_Type));\n-  return property(nanobind::cpp_function(std::forward<GetFunc>(get)),\n-                  nanobind::cpp_function(std::forward<SetFunc>(set)),\n-                  nanobind::none(), \"\");\n+  return property(\n+      nanobind::cpp_function(std::forward<GetFunc>(get), nanobind::is_method(),\n+                             nanobind::is_getter()),\n+      nanobind::cpp_function(std::forward<SetFunc>(set), nanobind::is_method()),\n+      nanobind::none(), \"\");\n }\n \n }  // namespace xla"
        },
        {
            "sha": "16222f87e7f354b0f0e8a9a89014f17c0299f657",
            "filename": "third_party/xla/xla/python/types.h",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/a1a0c862af1d4beb0209f2e9edff7ed2ee33d354/third_party%2Fxla%2Fxla%2Fpython%2Ftypes.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/a1a0c862af1d4beb0209f2e9edff7ed2ee33d354/third_party%2Fxla%2Fxla%2Fpython%2Ftypes.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fpython%2Ftypes.h?ref=a1a0c862af1d4beb0209f2e9edff7ed2ee33d354",
            "patch": "@@ -114,7 +114,8 @@ absl::StatusOr<nanobind::object> LiteralToPython(\n     std::shared_ptr<Literal> literal);\n \n template <typename T>\n-nanobind::tuple SpanToNbTuple(absl::Span<T const> xs) {\n+nanobind::typed<nanobind::tuple, T, nanobind::ellipsis> SpanToNbTuple(\n+    absl::Span<T const> xs) {\n   nanobind::tuple out =\n       nanobind::steal<nanobind::tuple>(PyTuple_New(xs.size()));\n   for (int i = 0; i < xs.size(); ++i) {"
        }
    ],
    "stats": {
        "total": 21,
        "additions": 13,
        "deletions": 8
    }
}