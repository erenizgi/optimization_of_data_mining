{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 845617932",
    "sha": "991ed1011d841cd14a193571a9ac2df68d62efe9",
    "files": [
        {
            "sha": "053dc05642c88fa2b57c1a4d8195da883d038aba",
            "filename": "third_party/xla/xla/stream_executor/cuda/buffer_debug_float_check_kernel_cuda_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_float_check_kernel_cuda_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_float_check_kernel_cuda_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_float_check_kernel_cuda_test.cc?ref=991ed1011d841cd14a193571a9ac2df68d62efe9",
            "patch": "@@ -64,7 +64,7 @@ class FloatCheckKernelTest : public ::testing::Test {\n     TF_ASSERT_OK_AND_ASSIGN(executor_, platform_->ExecutorForDevice(0));\n     TF_ASSERT_OK_AND_ASSIGN(stream_, executor_->CreateStream(std::nullopt));\n     allocator_ =\n-        std::make_unique<se::StreamExecutorMemoryAllocator>(stream_->parent());\n+        std::make_unique<StreamExecutorAddressAllocator>(stream_->parent());\n \n     if (!executor_->GetDeviceDescription()\n              .cuda_compute_capability()\n@@ -140,7 +140,7 @@ class FloatCheckKernelTest : public ::testing::Test {\n   se::Platform* platform_;\n   se::StreamExecutor* executor_;\n   std::unique_ptr<se::Stream> stream_;\n-  std::unique_ptr<se::StreamExecutorMemoryAllocator> allocator_;\n+  std::unique_ptr<StreamExecutorAddressAllocator> allocator_;\n };\n \n TEST_F(FloatCheckKernelTest, ChecksFloatsForF32) {"
        },
        {
            "sha": "b0583d8000dc1ff497d79960b1fa582b6fc969a4",
            "filename": "third_party/xla/xla/stream_executor/cuda/buffer_debug_xor_checksum_kernel_cuda_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_xor_checksum_kernel_cuda_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_xor_checksum_kernel_cuda_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fbuffer_debug_xor_checksum_kernel_cuda_test.cc?ref=991ed1011d841cd14a193571a9ac2df68d62efe9",
            "patch": "@@ -59,7 +59,7 @@ class ChecksumKernelTest : public ::testing::Test {\n     TF_ASSERT_OK_AND_ASSIGN(executor_, platform_->ExecutorForDevice(0));\n     TF_ASSERT_OK_AND_ASSIGN(stream_, executor_->CreateStream(std::nullopt));\n     allocator_ =\n-        std::make_unique<se::StreamExecutorMemoryAllocator>(stream_->parent());\n+        std::make_unique<StreamExecutorAddressAllocator>(stream_->parent());\n \n     if (!executor_->GetDeviceDescription()\n              .cuda_compute_capability()\n@@ -117,7 +117,7 @@ class ChecksumKernelTest : public ::testing::Test {\n   se::Platform* platform_;\n   se::StreamExecutor* executor_;\n   std::unique_ptr<se::Stream> stream_;\n-  std::unique_ptr<se::StreamExecutorMemoryAllocator> allocator_;\n+  std::unique_ptr<StreamExecutorAddressAllocator> allocator_;\n };\n \n TEST_F(ChecksumKernelTest, ComputesCorrectChecksumForMultipleOf32Bit) {"
        },
        {
            "sha": "3a4b19a46996d35fdda02b8ede82040345207f44",
            "filename": "third_party/xla/xla/stream_executor/cuda/cub_prefix_sum_kernel_cuda_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcub_prefix_sum_kernel_cuda_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcub_prefix_sum_kernel_cuda_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcub_prefix_sum_kernel_cuda_test.cc?ref=991ed1011d841cd14a193571a9ac2df68d62efe9",
            "patch": "@@ -63,7 +63,7 @@ class CubPrefixSumKernelCudaTest\n     TF_ASSERT_OK_AND_ASSIGN(executor_, platform_->ExecutorForDevice(0));\n     TF_ASSERT_OK_AND_ASSIGN(stream_, executor_->CreateStream(std::nullopt));\n     allocator_ =\n-        std::make_unique<se::StreamExecutorMemoryAllocator>(stream_->parent());\n+        std::make_unique<StreamExecutorAddressAllocator>(stream_->parent());\n   }\n \n   template <typename T>\n@@ -148,7 +148,7 @@ class CubPrefixSumKernelCudaTest\n   se::Platform* platform_;\n   se::StreamExecutor* executor_;\n   std::unique_ptr<se::Stream> stream_;\n-  std::unique_ptr<se::StreamExecutorMemoryAllocator> allocator_;\n+  std::unique_ptr<StreamExecutorAddressAllocator> allocator_;\n };\n \n TEST_P(CubPrefixSumKernelCudaTest, TestPrefixSum) {"
        },
        {
            "sha": "86e4198a59b4d0e498fa7bdf0d88e4b247937a43",
            "filename": "third_party/xla/xla/stream_executor/cuda/cuda_executor_test.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/991ed1011d841cd14a193571a9ac2df68d62efe9/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fstream_executor%2Fcuda%2Fcuda_executor_test.cc?ref=991ed1011d841cd14a193571a9ac2df68d62efe9",
            "patch": "@@ -118,8 +118,8 @@ TEST(CudaExecutorTest, CreateUnifiedMemoryAllocatorWorks) {\n       executor->CreateMemoryAllocator(MemorySpace::kUnified));\n   TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<MemoryAllocation> allocation,\n                           allocator->Allocate(1024));\n-  EXPECT_NE(allocation->opaque(), nullptr);\n-  EXPECT_EQ(allocation->size(), 1024);\n+  EXPECT_NE(allocation->address().opaque(), nullptr);\n+  EXPECT_EQ(allocation->address().size(), 1024);\n }\n \n TEST(CudaExecutorTest, CreateHostMemoryAllocatorWorks) {\n@@ -131,8 +131,8 @@ TEST(CudaExecutorTest, CreateHostMemoryAllocatorWorks) {\n                           executor->CreateMemoryAllocator(MemorySpace::kHost));\n   TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<MemoryAllocation> allocation,\n                           allocator->Allocate(1024));\n-  EXPECT_NE(allocation->opaque(), nullptr);\n-  EXPECT_EQ(allocation->size(), 1024);\n+  EXPECT_NE(allocation->address().opaque(), nullptr);\n+  EXPECT_EQ(allocation->address().size(), 1024);\n }\n \n TEST(CudaExecutorTest, CreateCollectiveMemoryAllocatorWorks) {\n@@ -145,8 +145,8 @@ TEST(CudaExecutorTest, CreateCollectiveMemoryAllocatorWorks) {\n       executor->CreateMemoryAllocator(MemorySpace::kCollective));\n   TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<MemoryAllocation> allocation,\n                           allocator->Allocate(1024));\n-  EXPECT_NE(allocation->opaque(), nullptr);\n-  EXPECT_EQ(allocation->size(), 1024);\n+  EXPECT_NE(allocation->address().opaque(), nullptr);\n+  EXPECT_EQ(allocation->address().size(), 1024);\n }\n \n // TODO: b/420735471 - Enable test once fixed.\n@@ -189,7 +189,7 @@ TEST(CudaExecutorTest, GetPointerMemorySpaceWorksWithUnifiedMemory) {\n \n   TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<MemoryAllocation> allocation,\n                           unified_memory_allocator->Allocate(256));\n-  EXPECT_THAT(executor->GetPointerMemorySpace(allocation->opaque()),\n+  EXPECT_THAT(executor->GetPointerMemorySpace(allocation->address().opaque()),\n               absl_testing::IsOkAndHolds(MemorySpace::kUnified));\n }\n \n@@ -201,7 +201,7 @@ TEST(CudaExecutorTest, GetPointerMemorySpaceWorksWithHostMemory) {\n \n   TF_ASSERT_OK_AND_ASSIGN(std::unique_ptr<MemoryAllocation> allocation,\n                           executor->HostMemoryAllocate(256));\n-  EXPECT_THAT(executor->GetPointerMemorySpace(allocation->opaque()),\n+  EXPECT_THAT(executor->GetPointerMemorySpace(allocation->address().opaque()),\n               absl_testing::IsOkAndHolds(MemorySpace::kHost));\n }\n "
        }
    ],
    "stats": {
        "total": 28,
        "additions": 14,
        "deletions": 14
    }
}