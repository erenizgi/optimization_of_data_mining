{
    "author": "anandolee",
    "message": "Remove deprecated float_format/double_format in python proto text_format.\n\nPiperOrigin-RevId: 839983682",
    "sha": "e64d2087accf7e12d9232a583701bfb65f5626c3",
    "files": [
        {
            "sha": "63b4900079ba1b72ccb0ca13fcaf2ea9236e5175",
            "filename": "tensorflow/python/kernel_tests/proto/decode_proto_op_test_base.py",
            "status": "modified",
            "additions": 4,
            "deletions": 10,
            "changes": 14,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e64d2087accf7e12d9232a583701bfb65f5626c3/tensorflow%2Fpython%2Fkernel_tests%2Fproto%2Fdecode_proto_op_test_base.py",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e64d2087accf7e12d9232a583701bfb65f5626c3/tensorflow%2Fpython%2Fkernel_tests%2Fproto%2Fdecode_proto_op_test_base.py",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fpython%2Fkernel_tests%2Fproto%2Fdecode_proto_op_test_base.py?ref=e64d2087accf7e12d9232a583701bfb65f5626c3",
            "patch": "@@ -240,11 +240,10 @@ def testPacked(self, case):\n     # format being the same for packed and unpacked fields, and reparse the\n     # test message using the packed version of the proto.\n     packed_batch = [\n-        # Note: float_format='.17g' is necessary to ensure preservation of\n-        # doubles and floats in text format.\n         text_format.Parse(\n-            text_format.MessageToString(value, float_format='.17g'),\n-            test_example_pb2.PackedTestValue()).SerializeToString()\n+            text_format.MessageToString(value),\n+            test_example_pb2.PackedTestValue(),\n+        ).SerializeToString()\n         for value in case.values\n     ]\n \n@@ -259,12 +258,7 @@ def testPacked(self, case):\n \n   @parameterized.named_parameters(*test_base.ProtoOpTestBase.named_parameters())\n   def testText(self, case):\n-    # Note: float_format='.17g' is necessary to ensure preservation of\n-    # doubles and floats in text format.\n-    text_batch = [\n-        text_format.MessageToString(\n-            value, float_format='.17g') for value in case.values\n-    ]\n+    text_batch = [text_format.MessageToString(value) for value in case.values]\n \n     self._runDecodeProtoTests(\n         case.fields,"
        }
    ],
    "stats": {
        "total": 14,
        "additions": 4,
        "deletions": 10
    }
}