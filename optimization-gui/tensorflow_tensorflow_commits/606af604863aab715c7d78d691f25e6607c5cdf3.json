{
    "author": "unknown",
    "message": "[XLA] Add `atanh` as a native HLO opcode.\n\nThis change promotes `atanh` from a composite operation to a native HLO opcode (`kAtanh`). This allows for direct lowering to device-specific intrinsics which should be more performant. Support is added for GPU.\n\nPiperOrigin-RevId: 811760382",
    "sha": "606af604863aab715c7d78d691f25e6607c5cdf3",
    "files": [
        {
            "sha": "96f44d14e42ef4119f57ddcb0d845b8d66b8dbf7",
            "filename": "tensorflow/compiler/tf2xla/kernels/unary_ops.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Ftf2xla%2Fkernels%2Funary_ops.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -58,7 +58,7 @@ REGISTER_XLA_OP(Name(\"Acosh\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Asin\"), MlirXlaOpKernel);\n XLAJIT_MAKE_UNARY(Asinh, xla::Asinh(x));\n REGISTER_XLA_OP(Name(\"Atan\"), MlirXlaOpKernel);\n-XLAJIT_MAKE_UNARY(Atanh, xla::Atanh(x));\n+REGISTER_XLA_OP(Name(\"Atanh\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Ceil\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Cos\"), MlirXlaOpKernel);\n REGISTER_XLA_OP(Name(\"Cosh\"), MlirXlaOpKernel);"
        },
        {
            "sha": "a1e1876a735e339a62732ad2db79651e1bb1d7fe",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -110,6 +110,7 @@ absl::flat_hash_set<HloOpcode> TritonSupportedUnaryElementwiseOps(\n         HloOpcode::kAcos,\n         HloOpcode::kAcosh,\n         HloOpcode::kAsin,\n+        HloOpcode::kAtanh,\n         HloOpcode::kCbrt,\n         HloOpcode::kCeil,\n         HloOpcode::kCos,"
        },
        {
            "sha": "9e09196869e83e379765658acad7ec6897d431a5",
            "filename": "third_party/xla/xla/backends/gpu/codegen/triton/support_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fbackends%2Fgpu%2Fcodegen%2Ftriton%2Fsupport_test.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -93,6 +93,7 @@ bool DoesOpSupportType(HloOpcode opcode, PrimitiveType type) {\n       return pu::IsFloatingPointType(type) || pu::IsComplexType(type);\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kSinh:\n     case HloOpcode::kAsin:\n     case HloOpcode::kCbrt:\n@@ -449,6 +450,7 @@ constexpr std::array kTestedOpsUnaryElementwise = {\n     HloOpcode::kAcos,\n     HloOpcode::kAcosh,\n     HloOpcode::kAsin,\n+    HloOpcode::kAtanh,\n     HloOpcode::kCbrt,\n     HloOpcode::kCeil,\n     HloOpcode::kClz,"
        },
        {
            "sha": "39624ac5ec69d7eeeb1d2430434727617dd9baf0",
            "filename": "third_party/xla/xla/codegen/emitters/elemental_hlo_to_mlir.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Felemental_hlo_to_mlir.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -1038,6 +1038,8 @@ absl::StatusOr<SmallVector<Value, 1>> HloToMlir(\n       return MapElementwiseOp<mhlo::AndOp>(arg_types, operands, builder);\n     case HloOpcode::kAtan2:\n       return MapElementwiseOp<mhlo::Atan2Op>(arg_types, operands, builder);\n+    case HloOpcode::kAtanh:\n+      return MapElementwiseOp<mhlo::AtanhOp>(arg_types, operands, builder);\n     case HloOpcode::kCbrt:\n       return MapElementwiseOp<mhlo::CbrtOp>(arg_types, operands, builder);\n     case HloOpcode::kCeil:"
        },
        {
            "sha": "5b7fc919c749459356a2a73673900d96007cedee",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/atanh_f32.hlo",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f32.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f32.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f32.hlo?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -0,0 +1,8 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+fusion {\n+  p0 = f32[256] parameter(0)\n+  ROOT atanh = f32[256] atanh(p0)\n+}\n+// CHECK: llvm.call @__nv_atanhf(\n\\ No newline at end of file"
        },
        {
            "sha": "8e25f2a268933573a5ac0be86dcbb35d3e625dfe",
            "filename": "third_party/xla/xla/codegen/emitters/tests/loop/atanh_f64.hlo",
            "status": "added",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f64.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f64.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fcodegen%2Femitters%2Ftests%2Floop%2Fatanh_f64.hlo?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -0,0 +1,8 @@\n+// RUN: gpu_fusion_to_mlir %s | emitters_opt -xla-test-optimize \\\n+// RUN:   -xla-gpu-test-transform-loops -xla-gpu-test-to-llvm \\\n+// RUN: | FileCheck %s\n+fusion {\n+  p0 = f64[256] parameter(0)\n+  ROOT atanh = f64[256] atanh(p0)\n+}\n+// CHECK: llvm.call @__nv_atanh(\n\\ No newline at end of file"
        },
        {
            "sha": "efaad593aeb2eefc9854ae776560250295176bd4",
            "filename": "third_party/xla/xla/hlo/builder/xla_builder.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fbuilder%2Fxla_builder.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -1744,6 +1744,9 @@ class XlaBuilder {\n                      bool expand);\n   friend XlaOp Atan2(XlaOp y, XlaOp x,\n                      absl::Span<const int64_t> broadcast_dimensions);\n+  friend XlaOp Atanh(XlaOp x,\n+                     const std::optional<ResultAccuracy>& result_accuracy,\n+                     bool expand);\n   friend XlaOp Erf(XlaOp operand,\n                    const std::optional<ResultAccuracy>& result_accuracy);\n   friend XlaOp Exp(XlaOp operand,"
        },
        {
            "sha": "abf1fee3fbf2b643c5298732b1bcf44a606618ae",
            "filename": "third_party/xla/xla/hlo/evaluator/hlo_evaluator_typed_visitor.h",
            "status": "modified",
            "additions": 13,
            "deletions": 0,
            "changes": 13,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fevaluator%2Fhlo_evaluator_typed_visitor.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -498,6 +498,19 @@ class HloEvaluatorTypedVisitor : public ConstDfsHloVisitorWithDefault {\n     return UnsupportedTypeError(atan2);\n   }\n \n+  absl::Status HandleAtanh(const HloInstruction* atanh) override {\n+    if constexpr (!is_complex_v<ReturnT>) {\n+      TF_ASSIGN_OR_RETURN(\n+          Literal literal,\n+          ElementWiseUnaryOp(atanh, [](ElementwiseT elem_operand) {\n+            return std::atanh(elem_operand);\n+          }));\n+      parent_->SetEvaluatedLiteralFor(atanh, std::move(literal));\n+      return absl::OkStatus();\n+    }\n+    return UnsupportedTypeError(atanh);\n+  }\n+\n   absl::Status HandleTanh(const HloInstruction* tanh) override {\n     TF_ASSIGN_OR_RETURN(Literal literal,\n                         ElementWiseUnaryOp(tanh, [](ElementwiseT elem_operand) {"
        },
        {
            "sha": "85689be9997aff00ab733f858666a4b257d7d78b",
            "filename": "third_party/xla/xla/hlo/ir/dfs_hlo_visitor.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fdfs_hlo_visitor.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -177,6 +177,9 @@ class DfsHloVisitorBase {\n   virtual absl::Status HandleAtan2(HloInstructionPtr hlo) {\n     return HandleElementwiseBinary(hlo);\n   }\n+  virtual absl::Status HandleAtanh(HloInstructionPtr hlo) {\n+    return HandleElementwiseUnary(hlo);\n+  }\n   virtual absl::Status HandleRound(HloInstructionPtr hlo) {\n     return HandleElementwiseUnary(hlo);\n   }"
        },
        {
            "sha": "a9881fb3294a95d69acef2e41f17c9f5fc440603",
            "filename": "third_party/xla/xla/hlo/ir/hlo_instruction.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_instruction.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -1306,6 +1306,7 @@ absl::StatusOr<std::unique_ptr<HloInstruction>> HloInstruction::CreateFromProto(\n       case HloOpcode::kAsin:\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n+      case HloOpcode::kAtanh:\n       case HloOpcode::kCos:\n       case HloOpcode::kCosh:\n       case HloOpcode::kErf:\n@@ -1500,6 +1501,7 @@ HloInstruction::CreateRngBitGenerator(const Shape& shape, HloInstruction* state,\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAsin:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kCos:\n     case HloOpcode::kCosh:\n     case HloOpcode::kErf:\n@@ -2727,6 +2729,7 @@ std::unique_ptr<HloInstruction> HloInstruction::CloneWithNewOperands(\n     case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kAllGatherDone:\n     case HloOpcode::kAllReduceDone:\n     case HloOpcode::kRoundNearestAfz:\n@@ -3198,6 +3201,7 @@ bool HloInstruction::IdenticalSlowPath(\n     case HloOpcode::kAllGatherDone:\n     case HloOpcode::kAllReduceDone:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kAdd:\n     case HloOpcode::kBitcast:\n     case HloOpcode::kBitcastConvert:\n@@ -3827,6 +3831,7 @@ bool HloInstruction::IsOpElementwise(HloOpcode opcode) {\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAsin:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kRoundNearestAfz:\n     case HloOpcode::kRoundNearestEven:\n     case HloOpcode::kCeil:\n@@ -4532,6 +4537,8 @@ absl::Status HloInstruction::Visit(\n       return visitor->HandleAsin(this);\n     case HloOpcode::kAtan2:\n       return visitor->HandleAtan2(this);\n+    case HloOpcode::kAtanh:\n+      return visitor->HandleAtanh(this);\n     case HloOpcode::kRoundNearestAfz:\n       return visitor->HandleRound(this);\n     case HloOpcode::kRoundNearestEven:\n@@ -5243,6 +5250,7 @@ bool IsUnaryOpWithResultAccuracy(HloOpcode opcode) {\n     opcode == HloOpcode::kAcos ||\n     opcode == HloOpcode::kAcosh ||\n     opcode == HloOpcode::kAsin ||\n+    opcode == HloOpcode::kAtanh ||\n     opcode == HloOpcode::kCbrt ||\n     opcode == HloOpcode::kCos ||\n     opcode == HloOpcode::kCosh ||"
        },
        {
            "sha": "63d07893fe99f119de420080518dae69e67f5509",
            "filename": "third_party/xla/xla/hlo/ir/hlo_opcode.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fir%2Fhlo_opcode.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -66,6 +66,7 @@ namespace xla {\n   V(kAsyncStart, \"async-start\", kHloOpcodeIsVariadic)                          \\\n   V(kAsyncUpdate, \"async-update\", 1)                                           \\\n   V(kAtan2, \"atan2\", 2)                                                        \\\n+  V(kAtanh, \"atanh\", 1)                                                        \\\n   V(kBatchNormGrad, \"batch-norm-grad\", 5)                                      \\\n   V(kBatchNormInference, \"batch-norm-inference\", 5)                            \\\n   V(kBatchNormTraining, \"batch-norm-training\", 3)                              \\"
        },
        {
            "sha": "5d9427dc766b23609b936ec64166bf11156d76cc",
            "filename": "third_party/xla/xla/hlo/parser/hlo_parser.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Fparser%2Fhlo_parser.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -125,6 +125,7 @@ bool CanInferShape(HloOpcode code) {\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBatchNormGrad:\n     case HloOpcode::kBatchNormInference:\n     case HloOpcode::kBatchNormTraining:\n@@ -1650,6 +1651,7 @@ HloInstruction* HloParserImpl::CreateInstruction(  // NOLINT\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n     case HloOpcode::kAsin:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kExpm1:\n     case HloOpcode::kLog:\n     case HloOpcode::kLog1p:"
        },
        {
            "sha": "01932e46fb9d0f852edc7e0132e5db6463c4d5ec",
            "filename": "third_party/xla/xla/hlo/tools/hlo_diff/hlo_diff_summary_test.cc",
            "status": "modified",
            "additions": 14,
            "deletions": 14,
            "changes": 28,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftools%2Fhlo_diff%2Fhlo_diff_summary_test.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -133,7 +133,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/8746466958018090388U,\n+                         /*diff_fingerprint=*/5339951275989465718U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -142,7 +142,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/3622034715216632574U,\n+                         /*diff_fingerprint=*/3869737221237740494U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kLeft,\n@@ -151,7 +151,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/3622034715216632574U,\n+                         /*diff_fingerprint=*/3869737221237740494U,\n                          /*all_unchanged=*/true))));\n   EXPECT_THAT(\n       right_computation_summary,\n@@ -162,7 +162,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                          Pointee(Property(&HloComputation::name, \"entry\")),\n                          /*max_matched_instruction_count=*/7,\n                          /*split_allegiance_instruction=*/0,\n-                         /*diff_fingerprint=*/8746466958018090388U,\n+                         /*diff_fingerprint=*/5339951275989465718U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.1\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -171,7 +171,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.1\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/3622034715216632574U,\n+                         /*diff_fingerprint=*/3869737221237740494U,\n                          /*all_unchanged=*/true)),\n           Pair(Pointee(Property(&HloComputation::name, \"fused_computation.2\")),\n                FieldsAre(/*side=*/DiffSide::kRight,\n@@ -180,7 +180,7 @@ TEST_F(HloDiffTest, FindMainMatchedComputationWorks) {\n                                           \"fused_computation.2\")),\n                          /*max_matched_instruction_count=*/2,\n                          /*split_allegiance_instruction=*/1,\n-                         /*diff_fingerprint=*/3622034715216632574U,\n+                         /*diff_fingerprint=*/3869737221237740494U,\n                          /*all_unchanged=*/true))));\n }\n \n@@ -322,7 +322,7 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/10050492088520597242U,\n+                            /*diff_fingerprint=*/9262444860155808583U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(right_computation_summary,\n               UnorderedElementsAre(Pair(\n@@ -332,11 +332,11 @@ TEST_F(HloDiffTest, ComputationDiffFingerprintWorks) {\n                             Pointee(Property(&HloComputation::name, \"entry\")),\n                             /*max_matched_instruction_count=*/1,\n                             /*split_allegiance_instruction=*/0,\n-                            /*diff_fingerprint=*/10050492088520597242U,\n+                            /*diff_fingerprint=*/9262444860155808583U,\n                             /*all_unchanged=*/false))));\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(FieldsAre(\n-                  /*fingerprint=*/9586543086928908508U,\n+                  /*fingerprint=*/16389208373574701189U,\n                   /*computation_groups=*/\n                   UnorderedElementsAre(FieldsAre(\n                       /*left_computations=*/UnorderedElementsAre(\n@@ -415,7 +415,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n       diff_summary->computation_diff_patterns,\n       UnorderedElementsAre(\n           FieldsAre(\n-              /*fingerprint=*/9586543086928908508U,\n+              /*fingerprint=*/16389208373574701189U,\n               /*computation_groups=*/\n               UnorderedElementsAre(\n                   FieldsAre(/*left_computations=*/UnorderedElementsAre(\n@@ -434,7 +434,7 @@ TEST_F(HloDiffTest, FindConnectedComponentsWorks) {\n               FieldsAre(/*changed_instruction_count=*/0,\n                         /*left_unmatched_instruction_count=*/2,\n                         /*right_unmatched_instruction_count=*/2)),\n-          FieldsAre(/*fingerprint=*/1707947588792844340U,\n+          FieldsAre(/*fingerprint=*/7215429851241772700U,\n                     /*computation_groups=*/\n                     UnorderedElementsAre(FieldsAre(\n                         /*left_computations=*/UnorderedElementsAre(\n@@ -493,7 +493,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n   EXPECT_THAT(diff_summary->computation_diff_patterns,\n               UnorderedElementsAre(\n                   FieldsAre(\n-                      /*fingerprint=*/4712432809499276507U,\n+                      /*fingerprint=*/6836711927496849530U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/UnorderedElementsAre(Pointee(\n@@ -504,7 +504,7 @@ subtract.0 = f32[] subtract(constant.0, constant.1)\n                                 /*left_unmatched_instruction_count=*/3,\n                                 /*right_unmatched_instruction_count=*/0)),\n                   FieldsAre(\n-                      /*fingerprint=*/14132500182780837002U,\n+                      /*fingerprint=*/4208103866131904389U,\n                       /*computation_groups=*/\n                       UnorderedElementsAre(FieldsAre(\n                           /*left_computations=*/IsEmpty(),\n@@ -663,7 +663,7 @@ TEST_F(HloDiffTest, DiffSummaryToProtoWorks) {\n       proto.computation_diff_patterns(),\n       ElementsAre(AllOf(\n           Property(&ComputationDiffPatternProto::fingerprint,\n-                   9586543086928908508U),\n+                   16389208373574701189U),\n           Property(\n               &ComputationDiffPatternProto::computation_group,\n               ElementsAre(AllOf("
        },
        {
            "sha": "1ec752bf342afc330cb3cf1bbed3681d3e9875d2",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/hlo_function_importer.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Fhlo_function_importer.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -2155,6 +2155,7 @@ absl::StatusOr<mlir::Operation*> HloFunctionImporter::ImportInstructionImpl(\n       NO_ATTRIBUTE_CASE_MHLO(kAcos, AcosOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAsin, AsinOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAcosh, AcoshOp);\n+      NO_ATTRIBUTE_CASE_MHLO(kAtanh, AtanhOp);\n       NO_ATTRIBUTE_CASE_MHLO(kAddDependency, AddDependencyOp);\n       NO_ATTRIBUTE_CASE_MHLO(kCosh, CoshOp);\n       NO_ATTRIBUTE_CASE_MHLO(kCopy, CopyOp);"
        },
        {
            "sha": "4bc3c1c8c3790b8db4338c4f9f75e586f9321709",
            "filename": "third_party/xla/xla/hlo/translate/hlo_to_mhlo/tests/import.hlo",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Ftranslate%2Fhlo_to_mhlo%2Ftests%2Fimport.hlo?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -198,6 +198,14 @@ add {\n   ROOT %atan2 = f32[4] atan2(f32[4] %Arg_0.1, f32[4] %Arg_1.2)\n }\n \n+// CHECK-LABEL:  func private @test_atanh(%arg0: tensor<1x16x16x3xf32>) -> tensor<1x16x16x3xf32>\n+%test_atanh (arg0.1: f32[1,16,16,3]) -> f32[1,16,16,3] {\n+  %arg0.1 = f32[1,16,16,3]{3,2,1,0} parameter(0), metadata={op_name=\"HLO_Args\"}\n+\n+  // CHECK-NEXT:  mhlo.atanh %arg0 : tensor<1x16x16x3xf32>\n+  ROOT %atanh.3 = f32[1,16,16,3]{3,2,1,0} atanh(f32[1,16,16,3]{3,2,1,0} %arg0.1)\n+}\n+\n // CHECK-LABEL:  func private @test_broadcast_in_dim\n %test_broadcast_in_dim {\n   %Arg_0.1 = f32[1, 2] parameter(0)"
        },
        {
            "sha": "a3993e4e8c8635f8208fca5cde10a4dcf666e91d",
            "filename": "third_party/xla/xla/hlo/utils/hlo_matchers.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fhlo%2Futils%2Fhlo_matchers.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -299,6 +299,7 @@ HLO_MATCHER(Abs);\n HLO_MATCHER(Acos);\n HLO_MATCHER(Acosh);\n HLO_MATCHER(Asin);\n+HLO_MATCHER(Atanh);\n HLO_MATCHER(Add);\n HLO_MATCHER(AddDependency);\n HLO_MATCHER(AfterAll);"
        },
        {
            "sha": "3ceb787371bcc990f69e4889288b592dee1a393f",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -361,6 +361,7 @@ INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AcoshOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AsinOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AndOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(Atan2Op)\n+INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(AtanhOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(CbrtOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(CeilOp)\n INFER_RETURN_TYPE_COMPONENTS_FROM_OPERANDS(ClzOp)\n@@ -5130,6 +5131,7 @@ UNARY_FOLDER_FLOAT(RoundOp, Round)\n UNARY_FOLDER_UPCAST_TO_F64(AcosOp, std::acos, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(AcoshOp, std::acosh, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(AsinOp, std::asin, AnyValue)\n+UNARY_FOLDER_UPCAST_TO_F64(AtanhOp, std::atanh, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(CoshOp, std::cosh, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(CosineOp, std::cos, AnyValue)\n UNARY_FOLDER_UPCAST_TO_F64(ErfOp, std::erf, AnyValue)"
        },
        {
            "sha": "65da6f0d6ed0d7ecdf55e2a8fc3625e70ec4251b",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/IR/hlo_ops.td",
            "status": "modified",
            "additions": 17,
            "deletions": 0,
            "changes": 17,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2FIR%2Fhlo_ops.td?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -896,6 +896,23 @@ def MHLO_Atan2Op : MHLO_BinaryElementwiseOp<\"atan2\",\n   }];\n }\n \n+def MHLO_AtanhOp : MHLO_UnaryElementwiseOp<\"atanh\",\n+    [HLO_CompatibleOperandsAndResultType], HLO_AnyFpOrComplexTensor> {\n+  let summary = \"Atanh operation\";\n+\n+  let description = [{\n+     Performs element-wise atanh operation on `operand` tensor and produces a\n+    `result` tensor.\n+\n+    Example:\n+    ```mlir\n+    %result = mhlo.atanh %operand : tensor<2x2xf32>\n+    ```\n+  }];\n+  let hasFolder = 1;\n+}\n+\n+\n def MHLO_ComplexOp: MHLO_BinaryElementwiseOp<\"complex\", [Pure,\n     SameOperandsElementType, SameOperandsAndResultShape,\n     DeclareOpInterfaceMethods<InferTypeOpInterface>]> {"
        },
        {
            "sha": "5c417b2201100b15e78e9b877302601459893503",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/legalize_to_linalg/legalize_to_linalg.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 0,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Flegalize_to_linalg%2Flegalize_to_linalg.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -4530,6 +4530,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       PointwiseToLinalgMapConverter<mhlo::AddOp>,\n       PointwiseToLinalgMapConverter<mhlo::AndOp>,\n       PointwiseToLinalgMapConverter<mhlo::Atan2Op>,\n+      PointwiseToLinalgMapConverter<mhlo::AtanhOp>,\n       PointwiseToLinalgMapConverter<mhlo::BitcastConvertOp>,\n       PointwiseToLinalgMapConverter<mhlo::CbrtOp>,\n       PointwiseToLinalgMapConverter<mhlo::CeilOp>,\n@@ -4595,6 +4596,7 @@ void populateHloToLinalgConversionPattern(MLIRContext* context,\n       PointwiseToLinalgConverter<mhlo::AddOp>,\n       PointwiseToLinalgConverter<mhlo::AndOp>,\n       PointwiseToLinalgConverter<mhlo::Atan2Op>,\n+      PointwiseToLinalgConverter<mhlo::AtanhOp>,\n       PointwiseToLinalgConverter<mhlo::BitcastConvertOp>,\n       PointwiseToLinalgConverter<mhlo::CbrtOp>,\n       PointwiseToLinalgConverter<mhlo::CeilOp>,"
        },
        {
            "sha": "b4ccd3083303152f1331fcb26e55ef41d6cb7e83",
            "filename": "third_party/xla/xla/mlir_hlo/mhlo/transforms/map_mhlo_to_scalar_op.h",
            "status": "modified",
            "additions": 4,
            "deletions": 0,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fmlir_hlo%2Fmhlo%2Ftransforms%2Fmap_mhlo_to_scalar_op.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -190,6 +190,10 @@ struct MhloToScalarOp<mhlo::Atan2Op> {\n   using COp = ::mlir::complex::Atan2Op;\n };\n template <>\n+struct MhloToScalarOp<mhlo::AtanhOp> {\n+  using FOp = ::mlir::math::AtanhOp;\n+};\n+template <>\n struct MhloToScalarOp<mhlo::TanhOp> {\n   using FOp = ::mlir::math::TanhOp;\n   using COp = ::mlir::complex::TanhOp;"
        },
        {
            "sha": "7106f16f80befbb77330c677de65fac8428ecd40",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -44,6 +44,11 @@ absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitAtan2(\n   return xla::cpu::EmitAtan2(module(), *b(), prim_type, lhs, rhs);\n }\n \n+absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitAtanh(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"atanh\");\n+}\n+\n absl::StatusOr<llvm::Value*> CpuElementalIrEmitter::EmitTanh(\n     PrimitiveType prim_type, llvm::Value* value) {\n   if (prim_type == F32 || prim_type == F64 || prim_type == F16) {"
        },
        {
            "sha": "e452b6dd8f2239a1b864095d2a3fef818ab9a3d6",
            "filename": "third_party/xla/xla/service/cpu/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Felemental_ir_emitter.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -52,6 +52,9 @@ class CpuElementalIrEmitter final : public ElementalIrEmitter {\n                                          llvm::Value* lhs, llvm::Value* rhs,\n                                          absl::string_view) override;\n \n+  absl::StatusOr<llvm::Value*> EmitAtanh(PrimitiveType prim_type,\n+                                         llvm::Value* value) override;\n+\n   absl::StatusOr<llvm::Value*> EmitTanh(PrimitiveType prim_type,\n                                         llvm::Value* value) override;\n "
        },
        {
            "sha": "bc4b6c2a63beebda1cdc87826f23fb1530866c09",
            "filename": "third_party/xla/xla/service/cpu/thunk_emitter.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fthunk_emitter.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -332,6 +332,7 @@ absl::StatusOr<ThunkSequence> ThunkEmitter::EmitHloInstruction(\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBroadcast:\n     case HloOpcode::kBitcastConvert:\n     case HloOpcode::kCbrt:"
        },
        {
            "sha": "f15829bcbaca1211bab16d9de65ef6eae88b83d0",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.cc",
            "status": "modified",
            "additions": 8,
            "deletions": 0,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -715,6 +715,8 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitFloatUnaryOp(\n       return EmitAsin(op->shape().element_type(), operand_value);\n     case HloOpcode::kAcosh:\n       return EmitAcosh(op->shape().element_type(), operand_value);\n+    case HloOpcode::kAtanh:\n+      return EmitAtanh(op->shape().element_type(), operand_value);\n     case HloOpcode::kConvert: {\n       PrimitiveType from_type = op->operand(0)->shape().element_type();\n       PrimitiveType to_type = op->shape().element_type();\n@@ -2208,6 +2210,11 @@ absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitAtan2(\n   return Unimplemented(\"atan2\");\n }\n \n+absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitAtanh(\n+    PrimitiveType prim_type, llvm::Value* value) {\n+  return Unimplemented(\"atanh\");\n+}\n+\n absl::StatusOr<llvm::Value*> ElementalIrEmitter::EmitTanh(\n     PrimitiveType prim_type, llvm::Value* value) {\n   return Unimplemented(\"tanh\");\n@@ -3191,6 +3198,7 @@ llvm_ir::ElementGenerator ElementalIrEmitter::MakeElementGenerator(\n     case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kRoundNearestAfz:\n     case HloOpcode::kRoundNearestEven:\n     case HloOpcode::kCeil:"
        },
        {
            "sha": "40d083454bfdb2791c901e8a384db852bd2c0c5b",
            "filename": "third_party/xla/xla/service/elemental_ir_emitter.h",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Felemental_ir_emitter.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -159,6 +159,9 @@ class ElementalIrEmitter : public IrBuilderMixin<ElementalIrEmitter> {\n   virtual absl::StatusOr<llvm::Value*> EmitSinh(PrimitiveType prim_type,\n                                                 llvm::Value* value);\n \n+  virtual absl::StatusOr<llvm::Value*> EmitAtanh(PrimitiveType prim_type,\n+                                                 llvm::Value* value);\n+\n   virtual absl::StatusOr<llvm::Value*> EmitLog(PrimitiveType prim_type,\n                                                llvm::Value* value);\n "
        },
        {
            "sha": "989e242b94b3305005fafb5469939acad3cbaed4",
            "filename": "third_party/xla/xla/service/gpu/hlo_fusion_stats.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Fhlo_fusion_stats.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -48,6 +48,7 @@ class OpcodeCollector : public ConstDfsHloVisitorWithDefault {\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n       case HloOpcode::kAsin:\n+      case HloOpcode::kAtanh:\n       case HloOpcode::kCbrt:\n       case HloOpcode::kCeil:\n       case HloOpcode::kCos:"
        },
        {
            "sha": "42f1fee8b468b007e3dc075f070247c9fab27a92",
            "filename": "third_party/xla/xla/service/gpu/target_util.cc",
            "status": "modified",
            "additions": 5,
            "deletions": 0,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -247,6 +247,9 @@ struct TargetDeviceFunction GetDeviceFunctionRoot(\n     case TargetDeviceFunctionID::kAsin: {\n       return {\"__nv_asin\", \"__ocml_asin\", \"_Z16__spirv_ocl_asin\"};\n     }\n+    case TargetDeviceFunctionID::kAtanh: {\n+      return {\"__nv_atanh\", \"__ocml_atanh\", \"_Z15__spirv_ocl_atanh\"};\n+    }\n     case TargetDeviceFunctionID::kCos: {\n       return {\"__nv_cos\", \"__ocml_cos\", \"_Z15__spirv_ocl_cos\"};\n     }\n@@ -312,6 +315,8 @@ std::optional<TargetDeviceFunctionID> GetTargetDeviceFunctionID(HloOpcode op) {\n       return TargetDeviceFunctionID::kAsin;\n     case HloOpcode::kAtan2:\n       return TargetDeviceFunctionID::kAtan2;\n+    case HloOpcode::kAtanh:\n+      return TargetDeviceFunctionID::kAtanh;\n     case HloOpcode::kCos:\n       return TargetDeviceFunctionID::kCos;\n     case HloOpcode::kCosh:"
        },
        {
            "sha": "cdca43380d2441e62a6e4ee4a19b8abf48ac9717",
            "filename": "third_party/xla/xla/service/gpu/target_util.h",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftarget_util.h?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -73,6 +73,7 @@ enum class TargetDeviceFunctionID {\n   kSinh,\n   kAsin,\n   kCosh,\n+  kAtanh,\n };\n \n // HLO opcode -> TargetDeviceFunctionID mapping. Returns std::nullopt if there"
        },
        {
            "sha": "9ea5b0d6028b4e5e8f62c4853093297b42f8185f",
            "filename": "third_party/xla/xla/service/gpu/transforms/fusion_wrapper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fgpu%2Ftransforms%2Ffusion_wrapper.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -30,6 +30,7 @@ bool FusionWrapper::MustWrapInstruction(HloOpcode opcode) {\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBitcastConvert:\n     case HloOpcode::kBroadcast:\n     case HloOpcode::kCeil:"
        },
        {
            "sha": "13a1a640e0b648546cbdf6bbc17ae6737959f478",
            "filename": "third_party/xla/xla/service/hlo_cost_analysis.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_cost_analysis.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -151,6 +151,7 @@ absl::Status HloCostAnalysis::HandleElementwiseOp(\n       opcode == HloOpcode::kAcosh ||\n       opcode == HloOpcode::kAsin ||\n       opcode == HloOpcode::kAtan2 ||\n+      opcode == HloOpcode::kAtanh ||\n       opcode == HloOpcode::kCbrt ||\n       opcode == HloOpcode::kCos ||\n       opcode == HloOpcode::kCosh ||"
        },
        {
            "sha": "bb01fd732b284194eec5d5d464d0d558fbbac09f",
            "filename": "third_party/xla/xla/service/hlo_graph_dumper.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fhlo_graph_dumper.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -1146,6 +1146,7 @@ ColorScheme HloDotDumper::GetInstructionColor(const HloInstruction* instr) {\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBitcastConvert:\n     case HloOpcode::kCeil:\n     case HloOpcode::kClamp:"
        },
        {
            "sha": "bdf2ef1b846f951baed878e80440762e9afabd7c",
            "filename": "third_party/xla/xla/service/instruction_fusion.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Finstruction_fusion.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -180,6 +180,7 @@ bool IsAlwaysDuplicable(const HloInstruction& instruction) {\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAfterAll:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kAsyncStart:\n     case HloOpcode::kAsyncUpdate:\n     case HloOpcode::kAsyncDone:"
        },
        {
            "sha": "10d8d9bdd9062921c781e9ba1823eb533e40594d",
            "filename": "third_party/xla/xla/service/layout_assignment.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Flayout_assignment.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -2865,6 +2865,7 @@ bool LayoutAssignment::InstructionCanChangeLayout(\n     case HloOpcode::kAddDependency:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBitcastConvert:\n     case HloOpcode::kCeil:\n     case HloOpcode::kClamp:"
        },
        {
            "sha": "baebfb88de85cef3d6b8897c9080b8408484ab2f",
            "filename": "third_party/xla/xla/service/shape_inference.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -350,6 +350,7 @@ absl::StatusOr<DimAndBound> InferMostSpecificDimAndBound(int64_t dim,\n     case HloOpcode::kAsin:\n     case HloOpcode::kAcos:\n     case HloOpcode::kAcosh:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kCosh:\n     case HloOpcode::kFloor:\n     case HloOpcode::kCbrt:  // Complex cbrt is not implemented in either of the"
        },
        {
            "sha": "06fa5c1cb4dbe02bbe03e112280d8a0b84271ed0",
            "filename": "third_party/xla/xla/service/shape_inference_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fshape_inference_test.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -6017,6 +6017,7 @@ INSTANTIATE_TEST_SUITE_P(UnboundedDynamism, UnboundedUnaryOpShapeInferenceTest,\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kAcos},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kAcosh},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kAsin},\n+                              {\"f32[?]\", \"f32[?]\", HloOpcode::kAtanh},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCbrt},\n                               {\"f32[?]\", \"f32[?]\", HloOpcode::kCeil},\n                               {\"u32[?]\", \"u32[?]\", HloOpcode::kClz},"
        },
        {
            "sha": "c9154d166da48585ffd3d620648656580d817c11",
            "filename": "third_party/xla/xla/service/sharding_propagation.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fsharding_propagation.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -221,6 +221,7 @@ const HloInstruction* PickRepresentativeOperand(\n     case HloOpcode::kAdd:\n     case HloOpcode::kAnd:\n     case HloOpcode::kAtan2:\n+    case HloOpcode::kAtanh:\n     case HloOpcode::kBitcastConvert:\n     case HloOpcode::kCeil:\n     case HloOpcode::kClamp:"
        },
        {
            "sha": "d7ab5cf980cd8d1c02f41c288b17c3e10eab380e",
            "filename": "third_party/xla/xla/tests/int4_test.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/606af604863aab715c7d78d691f25e6607c5cdf3/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftests%2Fint4_test.cc?ref=606af604863aab715c7d78d691f25e6607c5cdf3",
            "patch": "@@ -341,6 +341,7 @@ class ElementwiseTest : public HloTestBase,\n       case HloOpcode::kAcos:\n       case HloOpcode::kAcosh:\n       case HloOpcode::kAtan2:\n+      case HloOpcode::kAtanh:\n       case HloOpcode::kCbrt:\n       case HloOpcode::kCeil:\n       case HloOpcode::kComplex:"
        }
    ],
    "stats": {
        "total": 152,
        "additions": 137,
        "deletions": 15
    }
}