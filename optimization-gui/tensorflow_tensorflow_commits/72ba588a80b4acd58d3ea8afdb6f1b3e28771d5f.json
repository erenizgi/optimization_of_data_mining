{
    "author": "alexander-shaposhnikov",
    "message": "Clean up debug_options usage. NFC.\n\nPiperOrigin-RevId: 821848216",
    "sha": "72ba588a80b4acd58d3ea8afdb6f1b3e28771d5f",
    "files": [
        {
            "sha": "85fd218f1f48c2f5eb649608d95d1438ceab89c3",
            "filename": "third_party/xla/xla/service/cpu/cpu_compiler.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 6,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/72ba588a80b4acd58d3ea8afdb6f1b3e28771d5f/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/72ba588a80b4acd58d3ea8afdb6f1b3e28771d5f/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fcpu_compiler.cc?ref=72ba588a80b4acd58d3ea8afdb6f1b3e28771d5f",
            "patch": "@@ -931,14 +931,12 @@ absl::Status CpuCompiler::RunHloPassesAfterLayoutAssn(\n   // so until another solution is developed the passes creating XNNPACK fusions\n   // have to run after layout assignment.\n   LibraryRewriterOptions options = {\n-      /*use_onednn=*/module->config().debug_options().xla_cpu_use_onednn(),\n-      /*use_xnnpack=*/module->config().debug_options().xla_cpu_use_xnnpack(),\n+      /*use_onednn=*/debug_options.xla_cpu_use_onednn(),\n+      /*use_xnnpack=*/debug_options.xla_cpu_use_xnnpack(),\n       /*onednn_fusion_types=*/\n-      &module->config()\n-           .debug_options()\n-           .xla_cpu_experimental_onednn_fusion_type(),\n+      &debug_options.xla_cpu_experimental_onednn_fusion_type(),\n       /*xnn_fusion_types=*/\n-      &module->config().debug_options().xla_cpu_experimental_xnn_fusion_type()};\n+      &debug_options.xla_cpu_experimental_xnn_fusion_type()};\n   if (options.use_onednn || options.use_xnnpack) {\n     HloPassPipeline lib_pipeline(\"dot-library-passes\");\n     lib_pipeline.AddPass<DotDecomposer>();"
        }
    ],
    "stats": {
        "total": 10,
        "additions": 4,
        "deletions": 6
    }
}