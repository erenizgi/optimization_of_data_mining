{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 846104031",
    "sha": "5223bfde21ab3c59380060304fb089c52cdaa64d",
    "files": [
        {
            "sha": "a35e77ae99776fc3ef671f37a2961f5326b45307",
            "filename": "tensorflow/core/runtime_fallback/runtime/fallback_batch_kernel.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 2,
            "changes": 5,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.cc?ref=5223bfde21ab3c59380060304fb089c52cdaa64d",
            "patch": "@@ -50,8 +50,9 @@ constexpr char kBatchesToAverageOverAttr[] = \"_batches_to_average_over\";\n \n }  // namespace\n \n-int32 BatchFunctionFallbackKernelBase::\n-    NumBatchThreadsFromEnvironmentWithDefault(int default_num_batch_threads) {\n+int32_t\n+BatchFunctionFallbackKernelBase::NumBatchThreadsFromEnvironmentWithDefault(\n+    int default_num_batch_threads) {\n   int32_t num;\n   const char* val = std::getenv(\"TF_NUM_BATCH_THREADS\");\n "
        },
        {
            "sha": "3b26516602d4d20841892ea279f12ab1046a9c7a",
            "filename": "tensorflow/core/runtime_fallback/runtime/fallback_batch_kernel.h",
            "status": "modified",
            "additions": 9,
            "deletions": 9,
            "changes": 18,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Ffallback_batch_kernel.h?ref=5223bfde21ab3c59380060304fb089c52cdaa64d",
            "patch": "@@ -67,7 +67,7 @@ class BatchFunctionFallbackKernelBase : public AsyncOpKernel {\n   void SetAdaptiveBatchSchedulerOptions(OpKernelConstruction* c,\n                                         int32_t num_batch_threads);\n \n-  static int32 NumBatchThreadsFromEnvironmentWithDefault(\n+  static int32_t NumBatchThreadsFromEnvironmentWithDefault(\n       int default_num_batch_threads);\n   static thread::ThreadPool* GetOrCreateBatchThreadsPool();\n   static constexpr int64_t kBatchThreadPoolSize = 128;\n@@ -80,10 +80,10 @@ class BatchFunctionFallbackKernelBase : public AsyncOpKernel {\n   int32_t batch_timeout_micros_;\n   int32_t max_enqueued_batches_;\n   std::vector<int32_t> allowed_batch_sizes_;\n-  int32 low_priority_max_batch_size_;\n-  int32 low_priority_batch_timeout_micros_;\n-  int32 low_priority_max_enqueued_batches_;\n-  std::vector<int32> low_priority_allowed_batch_sizes_;\n+  int32_t low_priority_max_batch_size_;\n+  int32_t low_priority_batch_timeout_micros_;\n+  int32_t low_priority_max_enqueued_batches_;\n+  std::vector<int32_t> low_priority_allowed_batch_sizes_;\n   std::string mixed_priority_policy_;\n   bool enable_large_batch_splitting_;\n   bool has_attribute_enable_large_batch_splitting_;\n@@ -100,10 +100,10 @@ class BatchFunctionFallbackKernelBase : public AsyncOpKernel {\n   static constexpr int64_t kMaxInflightBatches = 64;\n   bool enable_adaptive_batch_threads_ = false;\n   struct AdaptiveBatchSchedulerOptions {\n-    int32 min_in_flight_batches_limit = kMinInflightBatches;\n-    int32 initial_in_flight_batches_limit = kInitialInflightBatches;\n-    int32 max_in_flight_batches_limit = kMaxInflightBatches;\n-    int32 batches_to_average_over = kBatchesToAverageOver;\n+    int32_t min_in_flight_batches_limit = kMinInflightBatches;\n+    int32_t initial_in_flight_batches_limit = kInitialInflightBatches;\n+    int32_t max_in_flight_batches_limit = kMaxInflightBatches;\n+    int32_t batches_to_average_over = kBatchesToAverageOver;\n   };\n   std::optional<AdaptiveBatchSchedulerOptions>\n       adaptive_batch_scheduler_options_ = std::nullopt;"
        },
        {
            "sha": "9e7e9678635db56b0d959ace6b19cb4e19762b8b",
            "filename": "tensorflow/core/runtime_fallback/runtime/runtime_fallback_batch_tf_opkernels.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Fruntime_fallback_batch_tf_opkernels.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/5223bfde21ab3c59380060304fb089c52cdaa64d/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Fruntime_fallback_batch_tf_opkernels.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcore%2Fruntime_fallback%2Fruntime%2Fruntime_fallback_batch_tf_opkernels.cc?ref=5223bfde21ab3c59380060304fb089c52cdaa64d",
            "patch": "@@ -193,7 +193,7 @@ class FallbackBatchResource : public tensorflow::serving::BatchResourceBase {\n     return absl::OkStatus();\n   }\n \n-  string DebugString() const final { return \"FallbackBatchResource\"; }\n+  std::string DebugString() const final { return \"FallbackBatchResource\"; }\n \n   const tsl::RCReference<const tfrt::Function>& batch_function() const {\n     return bef_func_;"
        }
    ],
    "stats": {
        "total": 25,
        "additions": 13,
        "deletions": 12
    }
}