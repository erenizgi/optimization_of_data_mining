{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 814033319",
    "sha": "b7ce95e201c90b9c7658559fb0857ef75aab1db4",
    "files": [
        {
            "sha": "17e375834f6829891fec09a6eaa6b4d70bbfae23",
            "filename": "tensorflow/tools/graph_transforms/fold_constants_lib.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Ffold_constants_lib.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Ffold_constants_lib.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Ffold_constants_lib.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -61,7 +61,7 @@ absl::Status ReplaceSendRecvs(const GraphDef& original_graph_def,\n     TensorId id = ParseTensorName(inputs[i]);\n     input_nodes.insert(id.first);\n     string& recv_node_name = recv_node_names[i];\n-    recv_node_name = strings::StrCat(\"_recv_\", id.first, \"_\", id.second);\n+    recv_node_name = absl::StrCat(\"_recv_\", id.first, \"_\", id.second);\n     recv_node_map.emplace(recv_node_name, id);\n   }\n \n@@ -280,7 +280,7 @@ absl::Status FoldConstants(const GraphDef& input_graph_def,\n                                        TensorId{node->name(), 0}, compare);\n     for (auto it = pair.first; it != pair.second; ++it) {\n       const string recv_name =\n-          strings::StrCat(\"_recv_\", it->first, \"_\", it->second);\n+          absl::StrCat(\"_recv_\", it->first, \"_\", it->second);\n       auto& recv_partial_shapes = shape_map[recv_name];\n       // For whatever reason (for example, name collision) if the map entry was\n       // already there, then do nothing."
        },
        {
            "sha": "b583e8a99b0d7cda3ae692610bcd9977dddf521a",
            "filename": "tensorflow/tools/graph_transforms/insert_logging.cc",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Finsert_logging.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Finsert_logging.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Finsert_logging.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -113,7 +113,7 @@ absl::Status InsertLogging(const GraphDef& input_graph_def,\n       TF_RETURN_IF_ERROR(GetInOutTypes(node, &input_types, &output_types));\n       NodeDef* print_node = logged_graph_def.mutable_node()->Add();\n       print_node->set_op(\"Print\");\n-      print_node->set_name(strings::StrCat(node.name(), name_suffix));\n+      print_node->set_name(absl::StrCat(node.name(), name_suffix));\n       string node_message;\n       if (show_op) {\n         node_message += \";\" + node.op() + \";\";\n@@ -128,14 +128,14 @@ absl::Status InsertLogging(const GraphDef& input_graph_def,\n       print_node->add_input(node.name() + \":0\");\n       SetNodeAttr(\"T\", output_types[0], print_node);\n       for (int output_index : node_outputs[node.name()]) {\n-        print_node->add_input(strings::StrCat(node.name(), \":\", output_index));\n+        print_node->add_input(absl::StrCat(node.name(), \":\", output_index));\n       }\n       SetNodeAttr(\"U\", output_types, print_node);\n       ignore_when_renaming.insert(print_node->name());\n       // Rewrite the graph so all references to the first input of the original\n       // op now pull from the print op instead, so it's executed.\n       inputs_to_rename[node.name() + \":0\"] =\n-          strings::StrCat(node.name(), name_suffix, \":0\");\n+          absl::StrCat(node.name(), name_suffix, \":0\");\n     }\n   }\n "
        },
        {
            "sha": "20fdea9f64a348b42777515f30ac6adc2be2439a",
            "filename": "tensorflow/tools/graph_transforms/obfuscate_names_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fobfuscate_names_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fobfuscate_names_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Fobfuscate_names_test.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -92,7 +92,7 @@ class ObfuscateNamesTest : public ::testing::Test {\n     GraphDef graph_def;\n     for (int i = 0; i < 1000; ++i) {\n       NodeDef* const_node = graph_def.add_node();\n-      const_node->set_name(strings::StrCat(\"const_node\", i));\n+      const_node->set_name(absl::StrCat(\"const_node\", i));\n       const_node->set_op(\"Const\");\n     }\n \n@@ -111,7 +111,7 @@ class ObfuscateNamesTest : public ::testing::Test {\n     GraphDef graph_def;\n     for (int i = 0; i < 1000; ++i) {\n       NodeDef* const_node = graph_def.add_node();\n-      const_node->set_name(strings::StrCat(\"1\", i));\n+      const_node->set_name(absl::StrCat(\"1\", i));\n       const_node->set_op(\"Const\");\n     }\n "
        },
        {
            "sha": "269137c997d447b9b3fe693ce8ab5619056d4849",
            "filename": "tensorflow/tools/graph_transforms/quantize_nodes.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 2,
            "changes": 3,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -646,8 +646,7 @@ absl::Status QuantizeNodes(const GraphDef& input_graph_def,\n   std::map<string, QuantizedOpInfo> op_map;\n   for (const QuantizedOpInfo& op_info : op_list) {\n     if (ops_to_ignore.count(op_info.float_name) == 0) {\n-      strings::StrAppend(&op_pattern, (is_first ? \"\" : \"|\"),\n-                         op_info.float_name);\n+      absl::StrAppend(&op_pattern, is_first ? \"\" : \"|\", op_info.float_name);\n       op_map.insert({op_info.float_name, op_info});\n       is_first = false;\n     }"
        },
        {
            "sha": "02b11f49f11eb8ee7d2635c1eacd4628fcc22ef8",
            "filename": "tensorflow/tools/graph_transforms/quantize_nodes_test.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Fquantize_nodes_test.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -121,8 +121,8 @@ class QuantizeNodesTest : public ::testing::Test {\n       const std::vector<string>& output_names, float range_min,\n       float range_max) {\n     TransformFuncContext context;\n-    context.params[\"input_min\"] = {strings::StrCat(range_min)};\n-    context.params[\"input_max\"] = {strings::StrCat(range_max)};\n+    context.params[\"input_min\"] = {absl::StrCat(range_min)};\n+    context.params[\"input_max\"] = {absl::StrCat(range_max)};\n \n     std::vector<std::pair<string, Tensor>> quantized_inputs;\n     for (const std::pair<string, Tensor>& float_input : float_inputs) {\n@@ -145,8 +145,8 @@ class QuantizeNodesTest : public ::testing::Test {\n       const std::vector<string>& output_names, float range_min, float range_max,\n       GraphDef* quantized_graph_def) {\n     TransformFuncContext context;\n-    context.params[\"fallback_min\"] = {strings::StrCat(range_min)};\n-    context.params[\"fallback_max\"] = {strings::StrCat(range_max)};\n+    context.params[\"fallback_min\"] = {absl::StrCat(range_min)};\n+    context.params[\"fallback_max\"] = {absl::StrCat(range_max)};\n     TestTransformedVersusFloatGraph(QuantizeNodes, float_graph_def,\n                                     float_inputs, float_inputs, output_names,\n                                     context, 2.0, quantized_graph_def);"
        },
        {
            "sha": "5deebedb417d29c1a4eeb66a40b981ebc3a06a4b",
            "filename": "tensorflow/tools/graph_transforms/sparsify_gather.cc",
            "status": "modified",
            "additions": 12,
            "deletions": 8,
            "changes": 20,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -358,43 +358,47 @@ absl::Status SparsifyGatherInternal(\n           DataType key_dtype = DT_INT64;\n           NodeDef indices_node;\n           CreateConstNode(indices_tensor,\n-                          StrCat(weights_node.name(), \"/indices\"),\n+                          absl::StrCat(weights_node.name(), \"/indices\"),\n                           &indices_node);\n           SetNodeAttr(\"dtype\", key_dtype, &indices_node);\n \n           NodeDef values_node;\n-          CreateConstNode(values_tensor, StrCat(weights_node.name(), \"/values\"),\n+          CreateConstNode(values_tensor,\n+                          absl::StrCat(weights_node.name(), \"/values\"),\n                           &values_node);\n           SetNodeAttr(\"dtype\", data_type, &values_node);\n \n           // HashTable node\n           NodeDef hashtable_node;\n           hashtable_node.set_op(\"HashTable\");\n-          hashtable_node.set_name(StrCat(weights_node.name(), \"/HashTable\"));\n+          hashtable_node.set_name(\n+              absl::StrCat(weights_node.name(), \"/HashTable\"));\n           SetNodeAttr(\"key_dtype\", key_dtype, &hashtable_node);\n           SetNodeAttr(\"value_dtype\", data_type, &hashtable_node);\n \n           // InitializeTable node\n           NodeDef init_table_node;\n           init_table_node.set_op(\"InitializeTable\");\n           init_table_node.set_name(\n-              StrCat(weights_node.name(), \"/InitializeTable\"));\n+              absl::StrCat(weights_node.name(), \"/InitializeTable\"));\n           SetNodeAttr(\"Tkey\", key_dtype, &init_table_node);\n           SetNodeAttr(\"Tval\", data_type, &init_table_node);\n           init_table_node_names.push_back(init_table_node.name());\n \n           // LookupTableFind node\n           NodeDef lookup_node;\n           lookup_node.set_op(\"LookupTableFind\");\n-          lookup_node.set_name(StrCat(gather_node.name(), \"/LookupTableFind\"));\n+          lookup_node.set_name(\n+              absl::StrCat(gather_node.name(), \"/LookupTableFind\"));\n           SetNodeAttr(\"Tin\", key_dtype, &lookup_node);\n           SetNodeAttr(\"Tout\", data_type, &lookup_node);\n \n           // Default return value of hashtable lookup\n           Tensor zero_tensor(data_type, TensorShape({}));\n           zero_tensor.flat<float>()(0) = 0.0;\n           NodeDef default_value_node;\n-          CreateConstNode(zero_tensor, StrCat(gather_node.name(), \"/Const\"),\n+          CreateConstNode(zero_tensor,\n+                          absl::StrCat(gather_node.name(), \"/Const\"),\n                           &default_value_node);\n           SetNodeAttr(\"dtype\", data_type, &default_value_node);\n \n@@ -404,7 +408,7 @@ absl::Status SparsifyGatherInternal(\n           NodeDef dim_idx_node;\n           dim_idx_node.set_op(\"Const\");\n           dim_idx_node.set_name(\n-              StrCat(gather_node.name(), \"/ExpandDims/Const\"));\n+              absl::StrCat(gather_node.name(), \"/ExpandDims/Const\"));\n           SetNodeAttr(\"value\", dim_idx, &dim_idx_node);\n           SetNodeAttr(\"dtype\", DT_INT32, &dim_idx_node);\n \n@@ -466,7 +470,7 @@ absl::Status SparsifyGatherInternal(\n     }\n     for (const string& name : init_table_node_names) {\n       // Add control dependence from init_table_node to group_deps_node\n-      AddNodeInput(StrCat(\"^\", name), init_op);\n+      AddNodeInput(absl::StrCat(\"^\", name), init_op);\n       refs[name]++;\n     }\n "
        },
        {
            "sha": "97d53e2dbd429a56a2137803573a014151c7a247",
            "filename": "tensorflow/tools/graph_transforms/sparsify_gather_test.cc",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/b7ce95e201c90b9c7658559fb0857ef75aab1db4/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Ftools%2Fgraph_transforms%2Fsparsify_gather_test.cc?ref=b7ce95e201c90b9c7658559fb0857ef75aab1db4",
            "patch": "@@ -50,7 +50,7 @@ class SparsifyGatherTest : public ::testing::Test {\n       });\n     } else {\n       std::for_each(inputs.begin(), inputs.end(), [&node_def](NodeDef* input) {\n-        node_def->add_input(strings::StrCat(\"^\", input->name()));\n+        node_def->add_input(absl::StrCat(\"^\", input->name()));\n       });\n     }\n     return node_def;\n@@ -60,7 +60,7 @@ class SparsifyGatherTest : public ::testing::Test {\n                   NodeDef* indices, GraphDef* graph_def) {\n     if (gather_v2) {\n       NodeDef* axis_node =\n-          CreateNode(strings::StrCat(name, \"_axis\"), \"Const\", {}, graph_def);\n+          CreateNode(absl::StrCat(name, \"_axis\"), \"Const\", {}, graph_def);\n       Tensor axis_t(DT_INT32, TensorShape({}));\n       axis_t.scalar<int32>()() = 0;\n       SetNodeTensorAttr<int32>(\"value\", axis_t, axis_node);"
        }
    ],
    "stats": {
        "total": 49,
        "additions": 26,
        "deletions": 23
    }
}