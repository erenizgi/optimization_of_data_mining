{
    "author": "tensorflower-gardener",
    "message": "Automated Code Change\n\nPiperOrigin-RevId: 829324443",
    "sha": "e752c1a78bd01d022abbee63917b339804f5a1e3",
    "files": [
        {
            "sha": "f05bdd36aebc3f7d2de3b68a7db30b7ad0044811",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/clock_cycle_profiler.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.cc?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -19,7 +19,7 @@ limitations under the License.\n \n namespace tsl {\n \n-void ClockCycleProfiler::DumpStatistics(const string& tag) {\n+void ClockCycleProfiler::DumpStatistics(const std::string& tag) {\n   CHECK(!IsStarted());\n   const double average_clock_cycle = GetAverageClockCycle();\n   const double count = GetCount();"
        },
        {
            "sha": "5862253149cf2b1a718960888464f68e49b33ad6",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/clock_cycle_profiler.h",
            "status": "modified",
            "additions": 5,
            "deletions": 5,
            "changes": 10,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fclock_cycle_profiler.h?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -60,11 +60,11 @@ class ClockCycleProfiler {\n   }\n \n   // Dump statistics\n-  void DumpStatistics(const string& tag);\n+  void DumpStatistics(const std::string& tag);\n \n  private:\n-  inline uint64 GetCurrentClockCycleInternal() {\n-    const uint64 clockCycle = profile_utils::CpuUtils::GetCurrentClockCycle();\n+  inline uint64_t GetCurrentClockCycleInternal() {\n+    const uint64_t clockCycle = profile_utils::CpuUtils::GetCurrentClockCycle();\n     if (clockCycle <= 0) {\n       if (valid_) {\n         LOG(WARNING) << \"GetCurrentClockCycle is not implemented.\"\n@@ -80,7 +80,7 @@ class ClockCycleProfiler {\n   inline bool IsStarted() const { return start_clock_ > 0; }\n \n   inline void AccumulateClockCycle() {\n-    const uint64 now = GetCurrentClockCycleInternal();\n+    const uint64_t now = GetCurrentClockCycleInternal();\n     const double clock_diff = static_cast<double>(now - start_clock_);\n     const double next_count = count_ + 1.0;\n     const double next_count_inv = 1.0 / next_count;\n@@ -92,7 +92,7 @@ class ClockCycleProfiler {\n     start_clock_ = 0;\n   }\n \n-  uint64 start_clock_{0};\n+  uint64_t start_clock_{0};\n   double count_{0.0};\n   double average_clock_cycle_{0.0};\n   double worst_clock_cycle_{0.0};"
        },
        {
            "sha": "5dd0fbb47479119231a75b130b8606b5dbba3e6a",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/cpu_utils.cc",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.cc?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -87,7 +87,7 @@ static ICpuUtilsHelper* cpu_utils_helper_instance_ = nullptr;\n     LOG(WARNING) << \"Failed to open /proc/cpuinfo\";\n     return INVALID_FREQUENCY;\n   }\n-  string line;\n+  std::string line;\n   while (std::getline(cpuinfo, line)) {\n     double cpu_freq = 0.0;\n     int retval = 0;"
        },
        {
            "sha": "df568714d803601c4f255de939bb266a53f08dee",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/cpu_utils.h",
            "status": "modified",
            "additions": 3,
            "deletions": 3,
            "changes": 6,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils.h?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -48,14 +48,14 @@ class CpuUtils {\n   // Constant for invalid frequency.\n   // This value is returned when the frequency is not obtained somehow.\n   static constexpr int64_t INVALID_FREQUENCY = -1;\n-  static constexpr uint64 DUMMY_CYCLE_CLOCK = 1;\n+  static constexpr uint64_t DUMMY_CYCLE_CLOCK = 1;\n \n   // Return current clock cycle. This function is designed to\n   // minimize the overhead to get clock and maximize the accuracy of\n   // time for profile.\n   // This returns unsigned int because there is no guarantee that rdtsc\n   // is less than 2 ^ 61.\n-  static inline uint64 GetCurrentClockCycle() {\n+  static inline uint64_t GetCurrentClockCycle() {\n #if defined(__ANDROID__)\n     return GetCpuUtilsHelperSingletonInstance().GetCurrentClockCycle();\n // ----------------------------------------------------------------\n@@ -158,7 +158,7 @@ class CpuUtils {\n    public:\n     DefaultCpuUtilsHelper() = default;\n     void ResetClockCycle() final {}\n-    uint64 GetCurrentClockCycle() final { return DUMMY_CYCLE_CLOCK; }\n+    uint64_t GetCurrentClockCycle() final { return DUMMY_CYCLE_CLOCK; }\n     void EnableClockCycleProfiling() final {}\n     void DisableClockCycleProfiling() final {}\n     int64_t CalculateCpuFrequency() final { return INVALID_FREQUENCY; }"
        },
        {
            "sha": "77b852f395bc0fc2bccf0253bdb8fe182dfd64bb",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/cpu_utils_test.cc",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils_test.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils_test.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fcpu_utils_test.cc?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -36,15 +36,15 @@ TEST_F(CpuUtilsTest, TearDownTestCase) {}\n \n TEST_F(CpuUtilsTest, CheckGetCurrentClockCycle) {\n   static constexpr int LOOP_COUNT = 10;\n-  const uint64 start_clock_count = CpuUtils::GetCurrentClockCycle();\n+  const uint64_t start_clock_count = CpuUtils::GetCurrentClockCycle();\n   CHECK_GT(start_clock_count, 0);\n-  uint64 prev_clock_count = start_clock_count;\n+  uint64_t prev_clock_count = start_clock_count;\n   for (int i = 0; i < LOOP_COUNT; ++i) {\n-    const uint64 clock_count = CpuUtils::GetCurrentClockCycle();\n+    const uint64_t clock_count = CpuUtils::GetCurrentClockCycle();\n     CHECK_GE(clock_count, prev_clock_count);\n     prev_clock_count = clock_count;\n   }\n-  const uint64 end_clock_count = CpuUtils::GetCurrentClockCycle();\n+  const uint64_t end_clock_count = CpuUtils::GetCurrentClockCycle();\n   if (DBG) {\n     LOG(INFO) << \"start clock = \" << start_clock_count;\n     LOG(INFO) << \"end clock = \" << end_clock_count;"
        },
        {
            "sha": "3e9470a2dd942b6949b8f236ecb7f5c2892ab642",
            "filename": "third_party/xla/xla/tsl/platform/profile_utils/i_cpu_utils_helper.h",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fi_cpu_utils_helper.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/e752c1a78bd01d022abbee63917b339804f5a1e3/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fi_cpu_utils_helper.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Ftsl%2Fplatform%2Fprofile_utils%2Fi_cpu_utils_helper.h?ref=e752c1a78bd01d022abbee63917b339804f5a1e3",
            "patch": "@@ -34,7 +34,7 @@ class ICpuUtilsHelper {\n   // clock cycle counters from overflowing on some platforms.\n   virtual void ResetClockCycle() = 0;\n   // Return current clock cycle.\n-  virtual uint64 GetCurrentClockCycle() = 0;\n+  virtual uint64_t GetCurrentClockCycle() = 0;\n   // Enable/Disable clock cycle profile\n   // You can enable / disable profile if it's supported by the platform\n   virtual void EnableClockCycleProfiling() = 0;"
        }
    ],
    "stats": {
        "total": 30,
        "additions": 15,
        "deletions": 15
    }
}