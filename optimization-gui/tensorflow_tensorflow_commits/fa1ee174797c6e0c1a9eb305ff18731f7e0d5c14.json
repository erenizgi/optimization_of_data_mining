{
    "author": "ezhulenev",
    "message": "[xla:cpu] Remove legacy runtime_conv{2d,3d} headers and source\n\nPiperOrigin-RevId: 833590069",
    "sha": "fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14",
    "files": [
        {
            "sha": "21f2841d23c2c785ef18e62eb1e9c04e248b10b8",
            "filename": "tensorflow/compiler/aot/tfcompile.bzl",
            "status": "modified",
            "additions": 0,
            "deletions": 2,
            "changes": 2,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/tensorflow%2Fcompiler%2Faot%2Ftfcompile.bzl?ref=fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14",
            "patch": "@@ -340,9 +340,7 @@ def _tf_library(\n             \"@local_xla//xla/backends/cpu/runtime:sort_lib\",\n             \"@local_xla//xla/backends/cpu/runtime:topk_lib\",\n             \"@local_xla//xla/backends/cpu/runtime:convolution_lib\",\n-            \"@local_xla//xla/service/cpu:runtime_conv2d\",\n             \"@local_xla//xla/service/cpu:runtime_matmul\",\n-            \"@local_xla//xla/service/cpu:runtime_single_threaded_conv2d\",\n             \"@local_xla//xla/service/cpu:runtime_single_threaded_matmul\",\n             \"@eigen_archive//:eigen3\",\n         ] or []) + (use_xla_nanort_runtime and ["
        },
        {
            "sha": "37601e7cb9f4ac7b2f3ab7aea7968d7891b619ef",
            "filename": "third_party/xla/xla/service/cpu/BUILD",
            "status": "modified",
            "additions": 0,
            "deletions": 52,
            "changes": 52,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2FBUILD?ref=fa1ee174797c6e0c1a9eb305ff18731f7e0d5c14",
            "patch": "@@ -52,8 +52,6 @@ filegroup(\n     name = \"runtime_srcs\",\n     srcs = [\n         # Single-threaded support.\n-        \"runtime_single_threaded_conv2d.cc\",\n-        \"runtime_single_threaded_conv3d.cc\",\n         \"runtime_single_threaded_matmul_c128.cc\",\n         \"runtime_single_threaded_matmul_c64.cc\",\n         \"runtime_single_threaded_matmul_common.h\",\n@@ -64,8 +62,6 @@ filegroup(\n         \"runtime_single_threaded_matmul_s32.cc\",\n         \"runtime_single_threaded_matmul_u8.cc\",\n         # Multi-threaded support.\n-        \"runtime_conv2d.cc\",\n-        \"runtime_conv3d.cc\",\n         \"runtime_matmul_c128.cc\",\n         \"runtime_matmul_c64.cc\",\n         \"runtime_matmul_common.h\",\n@@ -82,12 +78,8 @@ filegroup(\n     name = \"runtime_hdrs\",\n     srcs = [\n         # Single-threaded support.\n-        \"runtime_single_threaded_conv2d.h\",\n-        \"runtime_single_threaded_conv3d.h\",\n         \"runtime_single_threaded_matmul.h\",\n         # Multi-threaded support.\n-        \"runtime_conv2d.h\",\n-        \"runtime_conv3d.h\",\n         \"runtime_lightweight_check.h\",\n         \"runtime_matmul.h\",\n         \"//xla/backends/cpu/runtime:runtime_hdrs\",\n@@ -1043,34 +1035,10 @@ cc_library(\n \n cc_library(\n     name = \"runtime_conv2d\",\n-    srcs = [\"runtime_conv2d.cc\"],\n-    hdrs = [\"runtime_conv2d.h\"],\n-    copts = runtime_copts(),\n-    visibility = [\"//visibility:public\"],\n-    deps = [\n-        \":runtime_lightweight_check\",\n-        \"//xla:executable_run_options\",\n-        \"//xla/backends/cpu/runtime:convolution_lib\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/synchronization\",  # build_cleaner: keep\n-        \"@eigen_archive//:eigen3\",\n-    ],\n )\n \n cc_library(\n     name = \"runtime_conv3d\",\n-    srcs = [\"runtime_conv3d.cc\"],\n-    hdrs = [\"runtime_conv3d.h\"],\n-    copts = runtime_copts(),\n-    visibility = [\"//visibility:public\"],\n-    deps = [\n-        \":runtime_lightweight_check\",\n-        \"//xla:executable_run_options\",\n-        \"//xla/backends/cpu/runtime:convolution_lib\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/synchronization\",  # build_cleaner: keep\n-        \"@eigen_archive//:eigen3\",\n-    ],\n )\n \n cc_library(\n@@ -1100,30 +1068,10 @@ cc_library(\n \n cc_library(\n     name = \"runtime_single_threaded_conv2d\",\n-    srcs = [\"runtime_single_threaded_conv2d.cc\"],\n-    hdrs = [\"runtime_single_threaded_conv2d.h\"],\n-    copts = runtime_copts(),\n-    visibility = [\"//visibility:public\"],\n-    deps = [\n-        \"//xla/backends/cpu/runtime:convolution_lib\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/synchronization\",  # build_cleaner: keep\n-        \"@eigen_archive//:eigen3\",\n-    ],\n )\n \n cc_library(\n     name = \"runtime_single_threaded_conv3d\",\n-    srcs = [\"runtime_single_threaded_conv3d.cc\"],\n-    hdrs = [\"runtime_single_threaded_conv3d.h\"],\n-    copts = runtime_copts(),\n-    visibility = [\"//visibility:public\"],\n-    deps = [\n-        \"//xla/backends/cpu/runtime:convolution_lib\",\n-        \"@com_google_absl//absl/base:core_headers\",\n-        \"@com_google_absl//absl/synchronization\",  # build_cleaner: keep\n-        \"@eigen_archive//:eigen3\",\n-    ],\n )\n \n cc_library("
        },
        {
            "sha": "785360dcc86a0d61097d0402471a8f8f7f47362f",
            "filename": "third_party/xla/xla/service/cpu/runtime_conv2d.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 70,
            "changes": 70,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.cc?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,70 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#include \"xla/service/cpu/runtime_conv2d.h\"\n-\n-#include <cstdint>\n-\n-#include \"absl/base/attributes.h\"\n-\n-#define EIGEN_USE_THREADS\n-\n-#include \"xla/backends/cpu/runtime/convolution_lib.h\"\n-#include \"xla/executable_run_options.h\"\n-#include \"xla/service/cpu/runtime_lightweight_check.h\"\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void __xla_cpu_runtime_EigenConv2DF32(\n-    const void* run_options_ptr, float* out, float* lhs, float* rhs,\n-    int64_t input_batch, int64_t input_rows, int64_t input_cols,\n-    int64_t input_channels, int64_t kernel_rows, int64_t kernel_cols,\n-    int64_t kernel_channels, int64_t kernel_filters, int64_t output_rows,\n-    int64_t output_cols, int64_t row_stride, int64_t col_stride,\n-    int64_t padding_top, int64_t padding_bottom, int64_t padding_left,\n-    int64_t padding_right, int64_t lhs_row_dilation, int64_t lhs_col_dilation,\n-    int64_t rhs_row_dilation, int64_t rhs_col_dilation,\n-    int64_t feature_group_count) {\n-  const xla::ExecutableRunOptions* run_options =\n-      static_cast<const xla::ExecutableRunOptions*>(run_options_ptr);\n-  XLA_LIGHTWEIGHT_CHECK(run_options->intra_op_thread_pool() != nullptr);\n-  xla::cpu::internal::EigenConv2D(\n-      nullptr, out, lhs, rhs, input_batch, input_rows, input_cols,\n-      input_channels, kernel_rows, kernel_cols, kernel_channels, kernel_filters,\n-      output_rows, output_cols, row_stride, col_stride, padding_top,\n-      padding_bottom, padding_left, padding_right, lhs_row_dilation,\n-      lhs_col_dilation, rhs_row_dilation, rhs_col_dilation, feature_group_count,\n-      /*done=*/[] {});\n-}\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void __xla_cpu_runtime_EigenConv2DF16(\n-    const void* run_options_ptr, Eigen::half* out, Eigen::half* lhs,\n-    Eigen::half* rhs, int64_t input_batch, int64_t input_rows,\n-    int64_t input_cols, int64_t input_channels, int64_t kernel_rows,\n-    int64_t kernel_cols, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_rows, int64_t output_cols, int64_t row_stride,\n-    int64_t col_stride, int64_t padding_top, int64_t padding_bottom,\n-    int64_t padding_left, int64_t padding_right, int64_t lhs_row_dilation,\n-    int64_t lhs_col_dilation, int64_t rhs_row_dilation,\n-    int64_t rhs_col_dilation, int64_t feature_group_count) {\n-  const xla::ExecutableRunOptions* run_options =\n-      static_cast<const xla::ExecutableRunOptions*>(run_options_ptr);\n-  XLA_LIGHTWEIGHT_CHECK(run_options->intra_op_thread_pool() != nullptr);\n-  xla::cpu::internal::EigenConv2D(\n-      nullptr, out, lhs, rhs, input_batch, input_rows, input_cols,\n-      input_channels, kernel_rows, kernel_cols, kernel_channels, kernel_filters,\n-      output_rows, output_cols, row_stride, col_stride, padding_top,\n-      padding_bottom, padding_left, padding_right, lhs_row_dilation,\n-      lhs_col_dilation, rhs_row_dilation, rhs_col_dilation, feature_group_count,\n-      /*done=*/[] {});\n-}"
        },
        {
            "sha": "14bb219587a120f4dde6c4412139f455e66d4b50",
            "filename": "third_party/xla/xla/service/cpu/runtime_conv2d.h",
            "status": "removed",
            "additions": 0,
            "deletions": 50,
            "changes": 50,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv2d.h?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,50 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#ifndef XLA_SERVICE_CPU_RUNTIME_CONV2D_H_\n-#define XLA_SERVICE_CPU_RUNTIME_CONV2D_H_\n-\n-#include <stdint.h>\n-\n-#include \"Eigen/Core\"\n-\n-extern \"C\" {\n-\n-extern void __xla_cpu_runtime_EigenConv2DF32(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr, float* out,\n-    float* lhs, float* rhs, int64_t input_batch, int64_t input_rows,\n-    int64_t input_cols, int64_t input_channels, int64_t kernel_rows,\n-    int64_t kernel_cols, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_rows, int64_t output_cols, int64_t row_stride,\n-    int64_t col_stride, int64_t padding_top, int64_t padding_bottom,\n-    int64_t padding_left, int64_t padding_right, int64_t lhs_row_dilation,\n-    int64_t lhs_col_dilation, int64_t rhs_row_dilation,\n-    int64_t rhs_col_dilation, int64_t feature_group_count);\n-\n-extern void __xla_cpu_runtime_EigenConv2DF16(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr,\n-    Eigen::half* out, Eigen::half* lhs, Eigen::half* rhs, int64_t input_batch,\n-    int64_t input_rows, int64_t input_cols, int64_t input_channels,\n-    int64_t kernel_rows, int64_t kernel_cols, int64_t kernel_channels,\n-    int64_t kernel_filters, int64_t output_rows, int64_t output_cols,\n-    int64_t row_stride, int64_t col_stride, int64_t padding_top,\n-    int64_t padding_bottom, int64_t padding_left, int64_t padding_right,\n-    int64_t lhs_row_dilation, int64_t lhs_col_dilation,\n-    int64_t rhs_row_dilation, int64_t rhs_col_dilation,\n-    int64_t feature_group_count);\n-\n-}  // extern \"C\"\n-\n-#endif  // XLA_SERVICE_CPU_RUNTIME_CONV2D_H_"
        },
        {
            "sha": "530a079ec959a1507c88d43119063c4abb833c0a",
            "filename": "third_party/xla/xla/service/cpu/runtime_conv3d.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 76,
            "changes": 76,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.cc?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,76 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#include \"xla/service/cpu/runtime_conv3d.h\"\n-\n-#include <cstdint>\n-\n-#include \"absl/base/attributes.h\"\n-\n-#define EIGEN_USE_THREADS\n-\n-#include \"xla/backends/cpu/runtime/convolution_lib.h\"\n-#include \"xla/executable_run_options.h\"\n-#include \"xla/service/cpu/runtime_lightweight_check.h\"\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void __xla_cpu_runtime_EigenConv3DF32(\n-    const void* run_options_ptr, float* out, float* lhs, float* rhs,\n-    int64_t input_batch, int64_t input_x, int64_t input_y, int64_t input_z,\n-    int64_t input_channels, int64_t kernel_x, int64_t kernel_y,\n-    int64_t kernel_z, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_x, int64_t output_y, int64_t output_z, int64_t x_stride,\n-    int64_t y_stride, int64_t z_stride, int64_t padding_x_before,\n-    int64_t padding_x_after, int64_t padding_y_before, int64_t padding_y_after,\n-    int64_t padding_z_before, int64_t padding_z_after, int64_t lhs_x_dilation,\n-    int64_t lhs_y_dilation, int64_t lhs_z_dilation, int64_t rhs_x_dilation,\n-    int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count) {\n-  const xla::ExecutableRunOptions* run_options =\n-      static_cast<const xla::ExecutableRunOptions*>(run_options_ptr);\n-  XLA_LIGHTWEIGHT_CHECK(run_options->intra_op_thread_pool() != nullptr);\n-  xla::cpu::internal::EigenConv3D(\n-      nullptr, out, lhs, rhs, input_batch, input_x, input_y, input_z,\n-      input_channels, kernel_x, kernel_y, kernel_z, kernel_channels,\n-      kernel_filters, output_x, output_y, output_z, x_stride, y_stride,\n-      z_stride, padding_x_before, padding_x_after, padding_y_before,\n-      padding_y_after, padding_z_before, padding_z_after, lhs_x_dilation,\n-      lhs_y_dilation, lhs_z_dilation, rhs_x_dilation, rhs_y_dilation,\n-      rhs_z_dilation, feature_group_count, /*done=*/[] {});\n-}\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void __xla_cpu_runtime_EigenConv3DF16(\n-    const void* run_options_ptr, Eigen::half* out, Eigen::half* lhs,\n-    Eigen::half* rhs, int64_t input_batch, int64_t input_x, int64_t input_y,\n-    int64_t input_z, int64_t input_channels, int64_t kernel_x, int64_t kernel_y,\n-    int64_t kernel_z, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_x, int64_t output_y, int64_t output_z, int64_t x_stride,\n-    int64_t y_stride, int64_t z_stride, int64_t padding_x_before,\n-    int64_t padding_x_after, int64_t padding_y_before, int64_t padding_y_after,\n-    int64_t padding_z_before, int64_t padding_z_after, int64_t lhs_x_dilation,\n-    int64_t lhs_y_dilation, int64_t lhs_z_dilation, int64_t rhs_x_dilation,\n-    int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count) {\n-  const xla::ExecutableRunOptions* run_options =\n-      static_cast<const xla::ExecutableRunOptions*>(run_options_ptr);\n-  XLA_LIGHTWEIGHT_CHECK(run_options->intra_op_thread_pool() != nullptr);\n-  xla::cpu::internal::EigenConv3D(\n-      nullptr, out, lhs, rhs, input_batch, input_x, input_y, input_z,\n-      input_channels, kernel_x, kernel_y, kernel_z, kernel_channels,\n-      kernel_filters, output_x, output_y, output_z, x_stride, y_stride,\n-      z_stride, padding_x_before, padding_x_after, padding_y_before,\n-      padding_y_after, padding_z_before, padding_z_after, lhs_x_dilation,\n-      lhs_y_dilation, lhs_z_dilation, rhs_x_dilation, rhs_y_dilation,\n-      rhs_z_dilation, feature_group_count, /*done=*/[] {});\n-}"
        },
        {
            "sha": "7ae829e362a94e5233a531ce2b6cd6abfb9340ae",
            "filename": "third_party/xla/xla/service/cpu/runtime_conv3d.h",
            "status": "removed",
            "additions": 0,
            "deletions": 53,
            "changes": 53,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_conv3d.h?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,53 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#ifndef XLA_SERVICE_CPU_RUNTIME_CONV3D_H_\n-#define XLA_SERVICE_CPU_RUNTIME_CONV3D_H_\n-\n-#include <stdint.h>\n-\n-#include \"Eigen/Core\"\n-\n-extern \"C\" {\n-\n-extern void __xla_cpu_runtime_EigenConv3DF16(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr,\n-    Eigen::half* out, Eigen::half* lhs, Eigen::half* rhs, int64_t input_batch,\n-    int64_t input_x, int64_t input_y, int64_t input_z, int64_t input_channels,\n-    int64_t kernel_x, int64_t kernel_y, int64_t kernel_z,\n-    int64_t kernel_channels, int64_t kernel_filters, int64_t output_x,\n-    int64_t output_y, int64_t output_z, int64_t x_stride, int64_t y_stride,\n-    int64_t z_stride, int64_t padding_x_before, int64_t padding_x_after,\n-    int64_t padding_y_before, int64_t padding_y_after, int64_t padding_z_before,\n-    int64_t padding_z_after, int64_t lhs_x_dilation, int64_t lhs_y_dilation,\n-    int64_t lhs_z_dilation, int64_t rhs_x_dilation, int64_t rhs_y_dilation,\n-    int64_t rhs_z_dilation, int64_t feature_group_count);\n-\n-extern void __xla_cpu_runtime_EigenConv3DF32(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr, float* out,\n-    float* lhs, float* rhs, int64_t input_batch, int64_t input_x,\n-    int64_t input_y, int64_t input_z, int64_t input_channels, int64_t kernel_x,\n-    int64_t kernel_y, int64_t kernel_z, int64_t kernel_channels,\n-    int64_t kernel_filters, int64_t output_x, int64_t output_y,\n-    int64_t output_z, int64_t x_stride, int64_t y_stride, int64_t z_stride,\n-    int64_t padding_x_before, int64_t padding_x_after, int64_t padding_y_before,\n-    int64_t padding_y_after, int64_t padding_z_before, int64_t padding_z_after,\n-    int64_t lhs_x_dilation, int64_t lhs_y_dilation, int64_t lhs_z_dilation,\n-    int64_t rhs_x_dilation, int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count);\n-\n-}  // extern \"C\"\n-\n-#endif  // XLA_SERVICE_CPU_RUNTIME_CONV3D_H_"
        },
        {
            "sha": "e392770525ee893311dd26571cd11552f84c11ae",
            "filename": "third_party/xla/xla/service/cpu/runtime_single_threaded_conv2d.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 61,
            "changes": 61,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.cc?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,61 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#include \"xla/service/cpu/runtime_single_threaded_conv2d.h\"\n-\n-#include <cstdint>\n-\n-#include \"absl/base/attributes.h\"\n-#include \"xla/backends/cpu/runtime/convolution_lib.h\"\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void\n-__xla_cpu_runtime_EigenSingleThreadedConv2DF16(\n-    const void* /*run_options_ptr*/, Eigen::half* out, Eigen::half* lhs,\n-    Eigen::half* rhs, int64_t input_batch, int64_t input_rows,\n-    int64_t input_cols, int64_t input_channels, int64_t kernel_rows,\n-    int64_t kernel_cols, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_rows, int64_t output_cols, int64_t row_stride,\n-    int64_t col_stride, int64_t padding_top, int64_t padding_bottom,\n-    int64_t padding_left, int64_t padding_right, int64_t lhs_row_dilation,\n-    int64_t lhs_col_dilation, int64_t rhs_row_dilation,\n-    int64_t rhs_col_dilation, int64_t feature_group_count) {\n-  xla::cpu::internal::EigenConv2D(\n-      nullptr, out, lhs, rhs, input_batch, input_rows, input_cols,\n-      input_channels, kernel_rows, kernel_cols, kernel_channels, kernel_filters,\n-      output_rows, output_cols, row_stride, col_stride, padding_top,\n-      padding_bottom, padding_left, padding_right, lhs_row_dilation,\n-      lhs_col_dilation, rhs_row_dilation, rhs_col_dilation, feature_group_count,\n-      /*done=*/[] {});\n-}\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void\n-__xla_cpu_runtime_EigenSingleThreadedConv2DF32(\n-    const void* /*run_options_ptr*/, float* out, float* lhs, float* rhs,\n-    int64_t input_batch, int64_t input_rows, int64_t input_cols,\n-    int64_t input_channels, int64_t kernel_rows, int64_t kernel_cols,\n-    int64_t kernel_channels, int64_t kernel_filters, int64_t output_rows,\n-    int64_t output_cols, int64_t row_stride, int64_t col_stride,\n-    int64_t padding_top, int64_t padding_bottom, int64_t padding_left,\n-    int64_t padding_right, int64_t lhs_row_dilation, int64_t lhs_col_dilation,\n-    int64_t rhs_row_dilation, int64_t rhs_col_dilation,\n-    int64_t feature_group_count) {\n-  xla::cpu::internal::EigenConv2D(\n-      nullptr, out, lhs, rhs, input_batch, input_rows, input_cols,\n-      input_channels, kernel_rows, kernel_cols, kernel_channels, kernel_filters,\n-      output_rows, output_cols, row_stride, col_stride, padding_top,\n-      padding_bottom, padding_left, padding_right, lhs_row_dilation,\n-      lhs_col_dilation, rhs_row_dilation, rhs_col_dilation, feature_group_count,\n-      /*done=*/[] {});\n-}"
        },
        {
            "sha": "8f154f27b41ddd39b0af087a5a2228504351f7da",
            "filename": "third_party/xla/xla/service/cpu/runtime_single_threaded_conv2d.h",
            "status": "removed",
            "additions": 0,
            "deletions": 50,
            "changes": 50,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv2d.h?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,50 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#ifndef XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV2D_H_\n-#define XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV2D_H_\n-\n-#include <stdint.h>\n-\n-#include \"Eigen/Core\"\n-\n-extern \"C\" {\n-\n-extern void __xla_cpu_runtime_EigenSingleThreadedConv2DF16(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr,\n-    Eigen::half* out, Eigen::half* lhs, Eigen::half* rhs, int64_t input_batch,\n-    int64_t input_rows, int64_t input_cols, int64_t input_channels,\n-    int64_t kernel_rows, int64_t kernel_cols, int64_t kernel_channels,\n-    int64_t kernel_filters, int64_t output_rows, int64_t output_cols,\n-    int64_t row_stride, int64_t col_stride, int64_t padding_top,\n-    int64_t padding_bottom, int64_t padding_left, int64_t padding_right,\n-    int64_t lhs_row_dilation, int64_t lhs_col_dilation,\n-    int64_t rhs_row_dilation, int64_t rhs_col_dilation,\n-    int64_t feature_group_count);\n-\n-extern void __xla_cpu_runtime_EigenSingleThreadedConv2DF32(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr, float* out,\n-    float* lhs, float* rhs, int64_t input_batch, int64_t input_rows,\n-    int64_t input_cols, int64_t input_channels, int64_t kernel_rows,\n-    int64_t kernel_cols, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_rows, int64_t output_cols, int64_t row_stride,\n-    int64_t col_stride, int64_t padding_top, int64_t padding_bottom,\n-    int64_t padding_left, int64_t padding_right, int64_t lhs_row_dilation,\n-    int64_t lhs_col_dilation, int64_t rhs_row_dilation,\n-    int64_t rhs_col_dilation, int64_t feature_group_count);\n-\n-}  // extern \"C\"\n-\n-#endif  // XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV2D_H_"
        },
        {
            "sha": "e2b278fafe5dbb30b27ea39dda744b492e1cb202",
            "filename": "third_party/xla/xla/service/cpu/runtime_single_threaded_conv3d.cc",
            "status": "removed",
            "additions": 0,
            "deletions": 67,
            "changes": 67,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.cc",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.cc",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.cc?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,67 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#include \"xla/service/cpu/runtime_single_threaded_conv3d.h\"\n-\n-#include <cstdint>\n-\n-#include \"absl/base/attributes.h\"\n-#include \"xla/backends/cpu/runtime/convolution_lib.h\"\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void\n-__xla_cpu_runtime_EigenSingleThreadedConv3DF32(\n-    const void* /*run_options_ptr*/, float* out, float* lhs, float* rhs,\n-    int64_t input_batch, int64_t input_x, int64_t input_y, int64_t input_z,\n-    int64_t input_channels, int64_t kernel_x, int64_t kernel_y,\n-    int64_t kernel_z, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_x, int64_t output_y, int64_t output_z, int64_t x_stride,\n-    int64_t y_stride, int64_t z_stride, int64_t padding_x_before,\n-    int64_t padding_x_after, int64_t padding_y_before, int64_t padding_y_after,\n-    int64_t padding_z_before, int64_t padding_z_after, int64_t lhs_x_dilation,\n-    int64_t lhs_y_dilation, int64_t lhs_z_dilation, int64_t rhs_x_dilation,\n-    int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count) {\n-  xla::cpu::internal::EigenConv3D(\n-      nullptr, out, lhs, rhs, input_batch, input_x, input_y, input_z,\n-      input_channels, kernel_x, kernel_y, kernel_z, kernel_channels,\n-      kernel_filters, output_x, output_y, output_z, x_stride, y_stride,\n-      z_stride, padding_x_before, padding_x_after, padding_y_before,\n-      padding_y_after, padding_z_before, padding_z_after, lhs_x_dilation,\n-      lhs_y_dilation, lhs_z_dilation, rhs_x_dilation, rhs_y_dilation,\n-      rhs_z_dilation, feature_group_count, /*done=*/[] {});\n-}\n-\n-ABSL_ATTRIBUTE_NO_SANITIZE_MEMORY void\n-__xla_cpu_runtime_EigenSingleThreadedConv3DF16(\n-    const void* /*run_options_ptr*/, Eigen::half* out, Eigen::half* lhs,\n-    Eigen::half* rhs, int64_t input_batch, int64_t input_x, int64_t input_y,\n-    int64_t input_z, int64_t input_channels, int64_t kernel_x, int64_t kernel_y,\n-    int64_t kernel_z, int64_t kernel_channels, int64_t kernel_filters,\n-    int64_t output_x, int64_t output_y, int64_t output_z, int64_t x_stride,\n-    int64_t y_stride, int64_t z_stride, int64_t padding_x_before,\n-    int64_t padding_x_after, int64_t padding_y_before, int64_t padding_y_after,\n-    int64_t padding_z_before, int64_t padding_z_after, int64_t lhs_x_dilation,\n-    int64_t lhs_y_dilation, int64_t lhs_z_dilation, int64_t rhs_x_dilation,\n-    int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count) {\n-  xla::cpu::internal::EigenConv3D(\n-      nullptr, out, lhs, rhs, input_batch, input_x, input_y, input_z,\n-      input_channels, kernel_x, kernel_y, kernel_z, kernel_channels,\n-      kernel_filters, output_x, output_y, output_z, x_stride, y_stride,\n-      z_stride, padding_x_before, padding_x_after, padding_y_before,\n-      padding_y_after, padding_z_before, padding_z_after, lhs_x_dilation,\n-      lhs_y_dilation, lhs_z_dilation, rhs_x_dilation, rhs_y_dilation,\n-      rhs_z_dilation, feature_group_count, /*done=*/[] {});\n-}"
        },
        {
            "sha": "d0b7088072b5e617ba4d50a2f305d700cf873d8d",
            "filename": "third_party/xla/xla/service/cpu/runtime_single_threaded_conv3d.h",
            "status": "removed",
            "additions": 0,
            "deletions": 53,
            "changes": 53,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.h",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/af1417727b3337a8591377c004e737fce8ffe6b8/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.h",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fxla%2Fservice%2Fcpu%2Fruntime_single_threaded_conv3d.h?ref=af1417727b3337a8591377c004e737fce8ffe6b8",
            "patch": "@@ -1,53 +0,0 @@\n-/* Copyright 2017 The OpenXLA Authors.\n-\n-Licensed under the Apache License, Version 2.0 (the \"License\");\n-you may not use this file except in compliance with the License.\n-You may obtain a copy of the License at\n-\n-    http://www.apache.org/licenses/LICENSE-2.0\n-\n-Unless required by applicable law or agreed to in writing, software\n-distributed under the License is distributed on an \"AS IS\" BASIS,\n-WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n-See the License for the specific language governing permissions and\n-limitations under the License.\n-==============================================================================*/\n-\n-#ifndef XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV3D_H_\n-#define XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV3D_H_\n-\n-#include <stdint.h>\n-\n-#include \"Eigen/Core\"\n-\n-extern \"C\" {\n-\n-extern void __xla_cpu_runtime_EigenSingleThreadedConv3DF16(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr,\n-    Eigen::half* out, Eigen::half* lhs, Eigen::half* rhs, int64_t input_batch,\n-    int64_t input_x, int64_t input_y, int64_t input_z, int64_t input_channels,\n-    int64_t kernel_x, int64_t kernel_y, int64_t kernel_z,\n-    int64_t kernel_channels, int64_t kernel_filters, int64_t output_x,\n-    int64_t output_y, int64_t output_z, int64_t x_stride, int64_t y_stride,\n-    int64_t z_stride, int64_t padding_x_before, int64_t padding_x_after,\n-    int64_t padding_y_before, int64_t padding_y_after, int64_t padding_z_before,\n-    int64_t padding_z_after, int64_t lhs_x_dilation, int64_t lhs_y_dilation,\n-    int64_t lhs_z_dilation, int64_t rhs_x_dilation, int64_t rhs_y_dilation,\n-    int64_t rhs_z_dilation, int64_t feature_group_count);\n-\n-extern void __xla_cpu_runtime_EigenSingleThreadedConv3DF32(\n-    const void* /* xla::ExecutableRunOptions* */ run_options_ptr, float* out,\n-    float* lhs, float* rhs, int64_t input_batch, int64_t input_x,\n-    int64_t input_y, int64_t input_z, int64_t input_channels, int64_t kernel_x,\n-    int64_t kernel_y, int64_t kernel_z, int64_t kernel_channels,\n-    int64_t kernel_filters, int64_t output_x, int64_t output_y,\n-    int64_t output_z, int64_t x_stride, int64_t y_stride, int64_t z_stride,\n-    int64_t padding_x_before, int64_t padding_x_after, int64_t padding_y_before,\n-    int64_t padding_y_after, int64_t padding_z_before, int64_t padding_z_after,\n-    int64_t lhs_x_dilation, int64_t lhs_y_dilation, int64_t lhs_z_dilation,\n-    int64_t rhs_x_dilation, int64_t rhs_y_dilation, int64_t rhs_z_dilation,\n-    int64_t feature_group_count);\n-\n-}  // extern \"C\"\n-\n-#endif  // XLA_SERVICE_CPU_RUNTIME_SINGLE_THREADED_CONV3D_H_"
        }
    ],
    "stats": {
        "total": 534,
        "additions": 0,
        "deletions": 534
    }
}