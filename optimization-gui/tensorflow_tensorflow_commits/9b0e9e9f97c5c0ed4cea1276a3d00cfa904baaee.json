{
    "author": "boomanaiden154",
    "message": "Integrate LLVM at llvm/llvm-project@4f39a4ff0ada\n\nUpdates LLVM usage to match\n[4f39a4ff0ada](https://github.com/llvm/llvm-project/commit/4f39a4ff0ada)\n\nPiperOrigin-RevId: 837108380",
    "sha": "9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee",
    "files": [
        {
            "sha": "37a725677bbbac90ffb86804aed0dd5fcd77a92b",
            "filename": "third_party/xla/third_party/llvm/generated.patch",
            "status": "modified",
            "additions": 27,
            "deletions": 15,
            "changes": 42,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fllvm%2Fgenerated.patch",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fllvm%2Fgenerated.patch",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fllvm%2Fgenerated.patch?ref=9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee",
            "patch": "@@ -1,17 +1,29 @@\n Auto generated patch. Do not edit or delete it, even if empty.\n-diff -ruN --strip-trailing-cr a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n---- a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n-+++ b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n-@@ -4095,6 +4095,12 @@\n-   llvm::SmallVector<size_t> occludedChildren;\n-   llvm::sort(\n-       indices.begin(), indices.end(), [&](const size_t a, const size_t b) {\n-+        // Bail early if we are asked to look at the same index. If we do not\n-+        // bail early, we can end up mistakenly adding indices to\n-+        // occludedChildren. This can occur with some types of libc++ hardening.\n-+        if (a == b)\n-+          return false;\n-+\n-         auto memberIndicesA = cast<ArrayAttr>(indexAttr[a]);\n-         auto memberIndicesB = cast<ArrayAttr>(indexAttr[b]);\n+diff -ruN --strip-trailing-cr a/clang/lib/Analysis/ThreadSafety.cpp b/clang/lib/Analysis/ThreadSafety.cpp\n+--- a/clang/lib/Analysis/ThreadSafety.cpp\n++++ b/clang/lib/Analysis/ThreadSafety.cpp\n+@@ -2820,7 +2820,7 @@\n+         case CFGElement::AutomaticObjectDtor: {\n+           CFGAutomaticObjDtor AD = BI.castAs<CFGAutomaticObjDtor>();\n+           const auto *DD = AD.getDestructorDecl(AC.getASTContext());\n+-          if (!DD->hasAttrs())\n++          if (!DD || !DD->hasAttrs())\n+             break;\n  \n+           LocksetBuilder.handleCall(\n+diff -ruN --strip-trailing-cr a/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp b/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n+--- a/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n++++ b/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n+@@ -0,0 +1,12 @@\n++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++11 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=0 %s\n++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++11 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=1 %s\n++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++17 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=0 %s\n++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++17 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=1 %s\n++// expected-no-diagnostics\n++\n++struct foo {\n++  ~foo();\n++};\n++struct bar : foo {};\n++struct baz : bar {};\n++baz foobar(baz a) { return a; }"
        },
        {
            "sha": "3b359796b07f83059bff2451a4f8216f3dcf14a9",
            "filename": "third_party/xla/third_party/llvm/workspace.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fllvm%2Fworkspace.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fllvm%2Fworkspace.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fllvm%2Fworkspace.bzl?ref=9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee",
            "patch": "@@ -4,8 +4,8 @@ load(\"//third_party:repo.bzl\", \"tf_http_archive\")\n \n def repo(name):\n     \"\"\"Imports LLVM.\"\"\"\n-    LLVM_COMMIT = \"26362c68579dd4375198aae4651b4d5f8a36c715\"\n-    LLVM_SHA256 = \"1b81809d98940d0a6d4f19ef9e0bf72cd5847b9bbed47bc3517fcf8a40d38fd9\"\n+    LLVM_COMMIT = \"4f39a4ff0ada92870ca1c2dccad382ea04947da8\"\n+    LLVM_SHA256 = \"264c7cc3e166b840911494a2e94cff2ae8730b56239bd91dc8f65c8dc9468262\"\n \n     tf_http_archive(\n         name = name,"
        },
        {
            "sha": "49a90cf28e8f8c505b24d1500a47952fb79c7bf6",
            "filename": "third_party/xla/third_party/shardy/temporary.patch",
            "status": "modified",
            "additions": 49,
            "deletions": 132,
            "changes": 181,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fshardy%2Ftemporary.patch",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fshardy%2Ftemporary.patch",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fshardy%2Ftemporary.patch?ref=9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee",
            "patch": "@@ -1,147 +1,64 @@\n-diff --git a/shardy/dialect/sdy/transforms/export/explicit_reshards_util.cc b/shardy/dialect/sdy/transforms/export/explicit_reshards_util.cc\n-index f8e9369..f1bece8 100644\n---- a/shardy/dialect/sdy/transforms/export/explicit_reshards_util.cc\n-+++ b/shardy/dialect/sdy/transforms/export/explicit_reshards_util.cc\n-@@ -330,8 +330,7 @@ int64_t getCommunicationCost(const ShardingProjection& shardingProjection,\n-                              OpShardingRuleAttr shardingRule,\n-                              ArrayRef<int64_t> tensorSizes,\n-                              ArrayRef<int64_t> localTensorSizes, MeshAttr mesh,\n--                             const FactorAxesPair& factorAxesPair,\n--                             const int64_t expandedShardingSize) {\n-+                             const FactorAxesPair& factorAxesPair) {\n-   // The relative cost of collective operations.\n-   constexpr int64_t allToAllCost = 1;\n-   constexpr int64_t collectivePermuteCost = 2;\n-@@ -408,14 +407,10 @@ int64_t getCommunicationCost(const ShardingProjection& shardingProjection,\n-   // If the result contains this factor, we need\n-   // 1. all-to-all to move AX from this factor to other factors.\n-   // 2. all-gather to shrink the sharding size after the all-to-all above.\n--  for (const auto& [localTensorSize, tensorFactorSharding] : llvm::zip_equal(\n-+  for (const auto& [tensorSize, tensorFactorSharding] : llvm::zip_equal(\n-            localTensorSizes.drop_front(shardingProjection.getNumOperands()),\n-            shardingProjection.getResults())) {\n--    // A candidate factor axes (factorAxesPair) is guaranteed to be an expansion\n--    // of its existing sharding and `localTensorSize` has already taken into its\n--    // existing sharding. In order to avoid double counting, it needs to shard\n--    // further on the expanded sharding size only.\n--    int64_t shardedTensorSize = localTensorSize / expandedShardingSize;\n-+    int64_t shardedTensorSize = tensorSize / axesXSize;\n-     auto [axesA, axesB] = getShardingAxesInOtherAndThisFactor(\n-         tensorFactorSharding, factorAxesPair.factorIndex);\n- \n-@@ -533,16 +528,9 @@ class FactorAxesCandidateBag {\n- \n-     FactorAxesCandidate bestCandidate;\n-     for (FactorAxesCandidate& candidate : candidates) {\n--      // NOTE: The axes on replication factors are distributed to batching\n--      // dimensions after the common axes are found for all non-replication\n--      // factors. The communication cost calculation does not take this into\n--      // account yet and hence is not ready for cases that sharding rule has\n--      // replication factors.\n--      if (shardingRule.getNeedReplicationFactors().empty()) {\n--        candidate.communicationCost = getCommunicationCost(\n--            shardingProjection, shardingRule, tensorSizes, localTensorSizes,\n--            mesh, candidate.factorAxes, candidate.shardingSize);\n--      }\n-+      candidate.communicationCost =\n-+          getCommunicationCost(shardingProjection, shardingRule, tensorSizes,\n-+                               localTensorSizes, mesh, candidate.factorAxes);\n-       if (isValid(candidate)) {\n-         bestCandidate = std::max(bestCandidate, candidate);\n-       }\n-diff --git a/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/cholesky_triangular_solve.mlir b/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/cholesky_triangular_solve.mlir\n-index 8b9401e..bb14074 100644\n---- a/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/cholesky_triangular_solve.mlir\n-+++ b/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/cholesky_triangular_solve.mlir\n-@@ -147,12 +147,12 @@ func.func @cholesky_cholesky_dims_shardings_can_merge(%arg0: tensor<16x8x8x8xf32\n-   return %0 :  tensor<16x8x8x8xf32>\n- }\n- \n-+// TODO(zixuanjiang). We may want to keep 'x' due to its larger size.\n- // CHECK-LABEL: func @cholesky_sharded_cholesky_dim_input_only_batch_dim_both_but_input_sharding_larger\n- func.func @cholesky_sharded_cholesky_dim_input_only_batch_dim_both_but_input_sharding_larger(%arg0: tensor<8x4x8x8xf32> {sdy.sharding = #sdy.sharding<@mesh_xyz, [{\"x\"}, {}, {}, {\"z\"}]>}) -> (tensor<8x4x8x8xf32> {sdy.sharding = #sdy.sharding<@mesh_xyz, [{\"y\"}, {}, {}, {}]>}){\n--  // CHECK-NEXT: %[[RESHARD1:.*]] = sdy.reshard %arg0 <@mesh_xyz, [{\"x\"}, {}, {}, {}]> : tensor<8x4x8x8xf32>\n--  // CHECK-NEXT: %[[CHOLESKY:.*]] = stablehlo.cholesky %[[RESHARD1]], lower = true {sdy.sharding = #sdy.sharding_per_value<[<@mesh_xyz, [{\"x\"}, {}, {}, {}]>]>} : tensor<8x4x8x8xf32>\n--  // CHECK-NEXT: %[[RESHARD2:.*]] = sdy.reshard %[[CHOLESKY]] <@mesh_xyz, [{\"y\"}, {}, {}, {}]> : tensor<8x4x8x8xf32>\n--  // CHECK-NEXT: return %[[RESHARD2]] : tensor<8x4x8x8xf32>\n-+  // CHECK: %[[RESHARD1:.*]] = sdy.reshard %arg0 <@mesh_xyz, [{\"y\"}, {}, {}, {}]> : tensor<8x4x8x8xf32>\n-+  // CHECK-NEXT: %[[CHOLESKY:.*]] = stablehlo.cholesky %[[RESHARD1]], lower = true {sdy.sharding = #sdy.sharding_per_value<[<@mesh_xyz, [{\"y\"}, {}, {}, {}]>]>} : tensor<8x4x8x8xf32>\n-+  // CHECK-NEXT: return %[[CHOLESKY]] : tensor<8x4x8x8xf32>\n-   %0 = stablehlo.cholesky %arg0, lower = true {sdy.sharding = #sdy.sharding_per_value<[<@mesh_xyz, [{\"y\"}, {}, {}, {}]>]>} : (tensor<8x4x8x8xf32>) -> tensor<8x4x8x8xf32>\n-   return %0 :  tensor<8x4x8x8xf32>\n- }\n-diff --git a/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/dynamic_slice_dynamic_update_slice.mlir b/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/dynamic_slice_dynamic_update_slice.mlir\n-index 904d776..c12086a 100644\n---- a/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/dynamic_slice_dynamic_update_slice.mlir\n-+++ b/shardy/dialect/sdy/transforms/export/test/insert_explicit_reshards/dynamic_slice_dynamic_update_slice.mlir\n-@@ -42,10 +42,10 @@ func.func @dynamic_update_slice(%arg0: tensor<32x4x8xf32> {sdy.sharding = #sdy.s\n- \n- // CHECK-LABEL: func @dynamic_update_slice_different_input_and_output_sharding\n- func.func @dynamic_update_slice_different_input_and_output_sharding(%arg0: tensor<32x4x8xf32> {sdy.sharding = #sdy.sharding<@mesh, [{}, {\"x\"}, {\"y\"}]>}, %arg1: tensor<32x1x2xf32> {sdy.sharding = #sdy.sharding<@mesh, [{}, {}, {\"y\"}]>}, %arg2: tensor<i32>, %arg3: tensor<i32>, %arg4: tensor<i32>) -> (tensor<32x4x8xf32> {sdy.sharding = #sdy.sharding<@mesh, [{}, {\"y\"}, {\"x\"}]>}){\n--  // CHECK-NEXT: %[[RESHARD0:.*]] = sdy.reshard %arg0 <@mesh, [{}, {\"y\"}, {\"x\"}]> : tensor<32x4x8xf32>\n--  // CHECK-NEXT: %[[RESHARD1:.*]] = sdy.reshard %arg1 <@mesh, [{}, {}, {}]> : tensor<32x1x2xf32>\n--  // CHECK-NEXT: %[[DYNAMIC_UPDATE_SLICE:.*]] = stablehlo.dynamic_update_slice %[[RESHARD0]], %[[RESHARD1]], %arg2, %arg3, %arg4 {sdy.sharding = #sdy.sharding_per_value<[<@mesh, [{}, {\"y\"}, {\"x\"}]>]>} : (tensor<32x4x8xf32>, tensor<32x1x2xf32>, tensor<i32>, tensor<i32>, tensor<i32>) -> tensor<32x4x8xf32>\n--  // CHECK-NEXT: return %[[DYNAMIC_UPDATE_SLICE]] : tensor<32x4x8xf32>\n-+  // CHECK-NEXT: %[[REPLICATED_UPDATE:.*]] = sdy.reshard %arg1 <@mesh, [{}, {}, {}]> : tensor<32x1x2xf32>\n-+  // CHECK-NEXT: %[[DYNAMIC_UPDATE_SLICE:.*]] = stablehlo.dynamic_update_slice %arg0, %[[REPLICATED_UPDATE]], %arg2, %arg3, %arg4 {sdy.sharding = #sdy.sharding_per_value<[<@mesh, [{}, {\"x\"}, {\"y\"}]>]>} : (tensor<32x4x8xf32>, tensor<32x1x2xf32>, tensor<i32>, tensor<i32>, tensor<i32>) -> tensor<32x4x8xf32>\n-+  // CHECK-NEXT: %[[RESHARD:.*]] = sdy.reshard %[[DYNAMIC_UPDATE_SLICE]] <@mesh, [{}, {\"y\"}, {\"x\"}]> : tensor<32x4x8xf32>\n-+  // CHECK-NEXT: return %[[RESHARD]] : tensor<32x4x8xf32>\n-   %0 = stablehlo.dynamic_update_slice %arg0, %arg1, %arg2, %arg3, %arg4 {sdy.sharding = #sdy.sharding_per_value<[<@mesh, [{}, {\"y\"}, {\"x\"}]>]>} : (tensor<32x4x8xf32>, tensor<32x1x2xf32>, tensor<i32>, tensor<i32>, tensor<i32>) -> tensor<32x4x8xf32>\n-   return %0 : tensor<32x4x8xf32>\n- }\n diff --git a/third_party/llvm/generated.patch b/third_party/llvm/generated.patch\n-index 8327093..e25178e 100644\n+index e25178e..37a7256 100644\n --- a/third_party/llvm/generated.patch\n +++ b/third_party/llvm/generated.patch\n-@@ -1,20 +1,17 @@\n+@@ -1,17 +1,29 @@\n  Auto generated patch. Do not edit or delete it, even if empty.\n--diff -ruN --strip-trailing-cr a/utils/bazel/llvm-project-overlay/clang/BUILD.bazel b/utils/bazel/llvm-project-overlay/clang/BUILD.bazel\n----- a/utils/bazel/llvm-project-overlay/clang/BUILD.bazel\n--+++ b/utils/bazel/llvm-project-overlay/clang/BUILD.bazel\n--@@ -1563,7 +1563,6 @@\n--         \":basic\",\n--         \":config\",\n--         \":driver_options_inc_gen\",\n---        \":frontend\",\n--         \":lex\",\n--         \":options\",\n--         \":parse\",\n--@@ -1719,6 +1718,7 @@\n--         \":ast\",\n--         \":basic\",\n--         \":config\",\n--+        \":driver\",\n--         \":driver_options_inc_gen\",\n--         \":edit\",\n--         \":lex\",\n-+diff -ruN --strip-trailing-cr a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n-+--- a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n-++++ b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n-+@@ -4095,6 +4095,12 @@\n-+   llvm::SmallVector<size_t> occludedChildren;\n-+   llvm::sort(\n-+       indices.begin(), indices.end(), [&](const size_t a, const size_t b) {\n-++        // Bail early if we are asked to look at the same index. If we do not\n-++        // bail early, we can end up mistakenly adding indices to\n-++        // occludedChildren. This can occur with some types of libc++ hardening.\n-++        if (a == b)\n-++          return false;\n+-diff -ruN --strip-trailing-cr a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n+---- a/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n+-+++ b/mlir/lib/Target/LLVMIR/Dialect/OpenMP/OpenMPToLLVMIRTranslation.cpp\n+-@@ -4095,6 +4095,12 @@\n+-   llvm::SmallVector<size_t> occludedChildren;\n+-   llvm::sort(\n+-       indices.begin(), indices.end(), [&](const size_t a, const size_t b) {\n+-+        // Bail early if we are asked to look at the same index. If we do not\n+-+        // bail early, we can end up mistakenly adding indices to\n+-+        // occludedChildren. This can occur with some types of libc++ hardening.\n+-+        if (a == b)\n+-+          return false;\n+-+\n+-         auto memberIndicesA = cast<ArrayAttr>(indexAttr[a]);\n+-         auto memberIndicesB = cast<ArrayAttr>(indexAttr[b]);\n++diff -ruN --strip-trailing-cr a/clang/lib/Analysis/ThreadSafety.cpp b/clang/lib/Analysis/ThreadSafety.cpp\n++--- a/clang/lib/Analysis/ThreadSafety.cpp\n+++++ b/clang/lib/Analysis/ThreadSafety.cpp\n++@@ -2820,7 +2820,7 @@\n++         case CFGElement::AutomaticObjectDtor: {\n++           CFGAutomaticObjDtor AD = BI.castAs<CFGAutomaticObjDtor>();\n++           const auto *DD = AD.getDestructorDecl(AC.getASTContext());\n++-          if (!DD->hasAttrs())\n+++          if (!DD || !DD->hasAttrs())\n++             break;\n+  \n++           LocksetBuilder.handleCall(\n++diff -ruN --strip-trailing-cr a/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp b/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n++--- a/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n+++++ b/clang/test/SemaCXX/no-warn-thread-safety-analysis.cpp\n++@@ -0,0 +1,12 @@\n+++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++11 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=0 %s\n+++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++11 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=1 %s\n+++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++17 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=0 %s\n+++// RUN: %clang_cc1 -fsyntax-only -verify -std=c++17 -Wthread-safety -Wthread-safety-pointer -Wthread-safety-beta -Wno-thread-safety-negative -fcxx-exceptions -DUSE_CAPABILITY=1 %s\n+++// expected-no-diagnostics\n ++\n-+         auto memberIndicesA = cast<ArrayAttr>(indexAttr[a]);\n-+         auto memberIndicesB = cast<ArrayAttr>(indexAttr[b]);\n-+ \n+++struct foo {\n+++  ~foo();\n+++};\n+++struct bar : foo {};\n+++struct baz : bar {};\n+++baz foobar(baz a) { return a; }\n diff --git a/third_party/llvm/workspace.bzl b/third_party/llvm/workspace.bzl\n-index 8e6cbc9..215fe72 100644\n+index 215fe72..3b35979 100644\n --- a/third_party/llvm/workspace.bzl\n +++ b/third_party/llvm/workspace.bzl\n @@ -4,8 +4,8 @@ load(\"//third_party:repo.bzl\", \"tf_http_archive\")\n  \n  def repo(name):\n      \"\"\"Imports LLVM.\"\"\"\n--    LLVM_COMMIT = \"dea330b38d9c18b68219abdb52baaa72c9f1103d\"\n--    LLVM_SHA256 = \"0f00dd4e0d61e49051b09169450af0c5ca364bf7e3f015794089455ae8c8555c\"\n-+    LLVM_COMMIT = \"26362c68579dd4375198aae4651b4d5f8a36c715\"\n-+    LLVM_SHA256 = \"1b81809d98940d0a6d4f19ef9e0bf72cd5847b9bbed47bc3517fcf8a40d38fd9\"\n+-    LLVM_COMMIT = \"26362c68579dd4375198aae4651b4d5f8a36c715\"\n+-    LLVM_SHA256 = \"1b81809d98940d0a6d4f19ef9e0bf72cd5847b9bbed47bc3517fcf8a40d38fd9\"\n++    LLVM_COMMIT = \"4f39a4ff0ada92870ca1c2dccad382ea04947da8\"\n++    LLVM_SHA256 = \"264c7cc3e166b840911494a2e94cff2ae8730b56239bd91dc8f65c8dc9468262\"\n  \n      tf_http_archive(\n          name = name,"
        },
        {
            "sha": "76df32925ac410a4530c017466014faf55233319",
            "filename": "third_party/xla/third_party/shardy/workspace.bzl",
            "status": "modified",
            "additions": 2,
            "deletions": 2,
            "changes": 4,
            "blob_url": "https://github.com/tensorflow/tensorflow/blob/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fshardy%2Fworkspace.bzl",
            "raw_url": "https://github.com/tensorflow/tensorflow/raw/9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee/third_party%2Fxla%2Fthird_party%2Fshardy%2Fworkspace.bzl",
            "contents_url": "https://api.github.com/repos/tensorflow/tensorflow/contents/third_party%2Fxla%2Fthird_party%2Fshardy%2Fworkspace.bzl?ref=9b0e9e9f97c5c0ed4cea1276a3d00cfa904baaee",
            "patch": "@@ -3,8 +3,8 @@\n load(\"//third_party:repo.bzl\", \"tf_http_archive\", \"tf_mirror_urls\")\n \n def repo():\n-    SHARDY_COMMIT = \"3f7332e771ff5eba89bb0e1113aceeef8116a181\"\n-    SHARDY_SHA256 = \"7535e2823590036ee898324a0d360e2bbd8dd741cb383f84b089c56d66b0b562\"\n+    SHARDY_COMMIT = \"1f65a631b69e6053f18bdb2d01b5cde0cb2e5f89\"\n+    SHARDY_SHA256 = \"19c5a4902d6c0317dd0362e45ef95ffd877ed0c4d98a7ed7a86fac517d594725\"\n \n     tf_http_archive(\n         name = \"shardy\","
        }
    ],
    "stats": {
        "total": 231,
        "additions": 80,
        "deletions": 151
    }
}